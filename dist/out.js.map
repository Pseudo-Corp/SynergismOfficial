{
  "version": 3,
  "sources": ["../node_modules/pad-end/index.js", "../node_modules/lz-string/libs/lz-string.js", "../node_modules/eventemitter3/index.js", "../node_modules/lodash.clonedeepwith/index.js", "../node_modules/clipboard/dist/clipboard.js", "../node_modules/localforage/dist/localforage.js", "../node_modules/fast-unique-numbers/build/es5/bundle.js", "../node_modules/@ungap/custom-elements/index.js", "../node_modules/break_infinity.js/dist/break_infinity.esm.js", "../src/Synergism.ts", "../node_modules/@babel/runtime/helpers/esm/typeof.js", "../node_modules/@babel/runtime/helpers/esm/classCallCheck.js", "../node_modules/@babel/runtime/helpers/esm/toPrimitive.js", "../node_modules/@babel/runtime/helpers/esm/toPropertyKey.js", "../node_modules/@babel/runtime/helpers/esm/createClass.js", "../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js", "../node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js", "../node_modules/@babel/runtime/helpers/esm/inherits.js", "../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js", "../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js", "../node_modules/@babel/runtime/helpers/esm/defineProperty.js", "../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js", "../node_modules/@babel/runtime/helpers/esm/iterableToArray.js", "../node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js", "../node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js", "../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js", "../node_modules/@babel/runtime/helpers/esm/toArray.js", "../node_modules/i18next/dist/esm/i18next.js", "../src/Cache/DOM.ts", "../src/Events.ts", "../src/Themes.ts", "../src/DynamicUpgrade.ts", "../src/Utility.ts", "../src/Automation.ts", "../src/Upgrades.ts", "../src/Buy.ts", "../src/Hypercubes.ts", "../src/PlatonicCubes.ts", "../src/Quark.ts", "../src/Tesseracts.ts", "../src/CubeExperimental.ts", "../src/Cubes.ts", "../src/Hepteracts.ts", "../src/ImportExport.ts", "../src/Config.ts", "../src/Runes.ts", "../src/Shop.ts", "../src/Talismans.ts", "../src/Event.ts", "../src/Statistics.ts", "../src/UpdateVisuals.ts", "../src/Helper.ts", "../node_modules/zod/lib/index.mjs", "../src/BlueberryUpgrades.ts", "../src/Octeracts.ts", "../src/SingularityChallenges.ts", "../src/saves/PlayerSchema.ts", "../src/saves/PlayerJsonSchema.ts", "../src/Platonic.ts", "../node_modules/worker-timers-broker/src/module.ts", "../node_modules/worker-timers-broker/src/guards/call-notification.ts", "../node_modules/worker-timers-broker/src/guards/clear-response.ts", "../node_modules/worker-timers/src/factories/load-or-return-broker.ts", "../node_modules/worker-timers/src/worker/worker.ts", "../node_modules/worker-timers/src/module.ts", "../src/Timers.ts", "../src/Reset.ts", "../src/Ants.ts", "../src/Hotkeys.ts", "../src/Tabs.ts", "../src/Variables.ts", "../src/singularity.ts", "../src/Research.ts", "../src/Toggles.ts", "../src/Corruptions.ts", "../src/UpdateHTML.ts", "../src/Achievements.ts", "../src/StatCache.ts", "../src/Calculate.ts", "../src/Challenges.ts", "../src/History.ts", "../src/Summary.ts", "../src/EventListeners.ts", "../src/Tax.ts", "../src/Plugins/ColorText.ts", "../src/i18n.ts", "../src/Login.ts"],
  "sourcesContent": ["'use strict';\n\nmodule.exports = function (string, maxLength, fillString) {\n\n  if (string == null || maxLength == null) {\n    return string;\n  }\n\n  var result    = String(string);\n  var targetLen = typeof maxLength === 'number'\n    ? maxLength\n    : parseInt(maxLength, 10);\n\n  if (isNaN(targetLen) || !isFinite(targetLen)) {\n    return result;\n  }\n\n\n  var length = result.length;\n  if (length >= targetLen) {\n    return result;\n  }\n\n\n  var filled = fillString == null ? '' : String(fillString);\n  if (filled === '') {\n    filled = ' ';\n  }\n\n\n  var fillLen = targetLen - length;\n\n  while (filled.length < fillLen) {\n    filled += filled;\n  }\n\n  var truncated = filled.length > fillLen ? filled.substr(0, fillLen) : filled;\n\n  return result + truncated;\n};\n", "// Copyright (c) 2013 Pieroxy <pieroxy@pieroxy.net>\n// This work is free. You can redistribute it and/or modify it\n// under the terms of the WTFPL, Version 2\n// For more information see LICENSE.txt or http://www.wtfpl.net/\n//\n// For more information, the home page:\n// http://pieroxy.net/blog/pages/lz-string/testing.html\n//\n// LZ-based compression algorithm, version 1.4.5\nvar LZString = (function() {\n\n// private property\nvar f = String.fromCharCode;\nvar keyStrBase64 = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\nvar keyStrUriSafe = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$\";\nvar baseReverseDic = {};\n\nfunction getBaseValue(alphabet, character) {\n  if (!baseReverseDic[alphabet]) {\n    baseReverseDic[alphabet] = {};\n    for (var i=0 ; i<alphabet.length ; i++) {\n      baseReverseDic[alphabet][alphabet.charAt(i)] = i;\n    }\n  }\n  return baseReverseDic[alphabet][character];\n}\n\nvar LZString = {\n  compressToBase64 : function (input) {\n    if (input == null) return \"\";\n    var res = LZString._compress(input, 6, function(a){return keyStrBase64.charAt(a);});\n    switch (res.length % 4) { // To produce valid Base64\n    default: // When could this happen ?\n    case 0 : return res;\n    case 1 : return res+\"===\";\n    case 2 : return res+\"==\";\n    case 3 : return res+\"=\";\n    }\n  },\n\n  decompressFromBase64 : function (input) {\n    if (input == null) return \"\";\n    if (input == \"\") return null;\n    return LZString._decompress(input.length, 32, function(index) { return getBaseValue(keyStrBase64, input.charAt(index)); });\n  },\n\n  compressToUTF16 : function (input) {\n    if (input == null) return \"\";\n    return LZString._compress(input, 15, function(a){return f(a+32);}) + \" \";\n  },\n\n  decompressFromUTF16: function (compressed) {\n    if (compressed == null) return \"\";\n    if (compressed == \"\") return null;\n    return LZString._decompress(compressed.length, 16384, function(index) { return compressed.charCodeAt(index) - 32; });\n  },\n\n  //compress into uint8array (UCS-2 big endian format)\n  compressToUint8Array: function (uncompressed) {\n    var compressed = LZString.compress(uncompressed);\n    var buf=new Uint8Array(compressed.length*2); // 2 bytes per character\n\n    for (var i=0, TotalLen=compressed.length; i<TotalLen; i++) {\n      var current_value = compressed.charCodeAt(i);\n      buf[i*2] = current_value >>> 8;\n      buf[i*2+1] = current_value % 256;\n    }\n    return buf;\n  },\n\n  //decompress from uint8array (UCS-2 big endian format)\n  decompressFromUint8Array:function (compressed) {\n    if (compressed===null || compressed===undefined){\n        return LZString.decompress(compressed);\n    } else {\n        var buf=new Array(compressed.length/2); // 2 bytes per character\n        for (var i=0, TotalLen=buf.length; i<TotalLen; i++) {\n          buf[i]=compressed[i*2]*256+compressed[i*2+1];\n        }\n\n        var result = [];\n        buf.forEach(function (c) {\n          result.push(f(c));\n        });\n        return LZString.decompress(result.join(''));\n\n    }\n\n  },\n\n\n  //compress into a string that is already URI encoded\n  compressToEncodedURIComponent: function (input) {\n    if (input == null) return \"\";\n    return LZString._compress(input, 6, function(a){return keyStrUriSafe.charAt(a);});\n  },\n\n  //decompress from an output of compressToEncodedURIComponent\n  decompressFromEncodedURIComponent:function (input) {\n    if (input == null) return \"\";\n    if (input == \"\") return null;\n    input = input.replace(/ /g, \"+\");\n    return LZString._decompress(input.length, 32, function(index) { return getBaseValue(keyStrUriSafe, input.charAt(index)); });\n  },\n\n  compress: function (uncompressed) {\n    return LZString._compress(uncompressed, 16, function(a){return f(a);});\n  },\n  _compress: function (uncompressed, bitsPerChar, getCharFromInt) {\n    if (uncompressed == null) return \"\";\n    var i, value,\n        context_dictionary= {},\n        context_dictionaryToCreate= {},\n        context_c=\"\",\n        context_wc=\"\",\n        context_w=\"\",\n        context_enlargeIn= 2, // Compensate for the first entry which should not count\n        context_dictSize= 3,\n        context_numBits= 2,\n        context_data=[],\n        context_data_val=0,\n        context_data_position=0,\n        ii;\n\n    for (ii = 0; ii < uncompressed.length; ii += 1) {\n      context_c = uncompressed.charAt(ii);\n      if (!Object.prototype.hasOwnProperty.call(context_dictionary,context_c)) {\n        context_dictionary[context_c] = context_dictSize++;\n        context_dictionaryToCreate[context_c] = true;\n      }\n\n      context_wc = context_w + context_c;\n      if (Object.prototype.hasOwnProperty.call(context_dictionary,context_wc)) {\n        context_w = context_wc;\n      } else {\n        if (Object.prototype.hasOwnProperty.call(context_dictionaryToCreate,context_w)) {\n          if (context_w.charCodeAt(0)<256) {\n            for (i=0 ; i<context_numBits ; i++) {\n              context_data_val = (context_data_val << 1);\n              if (context_data_position == bitsPerChar-1) {\n                context_data_position = 0;\n                context_data.push(getCharFromInt(context_data_val));\n                context_data_val = 0;\n              } else {\n                context_data_position++;\n              }\n            }\n            value = context_w.charCodeAt(0);\n            for (i=0 ; i<8 ; i++) {\n              context_data_val = (context_data_val << 1) | (value&1);\n              if (context_data_position == bitsPerChar-1) {\n                context_data_position = 0;\n                context_data.push(getCharFromInt(context_data_val));\n                context_data_val = 0;\n              } else {\n                context_data_position++;\n              }\n              value = value >> 1;\n            }\n          } else {\n            value = 1;\n            for (i=0 ; i<context_numBits ; i++) {\n              context_data_val = (context_data_val << 1) | value;\n              if (context_data_position ==bitsPerChar-1) {\n                context_data_position = 0;\n                context_data.push(getCharFromInt(context_data_val));\n                context_data_val = 0;\n              } else {\n                context_data_position++;\n              }\n              value = 0;\n            }\n            value = context_w.charCodeAt(0);\n            for (i=0 ; i<16 ; i++) {\n              context_data_val = (context_data_val << 1) | (value&1);\n              if (context_data_position == bitsPerChar-1) {\n                context_data_position = 0;\n                context_data.push(getCharFromInt(context_data_val));\n                context_data_val = 0;\n              } else {\n                context_data_position++;\n              }\n              value = value >> 1;\n            }\n          }\n          context_enlargeIn--;\n          if (context_enlargeIn == 0) {\n            context_enlargeIn = Math.pow(2, context_numBits);\n            context_numBits++;\n          }\n          delete context_dictionaryToCreate[context_w];\n        } else {\n          value = context_dictionary[context_w];\n          for (i=0 ; i<context_numBits ; i++) {\n            context_data_val = (context_data_val << 1) | (value&1);\n            if (context_data_position == bitsPerChar-1) {\n              context_data_position = 0;\n              context_data.push(getCharFromInt(context_data_val));\n              context_data_val = 0;\n            } else {\n              context_data_position++;\n            }\n            value = value >> 1;\n          }\n\n\n        }\n        context_enlargeIn--;\n        if (context_enlargeIn == 0) {\n          context_enlargeIn = Math.pow(2, context_numBits);\n          context_numBits++;\n        }\n        // Add wc to the dictionary.\n        context_dictionary[context_wc] = context_dictSize++;\n        context_w = String(context_c);\n      }\n    }\n\n    // Output the code for w.\n    if (context_w !== \"\") {\n      if (Object.prototype.hasOwnProperty.call(context_dictionaryToCreate,context_w)) {\n        if (context_w.charCodeAt(0)<256) {\n          for (i=0 ; i<context_numBits ; i++) {\n            context_data_val = (context_data_val << 1);\n            if (context_data_position == bitsPerChar-1) {\n              context_data_position = 0;\n              context_data.push(getCharFromInt(context_data_val));\n              context_data_val = 0;\n            } else {\n              context_data_position++;\n            }\n          }\n          value = context_w.charCodeAt(0);\n          for (i=0 ; i<8 ; i++) {\n            context_data_val = (context_data_val << 1) | (value&1);\n            if (context_data_position == bitsPerChar-1) {\n              context_data_position = 0;\n              context_data.push(getCharFromInt(context_data_val));\n              context_data_val = 0;\n            } else {\n              context_data_position++;\n            }\n            value = value >> 1;\n          }\n        } else {\n          value = 1;\n          for (i=0 ; i<context_numBits ; i++) {\n            context_data_val = (context_data_val << 1) | value;\n            if (context_data_position == bitsPerChar-1) {\n              context_data_position = 0;\n              context_data.push(getCharFromInt(context_data_val));\n              context_data_val = 0;\n            } else {\n              context_data_position++;\n            }\n            value = 0;\n          }\n          value = context_w.charCodeAt(0);\n          for (i=0 ; i<16 ; i++) {\n            context_data_val = (context_data_val << 1) | (value&1);\n            if (context_data_position == bitsPerChar-1) {\n              context_data_position = 0;\n              context_data.push(getCharFromInt(context_data_val));\n              context_data_val = 0;\n            } else {\n              context_data_position++;\n            }\n            value = value >> 1;\n          }\n        }\n        context_enlargeIn--;\n        if (context_enlargeIn == 0) {\n          context_enlargeIn = Math.pow(2, context_numBits);\n          context_numBits++;\n        }\n        delete context_dictionaryToCreate[context_w];\n      } else {\n        value = context_dictionary[context_w];\n        for (i=0 ; i<context_numBits ; i++) {\n          context_data_val = (context_data_val << 1) | (value&1);\n          if (context_data_position == bitsPerChar-1) {\n            context_data_position = 0;\n            context_data.push(getCharFromInt(context_data_val));\n            context_data_val = 0;\n          } else {\n            context_data_position++;\n          }\n          value = value >> 1;\n        }\n\n\n      }\n      context_enlargeIn--;\n      if (context_enlargeIn == 0) {\n        context_enlargeIn = Math.pow(2, context_numBits);\n        context_numBits++;\n      }\n    }\n\n    // Mark the end of the stream\n    value = 2;\n    for (i=0 ; i<context_numBits ; i++) {\n      context_data_val = (context_data_val << 1) | (value&1);\n      if (context_data_position == bitsPerChar-1) {\n        context_data_position = 0;\n        context_data.push(getCharFromInt(context_data_val));\n        context_data_val = 0;\n      } else {\n        context_data_position++;\n      }\n      value = value >> 1;\n    }\n\n    // Flush the last char\n    while (true) {\n      context_data_val = (context_data_val << 1);\n      if (context_data_position == bitsPerChar-1) {\n        context_data.push(getCharFromInt(context_data_val));\n        break;\n      }\n      else context_data_position++;\n    }\n    return context_data.join('');\n  },\n\n  decompress: function (compressed) {\n    if (compressed == null) return \"\";\n    if (compressed == \"\") return null;\n    return LZString._decompress(compressed.length, 32768, function(index) { return compressed.charCodeAt(index); });\n  },\n\n  _decompress: function (length, resetValue, getNextValue) {\n    var dictionary = [],\n        next,\n        enlargeIn = 4,\n        dictSize = 4,\n        numBits = 3,\n        entry = \"\",\n        result = [],\n        i,\n        w,\n        bits, resb, maxpower, power,\n        c,\n        data = {val:getNextValue(0), position:resetValue, index:1};\n\n    for (i = 0; i < 3; i += 1) {\n      dictionary[i] = i;\n    }\n\n    bits = 0;\n    maxpower = Math.pow(2,2);\n    power=1;\n    while (power!=maxpower) {\n      resb = data.val & data.position;\n      data.position >>= 1;\n      if (data.position == 0) {\n        data.position = resetValue;\n        data.val = getNextValue(data.index++);\n      }\n      bits |= (resb>0 ? 1 : 0) * power;\n      power <<= 1;\n    }\n\n    switch (next = bits) {\n      case 0:\n          bits = 0;\n          maxpower = Math.pow(2,8);\n          power=1;\n          while (power!=maxpower) {\n            resb = data.val & data.position;\n            data.position >>= 1;\n            if (data.position == 0) {\n              data.position = resetValue;\n              data.val = getNextValue(data.index++);\n            }\n            bits |= (resb>0 ? 1 : 0) * power;\n            power <<= 1;\n          }\n        c = f(bits);\n        break;\n      case 1:\n          bits = 0;\n          maxpower = Math.pow(2,16);\n          power=1;\n          while (power!=maxpower) {\n            resb = data.val & data.position;\n            data.position >>= 1;\n            if (data.position == 0) {\n              data.position = resetValue;\n              data.val = getNextValue(data.index++);\n            }\n            bits |= (resb>0 ? 1 : 0) * power;\n            power <<= 1;\n          }\n        c = f(bits);\n        break;\n      case 2:\n        return \"\";\n    }\n    dictionary[3] = c;\n    w = c;\n    result.push(c);\n    while (true) {\n      if (data.index > length) {\n        return \"\";\n      }\n\n      bits = 0;\n      maxpower = Math.pow(2,numBits);\n      power=1;\n      while (power!=maxpower) {\n        resb = data.val & data.position;\n        data.position >>= 1;\n        if (data.position == 0) {\n          data.position = resetValue;\n          data.val = getNextValue(data.index++);\n        }\n        bits |= (resb>0 ? 1 : 0) * power;\n        power <<= 1;\n      }\n\n      switch (c = bits) {\n        case 0:\n          bits = 0;\n          maxpower = Math.pow(2,8);\n          power=1;\n          while (power!=maxpower) {\n            resb = data.val & data.position;\n            data.position >>= 1;\n            if (data.position == 0) {\n              data.position = resetValue;\n              data.val = getNextValue(data.index++);\n            }\n            bits |= (resb>0 ? 1 : 0) * power;\n            power <<= 1;\n          }\n\n          dictionary[dictSize++] = f(bits);\n          c = dictSize-1;\n          enlargeIn--;\n          break;\n        case 1:\n          bits = 0;\n          maxpower = Math.pow(2,16);\n          power=1;\n          while (power!=maxpower) {\n            resb = data.val & data.position;\n            data.position >>= 1;\n            if (data.position == 0) {\n              data.position = resetValue;\n              data.val = getNextValue(data.index++);\n            }\n            bits |= (resb>0 ? 1 : 0) * power;\n            power <<= 1;\n          }\n          dictionary[dictSize++] = f(bits);\n          c = dictSize-1;\n          enlargeIn--;\n          break;\n        case 2:\n          return result.join('');\n      }\n\n      if (enlargeIn == 0) {\n        enlargeIn = Math.pow(2, numBits);\n        numBits++;\n      }\n\n      if (dictionary[c]) {\n        entry = dictionary[c];\n      } else {\n        if (c === dictSize) {\n          entry = w + w.charAt(0);\n        } else {\n          return null;\n        }\n      }\n      result.push(entry);\n\n      // Add w+entry[0] to the dictionary.\n      dictionary[dictSize++] = w + entry.charAt(0);\n      enlargeIn--;\n\n      w = entry;\n\n      if (enlargeIn == 0) {\n        enlargeIn = Math.pow(2, numBits);\n        numBits++;\n      }\n\n    }\n  }\n};\n  return LZString;\n})();\n\nif (typeof define === 'function' && define.amd) {\n  define(function () { return LZString; });\n} else if( typeof module !== 'undefined' && module != null ) {\n  module.exports = LZString\n} else if( typeof angular !== 'undefined' && angular != null ) {\n  angular.module('LZString', [])\n  .factory('LZString', function () {\n    return LZString;\n  });\n}\n", "'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n", "/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to match `RegExp` flags from their coerced string values. */\nvar reFlags = /\\w*$/;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/** Used to identify `toStringTag` values supported by `_.clone`. */\nvar cloneableTags = {};\ncloneableTags[argsTag] = cloneableTags[arrayTag] =\ncloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] =\ncloneableTags[boolTag] = cloneableTags[dateTag] =\ncloneableTags[float32Tag] = cloneableTags[float64Tag] =\ncloneableTags[int8Tag] = cloneableTags[int16Tag] =\ncloneableTags[int32Tag] = cloneableTags[mapTag] =\ncloneableTags[numberTag] = cloneableTags[objectTag] =\ncloneableTags[regexpTag] = cloneableTags[setTag] =\ncloneableTags[stringTag] = cloneableTags[symbolTag] =\ncloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\ncloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\ncloneableTags[errorTag] = cloneableTags[funcTag] =\ncloneableTags[weakMapTag] = false;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/**\n * Adds the key-value `pair` to `map`.\n *\n * @private\n * @param {Object} map The map to modify.\n * @param {Array} pair The key-value pair to add.\n * @returns {Object} Returns `map`.\n */\nfunction addMapEntry(map, pair) {\n  // Don't return `map.set` because it's not chainable in IE 11.\n  map.set(pair[0], pair[1]);\n  return map;\n}\n\n/**\n * Adds `value` to `set`.\n *\n * @private\n * @param {Object} set The set to modify.\n * @param {*} value The value to add.\n * @returns {Object} Returns `set`.\n */\nfunction addSetEntry(set, value) {\n  // Don't return `set.add` because it's not chainable in IE 11.\n  set.add(value);\n  return set;\n}\n\n/**\n * A specialized version of `_.forEach` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns `array`.\n */\nfunction arrayEach(array, iteratee) {\n  var index = -1,\n      length = array ? array.length : 0;\n\n  while (++index < length) {\n    if (iteratee(array[index], index, array) === false) {\n      break;\n    }\n  }\n  return array;\n}\n\n/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\n/**\n * A specialized version of `_.reduce` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {*} [accumulator] The initial value.\n * @param {boolean} [initAccum] Specify using the first element of `array` as\n *  the initial value.\n * @returns {*} Returns the accumulated value.\n */\nfunction arrayReduce(array, iteratee, accumulator, initAccum) {\n  var index = -1,\n      length = array ? array.length : 0;\n\n  if (initAccum && length) {\n    accumulator = array[++index];\n  }\n  while (++index < length) {\n    accumulator = iteratee(accumulator, array[index], index, array);\n  }\n  return accumulator;\n}\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Checks if `value` is a host object in IE < 9.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a host object, else `false`.\n */\nfunction isHostObject(value) {\n  // Many host objects are `Object` objects that can coerce to strings\n  // despite having improperly defined `toString` methods.\n  var result = false;\n  if (value != null && typeof value.toString != 'function') {\n    try {\n      result = !!(value + '');\n    } catch (e) {}\n  }\n  return result;\n}\n\n/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    Symbol = root.Symbol,\n    Uint8Array = root.Uint8Array,\n    getPrototype = overArg(Object.getPrototypeOf, Object),\n    objectCreate = Object.create,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable,\n    splice = arrayProto.splice;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols,\n    nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n    nativeKeys = overArg(Object.keys, Object);\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView'),\n    Map = getNative(root, 'Map'),\n    Promise = getNative(root, 'Promise'),\n    Set = getNative(root, 'Set'),\n    WeakMap = getNative(root, 'WeakMap'),\n    nativeCreate = getNative(Object, 'create');\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  return this.has(key) && delete this.__data__[key];\n}\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? data[key] !== undefined : hasOwnProperty.call(data, key);\n}\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n}\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  return getMapData(this, key)['delete'](key);\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  getMapData(this, key).set(key, value);\n  return this;\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  this.__data__ = new ListCache(entries);\n}\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n}\n\n/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  return this.__data__['delete'](key);\n}\n\n/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\n/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var cache = this.__data__;\n  if (cache instanceof ListCache) {\n    var pairs = cache.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      return this;\n    }\n    cache = this.__data__ = new MapCache(pairs);\n  }\n  cache.set(key, value);\n  return this;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  // Safari 9 makes `arguments.length` enumerable in strict mode.\n  var result = (isArray(value) || isArguments(value))\n    ? baseTimes(value.length, String)\n    : [];\n\n  var length = result.length,\n      skipIndexes = !!length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (key == 'length' || isIndex(key, length)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    object[key] = value;\n  }\n}\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `_.assign` without support for multiple sources\n * or `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @returns {Object} Returns `object`.\n */\nfunction baseAssign(object, source) {\n  return object && copyObject(source, keys(source), object);\n}\n\n/**\n * The base implementation of `_.clone` and `_.cloneDeep` which tracks\n * traversed objects.\n *\n * @private\n * @param {*} value The value to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @param {boolean} [isFull] Specify a clone including symbols.\n * @param {Function} [customizer] The function to customize cloning.\n * @param {string} [key] The key of `value`.\n * @param {Object} [object] The parent object of `value`.\n * @param {Object} [stack] Tracks traversed objects and their clone counterparts.\n * @returns {*} Returns the cloned value.\n */\nfunction baseClone(value, isDeep, isFull, customizer, key, object, stack) {\n  var result;\n  if (customizer) {\n    result = object ? customizer(value, key, object, stack) : customizer(value);\n  }\n  if (result !== undefined) {\n    return result;\n  }\n  if (!isObject(value)) {\n    return value;\n  }\n  var isArr = isArray(value);\n  if (isArr) {\n    result = initCloneArray(value);\n    if (!isDeep) {\n      return copyArray(value, result);\n    }\n  } else {\n    var tag = getTag(value),\n        isFunc = tag == funcTag || tag == genTag;\n\n    if (isBuffer(value)) {\n      return cloneBuffer(value, isDeep);\n    }\n    if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n      if (isHostObject(value)) {\n        return object ? value : {};\n      }\n      result = initCloneObject(isFunc ? {} : value);\n      if (!isDeep) {\n        return copySymbols(value, baseAssign(result, value));\n      }\n    } else {\n      if (!cloneableTags[tag]) {\n        return object ? value : {};\n      }\n      result = initCloneByTag(value, tag, baseClone, isDeep);\n    }\n  }\n  // Check for circular references and return its corresponding clone.\n  stack || (stack = new Stack);\n  var stacked = stack.get(value);\n  if (stacked) {\n    return stacked;\n  }\n  stack.set(value, result);\n\n  if (!isArr) {\n    var props = isFull ? getAllKeys(value) : keys(value);\n  }\n  arrayEach(props || value, function(subValue, key) {\n    if (props) {\n      key = subValue;\n      subValue = value[key];\n    }\n    // Recursively populate clone (susceptible to call stack limits).\n    assignValue(result, key, baseClone(subValue, isDeep, isFull, customizer, key, value, stack));\n  });\n  return result;\n}\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} prototype The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nfunction baseCreate(proto) {\n  return isObject(proto) ? objectCreate(proto) : {};\n}\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\n/**\n * The base implementation of `getTag`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  return objectToString.call(value);\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = (isFunction(value) || isHostObject(value)) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Creates a clone of  `buffer`.\n *\n * @private\n * @param {Buffer} buffer The buffer to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Buffer} Returns the cloned buffer.\n */\nfunction cloneBuffer(buffer, isDeep) {\n  if (isDeep) {\n    return buffer.slice();\n  }\n  var result = new buffer.constructor(buffer.length);\n  buffer.copy(result);\n  return result;\n}\n\n/**\n * Creates a clone of `arrayBuffer`.\n *\n * @private\n * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n * @returns {ArrayBuffer} Returns the cloned array buffer.\n */\nfunction cloneArrayBuffer(arrayBuffer) {\n  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n  new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n  return result;\n}\n\n/**\n * Creates a clone of `dataView`.\n *\n * @private\n * @param {Object} dataView The data view to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned data view.\n */\nfunction cloneDataView(dataView, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;\n  return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\n}\n\n/**\n * Creates a clone of `map`.\n *\n * @private\n * @param {Object} map The map to clone.\n * @param {Function} cloneFunc The function to clone values.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned map.\n */\nfunction cloneMap(map, isDeep, cloneFunc) {\n  var array = isDeep ? cloneFunc(mapToArray(map), true) : mapToArray(map);\n  return arrayReduce(array, addMapEntry, new map.constructor);\n}\n\n/**\n * Creates a clone of `regexp`.\n *\n * @private\n * @param {Object} regexp The regexp to clone.\n * @returns {Object} Returns the cloned regexp.\n */\nfunction cloneRegExp(regexp) {\n  var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n  result.lastIndex = regexp.lastIndex;\n  return result;\n}\n\n/**\n * Creates a clone of `set`.\n *\n * @private\n * @param {Object} set The set to clone.\n * @param {Function} cloneFunc The function to clone values.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned set.\n */\nfunction cloneSet(set, isDeep, cloneFunc) {\n  var array = isDeep ? cloneFunc(setToArray(set), true) : setToArray(set);\n  return arrayReduce(array, addSetEntry, new set.constructor);\n}\n\n/**\n * Creates a clone of the `symbol` object.\n *\n * @private\n * @param {Object} symbol The symbol object to clone.\n * @returns {Object} Returns the cloned symbol object.\n */\nfunction cloneSymbol(symbol) {\n  return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};\n}\n\n/**\n * Creates a clone of `typedArray`.\n *\n * @private\n * @param {Object} typedArray The typed array to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned typed array.\n */\nfunction cloneTypedArray(typedArray, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n}\n\n/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    assignValue(object, key, newValue === undefined ? source[key] : newValue);\n  }\n  return object;\n}\n\n/**\n * Copies own symbol properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy symbols from.\n * @param {Object} [object={}] The object to copy symbols to.\n * @returns {Object} Returns `object`.\n */\nfunction copySymbols(source, object) {\n  return copyObject(source, getSymbols(source), object);\n}\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * Creates an array of the own enumerable symbol properties of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = nativeGetSymbols ? overArg(nativeGetSymbols, Object) : stubArray;\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11,\n// for data views in Edge < 14, and promises in Node.js.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = objectToString.call(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : undefined;\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\n/**\n * Initializes an array clone.\n *\n * @private\n * @param {Array} array The array to clone.\n * @returns {Array} Returns the initialized clone.\n */\nfunction initCloneArray(array) {\n  var length = array.length,\n      result = array.constructor(length);\n\n  // Add properties assigned by `RegExp#exec`.\n  if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n    result.index = array.index;\n    result.input = array.input;\n  }\n  return result;\n}\n\n/**\n * Initializes an object clone.\n *\n * @private\n * @param {Object} object The object to clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneObject(object) {\n  return (typeof object.constructor == 'function' && !isPrototype(object))\n    ? baseCreate(getPrototype(object))\n    : {};\n}\n\n/**\n * Initializes an object clone based on its `toStringTag`.\n *\n * **Note:** This function only supports cloning values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to clone.\n * @param {string} tag The `toStringTag` of the object to clone.\n * @param {Function} cloneFunc The function to clone values.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneByTag(object, tag, cloneFunc, isDeep) {\n  var Ctor = object.constructor;\n  switch (tag) {\n    case arrayBufferTag:\n      return cloneArrayBuffer(object);\n\n    case boolTag:\n    case dateTag:\n      return new Ctor(+object);\n\n    case dataViewTag:\n      return cloneDataView(object, isDeep);\n\n    case float32Tag: case float64Tag:\n    case int8Tag: case int16Tag: case int32Tag:\n    case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n      return cloneTypedArray(object, isDeep);\n\n    case mapTag:\n      return cloneMap(object, isDeep, cloneFunc);\n\n    case numberTag:\n    case stringTag:\n      return new Ctor(object);\n\n    case regexpTag:\n      return cloneRegExp(object);\n\n    case setTag:\n      return cloneSet(object, isDeep, cloneFunc);\n\n    case symbolTag:\n      return cloneSymbol(object);\n  }\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to process.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * This method is like `_.cloneWith` except that it recursively clones `value`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to recursively clone.\n * @param {Function} [customizer] The function to customize cloning.\n * @returns {*} Returns the deep cloned value.\n * @see _.cloneWith\n * @example\n *\n * function customizer(value) {\n *   if (_.isElement(value)) {\n *     return value.cloneNode(true);\n *   }\n * }\n *\n * var el = _.cloneDeepWith(document.body, customizer);\n *\n * console.log(el === document.body);\n * // => false\n * console.log(el.nodeName);\n * // => 'BODY'\n * console.log(el.childNodes.length);\n * // => 20\n */\nfunction cloneDeepWith(value, customizer) {\n  return baseClone(value, true, true, customizer);\n}\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nfunction isArguments(value) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&\n    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\n/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\n/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = cloneDeepWith;\n", "/*!\n * clipboard.js v2.0.11\n * https://clipboardjs.com/\n *\n * Licensed MIT \u00A9 Zeno Rocha\n */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ClipboardJS\"] = factory();\n\telse\n\t\troot[\"ClipboardJS\"] = factory();\n})(this, function() {\nreturn /******/ (function() { // webpackBootstrap\n/******/ \tvar __webpack_modules__ = ({\n\n/***/ 686:\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  \"default\": function() { return /* binding */ clipboard; }\n});\n\n// EXTERNAL MODULE: ./node_modules/tiny-emitter/index.js\nvar tiny_emitter = __webpack_require__(279);\nvar tiny_emitter_default = /*#__PURE__*/__webpack_require__.n(tiny_emitter);\n// EXTERNAL MODULE: ./node_modules/good-listener/src/listen.js\nvar listen = __webpack_require__(370);\nvar listen_default = /*#__PURE__*/__webpack_require__.n(listen);\n// EXTERNAL MODULE: ./node_modules/select/src/select.js\nvar src_select = __webpack_require__(817);\nvar select_default = /*#__PURE__*/__webpack_require__.n(src_select);\n;// CONCATENATED MODULE: ./src/common/command.js\n/**\n * Executes a given operation type.\n * @param {String} type\n * @return {Boolean}\n */\nfunction command(type) {\n  try {\n    return document.execCommand(type);\n  } catch (err) {\n    return false;\n  }\n}\n;// CONCATENATED MODULE: ./src/actions/cut.js\n\n\n/**\n * Cut action wrapper.\n * @param {String|HTMLElement} target\n * @return {String}\n */\n\nvar ClipboardActionCut = function ClipboardActionCut(target) {\n  var selectedText = select_default()(target);\n  command('cut');\n  return selectedText;\n};\n\n/* harmony default export */ var actions_cut = (ClipboardActionCut);\n;// CONCATENATED MODULE: ./src/common/create-fake-element.js\n/**\n * Creates a fake textarea element with a value.\n * @param {String} value\n * @return {HTMLElement}\n */\nfunction createFakeElement(value) {\n  var isRTL = document.documentElement.getAttribute('dir') === 'rtl';\n  var fakeElement = document.createElement('textarea'); // Prevent zooming on iOS\n\n  fakeElement.style.fontSize = '12pt'; // Reset box model\n\n  fakeElement.style.border = '0';\n  fakeElement.style.padding = '0';\n  fakeElement.style.margin = '0'; // Move element out of screen horizontally\n\n  fakeElement.style.position = 'absolute';\n  fakeElement.style[isRTL ? 'right' : 'left'] = '-9999px'; // Move element to the same position vertically\n\n  var yPosition = window.pageYOffset || document.documentElement.scrollTop;\n  fakeElement.style.top = \"\".concat(yPosition, \"px\");\n  fakeElement.setAttribute('readonly', '');\n  fakeElement.value = value;\n  return fakeElement;\n}\n;// CONCATENATED MODULE: ./src/actions/copy.js\n\n\n\n/**\n * Create fake copy action wrapper using a fake element.\n * @param {String} target\n * @param {Object} options\n * @return {String}\n */\n\nvar fakeCopyAction = function fakeCopyAction(value, options) {\n  var fakeElement = createFakeElement(value);\n  options.container.appendChild(fakeElement);\n  var selectedText = select_default()(fakeElement);\n  command('copy');\n  fakeElement.remove();\n  return selectedText;\n};\n/**\n * Copy action wrapper.\n * @param {String|HTMLElement} target\n * @param {Object} options\n * @return {String}\n */\n\n\nvar ClipboardActionCopy = function ClipboardActionCopy(target) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n    container: document.body\n  };\n  var selectedText = '';\n\n  if (typeof target === 'string') {\n    selectedText = fakeCopyAction(target, options);\n  } else if (target instanceof HTMLInputElement && !['text', 'search', 'url', 'tel', 'password'].includes(target === null || target === void 0 ? void 0 : target.type)) {\n    // If input type doesn't support `setSelectionRange`. Simulate it. https://developer.mozilla.org/en-US/docs/Web/API/HTMLInputElement/setSelectionRange\n    selectedText = fakeCopyAction(target.value, options);\n  } else {\n    selectedText = select_default()(target);\n    command('copy');\n  }\n\n  return selectedText;\n};\n\n/* harmony default export */ var actions_copy = (ClipboardActionCopy);\n;// CONCATENATED MODULE: ./src/actions/default.js\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n\n\n/**\n * Inner function which performs selection from either `text` or `target`\n * properties and then executes copy or cut operations.\n * @param {Object} options\n */\n\nvar ClipboardActionDefault = function ClipboardActionDefault() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  // Defines base properties passed from constructor.\n  var _options$action = options.action,\n      action = _options$action === void 0 ? 'copy' : _options$action,\n      container = options.container,\n      target = options.target,\n      text = options.text; // Sets the `action` to be performed which can be either 'copy' or 'cut'.\n\n  if (action !== 'copy' && action !== 'cut') {\n    throw new Error('Invalid \"action\" value, use either \"copy\" or \"cut\"');\n  } // Sets the `target` property using an element that will be have its content copied.\n\n\n  if (target !== undefined) {\n    if (target && _typeof(target) === 'object' && target.nodeType === 1) {\n      if (action === 'copy' && target.hasAttribute('disabled')) {\n        throw new Error('Invalid \"target\" attribute. Please use \"readonly\" instead of \"disabled\" attribute');\n      }\n\n      if (action === 'cut' && (target.hasAttribute('readonly') || target.hasAttribute('disabled'))) {\n        throw new Error('Invalid \"target\" attribute. You can\\'t cut text from elements with \"readonly\" or \"disabled\" attributes');\n      }\n    } else {\n      throw new Error('Invalid \"target\" value, use a valid Element');\n    }\n  } // Define selection strategy based on `text` property.\n\n\n  if (text) {\n    return actions_copy(text, {\n      container: container\n    });\n  } // Defines which selection strategy based on `target` property.\n\n\n  if (target) {\n    return action === 'cut' ? actions_cut(target) : actions_copy(target, {\n      container: container\n    });\n  }\n};\n\n/* harmony default export */ var actions_default = (ClipboardActionDefault);\n;// CONCATENATED MODULE: ./src/clipboard.js\nfunction clipboard_typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { clipboard_typeof = function _typeof(obj) { return typeof obj; }; } else { clipboard_typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return clipboard_typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (clipboard_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n\n\n\n\n\n/**\n * Helper function to retrieve attribute value.\n * @param {String} suffix\n * @param {Element} element\n */\n\nfunction getAttributeValue(suffix, element) {\n  var attribute = \"data-clipboard-\".concat(suffix);\n\n  if (!element.hasAttribute(attribute)) {\n    return;\n  }\n\n  return element.getAttribute(attribute);\n}\n/**\n * Base class which takes one or more elements, adds event listeners to them,\n * and instantiates a new `ClipboardAction` on each click.\n */\n\n\nvar Clipboard = /*#__PURE__*/function (_Emitter) {\n  _inherits(Clipboard, _Emitter);\n\n  var _super = _createSuper(Clipboard);\n\n  /**\n   * @param {String|HTMLElement|HTMLCollection|NodeList} trigger\n   * @param {Object} options\n   */\n  function Clipboard(trigger, options) {\n    var _this;\n\n    _classCallCheck(this, Clipboard);\n\n    _this = _super.call(this);\n\n    _this.resolveOptions(options);\n\n    _this.listenClick(trigger);\n\n    return _this;\n  }\n  /**\n   * Defines if attributes would be resolved using internal setter functions\n   * or custom functions that were passed in the constructor.\n   * @param {Object} options\n   */\n\n\n  _createClass(Clipboard, [{\n    key: \"resolveOptions\",\n    value: function resolveOptions() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      this.action = typeof options.action === 'function' ? options.action : this.defaultAction;\n      this.target = typeof options.target === 'function' ? options.target : this.defaultTarget;\n      this.text = typeof options.text === 'function' ? options.text : this.defaultText;\n      this.container = clipboard_typeof(options.container) === 'object' ? options.container : document.body;\n    }\n    /**\n     * Adds a click event listener to the passed trigger.\n     * @param {String|HTMLElement|HTMLCollection|NodeList} trigger\n     */\n\n  }, {\n    key: \"listenClick\",\n    value: function listenClick(trigger) {\n      var _this2 = this;\n\n      this.listener = listen_default()(trigger, 'click', function (e) {\n        return _this2.onClick(e);\n      });\n    }\n    /**\n     * Defines a new `ClipboardAction` on each click event.\n     * @param {Event} e\n     */\n\n  }, {\n    key: \"onClick\",\n    value: function onClick(e) {\n      var trigger = e.delegateTarget || e.currentTarget;\n      var action = this.action(trigger) || 'copy';\n      var text = actions_default({\n        action: action,\n        container: this.container,\n        target: this.target(trigger),\n        text: this.text(trigger)\n      }); // Fires an event based on the copy operation result.\n\n      this.emit(text ? 'success' : 'error', {\n        action: action,\n        text: text,\n        trigger: trigger,\n        clearSelection: function clearSelection() {\n          if (trigger) {\n            trigger.focus();\n          }\n\n          window.getSelection().removeAllRanges();\n        }\n      });\n    }\n    /**\n     * Default `action` lookup function.\n     * @param {Element} trigger\n     */\n\n  }, {\n    key: \"defaultAction\",\n    value: function defaultAction(trigger) {\n      return getAttributeValue('action', trigger);\n    }\n    /**\n     * Default `target` lookup function.\n     * @param {Element} trigger\n     */\n\n  }, {\n    key: \"defaultTarget\",\n    value: function defaultTarget(trigger) {\n      var selector = getAttributeValue('target', trigger);\n\n      if (selector) {\n        return document.querySelector(selector);\n      }\n    }\n    /**\n     * Allow fire programmatically a copy action\n     * @param {String|HTMLElement} target\n     * @param {Object} options\n     * @returns Text copied.\n     */\n\n  }, {\n    key: \"defaultText\",\n\n    /**\n     * Default `text` lookup function.\n     * @param {Element} trigger\n     */\n    value: function defaultText(trigger) {\n      return getAttributeValue('text', trigger);\n    }\n    /**\n     * Destroy lifecycle.\n     */\n\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      this.listener.destroy();\n    }\n  }], [{\n    key: \"copy\",\n    value: function copy(target) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n        container: document.body\n      };\n      return actions_copy(target, options);\n    }\n    /**\n     * Allow fire programmatically a cut action\n     * @param {String|HTMLElement} target\n     * @returns Text cutted.\n     */\n\n  }, {\n    key: \"cut\",\n    value: function cut(target) {\n      return actions_cut(target);\n    }\n    /**\n     * Returns the support of the given action, or all actions if no action is\n     * given.\n     * @param {String} [action]\n     */\n\n  }, {\n    key: \"isSupported\",\n    value: function isSupported() {\n      var action = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : ['copy', 'cut'];\n      var actions = typeof action === 'string' ? [action] : action;\n      var support = !!document.queryCommandSupported;\n      actions.forEach(function (action) {\n        support = support && !!document.queryCommandSupported(action);\n      });\n      return support;\n    }\n  }]);\n\n  return Clipboard;\n}((tiny_emitter_default()));\n\n/* harmony default export */ var clipboard = (Clipboard);\n\n/***/ }),\n\n/***/ 828:\n/***/ (function(module) {\n\nvar DOCUMENT_NODE_TYPE = 9;\n\n/**\n * A polyfill for Element.matches()\n */\nif (typeof Element !== 'undefined' && !Element.prototype.matches) {\n    var proto = Element.prototype;\n\n    proto.matches = proto.matchesSelector ||\n                    proto.mozMatchesSelector ||\n                    proto.msMatchesSelector ||\n                    proto.oMatchesSelector ||\n                    proto.webkitMatchesSelector;\n}\n\n/**\n * Finds the closest parent that matches a selector.\n *\n * @param {Element} element\n * @param {String} selector\n * @return {Function}\n */\nfunction closest (element, selector) {\n    while (element && element.nodeType !== DOCUMENT_NODE_TYPE) {\n        if (typeof element.matches === 'function' &&\n            element.matches(selector)) {\n          return element;\n        }\n        element = element.parentNode;\n    }\n}\n\nmodule.exports = closest;\n\n\n/***/ }),\n\n/***/ 438:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\nvar closest = __webpack_require__(828);\n\n/**\n * Delegates event to a selector.\n *\n * @param {Element} element\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @param {Boolean} useCapture\n * @return {Object}\n */\nfunction _delegate(element, selector, type, callback, useCapture) {\n    var listenerFn = listener.apply(this, arguments);\n\n    element.addEventListener(type, listenerFn, useCapture);\n\n    return {\n        destroy: function() {\n            element.removeEventListener(type, listenerFn, useCapture);\n        }\n    }\n}\n\n/**\n * Delegates event to a selector.\n *\n * @param {Element|String|Array} [elements]\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @param {Boolean} useCapture\n * @return {Object}\n */\nfunction delegate(elements, selector, type, callback, useCapture) {\n    // Handle the regular Element usage\n    if (typeof elements.addEventListener === 'function') {\n        return _delegate.apply(null, arguments);\n    }\n\n    // Handle Element-less usage, it defaults to global delegation\n    if (typeof type === 'function') {\n        // Use `document` as the first parameter, then apply arguments\n        // This is a short way to .unshift `arguments` without running into deoptimizations\n        return _delegate.bind(null, document).apply(null, arguments);\n    }\n\n    // Handle Selector-based usage\n    if (typeof elements === 'string') {\n        elements = document.querySelectorAll(elements);\n    }\n\n    // Handle Array-like based usage\n    return Array.prototype.map.call(elements, function (element) {\n        return _delegate(element, selector, type, callback, useCapture);\n    });\n}\n\n/**\n * Finds closest match and invokes callback.\n *\n * @param {Element} element\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @return {Function}\n */\nfunction listener(element, selector, type, callback) {\n    return function(e) {\n        e.delegateTarget = closest(e.target, selector);\n\n        if (e.delegateTarget) {\n            callback.call(element, e);\n        }\n    }\n}\n\nmodule.exports = delegate;\n\n\n/***/ }),\n\n/***/ 879:\n/***/ (function(__unused_webpack_module, exports) {\n\n/**\n * Check if argument is a HTML element.\n *\n * @param {Object} value\n * @return {Boolean}\n */\nexports.node = function(value) {\n    return value !== undefined\n        && value instanceof HTMLElement\n        && value.nodeType === 1;\n};\n\n/**\n * Check if argument is a list of HTML elements.\n *\n * @param {Object} value\n * @return {Boolean}\n */\nexports.nodeList = function(value) {\n    var type = Object.prototype.toString.call(value);\n\n    return value !== undefined\n        && (type === '[object NodeList]' || type === '[object HTMLCollection]')\n        && ('length' in value)\n        && (value.length === 0 || exports.node(value[0]));\n};\n\n/**\n * Check if argument is a string.\n *\n * @param {Object} value\n * @return {Boolean}\n */\nexports.string = function(value) {\n    return typeof value === 'string'\n        || value instanceof String;\n};\n\n/**\n * Check if argument is a function.\n *\n * @param {Object} value\n * @return {Boolean}\n */\nexports.fn = function(value) {\n    var type = Object.prototype.toString.call(value);\n\n    return type === '[object Function]';\n};\n\n\n/***/ }),\n\n/***/ 370:\n/***/ (function(module, __unused_webpack_exports, __webpack_require__) {\n\nvar is = __webpack_require__(879);\nvar delegate = __webpack_require__(438);\n\n/**\n * Validates all params and calls the right\n * listener function based on its target type.\n *\n * @param {String|HTMLElement|HTMLCollection|NodeList} target\n * @param {String} type\n * @param {Function} callback\n * @return {Object}\n */\nfunction listen(target, type, callback) {\n    if (!target && !type && !callback) {\n        throw new Error('Missing required arguments');\n    }\n\n    if (!is.string(type)) {\n        throw new TypeError('Second argument must be a String');\n    }\n\n    if (!is.fn(callback)) {\n        throw new TypeError('Third argument must be a Function');\n    }\n\n    if (is.node(target)) {\n        return listenNode(target, type, callback);\n    }\n    else if (is.nodeList(target)) {\n        return listenNodeList(target, type, callback);\n    }\n    else if (is.string(target)) {\n        return listenSelector(target, type, callback);\n    }\n    else {\n        throw new TypeError('First argument must be a String, HTMLElement, HTMLCollection, or NodeList');\n    }\n}\n\n/**\n * Adds an event listener to a HTML element\n * and returns a remove listener function.\n *\n * @param {HTMLElement} node\n * @param {String} type\n * @param {Function} callback\n * @return {Object}\n */\nfunction listenNode(node, type, callback) {\n    node.addEventListener(type, callback);\n\n    return {\n        destroy: function() {\n            node.removeEventListener(type, callback);\n        }\n    }\n}\n\n/**\n * Add an event listener to a list of HTML elements\n * and returns a remove listener function.\n *\n * @param {NodeList|HTMLCollection} nodeList\n * @param {String} type\n * @param {Function} callback\n * @return {Object}\n */\nfunction listenNodeList(nodeList, type, callback) {\n    Array.prototype.forEach.call(nodeList, function(node) {\n        node.addEventListener(type, callback);\n    });\n\n    return {\n        destroy: function() {\n            Array.prototype.forEach.call(nodeList, function(node) {\n                node.removeEventListener(type, callback);\n            });\n        }\n    }\n}\n\n/**\n * Add an event listener to a selector\n * and returns a remove listener function.\n *\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @return {Object}\n */\nfunction listenSelector(selector, type, callback) {\n    return delegate(document.body, selector, type, callback);\n}\n\nmodule.exports = listen;\n\n\n/***/ }),\n\n/***/ 817:\n/***/ (function(module) {\n\nfunction select(element) {\n    var selectedText;\n\n    if (element.nodeName === 'SELECT') {\n        element.focus();\n\n        selectedText = element.value;\n    }\n    else if (element.nodeName === 'INPUT' || element.nodeName === 'TEXTAREA') {\n        var isReadOnly = element.hasAttribute('readonly');\n\n        if (!isReadOnly) {\n            element.setAttribute('readonly', '');\n        }\n\n        element.select();\n        element.setSelectionRange(0, element.value.length);\n\n        if (!isReadOnly) {\n            element.removeAttribute('readonly');\n        }\n\n        selectedText = element.value;\n    }\n    else {\n        if (element.hasAttribute('contenteditable')) {\n            element.focus();\n        }\n\n        var selection = window.getSelection();\n        var range = document.createRange();\n\n        range.selectNodeContents(element);\n        selection.removeAllRanges();\n        selection.addRange(range);\n\n        selectedText = selection.toString();\n    }\n\n    return selectedText;\n}\n\nmodule.exports = select;\n\n\n/***/ }),\n\n/***/ 279:\n/***/ (function(module) {\n\nfunction E () {\n  // Keep this empty so it's easier to inherit from\n  // (via https://github.com/lipsmack from https://github.com/scottcorgan/tiny-emitter/issues/3)\n}\n\nE.prototype = {\n  on: function (name, callback, ctx) {\n    var e = this.e || (this.e = {});\n\n    (e[name] || (e[name] = [])).push({\n      fn: callback,\n      ctx: ctx\n    });\n\n    return this;\n  },\n\n  once: function (name, callback, ctx) {\n    var self = this;\n    function listener () {\n      self.off(name, listener);\n      callback.apply(ctx, arguments);\n    };\n\n    listener._ = callback\n    return this.on(name, listener, ctx);\n  },\n\n  emit: function (name) {\n    var data = [].slice.call(arguments, 1);\n    var evtArr = ((this.e || (this.e = {}))[name] || []).slice();\n    var i = 0;\n    var len = evtArr.length;\n\n    for (i; i < len; i++) {\n      evtArr[i].fn.apply(evtArr[i].ctx, data);\n    }\n\n    return this;\n  },\n\n  off: function (name, callback) {\n    var e = this.e || (this.e = {});\n    var evts = e[name];\n    var liveEvents = [];\n\n    if (evts && callback) {\n      for (var i = 0, len = evts.length; i < len; i++) {\n        if (evts[i].fn !== callback && evts[i].fn._ !== callback)\n          liveEvents.push(evts[i]);\n      }\n    }\n\n    // Remove event from queue to prevent memory leak\n    // Suggested by https://github.com/lazd\n    // Ref: https://github.com/scottcorgan/tiny-emitter/commit/c6ebfaa9bc973b33d110a84a307742b7cf94c953#commitcomment-5024910\n\n    (liveEvents.length)\n      ? e[name] = liveEvents\n      : delete e[name];\n\n    return this;\n  }\n};\n\nmodule.exports = E;\nmodule.exports.TinyEmitter = E;\n\n\n/***/ })\n\n/******/ \t});\n/************************************************************************/\n/******/ \t// The module cache\n/******/ \tvar __webpack_module_cache__ = {};\n/******/ \t\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(__webpack_module_cache__[moduleId]) {\n/******/ \t\t\treturn __webpack_module_cache__[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\t\t// no module.id needed\n/******/ \t\t\t// no module.loaded needed\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/ \t\n/******/ \t\t// Execute the module function\n/******/ \t\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n/******/ \t\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/ \t\n/************************************************************************/\n/******/ \t/* webpack/runtime/compat get default export */\n/******/ \t!function() {\n/******/ \t\t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t\t__webpack_require__.n = function(module) {\n/******/ \t\t\tvar getter = module && module.__esModule ?\n/******/ \t\t\t\tfunction() { return module['default']; } :\n/******/ \t\t\t\tfunction() { return module; };\n/******/ \t\t\t__webpack_require__.d(getter, { a: getter });\n/******/ \t\t\treturn getter;\n/******/ \t\t};\n/******/ \t}();\n/******/ \t\n/******/ \t/* webpack/runtime/define property getters */\n/******/ \t!function() {\n/******/ \t\t// define getter functions for harmony exports\n/******/ \t\t__webpack_require__.d = function(exports, definition) {\n/******/ \t\t\tfor(var key in definition) {\n/******/ \t\t\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n/******/ \t\t\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n/******/ \t\t\t\t}\n/******/ \t\t\t}\n/******/ \t\t};\n/******/ \t}();\n/******/ \t\n/******/ \t/* webpack/runtime/hasOwnProperty shorthand */\n/******/ \t!function() {\n/******/ \t\t__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }\n/******/ \t}();\n/******/ \t\n/************************************************************************/\n/******/ \t// module exports must be returned from runtime so entry inlining is disabled\n/******/ \t// startup\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(686);\n/******/ })()\n.default;\n});", "/*!\n    localForage -- Offline Storage, Improved\n    Version 1.10.0\n    https://localforage.github.io/localForage\n    (c) 2013-2017 Mozilla, Apache License 2.0\n*/\n(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.localforage = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw (f.code=\"MODULE_NOT_FOUND\", f)}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(_dereq_,module,exports){\n(function (global){\n'use strict';\nvar Mutation = global.MutationObserver || global.WebKitMutationObserver;\n\nvar scheduleDrain;\n\n{\n  if (Mutation) {\n    var called = 0;\n    var observer = new Mutation(nextTick);\n    var element = global.document.createTextNode('');\n    observer.observe(element, {\n      characterData: true\n    });\n    scheduleDrain = function () {\n      element.data = (called = ++called % 2);\n    };\n  } else if (!global.setImmediate && typeof global.MessageChannel !== 'undefined') {\n    var channel = new global.MessageChannel();\n    channel.port1.onmessage = nextTick;\n    scheduleDrain = function () {\n      channel.port2.postMessage(0);\n    };\n  } else if ('document' in global && 'onreadystatechange' in global.document.createElement('script')) {\n    scheduleDrain = function () {\n\n      // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n      // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n      var scriptEl = global.document.createElement('script');\n      scriptEl.onreadystatechange = function () {\n        nextTick();\n\n        scriptEl.onreadystatechange = null;\n        scriptEl.parentNode.removeChild(scriptEl);\n        scriptEl = null;\n      };\n      global.document.documentElement.appendChild(scriptEl);\n    };\n  } else {\n    scheduleDrain = function () {\n      setTimeout(nextTick, 0);\n    };\n  }\n}\n\nvar draining;\nvar queue = [];\n//named nextTick for less confusing stack traces\nfunction nextTick() {\n  draining = true;\n  var i, oldQueue;\n  var len = queue.length;\n  while (len) {\n    oldQueue = queue;\n    queue = [];\n    i = -1;\n    while (++i < len) {\n      oldQueue[i]();\n    }\n    len = queue.length;\n  }\n  draining = false;\n}\n\nmodule.exports = immediate;\nfunction immediate(task) {\n  if (queue.push(task) === 1 && !draining) {\n    scheduleDrain();\n  }\n}\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],2:[function(_dereq_,module,exports){\n'use strict';\nvar immediate = _dereq_(1);\n\n/* istanbul ignore next */\nfunction INTERNAL() {}\n\nvar handlers = {};\n\nvar REJECTED = ['REJECTED'];\nvar FULFILLED = ['FULFILLED'];\nvar PENDING = ['PENDING'];\n\nmodule.exports = Promise;\n\nfunction Promise(resolver) {\n  if (typeof resolver !== 'function') {\n    throw new TypeError('resolver must be a function');\n  }\n  this.state = PENDING;\n  this.queue = [];\n  this.outcome = void 0;\n  if (resolver !== INTERNAL) {\n    safelyResolveThenable(this, resolver);\n  }\n}\n\nPromise.prototype[\"catch\"] = function (onRejected) {\n  return this.then(null, onRejected);\n};\nPromise.prototype.then = function (onFulfilled, onRejected) {\n  if (typeof onFulfilled !== 'function' && this.state === FULFILLED ||\n    typeof onRejected !== 'function' && this.state === REJECTED) {\n    return this;\n  }\n  var promise = new this.constructor(INTERNAL);\n  if (this.state !== PENDING) {\n    var resolver = this.state === FULFILLED ? onFulfilled : onRejected;\n    unwrap(promise, resolver, this.outcome);\n  } else {\n    this.queue.push(new QueueItem(promise, onFulfilled, onRejected));\n  }\n\n  return promise;\n};\nfunction QueueItem(promise, onFulfilled, onRejected) {\n  this.promise = promise;\n  if (typeof onFulfilled === 'function') {\n    this.onFulfilled = onFulfilled;\n    this.callFulfilled = this.otherCallFulfilled;\n  }\n  if (typeof onRejected === 'function') {\n    this.onRejected = onRejected;\n    this.callRejected = this.otherCallRejected;\n  }\n}\nQueueItem.prototype.callFulfilled = function (value) {\n  handlers.resolve(this.promise, value);\n};\nQueueItem.prototype.otherCallFulfilled = function (value) {\n  unwrap(this.promise, this.onFulfilled, value);\n};\nQueueItem.prototype.callRejected = function (value) {\n  handlers.reject(this.promise, value);\n};\nQueueItem.prototype.otherCallRejected = function (value) {\n  unwrap(this.promise, this.onRejected, value);\n};\n\nfunction unwrap(promise, func, value) {\n  immediate(function () {\n    var returnValue;\n    try {\n      returnValue = func(value);\n    } catch (e) {\n      return handlers.reject(promise, e);\n    }\n    if (returnValue === promise) {\n      handlers.reject(promise, new TypeError('Cannot resolve promise with itself'));\n    } else {\n      handlers.resolve(promise, returnValue);\n    }\n  });\n}\n\nhandlers.resolve = function (self, value) {\n  var result = tryCatch(getThen, value);\n  if (result.status === 'error') {\n    return handlers.reject(self, result.value);\n  }\n  var thenable = result.value;\n\n  if (thenable) {\n    safelyResolveThenable(self, thenable);\n  } else {\n    self.state = FULFILLED;\n    self.outcome = value;\n    var i = -1;\n    var len = self.queue.length;\n    while (++i < len) {\n      self.queue[i].callFulfilled(value);\n    }\n  }\n  return self;\n};\nhandlers.reject = function (self, error) {\n  self.state = REJECTED;\n  self.outcome = error;\n  var i = -1;\n  var len = self.queue.length;\n  while (++i < len) {\n    self.queue[i].callRejected(error);\n  }\n  return self;\n};\n\nfunction getThen(obj) {\n  // Make sure we only access the accessor once as required by the spec\n  var then = obj && obj.then;\n  if (obj && (typeof obj === 'object' || typeof obj === 'function') && typeof then === 'function') {\n    return function appyThen() {\n      then.apply(obj, arguments);\n    };\n  }\n}\n\nfunction safelyResolveThenable(self, thenable) {\n  // Either fulfill, reject or reject with error\n  var called = false;\n  function onError(value) {\n    if (called) {\n      return;\n    }\n    called = true;\n    handlers.reject(self, value);\n  }\n\n  function onSuccess(value) {\n    if (called) {\n      return;\n    }\n    called = true;\n    handlers.resolve(self, value);\n  }\n\n  function tryToUnwrap() {\n    thenable(onSuccess, onError);\n  }\n\n  var result = tryCatch(tryToUnwrap);\n  if (result.status === 'error') {\n    onError(result.value);\n  }\n}\n\nfunction tryCatch(func, value) {\n  var out = {};\n  try {\n    out.value = func(value);\n    out.status = 'success';\n  } catch (e) {\n    out.status = 'error';\n    out.value = e;\n  }\n  return out;\n}\n\nPromise.resolve = resolve;\nfunction resolve(value) {\n  if (value instanceof this) {\n    return value;\n  }\n  return handlers.resolve(new this(INTERNAL), value);\n}\n\nPromise.reject = reject;\nfunction reject(reason) {\n  var promise = new this(INTERNAL);\n  return handlers.reject(promise, reason);\n}\n\nPromise.all = all;\nfunction all(iterable) {\n  var self = this;\n  if (Object.prototype.toString.call(iterable) !== '[object Array]') {\n    return this.reject(new TypeError('must be an array'));\n  }\n\n  var len = iterable.length;\n  var called = false;\n  if (!len) {\n    return this.resolve([]);\n  }\n\n  var values = new Array(len);\n  var resolved = 0;\n  var i = -1;\n  var promise = new this(INTERNAL);\n\n  while (++i < len) {\n    allResolver(iterable[i], i);\n  }\n  return promise;\n  function allResolver(value, i) {\n    self.resolve(value).then(resolveFromAll, function (error) {\n      if (!called) {\n        called = true;\n        handlers.reject(promise, error);\n      }\n    });\n    function resolveFromAll(outValue) {\n      values[i] = outValue;\n      if (++resolved === len && !called) {\n        called = true;\n        handlers.resolve(promise, values);\n      }\n    }\n  }\n}\n\nPromise.race = race;\nfunction race(iterable) {\n  var self = this;\n  if (Object.prototype.toString.call(iterable) !== '[object Array]') {\n    return this.reject(new TypeError('must be an array'));\n  }\n\n  var len = iterable.length;\n  var called = false;\n  if (!len) {\n    return this.resolve([]);\n  }\n\n  var i = -1;\n  var promise = new this(INTERNAL);\n\n  while (++i < len) {\n    resolver(iterable[i]);\n  }\n  return promise;\n  function resolver(value) {\n    self.resolve(value).then(function (response) {\n      if (!called) {\n        called = true;\n        handlers.resolve(promise, response);\n      }\n    }, function (error) {\n      if (!called) {\n        called = true;\n        handlers.reject(promise, error);\n      }\n    });\n  }\n}\n\n},{\"1\":1}],3:[function(_dereq_,module,exports){\n(function (global){\n'use strict';\nif (typeof global.Promise !== 'function') {\n  global.Promise = _dereq_(2);\n}\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"2\":2}],4:[function(_dereq_,module,exports){\n'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction getIDB() {\n    /* global indexedDB,webkitIndexedDB,mozIndexedDB,OIndexedDB,msIndexedDB */\n    try {\n        if (typeof indexedDB !== 'undefined') {\n            return indexedDB;\n        }\n        if (typeof webkitIndexedDB !== 'undefined') {\n            return webkitIndexedDB;\n        }\n        if (typeof mozIndexedDB !== 'undefined') {\n            return mozIndexedDB;\n        }\n        if (typeof OIndexedDB !== 'undefined') {\n            return OIndexedDB;\n        }\n        if (typeof msIndexedDB !== 'undefined') {\n            return msIndexedDB;\n        }\n    } catch (e) {\n        return;\n    }\n}\n\nvar idb = getIDB();\n\nfunction isIndexedDBValid() {\n    try {\n        // Initialize IndexedDB; fall back to vendor-prefixed versions\n        // if needed.\n        if (!idb || !idb.open) {\n            return false;\n        }\n        // We mimic PouchDB here;\n        //\n        // We test for openDatabase because IE Mobile identifies itself\n        // as Safari. Oh the lulz...\n        var isSafari = typeof openDatabase !== 'undefined' && /(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent) && !/Chrome/.test(navigator.userAgent) && !/BlackBerry/.test(navigator.platform);\n\n        var hasFetch = typeof fetch === 'function' && fetch.toString().indexOf('[native code') !== -1;\n\n        // Safari <10.1 does not meet our requirements for IDB support\n        // (see: https://github.com/pouchdb/pouchdb/issues/5572).\n        // Safari 10.1 shipped with fetch, we can use that to detect it.\n        // Note: this creates issues with `window.fetch` polyfills and\n        // overrides; see:\n        // https://github.com/localForage/localForage/issues/856\n        return (!isSafari || hasFetch) && typeof indexedDB !== 'undefined' &&\n        // some outdated implementations of IDB that appear on Samsung\n        // and HTC Android devices <4.4 are missing IDBKeyRange\n        // See: https://github.com/mozilla/localForage/issues/128\n        // See: https://github.com/mozilla/localForage/issues/272\n        typeof IDBKeyRange !== 'undefined';\n    } catch (e) {\n        return false;\n    }\n}\n\n// Abstracts constructing a Blob object, so it also works in older\n// browsers that don't support the native Blob constructor. (i.e.\n// old QtWebKit versions, at least).\n// Abstracts constructing a Blob object, so it also works in older\n// browsers that don't support the native Blob constructor. (i.e.\n// old QtWebKit versions, at least).\nfunction createBlob(parts, properties) {\n    /* global BlobBuilder,MSBlobBuilder,MozBlobBuilder,WebKitBlobBuilder */\n    parts = parts || [];\n    properties = properties || {};\n    try {\n        return new Blob(parts, properties);\n    } catch (e) {\n        if (e.name !== 'TypeError') {\n            throw e;\n        }\n        var Builder = typeof BlobBuilder !== 'undefined' ? BlobBuilder : typeof MSBlobBuilder !== 'undefined' ? MSBlobBuilder : typeof MozBlobBuilder !== 'undefined' ? MozBlobBuilder : WebKitBlobBuilder;\n        var builder = new Builder();\n        for (var i = 0; i < parts.length; i += 1) {\n            builder.append(parts[i]);\n        }\n        return builder.getBlob(properties.type);\n    }\n}\n\n// This is CommonJS because lie is an external dependency, so Rollup\n// can just ignore it.\nif (typeof Promise === 'undefined') {\n    // In the \"nopromises\" build this will just throw if you don't have\n    // a global promise object, but it would throw anyway later.\n    _dereq_(3);\n}\nvar Promise$1 = Promise;\n\nfunction executeCallback(promise, callback) {\n    if (callback) {\n        promise.then(function (result) {\n            callback(null, result);\n        }, function (error) {\n            callback(error);\n        });\n    }\n}\n\nfunction executeTwoCallbacks(promise, callback, errorCallback) {\n    if (typeof callback === 'function') {\n        promise.then(callback);\n    }\n\n    if (typeof errorCallback === 'function') {\n        promise[\"catch\"](errorCallback);\n    }\n}\n\nfunction normalizeKey(key) {\n    // Cast the key to a string, as that's all we can set as a key.\n    if (typeof key !== 'string') {\n        console.warn(key + ' used as a key, but it is not a string.');\n        key = String(key);\n    }\n\n    return key;\n}\n\nfunction getCallback() {\n    if (arguments.length && typeof arguments[arguments.length - 1] === 'function') {\n        return arguments[arguments.length - 1];\n    }\n}\n\n// Some code originally from async_storage.js in\n// [Gaia](https://github.com/mozilla-b2g/gaia).\n\nvar DETECT_BLOB_SUPPORT_STORE = 'local-forage-detect-blob-support';\nvar supportsBlobs = void 0;\nvar dbContexts = {};\nvar toString = Object.prototype.toString;\n\n// Transaction Modes\nvar READ_ONLY = 'readonly';\nvar READ_WRITE = 'readwrite';\n\n// Transform a binary string to an array buffer, because otherwise\n// weird stuff happens when you try to work with the binary string directly.\n// It is known.\n// From http://stackoverflow.com/questions/14967647/ (continues on next line)\n// encode-decode-image-with-base64-breaks-image (2013-04-21)\nfunction _binStringToArrayBuffer(bin) {\n    var length = bin.length;\n    var buf = new ArrayBuffer(length);\n    var arr = new Uint8Array(buf);\n    for (var i = 0; i < length; i++) {\n        arr[i] = bin.charCodeAt(i);\n    }\n    return buf;\n}\n\n//\n// Blobs are not supported in all versions of IndexedDB, notably\n// Chrome <37 and Android <5. In those versions, storing a blob will throw.\n//\n// Various other blob bugs exist in Chrome v37-42 (inclusive).\n// Detecting them is expensive and confusing to users, and Chrome 37-42\n// is at very low usage worldwide, so we do a hacky userAgent check instead.\n//\n// content-type bug: https://code.google.com/p/chromium/issues/detail?id=408120\n// 404 bug: https://code.google.com/p/chromium/issues/detail?id=447916\n// FileReader bug: https://code.google.com/p/chromium/issues/detail?id=447836\n//\n// Code borrowed from PouchDB. See:\n// https://github.com/pouchdb/pouchdb/blob/master/packages/node_modules/pouchdb-adapter-idb/src/blobSupport.js\n//\nfunction _checkBlobSupportWithoutCaching(idb) {\n    return new Promise$1(function (resolve) {\n        var txn = idb.transaction(DETECT_BLOB_SUPPORT_STORE, READ_WRITE);\n        var blob = createBlob(['']);\n        txn.objectStore(DETECT_BLOB_SUPPORT_STORE).put(blob, 'key');\n\n        txn.onabort = function (e) {\n            // If the transaction aborts now its due to not being able to\n            // write to the database, likely due to the disk being full\n            e.preventDefault();\n            e.stopPropagation();\n            resolve(false);\n        };\n\n        txn.oncomplete = function () {\n            var matchedChrome = navigator.userAgent.match(/Chrome\\/(\\d+)/);\n            var matchedEdge = navigator.userAgent.match(/Edge\\//);\n            // MS Edge pretends to be Chrome 42:\n            // https://msdn.microsoft.com/en-us/library/hh869301%28v=vs.85%29.aspx\n            resolve(matchedEdge || !matchedChrome || parseInt(matchedChrome[1], 10) >= 43);\n        };\n    })[\"catch\"](function () {\n        return false; // error, so assume unsupported\n    });\n}\n\nfunction _checkBlobSupport(idb) {\n    if (typeof supportsBlobs === 'boolean') {\n        return Promise$1.resolve(supportsBlobs);\n    }\n    return _checkBlobSupportWithoutCaching(idb).then(function (value) {\n        supportsBlobs = value;\n        return supportsBlobs;\n    });\n}\n\nfunction _deferReadiness(dbInfo) {\n    var dbContext = dbContexts[dbInfo.name];\n\n    // Create a deferred object representing the current database operation.\n    var deferredOperation = {};\n\n    deferredOperation.promise = new Promise$1(function (resolve, reject) {\n        deferredOperation.resolve = resolve;\n        deferredOperation.reject = reject;\n    });\n\n    // Enqueue the deferred operation.\n    dbContext.deferredOperations.push(deferredOperation);\n\n    // Chain its promise to the database readiness.\n    if (!dbContext.dbReady) {\n        dbContext.dbReady = deferredOperation.promise;\n    } else {\n        dbContext.dbReady = dbContext.dbReady.then(function () {\n            return deferredOperation.promise;\n        });\n    }\n}\n\nfunction _advanceReadiness(dbInfo) {\n    var dbContext = dbContexts[dbInfo.name];\n\n    // Dequeue a deferred operation.\n    var deferredOperation = dbContext.deferredOperations.pop();\n\n    // Resolve its promise (which is part of the database readiness\n    // chain of promises).\n    if (deferredOperation) {\n        deferredOperation.resolve();\n        return deferredOperation.promise;\n    }\n}\n\nfunction _rejectReadiness(dbInfo, err) {\n    var dbContext = dbContexts[dbInfo.name];\n\n    // Dequeue a deferred operation.\n    var deferredOperation = dbContext.deferredOperations.pop();\n\n    // Reject its promise (which is part of the database readiness\n    // chain of promises).\n    if (deferredOperation) {\n        deferredOperation.reject(err);\n        return deferredOperation.promise;\n    }\n}\n\nfunction _getConnection(dbInfo, upgradeNeeded) {\n    return new Promise$1(function (resolve, reject) {\n        dbContexts[dbInfo.name] = dbContexts[dbInfo.name] || createDbContext();\n\n        if (dbInfo.db) {\n            if (upgradeNeeded) {\n                _deferReadiness(dbInfo);\n                dbInfo.db.close();\n            } else {\n                return resolve(dbInfo.db);\n            }\n        }\n\n        var dbArgs = [dbInfo.name];\n\n        if (upgradeNeeded) {\n            dbArgs.push(dbInfo.version);\n        }\n\n        var openreq = idb.open.apply(idb, dbArgs);\n\n        if (upgradeNeeded) {\n            openreq.onupgradeneeded = function (e) {\n                var db = openreq.result;\n                try {\n                    db.createObjectStore(dbInfo.storeName);\n                    if (e.oldVersion <= 1) {\n                        // Added when support for blob shims was added\n                        db.createObjectStore(DETECT_BLOB_SUPPORT_STORE);\n                    }\n                } catch (ex) {\n                    if (ex.name === 'ConstraintError') {\n                        console.warn('The database \"' + dbInfo.name + '\"' + ' has been upgraded from version ' + e.oldVersion + ' to version ' + e.newVersion + ', but the storage \"' + dbInfo.storeName + '\" already exists.');\n                    } else {\n                        throw ex;\n                    }\n                }\n            };\n        }\n\n        openreq.onerror = function (e) {\n            e.preventDefault();\n            reject(openreq.error);\n        };\n\n        openreq.onsuccess = function () {\n            var db = openreq.result;\n            db.onversionchange = function (e) {\n                // Triggered when the database is modified (e.g. adding an objectStore) or\n                // deleted (even when initiated by other sessions in different tabs).\n                // Closing the connection here prevents those operations from being blocked.\n                // If the database is accessed again later by this instance, the connection\n                // will be reopened or the database recreated as needed.\n                e.target.close();\n            };\n            resolve(db);\n            _advanceReadiness(dbInfo);\n        };\n    });\n}\n\nfunction _getOriginalConnection(dbInfo) {\n    return _getConnection(dbInfo, false);\n}\n\nfunction _getUpgradedConnection(dbInfo) {\n    return _getConnection(dbInfo, true);\n}\n\nfunction _isUpgradeNeeded(dbInfo, defaultVersion) {\n    if (!dbInfo.db) {\n        return true;\n    }\n\n    var isNewStore = !dbInfo.db.objectStoreNames.contains(dbInfo.storeName);\n    var isDowngrade = dbInfo.version < dbInfo.db.version;\n    var isUpgrade = dbInfo.version > dbInfo.db.version;\n\n    if (isDowngrade) {\n        // If the version is not the default one\n        // then warn for impossible downgrade.\n        if (dbInfo.version !== defaultVersion) {\n            console.warn('The database \"' + dbInfo.name + '\"' + \" can't be downgraded from version \" + dbInfo.db.version + ' to version ' + dbInfo.version + '.');\n        }\n        // Align the versions to prevent errors.\n        dbInfo.version = dbInfo.db.version;\n    }\n\n    if (isUpgrade || isNewStore) {\n        // If the store is new then increment the version (if needed).\n        // This will trigger an \"upgradeneeded\" event which is required\n        // for creating a store.\n        if (isNewStore) {\n            var incVersion = dbInfo.db.version + 1;\n            if (incVersion > dbInfo.version) {\n                dbInfo.version = incVersion;\n            }\n        }\n\n        return true;\n    }\n\n    return false;\n}\n\n// encode a blob for indexeddb engines that don't support blobs\nfunction _encodeBlob(blob) {\n    return new Promise$1(function (resolve, reject) {\n        var reader = new FileReader();\n        reader.onerror = reject;\n        reader.onloadend = function (e) {\n            var base64 = btoa(e.target.result || '');\n            resolve({\n                __local_forage_encoded_blob: true,\n                data: base64,\n                type: blob.type\n            });\n        };\n        reader.readAsBinaryString(blob);\n    });\n}\n\n// decode an encoded blob\nfunction _decodeBlob(encodedBlob) {\n    var arrayBuff = _binStringToArrayBuffer(atob(encodedBlob.data));\n    return createBlob([arrayBuff], { type: encodedBlob.type });\n}\n\n// is this one of our fancy encoded blobs?\nfunction _isEncodedBlob(value) {\n    return value && value.__local_forage_encoded_blob;\n}\n\n// Specialize the default `ready()` function by making it dependent\n// on the current database operations. Thus, the driver will be actually\n// ready when it's been initialized (default) *and* there are no pending\n// operations on the database (initiated by some other instances).\nfunction _fullyReady(callback) {\n    var self = this;\n\n    var promise = self._initReady().then(function () {\n        var dbContext = dbContexts[self._dbInfo.name];\n\n        if (dbContext && dbContext.dbReady) {\n            return dbContext.dbReady;\n        }\n    });\n\n    executeTwoCallbacks(promise, callback, callback);\n    return promise;\n}\n\n// Try to establish a new db connection to replace the\n// current one which is broken (i.e. experiencing\n// InvalidStateError while creating a transaction).\nfunction _tryReconnect(dbInfo) {\n    _deferReadiness(dbInfo);\n\n    var dbContext = dbContexts[dbInfo.name];\n    var forages = dbContext.forages;\n\n    for (var i = 0; i < forages.length; i++) {\n        var forage = forages[i];\n        if (forage._dbInfo.db) {\n            forage._dbInfo.db.close();\n            forage._dbInfo.db = null;\n        }\n    }\n    dbInfo.db = null;\n\n    return _getOriginalConnection(dbInfo).then(function (db) {\n        dbInfo.db = db;\n        if (_isUpgradeNeeded(dbInfo)) {\n            // Reopen the database for upgrading.\n            return _getUpgradedConnection(dbInfo);\n        }\n        return db;\n    }).then(function (db) {\n        // store the latest db reference\n        // in case the db was upgraded\n        dbInfo.db = dbContext.db = db;\n        for (var i = 0; i < forages.length; i++) {\n            forages[i]._dbInfo.db = db;\n        }\n    })[\"catch\"](function (err) {\n        _rejectReadiness(dbInfo, err);\n        throw err;\n    });\n}\n\n// FF doesn't like Promises (micro-tasks) and IDDB store operations,\n// so we have to do it with callbacks\nfunction createTransaction(dbInfo, mode, callback, retries) {\n    if (retries === undefined) {\n        retries = 1;\n    }\n\n    try {\n        var tx = dbInfo.db.transaction(dbInfo.storeName, mode);\n        callback(null, tx);\n    } catch (err) {\n        if (retries > 0 && (!dbInfo.db || err.name === 'InvalidStateError' || err.name === 'NotFoundError')) {\n            return Promise$1.resolve().then(function () {\n                if (!dbInfo.db || err.name === 'NotFoundError' && !dbInfo.db.objectStoreNames.contains(dbInfo.storeName) && dbInfo.version <= dbInfo.db.version) {\n                    // increase the db version, to create the new ObjectStore\n                    if (dbInfo.db) {\n                        dbInfo.version = dbInfo.db.version + 1;\n                    }\n                    // Reopen the database for upgrading.\n                    return _getUpgradedConnection(dbInfo);\n                }\n            }).then(function () {\n                return _tryReconnect(dbInfo).then(function () {\n                    createTransaction(dbInfo, mode, callback, retries - 1);\n                });\n            })[\"catch\"](callback);\n        }\n\n        callback(err);\n    }\n}\n\nfunction createDbContext() {\n    return {\n        // Running localForages sharing a database.\n        forages: [],\n        // Shared database.\n        db: null,\n        // Database readiness (promise).\n        dbReady: null,\n        // Deferred operations on the database.\n        deferredOperations: []\n    };\n}\n\n// Open the IndexedDB database (automatically creates one if one didn't\n// previously exist), using any options set in the config.\nfunction _initStorage(options) {\n    var self = this;\n    var dbInfo = {\n        db: null\n    };\n\n    if (options) {\n        for (var i in options) {\n            dbInfo[i] = options[i];\n        }\n    }\n\n    // Get the current context of the database;\n    var dbContext = dbContexts[dbInfo.name];\n\n    // ...or create a new context.\n    if (!dbContext) {\n        dbContext = createDbContext();\n        // Register the new context in the global container.\n        dbContexts[dbInfo.name] = dbContext;\n    }\n\n    // Register itself as a running localForage in the current context.\n    dbContext.forages.push(self);\n\n    // Replace the default `ready()` function with the specialized one.\n    if (!self._initReady) {\n        self._initReady = self.ready;\n        self.ready = _fullyReady;\n    }\n\n    // Create an array of initialization states of the related localForages.\n    var initPromises = [];\n\n    function ignoreErrors() {\n        // Don't handle errors here,\n        // just makes sure related localForages aren't pending.\n        return Promise$1.resolve();\n    }\n\n    for (var j = 0; j < dbContext.forages.length; j++) {\n        var forage = dbContext.forages[j];\n        if (forage !== self) {\n            // Don't wait for itself...\n            initPromises.push(forage._initReady()[\"catch\"](ignoreErrors));\n        }\n    }\n\n    // Take a snapshot of the related localForages.\n    var forages = dbContext.forages.slice(0);\n\n    // Initialize the connection process only when\n    // all the related localForages aren't pending.\n    return Promise$1.all(initPromises).then(function () {\n        dbInfo.db = dbContext.db;\n        // Get the connection or open a new one without upgrade.\n        return _getOriginalConnection(dbInfo);\n    }).then(function (db) {\n        dbInfo.db = db;\n        if (_isUpgradeNeeded(dbInfo, self._defaultConfig.version)) {\n            // Reopen the database for upgrading.\n            return _getUpgradedConnection(dbInfo);\n        }\n        return db;\n    }).then(function (db) {\n        dbInfo.db = dbContext.db = db;\n        self._dbInfo = dbInfo;\n        // Share the final connection amongst related localForages.\n        for (var k = 0; k < forages.length; k++) {\n            var forage = forages[k];\n            if (forage !== self) {\n                // Self is already up-to-date.\n                forage._dbInfo.db = dbInfo.db;\n                forage._dbInfo.version = dbInfo.version;\n            }\n        }\n    });\n}\n\nfunction getItem(key, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            createTransaction(self._dbInfo, READ_ONLY, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n                    var req = store.get(key);\n\n                    req.onsuccess = function () {\n                        var value = req.result;\n                        if (value === undefined) {\n                            value = null;\n                        }\n                        if (_isEncodedBlob(value)) {\n                            value = _decodeBlob(value);\n                        }\n                        resolve(value);\n                    };\n\n                    req.onerror = function () {\n                        reject(req.error);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Iterate over all items stored in database.\nfunction iterate(iterator, callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            createTransaction(self._dbInfo, READ_ONLY, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n                    var req = store.openCursor();\n                    var iterationNumber = 1;\n\n                    req.onsuccess = function () {\n                        var cursor = req.result;\n\n                        if (cursor) {\n                            var value = cursor.value;\n                            if (_isEncodedBlob(value)) {\n                                value = _decodeBlob(value);\n                            }\n                            var result = iterator(value, cursor.key, iterationNumber++);\n\n                            // when the iterator callback returns any\n                            // (non-`undefined`) value, then we stop\n                            // the iteration immediately\n                            if (result !== void 0) {\n                                resolve(result);\n                            } else {\n                                cursor[\"continue\"]();\n                            }\n                        } else {\n                            resolve();\n                        }\n                    };\n\n                    req.onerror = function () {\n                        reject(req.error);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n\n    return promise;\n}\n\nfunction setItem(key, value, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = new Promise$1(function (resolve, reject) {\n        var dbInfo;\n        self.ready().then(function () {\n            dbInfo = self._dbInfo;\n            if (toString.call(value) === '[object Blob]') {\n                return _checkBlobSupport(dbInfo.db).then(function (blobSupport) {\n                    if (blobSupport) {\n                        return value;\n                    }\n                    return _encodeBlob(value);\n                });\n            }\n            return value;\n        }).then(function (value) {\n            createTransaction(self._dbInfo, READ_WRITE, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n\n                    // The reason we don't _save_ null is because IE 10 does\n                    // not support saving the `null` type in IndexedDB. How\n                    // ironic, given the bug below!\n                    // See: https://github.com/mozilla/localForage/issues/161\n                    if (value === null) {\n                        value = undefined;\n                    }\n\n                    var req = store.put(value, key);\n\n                    transaction.oncomplete = function () {\n                        // Cast to undefined so the value passed to\n                        // callback/promise is the same as what one would get out\n                        // of `getItem()` later. This leads to some weirdness\n                        // (setItem('foo', undefined) will return `null`), but\n                        // it's not my fault localStorage is our baseline and that\n                        // it's weird.\n                        if (value === undefined) {\n                            value = null;\n                        }\n\n                        resolve(value);\n                    };\n                    transaction.onabort = transaction.onerror = function () {\n                        var err = req.error ? req.error : req.transaction.error;\n                        reject(err);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction removeItem(key, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            createTransaction(self._dbInfo, READ_WRITE, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n                    // We use a Grunt task to make this safe for IE and some\n                    // versions of Android (including those used by Cordova).\n                    // Normally IE won't like `.delete()` and will insist on\n                    // using `['delete']()`, but we have a build step that\n                    // fixes this for us now.\n                    var req = store[\"delete\"](key);\n                    transaction.oncomplete = function () {\n                        resolve();\n                    };\n\n                    transaction.onerror = function () {\n                        reject(req.error);\n                    };\n\n                    // The request will be also be aborted if we've exceeded our storage\n                    // space.\n                    transaction.onabort = function () {\n                        var err = req.error ? req.error : req.transaction.error;\n                        reject(err);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction clear(callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            createTransaction(self._dbInfo, READ_WRITE, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n                    var req = store.clear();\n\n                    transaction.oncomplete = function () {\n                        resolve();\n                    };\n\n                    transaction.onabort = transaction.onerror = function () {\n                        var err = req.error ? req.error : req.transaction.error;\n                        reject(err);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction length(callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            createTransaction(self._dbInfo, READ_ONLY, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n                    var req = store.count();\n\n                    req.onsuccess = function () {\n                        resolve(req.result);\n                    };\n\n                    req.onerror = function () {\n                        reject(req.error);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction key(n, callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        if (n < 0) {\n            resolve(null);\n\n            return;\n        }\n\n        self.ready().then(function () {\n            createTransaction(self._dbInfo, READ_ONLY, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n                    var advanced = false;\n                    var req = store.openKeyCursor();\n\n                    req.onsuccess = function () {\n                        var cursor = req.result;\n                        if (!cursor) {\n                            // this means there weren't enough keys\n                            resolve(null);\n\n                            return;\n                        }\n\n                        if (n === 0) {\n                            // We have the first key, return it if that's what they\n                            // wanted.\n                            resolve(cursor.key);\n                        } else {\n                            if (!advanced) {\n                                // Otherwise, ask the cursor to skip ahead n\n                                // records.\n                                advanced = true;\n                                cursor.advance(n);\n                            } else {\n                                // When we get here, we've got the nth key.\n                                resolve(cursor.key);\n                            }\n                        }\n                    };\n\n                    req.onerror = function () {\n                        reject(req.error);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction keys(callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            createTransaction(self._dbInfo, READ_ONLY, function (err, transaction) {\n                if (err) {\n                    return reject(err);\n                }\n\n                try {\n                    var store = transaction.objectStore(self._dbInfo.storeName);\n                    var req = store.openKeyCursor();\n                    var keys = [];\n\n                    req.onsuccess = function () {\n                        var cursor = req.result;\n\n                        if (!cursor) {\n                            resolve(keys);\n                            return;\n                        }\n\n                        keys.push(cursor.key);\n                        cursor[\"continue\"]();\n                    };\n\n                    req.onerror = function () {\n                        reject(req.error);\n                    };\n                } catch (e) {\n                    reject(e);\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction dropInstance(options, callback) {\n    callback = getCallback.apply(this, arguments);\n\n    var currentConfig = this.config();\n    options = typeof options !== 'function' && options || {};\n    if (!options.name) {\n        options.name = options.name || currentConfig.name;\n        options.storeName = options.storeName || currentConfig.storeName;\n    }\n\n    var self = this;\n    var promise;\n    if (!options.name) {\n        promise = Promise$1.reject('Invalid arguments');\n    } else {\n        var isCurrentDb = options.name === currentConfig.name && self._dbInfo.db;\n\n        var dbPromise = isCurrentDb ? Promise$1.resolve(self._dbInfo.db) : _getOriginalConnection(options).then(function (db) {\n            var dbContext = dbContexts[options.name];\n            var forages = dbContext.forages;\n            dbContext.db = db;\n            for (var i = 0; i < forages.length; i++) {\n                forages[i]._dbInfo.db = db;\n            }\n            return db;\n        });\n\n        if (!options.storeName) {\n            promise = dbPromise.then(function (db) {\n                _deferReadiness(options);\n\n                var dbContext = dbContexts[options.name];\n                var forages = dbContext.forages;\n\n                db.close();\n                for (var i = 0; i < forages.length; i++) {\n                    var forage = forages[i];\n                    forage._dbInfo.db = null;\n                }\n\n                var dropDBPromise = new Promise$1(function (resolve, reject) {\n                    var req = idb.deleteDatabase(options.name);\n\n                    req.onerror = function () {\n                        var db = req.result;\n                        if (db) {\n                            db.close();\n                        }\n                        reject(req.error);\n                    };\n\n                    req.onblocked = function () {\n                        // Closing all open connections in onversionchange handler should prevent this situation, but if\n                        // we do get here, it just means the request remains pending - eventually it will succeed or error\n                        console.warn('dropInstance blocked for database \"' + options.name + '\" until all open connections are closed');\n                    };\n\n                    req.onsuccess = function () {\n                        var db = req.result;\n                        if (db) {\n                            db.close();\n                        }\n                        resolve(db);\n                    };\n                });\n\n                return dropDBPromise.then(function (db) {\n                    dbContext.db = db;\n                    for (var i = 0; i < forages.length; i++) {\n                        var _forage = forages[i];\n                        _advanceReadiness(_forage._dbInfo);\n                    }\n                })[\"catch\"](function (err) {\n                    (_rejectReadiness(options, err) || Promise$1.resolve())[\"catch\"](function () {});\n                    throw err;\n                });\n            });\n        } else {\n            promise = dbPromise.then(function (db) {\n                if (!db.objectStoreNames.contains(options.storeName)) {\n                    return;\n                }\n\n                var newVersion = db.version + 1;\n\n                _deferReadiness(options);\n\n                var dbContext = dbContexts[options.name];\n                var forages = dbContext.forages;\n\n                db.close();\n                for (var i = 0; i < forages.length; i++) {\n                    var forage = forages[i];\n                    forage._dbInfo.db = null;\n                    forage._dbInfo.version = newVersion;\n                }\n\n                var dropObjectPromise = new Promise$1(function (resolve, reject) {\n                    var req = idb.open(options.name, newVersion);\n\n                    req.onerror = function (err) {\n                        var db = req.result;\n                        db.close();\n                        reject(err);\n                    };\n\n                    req.onupgradeneeded = function () {\n                        var db = req.result;\n                        db.deleteObjectStore(options.storeName);\n                    };\n\n                    req.onsuccess = function () {\n                        var db = req.result;\n                        db.close();\n                        resolve(db);\n                    };\n                });\n\n                return dropObjectPromise.then(function (db) {\n                    dbContext.db = db;\n                    for (var j = 0; j < forages.length; j++) {\n                        var _forage2 = forages[j];\n                        _forage2._dbInfo.db = db;\n                        _advanceReadiness(_forage2._dbInfo);\n                    }\n                })[\"catch\"](function (err) {\n                    (_rejectReadiness(options, err) || Promise$1.resolve())[\"catch\"](function () {});\n                    throw err;\n                });\n            });\n        }\n    }\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nvar asyncStorage = {\n    _driver: 'asyncStorage',\n    _initStorage: _initStorage,\n    _support: isIndexedDBValid(),\n    iterate: iterate,\n    getItem: getItem,\n    setItem: setItem,\n    removeItem: removeItem,\n    clear: clear,\n    length: length,\n    key: key,\n    keys: keys,\n    dropInstance: dropInstance\n};\n\nfunction isWebSQLValid() {\n    return typeof openDatabase === 'function';\n}\n\n// Sadly, the best way to save binary data in WebSQL/localStorage is serializing\n// it to Base64, so this is how we store it to prevent very strange errors with less\n// verbose ways of binary <-> string data storage.\nvar BASE_CHARS = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\nvar BLOB_TYPE_PREFIX = '~~local_forage_type~';\nvar BLOB_TYPE_PREFIX_REGEX = /^~~local_forage_type~([^~]+)~/;\n\nvar SERIALIZED_MARKER = '__lfsc__:';\nvar SERIALIZED_MARKER_LENGTH = SERIALIZED_MARKER.length;\n\n// OMG the serializations!\nvar TYPE_ARRAYBUFFER = 'arbf';\nvar TYPE_BLOB = 'blob';\nvar TYPE_INT8ARRAY = 'si08';\nvar TYPE_UINT8ARRAY = 'ui08';\nvar TYPE_UINT8CLAMPEDARRAY = 'uic8';\nvar TYPE_INT16ARRAY = 'si16';\nvar TYPE_INT32ARRAY = 'si32';\nvar TYPE_UINT16ARRAY = 'ur16';\nvar TYPE_UINT32ARRAY = 'ui32';\nvar TYPE_FLOAT32ARRAY = 'fl32';\nvar TYPE_FLOAT64ARRAY = 'fl64';\nvar TYPE_SERIALIZED_MARKER_LENGTH = SERIALIZED_MARKER_LENGTH + TYPE_ARRAYBUFFER.length;\n\nvar toString$1 = Object.prototype.toString;\n\nfunction stringToBuffer(serializedString) {\n    // Fill the string into a ArrayBuffer.\n    var bufferLength = serializedString.length * 0.75;\n    var len = serializedString.length;\n    var i;\n    var p = 0;\n    var encoded1, encoded2, encoded3, encoded4;\n\n    if (serializedString[serializedString.length - 1] === '=') {\n        bufferLength--;\n        if (serializedString[serializedString.length - 2] === '=') {\n            bufferLength--;\n        }\n    }\n\n    var buffer = new ArrayBuffer(bufferLength);\n    var bytes = new Uint8Array(buffer);\n\n    for (i = 0; i < len; i += 4) {\n        encoded1 = BASE_CHARS.indexOf(serializedString[i]);\n        encoded2 = BASE_CHARS.indexOf(serializedString[i + 1]);\n        encoded3 = BASE_CHARS.indexOf(serializedString[i + 2]);\n        encoded4 = BASE_CHARS.indexOf(serializedString[i + 3]);\n\n        /*jslint bitwise: true */\n        bytes[p++] = encoded1 << 2 | encoded2 >> 4;\n        bytes[p++] = (encoded2 & 15) << 4 | encoded3 >> 2;\n        bytes[p++] = (encoded3 & 3) << 6 | encoded4 & 63;\n    }\n    return buffer;\n}\n\n// Converts a buffer to a string to store, serialized, in the backend\n// storage library.\nfunction bufferToString(buffer) {\n    // base64-arraybuffer\n    var bytes = new Uint8Array(buffer);\n    var base64String = '';\n    var i;\n\n    for (i = 0; i < bytes.length; i += 3) {\n        /*jslint bitwise: true */\n        base64String += BASE_CHARS[bytes[i] >> 2];\n        base64String += BASE_CHARS[(bytes[i] & 3) << 4 | bytes[i + 1] >> 4];\n        base64String += BASE_CHARS[(bytes[i + 1] & 15) << 2 | bytes[i + 2] >> 6];\n        base64String += BASE_CHARS[bytes[i + 2] & 63];\n    }\n\n    if (bytes.length % 3 === 2) {\n        base64String = base64String.substring(0, base64String.length - 1) + '=';\n    } else if (bytes.length % 3 === 1) {\n        base64String = base64String.substring(0, base64String.length - 2) + '==';\n    }\n\n    return base64String;\n}\n\n// Serialize a value, afterwards executing a callback (which usually\n// instructs the `setItem()` callback/promise to be executed). This is how\n// we store binary data with localStorage.\nfunction serialize(value, callback) {\n    var valueType = '';\n    if (value) {\n        valueType = toString$1.call(value);\n    }\n\n    // Cannot use `value instanceof ArrayBuffer` or such here, as these\n    // checks fail when running the tests using casper.js...\n    //\n    // TODO: See why those tests fail and use a better solution.\n    if (value && (valueType === '[object ArrayBuffer]' || value.buffer && toString$1.call(value.buffer) === '[object ArrayBuffer]')) {\n        // Convert binary arrays to a string and prefix the string with\n        // a special marker.\n        var buffer;\n        var marker = SERIALIZED_MARKER;\n\n        if (value instanceof ArrayBuffer) {\n            buffer = value;\n            marker += TYPE_ARRAYBUFFER;\n        } else {\n            buffer = value.buffer;\n\n            if (valueType === '[object Int8Array]') {\n                marker += TYPE_INT8ARRAY;\n            } else if (valueType === '[object Uint8Array]') {\n                marker += TYPE_UINT8ARRAY;\n            } else if (valueType === '[object Uint8ClampedArray]') {\n                marker += TYPE_UINT8CLAMPEDARRAY;\n            } else if (valueType === '[object Int16Array]') {\n                marker += TYPE_INT16ARRAY;\n            } else if (valueType === '[object Uint16Array]') {\n                marker += TYPE_UINT16ARRAY;\n            } else if (valueType === '[object Int32Array]') {\n                marker += TYPE_INT32ARRAY;\n            } else if (valueType === '[object Uint32Array]') {\n                marker += TYPE_UINT32ARRAY;\n            } else if (valueType === '[object Float32Array]') {\n                marker += TYPE_FLOAT32ARRAY;\n            } else if (valueType === '[object Float64Array]') {\n                marker += TYPE_FLOAT64ARRAY;\n            } else {\n                callback(new Error('Failed to get type for BinaryArray'));\n            }\n        }\n\n        callback(marker + bufferToString(buffer));\n    } else if (valueType === '[object Blob]') {\n        // Conver the blob to a binaryArray and then to a string.\n        var fileReader = new FileReader();\n\n        fileReader.onload = function () {\n            // Backwards-compatible prefix for the blob type.\n            var str = BLOB_TYPE_PREFIX + value.type + '~' + bufferToString(this.result);\n\n            callback(SERIALIZED_MARKER + TYPE_BLOB + str);\n        };\n\n        fileReader.readAsArrayBuffer(value);\n    } else {\n        try {\n            callback(JSON.stringify(value));\n        } catch (e) {\n            console.error(\"Couldn't convert value into a JSON string: \", value);\n\n            callback(null, e);\n        }\n    }\n}\n\n// Deserialize data we've inserted into a value column/field. We place\n// special markers into our strings to mark them as encoded; this isn't\n// as nice as a meta field, but it's the only sane thing we can do whilst\n// keeping localStorage support intact.\n//\n// Oftentimes this will just deserialize JSON content, but if we have a\n// special marker (SERIALIZED_MARKER, defined above), we will extract\n// some kind of arraybuffer/binary data/typed array out of the string.\nfunction deserialize(value) {\n    // If we haven't marked this string as being specially serialized (i.e.\n    // something other than serialized JSON), we can just return it and be\n    // done with it.\n    if (value.substring(0, SERIALIZED_MARKER_LENGTH) !== SERIALIZED_MARKER) {\n        return JSON.parse(value);\n    }\n\n    // The following code deals with deserializing some kind of Blob or\n    // TypedArray. First we separate out the type of data we're dealing\n    // with from the data itself.\n    var serializedString = value.substring(TYPE_SERIALIZED_MARKER_LENGTH);\n    var type = value.substring(SERIALIZED_MARKER_LENGTH, TYPE_SERIALIZED_MARKER_LENGTH);\n\n    var blobType;\n    // Backwards-compatible blob type serialization strategy.\n    // DBs created with older versions of localForage will simply not have the blob type.\n    if (type === TYPE_BLOB && BLOB_TYPE_PREFIX_REGEX.test(serializedString)) {\n        var matcher = serializedString.match(BLOB_TYPE_PREFIX_REGEX);\n        blobType = matcher[1];\n        serializedString = serializedString.substring(matcher[0].length);\n    }\n    var buffer = stringToBuffer(serializedString);\n\n    // Return the right type based on the code/type set during\n    // serialization.\n    switch (type) {\n        case TYPE_ARRAYBUFFER:\n            return buffer;\n        case TYPE_BLOB:\n            return createBlob([buffer], { type: blobType });\n        case TYPE_INT8ARRAY:\n            return new Int8Array(buffer);\n        case TYPE_UINT8ARRAY:\n            return new Uint8Array(buffer);\n        case TYPE_UINT8CLAMPEDARRAY:\n            return new Uint8ClampedArray(buffer);\n        case TYPE_INT16ARRAY:\n            return new Int16Array(buffer);\n        case TYPE_UINT16ARRAY:\n            return new Uint16Array(buffer);\n        case TYPE_INT32ARRAY:\n            return new Int32Array(buffer);\n        case TYPE_UINT32ARRAY:\n            return new Uint32Array(buffer);\n        case TYPE_FLOAT32ARRAY:\n            return new Float32Array(buffer);\n        case TYPE_FLOAT64ARRAY:\n            return new Float64Array(buffer);\n        default:\n            throw new Error('Unkown type: ' + type);\n    }\n}\n\nvar localforageSerializer = {\n    serialize: serialize,\n    deserialize: deserialize,\n    stringToBuffer: stringToBuffer,\n    bufferToString: bufferToString\n};\n\n/*\n * Includes code from:\n *\n * base64-arraybuffer\n * https://github.com/niklasvh/base64-arraybuffer\n *\n * Copyright (c) 2012 Niklas von Hertzen\n * Licensed under the MIT license.\n */\n\nfunction createDbTable(t, dbInfo, callback, errorCallback) {\n    t.executeSql('CREATE TABLE IF NOT EXISTS ' + dbInfo.storeName + ' ' + '(id INTEGER PRIMARY KEY, key unique, value)', [], callback, errorCallback);\n}\n\n// Open the WebSQL database (automatically creates one if one didn't\n// previously exist), using any options set in the config.\nfunction _initStorage$1(options) {\n    var self = this;\n    var dbInfo = {\n        db: null\n    };\n\n    if (options) {\n        for (var i in options) {\n            dbInfo[i] = typeof options[i] !== 'string' ? options[i].toString() : options[i];\n        }\n    }\n\n    var dbInfoPromise = new Promise$1(function (resolve, reject) {\n        // Open the database; the openDatabase API will automatically\n        // create it for us if it doesn't exist.\n        try {\n            dbInfo.db = openDatabase(dbInfo.name, String(dbInfo.version), dbInfo.description, dbInfo.size);\n        } catch (e) {\n            return reject(e);\n        }\n\n        // Create our key/value table if it doesn't exist.\n        dbInfo.db.transaction(function (t) {\n            createDbTable(t, dbInfo, function () {\n                self._dbInfo = dbInfo;\n                resolve();\n            }, function (t, error) {\n                reject(error);\n            });\n        }, reject);\n    });\n\n    dbInfo.serializer = localforageSerializer;\n    return dbInfoPromise;\n}\n\nfunction tryExecuteSql(t, dbInfo, sqlStatement, args, callback, errorCallback) {\n    t.executeSql(sqlStatement, args, callback, function (t, error) {\n        if (error.code === error.SYNTAX_ERR) {\n            t.executeSql('SELECT name FROM sqlite_master ' + \"WHERE type='table' AND name = ?\", [dbInfo.storeName], function (t, results) {\n                if (!results.rows.length) {\n                    // if the table is missing (was deleted)\n                    // re-create it table and retry\n                    createDbTable(t, dbInfo, function () {\n                        t.executeSql(sqlStatement, args, callback, errorCallback);\n                    }, errorCallback);\n                } else {\n                    errorCallback(t, error);\n                }\n            }, errorCallback);\n        } else {\n            errorCallback(t, error);\n        }\n    }, errorCallback);\n}\n\nfunction getItem$1(key, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            var dbInfo = self._dbInfo;\n            dbInfo.db.transaction(function (t) {\n                tryExecuteSql(t, dbInfo, 'SELECT * FROM ' + dbInfo.storeName + ' WHERE key = ? LIMIT 1', [key], function (t, results) {\n                    var result = results.rows.length ? results.rows.item(0).value : null;\n\n                    // Check to see if this is serialized content we need to\n                    // unpack.\n                    if (result) {\n                        result = dbInfo.serializer.deserialize(result);\n                    }\n\n                    resolve(result);\n                }, function (t, error) {\n                    reject(error);\n                });\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction iterate$1(iterator, callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            var dbInfo = self._dbInfo;\n\n            dbInfo.db.transaction(function (t) {\n                tryExecuteSql(t, dbInfo, 'SELECT * FROM ' + dbInfo.storeName, [], function (t, results) {\n                    var rows = results.rows;\n                    var length = rows.length;\n\n                    for (var i = 0; i < length; i++) {\n                        var item = rows.item(i);\n                        var result = item.value;\n\n                        // Check to see if this is serialized content\n                        // we need to unpack.\n                        if (result) {\n                            result = dbInfo.serializer.deserialize(result);\n                        }\n\n                        result = iterator(result, item.key, i + 1);\n\n                        // void(0) prevents problems with redefinition\n                        // of `undefined`.\n                        if (result !== void 0) {\n                            resolve(result);\n                            return;\n                        }\n                    }\n\n                    resolve();\n                }, function (t, error) {\n                    reject(error);\n                });\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction _setItem(key, value, callback, retriesLeft) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            // The localStorage API doesn't return undefined values in an\n            // \"expected\" way, so undefined is always cast to null in all\n            // drivers. See: https://github.com/mozilla/localForage/pull/42\n            if (value === undefined) {\n                value = null;\n            }\n\n            // Save the original value to pass to the callback.\n            var originalValue = value;\n\n            var dbInfo = self._dbInfo;\n            dbInfo.serializer.serialize(value, function (value, error) {\n                if (error) {\n                    reject(error);\n                } else {\n                    dbInfo.db.transaction(function (t) {\n                        tryExecuteSql(t, dbInfo, 'INSERT OR REPLACE INTO ' + dbInfo.storeName + ' ' + '(key, value) VALUES (?, ?)', [key, value], function () {\n                            resolve(originalValue);\n                        }, function (t, error) {\n                            reject(error);\n                        });\n                    }, function (sqlError) {\n                        // The transaction failed; check\n                        // to see if it's a quota error.\n                        if (sqlError.code === sqlError.QUOTA_ERR) {\n                            // We reject the callback outright for now, but\n                            // it's worth trying to re-run the transaction.\n                            // Even if the user accepts the prompt to use\n                            // more storage on Safari, this error will\n                            // be called.\n                            //\n                            // Try to re-run the transaction.\n                            if (retriesLeft > 0) {\n                                resolve(_setItem.apply(self, [key, originalValue, callback, retriesLeft - 1]));\n                                return;\n                            }\n                            reject(sqlError);\n                        }\n                    });\n                }\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction setItem$1(key, value, callback) {\n    return _setItem.apply(this, [key, value, callback, 1]);\n}\n\nfunction removeItem$1(key, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            var dbInfo = self._dbInfo;\n            dbInfo.db.transaction(function (t) {\n                tryExecuteSql(t, dbInfo, 'DELETE FROM ' + dbInfo.storeName + ' WHERE key = ?', [key], function () {\n                    resolve();\n                }, function (t, error) {\n                    reject(error);\n                });\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Deletes every item in the table.\n// TODO: Find out if this resets the AUTO_INCREMENT number.\nfunction clear$1(callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            var dbInfo = self._dbInfo;\n            dbInfo.db.transaction(function (t) {\n                tryExecuteSql(t, dbInfo, 'DELETE FROM ' + dbInfo.storeName, [], function () {\n                    resolve();\n                }, function (t, error) {\n                    reject(error);\n                });\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Does a simple `COUNT(key)` to get the number of items stored in\n// localForage.\nfunction length$1(callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            var dbInfo = self._dbInfo;\n            dbInfo.db.transaction(function (t) {\n                // Ahhh, SQL makes this one soooooo easy.\n                tryExecuteSql(t, dbInfo, 'SELECT COUNT(key) as c FROM ' + dbInfo.storeName, [], function (t, results) {\n                    var result = results.rows.item(0).c;\n                    resolve(result);\n                }, function (t, error) {\n                    reject(error);\n                });\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Return the key located at key index X; essentially gets the key from a\n// `WHERE id = ?`. This is the most efficient way I can think to implement\n// this rarely-used (in my experience) part of the API, but it can seem\n// inconsistent, because we do `INSERT OR REPLACE INTO` on `setItem()`, so\n// the ID of each key will change every time it's updated. Perhaps a stored\n// procedure for the `setItem()` SQL would solve this problem?\n// TODO: Don't change ID on `setItem()`.\nfunction key$1(n, callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            var dbInfo = self._dbInfo;\n            dbInfo.db.transaction(function (t) {\n                tryExecuteSql(t, dbInfo, 'SELECT key FROM ' + dbInfo.storeName + ' WHERE id = ? LIMIT 1', [n + 1], function (t, results) {\n                    var result = results.rows.length ? results.rows.item(0).key : null;\n                    resolve(result);\n                }, function (t, error) {\n                    reject(error);\n                });\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction keys$1(callback) {\n    var self = this;\n\n    var promise = new Promise$1(function (resolve, reject) {\n        self.ready().then(function () {\n            var dbInfo = self._dbInfo;\n            dbInfo.db.transaction(function (t) {\n                tryExecuteSql(t, dbInfo, 'SELECT key FROM ' + dbInfo.storeName, [], function (t, results) {\n                    var keys = [];\n\n                    for (var i = 0; i < results.rows.length; i++) {\n                        keys.push(results.rows.item(i).key);\n                    }\n\n                    resolve(keys);\n                }, function (t, error) {\n                    reject(error);\n                });\n            });\n        })[\"catch\"](reject);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// https://www.w3.org/TR/webdatabase/#databases\n// > There is no way to enumerate or delete the databases available for an origin from this API.\nfunction getAllStoreNames(db) {\n    return new Promise$1(function (resolve, reject) {\n        db.transaction(function (t) {\n            t.executeSql('SELECT name FROM sqlite_master ' + \"WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'\", [], function (t, results) {\n                var storeNames = [];\n\n                for (var i = 0; i < results.rows.length; i++) {\n                    storeNames.push(results.rows.item(i).name);\n                }\n\n                resolve({\n                    db: db,\n                    storeNames: storeNames\n                });\n            }, function (t, error) {\n                reject(error);\n            });\n        }, function (sqlError) {\n            reject(sqlError);\n        });\n    });\n}\n\nfunction dropInstance$1(options, callback) {\n    callback = getCallback.apply(this, arguments);\n\n    var currentConfig = this.config();\n    options = typeof options !== 'function' && options || {};\n    if (!options.name) {\n        options.name = options.name || currentConfig.name;\n        options.storeName = options.storeName || currentConfig.storeName;\n    }\n\n    var self = this;\n    var promise;\n    if (!options.name) {\n        promise = Promise$1.reject('Invalid arguments');\n    } else {\n        promise = new Promise$1(function (resolve) {\n            var db;\n            if (options.name === currentConfig.name) {\n                // use the db reference of the current instance\n                db = self._dbInfo.db;\n            } else {\n                db = openDatabase(options.name, '', '', 0);\n            }\n\n            if (!options.storeName) {\n                // drop all database tables\n                resolve(getAllStoreNames(db));\n            } else {\n                resolve({\n                    db: db,\n                    storeNames: [options.storeName]\n                });\n            }\n        }).then(function (operationInfo) {\n            return new Promise$1(function (resolve, reject) {\n                operationInfo.db.transaction(function (t) {\n                    function dropTable(storeName) {\n                        return new Promise$1(function (resolve, reject) {\n                            t.executeSql('DROP TABLE IF EXISTS ' + storeName, [], function () {\n                                resolve();\n                            }, function (t, error) {\n                                reject(error);\n                            });\n                        });\n                    }\n\n                    var operations = [];\n                    for (var i = 0, len = operationInfo.storeNames.length; i < len; i++) {\n                        operations.push(dropTable(operationInfo.storeNames[i]));\n                    }\n\n                    Promise$1.all(operations).then(function () {\n                        resolve();\n                    })[\"catch\"](function (e) {\n                        reject(e);\n                    });\n                }, function (sqlError) {\n                    reject(sqlError);\n                });\n            });\n        });\n    }\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nvar webSQLStorage = {\n    _driver: 'webSQLStorage',\n    _initStorage: _initStorage$1,\n    _support: isWebSQLValid(),\n    iterate: iterate$1,\n    getItem: getItem$1,\n    setItem: setItem$1,\n    removeItem: removeItem$1,\n    clear: clear$1,\n    length: length$1,\n    key: key$1,\n    keys: keys$1,\n    dropInstance: dropInstance$1\n};\n\nfunction isLocalStorageValid() {\n    try {\n        return typeof localStorage !== 'undefined' && 'setItem' in localStorage &&\n        // in IE8 typeof localStorage.setItem === 'object'\n        !!localStorage.setItem;\n    } catch (e) {\n        return false;\n    }\n}\n\nfunction _getKeyPrefix(options, defaultConfig) {\n    var keyPrefix = options.name + '/';\n\n    if (options.storeName !== defaultConfig.storeName) {\n        keyPrefix += options.storeName + '/';\n    }\n    return keyPrefix;\n}\n\n// Check if localStorage throws when saving an item\nfunction checkIfLocalStorageThrows() {\n    var localStorageTestKey = '_localforage_support_test';\n\n    try {\n        localStorage.setItem(localStorageTestKey, true);\n        localStorage.removeItem(localStorageTestKey);\n\n        return false;\n    } catch (e) {\n        return true;\n    }\n}\n\n// Check if localStorage is usable and allows to save an item\n// This method checks if localStorage is usable in Safari Private Browsing\n// mode, or in any other case where the available quota for localStorage\n// is 0 and there wasn't any saved items yet.\nfunction _isLocalStorageUsable() {\n    return !checkIfLocalStorageThrows() || localStorage.length > 0;\n}\n\n// Config the localStorage backend, using options set in the config.\nfunction _initStorage$2(options) {\n    var self = this;\n    var dbInfo = {};\n    if (options) {\n        for (var i in options) {\n            dbInfo[i] = options[i];\n        }\n    }\n\n    dbInfo.keyPrefix = _getKeyPrefix(options, self._defaultConfig);\n\n    if (!_isLocalStorageUsable()) {\n        return Promise$1.reject();\n    }\n\n    self._dbInfo = dbInfo;\n    dbInfo.serializer = localforageSerializer;\n\n    return Promise$1.resolve();\n}\n\n// Remove all keys from the datastore, effectively destroying all data in\n// the app's key/value store!\nfunction clear$2(callback) {\n    var self = this;\n    var promise = self.ready().then(function () {\n        var keyPrefix = self._dbInfo.keyPrefix;\n\n        for (var i = localStorage.length - 1; i >= 0; i--) {\n            var key = localStorage.key(i);\n\n            if (key.indexOf(keyPrefix) === 0) {\n                localStorage.removeItem(key);\n            }\n        }\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Retrieve an item from the store. Unlike the original async_storage\n// library in Gaia, we don't modify return values at all. If a key's value\n// is `undefined`, we pass that value to the callback function.\nfunction getItem$2(key, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = self.ready().then(function () {\n        var dbInfo = self._dbInfo;\n        var result = localStorage.getItem(dbInfo.keyPrefix + key);\n\n        // If a result was found, parse it from the serialized\n        // string into a JS object. If result isn't truthy, the key\n        // is likely undefined and we'll pass it straight to the\n        // callback.\n        if (result) {\n            result = dbInfo.serializer.deserialize(result);\n        }\n\n        return result;\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Iterate over all items in the store.\nfunction iterate$2(iterator, callback) {\n    var self = this;\n\n    var promise = self.ready().then(function () {\n        var dbInfo = self._dbInfo;\n        var keyPrefix = dbInfo.keyPrefix;\n        var keyPrefixLength = keyPrefix.length;\n        var length = localStorage.length;\n\n        // We use a dedicated iterator instead of the `i` variable below\n        // so other keys we fetch in localStorage aren't counted in\n        // the `iterationNumber` argument passed to the `iterate()`\n        // callback.\n        //\n        // See: github.com/mozilla/localForage/pull/435#discussion_r38061530\n        var iterationNumber = 1;\n\n        for (var i = 0; i < length; i++) {\n            var key = localStorage.key(i);\n            if (key.indexOf(keyPrefix) !== 0) {\n                continue;\n            }\n            var value = localStorage.getItem(key);\n\n            // If a result was found, parse it from the serialized\n            // string into a JS object. If result isn't truthy, the\n            // key is likely undefined and we'll pass it straight\n            // to the iterator.\n            if (value) {\n                value = dbInfo.serializer.deserialize(value);\n            }\n\n            value = iterator(value, key.substring(keyPrefixLength), iterationNumber++);\n\n            if (value !== void 0) {\n                return value;\n            }\n        }\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Same as localStorage's key() method, except takes a callback.\nfunction key$2(n, callback) {\n    var self = this;\n    var promise = self.ready().then(function () {\n        var dbInfo = self._dbInfo;\n        var result;\n        try {\n            result = localStorage.key(n);\n        } catch (error) {\n            result = null;\n        }\n\n        // Remove the prefix from the key, if a key is found.\n        if (result) {\n            result = result.substring(dbInfo.keyPrefix.length);\n        }\n\n        return result;\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction keys$2(callback) {\n    var self = this;\n    var promise = self.ready().then(function () {\n        var dbInfo = self._dbInfo;\n        var length = localStorage.length;\n        var keys = [];\n\n        for (var i = 0; i < length; i++) {\n            var itemKey = localStorage.key(i);\n            if (itemKey.indexOf(dbInfo.keyPrefix) === 0) {\n                keys.push(itemKey.substring(dbInfo.keyPrefix.length));\n            }\n        }\n\n        return keys;\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Supply the number of keys in the datastore to the callback function.\nfunction length$2(callback) {\n    var self = this;\n    var promise = self.keys().then(function (keys) {\n        return keys.length;\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Remove an item from the store, nice and simple.\nfunction removeItem$2(key, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = self.ready().then(function () {\n        var dbInfo = self._dbInfo;\n        localStorage.removeItem(dbInfo.keyPrefix + key);\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\n// Set a key's value and run an optional callback once the value is set.\n// Unlike Gaia's implementation, the callback function is passed the value,\n// in case you want to operate on that value only after you're sure it\n// saved, or something like that.\nfunction setItem$2(key, value, callback) {\n    var self = this;\n\n    key = normalizeKey(key);\n\n    var promise = self.ready().then(function () {\n        // Convert undefined values to null.\n        // https://github.com/mozilla/localForage/pull/42\n        if (value === undefined) {\n            value = null;\n        }\n\n        // Save the original value to pass to the callback.\n        var originalValue = value;\n\n        return new Promise$1(function (resolve, reject) {\n            var dbInfo = self._dbInfo;\n            dbInfo.serializer.serialize(value, function (value, error) {\n                if (error) {\n                    reject(error);\n                } else {\n                    try {\n                        localStorage.setItem(dbInfo.keyPrefix + key, value);\n                        resolve(originalValue);\n                    } catch (e) {\n                        // localStorage capacity exceeded.\n                        // TODO: Make this a specific error/event.\n                        if (e.name === 'QuotaExceededError' || e.name === 'NS_ERROR_DOM_QUOTA_REACHED') {\n                            reject(e);\n                        }\n                        reject(e);\n                    }\n                }\n            });\n        });\n    });\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nfunction dropInstance$2(options, callback) {\n    callback = getCallback.apply(this, arguments);\n\n    options = typeof options !== 'function' && options || {};\n    if (!options.name) {\n        var currentConfig = this.config();\n        options.name = options.name || currentConfig.name;\n        options.storeName = options.storeName || currentConfig.storeName;\n    }\n\n    var self = this;\n    var promise;\n    if (!options.name) {\n        promise = Promise$1.reject('Invalid arguments');\n    } else {\n        promise = new Promise$1(function (resolve) {\n            if (!options.storeName) {\n                resolve(options.name + '/');\n            } else {\n                resolve(_getKeyPrefix(options, self._defaultConfig));\n            }\n        }).then(function (keyPrefix) {\n            for (var i = localStorage.length - 1; i >= 0; i--) {\n                var key = localStorage.key(i);\n\n                if (key.indexOf(keyPrefix) === 0) {\n                    localStorage.removeItem(key);\n                }\n            }\n        });\n    }\n\n    executeCallback(promise, callback);\n    return promise;\n}\n\nvar localStorageWrapper = {\n    _driver: 'localStorageWrapper',\n    _initStorage: _initStorage$2,\n    _support: isLocalStorageValid(),\n    iterate: iterate$2,\n    getItem: getItem$2,\n    setItem: setItem$2,\n    removeItem: removeItem$2,\n    clear: clear$2,\n    length: length$2,\n    key: key$2,\n    keys: keys$2,\n    dropInstance: dropInstance$2\n};\n\nvar sameValue = function sameValue(x, y) {\n    return x === y || typeof x === 'number' && typeof y === 'number' && isNaN(x) && isNaN(y);\n};\n\nvar includes = function includes(array, searchElement) {\n    var len = array.length;\n    var i = 0;\n    while (i < len) {\n        if (sameValue(array[i], searchElement)) {\n            return true;\n        }\n        i++;\n    }\n\n    return false;\n};\n\nvar isArray = Array.isArray || function (arg) {\n    return Object.prototype.toString.call(arg) === '[object Array]';\n};\n\n// Drivers are stored here when `defineDriver()` is called.\n// They are shared across all instances of localForage.\nvar DefinedDrivers = {};\n\nvar DriverSupport = {};\n\nvar DefaultDrivers = {\n    INDEXEDDB: asyncStorage,\n    WEBSQL: webSQLStorage,\n    LOCALSTORAGE: localStorageWrapper\n};\n\nvar DefaultDriverOrder = [DefaultDrivers.INDEXEDDB._driver, DefaultDrivers.WEBSQL._driver, DefaultDrivers.LOCALSTORAGE._driver];\n\nvar OptionalDriverMethods = ['dropInstance'];\n\nvar LibraryMethods = ['clear', 'getItem', 'iterate', 'key', 'keys', 'length', 'removeItem', 'setItem'].concat(OptionalDriverMethods);\n\nvar DefaultConfig = {\n    description: '',\n    driver: DefaultDriverOrder.slice(),\n    name: 'localforage',\n    // Default DB size is _JUST UNDER_ 5MB, as it's the highest size\n    // we can use without a prompt.\n    size: 4980736,\n    storeName: 'keyvaluepairs',\n    version: 1.0\n};\n\nfunction callWhenReady(localForageInstance, libraryMethod) {\n    localForageInstance[libraryMethod] = function () {\n        var _args = arguments;\n        return localForageInstance.ready().then(function () {\n            return localForageInstance[libraryMethod].apply(localForageInstance, _args);\n        });\n    };\n}\n\nfunction extend() {\n    for (var i = 1; i < arguments.length; i++) {\n        var arg = arguments[i];\n\n        if (arg) {\n            for (var _key in arg) {\n                if (arg.hasOwnProperty(_key)) {\n                    if (isArray(arg[_key])) {\n                        arguments[0][_key] = arg[_key].slice();\n                    } else {\n                        arguments[0][_key] = arg[_key];\n                    }\n                }\n            }\n        }\n    }\n\n    return arguments[0];\n}\n\nvar LocalForage = function () {\n    function LocalForage(options) {\n        _classCallCheck(this, LocalForage);\n\n        for (var driverTypeKey in DefaultDrivers) {\n            if (DefaultDrivers.hasOwnProperty(driverTypeKey)) {\n                var driver = DefaultDrivers[driverTypeKey];\n                var driverName = driver._driver;\n                this[driverTypeKey] = driverName;\n\n                if (!DefinedDrivers[driverName]) {\n                    // we don't need to wait for the promise,\n                    // since the default drivers can be defined\n                    // in a blocking manner\n                    this.defineDriver(driver);\n                }\n            }\n        }\n\n        this._defaultConfig = extend({}, DefaultConfig);\n        this._config = extend({}, this._defaultConfig, options);\n        this._driverSet = null;\n        this._initDriver = null;\n        this._ready = false;\n        this._dbInfo = null;\n\n        this._wrapLibraryMethodsWithReady();\n        this.setDriver(this._config.driver)[\"catch\"](function () {});\n    }\n\n    // Set any config values for localForage; can be called anytime before\n    // the first API call (e.g. `getItem`, `setItem`).\n    // We loop through options so we don't overwrite existing config\n    // values.\n\n\n    LocalForage.prototype.config = function config(options) {\n        // If the options argument is an object, we use it to set values.\n        // Otherwise, we return either a specified config value or all\n        // config values.\n        if ((typeof options === 'undefined' ? 'undefined' : _typeof(options)) === 'object') {\n            // If localforage is ready and fully initialized, we can't set\n            // any new configuration values. Instead, we return an error.\n            if (this._ready) {\n                return new Error(\"Can't call config() after localforage \" + 'has been used.');\n            }\n\n            for (var i in options) {\n                if (i === 'storeName') {\n                    options[i] = options[i].replace(/\\W/g, '_');\n                }\n\n                if (i === 'version' && typeof options[i] !== 'number') {\n                    return new Error('Database version must be a number.');\n                }\n\n                this._config[i] = options[i];\n            }\n\n            // after all config options are set and\n            // the driver option is used, try setting it\n            if ('driver' in options && options.driver) {\n                return this.setDriver(this._config.driver);\n            }\n\n            return true;\n        } else if (typeof options === 'string') {\n            return this._config[options];\n        } else {\n            return this._config;\n        }\n    };\n\n    // Used to define a custom driver, shared across all instances of\n    // localForage.\n\n\n    LocalForage.prototype.defineDriver = function defineDriver(driverObject, callback, errorCallback) {\n        var promise = new Promise$1(function (resolve, reject) {\n            try {\n                var driverName = driverObject._driver;\n                var complianceError = new Error('Custom driver not compliant; see ' + 'https://mozilla.github.io/localForage/#definedriver');\n\n                // A driver name should be defined and not overlap with the\n                // library-defined, default drivers.\n                if (!driverObject._driver) {\n                    reject(complianceError);\n                    return;\n                }\n\n                var driverMethods = LibraryMethods.concat('_initStorage');\n                for (var i = 0, len = driverMethods.length; i < len; i++) {\n                    var driverMethodName = driverMethods[i];\n\n                    // when the property is there,\n                    // it should be a method even when optional\n                    var isRequired = !includes(OptionalDriverMethods, driverMethodName);\n                    if ((isRequired || driverObject[driverMethodName]) && typeof driverObject[driverMethodName] !== 'function') {\n                        reject(complianceError);\n                        return;\n                    }\n                }\n\n                var configureMissingMethods = function configureMissingMethods() {\n                    var methodNotImplementedFactory = function methodNotImplementedFactory(methodName) {\n                        return function () {\n                            var error = new Error('Method ' + methodName + ' is not implemented by the current driver');\n                            var promise = Promise$1.reject(error);\n                            executeCallback(promise, arguments[arguments.length - 1]);\n                            return promise;\n                        };\n                    };\n\n                    for (var _i = 0, _len = OptionalDriverMethods.length; _i < _len; _i++) {\n                        var optionalDriverMethod = OptionalDriverMethods[_i];\n                        if (!driverObject[optionalDriverMethod]) {\n                            driverObject[optionalDriverMethod] = methodNotImplementedFactory(optionalDriverMethod);\n                        }\n                    }\n                };\n\n                configureMissingMethods();\n\n                var setDriverSupport = function setDriverSupport(support) {\n                    if (DefinedDrivers[driverName]) {\n                        console.info('Redefining LocalForage driver: ' + driverName);\n                    }\n                    DefinedDrivers[driverName] = driverObject;\n                    DriverSupport[driverName] = support;\n                    // don't use a then, so that we can define\n                    // drivers that have simple _support methods\n                    // in a blocking manner\n                    resolve();\n                };\n\n                if ('_support' in driverObject) {\n                    if (driverObject._support && typeof driverObject._support === 'function') {\n                        driverObject._support().then(setDriverSupport, reject);\n                    } else {\n                        setDriverSupport(!!driverObject._support);\n                    }\n                } else {\n                    setDriverSupport(true);\n                }\n            } catch (e) {\n                reject(e);\n            }\n        });\n\n        executeTwoCallbacks(promise, callback, errorCallback);\n        return promise;\n    };\n\n    LocalForage.prototype.driver = function driver() {\n        return this._driver || null;\n    };\n\n    LocalForage.prototype.getDriver = function getDriver(driverName, callback, errorCallback) {\n        var getDriverPromise = DefinedDrivers[driverName] ? Promise$1.resolve(DefinedDrivers[driverName]) : Promise$1.reject(new Error('Driver not found.'));\n\n        executeTwoCallbacks(getDriverPromise, callback, errorCallback);\n        return getDriverPromise;\n    };\n\n    LocalForage.prototype.getSerializer = function getSerializer(callback) {\n        var serializerPromise = Promise$1.resolve(localforageSerializer);\n        executeTwoCallbacks(serializerPromise, callback);\n        return serializerPromise;\n    };\n\n    LocalForage.prototype.ready = function ready(callback) {\n        var self = this;\n\n        var promise = self._driverSet.then(function () {\n            if (self._ready === null) {\n                self._ready = self._initDriver();\n            }\n\n            return self._ready;\n        });\n\n        executeTwoCallbacks(promise, callback, callback);\n        return promise;\n    };\n\n    LocalForage.prototype.setDriver = function setDriver(drivers, callback, errorCallback) {\n        var self = this;\n\n        if (!isArray(drivers)) {\n            drivers = [drivers];\n        }\n\n        var supportedDrivers = this._getSupportedDrivers(drivers);\n\n        function setDriverToConfig() {\n            self._config.driver = self.driver();\n        }\n\n        function extendSelfWithDriver(driver) {\n            self._extend(driver);\n            setDriverToConfig();\n\n            self._ready = self._initStorage(self._config);\n            return self._ready;\n        }\n\n        function initDriver(supportedDrivers) {\n            return function () {\n                var currentDriverIndex = 0;\n\n                function driverPromiseLoop() {\n                    while (currentDriverIndex < supportedDrivers.length) {\n                        var driverName = supportedDrivers[currentDriverIndex];\n                        currentDriverIndex++;\n\n                        self._dbInfo = null;\n                        self._ready = null;\n\n                        return self.getDriver(driverName).then(extendSelfWithDriver)[\"catch\"](driverPromiseLoop);\n                    }\n\n                    setDriverToConfig();\n                    var error = new Error('No available storage method found.');\n                    self._driverSet = Promise$1.reject(error);\n                    return self._driverSet;\n                }\n\n                return driverPromiseLoop();\n            };\n        }\n\n        // There might be a driver initialization in progress\n        // so wait for it to finish in order to avoid a possible\n        // race condition to set _dbInfo\n        var oldDriverSetDone = this._driverSet !== null ? this._driverSet[\"catch\"](function () {\n            return Promise$1.resolve();\n        }) : Promise$1.resolve();\n\n        this._driverSet = oldDriverSetDone.then(function () {\n            var driverName = supportedDrivers[0];\n            self._dbInfo = null;\n            self._ready = null;\n\n            return self.getDriver(driverName).then(function (driver) {\n                self._driver = driver._driver;\n                setDriverToConfig();\n                self._wrapLibraryMethodsWithReady();\n                self._initDriver = initDriver(supportedDrivers);\n            });\n        })[\"catch\"](function () {\n            setDriverToConfig();\n            var error = new Error('No available storage method found.');\n            self._driverSet = Promise$1.reject(error);\n            return self._driverSet;\n        });\n\n        executeTwoCallbacks(this._driverSet, callback, errorCallback);\n        return this._driverSet;\n    };\n\n    LocalForage.prototype.supports = function supports(driverName) {\n        return !!DriverSupport[driverName];\n    };\n\n    LocalForage.prototype._extend = function _extend(libraryMethodsAndProperties) {\n        extend(this, libraryMethodsAndProperties);\n    };\n\n    LocalForage.prototype._getSupportedDrivers = function _getSupportedDrivers(drivers) {\n        var supportedDrivers = [];\n        for (var i = 0, len = drivers.length; i < len; i++) {\n            var driverName = drivers[i];\n            if (this.supports(driverName)) {\n                supportedDrivers.push(driverName);\n            }\n        }\n        return supportedDrivers;\n    };\n\n    LocalForage.prototype._wrapLibraryMethodsWithReady = function _wrapLibraryMethodsWithReady() {\n        // Add a stub for each driver API method that delays the call to the\n        // corresponding driver method until localForage is ready. These stubs\n        // will be replaced by the driver methods as soon as the driver is\n        // loaded, so there is no performance impact.\n        for (var i = 0, len = LibraryMethods.length; i < len; i++) {\n            callWhenReady(this, LibraryMethods[i]);\n        }\n    };\n\n    LocalForage.prototype.createInstance = function createInstance(options) {\n        return new LocalForage(options);\n    };\n\n    return LocalForage;\n}();\n\n// The actual localForage object that we expose as a module or via a\n// global. It's extended by pulling in one of our other libraries.\n\n\nvar localforage_js = new LocalForage();\n\nmodule.exports = localforage_js;\n\n},{\"3\":3}]},{},[4])(4)\n});\n", "(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n    typeof define === 'function' && define.amd ? define(['exports'], factory) :\n    (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.fastUniqueNumbers = {}));\n})(this, (function (exports) { 'use strict';\n\n    var createAddUniqueNumber = function createAddUniqueNumber(generateUniqueNumber) {\n      return function (set) {\n        var number = generateUniqueNumber(set);\n        set.add(number);\n        return number;\n      };\n    };\n\n    var createCache = function createCache(lastNumberWeakMap) {\n      return function (collection, nextNumber) {\n        lastNumberWeakMap.set(collection, nextNumber);\n        return nextNumber;\n      };\n    };\n\n    /*\n     * The value of the constant Number.MAX_SAFE_INTEGER equals (2 ** 53 - 1) but it\n     * is fairly new.\n     */\n    var MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER === undefined ? 9007199254740991 : Number.MAX_SAFE_INTEGER;\n    var TWO_TO_THE_POWER_OF_TWENTY_NINE = 536870912;\n    var TWO_TO_THE_POWER_OF_THIRTY = TWO_TO_THE_POWER_OF_TWENTY_NINE * 2;\n    var createGenerateUniqueNumber = function createGenerateUniqueNumber(cache, lastNumberWeakMap) {\n      return function (collection) {\n        var lastNumber = lastNumberWeakMap.get(collection);\n        /*\n         * Let's try the cheapest algorithm first. It might fail to produce a new\n         * number, but it is so cheap that it is okay to take the risk. Just\n         * increase the last number by one or reset it to 0 if we reached the upper\n         * bound of SMIs (which stands for small integers). When the last number is\n         * unknown it is assumed that the collection contains zero based consecutive\n         * numbers.\n         */\n        var nextNumber = lastNumber === undefined ? collection.size : lastNumber < TWO_TO_THE_POWER_OF_THIRTY ? lastNumber + 1 : 0;\n        if (!collection.has(nextNumber)) {\n          return cache(collection, nextNumber);\n        }\n        /*\n         * If there are less than half of 2 ** 30 numbers stored in the collection,\n         * the chance to generate a new random number in the range from 0 to 2 ** 30\n         * is at least 50%. It's benifitial to use only SMIs because they perform\n         * much better in any environment based on V8.\n         */\n        if (collection.size < TWO_TO_THE_POWER_OF_TWENTY_NINE) {\n          while (collection.has(nextNumber)) {\n            nextNumber = Math.floor(Math.random() * TWO_TO_THE_POWER_OF_THIRTY);\n          }\n          return cache(collection, nextNumber);\n        }\n        // Quickly check if there is a theoretical chance to generate a new number.\n        if (collection.size > MAX_SAFE_INTEGER) {\n          throw new Error('Congratulations, you created a collection of unique numbers which uses all available integers!');\n        }\n        // Otherwise use the full scale of safely usable integers.\n        while (collection.has(nextNumber)) {\n          nextNumber = Math.floor(Math.random() * MAX_SAFE_INTEGER);\n        }\n        return cache(collection, nextNumber);\n      };\n    };\n\n    var LAST_NUMBER_WEAK_MAP = new WeakMap();\n    var cache = createCache(LAST_NUMBER_WEAK_MAP);\n    var generateUniqueNumber = createGenerateUniqueNumber(cache, LAST_NUMBER_WEAK_MAP);\n    var addUniqueNumber = createAddUniqueNumber(generateUniqueNumber);\n\n    exports.addUniqueNumber = addUniqueNumber;\n    exports.generateUniqueNumber = generateUniqueNumber;\n\n}));\n", "/*! (c) Andrea Giammarchi @webreflection ISC */\n(function () {\n  'use strict';\n\n  var attributesObserver = (function (whenDefined, MutationObserver) {\n    var attributeChanged = function attributeChanged(records) {\n      for (var i = 0, length = records.length; i < length; i++) dispatch(records[i]);\n    };\n    var dispatch = function dispatch(_ref) {\n      var target = _ref.target,\n        attributeName = _ref.attributeName,\n        oldValue = _ref.oldValue;\n      target.attributeChangedCallback(attributeName, oldValue, target.getAttribute(attributeName));\n    };\n    return function (target, is) {\n      var attributeFilter = target.constructor.observedAttributes;\n      if (attributeFilter) {\n        whenDefined(is).then(function () {\n          new MutationObserver(attributeChanged).observe(target, {\n            attributes: true,\n            attributeOldValue: true,\n            attributeFilter: attributeFilter\n          });\n          for (var i = 0, length = attributeFilter.length; i < length; i++) {\n            if (target.hasAttribute(attributeFilter[i])) dispatch({\n              target: target,\n              attributeName: attributeFilter[i],\n              oldValue: null\n            });\n          }\n        });\n      }\n      return target;\n    };\n  });\n\n  function _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(o);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n  }\n  function _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n    for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n    return arr2;\n  }\n  function _createForOfIteratorHelper(o, allowArrayLike) {\n    var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n    if (!it) {\n      if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n        if (it) o = it;\n        var i = 0;\n        var F = function () {};\n        return {\n          s: F,\n          n: function () {\n            if (i >= o.length) return {\n              done: true\n            };\n            return {\n              done: false,\n              value: o[i++]\n            };\n          },\n          e: function (e) {\n            throw e;\n          },\n          f: F\n        };\n      }\n      throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n    }\n    var normalCompletion = true,\n      didErr = false,\n      err;\n    return {\n      s: function () {\n        it = it.call(o);\n      },\n      n: function () {\n        var step = it.next();\n        normalCompletion = step.done;\n        return step;\n      },\n      e: function (e) {\n        didErr = true;\n        err = e;\n      },\n      f: function () {\n        try {\n          if (!normalCompletion && it.return != null) it.return();\n        } finally {\n          if (didErr) throw err;\n        }\n      }\n    };\n  }\n\n  /*! (c) Andrea Giammarchi - ISC */\n  var TRUE = true,\n    FALSE = false,\n    QSA$1 = 'querySelectorAll';\n\n  /**\n   * Start observing a generic document or root element.\n   * @param {(node:Element, connected:boolean) => void} callback triggered per each dis/connected element\n   * @param {Document|Element} [root=document] by default, the global document to observe\n   * @param {Function} [MO=MutationObserver] by default, the global MutationObserver\n   * @param {string[]} [query=['*']] the selectors to use within nodes\n   * @returns {MutationObserver}\n   */\n  var notify = function notify(callback) {\n    var root = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : document;\n    var MO = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : MutationObserver;\n    var query = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : ['*'];\n    var loop = function loop(nodes, selectors, added, removed, connected, pass) {\n      var _iterator = _createForOfIteratorHelper(nodes),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var node = _step.value;\n          if (pass || QSA$1 in node) {\n            if (connected) {\n              if (!added.has(node)) {\n                added.add(node);\n                removed[\"delete\"](node);\n                callback(node, connected);\n              }\n            } else if (!removed.has(node)) {\n              removed.add(node);\n              added[\"delete\"](node);\n              callback(node, connected);\n            }\n            if (!pass) loop(node[QSA$1](selectors), selectors, added, removed, connected, TRUE);\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    };\n    var mo = new MO(function (records) {\n      if (query.length) {\n        var selectors = query.join(',');\n        var added = new Set(),\n          removed = new Set();\n        var _iterator2 = _createForOfIteratorHelper(records),\n          _step2;\n        try {\n          for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n            var _step2$value = _step2.value,\n              addedNodes = _step2$value.addedNodes,\n              removedNodes = _step2$value.removedNodes;\n            loop(removedNodes, selectors, added, removed, FALSE, FALSE);\n            loop(addedNodes, selectors, added, removed, TRUE, FALSE);\n          }\n        } catch (err) {\n          _iterator2.e(err);\n        } finally {\n          _iterator2.f();\n        }\n      }\n    });\n    var observe = mo.observe;\n    (mo.observe = function (node) {\n      return observe.call(mo, node, {\n        subtree: TRUE,\n        childList: TRUE\n      });\n    })(root);\n    return mo;\n  };\n\n  var QSA = 'querySelectorAll';\n  var _self$1 = self,\n    document$2 = _self$1.document,\n    Element$1 = _self$1.Element,\n    MutationObserver$2 = _self$1.MutationObserver,\n    Set$2 = _self$1.Set,\n    WeakMap$1 = _self$1.WeakMap;\n  var elements = function elements(element) {\n    return QSA in element;\n  };\n  var filter = [].filter;\n  var qsaObserver = (function (options) {\n    var live = new WeakMap$1();\n    var drop = function drop(elements) {\n      for (var i = 0, length = elements.length; i < length; i++) live[\"delete\"](elements[i]);\n    };\n    var flush = function flush() {\n      var records = observer.takeRecords();\n      for (var i = 0, length = records.length; i < length; i++) {\n        parse(filter.call(records[i].removedNodes, elements), false);\n        parse(filter.call(records[i].addedNodes, elements), true);\n      }\n    };\n    var matches = function matches(element) {\n      return element.matches || element.webkitMatchesSelector || element.msMatchesSelector;\n    };\n    var notifier = function notifier(element, connected) {\n      var selectors;\n      if (connected) {\n        for (var q, m = matches(element), i = 0, length = query.length; i < length; i++) {\n          if (m.call(element, q = query[i])) {\n            if (!live.has(element)) live.set(element, new Set$2());\n            selectors = live.get(element);\n            if (!selectors.has(q)) {\n              selectors.add(q);\n              options.handle(element, connected, q);\n            }\n          }\n        }\n      } else if (live.has(element)) {\n        selectors = live.get(element);\n        live[\"delete\"](element);\n        selectors.forEach(function (q) {\n          options.handle(element, connected, q);\n        });\n      }\n    };\n    var parse = function parse(elements) {\n      var connected = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      for (var i = 0, length = elements.length; i < length; i++) notifier(elements[i], connected);\n    };\n    var query = options.query;\n    var root = options.root || document$2;\n    var observer = notify(notifier, root, MutationObserver$2, query);\n    var attachShadow = Element$1.prototype.attachShadow;\n    if (attachShadow) Element$1.prototype.attachShadow = function (init) {\n      var shadowRoot = attachShadow.call(this, init);\n      observer.observe(shadowRoot);\n      return shadowRoot;\n    };\n    if (query.length) parse(root[QSA](query));\n    return {\n      drop: drop,\n      flush: flush,\n      observer: observer,\n      parse: parse\n    };\n  });\n\n  var _self = self,\n    document$1 = _self.document,\n    Map = _self.Map,\n    MutationObserver$1 = _self.MutationObserver,\n    Object$1 = _self.Object,\n    Set$1 = _self.Set,\n    WeakMap = _self.WeakMap,\n    Element = _self.Element,\n    HTMLElement = _self.HTMLElement,\n    Node = _self.Node,\n    Error = _self.Error,\n    TypeError$1 = _self.TypeError,\n    Reflect = _self.Reflect;\n  var defineProperty = Object$1.defineProperty,\n    keys = Object$1.keys,\n    getOwnPropertyNames = Object$1.getOwnPropertyNames,\n    setPrototypeOf = Object$1.setPrototypeOf;\n  var legacy = !self.customElements;\n  var expando = function expando(element) {\n    var key = keys(element);\n    var value = [];\n    var ignore = new Set$1();\n    var length = key.length;\n    for (var i = 0; i < length; i++) {\n      value[i] = element[key[i]];\n      try {\n        delete element[key[i]];\n      } catch (SafariTP) {\n        ignore.add(i);\n      }\n    }\n    return function () {\n      for (var _i = 0; _i < length; _i++) ignore.has(_i) || (element[key[_i]] = value[_i]);\n    };\n  };\n  if (legacy) {\n    var HTMLBuiltIn = function HTMLBuiltIn() {\n      var constructor = this.constructor;\n      if (!classes.has(constructor)) throw new TypeError$1('Illegal constructor');\n      var is = classes.get(constructor);\n      if (override) return augment(override, is);\n      var element = createElement.call(document$1, is);\n      return augment(setPrototypeOf(element, constructor.prototype), is);\n    };\n    var createElement = document$1.createElement;\n    var classes = new Map();\n    var defined = new Map();\n    var prototypes = new Map();\n    var registry = new Map();\n    var query = [];\n    var handle = function handle(element, connected, selector) {\n      var proto = prototypes.get(selector);\n      if (connected && !proto.isPrototypeOf(element)) {\n        var redefine = expando(element);\n        override = setPrototypeOf(element, proto);\n        try {\n          new proto.constructor();\n        } finally {\n          override = null;\n          redefine();\n        }\n      }\n      var method = \"\".concat(connected ? '' : 'dis', \"connectedCallback\");\n      if (method in proto) element[method]();\n    };\n    var _qsaObserver = qsaObserver({\n        query: query,\n        handle: handle\n      }),\n      parse = _qsaObserver.parse;\n    var override = null;\n    var whenDefined = function whenDefined(name) {\n      if (!defined.has(name)) {\n        var _,\n          $ = new Promise(function ($) {\n            _ = $;\n          });\n        defined.set(name, {\n          $: $,\n          _: _\n        });\n      }\n      return defined.get(name).$;\n    };\n    var augment = attributesObserver(whenDefined, MutationObserver$1);\n    self.customElements = {\n      define: function define(is, Class) {\n        if (registry.has(is)) throw new Error(\"the name \\\"\".concat(is, \"\\\" has already been used with this registry\"));\n        classes.set(Class, is);\n        prototypes.set(is, Class.prototype);\n        registry.set(is, Class);\n        query.push(is);\n        whenDefined(is).then(function () {\n          parse(document$1.querySelectorAll(is));\n        });\n        defined.get(is)._(Class);\n      },\n      get: function get(is) {\n        return registry.get(is);\n      },\n      whenDefined: whenDefined\n    };\n    defineProperty(HTMLBuiltIn.prototype = HTMLElement.prototype, 'constructor', {\n      value: HTMLBuiltIn\n    });\n    self.HTMLElement = HTMLBuiltIn;\n    document$1.createElement = function (name, options) {\n      var is = options && options.is;\n      var Class = is ? registry.get(is) : registry.get(name);\n      return Class ? new Class() : createElement.call(document$1, name);\n    };\n    // in case ShadowDOM is used through a polyfill, to avoid issues\n    // with builtin extends within shadow roots\n    if (!('isConnected' in Node.prototype)) defineProperty(Node.prototype, 'isConnected', {\n      configurable: true,\n      get: function get() {\n        return !(this.ownerDocument.compareDocumentPosition(this) & this.DOCUMENT_POSITION_DISCONNECTED);\n      }\n    });\n  } else {\n    legacy = !self.customElements.get('extends-br');\n    if (legacy) {\n      try {\n        var BR = function BR() {\n          return self.Reflect.construct(HTMLBRElement, [], BR);\n        };\n        BR.prototype = HTMLLIElement.prototype;\n        var is = 'extends-br';\n        self.customElements.define('extends-br', BR, {\n          'extends': 'br'\n        });\n        legacy = document$1.createElement('br', {\n          is: is\n        }).outerHTML.indexOf(is) < 0;\n        var _self$customElements = self.customElements,\n          get = _self$customElements.get,\n          _whenDefined = _self$customElements.whenDefined;\n        self.customElements.whenDefined = function (is) {\n          var _this = this;\n          return _whenDefined.call(this, is).then(function (Class) {\n            return Class || get.call(_this, is);\n          });\n        };\n      } catch (o_O) {}\n    }\n  }\n  if (legacy) {\n    var _parseShadow = function _parseShadow(element) {\n      var root = shadowRoots.get(element);\n      _parse(root.querySelectorAll(this), element.isConnected);\n    };\n    var customElements = self.customElements;\n    var _createElement = document$1.createElement;\n    var define = customElements.define,\n      _get = customElements.get,\n      upgrade = customElements.upgrade;\n    var _ref = Reflect || {\n        construct: function construct(HTMLElement) {\n          return HTMLElement.call(this);\n        }\n      },\n      construct = _ref.construct;\n    var shadowRoots = new WeakMap();\n    var shadows = new Set$1();\n    var _classes = new Map();\n    var _defined = new Map();\n    var _prototypes = new Map();\n    var _registry = new Map();\n    var shadowed = [];\n    var _query = [];\n    var getCE = function getCE(is) {\n      return _registry.get(is) || _get.call(customElements, is);\n    };\n    var _handle = function _handle(element, connected, selector) {\n      var proto = _prototypes.get(selector);\n      if (connected && !proto.isPrototypeOf(element)) {\n        var redefine = expando(element);\n        _override = setPrototypeOf(element, proto);\n        try {\n          new proto.constructor();\n        } finally {\n          _override = null;\n          redefine();\n        }\n      }\n      var method = \"\".concat(connected ? '' : 'dis', \"connectedCallback\");\n      if (method in proto) element[method]();\n    };\n    var _qsaObserver2 = qsaObserver({\n        query: _query,\n        handle: _handle\n      }),\n      _parse = _qsaObserver2.parse;\n    var _qsaObserver3 = qsaObserver({\n        query: shadowed,\n        handle: function handle(element, connected) {\n          if (shadowRoots.has(element)) {\n            if (connected) shadows.add(element);else shadows[\"delete\"](element);\n            if (_query.length) _parseShadow.call(_query, element);\n          }\n        }\n      }),\n      parseShadowed = _qsaObserver3.parse;\n    // qsaObserver also patches attachShadow\n    // be sure this runs *after* that\n    var attachShadow = Element.prototype.attachShadow;\n    if (attachShadow) Element.prototype.attachShadow = function (init) {\n      var root = attachShadow.call(this, init);\n      shadowRoots.set(this, root);\n      return root;\n    };\n    var _whenDefined2 = function _whenDefined2(name) {\n      if (!_defined.has(name)) {\n        var _,\n          $ = new Promise(function ($) {\n            _ = $;\n          });\n        _defined.set(name, {\n          $: $,\n          _: _\n        });\n      }\n      return _defined.get(name).$;\n    };\n    var _augment = attributesObserver(_whenDefined2, MutationObserver$1);\n    var _override = null;\n    getOwnPropertyNames(self).filter(function (k) {\n      return /^HTML.*Element$/.test(k);\n    }).forEach(function (k) {\n      var HTMLElement = self[k];\n      function HTMLBuiltIn() {\n        var constructor = this.constructor;\n        if (!_classes.has(constructor)) throw new TypeError$1('Illegal constructor');\n        var _classes$get = _classes.get(constructor),\n          is = _classes$get.is,\n          tag = _classes$get.tag;\n        if (is) {\n          if (_override) return _augment(_override, is);\n          var element = _createElement.call(document$1, tag);\n          element.setAttribute('is', is);\n          return _augment(setPrototypeOf(element, constructor.prototype), is);\n        } else return construct.call(this, HTMLElement, [], constructor);\n      }\n\n      defineProperty(HTMLBuiltIn.prototype = HTMLElement.prototype, 'constructor', {\n        value: HTMLBuiltIn\n      });\n      defineProperty(self, k, {\n        value: HTMLBuiltIn\n      });\n    });\n    document$1.createElement = function (name, options) {\n      var is = options && options.is;\n      if (is) {\n        var Class = _registry.get(is);\n        if (Class && _classes.get(Class).tag === name) return new Class();\n      }\n      var element = _createElement.call(document$1, name);\n      if (is) element.setAttribute('is', is);\n      return element;\n    };\n    customElements.get = getCE;\n    customElements.whenDefined = _whenDefined2;\n    customElements.upgrade = function (element) {\n      var is = element.getAttribute('is');\n      if (is) {\n        var _constructor = _registry.get(is);\n        if (_constructor) {\n          _augment(setPrototypeOf(element, _constructor.prototype), is);\n          // apparently unnecessary because this is handled by qsa observer\n          // if (element.isConnected && element.connectedCallback)\n          //   element.connectedCallback();\n          return;\n        }\n      }\n      upgrade.call(customElements, element);\n    };\n    customElements.define = function (is, Class, options) {\n      if (getCE(is)) throw new Error(\"'\".concat(is, \"' has already been defined as a custom element\"));\n      var selector;\n      var tag = options && options[\"extends\"];\n      _classes.set(Class, tag ? {\n        is: is,\n        tag: tag\n      } : {\n        is: '',\n        tag: is\n      });\n      if (tag) {\n        selector = \"\".concat(tag, \"[is=\\\"\").concat(is, \"\\\"]\");\n        _prototypes.set(selector, Class.prototype);\n        _registry.set(is, Class);\n        _query.push(selector);\n      } else {\n        define.apply(customElements, arguments);\n        shadowed.push(selector = is);\n      }\n      _whenDefined2(is).then(function () {\n        if (tag) {\n          _parse(document$1.querySelectorAll(selector));\n          shadows.forEach(_parseShadow, [selector]);\n        } else parseShadowed(document$1.querySelectorAll(selector));\n      });\n      _defined.get(is)._(Class);\n    };\n  }\n\n})();\n", "import t from\"pad-end\";var n=9e15,e=function(){for(var t=[],n=-323;n<=308;n++)t.push(Number(\"1e\"+n));return function(n){return t[n+323]}}(),r=function(t){return t instanceof a?t:new a(t)},i=function(t,n){return(new a).fromMantissaExponent(t,n)},o=function(t,n){return(new a).fromMantissaExponent_noNormalize(t,n)};function u(t,n,e,r){var i=n.mul(e.pow(r));return a.floor(t.div(i).mul(e.sub(1)).add(1).log10()/e.log10())}function s(t,n,e,r){return n.mul(e.pow(r)).mul(a.sub(1,e.pow(t))).div(a.sub(1,e))}var a=function(){function a(t){this.mantissa=NaN,this.exponent=NaN,void 0===t?(this.m=0,this.e=0):t instanceof a?this.fromDecimal(t):\"number\"==typeof t?this.fromNumber(t):this.fromString(t)}return Object.defineProperty(a.prototype,\"m\",{get:function(){return this.mantissa},set:function(t){this.mantissa=t},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,\"e\",{get:function(){return this.exponent},set:function(t){this.exponent=t},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,\"s\",{get:function(){return this.sign()},set:function(t){if(0===t)return this.e=0,void(this.m=0);this.sgn()!==t&&(this.m=-this.m)},enumerable:!1,configurable:!0}),a.fromMantissaExponent=function(t,n){return(new a).fromMantissaExponent(t,n)},a.fromMantissaExponent_noNormalize=function(t,n){return(new a).fromMantissaExponent_noNormalize(t,n)},a.fromDecimal=function(t){return(new a).fromDecimal(t)},a.fromNumber=function(t){return(new a).fromNumber(t)},a.fromString=function(t){return(new a).fromString(t)},a.fromValue=function(t){return(new a).fromValue(t)},a.fromValue_noAlloc=function(t){return t instanceof a?t:new a(t)},a.abs=function(t){return r(t).abs()},a.neg=function(t){return r(t).neg()},a.negate=function(t){return r(t).neg()},a.negated=function(t){return r(t).neg()},a.sign=function(t){return r(t).sign()},a.sgn=function(t){return r(t).sign()},a.round=function(t){return r(t).round()},a.floor=function(t){return r(t).floor()},a.ceil=function(t){return r(t).ceil()},a.trunc=function(t){return r(t).trunc()},a.add=function(t,n){return r(t).add(n)},a.plus=function(t,n){return r(t).add(n)},a.sub=function(t,n){return r(t).sub(n)},a.subtract=function(t,n){return r(t).sub(n)},a.minus=function(t,n){return r(t).sub(n)},a.mul=function(t,n){return r(t).mul(n)},a.multiply=function(t,n){return r(t).mul(n)},a.times=function(t,n){return r(t).mul(n)},a.div=function(t,n){return r(t).div(n)},a.divide=function(t,n){return r(t).div(n)},a.recip=function(t){return r(t).recip()},a.reciprocal=function(t){return r(t).recip()},a.reciprocate=function(t){return r(t).reciprocate()},a.cmp=function(t,n){return r(t).cmp(n)},a.compare=function(t,n){return r(t).cmp(n)},a.eq=function(t,n){return r(t).eq(n)},a.equals=function(t,n){return r(t).eq(n)},a.neq=function(t,n){return r(t).neq(n)},a.notEquals=function(t,n){return r(t).notEquals(n)},a.lt=function(t,n){return r(t).lt(n)},a.lte=function(t,n){return r(t).lte(n)},a.gt=function(t,n){return r(t).gt(n)},a.gte=function(t,n){return r(t).gte(n)},a.max=function(t,n){return r(t).max(n)},a.min=function(t,n){return r(t).min(n)},a.clamp=function(t,n,e){return r(t).clamp(n,e)},a.clampMin=function(t,n){return r(t).clampMin(n)},a.clampMax=function(t,n){return r(t).clampMax(n)},a.cmp_tolerance=function(t,n,e){return r(t).cmp_tolerance(n,e)},a.compare_tolerance=function(t,n,e){return r(t).cmp_tolerance(n,e)},a.eq_tolerance=function(t,n,e){return r(t).eq_tolerance(n,e)},a.equals_tolerance=function(t,n,e){return r(t).eq_tolerance(n,e)},a.neq_tolerance=function(t,n,e){return r(t).neq_tolerance(n,e)},a.notEquals_tolerance=function(t,n,e){return r(t).notEquals_tolerance(n,e)},a.lt_tolerance=function(t,n,e){return r(t).lt_tolerance(n,e)},a.lte_tolerance=function(t,n,e){return r(t).lte_tolerance(n,e)},a.gt_tolerance=function(t,n,e){return r(t).gt_tolerance(n,e)},a.gte_tolerance=function(t,n,e){return r(t).gte_tolerance(n,e)},a.log10=function(t){return r(t).log10()},a.absLog10=function(t){return r(t).absLog10()},a.pLog10=function(t){return r(t).pLog10()},a.log=function(t,n){return r(t).log(n)},a.log2=function(t){return r(t).log2()},a.ln=function(t){return r(t).ln()},a.logarithm=function(t,n){return r(t).logarithm(n)},a.pow10=function(t){return Number.isInteger(t)?o(1,t):i(Math.pow(10,t%1),Math.trunc(t))},a.pow=function(t,n){return\"number\"==typeof t&&10===t&&\"number\"==typeof n&&Number.isInteger(n)?o(1,n):r(t).pow(n)},a.exp=function(t){return r(t).exp()},a.sqr=function(t){return r(t).sqr()},a.sqrt=function(t){return r(t).sqrt()},a.cube=function(t){return r(t).cube()},a.cbrt=function(t){return r(t).cbrt()},a.dp=function(t){return r(t).dp()},a.decimalPlaces=function(t){return r(t).dp()},a.affordGeometricSeries=function(t,n,e,i){return u(r(t),r(n),r(e),i)},a.sumGeometricSeries=function(t,n,e,i){return s(t,r(n),r(e),i)},a.affordArithmeticSeries=function(t,n,e,i){return function(t,n,e,r){var i=n.add(r.mul(e)).sub(e.div(2)),o=i.pow(2);return i.neg().add(o.add(e.mul(t).mul(2)).sqrt()).div(e).floor()}(r(t),r(n),r(e),r(i))},a.sumArithmeticSeries=function(t,n,e,i){return function(t,n,e,r){var i=n.add(r.mul(e));return t.div(2).mul(i.mul(2).plus(t.sub(1).mul(e)))}(r(t),r(n),r(e),r(i))},a.efficiencyOfPurchase=function(t,n,e){return function(t,n,e){return t.div(n).add(t.div(e))}(r(t),r(n),r(e))},a.randomDecimalForTesting=function(t){if(20*Math.random()<1)return o(0,0);var n=10*Math.random();10*Math.random()<1&&(n=Math.round(n)),n*=Math.sign(2*Math.random()-1);var e=Math.floor(Math.random()*t*2)-t;return i(n,e)},a.prototype.normalize=function(){if(this.m>=1&&this.m<10)return this;if(0===this.m)return this.m=0,this.e=0,this;var t=Math.floor(Math.log10(Math.abs(this.m)));return this.m=-324===t?10*this.m/1e-323:this.m/e(t),this.e+=t,this},a.prototype.fromMantissaExponent=function(t,n){return isFinite(t)&&isFinite(n)?(this.m=t,this.e=n,this.normalize(),this):(t=Number.NaN,n=Number.NaN,this)},a.prototype.fromMantissaExponent_noNormalize=function(t,n){return this.m=t,this.e=n,this},a.prototype.fromDecimal=function(t){return this.m=t.m,this.e=t.e,this},a.prototype.fromNumber=function(t){return isNaN(t)?(this.m=Number.NaN,this.e=Number.NaN):t===Number.POSITIVE_INFINITY?(this.m=1,this.e=n):t===Number.NEGATIVE_INFINITY?(this.m=-1,this.e=n):0===t?(this.m=0,this.e=0):(this.e=Math.floor(Math.log10(Math.abs(t))),this.m=-324===this.e?10*t/1e-323:t/e(this.e),this.normalize()),this},a.prototype.fromString=function(t){if(-1!==t.indexOf(\"e\")){var n=t.split(\"e\");this.m=parseFloat(n[0]),this.e=parseFloat(n[1]),this.normalize()}else if(\"NaN\"===t)this.m=Number.NaN,this.e=Number.NaN;else if(this.fromNumber(parseFloat(t)),isNaN(this.m))throw Error(\"[DecimalError] Invalid argument: \"+t);return this},a.prototype.fromValue=function(t){return t instanceof a?this.fromDecimal(t):\"number\"==typeof t?this.fromNumber(t):\"string\"==typeof t?this.fromString(t):(this.m=0,this.e=0,this)},a.prototype.toNumber=function(){if(!isFinite(this.e))return Number.NaN;if(this.e>308)return this.m>0?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY;if(this.e<-324)return 0;if(-324===this.e)return this.m>0?5e-324:-5e-324;var t=this.m*e(this.e);if(!isFinite(t)||this.e<0)return t;var n=Math.round(t);return Math.abs(n-t)<1e-10?n:t},a.prototype.mantissaWithDecimalPlaces=function(t){if(isNaN(this.m)||isNaN(this.e))return Number.NaN;if(0===this.m)return 0;var n=t+1,e=Math.ceil(Math.log10(Math.abs(this.m))),r=Math.round(this.m*Math.pow(10,n-e))*Math.pow(10,e-n);return parseFloat(r.toFixed(Math.max(n-e,0)))},a.prototype.toString=function(){return isNaN(this.m)||isNaN(this.e)?\"NaN\":this.e>=n?this.m>0?\"Infinity\":\"-Infinity\":this.e<=-n||0===this.m?\"0\":this.e<21&&this.e>-7?this.toNumber().toString():this.m+\"e\"+(this.e>=0?\"+\":\"\")+this.e},a.prototype.toExponential=function(e){if(isNaN(this.m)||isNaN(this.e))return\"NaN\";if(this.e>=n)return this.m>0?\"Infinity\":\"-Infinity\";if(this.e<=-n||0===this.m)return\"0\"+(e>0?t(\".\",e+1,\"0\"):\"\")+\"e+0\";if(this.e>-324&&this.e<308)return this.toNumber().toExponential(e);isFinite(e)||(e=17);var r=e+1,i=Math.max(1,Math.ceil(Math.log10(Math.abs(this.m))));return(Math.round(this.m*Math.pow(10,r-i))*Math.pow(10,i-r)).toFixed(Math.max(r-i,0))+\"e\"+(this.e>=0?\"+\":\"\")+this.e},a.prototype.toFixed=function(e){return isNaN(this.m)||isNaN(this.e)?\"NaN\":this.e>=n?this.m>0?\"Infinity\":\"-Infinity\":this.e<=-n||0===this.m?\"0\"+(e>0?t(\".\",e+1,\"0\"):\"\"):this.e>=17?this.m.toString().replace(\".\",\"\").padEnd(this.e+1,\"0\")+(e>0?t(\".\",e+1,\"0\"):\"\"):this.toNumber().toFixed(e)},a.prototype.toPrecision=function(t){return this.e<=-7?this.toExponential(t-1):t>this.e?this.toFixed(t-this.e-1):this.toExponential(t-1)},a.prototype.valueOf=function(){return this.toString()},a.prototype.toJSON=function(){return this.toString()},a.prototype.toStringWithDecimalPlaces=function(t){return this.toExponential(t)},a.prototype.abs=function(){return o(Math.abs(this.m),this.e)},a.prototype.neg=function(){return o(-this.m,this.e)},a.prototype.negate=function(){return this.neg()},a.prototype.negated=function(){return this.neg()},a.prototype.sign=function(){return Math.sign(this.m)},a.prototype.sgn=function(){return this.sign()},a.prototype.round=function(){return this.e<-1?new a(0):this.e<17?new a(Math.round(this.toNumber())):this},a.prototype.floor=function(){return this.e<-1?Math.sign(this.m)>=0?new a(0):new a(-1):this.e<17?new a(Math.floor(this.toNumber())):this},a.prototype.ceil=function(){return this.e<-1?Math.sign(this.m)>0?new a(1):new a(0):this.e<17?new a(Math.ceil(this.toNumber())):this},a.prototype.trunc=function(){return this.e<0?new a(0):this.e<17?new a(Math.trunc(this.toNumber())):this},a.prototype.add=function(t){var n,o,u=r(t);if(0===this.m)return u;if(0===u.m)return this;if(this.e>=u.e?(n=this,o=u):(n=u,o=this),n.e-o.e>17)return n;var s=Math.round(1e14*n.m+1e14*o.m*e(o.e-n.e));return i(s,n.e-14)},a.prototype.plus=function(t){return this.add(t)},a.prototype.sub=function(t){return this.add(r(t).neg())},a.prototype.subtract=function(t){return this.sub(t)},a.prototype.minus=function(t){return this.sub(t)},a.prototype.mul=function(t){if(\"number\"==typeof t)return t<1e307&&t>-1e307?i(this.m*t,this.e):i(1e-307*this.m*t,this.e+307);var n=\"string\"==typeof t?new a(t):t;return i(this.m*n.m,this.e+n.e)},a.prototype.multiply=function(t){return this.mul(t)},a.prototype.times=function(t){return this.mul(t)},a.prototype.div=function(t){return this.mul(r(t).recip())},a.prototype.divide=function(t){return this.div(t)},a.prototype.divideBy=function(t){return this.div(t)},a.prototype.dividedBy=function(t){return this.div(t)},a.prototype.recip=function(){return i(1/this.m,-this.e)},a.prototype.reciprocal=function(){return this.recip()},a.prototype.reciprocate=function(){return this.recip()},a.prototype.cmp=function(t){var n=r(t);if(0===this.m){if(0===n.m)return 0;if(n.m<0)return 1;if(n.m>0)return-1}if(0===n.m){if(this.m<0)return-1;if(this.m>0)return 1}if(this.m>0)return n.m<0||this.e>n.e?1:this.e<n.e?-1:this.m>n.m?1:this.m<n.m?-1:0;if(this.m<0)return n.m>0||this.e>n.e?-1:this.e<n.e||this.m>n.m?1:this.m<n.m?-1:0;throw Error(\"Unreachable code\")},a.prototype.compare=function(t){return this.cmp(t)},a.prototype.eq=function(t){var n=r(t);return this.e===n.e&&this.m===n.m},a.prototype.equals=function(t){return this.eq(t)},a.prototype.neq=function(t){return!this.eq(t)},a.prototype.notEquals=function(t){return this.neq(t)},a.prototype.lt=function(t){var n=r(t);return 0===this.m?n.m>0:0===n.m?this.m<=0:this.e===n.e?this.m<n.m:this.m>0?n.m>0&&this.e<n.e:n.m>0||this.e>n.e},a.prototype.lte=function(t){return!this.gt(t)},a.prototype.gt=function(t){var n=r(t);return 0===this.m?n.m<0:0===n.m?this.m>0:this.e===n.e?this.m>n.m:this.m>0?n.m<0||this.e>n.e:n.m<0&&this.e<n.e},a.prototype.gte=function(t){return!this.lt(t)},a.prototype.max=function(t){var n=r(t);return this.lt(n)?n:this},a.prototype.min=function(t){var n=r(t);return this.gt(n)?n:this},a.prototype.clamp=function(t,n){return this.max(t).min(n)},a.prototype.clampMin=function(t){return this.max(t)},a.prototype.clampMax=function(t){return this.min(t)},a.prototype.cmp_tolerance=function(t,n){var e=r(t);return this.eq_tolerance(e,n)?0:this.cmp(e)},a.prototype.compare_tolerance=function(t,n){return this.cmp_tolerance(t,n)},a.prototype.eq_tolerance=function(t,n){var e=r(t);return a.lte(this.sub(e).abs(),a.max(this.abs(),e.abs()).mul(n))},a.prototype.equals_tolerance=function(t,n){return this.eq_tolerance(t,n)},a.prototype.neq_tolerance=function(t,n){return!this.eq_tolerance(t,n)},a.prototype.notEquals_tolerance=function(t,n){return this.neq_tolerance(t,n)},a.prototype.lt_tolerance=function(t,n){var e=r(t);return!this.eq_tolerance(e,n)&&this.lt(e)},a.prototype.lte_tolerance=function(t,n){var e=r(t);return this.eq_tolerance(e,n)||this.lt(e)},a.prototype.gt_tolerance=function(t,n){var e=r(t);return!this.eq_tolerance(e,n)&&this.gt(e)},a.prototype.gte_tolerance=function(t,n){var e=r(t);return this.eq_tolerance(e,n)||this.gt(e)},a.prototype.log10=function(){return this.e+Math.log10(this.m)},a.prototype.absLog10=function(){return this.e+Math.log10(Math.abs(this.m))},a.prototype.pLog10=function(){return this.m<=0||this.e<0?0:this.log10()},a.prototype.log=function(t){return Math.LN10/Math.log(t)*this.log10()},a.prototype.log2=function(){return 3.321928094887362*this.log10()},a.prototype.ln=function(){return 2.302585092994045*this.log10()},a.prototype.logarithm=function(t){return this.log(t)},a.prototype.pow=function(t){var n,e=t instanceof a?t.toNumber():t,r=this.e*e;if(Number.isSafeInteger(r)&&(n=Math.pow(this.m,e),isFinite(n)&&0!==n))return i(n,r);var o=Math.trunc(r),u=r-o;if(n=Math.pow(10,e*Math.log10(this.m)+u),isFinite(n)&&0!==n)return i(n,o);var s=a.pow10(e*this.absLog10());return-1===this.sign()?1===Math.abs(e%2)?s.neg():0===Math.abs(e%2)?s:new a(Number.NaN):s},a.prototype.pow_base=function(t){return r(t).pow(this)},a.prototype.factorial=function(){var t=this.toNumber()+1;return a.pow(t/Math.E*Math.sqrt(t*Math.sinh(1/t)+1/(810*Math.pow(t,6))),t).mul(Math.sqrt(2*Math.PI/t))},a.prototype.exp=function(){var t=this.toNumber();return-706<t&&t<709?a.fromNumber(Math.exp(t)):a.pow(Math.E,t)},a.prototype.sqr=function(){return i(Math.pow(this.m,2),2*this.e)},a.prototype.sqrt=function(){return this.m<0?new a(Number.NaN):this.e%2!=0?i(3.16227766016838*Math.sqrt(this.m),Math.floor(this.e/2)):i(Math.sqrt(this.m),Math.floor(this.e/2))},a.prototype.cube=function(){return i(Math.pow(this.m,3),3*this.e)},a.prototype.cbrt=function(){var t=1,n=this.m;n<0&&(t=-1,n=-n);var e=t*Math.pow(n,1/3),r=this.e%3;return i(1===r||-1===r?2.154434690031883*e:0!==r?4.641588833612778*e:e,Math.floor(this.e/3))},a.prototype.sinh=function(){return this.exp().sub(this.negate().exp()).div(2)},a.prototype.cosh=function(){return this.exp().add(this.negate().exp()).div(2)},a.prototype.tanh=function(){return this.sinh().div(this.cosh())},a.prototype.asinh=function(){return a.ln(this.add(this.sqr().add(1).sqrt()))},a.prototype.acosh=function(){return a.ln(this.add(this.sqr().sub(1).sqrt()))},a.prototype.atanh=function(){return this.abs().gte(1)?Number.NaN:a.ln(this.add(1).div(new a(1).sub(this)))/2},a.prototype.ascensionPenalty=function(t){return 0===t?this:this.pow(Math.pow(10,-t))},a.prototype.egg=function(){return this.add(9)},a.prototype.lessThanOrEqualTo=function(t){return this.cmp(t)<1},a.prototype.lessThan=function(t){return this.cmp(t)<0},a.prototype.greaterThanOrEqualTo=function(t){return this.cmp(t)>-1},a.prototype.greaterThan=function(t){return this.cmp(t)>0},a.prototype.decimalPlaces=function(){return this.dp()},a.prototype.dp=function(){if(!isFinite(this.mantissa))return NaN;if(this.exponent>=17)return 0;for(var t=this.mantissa,n=-this.exponent,e=1;Math.abs(Math.round(t*e)/e-t)>1e-10;)e*=10,n++;return n>0?n:0},Object.defineProperty(a,\"MAX_VALUE\",{get:function(){return h},enumerable:!1,configurable:!0}),Object.defineProperty(a,\"MIN_VALUE\",{get:function(){return c},enumerable:!1,configurable:!0}),Object.defineProperty(a,\"NUMBER_MAX_VALUE\",{get:function(){return p},enumerable:!1,configurable:!0}),Object.defineProperty(a,\"NUMBER_MIN_VALUE\",{get:function(){return f},enumerable:!1,configurable:!0}),a}(),h=o(1,n),c=o(1,-n),p=r(Number.MAX_VALUE),f=r(Number.MIN_VALUE);export default a;\n", "import '@ungap/custom-elements'\nimport Decimal from 'break_infinity.js'\nimport LZString from 'lz-string'\n\nimport {\n  autoAscensionChallengeSweepUnlock,\n  CalcECC,\n  challenge15ScoreMultiplier,\n  challengeDisplay,\n  challengeRequirement,\n  getChallengeConditions,\n  getMaxChallenges,\n  getNextChallenge,\n  highestChallengeRewards,\n  runChallengeSweep\n} from './Challenges'\nimport { btoa, cleanString, isDecimal, sortWithIndices, sumContents } from './Utility'\nimport { blankGlobals, Globals as G } from './Variables'\n\nimport {\n  achievementaward,\n  ascensionAchievementCheck,\n  buildingAchievementCheck,\n  challengeachievementcheck,\n  resetachievementcheck\n} from './Achievements'\nimport { antSacrificePointsToMultiplier, autoBuyAnts, calculateCrumbToCoinExp } from './Ants'\nimport { autoUpgrades } from './Automation'\nimport type { TesseractBuildings } from './Buy'\nimport {\n  boostAccelerator,\n  buyAccelerator,\n  buyCrystalUpgrades,\n  buyMax,\n  buyMultiplier,\n  buyParticleBuilding,\n  buyRuneBonusLevels,\n  buyTesseractBuilding,\n  calculateTessBuildingsInBudget,\n  getCost,\n  getReductionValue\n} from './Buy'\nimport {\n  calculateAcceleratorMultiplier,\n  calculateAnts,\n  calculateCorruptionPoints,\n  calculateCubeBlessings,\n  calculateGoldenQuarkGain,\n  calculateObtainium,\n  calculateOfferings,\n  calculateOffline,\n  calculateRuneLevels,\n  calculateSigmoidExponential,\n  calculateTimeAcceleration,\n  calculateTotalAcceleratorBoost,\n  calculateTotalCoinOwned,\n  dailyResetCheck,\n  exitOffline\n} from './Calculate'\nimport {\n  corrChallengeMinimum,\n  corruptionButtonsAdd,\n  corruptionLoadoutSaveLoad,\n  corruptionLoadoutTableCreate,\n  corruptionLoadoutTableUpdate,\n  corruptionStatsUpdate,\n  maxCorruptionLevel,\n  updateCorruptionLoadoutNames\n} from './Corruptions'\nimport { updateCubeUpgradeBG } from './Cubes'\nimport { generateEventHandlers } from './EventListeners'\nimport { addTimers, automaticTools } from './Helper'\nimport { resetHistoryRenderAllTables } from './History'\nimport { calculateHypercubeBlessings } from './Hypercubes'\nimport { calculatePlatonicBlessings } from './PlatonicCubes'\nimport { buyResearch, maxRoombaResearchIndex, updateResearchBG } from './Research'\nimport { autoResearchEnabled } from './Research'\nimport {\n  reset,\n  resetrepeat,\n  singularity,\n  updateAutoCubesOpens,\n  updateAutoReset,\n  updateSingularityAchievements,\n  updateSingularityGlobalPerks,\n  updateTesseractAutoBuyAmount\n} from './Reset'\nimport { redeemShards } from './Runes'\nimport { c15RewardUpdate } from './Statistics'\nimport {\n  buyTalismanEnhance,\n  buyTalismanLevels,\n  calculateMaxTalismanLevel,\n  toggleTalismanBuy,\n  updateTalismanAppearance,\n  updateTalismanInventory\n} from './Talismans'\nimport { calculatetax } from './Tax'\nimport { calculateTesseractBlessings } from './Tesseracts'\nimport {\n  autoCubeUpgradesToggle,\n  autoPlatonicUpgradesToggle,\n  toggleAntAutoSacrifice,\n  toggleAntMaxBuy,\n  toggleAscStatPerSecond,\n  toggleauto,\n  toggleAutoAscend,\n  toggleAutoChallengeModeText,\n  toggleChallenges,\n  toggleShops,\n  updateAutoChallenge,\n  updateRuneBlessingBuyAmount\n} from './Toggles'\nimport type { OneToFive, Player, resetNames, ZeroToFour } from './types/Synergism'\nimport {\n  Alert,\n  buttoncolorchange,\n  changeTabColor,\n  Confirm,\n  htmlInserts,\n  Notification,\n  revealStuff,\n  showCorruptionStatsLoadouts,\n  updateAchievementBG,\n  updateChallengeDisplay,\n  updateChallengeLevel\n} from './UpdateHTML'\nimport {\n  ascendBuildingDR,\n  buyConstantUpgrades,\n  categoryUpgrades,\n  getConstUpgradeMetadata,\n  upgradeupdate\n} from './Upgrades'\n// import { LegacyShopUpgrades } from './types/LegacySynergism';\n\nimport i18next from 'i18next'\nimport localforage from 'localforage'\nimport { BlueberryUpgrade, blueberryUpgradeData, updateLoadoutHoverClasses } from './BlueberryUpgrades'\nimport { DOMCacheGetOrSet } from './Cache/DOM'\nimport { lastUpdated, prod, testing, version } from './Config'\nimport { WowCubes, WowHypercubes, WowPlatonicCubes, WowTesseracts } from './CubeExperimental'\nimport { eventCheck } from './Event'\nimport {\n  AbyssHepteract,\n  AcceleratorBoostHepteract,\n  AcceleratorHepteract,\n  ChallengeHepteract,\n  ChronosHepteract,\n  hepteractEffective,\n  HyperrealismHepteract,\n  MultiplierHepteract,\n  QuarkHepteract,\n  toggleAutoBuyOrbs\n} from './Hepteracts'\nimport { disableHotkeys } from './Hotkeys'\nimport { init as i18nInit } from './i18n'\nimport { handleLogin } from './Login'\nimport { octeractData, OcteractUpgrade } from './Octeracts'\nimport { updatePlatonicUpgradeBG } from './Platonic'\nimport { getQuarkBonus, QuarkHandler } from './Quark'\nimport { playerJsonSchema } from './saves/PlayerJsonSchema'\nimport { playerSchema } from './saves/PlayerSchema'\nimport { getFastForwardTotalMultiplier, singularityData, SingularityUpgrade } from './singularity'\nimport { SingularityChallenge, singularityChallengeData } from './SingularityChallenges'\nimport {\n  AmbrosiaGenerationCache,\n  AmbrosiaLuckAdditiveMultCache,\n  AmbrosiaLuckCache,\n  BlueberryInventoryCache,\n  cacheReinitialize\n} from './StatCache'\nimport { changeSubTab, changeTab, Tabs } from './Tabs'\nimport { settingAnnotation, toggleIconSet, toggleTheme } from './Themes'\nimport { clearTimeout, clearTimers, setInterval, setTimeout } from './Timers'\nimport type { PlayerSave } from './types/LegacySynergism'\n\nexport const player: Player = {\n  firstPlayed: new Date().toISOString(),\n  worlds: new QuarkHandler(0),\n  coins: new Decimal('1e2'),\n  coinsThisPrestige: new Decimal('1e2'),\n  coinsThisTranscension: new Decimal('1e2'),\n  coinsThisReincarnation: new Decimal('1e2'),\n  coinsTotal: new Decimal('100'),\n\n  firstOwnedCoin: 0,\n  firstGeneratedCoin: new Decimal('0'),\n  firstCostCoin: new Decimal('100'),\n  firstProduceCoin: 0.25,\n\n  secondOwnedCoin: 0,\n  secondGeneratedCoin: new Decimal('0'),\n  secondCostCoin: new Decimal('1e3'),\n  secondProduceCoin: 2.5,\n\n  thirdOwnedCoin: 0,\n  thirdGeneratedCoin: new Decimal('0'),\n  thirdCostCoin: new Decimal('2e4'),\n  thirdProduceCoin: 25,\n\n  fourthOwnedCoin: 0,\n  fourthGeneratedCoin: new Decimal('0'),\n  fourthCostCoin: new Decimal('4e5'),\n  fourthProduceCoin: 250,\n\n  fifthOwnedCoin: 0,\n  fifthGeneratedCoin: new Decimal('0'),\n  fifthCostCoin: new Decimal('8e6'),\n  fifthProduceCoin: 2500,\n\n  firstOwnedDiamonds: 0,\n  firstGeneratedDiamonds: new Decimal('0'),\n  firstCostDiamonds: new Decimal('100'),\n  firstProduceDiamonds: 0.05,\n\n  secondOwnedDiamonds: 0,\n  secondGeneratedDiamonds: new Decimal('0'),\n  secondCostDiamonds: new Decimal('1e5'),\n  secondProduceDiamonds: 0.0005,\n\n  thirdOwnedDiamonds: 0,\n  thirdGeneratedDiamonds: new Decimal('0'),\n  thirdCostDiamonds: new Decimal('1e15'),\n  thirdProduceDiamonds: 0.00005,\n\n  fourthOwnedDiamonds: 0,\n  fourthGeneratedDiamonds: new Decimal('0'),\n  fourthCostDiamonds: new Decimal('1e40'),\n  fourthProduceDiamonds: 0.000005,\n\n  fifthOwnedDiamonds: 0,\n  fifthGeneratedDiamonds: new Decimal('0'),\n  fifthCostDiamonds: new Decimal('1e100'),\n  fifthProduceDiamonds: 0.000005,\n\n  firstOwnedMythos: 0,\n  firstGeneratedMythos: new Decimal('0'),\n  firstCostMythos: new Decimal('1'),\n  firstProduceMythos: 1,\n\n  secondOwnedMythos: 0,\n  secondGeneratedMythos: new Decimal('0'),\n  secondCostMythos: new Decimal('100'),\n  secondProduceMythos: 0.01,\n\n  thirdOwnedMythos: 0,\n  thirdGeneratedMythos: new Decimal('0'),\n  thirdCostMythos: new Decimal('1e4'),\n  thirdProduceMythos: 0.001,\n\n  fourthOwnedMythos: 0,\n  fourthGeneratedMythos: new Decimal('0'),\n  fourthCostMythos: new Decimal('1e8'),\n  fourthProduceMythos: 0.0002,\n\n  fifthOwnedMythos: 0,\n  fifthGeneratedMythos: new Decimal('0'),\n  fifthCostMythos: new Decimal('1e16'),\n  fifthProduceMythos: 0.00004,\n\n  firstOwnedParticles: 0,\n  firstGeneratedParticles: new Decimal('0'),\n  firstCostParticles: new Decimal('1'),\n  firstProduceParticles: 0.25,\n\n  secondOwnedParticles: 0,\n  secondGeneratedParticles: new Decimal('0'),\n  secondCostParticles: new Decimal('100'),\n  secondProduceParticles: 0.2,\n\n  thirdOwnedParticles: 0,\n  thirdGeneratedParticles: new Decimal('0'),\n  thirdCostParticles: new Decimal('1e4'),\n  thirdProduceParticles: 0.15,\n\n  fourthOwnedParticles: 0,\n  fourthGeneratedParticles: new Decimal('0'),\n  fourthCostParticles: new Decimal('1e8'),\n  fourthProduceParticles: 0.1,\n\n  fifthOwnedParticles: 0,\n  fifthGeneratedParticles: new Decimal('0'),\n  fifthCostParticles: new Decimal('1e16'),\n  fifthProduceParticles: 0.5,\n\n  firstOwnedAnts: 0,\n  firstGeneratedAnts: new Decimal('0'),\n  firstCostAnts: new Decimal('1e700'),\n  firstProduceAnts: 0.0001,\n\n  secondOwnedAnts: 0,\n  secondGeneratedAnts: new Decimal('0'),\n  secondCostAnts: new Decimal('3'),\n  secondProduceAnts: 0.00005,\n\n  thirdOwnedAnts: 0,\n  thirdGeneratedAnts: new Decimal('0'),\n  thirdCostAnts: new Decimal('100'),\n  thirdProduceAnts: 0.00002,\n\n  fourthOwnedAnts: 0,\n  fourthGeneratedAnts: new Decimal('0'),\n  fourthCostAnts: new Decimal('1e4'),\n  fourthProduceAnts: 0.00001,\n\n  fifthOwnedAnts: 0,\n  fifthGeneratedAnts: new Decimal('0'),\n  fifthCostAnts: new Decimal('1e12'),\n  fifthProduceAnts: 0.000005,\n\n  sixthOwnedAnts: 0,\n  sixthGeneratedAnts: new Decimal('0'),\n  sixthCostAnts: new Decimal('1e36'),\n  sixthProduceAnts: 0.000002,\n\n  seventhOwnedAnts: 0,\n  seventhGeneratedAnts: new Decimal('0'),\n  seventhCostAnts: new Decimal('1e100'),\n  seventhProduceAnts: 0.000001,\n\n  eighthOwnedAnts: 0,\n  eighthGeneratedAnts: new Decimal('0'),\n  eighthCostAnts: new Decimal('1e300'),\n  eighthProduceAnts: 0.00000001,\n\n  ascendBuilding1: {\n    cost: 1,\n    owned: 0,\n    generated: new Decimal('0'),\n    multiplier: 0.01\n  },\n  ascendBuilding2: {\n    cost: 10,\n    owned: 0,\n    generated: new Decimal('0'),\n    multiplier: 0.01\n  },\n  ascendBuilding3: {\n    cost: 100,\n    owned: 0,\n    generated: new Decimal('0'),\n    multiplier: 0.01\n  },\n  ascendBuilding4: {\n    cost: 1000,\n    owned: 0,\n    generated: new Decimal('0'),\n    multiplier: 0.01\n  },\n  ascendBuilding5: {\n    cost: 10000,\n    owned: 0,\n    generated: new Decimal('0'),\n    multiplier: 0.01\n  },\n\n  multiplierCost: new Decimal('1e4'),\n  multiplierBought: 0,\n\n  acceleratorCost: new Decimal('500'),\n  acceleratorBought: 0,\n\n  acceleratorBoostBought: 0,\n  acceleratorBoostCost: new Decimal('1e3'),\n\n  upgrades: Array(141).fill(0) as number[],\n\n  prestigeCount: 0,\n  transcendCount: 0,\n  reincarnationCount: 0,\n\n  prestigePoints: new Decimal('0'),\n  transcendPoints: new Decimal('0'),\n  reincarnationPoints: new Decimal('0'),\n\n  prestigeShards: new Decimal('0'),\n  transcendShards: new Decimal('0'),\n  reincarnationShards: new Decimal('0'),\n\n  toggles: {\n    1: false,\n    2: false,\n    3: false,\n    4: false,\n    5: false,\n    6: false,\n    7: false,\n    8: false,\n    9: false,\n    10: false,\n    11: false,\n    12: false,\n    13: false,\n    14: false,\n    15: false,\n    16: false,\n    17: false,\n    18: false,\n    19: false,\n    20: false,\n    21: false,\n    22: false,\n    23: false,\n    24: false,\n    25: false,\n    26: false,\n    27: false,\n    28: true,\n    29: true,\n    30: true,\n    31: true,\n    32: true,\n    33: true,\n    34: true,\n    35: true,\n    36: false,\n    37: false,\n    38: false,\n    39: true,\n    40: true,\n    41: true,\n    42: false,\n    43: false\n  },\n\n  challengecompletions: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n  highestchallengecompletions: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n  challenge15Exponent: 0,\n  highestChallenge15Exponent: 0,\n\n  retrychallenges: false,\n  currentChallenge: {\n    transcension: 0,\n    reincarnation: 0,\n    ascension: 0\n  },\n  researchPoints: 0,\n  obtainiumtimer: 0,\n  obtainiumpersecond: 0,\n  maxobtainiumpersecond: 0,\n  maxobtainium: 0,\n  // Ignore the first index. The other 25 are shaped in a 5x5 grid similar to the production appearance\n  // dprint-ignore\n  researches: [\n    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n    0,\n  ],\n\n  unlocks: {\n    coinone: false,\n    cointwo: false,\n    cointhree: false,\n    coinfour: false,\n    prestige: false,\n    generation: false,\n    transcend: false,\n    reincarnate: false,\n    rrow1: false,\n    rrow2: false,\n    rrow3: false,\n    rrow4: false\n  },\n  achievements: Array(281).fill(0) as number[],\n\n  achievementPoints: 0,\n\n  prestigenomultiplier: true,\n  prestigenoaccelerator: true,\n  transcendnomultiplier: true,\n  transcendnoaccelerator: true,\n  reincarnatenomultiplier: true,\n  reincarnatenoaccelerator: true,\n  prestigenocoinupgrades: true,\n  transcendnocoinupgrades: true,\n  transcendnocoinorprestigeupgrades: true,\n  reincarnatenocoinupgrades: true,\n  reincarnatenocoinorprestigeupgrades: true,\n  reincarnatenocoinprestigeortranscendupgrades: true,\n  reincarnatenocoinprestigetranscendorgeneratorupgrades: true,\n\n  crystalUpgrades: [0, 0, 0, 0, 0, 0, 0, 0],\n  crystalUpgradesCost: [7, 15, 20, 40, 100, 200, 500, 1000],\n\n  runelevels: [1, 1, 1, 1, 1, 0, 0],\n  runeexp: [0, 0, 0, 0, 0, 0, 0],\n  runeshards: 0,\n  maxofferings: 0,\n  offeringpersecond: 0,\n\n  prestigecounter: 0,\n  transcendcounter: 0,\n  reincarnationcounter: 0,\n  offlinetick: 0,\n\n  prestigeamount: 0,\n  transcendamount: 0,\n  reincarnationamount: 0,\n\n  fastestprestige: 9999999999,\n  fastesttranscend: 99999999999,\n  fastestreincarnate: 999999999999,\n\n  resettoggle1: 1,\n  resettoggle2: 1,\n  resettoggle3: 1,\n  resettoggle4: 1,\n\n  tesseractAutoBuyerToggle: 0,\n  tesseractAutoBuyerAmount: 0,\n\n  coinbuyamount: 1,\n  crystalbuyamount: 1,\n  mythosbuyamount: 1,\n  particlebuyamount: 1,\n  offeringbuyamount: 1,\n  tesseractbuyamount: 1,\n\n  shoptoggles: {\n    coin: true,\n    prestige: true,\n    transcend: true,\n    generators: true,\n    reincarnate: true\n  },\n  tabnumber: 1,\n  subtabNumber: 0,\n\n  // create a Map with keys defaulting to false\n  codes: new Map(Array.from({ length: 48 }, (_, i) => [i + 1, false])),\n\n  loaded1009: true,\n  loaded1009hotfix1: true,\n  loaded10091: true,\n  loaded1010: true,\n  loaded10101: true,\n\n  shopUpgrades: {\n    offeringPotion: 1,\n    obtainiumPotion: 1,\n    offeringEX: 0,\n    offeringAuto: 0,\n    obtainiumEX: 0,\n    obtainiumAuto: 0,\n    instantChallenge: 0,\n    antSpeed: 0,\n    cashGrab: 0,\n    shopTalisman: 0,\n    seasonPass: 0,\n    challengeExtension: 0,\n    challengeTome: 0,\n    cubeToQuark: 0,\n    tesseractToQuark: 0,\n    hypercubeToQuark: 0,\n    seasonPass2: 0,\n    seasonPass3: 0,\n    chronometer: 0,\n    infiniteAscent: 0,\n    calculator: 0,\n    calculator2: 0,\n    calculator3: 0,\n    calculator4: 0,\n    calculator5: 0,\n    calculator6: 0,\n    calculator7: 0,\n    constantEX: 0,\n    powderEX: 0,\n    chronometer2: 0,\n    chronometer3: 0,\n    seasonPassY: 0,\n    seasonPassZ: 0,\n    challengeTome2: 0,\n    instantChallenge2: 0,\n    cashGrab2: 0,\n    chronometerZ: 0,\n    cubeToQuarkAll: 0,\n    offeringEX2: 0,\n    obtainiumEX2: 0,\n    seasonPassLost: 0,\n    powderAuto: 0,\n    challenge15Auto: 0,\n    extraWarp: 0,\n    autoWarp: 0,\n    improveQuarkHept: 0,\n    improveQuarkHept2: 0,\n    improveQuarkHept3: 0,\n    improveQuarkHept4: 0,\n    shopImprovedDaily: 0,\n    shopImprovedDaily2: 0,\n    shopImprovedDaily3: 0,\n    shopImprovedDaily4: 0,\n    offeringEX3: 0,\n    obtainiumEX3: 0,\n    improveQuarkHept5: 0,\n    seasonPassInfinity: 0,\n    chronometerInfinity: 0,\n    shopSingularityPenaltyDebuff: 0,\n    shopAmbrosiaLuckMultiplier4: 0,\n    shopOcteractAmbrosiaLuck: 0,\n    shopAmbrosiaGeneration1: 0,\n    shopAmbrosiaGeneration2: 0,\n    shopAmbrosiaGeneration3: 0,\n    shopAmbrosiaGeneration4: 0,\n    shopAmbrosiaLuck1: 0,\n    shopAmbrosiaLuck2: 0,\n    shopAmbrosiaLuck3: 0,\n    shopAmbrosiaLuck4: 0,\n    shopCashGrabUltra: 0,\n    shopAmbrosiaAccelerator: 0,\n    shopEXUltra: 0,\n    shopChronometerS: 0,\n    shopAmbrosiaUltra: 0,\n    shopSingularitySpeedup: 0,\n    shopSingularityPotency: 0,\n    shopSadisticRune: 0,\n  },\n  shopBuyMaxToggle: false,\n  shopHideToggle: false,\n  shopConfirmationToggle: true,\n  autoPotionTimer: 0,\n  autoPotionTimerObtainium: 0,\n\n  autoSacrificeToggle: false,\n  autoBuyFragment: false,\n  autoFortifyToggle: false,\n  autoEnhanceToggle: false,\n  autoResearchToggle: false,\n  researchBuyMaxToggle: false,\n  autoResearchMode: 'manual',\n  autoResearch: 0,\n  autoSacrifice: 0,\n  sacrificeTimer: 0,\n  quarkstimer: 90000,\n  goldenQuarksTimer: 90000,\n\n  antPoints: new Decimal('1'),\n  antUpgrades: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n  antSacrificePoints: 0,\n  antSacrificeTimer: 900,\n  antSacrificeTimerReal: 900,\n\n  talismanLevels: [0, 0, 0, 0, 0, 0, 0],\n  talismanRarity: [1, 1, 1, 1, 1, 1, 1],\n  talismanOne: [null, -1, 1, 1, 1, -1],\n  talismanTwo: [null, 1, 1, -1, -1, 1],\n  talismanThree: [null, 1, -1, 1, 1, -1],\n  talismanFour: [null, -1, -1, 1, 1, 1],\n  talismanFive: [null, 1, 1, -1, -1, 1],\n  talismanSix: [null, 1, 1, 1, -1, -1],\n  talismanSeven: [null, -1, 1, -1, 1, 1],\n  talismanShards: 0,\n  commonFragments: 0,\n  uncommonFragments: 0,\n  rareFragments: 0,\n  epicFragments: 0,\n  legendaryFragments: 0,\n  mythicalFragments: 0,\n\n  buyTalismanShardPercent: 10,\n\n  autoAntSacrifice: false,\n  autoAntSacTimer: 900,\n  autoAntSacrificeMode: 0,\n  antMax: false,\n\n  ascensionCount: 0,\n  ascensionCounter: 0,\n  ascensionCounterReal: 0,\n  ascensionCounterRealReal: 0,\n  // dprint-ignore\n  cubeUpgrades: [\n    null,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n  ],\n  cubeUpgradesBuyMaxToggle: false,\n  autoCubeUpgradesToggle: false,\n  autoPlatonicUpgradesToggle: false,\n  platonicUpgrades: [\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0\n  ],\n  wowCubes: new WowCubes(0),\n  wowTesseracts: new WowTesseracts(0),\n  wowHypercubes: new WowHypercubes(0),\n  wowPlatonicCubes: new WowPlatonicCubes(0),\n  saveOfferingToggle: false,\n  wowAbyssals: 0,\n  wowOcteracts: 0,\n  totalWowOcteracts: 0,\n  cubeBlessings: {\n    accelerator: 0,\n    multiplier: 0,\n    offering: 0,\n    runeExp: 0,\n    obtainium: 0,\n    antSpeed: 0,\n    antSacrifice: 0,\n    antELO: 0,\n    talismanBonus: 0,\n    globalSpeed: 0\n  },\n  tesseractBlessings: {\n    accelerator: 0,\n    multiplier: 0,\n    offering: 0,\n    runeExp: 0,\n    obtainium: 0,\n    antSpeed: 0,\n    antSacrifice: 0,\n    antELO: 0,\n    talismanBonus: 0,\n    globalSpeed: 0\n  },\n  hypercubeBlessings: {\n    accelerator: 0,\n    multiplier: 0,\n    offering: 0,\n    runeExp: 0,\n    obtainium: 0,\n    antSpeed: 0,\n    antSacrifice: 0,\n    antELO: 0,\n    talismanBonus: 0,\n    globalSpeed: 0\n  },\n  platonicBlessings: {\n    cubes: 0,\n    tesseracts: 0,\n    hypercubes: 0,\n    platonics: 0,\n    hypercubeBonus: 0,\n    taxes: 0,\n    scoreBonus: 0,\n    globalSpeed: 0\n  },\n\n  hepteractCrafts: {\n    chronos: ChronosHepteract,\n    hyperrealism: HyperrealismHepteract,\n    quark: QuarkHepteract,\n    challenge: ChallengeHepteract,\n    abyss: AbyssHepteract,\n    accelerator: AcceleratorHepteract,\n    acceleratorBoost: AcceleratorBoostHepteract,\n    multiplier: MultiplierHepteract\n  },\n\n  ascendShards: new Decimal('0'),\n  autoAscend: false,\n  autoAscendMode: 'c10Completions',\n  autoAscendThreshold: 1,\n  autoOpenCubes: false,\n  openCubes: 0,\n  autoOpenTesseracts: false,\n  openTesseracts: 0,\n  autoOpenHypercubes: false,\n  openHypercubes: 0,\n  autoOpenPlatonicsCubes: false,\n  openPlatonicsCubes: 0,\n  roombaResearchIndex: 0,\n  ascStatToggles: {\n    // false here means show per second\n    1: false,\n    2: false,\n    3: false,\n    4: false,\n    5: false,\n    6: false,\n  },\n\n  prototypeCorruptions: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n  usedCorruptions: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n  corruptionLoadouts: {\n    // If you add loadouts don't forget to add loadout names!\n    1: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n    2: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n    3: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n    4: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n    5: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n    6: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n    7: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n    8: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]\n  },\n  corruptionLoadoutNames: [\n    'Loadout 1',\n    'Loadout 2',\n    'Loadout 3',\n    'Loadout 4',\n    'Loadout 5',\n    'Loadout 6',\n    'Loadout 7',\n    'Loadout 8'\n  ],\n  corruptionShowStats: true,\n\n  constantUpgrades: [null, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n  history: { ants: [], ascend: [], reset: [], singularity: [] },\n  historyShowPerSecond: false,\n\n  autoChallengeRunning: false,\n  autoChallengeIndex: 1,\n  autoChallengeToggles: [\n    false,\n    true,\n    true,\n    true,\n    true,\n    true,\n    true,\n    true,\n    true,\n    true,\n    true,\n    false,\n    false,\n    false,\n    false,\n    false\n  ],\n  autoChallengeStartExponent: 10,\n  autoChallengeTimer: {\n    start: 10,\n    exit: 2,\n    enter: 2\n  },\n\n  runeBlessingLevels: [0, 0, 0, 0, 0, 0],\n  runeSpiritLevels: [0, 0, 0, 0, 0, 0],\n  runeBlessingBuyAmount: 0,\n  runeSpiritBuyAmount: 0,\n\n  autoTesseracts: [false, false, false, false, false, false],\n\n  saveString: 'Synergism-$VERSION$-$TIME$.txt',\n  exporttest: !testing,\n\n  dayCheck: null,\n  dayTimer: 0,\n  cubeOpenedDaily: 0,\n  cubeQuarkDaily: 0,\n  tesseractOpenedDaily: 0,\n  tesseractQuarkDaily: 0,\n  hypercubeOpenedDaily: 0,\n  hypercubeQuarkDaily: 0,\n  platonicCubeOpenedDaily: 0,\n  platonicCubeQuarkDaily: 0,\n  overfluxOrbs: 0,\n  overfluxOrbsAutoBuy: false,\n  overfluxPowder: 0,\n  dailyPowderResetUses: 1,\n  autoWarpCheck: false,\n  loadedOct4Hotfix: false,\n  loadedNov13Vers: true,\n  loadedDec16Vers: true,\n  loadedV253: true,\n  loadedV255: true,\n  loadedV297Hotfix1: true,\n  loadedV2927Hotfix1: true,\n  loadedV2930Hotfix1: true,\n  loadedV2931Hotfix1: true,\n  loadedV21003Hotfix1: true,\n  loadedV21007Hotfix1: true,\n  version,\n  rngCode: 0,\n  promoCodeTiming: {\n    time: 0\n  },\n  singularityCount: 0,\n  highestSingularityCount: 0,\n  singularityCounter: 0,\n  goldenQuarks: 0,\n  quarksThisSingularity: 0,\n  totalQuarksEver: 0,\n  hotkeys: {},\n  theme: 'Dark Mode',\n  iconSet: 0,\n  notation: 'Default',\n\n  singularityUpgrades: {\n    goldenQuarks1: new SingularityUpgrade(\n      singularityData.goldenQuarks1,\n      'goldenQuarks1'\n    ),\n    goldenQuarks2: new SingularityUpgrade(\n      singularityData.goldenQuarks2,\n      'goldenQuarks2'\n    ),\n    goldenQuarks3: new SingularityUpgrade(\n      singularityData.goldenQuarks3,\n      'goldenQuarks3'\n    ),\n    starterPack: new SingularityUpgrade(\n      singularityData.starterPack,\n      'starterPack'\n    ),\n    wowPass: new SingularityUpgrade(singularityData.wowPass, 'wowPass'),\n    cookies: new SingularityUpgrade(singularityData.cookies, 'cookies'),\n    cookies2: new SingularityUpgrade(singularityData.cookies2, 'cookies2'),\n    cookies3: new SingularityUpgrade(singularityData.cookies3, 'cookies3'),\n    cookies4: new SingularityUpgrade(singularityData.cookies4, 'cookies4'),\n    cookies5: new SingularityUpgrade(singularityData.cookies5, 'cookies5'),\n    ascensions: new SingularityUpgrade(\n      singularityData.ascensions,\n      'ascensions'\n    ),\n    corruptionFourteen: new SingularityUpgrade(\n      singularityData.corruptionFourteen,\n      'corruptionFourteen'\n    ),\n    corruptionFifteen: new SingularityUpgrade(\n      singularityData.corruptionFifteen,\n      'corruptionFifteen'\n    ),\n    singOfferings1: new SingularityUpgrade(\n      singularityData.singOfferings1,\n      'singOfferings1'\n    ),\n    singOfferings2: new SingularityUpgrade(\n      singularityData.singOfferings2,\n      'singOfferings2'\n    ),\n    singOfferings3: new SingularityUpgrade(\n      singularityData.singOfferings3,\n      'singOfferings3'\n    ),\n    singObtainium1: new SingularityUpgrade(\n      singularityData.singObtainium1,\n      'singObtainium1'\n    ),\n    singObtainium2: new SingularityUpgrade(\n      singularityData.singObtainium2,\n      'singObtainium2'\n    ),\n    singObtainium3: new SingularityUpgrade(\n      singularityData.singObtainium3,\n      'singObtainium3'\n    ),\n    singCubes1: new SingularityUpgrade(\n      singularityData.singCubes1,\n      'singCubes1'\n    ),\n    singCubes2: new SingularityUpgrade(\n      singularityData.singCubes2,\n      'singCubes2'\n    ),\n    singCubes3: new SingularityUpgrade(\n      singularityData.singCubes3,\n      'singCubes3'\n    ),\n    singCitadel: new SingularityUpgrade(\n      singularityData.singCitadel,\n      'singCitadel'\n    ),\n    singCitadel2: new SingularityUpgrade(\n      singularityData.singCitadel2,\n      'singCitadel2'\n    ),\n    octeractUnlock: new SingularityUpgrade(\n      singularityData.octeractUnlock,\n      'octeractUnlock'\n    ),\n    singOcteractPatreonBonus: new SingularityUpgrade(\n      singularityData.singOcteractPatreonBonus,\n      'singOcteractPatreonBonus'\n    ),\n    intermediatePack: new SingularityUpgrade(\n      singularityData.intermediatePack,\n      'intermediatePack'\n    ),\n    advancedPack: new SingularityUpgrade(\n      singularityData.advancedPack,\n      'advancedPack'\n    ),\n    expertPack: new SingularityUpgrade(\n      singularityData.expertPack,\n      'expertPack'\n    ),\n    masterPack: new SingularityUpgrade(\n      singularityData.masterPack,\n      'masterPack'\n    ),\n    divinePack: new SingularityUpgrade(\n      singularityData.divinePack,\n      'divinePack'\n    ),\n    wowPass2: new SingularityUpgrade(singularityData.wowPass2, 'wowPass2'),\n    potionBuff: new SingularityUpgrade(\n      singularityData.potionBuff,\n      'potionBuff'\n    ),\n    potionBuff2: new SingularityUpgrade(\n      singularityData.potionBuff2,\n      'potionBuff2'\n    ),\n    potionBuff3: new SingularityUpgrade(\n      singularityData.potionBuff3,\n      'potionBuff3'\n    ),\n    singChallengeExtension: new SingularityUpgrade(\n      singularityData.singChallengeExtension,\n      'singChallengeExtension'\n    ),\n    singChallengeExtension2: new SingularityUpgrade(\n      singularityData.singChallengeExtension2,\n      'singChallengeExtension2'\n    ),\n    singChallengeExtension3: new SingularityUpgrade(\n      singularityData.singChallengeExtension3,\n      'singChallengeExtension3'\n    ),\n    singQuarkImprover1: new SingularityUpgrade(\n      singularityData.singQuarkImprover1,\n      'singQuarkImprover1'\n    ),\n    singQuarkHepteract: new SingularityUpgrade(\n      singularityData.singQuarkHepteract,\n      'singQuarkHepteract'\n    ),\n    singQuarkHepteract2: new SingularityUpgrade(\n      singularityData.singQuarkHepteract2,\n      'singQuarkHepteract2'\n    ),\n    singQuarkHepteract3: new SingularityUpgrade(\n      singularityData.singQuarkHepteract3,\n      'singQuarkHepteract3'\n    ),\n    singOcteractGain: new SingularityUpgrade(\n      singularityData.singOcteractGain,\n      'singOcteractGain'\n    ),\n    singOcteractGain2: new SingularityUpgrade(\n      singularityData.singOcteractGain2,\n      'singOcteractGain2'\n    ),\n    singOcteractGain3: new SingularityUpgrade(\n      singularityData.singOcteractGain3,\n      'singOcteractGain3'\n    ),\n    singOcteractGain4: new SingularityUpgrade(\n      singularityData.singOcteractGain4,\n      'singOcteractGain4'\n    ),\n    singOcteractGain5: new SingularityUpgrade(\n      singularityData.singOcteractGain5,\n      'singOcteractGain5'\n    ),\n    wowPass3: new SingularityUpgrade(singularityData.wowPass3, 'wowPass3'),\n    ultimatePen: new SingularityUpgrade(\n      singularityData.ultimatePen,\n      'ultimatePen'\n    ),\n    platonicTau: new SingularityUpgrade(\n      singularityData.platonicTau,\n      'platonicTau'\n    ),\n    platonicAlpha: new SingularityUpgrade(\n      singularityData.platonicAlpha,\n      'platonicAlpha'\n    ),\n    platonicDelta: new SingularityUpgrade(\n      singularityData.platonicDelta,\n      'platonicDelta'\n    ),\n    platonicPhi: new SingularityUpgrade(\n      singularityData.platonicPhi,\n      'platonicPhi'\n    ),\n    singFastForward: new SingularityUpgrade(\n      singularityData.singFastForward,\n      'singFastForward'\n    ),\n    singFastForward2: new SingularityUpgrade(\n      singularityData.singFastForward2,\n      'singFastForward2'\n    ),\n    singAscensionSpeed: new SingularityUpgrade(\n      singularityData.singAscensionSpeed,\n      'singAscensionSpeed'\n    ),\n    singAscensionSpeed2: new SingularityUpgrade(\n      singularityData.singAscensionSpeed2,\n      'singAscensionSpeed2'\n    ),\n    oneMind: new SingularityUpgrade(singularityData.oneMind, 'oneMind'),\n    wowPass4: new SingularityUpgrade(singularityData.wowPass4, 'wowPass4'),\n    offeringAutomatic: new SingularityUpgrade(\n      singularityData.offeringAutomatic,\n      'offeringAutomatic'\n    ),\n    blueberries: new SingularityUpgrade(\n      singularityData.blueberries,\n      'blueberries'\n    ),\n    singAmbrosiaLuck: new SingularityUpgrade(\n      singularityData.singAmbrosiaLuck,\n      'singAmbrosiaLuck'\n    ),\n    singAmbrosiaLuck2: new SingularityUpgrade(\n      singularityData.singAmbrosiaLuck2,\n      'singAmbrosiaLuck2'\n    ),\n    singAmbrosiaLuck3: new SingularityUpgrade(\n      singularityData.singAmbrosiaLuck3,\n      'singAmbrosiaLuck3'\n    ),\n    singAmbrosiaLuck4: new SingularityUpgrade(\n      singularityData.singAmbrosiaLuck4,\n      'singAmbrosiaLuck4'\n    ),\n    singAmbrosiaGeneration: new SingularityUpgrade(\n      singularityData.singAmbrosiaGeneration,\n      'singAmbrosiaGeneration'\n    ),\n    singAmbrosiaGeneration2: new SingularityUpgrade(\n      singularityData.singAmbrosiaGeneration2,\n      'singAmbrosiaGeneration2'\n    ),\n    singAmbrosiaGeneration3: new SingularityUpgrade(\n      singularityData.singAmbrosiaGeneration3,\n      'singAmbrosiaGeneration3'\n    ),\n    singAmbrosiaGeneration4: new SingularityUpgrade(\n      singularityData.singAmbrosiaGeneration4,\n      'singAmbrosiaGeneration4'\n    )\n  },\n\n  octeractUpgrades: {\n    octeractStarter: new OcteractUpgrade(\n      octeractData.octeractStarter,\n      'octeractStarter'\n    ),\n    octeractGain: new OcteractUpgrade(\n      octeractData.octeractGain,\n      'octeractGain'\n    ),\n    octeractGain2: new OcteractUpgrade(\n      octeractData.octeractGain2,\n      'octeractGain2'\n    ),\n    octeractQuarkGain: new OcteractUpgrade(\n      octeractData.octeractQuarkGain,\n      'octeractQuarkGain'\n    ),\n    octeractQuarkGain2: new OcteractUpgrade(\n      octeractData.octeractQuarkGain2,\n      'octeractQuarkGain2'\n    ),\n    octeractCorruption: new OcteractUpgrade(\n      octeractData.octeractCorruption,\n      'octeractCorruption'\n    ),\n    octeractGQCostReduce: new OcteractUpgrade(\n      octeractData.octeractGQCostReduce,\n      'octeractGQCostReduce'\n    ),\n    octeractExportQuarks: new OcteractUpgrade(\n      octeractData.octeractExportQuarks,\n      'octeractExportQuarks'\n    ),\n    octeractImprovedDaily: new OcteractUpgrade(\n      octeractData.octeractImprovedDaily,\n      'octeractImprovedDaily'\n    ),\n    octeractImprovedDaily2: new OcteractUpgrade(\n      octeractData.octeractImprovedDaily2,\n      'octeractImprovedDaily2'\n    ),\n    octeractImprovedDaily3: new OcteractUpgrade(\n      octeractData.octeractImprovedDaily3,\n      'octeractImprovedDaily3'\n    ),\n    octeractImprovedQuarkHept: new OcteractUpgrade(\n      octeractData.octeractImprovedQuarkHept,\n      'octeractImprovedQuarkHept'\n    ),\n    octeractImprovedGlobalSpeed: new OcteractUpgrade(\n      octeractData.octeractImprovedGlobalSpeed,\n      'octeractImprovedGlobalSpeed'\n    ),\n    octeractImprovedAscensionSpeed: new OcteractUpgrade(\n      octeractData.octeractImprovedAscensionSpeed,\n      'octeractImprovedAscensionSpeed'\n    ),\n    octeractImprovedAscensionSpeed2: new OcteractUpgrade(\n      octeractData.octeractImprovedAscensionSpeed2,\n      'octeractImprovedAscensionSpeed2'\n    ),\n    octeractImprovedFree: new OcteractUpgrade(\n      octeractData.octeractImprovedFree,\n      'octeractImprovedFree'\n    ),\n    octeractImprovedFree2: new OcteractUpgrade(\n      octeractData.octeractImprovedFree2,\n      'octeractImprovedFree2'\n    ),\n    octeractImprovedFree3: new OcteractUpgrade(\n      octeractData.octeractImprovedFree3,\n      'octeractImprovedFree3'\n    ),\n    octeractImprovedFree4: new OcteractUpgrade(\n      octeractData.octeractImprovedFree4,\n      'octeractImprovedFree4'\n    ),\n    octeractSingUpgradeCap: new OcteractUpgrade(\n      octeractData.octeractSingUpgradeCap,\n      'octeractSingUpgradeCap'\n    ),\n    octeractOfferings1: new OcteractUpgrade(\n      octeractData.octeractOfferings1,\n      'octeractOfferings1'\n    ),\n    octeractObtainium1: new OcteractUpgrade(\n      octeractData.octeractObtainium1,\n      'octeractObtainium1'\n    ),\n    octeractAscensions: new OcteractUpgrade(\n      octeractData.octeractAscensions,\n      'octeractAscensions'\n    ),\n    octeractAscensions2: new OcteractUpgrade(\n      octeractData.octeractAscensions2,\n      'octeractAscensions2'\n    ),\n    octeractAscensionsOcteractGain: new OcteractUpgrade(\n      octeractData.octeractAscensionsOcteractGain,\n      'octeractAscensionsOcteractGain'\n    ),\n    octeractFastForward: new OcteractUpgrade(\n      octeractData.octeractFastForward,\n      'octeractFastForward'\n    ),\n    octeractAutoPotionSpeed: new OcteractUpgrade(\n      octeractData.octeractAutoPotionSpeed,\n      'octeractAutoPotionSpeed'\n    ),\n    octeractAutoPotionEfficiency: new OcteractUpgrade(\n      octeractData.octeractAutoPotionEfficiency,\n      'octeractAutoPotionEfficiency'\n    ),\n    octeractOneMindImprover: new OcteractUpgrade(\n      octeractData.octeractOneMindImprover,\n      'octeractOneMindImprover'\n    ),\n    octeractAmbrosiaLuck: new OcteractUpgrade(\n      octeractData.octeractAmbrosiaLuck,\n      'octeractAmbrosiaLuck'\n    ),\n    octeractAmbrosiaLuck2: new OcteractUpgrade(\n      octeractData.octeractAmbrosiaLuck2,\n      'octeractAmbrosiaLuck2'\n    ),\n    octeractAmbrosiaLuck3: new OcteractUpgrade(\n      octeractData.octeractAmbrosiaLuck3,\n      'octeractAmbrosiaLuck3'\n    ),\n    octeractAmbrosiaLuck4: new OcteractUpgrade(\n      octeractData.octeractAmbrosiaLuck4,\n      'octeractAmbrosiaLuck4'\n    ),\n    octeractAmbrosiaGeneration: new OcteractUpgrade(\n      octeractData.octeractAmbrosiaGeneration,\n      'octeractAmbrosiaGeneration'\n    ),\n    octeractAmbrosiaGeneration2: new OcteractUpgrade(\n      octeractData.octeractAmbrosiaGeneration2,\n      'octeractAmbrosiaGeneration2'\n    ),\n    octeractAmbrosiaGeneration3: new OcteractUpgrade(\n      octeractData.octeractAmbrosiaGeneration3,\n      'octeractAmbrosiaGeneration3'\n    ),\n    octeractAmbrosiaGeneration4: new OcteractUpgrade(\n      octeractData.octeractAmbrosiaGeneration4,\n      'octeractAmbrosiaGeneration4'\n    )\n  },\n\n  dailyCodeUsed: false,\n  hepteractAutoCraftPercentage: 50,\n  octeractTimer: 0,\n  insideSingularityChallenge: false,\n\n  singularityChallenges: {\n    noSingularityUpgrades: new SingularityChallenge(\n      singularityChallengeData.noSingularityUpgrades,\n      'noSingularityUpgrades'\n    ),\n    oneChallengeCap: new SingularityChallenge(\n      singularityChallengeData.oneChallengeCap,\n      'oneChallengeCap'\n    ),\n    noOcteracts: new SingularityChallenge(\n      singularityChallengeData.noOcteracts,\n      'noOcteracts'\n    ),\n    limitedAscensions: new SingularityChallenge(\n      singularityChallengeData.limitedAscensions,\n      'limitedAscensions'\n    ),\n    noAmbrosiaUpgrades: new SingularityChallenge(\n      singularityChallengeData.noAmbrosiaUpgrades,\n      'noAmbrosiaUpgrades'\n    ),\n    limitedTime: new SingularityChallenge(\n      singularityChallengeData.limitedTime,\n      'limitedTime'\n    ),\n    sadisticPrequel: new SingularityChallenge(\n      singularityChallengeData.sadisticPrequel,\n      'sadisticPrequel'\n    ),\n  },\n\n  ambrosia: 0,\n  lifetimeAmbrosia: 0,\n  ambrosiaRNG: 0,\n  blueberryTime: 0,\n  visitedAmbrosiaSubtab: false,\n  spentBlueberries: 0,\n  blueberryUpgrades: {\n    ambrosiaTutorial: new BlueberryUpgrade(\n      blueberryUpgradeData.ambrosiaTutorial,\n      'ambrosiaTutorial'\n    ),\n    ambrosiaQuarks1: new BlueberryUpgrade(\n      blueberryUpgradeData.ambrosiaQuarks1,\n      'ambrosiaQuarks1'\n    ),\n    ambrosiaCubes1: new BlueberryUpgrade(\n      blueberryUpgradeData.ambrosiaCubes1,\n      'ambrosiaQuarks1'\n    ),\n    ambrosiaLuck1: new BlueberryUpgrade(\n      blueberryUpgradeData.ambrosiaLuck1,\n      'ambrosiaLuck1'\n    ),\n    ambrosiaCubeQuark1: new BlueberryUpgrade(\n      blueberryUpgradeData.ambrosiaCubeQuark1,\n      'ambrosiaCubeQuark1'\n    ),\n    ambrosiaLuckQuark1: new BlueberryUpgrade(\n      blueberryUpgradeData.ambrosiaLuckQuark1,\n      'ambrosiaLuckQuark1'\n    ),\n    ambrosiaLuckCube1: new BlueberryUpgrade(\n      blueberryUpgradeData.ambrosiaLuckCube1,\n      'ambrosiaLuckCube1'\n    ),\n    ambrosiaQuarkCube1: new BlueberryUpgrade(\n      blueberryUpgradeData.ambrosiaQuarkCube1,\n      'ambrosiaQuarkCube1'\n    ),\n    ambrosiaCubeLuck1: new BlueberryUpgrade(\n      blueberryUpgradeData.ambrosiaCubeLuck1,\n      'ambrosiaCubeLuck1'\n    ),\n    ambrosiaQuarkLuck1: new BlueberryUpgrade(\n      blueberryUpgradeData.ambrosiaQuarkLuck1,\n      'ambrosiaQuarkLuck1'\n    ),\n    ambrosiaQuarks2: new BlueberryUpgrade(\n      blueberryUpgradeData.ambrosiaQuarks2,\n      'ambrosiaQuarks2'\n    ),\n    ambrosiaCubes2: new BlueberryUpgrade(\n      blueberryUpgradeData.ambrosiaCubes2,\n      'ambrosiaQuarks2'\n    ),\n    ambrosiaLuck2: new BlueberryUpgrade(\n      blueberryUpgradeData.ambrosiaLuck2,\n      'ambrosiaLuck2'\n    ),\n    ambrosiaPatreon: new BlueberryUpgrade(\n      blueberryUpgradeData.ambrosiaPatreon,\n      'ambrosiaPatreon'\n    ),\n    ambrosiaObtainium1: new BlueberryUpgrade(\n      blueberryUpgradeData.ambrosiaObtainium1,\n      'ambrosiaObtainium1'\n    ),\n    ambrosiaOffering1: new BlueberryUpgrade(\n      blueberryUpgradeData.ambrosiaOffering1,\n      'ambrosiaOffering1'\n    ),\n    ambrosiaHyperflux: new BlueberryUpgrade(\n      blueberryUpgradeData.ambrosiaHyperflux,\n      'ambrosiaHyperflux'\n    )\n  },\n\n  blueberryLoadouts: {\n    1: {},\n    2: {},\n    3: {},\n    4: {},\n    5: {},\n    6: {},\n    7: {},\n    8: {}\n  },\n  blueberryLoadoutMode: 'saveTree',\n\n  ultimateProgress: 0,\n  ultimatePixels: 0,\n\n  singChallengeTimer: 0,\n\n  caches: {\n    ambrosiaLuckAdditiveMult: new AmbrosiaLuckAdditiveMultCache(),\n    ambrosiaLuck: new AmbrosiaLuckCache(),\n    ambrosiaGeneration: new AmbrosiaGenerationCache(),\n    blueberryInventory: new BlueberryInventoryCache()\n  },\n\n  lastExportedSave: 0\n}\n\nexport const blankSave = Object.assign({}, player, {\n  codes: new Map(Array.from({ length: 48 }, (_, i) => [i + 1, false]))\n})\n\n// The main cause of the double singularity bug was caused by a race condition\n// when the game was saving just as the user was entering a Singularity. To fix\n// this, hopefully, we disable saving the game when in the prompt or currently\n// entering a Singularity.\nexport const saveCheck = { canSave: true }\n\nexport const saveSynergy = async (button?: boolean): Promise<boolean> => {\n  player.offlinetick = Date.now()\n  player.loaded1009 = true\n  player.loaded1009hotfix1 = true\n\n  const p = playerJsonSchema.parse(player)\n  const save = btoa(JSON.stringify(p))\n\n  if (save !== null) {\n    const saveBlob = new Blob([save], { type: 'text/plain' })\n\n    // Should prevent overwritting of localforage that is currently used\n    if (!saveCheck.canSave) {\n      return false\n    }\n\n    localStorage.setItem('Synergysave2', save)\n    await localforage.setItem<Blob>('Synergysave2', saveBlob)\n  } else {\n    await Alert(i18next.t('testing.errorSaving'))\n    return false\n  }\n\n  if (button) {\n    const el = DOMCacheGetOrSet('saveinfo')\n    el.textContent = i18next.t('testing.gameSaved')\n    setTimeout(() => (el.textContent = ''), 4000)\n  }\n\n  return true\n}\n\nconst loadSynergy = async () => {\n  const save = (await localforage.getItem<Blob>('Synergysave2'))\n    ?? localStorage.getItem('Synergysave2')\n\n  const saveString = typeof save === 'string' ? save : await save?.text()\n  const data = saveString\n    ? (JSON.parse(atob(saveString)) as PlayerSave & Record<string, unknown>)\n    : null\n\n  if (testing || !prod) {\n    Object.defineProperties(window, {\n      player: { value: player },\n      G: { value: G },\n      Decimal: { value: Decimal },\n      i18n: { value: i18next }\n    })\n\n    if (data && testing) {\n      data.exporttest = false\n    }\n  }\n\n  Object.assign(G, { ...blankGlobals })\n\n  if (data) {\n    if ((data.exporttest === false || data.exporttest === 'NO!') && !testing) {\n      return Alert(i18next.t('testing.saveInLive2'))\n    }\n\n    // size before loading\n    const size = player.codes.size\n\n    const oldPromoKeys = Object.keys(data).filter((k) => k.includes('offerpromo'))\n    if (oldPromoKeys.length > 0) {\n      oldPromoKeys.forEach((k) => {\n        const value = data[k]\n        const num = +k.replace(/[^\\d]/g, '')\n        player.codes.set(num, Boolean(value))\n      })\n    }\n\n    const validatedPlayer = playerSchema.safeParse(data)\n\n    if (validatedPlayer.success) {\n      Object.assign(player, validatedPlayer.data)\n    } else {\n      console.log(validatedPlayer.error)\n      console.log(data)\n      clearTimers()\n      return\n    }\n\n    updateLoadoutHoverClasses()\n\n    player.lastExportedSave = data.lastExportedSave ?? 0\n\n    if (data.offerpromo24used !== undefined) {\n      player.codes.set(25, false)\n    }\n\n    // sets all non-existent codes to default value false\n    if (player.codes.size < size) {\n      for (let i = player.codes.size + 1; i <= size; i++) {\n        if (!player.codes.has(i)) {\n          player.codes.set(i, false)\n        }\n      }\n    }\n\n    // sets all non-existent codes to default value false\n    if (player.codes.size < size) {\n      for (let i = player.codes.size + 1; i <= size; i++) {\n        if (!player.codes.has(i)) {\n          player.codes.set(i, false)\n        }\n      }\n    }\n\n    // TODO(@KhafraDev): remove G.currentSingChallenge\n    // fix current sing challenge blank\n    if (player.insideSingularityChallenge) {\n      const challenges = Object.keys(player.singularityChallenges)\n      for (let i = 0; i < challenges.length; i++) {\n        if (player.singularityChallenges[challenges[i]].enabled) {\n          G.currentSingChallenge = singularityChallengeData[challenges[i]].HTMLTag\n          break\n        }\n      }\n    }\n\n    if (!('rngCode' in data)) {\n      player.rngCode = 0\n    }\n\n    if (data.loaded1009 === undefined || !data.loaded1009) {\n      player.loaded1009 = false\n    }\n    if (data.loaded1009hotfix1 === undefined || !data.loaded1009hotfix1) {\n      player.loaded1009hotfix1 = false\n    }\n    if (data.loaded10091 === undefined) {\n      player.loaded10091 = false\n    }\n    if (data.loaded1010 === undefined) {\n      player.loaded1010 = false\n    }\n    if (data.loaded10101 === undefined) {\n      player.loaded10101 = false\n    }\n\n    if (typeof player.researches[76] === 'undefined') {\n      player.codes.set(13, false)\n      player.researches.push(\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0\n      )\n      player.achievements.push(\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0\n      )\n      player.maxofferings = player.runeshards\n      player.maxobtainium = player.researchPoints\n      player.researchPoints += 51200 * player.researches[50]\n      player.researches[50] = 0\n    }\n\n    player.maxofferings = player.maxofferings || 0\n    player.maxobtainium = player.maxobtainium || 0\n    player.runeshards = player.runeshards || 0\n    player.researchPoints = player.researchPoints || 0\n\n    if (\n      !data.loaded1009\n      || data.loaded1009hotfix1 === null\n      || data.shopUpgrades?.offeringPotion === undefined\n    ) {\n      player.firstOwnedParticles = 0\n      player.secondOwnedParticles = 0\n      player.thirdOwnedParticles = 0\n      player.fourthOwnedParticles = 0\n      player.fifthOwnedParticles = 0\n      player.firstCostParticles = new Decimal('1')\n      player.secondCostParticles = new Decimal('1e2')\n      player.thirdCostParticles = new Decimal('1e4')\n      player.fourthCostParticles = new Decimal('1e8')\n      player.fifthCostParticles = new Decimal('1e16')\n      player.autoSacrificeToggle = false\n      player.autoResearchToggle = false\n      player.autoResearchMode = 'manual'\n      player.autoResearch = 0\n      player.autoSacrifice = 0\n      player.sacrificeTimer = 0\n      player.loaded1009 = true\n      player.codes.set(18, false)\n    }\n    if (!data.loaded1009hotfix1) {\n      player.loaded1009hotfix1 = true\n      player.codes.set(19, true)\n      player.firstOwnedParticles = 0\n      player.secondOwnedParticles = 0\n      player.thirdOwnedParticles = 0\n      player.fourthOwnedParticles = 0\n      player.fifthOwnedParticles = 0\n      player.firstCostParticles = new Decimal('1')\n      player.secondCostParticles = new Decimal('1e2')\n      player.thirdCostParticles = new Decimal('1e4')\n      player.fourthCostParticles = new Decimal('1e8')\n      player.fifthCostParticles = new Decimal('1e16')\n    }\n    if (\n      data.loaded10091 === undefined\n      || !data.loaded10091\n      || player.researches[86] > 100\n      || player.researches[87] > 100\n      || player.researches[88] > 100\n      || player.researches[89] > 100\n      || player.researches[90] > 10\n    ) {\n      player.loaded10091 = true\n      player.researchPoints += 7.5e8 * player.researches[82]\n      player.researchPoints += 2e8 * player.researches[83]\n      player.researchPoints += 4.5e9 * player.researches[84]\n      player.researchPoints += 2.5e7 * player.researches[86]\n      player.researchPoints += 7.5e7 * player.researches[87]\n      player.researchPoints += 3e8 * player.researches[88]\n      player.researchPoints += 1e9 * player.researches[89]\n      player.researchPoints += 2.5e7 * player.researches[90]\n      player.researchPoints += 1e8 * player.researches[91]\n      player.researchPoints += 2e9 * player.researches[92]\n      player.researchPoints += 9e9 * player.researches[93]\n      player.researchPoints += 7.25e10 * player.researches[94]\n      player.researches[86] = 0\n      player.researches[87] = 0\n      player.researches[88] = 0\n      player.researches[89] = 0\n      player.researches[90] = 0\n      player.researches[91] = 0\n      player.researches[92] = 0\n    }\n\n    // const shop = data.shopUpgrades as LegacyShopUpgrades & Player['shopUpgrades'];\n    if (\n      data.achievements?.[169] === undefined\n      || typeof player.achievements[169] === 'undefined'\n      //    (shop.antSpeed === undefined && shop.antSpeedLevel === undefined) ||\n      //    (shop.antSpeed === undefined && typeof shop.antSpeedLevel === 'undefined') ||\n      || data.loaded1010 === undefined\n      || data.loaded1010 === false\n    ) {\n      player.loaded1010 = true\n      player.codes.set(21, false)\n\n      player.firstOwnedAnts = 0\n      player.firstGeneratedAnts = new Decimal('0')\n      player.firstCostAnts = new Decimal('1e700')\n      player.firstProduceAnts = 0.0001\n\n      player.secondOwnedAnts = 0\n      player.secondGeneratedAnts = new Decimal('0')\n      player.secondCostAnts = new Decimal('3')\n      player.secondProduceAnts = 0.00005\n\n      player.thirdOwnedAnts = 0\n      player.thirdGeneratedAnts = new Decimal('0')\n      player.thirdCostAnts = new Decimal('100')\n      player.thirdProduceAnts = 0.00002\n\n      player.fourthOwnedAnts = 0\n      player.fourthGeneratedAnts = new Decimal('0')\n      player.fourthCostAnts = new Decimal('1e4')\n      player.fourthProduceAnts = 0.00001\n\n      player.fifthOwnedAnts = 0\n      player.fifthGeneratedAnts = new Decimal('0')\n      player.fifthCostAnts = new Decimal('1e12')\n      player.fifthProduceAnts = 0.000005\n\n      player.sixthOwnedAnts = 0\n      player.sixthGeneratedAnts = new Decimal('0')\n      player.sixthCostAnts = new Decimal('1e36')\n      player.sixthProduceAnts = 0.000002\n\n      player.seventhOwnedAnts = 0\n      player.seventhGeneratedAnts = new Decimal('0')\n      player.seventhCostAnts = new Decimal('1e100')\n      player.seventhProduceAnts = 0.000001\n\n      player.eighthOwnedAnts = 0\n      player.eighthGeneratedAnts = new Decimal('0')\n      player.eighthCostAnts = new Decimal('1e300')\n      player.eighthProduceAnts = 0.00000001\n\n      player.achievements.push(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0)\n      player.antPoints = new Decimal('1')\n\n      player.upgrades[38] = 0\n      player.upgrades[39] = 0\n      player.upgrades[40] = 0\n\n      player.upgrades[76] = 0\n      player.upgrades[77] = 0\n      player.upgrades[78] = 0\n      player.upgrades[79] = 0\n      player.upgrades[80] = 0\n\n      //    player.shopUpgrades.antSpeed = 0;\n      //    player.shopUpgrades.shopTalisman = 0;\n\n      player.antUpgrades = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]\n\n      player.unlocks.rrow4 = false\n      player.researchPoints += 3e7 * player.researches[50]\n      player.researchPoints += 2e9 * player.researches[96]\n      player.researchPoints += 5e9 * player.researches[97]\n      player.researchPoints += 3e10 * player.researches[98]\n      player.researches[50] = 0\n      player.researches[96] = 0\n      player.researches[97] = 0\n      player.researches[98] = 0\n      player.researches.push(\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0\n      )\n\n      player.talismanLevels = [0, 0, 0, 0, 0, 0, 0]\n      player.talismanRarity = [1, 1, 1, 1, 1, 1, 1]\n\n      player.talismanShards = 0\n      player.commonFragments = 0\n      player.uncommonFragments = 0\n      player.rareFragments = 0\n      player.epicFragments = 0\n      player.legendaryFragments = 0\n      player.mythicalFragments = 0\n      player.buyTalismanShardPercent = 10\n\n      player.talismanOne = [null, -1, 1, 1, 1, -1]\n      player.talismanTwo = [null, 1, 1, -1, -1, 1]\n      player.talismanThree = [null, 1, -1, 1, 1, -1]\n      player.talismanFour = [null, -1, -1, 1, 1, 1]\n      player.talismanFive = [null, 1, 1, -1, -1, 1]\n      player.talismanSix = [null, 1, 1, 1, -1, -1]\n      player.talismanSeven = [null, -1, 1, -1, 1, 1]\n\n      player.antSacrificePoints = 0\n      player.antSacrificeTimer = 0\n\n      player.obtainiumpersecond = 0\n      player.maxobtainiumpersecond = 0\n    }\n\n    if (data.loaded10101 === undefined || data.loaded10101 === false) {\n      player.loaded10101 = true\n\n      // dprint-ignore\n      const refundThese = [\n        0, 31, 32, 61, 62, 63, 64, 76, 77, 78, 79, 80, 81, 98, 104, 105, 106,\n        107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120,\n        121, 122, 123, 125,\n      ];\n      // dprint-ignore\n      const refundReward = [\n        0, 2, 20, 5, 10, 80, 5e3, 1e7, 1e7, 2e7, 3e7, 4e7, 2e8, 3e10, 1e11,\n        1e12, 2e11, 1e12, 2e10, 2e11, 1e12, 2e13, 5e13, 1e14, 2e14, 5e14, 1e15,\n        2e15, 1e16, 1e15, 1e16, 1e14, 1e15, 1e15, 1e20,\n      ];\n      for (let i = 1; i < refundThese.length; i++) {\n        player.researchPoints += player.researches[refundThese[i]] * refundReward[i]\n        player.researches[refundThese[i]] = 0\n      }\n      player.autoAntSacrifice = false\n      player.antMax = false\n    }\n\n    if (player.firstOwnedAnts < 1 && player.firstCostAnts.gte('1e1200')) {\n      player.firstCostAnts = new Decimal('1e700')\n      player.firstOwnedAnts = 0\n    }\n\n    // checkVariablesOnLoad(data)\n\n    if (player.ascensionCount === 0) {\n      if (player.prestigeCount > 0) {\n        player.ascensionCounter = 86400 * 90\n      }\n      /*player.cubeUpgrades = [null, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n                0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n                0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n                0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n                0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n                0, 0, 0, 0, 0, 0, 0, 0, 0, 0,\n                0, 0, 0, 0, 0, 0, 0, 0, 0, 0,];*/\n\n      if (player.singularityCount === 0) {\n        player.cubeUpgrades = [...blankSave.cubeUpgrades]\n      }\n      player.wowCubes = new WowCubes(0)\n      player.wowTesseracts = new WowTesseracts(0)\n      player.wowHypercubes = new WowHypercubes(0)\n      player.wowPlatonicCubes = new WowPlatonicCubes(0)\n      player.cubeBlessings = {\n        accelerator: 0,\n        multiplier: 0,\n        offering: 0,\n        runeExp: 0,\n        obtainium: 0,\n        antSpeed: 0,\n        antSacrifice: 0,\n        antELO: 0,\n        talismanBonus: 0,\n        globalSpeed: 0\n      }\n    }\n\n    if (player.transcendCount < 0) {\n      player.transcendCount = 0\n    }\n    if (player.reincarnationCount < 0) {\n      player.reincarnationCount = 0\n    }\n    if (player.runeshards < 0) {\n      player.runeshards = 0\n    }\n    if (player.researchPoints < 0) {\n      player.researchPoints = 0\n    }\n\n    if (player.resettoggle1 === 0) {\n      player.resettoggle1 = 1\n      player.resettoggle2 = 1\n      player.resettoggle3 = 1\n      player.resettoggle4 = 1\n    }\n    if (player.tesseractAutoBuyerToggle === 0) {\n      player.tesseractAutoBuyerToggle = 1\n    }\n    if (player.reincarnationCount < 0.5 && player.unlocks.rrow4) {\n      player.unlocks = {\n        coinone: false,\n        cointwo: false,\n        cointhree: false,\n        coinfour: false,\n        prestige: false,\n        generation: false,\n        transcend: false,\n        reincarnate: false,\n        rrow1: false,\n        rrow2: false,\n        rrow3: false,\n        rrow4: false\n      }\n    }\n\n    if (!Number.isInteger(player.ascendBuilding1.cost)) {\n      player.ascendBuilding1.cost = 1\n      player.ascendBuilding1.owned = 0\n      player.ascendBuilding2.cost = 10\n      player.ascendBuilding2.owned = 0\n      player.ascendBuilding3.cost = 100\n      player.ascendBuilding3.owned = 0\n      player.ascendBuilding4.cost = 1000\n      player.ascendBuilding4.owned = 0\n      player.ascendBuilding5.cost = 10000\n      player.ascendBuilding5.owned = 0\n    }\n\n    if (!player.dayCheck) {\n      player.dayCheck = new Date()\n    }\n    if (typeof player.dayCheck === 'string') {\n      player.dayCheck = new Date(player.dayCheck)\n      if (isNaN(player.dayCheck.getTime())) {\n        player.dayCheck = new Date()\n      }\n    }\n    // Measures for people who play the past\n    let updatedLast = lastUpdated\n    if (!isNaN(updatedLast.getTime())) {\n      updatedLast = new Date(\n        updatedLast.getFullYear(),\n        updatedLast.getMonth(),\n        updatedLast.getDate() - 1\n      )\n      if (player.dayCheck.getTime() < updatedLast.getTime()) {\n        player.dayCheck = updatedLast\n      }\n    } else if (player.dayCheck.getTime() < 1654009200000) {\n      player.dayCheck = new Date('06/01/2022 00:00:00')\n    }\n    // Calculate daily\n    player.dayCheck = new Date(\n      player.dayCheck.getFullYear(),\n      player.dayCheck.getMonth(),\n      player.dayCheck.getDate()\n    )\n\n    const maxLevel = maxCorruptionLevel()\n    player.usedCorruptions = player.usedCorruptions.map(\n      (curr: number, index: number) => {\n        if (index >= 2 && index <= 9) {\n          return Math.min(\n            maxLevel\n              * (player.challengecompletions[corrChallengeMinimum(index)] > 0\n                ? 1\n                : 0),\n            curr\n          )\n        }\n        return curr\n      }\n    )\n\n    for (let i = 1; i <= 5; i++) {\n      const ascendBuildingI = `ascendBuilding${i as OneToFive}` as const\n      player[ascendBuildingI].generated = new Decimal(\n        player[ascendBuildingI].generated\n      )\n    }\n\n    while (typeof player.achievements[252] === 'undefined') {\n      player.achievements.push(0)\n    }\n    while (typeof player.researches[200] === 'undefined') {\n      player.researches.push(0)\n    }\n    while (typeof player.upgrades[140] === 'undefined') {\n      player.upgrades.push(0)\n    }\n\n    if (\n      player.saveString === ''\n      || player.saveString === 'Synergism-v1011Test.txt'\n    ) {\n      player.saveString = player.singularityCount === 0\n        ? 'Synergism-$VERSION$-$TIME$.txt'\n        : 'Synergism-$VERSION$-$TIME$-$SING$.txt'\n    }\n    ;(DOMCacheGetOrSet('saveStringInput') as HTMLInputElement).value = cleanString(player.saveString)\n\n    for (let j = 1; j < 126; j++) {\n      upgradeupdate(j, true)\n    }\n\n    for (let j = 1; j <= 200; j++) {\n      updateResearchBG(j)\n    }\n    for (let j = 1; j < player.cubeUpgrades.length; j++) {\n      updateCubeUpgradeBG(j)\n    }\n    const platUpg = document.querySelectorAll('img[id^=\"platUpg\"]')\n    for (let j = 1; j <= platUpg.length; j++) {\n      updatePlatonicUpgradeBG(j)\n    }\n\n    const q = [\n      'coin',\n      'crystal',\n      'mythos',\n      'particle',\n      'offering',\n      'tesseract'\n    ] as const\n    if (\n      player.coinbuyamount !== 1\n      && player.coinbuyamount !== 10\n      && player.coinbuyamount !== 100\n      && player.coinbuyamount !== 1000\n    ) {\n      player.coinbuyamount = 1\n    }\n    if (\n      player.crystalbuyamount !== 1\n      && player.crystalbuyamount !== 10\n      && player.crystalbuyamount !== 100\n      && player.crystalbuyamount !== 1000\n    ) {\n      player.crystalbuyamount = 1\n    }\n    if (\n      player.mythosbuyamount !== 1\n      && player.mythosbuyamount !== 10\n      && player.mythosbuyamount !== 100\n      && player.mythosbuyamount !== 1000\n    ) {\n      player.mythosbuyamount = 1\n    }\n    if (\n      player.particlebuyamount !== 1\n      && player.particlebuyamount !== 10\n      && player.particlebuyamount !== 100\n      && player.particlebuyamount !== 1000\n    ) {\n      player.particlebuyamount = 1\n    }\n    if (\n      player.offeringbuyamount !== 1\n      && player.offeringbuyamount !== 10\n      && player.offeringbuyamount !== 100\n      && player.offeringbuyamount !== 1000\n    ) {\n      player.offeringbuyamount = 1\n    }\n    if (\n      player.tesseractbuyamount !== 1\n      && player.tesseractbuyamount !== 10\n      && player.tesseractbuyamount !== 100\n      && player.tesseractbuyamount !== 1000\n    ) {\n      player.tesseractbuyamount = 1\n    }\n    for (let j = 0; j <= 5; j++) {\n      for (let k = 0; k < 4; k++) {\n        let d = ''\n        if (k === 0) {\n          d = 'one'\n        }\n        if (k === 1) {\n          d = 'ten'\n        }\n        if (k === 2) {\n          d = 'hundred'\n        }\n        if (k === 3) {\n          d = 'thousand'\n        }\n        const e = `${q[j]}${d}`\n        DOMCacheGetOrSet(e).style.backgroundColor = ''\n      }\n      let c = ''\n      const curBuyAmount = player[`${q[j]}buyamount` as const]\n      if (curBuyAmount === 1) {\n        c = 'one'\n      }\n      if (curBuyAmount === 10) {\n        c = 'ten'\n      }\n      if (curBuyAmount === 100) {\n        c = 'hundred'\n      }\n      if (curBuyAmount === 1000) {\n        c = 'thousand'\n      }\n\n      const b = `${q[j]}${c}`\n      DOMCacheGetOrSet(b).style.backgroundColor = 'green'\n    }\n\n    const testArray = []\n    // Creates a copy of research costs array\n    for (let i = 0; i < G.researchBaseCosts.length; i++) {\n      testArray.push(G.researchBaseCosts[i])\n    }\n    // Sorts the above array, and returns the index order of sorted array\n    G.researchOrderByCost = sortWithIndices(testArray)\n    player.roombaResearchIndex = 0\n\n    // June 09, 2021: Updated toggleShops() and removed boilerplate - Platonic\n    toggleShops()\n    getChallengeConditions()\n    updateChallengeDisplay()\n    revealStuff()\n    toggleauto()\n\n    // Challenge summary should be displayed\n    if (player.currentChallenge.transcension > 0) {\n      challengeDisplay(player.currentChallenge.transcension)\n    } else if (player.currentChallenge.reincarnation > 0) {\n      challengeDisplay(player.currentChallenge.reincarnation)\n    } else if (player.currentChallenge.ascension > 0) {\n      challengeDisplay(player.currentChallenge.ascension)\n    } else {\n      challengeDisplay(1)\n    }\n\n    corruptionStatsUpdate()\n    const corrs = Math.min(8, Object.keys(player.corruptionLoadouts).length) + 1\n    for (let i = 0; i < corrs; i++) {\n      corruptionLoadoutTableUpdate(i)\n    }\n    showCorruptionStatsLoadouts()\n    updateCorruptionLoadoutNames()\n\n    DOMCacheGetOrSet('researchrunebonus').textContent = i18next.t(\n      'runes.thanksResearches',\n      {\n        percent: format(100 * G.effectiveLevelMult - 100, 4, true)\n      }\n    )\n\n    DOMCacheGetOrSet('talismanlevelup').style.display = 'none'\n    DOMCacheGetOrSet('talismanrespec').style.display = 'none'\n\n    DOMCacheGetOrSet('antSacrificeSummary').style.display = 'none'\n\n    // This must be initialized at the beginning of the calculation\n    c15RewardUpdate()\n\n    calculatePlatonicBlessings()\n    calculateHypercubeBlessings()\n    calculateTesseractBlessings()\n    calculateCubeBlessings()\n    updateTalismanAppearance(0)\n    updateTalismanAppearance(1)\n    updateTalismanAppearance(2)\n    updateTalismanAppearance(3)\n    updateTalismanAppearance(4)\n    updateTalismanAppearance(5)\n    updateTalismanAppearance(6)\n    for (const id in player.ascStatToggles) {\n      toggleAscStatPerSecond(+id) // toggle each stat twice to make sure the displays are correct and match what they used to be\n      toggleAscStatPerSecond(+id)\n    }\n\n    // Strictly check the input and data with values other than numbers\n    const omit = /e\\+/\n    let inputd = player.autoChallengeTimer.start\n    let inpute = Number(\n      (DOMCacheGetOrSet('startAutoChallengeTimerInput') as HTMLInputElement)\n        .value\n    )\n    if (inpute !== inputd || isNaN(inpute + inputd)) {\n      ;(\n        DOMCacheGetOrSet('startAutoChallengeTimerInput') as HTMLInputElement\n      ).value = `${player.autoChallengeTimer.start || blankSave.autoChallengeTimer.start}`.replace(omit, 'e')\n      updateAutoChallenge(1)\n    }\n\n    DOMCacheGetOrSet('startTimerValue').innerHTML = i18next.t(\n      'challenges.timeStartSweep',\n      {\n        time: format(player.autoChallengeTimer.start, 2, true)\n      }\n    )\n\n    inputd = player.autoChallengeTimer.exit\n    inpute = Number(\n      (DOMCacheGetOrSet('exitAutoChallengeTimerInput') as HTMLInputElement)\n        .value\n    )\n    if (inpute !== inputd || isNaN(inpute + inputd)) {\n      ;(\n        DOMCacheGetOrSet('exitAutoChallengeTimerInput') as HTMLInputElement\n      ).value = `${player.autoChallengeTimer.exit || blankSave.autoChallengeTimer.exit}`.replace(omit, 'e')\n      updateAutoChallenge(2)\n    }\n\n    DOMCacheGetOrSet('exitTimerValue').innerHTML = i18next.t(\n      'challenges.timeExitChallenge',\n      {\n        time: format(player.autoChallengeTimer.exit, 2, true)\n      }\n    )\n\n    inputd = player.autoChallengeTimer.enter\n    inpute = Number(\n      (DOMCacheGetOrSet('enterAutoChallengeTimerInput') as HTMLInputElement)\n        .value\n    )\n    if (inpute !== inputd || isNaN(inpute + inputd)) {\n      ;(\n        DOMCacheGetOrSet('enterAutoChallengeTimerInput') as HTMLInputElement\n      ).value = `${player.autoChallengeTimer.enter || blankSave.autoChallengeTimer.enter}`.replace(omit, 'e')\n      updateAutoChallenge(3)\n    }\n\n    DOMCacheGetOrSet('enterTimerValue').innerHTML = i18next.t(\n      'challenges.timeEnterChallenge',\n      {\n        time: format(player.autoChallengeTimer.enter, 2, true)\n      }\n    )\n\n    inputd = player.prestigeamount\n    inpute = Number(\n      (DOMCacheGetOrSet('prestigeamount') as HTMLInputElement).value\n    )\n    if (inpute !== inputd || isNaN(inpute + inputd)) {\n      ;(DOMCacheGetOrSet('prestigeamount') as HTMLInputElement).value = `${\n        player.prestigeamount || blankSave.prestigeamount\n      }`.replace(omit, 'e')\n      updateAutoReset(1)\n    }\n    inputd = player.transcendamount\n    inpute = Number(\n      (DOMCacheGetOrSet('transcendamount') as HTMLInputElement).value\n    )\n    if (inpute !== inputd || isNaN(inpute + inputd)) {\n      ;(DOMCacheGetOrSet('transcendamount') as HTMLInputElement).value = `${\n        player.transcendamount || blankSave.transcendamount\n      }`.replace(omit, 'e')\n      updateAutoReset(2)\n    }\n    inputd = player.reincarnationamount\n    inpute = Number(\n      (DOMCacheGetOrSet('reincarnationamount') as HTMLInputElement).value\n    )\n    if (inpute !== inputd || isNaN(inpute + inputd)) {\n      ;(DOMCacheGetOrSet('reincarnationamount') as HTMLInputElement).value = `${\n        player.reincarnationamount || blankSave.reincarnationamount\n      }`.replace(omit, 'e')\n      updateAutoReset(3)\n    }\n    inputd = player.autoAscendThreshold\n    inpute = Number(\n      (DOMCacheGetOrSet('ascensionAmount') as HTMLInputElement).value\n    )\n    if (inpute !== inputd || isNaN(inpute + inputd)) {\n      ;(DOMCacheGetOrSet('ascensionAmount') as HTMLInputElement).value = `${\n        player.autoAscendThreshold || blankSave.autoAscendThreshold\n      }`.replace(omit, 'e')\n      updateAutoReset(4)\n    }\n    inputd = player.autoAntSacTimer\n    inpute = Number(\n      (DOMCacheGetOrSet('autoAntSacrificeAmount') as HTMLInputElement).value\n    )\n    if (inpute !== inputd || isNaN(inpute + inputd)) {\n      ;(DOMCacheGetOrSet('autoAntSacrificeAmount') as HTMLInputElement).value = `${\n        player.autoAntSacTimer || blankSave.autoAntSacTimer\n      }`.replace(\n        omit,\n        'e'\n      )\n      updateAutoReset(5)\n    }\n    inputd = player.tesseractAutoBuyerAmount\n    inpute = Number(\n      (DOMCacheGetOrSet('tesseractAmount') as HTMLInputElement).value\n    )\n    if (inpute !== inputd || isNaN(inpute + inputd)) {\n      ;(DOMCacheGetOrSet('tesseractAmount') as HTMLInputElement).value = `${\n        player.tesseractAutoBuyerAmount || blankSave.tesseractAutoBuyerAmount\n      }`.replace(omit, 'e')\n      updateTesseractAutoBuyAmount()\n    }\n    inputd = player.openCubes\n    inpute = Number(\n      (DOMCacheGetOrSet('cubeOpensInput') as HTMLInputElement).value\n    )\n    if (inpute !== inputd || isNaN(inpute + inputd)) {\n      ;(DOMCacheGetOrSet('cubeOpensInput') as HTMLInputElement).value = `${player.openCubes || blankSave.openCubes}`\n        .replace(omit, 'e')\n      updateAutoCubesOpens(1)\n    }\n    inputd = player.openTesseracts\n    inpute = Number(\n      (DOMCacheGetOrSet('tesseractsOpensInput') as HTMLInputElement).value\n    )\n    if (inpute !== inputd || isNaN(inpute + inputd)) {\n      ;(DOMCacheGetOrSet('tesseractsOpensInput') as HTMLInputElement).value = `${\n        player.openTesseracts || blankSave.openTesseracts\n      }`.replace(omit, 'e')\n      updateAutoCubesOpens(2)\n    }\n    inputd = player.openHypercubes\n    inpute = Number(\n      (DOMCacheGetOrSet('hypercubesOpensInput') as HTMLInputElement).value\n    )\n    if (inpute !== inputd || isNaN(inpute + inputd)) {\n      ;(DOMCacheGetOrSet('hypercubesOpensInput') as HTMLInputElement).value = `${\n        player.openHypercubes || blankSave.openHypercubes\n      }`.replace(omit, 'e')\n      updateAutoCubesOpens(3)\n    }\n    inputd = player.openPlatonicsCubes\n    inpute = Number(\n      (DOMCacheGetOrSet('platonicCubeOpensInput') as HTMLInputElement).value\n    )\n    if (inpute !== inputd || isNaN(inpute + inputd)) {\n      ;(DOMCacheGetOrSet('platonicCubeOpensInput') as HTMLInputElement).value = `${\n        player.openPlatonicsCubes || blankSave.openPlatonicsCubes\n      }`.replace(\n        omit,\n        'e'\n      )\n      updateAutoCubesOpens(4)\n    }\n    inputd = player.runeBlessingBuyAmount\n    inpute = Number(\n      (DOMCacheGetOrSet('buyRuneBlessingInput') as HTMLInputElement).value\n    )\n    if (inpute !== inputd || isNaN(inpute + inputd)) {\n      ;(DOMCacheGetOrSet('buyRuneBlessingInput') as HTMLInputElement).value = `${\n        player.runeBlessingBuyAmount || blankSave.runeBlessingBuyAmount\n      }`.replace(omit, 'e')\n      updateRuneBlessingBuyAmount(1)\n    }\n\n    DOMCacheGetOrSet('buyRuneBlessingToggle').innerHTML = i18next.t(\n      'runes.blessings.buyUpTo',\n      {\n        amount: format(player.runeBlessingBuyAmount)\n      }\n    )\n\n    inputd = player.runeSpiritBuyAmount\n    inpute = Number(\n      (DOMCacheGetOrSet('buyRuneSpiritInput') as HTMLInputElement).value\n    )\n    if (inpute !== inputd || isNaN(inpute + inputd)) {\n      ;(DOMCacheGetOrSet('buyRuneSpiritInput') as HTMLInputElement).value = `${\n        player.runeSpiritBuyAmount || blankSave.runeSpiritBuyAmount\n      }`.replace(omit, 'e')\n      updateRuneBlessingBuyAmount(2)\n    }\n    DOMCacheGetOrSet('buyRuneSpiritToggleValue').innerHTML = i18next.t(\n      'runes.spirits.buyUpTo',\n      {\n        amount: format(player.runeSpiritBuyAmount, 0, true)\n      }\n    )\n\n    if (player.resettoggle1 === 1) {\n      DOMCacheGetOrSet('prestigeautotoggle').textContent = i18next.t('toggles.modeAmount')\n    }\n    if (player.resettoggle2 === 1) {\n      DOMCacheGetOrSet('transcendautotoggle').textContent = i18next.t('toggles.modeAmount')\n    }\n    if (player.resettoggle3 === 1) {\n      DOMCacheGetOrSet('reincarnateautotoggle').textContent = i18next.t('toggles.modeAmount')\n    }\n    if (player.resettoggle4 === 1) {\n      DOMCacheGetOrSet('tesseractautobuymode').textContent = i18next.t('toggles.modeAmount')\n    }\n\n    if (player.resettoggle1 === 2) {\n      DOMCacheGetOrSet('prestigeautotoggle').textContent = i18next.t('toggles.modeTime')\n    }\n    if (player.resettoggle2 === 2) {\n      DOMCacheGetOrSet('transcendautotoggle').textContent = i18next.t('toggles.modeTime')\n    }\n    if (player.resettoggle3 === 2) {\n      DOMCacheGetOrSet('reincarnateautotoggle').textContent = i18next.t('toggles.modeTime')\n    }\n    if (player.resettoggle4 === 2) {\n      DOMCacheGetOrSet('tesseractautobuymode').textContent = i18next.t(\n        'toggles.modePercentage'\n      )\n    }\n\n    if (player.tesseractAutoBuyerToggle === 1) {\n      DOMCacheGetOrSet('tesseractautobuytoggle').textContent = i18next.t(\n        'runes.talismans.autoBuyOn'\n      )\n      DOMCacheGetOrSet('tesseractautobuytoggle').style.border = '2px solid green'\n    }\n    if (player.tesseractAutoBuyerToggle === 2) {\n      DOMCacheGetOrSet('tesseractautobuytoggle').textContent = i18next.t(\n        'runes.talismans.autoBuyOff'\n      )\n      DOMCacheGetOrSet('tesseractautobuytoggle').style.border = '2px solid red'\n    }\n\n    if (player.autoOpenCubes) {\n      DOMCacheGetOrSet('openCubes').textContent = i18next.t('wowCubes.autoOn', {\n        percent: format(player.openCubes, 0)\n      })\n      DOMCacheGetOrSet('openCubes').style.border = '1px solid green'\n      DOMCacheGetOrSet('cubeOpensInput').style.border = '1px solid green'\n    } else {\n      DOMCacheGetOrSet('openCubes').textContent = i18next.t('wowCubes.autoOff')\n      DOMCacheGetOrSet('openCubes').style.border = '1px solid red'\n      DOMCacheGetOrSet('cubeOpensInput').style.border = '1px solid red'\n    }\n    if (player.autoOpenTesseracts) {\n      DOMCacheGetOrSet('openTesseracts').textContent = i18next.t(\n        'wowCubes.autoOn',\n        {\n          percent: format(player.openTesseracts, 0)\n        }\n      )\n      DOMCacheGetOrSet('openTesseracts').style.border = '1px solid green'\n      DOMCacheGetOrSet('tesseractsOpensInput').style.border = '1px solid green'\n    } else {\n      DOMCacheGetOrSet('openTesseracts').textContent = i18next.t('wowCubes.autoOff')\n      DOMCacheGetOrSet('openTesseracts').style.border = '1px solid red'\n      DOMCacheGetOrSet('tesseractsOpensInput').style.border = '1px solid red'\n    }\n    if (player.autoOpenHypercubes) {\n      DOMCacheGetOrSet('openHypercubes').textContent = i18next.t(\n        'wowCubes.autoOn',\n        {\n          percent: format(player.openHypercubes, 0)\n        }\n      )\n      DOMCacheGetOrSet('openHypercubes').style.border = '1px solid green'\n      DOMCacheGetOrSet('hypercubesOpensInput').style.border = '1px solid green'\n    } else {\n      DOMCacheGetOrSet('openHypercubes').textContent = i18next.t('wowCubes.autoOff')\n      DOMCacheGetOrSet('openHypercubes').style.border = '1px solid red'\n      DOMCacheGetOrSet('hypercubesOpensInput').style.border = '1px solid red'\n    }\n    if (player.autoOpenPlatonicsCubes) {\n      DOMCacheGetOrSet('openPlatonicCube').textContent = i18next.t(\n        'wowCubes.autoOn',\n        {\n          percent: format(player.openPlatonicsCubes, 0)\n        }\n      )\n      DOMCacheGetOrSet('openPlatonicCube').style.border = '1px solid green'\n      DOMCacheGetOrSet('platonicCubeOpensInput').style.border = '1px solid green'\n    } else {\n      DOMCacheGetOrSet('openPlatonicCube').textContent = i18next.t('wowCubes.autoOff')\n      DOMCacheGetOrSet('openPlatonicCube').style.border = '1px solid red'\n      DOMCacheGetOrSet('platonicCubeOpensInput').style.border = '1px solid red'\n    }\n\n    if (player.autoResearchToggle) {\n      DOMCacheGetOrSet('toggleautoresearch').textContent = i18next.t(\n        'researches.automaticOn'\n      )\n    } else {\n      DOMCacheGetOrSet('toggleautoresearch').textContent = i18next.t(\n        'researches.automaticOff'\n      )\n    }\n    if (player.autoResearchMode === 'cheapest') {\n      DOMCacheGetOrSet('toggleautoresearchmode').textContent = i18next.t(\n        'researches.autoModeCheapest'\n      )\n    } else {\n      DOMCacheGetOrSet('toggleautoresearchmode').textContent = i18next.t(\n        'researches.autoModeManual'\n      )\n    }\n    if (player.autoSacrificeToggle) {\n      DOMCacheGetOrSet('toggleautosacrifice').textContent = i18next.t(\n        'runes.blessings.autoRuneOn'\n      )\n      DOMCacheGetOrSet('toggleautosacrifice').style.border = '2px solid green'\n    } else {\n      DOMCacheGetOrSet('toggleautosacrifice').textContent = i18next.t(\n        'runes.blessings.autoRuneOff'\n      )\n      DOMCacheGetOrSet('toggleautosacrifice').style.border = '2px solid red'\n    }\n    if (player.autoBuyFragment) {\n      DOMCacheGetOrSet('toggleautoBuyFragments').textContent = i18next.t(\n        'runes.talismans.autoBuyOn'\n      )\n      DOMCacheGetOrSet('toggleautoBuyFragments').style.border = '2px solid white'\n      DOMCacheGetOrSet('toggleautoBuyFragments').style.color = 'orange'\n    } else {\n      DOMCacheGetOrSet('toggleautoBuyFragments').textContent = i18next.t(\n        'runes.talismans.autoBuyOff'\n      )\n      DOMCacheGetOrSet('toggleautoBuyFragments').style.border = '2px solid orange'\n      DOMCacheGetOrSet('toggleautoBuyFragments').style.color = 'white'\n    }\n    if (player.autoFortifyToggle) {\n      DOMCacheGetOrSet('toggleautofortify').textContent = i18next.t(\n        'runes.autoFortifyOn'\n      )\n      DOMCacheGetOrSet('toggleautofortify').style.border = '2px solid green'\n    } else {\n      DOMCacheGetOrSet('toggleautofortify').textContent = i18next.t(\n        'runes.autoFortifyOff'\n      )\n      DOMCacheGetOrSet('toggleautofortify').style.border = '2px solid red'\n    }\n    if (player.autoEnhanceToggle) {\n      DOMCacheGetOrSet('toggleautoenhance').textContent = i18next.t(\n        'runes.autoEnhanceOn'\n      )\n      DOMCacheGetOrSet('toggleautoenhance').style.border = '2px solid green'\n    } else {\n      DOMCacheGetOrSet('toggleautoenhance').textContent = i18next.t(\n        'runes.autoEnhanceOff'\n      )\n      DOMCacheGetOrSet('toggleautoenhance').style.border = '2px solid red'\n    }\n    player.saveOfferingToggle = false // Lint doesnt like it being inside if\n    DOMCacheGetOrSet('saveOffToggle').textContent = i18next.t(\n      'toggles.saveOfferingsOff'\n    )\n    DOMCacheGetOrSet('saveOffToggle').style.color = 'white'\n    if (player.autoAscend) {\n      DOMCacheGetOrSet('ascensionAutoEnable').textContent = i18next.t(\n        'corruptions.autoAscend.on'\n      )\n      DOMCacheGetOrSet('ascensionAutoEnable').style.border = '2px solid green'\n    } else {\n      DOMCacheGetOrSet('ascensionAutoEnable').textContent = i18next.t(\n        'corruptions.autoAscend.off'\n      )\n      DOMCacheGetOrSet('ascensionAutoEnable').style.border = '2px solid red'\n    }\n    if (player.shopConfirmationToggle) {\n      DOMCacheGetOrSet('toggleConfirmShop').textContent = i18next.t(\n        'shop.shopConfirmationOn'\n      )\n    } else {\n      DOMCacheGetOrSet('toggleConfirmShop').textContent = i18next.t(\n        'shop.shopConfirmationOff'\n      )\n    }\n    switch (player.shopBuyMaxToggle) {\n      case false:\n        DOMCacheGetOrSet('toggleBuyMaxShopText').textContent = i18next.t('shop.buy1')\n        break\n      case 'TEN':\n        DOMCacheGetOrSet('toggleBuyMaxShopText').textContent = i18next.t('shop.buy10')\n        break\n      case true:\n        DOMCacheGetOrSet('toggleBuyMaxShopText').textContent = i18next.t('shop.buyMax')\n        break\n      case 'ANY':\n        DOMCacheGetOrSet('toggleBuyMaxShopText').textContent = i18next.t('shop.buyAny')\n    }\n    if (player.shopHideToggle) {\n      DOMCacheGetOrSet('toggleHideShop').textContent = i18next.t('shop.hideMaxedOn')\n    } else {\n      DOMCacheGetOrSet('toggleHideShop').textContent = i18next.t('shop.hideMaxedOff')\n    }\n    if (player.researchBuyMaxToggle) {\n      DOMCacheGetOrSet('toggleresearchbuy').textContent = i18next.t(\n        'researches.upgradeMax'\n      )\n    } else {\n      DOMCacheGetOrSet('toggleresearchbuy').textContent = i18next.t(\n        'researches.upgradeOne'\n      )\n    }\n    if (player.cubeUpgradesBuyMaxToggle) {\n      DOMCacheGetOrSet('toggleCubeBuy').textContent = i18next.t(\n        'toggles.upgradeMaxIfPossible'\n      )\n    } else {\n      DOMCacheGetOrSet('toggleCubeBuy').textContent = i18next.t(\n        'toggles.upgradeOneLevelWow'\n      )\n    }\n    autoCubeUpgradesToggle(false)\n    autoPlatonicUpgradesToggle(false)\n\n    for (let i = 1; i <= 2; i++) {\n      toggleAntMaxBuy()\n      toggleAntAutoSacrifice(0)\n      toggleAntAutoSacrifice(1)\n    }\n\n    for (let i = 1; i <= 2; i++) {\n      toggleAutoAscend(0)\n      toggleAutoAscend(1)\n    }\n\n    DOMCacheGetOrSet(\n      'historyTogglePerSecondButton'\n    ).textContent = `Per second: ${player.historyShowPerSecond ? 'ON' : 'OFF'}`\n    DOMCacheGetOrSet('historyTogglePerSecondButton').style.borderColor = player.historyShowPerSecond ? 'green' : 'red'\n\n    // If auto research is enabled and runing; Make sure there is something to try to research if possible\n    if (\n      player.autoResearchToggle\n      && autoResearchEnabled()\n      && player.autoResearchMode === 'cheapest'\n    ) {\n      player.autoResearch = G.researchOrderByCost[player.roombaResearchIndex]\n    }\n\n    player.autoResearch = Math.min(200, player.autoResearch)\n    player.autoSacrifice = Math.min(5, player.autoSacrifice)\n\n    if (player.researches[61] === 0) {\n      DOMCacheGetOrSet('automaticobtainium').textContent = i18next.t(\n        'main.buyResearch3x11'\n      )\n    }\n\n    if (player.autoSacrificeToggle && player.autoSacrifice > 0.5) {\n      DOMCacheGetOrSet(`rune${player.autoSacrifice}`).style.backgroundColor = 'orange'\n    }\n\n    if (player.autoWarpCheck) {\n      DOMCacheGetOrSet('warpAuto').textContent = i18next.t(\n        'general.autoOnColon'\n      )\n      DOMCacheGetOrSet('warpAuto').style.border = '2px solid green'\n    } else {\n      DOMCacheGetOrSet('warpAuto').textContent = i18next.t(\n        'general.autoOffColon'\n      )\n      DOMCacheGetOrSet('warpAuto').style.border = '2px solid red'\n    }\n    DOMCacheGetOrSet('autoHepteractPercentage').textContent = i18next.t(\n      'wowCubes.hepteractForge.autoSetting',\n      {\n        x: `${player.hepteractAutoCraftPercentage}`\n      }\n    )\n    DOMCacheGetOrSet('hepteractToQuarkTradeAuto').textContent = player.overfluxOrbsAutoBuy\n      ? i18next.t('general.autoOnColon')\n      : i18next.t('general.autoOffColon')\n    DOMCacheGetOrSet('hepteractToQuarkTradeAuto').style.border = `2px solid ${\n      player.overfluxOrbsAutoBuy ? 'green' : 'red'\n    }`\n    toggleAutoBuyOrbs(true, true)\n\n    DOMCacheGetOrSet('blueberryToggleMode').innerHTML = player.blueberryLoadoutMode === 'saveTree'\n      ? i18next.t('ambrosia.loadouts.save')\n      : i18next.t('ambrosia.loadouts.load')\n\n    toggleTalismanBuy(player.buyTalismanShardPercent)\n    updateTalismanInventory()\n    calculateObtainium()\n    calculateAnts()\n    calculateRuneLevels()\n    resetHistoryRenderAllTables()\n    updateSingularityAchievements()\n    updateSingularityGlobalPerks()\n  }\n\n  updateAchievementBG()\n  if (player.currentChallenge.reincarnation) {\n    resetrepeat('reincarnationChallenge')\n  } else if (player.currentChallenge.transcension) {\n    resetrepeat('transcensionChallenge')\n  }\n\n  const d = new Date()\n  const h = d.getHours()\n  const m = d.getMinutes()\n  const s = d.getSeconds()\n  player.dayTimer = 60 * 60 * 24 - (s + 60 * m + 60 * 60 * h)\n}\n\n// dprint-ignore\nconst FormatList = [\n  \"\",\n  \"K\",\n  \"M\",\n  \"B\",\n  \"T\",\n  \"Qa\",\n  \"Qt\",\n  \"Sx\",\n  \"Sp\",\n  \"Oc\",\n  \"No\",\n  \"Dc\",\n  \"UDc\",\n  \"DDc\",\n  \"TDc\",\n  \"QaDc\",\n  \"QtDc\",\n  \"SxDc\",\n  \"SpDc\",\n  \"OcDc\",\n  \"NoDc\",\n  \"Vg\",\n  \"UVg\",\n  \"DVg\",\n  \"TVg\",\n  \"QaVg\",\n  \"QtVg\",\n  \"SxVg\",\n  \"SpVg\",\n  \"OcVg\",\n  \"NoVg\",\n  \"Tg\",\n  \"UTg\",\n  \"DTg\",\n  \"TTg\",\n  \"QaTg\",\n  \"QtTg\",\n  \"SxTg\",\n  \"SpTg\",\n  \"OTg\",\n  \"NTg\",\n  \"Qd\",\n  \"UQd\",\n  \"DQd\",\n  \"TQd\",\n  \"QaQd\",\n  \"QtQd\",\n  \"SxQd\",\n  \"SpQd\",\n  \"OcQd\",\n  \"NoQd\",\n  \"Qi\",\n  \"UQi\",\n  \"DQi\",\n  \"TQi\",\n  \"QaQi\",\n  \"QtQi\",\n  \"SxQi\",\n  \"SpQi\",\n  \"OQi\",\n  \"NQi\",\n  \"Se\",\n  \"USe\",\n  \"DSe\",\n  \"TSe\",\n  \"QaSe\",\n  \"QtSe\",\n  \"SxSe\",\n  \"SpSe\",\n  \"OcSe\",\n  \"NoSe\",\n  \"St\",\n  \"USt\",\n  \"DSt\",\n  \"TSt\",\n  \"QaSt\",\n  \"QtSt\",\n  \"SxSt\",\n  \"SpSt\",\n  \"OcSt\",\n  \"NoSt\",\n  \"Ocg\",\n  \"UOcg\",\n  \"DOcg\",\n  \"TOcg\",\n  \"QaOcg\",\n  \"QtOcg\",\n  \"SxOcg\",\n  \"SpOcg\",\n  \"OcOcg\",\n  \"NoOcg\",\n  \"Nono\",\n  \"UNono\",\n  \"DNono\",\n  \"TNono\",\n  \"QaNono\",\n  \"QtNono\",\n  \"SxNono\",\n  \"SpNono\",\n  \"OcNono\",\n  \"NoNono\",\n  \"Ce\",\n];\n\n// Bad browsers (like Safari) only recently implemented this.\nconst supportsFormatToParts = typeof Intl.NumberFormat.prototype.formatToParts === 'function'\n\n// In some browsers, this will return an empty-1 length array (?), causing a \"TypeError: Cannot read property 'value' of undefined\"\n// if we destructure it... To reproduce: ` const [ { value } ] = []; `\n// https://discord.com/channels/677271830838640680/730669616870981674/830218436201283584\nconst IntlFormatter = !supportsFormatToParts\n  ? null\n  : Intl.NumberFormat()\n    .formatToParts(1000.1)\n    .filter((part) => part.type === 'decimal' || part.type === 'group')\n\n// gets the system number delimiter and decimal values, defaults to en-US\nconst [{ value: group }, { value: dec }] = IntlFormatter?.length !== 2\n  ? [{ value: ',' }, { value: '.' }]\n  : IntlFormatter\n\n// Number.toLocaleString opts for 2 decimal places\nconst locOpts = { minimumFractionDigits: 2, maximumFractionDigits: 2 }\n\nconst padEvery = (str: string, places = 3) => {\n  let step = 1\n  let newStr = ''\n  const strParts = str.split('.')\n  // don't take any decimal places\n  for (let i = strParts[0].length - 1; i >= 0; i--) {\n    // pad every [places] places if we aren't at the beginning of the string\n    if (step++ === places && i !== 0) {\n      step = 1\n      newStr = group + str[i] + newStr\n    } else {\n      newStr = str[i] + newStr\n    }\n  }\n  // re-add decimal places\n  if (typeof strParts[1] !== 'undefined') {\n    newStr += dec + strParts[1]\n  } // see https://www.npmjs.com/package/flatstr\n\n  ;(newStr as unknown as number) | 0\n  return newStr\n}\n\n/**\n * This function displays the numbers such as 1,234 or 1.00e1234 or 1.00e1.234M.\n * @param input value to format\n * @param accuracy\n * how many decimal points that are to be displayed (Values <10 if !long, <1000 if long).\n * only works up to 305 (308 - 3), however it only worked up to ~14 due to rounding errors regardless\n * @param long dictates whether or not a given number displays as scientific at 1,000,000. This auto defaults to short if input >= 1e7\n */\nexport const format = (\n  input:\n    | Decimal\n    | number\n    | { [Symbol.toPrimitive]: unknown }\n    | null\n    | undefined,\n  accuracy = 0,\n  long = false,\n  truncate = true,\n  fractional = false\n): string => {\n  if (input == null) {\n    return '0 [null]'\n  }\n\n  if (typeof input === 'object' && Symbol.toPrimitive in input) {\n    input = Number(input)\n  }\n\n  if (\n    // invalid parameter\n    (!(input instanceof Decimal) && typeof input !== 'number')\n    || isNaN(input as number)\n  ) {\n    return isNaN(input as number) ? '0 [NaN]' : '0 [und.]'\n  } else if (\n    // this case handles numbers less than 1e-6 and greater than 0\n    typeof input === 'number'\n    && player.notation === 'Default'\n    && input < (!fractional ? 1e-3 : 1e-15) // arbitrary number, don't change 1e-3\n    && input > 0 // don't handle negative numbers, probably could be removed\n  ) {\n    return input.toExponential(accuracy)\n  }\n\n  let power!: number\n  let mantissa!: number\n  if (isDecimal(input)) {\n    // Gets power and mantissa if input is of type decimal\n    power = input.e\n    mantissa = input.mantissa\n  } else if (typeof input === 'number') {\n    if (input === 0) {\n      return '0'\n    }\n\n    // Gets power and mantissa if input is of type number and isn't 0\n    power = Math.floor(Math.log10(Math.abs(input)))\n    mantissa = input / Math.pow(10, power)\n  }\n\n  // This prevents numbers from jittering between two different powers by rounding errors\n  if (mantissa > 9.9999999) {\n    mantissa = 1\n    ;++power\n  }\n\n  if (mantissa < 1 && mantissa > 0.9999999) {\n    mantissa = 1\n  }\n\n  // If the power is less than 15 it's effectively 0\n\n  if (power < -15) {\n    return '0'\n  }\n  if (player.notation === 'Pure Engineering') {\n    const powerOver = power % 3 < 0 ? 3 + (power % 3) : power % 3\n    power = power - powerOver\n    mantissa = mantissa * Math.pow(10, powerOver)\n  }\n  if (\n    player.notation === 'Pure Scientific'\n    || player.notation === 'Pure Engineering'\n  ) {\n    if (power >= 1e6) {\n      if (!Number.isFinite(power)) {\n        return 'Infinity'\n      }\n      return `E${format(power, 3)}`\n    }\n    accuracy = power === 2 && accuracy > 2 ? 2 : accuracy\n    if (power >= 6 || power < 0) {\n      accuracy = accuracy < 2 ? 2 : accuracy\n      // Makes the power group 3 with commas\n      const mantissaLook = (\n        Math.floor(mantissa * Math.pow(10, accuracy)) / Math.pow(10, accuracy)\n      ).toLocaleString(undefined, locOpts)\n      const powerLook = padEvery(power.toString())\n      // returns format (1.23e456,789)\n      return `${mantissaLook}e${powerLook}`\n    }\n    mantissa = mantissa * Math.pow(10, power)\n    if (mantissa - Math.floor(mantissa) > 0.9999999) {\n      mantissa = Math.ceil(mantissa)\n    }\n    const mantissaLook = (\n      Math.floor(mantissa * Math.pow(10, accuracy)) / Math.pow(10, accuracy)\n    ).toLocaleString(undefined, {\n      minimumFractionDigits: accuracy,\n      maximumFractionDigits: accuracy\n    })\n    return `${mantissaLook}`\n  }\n  // If the power is negative, then we will want to address that separately.\n  if (power < 0 && !isDecimal(input) && fractional) {\n    if (power <= -15) {\n      return `${format(mantissa, accuracy, long)} / ${\n        Math.pow(\n          10,\n          -power - 15\n        )\n      }Qa`\n    }\n    if (power <= -12) {\n      return `${format(mantissa, accuracy, long)} / ${\n        Math.pow(\n          10,\n          -power - 12\n        )\n      }T`\n    }\n    if (power <= -9) {\n      return `${format(mantissa, accuracy, long)} / ${\n        Math.pow(\n          10,\n          -power - 9\n        )\n      }B`\n    }\n    if (power <= -6) {\n      return `${format(mantissa, accuracy, long)} / ${\n        Math.pow(\n          10,\n          -power - 6\n        )\n      }M`\n    }\n    if (power <= -3) {\n      return `${format(mantissa, accuracy, long)} / ${\n        Math.pow(\n          10,\n          -power - 3\n        )\n      }K`\n    }\n    return `${format(mantissa, accuracy, long)} / ${Math.pow(10, -power)}`\n  } else if (power < 6 || (long && power < 7)) {\n    // If the power is less than 6 or format long and less than 7 use standard formatting (1,234,567)\n    // Gets the standard representation of the number, safe as power is guaranteed to be > -12 and < 7\n    let standard = mantissa * Math.pow(10, power)\n    let standardString: string\n    // Rounds up if the number experiences a rounding error\n    if (standard - Math.floor(standard) > 0.9999999) {\n      standard = Math.ceil(standard)\n    }\n    // If the power is less than 1 or format long and less than 3 apply toFixed(accuracy) to get decimal places\n    if ((power < 2 || (long && power < 3)) && accuracy > 0) {\n      standardString = standard.toFixed(\n        power === 2 && accuracy > 2 ? 2 : accuracy\n      )\n    } else {\n      // If it doesn't fit those criteria drop the decimal places\n      standard = Math.floor(standard)\n      standardString = standard.toString()\n    }\n\n    // Split it on the decimal place\n    return padEvery(standardString)\n  } else if (power < 1e6) {\n    // If the power is less than 1e6 then apply standard scientific notation\n    // Makes mantissa be rounded down to 2 decimal places\n    const mantissaLook = (Math.floor(mantissa * 100) / 100).toLocaleString(\n      undefined,\n      locOpts\n    )\n    // Makes the power group 3 with commas\n    const powerLook = padEvery(power.toString())\n    // returns format (1.23e456,789)\n    return `${mantissaLook}e${powerLook}`\n  } else if (power >= 1e6) {\n    if (!Number.isFinite(power)) {\n      return 'Infinity'\n    }\n\n    // if the power is greater than 1e6 apply notation scientific notation\n    // Makes mantissa be rounded down to 2 decimal places\n    const mantissaLook = testing && truncate\n      ? ''\n      : (Math.floor(mantissa * 100) / 100).toLocaleString(undefined, locOpts)\n\n    // Drops the power down to 4 digits total but never greater than 1000 in increments that equate to notations, (1234000 -> 1.234) ( 12340000 -> 12.34) (123400000 -> 123.4) (1234000000 -> 1.234)\n    const powerDigits = Math.ceil(Math.log10(power))\n    let powerFront = ((powerDigits - 1) % 3) + 1\n    let powerLook = power / Math.pow(10, powerDigits - powerFront)\n    if (powerLook === 1000) {\n      powerLook = 1\n      powerFront = 1\n    }\n\n    const powerLookF = powerLook.toLocaleString(undefined, {\n      minimumFractionDigits: 4 - powerFront,\n      maximumFractionDigits: 4 - powerFront\n    })\n    const powerLodge = Math.floor(Math.log10(power) / 3)\n    // Return relevant notations alongside the \"look\" power based on what the power actually is\n    if (typeof FormatList[powerLodge] === 'string') {\n      return `${mantissaLook}e${powerLookF}${FormatList[powerLodge]}`\n    }\n\n    // If it doesn't fit a notation then default to mantissa e power\n    return `e${power.toExponential(2)}`\n  } else {\n    return '0 [und.]'\n  }\n}\n\nexport const formatTimeShort = (\n  seconds: number,\n  msMaxSeconds?: number\n): string => {\n  return (\n    (seconds >= 86400 ? `${format(Math.floor(seconds / 86400))}d` : '')\n    + (seconds >= 3600 ? `${format(Math.floor(seconds / 3600) % 24)}h` : '')\n    + (seconds >= 60 ? `${format(Math.floor(seconds / 60) % 60)}m` : '')\n    + (seconds >= 8640000\n      ? ''\n      : `${\n        format(Math.floor(seconds) % 60)\n        + (msMaxSeconds && seconds < msMaxSeconds // Don't show seconds when you're over 100 days, like honestly\n          ? `.${\n            Math.floor((seconds % 1) * 1000)\n              .toString()\n              .padStart(3, '0')\n          }`\n          : '')\n      }s`)\n  )\n}\n\nexport const updateAllTick = (): void => {\n  let a = 0\n\n  G.totalAccelerator = player.acceleratorBought\n  G.costDivisor = 1\n\n  if (player.upgrades[8] !== 0) {\n    a += Math.floor(player.multiplierBought / 7)\n  }\n  if (player.upgrades[21] !== 0) {\n    a += 5\n  }\n  if (player.upgrades[22] !== 0) {\n    a += 4\n  }\n  if (player.upgrades[23] !== 0) {\n    a += 3\n  }\n  if (player.upgrades[24] !== 0) {\n    a += 2\n  }\n  if (player.upgrades[25] !== 0) {\n    a += 1\n  }\n  if (player.upgrades[27] !== 0) {\n    a += Math.min(250, Math.floor(Decimal.log(player.coins.add(1), 1e3)))\n      + Math.min(\n        1750,\n        Math.max(0, Math.floor(Decimal.log(player.coins.add(1), 1e15)) - 50)\n      )\n  }\n  if (player.upgrades[29] !== 0) {\n    a += Math.floor(\n      Math.min(\n        2000,\n        (player.firstOwnedCoin\n          + player.secondOwnedCoin\n          + player.thirdOwnedCoin\n          + player.fourthOwnedCoin\n          + player.fifthOwnedCoin)\n          / 80\n      )\n    )\n  }\n  if (player.upgrades[32] !== 0) {\n    a += Math.min(\n      500,\n      Math.floor(Decimal.log(player.prestigePoints.add(1), 1e25))\n    )\n  }\n  if (player.upgrades[45] !== 0) {\n    a += Math.min(\n      2500,\n      Math.floor(Decimal.log(player.transcendShards.add(1), 10))\n    )\n  }\n  if (player.achievements[5] !== 0) {\n    a += Math.floor(player.firstOwnedCoin / 500)\n  }\n  if (player.achievements[12] !== 0) {\n    a += Math.floor(player.secondOwnedCoin / 500)\n  }\n  if (player.achievements[19] !== 0) {\n    a += Math.floor(player.thirdOwnedCoin / 500)\n  }\n  if (player.achievements[26] !== 0) {\n    a += Math.floor(player.fourthOwnedCoin / 500)\n  }\n  if (player.achievements[33] !== 0) {\n    a += Math.floor(player.fifthOwnedCoin / 500)\n  }\n  if (player.achievements[60] !== 0) {\n    a += 2\n  }\n  if (player.achievements[61] !== 0) {\n    a += 2\n  }\n  if (player.achievements[62] !== 0) {\n    a += 2\n  }\n\n  a += 5 * CalcECC('transcend', player.challengecompletions[2])\n  G.freeUpgradeAccelerator = a\n  a += G.totalAcceleratorBoost\n    * (4\n      + 2 * player.researches[18]\n      + 2 * player.researches[19]\n      + 3 * player.researches[20]\n      + G.cubeBonusMultiplier[1])\n  if (player.unlocks.prestige) {\n    a += Math.floor(Math.pow((G.rune1level * G.effectiveLevelMult) / 4, 1.25))\n    a *= 1 + ((G.rune1level * 1) / 400) * G.effectiveLevelMult\n  }\n\n  calculateAcceleratorMultiplier()\n  a *= G.acceleratorMultiplier\n  a = Math.pow(\n    a,\n    Math.min(\n      1,\n      (1 + player.platonicUpgrades[6] / 30)\n        * G.viscosityPower[player.usedCorruptions[2]]\n    )\n  )\n  a += 2000 * hepteractEffective('accelerator')\n  a *= G.challenge15Rewards.accelerator\n  a *= 1 + (3 / 10000) * hepteractEffective('accelerator')\n  a = Math.floor(Math.min(1e100, a))\n\n  if (player.usedCorruptions[2] >= 15) {\n    a = Math.pow(a, 0.2)\n  }\n  if (player.usedCorruptions[2] >= 16) {\n    a = 1\n  }\n\n  G.freeAccelerator = a\n  G.totalAccelerator += G.freeAccelerator\n\n  G.tuSevenMulti = 1\n\n  if (player.upgrades[46] > 0.5) {\n    G.tuSevenMulti = 1.05\n  }\n\n  G.acceleratorPower = Math.pow(\n    1.1\n      + G.tuSevenMulti\n        * (G.totalAcceleratorBoost / 100)\n        * (1 + CalcECC('transcend', player.challengecompletions[2]) / 20),\n    1 + 0.04 * CalcECC('reincarnation', player.challengecompletions[7])\n  )\n  G.acceleratorPower += ((1 / 200)\n    * Math.floor(CalcECC('transcend', player.challengecompletions[2]) / 2)\n    * 100)\n    / 100\n  for (let i = 1; i <= 5; i++) {\n    if (player.achievements[7 * i - 4] > 0) {\n      G.acceleratorPower += 0.0005 * i\n    }\n  }\n\n  // No MA and Sadistic will always overwrite Transcend challenges starting in v2.0.0\n  if (\n    player.currentChallenge.reincarnation !== 7\n    && player.currentChallenge.reincarnation !== 10\n  ) {\n    if (player.currentChallenge.transcension === 1) {\n      G.acceleratorPower *= 25 / (50 + player.challengecompletions[1])\n      G.acceleratorPower += 0.55\n      G.acceleratorPower = Math.max(1, G.acceleratorPower)\n    }\n    if (player.currentChallenge.transcension === 2) {\n      G.acceleratorPower = 1\n    }\n    if (player.currentChallenge.transcension === 3) {\n      G.acceleratorPower = 1.05\n        + 2\n          * G.tuSevenMulti\n          * (G.totalAcceleratorBoost / 300)\n          * (1 + CalcECC('transcend', player.challengecompletions[2]) / 20)\n    }\n  }\n  G.acceleratorPower = Math.min(1e300, G.acceleratorPower)\n  if (player.currentChallenge.reincarnation === 7) {\n    G.acceleratorPower = 1\n  }\n  if (player.currentChallenge.reincarnation === 10) {\n    G.acceleratorPower = 1\n  }\n\n  if (player.currentChallenge.transcension !== 1) {\n    G.acceleratorEffect = Decimal.pow(G.acceleratorPower, G.totalAccelerator)\n  }\n\n  if (player.currentChallenge.transcension === 1) {\n    G.acceleratorEffect = Decimal.pow(\n      G.acceleratorPower,\n      G.totalAccelerator + G.totalMultiplier\n    )\n  }\n  G.acceleratorEffectDisplay = new Decimal(G.acceleratorPower * 100 - 100)\n  if (player.currentChallenge.reincarnation === 10) {\n    G.acceleratorEffect = new Decimal(1)\n  }\n  G.generatorPower = new Decimal(1)\n  if (\n    player.upgrades[11] > 0.5\n    && player.currentChallenge.reincarnation !== 7\n  ) {\n    G.generatorPower = Decimal.pow(1.02, G.totalAccelerator)\n  }\n}\n\nexport const updateAllMultiplier = (): void => {\n  let a = 0\n\n  if (player.upgrades[7] > 0) {\n    a += Math.min(\n      4,\n      1 + Math.floor(Decimal.log(player.fifthOwnedCoin + 1, 10))\n    )\n  }\n  if (player.upgrades[9] > 0) {\n    a += Math.floor(player.acceleratorBought / 10)\n  }\n  if (player.upgrades[21] > 0) {\n    a += 1\n  }\n  if (player.upgrades[22] > 0) {\n    a += 1\n  }\n  if (player.upgrades[23] > 0) {\n    a += 1\n  }\n  if (player.upgrades[24] > 0) {\n    a += 1\n  }\n  if (player.upgrades[25] > 0) {\n    a += 1\n  }\n  if (player.upgrades[28] > 0) {\n    a += Math.min(\n      1000,\n      Math.floor(\n        (player.firstOwnedCoin\n          + player.secondOwnedCoin\n          + player.thirdOwnedCoin\n          + player.fourthOwnedCoin\n          + player.fifthOwnedCoin)\n          / 160\n      )\n    )\n  }\n  if (player.upgrades[30] > 0) {\n    a += Math.min(75, Math.floor(Decimal.log(player.coins.add(1), 1e10)))\n      + Math.min(925, Math.floor(Decimal.log(player.coins.add(1), 1e30)))\n  }\n  if (player.upgrades[33] > 0) {\n    a += G.totalAcceleratorBoost\n  }\n  if (player.upgrades[49] > 0) {\n    a += Math.min(\n      50,\n      Math.floor(Decimal.log(player.transcendPoints.add(1), 1e10))\n    )\n  }\n  if (player.upgrades[68] > 0) {\n    a += Math.min(2500, Math.floor((Decimal.log(G.taxdivisor, 10) * 1) / 1000))\n  }\n  if (player.challengecompletions[1] > 0) {\n    a += 1\n  }\n  if (player.achievements[6] > 0.5) {\n    a += Math.floor(player.firstOwnedCoin / 1000)\n  }\n  if (player.achievements[13] > 0.5) {\n    a += Math.floor(player.secondOwnedCoin / 1000)\n  }\n  if (player.achievements[20] > 0.5) {\n    a += Math.floor(player.thirdOwnedCoin / 1000)\n  }\n  if (player.achievements[27] > 0.5) {\n    a += Math.floor(player.fourthOwnedCoin / 1000)\n  }\n  if (player.achievements[34] > 0.5) {\n    a += Math.floor(player.fifthOwnedCoin / 1000)\n  }\n  if (player.achievements[57] > 0.5) {\n    a += 1\n  }\n  if (player.achievements[58] > 0.5) {\n    a += 1\n  }\n  if (player.achievements[59] > 0.5) {\n    a += 1\n  }\n  a += 20\n    * player.researches[94]\n    * Math.floor(\n      (G.rune1level\n        + G.rune2level\n        + G.rune3level\n        + G.rune4level\n        + G.rune5level)\n        / 8\n    )\n\n  G.freeUpgradeMultiplier = Math.min(1e100, a)\n\n  if (player.achievements[38] > 0.5) {\n    a += (Math.floor(\n      (Math.floor((G.rune2level / 10) * G.effectiveLevelMult)\n        * Math.floor(1 + (G.rune2level / 10) * G.effectiveLevelMult))\n        / 2\n    )\n      * 100)\n      / 100\n  }\n\n  a *= 1 + player.achievements[57] / 100\n  a *= 1 + player.achievements[58] / 100\n  a *= 1 + player.achievements[59] / 100\n  a *= Math.pow(\n    1.01,\n    player.upgrades[21]\n      + player.upgrades[22]\n      + player.upgrades[23]\n      + player.upgrades[24]\n      + player.upgrades[25]\n  )\n  a *= 1 + 0.03 * player.upgrades[34] + 0.02 * player.upgrades[35]\n  a *= 1\n    + (1 / 5)\n      * player.researches[2]\n      * (1 + (1 / 2) * CalcECC('ascension', player.challengecompletions[14]))\n  a *= 1\n    + (1 / 20) * player.researches[11]\n    + (1 / 25) * player.researches[12]\n    + (1 / 40) * player.researches[13]\n    + (3 / 200) * player.researches[14]\n    + (1 / 200) * player.researches[15]\n  a *= 1 + (G.rune2level / 400) * G.effectiveLevelMult\n  a *= 1 + (1 / 20) * player.researches[87]\n  a *= 1 + (1 / 100) * player.researches[128]\n  a *= 1 + (0.8 / 100) * player.researches[143]\n  a *= 1 + (0.6 / 100) * player.researches[158]\n  a *= 1 + (0.4 / 100) * player.researches[173]\n  a *= 1 + (0.2 / 100) * player.researches[188]\n  a *= 1 + (0.01 / 100) * player.researches[200]\n  a *= 1 + (0.01 / 100) * player.cubeUpgrades[50]\n  a *= calculateSigmoidExponential(\n    40,\n    (((player.antUpgrades[4]! + G.bonusant5) / 1000) * 40) / 39\n  )\n  a *= G.cubeBonusMultiplier[2]\n  if (\n    (player.currentChallenge.transcension !== 0\n      || player.currentChallenge.reincarnation !== 0)\n    && player.upgrades[50] > 0.5\n  ) {\n    a *= 1.25\n  }\n  a = Math.pow(\n    a,\n    Math.min(\n      1,\n      (1 + player.platonicUpgrades[6] / 30)\n        * G.viscosityPower[player.usedCorruptions[2]]\n    )\n  )\n  a += 1000 * hepteractEffective('multiplier')\n  a *= G.challenge15Rewards.multiplier\n  a *= 1 + (3 / 10000) * hepteractEffective('multiplier')\n  a = Math.floor(Math.min(1e100, a))\n\n  if (player.usedCorruptions[2] >= 15) {\n    a = Math.pow(a, 0.2)\n  }\n  if (player.usedCorruptions[2] >= 16) {\n    a = 1\n  }\n\n  G.freeMultiplier = a\n  G.totalMultiplier = G.freeMultiplier + player.multiplierBought\n\n  G.challengeOneLog = 3\n\n  let b = 0\n  let c = 0\n  b += Decimal.log(player.transcendShards.add(1), 3)\n  b *= 1 + (11 * player.researches[33]) / 100\n  b *= 1 + (11 * player.researches[34]) / 100\n  b *= 1 + (11 * player.researches[35]) / 100\n  b *= 1 + player.researches[89] / 5\n  b *= 1 + 10 * G.effectiveRuneBlessingPower[2]\n\n  c += Math.floor(\n    0.1 * b * CalcECC('transcend', player.challengecompletions[1])\n  )\n  c += CalcECC('transcend', player.challengecompletions[1]) * 10\n  G.freeMultiplierBoost = c\n  G.totalMultiplierBoost = Math.pow(\n    Math.floor(b) + c,\n    1 + CalcECC('reincarnation', player.challengecompletions[7]) * 0.04\n  )\n\n  let c7 = 1\n  if (player.challengecompletions[7] > 0.5) {\n    c7 = 1.25\n  }\n\n  G.multiplierPower = 2 + 0.005 * G.totalMultiplierBoost * c7\n\n  // No MA and Sadistic will always override Transcend Challenges starting in v2.0.0\n  if (\n    player.currentChallenge.reincarnation !== 7\n    && player.currentChallenge.reincarnation !== 10\n  ) {\n    if (player.currentChallenge.transcension === 1) {\n      G.multiplierPower = 1\n    }\n    if (player.currentChallenge.transcension === 2) {\n      G.multiplierPower = 1.25 + 0.0012 * (b + c) * c7\n    }\n  }\n  G.multiplierPower = Math.min(1e300, G.multiplierPower)\n\n  if (player.currentChallenge.reincarnation === 7) {\n    G.multiplierPower = 1\n  }\n  if (player.currentChallenge.reincarnation === 10) {\n    G.multiplierPower = 1\n  }\n\n  G.multiplierEffect = Decimal.pow(G.multiplierPower, G.totalMultiplier)\n}\n\nexport const multipliers = (): void => {\n  let s = new Decimal(1)\n  let c = new Decimal(1)\n  let crystalExponent = 1 / 3\n  crystalExponent += Math.min(\n    10\n      + (0.05 * player.researches[129] * Math.log(player.commonFragments + 1))\n        / Math.log(4)\n      + ((20 * calculateCorruptionPoints()) / 400)\n        * G.effectiveRuneSpiritPower[3],\n    0.05 * player.crystalUpgrades[3]\n  )\n  crystalExponent += 0.04 * CalcECC('transcend', player.challengecompletions[3])\n  crystalExponent += 0.08 * player.researches[28]\n  crystalExponent += 0.08 * player.researches[29]\n  crystalExponent += 0.04 * player.researches[30]\n  crystalExponent += 8 * player.cubeUpgrades[17]\n  G.prestigeMultiplier = Decimal.pow(\n    player.prestigeShards,\n    crystalExponent\n  ).add(1)\n\n  let c7 = 1\n  if (player.currentChallenge.reincarnation === 7) {\n    c7 = 0.05\n  }\n  if (player.currentChallenge.reincarnation === 8) {\n    c7 = 0\n  }\n\n  G.buildingPower = 1\n    + (1 - Math.pow(2, -1 / 160))\n      * c7\n      * Decimal.log(player.reincarnationShards.add(1), 10)\n      * (1\n        + (1 / 20) * player.researches[36]\n        + (1 / 40) * player.researches[37]\n        + (1 / 40) * player.researches[38])\n    + (((c7 + 0.2) * 0.25) / 1.2)\n      * CalcECC('reincarnation', player.challengecompletions[8])\n\n  G.buildingPower = Math.pow(\n    G.buildingPower,\n    1 + player.cubeUpgrades[12] * 0.09\n  )\n  G.buildingPower = Math.pow(\n    G.buildingPower,\n    1 + player.cubeUpgrades[36] * 0.05\n  )\n  G.reincarnationMultiplier = Decimal.pow(G.buildingPower, G.totalCoinOwned)\n\n  G.antMultiplier = Decimal.pow(\n    Decimal.max(1, player.antPoints),\n    calculateCrumbToCoinExp()\n  )\n\n  s = s.times(G.multiplierEffect)\n  s = s.times(G.acceleratorEffect)\n  s = s.times(G.prestigeMultiplier)\n  s = s.times(G.reincarnationMultiplier)\n  s = s.times(G.antMultiplier)\n  // PLAT - check\n  const first6CoinUp = new Decimal(G.totalCoinOwned + 1).times(\n    Decimal.min(1e30, Decimal.pow(1.008, G.totalCoinOwned))\n  )\n\n  if (player.highestSingularityCount > 0) {\n    s = s.times(\n      Math.pow(player.goldenQuarks + 1, 1.5)\n        * Math.pow(player.highestSingularityCount + 1, 2)\n    )\n  }\n  if (player.upgrades[6] > 0.5) {\n    s = s.times(first6CoinUp)\n  }\n  if (player.upgrades[12] > 0.5) {\n    s = s.times(Decimal.min(1e4, Decimal.pow(1.01, player.prestigeCount)))\n  }\n  if (player.upgrades[20] > 0.5) {\n    // PLAT - check\n    s = s.times(Decimal.pow(G.totalCoinOwned / 4 + 1, 10))\n  }\n  if (player.upgrades[41] > 0.5) {\n    s = s.times(\n      Decimal.min(1e30, Decimal.pow(player.transcendPoints.add(1), 1 / 2))\n    )\n  }\n  if (player.upgrades[43] > 0.5) {\n    s = s.times(Decimal.min(1e30, Decimal.pow(1.01, player.transcendCount)))\n  }\n  if (player.upgrades[48] > 0.5) {\n    s = s.times(\n      Decimal.pow((G.totalMultiplier * G.totalAccelerator) / 1000 + 1, 8)\n    )\n  }\n  if (player.currentChallenge.reincarnation === 6) {\n    s = s.dividedBy(1e250)\n  }\n  if (player.currentChallenge.reincarnation === 7) {\n    s = s.dividedBy('1e1250')\n  }\n  if (player.currentChallenge.reincarnation === 9) {\n    s = s.dividedBy('1e2000000')\n  }\n  if (player.currentChallenge.reincarnation === 10) {\n    s = s.dividedBy('1e12500000')\n  }\n  c = Decimal.pow(s, 1 + 0.001 * player.researches[17])\n  let lol = Decimal.pow(c, 1 + 0.025 * player.upgrades[123])\n  if (\n    player.currentChallenge.ascension === 15\n    && player.platonicUpgrades[5] > 0\n  ) {\n    lol = Decimal.pow(lol, 1.1)\n  }\n  if (\n    player.currentChallenge.ascension === 15\n    && player.platonicUpgrades[14] > 0\n  ) {\n    lol = Decimal.pow(\n      lol,\n      1\n        + ((1 / 20)\n            * player.usedCorruptions[9]\n            * Decimal.log(player.coins.add(1), 10))\n          / (1e7 + Decimal.log(player.coins.add(1), 10))\n    )\n  }\n  if (\n    player.currentChallenge.ascension === 15\n    && player.platonicUpgrades[15] > 0\n  ) {\n    lol = Decimal.pow(lol, 1.1)\n  }\n  lol = Decimal.pow(lol, G.challenge15Rewards.coinExponent)\n  G.globalCoinMultiplier = lol\n  G.globalCoinMultiplier = Decimal.pow(\n    G.globalCoinMultiplier,\n    G.financialcollapsePower[player.usedCorruptions[9]]\n  )\n\n  G.coinOneMulti = new Decimal(1)\n  if (player.upgrades[1] > 0.5) {\n    G.coinOneMulti = G.coinOneMulti.times(first6CoinUp)\n  }\n  if (player.upgrades[10] > 0.5) {\n    G.coinOneMulti = G.coinOneMulti.times(\n      Decimal.pow(2, Math.min(50, player.secondOwnedCoin / 15))\n    )\n  }\n  if (player.upgrades[56] > 0.5) {\n    G.coinOneMulti = G.coinOneMulti.times('1e5000')\n  }\n\n  G.coinTwoMulti = new Decimal(1)\n  if (player.upgrades[2] > 0.5) {\n    G.coinTwoMulti = G.coinTwoMulti.times(first6CoinUp)\n  }\n  if (player.upgrades[13] > 0.5) {\n    G.coinTwoMulti = G.coinTwoMulti.times(\n      Decimal.min(\n        1e50,\n        Decimal.pow(\n          player.firstGeneratedMythos.add(player.firstOwnedMythos).add(1),\n          4 / 3\n        ).times(1e10)\n      )\n    )\n  }\n  if (player.upgrades[19] > 0.5) {\n    G.coinTwoMulti = G.coinTwoMulti.times(\n      Decimal.min(1e200, player.transcendPoints.times(1e30).add(1))\n    )\n  }\n  if (player.upgrades[57] > 0.5) {\n    G.coinTwoMulti = G.coinTwoMulti.times('1e7500')\n  }\n\n  G.coinThreeMulti = new Decimal(1)\n  if (player.upgrades[3] > 0.5) {\n    G.coinThreeMulti = G.coinThreeMulti.times(first6CoinUp)\n  }\n  if (player.upgrades[18] > 0.5) {\n    G.coinThreeMulti = G.coinThreeMulti.times(\n      Decimal.min(1e125, player.transcendShards.add(1))\n    )\n  }\n  if (player.upgrades[58] > 0.5) {\n    G.coinThreeMulti = G.coinThreeMulti.times('1e15000')\n  }\n\n  G.coinFourMulti = new Decimal(1)\n  if (player.upgrades[4] > 0.5) {\n    G.coinFourMulti = G.coinFourMulti.times(first6CoinUp)\n  }\n  if (player.upgrades[17] > 0.5) {\n    G.coinFourMulti = G.coinFourMulti.times(1e100)\n  }\n  if (player.upgrades[59] > 0.5) {\n    G.coinFourMulti = G.coinFourMulti.times('1e25000')\n  }\n\n  G.coinFiveMulti = new Decimal(1)\n  if (player.upgrades[5] > 0.5) {\n    G.coinFiveMulti = G.coinFiveMulti.times(first6CoinUp)\n  }\n  if (player.upgrades[60] > 0.5) {\n    G.coinFiveMulti = G.coinFiveMulti.times('1e35000')\n  }\n\n  G.globalCrystalMultiplier = new Decimal(1)\n  if (player.achievements[36] > 0.5) {\n    G.globalCrystalMultiplier = G.globalCrystalMultiplier.times(2)\n  }\n  if (player.achievements[37] > 0.5 && player.prestigePoints.gte(10)) {\n    G.globalCrystalMultiplier = G.globalCrystalMultiplier.times(\n      Decimal.log(player.prestigePoints.add(1), 10)\n    )\n  }\n  if (player.achievements[44] > 0.5) {\n    G.globalCrystalMultiplier = G.globalCrystalMultiplier.times(\n      Decimal.pow((G.rune3level / 2) * G.effectiveLevelMult, 2)\n        .times(Decimal.pow(2, (G.rune3level * G.effectiveLevelMult) / 2 - 8))\n        .add(1)\n    )\n  }\n  if (player.upgrades[36] > 0.5) {\n    G.globalCrystalMultiplier = G.globalCrystalMultiplier.times(\n      Decimal.min('1e5000', Decimal.pow(player.prestigePoints, 1 / 500))\n    )\n  }\n  if (player.upgrades[63] > 0.5) {\n    G.globalCrystalMultiplier = G.globalCrystalMultiplier.times(\n      Decimal.min('1e6000', Decimal.pow(player.reincarnationPoints.add(1), 6))\n    )\n  }\n  if (player.researches[39] > 0.5) {\n    G.globalCrystalMultiplier = G.globalCrystalMultiplier.times(\n      Decimal.pow(G.reincarnationMultiplier, 1 / 50)\n    )\n  }\n\n  G.globalCrystalMultiplier = G.globalCrystalMultiplier.times(\n    Decimal.min(\n      Decimal.pow(10, 50 + 2 * player.crystalUpgrades[0]),\n      Decimal.pow(1.05, player.achievementPoints * player.crystalUpgrades[0])\n    )\n  )\n  G.globalCrystalMultiplier = G.globalCrystalMultiplier.times(\n    Decimal.min(\n      Decimal.pow(10, 100 + 5 * player.crystalUpgrades[1]),\n      Decimal.pow(\n        Decimal.log(player.coins.add(1), 10),\n        player.crystalUpgrades[1] / 3\n      )\n    )\n  )\n  G.globalCrystalMultiplier = G.globalCrystalMultiplier.times(\n    Decimal.pow(\n      1\n        + Math.min(\n          0.12\n            + 0.88 * player.upgrades[122]\n            + (0.001\n                * player.researches[129]\n                * Math.log(player.commonFragments + 1))\n              / Math.log(4),\n          0.001 * player.crystalUpgrades[2]\n        ),\n      player.firstOwnedDiamonds\n        + player.secondOwnedDiamonds\n        + player.thirdOwnedDiamonds\n        + player.fourthOwnedDiamonds\n        + player.fifthOwnedDiamonds\n    )\n  )\n  G.globalCrystalMultiplier = G.globalCrystalMultiplier.times(\n    Decimal.pow(\n      1.01,\n      (player.challengecompletions[1]\n        + player.challengecompletions[2]\n        + player.challengecompletions[3]\n        + player.challengecompletions[4]\n        + player.challengecompletions[5])\n        * player.crystalUpgrades[4]\n    )\n  )\n  G.globalCrystalMultiplier = G.globalCrystalMultiplier.times(\n    Decimal.pow(10, CalcECC('transcend', player.challengecompletions[5]))\n  )\n  G.globalCrystalMultiplier = G.globalCrystalMultiplier.times(\n    Decimal.pow(\n      1e4,\n      player.researches[5]\n        * (1 + (1 / 2) * CalcECC('ascension', player.challengecompletions[14]))\n    )\n  )\n  G.globalCrystalMultiplier = G.globalCrystalMultiplier.times(\n    Decimal.pow(2.5, player.researches[26])\n  )\n  G.globalCrystalMultiplier = G.globalCrystalMultiplier.times(\n    Decimal.pow(2.5, player.researches[27])\n  )\n\n  G.globalMythosMultiplier = new Decimal(1)\n\n  if (player.upgrades[37] > 0.5) {\n    G.globalMythosMultiplier = G.globalMythosMultiplier.times(\n      Decimal.pow(Decimal.log(player.prestigePoints.add(10), 10), 2)\n    )\n  }\n  if (player.upgrades[42] > 0.5) {\n    G.globalMythosMultiplier = G.globalMythosMultiplier.times(\n      Decimal.min(\n        1e50,\n        Decimal.pow(player.prestigePoints.add(1), 1 / 50)\n          .dividedBy(2.5)\n          .add(1)\n      )\n    )\n  }\n  if (player.upgrades[47] > 0.5) {\n    G.globalMythosMultiplier = G.globalMythosMultiplier\n      .times(Decimal.pow(1.05, player.achievementPoints))\n      .times(player.achievementPoints + 1)\n  }\n  if (player.upgrades[51] > 0.5) {\n    G.globalMythosMultiplier = G.globalMythosMultiplier.times(\n      Decimal.pow(G.totalAcceleratorBoost, 2)\n    )\n  }\n  if (player.upgrades[52] > 0.5) {\n    G.globalMythosMultiplier = G.globalMythosMultiplier.times(\n      Decimal.pow(G.globalMythosMultiplier, 0.025)\n    )\n  }\n  if (player.upgrades[64] > 0.5) {\n    G.globalMythosMultiplier = G.globalMythosMultiplier.times(\n      Decimal.pow(player.reincarnationPoints.add(1), 2)\n    )\n  }\n  if (player.researches[40] > 0.5) {\n    G.globalMythosMultiplier = G.globalMythosMultiplier.times(\n      Decimal.pow(G.reincarnationMultiplier, 1 / 250)\n    )\n  }\n  G.grandmasterMultiplier = new Decimal(1)\n  G.totalMythosOwned = player.firstOwnedMythos\n    + player.secondOwnedMythos\n    + player.thirdOwnedMythos\n    + player.fourthOwnedMythos\n    + player.fifthOwnedMythos\n\n  G.mythosBuildingPower = 1 + CalcECC('transcend', player.challengecompletions[3]) / 200\n  G.challengeThreeMultiplier = Decimal.pow(\n    G.mythosBuildingPower,\n    G.totalMythosOwned\n  )\n\n  G.grandmasterMultiplier = G.grandmasterMultiplier.times(\n    G.challengeThreeMultiplier\n  )\n\n  G.mythosupgrade13 = new Decimal(1)\n  G.mythosupgrade14 = new Decimal(1)\n  G.mythosupgrade15 = new Decimal(1)\n  if (player.upgrades[53] === 1) {\n    G.mythosupgrade13 = G.mythosupgrade13.times(\n      Decimal.min('1e1250', Decimal.pow(G.acceleratorEffect, 1 / 125))\n    )\n  }\n  if (player.upgrades[54] === 1) {\n    G.mythosupgrade14 = G.mythosupgrade14.times(\n      Decimal.min('1e2000', Decimal.pow(G.multiplierEffect, 1 / 180))\n    )\n  }\n  if (player.upgrades[55] === 1) {\n    G.mythosupgrade15 = G.mythosupgrade15.times(\n      Decimal.pow('1e1000', Math.min(1000, G.buildingPower - 1))\n    )\n  }\n\n  G.globalConstantMult = new Decimal('1')\n  G.globalConstantMult = G.globalConstantMult.times(\n    Decimal.pow(\n      1.05\n        + 0.01 * player.achievements[270]\n        + 0.001 * player.platonicUpgrades[18],\n      player.constantUpgrades[1]\n    )\n  )\n  G.globalConstantMult = G.globalConstantMult.times(\n    Decimal.pow(\n      1\n        + 0.001\n          * Math.min(\n            100\n              + 10 * player.achievements[270]\n              + 10 * player.shopUpgrades.constantEX\n              + 1000 * (G.challenge15Rewards.exponent - 1)\n              + 3 * player.platonicUpgrades[18],\n            player.constantUpgrades[2]\n          ),\n      ascendBuildingDR()\n    )\n  )\n  G.globalConstantMult = G.globalConstantMult.times(\n    1 + (2 / 100) * player.researches[139]\n  )\n  G.globalConstantMult = G.globalConstantMult.times(\n    1 + (3 / 100) * player.researches[154]\n  )\n  G.globalConstantMult = G.globalConstantMult.times(\n    1 + (4 / 100) * player.researches[169]\n  )\n  G.globalConstantMult = G.globalConstantMult.times(\n    1 + (5 / 100) * player.researches[184]\n  )\n  G.globalConstantMult = G.globalConstantMult.times(\n    1 + (10 / 100) * player.researches[199]\n  )\n  G.globalConstantMult = G.globalConstantMult.times(\n    G.challenge15Rewards.constantBonus\n  )\n  if (player.platonicUpgrades[5] > 0) {\n    G.globalConstantMult = G.globalConstantMult.times(2)\n  }\n  if (player.platonicUpgrades[10] > 0) {\n    G.globalConstantMult = G.globalConstantMult.times(10)\n  }\n  if (player.platonicUpgrades[15] > 0) {\n    G.globalConstantMult = G.globalConstantMult.times(1e250)\n  }\n  G.globalConstantMult = G.globalConstantMult.times(\n    Decimal.pow(player.overfluxPowder + 1, 10 * player.platonicUpgrades[16])\n  )\n}\n\nexport const resourceGain = (dt: number): void => {\n  calculateTotalCoinOwned()\n  calculateTotalAcceleratorBoost()\n\n  updateAllTick()\n  updateAllMultiplier()\n  multipliers()\n  calculatetax()\n  if (G.produceTotal.gte(0.001)) {\n    const addcoin = Decimal.min(\n      G.produceTotal.dividedBy(G.taxdivisor),\n      Decimal.pow(10, G.maxexponent - Decimal.log(G.taxdivisorcheck, 10))\n    ).times(dt / 0.025)\n    player.coins = player.coins.add(addcoin)\n    player.coinsThisPrestige = player.coinsThisPrestige.add(addcoin)\n    player.coinsThisTranscension = player.coinsThisTranscension.add(addcoin)\n    player.coinsThisReincarnation = player.coinsThisReincarnation.add(addcoin)\n    player.coinsTotal = player.coinsTotal.add(addcoin)\n  }\n\n  resetCurrency()\n  if (player.upgrades[93] === 1 && player.coinsThisPrestige.gte(1e16)) {\n    player.prestigePoints = player.prestigePoints.add(\n      Decimal.floor(G.prestigePointGain.dividedBy(4000).times(dt / 0.025))\n    )\n  }\n  if (player.upgrades[100] === 1 && player.coinsThisTranscension.gte(1e100)) {\n    player.transcendPoints = player.transcendPoints.add(\n      Decimal.floor(G.transcendPointGain.dividedBy(4000).times(dt / 0.025))\n    )\n  }\n  if (player.cubeUpgrades[28] > 0 && player.transcendShards.gte(1e300)) {\n    player.reincarnationPoints = player.reincarnationPoints.add(\n      Decimal.floor(G.reincarnationPointGain.dividedBy(4000).times(dt / 0.025))\n    )\n  }\n  G.produceFirstDiamonds = player.firstGeneratedDiamonds\n    .add(player.firstOwnedDiamonds)\n    .times(player.firstProduceDiamonds)\n    .times(G.globalCrystalMultiplier)\n  G.produceSecondDiamonds = player.secondGeneratedDiamonds\n    .add(player.secondOwnedDiamonds)\n    .times(player.secondProduceDiamonds)\n    .times(G.globalCrystalMultiplier)\n  G.produceThirdDiamonds = player.thirdGeneratedDiamonds\n    .add(player.thirdOwnedDiamonds)\n    .times(player.thirdProduceDiamonds)\n    .times(G.globalCrystalMultiplier)\n  G.produceFourthDiamonds = player.fourthGeneratedDiamonds\n    .add(player.fourthOwnedDiamonds)\n    .times(player.fourthProduceDiamonds)\n    .times(G.globalCrystalMultiplier)\n  G.produceFifthDiamonds = player.fifthGeneratedDiamonds\n    .add(player.fifthOwnedDiamonds)\n    .times(player.fifthProduceDiamonds)\n    .times(G.globalCrystalMultiplier)\n\n  player.fourthGeneratedDiamonds = player.fourthGeneratedDiamonds.add(\n    G.produceFifthDiamonds.times(dt / 0.025)\n  )\n  player.thirdGeneratedDiamonds = player.thirdGeneratedDiamonds.add(\n    G.produceFourthDiamonds.times(dt / 0.025)\n  )\n  player.secondGeneratedDiamonds = player.secondGeneratedDiamonds.add(\n    G.produceThirdDiamonds.times(dt / 0.025)\n  )\n  player.firstGeneratedDiamonds = player.firstGeneratedDiamonds.add(\n    G.produceSecondDiamonds.times(dt / 0.025)\n  )\n  G.produceDiamonds = G.produceFirstDiamonds\n\n  if (\n    player.currentChallenge.transcension !== 3\n    && player.currentChallenge.reincarnation !== 10\n  ) {\n    player.prestigeShards = player.prestigeShards.add(\n      G.produceDiamonds.times(dt / 0.025)\n    )\n  }\n\n  G.produceFifthMythos = player.fifthGeneratedMythos\n    .add(player.fifthOwnedMythos)\n    .times(player.fifthProduceMythos)\n    .times(G.globalMythosMultiplier)\n    .times(G.grandmasterMultiplier)\n    .times(G.mythosupgrade15)\n  G.produceFourthMythos = player.fourthGeneratedMythos\n    .add(player.fourthOwnedMythos)\n    .times(player.fourthProduceMythos)\n    .times(G.globalMythosMultiplier)\n  G.produceThirdMythos = player.thirdGeneratedMythos\n    .add(player.thirdOwnedMythos)\n    .times(player.thirdProduceMythos)\n    .times(G.globalMythosMultiplier)\n    .times(G.mythosupgrade14)\n  G.produceSecondMythos = player.secondGeneratedMythos\n    .add(player.secondOwnedMythos)\n    .times(player.secondProduceMythos)\n    .times(G.globalMythosMultiplier)\n  G.produceFirstMythos = player.firstGeneratedMythos\n    .add(player.firstOwnedMythos)\n    .times(player.firstProduceMythos)\n    .times(G.globalMythosMultiplier)\n    .times(G.mythosupgrade13)\n  player.fourthGeneratedMythos = player.fourthGeneratedMythos.add(\n    G.produceFifthMythos.times(dt / 0.025)\n  )\n  player.thirdGeneratedMythos = player.thirdGeneratedMythos.add(\n    G.produceFourthMythos.times(dt / 0.025)\n  )\n  player.secondGeneratedMythos = player.secondGeneratedMythos.add(\n    G.produceThirdMythos.times(dt / 0.025)\n  )\n  player.firstGeneratedMythos = player.firstGeneratedMythos.add(\n    G.produceSecondMythos.times(dt / 0.025)\n  )\n\n  G.produceMythos = new Decimal('0')\n  G.produceMythos = player.firstGeneratedMythos\n    .add(player.firstOwnedMythos)\n    .times(player.firstProduceMythos)\n    .times(G.globalMythosMultiplier)\n    .times(G.mythosupgrade13)\n  G.producePerSecondMythos = G.produceMythos.times(40)\n\n  let pm = new Decimal('1')\n  if (player.upgrades[67] > 0.5) {\n    pm = pm.times(\n      Decimal.pow(\n        1.03,\n        player.firstOwnedParticles\n          + player.secondOwnedParticles\n          + player.thirdOwnedParticles\n          + player.fourthOwnedParticles\n          + player.fifthOwnedParticles\n      )\n    )\n  }\n  G.produceFifthParticles = player.fifthGeneratedParticles\n    .add(player.fifthOwnedParticles)\n    .times(player.fifthProduceParticles)\n  G.produceFourthParticles = player.fourthGeneratedParticles\n    .add(player.fourthOwnedParticles)\n    .times(player.fourthProduceParticles)\n  G.produceThirdParticles = player.thirdGeneratedParticles\n    .add(player.thirdOwnedParticles)\n    .times(player.thirdProduceParticles)\n  G.produceSecondParticles = player.secondGeneratedParticles\n    .add(player.secondOwnedParticles)\n    .times(player.secondProduceParticles)\n  G.produceFirstParticles = player.firstGeneratedParticles\n    .add(player.firstOwnedParticles)\n    .times(player.firstProduceParticles)\n    .times(pm)\n  player.fourthGeneratedParticles = player.fourthGeneratedParticles.add(\n    G.produceFifthParticles.times(dt / 0.025)\n  )\n  player.thirdGeneratedParticles = player.thirdGeneratedParticles.add(\n    G.produceFourthParticles.times(dt / 0.025)\n  )\n  player.secondGeneratedParticles = player.secondGeneratedParticles.add(\n    G.produceThirdParticles.times(dt / 0.025)\n  )\n  player.firstGeneratedParticles = player.firstGeneratedParticles.add(\n    G.produceSecondParticles.times(dt / 0.025)\n  )\n\n  G.produceParticles = new Decimal('0')\n  G.produceParticles = player.firstGeneratedParticles\n    .add(player.firstOwnedParticles)\n    .times(player.firstProduceParticles)\n    .times(pm)\n  G.producePerSecondParticles = G.produceParticles.times(40)\n\n  if (\n    player.currentChallenge.transcension !== 3\n    && player.currentChallenge.reincarnation !== 10\n  ) {\n    player.transcendShards = player.transcendShards.add(\n      G.produceMythos.times(dt / 0.025)\n    )\n  }\n  if (player.currentChallenge.reincarnation !== 10) {\n    player.reincarnationShards = player.reincarnationShards.add(\n      G.produceParticles.times(dt / 0.025)\n    )\n  }\n\n  createAnts(dt)\n  for (let i = 1; i <= 5; i++) {\n    G.ascendBuildingProduction[G.ordinals[(5 - i) as ZeroToFour]] = player[\n      `ascendBuilding${(6 - i) as OneToFive}` as const\n    ].generated\n      .add(player[`ascendBuilding${(6 - i) as OneToFive}` as const].owned)\n      .times(player[`ascendBuilding${i as OneToFive}` as const].multiplier)\n      .times(G.globalConstantMult)\n\n    if (i !== 5) {\n      const fiveMinusI = (5 - i) as 1 | 2 | 3 | 4\n      player[`ascendBuilding${fiveMinusI}` as const].generated = player[\n        `ascendBuilding${fiveMinusI}` as const\n      ].generated.add(\n        G.ascendBuildingProduction[G.ordinals[fiveMinusI]].times(dt)\n      )\n    }\n  }\n\n  player.ascendShards = player.ascendShards.add(\n    G.ascendBuildingProduction.first.times(dt)\n  )\n\n  if (player.ascensionCount > 0) {\n    ascensionAchievementCheck(2)\n  }\n\n  if (\n    player.researches[71] > 0.5\n    && player.challengecompletions[1]\n      < Math.min(\n        player.highestchallengecompletions[1],\n        25 + 5 * player.researches[66] + 925 * player.researches[105]\n      )\n    && player.coins.gte(\n      Decimal.pow(\n        10,\n        1.25\n          * G.challengeBaseRequirements[0]\n          * Math.pow(1 + player.challengecompletions[1], 2)\n      )\n    )\n  ) {\n    player.challengecompletions[1] += 1\n    challengeachievementcheck(1, true)\n    updateChallengeLevel(1)\n  }\n  if (\n    player.researches[72] > 0.5\n    && player.challengecompletions[2]\n      < Math.min(\n        player.highestchallengecompletions[2],\n        25 + 5 * player.researches[67] + 925 * player.researches[105]\n      )\n    && player.coins.gte(\n      Decimal.pow(\n        10,\n        1.6\n          * G.challengeBaseRequirements[1]\n          * Math.pow(1 + player.challengecompletions[2], 2)\n      )\n    )\n  ) {\n    player.challengecompletions[2] += 1\n    challengeachievementcheck(2, true)\n    updateChallengeLevel(2)\n  }\n  if (\n    player.researches[73] > 0.5\n    && player.challengecompletions[3]\n      < Math.min(\n        player.highestchallengecompletions[3],\n        25 + 5 * player.researches[68] + 925 * player.researches[105]\n      )\n    && player.coins.gte(\n      Decimal.pow(\n        10,\n        1.7\n          * G.challengeBaseRequirements[2]\n          * Math.pow(1 + player.challengecompletions[3], 2)\n      )\n    )\n  ) {\n    player.challengecompletions[3] += 1\n    challengeachievementcheck(3, true)\n    updateChallengeLevel(3)\n  }\n  if (\n    player.researches[74] > 0.5\n    && player.challengecompletions[4]\n      < Math.min(\n        player.highestchallengecompletions[4],\n        25 + 5 * player.researches[69] + 925 * player.researches[105]\n      )\n    && player.coins.gte(\n      Decimal.pow(\n        10,\n        1.45\n          * G.challengeBaseRequirements[3]\n          * Math.pow(1 + player.challengecompletions[4], 2)\n      )\n    )\n  ) {\n    player.challengecompletions[4] += 1\n    challengeachievementcheck(4, true)\n    updateChallengeLevel(4)\n  }\n  if (\n    player.researches[75] > 0.5\n    && player.challengecompletions[5]\n      < Math.min(\n        player.highestchallengecompletions[5],\n        25 + 5 * player.researches[70] + 925 * player.researches[105]\n      )\n    && player.coins.gte(\n      Decimal.pow(\n        10,\n        2\n          * G.challengeBaseRequirements[4]\n          * Math.pow(1 + player.challengecompletions[5], 2)\n      )\n    )\n  ) {\n    player.challengecompletions[5] += 1\n    challengeachievementcheck(5, true)\n    updateChallengeLevel(5)\n  }\n\n  const chal = player.currentChallenge.transcension\n  const reinchal = player.currentChallenge.reincarnation\n  const ascendchal = player.currentChallenge.ascension\n  if (chal !== 0) {\n    if (\n      player.coinsThisTranscension.gte(\n        challengeRequirement(chal, player.challengecompletions[chal], chal)\n      )\n    ) {\n      void resetCheck('transcensionChallenge', false)\n      G.autoChallengeTimerIncrement = 0\n    }\n  }\n  if (reinchal < 9 && reinchal !== 0) {\n    if (\n      player.transcendShards.gte(\n        challengeRequirement(\n          reinchal,\n          player.challengecompletions[reinchal],\n          reinchal\n        )\n      )\n    ) {\n      void resetCheck('reincarnationChallenge', false)\n      G.autoChallengeTimerIncrement = 0\n    }\n  }\n  if (reinchal >= 9) {\n    if (\n      player.coins.gte(\n        challengeRequirement(\n          reinchal,\n          player.challengecompletions[reinchal],\n          reinchal\n        )\n      )\n    ) {\n      void resetCheck('reincarnationChallenge', false)\n      G.autoChallengeTimerIncrement = 0\n    }\n  }\n  if (ascendchal !== 0 && ascendchal < 15) {\n    if (\n      player.challengecompletions[10]\n        >= (challengeRequirement(\n          ascendchal,\n          player.challengecompletions[ascendchal],\n          ascendchal\n        ) as number)\n    ) {\n      void resetCheck('ascensionChallenge', false)\n      challengeachievementcheck(ascendchal, true)\n    }\n  }\n  if (ascendchal === 15) {\n    if (\n      player.coins.gte(\n        challengeRequirement(\n          ascendchal,\n          player.challengecompletions[ascendchal],\n          ascendchal\n        )\n      )\n    ) {\n      void resetCheck('ascensionChallenge', false)\n    }\n  }\n}\n\nexport const updateAntMultipliers = (): void => {\n  // Update 2.5.0: Updated to have a base of 10 instead of 1x\n  G.globalAntMult = new Decimal(10)\n  // Update 2.9.0: Updated to give a 5x multiplier no matter what\n  G.globalAntMult = G.globalAntMult.times(5)\n  G.globalAntMult = G.globalAntMult.times(\n    1\n      + (1 / 2500)\n        * Math.pow(\n          G.rune5level\n            * G.effectiveLevelMult\n            * (1\n              + (player.researches[84] / 200)\n                * (1\n                  + (1\n                      * G.effectiveRuneSpiritPower[5]\n                      * calculateCorruptionPoints())\n                    / 400)),\n          2\n        )\n  )\n  if (player.upgrades[76] === 1) {\n    G.globalAntMult = G.globalAntMult.times(5)\n  }\n  G.globalAntMult = G.globalAntMult.times(\n    Decimal.pow(\n      1\n        + player.upgrades[77] / 250\n        + player.researches[96] / 5000\n        + player.cubeUpgrades[65] / 250,\n      player.firstOwnedAnts\n        + player.secondOwnedAnts\n        + player.thirdOwnedAnts\n        + player.fourthOwnedAnts\n        + player.fifthOwnedAnts\n        + player.sixthOwnedAnts\n        + player.seventhOwnedAnts\n        + player.eighthOwnedAnts\n    )\n  )\n  G.globalAntMult = G.globalAntMult.times(\n    1\n      + player.upgrades[78]\n        * 0.005\n        * Math.pow(Math.log10(player.maxofferings + 1), 2)\n  )\n  G.globalAntMult = G.globalAntMult.times(\n    Decimal.pow(\n      1.11 + player.researches[101] / 1000 + player.researches[162] / 10000,\n      player.antUpgrades[0]! + G.bonusant1\n    )\n  )\n  G.globalAntMult = G.globalAntMult.times(\n    antSacrificePointsToMultiplier(player.antSacrificePoints)\n  )\n  G.globalAntMult = G.globalAntMult.times(\n    Decimal.pow(\n      Math.max(1, player.researchPoints),\n      G.effectiveRuneBlessingPower[5]\n    )\n  )\n  G.globalAntMult = G.globalAntMult.times(\n    Decimal.pow(1 + G.runeSum / 100, G.talisman6Power)\n  )\n  G.globalAntMult = G.globalAntMult.times(\n    Decimal.pow(1.1, CalcECC('reincarnation', player.challengecompletions[9]))\n  )\n  G.globalAntMult = G.globalAntMult.times(G.cubeBonusMultiplier[6])\n  if (player.achievements[169] === 1) {\n    G.globalAntMult = G.globalAntMult.times(\n      Decimal.log(player.antPoints.add(10), 10)\n    )\n  }\n  if (player.achievements[171] === 1) {\n    G.globalAntMult = G.globalAntMult.times(1.16666)\n  }\n  if (player.achievements[172] === 1) {\n    G.globalAntMult = G.globalAntMult.times(\n      1\n        + 2 * (1 - Math.pow(2, -Math.min(1, player.reincarnationcounter / 7200)))\n    )\n  }\n  if (player.upgrades[39] === 1) {\n    G.globalAntMult = G.globalAntMult.times(1.6)\n  }\n  G.globalAntMult = G.globalAntMult.times(\n    Decimal.pow(\n      1 + 0.1 * Decimal.log(player.ascendShards.add(1), 10),\n      player.constantUpgrades[5]\n    )\n  )\n  G.globalAntMult = G.globalAntMult.times(\n    Decimal.pow(1e5, CalcECC('ascension', player.challengecompletions[11]))\n  )\n  if (player.researches[147] > 0) {\n    G.globalAntMult = G.globalAntMult.times(\n      Decimal.log(player.antPoints.add(10), 10)\n    )\n  }\n  if (player.researches[177] > 0) {\n    G.globalAntMult = G.globalAntMult.times(\n      Decimal.pow(\n        Decimal.log(player.antPoints.add(10), 10),\n        player.researches[177]\n      )\n    )\n  }\n\n  if (player.currentChallenge.ascension === 12) {\n    G.globalAntMult = Decimal.pow(G.globalAntMult, 0.5)\n  }\n  if (player.currentChallenge.ascension === 13) {\n    G.globalAntMult = Decimal.pow(G.globalAntMult, 0.23)\n  }\n  if (player.currentChallenge.ascension === 14) {\n    G.globalAntMult = Decimal.pow(G.globalAntMult, 0.2)\n  }\n\n  if (player.currentChallenge.ascension !== 15) {\n    G.globalAntMult = Decimal.pow(\n      G.globalAntMult,\n      1 - (0.9 / 90) * Math.min(99, sumContents(player.usedCorruptions))\n    )\n  } else {\n    // C15 used to have 9 corruptions set to 11, which above would provide a power of 0.01. Now it's hardcoded this way.\n    G.globalAntMult = Decimal.pow(G.globalAntMult, 0.01)\n  }\n\n  G.globalAntMult = Decimal.pow(\n    G.globalAntMult,\n    G.extinctionMultiplier[player.usedCorruptions[7]]\n  )\n  G.globalAntMult = G.globalAntMult.times(G.challenge15Rewards.antSpeed)\n  // V2.5.0: Moved ant shop upgrade as 'uncorruptable'\n  G.globalAntMult = G.globalAntMult.times(\n    Decimal.pow(1.2, player.shopUpgrades.antSpeed)\n  )\n\n  if (player.platonicUpgrades[12] > 0) {\n    G.globalAntMult = G.globalAntMult.times(\n      Decimal.pow(\n        1 + (1 / 100) * player.platonicUpgrades[12],\n        sumContents(player.highestchallengecompletions)\n      )\n    )\n  }\n  if (\n    player.currentChallenge.ascension === 15\n    && player.platonicUpgrades[10] > 0\n  ) {\n    G.globalAntMult = Decimal.pow(G.globalAntMult, 1.25)\n  }\n  if (player.achievements[274] > 0) {\n    G.globalAntMult = G.globalAntMult.times(4.44)\n  }\n\n  if (player.usedCorruptions[7] >= 14) {\n    G.globalAntMult = Decimal.pow(G.globalAntMult, 0.02)\n  }\n  if (player.usedCorruptions[7] >= 15) {\n    G.globalAntMult = Decimal.pow(G.globalAntMult, 0.02)\n  }\n  if (player.usedCorruptions[7] >= 16) {\n    G.globalAntMult = Decimal.pow(G.globalAntMult, 0.02)\n  }\n\n  if (player.octeractUpgrades.octeractStarter.getEffect().bonus) {\n    G.globalAntMult = G.globalAntMult.times(100000)\n  }\n\n  if (player.highestSingularityCount >= 30) {\n    G.globalAntMult = G.globalAntMult.times(1000)\n  }\n\n  if (player.highestSingularityCount >= 70) {\n    G.globalAntMult = G.globalAntMult.times(1000)\n  }\n\n  if (player.highestSingularityCount >= 100) {\n    G.globalAntMult = G.globalAntMult.times(1e6)\n  }\n}\n\nexport const createAnts = (dt: number): void => {\n  updateAntMultipliers()\n  G.antEightProduce = player.eighthGeneratedAnts\n    .add(player.eighthOwnedAnts)\n    .times(player.eighthProduceAnts)\n    .times(G.globalAntMult)\n  G.antSevenProduce = player.seventhGeneratedAnts\n    .add(player.seventhOwnedAnts)\n    .times(player.seventhProduceAnts)\n    .times(G.globalAntMult)\n  G.antSixProduce = player.sixthGeneratedAnts\n    .add(player.sixthOwnedAnts)\n    .times(player.sixthProduceAnts)\n    .times(G.globalAntMult)\n  G.antFiveProduce = player.fifthGeneratedAnts\n    .add(player.fifthOwnedAnts)\n    .times(player.fifthProduceAnts)\n    .times(G.globalAntMult)\n  G.antFourProduce = player.fourthGeneratedAnts\n    .add(player.fourthOwnedAnts)\n    .times(player.fourthProduceAnts)\n    .times(G.globalAntMult)\n  G.antThreeProduce = player.thirdGeneratedAnts\n    .add(player.thirdOwnedAnts)\n    .times(player.thirdProduceAnts)\n    .times(G.globalAntMult)\n  G.antTwoProduce = player.secondGeneratedAnts\n    .add(player.secondOwnedAnts)\n    .times(player.secondProduceAnts)\n    .times(G.globalAntMult)\n  G.antOneProduce = player.firstGeneratedAnts\n    .add(player.firstOwnedAnts)\n    .times(player.firstProduceAnts)\n    .times(G.globalAntMult)\n  player.seventhGeneratedAnts = player.seventhGeneratedAnts.add(\n    G.antEightProduce.times(dt / 1)\n  )\n  player.sixthGeneratedAnts = player.sixthGeneratedAnts.add(\n    G.antSevenProduce.times(dt / 1)\n  )\n  player.fifthGeneratedAnts = player.fifthGeneratedAnts.add(\n    G.antSixProduce.times(dt / 1)\n  )\n  player.fourthGeneratedAnts = player.fourthGeneratedAnts.add(\n    G.antFiveProduce.times(dt / 1)\n  )\n  player.thirdGeneratedAnts = player.thirdGeneratedAnts.add(\n    G.antFourProduce.times(dt / 1)\n  )\n  player.secondGeneratedAnts = player.secondGeneratedAnts.add(\n    G.antThreeProduce.times(dt / 1)\n  )\n  player.firstGeneratedAnts = player.firstGeneratedAnts.add(\n    G.antTwoProduce.times(dt / 1)\n  )\n\n  player.antPoints = player.antPoints.add(G.antOneProduce.times(dt / 1))\n}\n\nexport const resetCurrency = (): void => {\n  let prestigePow = 0.5 + CalcECC('transcend', player.challengecompletions[5]) / 100\n  let transcendPow = 0.03\n\n  // Calculates the conversion exponent for resets (Challenges 5 and 10 reduce the exponent accordingly).\n  if (player.currentChallenge.transcension === 5) {\n    prestigePow = 0.01 / (1 + player.challengecompletions[5])\n    transcendPow = 0.001\n  }\n  if (player.currentChallenge.reincarnation === 10) {\n    prestigePow = 1e-4 / (1 + player.challengecompletions[10])\n    transcendPow = 0.001\n  }\n  prestigePow *= G.deflationMultiplier[player.usedCorruptions[6]]\n  // Prestige Point Formulae\n  G.prestigePointGain = Decimal.floor(\n    Decimal.pow(player.coinsThisPrestige.dividedBy(1e12), prestigePow)\n  )\n  if (\n    player.upgrades[16] > 0.5\n    && player.currentChallenge.transcension !== 5\n    && player.currentChallenge.reincarnation !== 10\n  ) {\n    G.prestigePointGain = G.prestigePointGain.times(\n      Decimal.min(\n        Decimal.pow(10, 1e33),\n        Decimal.pow(\n          G.acceleratorEffect,\n          (1 / 3) * G.deflationMultiplier[player.usedCorruptions[6]]\n        )\n      )\n    )\n  }\n\n  // Transcend Point Formulae\n  G.transcendPointGain = Decimal.floor(\n    Decimal.pow(player.coinsThisTranscension.dividedBy(1e100), transcendPow)\n  )\n  if (\n    player.upgrades[44] > 0.5\n    && player.currentChallenge.transcension !== 5\n    && player.currentChallenge.reincarnation !== 10\n  ) {\n    G.transcendPointGain = G.transcendPointGain.times(\n      Decimal.min(1e6, Decimal.pow(1.01, player.transcendCount))\n    )\n  }\n\n  // Reincarnation Point Formulae\n  G.reincarnationPointGain = Decimal.floor(\n    Decimal.pow(player.transcendShards.dividedBy(1e300), 0.01)\n  )\n  if (player.currentChallenge.reincarnation !== 0) {\n    G.reincarnationPointGain = Decimal.pow(G.reincarnationPointGain, 0.01)\n  }\n  if (player.achievements[50] === 1) {\n    G.reincarnationPointGain = G.reincarnationPointGain.times(2)\n  }\n  if (player.upgrades[65] > 0.5) {\n    G.reincarnationPointGain = G.reincarnationPointGain.times(5)\n  }\n  if (player.currentChallenge.ascension === 12) {\n    G.reincarnationPointGain = new Decimal('0')\n  }\n}\n\nexport const resetCheck = async (\n  i: resetNames,\n  manual = true,\n  leaving = false\n): Promise<void> => {\n  if (i === 'prestige') {\n    if (player.coinsThisPrestige.gte(1e16) || G.prestigePointGain.gte(100)) {\n      if (manual) {\n        void resetConfirmation('prestige')\n      } else {\n        resetachievementcheck(1)\n        reset('prestige')\n      }\n    }\n  }\n  if (i === 'transcension') {\n    if (\n      (player.coinsThisTranscension.gte(1e100)\n        || G.transcendPointGain.gte(0.5))\n      && player.currentChallenge.transcension === 0\n    ) {\n      if (manual) {\n        void resetConfirmation('transcend')\n      }\n      if (!manual) {\n        resetachievementcheck(2)\n        reset('transcension')\n      }\n    }\n  }\n  if (\n    i === 'transcensionChallenge'\n    && player.currentChallenge.transcension !== 0\n  ) {\n    const q = player.currentChallenge.transcension\n    const maxCompletions = getMaxChallenges(q)\n    const reqCheck = (comp: number) => player.coinsThisTranscension.gte(challengeRequirement(q, comp, q))\n    if (\n      reqCheck(player.challengecompletions[q])\n      && player.challengecompletions[q] < maxCompletions\n    ) {\n      let maxInc = 1\n      if (player.shopUpgrades.instantChallenge > 0) {\n        maxInc = 10\n      }\n      if (player.shopUpgrades.instantChallenge2 > 0) {\n        maxInc += player.highestSingularityCount\n      }\n      if (player.currentChallenge.ascension === 13) {\n        maxInc = 1\n      }\n      let counter = 0\n      let comp = player.challengecompletions[q]\n      while (counter < maxInc) {\n        if (reqCheck(comp) && comp < maxCompletions) {\n          comp++\n        }\n        counter++\n      }\n      player.challengecompletions[q] = comp\n      challengeDisplay(q, false)\n      updateChallengeLevel(q)\n    }\n    if (\n      player.challengecompletions[q] > player.highestchallengecompletions[q]\n    ) {\n      while (\n        player.challengecompletions[q] > player.highestchallengecompletions[q]\n      ) {\n        player.highestchallengecompletions[q] += 1\n        highestChallengeRewards(q, player.highestchallengecompletions[q])\n      }\n      calculateCubeBlessings()\n    }\n    challengeachievementcheck(q)\n    if (\n      !player.retrychallenges\n      || manual\n      || (player.autoChallengeRunning\n        && player.challengecompletions[q] >= maxCompletions)\n    ) {\n      toggleAutoChallengeModeText('ENTER')\n      player.currentChallenge.transcension = 0\n      updateChallengeDisplay()\n    }\n    if (player.shopUpgrades.instantChallenge === 0 || leaving) {\n      reset('transcensionChallenge', false, 'leaveChallenge')\n      player.transcendCount -= 1\n    }\n  }\n\n  if (i === 'reincarnation') {\n    if (\n      G.reincarnationPointGain.gt(0.5)\n      && player.currentChallenge.transcension === 0\n      && player.currentChallenge.reincarnation === 0\n    ) {\n      if (manual) {\n        void resetConfirmation('reincarnate')\n      }\n      if (!manual) {\n        resetachievementcheck(3)\n        reset('reincarnation')\n      }\n    }\n  }\n  if (\n    i === 'reincarnationChallenge'\n    && player.currentChallenge.reincarnation !== 0\n  ) {\n    const q = player.currentChallenge.reincarnation\n    const maxCompletions = getMaxChallenges(q)\n    const reqCheck = (comp: number) => {\n      if (q <= 8) {\n        return player.transcendShards.gte(challengeRequirement(q, comp, q))\n      } else {\n        // challenges 9 and 10\n        return player.coins.gte(challengeRequirement(q, comp, q))\n      }\n    }\n    if (\n      reqCheck(player.challengecompletions[q])\n      && player.challengecompletions[q] < maxCompletions\n    ) {\n      let maxInc = 1\n      if (player.shopUpgrades.instantChallenge > 0) {\n        maxInc = 10\n      }\n      if (player.shopUpgrades.instantChallenge2 > 0) {\n        maxInc += player.highestSingularityCount\n      }\n      if (player.currentChallenge.ascension === 13) {\n        maxInc = 1\n      }\n      let counter = 0\n      let comp = player.challengecompletions[q]\n      while (counter < maxInc) {\n        if (reqCheck(comp) && comp < maxCompletions) {\n          comp++\n        }\n        counter++\n      }\n      player.challengecompletions[q] = comp\n      challengeDisplay(q, false)\n      updateChallengeLevel(q)\n    }\n    if (\n      player.challengecompletions[q] > player.highestchallengecompletions[q]\n    ) {\n      while (\n        player.challengecompletions[q] > player.highestchallengecompletions[q]\n      ) {\n        player.highestchallengecompletions[q] += 1\n        highestChallengeRewards(q, player.highestchallengecompletions[q])\n      }\n      calculateHypercubeBlessings()\n      calculateTesseractBlessings()\n      calculateCubeBlessings()\n    }\n    challengeachievementcheck(q)\n    if (\n      !player.retrychallenges\n      || manual\n      || (player.autoChallengeRunning\n        && player.challengecompletions[q] >= maxCompletions)\n    ) {\n      toggleAutoChallengeModeText('ENTER')\n      player.currentChallenge.reincarnation = 0\n      if (player.shopUpgrades.instantChallenge > 0) {\n        for (let i = 1; i <= 5; i++) {\n          player.challengecompletions[i] = player.highestchallengecompletions[i]\n        }\n      }\n      updateChallengeDisplay()\n      calculateRuneLevels()\n      calculateAnts()\n    }\n    if (player.shopUpgrades.instantChallenge === 0 || leaving) {\n      reset('reincarnationChallenge', false, 'leaveChallenge')\n      player.reincarnationCount -= 1\n    }\n  }\n\n  if (i === 'ascension') {\n    if (\n      player.achievements[141] > 0\n      && (!player.toggles[31] || player.challengecompletions[10] > 0)\n    ) {\n      if (manual) {\n        void resetConfirmation('ascend')\n      }\n    }\n  }\n\n  if (i === 'ascensionChallenge' && player.currentChallenge.ascension !== 0) {\n    let conf = true\n    if (manual) {\n      if (player.challengecompletions[11] === 0 || player.toggles[31]) {\n        conf = await Confirm(i18next.t('main.exitAscensionChallenge'))\n      }\n    }\n    if (!conf) {\n      return\n    }\n    const a = player.currentChallenge.ascension\n    const maxCompletions = getMaxChallenges(a)\n\n    if (a !== 0 && a < 15) {\n      if (\n        player.challengecompletions[10]\n          >= (challengeRequirement(\n            a,\n            player.challengecompletions[a],\n            a\n          ) as number)\n        && player.challengecompletions[a] < maxCompletions\n      ) {\n        player.challengecompletions[a] += 1\n        updateChallengeLevel(a)\n        challengeDisplay(a, false)\n      }\n      challengeachievementcheck(a, true)\n    }\n    if (a === 15) {\n      const c15SM = challenge15ScoreMultiplier()\n      if (\n        player.coins.gte(\n          challengeRequirement(a, player.challengecompletions[a], a)\n        )\n        && player.challengecompletions[a] < maxCompletions\n      ) {\n        player.challengecompletions[a] += 1\n        updateChallengeLevel(a)\n        challengeDisplay(a, false)\n      }\n      if (\n        (manual || leaving || player.shopUpgrades.challenge15Auto > 0)\n        && player.usedCorruptions.slice(2, 10).every((a) => a === 11)\n      ) {\n        if (\n          player.coins.gte(Decimal.pow(10, player.challenge15Exponent / c15SM))\n        ) {\n          player.challenge15Exponent = Decimal.log(player.coins.add(1), 10) * c15SM\n          c15RewardUpdate()\n        }\n      }\n    }\n\n    if (\n      player.challengecompletions[a] > player.highestchallengecompletions[a]\n    ) {\n      player.highestchallengecompletions[a] += 1\n      player.wowHypercubes.add(1)\n      if (player.highestchallengecompletions[a] >= maxCompletions) {\n        leaving = true\n      }\n    }\n\n    if (!player.retrychallenges || manual || leaving) {\n      if (\n        !(\n          !manual\n          && (autoAscensionChallengeSweepUnlock()\n            || !player.autoChallengeRunning) // If not autochallenge, don't reset\n          && player.autoAscend\n          && player.challengecompletions[11] > 0\n          && player.cubeUpgrades[10] > 0\n        )\n      ) {\n        player.currentChallenge.ascension = 0\n        updateChallengeDisplay()\n      }\n    }\n\n    if ((player.shopUpgrades.instantChallenge2 === 0 && a !== 15) || manual) {\n      reset('ascensionChallenge', false)\n    }\n  }\n\n  if (i === 'singularity') {\n    if (player.runelevels[6] === 0) {\n      return Alert(i18next.t('main.noAntiquity'))\n    }\n\n    const thankSing = 300\n\n    if (player.insideSingularityChallenge) {\n      return Alert(i18next.t('main.insideSingularityChallenge'))\n    }\n\n    if (player.singularityCount >= thankSing) {\n      return Alert(i18next.t('main.gameBeat'))\n    }\n\n    let confirmed = false\n    const nextSingularityNumber = player.singularityCount + 1 + getFastForwardTotalMultiplier()\n\n    if (!player.toggles[33] && player.singularityCount > 0) {\n      confirmed = await Confirm(\n        i18next.t('main.singularityConfirm0', {\n          x: format(nextSingularityNumber),\n          y: format(calculateGoldenQuarkGain(), 2, true)\n        })\n      )\n    } else {\n      await Alert(\n        i18next.t('main.singularityMessage1', {\n          x: format(player.singularityCount)\n        })\n      )\n      await Alert(i18next.t('main.singularityMessage2'))\n      await Alert(i18next.t('main.singularityMessage3'))\n      await Alert(\n        i18next.t('main.singularityMessage4', {\n          x: format(nextSingularityNumber),\n          y: format(calculateGoldenQuarkGain(), 2, true),\n          z: format(getQuarkBonus())\n        })\n      )\n      await Alert(i18next.t('main.singularityMessage5'))\n\n      confirmed = await Confirm(i18next.t('main.singularityConfirm1'))\n      if (confirmed) {\n        confirmed = await Confirm(i18next.t('main.singularityConfirm2'))\n      }\n      if (confirmed) {\n        confirmed = await Confirm(i18next.t('main.singularityConfirm3'))\n      }\n    }\n\n    if (!confirmed) {\n      return Alert(i18next.t('main.singularityCancelled'))\n    } else {\n      await singularity()\n      await saveSynergy()\n      return Alert(\n        i18next.t('main.welcomeToSingularity', {\n          x: format(player.singularityCount)\n        })\n      )\n    }\n  }\n}\n\nexport const resetConfirmation = async (i: string): Promise<void> => {\n  if (i === 'prestige') {\n    if (player.toggles[28]) {\n      const r = await Confirm(i18next.t('main.prestigePrompt'))\n      if (r) {\n        resetachievementcheck(1)\n        reset('prestige')\n      }\n    } else {\n      resetachievementcheck(1)\n      reset('prestige')\n    }\n  }\n  if (i === 'transcend') {\n    if (player.toggles[29]) {\n      const z = await Confirm(i18next.t('main.transcendPrompt'))\n      if (z) {\n        resetachievementcheck(2)\n        reset('transcension')\n      }\n    } else {\n      resetachievementcheck(2)\n      reset('transcension')\n    }\n  }\n  if (i === 'reincarnate') {\n    if (player.currentChallenge.ascension !== 12) {\n      if (player.toggles[30]) {\n        const z = await Confirm(i18next.t('main.reincarnatePrompt'))\n        if (z) {\n          resetachievementcheck(3)\n          reset('reincarnation')\n        }\n      } else {\n        resetachievementcheck(3)\n        reset('reincarnation')\n      }\n    }\n  }\n  if (i === 'ascend') {\n    const z = !player.toggles[31] || (await Confirm(i18next.t('main.ascendPrompt')))\n    if (z) {\n      reset('ascension')\n    }\n  }\n}\n\nexport const updateEffectiveLevelMult = (): void => {\n  G.effectiveLevelMult = 1\n  G.effectiveLevelMult *= 1\n    + (player.researches[4] / 10)\n      * (1 + (1 / 2) * CalcECC('ascension', player.challengecompletions[14])) // Research 1x4\n  G.effectiveLevelMult *= 1 + player.researches[21] / 100 // Research 2x6\n  G.effectiveLevelMult *= 1 + player.researches[90] / 100 // Research 4x15\n  G.effectiveLevelMult *= 1 + player.researches[131] / 200 // Research 6x6\n  G.effectiveLevelMult *= 1 + ((player.researches[161] / 200) * 3) / 5 // Research 7x11\n  G.effectiveLevelMult *= 1 + ((player.researches[176] / 200) * 2) / 5 // Research 8x1\n  G.effectiveLevelMult *= 1 + ((player.researches[191] / 200) * 1) / 5 // Research 8x16\n  G.effectiveLevelMult *= 1 + ((player.researches[146] / 200) * 4) / 5 // Research 6x21\n  G.effectiveLevelMult *= 1\n    + ((0.01 * Math.log(player.talismanShards + 1)) / Math.log(4))\n      * Math.min(1, player.constantUpgrades[9])\n  G.effectiveLevelMult *= G.challenge15Rewards.runeBonus\n}\n\nexport const updateAll = (): void => {\n  G.uFourteenMulti = new Decimal(1)\n  G.uFifteenMulti = new Decimal(1)\n\n  if (player.upgrades[14] > 0.5) {\n    G.uFourteenMulti = Decimal.pow(1.15, G.freeAccelerator)\n  }\n  if (player.upgrades[15] > 0.5) {\n    G.uFifteenMulti = Decimal.pow(1.15, G.freeAccelerator)\n  }\n\n  if (!player.unlocks.coinone && player.coins.gte(500)) {\n    player.unlocks.coinone = true\n    revealStuff()\n  }\n  if (!player.unlocks.cointwo && player.coins.gte(10000)) {\n    player.unlocks.cointwo = true\n    revealStuff()\n  }\n  if (!player.unlocks.cointhree && player.coins.gte(100000)) {\n    player.unlocks.cointhree = true\n    revealStuff()\n  }\n  if (!player.unlocks.coinfour && player.coins.gte(4e6)) {\n    player.unlocks.coinfour = true\n    revealStuff()\n  }\n  if (player.achievements[169] === 0 && player.antPoints.gte(3)) {\n    achievementaward(169)\n  }\n  if (player.achievements[170] === 0 && player.antPoints.gte(1e5)) {\n    achievementaward(170)\n  }\n  if (player.achievements[171] === 0 && player.antPoints.gte(666666666)) {\n    achievementaward(171)\n  }\n  if (player.achievements[172] === 0 && player.antPoints.gte(1e20)) {\n    achievementaward(172)\n  }\n  if (player.achievements[173] === 0 && player.antPoints.gte(1e40)) {\n    achievementaward(173)\n  }\n  if (player.achievements[174] === 0 && player.antPoints.gte('1e500')) {\n    achievementaward(174)\n  }\n  if (player.achievements[175] === 0 && player.antPoints.gte('1e2500')) {\n    achievementaward(175)\n  }\n\n  if (player.researches[200] >= 1e5 && player.achievements[250] < 1) {\n    achievementaward(250)\n  }\n  if (player.cubeUpgrades[50] >= 1e5 && player.achievements[251] < 1) {\n    achievementaward(251)\n  }\n\n  // Autobuy \"Upgrades\" Tab\n  autoUpgrades()\n\n  // Autobuy \"Building\" Tab\n\n  if (\n    player.toggles[1]\n    && player.upgrades[81] === 1\n    && player.coins.gte(player.firstCostCoin)\n  ) {\n    buyMax(1, 'Coin')\n  }\n  if (\n    player.toggles[2]\n    && player.upgrades[82] === 1\n    && player.coins.gte(player.secondCostCoin)\n  ) {\n    buyMax(2, 'Coin')\n  }\n  if (\n    player.toggles[3]\n    && player.upgrades[83] === 1\n    && player.coins.gte(player.thirdCostCoin)\n  ) {\n    buyMax(3, 'Coin')\n  }\n  if (\n    player.toggles[4]\n    && player.upgrades[84] === 1\n    && player.coins.gte(player.fourthCostCoin)\n  ) {\n    buyMax(4, 'Coin')\n  }\n  if (\n    player.toggles[5]\n    && player.upgrades[85] === 1\n    && player.coins.gte(player.fifthCostCoin)\n  ) {\n    buyMax(5, 'Coin')\n  }\n  if (\n    player.toggles[6]\n    && player.upgrades[86] === 1\n    && player.coins.gte(player.acceleratorCost)\n  ) {\n    buyAccelerator(true)\n  }\n  if (\n    player.toggles[7]\n    && player.upgrades[87] === 1\n    && player.coins.gte(player.multiplierCost)\n  ) {\n    buyMultiplier(true)\n  }\n  if (\n    player.toggles[8]\n    && player.upgrades[88] === 1\n    && player.prestigePoints.gte(player.acceleratorBoostCost)\n  ) {\n    boostAccelerator(true)\n  }\n\n  // Autobuy \"Prestige\" Tab\n\n  if (\n    player.toggles[10]\n    && player.achievements[78] === 1\n    && player.prestigePoints.gte(player.firstCostDiamonds)\n  ) {\n    buyMax(1, 'Diamonds')\n  }\n  if (\n    player.toggles[11]\n    && player.achievements[85] === 1\n    && player.prestigePoints.gte(player.secondCostDiamonds)\n  ) {\n    buyMax(2, 'Diamonds')\n  }\n  if (\n    player.toggles[12]\n    && player.achievements[92] === 1\n    && player.prestigePoints.gte(player.thirdCostDiamonds)\n  ) {\n    buyMax(3, 'Diamonds')\n  }\n  if (\n    player.toggles[13]\n    && player.achievements[99] === 1\n    && player.prestigePoints.gte(player.fourthCostDiamonds)\n  ) {\n    buyMax(4, 'Diamonds')\n  }\n  if (\n    player.toggles[14]\n    && player.achievements[106] === 1\n    && player.prestigePoints.gte(player.fifthCostDiamonds)\n  ) {\n    buyMax(5, 'Diamonds')\n  }\n\n  updateEffectiveLevelMult() // update before prism rune, fixes c15 bug\n\n  let c = 0\n  c += (Math.floor((G.rune3level / 16) * G.effectiveLevelMult) * 100) / 100\n  if (\n    player.upgrades[73] > 0.5\n    && player.currentChallenge.reincarnation !== 0\n  ) {\n    c += 10\n  }\n  if (\n    player.achievements[79] > 0.5\n    && player.prestigeShards.gte(\n      Decimal.pow(\n        10,\n        G.crystalUpgradesCost[0]\n          + G.crystalUpgradeCostIncrement[0]\n            * Math.floor(Math.pow(player.crystalUpgrades[0] - 0.5 - c, 2) / 2)\n      )\n    )\n  ) {\n    buyCrystalUpgrades(1, true)\n  }\n  if (\n    player.achievements[86] > 0.5\n    && player.prestigeShards.gte(\n      Decimal.pow(\n        10,\n        G.crystalUpgradesCost[1]\n          + G.crystalUpgradeCostIncrement[1]\n            * Math.floor(Math.pow(player.crystalUpgrades[1] - 0.5 - c, 2) / 2)\n      )\n    )\n  ) {\n    buyCrystalUpgrades(2, true)\n  }\n  if (\n    player.achievements[93] > 0.5\n    && player.prestigeShards.gte(\n      Decimal.pow(\n        10,\n        G.crystalUpgradesCost[2]\n          + G.crystalUpgradeCostIncrement[2]\n            * Math.floor(Math.pow(player.crystalUpgrades[2] - 0.5 - c, 2) / 2)\n      )\n    )\n  ) {\n    buyCrystalUpgrades(3, true)\n  }\n  if (\n    player.achievements[100] > 0.5\n    && player.prestigeShards.gte(\n      Decimal.pow(\n        10,\n        G.crystalUpgradesCost[3]\n          + G.crystalUpgradeCostIncrement[3]\n            * Math.floor(Math.pow(player.crystalUpgrades[3] - 0.5 - c, 2) / 2)\n      )\n    )\n  ) {\n    buyCrystalUpgrades(4, true)\n  }\n  if (\n    player.achievements[107] > 0.5\n    && player.prestigeShards.gte(\n      Decimal.pow(\n        10,\n        G.crystalUpgradesCost[4]\n          + G.crystalUpgradeCostIncrement[4]\n            * Math.floor(Math.pow(player.crystalUpgrades[4] - 0.5 - c, 2) / 2)\n      )\n    )\n  ) {\n    buyCrystalUpgrades(5, true)\n  }\n\n  // Autobuy \"Transcension\" Tab\n\n  if (\n    player.toggles[16]\n    && player.upgrades[94] === 1\n    && player.transcendPoints.gte(player.firstCostMythos)\n  ) {\n    buyMax(1, 'Mythos')\n  }\n  if (\n    player.toggles[17]\n    && player.upgrades[95] === 1\n    && player.transcendPoints.gte(player.secondCostMythos)\n  ) {\n    buyMax(2, 'Mythos')\n  }\n  if (\n    player.toggles[18]\n    && player.upgrades[96] === 1\n    && player.transcendPoints.gte(player.thirdCostMythos)\n  ) {\n    buyMax(3, 'Mythos')\n  }\n  if (\n    player.toggles[19]\n    && player.upgrades[97] === 1\n    && player.transcendPoints.gte(player.fourthCostMythos)\n  ) {\n    buyMax(4, 'Mythos')\n  }\n  if (\n    player.toggles[20]\n    && player.upgrades[98] === 1\n    && player.transcendPoints.gte(player.fifthCostMythos)\n  ) {\n    buyMax(5, 'Mythos')\n  }\n\n  // Autobuy \"Reincarnation\" Tab\n\n  if (\n    player.toggles[22]\n    && player.cubeUpgrades[7] === 1\n    && player.reincarnationPoints.gte(player.firstCostParticles)\n  ) {\n    buyParticleBuilding(1, true)\n  }\n  if (\n    player.toggles[23]\n    && player.cubeUpgrades[7] === 1\n    && player.reincarnationPoints.gte(player.secondCostParticles)\n  ) {\n    buyParticleBuilding(2, true)\n  }\n  if (\n    player.toggles[24]\n    && player.cubeUpgrades[7] === 1\n    && player.reincarnationPoints.gte(player.thirdCostParticles)\n  ) {\n    buyParticleBuilding(3, true)\n  }\n  if (\n    player.toggles[25]\n    && player.cubeUpgrades[7] === 1\n    && player.reincarnationPoints.gte(player.fourthCostParticles)\n  ) {\n    buyParticleBuilding(4, true)\n  }\n  if (\n    player.toggles[26]\n    && player.cubeUpgrades[7] === 1\n    && player.reincarnationPoints.gte(player.fifthCostParticles)\n  ) {\n    buyParticleBuilding(5, true)\n  }\n\n  // Autobuy \"ascension\" tab\n  if (player.researches[175] > 0) {\n    for (let i = 1; i <= 10; i++) {\n      if (player.ascendShards.gte(getConstUpgradeMetadata(i).pop()!)) {\n        buyConstantUpgrades(i, true)\n      }\n    }\n  }\n\n  // Autobuy tesseract buildings (Mode: AMOUNT)\n  if (\n    player.researches[190] > 0\n    && player.tesseractAutoBuyerToggle === 1\n    && player.resettoggle4 < 2\n  ) {\n    const ownedBuildings: TesseractBuildings = [null, null, null, null, null]\n    for (let i = 1; i <= 5; i++) {\n      if (player.autoTesseracts[i]) {\n        ownedBuildings[i - 1] = player[`ascendBuilding${i as OneToFive}` as const].owned\n      }\n    }\n    const budget = Number(player.wowTesseracts) - player.tesseractAutoBuyerAmount\n    const buyToBuildings = calculateTessBuildingsInBudget(\n      ownedBuildings,\n      budget\n    )\n    // Prioritise buying buildings from highest tier to lowest,\n    // in case there are any off-by-ones or floating point errors.\n    for (let i = 5; i >= 1; i--) {\n      const buyFrom = ownedBuildings[i - 1]\n      const buyTo = buyToBuildings[i - 1]\n      if (buyFrom !== null && buyTo !== null && buyTo !== buyFrom) {\n        buyTesseractBuilding(i as OneToFive, buyTo - buyFrom)\n      }\n    }\n  }\n\n  // Talismans\n  if (player.researches[130] > 0 || player.researches[135] > 0) {\n    const talismansUnlocked = [\n      player.achievements[119] > 0,\n      player.achievements[126] > 0,\n      player.achievements[133] > 0,\n      player.achievements[140] > 0,\n      player.achievements[147] > 0,\n      player.antUpgrades[11]! > 0 || player.ascensionCount > 0,\n      player.shopUpgrades.shopTalisman > 0\n    ]\n    let upgradedTalisman = false\n\n    // First, we need to enhance all of the talismans. Then, we can fortify all of the talismans.\n    // If we were to do this in one loop, the players resources would be drained on individual expensive levels\n    // of early talismans before buying important enhances for the later ones. This results in drastically\n    // reduced overall gains when talisman resources are scarce.\n    if (player.autoEnhanceToggle && player.researches[135] > 0) {\n      for (let i = 0; i < talismansUnlocked.length; ++i) {\n        if (talismansUnlocked[i] && player.talismanRarity[i] < 6) {\n          upgradedTalisman = buyTalismanEnhance(i, true) || upgradedTalisman\n        }\n      }\n    }\n\n    if (player.autoFortifyToggle && player.researches[130] > 0) {\n      for (let i = 0; i < talismansUnlocked.length; ++i) {\n        const maxTalismanLevel = calculateMaxTalismanLevel(i)\n        if (\n          talismansUnlocked[i]\n          && player.talismanLevels[i] < maxTalismanLevel\n        ) {\n          upgradedTalisman = buyTalismanLevels(i, true) || upgradedTalisman\n        }\n      }\n    }\n\n    // Recalculate talisman-related upgrades and display on success\n    if (upgradedTalisman) {\n      updateTalismanInventory()\n      calculateRuneLevels()\n    }\n  }\n\n  // Generation\n  if (player.upgrades[101] > 0.5) {\n    player.fourthGeneratedCoin = player.fourthGeneratedCoin.add(\n      player.fifthGeneratedCoin\n        .add(player.fifthOwnedCoin)\n        .times(G.uFifteenMulti)\n        .times(G.generatorPower)\n    )\n  }\n  if (player.upgrades[102] > 0.5) {\n    player.thirdGeneratedCoin = player.thirdGeneratedCoin.add(\n      player.fourthGeneratedCoin\n        .add(player.fourthOwnedCoin)\n        .times(G.uFourteenMulti)\n        .times(G.generatorPower)\n    )\n  }\n  if (player.upgrades[103] > 0.5) {\n    player.secondGeneratedCoin = player.secondGeneratedCoin.add(\n      player.thirdGeneratedCoin\n        .add(player.thirdOwnedCoin)\n        .times(G.generatorPower)\n    )\n  }\n  if (player.upgrades[104] > 0.5) {\n    player.firstGeneratedCoin = player.firstGeneratedCoin.add(\n      player.secondGeneratedCoin\n        .add(player.secondOwnedCoin)\n        .times(G.generatorPower)\n    )\n  }\n  if (player.upgrades[105] > 0.5) {\n    player.fifthGeneratedCoin = player.fifthGeneratedCoin.add(\n      player.firstOwnedCoin\n    )\n  }\n  let p = 1\n  p += (1 / 100)\n    * (player.achievements[71]\n      + player.achievements[72]\n      + player.achievements[73]\n      + player.achievements[74]\n      + player.achievements[75]\n      + player.achievements[76]\n      + player.achievements[77])\n\n  let a = 0\n  if (player.upgrades[106] > 0.5) {\n    a += 0.1\n  }\n  if (player.upgrades[107] > 0.5) {\n    a += 0.15\n  }\n  if (player.upgrades[108] > 0.5) {\n    a += 0.25\n  }\n  if (player.upgrades[109] > 0.5) {\n    a += 0.25\n  }\n  if (player.upgrades[110] > 0.5) {\n    a += 0.25\n  }\n  a *= p\n\n  let b = 0\n  if (player.upgrades[111] > 0.5) {\n    b += 0.08\n  }\n  if (player.upgrades[112] > 0.5) {\n    b += 0.08\n  }\n  if (player.upgrades[113] > 0.5) {\n    b += 0.08\n  }\n  if (player.upgrades[114] > 0.5) {\n    b += 0.08\n  }\n  if (player.upgrades[115] > 0.5) {\n    b += 0.08\n  }\n  b *= p\n\n  c = 0\n  if (player.upgrades[116] > 0.5) {\n    c += 0.05\n  }\n  if (player.upgrades[117] > 0.5) {\n    c += 0.05\n  }\n  if (player.upgrades[118] > 0.5) {\n    c += 0.05\n  }\n  if (player.upgrades[119] > 0.5) {\n    c += 0.05\n  }\n  if (player.upgrades[120] > 0.5) {\n    c += 0.05\n  }\n  c *= p\n\n  if (a !== 0) {\n    player.fifthGeneratedCoin = player.fifthGeneratedCoin.add(\n      Decimal.pow(\n        player.firstGeneratedDiamonds.add(player.firstOwnedDiamonds).add(1),\n        a\n      )\n    )\n  }\n  if (b !== 0) {\n    player.fifthGeneratedDiamonds = player.fifthGeneratedDiamonds.add(\n      Decimal.pow(\n        player.firstGeneratedMythos.add(player.firstOwnedMythos).add(1),\n        b\n      )\n    )\n  }\n  if (c !== 0) {\n    player.fifthGeneratedMythos = player.fifthGeneratedMythos.add(\n      Decimal.pow(\n        player.firstGeneratedParticles.add(player.firstOwnedParticles).add(1),\n        c\n      )\n    )\n  }\n\n  if (player.runeshards > player.maxofferings) {\n    player.maxofferings = player.runeshards\n  }\n  if (player.researchPoints > player.maxobtainium) {\n    player.maxobtainium = player.researchPoints\n  }\n\n  if (isNaN(player.runeshards)) {\n    player.runeshards = 0\n  }\n  if (player.runeshards > 1e300) {\n    player.runeshards = 1e300\n  }\n  if (isNaN(player.researchPoints)) {\n    player.researchPoints = 0\n  }\n  if (player.researchPoints > 1e300) {\n    player.researchPoints = 1e300\n  }\n\n  G.optimalOfferingTimer = 600\n    + 30 * player.researches[85]\n    + 0.4 * G.rune5level\n    + 120 * player.shopUpgrades.offeringEX\n  G.optimalObtainiumTimer = 3600 + 120 * player.shopUpgrades.obtainiumEX\n  autoBuyAnts()\n\n  if (\n    player.autoAscend\n    && player.challengecompletions[11] > 0\n    && player.cubeUpgrades[10] > 0\n    && player.currentChallenge.reincarnation !== 10\n  ) {\n    let ascension = false\n    if (\n      player.autoAscendMode === 'c10Completions'\n      && player.challengecompletions[10] >= Math.max(1, player.autoAscendThreshold)\n    ) {\n      ascension = true\n    }\n    if (\n      player.autoAscendMode === 'realAscensionTime'\n      && player.ascensionCounterRealReal\n        >= Math.max(0.1, player.autoAscendThreshold)\n    ) {\n      ascension = true\n    }\n    if (ascension && player.challengecompletions[10] > 0) {\n      // Auto Ascension and Auto Challenge Sweep enables rotation of the Ascension Challenge\n      if (\n        autoAscensionChallengeSweepUnlock()\n        && player.currentChallenge.ascension !== 0\n        && player.retrychallenges\n        && player.researches[150] === 1\n        && player.autoChallengeRunning\n      ) {\n        let nextChallenge = getNextChallenge(\n          player.currentChallenge.ascension + 1,\n          false,\n          11,\n          15\n        )\n        if (\n          nextChallenge <= 15\n          && player.currentChallenge.ascension !== nextChallenge\n        ) {\n          void resetCheck('ascensionChallenge', false, true)\n          player.currentChallenge.ascension = nextChallenge\n          reset('ascensionChallenge', false)\n        } else {\n          nextChallenge = getNextChallenge(\n            player.currentChallenge.ascension + 1,\n            true,\n            11,\n            15\n          )\n          void resetCheck('ascensionChallenge', false, true)\n          player.currentChallenge.ascension = nextChallenge <= 15 ? nextChallenge : 0\n          reset('ascensionChallenge', false)\n        }\n      } else {\n        if (player.currentChallenge.ascension !== 0) {\n          void resetCheck('ascensionChallenge', false, true)\n          reset('ascensionChallenge', false)\n        } else {\n          reset('ascension', false)\n        }\n      }\n    }\n  }\n\n  let metaData = null\n  if (player.researches[175] > 0) {\n    for (let i = 1; i <= 10; i++) {\n      metaData = getConstUpgradeMetadata(i)\n      if (player.ascendShards.gte(metaData[1])) {\n        buyConstantUpgrades(i, true)\n      }\n    }\n  }\n\n  const reductionValue = getReductionValue()\n  if (reductionValue !== G.prevReductionValue) {\n    G.prevReductionValue = reductionValue\n    const resources = ['Coin', 'Diamonds', 'Mythos'] as const\n\n    for (let res = 0; res < resources.length; ++res) {\n      const resource = resources[res]\n      for (let ord = 0; ord < 5; ++ord) {\n        const num = G.ordinals[ord as ZeroToFour]\n        player[`${num}Cost${resource}` as const] = getCost(\n          (ord + 1) as OneToFive,\n          resource,\n          player[`${num}Owned${resource}` as const] + 1,\n          reductionValue\n        )\n      }\n    }\n\n    for (let i = 0; i <= 4; i++) {\n      const particleOriginalCost = [1, 1e2, 1e4, 1e8, 1e16]\n      const num = G.ordinals[i as ZeroToFour]\n      const buyTo = player[`${num}OwnedParticles` as const] + 1\n      player[`${num}CostParticles` as const] = new Decimal(\n        Decimal.pow(2, buyTo - 1).times(\n          Decimal.pow(\n            1.001,\n            (Math.max(0, buyTo - 325000) * Math.max(0, buyTo - 325000 + 1)) / 2\n          )\n        )\n      ).times(particleOriginalCost[i])\n    }\n  }\n\n  // Challenge 15 autoupdate\n  if (\n    player.shopUpgrades.challenge15Auto > 0\n    && player.currentChallenge.ascension === 15\n    && player.usedCorruptions.slice(2, 10).every((a) => a === 11)\n  ) {\n    const c15SM = challenge15ScoreMultiplier()\n    if (player.coins.gte(Decimal.pow(10, player.challenge15Exponent / c15SM))) {\n      player.challenge15Exponent = Decimal.log(player.coins.add(1), 10) * c15SM\n      c15RewardUpdate()\n    }\n  }\n}\n\nexport const fastUpdates = (): void => {\n  updateAll()\n  htmlInserts()\n}\n\nexport const slowUpdates = (): void => {\n  buttoncolorchange()\n  buildingAchievementCheck()\n}\n\nexport const constantIntervals = (): void => {\n  setInterval(saveSynergy, 5000)\n  setInterval(slowUpdates, 200)\n  setInterval(fastUpdates, 50)\n\n  if (!G.timeWarp) {\n    exitOffline()\n  }\n}\n\nlet lastUpdate = 0\n\nexport const createTimer = (): void => {\n  lastUpdate = performance.now()\n  setInterval(tick, 5)\n}\n\nconst dt = 5\nconst filterStrength = 20\nlet deltaMean = 0\n\nconst loadingDate = new Date()\nconst loadingBasePerfTick = performance.now()\n\n// performance.now() doesn't always reset on reload, so we capture a \"base value\"\n// to keep things stable\n// The returned time is pinned to when the page itself was loaded to remain\n// resilient against changed system clocks\nexport const getTimePinnedToLoadDate = () => {\n  return loadingDate.getTime() + (performance.now() - loadingBasePerfTick)\n}\n\nconst tick = () => {\n  const now = performance.now()\n  let delta = now - lastUpdate\n  // compute pseudo-average delta cf. https://stackoverflow.com/a/5111475/343834\n  deltaMean += (delta - deltaMean) / filterStrength\n  let dtEffective: number\n  while (delta > 5) {\n    // tack will compute dtEffective milliseconds of game time\n    dtEffective = dt\n    // If the mean lag (deltaMean) is more than a whole frame (16ms), compensate by computing deltaMean - dt ms, up to 1 hour\n    dtEffective += deltaMean > 16 ? Math.min(3600 * 1000, deltaMean - dt) : 0\n    // compute at max delta ms to avoid negative delta\n    dtEffective = Math.min(delta, dtEffective)\n    // run tack and record timings\n    tack(dtEffective / 1000)\n    lastUpdate += dtEffective\n    delta -= dtEffective\n  }\n}\n\nconst tack = (dt: number) => {\n  if (!G.timeWarp) {\n    // Adds Resources (coins, ants, etc)\n    const timeMult = calculateTimeAcceleration().mult\n    resourceGain(dt * timeMult)\n    // Adds time (in milliseconds) to all reset functions, and quarks timer.\n    addTimers('prestige', dt)\n    addTimers('transcension', dt)\n    addTimers('reincarnation', dt)\n    addTimers('ascension', dt)\n    addTimers('quarks', dt)\n    addTimers('goldenQuarks', dt)\n    addTimers('octeracts', dt)\n    addTimers('singularity', dt)\n    addTimers('autoPotion', dt)\n    addTimers('ambrosia', dt)\n\n    // Triggers automatic rune sacrifice (adds milliseconds to payload timer)\n    if (player.shopUpgrades.offeringAuto > 0 && player.autoSacrificeToggle) {\n      automaticTools('runeSacrifice', dt)\n    }\n\n    // Triggers automatic ant sacrifice (adds milliseonds to payload timers)\n    if (player.achievements[173] === 1) {\n      automaticTools('antSacrifice', dt)\n    }\n\n    /*Triggers automatic obtainium gain if research [2x11] is unlocked,\n        Otherwise it just calculates obtainium multiplier values. */\n    if (player.researches[61] === 1) {\n      automaticTools('addObtainium', dt)\n    } else {\n      calculateObtainium()\n    }\n\n    // Automatically tries and buys researches lol\n    if (\n      player.autoResearchToggle\n      && player.autoResearch > 0\n      && player.autoResearch <= maxRoombaResearchIndex(player)\n      && (autoResearchEnabled() || player.autoResearchMode === 'manual')\n    ) {\n      // buyResearch() probably shouldn't even be called if player.autoResearch exceeds the highest unlocked research\n      let counter = 0\n      const maxCount = 1 + player.challengecompletions[14]\n      while (counter < maxCount) {\n        if (player.autoResearch > 0) {\n          const linGrowth = player.autoResearch === 200 ? 0.01 : 0\n          if (!buyResearch(player.autoResearch, true, linGrowth)) {\n            break\n          }\n        } else {\n          break\n        }\n        counter++\n      }\n    }\n  }\n\n  // Adds an offering every 2 seconds\n  if (player.highestchallengecompletions[3] > 0) {\n    automaticTools('addOfferings', dt / 2)\n  }\n\n  // Adds an offering every 1/(cube upgrade 1x2) seconds. It shares a timer with the one above.\n  if (player.cubeUpgrades[2] > 0) {\n    automaticTools('addOfferings', dt * player.cubeUpgrades[2])\n  }\n\n  runChallengeSweep(dt)\n\n  // Check for automatic resets\n  // Auto Prestige. === 1 indicates amount, === 2 indicates time.\n  if (player.resettoggle1 === 1 || player.resettoggle1 === 0) {\n    if (\n      player.toggles[15]\n      && player.achievements[43] === 1\n      && G.prestigePointGain.gte(\n        player.prestigePoints.times(Decimal.pow(10, player.prestigeamount))\n      )\n      && player.coinsThisPrestige.gte(1e16)\n    ) {\n      resetachievementcheck(1)\n      reset('prestige', true)\n    }\n  }\n  if (player.resettoggle1 === 2) {\n    G.autoResetTimers.prestige += dt\n    const time = Math.max(0.01, player.prestigeamount)\n    if (\n      player.toggles[15]\n      && player.achievements[43] === 1\n      && G.autoResetTimers.prestige >= time\n      && player.coinsThisPrestige.gte(1e16)\n    ) {\n      resetachievementcheck(1)\n      reset('prestige', true)\n    }\n  }\n\n  if (player.resettoggle2 === 1 || player.resettoggle2 === 0) {\n    if (\n      player.toggles[21]\n      && player.upgrades[89] === 1\n      && G.transcendPointGain.gte(\n        player.transcendPoints.times(Decimal.pow(10, player.transcendamount))\n      )\n      && player.coinsThisTranscension.gte(1e100)\n      && player.currentChallenge.transcension === 0\n    ) {\n      resetachievementcheck(2)\n      reset('transcension', true)\n    }\n  }\n  if (player.resettoggle2 === 2) {\n    G.autoResetTimers.transcension += dt\n    const time = Math.max(0.01, player.transcendamount)\n    if (\n      player.toggles[21]\n      && player.upgrades[89] === 1\n      && G.autoResetTimers.transcension >= time\n      && player.coinsThisTranscension.gte(1e100)\n      && player.currentChallenge.transcension === 0\n    ) {\n      resetachievementcheck(2)\n      reset('transcension', true)\n    }\n  }\n\n  if (player.currentChallenge.ascension !== 12) {\n    G.autoResetTimers.reincarnation += dt\n    if (player.resettoggle3 === 2) {\n      const time = Math.max(0.01, player.reincarnationamount)\n      if (\n        player.toggles[27]\n        && player.researches[46] > 0.5\n        && player.transcendShards.gte('1e300')\n        && G.autoResetTimers.reincarnation >= time\n        && player.currentChallenge.transcension === 0\n        && player.currentChallenge.reincarnation === 0\n      ) {\n        resetachievementcheck(3)\n        reset('reincarnation', true)\n      }\n    }\n    if (player.resettoggle3 === 1 || player.resettoggle3 === 0) {\n      if (\n        player.toggles[27]\n        && player.researches[46] > 0.5\n        && G.reincarnationPointGain.gte(\n          player.reincarnationPoints\n            .add(1)\n            .times(Decimal.pow(10, player.reincarnationamount))\n        )\n        && player.transcendShards.gte(1e300)\n        && player.currentChallenge.transcension === 0\n        && player.currentChallenge.reincarnation === 0\n      ) {\n        resetachievementcheck(3)\n        reset('reincarnation', true)\n      }\n    }\n  }\n  calculateOfferings('reincarnation')\n}\n\nexport const synergismHotkeys = (event: KeyboardEvent, key: string): void => {\n  if (!player.toggles[40]) {\n    return\n  }\n\n  const types = {\n    coin: 'Coin',\n    diamond: 'Diamonds',\n    mythos: 'Mythos',\n    particle: 'Particles',\n    tesseract: 'Tesseracts'\n  } as const\n\n  const type = types[G.buildingSubTab]\n\n  if (event.shiftKey) {\n    let num = Number(key) - 1\n    if (key === 'BACKQUOTE') {\n      num = -1\n    }\n    if (player.challengecompletions[11] > 0 && !isNaN(num)) {\n      if (num >= 0 && num < player.corruptionLoadoutNames.length) {\n        if (player.toggles[41]) {\n          void Notification(\n            i18next.t('main.corruptionLoadoutApplied', {\n              x: num + 1,\n              y: player.corruptionLoadoutNames[num]\n            }),\n            5000\n          )\n        }\n        corruptionLoadoutSaveLoad(false, num + 1)\n      } else {\n        if (player.toggles[41]) {\n          void Notification(i18next.t('main.allCorruptionsZero'), 5000)\n        }\n        corruptionLoadoutSaveLoad(false, 0)\n      }\n      event.preventDefault()\n    }\n    return\n  }\n\n  switch (key) {\n    case '1':\n    case '2':\n    case '3':\n    case '4':\n    case '5': {\n      const num = Number(key) as OneToFive\n\n      if (G.currentTab === Tabs.Buildings) {\n        if (type === 'Particles') {\n          buyParticleBuilding(num)\n        } else if (type === 'Tesseracts') {\n          buyTesseractBuilding(num)\n        } else {\n          buyMax(num, type)\n        }\n      }\n      if (G.currentTab === Tabs.Upgrades) {\n        categoryUpgrades(num, false)\n      }\n      if (G.currentTab === Tabs.Runes) {\n        if (G.runescreen === 'runes') {\n          redeemShards(num)\n        }\n        if (G.runescreen === 'blessings') {\n          buyRuneBonusLevels('Blessings', num)\n        }\n        if (G.runescreen === 'spirits') {\n          buyRuneBonusLevels('Spirits', num)\n        }\n      }\n      if (G.currentTab === Tabs.Challenges) {\n        toggleChallenges(num)\n        challengeDisplay(num)\n      }\n      break\n    }\n\n    case '6':\n      if (G.currentTab === Tabs.Upgrades) {\n        categoryUpgrades(6, false)\n      }\n      if (G.currentTab === Tabs.Buildings && G.buildingSubTab === 'diamond') {\n        buyCrystalUpgrades(1)\n      }\n      if (G.currentTab === Tabs.Challenges && player.reincarnationCount > 0) {\n        toggleChallenges(6)\n        challengeDisplay(6)\n      }\n      break\n    case '7':\n      if (G.currentTab === Tabs.Buildings && G.buildingSubTab === 'diamond') {\n        buyCrystalUpgrades(2)\n      }\n      if (G.currentTab === Tabs.Challenges && player.achievements[113] === 1) {\n        toggleChallenges(7)\n        challengeDisplay(7)\n      }\n      break\n    case '8':\n      if (G.currentTab === Tabs.Buildings && G.buildingSubTab === 'diamond') {\n        buyCrystalUpgrades(3)\n      }\n      if (G.currentTab === Tabs.Challenges && player.achievements[120] === 1) {\n        toggleChallenges(8)\n        challengeDisplay(8)\n      }\n      break\n    case '9':\n      if (G.currentTab === Tabs.Buildings && G.buildingSubTab === 'diamond') {\n        buyCrystalUpgrades(4)\n      }\n      if (G.currentTab === Tabs.Challenges && player.achievements[127] === 1) {\n        toggleChallenges(9)\n        challengeDisplay(9)\n      }\n      break\n    case '0':\n      if (G.currentTab === Tabs.Buildings && G.buildingSubTab === 'diamond') {\n        buyCrystalUpgrades(5)\n      }\n      if (G.currentTab === Tabs.Challenges && player.achievements[134] === 1) {\n        toggleChallenges(10)\n        challengeDisplay(10)\n      }\n      break\n  }\n}\n\nexport const showExitOffline = () => {\n  const el = DOMCacheGetOrSet('exitOffline')\n  el.style.visibility = 'visible'\n  setTimeout(() => el.focus(), 100)\n}\n\n/**\n * Reloads shit.\n * @param reset if this param is passed, offline progression will not be calculated.\n */\nexport const reloadShit = async (reset = false) => {\n  clearTimers()\n\n  // Shows a reset button when page loading seems to stop or cause an error\n  const preloadDeleteGame = setTimeout(\n    () => (DOMCacheGetOrSet('preloadDeleteGame').style.display = 'block'),\n    10000\n  )\n\n  disableHotkeys()\n\n  // Wait a tick to continue. This is a (likely futile) attempt to see if this solves save corrupting.\n  // This ensures all queued tasks are executed before continuing on.\n  await new Promise((res) => {\n    setTimeout(res, 0)\n  })\n\n  const save = (await localforage.getItem<Blob>('Synergysave2'))\n    ?? localStorage.getItem('Synergysave2')\n\n  const saveObject = typeof save === 'string' ? save : await save?.text()\n\n  if (saveObject) {\n    const dec = LZString.decompressFromBase64(saveObject)\n    const isLZString = dec !== ''\n\n    if (isLZString) {\n      if (!dec) {\n        return Alert(i18next.t('save.loadFailed'))\n      }\n\n      const saveString = btoa(dec)\n\n      if (saveString === null) {\n        return Alert(i18next.t('save.loadFailed'))\n      }\n\n      localStorage.clear()\n      const blob = new Blob([saveString], { type: 'text/plain' })\n      localStorage.setItem('Synergysave2', saveString)\n      await localforage.setItem<Blob>('Synergysave2', blob)\n      await Alert(i18next.t('main.transferredFromLZ'))\n    }\n\n    await loadSynergy()\n  }\n\n  if (!reset) {\n    await calculateOffline()\n  } else {\n    if (!player.singularityChallenges.limitedTime.rewards.preserveQuarks) {\n      player.worlds.reset()\n    }\n    // saving is disabled during a singularity event to prevent bug\n    // early return here if the save fails can keep game state from properly resetting after a singularity\n    if (saveCheck.canSave) {\n      const saved = await saveSynergy()\n      if (!saved) {\n        return\n      }\n    }\n  }\n\n  toggleTheme(true)\n  settingAnnotation()\n  toggleIconSet()\n  toggleauto()\n  htmlInserts()\n  createTimer()\n\n  // Reset Displays\n  if (!playerNeedsReminderToExport()) {\n    changeTab(Tabs.Buildings)\n  } else {\n    changeTab(Tabs.Settings)\n\n    void Alert(i18next.t('general.exportYourGame'))\n  }\n\n  changeSubTab(Tabs.Buildings, { page: 0 })\n  changeSubTab(Tabs.Runes, { page: 0 }) // Set 'runes' subtab back to 'runes' tab\n  changeSubTab(Tabs.Challenges, { page: 0 }) // Set 'challenges' subtab back to 'normal' tab\n  changeSubTab(Tabs.WowCubes, { page: 0 }) // Set 'cube tribues' subtab back to 'cubes' tab\n  changeSubTab(Tabs.Corruption, { page: 0 }) // set 'corruption main'\n  changeSubTab(Tabs.Singularity, { page: 0 }) // set 'singularity main'\n  changeSubTab(Tabs.Settings, { page: 0 }) // set 'statistics main'\n\n  dailyResetCheck()\n  setInterval(dailyResetCheck, 30000)\n\n  constantIntervals()\n  changeTabColor()\n\n  eventCheck()\n    .catch(() => {})\n    .finally(() => {\n      setInterval(\n        () =>\n          eventCheck().catch((error: Error) => {\n            console.error(error)\n          }),\n        15_000\n      )\n    })\n  showExitOffline()\n  clearTimeout(preloadDeleteGame)\n\n  setInterval(cacheReinitialize, 15000)\n\n  if (localStorage.getItem('pleaseStar') === null) {\n    void Alert(i18next.t('main.starRepo'))\n    localStorage.setItem('pleaseStar', '')\n  }\n\n  // All versions of Chrome and Firefox supported by the game have this API,\n  // but not all versions of Edge and Safari do.\n  if (\n    typeof navigator.storage?.persist === 'function'\n    && typeof navigator.storage?.persisted === 'function'\n  ) {\n    const persistent = await navigator.storage.persisted()\n\n    if (!persistent) {\n      const isPersistentNow = await navigator.storage.persist()\n\n      if (isPersistentNow) {\n        void Alert(i18next.t('main.dataPersistent'))\n      }\n    } else {\n      console.log(`Storage is persistent! (persistent = ${persistent})`)\n    }\n  }\n\n  const saveType = DOMCacheGetOrSet('saveType') as HTMLInputElement\n  saveType.checked = localStorage.getItem('copyToClipboard') !== null\n}\n\nfunction playerNeedsReminderToExport () {\n  const day = 1000 * 60 * 60 * 24\n\n  return Date.now() - player.lastExportedSave > day * 3\n}\n\nwindow.addEventListener('load', async () => {\n  await i18nInit()\n\n  const ver = DOMCacheGetOrSet('versionnumber')\n  const addZero = (n: number) => `${n}`.padStart(2, '0')\n  if (ver instanceof HTMLElement) {\n    const textUpdate = !isNaN(lastUpdated.getTime())\n      ? ` [Last Update: ${addZero(lastUpdated.getHours())}:${\n        addZero(\n          lastUpdated.getMinutes()\n        )\n      } UTC ${addZero(lastUpdated.getDate())}-${\n        lastUpdated.toLocaleString(\n          'en-us',\n          { month: 'short' }\n        )\n      }-${lastUpdated.getFullYear()}].`\n      : ''\n    ver.textContent = `You're ${testing ? 'testing' : 'playing'} v${version} - The Alternate Reality${textUpdate} ${\n      testing ? i18next.t('testing.saveInLive') : ''\n    }`\n  }\n  document.title = `Synergism v${version}`\n\n  generateEventHandlers()\n\n  void reloadShit()\n\n  corruptionButtonsAdd()\n  corruptionLoadoutTableCreate()\n\n  handleLogin().catch(console.error)\n})\n\nwindow.addEventListener('unload', () => {\n  // This fixes a bug in Chrome (who would have guessed?) that\n  // wouldn't properly load elements if the user scrolled down\n  // and reloaded a page. Why is this a bug, Chrome? Why would\n  // a page that is reloaded be affected by what the user did\n  // beforehand? How does anyone use this buggy browser???????\n  window.scrollTo(0, 0)\n})\n", "function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}\nexport { _typeof as default };", "function _classCallCheck(a, n) {\n  if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\");\n}\nexport { _classCallCheck as default };", "import _typeof from \"./typeof.js\";\nfunction toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nexport { toPrimitive as default };", "import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nfunction toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}\nexport { toPropertyKey as default };", "import toPropertyKey from \"./toPropertyKey.js\";\nfunction _defineProperties(e, r) {\n  for (var t = 0; t < r.length; t++) {\n    var o = r[t];\n    o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, toPropertyKey(o.key), o);\n  }\n}\nfunction _createClass(e, r, t) {\n  return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", {\n    writable: !1\n  }), e;\n}\nexport { _createClass as default };", "function _assertThisInitialized(e) {\n  if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  return e;\n}\nexport { _assertThisInitialized as default };", "function _setPrototypeOf(t, e) {\n  return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {\n    return t.__proto__ = e, t;\n  }, _setPrototypeOf(t, e);\n}\nexport { _setPrototypeOf as default };", "import setPrototypeOf from \"./setPrototypeOf.js\";\nfunction _inherits(t, e) {\n  if (\"function\" != typeof e && null !== e) throw new TypeError(\"Super expression must either be null or a function\");\n  t.prototype = Object.create(e && e.prototype, {\n    constructor: {\n      value: t,\n      writable: !0,\n      configurable: !0\n    }\n  }), Object.defineProperty(t, \"prototype\", {\n    writable: !1\n  }), e && setPrototypeOf(t, e);\n}\nexport { _inherits as default };", "import _typeof from \"./typeof.js\";\nimport assertThisInitialized from \"./assertThisInitialized.js\";\nfunction _possibleConstructorReturn(t, e) {\n  if (e && (\"object\" == _typeof(e) || \"function\" == typeof e)) return e;\n  if (void 0 !== e) throw new TypeError(\"Derived constructors may only return object or undefined\");\n  return assertThisInitialized(t);\n}\nexport { _possibleConstructorReturn as default };", "function _getPrototypeOf(t) {\n  return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) {\n    return t.__proto__ || Object.getPrototypeOf(t);\n  }, _getPrototypeOf(t);\n}\nexport { _getPrototypeOf as default };", "import toPropertyKey from \"./toPropertyKey.js\";\nfunction _defineProperty(e, r, t) {\n  return (r = toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\nexport { _defineProperty as default };", "function _arrayWithHoles(r) {\n  if (Array.isArray(r)) return r;\n}\nexport { _arrayWithHoles as default };", "function _iterableToArray(r) {\n  if (\"undefined\" != typeof Symbol && null != r[Symbol.iterator] || null != r[\"@@iterator\"]) return Array.from(r);\n}\nexport { _iterableToArray as default };", "function _arrayLikeToArray(r, a) {\n  (null == a || a > r.length) && (a = r.length);\n  for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e];\n  return n;\n}\nexport { _arrayLikeToArray as default };", "import arrayLikeToArray from \"./arrayLikeToArray.js\";\nfunction _unsupportedIterableToArray(r, a) {\n  if (r) {\n    if (\"string\" == typeof r) return arrayLikeToArray(r, a);\n    var t = {}.toString.call(r).slice(8, -1);\n    return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? arrayLikeToArray(r, a) : void 0;\n  }\n}\nexport { _unsupportedIterableToArray as default };", "function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nexport { _nonIterableRest as default };", "import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nfunction _toArray(r) {\n  return arrayWithHoles(r) || iterableToArray(r) || unsupportedIterableToArray(r) || nonIterableRest();\n}\nexport { _toArray as default };", "import _typeof from '@babel/runtime/helpers/esm/typeof';\nimport _classCallCheck from '@babel/runtime/helpers/esm/classCallCheck';\nimport _createClass from '@babel/runtime/helpers/esm/createClass';\nimport _assertThisInitialized from '@babel/runtime/helpers/esm/assertThisInitialized';\nimport _inherits from '@babel/runtime/helpers/esm/inherits';\nimport _possibleConstructorReturn from '@babel/runtime/helpers/esm/possibleConstructorReturn';\nimport _getPrototypeOf from '@babel/runtime/helpers/esm/getPrototypeOf';\nimport _defineProperty from '@babel/runtime/helpers/esm/defineProperty';\nimport _toArray from '@babel/runtime/helpers/esm/toArray';\n\nfunction ownKeys$6(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread$6(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$6(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$6(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nvar consoleLogger = {\n  type: 'logger',\n  log: function log(args) {\n    this.output('log', args);\n  },\n  warn: function warn(args) {\n    this.output('warn', args);\n  },\n  error: function error(args) {\n    this.output('error', args);\n  },\n  output: function output(type, args) {\n    if (console && console[type]) console[type].apply(console, args);\n  }\n};\nvar Logger = function () {\n  function Logger(concreteLogger) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    _classCallCheck(this, Logger);\n    this.init(concreteLogger, options);\n  }\n  _createClass(Logger, [{\n    key: \"init\",\n    value: function init(concreteLogger) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      this.prefix = options.prefix || 'i18next:';\n      this.logger = concreteLogger || consoleLogger;\n      this.options = options;\n      this.debug = options.debug;\n    }\n  }, {\n    key: \"setDebug\",\n    value: function setDebug(bool) {\n      this.debug = bool;\n    }\n  }, {\n    key: \"log\",\n    value: function log() {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      return this.forward(args, 'log', '', true);\n    }\n  }, {\n    key: \"warn\",\n    value: function warn() {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n      return this.forward(args, 'warn', '', true);\n    }\n  }, {\n    key: \"error\",\n    value: function error() {\n      for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n      return this.forward(args, 'error', '');\n    }\n  }, {\n    key: \"deprecate\",\n    value: function deprecate() {\n      for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n        args[_key4] = arguments[_key4];\n      }\n      return this.forward(args, 'warn', 'WARNING DEPRECATED: ', true);\n    }\n  }, {\n    key: \"forward\",\n    value: function forward(args, lvl, prefix, debugOnly) {\n      if (debugOnly && !this.debug) return null;\n      if (typeof args[0] === 'string') args[0] = \"\".concat(prefix).concat(this.prefix, \" \").concat(args[0]);\n      return this.logger[lvl](args);\n    }\n  }, {\n    key: \"create\",\n    value: function create(moduleName) {\n      return new Logger(this.logger, _objectSpread$6(_objectSpread$6({}, {\n        prefix: \"\".concat(this.prefix, \":\").concat(moduleName, \":\")\n      }), this.options));\n    }\n  }, {\n    key: \"clone\",\n    value: function clone(options) {\n      options = options || this.options;\n      options.prefix = options.prefix || this.prefix;\n      return new Logger(this.logger, options);\n    }\n  }]);\n  return Logger;\n}();\nvar baseLogger = new Logger();\n\nvar EventEmitter = function () {\n  function EventEmitter() {\n    _classCallCheck(this, EventEmitter);\n    this.observers = {};\n  }\n  _createClass(EventEmitter, [{\n    key: \"on\",\n    value: function on(events, listener) {\n      var _this = this;\n      events.split(' ').forEach(function (event) {\n        _this.observers[event] = _this.observers[event] || [];\n        _this.observers[event].push(listener);\n      });\n      return this;\n    }\n  }, {\n    key: \"off\",\n    value: function off(event, listener) {\n      if (!this.observers[event]) return;\n      if (!listener) {\n        delete this.observers[event];\n        return;\n      }\n      this.observers[event] = this.observers[event].filter(function (l) {\n        return l !== listener;\n      });\n    }\n  }, {\n    key: \"emit\",\n    value: function emit(event) {\n      for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n      if (this.observers[event]) {\n        var cloned = [].concat(this.observers[event]);\n        cloned.forEach(function (observer) {\n          observer.apply(void 0, args);\n        });\n      }\n      if (this.observers['*']) {\n        var _cloned = [].concat(this.observers['*']);\n        _cloned.forEach(function (observer) {\n          observer.apply(observer, [event].concat(args));\n        });\n      }\n    }\n  }]);\n  return EventEmitter;\n}();\n\nfunction defer() {\n  var res;\n  var rej;\n  var promise = new Promise(function (resolve, reject) {\n    res = resolve;\n    rej = reject;\n  });\n  promise.resolve = res;\n  promise.reject = rej;\n  return promise;\n}\nfunction makeString(object) {\n  if (object == null) return '';\n  return '' + object;\n}\nfunction copy(a, s, t) {\n  a.forEach(function (m) {\n    if (s[m]) t[m] = s[m];\n  });\n}\nfunction getLastOfPath(object, path, Empty) {\n  function cleanKey(key) {\n    return key && key.indexOf('###') > -1 ? key.replace(/###/g, '.') : key;\n  }\n  function canNotTraverseDeeper() {\n    return !object || typeof object === 'string';\n  }\n  var stack = typeof path !== 'string' ? [].concat(path) : path.split('.');\n  while (stack.length > 1) {\n    if (canNotTraverseDeeper()) return {};\n    var key = cleanKey(stack.shift());\n    if (!object[key] && Empty) object[key] = new Empty();\n    if (Object.prototype.hasOwnProperty.call(object, key)) {\n      object = object[key];\n    } else {\n      object = {};\n    }\n  }\n  if (canNotTraverseDeeper()) return {};\n  return {\n    obj: object,\n    k: cleanKey(stack.shift())\n  };\n}\nfunction setPath(object, path, newValue) {\n  var _getLastOfPath = getLastOfPath(object, path, Object),\n    obj = _getLastOfPath.obj,\n    k = _getLastOfPath.k;\n  obj[k] = newValue;\n}\nfunction pushPath(object, path, newValue, concat) {\n  var _getLastOfPath2 = getLastOfPath(object, path, Object),\n    obj = _getLastOfPath2.obj,\n    k = _getLastOfPath2.k;\n  obj[k] = obj[k] || [];\n  if (concat) obj[k] = obj[k].concat(newValue);\n  if (!concat) obj[k].push(newValue);\n}\nfunction getPath(object, path) {\n  var _getLastOfPath3 = getLastOfPath(object, path),\n    obj = _getLastOfPath3.obj,\n    k = _getLastOfPath3.k;\n  if (!obj) return undefined;\n  return obj[k];\n}\nfunction getPathWithDefaults(data, defaultData, key) {\n  var value = getPath(data, key);\n  if (value !== undefined) {\n    return value;\n  }\n  return getPath(defaultData, key);\n}\nfunction deepExtend(target, source, overwrite) {\n  for (var prop in source) {\n    if (prop !== '__proto__' && prop !== 'constructor') {\n      if (prop in target) {\n        if (typeof target[prop] === 'string' || target[prop] instanceof String || typeof source[prop] === 'string' || source[prop] instanceof String) {\n          if (overwrite) target[prop] = source[prop];\n        } else {\n          deepExtend(target[prop], source[prop], overwrite);\n        }\n      } else {\n        target[prop] = source[prop];\n      }\n    }\n  }\n  return target;\n}\nfunction regexEscape(str) {\n  return str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&');\n}\nvar _entityMap = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#39;',\n  '/': '&#x2F;'\n};\nfunction escape(data) {\n  if (typeof data === 'string') {\n    return data.replace(/[&<>\"'\\/]/g, function (s) {\n      return _entityMap[s];\n    });\n  }\n  return data;\n}\nvar isIE10 = typeof window !== 'undefined' && window.navigator && typeof window.navigator.userAgentData === 'undefined' && window.navigator.userAgent && window.navigator.userAgent.indexOf('MSIE') > -1;\nvar chars = [' ', ',', '?', '!', ';'];\nfunction looksLikeObjectPath(key, nsSeparator, keySeparator) {\n  nsSeparator = nsSeparator || '';\n  keySeparator = keySeparator || '';\n  var possibleChars = chars.filter(function (c) {\n    return nsSeparator.indexOf(c) < 0 && keySeparator.indexOf(c) < 0;\n  });\n  if (possibleChars.length === 0) return true;\n  var r = new RegExp(\"(\".concat(possibleChars.map(function (c) {\n    return c === '?' ? '\\\\?' : c;\n  }).join('|'), \")\"));\n  var matched = !r.test(key);\n  if (!matched) {\n    var ki = key.indexOf(keySeparator);\n    if (ki > 0 && !r.test(key.substring(0, ki))) {\n      matched = true;\n    }\n  }\n  return matched;\n}\nfunction deepFind(obj, path) {\n  var keySeparator = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '.';\n  if (!obj) return undefined;\n  if (obj[path]) return obj[path];\n  var paths = path.split(keySeparator);\n  var current = obj;\n  for (var i = 0; i < paths.length; ++i) {\n    if (!current) return undefined;\n    if (typeof current[paths[i]] === 'string' && i + 1 < paths.length) {\n      return undefined;\n    }\n    if (current[paths[i]] === undefined) {\n      var j = 2;\n      var p = paths.slice(i, i + j).join(keySeparator);\n      var mix = current[p];\n      while (mix === undefined && paths.length > i + j) {\n        j++;\n        p = paths.slice(i, i + j).join(keySeparator);\n        mix = current[p];\n      }\n      if (mix === undefined) return undefined;\n      if (mix === null) return null;\n      if (path.endsWith(p)) {\n        if (typeof mix === 'string') return mix;\n        if (p && typeof mix[p] === 'string') return mix[p];\n      }\n      var joinedPath = paths.slice(i + j).join(keySeparator);\n      if (joinedPath) return deepFind(mix, joinedPath, keySeparator);\n      return undefined;\n    }\n    current = current[paths[i]];\n  }\n  return current;\n}\n\nfunction ownKeys$5(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread$5(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$5(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$5(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _createSuper$3(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$3(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$3() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar ResourceStore = function (_EventEmitter) {\n  _inherits(ResourceStore, _EventEmitter);\n  var _super = _createSuper$3(ResourceStore);\n  function ResourceStore(data) {\n    var _this;\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      ns: ['translation'],\n      defaultNS: 'translation'\n    };\n    _classCallCheck(this, ResourceStore);\n    _this = _super.call(this);\n    if (isIE10) {\n      EventEmitter.call(_assertThisInitialized(_this));\n    }\n    _this.data = data || {};\n    _this.options = options;\n    if (_this.options.keySeparator === undefined) {\n      _this.options.keySeparator = '.';\n    }\n    if (_this.options.ignoreJSONStructure === undefined) {\n      _this.options.ignoreJSONStructure = true;\n    }\n    return _this;\n  }\n  _createClass(ResourceStore, [{\n    key: \"addNamespaces\",\n    value: function addNamespaces(ns) {\n      if (this.options.ns.indexOf(ns) < 0) {\n        this.options.ns.push(ns);\n      }\n    }\n  }, {\n    key: \"removeNamespaces\",\n    value: function removeNamespaces(ns) {\n      var index = this.options.ns.indexOf(ns);\n      if (index > -1) {\n        this.options.ns.splice(index, 1);\n      }\n    }\n  }, {\n    key: \"getResource\",\n    value: function getResource(lng, ns, key) {\n      var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n      var keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n      var ignoreJSONStructure = options.ignoreJSONStructure !== undefined ? options.ignoreJSONStructure : this.options.ignoreJSONStructure;\n      var path = [lng, ns];\n      if (key && typeof key !== 'string') path = path.concat(key);\n      if (key && typeof key === 'string') path = path.concat(keySeparator ? key.split(keySeparator) : key);\n      if (lng.indexOf('.') > -1) {\n        path = lng.split('.');\n      }\n      var result = getPath(this.data, path);\n      if (result || !ignoreJSONStructure || typeof key !== 'string') return result;\n      return deepFind(this.data && this.data[lng] && this.data[lng][ns], key, keySeparator);\n    }\n  }, {\n    key: \"addResource\",\n    value: function addResource(lng, ns, key, value) {\n      var options = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {\n        silent: false\n      };\n      var keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n      var path = [lng, ns];\n      if (key) path = path.concat(keySeparator ? key.split(keySeparator) : key);\n      if (lng.indexOf('.') > -1) {\n        path = lng.split('.');\n        value = ns;\n        ns = path[1];\n      }\n      this.addNamespaces(ns);\n      setPath(this.data, path, value);\n      if (!options.silent) this.emit('added', lng, ns, key, value);\n    }\n  }, {\n    key: \"addResources\",\n    value: function addResources(lng, ns, resources) {\n      var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {\n        silent: false\n      };\n      for (var m in resources) {\n        if (typeof resources[m] === 'string' || Object.prototype.toString.apply(resources[m]) === '[object Array]') this.addResource(lng, ns, m, resources[m], {\n          silent: true\n        });\n      }\n      if (!options.silent) this.emit('added', lng, ns, resources);\n    }\n  }, {\n    key: \"addResourceBundle\",\n    value: function addResourceBundle(lng, ns, resources, deep, overwrite) {\n      var options = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {\n        silent: false\n      };\n      var path = [lng, ns];\n      if (lng.indexOf('.') > -1) {\n        path = lng.split('.');\n        deep = resources;\n        resources = ns;\n        ns = path[1];\n      }\n      this.addNamespaces(ns);\n      var pack = getPath(this.data, path) || {};\n      if (deep) {\n        deepExtend(pack, resources, overwrite);\n      } else {\n        pack = _objectSpread$5(_objectSpread$5({}, pack), resources);\n      }\n      setPath(this.data, path, pack);\n      if (!options.silent) this.emit('added', lng, ns, resources);\n    }\n  }, {\n    key: \"removeResourceBundle\",\n    value: function removeResourceBundle(lng, ns) {\n      if (this.hasResourceBundle(lng, ns)) {\n        delete this.data[lng][ns];\n      }\n      this.removeNamespaces(ns);\n      this.emit('removed', lng, ns);\n    }\n  }, {\n    key: \"hasResourceBundle\",\n    value: function hasResourceBundle(lng, ns) {\n      return this.getResource(lng, ns) !== undefined;\n    }\n  }, {\n    key: \"getResourceBundle\",\n    value: function getResourceBundle(lng, ns) {\n      if (!ns) ns = this.options.defaultNS;\n      if (this.options.compatibilityAPI === 'v1') return _objectSpread$5(_objectSpread$5({}, {}), this.getResource(lng, ns));\n      return this.getResource(lng, ns);\n    }\n  }, {\n    key: \"getDataByLanguage\",\n    value: function getDataByLanguage(lng) {\n      return this.data[lng];\n    }\n  }, {\n    key: \"hasLanguageSomeTranslations\",\n    value: function hasLanguageSomeTranslations(lng) {\n      var data = this.getDataByLanguage(lng);\n      var n = data && Object.keys(data) || [];\n      return !!n.find(function (v) {\n        return data[v] && Object.keys(data[v]).length > 0;\n      });\n    }\n  }, {\n    key: \"toJSON\",\n    value: function toJSON() {\n      return this.data;\n    }\n  }]);\n  return ResourceStore;\n}(EventEmitter);\n\nvar postProcessor = {\n  processors: {},\n  addPostProcessor: function addPostProcessor(module) {\n    this.processors[module.name] = module;\n  },\n  handle: function handle(processors, value, key, options, translator) {\n    var _this = this;\n    processors.forEach(function (processor) {\n      if (_this.processors[processor]) value = _this.processors[processor].process(value, key, options, translator);\n    });\n    return value;\n  }\n};\n\nfunction ownKeys$4(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread$4(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$4(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$4(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _createSuper$2(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$2(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$2() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar checkedLoadedFor = {};\nvar Translator = function (_EventEmitter) {\n  _inherits(Translator, _EventEmitter);\n  var _super = _createSuper$2(Translator);\n  function Translator(services) {\n    var _this;\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    _classCallCheck(this, Translator);\n    _this = _super.call(this);\n    if (isIE10) {\n      EventEmitter.call(_assertThisInitialized(_this));\n    }\n    copy(['resourceStore', 'languageUtils', 'pluralResolver', 'interpolator', 'backendConnector', 'i18nFormat', 'utils'], services, _assertThisInitialized(_this));\n    _this.options = options;\n    if (_this.options.keySeparator === undefined) {\n      _this.options.keySeparator = '.';\n    }\n    _this.logger = baseLogger.create('translator');\n    return _this;\n  }\n  _createClass(Translator, [{\n    key: \"changeLanguage\",\n    value: function changeLanguage(lng) {\n      if (lng) this.language = lng;\n    }\n  }, {\n    key: \"exists\",\n    value: function exists(key) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n        interpolation: {}\n      };\n      if (key === undefined || key === null) {\n        return false;\n      }\n      var resolved = this.resolve(key, options);\n      return resolved && resolved.res !== undefined;\n    }\n  }, {\n    key: \"extractFromKey\",\n    value: function extractFromKey(key, options) {\n      var nsSeparator = options.nsSeparator !== undefined ? options.nsSeparator : this.options.nsSeparator;\n      if (nsSeparator === undefined) nsSeparator = ':';\n      var keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n      var namespaces = options.ns || this.options.defaultNS || [];\n      var wouldCheckForNsInKey = nsSeparator && key.indexOf(nsSeparator) > -1;\n      var seemsNaturalLanguage = !this.options.userDefinedKeySeparator && !options.keySeparator && !this.options.userDefinedNsSeparator && !options.nsSeparator && !looksLikeObjectPath(key, nsSeparator, keySeparator);\n      if (wouldCheckForNsInKey && !seemsNaturalLanguage) {\n        var m = key.match(this.interpolator.nestingRegexp);\n        if (m && m.length > 0) {\n          return {\n            key: key,\n            namespaces: namespaces\n          };\n        }\n        var parts = key.split(nsSeparator);\n        if (nsSeparator !== keySeparator || nsSeparator === keySeparator && this.options.ns.indexOf(parts[0]) > -1) namespaces = parts.shift();\n        key = parts.join(keySeparator);\n      }\n      if (typeof namespaces === 'string') namespaces = [namespaces];\n      return {\n        key: key,\n        namespaces: namespaces\n      };\n    }\n  }, {\n    key: \"translate\",\n    value: function translate(keys, options, lastKey) {\n      var _this2 = this;\n      if (_typeof(options) !== 'object' && this.options.overloadTranslationOptionHandler) {\n        options = this.options.overloadTranslationOptionHandler(arguments);\n      }\n      if (_typeof(options) === 'object') options = _objectSpread$4({}, options);\n      if (!options) options = {};\n      if (keys === undefined || keys === null) return '';\n      if (!Array.isArray(keys)) keys = [String(keys)];\n      var returnDetails = options.returnDetails !== undefined ? options.returnDetails : this.options.returnDetails;\n      var keySeparator = options.keySeparator !== undefined ? options.keySeparator : this.options.keySeparator;\n      var _this$extractFromKey = this.extractFromKey(keys[keys.length - 1], options),\n        key = _this$extractFromKey.key,\n        namespaces = _this$extractFromKey.namespaces;\n      var namespace = namespaces[namespaces.length - 1];\n      var lng = options.lng || this.language;\n      var appendNamespaceToCIMode = options.appendNamespaceToCIMode || this.options.appendNamespaceToCIMode;\n      if (lng && lng.toLowerCase() === 'cimode') {\n        if (appendNamespaceToCIMode) {\n          var nsSeparator = options.nsSeparator || this.options.nsSeparator;\n          if (returnDetails) {\n            return {\n              res: \"\".concat(namespace).concat(nsSeparator).concat(key),\n              usedKey: key,\n              exactUsedKey: key,\n              usedLng: lng,\n              usedNS: namespace\n            };\n          }\n          return \"\".concat(namespace).concat(nsSeparator).concat(key);\n        }\n        if (returnDetails) {\n          return {\n            res: key,\n            usedKey: key,\n            exactUsedKey: key,\n            usedLng: lng,\n            usedNS: namespace\n          };\n        }\n        return key;\n      }\n      var resolved = this.resolve(keys, options);\n      var res = resolved && resolved.res;\n      var resUsedKey = resolved && resolved.usedKey || key;\n      var resExactUsedKey = resolved && resolved.exactUsedKey || key;\n      var resType = Object.prototype.toString.apply(res);\n      var noObject = ['[object Number]', '[object Function]', '[object RegExp]'];\n      var joinArrays = options.joinArrays !== undefined ? options.joinArrays : this.options.joinArrays;\n      var handleAsObjectInI18nFormat = !this.i18nFormat || this.i18nFormat.handleAsObject;\n      var handleAsObject = typeof res !== 'string' && typeof res !== 'boolean' && typeof res !== 'number';\n      if (handleAsObjectInI18nFormat && res && handleAsObject && noObject.indexOf(resType) < 0 && !(typeof joinArrays === 'string' && resType === '[object Array]')) {\n        if (!options.returnObjects && !this.options.returnObjects) {\n          if (!this.options.returnedObjectHandler) {\n            this.logger.warn('accessing an object - but returnObjects options is not enabled!');\n          }\n          var r = this.options.returnedObjectHandler ? this.options.returnedObjectHandler(resUsedKey, res, _objectSpread$4(_objectSpread$4({}, options), {}, {\n            ns: namespaces\n          })) : \"key '\".concat(key, \" (\").concat(this.language, \")' returned an object instead of string.\");\n          if (returnDetails) {\n            resolved.res = r;\n            return resolved;\n          }\n          return r;\n        }\n        if (keySeparator) {\n          var resTypeIsArray = resType === '[object Array]';\n          var copy = resTypeIsArray ? [] : {};\n          var newKeyToUse = resTypeIsArray ? resExactUsedKey : resUsedKey;\n          for (var m in res) {\n            if (Object.prototype.hasOwnProperty.call(res, m)) {\n              var deepKey = \"\".concat(newKeyToUse).concat(keySeparator).concat(m);\n              copy[m] = this.translate(deepKey, _objectSpread$4(_objectSpread$4({}, options), {\n                joinArrays: false,\n                ns: namespaces\n              }));\n              if (copy[m] === deepKey) copy[m] = res[m];\n            }\n          }\n          res = copy;\n        }\n      } else if (handleAsObjectInI18nFormat && typeof joinArrays === 'string' && resType === '[object Array]') {\n        res = res.join(joinArrays);\n        if (res) res = this.extendTranslation(res, keys, options, lastKey);\n      } else {\n        var usedDefault = false;\n        var usedKey = false;\n        var needsPluralHandling = options.count !== undefined && typeof options.count !== 'string';\n        var hasDefaultValue = Translator.hasDefaultValue(options);\n        var defaultValueSuffix = needsPluralHandling ? this.pluralResolver.getSuffix(lng, options.count, options) : '';\n        var defaultValue = options[\"defaultValue\".concat(defaultValueSuffix)] || options.defaultValue;\n        if (!this.isValidLookup(res) && hasDefaultValue) {\n          usedDefault = true;\n          res = defaultValue;\n        }\n        if (!this.isValidLookup(res)) {\n          usedKey = true;\n          res = key;\n        }\n        var missingKeyNoValueFallbackToKey = options.missingKeyNoValueFallbackToKey || this.options.missingKeyNoValueFallbackToKey;\n        var resForMissing = missingKeyNoValueFallbackToKey && usedKey ? undefined : res;\n        var updateMissing = hasDefaultValue && defaultValue !== res && this.options.updateMissing;\n        if (usedKey || usedDefault || updateMissing) {\n          this.logger.log(updateMissing ? 'updateKey' : 'missingKey', lng, namespace, key, updateMissing ? defaultValue : res);\n          if (keySeparator) {\n            var fk = this.resolve(key, _objectSpread$4(_objectSpread$4({}, options), {}, {\n              keySeparator: false\n            }));\n            if (fk && fk.res) this.logger.warn('Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.');\n          }\n          var lngs = [];\n          var fallbackLngs = this.languageUtils.getFallbackCodes(this.options.fallbackLng, options.lng || this.language);\n          if (this.options.saveMissingTo === 'fallback' && fallbackLngs && fallbackLngs[0]) {\n            for (var i = 0; i < fallbackLngs.length; i++) {\n              lngs.push(fallbackLngs[i]);\n            }\n          } else if (this.options.saveMissingTo === 'all') {\n            lngs = this.languageUtils.toResolveHierarchy(options.lng || this.language);\n          } else {\n            lngs.push(options.lng || this.language);\n          }\n          var send = function send(l, k, specificDefaultValue) {\n            var defaultForMissing = hasDefaultValue && specificDefaultValue !== res ? specificDefaultValue : resForMissing;\n            if (_this2.options.missingKeyHandler) {\n              _this2.options.missingKeyHandler(l, namespace, k, defaultForMissing, updateMissing, options);\n            } else if (_this2.backendConnector && _this2.backendConnector.saveMissing) {\n              _this2.backendConnector.saveMissing(l, namespace, k, defaultForMissing, updateMissing, options);\n            }\n            _this2.emit('missingKey', l, namespace, k, res);\n          };\n          if (this.options.saveMissing) {\n            if (this.options.saveMissingPlurals && needsPluralHandling) {\n              lngs.forEach(function (language) {\n                _this2.pluralResolver.getSuffixes(language, options).forEach(function (suffix) {\n                  send([language], key + suffix, options[\"defaultValue\".concat(suffix)] || defaultValue);\n                });\n              });\n            } else {\n              send(lngs, key, defaultValue);\n            }\n          }\n        }\n        res = this.extendTranslation(res, keys, options, resolved, lastKey);\n        if (usedKey && res === key && this.options.appendNamespaceToMissingKey) res = \"\".concat(namespace, \":\").concat(key);\n        if ((usedKey || usedDefault) && this.options.parseMissingKeyHandler) {\n          if (this.options.compatibilityAPI !== 'v1') {\n            res = this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey ? \"\".concat(namespace, \":\").concat(key) : key, usedDefault ? res : undefined);\n          } else {\n            res = this.options.parseMissingKeyHandler(res);\n          }\n        }\n      }\n      if (returnDetails) {\n        resolved.res = res;\n        return resolved;\n      }\n      return res;\n    }\n  }, {\n    key: \"extendTranslation\",\n    value: function extendTranslation(res, key, options, resolved, lastKey) {\n      var _this3 = this;\n      if (this.i18nFormat && this.i18nFormat.parse) {\n        res = this.i18nFormat.parse(res, _objectSpread$4(_objectSpread$4({}, this.options.interpolation.defaultVariables), options), resolved.usedLng, resolved.usedNS, resolved.usedKey, {\n          resolved: resolved\n        });\n      } else if (!options.skipInterpolation) {\n        if (options.interpolation) this.interpolator.init(_objectSpread$4(_objectSpread$4({}, options), {\n          interpolation: _objectSpread$4(_objectSpread$4({}, this.options.interpolation), options.interpolation)\n        }));\n        var skipOnVariables = typeof res === 'string' && (options && options.interpolation && options.interpolation.skipOnVariables !== undefined ? options.interpolation.skipOnVariables : this.options.interpolation.skipOnVariables);\n        var nestBef;\n        if (skipOnVariables) {\n          var nb = res.match(this.interpolator.nestingRegexp);\n          nestBef = nb && nb.length;\n        }\n        var data = options.replace && typeof options.replace !== 'string' ? options.replace : options;\n        if (this.options.interpolation.defaultVariables) data = _objectSpread$4(_objectSpread$4({}, this.options.interpolation.defaultVariables), data);\n        res = this.interpolator.interpolate(res, data, options.lng || this.language, options);\n        if (skipOnVariables) {\n          var na = res.match(this.interpolator.nestingRegexp);\n          var nestAft = na && na.length;\n          if (nestBef < nestAft) options.nest = false;\n        }\n        if (!options.lng && this.options.compatibilityAPI !== 'v1' && resolved && resolved.res) options.lng = resolved.usedLng;\n        if (options.nest !== false) res = this.interpolator.nest(res, function () {\n          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n          }\n          if (lastKey && lastKey[0] === args[0] && !options.context) {\n            _this3.logger.warn(\"It seems you are nesting recursively key: \".concat(args[0], \" in key: \").concat(key[0]));\n            return null;\n          }\n          return _this3.translate.apply(_this3, args.concat([key]));\n        }, options);\n        if (options.interpolation) this.interpolator.reset();\n      }\n      var postProcess = options.postProcess || this.options.postProcess;\n      var postProcessorNames = typeof postProcess === 'string' ? [postProcess] : postProcess;\n      if (res !== undefined && res !== null && postProcessorNames && postProcessorNames.length && options.applyPostProcessor !== false) {\n        res = postProcessor.handle(postProcessorNames, res, key, this.options && this.options.postProcessPassResolved ? _objectSpread$4({\n          i18nResolved: resolved\n        }, options) : options, this);\n      }\n      return res;\n    }\n  }, {\n    key: \"resolve\",\n    value: function resolve(keys) {\n      var _this4 = this;\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var found;\n      var usedKey;\n      var exactUsedKey;\n      var usedLng;\n      var usedNS;\n      if (typeof keys === 'string') keys = [keys];\n      keys.forEach(function (k) {\n        if (_this4.isValidLookup(found)) return;\n        var extracted = _this4.extractFromKey(k, options);\n        var key = extracted.key;\n        usedKey = key;\n        var namespaces = extracted.namespaces;\n        if (_this4.options.fallbackNS) namespaces = namespaces.concat(_this4.options.fallbackNS);\n        var needsPluralHandling = options.count !== undefined && typeof options.count !== 'string';\n        var needsZeroSuffixLookup = needsPluralHandling && !options.ordinal && options.count === 0 && _this4.pluralResolver.shouldUseIntlApi();\n        var needsContextHandling = options.context !== undefined && (typeof options.context === 'string' || typeof options.context === 'number') && options.context !== '';\n        var codes = options.lngs ? options.lngs : _this4.languageUtils.toResolveHierarchy(options.lng || _this4.language, options.fallbackLng);\n        namespaces.forEach(function (ns) {\n          if (_this4.isValidLookup(found)) return;\n          usedNS = ns;\n          if (!checkedLoadedFor[\"\".concat(codes[0], \"-\").concat(ns)] && _this4.utils && _this4.utils.hasLoadedNamespace && !_this4.utils.hasLoadedNamespace(usedNS)) {\n            checkedLoadedFor[\"\".concat(codes[0], \"-\").concat(ns)] = true;\n            _this4.logger.warn(\"key \\\"\".concat(usedKey, \"\\\" for languages \\\"\").concat(codes.join(', '), \"\\\" won't get resolved as namespace \\\"\").concat(usedNS, \"\\\" was not yet loaded\"), 'This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!');\n          }\n          codes.forEach(function (code) {\n            if (_this4.isValidLookup(found)) return;\n            usedLng = code;\n            var finalKeys = [key];\n            if (_this4.i18nFormat && _this4.i18nFormat.addLookupKeys) {\n              _this4.i18nFormat.addLookupKeys(finalKeys, key, code, ns, options);\n            } else {\n              var pluralSuffix;\n              if (needsPluralHandling) pluralSuffix = _this4.pluralResolver.getSuffix(code, options.count, options);\n              var zeroSuffix = \"\".concat(_this4.options.pluralSeparator, \"zero\");\n              if (needsPluralHandling) {\n                finalKeys.push(key + pluralSuffix);\n                if (needsZeroSuffixLookup) {\n                  finalKeys.push(key + zeroSuffix);\n                }\n              }\n              if (needsContextHandling) {\n                var contextKey = \"\".concat(key).concat(_this4.options.contextSeparator).concat(options.context);\n                finalKeys.push(contextKey);\n                if (needsPluralHandling) {\n                  finalKeys.push(contextKey + pluralSuffix);\n                  if (needsZeroSuffixLookup) {\n                    finalKeys.push(contextKey + zeroSuffix);\n                  }\n                }\n              }\n            }\n            var possibleKey;\n            while (possibleKey = finalKeys.pop()) {\n              if (!_this4.isValidLookup(found)) {\n                exactUsedKey = possibleKey;\n                found = _this4.getResource(code, ns, possibleKey, options);\n              }\n            }\n          });\n        });\n      });\n      return {\n        res: found,\n        usedKey: usedKey,\n        exactUsedKey: exactUsedKey,\n        usedLng: usedLng,\n        usedNS: usedNS\n      };\n    }\n  }, {\n    key: \"isValidLookup\",\n    value: function isValidLookup(res) {\n      return res !== undefined && !(!this.options.returnNull && res === null) && !(!this.options.returnEmptyString && res === '');\n    }\n  }, {\n    key: \"getResource\",\n    value: function getResource(code, ns, key) {\n      var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n      if (this.i18nFormat && this.i18nFormat.getResource) return this.i18nFormat.getResource(code, ns, key, options);\n      return this.resourceStore.getResource(code, ns, key, options);\n    }\n  }], [{\n    key: \"hasDefaultValue\",\n    value: function hasDefaultValue(options) {\n      var prefix = 'defaultValue';\n      for (var option in options) {\n        if (Object.prototype.hasOwnProperty.call(options, option) && prefix === option.substring(0, prefix.length) && undefined !== options[option]) {\n          return true;\n        }\n      }\n      return false;\n    }\n  }]);\n  return Translator;\n}(EventEmitter);\n\nfunction capitalize(string) {\n  return string.charAt(0).toUpperCase() + string.slice(1);\n}\nvar LanguageUtil = function () {\n  function LanguageUtil(options) {\n    _classCallCheck(this, LanguageUtil);\n    this.options = options;\n    this.supportedLngs = this.options.supportedLngs || false;\n    this.logger = baseLogger.create('languageUtils');\n  }\n  _createClass(LanguageUtil, [{\n    key: \"getScriptPartFromCode\",\n    value: function getScriptPartFromCode(code) {\n      if (!code || code.indexOf('-') < 0) return null;\n      var p = code.split('-');\n      if (p.length === 2) return null;\n      p.pop();\n      if (p[p.length - 1].toLowerCase() === 'x') return null;\n      return this.formatLanguageCode(p.join('-'));\n    }\n  }, {\n    key: \"getLanguagePartFromCode\",\n    value: function getLanguagePartFromCode(code) {\n      if (!code || code.indexOf('-') < 0) return code;\n      var p = code.split('-');\n      return this.formatLanguageCode(p[0]);\n    }\n  }, {\n    key: \"formatLanguageCode\",\n    value: function formatLanguageCode(code) {\n      if (typeof code === 'string' && code.indexOf('-') > -1) {\n        var specialCases = ['hans', 'hant', 'latn', 'cyrl', 'cans', 'mong', 'arab'];\n        var p = code.split('-');\n        if (this.options.lowerCaseLng) {\n          p = p.map(function (part) {\n            return part.toLowerCase();\n          });\n        } else if (p.length === 2) {\n          p[0] = p[0].toLowerCase();\n          p[1] = p[1].toUpperCase();\n          if (specialCases.indexOf(p[1].toLowerCase()) > -1) p[1] = capitalize(p[1].toLowerCase());\n        } else if (p.length === 3) {\n          p[0] = p[0].toLowerCase();\n          if (p[1].length === 2) p[1] = p[1].toUpperCase();\n          if (p[0] !== 'sgn' && p[2].length === 2) p[2] = p[2].toUpperCase();\n          if (specialCases.indexOf(p[1].toLowerCase()) > -1) p[1] = capitalize(p[1].toLowerCase());\n          if (specialCases.indexOf(p[2].toLowerCase()) > -1) p[2] = capitalize(p[2].toLowerCase());\n        }\n        return p.join('-');\n      }\n      return this.options.cleanCode || this.options.lowerCaseLng ? code.toLowerCase() : code;\n    }\n  }, {\n    key: \"isSupportedCode\",\n    value: function isSupportedCode(code) {\n      if (this.options.load === 'languageOnly' || this.options.nonExplicitSupportedLngs) {\n        code = this.getLanguagePartFromCode(code);\n      }\n      return !this.supportedLngs || !this.supportedLngs.length || this.supportedLngs.indexOf(code) > -1;\n    }\n  }, {\n    key: \"getBestMatchFromCodes\",\n    value: function getBestMatchFromCodes(codes) {\n      var _this = this;\n      if (!codes) return null;\n      var found;\n      codes.forEach(function (code) {\n        if (found) return;\n        var cleanedLng = _this.formatLanguageCode(code);\n        if (!_this.options.supportedLngs || _this.isSupportedCode(cleanedLng)) found = cleanedLng;\n      });\n      if (!found && this.options.supportedLngs) {\n        codes.forEach(function (code) {\n          if (found) return;\n          var lngOnly = _this.getLanguagePartFromCode(code);\n          if (_this.isSupportedCode(lngOnly)) return found = lngOnly;\n          found = _this.options.supportedLngs.find(function (supportedLng) {\n            if (supportedLng === lngOnly) return supportedLng;\n            if (supportedLng.indexOf('-') < 0 && lngOnly.indexOf('-') < 0) return;\n            if (supportedLng.indexOf(lngOnly) === 0) return supportedLng;\n          });\n        });\n      }\n      if (!found) found = this.getFallbackCodes(this.options.fallbackLng)[0];\n      return found;\n    }\n  }, {\n    key: \"getFallbackCodes\",\n    value: function getFallbackCodes(fallbacks, code) {\n      if (!fallbacks) return [];\n      if (typeof fallbacks === 'function') fallbacks = fallbacks(code);\n      if (typeof fallbacks === 'string') fallbacks = [fallbacks];\n      if (Object.prototype.toString.apply(fallbacks) === '[object Array]') return fallbacks;\n      if (!code) return fallbacks[\"default\"] || [];\n      var found = fallbacks[code];\n      if (!found) found = fallbacks[this.getScriptPartFromCode(code)];\n      if (!found) found = fallbacks[this.formatLanguageCode(code)];\n      if (!found) found = fallbacks[this.getLanguagePartFromCode(code)];\n      if (!found) found = fallbacks[\"default\"];\n      return found || [];\n    }\n  }, {\n    key: \"toResolveHierarchy\",\n    value: function toResolveHierarchy(code, fallbackCode) {\n      var _this2 = this;\n      var fallbackCodes = this.getFallbackCodes(fallbackCode || this.options.fallbackLng || [], code);\n      var codes = [];\n      var addCode = function addCode(c) {\n        if (!c) return;\n        if (_this2.isSupportedCode(c)) {\n          codes.push(c);\n        } else {\n          _this2.logger.warn(\"rejecting language code not found in supportedLngs: \".concat(c));\n        }\n      };\n      if (typeof code === 'string' && code.indexOf('-') > -1) {\n        if (this.options.load !== 'languageOnly') addCode(this.formatLanguageCode(code));\n        if (this.options.load !== 'languageOnly' && this.options.load !== 'currentOnly') addCode(this.getScriptPartFromCode(code));\n        if (this.options.load !== 'currentOnly') addCode(this.getLanguagePartFromCode(code));\n      } else if (typeof code === 'string') {\n        addCode(this.formatLanguageCode(code));\n      }\n      fallbackCodes.forEach(function (fc) {\n        if (codes.indexOf(fc) < 0) addCode(_this2.formatLanguageCode(fc));\n      });\n      return codes;\n    }\n  }]);\n  return LanguageUtil;\n}();\n\nvar sets = [{\n  lngs: ['ach', 'ak', 'am', 'arn', 'br', 'fil', 'gun', 'ln', 'mfe', 'mg', 'mi', 'oc', 'pt', 'pt-BR', 'tg', 'tl', 'ti', 'tr', 'uz', 'wa'],\n  nr: [1, 2],\n  fc: 1\n}, {\n  lngs: ['af', 'an', 'ast', 'az', 'bg', 'bn', 'ca', 'da', 'de', 'dev', 'el', 'en', 'eo', 'es', 'et', 'eu', 'fi', 'fo', 'fur', 'fy', 'gl', 'gu', 'ha', 'hi', 'hu', 'hy', 'ia', 'it', 'kk', 'kn', 'ku', 'lb', 'mai', 'ml', 'mn', 'mr', 'nah', 'nap', 'nb', 'ne', 'nl', 'nn', 'no', 'nso', 'pa', 'pap', 'pms', 'ps', 'pt-PT', 'rm', 'sco', 'se', 'si', 'so', 'son', 'sq', 'sv', 'sw', 'ta', 'te', 'tk', 'ur', 'yo'],\n  nr: [1, 2],\n  fc: 2\n}, {\n  lngs: ['ay', 'bo', 'cgg', 'fa', 'ht', 'id', 'ja', 'jbo', 'ka', 'km', 'ko', 'ky', 'lo', 'ms', 'sah', 'su', 'th', 'tt', 'ug', 'vi', 'wo', 'zh'],\n  nr: [1],\n  fc: 3\n}, {\n  lngs: ['be', 'bs', 'cnr', 'dz', 'hr', 'ru', 'sr', 'uk'],\n  nr: [1, 2, 5],\n  fc: 4\n}, {\n  lngs: ['ar'],\n  nr: [0, 1, 2, 3, 11, 100],\n  fc: 5\n}, {\n  lngs: ['cs', 'sk'],\n  nr: [1, 2, 5],\n  fc: 6\n}, {\n  lngs: ['csb', 'pl'],\n  nr: [1, 2, 5],\n  fc: 7\n}, {\n  lngs: ['cy'],\n  nr: [1, 2, 3, 8],\n  fc: 8\n}, {\n  lngs: ['fr'],\n  nr: [1, 2],\n  fc: 9\n}, {\n  lngs: ['ga'],\n  nr: [1, 2, 3, 7, 11],\n  fc: 10\n}, {\n  lngs: ['gd'],\n  nr: [1, 2, 3, 20],\n  fc: 11\n}, {\n  lngs: ['is'],\n  nr: [1, 2],\n  fc: 12\n}, {\n  lngs: ['jv'],\n  nr: [0, 1],\n  fc: 13\n}, {\n  lngs: ['kw'],\n  nr: [1, 2, 3, 4],\n  fc: 14\n}, {\n  lngs: ['lt'],\n  nr: [1, 2, 10],\n  fc: 15\n}, {\n  lngs: ['lv'],\n  nr: [1, 2, 0],\n  fc: 16\n}, {\n  lngs: ['mk'],\n  nr: [1, 2],\n  fc: 17\n}, {\n  lngs: ['mnk'],\n  nr: [0, 1, 2],\n  fc: 18\n}, {\n  lngs: ['mt'],\n  nr: [1, 2, 11, 20],\n  fc: 19\n}, {\n  lngs: ['or'],\n  nr: [2, 1],\n  fc: 2\n}, {\n  lngs: ['ro'],\n  nr: [1, 2, 20],\n  fc: 20\n}, {\n  lngs: ['sl'],\n  nr: [5, 1, 2, 3],\n  fc: 21\n}, {\n  lngs: ['he', 'iw'],\n  nr: [1, 2, 20, 21],\n  fc: 22\n}];\nvar _rulesPluralsTypes = {\n  1: function _(n) {\n    return Number(n > 1);\n  },\n  2: function _(n) {\n    return Number(n != 1);\n  },\n  3: function _(n) {\n    return 0;\n  },\n  4: function _(n) {\n    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);\n  },\n  5: function _(n) {\n    return Number(n == 0 ? 0 : n == 1 ? 1 : n == 2 ? 2 : n % 100 >= 3 && n % 100 <= 10 ? 3 : n % 100 >= 11 ? 4 : 5);\n  },\n  6: function _(n) {\n    return Number(n == 1 ? 0 : n >= 2 && n <= 4 ? 1 : 2);\n  },\n  7: function _(n) {\n    return Number(n == 1 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);\n  },\n  8: function _(n) {\n    return Number(n == 1 ? 0 : n == 2 ? 1 : n != 8 && n != 11 ? 2 : 3);\n  },\n  9: function _(n) {\n    return Number(n >= 2);\n  },\n  10: function _(n) {\n    return Number(n == 1 ? 0 : n == 2 ? 1 : n < 7 ? 2 : n < 11 ? 3 : 4);\n  },\n  11: function _(n) {\n    return Number(n == 1 || n == 11 ? 0 : n == 2 || n == 12 ? 1 : n > 2 && n < 20 ? 2 : 3);\n  },\n  12: function _(n) {\n    return Number(n % 10 != 1 || n % 100 == 11);\n  },\n  13: function _(n) {\n    return Number(n !== 0);\n  },\n  14: function _(n) {\n    return Number(n == 1 ? 0 : n == 2 ? 1 : n == 3 ? 2 : 3);\n  },\n  15: function _(n) {\n    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);\n  },\n  16: function _(n) {\n    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n !== 0 ? 1 : 2);\n  },\n  17: function _(n) {\n    return Number(n == 1 || n % 10 == 1 && n % 100 != 11 ? 0 : 1);\n  },\n  18: function _(n) {\n    return Number(n == 0 ? 0 : n == 1 ? 1 : 2);\n  },\n  19: function _(n) {\n    return Number(n == 1 ? 0 : n == 0 || n % 100 > 1 && n % 100 < 11 ? 1 : n % 100 > 10 && n % 100 < 20 ? 2 : 3);\n  },\n  20: function _(n) {\n    return Number(n == 1 ? 0 : n == 0 || n % 100 > 0 && n % 100 < 20 ? 1 : 2);\n  },\n  21: function _(n) {\n    return Number(n % 100 == 1 ? 1 : n % 100 == 2 ? 2 : n % 100 == 3 || n % 100 == 4 ? 3 : 0);\n  },\n  22: function _(n) {\n    return Number(n == 1 ? 0 : n == 2 ? 1 : (n < 0 || n > 10) && n % 10 == 0 ? 2 : 3);\n  }\n};\nvar deprecatedJsonVersions = ['v1', 'v2', 'v3'];\nvar suffixesOrder = {\n  zero: 0,\n  one: 1,\n  two: 2,\n  few: 3,\n  many: 4,\n  other: 5\n};\nfunction createRules() {\n  var rules = {};\n  sets.forEach(function (set) {\n    set.lngs.forEach(function (l) {\n      rules[l] = {\n        numbers: set.nr,\n        plurals: _rulesPluralsTypes[set.fc]\n      };\n    });\n  });\n  return rules;\n}\nvar PluralResolver = function () {\n  function PluralResolver(languageUtils) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    _classCallCheck(this, PluralResolver);\n    this.languageUtils = languageUtils;\n    this.options = options;\n    this.logger = baseLogger.create('pluralResolver');\n    if ((!this.options.compatibilityJSON || this.options.compatibilityJSON === 'v4') && (typeof Intl === 'undefined' || !Intl.PluralRules)) {\n      this.options.compatibilityJSON = 'v3';\n      this.logger.error('Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.');\n    }\n    this.rules = createRules();\n  }\n  _createClass(PluralResolver, [{\n    key: \"addRule\",\n    value: function addRule(lng, obj) {\n      this.rules[lng] = obj;\n    }\n  }, {\n    key: \"getRule\",\n    value: function getRule(code) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      if (this.shouldUseIntlApi()) {\n        try {\n          return new Intl.PluralRules(code, {\n            type: options.ordinal ? 'ordinal' : 'cardinal'\n          });\n        } catch (_unused) {\n          return;\n        }\n      }\n      return this.rules[code] || this.rules[this.languageUtils.getLanguagePartFromCode(code)];\n    }\n  }, {\n    key: \"needsPlural\",\n    value: function needsPlural(code) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var rule = this.getRule(code, options);\n      if (this.shouldUseIntlApi()) {\n        return rule && rule.resolvedOptions().pluralCategories.length > 1;\n      }\n      return rule && rule.numbers.length > 1;\n    }\n  }, {\n    key: \"getPluralFormsOfKey\",\n    value: function getPluralFormsOfKey(code, key) {\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      return this.getSuffixes(code, options).map(function (suffix) {\n        return \"\".concat(key).concat(suffix);\n      });\n    }\n  }, {\n    key: \"getSuffixes\",\n    value: function getSuffixes(code) {\n      var _this = this;\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var rule = this.getRule(code, options);\n      if (!rule) {\n        return [];\n      }\n      if (this.shouldUseIntlApi()) {\n        return rule.resolvedOptions().pluralCategories.sort(function (pluralCategory1, pluralCategory2) {\n          return suffixesOrder[pluralCategory1] - suffixesOrder[pluralCategory2];\n        }).map(function (pluralCategory) {\n          return \"\".concat(_this.options.prepend).concat(pluralCategory);\n        });\n      }\n      return rule.numbers.map(function (number) {\n        return _this.getSuffix(code, number, options);\n      });\n    }\n  }, {\n    key: \"getSuffix\",\n    value: function getSuffix(code, count) {\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      var rule = this.getRule(code, options);\n      if (rule) {\n        if (this.shouldUseIntlApi()) {\n          return \"\".concat(this.options.prepend).concat(rule.select(count));\n        }\n        return this.getSuffixRetroCompatible(rule, count);\n      }\n      this.logger.warn(\"no plural rule found for: \".concat(code));\n      return '';\n    }\n  }, {\n    key: \"getSuffixRetroCompatible\",\n    value: function getSuffixRetroCompatible(rule, count) {\n      var _this2 = this;\n      var idx = rule.noAbs ? rule.plurals(count) : rule.plurals(Math.abs(count));\n      var suffix = rule.numbers[idx];\n      if (this.options.simplifyPluralSuffix && rule.numbers.length === 2 && rule.numbers[0] === 1) {\n        if (suffix === 2) {\n          suffix = 'plural';\n        } else if (suffix === 1) {\n          suffix = '';\n        }\n      }\n      var returnSuffix = function returnSuffix() {\n        return _this2.options.prepend && suffix.toString() ? _this2.options.prepend + suffix.toString() : suffix.toString();\n      };\n      if (this.options.compatibilityJSON === 'v1') {\n        if (suffix === 1) return '';\n        if (typeof suffix === 'number') return \"_plural_\".concat(suffix.toString());\n        return returnSuffix();\n      } else if (this.options.compatibilityJSON === 'v2') {\n        return returnSuffix();\n      } else if (this.options.simplifyPluralSuffix && rule.numbers.length === 2 && rule.numbers[0] === 1) {\n        return returnSuffix();\n      }\n      return this.options.prepend && idx.toString() ? this.options.prepend + idx.toString() : idx.toString();\n    }\n  }, {\n    key: \"shouldUseIntlApi\",\n    value: function shouldUseIntlApi() {\n      return !deprecatedJsonVersions.includes(this.options.compatibilityJSON);\n    }\n  }]);\n  return PluralResolver;\n}();\n\nfunction ownKeys$3(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread$3(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$3(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$3(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction deepFindWithDefaults(data, defaultData, key) {\n  var keySeparator = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : '.';\n  var ignoreJSONStructure = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;\n  var path = getPathWithDefaults(data, defaultData, key);\n  if (!path && ignoreJSONStructure && typeof key === 'string') {\n    path = deepFind(data, key, keySeparator);\n    if (path === undefined) path = deepFind(defaultData, key, keySeparator);\n  }\n  return path;\n}\nvar Interpolator = function () {\n  function Interpolator() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    _classCallCheck(this, Interpolator);\n    this.logger = baseLogger.create('interpolator');\n    this.options = options;\n    this.format = options.interpolation && options.interpolation.format || function (value) {\n      return value;\n    };\n    this.init(options);\n  }\n  _createClass(Interpolator, [{\n    key: \"init\",\n    value: function init() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      if (!options.interpolation) options.interpolation = {\n        escapeValue: true\n      };\n      var iOpts = options.interpolation;\n      this.escape = iOpts.escape !== undefined ? iOpts.escape : escape;\n      this.escapeValue = iOpts.escapeValue !== undefined ? iOpts.escapeValue : true;\n      this.useRawValueToEscape = iOpts.useRawValueToEscape !== undefined ? iOpts.useRawValueToEscape : false;\n      this.prefix = iOpts.prefix ? regexEscape(iOpts.prefix) : iOpts.prefixEscaped || '{{';\n      this.suffix = iOpts.suffix ? regexEscape(iOpts.suffix) : iOpts.suffixEscaped || '}}';\n      this.formatSeparator = iOpts.formatSeparator ? iOpts.formatSeparator : iOpts.formatSeparator || ',';\n      this.unescapePrefix = iOpts.unescapeSuffix ? '' : iOpts.unescapePrefix || '-';\n      this.unescapeSuffix = this.unescapePrefix ? '' : iOpts.unescapeSuffix || '';\n      this.nestingPrefix = iOpts.nestingPrefix ? regexEscape(iOpts.nestingPrefix) : iOpts.nestingPrefixEscaped || regexEscape('$t(');\n      this.nestingSuffix = iOpts.nestingSuffix ? regexEscape(iOpts.nestingSuffix) : iOpts.nestingSuffixEscaped || regexEscape(')');\n      this.nestingOptionsSeparator = iOpts.nestingOptionsSeparator ? iOpts.nestingOptionsSeparator : iOpts.nestingOptionsSeparator || ',';\n      this.maxReplaces = iOpts.maxReplaces ? iOpts.maxReplaces : 1000;\n      this.alwaysFormat = iOpts.alwaysFormat !== undefined ? iOpts.alwaysFormat : false;\n      this.resetRegExp();\n    }\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      if (this.options) this.init(this.options);\n    }\n  }, {\n    key: \"resetRegExp\",\n    value: function resetRegExp() {\n      var regexpStr = \"\".concat(this.prefix, \"(.+?)\").concat(this.suffix);\n      this.regexp = new RegExp(regexpStr, 'g');\n      var regexpUnescapeStr = \"\".concat(this.prefix).concat(this.unescapePrefix, \"(.+?)\").concat(this.unescapeSuffix).concat(this.suffix);\n      this.regexpUnescape = new RegExp(regexpUnescapeStr, 'g');\n      var nestingRegexpStr = \"\".concat(this.nestingPrefix, \"(.+?)\").concat(this.nestingSuffix);\n      this.nestingRegexp = new RegExp(nestingRegexpStr, 'g');\n    }\n  }, {\n    key: \"interpolate\",\n    value: function interpolate(str, data, lng, options) {\n      var _this = this;\n      var match;\n      var value;\n      var replaces;\n      var defaultData = this.options && this.options.interpolation && this.options.interpolation.defaultVariables || {};\n      function regexSafe(val) {\n        return val.replace(/\\$/g, '$$$$');\n      }\n      var handleFormat = function handleFormat(key) {\n        if (key.indexOf(_this.formatSeparator) < 0) {\n          var path = deepFindWithDefaults(data, defaultData, key, _this.options.keySeparator, _this.options.ignoreJSONStructure);\n          return _this.alwaysFormat ? _this.format(path, undefined, lng, _objectSpread$3(_objectSpread$3(_objectSpread$3({}, options), data), {}, {\n            interpolationkey: key\n          })) : path;\n        }\n        var p = key.split(_this.formatSeparator);\n        var k = p.shift().trim();\n        var f = p.join(_this.formatSeparator).trim();\n        return _this.format(deepFindWithDefaults(data, defaultData, k, _this.options.keySeparator, _this.options.ignoreJSONStructure), f, lng, _objectSpread$3(_objectSpread$3(_objectSpread$3({}, options), data), {}, {\n          interpolationkey: k\n        }));\n      };\n      this.resetRegExp();\n      var missingInterpolationHandler = options && options.missingInterpolationHandler || this.options.missingInterpolationHandler;\n      var skipOnVariables = options && options.interpolation && options.interpolation.skipOnVariables !== undefined ? options.interpolation.skipOnVariables : this.options.interpolation.skipOnVariables;\n      var todos = [{\n        regex: this.regexpUnescape,\n        safeValue: function safeValue(val) {\n          return regexSafe(val);\n        }\n      }, {\n        regex: this.regexp,\n        safeValue: function safeValue(val) {\n          return _this.escapeValue ? regexSafe(_this.escape(val)) : regexSafe(val);\n        }\n      }];\n      todos.forEach(function (todo) {\n        replaces = 0;\n        while (match = todo.regex.exec(str)) {\n          var matchedVar = match[1].trim();\n          value = handleFormat(matchedVar);\n          if (value === undefined) {\n            if (typeof missingInterpolationHandler === 'function') {\n              var temp = missingInterpolationHandler(str, match, options);\n              value = typeof temp === 'string' ? temp : '';\n            } else if (options && Object.prototype.hasOwnProperty.call(options, matchedVar)) {\n              value = '';\n            } else if (skipOnVariables) {\n              value = match[0];\n              continue;\n            } else {\n              _this.logger.warn(\"missed to pass in variable \".concat(matchedVar, \" for interpolating \").concat(str));\n              value = '';\n            }\n          } else if (typeof value !== 'string' && !_this.useRawValueToEscape) {\n            value = makeString(value);\n          }\n          var safeValue = todo.safeValue(value);\n          str = str.replace(match[0], safeValue);\n          if (skipOnVariables) {\n            todo.regex.lastIndex += value.length;\n            todo.regex.lastIndex -= match[0].length;\n          } else {\n            todo.regex.lastIndex = 0;\n          }\n          replaces++;\n          if (replaces >= _this.maxReplaces) {\n            break;\n          }\n        }\n      });\n      return str;\n    }\n  }, {\n    key: \"nest\",\n    value: function nest(str, fc) {\n      var _this2 = this;\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      var match;\n      var value;\n      var clonedOptions;\n      function handleHasOptions(key, inheritedOptions) {\n        var sep = this.nestingOptionsSeparator;\n        if (key.indexOf(sep) < 0) return key;\n        var c = key.split(new RegExp(\"\".concat(sep, \"[ ]*{\")));\n        var optionsString = \"{\".concat(c[1]);\n        key = c[0];\n        optionsString = this.interpolate(optionsString, clonedOptions);\n        var matchedSingleQuotes = optionsString.match(/'/g);\n        var matchedDoubleQuotes = optionsString.match(/\"/g);\n        if (matchedSingleQuotes && matchedSingleQuotes.length % 2 === 0 && !matchedDoubleQuotes || matchedDoubleQuotes.length % 2 !== 0) {\n          optionsString = optionsString.replace(/'/g, '\"');\n        }\n        try {\n          clonedOptions = JSON.parse(optionsString);\n          if (inheritedOptions) clonedOptions = _objectSpread$3(_objectSpread$3({}, inheritedOptions), clonedOptions);\n        } catch (e) {\n          this.logger.warn(\"failed parsing options string in nesting for key \".concat(key), e);\n          return \"\".concat(key).concat(sep).concat(optionsString);\n        }\n        delete clonedOptions.defaultValue;\n        return key;\n      }\n      while (match = this.nestingRegexp.exec(str)) {\n        var formatters = [];\n        clonedOptions = _objectSpread$3({}, options);\n        clonedOptions = clonedOptions.replace && typeof clonedOptions.replace !== 'string' ? clonedOptions.replace : clonedOptions;\n        clonedOptions.applyPostProcessor = false;\n        delete clonedOptions.defaultValue;\n        var doReduce = false;\n        if (match[0].indexOf(this.formatSeparator) !== -1 && !/{.*}/.test(match[1])) {\n          var r = match[1].split(this.formatSeparator).map(function (elem) {\n            return elem.trim();\n          });\n          match[1] = r.shift();\n          formatters = r;\n          doReduce = true;\n        }\n        value = fc(handleHasOptions.call(this, match[1].trim(), clonedOptions), clonedOptions);\n        if (value && match[0] === str && typeof value !== 'string') return value;\n        if (typeof value !== 'string') value = makeString(value);\n        if (!value) {\n          this.logger.warn(\"missed to resolve \".concat(match[1], \" for nesting \").concat(str));\n          value = '';\n        }\n        if (doReduce) {\n          value = formatters.reduce(function (v, f) {\n            return _this2.format(v, f, options.lng, _objectSpread$3(_objectSpread$3({}, options), {}, {\n              interpolationkey: match[1].trim()\n            }));\n          }, value.trim());\n        }\n        str = str.replace(match[0], value);\n        this.regexp.lastIndex = 0;\n      }\n      return str;\n    }\n  }]);\n  return Interpolator;\n}();\n\nfunction ownKeys$2(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread$2(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$2(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$2(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction parseFormatStr(formatStr) {\n  var formatName = formatStr.toLowerCase().trim();\n  var formatOptions = {};\n  if (formatStr.indexOf('(') > -1) {\n    var p = formatStr.split('(');\n    formatName = p[0].toLowerCase().trim();\n    var optStr = p[1].substring(0, p[1].length - 1);\n    if (formatName === 'currency' && optStr.indexOf(':') < 0) {\n      if (!formatOptions.currency) formatOptions.currency = optStr.trim();\n    } else if (formatName === 'relativetime' && optStr.indexOf(':') < 0) {\n      if (!formatOptions.range) formatOptions.range = optStr.trim();\n    } else {\n      var opts = optStr.split(';');\n      opts.forEach(function (opt) {\n        if (!opt) return;\n        var _opt$split = opt.split(':'),\n          _opt$split2 = _toArray(_opt$split),\n          key = _opt$split2[0],\n          rest = _opt$split2.slice(1);\n        var val = rest.join(':').trim().replace(/^'+|'+$/g, '');\n        if (!formatOptions[key.trim()]) formatOptions[key.trim()] = val;\n        if (val === 'false') formatOptions[key.trim()] = false;\n        if (val === 'true') formatOptions[key.trim()] = true;\n        if (!isNaN(val)) formatOptions[key.trim()] = parseInt(val, 10);\n      });\n    }\n  }\n  return {\n    formatName: formatName,\n    formatOptions: formatOptions\n  };\n}\nfunction createCachedFormatter(fn) {\n  var cache = {};\n  return function invokeFormatter(val, lng, options) {\n    var key = lng + JSON.stringify(options);\n    var formatter = cache[key];\n    if (!formatter) {\n      formatter = fn(lng, options);\n      cache[key] = formatter;\n    }\n    return formatter(val);\n  };\n}\nvar Formatter = function () {\n  function Formatter() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    _classCallCheck(this, Formatter);\n    this.logger = baseLogger.create('formatter');\n    this.options = options;\n    this.formats = {\n      number: createCachedFormatter(function (lng, opt) {\n        var formatter = new Intl.NumberFormat(lng, _objectSpread$2({}, opt));\n        return function (val) {\n          return formatter.format(val);\n        };\n      }),\n      currency: createCachedFormatter(function (lng, opt) {\n        var formatter = new Intl.NumberFormat(lng, _objectSpread$2(_objectSpread$2({}, opt), {}, {\n          style: 'currency'\n        }));\n        return function (val) {\n          return formatter.format(val);\n        };\n      }),\n      datetime: createCachedFormatter(function (lng, opt) {\n        var formatter = new Intl.DateTimeFormat(lng, _objectSpread$2({}, opt));\n        return function (val) {\n          return formatter.format(val);\n        };\n      }),\n      relativetime: createCachedFormatter(function (lng, opt) {\n        var formatter = new Intl.RelativeTimeFormat(lng, _objectSpread$2({}, opt));\n        return function (val) {\n          return formatter.format(val, opt.range || 'day');\n        };\n      }),\n      list: createCachedFormatter(function (lng, opt) {\n        var formatter = new Intl.ListFormat(lng, _objectSpread$2({}, opt));\n        return function (val) {\n          return formatter.format(val);\n        };\n      })\n    };\n    this.init(options);\n  }\n  _createClass(Formatter, [{\n    key: \"init\",\n    value: function init(services) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n        interpolation: {}\n      };\n      var iOpts = options.interpolation;\n      this.formatSeparator = iOpts.formatSeparator ? iOpts.formatSeparator : iOpts.formatSeparator || ',';\n    }\n  }, {\n    key: \"add\",\n    value: function add(name, fc) {\n      this.formats[name.toLowerCase().trim()] = fc;\n    }\n  }, {\n    key: \"addCached\",\n    value: function addCached(name, fc) {\n      this.formats[name.toLowerCase().trim()] = createCachedFormatter(fc);\n    }\n  }, {\n    key: \"format\",\n    value: function format(value, _format, lng) {\n      var _this = this;\n      var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n      var formats = _format.split(this.formatSeparator);\n      var result = formats.reduce(function (mem, f) {\n        var _parseFormatStr = parseFormatStr(f),\n          formatName = _parseFormatStr.formatName,\n          formatOptions = _parseFormatStr.formatOptions;\n        if (_this.formats[formatName]) {\n          var formatted = mem;\n          try {\n            var valOptions = options && options.formatParams && options.formatParams[options.interpolationkey] || {};\n            var l = valOptions.locale || valOptions.lng || options.locale || options.lng || lng;\n            formatted = _this.formats[formatName](mem, l, _objectSpread$2(_objectSpread$2(_objectSpread$2({}, formatOptions), options), valOptions));\n          } catch (error) {\n            _this.logger.warn(error);\n          }\n          return formatted;\n        } else {\n          _this.logger.warn(\"there was no format function for \".concat(formatName));\n        }\n        return mem;\n      }, value);\n      return result;\n    }\n  }]);\n  return Formatter;\n}();\n\nfunction ownKeys$1(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread$1(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$1(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$1(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _createSuper$1(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct$1(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct$1() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction removePending(q, name) {\n  if (q.pending[name] !== undefined) {\n    delete q.pending[name];\n    q.pendingCount--;\n  }\n}\nvar Connector = function (_EventEmitter) {\n  _inherits(Connector, _EventEmitter);\n  var _super = _createSuper$1(Connector);\n  function Connector(backend, store, services) {\n    var _this;\n    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n    _classCallCheck(this, Connector);\n    _this = _super.call(this);\n    if (isIE10) {\n      EventEmitter.call(_assertThisInitialized(_this));\n    }\n    _this.backend = backend;\n    _this.store = store;\n    _this.services = services;\n    _this.languageUtils = services.languageUtils;\n    _this.options = options;\n    _this.logger = baseLogger.create('backendConnector');\n    _this.waitingReads = [];\n    _this.maxParallelReads = options.maxParallelReads || 10;\n    _this.readingCalls = 0;\n    _this.maxRetries = options.maxRetries >= 0 ? options.maxRetries : 5;\n    _this.retryTimeout = options.retryTimeout >= 1 ? options.retryTimeout : 350;\n    _this.state = {};\n    _this.queue = [];\n    if (_this.backend && _this.backend.init) {\n      _this.backend.init(services, options.backend, options);\n    }\n    return _this;\n  }\n  _createClass(Connector, [{\n    key: \"queueLoad\",\n    value: function queueLoad(languages, namespaces, options, callback) {\n      var _this2 = this;\n      var toLoad = {};\n      var pending = {};\n      var toLoadLanguages = {};\n      var toLoadNamespaces = {};\n      languages.forEach(function (lng) {\n        var hasAllNamespaces = true;\n        namespaces.forEach(function (ns) {\n          var name = \"\".concat(lng, \"|\").concat(ns);\n          if (!options.reload && _this2.store.hasResourceBundle(lng, ns)) {\n            _this2.state[name] = 2;\n          } else if (_this2.state[name] < 0) ; else if (_this2.state[name] === 1) {\n            if (pending[name] === undefined) pending[name] = true;\n          } else {\n            _this2.state[name] = 1;\n            hasAllNamespaces = false;\n            if (pending[name] === undefined) pending[name] = true;\n            if (toLoad[name] === undefined) toLoad[name] = true;\n            if (toLoadNamespaces[ns] === undefined) toLoadNamespaces[ns] = true;\n          }\n        });\n        if (!hasAllNamespaces) toLoadLanguages[lng] = true;\n      });\n      if (Object.keys(toLoad).length || Object.keys(pending).length) {\n        this.queue.push({\n          pending: pending,\n          pendingCount: Object.keys(pending).length,\n          loaded: {},\n          errors: [],\n          callback: callback\n        });\n      }\n      return {\n        toLoad: Object.keys(toLoad),\n        pending: Object.keys(pending),\n        toLoadLanguages: Object.keys(toLoadLanguages),\n        toLoadNamespaces: Object.keys(toLoadNamespaces)\n      };\n    }\n  }, {\n    key: \"loaded\",\n    value: function loaded(name, err, data) {\n      var s = name.split('|');\n      var lng = s[0];\n      var ns = s[1];\n      if (err) this.emit('failedLoading', lng, ns, err);\n      if (data) {\n        this.store.addResourceBundle(lng, ns, data);\n      }\n      this.state[name] = err ? -1 : 2;\n      var loaded = {};\n      this.queue.forEach(function (q) {\n        pushPath(q.loaded, [lng], ns);\n        removePending(q, name);\n        if (err) q.errors.push(err);\n        if (q.pendingCount === 0 && !q.done) {\n          Object.keys(q.loaded).forEach(function (l) {\n            if (!loaded[l]) loaded[l] = {};\n            var loadedKeys = q.loaded[l];\n            if (loadedKeys.length) {\n              loadedKeys.forEach(function (n) {\n                if (loaded[l][n] === undefined) loaded[l][n] = true;\n              });\n            }\n          });\n          q.done = true;\n          if (q.errors.length) {\n            q.callback(q.errors);\n          } else {\n            q.callback();\n          }\n        }\n      });\n      this.emit('loaded', loaded);\n      this.queue = this.queue.filter(function (q) {\n        return !q.done;\n      });\n    }\n  }, {\n    key: \"read\",\n    value: function read(lng, ns, fcName) {\n      var _this3 = this;\n      var tried = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n      var wait = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : this.retryTimeout;\n      var callback = arguments.length > 5 ? arguments[5] : undefined;\n      if (!lng.length) return callback(null, {});\n      if (this.readingCalls >= this.maxParallelReads) {\n        this.waitingReads.push({\n          lng: lng,\n          ns: ns,\n          fcName: fcName,\n          tried: tried,\n          wait: wait,\n          callback: callback\n        });\n        return;\n      }\n      this.readingCalls++;\n      var resolver = function resolver(err, data) {\n        _this3.readingCalls--;\n        if (_this3.waitingReads.length > 0) {\n          var next = _this3.waitingReads.shift();\n          _this3.read(next.lng, next.ns, next.fcName, next.tried, next.wait, next.callback);\n        }\n        if (err && data && tried < _this3.maxRetries) {\n          setTimeout(function () {\n            _this3.read.call(_this3, lng, ns, fcName, tried + 1, wait * 2, callback);\n          }, wait);\n          return;\n        }\n        callback(err, data);\n      };\n      var fc = this.backend[fcName].bind(this.backend);\n      if (fc.length === 2) {\n        try {\n          var r = fc(lng, ns);\n          if (r && typeof r.then === 'function') {\n            r.then(function (data) {\n              return resolver(null, data);\n            })[\"catch\"](resolver);\n          } else {\n            resolver(null, r);\n          }\n        } catch (err) {\n          resolver(err);\n        }\n        return;\n      }\n      return fc(lng, ns, resolver);\n    }\n  }, {\n    key: \"prepareLoading\",\n    value: function prepareLoading(languages, namespaces) {\n      var _this4 = this;\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      var callback = arguments.length > 3 ? arguments[3] : undefined;\n      if (!this.backend) {\n        this.logger.warn('No backend was added via i18next.use. Will not load resources.');\n        return callback && callback();\n      }\n      if (typeof languages === 'string') languages = this.languageUtils.toResolveHierarchy(languages);\n      if (typeof namespaces === 'string') namespaces = [namespaces];\n      var toLoad = this.queueLoad(languages, namespaces, options, callback);\n      if (!toLoad.toLoad.length) {\n        if (!toLoad.pending.length) callback();\n        return null;\n      }\n      toLoad.toLoad.forEach(function (name) {\n        _this4.loadOne(name);\n      });\n    }\n  }, {\n    key: \"load\",\n    value: function load(languages, namespaces, callback) {\n      this.prepareLoading(languages, namespaces, {}, callback);\n    }\n  }, {\n    key: \"reload\",\n    value: function reload(languages, namespaces, callback) {\n      this.prepareLoading(languages, namespaces, {\n        reload: true\n      }, callback);\n    }\n  }, {\n    key: \"loadOne\",\n    value: function loadOne(name) {\n      var _this5 = this;\n      var prefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n      var s = name.split('|');\n      var lng = s[0];\n      var ns = s[1];\n      this.read(lng, ns, 'read', undefined, undefined, function (err, data) {\n        if (err) _this5.logger.warn(\"\".concat(prefix, \"loading namespace \").concat(ns, \" for language \").concat(lng, \" failed\"), err);\n        if (!err && data) _this5.logger.log(\"\".concat(prefix, \"loaded namespace \").concat(ns, \" for language \").concat(lng), data);\n        _this5.loaded(name, err, data);\n      });\n    }\n  }, {\n    key: \"saveMissing\",\n    value: function saveMissing(languages, namespace, key, fallbackValue, isUpdate) {\n      var options = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : {};\n      var clb = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : function () {};\n      if (this.services.utils && this.services.utils.hasLoadedNamespace && !this.services.utils.hasLoadedNamespace(namespace)) {\n        this.logger.warn(\"did not save key \\\"\".concat(key, \"\\\" as the namespace \\\"\").concat(namespace, \"\\\" was not yet loaded\"), 'This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!');\n        return;\n      }\n      if (key === undefined || key === null || key === '') return;\n      if (this.backend && this.backend.create) {\n        var opts = _objectSpread$1(_objectSpread$1({}, options), {}, {\n          isUpdate: isUpdate\n        });\n        var fc = this.backend.create.bind(this.backend);\n        if (fc.length < 6) {\n          try {\n            var r;\n            if (fc.length === 5) {\n              r = fc(languages, namespace, key, fallbackValue, opts);\n            } else {\n              r = fc(languages, namespace, key, fallbackValue);\n            }\n            if (r && typeof r.then === 'function') {\n              r.then(function (data) {\n                return clb(null, data);\n              })[\"catch\"](clb);\n            } else {\n              clb(null, r);\n            }\n          } catch (err) {\n            clb(err);\n          }\n        } else {\n          fc(languages, namespace, key, fallbackValue, clb, opts);\n        }\n      }\n      if (!languages || !languages[0]) return;\n      this.store.addResource(languages[0], namespace, key, fallbackValue);\n    }\n  }]);\n  return Connector;\n}(EventEmitter);\n\nfunction get() {\n  return {\n    debug: false,\n    initImmediate: true,\n    ns: ['translation'],\n    defaultNS: ['translation'],\n    fallbackLng: ['dev'],\n    fallbackNS: false,\n    supportedLngs: false,\n    nonExplicitSupportedLngs: false,\n    load: 'all',\n    preload: false,\n    simplifyPluralSuffix: true,\n    keySeparator: '.',\n    nsSeparator: ':',\n    pluralSeparator: '_',\n    contextSeparator: '_',\n    partialBundledLanguages: false,\n    saveMissing: false,\n    updateMissing: false,\n    saveMissingTo: 'fallback',\n    saveMissingPlurals: true,\n    missingKeyHandler: false,\n    missingInterpolationHandler: false,\n    postProcess: false,\n    postProcessPassResolved: false,\n    returnNull: true,\n    returnEmptyString: true,\n    returnObjects: false,\n    joinArrays: false,\n    returnedObjectHandler: false,\n    parseMissingKeyHandler: false,\n    appendNamespaceToMissingKey: false,\n    appendNamespaceToCIMode: false,\n    overloadTranslationOptionHandler: function handle(args) {\n      var ret = {};\n      if (_typeof(args[1]) === 'object') ret = args[1];\n      if (typeof args[1] === 'string') ret.defaultValue = args[1];\n      if (typeof args[2] === 'string') ret.tDescription = args[2];\n      if (_typeof(args[2]) === 'object' || _typeof(args[3]) === 'object') {\n        var options = args[3] || args[2];\n        Object.keys(options).forEach(function (key) {\n          ret[key] = options[key];\n        });\n      }\n      return ret;\n    },\n    interpolation: {\n      escapeValue: true,\n      format: function format(value, _format, lng, options) {\n        return value;\n      },\n      prefix: '{{',\n      suffix: '}}',\n      formatSeparator: ',',\n      unescapePrefix: '-',\n      nestingPrefix: '$t(',\n      nestingSuffix: ')',\n      nestingOptionsSeparator: ',',\n      maxReplaces: 1000,\n      skipOnVariables: true\n    }\n  };\n}\nfunction transformOptions(options) {\n  if (typeof options.ns === 'string') options.ns = [options.ns];\n  if (typeof options.fallbackLng === 'string') options.fallbackLng = [options.fallbackLng];\n  if (typeof options.fallbackNS === 'string') options.fallbackNS = [options.fallbackNS];\n  if (options.supportedLngs && options.supportedLngs.indexOf('cimode') < 0) {\n    options.supportedLngs = options.supportedLngs.concat(['cimode']);\n  }\n  return options;\n}\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction noop() {}\nfunction bindMemberFunctions(inst) {\n  var mems = Object.getOwnPropertyNames(Object.getPrototypeOf(inst));\n  mems.forEach(function (mem) {\n    if (typeof inst[mem] === 'function') {\n      inst[mem] = inst[mem].bind(inst);\n    }\n  });\n}\nvar I18n = function (_EventEmitter) {\n  _inherits(I18n, _EventEmitter);\n  var _super = _createSuper(I18n);\n  function I18n() {\n    var _this;\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var callback = arguments.length > 1 ? arguments[1] : undefined;\n    _classCallCheck(this, I18n);\n    _this = _super.call(this);\n    if (isIE10) {\n      EventEmitter.call(_assertThisInitialized(_this));\n    }\n    _this.options = transformOptions(options);\n    _this.services = {};\n    _this.logger = baseLogger;\n    _this.modules = {\n      external: []\n    };\n    bindMemberFunctions(_assertThisInitialized(_this));\n    if (callback && !_this.isInitialized && !options.isClone) {\n      if (!_this.options.initImmediate) {\n        _this.init(options, callback);\n        return _possibleConstructorReturn(_this, _assertThisInitialized(_this));\n      }\n      setTimeout(function () {\n        _this.init(options, callback);\n      }, 0);\n    }\n    return _this;\n  }\n  _createClass(I18n, [{\n    key: \"init\",\n    value: function init() {\n      var _this2 = this;\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var callback = arguments.length > 1 ? arguments[1] : undefined;\n      if (typeof options === 'function') {\n        callback = options;\n        options = {};\n      }\n      if (!options.defaultNS && options.defaultNS !== false && options.ns) {\n        if (typeof options.ns === 'string') {\n          options.defaultNS = options.ns;\n        } else if (options.ns.indexOf('translation') < 0) {\n          options.defaultNS = options.ns[0];\n        }\n      }\n      var defOpts = get();\n      this.options = _objectSpread(_objectSpread(_objectSpread({}, defOpts), this.options), transformOptions(options));\n      if (this.options.compatibilityAPI !== 'v1') {\n        this.options.interpolation = _objectSpread(_objectSpread({}, defOpts.interpolation), this.options.interpolation);\n      }\n      if (options.keySeparator !== undefined) {\n        this.options.userDefinedKeySeparator = options.keySeparator;\n      }\n      if (options.nsSeparator !== undefined) {\n        this.options.userDefinedNsSeparator = options.nsSeparator;\n      }\n      function createClassOnDemand(ClassOrObject) {\n        if (!ClassOrObject) return null;\n        if (typeof ClassOrObject === 'function') return new ClassOrObject();\n        return ClassOrObject;\n      }\n      if (!this.options.isClone) {\n        if (this.modules.logger) {\n          baseLogger.init(createClassOnDemand(this.modules.logger), this.options);\n        } else {\n          baseLogger.init(null, this.options);\n        }\n        var formatter;\n        if (this.modules.formatter) {\n          formatter = this.modules.formatter;\n        } else if (typeof Intl !== 'undefined') {\n          formatter = Formatter;\n        }\n        var lu = new LanguageUtil(this.options);\n        this.store = new ResourceStore(this.options.resources, this.options);\n        var s = this.services;\n        s.logger = baseLogger;\n        s.resourceStore = this.store;\n        s.languageUtils = lu;\n        s.pluralResolver = new PluralResolver(lu, {\n          prepend: this.options.pluralSeparator,\n          compatibilityJSON: this.options.compatibilityJSON,\n          simplifyPluralSuffix: this.options.simplifyPluralSuffix\n        });\n        if (formatter && (!this.options.interpolation.format || this.options.interpolation.format === defOpts.interpolation.format)) {\n          s.formatter = createClassOnDemand(formatter);\n          s.formatter.init(s, this.options);\n          this.options.interpolation.format = s.formatter.format.bind(s.formatter);\n        }\n        s.interpolator = new Interpolator(this.options);\n        s.utils = {\n          hasLoadedNamespace: this.hasLoadedNamespace.bind(this)\n        };\n        s.backendConnector = new Connector(createClassOnDemand(this.modules.backend), s.resourceStore, s, this.options);\n        s.backendConnector.on('*', function (event) {\n          for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n            args[_key - 1] = arguments[_key];\n          }\n          _this2.emit.apply(_this2, [event].concat(args));\n        });\n        if (this.modules.languageDetector) {\n          s.languageDetector = createClassOnDemand(this.modules.languageDetector);\n          if (s.languageDetector.init) s.languageDetector.init(s, this.options.detection, this.options);\n        }\n        if (this.modules.i18nFormat) {\n          s.i18nFormat = createClassOnDemand(this.modules.i18nFormat);\n          if (s.i18nFormat.init) s.i18nFormat.init(this);\n        }\n        this.translator = new Translator(this.services, this.options);\n        this.translator.on('*', function (event) {\n          for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n            args[_key2 - 1] = arguments[_key2];\n          }\n          _this2.emit.apply(_this2, [event].concat(args));\n        });\n        this.modules.external.forEach(function (m) {\n          if (m.init) m.init(_this2);\n        });\n      }\n      this.format = this.options.interpolation.format;\n      if (!callback) callback = noop;\n      if (this.options.fallbackLng && !this.services.languageDetector && !this.options.lng) {\n        var codes = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);\n        if (codes.length > 0 && codes[0] !== 'dev') this.options.lng = codes[0];\n      }\n      if (!this.services.languageDetector && !this.options.lng) {\n        this.logger.warn('init: no languageDetector is used and no lng is defined');\n      }\n      var storeApi = ['getResource', 'hasResourceBundle', 'getResourceBundle', 'getDataByLanguage'];\n      storeApi.forEach(function (fcName) {\n        _this2[fcName] = function () {\n          var _this2$store;\n          return (_this2$store = _this2.store)[fcName].apply(_this2$store, arguments);\n        };\n      });\n      var storeApiChained = ['addResource', 'addResources', 'addResourceBundle', 'removeResourceBundle'];\n      storeApiChained.forEach(function (fcName) {\n        _this2[fcName] = function () {\n          var _this2$store2;\n          (_this2$store2 = _this2.store)[fcName].apply(_this2$store2, arguments);\n          return _this2;\n        };\n      });\n      var deferred = defer();\n      var load = function load() {\n        var finish = function finish(err, t) {\n          if (_this2.isInitialized && !_this2.initializedStoreOnce) _this2.logger.warn('init: i18next is already initialized. You should call init just once!');\n          _this2.isInitialized = true;\n          if (!_this2.options.isClone) _this2.logger.log('initialized', _this2.options);\n          _this2.emit('initialized', _this2.options);\n          deferred.resolve(t);\n          callback(err, t);\n        };\n        if (_this2.languages && _this2.options.compatibilityAPI !== 'v1' && !_this2.isInitialized) return finish(null, _this2.t.bind(_this2));\n        _this2.changeLanguage(_this2.options.lng, finish);\n      };\n      if (this.options.resources || !this.options.initImmediate) {\n        load();\n      } else {\n        setTimeout(load, 0);\n      }\n      return deferred;\n    }\n  }, {\n    key: \"loadResources\",\n    value: function loadResources(language) {\n      var _this3 = this;\n      var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n      var usedCallback = callback;\n      var usedLng = typeof language === 'string' ? language : this.language;\n      if (typeof language === 'function') usedCallback = language;\n      if (!this.options.resources || this.options.partialBundledLanguages) {\n        if (usedLng && usedLng.toLowerCase() === 'cimode') return usedCallback();\n        var toLoad = [];\n        var append = function append(lng) {\n          if (!lng) return;\n          var lngs = _this3.services.languageUtils.toResolveHierarchy(lng);\n          lngs.forEach(function (l) {\n            if (toLoad.indexOf(l) < 0) toLoad.push(l);\n          });\n        };\n        if (!usedLng) {\n          var fallbacks = this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);\n          fallbacks.forEach(function (l) {\n            return append(l);\n          });\n        } else {\n          append(usedLng);\n        }\n        if (this.options.preload) {\n          this.options.preload.forEach(function (l) {\n            return append(l);\n          });\n        }\n        this.services.backendConnector.load(toLoad, this.options.ns, function (e) {\n          if (!e && !_this3.resolvedLanguage && _this3.language) _this3.setResolvedLanguage(_this3.language);\n          usedCallback(e);\n        });\n      } else {\n        usedCallback(null);\n      }\n    }\n  }, {\n    key: \"reloadResources\",\n    value: function reloadResources(lngs, ns, callback) {\n      var deferred = defer();\n      if (!lngs) lngs = this.languages;\n      if (!ns) ns = this.options.ns;\n      if (!callback) callback = noop;\n      this.services.backendConnector.reload(lngs, ns, function (err) {\n        deferred.resolve();\n        callback(err);\n      });\n      return deferred;\n    }\n  }, {\n    key: \"use\",\n    value: function use(module) {\n      if (!module) throw new Error('You are passing an undefined module! Please check the object you are passing to i18next.use()');\n      if (!module.type) throw new Error('You are passing a wrong module! Please check the object you are passing to i18next.use()');\n      if (module.type === 'backend') {\n        this.modules.backend = module;\n      }\n      if (module.type === 'logger' || module.log && module.warn && module.error) {\n        this.modules.logger = module;\n      }\n      if (module.type === 'languageDetector') {\n        this.modules.languageDetector = module;\n      }\n      if (module.type === 'i18nFormat') {\n        this.modules.i18nFormat = module;\n      }\n      if (module.type === 'postProcessor') {\n        postProcessor.addPostProcessor(module);\n      }\n      if (module.type === 'formatter') {\n        this.modules.formatter = module;\n      }\n      if (module.type === '3rdParty') {\n        this.modules.external.push(module);\n      }\n      return this;\n    }\n  }, {\n    key: \"setResolvedLanguage\",\n    value: function setResolvedLanguage(l) {\n      if (!l || !this.languages) return;\n      if (['cimode', 'dev'].indexOf(l) > -1) return;\n      for (var li = 0; li < this.languages.length; li++) {\n        var lngInLngs = this.languages[li];\n        if (['cimode', 'dev'].indexOf(lngInLngs) > -1) continue;\n        if (this.store.hasLanguageSomeTranslations(lngInLngs)) {\n          this.resolvedLanguage = lngInLngs;\n          break;\n        }\n      }\n    }\n  }, {\n    key: \"changeLanguage\",\n    value: function changeLanguage(lng, callback) {\n      var _this4 = this;\n      this.isLanguageChangingTo = lng;\n      var deferred = defer();\n      this.emit('languageChanging', lng);\n      var setLngProps = function setLngProps(l) {\n        _this4.language = l;\n        _this4.languages = _this4.services.languageUtils.toResolveHierarchy(l);\n        _this4.resolvedLanguage = undefined;\n        _this4.setResolvedLanguage(l);\n      };\n      var done = function done(err, l) {\n        if (l) {\n          setLngProps(l);\n          _this4.translator.changeLanguage(l);\n          _this4.isLanguageChangingTo = undefined;\n          _this4.emit('languageChanged', l);\n          _this4.logger.log('languageChanged', l);\n        } else {\n          _this4.isLanguageChangingTo = undefined;\n        }\n        deferred.resolve(function () {\n          return _this4.t.apply(_this4, arguments);\n        });\n        if (callback) callback(err, function () {\n          return _this4.t.apply(_this4, arguments);\n        });\n      };\n      var setLng = function setLng(lngs) {\n        if (!lng && !lngs && _this4.services.languageDetector) lngs = [];\n        var l = typeof lngs === 'string' ? lngs : _this4.services.languageUtils.getBestMatchFromCodes(lngs);\n        if (l) {\n          if (!_this4.language) {\n            setLngProps(l);\n          }\n          if (!_this4.translator.language) _this4.translator.changeLanguage(l);\n          if (_this4.services.languageDetector && _this4.services.languageDetector.cacheUserLanguage) _this4.services.languageDetector.cacheUserLanguage(l);\n        }\n        _this4.loadResources(l, function (err) {\n          done(err, l);\n        });\n      };\n      if (!lng && this.services.languageDetector && !this.services.languageDetector.async) {\n        setLng(this.services.languageDetector.detect());\n      } else if (!lng && this.services.languageDetector && this.services.languageDetector.async) {\n        if (this.services.languageDetector.detect.length === 0) {\n          this.services.languageDetector.detect().then(setLng);\n        } else {\n          this.services.languageDetector.detect(setLng);\n        }\n      } else {\n        setLng(lng);\n      }\n      return deferred;\n    }\n  }, {\n    key: \"getFixedT\",\n    value: function getFixedT(lng, ns, keyPrefix) {\n      var _this5 = this;\n      var fixedT = function fixedT(key, opts) {\n        var options;\n        if (_typeof(opts) !== 'object') {\n          for (var _len3 = arguments.length, rest = new Array(_len3 > 2 ? _len3 - 2 : 0), _key3 = 2; _key3 < _len3; _key3++) {\n            rest[_key3 - 2] = arguments[_key3];\n          }\n          options = _this5.options.overloadTranslationOptionHandler([key, opts].concat(rest));\n        } else {\n          options = _objectSpread({}, opts);\n        }\n        options.lng = options.lng || fixedT.lng;\n        options.lngs = options.lngs || fixedT.lngs;\n        options.ns = options.ns || fixedT.ns;\n        options.keyPrefix = options.keyPrefix || keyPrefix || fixedT.keyPrefix;\n        var keySeparator = _this5.options.keySeparator || '.';\n        var resultKey;\n        if (options.keyPrefix && Array.isArray(key)) {\n          resultKey = key.map(function (k) {\n            return \"\".concat(options.keyPrefix).concat(keySeparator).concat(k);\n          });\n        } else {\n          resultKey = options.keyPrefix ? \"\".concat(options.keyPrefix).concat(keySeparator).concat(key) : key;\n        }\n        return _this5.t(resultKey, options);\n      };\n      if (typeof lng === 'string') {\n        fixedT.lng = lng;\n      } else {\n        fixedT.lngs = lng;\n      }\n      fixedT.ns = ns;\n      fixedT.keyPrefix = keyPrefix;\n      return fixedT;\n    }\n  }, {\n    key: \"t\",\n    value: function t() {\n      var _this$translator;\n      return this.translator && (_this$translator = this.translator).translate.apply(_this$translator, arguments);\n    }\n  }, {\n    key: \"exists\",\n    value: function exists() {\n      var _this$translator2;\n      return this.translator && (_this$translator2 = this.translator).exists.apply(_this$translator2, arguments);\n    }\n  }, {\n    key: \"setDefaultNamespace\",\n    value: function setDefaultNamespace(ns) {\n      this.options.defaultNS = ns;\n    }\n  }, {\n    key: \"hasLoadedNamespace\",\n    value: function hasLoadedNamespace(ns) {\n      var _this6 = this;\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      if (!this.isInitialized) {\n        this.logger.warn('hasLoadedNamespace: i18next was not initialized', this.languages);\n        return false;\n      }\n      if (!this.languages || !this.languages.length) {\n        this.logger.warn('hasLoadedNamespace: i18n.languages were undefined or empty', this.languages);\n        return false;\n      }\n      var lng = options.lng || this.resolvedLanguage || this.languages[0];\n      var fallbackLng = this.options ? this.options.fallbackLng : false;\n      var lastLng = this.languages[this.languages.length - 1];\n      if (lng.toLowerCase() === 'cimode') return true;\n      var loadNotPending = function loadNotPending(l, n) {\n        var loadState = _this6.services.backendConnector.state[\"\".concat(l, \"|\").concat(n)];\n        return loadState === -1 || loadState === 2;\n      };\n      if (options.precheck) {\n        var preResult = options.precheck(this, loadNotPending);\n        if (preResult !== undefined) return preResult;\n      }\n      if (this.hasResourceBundle(lng, ns)) return true;\n      if (!this.services.backendConnector.backend || this.options.resources && !this.options.partialBundledLanguages) return true;\n      if (loadNotPending(lng, ns) && (!fallbackLng || loadNotPending(lastLng, ns))) return true;\n      return false;\n    }\n  }, {\n    key: \"loadNamespaces\",\n    value: function loadNamespaces(ns, callback) {\n      var _this7 = this;\n      var deferred = defer();\n      if (!this.options.ns) {\n        if (callback) callback();\n        return Promise.resolve();\n      }\n      if (typeof ns === 'string') ns = [ns];\n      ns.forEach(function (n) {\n        if (_this7.options.ns.indexOf(n) < 0) _this7.options.ns.push(n);\n      });\n      this.loadResources(function (err) {\n        deferred.resolve();\n        if (callback) callback(err);\n      });\n      return deferred;\n    }\n  }, {\n    key: \"loadLanguages\",\n    value: function loadLanguages(lngs, callback) {\n      var deferred = defer();\n      if (typeof lngs === 'string') lngs = [lngs];\n      var preloaded = this.options.preload || [];\n      var newLngs = lngs.filter(function (lng) {\n        return preloaded.indexOf(lng) < 0;\n      });\n      if (!newLngs.length) {\n        if (callback) callback();\n        return Promise.resolve();\n      }\n      this.options.preload = preloaded.concat(newLngs);\n      this.loadResources(function (err) {\n        deferred.resolve();\n        if (callback) callback(err);\n      });\n      return deferred;\n    }\n  }, {\n    key: \"dir\",\n    value: function dir(lng) {\n      if (!lng) lng = this.resolvedLanguage || (this.languages && this.languages.length > 0 ? this.languages[0] : this.language);\n      if (!lng) return 'rtl';\n      var rtlLngs = ['ar', 'shu', 'sqr', 'ssh', 'xaa', 'yhd', 'yud', 'aao', 'abh', 'abv', 'acm', 'acq', 'acw', 'acx', 'acy', 'adf', 'ads', 'aeb', 'aec', 'afb', 'ajp', 'apc', 'apd', 'arb', 'arq', 'ars', 'ary', 'arz', 'auz', 'avl', 'ayh', 'ayl', 'ayn', 'ayp', 'bbz', 'pga', 'he', 'iw', 'ps', 'pbt', 'pbu', 'pst', 'prp', 'prd', 'ug', 'ur', 'ydd', 'yds', 'yih', 'ji', 'yi', 'hbo', 'men', 'xmn', 'fa', 'jpr', 'peo', 'pes', 'prs', 'dv', 'sam', 'ckb'];\n      var languageUtils = this.services && this.services.languageUtils || new LanguageUtil(get());\n      return rtlLngs.indexOf(languageUtils.getLanguagePartFromCode(lng)) > -1 || lng.toLowerCase().indexOf('-arab') > 1 ? 'rtl' : 'ltr';\n    }\n  }, {\n    key: \"cloneInstance\",\n    value: function cloneInstance() {\n      var _this8 = this;\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;\n      var mergedOptions = _objectSpread(_objectSpread(_objectSpread({}, this.options), options), {\n        isClone: true\n      });\n      var clone = new I18n(mergedOptions);\n      if (options.debug !== undefined || options.prefix !== undefined) {\n        clone.logger = clone.logger.clone(options);\n      }\n      var membersToCopy = ['store', 'services', 'language'];\n      membersToCopy.forEach(function (m) {\n        clone[m] = _this8[m];\n      });\n      clone.services = _objectSpread({}, this.services);\n      clone.services.utils = {\n        hasLoadedNamespace: clone.hasLoadedNamespace.bind(clone)\n      };\n      clone.translator = new Translator(clone.services, clone.options);\n      clone.translator.on('*', function (event) {\n        for (var _len4 = arguments.length, args = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n          args[_key4 - 1] = arguments[_key4];\n        }\n        clone.emit.apply(clone, [event].concat(args));\n      });\n      clone.init(mergedOptions, callback);\n      clone.translator.options = clone.options;\n      clone.translator.backendConnector.services.utils = {\n        hasLoadedNamespace: clone.hasLoadedNamespace.bind(clone)\n      };\n      return clone;\n    }\n  }, {\n    key: \"toJSON\",\n    value: function toJSON() {\n      return {\n        options: this.options,\n        store: this.store,\n        language: this.language,\n        languages: this.languages,\n        resolvedLanguage: this.resolvedLanguage\n      };\n    }\n  }]);\n  return I18n;\n}(EventEmitter);\n_defineProperty(I18n, \"createInstance\", function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var callback = arguments.length > 1 ? arguments[1] : undefined;\n  return new I18n(options, callback);\n});\nvar instance = I18n.createInstance();\ninstance.createInstance = I18n.createInstance;\n\nvar createInstance = instance.createInstance;\nvar dir = instance.dir;\nvar init = instance.init;\nvar loadResources = instance.loadResources;\nvar reloadResources = instance.reloadResources;\nvar use = instance.use;\nvar changeLanguage = instance.changeLanguage;\nvar getFixedT = instance.getFixedT;\nvar t = instance.t;\nvar exists = instance.exists;\nvar setDefaultNamespace = instance.setDefaultNamespace;\nvar hasLoadedNamespace = instance.hasLoadedNamespace;\nvar loadNamespaces = instance.loadNamespaces;\nvar loadLanguages = instance.loadLanguages;\n\nexport { changeLanguage, createInstance, instance as default, dir, exists, getFixedT, hasLoadedNamespace, init, loadLanguages, loadNamespaces, loadResources, reloadResources, setDefaultNamespace, t, use };\n", "/**\n * A cache for DOM elements\n */\nexport const DOMCache = new Map<string, HTMLElement>()\n\nexport const DOMCacheGetOrSet = (id: string) => {\n  const cachedEl = DOMCache.get(id)\n  if (cachedEl) {\n    return cachedEl\n  }\n\n  const el = document.getElementById(id)\n\n  if (!el) {\n    throw new TypeError(`Element with id \"${id}\" was not found on page?`)\n  }\n\n  DOMCache.set(id, el)\n  return el\n}\n", "// EventTarget is lacking.\nimport EventEmitter from 'eventemitter3'\nimport type { SynergismEvents } from './types/Synergism'\n\nexport const Synergism = new EventEmitter<SynergismEvents>()\n", "import i18next from 'i18next'\nimport { DOMCacheGetOrSet } from './Cache/DOM'\nimport { player } from './Synergism'\n\nexport const toggleTheme = (initial = false, themeNumber = 1, change = false) => {\n  const themeButton = DOMCacheGetOrSet('theme')\n  const body = document.body\n\n  if (change) {\n    localStorage.setItem('theme', `${themeNumber}`)\n    body.style.setProperty('--transition', '750ms')\n    body.style.setProperty('--transition-extra', '600ms')\n  } else {\n    themeNumber = Number(localStorage.getItem('theme') ?? 1)\n  }\n\n  /* Full reset for easy out of order change */\n  if (!initial) { // For quicker first load\n    body.style.removeProperty('--header-color')\n    body.style.removeProperty('--bg-color')\n    body.style.removeProperty('--alert-color')\n    body.style.removeProperty('--history-lines')\n    body.style.removeProperty('--text-color')\n    body.style.removeProperty('--green-text-color')\n    body.style.removeProperty('--lightseagreen-text-color')\n    body.style.removeProperty('--crimson-text-color')\n    body.style.removeProperty('--red-text-color')\n    body.style.removeProperty('--maroon-text-color')\n    body.style.removeProperty('--orchid-text-color')\n    body.style.removeProperty('--darkorchid-text-color')\n    body.style.removeProperty('--darkcyan-text-color')\n    body.style.removeProperty('--gray-text-color')\n    body.style.removeProperty('--orangered-text-color')\n    body.style.removeProperty('--box-color')\n    body.style.removeProperty('--boxmain-bordercolor')\n    body.style.removeProperty('--button-color')\n    body.style.removeProperty('--hover-color')\n    body.style.removeProperty('--blackbtn-color')\n    body.style.removeProperty('--purplebtn-color')\n    body.style.removeProperty('--purplehover-color')\n    body.style.removeProperty('--buttonbuy-color')\n    body.style.removeProperty('--buildings-canbuy-color')\n    body.style.removeProperty('--buildings-hover-color')\n    body.style.removeProperty('--blessings-canbuy-color')\n    body.style.removeProperty('--blessings-hover-color')\n    body.style.removeProperty('--tab-color')\n    body.style.removeProperty('--singtab-color')\n    body.style.removeProperty('--hoversing-color')\n    body.style.removeProperty('--shoptab-color')\n    body.style.removeProperty('--hovershop-color')\n    body.style.removeProperty('--hepteract-bar-empty')\n    body.style.removeProperty('--hepteract-bar-red')\n    body.style.removeProperty('--hepteract-bar-yellow')\n    body.style.removeProperty('--hepteract-bar-green')\n    body.classList.remove('textOutline')\n    // body.classList.add('bodycolor');\n    DOMCacheGetOrSet('actualPotionShop').style.backgroundColor = ''\n    DOMCacheGetOrSet('actualPotionShop').style.borderColor = ''\n    DOMCacheGetOrSet('themeBox').style.backgroundColor = ''\n    DOMCacheGetOrSet('themeBox').style.borderColor = ''\n    DOMCacheGetOrSet('c15Rewards').style.backgroundColor = ''\n    DOMCacheGetOrSet('c15Rewards').style.borderColor = ''\n    DOMCacheGetOrSet('platonicUpgradeDescriptions').style.backgroundColor = ''\n    DOMCacheGetOrSet('platonicUpgradeDescriptions').style.borderColor = ''\n    DOMCacheGetOrSet('platonicUpgradePics').style.backgroundColor = ''\n    DOMCacheGetOrSet('platonicUpgradePics').style.borderColor = ''\n    DOMCacheGetOrSet('actualShop').style.backgroundColor = ''\n    DOMCacheGetOrSet('actualShop').style.borderColor = ''\n    DOMCacheGetOrSet('corruptionStatsLoadouts').style.backgroundColor = ''\n    DOMCacheGetOrSet('corruptionStatsLoadouts').style.borderColor = ''\n    DOMCacheGetOrSet('heptGrid').style.backgroundColor = ''\n    DOMCacheGetOrSet('heptGrid').style.borderColor = ''\n    DOMCacheGetOrSet('exportgame').style.backgroundColor = ''\n    DOMCacheGetOrSet('importFileButton').style.backgroundColor = ''\n    DOMCacheGetOrSet('switchTheme2').style.borderColor = 'darkslategray'\n\n    DOMCacheGetOrSet('bonussummation').style.color = 'orangered' // CSS colors, instead of having '', will write out full color, in case someone will move CSS color into HTML\n    DOMCacheGetOrSet('corruptionDescription').style.color = 'darkviolet'\n    DOMCacheGetOrSet('versionnumber').style.color = 'fuchsia'\n    DOMCacheGetOrSet('singularitytab').style.color = 'red'\n    DOMCacheGetOrSet('traitstab').style.color = 'red'\n    DOMCacheGetOrSet('cubetab').style.color = 'red'\n    DOMCacheGetOrSet('ascTimeAccel').style.color = 'royalblue'\n    DOMCacheGetOrSet('buildinghotkeys').style.color = 'lightgray'\n    DOMCacheGetOrSet('buildinghotkeys2').style.color = 'lightgray'\n    DOMCacheGetOrSet('antspecies').style.color = 'royalblue' // HTML colors\n    DOMCacheGetOrSet('achievementcolorcode2').style.color = 'purple'\n    DOMCacheGetOrSet('corruptionTesseracts').style.color = 'darkviolet'\n    DOMCacheGetOrSet('antwelcome').style.color = 'lightslategrey'\n    DOMCacheGetOrSet('confirmationToggleTitle').style.color = 'pink'\n    DOMCacheGetOrSet('specialActionsTitle').style.color = 'pink'\n    DOMCacheGetOrSet('themesTitle').style.color = 'pink'\n    DOMCacheGetOrSet('notationTitle').style.color = 'pink'\n    DOMCacheGetOrSet('hepteractWelcome').style.color = 'pink'\n    DOMCacheGetOrSet('confirmationdisclaimer').style.color = 'plum'\n    DOMCacheGetOrSet('cube6Bonus').style.color = 'brown'\n    DOMCacheGetOrSet('tesseract6Bonus').style.color = 'brown'\n    DOMCacheGetOrSet('hypercube6Bonus').style.color = 'brown'\n    DOMCacheGetOrSet('runeshowpower5').style.color = 'tomato'\n    DOMCacheGetOrSet('hypercubeWelcome').style.color = '#ff004c' // Hypercube colors\n    DOMCacheGetOrSet('hypercubeQuantity').style.color = '#ff004c'\n    DOMCacheGetOrSet('hypercubeBlessingsTotal').style.color = '#ff004c'\n  } else {\n    if (themeNumber === 4) {\n      DOMCacheGetOrSet('logo').setAttribute('src', 'Pictures/logoLight.png')\n    }\n  }\n\n  if (themeNumber === 1) {\n    localStorage.removeItem('theme')\n    themeButton.textContent = 'Dark Mode'\n  } else if (themeNumber === 2) { // 'Darker Mode'\n    body.style.setProperty('--header-color', 'black')\n    body.style.setProperty('--bg-color', '#0c0c0f')\n    body.style.setProperty('--alert-color', '#040406')\n    body.style.setProperty('--history-lines', '#1b1b22')\n    body.style.setProperty('--box-color', '#060606')\n    body.style.setProperty('--boxmain-bordercolor', '#d487d4')\n    body.style.setProperty('--button-color', '#040406')\n    body.style.setProperty('--hover-color', '#1b1b22')\n    body.style.setProperty('--purplebtn-color', '#6f006f')\n    body.style.setProperty('--buttonbuy-color', '#040406')\n    body.style.setProperty('--buildings-canbuy-color', '#2c2c44')\n    body.style.setProperty('--buildings-hover-color', '#3a3a58')\n    body.style.setProperty('--blessings-canbuy-color', '#262639')\n    body.style.setProperty('--blessings-hover-color', '#33334e')\n    body.style.setProperty('--tab-color', 'black')\n    body.style.setProperty('--singtab-color', '#002')\n    body.style.setProperty('--hoversing-color', '#00007d')\n    body.style.setProperty('--shoptab-color', '#6f006f')\n    body.style.setProperty('--hepteract-bar-empty', '#3a3a58')\n    body.style.setProperty('--hepteract-bar-red', 'darkred')\n    body.style.setProperty('--hepteract-bar-yellow', '#997a00')\n    body.style.setProperty('--hepteract-bar-green', 'darkgreen')\n    DOMCacheGetOrSet('corruptionStatsLoadouts').style.borderColor = '#dd8f00'\n    DOMCacheGetOrSet('actualPotionShop').style.borderColor = '#dd0'\n    DOMCacheGetOrSet('exportgame').style.backgroundColor = 'black' // Special cases\n    DOMCacheGetOrSet('importFileButton').style.backgroundColor = 'black'\n\n    themeButton.textContent = 'Darker Mode'\n  } else if (themeNumber === 3) { // 'Lighter Dark Mode'\n    body.style.setProperty('--header-color', '#18171c')\n    body.style.setProperty('--bg-color', '#1c1b22')\n    body.style.setProperty('--alert-color', '#141319')\n    body.style.setProperty('--history-lines', '#083a3a')\n    body.style.setProperty('--box-color', '#141319')\n    body.style.setProperty('--boxmain-bordercolor', '#dda0dd')\n    body.style.setProperty('--button-color', '#101828')\n    body.style.setProperty('--hover-color', '#006')\n    body.style.setProperty('--blackbtn-color', '#101828')\n    body.style.setProperty('--buttonbuy-color', '#0b111c')\n    body.style.setProperty('--buildings-canbuy-color', '#2d4471')\n    body.style.setProperty('--buildings-hover-color', '#3c5a95')\n    body.style.setProperty('--blessings-canbuy-color', '#1e2e4d')\n    body.style.setProperty('--blessings-hover-color', '#2d4471')\n    body.style.setProperty('--tab-color', '#101828')\n    body.style.setProperty('--hoversing-color', '#005')\n    body.style.setProperty('--hepteract-bar-empty', '#535064')\n    DOMCacheGetOrSet('corruptionStatsLoadouts').style.borderColor = '#ffa500'\n    DOMCacheGetOrSet('actualPotionShop').style.borderColor = '#dd0'\n    DOMCacheGetOrSet('actualShop').style.backgroundColor = '#0c0c0f' // Special cases\n    DOMCacheGetOrSet('actualShop').style.borderColor = '#d487d4'\n    DOMCacheGetOrSet('platonicUpgradePics').style.backgroundColor = '#0c0c0f'\n    body.style.setProperty('--maroon-text-color', '#a90000')\n\n    themeButton.textContent = 'Lighter Dark Mode'\n  } else if (themeNumber === 4) { // 'Light Mode'\n    body.classList.add('textOutline')\n    body.style.setProperty('--header-color', '#736e8d')\n    body.style.setProperty('--bg-color', '#7c7891')\n    body.style.setProperty('--alert-color', '#646175')\n    body.style.setProperty('--history-lines', '#156e71')\n    body.style.setProperty('--box-color', '#646175')\n    body.style.setProperty('--boxmain-bordercolor', '#d894d8')\n    body.style.setProperty('--button-color', '#136062')\n    body.style.setProperty('--hover-color', '#187c7f')\n    body.style.setProperty('--blackbtn-color', '#105254')\n    body.style.setProperty('--buttonbuy-color', '#4c495a')\n    body.style.setProperty('--buildings-canbuy-color', '#9794a8')\n    body.style.setProperty('--buildings-hover-color', '#b2b0bf')\n    body.style.setProperty('--blessings-canbuy-color', '#6c687f')\n    body.style.setProperty('--blessings-hover-color', '#7c7990')\n    body.style.setProperty('--tab-color', '#105254')\n    body.style.setProperty('--singtab-color', '#00d')\n    body.style.setProperty('--hoversing-color', '#1052B6')\n    body.style.setProperty('--hepteract-bar-empty', '#858199')\n    body.style.setProperty('--hepteract-bar-red', '#ea1741')\n    body.style.setProperty('--hepteract-bar-yellow', '#cc0')\n    body.style.setProperty('--hepteract-bar-green', 'limegreen')\n    DOMCacheGetOrSet('corruptionStatsLoadouts').style.borderColor = '#dd8f00'\n    DOMCacheGetOrSet('actualPotionShop').style.borderColor = '#dd0'\n    DOMCacheGetOrSet('switchTheme2').style.borderColor = '#284242' // Special Cases\n    body.style.setProperty('--green-text-color', 'limegreen')\n    body.style.setProperty('--red-text-color', '#f55')\n    body.style.setProperty('--maroon-text-color', '#ff5656')\n    body.style.setProperty('--crimson-text-color', '#f7617d')\n    body.style.setProperty('--orchid-text-color', '#dd7dda')\n    body.style.setProperty('--darkorchid-text-color', '#cf9ee8')\n    body.style.setProperty('--darkcyan-text-color', 'turquoise')\n    body.style.setProperty('--lightseagreen-text-color', 'limegreen')\n    body.style.setProperty('--orangered-text-color', '#f74')\n    body.style.setProperty('--gray-text-color', '#a5a5a5')\n    DOMCacheGetOrSet('achievementcolorcode2').style.color = '#dc7dff'\n    DOMCacheGetOrSet('corruptionDescription').style.color = '#d272ff'\n    DOMCacheGetOrSet('corruptionTesseracts').style.color = '#d272ff'\n    DOMCacheGetOrSet('antwelcome').style.color = '#b1b1b1'\n    DOMCacheGetOrSet('versionnumber').style.color = '#ff5aff'\n    DOMCacheGetOrSet('singularitytab').style.color = '#ff5252'\n    DOMCacheGetOrSet('traitstab').style.color = '#ff5252'\n    DOMCacheGetOrSet('cubetab').style.color = '#ff5252'\n    DOMCacheGetOrSet('antspecies').style.color = '#8da9ff'\n    DOMCacheGetOrSet('ascTimeAccel').style.color = '#97b0ff'\n    DOMCacheGetOrSet('cube6Bonus').style.color = '#a5a5a5'\n    DOMCacheGetOrSet('tesseract6Bonus').style.color = '#a5a5a5'\n    DOMCacheGetOrSet('hypercube6Bonus').style.color = '#a5a5a5'\n    DOMCacheGetOrSet('hypercubeWelcome').style.color = '#f58'\n    DOMCacheGetOrSet('hypercubeQuantity').style.color = '#f58'\n    DOMCacheGetOrSet('hypercubeBlessingsTotal').style.color = '#f58'\n    DOMCacheGetOrSet('runeshowpower5').style.color = '#ff7158'\n\n    themeButton.textContent = 'Light Mode'\n  } else if (themeNumber === 5) { // 'Dracula Mode'\n    body.style.setProperty('--header-color', '#0a0a11')\n    body.style.setProperty('--bg-color', '#131319')\n    body.style.setProperty('--alert-color', '#2a1035')\n    body.style.setProperty('--history-lines', '#012d1c')\n    body.style.setProperty('--text-color', '#ac47ff')\n    body.style.setProperty('--maroon-text-color', '#c30000')\n    body.style.setProperty('--crimson-text-color', '#eb0000')\n    body.style.setProperty('--orchid-text-color', '#fd59f7')\n    body.style.setProperty('--darkorchid-text-color', '#c205ff')\n    body.style.setProperty('--gray-text-color', '#8f8f8f')\n    body.style.setProperty('--box-color', '#000000')\n    body.style.setProperty('--boxmain-bordercolor', '#b341e0')\n    body.style.setProperty('--button-color', '#21003f')\n    body.style.setProperty('--hover-color', '#00056a')\n    body.style.setProperty('--blackbtn-color', '#28002a')\n    body.style.setProperty('--purplebtn-color', '#5800a0')\n    body.style.setProperty('--purplehover-color', '#680927')\n    body.style.setProperty('--buttonbuy-color', '#005e00')\n    body.style.setProperty('--buildings-canbuy-color', '#a00')\n    body.style.setProperty('--buildings-hover-color', '#e00')\n    body.style.setProperty('--blessings-canbuy-color', '#004d00')\n    body.style.setProperty('--blessings-hover-color', '#800')\n    body.style.setProperty('--tab-color', '#1a0030')\n    body.style.setProperty('--singtab-color', '#000230')\n    body.style.setProperty('--hoversing-color', '#000463')\n    body.style.setProperty('--shoptab-color', '#5800a0')\n    body.style.setProperty('--hovershop-color', '#7400d3')\n    body.style.setProperty('--hepteract-bar-empty', '#4a4a60')\n    body.style.setProperty('--hepteract-bar-red', '#c90000')\n    body.style.setProperty('--hepteract-bar-yellow', '#919100')\n    body.style.setProperty('--hepteract-bar-green', '#007f3b')\n    DOMCacheGetOrSet('themeBox').style.backgroundColor = '#0a0a11' // Special cases\n    DOMCacheGetOrSet('themeBox').style.borderColor = '#3c006d'\n    DOMCacheGetOrSet('c15Rewards').style.backgroundColor = '#2e001b'\n    DOMCacheGetOrSet('c15Rewards').style.borderColor = '#186e83'\n    DOMCacheGetOrSet('platonicUpgradeDescriptions').style.backgroundColor = '#2e001b'\n    DOMCacheGetOrSet('platonicUpgradeDescriptions').style.borderColor = '#186e83'\n    DOMCacheGetOrSet('platonicUpgradePics').style.backgroundColor = '#720505'\n    DOMCacheGetOrSet('platonicUpgradePics').style.borderColor = '#410303'\n    DOMCacheGetOrSet('actualPotionShop').style.backgroundColor = '#01192c'\n    DOMCacheGetOrSet('actualPotionShop').style.borderColor = '#04d481'\n    DOMCacheGetOrSet('actualShop').style.backgroundColor = '#11111b'\n    DOMCacheGetOrSet('actualShop').style.borderColor = '#038ba8'\n    DOMCacheGetOrSet('corruptionStatsLoadouts').style.backgroundColor = '#0a0a11'\n    DOMCacheGetOrSet('corruptionStatsLoadouts').style.borderColor = '#04d481'\n    DOMCacheGetOrSet('heptGrid').style.backgroundColor = '#11111b'\n    DOMCacheGetOrSet('heptGrid').style.borderColor = '#9b7306'\n    DOMCacheGetOrSet('achievementcolorcode2').style.color = '#ef00e4' // Text colors\n    DOMCacheGetOrSet('corruptionDescription').style.color = '#c205ff'\n    DOMCacheGetOrSet('corruptionTesseracts').style.color = '#c205ff'\n    DOMCacheGetOrSet('antwelcome').style.color = 'darkgrey'\n    DOMCacheGetOrSet('confirmationToggleTitle').style.color = '#eb0000'\n    DOMCacheGetOrSet('specialActionsTitle').style.color = '#eb0000'\n    DOMCacheGetOrSet('themesTitle').style.color = '#eb0000'\n    DOMCacheGetOrSet('notationTitle').style.color = '#eb0000'\n    DOMCacheGetOrSet('hepteractWelcome').style.color = '#ac47ff'\n    DOMCacheGetOrSet('confirmationdisclaimer').style.color = '#bb68ff'\n    DOMCacheGetOrSet('antspecies').style.color = '#184ff3'\n    DOMCacheGetOrSet('bonussummation').style.color = '#eb0000'\n    DOMCacheGetOrSet('buildinghotkeys').style.color = '#838383'\n    DOMCacheGetOrSet('buildinghotkeys2').style.color = '#838383'\n\n    themeButton.textContent = 'Dracula Mode'\n  }\n  if (change) {\n    setTimeout(() => {\n      body.style.removeProperty('--transition')\n      body.style.removeProperty('--transition-extra')\n    }, 750)\n  }\n}\n\nexport enum Notations {\n  PURE_SCIENTIFIC = 'Pure Scientific',\n  PURE_ENGINEERING = 'Pure Engineering',\n  DEFAULT = 'Default'\n}\n\nexport const toggleAnnotation = (setting = true) => {\n  const notationButton = DOMCacheGetOrSet('notation')\n  const current = player.notation\n  let newNotation: string\n\n  switch (current) {\n    case Notations.PURE_SCIENTIFIC:\n      notationButton.textContent = i18next.t('settings.notation.pureEngineering')\n      newNotation = Notations.PURE_ENGINEERING\n      break\n    case Notations.PURE_ENGINEERING:\n      notationButton.textContent = i18next.t('settings.notation.default')\n      newNotation = Notations.DEFAULT\n      break\n    default:\n      notationButton.textContent = i18next.t('settings.notation.pureScientific')\n      newNotation = Notations.PURE_SCIENTIFIC\n  }\n\n  if (setting) {\n    player.notation = newNotation\n  }\n}\n\nexport const settingAnnotation = () => {\n  const notationButton = DOMCacheGetOrSet('notation')\n\n  switch (player.notation) {\n    case Notations.PURE_SCIENTIFIC:\n      notationButton.textContent = i18next.t('settings.notation.pureScientific')\n      break\n    case Notations.PURE_ENGINEERING:\n      notationButton.textContent = i18next.t('settings.notation.pureEngineering')\n      break\n    default:\n      notationButton.textContent = i18next.t('settings.notation.default')\n  }\n}\n\n// IconSets: ['FolderName', 'FallbackSetIndex']\n// Make sure new sets have a UNIQUE folder name (not used in icon file names), and it is added to IconSets[][] and IconSetsRegex\nexport const IconSets: [string, number][] = [\n  ['Legacy', -1],\n  ['Default', 0],\n  ['Simplified', 1],\n  ['Monotonous', 1]\n]\nexport const IconSetsRegex = /Default|Simplified|Monotonous|Legacy/\n\nexport const toggleIconSet = (changeTo = player.iconSet) => {\n  if ((changeTo > (IconSets.length - 1)) || (changeTo < 0)) {\n    changeTo = 0\n  }\n  player.iconSet = changeTo\n  Array.from(document.getElementsByTagName('img')).forEach(\n    (img) => {\n      img.src = img.src.replace(IconSetsRegex, IconSets[player.iconSet][0])\n    }\n  )\n  DOMCacheGetOrSet('iconSet').textContent = i18next.t(`settings.iconSets.${IconSets[player.iconSet][0].toLowerCase()}`)\n}\n\n// If no image is found falls back to designated fallback, then Legacy, then MISSINGIMAGE.png\n// MISSINGIMAGE.png(s) will not be replaced except on a full page reload\nexport function imgErrorHandler (evt: ErrorEvent | Event) {\n  if (evt instanceof ErrorEvent) console.log('error: ', evt.error)\n\n  if (!evt.target || !(evt.target instanceof HTMLImageElement)) {\n    return\n  }\n  const whichImg = evt.target\n  const iconSetName = IconSets[player.iconSet][0]\n  const fallbackSetNum = IconSets[player.iconSet][1]\n  let fallbackSetName = 'Legacy'\n  if ((fallbackSetNum >= 0) && (fallbackSetNum < IconSets.length - 1)) {\n    fallbackSetName = IconSets[fallbackSetNum][0]\n  }\n\n  if (whichImg.src.includes('Legacy') || !(IconSetsRegex.exec(whichImg.src))) {\n    // no image to fall back to\n    whichImg.src = './Pictures/MISSINGIMAGE.png'\n  } else if (whichImg.src.includes(iconSetName)) {\n    // first fall back attempt\n    whichImg.src = whichImg.src.replace(IconSetsRegex, fallbackSetName)\n  } else {\n    // fall back to Legacy\n    whichImg.src = whichImg.src.replace(IconSetsRegex, 'Legacy')\n  }\n}\n", "import i18next from 'i18next'\nimport { format } from './Synergism'\nimport { Alert, Prompt } from './UpdateHTML'\n\nexport interface IUpgradeData {\n  name: string\n  description: string\n  level?: number\n  maxLevel: number\n  costPerLevel: number\n  toggleBuy?: number\n  effect?(this: void, n: number): { bonus: number | boolean; desc: string }\n  freeLevels?: number\n}\n\nexport abstract class DynamicUpgrade {\n  public name: string\n  readonly description: string\n  public level = 0\n  public freeLevels = 0\n  readonly maxLevel: number // -1 = infinitely levelable\n  readonly costPerLevel: number\n  public toggleBuy = 1 // -1 = buy MAX (or 1000 in case of infinity levels!)\n  readonly effect: (n: number) => { bonus: number | boolean; desc: string }\n\n  constructor (data: IUpgradeData) {\n    this.name = data.name\n    this.description = data.description\n    this.level = data.level ?? 0\n    this.freeLevels = data.freeLevels ?? 0\n    this.maxLevel = data.maxLevel\n    this.costPerLevel = data.costPerLevel\n    this.toggleBuy = data.toggleBuy ?? 1\n    this.effect = data.effect ?? ((n: number) => ({ bonus: n, desc: 'WIP not implemented' }))\n  }\n\n  public async changeToggle (): Promise<void> {\n    // Is null unless given an explicit number\n    const newToggle = await Prompt(i18next.t('dynamicUpgrades.validation.setPurchaseAmount', { x: this.name }))\n    const newToggleAmount = Number(newToggle)\n\n    if (newToggle === null) {\n      return Alert(i18next.t('dynamicUpgrades.validation.toggleKept', { x: format(this.toggleBuy) }))\n    }\n\n    if (!Number.isInteger(newToggle)) {\n      return Alert(i18next.t('general.validation.fraction'))\n    }\n    if (newToggleAmount < -1) {\n      return Alert(i18next.t('dynamicUpgrades.validation.onlyNegativeOne'))\n    }\n    if (newToggleAmount === 0) {\n      return Alert(i18next.t('dynamicUpgrades.validation.notZero'))\n    }\n\n    this.toggleBuy = newToggleAmount\n    const m = newToggleAmount === -1\n      ? i18next.t('dynamicUpgrades.toggleMax')\n      : i18next.t('dynamicUpgrades.toggle', { x: format(this.toggleBuy) })\n\n    return Alert(m)\n  }\n\n  public getEffect (): { bonus: number | boolean; desc: string } {\n    const effectiveLevel = this.level + Math.min(this.level, this.freeLevels)\n      + Math.sqrt(Math.max(0, this.freeLevels - this.level))\n    return this.effect(effectiveLevel)\n  }\n\n  abstract toString (): string\n  abstract updateUpgradeHTML (): void\n  abstract getCostTNL (): number\n  public abstract buyLevel (event: MouseEvent): Promise<void> | void\n}\n", "import Decimal from 'break_infinity.js'\nimport cloneDeepWith from 'lodash.clonedeepwith'\nimport { DOMCacheGetOrSet } from './Cache/DOM'\nimport { format } from './Synergism'\n\nexport const isDecimal = (o: unknown): o is Decimal =>\n  o instanceof Decimal\n  || (typeof o === 'object'\n    && o !== null\n    && Object.keys(o).length === 2\n    && 'mantissa' in o\n    && 'exponent' in o)\n\n/**\n * This function calculates the smallest integer increment/decrement that can be applied to a number that is\n * guaranteed to affect the numbers value\n * @param x\n * @returns {number} 1 if x < 2^53 and 2^ceil(log2(x)-53) otherwise\n * Since ceil(log2(x)-53) was 53 until 2^53+23, I changed it to floor(log2(x)-52)\n * This is incremented to 53 at 2^53-21 and is probably guaranteed thereafter. from by httpsnet\n */\nexport const smallestInc = (x = 0): number => {\n  if (x <= Number.MAX_SAFE_INTEGER) {\n    return 1\n  } else {\n    return 2 ** Math.floor(Math.log2(x) - 52)\n  }\n}\n\n/**\n * Returns the sum of all contents in an array\n * @param array {(number|string)[]}\n * @returns {number}\n */\nexport const sumContents = (array: number[]): number => {\n  array = Array.isArray(array)\n    ? array\n    : Object.values(array)\n\n  return array.reduce((a, b) => a + b, 0)\n}\n\n/**\n * Returns the product of all contents in an array\n * @param array {number[]}\n * @returns {number}\n */\n// TODO: Add a productContents for Decimal, but callable using productContents...\nexport const productContents = (array: number[]): number => array.reduce((a, b) => a * b)\n\nexport const sortWithIndices = (toSort: number[]) => {\n  return Array\n    .from([...toSort.keys()])\n    .sort((a, b) => toSort[a] < toSort[b] ? -1 : +(toSort[b] < toSort[a]))\n}\n\n/**\n * Identical to @see {DOMCacheGetOrSet} but casts the type.\n * @param id {string}\n */\nexport const getElementById = <T extends HTMLElement>(id: string) => DOMCacheGetOrSet(id) as T\n\n/**\n * Remove leading indents at the beginning of new lines in a template literal.\n */\nexport const stripIndents = (raw: TemplateStringsArray, ...args: unknown[]): string => {\n  const r = String.raw({ raw }, ...args)\n\n  return r\n    .replace(/^[^\\S\\r\\n]+/gm, '')\n    .trim()\n}\n\n/**\n * Pads an array (a) with param (b) (c) times\n * @param a array to be padded\n * @param b item to pad to array\n * @param length Length to pad array to\n */\nexport const padArray = <T>(a: T[], b: T, length: number) => {\n  for (let i = 0; i < length; i++) {\n    if (!(i in a)) {\n      a[i] = b\n    }\n  }\n\n  return a\n}\n\nexport const updateClassList = (targetElement: string, additions: string[], removals: string[]) => {\n  const target = DOMCacheGetOrSet(targetElement)\n  for (const addition of additions) {\n    target.classList.add(addition)\n  }\n  for (const removal of removals) {\n    target.classList.remove(removal)\n  }\n}\n\nexport const btoa = (s: string) => {\n  try {\n    return window.btoa(s)\n  } catch (err) {\n    console.error('An error occurred:', err)\n    // e.code = 5\n    return null\n  }\n}\n\n/**\n * Creates a string of the ordinal representation of an integer.\n * @param int An integer, which can be negative or positive.\n * @returns A string which follows the conventions of ordinal numbers\n *          in standard English\n */\nexport const toOrdinal = (int: number): string => {\n  let suffix = 'th'\n  if (int % 10 === 1) {\n    suffix = (int % 100 === 11) ? 'th' : 'st'\n  }\n  if (int % 10 === 2) {\n    suffix = (int % 100 === 12) ? 'th' : 'nd'\n  }\n  if (int % 10 === 3) {\n    suffix = (int % 100 === 13) ? 'th' : 'rd'\n  }\n\n  return format(int, 0, true) + suffix\n}\n\nexport const formatMS = (ms: number) =>\n  Object.entries({\n    d: Math.floor(ms / 86400000),\n    h: Math.floor(ms / 3600000) % 24,\n    m: Math.floor(ms / 60000) % 60,\n    s: Math.floor(ms / 1000) % 60\n  })\n    .filter((f) => f[1] > 0)\n    .map((t) => `${t[1]}${t[0]}`)\n    .join(' ') || '0s'\n\nexport const formatS = (s: number) => {\n  return formatMS(1000 * s)\n}\n\nexport const cleanString = (s: string): string => {\n  let cleaned = ''\n\n  for (let i = 0; i < s.length; i++) {\n    const code = s.charCodeAt(i)\n\n    cleaned += code > 255 ? '_' : s[i]\n  }\n\n  return cleaned\n}\n\nexport function assert (condition: unknown): asserts condition {\n  if (!condition) {\n    throw new TypeError('assertion failed')\n  }\n}\n\nexport function limitRange (number: number, min: number, max: number): number {\n  if (number < min) {\n    return max\n  } else if (number > max) {\n    return min\n  }\n\n  return number\n}\n\nexport const createDeferredPromise = <T>() => {\n  let resolve!: (unknown: T) => void\n  let reject!: (err: Error) => void\n\n  const promise = new Promise<T>((res, rej) => {\n    resolve = res\n    reject = rej\n  })\n\n  return { resolve, reject, promise }\n}\n\nexport const deepClone = (value: unknown) => {\n  return cloneDeepWith(value, (value) => {\n    if (isDecimal(value) || value instanceof Decimal) {\n      return new Decimal(value)\n    }\n\n    return value\n  })\n}\n", "import Decimal from 'break_infinity.js'\nimport { achievementaward } from './Achievements'\nimport { buyUpgrades } from './Buy'\nimport { player } from './Synergism'\nimport { clickUpgrades, upgradeupdate } from './Upgrades'\nimport { Globals as G, Upgrade } from './Variables'\n\nexport const buyGenerator = (i: number, state: boolean) => {\n  if (i === 1 && player.prestigePoints.gte(1e12) && !player.unlocks.generation) {\n    player.unlocks.generation = true\n  }\n  const q = 100 + i\n  let type: 'transcendPoints' | 'coins' | 'prestigePoints' = 'transcendPoints'\n  if (q <= 110 && q >= 106) {\n    type = 'coins'\n  } else if (q <= 115) {\n    type = 'prestigePoints'\n  }\n\n  const cost = Decimal.pow(10, G.upgradeCosts[q])\n  const achievementCheck = Math.max(\n    player.upgrades[101],\n    player.upgrades[102],\n    player.upgrades[103],\n    player.upgrades[104],\n    player.upgrades[105]\n  )\n\n  if (player.upgrades[q] === 0 && player[type].gte(cost)) {\n    if (achievementCheck === 0 && q >= 102 && q <= 105) {\n      achievementaward(q - 31)\n    }\n    player[type] = player[type].sub(cost)\n    player.upgrades[q] = 1\n    upgradeupdate(q, state)\n  }\n}\n\nexport const buyAutobuyers = (i: number, state?: boolean) => {\n  const q = i + 80\n  let type: 'prestigePoints' | 'transcendPoints' | 'reincarnationPoints' = 'reincarnationPoints'\n  if (q <= 87) {\n    type = 'prestigePoints'\n  } else if (q <= 93) {\n    type = 'transcendPoints'\n  }\n\n  const cost = Decimal.pow(10, G.upgradeCosts[q])\n  if (player.upgrades[q] === 0 && player[type].gte(cost)) {\n    player[type] = player[type].sub(cost)\n    player.upgrades[q] = 1\n    upgradeupdate(q, state)\n  }\n}\n\nexport const autoUpgrades = () => {\n  if (player.upgrades[90] > 0.5 && player.shoptoggles.generators) {\n    for (let i = 1; i < 6; i++) {\n      if (player.upgrades[100 + i] === 0 && player.prestigePoints.gte(Decimal.pow(10, G.upgradeCosts[100 + i]))) {\n        buyGenerator(i, true)\n      }\n    }\n    for (let j = 6; j < 11; j++) {\n      if (player.upgrades[100 + j] === 0 && player.coins.gte(Decimal.pow(10, G.upgradeCosts[100 + j]))) {\n        buyGenerator(j, true)\n      }\n    }\n    for (let k = 11; k < 16; k++) {\n      if (player.upgrades[100 + k] === 0 && player.prestigePoints.gte(Decimal.pow(10, G.upgradeCosts[100 + k]))) {\n        buyGenerator(k, true)\n      }\n    }\n    for (let l = 16; l < 21; l++) {\n      if (player.upgrades[100 + l] === 0 && player.transcendPoints.gte(Decimal.pow(10, G.upgradeCosts[100 + l]))) {\n        buyGenerator(l, true)\n      }\n    }\n  }\n  if (player.upgrades[91] > 0.5) {\n    for (let i = 1; i < 21; i++) {\n      if (player.upgrades[i] === 0 && player.coins.gte(Decimal.pow(10, G.upgradeCosts[i])) && player.shoptoggles.coin) {\n        buyUpgrades(Upgrade.coin, i, true)\n      }\n    }\n    for (let i = 121; i <= 125; i++) {\n      if (\n        player.upgrades[i] === 0 && player.coins.gte(Decimal.pow(10, G.upgradeCosts[i])) && player.shoptoggles.coin\n        && player.cubeUpgrades[19] > 0\n      ) {\n        buyUpgrades(Upgrade.coin, i, true)\n      }\n    }\n  }\n  if (player.upgrades[92] > 0.5) {\n    for (let i = 21; i < 38; i++) {\n      if (\n        player.upgrades[i] === 0 && player.prestigePoints.gte(Decimal.pow(10, G.upgradeCosts[i]))\n        && player.shoptoggles.prestige\n      ) {\n        buyUpgrades(Upgrade.prestige, i, true)\n      }\n    }\n    if (\n      player.upgrades[38] === 0 && player.prestigePoints.gte(Decimal.pow(10, 50000)) && player.shoptoggles.prestige\n      && player.achievements[120] === 1\n    ) {\n      buyUpgrades(Upgrade.prestige, 38, true)\n    }\n    if (\n      player.upgrades[39] === 0 && player.prestigePoints.gte(Decimal.pow(10, 100000)) && player.shoptoggles.prestige\n      && player.achievements[127] === 1\n    ) {\n      buyUpgrades(Upgrade.prestige, 39, true)\n    }\n    if (\n      player.upgrades[40] === 0 && player.prestigePoints.gte(Decimal.pow(10, 200000)) && player.shoptoggles.prestige\n      && player.achievements[134] === 1\n    ) {\n      buyUpgrades(Upgrade.prestige, 40, true)\n    }\n  }\n  if (player.upgrades[99] > 0.5) {\n    for (let i = 41; i < 61; i++) {\n      if (\n        player.upgrades[i] === 0 && player.transcendPoints.gte(Decimal.pow(10, G.upgradeCosts[i]))\n        && player.shoptoggles.transcend\n      ) {\n        buyUpgrades(Upgrade.transcend, i, true)\n      }\n    }\n  }\n\n  if (player.cubeUpgrades[8] > 0) {\n    for (let i = 61; i <= 80; i++) {\n      if (\n        player.upgrades[i] === 0 && player.reincarnationPoints.gte(Decimal.pow(10, G.upgradeCosts[i]))\n        && player.shoptoggles.reincarnate\n      ) {\n        buyUpgrades(Upgrade.reincarnation, i, true)\n      }\n    }\n  }\n\n  if (player.highestSingularityCount >= 25) {\n    for (let i = 81; i <= 100; i++) {\n      if (player.upgrades[i] === 0) {\n        clickUpgrades(i, true)\n      }\n    }\n  }\n}\n", "import Decimal from 'break_infinity.js'\nimport i18next from 'i18next'\nimport { buyAutobuyers, buyGenerator } from './Automation'\nimport { buyUpgrades } from './Buy'\nimport { DOMCacheGetOrSet } from './Cache/DOM'\nimport { calculateAnts, calculateCorruptionPoints, calculateRuneLevels } from './Calculate'\nimport { format, player } from './Synergism'\nimport { revealStuff } from './UpdateHTML'\nimport { sumContents } from './Utility'\nimport { Globals as G, Upgrade } from './Variables'\n\nconst crystalupgdesc: Record<number, () => Record<string, string>> = {\n  3: () => ({\n    max: format(\n      100 * (0.12 + 0.88 * player.upgrades[122] + 0.001 * player.researches[129]\n          * Math.log(player.commonFragments + 1) / Math.log(4)),\n      2,\n      true\n    )\n  }),\n  4: () => ({\n    max: format(\n      10 + 0.05 * player.researches[129] * Math.log(player.commonFragments + 1)\n          / Math.log(4)\n        + 20 * calculateCorruptionPoints() / 400 * G.effectiveRuneSpiritPower[3]\n    )\n  })\n}\n\nconst constantUpgDesc: Record<number, () => Record<string, string>> = {\n  1: () => ({ level: format(5 + player.achievements[270] + 0.1 * player.platonicUpgrades[18], 1, true) }),\n  2: () => ({\n    max: format(\n      10 + player.achievements[270] + player.shopUpgrades.constantEX + 100\n          * (G.challenge15Rewards.exponent - 1)\n        + 0.3 * player.platonicUpgrades[18],\n      2,\n      true\n    )\n  })\n}\n\nconst upgradetexts = [\n  () => format((G.totalCoinOwned + 1) * Math.min(1e30, Math.pow(1.008, G.totalCoinOwned)), 2),\n  () => format((G.totalCoinOwned + 1) * Math.min(1e30, Math.pow(1.008, G.totalCoinOwned)), 2),\n  () => format((G.totalCoinOwned + 1) * Math.min(1e30, Math.pow(1.008, G.totalCoinOwned)), 2),\n  () => format((G.totalCoinOwned + 1) * Math.min(1e30, Math.pow(1.008, G.totalCoinOwned)), 2),\n  () => format((G.totalCoinOwned + 1) * Math.min(1e30, Math.pow(1.008, G.totalCoinOwned)), 2),\n  () => format((G.totalCoinOwned + 1) * Math.min(1e30, Math.pow(1.008, G.totalCoinOwned)), 2),\n  () => Math.min(4, 1 + Math.floor(Decimal.log(player.fifthOwnedCoin + 1, 10))),\n  () => Math.floor(player.multiplierBought / 7),\n  () => Math.floor(player.acceleratorBought / 10),\n  () => format(Decimal.pow(2, Math.min(50, player.secondOwnedCoin / 15)), 2),\n  () => format(Decimal.pow(1.02, G.freeAccelerator), 2),\n  () => format(Decimal.min(1e4, Decimal.pow(1.01, player.prestigeCount)), 2),\n  () =>\n    format(\n      Decimal.min(\n        1e50,\n        Decimal.pow(player.firstGeneratedMythos.add(player.firstOwnedMythos).add(1), 4 / 3).times(1e10)\n      ),\n      2\n    ),\n  () => format(Decimal.pow(1.15, G.freeAccelerator), 2),\n  () => format(Decimal.pow(1.15, G.freeAccelerator), 2),\n  () => format(Decimal.pow(G.acceleratorEffect, 1 / 3), 2),\n  () => null,\n  () => format(Decimal.min(1e125, player.transcendShards.add(1))),\n  () => format(Decimal.min(1e200, player.transcendPoints.times(1e30).add(1))),\n  () => format(Decimal.pow((G.totalCoinOwned + 1) * Math.min(1e30, Math.pow(1.008, G.totalCoinOwned)), 10), 2),\n  () => ({\n    x: format(Math.floor(1 + (1 / 101 * G.freeMultiplier))),\n    y: format(Math.floor(5 + (1 / 101 * G.freeAccelerator)))\n  }),\n  () => ({\n    x: format(Math.floor(1 + (1 / 101 * G.freeMultiplier))),\n    y: format(Math.floor(4 + (1 / 101 * G.freeAccelerator)))\n  }),\n  () => ({\n    x: format(Math.floor(1 + (1 / 101 * G.freeMultiplier))),\n    y: format(Math.floor(3 + (1 / 101 * G.freeAccelerator)))\n  }),\n  () => ({\n    x: format(Math.floor(1 + (1 / 101 * G.freeMultiplier))),\n    y: format(Math.floor(2 + (1 / 101 * G.freeAccelerator)))\n  }),\n  () => ({\n    x: format(Math.floor(1 + (1 / 101 * G.freeMultiplier))),\n    y: format(Math.floor(1 + (1 / 101 * G.freeAccelerator)))\n  }),\n  () => null,\n  () =>\n    format(\n      Math.min(250, Math.floor(Decimal.log(player.coins.add(1), 1e3)))\n        + Math.max(0, Math.min(1750, Math.floor(Decimal.log(player.coins.add(1), 1e15)) - 50))\n    ),\n  () =>\n    format(\n      Math.min(\n        1000,\n        Math.floor(\n          (player.firstOwnedCoin + player.secondOwnedCoin + player.thirdOwnedCoin + player.fourthOwnedCoin\n            + player.fifthOwnedCoin) / 160\n        )\n      )\n    ),\n  () =>\n    format(\n      Math.floor(\n        Math.min(\n          2000,\n          (player.firstOwnedCoin + player.secondOwnedCoin + player.thirdOwnedCoin + player.fourthOwnedCoin\n            + player.fifthOwnedCoin) / 80\n        )\n      )\n    ),\n  () =>\n    format(\n      Math.min(75, Math.floor(Decimal.log(player.coins.add(1), 1e10)))\n        + Math.min(925, Math.floor(Decimal.log(player.coins.add(1), 1e30)))\n    ),\n  () => format(Math.floor(G.totalCoinOwned / 2000)),\n  () => format(Math.min(500, Math.floor(Decimal.log(player.prestigePoints.add(1), 1e25)))),\n  () => format(G.totalAcceleratorBoost),\n  () => format(Math.floor(3 / 103 * G.freeMultiplier)),\n  () => format(Math.floor(2 / 102 * G.freeMultiplier)),\n  () => format(Decimal.min('1e5000', Decimal.pow(player.prestigePoints, 1 / 500)), 2),\n  () => format(Decimal.pow(Decimal.log(player.prestigePoints.add(10), 10), 2), 2),\n  () => null,\n  () => null,\n  () => null,\n  () => format(Decimal.min(1e30, Decimal.pow(player.transcendPoints.add(1), 1 / 2))),\n  () => format(Decimal.min(1e50, Decimal.pow(player.prestigePoints.add(1), 1 / 50).dividedBy(2.5).add(1)), 2),\n  () => format(Decimal.min(1e30, Decimal.pow(1.01, player.transcendCount)), 2),\n  () => format(Decimal.min(1e6, Decimal.pow(1.01, player.transcendCount)), 2),\n  () => format(Math.min(2500, Math.floor(Decimal.log(player.transcendShards.add(1), 10)))),\n  () => null,\n  () => format(Math.pow(1.05, player.achievementPoints) * (player.achievementPoints + 1), 2),\n  () => format(Math.pow(Math.min(1e25, G.totalMultiplier * G.totalAccelerator) / 1000 + 1, 8)),\n  () => format(Math.min(50, Math.floor(Decimal.log(player.transcendPoints.add(1), 1e10)))),\n  () => null,\n  () => format(Math.pow(G.totalAcceleratorBoost, 2), 2),\n  () => format(Decimal.pow(G.globalMythosMultiplier, 0.025), 2),\n  () => format(Decimal.min('1e1250', Decimal.pow(G.acceleratorEffect, 1 / 125)), 2),\n  () => format(Decimal.min('1e2000', Decimal.pow(G.multiplierEffect, 1 / 180)), 2),\n  () => format(Decimal.pow('1e1000', Math.min(1000, G.buildingPower - 1)), 2),\n  () => null,\n  () => null,\n  () => null,\n  () => null,\n  () => null,\n  () => null,\n  () => Math.floor(1 / 5 * (sumContents(player.challengecompletions))),\n  () => format(Decimal.min('1e6000', Decimal.pow(player.reincarnationPoints.add(1), 6))),\n  () => format(Decimal.pow(player.reincarnationPoints.add(1), 2)),\n  () => null,\n  () => null,\n  () =>\n    format(\n      Decimal.pow(\n        1.03,\n        player.firstOwnedParticles + player.secondOwnedParticles + player.thirdOwnedParticles\n          + player.fourthOwnedParticles + player.fifthOwnedParticles\n      ),\n      2\n    ),\n  () => format(Math.min(2500, Math.floor(1 / 1000 * Decimal.log(G.taxdivisor, 10)))),\n  () => {\n    const a = Decimal.pow(Decimal.log(G.reincarnationPointGain.add(10), 10), 0.5)\n    const b = Decimal.pow(Decimal.log(G.reincarnationPointGain.add(10), 10), 0.5)\n    return {\n      x: format(Math.min(10, new Decimal(a).toNumber()), 2),\n      y: format(Math.min(3, new Decimal(b).toNumber()), 2)\n    }\n  },\n  () => format(1 / 3 * Math.log(player.maxobtainium + 1) / Math.log(10), 2, true),\n  () => null,\n  () =>\n    Math.min(\n      50,\n      1 + 2 * player.challengecompletions[6] + 2 * player.challengecompletions[7] + 2 * player.challengecompletions[8]\n        + 2 * player.challengecompletions[9] + 2 * player.challengecompletions[10]\n    ),\n  () => null,\n  () => format(1 + 4 * Math.min(1, Math.pow(player.maxofferings / 100000, 0.5)), 2),\n  () => format(1 + 2 * Math.min(1, Math.pow(player.maxobtainium / 30000000, 0.5)), 2),\n  () => null,\n  () =>\n    format(\n      Decimal.pow(\n        1.004 + 4 / 100000 * player.researches[96],\n        player.firstOwnedAnts + player.secondOwnedAnts + player.thirdOwnedAnts + player.fourthOwnedAnts\n          + player.fifthOwnedAnts + player.sixthOwnedAnts + player.seventhOwnedAnts + player.eighthOwnedAnts\n      ),\n      3\n    ),\n  () => format(1 + 0.005 * Math.pow(Math.log(player.maxofferings + 1) / Math.log(10), 2), 2, true),\n  () => null,\n  () => null,\n  ...Array.from({ length: 39 }, () => () => null),\n  () => null,\n  () => null,\n  () => null,\n  () => null,\n  () => format(0.333 * player.challengecompletions[10], 0),\n  () => format(0.333 * player.challengecompletions[10], 0)\n]\n\nexport const upgradeeffects = (i: number) => {\n  const effect = upgradetexts[i - 1]?.()\n  const type = typeof effect\n  const element = DOMCacheGetOrSet('upgradeeffect')\n\n  if (i >= 81 && i <= 119) {\n    element.textContent = i18next.t('upgrades.effects.81')\n  } else if (effect == null) {\n    element.textContent = i18next.t(`upgrades.effects.${i}`)\n  } else if (type === 'string' || type === 'number') {\n    element.textContent = i18next.t(`upgrades.effects.${i}`, { x: effect })\n  } else {\n    element.textContent = i18next.t(`upgrades.effects.${i}`, effect as Exclude<typeof effect, string | number>)\n  }\n}\n\nexport const upgradedescriptions = (i: number) => {\n  const y = i18next.t(`upgrades.descriptions.${i}`)\n  const z = player.upgrades[i] > 0.5 ? ' BOUGHT!' : ''\n\n  const el = DOMCacheGetOrSet('upgradedescription')\n  el.textContent = y + z\n  el.style.color = player.upgrades[i] > 0.5 ? 'gold' : 'white'\n\n  if (player.toggles[9]) {\n    clickUpgrades(i, false)\n  }\n\n  let currency = ''\n  let color = ''\n  if ((i <= 20 && i >= 1) || (i <= 110 && i >= 106) || (i <= 125 && i >= 121)) {\n    currency = 'Coins'\n    color = 'yellow'\n  }\n  if ((i <= 40 && i >= 21) || (i <= 105 && i >= 101) || (i <= 115 && i >= 111) || (i <= 87 && i >= 81)) {\n    currency = 'Diamonds'\n    color = 'cyan'\n  }\n  if ((i <= 60 && i >= 41) || (i <= 120 && i >= 116) || (i <= 93 && i >= 88)) {\n    currency = 'Mythos'\n    color = 'plum'\n  }\n  if ((i <= 80 && i >= 61) || (i <= 100 && i >= 94)) {\n    currency = 'Particles'\n    color = 'limegreen'\n  }\n\n  DOMCacheGetOrSet('upgradecost').textContent = `Cost: ${format(Decimal.pow(10, G.upgradeCosts[i]))} ${currency}`\n  DOMCacheGetOrSet('upgradecost').style.color = color\n  upgradeeffects(i)\n}\n\nexport const clickUpgrades = (i: number, auto: boolean) => {\n  // Make sure the upgrade is locked\n  if (\n    player.upgrades[i] !== 0\n    || (i <= 40 && i >= 21 && !player.unlocks.prestige)\n    || (i <= 60 && i >= 41 && !player.unlocks.transcend)\n    || (i <= 80 && i >= 61 && !player.unlocks.reincarnate)\n    || (i <= 120 && i >= 81 && !player.unlocks.prestige)\n    || DOMCacheGetOrSet(`upg${i}`)!.style.display === 'none'\n  ) {\n    return\n  }\n\n  let type: Upgrade | undefined\n  if (i <= 20 && i >= 1) {\n    type = Upgrade.coin\n  }\n  if (i <= 40 && i >= 21) {\n    type = Upgrade.prestige\n  }\n  if (i <= 60 && i >= 41) {\n    type = Upgrade.transcend\n  }\n  if (i <= 80 && i >= 61) {\n    type = Upgrade.reincarnation\n  }\n  if (i <= 87 && i >= 81) {\n    type = Upgrade.prestige\n  }\n  if (i <= 93 && i >= 88) {\n    type = Upgrade.transcend\n  }\n  if (i <= 100 && i >= 94) {\n    type = Upgrade.reincarnation\n  }\n  if (type && i <= 80 && i >= 1) {\n    buyUpgrades(type, i, auto)\n  }\n  if (type && i <= 100 && i >= 81) {\n    buyAutobuyers(i - 80, auto)\n  }\n  if (i <= 120 && i >= 101) {\n    buyGenerator(i - 100, auto)\n  }\n  if (i <= 125 && i >= 121) {\n    buyUpgrades(Upgrade.coin, i, auto)\n  }\n}\n\nexport const categoryUpgrades = (i: number, auto: boolean) => {\n  let min = 0\n  let max = 0\n  if (i === 1) {\n    min = 121\n    max = 125\n    for (let i = 1; i <= 20; i++) {\n      clickUpgrades(i, auto)\n    }\n  }\n  if (i === 2) {\n    min = 21\n    max = 40\n  }\n  if (i === 3) {\n    min = 41\n    max = 60\n  }\n  if (i === 4) {\n    min = 101\n    max = 120\n  }\n  if (i === 5) {\n    min = 81\n    max = 100\n  }\n  if (i === 6) {\n    min = 61\n    max = 80\n  }\n  for (let i = min; i <= max; i++) {\n    clickUpgrades(i, auto)\n  }\n}\n\nconst crystalupgeffect: Record<number, () => Record<string, string>> = {\n  1: () => ({\n    x: format(\n      Decimal.min(\n        Decimal.pow(10, 50 + 2 * player.crystalUpgrades[0]),\n        Decimal.pow(1.05, player.achievementPoints * player.crystalUpgrades[0])\n      ),\n      2,\n      true\n    )\n  }),\n  2: () => ({\n    x: format(\n      Decimal.min(\n        Decimal.pow(10, 100 + 5 * player.crystalUpgrades[1]),\n        Decimal.pow(Decimal.log(player.coins.add(1), 10), player.crystalUpgrades[1] / 3)\n      ),\n      2,\n      true\n    )\n  }),\n  3: () => ({\n    x: format(\n      Decimal.pow(\n        1\n          + Math.min(\n            0.12 + 0.88 * player.upgrades[122]\n              + 0.001 * player.researches[129] * Math.log(player.commonFragments + 1) / Math.log(4),\n            0.001 * player.crystalUpgrades[2]\n          ),\n        player.firstOwnedDiamonds + player.secondOwnedDiamonds + player.thirdOwnedDiamonds + player.fourthOwnedDiamonds\n          + player.fifthOwnedDiamonds\n      ),\n      2,\n      true\n    )\n  }),\n  4: () => ({\n    x: format(\n      Math.min(\n        10 + 0.05 * player.researches[129] * Math.log(player.commonFragments + 1) / Math.log(4)\n          + 20 * calculateCorruptionPoints() / 400 * G.effectiveRuneSpiritPower[3],\n        0.05 * player.crystalUpgrades[3]\n      ),\n      2,\n      true\n    )\n  }),\n  5: () => ({\n    x: format(\n      Decimal.pow(\n        1.01,\n        (player.challengecompletions[1] + player.challengecompletions[2] + player.challengecompletions[3]\n          + player.challengecompletions[4] + player.challengecompletions[5]) * player.crystalUpgrades[4]\n      ),\n      2,\n      true\n    )\n  })\n}\n\nconst returnCrystalUpgDesc = (i: number) => i18next.t(`upgrades.crystalUpgrades.${i}`, crystalupgdesc[i]?.())\nconst returnCrystalUpgEffect = (i: number) =>\n  i18next.t('buildings.crystalUpgrades.currentEffect', {\n    effect: i in crystalupgeffect ? i18next.t(`upgrades.crystalEffects.${i}`, crystalupgeffect[i]()) : ''\n  })\n\nexport const crystalupgradedescriptions = (i: number) => {\n  const p = player.crystalUpgrades[i - 1]\n  const c = (player.upgrades[73] > 0.5 && player.currentChallenge.reincarnation !== 0 ? 10 : 0)\n    + (Math.floor(G.rune3level * G.effectiveLevelMult / 16) * 100 / 100)\n\n  const q = Decimal.pow(\n    10,\n    G.crystalUpgradesCost[i - 1]\n      + G.crystalUpgradeCostIncrement[i - 1] * Math.floor(Math.pow(player.crystalUpgrades[i - 1] + 0.5 - c, 2) / 2)\n  )\n  DOMCacheGetOrSet('crystalupgradedescription').textContent = returnCrystalUpgDesc(i)\n  DOMCacheGetOrSet('crystalupgradeslevel1').innerHTML = i18next.t('buildings.crystalUpgrades.currentLevel', {\n    amount: format(p, 0, true)\n  })\n  DOMCacheGetOrSet('crystalupgradescost1').innerHTML = i18next.t('buildings.crystalUpgrades.cost', {\n    amount: format(q)\n  })\n  DOMCacheGetOrSet('crystalupgradeseffect1').innerHTML = returnCrystalUpgEffect(i)\n}\n\nexport const upgradeupdate = (num: number, fast?: boolean) => {\n  const el = DOMCacheGetOrSet(`upg${num}`)\n  if (player.upgrades[num] > 0.5) {\n    el.style.backgroundColor = 'green'\n  } else {\n    el.style.backgroundColor = ''\n  }\n\n  const b = i18next.t(`upgrades.descriptions.${num}`)\n  const c = player.upgrades[num] > 0.5 ? ' BOUGHT!' : ''\n  if (player.upgrades[num] > 0.5) {\n    if (!fast) {\n      DOMCacheGetOrSet('upgradedescription').textContent = b + c\n      DOMCacheGetOrSet('upgradedescription').style.color = 'gold'\n    }\n  }\n\n  if (!fast) {\n    revealStuff()\n  }\n}\n\nexport const ascendBuildingDR = () => {\n  const sum = player.ascendBuilding1.owned + player.ascendBuilding2.owned + player.ascendBuilding3.owned\n    + player.ascendBuilding4.owned + player.ascendBuilding5.owned\n\n  if (sum > 100000) {\n    return Math.pow(100000, 0.5) * Math.pow(sum, 0.5)\n  } else {\n    return sum\n  }\n}\n\nconst constUpgEffect: Record<number, () => Record<string, string>> = {\n  1: () => ({\n    x: format(\n      Decimal.pow(\n        1.05 + 0.01 * player.achievements[270] + 0.001 * player.platonicUpgrades[18],\n        player.constantUpgrades[1]\n      ),\n      2,\n      true\n    )\n  }),\n  2: () => ({\n    x: format(\n      Decimal.pow(\n        1\n          + 0.001\n            * Math.min(\n              100 + 10 * player.achievements[270] + 10 * player.shopUpgrades.constantEX\n                + 3 * player.platonicUpgrades[18] + 1000 * (G.challenge15Rewards.exponent - 1),\n              player.constantUpgrades[2]\n            ),\n        ascendBuildingDR()\n      ),\n      2,\n      true\n    )\n  }),\n  3: () => ({\n    x: format(1 + 0.02 * player.constantUpgrades[3], 2, true)\n  }),\n  4: () => ({\n    x: format(1 + 0.04 * player.constantUpgrades[4], 2, true)\n  }),\n  5: () => ({\n    x: format(Decimal.pow(1 + 0.1 * Decimal.log(player.ascendShards.add(1), 10), player.constantUpgrades[5]), 2, true)\n  }),\n  6: () => ({\n    x: format(2 * player.constantUpgrades[6])\n  }),\n  7: () => ({\n    x: format(7 * player.constantUpgrades[7]),\n    y: format(3 * player.constantUpgrades[7])\n  }),\n  8: () => ({\n    x: format(1 + 1 / 10 * player.constantUpgrades[8], 2, true)\n  }),\n  9: () => ({\n    x: format(\n      1 + 0.01 * Math.log(player.talismanShards + 1) / Math.log(4) * Math.min(1, player.constantUpgrades[9]),\n      4,\n      true\n    )\n  }),\n  10: () => ({\n    x: format(1 + 0.01 * Decimal.log(player.ascendShards.add(1), 4) * Math.min(1, player.constantUpgrades[10]), 4, true)\n  })\n}\n\nconst returnConstUpgDesc = (i: number) => i18next.t(`upgrades.constantUpgrades.${i}`, constantUpgDesc[i]?.())\nconst returnConstUpgEffect = (i: number) => i18next.t(`upgrades.constantEffects.${i}`, constUpgEffect[i]?.())\n\nexport const getConstUpgradeMetadata = (i: number): [number, Decimal] => {\n  let toBuy: number\n  let cost: Decimal\n\n  if (i >= 9) {\n    if (player.constantUpgrades[i]! >= 1) {\n      toBuy = 0\n    } else {\n      toBuy = Math.min(\n        1,\n        Math.max(\n          0,\n          Math.floor(\n            1 + Decimal.log(Decimal.max(0.01, player.ascendShards), 10)\n              - Math.log(G.constUpgradeCosts[i]!) / Math.log(10)\n          )\n        )\n      )\n    }\n  } else {\n    toBuy = Math.max(\n      0,\n      Math.floor(\n        1 + Decimal.log(Decimal.max(0.01, player.ascendShards), 10) - Math.log(G.constUpgradeCosts[i]!) / Math.log(10)\n      )\n    )\n  }\n\n  if (toBuy > player.constantUpgrades[i]!) {\n    cost = Decimal.pow(10, toBuy - 1).times(G.constUpgradeCosts[i]!)\n  } else {\n    cost = i >= 9 && player.constantUpgrades[i]! >= 1\n      ? new Decimal('0')\n      : Decimal.pow(10, player.constantUpgrades[i]!).times(G.constUpgradeCosts[i]!)\n  }\n\n  return [Math.max(1, toBuy - player.constantUpgrades[i]!), cost]\n}\n\nexport const constantUpgradeDescriptions = (i: number) => {\n  const [level, cost] = getConstUpgradeMetadata(i)\n  DOMCacheGetOrSet('constUpgradeDescription').textContent = returnConstUpgDesc(i)\n  if (i >= 9) {\n    DOMCacheGetOrSet('constUpgradeLevel2').textContent = `${format(Math.min(1, player.constantUpgrades[i]!))}/1`\n  } else DOMCacheGetOrSet('constUpgradeLevel2').textContent = format(player.constantUpgrades[i])\n  DOMCacheGetOrSet('constUpgradeCost2').textContent = `${format(cost)} [+${format(level)} LVL]`\n  DOMCacheGetOrSet('constUpgradeEffect2').textContent = returnConstUpgEffect(i)\n}\n\nexport const buyConstantUpgrades = (i: number, fast = false) => {\n  const [level, cost] = getConstUpgradeMetadata(i)\n  if (i <= 8 || (i >= 9 && player.constantUpgrades[i]! < 1)) {\n    if (player.ascendShards.gte(cost)) {\n      player.constantUpgrades[i]! += level\n      if (player.researches[175] === 0) {\n        player.ascendShards = player.ascendShards.sub(cost)\n      }\n      if (!fast) {\n        constantUpgradeDescriptions(i)\n      }\n    }\n  }\n  calculateAnts()\n  calculateRuneLevels()\n}\n", "import type { DecimalSource } from 'break_infinity.js'\nimport Decimal from 'break_infinity.js'\nimport i18next from 'i18next'\nimport { achievementaward } from './Achievements'\nimport { DOMCacheGetOrSet } from './Cache/DOM'\nimport { calculateCorruptionPoints, calculateRuneBonuses, calculateSummationLinear } from './Calculate'\nimport { CalcECC } from './Challenges'\nimport { reset } from './Reset'\nimport { format, player, updateAllMultiplier, updateAllTick } from './Synergism'\nimport type { FirstToFifth, OneToFive, ZeroToFour } from './types/Synergism'\nimport { crystalupgradedescriptions, upgradeupdate } from './Upgrades'\nimport { smallestInc } from './Utility'\nimport { Globals as G, Upgrade } from './Variables'\n\nexport const getReductionValue = () => {\n  let reduction = 1\n  reduction += Math.min(1e15, (G.rune4level * G.effectiveLevelMult) / 160)\n  reduction += (player.researches[56] + player.researches[57] + player.researches[58] + player.researches[59]\n    + player.researches[60]) / 200\n  reduction += CalcECC('transcend', player.challengecompletions[4]) / 200\n  reduction += Math.min(99999.9, (3 * (player.antUpgrades[7 - 1]! + G.bonusant7)) / 100)\n  return reduction\n}\n\nconst getCostAccelerator = (buyingTo: number): Decimal => {\n  ;--buyingTo\n\n  const originalCost = 500\n  let cost = new Decimal(originalCost)\n\n  cost = cost.times(Decimal.pow(4 / G.costDivisor, buyingTo))\n\n  if (buyingTo > (125 + 5 * CalcECC('transcend', player.challengecompletions[4]))) {\n    const num = buyingTo - 125 - 5 * CalcECC('transcend', player.challengecompletions[4])\n    const factorialBit = new Decimal(num).factorial()\n    const multBit = Decimal.pow(4, num)\n    cost = cost.times(multBit.times(factorialBit))\n  }\n\n  if (buyingTo > (2000 + 5 * CalcECC('transcend', player.challengecompletions[4]))) {\n    const sumNum = buyingTo - 2000 - 5 * CalcECC('transcend', player.challengecompletions[4])\n    const sumBit = sumNum * (sumNum + 1) / 2\n    cost = cost.times(Decimal.pow(2, sumBit))\n  }\n\n  if (player.currentChallenge.transcension === 4) {\n    const sumBit = buyingTo * (buyingTo + 1) / 2\n    cost = cost.times(Decimal.pow(10, sumBit))\n  }\n\n  if (player.currentChallenge.reincarnation === 8) {\n    const sumBit = buyingTo * (buyingTo + 1) / 2\n    cost = cost.times(Decimal.pow(1e50, sumBit))\n  }\n  const buymax = Math.pow(10, 15)\n  if (buyingTo > buymax) {\n    const diminishingExponent = 1 / 8\n\n    const QuadrillionCost = getCostAccelerator(buymax)\n\n    const newCost = QuadrillionCost.pow(Math.pow(buyingTo / buymax, 1 / diminishingExponent))\n    const newExtra = newCost.exponent - Math.floor(newCost.exponent)\n    newCost.exponent = Math.floor(newCost.exponent)\n    newCost.mantissa *= Math.pow(10, newExtra)\n    newCost.normalize()\n    return Decimal.max(cost, newCost)\n  }\n  return cost\n}\n\nexport const buyAccelerator = (autobuyer?: boolean) => {\n  const buyStart = player.acceleratorBought\n  const buymax = Math.pow(10, 15)\n  // If at least buymax, we will use a different formulae\n  if (buyStart >= buymax) {\n    const diminishingExponent = 1 / 8\n\n    const log10Resource = Decimal.log10(player.coins)\n    const log10QuadrillionCost = Decimal.log10(getCostAccelerator(buymax))\n\n    let hi = Math.floor(buymax * Math.max(1, Math.pow(log10Resource / log10QuadrillionCost, diminishingExponent)))\n    let lo = buymax\n    while (hi - lo > 0.5) {\n      const mid = Math.floor(lo + (hi - lo) / 2)\n      if (mid === lo || mid === hi) {\n        break\n      }\n      if (!player.coins.gte(getCostAccelerator(mid))) {\n        hi = mid\n      } else {\n        lo = mid\n      }\n    }\n    const buyable = lo\n    const thisCost = getCostAccelerator(buyable)\n\n    player.acceleratorBought = buyable\n    player.acceleratorCost = thisCost\n    return\n  }\n\n  // Start buying at the current amount bought + 1\n  const buydefault = buyStart + smallestInc(buyStart)\n  let buyTo = buydefault\n\n  let cashToBuy = getCostAccelerator(buyTo)\n  while (player.coins.gte(cashToBuy)) {\n    // then multiply by 4 until it reaches just above the amount needed\n    buyTo = buyTo * 4\n    cashToBuy = getCostAccelerator(buyTo)\n  }\n  let stepdown = Math.floor(buyTo / 8)\n  while (stepdown >= smallestInc(buyTo)) {\n    // if step down would push it below out of expense range then divide step down by 2\n    if (getCostAccelerator(buyTo - stepdown).lte(player.coins)) {\n      stepdown = Math.floor(stepdown / 2)\n    } else {\n      buyTo = buyTo - Math.max(smallestInc(buyTo), stepdown)\n    }\n  }\n\n  if (!autobuyer && (player.coinbuyamount as number | string) !== 'max') {\n    if (player.acceleratorBought + player.coinbuyamount < buyTo) {\n      buyTo = player.acceleratorBought + player.coinbuyamount\n    }\n  }\n\n  let buyFrom = Math.max(buyTo - 6 - smallestInc(buyTo), buydefault)\n  let thisCost = getCostAccelerator(buyFrom)\n  while (buyFrom <= buyTo && player.coins.gte(thisCost)) {\n    if (buyFrom >= buymax) {\n      buyFrom = buymax\n    }\n    player.coins = player.coins.sub(thisCost)\n    player.acceleratorBought = buyFrom\n    buyFrom = buyFrom + smallestInc(buyFrom)\n    thisCost = getCostAccelerator(buyFrom)\n    player.acceleratorCost = thisCost\n    if (buyFrom >= buymax) {\n      return\n    }\n  }\n\n  player.prestigenoaccelerator = false\n  player.transcendnoaccelerator = false\n  player.reincarnatenoaccelerator = false\n  updateAllTick()\n  if (player.acceleratorBought >= 5 && player.achievements[148] === 0) {\n    achievementaward(148)\n  }\n  if (player.acceleratorBought >= 25 && player.achievements[149] === 0) {\n    achievementaward(149)\n  }\n  if (player.acceleratorBought >= 100 && player.achievements[150] === 0) {\n    achievementaward(150)\n  }\n  if (player.acceleratorBought >= 666 && player.achievements[151] === 0) {\n    achievementaward(151)\n  }\n  if (player.acceleratorBought >= 2000 && player.achievements[152] === 0) {\n    achievementaward(152)\n  }\n  if (player.acceleratorBought >= 12500 && player.achievements[153] === 0) {\n    achievementaward(153)\n  }\n  if (player.acceleratorBought >= 100000 && player.achievements[154] === 0) {\n    achievementaward(154)\n  }\n}\n\nconst getCostMultiplier = (buyingTo: number): Decimal => {\n  ;--buyingTo\n\n  const originalCost = 1e4\n  let cost = new Decimal(originalCost)\n  cost = cost.times(Decimal.pow(10, buyingTo / G.costDivisor))\n\n  if (buyingTo > (75 + 2 * CalcECC('transcend', player.challengecompletions[4]))) {\n    const num = buyingTo - 75 - 2 * CalcECC('transcend', player.challengecompletions[4])\n    const factorialBit = new Decimal(num).factorial()\n    const powBit = Decimal.pow(10, num)\n    cost = cost.times(factorialBit.times(powBit))\n  }\n\n  if (buyingTo > (2000 + 2 * CalcECC('transcend', player.challengecompletions[4]))) {\n    const sumNum = buyingTo - 2000 - 2 * CalcECC('transcend', player.challengecompletions[4])\n    const sumBit = sumNum * (sumNum + 1) / 2\n    cost = cost.times(Decimal.pow(2, sumBit))\n  }\n  if (player.currentChallenge.transcension === 4) {\n    const sumBit = buyingTo * (buyingTo + 1) / 2\n    cost = cost.times(Decimal.pow(10, sumBit))\n  }\n  if (player.currentChallenge.reincarnation === 8) {\n    const sumBit = buyingTo * (buyingTo + 1) / 2\n    cost = cost.times(Decimal.pow(1e50, sumBit))\n  }\n  const buymax = Math.pow(10, 15)\n  if (buyingTo > buymax) {\n    const diminishingExponent = 1 / 8\n\n    const QuadrillionCost = getCostMultiplier(buymax)\n\n    const newCost = QuadrillionCost.pow(Math.pow(buyingTo / buymax, 1 / diminishingExponent))\n    const newExtra = newCost.exponent - Math.floor(newCost.exponent)\n    newCost.exponent = Math.floor(newCost.exponent)\n    newCost.mantissa *= Math.pow(10, newExtra)\n    newCost.normalize()\n    return Decimal.max(cost, newCost)\n  }\n  return cost\n}\n\nexport const buyMultiplier = (autobuyer?: boolean) => {\n  const buyStart = player.multiplierBought\n  const buymax = Math.pow(10, 15)\n  // If at least buymax, we will use a different formulae\n  if (buyStart >= buymax) {\n    const diminishingExponent = 1 / 8\n\n    const log10Resource = Decimal.log10(player.coins)\n    const log10QuadrillionCost = Decimal.log10(getCostMultiplier(buymax))\n\n    let hi = Math.floor(buymax * Math.max(1, Math.pow(log10Resource / log10QuadrillionCost, diminishingExponent)))\n    let lo = buymax\n    while (hi - lo > 0.5) {\n      const mid = Math.floor(lo + (hi - lo) / 2)\n      if (mid === lo || mid === hi) {\n        break\n      }\n      if (!player.coins.gte(getCostMultiplier(mid))) {\n        hi = mid\n      } else {\n        lo = mid\n      }\n    }\n    const buyable = lo\n    const thisCost = getCostMultiplier(buyable)\n\n    player.multiplierBought = buyable\n    player.multiplierCost = thisCost\n    return\n  }\n\n  // Start buying at the current amount bought + 1\n  const buydefault = buyStart + smallestInc(buyStart)\n  let buyTo = buydefault\n\n  let cashToBuy = getCostMultiplier(buyTo)\n  while (player.coins.gte(cashToBuy)) {\n    // then multiply by 4 until it reaches just above the amount needed\n    buyTo = buyTo * 4\n    cashToBuy = getCostMultiplier(buyTo)\n  }\n  let stepdown = Math.floor(buyTo / 8)\n  while (stepdown >= smallestInc(buyTo)) {\n    // if step down would push it below out of expense range then divide step down by 2\n    if (getCostMultiplier(buyTo - stepdown).lte(player.coins)) {\n      stepdown = Math.floor(stepdown / 2)\n    } else {\n      buyTo = buyTo - Math.max(smallestInc(buyTo), stepdown)\n    }\n  }\n\n  if (!autobuyer && (player.coinbuyamount as number | string) !== 'max') {\n    if (player.multiplierBought + player.coinbuyamount < buyTo) {\n      buyTo = player.multiplierBought + player.coinbuyamount\n    }\n  }\n\n  let buyFrom = Math.max(buyTo - 6 - smallestInc(buyTo), buydefault)\n  let thisCost = getCostMultiplier(buyFrom)\n  while (buyFrom <= buyTo && player.coins.gte(thisCost)) {\n    if (buyFrom >= buymax) {\n      buyFrom = buymax\n    }\n    player.coins = player.coins.sub(thisCost)\n    player.multiplierBought = buyFrom\n    buyFrom = buyFrom + smallestInc(buyFrom)\n    thisCost = getCostMultiplier(buyFrom)\n    player.multiplierCost = thisCost\n    if (buyFrom >= buymax) {\n      return\n    }\n  }\n\n  player.prestigenomultiplier = false\n  player.transcendnomultiplier = false\n  player.reincarnatenomultiplier = false\n  updateAllMultiplier()\n  if (player.multiplierBought >= 2 && player.achievements[155] === 0) {\n    achievementaward(155)\n  }\n  if (player.multiplierBought >= 20 && player.achievements[156] === 0) {\n    achievementaward(156)\n  }\n  if (player.multiplierBought >= 100 && player.achievements[157] === 0) {\n    achievementaward(157)\n  }\n  if (player.multiplierBought >= 500 && player.achievements[158] === 0) {\n    achievementaward(158)\n  }\n  if (player.multiplierBought >= 2000 && player.achievements[159] === 0) {\n    achievementaward(159)\n  }\n  if (player.multiplierBought >= 12500 && player.achievements[160] === 0) {\n    achievementaward(160)\n  }\n  if (player.multiplierBought >= 100000 && player.achievements[161] === 0) {\n    achievementaward(161)\n  }\n}\n\n/*\n// Uses same as Decimal prototype but does so without creating new objects\nDecimal.prototype.factorial = function () {\n  // Using Stirling's Approximation.\n  // https://en.wikipedia.org/wiki/Stirling%27s_approximation#Versions_suitable_for_calculators\n  var n = this.toNumber() + 1;\n  return Decimal.pow(n / Math.E * Math.sqrt(n * Math.sinh(1 / n) + 1 / (810 * Math.pow(n, 6))), n).mul(Math.sqrt(2 * Math.PI / n));\n};\n*/\n\nconst mantissaFactorialPartExtra = Math.log10(2 * Math.PI)\nconst exponentFactorialPartExtra = Math.log10(Math.E)\n\nconst factorialByExponent = (fact: number) => {\n  if (++fact === 0) {\n    return 0\n  }\n  return ((Math.log10(fact * Math.sqrt(fact * Math.sinh(1 / fact) + 1 / (810 * Math.pow(fact, 6))))\n    - exponentFactorialPartExtra) * fact) + ((mantissaFactorialPartExtra - Math.log10(fact)) / 2)\n}\n\nconst fact100exponent = Math.log10(9.332621544394e+157)\n\n// system of equations\n// 16 digits of precision\n// log10(1.25)xn = log10(x)+16\n// see: https://www.wolframalpha.com/input/?i=log10%28x%29%2B16+%3D+log10%281.25%29x\n// xn ~= 188.582\n// x ~= 188.582/n\nconst precision16_loss_addition_of_ones = 188.582\nconst known_log10s = (() => {\n  // needed logs\n  const needed = [1.03, 1.25]\n  const nums = [1, 2, 3, 4, 5, 6, 10, 15]\n  for (const num of nums) {\n    needed.push(100 + (100 * num))\n    needed.push(10 + (10 * num))\n  }\n\n  // Gets all possible challenge 8 completion amounts\n  const chalcompletions = 1000\n  for (let i = 0; i < chalcompletions; ++i) {\n    needed.push(1 + (i / 2))\n  }\n\n  // constructing all logs\n  const obj: Record<number, number> = {}\n  for (const need of needed) {\n    if (typeof obj[need] === 'undefined') {\n      obj[need] = Math.log10(need)\n    }\n  }\n  return obj\n})()\n\nconst coinBuildingCosts = [100, 1000, 2e4, 4e5, 8e6] as const\nconst diamondBuildingCosts = [100, 1e5, 1e15, 1e40, 1e100] as const\nconst mythosAndParticleBuildingCosts = [1, 1e2, 1e4, 1e8, 1e16] as const\n\nconst getCostInternal = (\n  originalCost: DecimalSource,\n  buyingTo: number,\n  type: keyof typeof buyProducerTypes,\n  num: number,\n  r: number\n): Decimal => {\n  // It's 0 indexed by mistake so you have to subtract 1 somewhere.\n  ;--buyingTo\n  const buymax = Math.pow(10, 15)\n  // Accounts for the multiplies by 1.25^num buyingTo times\n  const cost = new Decimal(originalCost)\n  let mlog10125 = num * buyingTo\n  // Accounts for the add 1s\n  if (buyingTo < precision16_loss_addition_of_ones / num) {\n    cost.mantissa += buyingTo / Math.pow(10, cost.exponent)\n  }\n  let fastFactMultBuyTo = 0\n  // floored r value gets used a lot in removing calculations\n  let fr = Math.floor(r * 1000)\n  if (buyingTo >= r * 1000) {\n    // This code is such a mess at this point, just know that this is equivalent to what it was before\n    ;++fastFactMultBuyTo\n    cost.exponent -= factorialByExponent(fr)\n    cost.exponent += (-3 + Math.log10(1 + (num / 2))) * (buyingTo - fr)\n  }\n\n  fr = Math.floor(r * 5000)\n  if (buyingTo >= r * 5000) {\n    // This code is such a mess at this point, just know that this is equivalent to what it was before\n    ;++fastFactMultBuyTo\n    cost.exponent -= factorialByExponent(fr)\n    cost.exponent += ((known_log10s[10 + num * 10] + 1) * (buyingTo - fr - 1)) + 1\n  }\n\n  fr = Math.floor(r * 20000)\n  if (buyingTo >= r * 20000) {\n    // This code is such a mess at this point, just know that this is equivalent to what it was before\n    fastFactMultBuyTo += 3\n    cost.exponent -= factorialByExponent(fr) * 3\n    cost.exponent += (known_log10s[100 + (100 * num)] + 5) * (buyingTo - fr)\n  }\n\n  fr = Math.floor(r * 250000)\n  if (buyingTo >= r * 250000) {\n    // 1.03^x*1.03^y = 1.03^(x+y), we'll abuse this for this section of the algorithm\n    // 1.03^(x+y-((number of terms)250000*r))\n    // up to 250003 case\n    // assume r = 1 for this case\n    // (1.03^250000-250000)(1.03^250001-250000)(1.03^250002-250000)(1.03^250003) = (1.03^0*1.03^1*1.03^2*1.03^3)\n    // so in reality we just need to take buyingTo - fr and sum the power up to it\n    // (1.03^(sum from 0 to buyingTo - fr)) is the multiplier\n    // so (1.03^( (buyingTo-fr)(buyingTo-fr+1)/2 )\n    // god damn that was hard to make an algo for\n    cost.exponent += Math.log10(1.03) * (buyingTo - fr) * ((buyingTo - fr + 1) / 2)\n  }\n  // Applies the factorials from earlier without computing them 5 times\n  cost.exponent += factorialByExponent(buyingTo) * fastFactMultBuyTo\n  let fastFactMultBuyTo100 = 0\n  if ((player.currentChallenge.transcension === 4) && (type === 'Coin' || type === 'Diamonds')) {\n    // you would not fucking believe how long it took me to figure this out\n    // (100*costofcurrent + 10000)^n = (((100+buyingTo)!/100!)*100^buyingTo)^n\n    ;++fastFactMultBuyTo100\n    if (buyingTo >= (1000 - (10 * player.challengecompletions[4]))) {\n      // and I changed this to be a summation of all the previous buys 1.25 to the sum from 1 to buyingTo\n      mlog10125 += buyingTo * (buyingTo + 1) / 2\n    }\n  }\n  if ((player.currentChallenge.reincarnation === 10) && (type === 'Coin' || type === 'Diamonds')) {\n    // you would not fucking believe how long it took me to figure this out\n    // (100*costofcurrent + 10000)^n = (((100+buyingTo)!/100!)*100^buyingTo)^n\n    ;++fastFactMultBuyTo100\n    if (buyingTo >= (r * 25000)) {\n      // and I changed this to be a summation of all the previous buys 1.25 to the sum from 1 to buyingTo\n      mlog10125 += buyingTo * (buyingTo + 1) / 2\n    }\n  }\n  // Applies the factorial w/ formula from earlier n times to avoid multiple computations\n  cost.exponent += fastFactMultBuyTo100\n    * ((factorialByExponent(buyingTo + 100) - fact100exponent + (2 * buyingTo))\n      * (1.25 + (player.challengecompletions[4] / 4)))\n  // Applies all the Math.log10(1.25)s from earlier n times to avoid multiple computations\n  // log10(1.25)\n  cost.exponent += known_log10s[1.25] * mlog10125\n  fr = Math.floor(r * 1000 * player.challengecompletions[8])\n  if (\n    player.currentChallenge.reincarnation === 8 && (type === 'Coin' || type === 'Diamonds' || type === 'Mythos')\n    && buyingTo >= (1000 * player.challengecompletions[8] * r)\n  ) {\n    cost.exponent +=\n      ((known_log10s[2] * ((buyingTo - fr + 1) / 2)) - known_log10s[1 + (player.challengecompletions[8] / 2)])\n      * (buyingTo - fr)\n  }\n\n  const extra = cost.exponent - Math.floor(cost.exponent)\n  cost.exponent = Math.floor(cost.exponent)\n  cost.mantissa *= Math.pow(10, extra)\n  cost.normalize()\n  if (buyingTo > buymax) {\n    const diminishingExponent = 1 / 8\n\n    const QuadrillionCost = getCostInternal(originalCost, buymax, type, num, r)\n\n    const newCost = QuadrillionCost.pow(Math.pow(buyingTo / buymax, 1 / diminishingExponent))\n    const newExtra = newCost.exponent - Math.floor(newCost.exponent)\n    newCost.exponent = Math.floor(newCost.exponent)\n    newCost.mantissa *= Math.pow(10, newExtra)\n    newCost.normalize()\n    return Decimal.max(cost, newCost)\n  }\n  return cost\n}\n\nconst getOriginalCostAndNum = (index: OneToFive, type: keyof typeof buyProducerTypes) => {\n  const originalCostArray = type === 'Coin'\n    ? coinBuildingCosts\n    : type === 'Diamonds'\n    ? diamondBuildingCosts\n    : mythosAndParticleBuildingCosts\n  const num = type === 'Coin' ? index : index * (index + 1) / 2\n  const originalCost = originalCostArray[index - 1 as ZeroToFour]\n  return [originalCost, num] as const\n}\n\nexport const getCost = (index: OneToFive, type: keyof typeof buyProducerTypes, buyingTo: number, r?: number) => {\n  const [originalCost, num] = getOriginalCostAndNum(index, type)\n  return getCostInternal(originalCost, buyingTo, type, num, r ?? getReductionValue())\n}\n\nexport const buyMax = (index: OneToFive, type: keyof typeof buyProducerTypes) => {\n  const zeroIndex = index - 1 as ZeroToFour\n  const pos = G.ordinals[zeroIndex]\n  const [originalCost, num] = getOriginalCostAndNum(index, type)\n\n  const buymax = Math.pow(10, 15)\n  const coinmax = 1e99\n  const r = getReductionValue()\n  const tag = buyProducerTypes[type][0]\n\n  const posOwnedType = `${pos}Owned${type}` as const\n\n  const buyStart = player[posOwnedType]\n  // If at least buymax, we will use a different formulae\n  if (buyStart >= buymax) {\n    const diminishingExponent = 1 / 8\n\n    const log10Resource = Decimal.log10(player[tag])\n    const log10QuadrillionCost = Decimal.log10(getCostInternal(originalCost, buymax, type, num, r))\n\n    let hi = Math.floor(buymax * Math.max(1, Math.pow(log10Resource / log10QuadrillionCost, diminishingExponent)))\n    let lo = buymax\n    while (hi - lo > 0.5) {\n      const mid = Math.floor(lo + (hi - lo) / 2)\n      if (mid === lo || mid === hi) {\n        break\n      }\n      if (!player[tag].gte(getCostInternal(originalCost, mid, type, num, r))) {\n        hi = mid\n      } else {\n        lo = mid\n      }\n    }\n    const buyable = lo\n    const thisCost = getCostInternal(originalCost, buyable, type, num, r)\n\n    player[posOwnedType] = buyable\n    player[`${pos}Cost${type}` as const] = thisCost\n    return\n  }\n\n  // Start buying at the current amount bought + 1\n  const buydefault = buyStart + smallestInc(buyStart)\n  let buyInc = 1\n\n  let cashToBuy = getCostInternal(originalCost, buyStart + buyInc, type, num, r)\n\n  // Degenerate Case: return maximum if coins is too large\n  if (cashToBuy.exponent >= coinmax || !player[tag].gte(cashToBuy)) {\n    return\n  }\n\n  while (cashToBuy.exponent < coinmax && player[tag].gte(cashToBuy)) {\n    // then multiply by 4 until it reaches just above the amount needed\n    buyInc = buyInc * 4\n    cashToBuy = getCostInternal(originalCost, buyStart + buyInc, type, num, r)\n  }\n  let stepdown = Math.floor(buyInc / 8)\n  while (stepdown >= smallestInc(buyInc)) {\n    // if step down would push it below out of expense range then divide step down by 2\n    if (getCostInternal(originalCost, buyStart + buyInc - stepdown, type, num, r).lte(player[tag])) {\n      stepdown = Math.floor(stepdown / 2)\n    } else {\n      buyInc = buyInc - Math.max(smallestInc(buyInc), stepdown)\n    }\n  }\n\n  // Resolves the infamous autobuyer bug, for large values. This prevents the notion of even being able\n  // to go above the buymax. Future instances will also not check more than the first few lines\n  // meaning that the code below this cannot run if this ever runs.\n  if (buyStart + buyInc >= buymax) {\n    player[posOwnedType] = buymax\n    player[`${pos}Cost${type}` as const] = getCostInternal(originalCost, buymax, type, num, r)\n    return\n  }\n\n  // go down by 7 steps below the last one able to be bought and spend the cost of 25 up to the one that you started with and stop if coin goes below requirement\n  let buyFrom = Math.max(buyStart + buyInc - 6 - smallestInc(buyInc), buydefault)\n  let thisCost = getCostInternal(originalCost, buyFrom, type, num, r)\n  while (buyFrom <= buyStart + buyInc && player[tag].gte(thisCost)) {\n    player[tag] = player[tag].sub(thisCost)\n    player[posOwnedType] = buyFrom\n    buyFrom = buyFrom + smallestInc(buyFrom)\n    thisCost = getCostInternal(originalCost, buyFrom, type, num, r)\n    player[`${pos}Cost${type}` as const] = thisCost\n  }\n}\n\nconst buyProducerTypes = {\n  Diamonds: ['prestigePoints', 'crystal'],\n  Mythos: ['transcendPoints', 'mythos'],\n  Particles: ['reincarnationPoints', 'particle'],\n  Coin: ['coins', 'coin']\n} as const\n\nexport const buyProducer = (\n  pos: FirstToFifth,\n  type: keyof typeof buyProducerTypes,\n  num: number,\n  autobuyer?: boolean\n) => {\n  const [tag, amounttype] = buyProducerTypes[type]\n  const buythisamount = autobuyer ? 500 : player[`${amounttype}buyamount` as const]\n  let r = 1\n  r += (G.rune4level * G.effectiveLevelMult) / 160\n  r += (player.researches[56] + player.researches[57] + player.researches[58] + player.researches[59]\n    + player.researches[60]) / 200\n  r += CalcECC('transcend', player.challengecompletions[4]) / 200\n  r += (3 * (G.bonusant7 + player.antUpgrades[7 - 1]!)) / 100\n\n  const posCostType = `${pos}Cost${type}` as const\n  const posOwnedType = `${pos}Owned${type}` as const\n\n  while (\n    player[tag].gte(player[posCostType]) && G.ticker < buythisamount && player[posOwnedType] < Number.MAX_SAFE_INTEGER\n  ) {\n    player[tag] = player[tag].sub(player[posCostType])\n    player[posOwnedType] += 1\n    player[posCostType] = player[posCostType].times(Decimal.pow(1.25, num))\n    player[posCostType] = player[posCostType].add(1)\n    if (player[posOwnedType] >= (1000 * r)) {\n      player[posCostType] = player[posCostType].times(player[posOwnedType]).dividedBy(1000).times(1 + num / 2)\n    }\n    if (player[posOwnedType] >= (5000 * r)) {\n      player[posCostType] = player[posCostType].times(player[posOwnedType]).times(10).times(10 + num * 10)\n    }\n    if (player[posOwnedType] >= (20000 * r)) {\n      player[posCostType] = player[posCostType].times(Decimal.pow(player[posOwnedType], 3)).times(100000).times(\n        100 + num * 100\n      )\n    }\n    if (player[posOwnedType] >= (250000 * r)) {\n      player[posCostType] = player[posCostType].times(Decimal.pow(1.03, player[posOwnedType] - 250000 * r))\n    }\n    if (player.currentChallenge.transcension === 4 && (type === 'Coin' || type === 'Diamonds')) {\n      player[posCostType] = player[posCostType].times(\n        Math.pow(100 * player[posOwnedType] + 10000, 1.25 + 1 / 4 * player.challengecompletions[4])\n      )\n      if (player[posOwnedType] >= 1000 - (10 * player.challengecompletions[4])) {\n        player[posCostType] = player[posCostType].times(Decimal.pow(1.25, player[posOwnedType]))\n      }\n    }\n    if (\n      player.currentChallenge.reincarnation === 8 && (type === 'Coin' || type === 'Diamonds' || type === 'Mythos')\n      && player[posOwnedType] >= (1000 * player.challengecompletions[8] * r)\n    ) {\n      player[posCostType] = player[posCostType].times(\n        Decimal.pow(\n          2,\n          (player[posOwnedType] - (1000 * player.challengecompletions[8] * r))\n            / (1 + (player.challengecompletions[8] / 2))\n        )\n      )\n    }\n    G.ticker += 1\n  }\n  G.ticker = 0\n}\n\nexport const buyUpgrades = (type: Upgrade, pos: number, state?: boolean) => {\n  const currency = type\n  if (player[currency].gte(Decimal.pow(10, G.upgradeCosts[pos])) && player.upgrades[pos] === 0) {\n    player[currency] = player[currency].sub(Decimal.pow(10, G.upgradeCosts[pos]))\n    player.upgrades[pos] = 1\n    upgradeupdate(pos, state)\n  }\n\n  if (type === Upgrade.transcend) {\n    player.reincarnatenocoinprestigeortranscendupgrades = false\n    player.reincarnatenocoinprestigetranscendorgeneratorupgrades = false\n  }\n  if (type === Upgrade.prestige) {\n    player.transcendnocoinorprestigeupgrades = false\n    player.reincarnatenocoinorprestigeupgrades = false\n    player.reincarnatenocoinprestigeortranscendupgrades = false\n    player.reincarnatenocoinprestigetranscendorgeneratorupgrades = false\n  }\n  if (type === Upgrade.coin) {\n    player.prestigenocoinupgrades = false\n    player.transcendnocoinupgrades = false\n    player.transcendnocoinorprestigeupgrades = false\n    player.reincarnatenocoinupgrades = false\n    player.reincarnatenocoinorprestigeupgrades = false\n    player.reincarnatenocoinprestigeortranscendupgrades = false\n    player.reincarnatenocoinprestigetranscendorgeneratorupgrades = false\n  }\n}\n\nexport const calculateCrystalBuy = (i: number) => {\n  const u = i - 1\n  const exponent = Decimal.log(player.prestigeShards.add(1), 10)\n\n  const toBuy = Math.floor(\n    Math.pow(Math.max(0, 2 * (exponent - G.crystalUpgradesCost[u]) / G.crystalUpgradeCostIncrement[u] + 1 / 4), 1 / 2)\n      + 1 / 2\n  )\n  return toBuy\n}\n\nexport const buyCrystalUpgrades = (i: number, auto = false) => {\n  const u = i - 1\n\n  let c = 0\n  c += Math.floor(G.rune3level / 16 * G.effectiveLevelMult) * 100 / 100\n  if (player.upgrades[73] > 0.5 && player.currentChallenge.reincarnation !== 0) {\n    c += 10\n  }\n\n  const toBuy = calculateCrystalBuy(i)\n\n  if (toBuy + c > player.crystalUpgrades[u]) {\n    player.crystalUpgrades[u] = 100 / 100 * (toBuy + c)\n    if (toBuy > 0) {\n      player.prestigeShards = player.prestigeShards.sub(\n        Decimal.pow(\n          10,\n          G.crystalUpgradesCost[u] + G.crystalUpgradeCostIncrement[u] * (1 / 2 * Math.pow(toBuy - 1 / 2, 2) - 1 / 8)\n        )\n      )\n      if (!auto) {\n        crystalupgradedescriptions(i)\n      }\n    }\n  }\n}\n\nexport const boostAccelerator = (automated?: boolean) => {\n  let buyamount = 1\n  if (player.upgrades[46] === 1) {\n    buyamount = automated ? 9999 : player.coinbuyamount\n  }\n\n  if (player.upgrades[46] < 1) {\n    while (player.prestigePoints.gte(player.acceleratorBoostCost) && G.ticker < buyamount) {\n      if (player.prestigePoints.gte(player.acceleratorBoostCost)) {\n        player.acceleratorBoostBought += 1\n        player.acceleratorBoostCost = player.acceleratorBoostCost.times(1e10).times(\n          Decimal.pow(10, player.acceleratorBoostBought)\n        )\n        if (player.acceleratorBoostBought > (1000 * (1 + 2 * G.effectiveRuneBlessingPower[4]))) {\n          player.acceleratorBoostCost = player.acceleratorBoostCost.times(\n            Decimal.pow(\n              10,\n              Math.pow(player.acceleratorBoostBought - (1000 * (1 + 2 * G.effectiveRuneBlessingPower[4])), 2)\n                / (1 + 2 * G.effectiveRuneBlessingPower[4])\n            )\n          )\n        }\n        player.transcendnoaccelerator = false\n        player.reincarnatenoaccelerator = false\n        if (player.upgrades[46] < 0.5) {\n          for (let j = 21; j < 41; j++) {\n            player.upgrades[j] = 0\n          }\n          reset('prestige')\n          player.prestigePoints = new Decimal(0)\n        }\n      }\n    }\n  } else {\n    const buyStart = player.acceleratorBoostBought\n    const buymax = Math.pow(10, 15)\n    // If at least buymax, we will use a different formulae\n    if (buyStart >= buymax) {\n      const diminishingExponent = 1 / 8\n\n      const log10Resource = Decimal.log10(player.prestigePoints)\n      const log10QuadrillionCost = Decimal.log10(getAcceleratorBoostCost(buymax))\n\n      let hi = Math.floor(buymax * Math.max(1, Math.pow(log10Resource / log10QuadrillionCost, diminishingExponent)))\n      let lo = buymax\n      while (hi - lo > 0.5) {\n        const mid = Math.floor(lo + (hi - lo) / 2)\n        if (mid === lo || mid === hi) {\n          break\n        }\n        if (!player.prestigePoints.gte(getAcceleratorBoostCost(mid))) {\n          hi = mid\n        } else {\n          lo = mid\n        }\n      }\n      const buyable = lo\n      const thisCost = getAcceleratorBoostCost(buyable)\n\n      player.acceleratorBoostBought = buyable\n      player.acceleratorBoostCost = thisCost\n      return\n    }\n\n    // Start buying at the current amount bought + 1\n    const buydefault = buyStart + smallestInc(buyStart)\n    let buyInc = 1\n\n    let cost = getAcceleratorBoostCost(buyStart + buyInc)\n    while (player.prestigePoints.gte(cost)) {\n      buyInc *= 4\n      cost = getAcceleratorBoostCost(buyStart + buyInc)\n    }\n    let stepdown = Math.floor(buyInc / 8)\n    while (stepdown >= smallestInc(buyInc)) {\n      // if step down would push it below out of expense range then divide step down by 2\n      if (getAcceleratorBoostCost(buyStart + buyInc - stepdown).lte(player.prestigePoints)) {\n        stepdown = Math.floor(stepdown / 2)\n      } else {\n        buyInc = buyInc - Math.max(smallestInc(buyInc), stepdown)\n      }\n    }\n    // go down by 7 steps below the last one able to be bought and spend the cost of 25 up to the one that you started with and stop if coin goes below requirement\n    let buyFrom = Math.max(buyStart + buyInc - 6 - smallestInc(buyInc), buydefault)\n    let thisCost = getAcceleratorBoostCost(player.acceleratorBoostBought)\n    while (buyFrom <= buyStart + buyInc && player.prestigePoints.gte(getAcceleratorBoostCost(buyFrom))) {\n      player.prestigePoints = player.prestigePoints.sub(thisCost)\n      if (buyFrom >= buymax) {\n        buyFrom = buymax\n      }\n      player.acceleratorBoostBought = buyFrom\n      buyFrom = buyFrom + smallestInc(buyFrom)\n      thisCost = getAcceleratorBoostCost(buyFrom)\n      player.acceleratorBoostCost = thisCost\n\n      player.transcendnoaccelerator = false\n      player.reincarnatenoaccelerator = false\n      if (buyFrom >= buymax) {\n        return\n      }\n    }\n  }\n\n  G.ticker = 0\n  if (player.acceleratorBoostBought >= 2 && player.achievements[162] === 0) {\n    achievementaward(162)\n  }\n  if (player.acceleratorBoostBought >= 10 && player.achievements[163] === 0) {\n    achievementaward(163)\n  }\n  if (player.acceleratorBoostBought >= 50 && player.achievements[164] === 0) {\n    achievementaward(164)\n  }\n  if (player.acceleratorBoostBought >= 200 && player.achievements[165] === 0) {\n    achievementaward(165)\n  }\n  if (player.acceleratorBoostBought >= 1000 && player.achievements[166] === 0) {\n    achievementaward(166)\n  }\n  if (player.acceleratorBoostBought >= 5000 && player.achievements[167] === 0) {\n    achievementaward(167)\n  }\n  if (player.acceleratorBoostBought >= 15000 && player.achievements[168] === 0) {\n    achievementaward(168)\n  }\n}\n\nconst getAcceleratorBoostCost = (level = 1): Decimal => {\n  // formula starts at 0 but buying starts at 1\n  level--\n  const buymax = Math.pow(10, 15)\n  const base = new Decimal(1e3)\n  const eff = 1 + 2 * G.effectiveRuneBlessingPower[4]\n  const linSum = (n: number) => n * (n + 1) / 2\n  const sqrSum = (n: number) => n * (n + 1) * (2 * n + 1) / 6\n  let cost = base\n  if (level > 1000 * eff) {\n    cost = base.times(Decimal.pow(\n      10,\n      10 * level\n        + linSum(level) // each level increases the exponent by 1 more each time\n        + sqrSum(level - 1000 * eff) / eff\n    )) // after cost delay is passed each level increases the cost by the square each time\n  } else {\n    cost = base.times(Decimal.pow(10, 10 * level + linSum(level)))\n  }\n  if (level > buymax) {\n    const diminishingExponent = 1 / 8\n\n    const QuadrillionCost = getAcceleratorBoostCost(buymax)\n\n    const newCost = QuadrillionCost.pow(Math.pow(level / buymax, 1 / diminishingExponent))\n    const newExtra = newCost.exponent - Math.floor(newCost.exponent)\n    newCost.exponent = Math.floor(newCost.exponent)\n    newCost.mantissa *= Math.pow(10, newExtra)\n    newCost.normalize()\n    return Decimal.max(cost, newCost)\n  }\n  return cost\n}\n\nconst getParticleCost = (originalCost: DecimalSource, buyTo: number): Decimal => {\n  ;--buyTo\n  originalCost = new Decimal(originalCost)\n  let cost = originalCost.times(Decimal.pow(2, buyTo))\n\n  const DR = (player.currentChallenge.ascension !== 15) ? 325000 : 1000\n\n  if (buyTo > DR) {\n    cost = cost.times(Decimal.pow(1.001, (buyTo - DR) * ((buyTo - DR + 1) / 2)))\n  }\n  const buymax = Math.pow(10, 15)\n  if (buyTo > buymax) {\n    const diminishingExponent = 1 / 8\n\n    const QuadrillionCost = getParticleCost(originalCost, buymax)\n\n    const newCost = QuadrillionCost.pow(Math.pow(buyTo / buymax, 1 / diminishingExponent))\n    const newExtra = newCost.exponent - Math.floor(newCost.exponent)\n    newCost.exponent = Math.floor(newCost.exponent)\n    newCost.mantissa *= Math.pow(10, newExtra)\n    newCost.normalize()\n    return Decimal.max(cost, newCost)\n  }\n  return cost\n}\n\nexport const buyParticleBuilding = (\n  index: OneToFive,\n  autobuyer = false\n) => {\n  const zeroIndex = index - 1 as ZeroToFour\n  const originalCost = mythosAndParticleBuildingCosts[zeroIndex]\n  const pos = G.ordinals[zeroIndex]\n  const key = `${pos}OwnedParticles` as const\n  const buyStart = player[key]\n  const buymax = Math.pow(10, 15)\n  // If at least buymax, we will use a different formulae\n  if (buyStart >= buymax) {\n    const diminishingExponent = 1 / 8\n\n    const log10Resource = Decimal.log10(player.reincarnationPoints)\n    const log10QuadrillionCost = Decimal.log10(getParticleCost(originalCost, buymax))\n\n    let hi = Math.floor(buymax * Math.max(1, Math.pow(log10Resource / log10QuadrillionCost, diminishingExponent)))\n    let lo = buymax\n    while (hi - lo > 0.5) {\n      const mid = Math.floor(lo + (hi - lo) / 2)\n      if (mid === lo || mid === hi) {\n        break\n      }\n      if (!player.reincarnationPoints.gte(getParticleCost(originalCost, mid))) {\n        hi = mid\n      } else {\n        lo = mid\n      }\n    }\n    const buyable = lo\n    const thisCost = getParticleCost(originalCost, buyable)\n\n    player[key] = buyable\n    player[`${pos}CostParticles` as const] = thisCost\n    return\n  }\n\n  // Start buying at the current amount bought + 1\n  const buydefault = buyStart + smallestInc(buyStart)\n  let buyTo = buydefault\n\n  let cashToBuy = getParticleCost(originalCost, buyTo)\n  while (player.reincarnationPoints.gte(cashToBuy)) {\n    // then multiply by 4 until it reaches just above the amount needed\n    buyTo = buyTo * 4\n    cashToBuy = getParticleCost(originalCost, buyTo)\n  }\n  let stepdown = Math.floor(buyTo / 8)\n  while (stepdown >= smallestInc(buyTo)) {\n    // if step down would push it below out of expense range then divide step down by 2\n    if (getParticleCost(originalCost, buyTo - stepdown).lte(player.reincarnationPoints)) {\n      stepdown = Math.floor(stepdown / 2)\n    } else {\n      buyTo = buyTo - Math.max(smallestInc(buyTo), stepdown)\n    }\n  }\n\n  if (!autobuyer) {\n    if (player.particlebuyamount + buyStart < buyTo) {\n      buyTo = buyStart + player.particlebuyamount + smallestInc(player[key] + player.particlebuyamount)\n    }\n  }\n\n  // go down by 7 steps below the last one able to be bought and spend the cost of 25 up to the one that you started with and stop if coin goes below requirement\n  let buyFrom = Math.max(buyTo - 6 - smallestInc(buyTo), buydefault)\n  let thisCost = getParticleCost(originalCost, buyFrom)\n  while (buyFrom <= buyTo && player.reincarnationPoints.gte(thisCost)) {\n    player.reincarnationPoints = player.reincarnationPoints.sub(thisCost)\n    player[key] = buyFrom\n    buyFrom = buyFrom + smallestInc(buyFrom)\n    thisCost = getParticleCost(originalCost, buyFrom)\n    player[`${pos}CostParticles` as const] = thisCost\n  }\n}\n\nexport const tesseractBuildingCosts = [1, 10, 100, 1000, 10000] as const\n\n// The nth tesseract building of tier i costs\n//   tesseractBuildingCosts[i-1] * n^3.\n// so the first n tesseract buildings of tier i costs\n//   cost(n) = tesseractBuildingCosts[i-1] * (n * (n+1) / 2)^2\n// in total. Use cost(owned+buyAmount) - cost(owned) to figure the cost of\n// buying multiple buildings.\n\nexport type TesseractBuildings = [number | null, number | null, number | null, number | null, number | null]\n\nconst buyTessBuildingsToCheapestPrice = (\n  ownedBuildings: TesseractBuildings,\n  cheapestPrice: number\n): [number, TesseractBuildings] => {\n  const buyToBuildings = ownedBuildings.map((currentlyOwned, index) => {\n    if (currentlyOwned === null) {\n      return null\n    }\n    // thisPrice >= cheapestPrice = tesseractBuildingCosts[index] * (buyTo+1)^3\n    // buyTo = cuberoot(cheapestPrice / tesseractBuildingCosts[index]) - 1\n    // If buyTo has a fractional part, we want to round UP so that this\n    // price costs more than the cheapest price.\n    // If buyTo doesn't have a fractional part, thisPrice = cheapestPrice.\n    const buyTo = Math.ceil(Math.pow(cheapestPrice / tesseractBuildingCosts[index], 1 / 3) - 1)\n    // It could be possible that cheapestPrice is less than the CURRENT\n    // price of this building, so take the max of the number of buildings\n    // we currently have.\n    return Math.max(currentlyOwned, buyTo)\n  }) as TesseractBuildings\n\n  let price = 0\n  for (let i = 0; i < ownedBuildings.length; i++) {\n    const buyFrom = ownedBuildings[i]\n    const buyTo = buyToBuildings[i]\n    if (buyFrom === null || buyTo === null) {\n      continue\n    }\n    price += tesseractBuildingCosts[i]\n      * (Math.pow(buyTo * (buyTo + 1) / 2, 2) - Math.pow(buyFrom * (buyFrom + 1) / 2, 2))\n  }\n\n  return [price, buyToBuildings]\n}\n\n/**\n * Calculate the result of repeatedly buying the cheapest tesseract building,\n * given an initial list of owned buildings and a budget.\n *\n * This function is pure and does not rely on any global state other than\n * constants for ease of testing.\n *\n * For tests:\n * calculateInBudget([0, 0, 0, 0, 0], 100) = [3, 1, 0, 0, 0]\n * calculateInBudget([null, 0, 0, 0, 0], 100) = [null, 2, 0, 0, 0]\n * calculateInBudget([3, 1, 0, 0, 0], 64+80-1) = [4, 1, 0, 0, 0]\n * calculateInBudget([3, 1, 0, 0, 0], 64+80) = [4, 2, 0, 0, 0]\n * calculateInBudget([9, 100, 100, 0, 100], 1000) = [9, 100, 100, 1, 100]\n * calculateInBudget([9, 100, 100, 0, 100], 2000) = [10, 100, 100, 1, 100]\n *\n * and calculateInBudget([0, 0, 0, 0, 0], 1e46) should run in less than a\n * second.\n *\n * @param ownedBuildings The amount of buildings owned, or null if the building\n * should not be bought.\n * @param budget The number of tesseracts to spend.\n * @returns The amount of buildings owned after repeatedly buying the cheapest\n * building with the budget.\n */\nexport const calculateTessBuildingsInBudget = (\n  ownedBuildings: TesseractBuildings,\n  budget: number\n): TesseractBuildings => {\n  // Nothing is affordable.\n  // Also catches the case when budget <= 0, and all values are null.\n  let minCurrentPrice: number | null = null\n  for (let i = 0; i < ownedBuildings.length; i++) {\n    const owned = ownedBuildings[i]\n    if (owned === null) {\n      continue\n    }\n    const price = tesseractBuildingCosts[i] * Math.pow(owned + 1, 3)\n    if (minCurrentPrice === null || price < minCurrentPrice) {\n      minCurrentPrice = price\n    }\n  }\n\n  if (minCurrentPrice === null || minCurrentPrice > budget) {\n    return ownedBuildings\n  }\n\n  // Every time the cheapest building is bought, the cheapest price either\n  // stays constant (if there are two or more cheapest buildings), or\n  // increases.\n  //\n  // Additionally, given the price of a building, calculating\n  // - the amount of buildings needed to hit that price and\n  // - the cumulative cost to buy to that amount of buildings\n  // can be done with a constant number of floating point operations.\n  //\n  // Therefore, by binary searching over \"cheapest price when finished\", we\n  // are able to efficiently (O(log budget)) determine the number of buildings\n  // owned after repeatedly buying the cheapest building. Calculating the\n  // cheapest building and buying one at a time would take O(budget^(1/4))\n  // time - and as the budget could get very large (this is Synergism after\n  // all), this is probably too slow.\n  //\n  // That is, we have a function f(cheapestPrice) which returns the cost of\n  // buying buildings until all prices to buy are cheapestPrice or higher, and\n  // we want to find the maximum value of cheapestPrice such that\n  // f(cheapestPrice) <= budget.\n  // In this case, f(x) = buyTessBuildingsToCheapestPrice(ownedBuildings, x)[0].\n\n  // f(minCurrentPrice) = 0 < budget. We also know that we can definitely buy\n  // at least one thing.\n  let lo = minCurrentPrice\n  // Do an exponential search to find the upper bound.\n  let hi = lo * 2\n  while (buyTessBuildingsToCheapestPrice(ownedBuildings, hi)[0] <= budget) {\n    lo = hi\n    hi *= 2\n  }\n  // Invariant:\n  // f(lo) <= budget < f(hi).\n  while (hi - lo > 0.5) {\n    const mid = lo + (hi - lo) / 2\n    // It's possible to get into an infinite loop if mid here is equal to\n    // the boundaries, even if hi !== lo (due to floating point inaccuracy).\n    if (mid === lo || mid === hi) {\n      break\n    }\n    if (buyTessBuildingsToCheapestPrice(ownedBuildings, mid)[0] <= budget) {\n      lo = mid\n    } else {\n      hi = mid\n    }\n  }\n\n  // Binary search is done (with lo being the best candidate).\n  const [cost, buildings] = buyTessBuildingsToCheapestPrice(ownedBuildings, lo)\n\n  // Note that this has a slight edge case when 2 <= N <= 5 buildings are the\n  // same price, and it is optimal to buy only M < N of them at that price.\n  // The result of this edge case is that we can finish the binary search with\n  // a set of buildings which are affordable, but more buildings can still be\n  // bought. To fix this, we greedily buy the cheapest building one at a time,\n  // which should take 4 or less iterations to run out of budget.\n  let remainingBudget = budget - cost\n  const currentPrices = buildings.map((num, index) => {\n    if (num === null) {\n      return null\n    }\n    return tesseractBuildingCosts[index] * Math.pow(num + 1, 3)\n  })\n\n  for (let iteration = 1; iteration <= 5; iteration++) {\n    let minimum: { price: number; index: number } | null = null\n    for (let index = 0; index < currentPrices.length; index++) {\n      const price = currentPrices[index]\n      if (price === null) {\n        continue\n      }\n      // <= is used instead of < to prioritise the higher tier buildings\n      // over the lower tier ones if they have the same price.\n      if (minimum === null || price <= minimum.price) {\n        minimum = { price, index }\n      }\n    }\n    if (minimum !== null && minimum.price <= remainingBudget) {\n      remainingBudget -= minimum.price\n      // buildings[minimum.index] should always be a number.\n      // In extreme situations (when buildings[minimum.index] is bigger\n      // than Number.MAX_SAFE_INTEGER), this below increment won't work.\n      // However, that requires 1e47 tesseracts to get to, which shouldn't\n      // ever happen.\n      buildings[minimum.index]!++\n      currentPrices[minimum.index] = tesseractBuildingCosts[minimum.index] * Math.pow(buildings[minimum.index]! + 1, 3)\n    } else {\n      // Can't afford cheapest any more - break.\n      break\n    }\n  }\n\n  return buildings\n}\n\n/**\n * @param index Which tesseract building to get the cost of.\n * @param amount The amount to buy. Defaults to tesseract buy amount.\n * @param checkCanAfford Whether to limit the purchase amount to the number of buildings the player can afford.\n * @returns A pair of [number of buildings after purchase, cost of purchase].\n */\nexport const getTesseractCost = (\n  index: OneToFive,\n  amount?: number,\n  checkCanAfford = true,\n  buyFrom?: number\n): [number, number] => {\n  amount ??= player.tesseractbuyamount\n  buyFrom ??= player[`ascendBuilding${index}` as const].owned\n  const intCost = tesseractBuildingCosts[index - 1]\n  const subCost = intCost * Math.pow(buyFrom * (buyFrom + 1) / 2, 2)\n\n  let actualBuy: number\n  if (checkCanAfford) {\n    const buyTo = Math.floor(\n      -1 / 2 + 1 / 2 * Math.pow(1 + 8 * Math.pow((Number(player.wowTesseracts) + subCost) / intCost, 1 / 2), 1 / 2)\n    )\n    actualBuy = Math.min(buyTo, buyFrom + amount)\n  } else {\n    actualBuy = buyFrom + amount\n  }\n  const actualCost = intCost * Math.pow(actualBuy * (actualBuy + 1) / 2, 2) - subCost\n  return [actualBuy, actualCost]\n}\n\nexport const buyTesseractBuilding = (index: OneToFive, amount = player.tesseractbuyamount) => {\n  const intCost = tesseractBuildingCosts[index - 1]\n  const ascendBuildingIndex = `ascendBuilding${index}` as const\n  // Destructuring FTW!\n  const [buyTo, actualCost] = getTesseractCost(index, amount)\n\n  player[ascendBuildingIndex].owned = buyTo\n  player.wowTesseracts.sub(actualCost)\n  player[ascendBuildingIndex].cost = intCost * Math.pow(1 + buyTo, 3)\n}\n\nexport const buyRuneBonusLevels = (type: 'Blessings' | 'Spirits', index: number) => {\n  const unlocked = type === 'Spirits' ? player.challengecompletions[12] > 0 : player.achievements[134] === 1\n  if (unlocked && isFinite(player.runeshards) && player.runeshards > 0) {\n    let baseCost: number\n    let baseLevels: number\n    let levelCap: number\n    if (type === 'Spirits') {\n      baseCost = G.spiritBaseCost\n      baseLevels = player.runeSpiritLevels[index]\n      levelCap = player.runeSpiritBuyAmount\n    } else {\n      baseCost = G.blessingBaseCost\n      baseLevels = player.runeBlessingLevels[index]\n      levelCap = player.runeBlessingBuyAmount\n    }\n\n    const [level, cost] = calculateSummationLinear(baseLevels, baseCost, player.runeshards, levelCap)\n    if (type === 'Spirits') {\n      player.runeSpiritLevels[index] = level\n    } else {\n      player.runeBlessingLevels[index] = level\n    }\n\n    player.runeshards -= cost\n\n    if (player.runeshards < 0) {\n      player.runeshards = 0\n    }\n\n    updateRuneBlessing(type, index)\n  }\n}\n\nexport const updateRuneBlessing = (type: 'Blessings' | 'Spirits', index: number) => {\n  if (index === 1) {\n    const requirementArray = [0, 1e5, 1e8, 1e11]\n    for (let i = 1; i <= 3; i++) {\n      if (player.runeBlessingLevels[1] >= requirementArray[i] && player.achievements[231 + i] < 1) {\n        achievementaward(231 + i)\n      }\n      if (player.runeSpiritLevels[1] >= 10 * requirementArray[i] && player.achievements[234 + i] < 1) {\n        achievementaward(234 + i)\n      }\n    }\n    if (player.runeBlessingLevels[1] >= 1e22 && player.achievements[245] < 1) {\n      achievementaward(245)\n    }\n  }\n\n  calculateRuneBonuses()\n\n  if (type === 'Blessings') {\n    const blessingMultiplierArray = [0, 8, 10, 6.66, 2, 1]\n    const t = (index === 5) ? 1 : 0\n    DOMCacheGetOrSet(`runeBlessingPower${index}Value1`).innerHTML = i18next.t('runes.blessings.blessingPower', {\n      reward: i18next.t(`runes.blessings.rewards.${index - 1}`),\n      value: format(G.runeBlessings[index]),\n      speed: format(1 - t + blessingMultiplierArray[index] * G.effectiveRuneBlessingPower[index], 4, true)\n    })\n  } else if (type === 'Spirits') {\n    const spiritMultiplierArray = [0, 1, 1, 20, 1, 100]\n    spiritMultiplierArray[index] *= calculateCorruptionPoints() / 400\n    const t = (index === 3) ? 1 : 0\n\n    DOMCacheGetOrSet(`runeSpiritPower${index}Value1`).innerHTML = i18next.t('runes.spirits.spiritPower', {\n      reward: i18next.t(`runes.spirits.rewards.${index - 1}`),\n      value: format(G.runeSpirits[index]),\n      speed: format(1 - t + spiritMultiplierArray[index] * G.effectiveRuneSpiritPower[index], 4, true)\n    })\n  }\n}\n\nexport const buyAllBlessings = (type: 'Blessings' | 'Spirits', percentage = 100, auto = false) => {\n  const unlocked = type === 'Spirits' ? player.challengecompletions[12] > 0 : player.achievements[134] === 1\n  if (unlocked) {\n    const runeshards = Math.floor(player.runeshards / 100 * percentage / 5)\n    for (let index = 1; index < 6; index++) {\n      if (isFinite(player.runeshards) && player.runeshards > 0) {\n        let baseCost: number\n        let baseLevels: number\n        const levelCap = 1e300\n        if (type === 'Spirits') {\n          baseCost = G.spiritBaseCost\n          baseLevels = player.runeSpiritLevels[index]\n        } else {\n          baseCost = G.blessingBaseCost\n          baseLevels = player.runeBlessingLevels[index]\n        }\n\n        const [level, cost] = calculateSummationLinear(baseLevels, baseCost, runeshards, levelCap)\n        if (level > baseLevels && (!auto || (level - baseLevels) * 10000 > baseLevels)) {\n          if (type === 'Spirits') {\n            player.runeSpiritLevels[index] = level\n          } else {\n            player.runeBlessingLevels[index] = level\n          }\n\n          player.runeshards -= cost\n\n          if (player.runeshards < 0) {\n            player.runeshards = 0\n          }\n\n          updateRuneBlessing(type, index)\n        }\n      }\n    }\n  }\n}\n", "import { player } from './Synergism'\nimport { Globals as G } from './Variables'\n\ntype Bless = keyof typeof player['hypercubeBlessings']\n\nexport const calculateHypercubeBlessings = () => {\n  // The visual updates are handled in visualUpdateCubes()\n\n  // we use Object.keys here instead of a for-in loop because we need the index of the key.\n  const keys = Object.keys(player.hypercubeBlessings)\n\n  for (const key of keys) {\n    const obj = player.hypercubeBlessings[key as Bless]\n    const idx = keys.indexOf(key) + 1\n\n    let power = 1\n    let mult = 1\n    if (obj >= 1000) {\n      power = G.benedictionDRPower[idx]!\n      mult *= Math.pow(1000, 1 - G.benedictionDRPower[idx]!)\n    }\n\n    G.hypercubeBonusMultiplier[idx] = 1\n      + mult * G.benedictionbase[idx]! * Math.pow(obj, power) * G.platonicBonusMultiplier[4]\n  }\n}\n", "import { player } from './Synergism'\nimport { Globals as G } from './Variables'\n\nexport const calculatePlatonicBlessings = () => {\n  // The visual updates are handled in visualUpdateCubes()\n  const platonicArray = Object.values(player.platonicBlessings)\n  const DRThreshold = [4e6, 4e6, 4e6, 8e4, 1e4, 1e4, 1e4, 1e4]\n  for (let i = 0; i < platonicArray.length; i++) {\n    let power = 1\n    let mult = 1\n    let effectiveAmount = platonicArray[i]\n    if (i === 5) {\n      effectiveAmount = Math.min(effectiveAmount, 1e20)\n    }\n    if (i === 6 && effectiveAmount >= 1e20) {\n      effectiveAmount = Math.pow(effectiveAmount, 0.5) * 1e10\n    }\n    if (platonicArray[i] >= DRThreshold[i]) {\n      power = G.platonicDRPower[i]\n      mult *= Math.pow(DRThreshold[i], 1 - G.platonicDRPower[i])\n    }\n\n    G.platonicBonusMultiplier[i] = 1 + mult * G.platonicCubeBase[i] * Math.pow(effectiveAmount, power)\n  }\n}\n", "import { calculateCubeQuarkMultiplier, calculateQuarkMultiplier } from './Calculate'\nimport { format, player } from './Synergism'\n\nexport const quarkHandler = () => {\n  let maxTime = 90000 // In Seconds\n  if (player.researches[195] > 0) {\n    maxTime += 18000 * player.researches[195] // Research 8x20\n  }\n\n  // Part 2: Calculate quark gain per hour\n  let baseQuarkPerHour = 5\n\n  const quarkResearches = [99, 100, 125, 180, 195]\n  for (const el of quarkResearches) {\n    baseQuarkPerHour += player.researches[el]\n  }\n\n  baseQuarkPerHour *= +player.octeractUpgrades.octeractExportQuarks.getEffect().bonus\n\n  const quarkPerHour = baseQuarkPerHour\n\n  // Part 3: Calculates capacity of quarks on export\n  const capacity = Math.floor(quarkPerHour * maxTime / 3600)\n\n  // Part 4: Calculate how many quarks are to be gained.\n  const quarkGain = Math.floor(player.quarkstimer * quarkPerHour / 3600)\n\n  // Part 5 [June 9, 2021]: Calculate bonus awarded to cube quarks.\n  const cubeMult = calculateCubeQuarkMultiplier()\n  // Return maxTime, quarkPerHour, capacity and quarkGain as object\n  return {\n    maxTime,\n    perHour: quarkPerHour,\n    capacity,\n    gain: quarkGain,\n    cubeMult\n  }\n}\n\nlet bonus = 0\n\nexport const setQuarkBonus = (newBonus: number) => bonus = newBonus\nexport const getQuarkBonus = () => bonus\n\nexport class QuarkHandler {\n  /** Quark amount */\n  private QUARKS = 0\n\n  constructor (quarks: number) {\n    this.QUARKS = quarks\n  }\n\n  /*** Calculates the number of quarks to give with the current bonus. */\n  applyBonus (amount: number) {\n    const nonPatreon = calculateQuarkMultiplier()\n    return amount * (1 + (getQuarkBonus() / 100)) * nonPatreon\n  }\n\n  /** Subtracts quarks, as the name suggests. */\n  add (amount: number, useBonus = true) {\n    this.QUARKS += useBonus ? this.applyBonus(amount) : amount\n    player.quarksThisSingularity += useBonus ? this.applyBonus(amount) : amount\n    return this\n  }\n\n  /** Add quarks, as suggested by the function's name. */\n  sub (amount: number) {\n    this.QUARKS -= amount\n    if (this.QUARKS < 0) {\n      this.QUARKS = 0\n    }\n\n    return this\n  }\n\n  public toString (val: number): string {\n    return format(Math.floor(this.applyBonus(val)), 0, true)\n  }\n\n  /**\n   * Resets the amount of quarks saved but keeps the bonus amount.\n   */\n  public reset () {\n    this.QUARKS = 0\n  }\n\n  [Symbol.toPrimitive] = (t: string) => t === 'number' ? this.QUARKS : null\n}\n", "import { player } from './Synergism'\nimport { Globals as G } from './Variables'\n\nexport const calculateTesseractBlessings = () => {\n  // The visual updates are handled in visualUpdateCubes()\n  const tesseractArray = [\n    player.tesseractBlessings.accelerator,\n    player.tesseractBlessings.multiplier,\n    player.tesseractBlessings.offering,\n    player.tesseractBlessings.runeExp,\n    player.tesseractBlessings.obtainium,\n    player.tesseractBlessings.antSpeed,\n    player.tesseractBlessings.antSacrifice,\n    player.tesseractBlessings.antELO,\n    player.tesseractBlessings.talismanBonus,\n    player.tesseractBlessings.globalSpeed\n  ]\n\n  for (let i = 0; i < 10; i++) {\n    let power = 1\n    let mult = 1\n    if (tesseractArray[i] >= 1000 && i !== 5) {\n      power = G.giftDRPower[i]\n      mult *= Math.pow(1000, 1 - G.giftDRPower[i])\n    }\n\n    G.tesseractBonusMultiplier[i + 1] = 1\n      + mult * G.giftbase[i] * Math.pow(tesseractArray[i], power) * G.hypercubeBonusMultiplier[i + 1]!\n  }\n}\n", "/* Note by Platonic, April 1 2021\nThis is an experimental file for making cubes their own class\nand make them easily re-used for later purposes.\nPlease do not change the *file name* or use anything developed in this\nfile without asking me first. You may edit this file as much as you\nwant, though!\nThank you! */\n\nimport Decimal from 'break_infinity.js'\nimport i18next from 'i18next'\nimport { achievementaward } from './Achievements'\nimport { calculateCubeBlessings } from './Calculate'\nimport { CalcECC } from './Challenges'\nimport { calculateHypercubeBlessings } from './Hypercubes'\nimport { calculatePlatonicBlessings } from './PlatonicCubes'\nimport { quarkHandler } from './Quark'\nimport { format, player } from './Synergism'\nimport { calculateTesseractBlessings } from './Tesseracts'\nimport type { Player } from './types/Synergism'\nimport { Alert, Prompt } from './UpdateHTML'\n\n/* Constants */\n\nconst blessings: Record<\n  keyof Player['cubeBlessings'],\n  { weight: number; pdf: (x: number) => boolean }\n> = {\n  accelerator: { weight: 4, pdf: (x: number) => 0 <= x && x <= 20 },\n  multiplier: { weight: 4, pdf: (x: number) => 20 < x && x <= 40 },\n  offering: { weight: 2, pdf: (x: number) => 40 < x && x <= 50 },\n  runeExp: { weight: 2, pdf: (x: number) => 50 < x && x <= 60 },\n  obtainium: { weight: 2, pdf: (x: number) => 60 < x && x <= 70 },\n  antSpeed: { weight: 2, pdf: (x: number) => 70 < x && x <= 80 },\n  antSacrifice: { weight: 1, pdf: (x: number) => 80 < x && x <= 85 },\n  antELO: { weight: 1, pdf: (x: number) => 85 < x && x <= 90 },\n  talismanBonus: { weight: 1, pdf: (x: number) => 90 < x && x <= 95 },\n  globalSpeed: { weight: 1, pdf: (x: number) => 95 < x && x <= 100 }\n}\n\nconst platonicBlessings: Record<\n  keyof Player['platonicBlessings'],\n  { weight: number; pdf: (x: number) => boolean }\n> = {\n  cubes: { weight: 13200, pdf: (x: number) => 0 <= x && x <= 33.000 },\n  tesseracts: { weight: 13200, pdf: (x: number) => 33.000 < x && x <= 66.000 },\n  hypercubes: { weight: 13200, pdf: (x: number) => 66.000 < x && x <= 99.000 },\n  platonics: { weight: 396, pdf: (x: number) => 99.000 < x && x <= 99.990 },\n  hypercubeBonus: { weight: 1, pdf: (x: number) => 99.990 < x && x <= 99.9925 },\n  taxes: { weight: 1, pdf: (x: number) => 99.9925 < x && x <= 99.995 },\n  scoreBonus: { weight: 1, pdf: (x: number) => 99.995 < x && x <= 99.9975 },\n  globalSpeed: { weight: 1, pdf: (x: number) => 99.9975 < x && x <= 100 }\n}\n\n/**\n * @description Generic class for handling cube subsets.\n * @example\n * class PlatCubes extends Currency {\n *   constructor() {\n *       super('wowPlatonicCubes', player.wowPlatonicCubes);\n *   }\n *\n *   async open(amount: number, value: boolean) {\n *       // implement open logic here\n *   }\n * }\n *\n * new PlatCubes().openCustom();\n */\nexport abstract class Cube {\n  /** key on the player object */\n  private key: keyof Player\n  private value: number\n\n  constructor (\n    type: keyof Player,\n    v = 0\n  ) {\n    this.key = type\n    this.value = v\n  }\n\n  /**\n   * @description Open a given amount of cubes\n   * @param amount Number of cubes to open\n   * @param max if true, overwrites amount and opens the max amount of cubes.\n   * @param free if true, does not decrease the amount of cubes.\n   */\n  abstract open (amount: number, max: boolean, free: boolean): Promise<void> | void\n\n  /** Open a custom amount of cubes */\n  async openCustom () {\n    // TODO: Replace this with `this`?\n    const thisInPlayer = player[this.key] as Cube\n    const amount = await Prompt(i18next.t('cubes.howManyCubesOpen', { x: format(thisInPlayer, 0, true) }))\n\n    if (amount === null) {\n      return Alert(i18next.t('cubes.noCubesOpened'))\n    }\n\n    const isPercentage = amount.endsWith('%')\n    const cubesToOpen = amount.startsWith('-')\n      ? (isPercentage ? 100 + Number(amount.slice(0, -1)) : thisInPlayer.value + Number(amount))\n      : (isPercentage ? Number(amount.slice(0, -1)) : Number(amount))\n\n    if (Number.isNaN(cubesToOpen) || !Number.isFinite(cubesToOpen) || !Number.isInteger(cubesToOpen)) {\n      return Alert(i18next.t('general.validation.finiteInt'))\n    } else if (thisInPlayer.value < cubesToOpen) {\n      return Alert(i18next.t('cubes.validation.notEnough'))\n    } else if (cubesToOpen <= 0) {\n      return Alert(i18next.t('cubes.validation.negative'))\n    } else if (isPercentage && cubesToOpen > 100) {\n      return Alert(i18next.t('cubes.validation.invalidPercent', { x: cubesToOpen }))\n    }\n\n    if (isPercentage) {\n      return this.open(\n        Math.floor(thisInPlayer.value * (cubesToOpen / 100)),\n        cubesToOpen === 100,\n        false\n      )\n    }\n\n    return this.open(cubesToOpen, cubesToOpen === thisInPlayer.value, false)\n  }\n\n  /** @description Check how many quarks you should have gained through opening cubes today */\n  checkQuarkGain (base: number, mult: number, cubes: number): number {\n    if (cubes < 1) {\n      return 0\n    }\n    // General quark multiplier from other in-game features\n    // Multiplier from passed parameter\n    const multiplier = mult * quarkHandler().cubeMult\n\n    return Math.floor(player.worlds.applyBonus(Math.log10(cubes) * base * multiplier))\n  }\n\n  /** @description Check how many cubes you need to gain an additional quark from opening */\n  checkCubesToNextQuark (base: number, mult: number, quarks: number, cubes: number): number {\n    // General quark multiplier from other in-game features\n    // Multiplier from passed parameter\n    const multiplier = mult * quarkHandler().cubeMult\n\n    return Math.ceil(Math.pow(10, (quarks + 1) / player.worlds.applyBonus(multiplier * base)) - cubes)\n  }\n\n  add (amount: number): this {\n    this.value = Math.min(1e300, this.value + amount)\n    return this\n  }\n\n  sub (amount: number): this {\n    this.value = Math.max(0, this.value - amount)\n    return this\n  }\n\n  [Symbol.toPrimitive] (h: string) {\n    switch (h) {\n      case 'string':\n        return this.value.toString()\n      case 'number':\n        return this.value\n      default:\n        return null\n    }\n  }\n}\n\nexport class WowCubes extends Cube {\n  constructor (amount = Number(player.wowCubes)) {\n    super('wowCubes', amount)\n  }\n\n  open (value: number, max = false, free = false) {\n    let toSpend = max ? Number(this) : (free ? value : Math.min(Number(this), value))\n\n    if (value === 1 && player.cubeBlessings.accelerator >= 2e11 && player.achievements[246] < 1) {\n      achievementaward(246)\n    }\n\n    if (!free) {\n      this.sub(toSpend)\n    }\n    player.cubeOpenedDaily += toSpend\n\n    const quarkMult = (player.shopUpgrades.cubeToQuark) ? 1.5 : 1\n    const gainQuarks = Number(this.checkQuarkGain(5, quarkMult, player.cubeOpenedDaily))\n    const actualQuarksGain = Math.max(0, gainQuarks - player.cubeQuarkDaily)\n    player.cubeQuarkDaily += actualQuarksGain\n    player.worlds.add(actualQuarksGain, false)\n\n    toSpend *= 1 + player.researches[138] / 1000\n    toSpend *= 1 + 0.8 * player.researches[168] / 1000\n    toSpend *= 1 + 0.6 * player.researches[198] / 1000\n\n    toSpend = Math.floor(toSpend)\n    let toSpendModulo = toSpend % 20\n    let toSpendDiv20 = Math.floor(toSpend / 20)\n\n    if (toSpendDiv20 > 0 && player.cubeUpgrades[13] === 1) {\n      toSpendModulo += toSpendDiv20\n    }\n    if (toSpendDiv20 > 0 && player.cubeUpgrades[23] === 1) {\n      toSpendModulo += toSpendDiv20\n    }\n    if (toSpendDiv20 > 0 && player.cubeUpgrades[33] === 1) {\n      toSpendModulo += toSpendDiv20\n    }\n\n    toSpendDiv20 += 100 / 100 * Math.floor(toSpendModulo / 20)\n    toSpendModulo = toSpendModulo % 20\n\n    const keys = Object.keys(player.cubeBlessings) as (keyof Player['cubeBlessings'])[]\n\n    // If you're opening more than 20 cubes, it will consume all cubes until remainder mod 20, giving expected values.\n    for (const key of keys) {\n      player.cubeBlessings[key] += blessings[key].weight * toSpendDiv20\n        * (1 + Math.floor(CalcECC('ascension', player.challengecompletions[12])))\n    }\n\n    // Then, the remaining cubes will be opened, simulating the probability [RNG Element]\n    for (let i = 0; i < toSpendModulo; i++) {\n      const num = 100 * Math.random()\n      for (const key of keys) {\n        if (blessings[key].pdf(num)) {\n          player.cubeBlessings[key] += 1 + Math.floor(CalcECC('ascension', player.challengecompletions[12]))\n        }\n      }\n    }\n\n    calculateCubeBlessings()\n  }\n}\n\nexport class WowTesseracts extends Cube {\n  constructor (amount = Number(player.wowTesseracts)) {\n    super('wowTesseracts', amount)\n  }\n\n  open (value: number, max = false, free = false) {\n    const toSpend = max ? Number(this) : (free ? value : Math.min(Number(this), value))\n\n    if (!free) {\n      player.wowTesseracts.sub(toSpend)\n    }\n    player.tesseractOpenedDaily += toSpend\n\n    const quarkMult = (player.shopUpgrades.tesseractToQuark) ? 1.5 : 1\n    const gainQuarks = Number(this.checkQuarkGain(7, quarkMult, player.tesseractOpenedDaily))\n    const actualQuarksGain = Math.max(0, gainQuarks - player.tesseractQuarkDaily)\n    player.tesseractQuarkDaily += actualQuarksGain\n    player.worlds.add(actualQuarksGain, false)\n\n    const toSpendModulo = toSpend % 20\n    const toSpendDiv20 = Math.floor(toSpend / 20)\n\n    // If you're opening more than 20 Tesseracts, it will consume all Tesseracts until remainder mod 20, giving expected values.\n    for (const key in player.tesseractBlessings) {\n      player.tesseractBlessings[key as keyof Player['tesseractBlessings']] +=\n        blessings[key as keyof typeof blessings].weight * toSpendDiv20\n    }\n    // Then, the remaining tesseract will be opened, simulating the probability [RNG Element]\n    for (let i = 0; i < toSpendModulo; i++) {\n      const num = 100 * Math.random()\n      for (const key in player.tesseractBlessings) {\n        if (blessings[key as keyof typeof blessings].pdf(num)) {\n          player.tesseractBlessings[key as keyof Player['tesseractBlessings']] += 1\n        }\n      }\n    }\n\n    calculateTesseractBlessings()\n    const extraCubeBlessings = Math.floor(12 * toSpend * player.researches[153])\n    player.wowCubes.open(extraCubeBlessings, false, true)\n  }\n}\n\nexport class WowHypercubes extends Cube {\n  constructor (amount = Number(player.wowHypercubes)) {\n    super('wowHypercubes', amount)\n  }\n\n  open (value: number, max = false, free = false) {\n    const toSpend = max ? Number(this) : (free ? value : Math.min(Number(this), value))\n\n    if (!free) {\n      player.wowHypercubes.sub(toSpend)\n    }\n    player.hypercubeOpenedDaily += toSpend\n\n    const quarkMult = (player.shopUpgrades.hypercubeToQuark) ? 1.5 : 1\n    const gainQuarks = this.checkQuarkGain(10, quarkMult, player.hypercubeOpenedDaily)\n    const actualQuarksGain = Math.max(0, gainQuarks - player.hypercubeQuarkDaily)\n    player.hypercubeQuarkDaily += actualQuarksGain\n    player.worlds.add(actualQuarksGain, false)\n\n    const toSpendModulo = toSpend % 20\n    const toSpendDiv20 = Math.floor(toSpend / 20)\n\n    // If you're opening more than 20 Hypercubes, it will consume all Hypercubes until remainder mod 20, giving expected values.\n    for (const key in player.hypercubeBlessings) {\n      player.hypercubeBlessings[key as keyof Player['hypercubeBlessings']] +=\n        blessings[key as keyof typeof blessings].weight * toSpendDiv20\n    }\n    // Then, the remaining hypercubes will be opened, simulating the probability [RNG Element]\n    for (let i = 0; i < toSpendModulo; i++) {\n      const num = 100 * Math.random()\n      for (const key in player.hypercubeBlessings) {\n        if (blessings[key as keyof typeof blessings].pdf(num)) {\n          player.hypercubeBlessings[key as keyof Player['hypercubeBlessings']] += 1\n        }\n      }\n    }\n\n    calculateHypercubeBlessings()\n    const extraTesseractBlessings = Math.floor(100 * toSpend * player.researches[183])\n    player.wowTesseracts.open(extraTesseractBlessings, false, true)\n  }\n}\n\nexport class WowPlatonicCubes extends Cube {\n  constructor (amount = Number(player.wowPlatonicCubes)) {\n    super('wowPlatonicCubes', amount)\n  }\n\n  open (value: number, max = false, free = false) {\n    const toSpend = max ? Number(this) : (free ? value : Math.min(Number(this), value))\n\n    if (!free) {\n      player.wowPlatonicCubes.sub(toSpend)\n    }\n    player.platonicCubeOpenedDaily += toSpend\n\n    const quarkMult = 1.5 // There's no platonic to quark upgrade, default as 1.5\n    const gainQuarks = this.checkQuarkGain(15, quarkMult, player.platonicCubeOpenedDaily)\n    const actualQuarksGain = Math.max(0, gainQuarks - player.platonicCubeQuarkDaily)\n    player.platonicCubeQuarkDaily += actualQuarksGain\n    player.worlds.add(actualQuarksGain, false)\n\n    let toSpendModulo = toSpend % 40000\n    const toSpendDiv40000 = Math.floor(toSpend / 40000)\n\n    // If you're opening more than 40,000 Platonics, it will consume all Platonics until remainder mod 40,000, giving expected values.\n    for (const key in player.platonicBlessings) {\n      player.platonicBlessings[key as keyof Player['platonicBlessings']] +=\n        platonicBlessings[key as keyof typeof platonicBlessings].weight * toSpendDiv40000\n      if (platonicBlessings[key as keyof typeof platonicBlessings].weight === 1 && player.cubeUpgrades[64] > 0) {\n        player.platonicBlessings[key as keyof Player['platonicBlessings']] += toSpendDiv40000 // Doubled!\n      }\n    }\n    // Then, the remaining hypercube will be opened, simulating the probability [RNG Element]\n    const RNGesus = ['hypercubeBonus', 'taxes', 'scoreBonus', 'globalSpeed']\n    for (let i = 0; i < RNGesus.length; i++) {\n      const num = Math.random()\n      if (toSpendModulo / 40000 >= num && toSpendModulo !== 0) {\n        player.platonicBlessings[RNGesus[i] as keyof Player['platonicBlessings']] += 1\n        toSpendModulo -= 1\n      }\n    }\n    const gainValues = [\n      Math.floor(33 * toSpendModulo / 100),\n      Math.floor(33 * toSpendModulo / 100),\n      Math.floor(33 * toSpendModulo / 100),\n      Math.floor(396 * toSpendModulo / 40000)\n    ]\n    const commonDrops = ['cubes', 'tesseracts', 'hypercubes', 'platonics'] as const\n    for (let i = 0; i < commonDrops.length; i++) {\n      player.platonicBlessings[commonDrops[i]] += gainValues[i]\n      toSpendModulo -= gainValues[i]\n    }\n\n    for (let i = 0; i < toSpendModulo; i++) {\n      const num = 100 * Math.random()\n      for (const key in player.platonicBlessings) {\n        if (platonicBlessings[key as keyof typeof platonicBlessings].pdf(num)) {\n          player.platonicBlessings[key as keyof Player['platonicBlessings']] += 1\n        }\n      }\n    }\n    calculatePlatonicBlessings()\n    if (player.achievements[271] > 0) {\n      const extraHypercubes = Math.floor(\n        toSpend * Math.max(0, Math.min(1, (Decimal.log(player.ascendShards.add(1), 10) - 1e5) / 9e5))\n      )\n      player.wowHypercubes.open(extraHypercubes, false, true)\n    }\n  }\n}\n", "import i18next from 'i18next'\nimport { DOMCacheGetOrSet } from './Cache/DOM'\nimport { calculateCubeBlessings, calculateCubicSumData, calculateSummationNonLinear } from './Calculate'\nimport { updateResearchBG } from './Research'\nimport { calculateSingularityDebuff } from './singularity'\nimport { format, player } from './Synergism'\nimport { revealStuff } from './UpdateHTML'\nimport { upgradeupdate } from './Upgrades'\nimport { Globals as G } from './Variables'\n\nexport interface IMultiBuy {\n  levelCanBuy: number\n  cost: number\n}\n\n// dprint-ignore\nconst cubeAutomationIndices = [\n  4, 5, 6, 7, 8, 9, 10, // row 1\n  20,                   // row 2\n  26, 27,               // row 3\n  48, 49                // row 5\n]\n\n// dprint-ignore\nconst researchAutomationIndices = [\n  41, 42, 43, 44, 45, 46, 47, 48, 49, 50, // row 2\n  61, 71, 72, 73, 74, 75, // row 3\n  124,                    // row 5\n  130, 135, 145, 150,     // row 6\n  175,                    // row 7\n  190                     // row 8\n]\n\n// dprint-ignore\nconst cubeBaseCost = [\n  200, 200, 200, 500, 500, 500, 500, 500, 2000, 40000,\n  5000, 1000, 10000, 20000, 40000, 10000, 4000, 1e4, 50000, 12500,\n  5e4, 3e4, 3e4, 4e4, 2e5, 4e5, 1e5, 177777, 1e5, 1e6,\n  5e5, 3e5, 2e6, 4e6, 2e6, 4e6, 1e6, 2e7, 5e7, 1e7,\n  5e6, 1e7, 1e8, 4e7, 2e7, 4e7, 5e7, 1e8, 5e8, 1e8,\n  1, 1e4, 1e8, 1e12, 1e16, 10, 1e5, 1e9, 1e13, 1e17,\n  1e2, 1e6, 1e10, 1e14, 1e18, 1e20, 1e30, 1e40, 1e50, 1e60\n]\n\n// dprint-ignore\nexport const cubeMaxLevel = [\n  3, 10, 5, 1, 1, 1, 1, 1, 1, 1,\n  3, 10, 1, 10, 10, 10, 5, 1, 1, 1,\n  5, 10, 1, 10, 10, 10, 1, 1, 5, 1,\n  5, 1, 1, 10, 10, 10, 10, 1, 1, 10,\n  5, 10, 10, 10, 10, 20, 20, 1, 1, 100000,\n  1, 900, 100, 900, 900, 20, 1, 1, 400, 10000,\n  100, 1, 1, 1, 1, 1, 1, 1000, 1, 100000\n]\n\nconst getCubeCost = (i: number, buyMax: boolean): IMultiBuy => {\n  const linGrowth = i === 50 ? 0.01 : 0\n  const cubic = i > 50\n  const maxLevel = getCubeMax(i)\n  let amountToBuy = buyMax ? 1e5 : 1\n  const cubeUpgrade = player.cubeUpgrades[i]!\n  amountToBuy = Math.min(maxLevel - cubeUpgrade, amountToBuy)\n  const singularityMultiplier = (i <= 50) ? calculateSingularityDebuff('Cube Upgrades') : 1\n\n  let metaData: IMultiBuy\n\n  if (cubic) {\n    // TODO: Fix this inconsistency later.\n    amountToBuy = buyMax ? maxLevel : Math.min(maxLevel, cubeUpgrade + 1)\n    metaData = calculateCubicSumData(cubeUpgrade, cubeBaseCost[i - 1], Number(player.wowCubes), amountToBuy)\n  } else {\n    metaData = calculateSummationNonLinear(\n      cubeUpgrade,\n      cubeBaseCost[i - 1] * singularityMultiplier,\n      Number(player.wowCubes),\n      linGrowth,\n      amountToBuy\n    )\n  }\n\n  return metaData\n}\n\nconst getCubeMax = (i: number) => {\n  let baseValue = cubeMaxLevel[i - 1]\n\n  if (player.cubeUpgrades[57] > 0 && i < 50 && i % 10 === 1) {\n    baseValue += 1\n  }\n\n  return baseValue\n}\n\nexport const cubeUpgradeDesc = (i: number, buyMax = player.cubeUpgradesBuyMaxToggle) => {\n  const metaData = getCubeCost(i, buyMax)\n  const a = DOMCacheGetOrSet('cubeUpgradeName')\n  const b = DOMCacheGetOrSet('cubeUpgradeDescription')\n  const c = DOMCacheGetOrSet('cubeUpgradeCost')\n  const d = DOMCacheGetOrSet('cubeUpgradeLevel')\n  const maxLevel = getCubeMax(i)\n\n  a.textContent = i18next.t(`cubes.upgradeNames.${i}`)\n  b.textContent = i18next.t(`cubes.upgradeDescriptions.${i}`)\n  c.textContent = i18next.t('cubes.cubeMetadata.cost', {\n    value1: format(metaData.cost, 0, true),\n    value2: format(metaData.levelCanBuy - player.cubeUpgrades[i]!, 0, true)\n  })\n  c.style.color = 'var(--green-text-color)'\n  d.textContent = i18next.t('cubes.cubeMetadata.level', {\n    value1: format(player.cubeUpgrades[i], 0, true),\n    value2: format(maxLevel, 0, true)\n  })\n  d.style.color = 'white'\n\n  // This conditional is true only in the case where you can buy zero levels.\n  if (Number(player.wowCubes) < metaData.cost) {\n    c.style.color = 'var(--crimson-text-color)'\n  }\n  if (player.cubeUpgrades[i] === maxLevel) {\n    c.style.color = 'gold'\n    c.textContent = i18next.t('cubes.cubeMetadata.maxLevel')\n    d.style.color = 'plum'\n  }\n}\n\nexport const updateCubeUpgradeBG = (i: number) => {\n  const a = DOMCacheGetOrSet(`cubeUpg${i}`)\n  const maxCubeLevel = getCubeMax(i)\n  const cubeUpgrade = player.cubeUpgrades[i]!\n  if (cubeUpgrade > maxCubeLevel) {\n    player.wowCubes.add((cubeUpgrade - maxCubeLevel) * cubeBaseCost[i - 1])\n    player.cubeUpgrades[i] = maxCubeLevel\n  }\n  if (player.cubeUpgrades[i] === 0) {\n    a.style.backgroundColor = ''\n  }\n  if (cubeUpgrade > 0 && cubeUpgrade < maxCubeLevel) {\n    a.style.backgroundColor = 'purple'\n  }\n  if (player.cubeUpgrades[i] === maxCubeLevel) {\n    a.style.backgroundColor = 'green'\n  }\n}\n\nexport const awardAutosCookieUpgrade = () => {\n  for (const i of cubeAutomationIndices) {\n    const maxLevel = getCubeMax(i)\n    player.cubeUpgrades[i] = maxLevel\n    updateCubeUpgradeBG(i)\n  }\n\n  calculateCubeBlessings()\n\n  for (const i of researchAutomationIndices) {\n    player.researches[i] = G.researchMaxLevels[i]\n    updateResearchBG(i)\n  }\n}\n\nexport const buyCubeUpgrades = (i: number, buyMax = player.cubeUpgradesBuyMaxToggle, auto = false) => {\n  // Actually lock for HTML exploit\n  if (\n    (i > 50 && i <= 55 && !player.singularityUpgrades.cookies.getEffect().bonus)\n    || (i > 55 && i <= 60 && !player.singularityUpgrades.cookies2.getEffect().bonus)\n    || (i > 60 && i <= 65 && !player.singularityUpgrades.cookies3.getEffect().bonus)\n    || (i > 65 && i <= 70 && !player.singularityUpgrades.cookies4.getEffect().bonus)\n    || (i > 70 && !player.singularityUpgrades.cookies5.getEffect().bonus)\n  ) {\n    return\n  }\n\n  const metaData = getCubeCost(i, buyMax)\n  const maxLevel = getCubeMax(i)\n  if (Number(player.wowCubes) >= metaData.cost && player.cubeUpgrades[i]! < maxLevel) {\n    player.wowCubes.sub(100 / 100 * metaData.cost)\n    player.cubeUpgrades[i] = metaData.levelCanBuy\n  } else {\n    return\n  }\n\n  if (i === 4 && player.cubeUpgrades[4] > 0) {\n    for (let j = 94; j <= 98; j++) {\n      player.upgrades[j] = 1\n      upgradeupdate(j, true)\n    }\n  }\n  if (i === 5 && player.cubeUpgrades[5] > 0) {\n    player.upgrades[99] = 1\n    upgradeupdate(99, true)\n  }\n  if (i === 6 && player.cubeUpgrades[6] > 0) {\n    player.upgrades[100] = 1\n    upgradeupdate(100, true)\n  }\n\n  if (i === 51 && player.cubeUpgrades[51] > 0) {\n    awardAutosCookieUpgrade()\n  }\n\n  if (i === 57 && player.cubeUpgrades[57] > 0) {\n    for (let j = 1; j < player.cubeUpgrades.length; j++) {\n      updateCubeUpgradeBG(j)\n    }\n  }\n\n  if (!auto) {\n    cubeUpgradeDesc(i)\n    revealStuff()\n    calculateCubeBlessings()\n  }\n  updateCubeUpgradeBG(i)\n}\n\nexport const autoBuyCubeUpgrades = () => {\n  if (\n    player.autoCubeUpgradesToggle\n    && ((player.highestSingularityCount >= 50 && player.insideSingularityChallenge)\n      || player.highestSingularityCount >= 150)\n  ) {\n    const cheapet = []\n\n    for (let i = 1; i < player.cubeUpgrades.length; i++) {\n      const maxLevel = getCubeMax(i)\n      if (player.cubeUpgrades[i]! < maxLevel) {\n        const metaData = getCubeCost(i, true)\n        cheapet.push([i, metaData.cost, metaData.levelCanBuy])\n      }\n    }\n\n    if (cheapet.length > 0) {\n      let update = false\n\n      cheapet.sort((a, b) => {\n        return a[1] - b[1]\n      })\n\n      for (const value of cheapet) {\n        const maxLevel = getCubeMax(value[0])\n        const metaData = getCubeCost(value[0], true)\n        if (\n          Number(player.wowCubes) >= metaData.cost && player.cubeUpgrades[value[0]]! < maxLevel\n          && (player.cubeUpgradesBuyMaxToggle || maxLevel === metaData.levelCanBuy)\n        ) {\n          buyCubeUpgrades(value[0], true, true)\n          update = true\n        }\n      }\n\n      if (update) {\n        revealStuff()\n        calculateCubeBlessings()\n      }\n    }\n  }\n}\n", "import Decimal from 'break_infinity.js'\nimport type { StringMap } from 'i18next'\nimport i18next from 'i18next'\nimport { DOMCacheGetOrSet } from './Cache/DOM'\nimport {\n  calculateCubeMultFromPowder,\n  calculateCubeQuarkMultiplier,\n  calculatePowderConversion,\n  calculateQuarkMultFromPowder,\n  forcedDailyReset\n} from './Calculate'\nimport { Cube } from './CubeExperimental'\nimport { calculateSingularityDebuff } from './singularity'\nimport { format, player } from './Synergism'\nimport type { Player } from './types/Synergism'\nimport { Alert, Confirm, Prompt } from './UpdateHTML'\n\nexport interface IHepteractCraft {\n  BASE_CAP: number\n  HEPTERACT_CONVERSION: number\n  OTHER_CONVERSIONS: Record<string, number>\n  HTML_STRING: string\n  AUTO?: boolean\n  UNLOCKED?: boolean\n  BAL?: number\n  CAP?: number\n  DISCOUNT?: number\n}\n\nexport const hepteractTypeList = [\n  'chronos',\n  'hyperrealism',\n  'quark',\n  'challenge',\n  'abyss',\n  'accelerator',\n  'acceleratorBoost',\n  'multiplier'\n] as const\n\nexport type hepteractTypes = typeof hepteractTypeList[number]\n\nexport class HepteractCraft {\n  /**\n   * Craft is unlocked or not (Default is locked)\n   */\n  UNLOCKED = false\n\n  /**\n   * Current Inventory (amount) of craft you possess\n   */\n  BAL = 0\n\n  /**\n   * Maximum Inventory (amount) of craft you can hold\n   * base_cap is the smallest capacity for such item.\n   */\n  CAP = 0\n  BASE_CAP = 0\n\n  /**\n   * Conversion rate of hepteract to synthesized items\n   */\n  HEPTERACT_CONVERSION = 0\n\n  /**\n   * Automatic crafting toggle. If on, allows crafting to be done automatically upon ascension.\n   */\n  AUTO = false\n\n  /**\n   * Conversion rate of additional items\n   * This is in the form of keys being player variables,\n   * values being the amount player has.\n   */\n  OTHER_CONVERSIONS: {\n    [key in keyof Player]?: number\n  }\n\n  /**\n   * Discount Factor (number from [0, 1))\n   */\n  DISCOUNT = 0\n\n  /**\n   * String Prefix used for HTML DOM manipulation\n   */\n  HTML_STRING: string\n\n  constructor (data: IHepteractCraft) {\n    this.BASE_CAP = data.BASE_CAP\n    this.HEPTERACT_CONVERSION = data.HEPTERACT_CONVERSION\n    this.OTHER_CONVERSIONS = data.OTHER_CONVERSIONS\n    this.HTML_STRING = data.HTML_STRING\n    this.UNLOCKED = data.UNLOCKED ?? false // This would basically always be true if this parameter is provided\n    this.BAL = data.BAL ?? 0\n    this.CAP = data.CAP ?? this.BASE_CAP // This sets cap either as previous value or keeps it to default.\n    this.DISCOUNT = data.DISCOUNT ?? 0\n    this.AUTO = data.AUTO ?? false\n\n    void this.toggleAutomatic(this.AUTO)\n  }\n\n  // Unlock a synthesizer craft\n  unlock = (hepteractName: string): this | Promise<void> => {\n    if (this.UNLOCKED) {\n      return this\n    }\n    this.UNLOCKED = true\n    if (player.highestSingularityCount < 5) {\n      return Alert(i18next.t('hepteracts.unlockedCraft', { x: hepteractName }))\n    } else {\n      return this\n    }\n  }\n\n  computeActualCap = (): number => {\n    let multiplier = 1\n    multiplier *= (player.singularityChallenges.limitedAscensions.rewards.hepteractCap) ? 2 : 1\n\n    return this.CAP * multiplier\n  }\n\n  // Add to balance through crafting.\n  craft = async (max = false): Promise<HepteractCraft | void> => {\n    let craftAmount = null\n    const heptCap = this.computeActualCap()\n    const craftCostMulti = calculateSingularityDebuff('Hepteract Costs')\n    // If craft is unlocked, we return object\n    if (!this.UNLOCKED) {\n      return Alert(i18next.t('hepteracts.notUnlocked'))\n    }\n\n    if (heptCap - this.BAL <= 0) {\n      if (player.toggles[35]) {\n        return Alert(i18next.t('hepteracts.reachedCapacity', { x: format(heptCap, 0, true) }))\n      }\n    }\n\n    if (isNaN(player.wowAbyssals) || !isFinite(player.wowAbyssals) || player.wowAbyssals < 0) {\n      player.wowAbyssals = 0\n    }\n\n    // Calculate the largest craft amount possible, with an upper limit being craftAmount\n    const hepteractLimit = Math.floor(\n      (player.wowAbyssals / (this.HEPTERACT_CONVERSION * craftCostMulti)) * 1 / (1 - this.DISCOUNT)\n    )\n\n    // Create an array of how many we can craft using our conversion limits for additional items\n    const itemLimits: number[] = []\n    for (const item in this.OTHER_CONVERSIONS) {\n      // The type of player[item] is number | Decimal | Cube.\n      if (item === 'worlds') {\n        itemLimits.push(\n          Math.floor((player[item as keyof Player] as number) / (this.OTHER_CONVERSIONS[item as keyof Player] ?? 1)) * 1\n            / (1 - this.DISCOUNT)\n        )\n      } else {\n        itemLimits.push(\n          Math.floor(\n            (player[item as keyof Player] as number) / (craftCostMulti * this.OTHER_CONVERSIONS[item as keyof Player]!)\n          ) * 1 / (1 - this.DISCOUNT)\n        )\n      }\n    }\n\n    // Get the smallest of the array we created\n    const smallestItemLimit = Math.min(...itemLimits)\n\n    let amountToCraft = Math.min(smallestItemLimit, hepteractLimit, heptCap, heptCap - this.BAL)\n\n    // Return if the material is not a calculable number\n    if (isNaN(amountToCraft) || !isFinite(amountToCraft)) {\n      return Alert(i18next.t('hepteracts.executionFailed'))\n    }\n\n    // Prompt used here. Thank you Khafra for the already made code! -Platonic\n    if (!max) {\n      const craftingPrompt = await Prompt(i18next.t('hepteracts.craft', {\n        x: format(amountToCraft, 0, true),\n        y: Math.floor(amountToCraft / heptCap * 10000) / 100\n      }))\n\n      if (craftingPrompt === null) { // Number(null) is 0. Yeah..\n        if (player.toggles[35]) {\n          return Alert(i18next.t('hepteracts.cancelled'))\n        } else {\n          return // If no return, then it will just give another message\n        }\n      }\n      craftAmount = Number(craftingPrompt)\n    } else {\n      craftAmount = heptCap\n    }\n\n    // Check these lol\n    if (isNaN(craftAmount) || !isFinite(craftAmount) || !Number.isInteger(craftAmount)) { // nan + Infinity checks\n      return Alert(i18next.t('general.validation.finite'))\n    } else if (craftAmount <= 0) { // 0 or less selected\n      return Alert(i18next.t('general.validation.zeroOrLess'))\n    }\n\n    // Get the smallest of hepteract limit, limit found above and specified input\n    amountToCraft = Math.min(smallestItemLimit, hepteractLimit, craftAmount, heptCap - this.BAL)\n\n    if (max && player.toggles[35]) {\n      const craftYesPlz = await Confirm(i18next.t('hepteracts.craftMax', {\n        x: format(amountToCraft, 0, true),\n        y: Math.floor(amountToCraft / heptCap * 10000) / 100\n      }))\n\n      if (!craftYesPlz) {\n        return Alert(i18next.t('hepteracts.cancelled'))\n      }\n    }\n\n    this.BAL = Math.min(heptCap, this.BAL + amountToCraft)\n\n    // Subtract spent items from player\n    player.wowAbyssals -= amountToCraft * this.HEPTERACT_CONVERSION * craftCostMulti\n\n    if (player.wowAbyssals < 0) {\n      player.wowAbyssals = 0\n    }\n\n    for (const item of (Object.keys(this.OTHER_CONVERSIONS) as (keyof Player)[])) {\n      if (typeof player[item] === 'number') {\n        ;(player[item] as number) -= amountToCraft * craftCostMulti\n          * this.OTHER_CONVERSIONS[item]!\n      }\n\n      if ((player[item] as number) < 0) {\n        ;(player[item] as number) = 0\n      } else if (player[item] instanceof Cube) {\n        ;(player[item] as Cube).sub(\n          amountToCraft * craftCostMulti * this.OTHER_CONVERSIONS[item]!\n        )\n      } else if (item === 'worlds') {\n        player.worlds.sub(amountToCraft * this.OTHER_CONVERSIONS[item]!)\n      }\n    }\n\n    if (player.toggles[35]) {\n      if (!max) {\n        return Alert(i18next.t('hepteracts.craftedHepteracts', { x: format(amountToCraft, 0, true) }))\n      }\n\n      return Alert(i18next.t('hepteracts.craftedHepteractsMax', { x: format(amountToCraft, 0, true) }))\n    }\n  }\n\n  // Reduce balance through spending\n  spend (amount: number): this {\n    if (!this.UNLOCKED) {\n      return this\n    }\n\n    this.BAL -= amount\n    return this\n  }\n\n  // Expand your capacity\n  /**\n   * Expansion can only happen if your current balance is full.\n   */\n  expand = async (): Promise<HepteractCraft | void> => {\n    const expandMultiplier = 2\n    const currentBalance = this.BAL\n    const heptCap = this.computeActualCap()\n    const currHeptCapNoMulti = this.CAP\n\n    if (!this.UNLOCKED) {\n      return Alert(i18next.t('hepteracts.notUnlocked'))\n    }\n\n    // Below capacity\n    if (this.BAL < this.CAP) {\n      if (player.toggles[35]) {\n        return Alert(i18next.t('hepteracts.notEnough'))\n      } else {\n        return\n      }\n    }\n\n    const expandPrompt = await Confirm(i18next.t('hepteracts.expandPrompt', {\n      x: format(this.CAP),\n      y: format(heptCap),\n      z: format(heptCap * expandMultiplier),\n      a: format(expandMultiplier, 2, true)\n    }))\n\n    if (!expandPrompt) {\n      return this\n    }\n\n    // Avoid a double-expand exploit due to player waiting to confirm until after autocraft fires and expands\n    if (this.BAL !== currentBalance || this.CAP !== currHeptCapNoMulti) {\n      if (player.toggles[35]) {\n        return Alert(i18next.t('hepteracts.doubleSpent'))\n      } else {\n        return\n      }\n    }\n\n    // Empties inventory in exchange for doubling maximum capacity.\n    this.BAL -= this.CAP\n    this.BAL = Math.max(0, this.BAL)\n\n    this.CAP = Math.min(1e300, this.CAP * expandMultiplier)\n\n    if (player.toggles[35]) {\n      return Alert(i18next.t('hepteracts.expandedInventory', {\n        x: format(heptCap * expandMultiplier, 0, true)\n      }))\n    }\n  }\n\n  // Add some percentage points to your discount\n  /**\n   * Discount has boundaries [0, 1), and upper limit\n   *  is defined by (1 - EPSILON). Craft amount is multiplied by 1 / (1 - Discount)\n   */\n  addDiscount (amount: number): this {\n    // If amount would put Discount to 1 or higher set to upper limit\n    if (this.DISCOUNT + amount > (1 - Number.EPSILON)) {\n      this.DISCOUNT = 1 - Number.EPSILON\n      return this\n    }\n\n    this.DISCOUNT += amount\n    return this\n  }\n\n  toggleAutomatic (newValue?: boolean): Promise<void> | this {\n    const HTML = DOMCacheGetOrSet(`${this.HTML_STRING}HepteractAuto`)\n\n    // When newValue is empty, current value is toggled\n    this.AUTO = newValue ?? !this.AUTO\n\n    HTML.textContent = this.AUTO ? i18next.t('general.autoOnColon') : i18next.t('general.autoOffColon')\n    HTML.style.border = `2px solid ${this.AUTO ? 'green' : 'red'}`\n\n    return this\n  }\n\n  autoCraft (heptAmount: number): this {\n    const expandMultiplier = 2\n    const craftCostMulti = calculateSingularityDebuff('Hepteract Costs')\n    let heptCap = this.computeActualCap()\n\n    // Calculate the largest craft amount possible, with an upper limit being craftAmount\n    const hepteractLimitCraft = Math.floor(\n      (heptAmount / (craftCostMulti * this.HEPTERACT_CONVERSION)) * 1 / (1 - this.DISCOUNT)\n    )\n\n    // Create an array of how many we can craft using our conversion limits for additional items\n    const itemLimits: number[] = []\n    for (const item in this.OTHER_CONVERSIONS) {\n      // When Auto is turned on, only Quarks and hepteracts are consumed.\n      if (item === 'worlds') {\n        itemLimits.push(\n          Math.floor((player[item as keyof Player] as number) / this.OTHER_CONVERSIONS[item as keyof Player]!) * 1\n            / (1 - this.DISCOUNT)\n        )\n      }\n    }\n\n    // Get the smallest of the array we created [If Empty, this will be infinite]\n    const smallestItemLimit = Math.min(...itemLimits)\n\n    let amountToCraft = Math.min(smallestItemLimit, hepteractLimitCraft)\n    let amountCrafted = 0\n\n    let craft = Math.min(heptCap - this.BAL, amountToCraft) // Always nonzero\n    this.BAL += craft\n    amountCrafted += craft\n    amountToCraft -= craft\n\n    while (this.BAL >= heptCap && amountToCraft >= this.CAP) {\n      this.BAL -= this.CAP\n      this.CAP *= expandMultiplier\n      heptCap *= expandMultiplier\n      craft = Math.min(heptCap - this.BAL, amountToCraft)\n\n      this.BAL += craft\n      amountCrafted += craft\n      amountToCraft -= craft\n    }\n\n    for (const item in this.OTHER_CONVERSIONS) {\n      if (item === 'worlds') {\n        player.worlds.sub(amountCrafted * this.OTHER_CONVERSIONS[item]!)\n      }\n    }\n\n    player.wowAbyssals -= amountCrafted * craftCostMulti * this.HEPTERACT_CONVERSION\n    if (player.wowAbyssals < 0) {\n      player.wowAbyssals = 0\n    }\n\n    return this\n  }\n\n  // Get balance of item\n  get amount () {\n    return this.BAL\n  }\n  get capacity () {\n    return this.CAP\n  }\n  get discount () {\n    return this.DISCOUNT\n  }\n}\n\nconst hepteractEffectiveValues = {\n  chronos: {\n    LIMIT: 1000,\n    DR: 1 / 6\n  },\n  hyperrealism: {\n    LIMIT: 1000,\n    DR: 0.33\n  },\n  quark: {\n    LIMIT: 1000,\n    DR: 0.5\n  },\n  challenge: {\n    LIMIT: 1000,\n    DR: 1 / 6\n  },\n  abyss: {\n    LIMIT: 1,\n    DR: 0\n  },\n  accelerator: {\n    LIMIT: 1000,\n    DR: 0.2\n  },\n  acceleratorBoost: {\n    LIMIT: 1000,\n    DR: 0.2\n  },\n  multiplier: {\n    LIMIT: 1000,\n    DR: 0.2\n  }\n}\n\nexport const createHepteract = (data: IHepteractCraft) => {\n  return new HepteractCraft(data)\n}\n\nexport const hepteractEffective = (data: hepteractTypes) => {\n  let effectiveValue = Math.min(player.hepteractCrafts[data].BAL, hepteractEffectiveValues[data].LIMIT)\n  let exponentBoost = 0\n  if (data === 'chronos') {\n    exponentBoost += 1 / 750 * player.platonicUpgrades[19]\n  }\n  if (data === 'quark') {\n    exponentBoost += +player.singularityUpgrades.singQuarkHepteract.getEffect().bonus\n    exponentBoost += +player.singularityUpgrades.singQuarkHepteract2.getEffect().bonus\n    exponentBoost += +player.singularityUpgrades.singQuarkHepteract3.getEffect().bonus\n    exponentBoost += +player.octeractUpgrades.octeractImprovedQuarkHept.getEffect().bonus\n    exponentBoost += player.shopUpgrades.improveQuarkHept / 100\n    exponentBoost += player.shopUpgrades.improveQuarkHept2 / 100\n    exponentBoost += player.shopUpgrades.improveQuarkHept3 / 100\n    exponentBoost += player.shopUpgrades.improveQuarkHept4 / 100\n    exponentBoost += player.shopUpgrades.improveQuarkHept5 / 5000\n\n    const amount = player.hepteractCrafts[data].BAL\n    if (1000 < amount && amount <= 1000 * Math.pow(2, 10)) {\n      return effectiveValue * Math.pow(amount / 1000, 1 / 2 + exponentBoost)\n    } else if (1000 * Math.pow(2, 10) < amount && amount <= 1000 * Math.pow(2, 18)) {\n      return effectiveValue * Math.pow(Math.pow(2, 10), 1 / 2 + exponentBoost)\n        * Math.pow(amount / (1000 * Math.pow(2, 10)), 1 / 4 + exponentBoost / 2)\n    } else if (1000 * Math.pow(2, 18) < amount && amount <= 1000 * Math.pow(2, 44)) {\n      return effectiveValue * Math.pow(Math.pow(2, 10), 1 / 2 + exponentBoost)\n        * Math.pow(Math.pow(2, 8), 1 / 4 + exponentBoost / 2)\n        * Math.pow(amount / (1000 * Math.pow(2, 18)), 1 / 6 + exponentBoost / 3)\n    } else if (1000 * Math.pow(2, 44) < amount) {\n      return effectiveValue * Math.pow(Math.pow(2, 10), 1 / 2 + exponentBoost)\n        * Math.pow(Math.pow(2, 8), 1 / 4 + exponentBoost / 2)\n        * Math.pow(Math.pow(2, 26), 1 / 6 + exponentBoost / 3)\n        * Math.pow(amount / (1000 * Math.pow(2, 44)), 1 / 12 + exponentBoost / 6)\n    }\n  }\n  if (player.hepteractCrafts[data].BAL > hepteractEffectiveValues[data].LIMIT) {\n    effectiveValue *= Math.pow(\n      player.hepteractCrafts[data].BAL / hepteractEffectiveValues[data].LIMIT,\n      hepteractEffectiveValues[data].DR + exponentBoost\n    )\n  }\n\n  return effectiveValue\n}\n\nexport const hepteractDescriptions = (type: hepteractTypes) => {\n  DOMCacheGetOrSet('hepteractUnlockedText').style.display = 'block'\n  DOMCacheGetOrSet('hepteractCurrentEffectText').style.display = 'block'\n  DOMCacheGetOrSet('hepteractBalanceText').style.display = 'block'\n  DOMCacheGetOrSet('powderDayWarpText').style.display = 'none'\n  DOMCacheGetOrSet('hepteractCostText').style.display = 'block'\n\n  const unlockedText = DOMCacheGetOrSet('hepteractUnlockedText')\n  const effectText = DOMCacheGetOrSet('hepteractEffectText')\n  const currentEffectText = DOMCacheGetOrSet('hepteractCurrentEffectText')\n  const balanceText = DOMCacheGetOrSet('hepteractBalanceText')\n  const costText = DOMCacheGetOrSet('hepteractCostText')\n  const bonusCapacityText = DOMCacheGetOrSet('hepteractBonusCapacity')\n  const craftCostMulti = calculateSingularityDebuff('Hepteract Costs')\n\n  const multiplier = player.hepteractCrafts[type].computeActualCap() / player.hepteractCrafts[type].CAP\n  bonusCapacityText.textContent =\n    (player.hepteractCrafts[type].computeActualCap() / player.hepteractCrafts[type].CAP > 1)\n      ? `Hepteract capacities are currently multiplied by ${multiplier}. Expansions cost what they would if this multiplier were 1.`\n      : ''\n  let currentEffectRecord!: StringMap\n  let oneCost!: string | Record<string, string>\n\n  switch (type) {\n    case 'chronos':\n      currentEffectRecord = { x: format(hepteractEffective('chronos') * 6 / 100, 2, true) }\n      oneCost = format(1e115 * craftCostMulti, 0, false)\n\n      break\n    case 'hyperrealism':\n      currentEffectRecord = { x: format(hepteractEffective('hyperrealism') * 6 / 100, 2, true) }\n      oneCost = format(1e80 * craftCostMulti, 0, true)\n      break\n    case 'quark':\n      currentEffectRecord = { x: format(hepteractEffective('quark') * 5 / 100, 2, true) }\n      oneCost = '100'\n      break\n    case 'challenge':\n      currentEffectRecord = { x: format(hepteractEffective('challenge') * 5 / 100, 2, true) }\n      oneCost = {\n        y: format(1e11 * craftCostMulti),\n        z: format(1e22 * craftCostMulti)\n      }\n      break\n    case 'abyss':\n      oneCost = format(69 * craftCostMulti)\n      break\n    case 'accelerator':\n      currentEffectRecord = {\n        x: format(2000 * hepteractEffective('accelerator'), 2, true),\n        y: format(hepteractEffective('accelerator') * 3 / 100, 2, true)\n      }\n      oneCost = format(1e14 * craftCostMulti)\n      break\n    case 'acceleratorBoost':\n      currentEffectRecord = { x: format(hepteractEffective('acceleratorBoost') / 10, 2, true) }\n      oneCost = format(1e10 * craftCostMulti)\n      break\n    case 'multiplier':\n      currentEffectRecord = {\n        x: format(1000 * hepteractEffective('multiplier'), 2, true),\n        y: format(hepteractEffective('multiplier') * 3 / 100, 2, true)\n      }\n      oneCost = format(1e130 * craftCostMulti)\n      break\n  }\n\n  effectText.textContent = i18next.t(`wowCubes.hepteractForge.descriptions.${type}.effect`)\n  currentEffectText.textContent = i18next.t(\n    `wowCubes.hepteractForge.descriptions.${type}.currentEffect`,\n    currentEffectRecord\n  )\n  balanceText.textContent = i18next.t('wowCubes.hepteractForge.inventory', {\n    x: format(player.hepteractCrafts[type].BAL, 0, true),\n    y: format(player.hepteractCrafts[type].computeActualCap(), 0, true)\n  })\n  const record = typeof oneCost === 'string' ? { y: oneCost } : oneCost\n  costText.textContent = i18next.t(`wowCubes.hepteractForge.descriptions.${type}.oneCost`, {\n    x: format(player.hepteractCrafts[type].HEPTERACT_CONVERSION * craftCostMulti, 0, true),\n    ...record\n  })\n\n  unlockedText.textContent = player.hepteractCrafts[type].UNLOCKED\n    ? i18next.t('wowCubes.hepteractForge.unlocked')\n    : i18next.t('wowCubes.hepteractForge.locked')\n}\n\n/**\n * Generates the description at the bottom of the page for Overflux Orb crafting\n */\nexport const hepteractToOverfluxOrbDescription = () => {\n  DOMCacheGetOrSet('hepteractUnlockedText').style.display = 'none'\n  DOMCacheGetOrSet('powderDayWarpText').style.display = 'none'\n  DOMCacheGetOrSet('hepteractCostText').style.display = 'block'\n\n  DOMCacheGetOrSet('hepteractCurrentEffectText').textContent = i18next.t('hepteracts.orbEffect', {\n    x: format(100 * (-1 + calculateCubeQuarkMultiplier()), 2, true)\n  })\n  DOMCacheGetOrSet('hepteractBalanceText').textContent = i18next.t('hepteracts.orbsPurchasedToday', {\n    x: format(player.overfluxOrbs, 0, true)\n  })\n  DOMCacheGetOrSet('hepteractEffectText').textContent = i18next.t('hepteracts.amalgamate')\n  DOMCacheGetOrSet('hepteractCostText').textContent = i18next.t('hepteracts.cost250k')\n}\n\n/**\n * Trades Hepteracts for Overflux Orbs at 250,000 : 1 ratio. If null or invalid will gracefully terminate.\n * @returns Alert of either purchase failure or success\n */\nexport const tradeHepteractToOverfluxOrb = async (buyMax?: boolean) => {\n  const maxBuy = Math.floor(player.wowAbyssals / 250000)\n  let toUse: number\n\n  if (buyMax) {\n    if (player.toggles[35]) {\n      const craftYesPlz = await Confirm(i18next.t('hepteracts.craftMaxOrbs', { x: format(maxBuy, 0, true) }))\n      if (!craftYesPlz) {\n        return Alert(i18next.t('hepteracts.cancelled'))\n      }\n    }\n    toUse = maxBuy\n  } else {\n    const hepteractInput = await Prompt(i18next.t('hepteracts.hepteractInput', { x: format(maxBuy, 0, true) }))\n    if (hepteractInput === null) {\n      if (player.toggles[35]) {\n        return Alert(i18next.t('hepteracts.cancelled'))\n      } else {\n        return\n      }\n    }\n\n    toUse = Number(hepteractInput)\n    if (\n      isNaN(toUse)\n      || !isFinite(toUse)\n      || !Number.isInteger(toUse)\n      || toUse <= 0\n    ) {\n      return Alert(i18next.t('general.validation.invalidNumber'))\n    }\n  }\n\n  const buyAmount = Math.min(maxBuy, Math.floor(toUse))\n  const beforeEffect = calculateCubeQuarkMultiplier()\n  player.overfluxOrbs += buyAmount\n  player.wowAbyssals -= 250000 * buyAmount\n  const afterEffect = calculateCubeQuarkMultiplier()\n\n  if (player.wowAbyssals < 0) {\n    player.wowAbyssals = 0\n  }\n\n  const powderGain = player.shopUpgrades.powderAuto * calculatePowderConversion().mult * buyAmount / 100\n  player.overfluxPowder += powderGain\n\n  const powderText = (powderGain > 0) ? i18next.t('hepteracts.gainedPowder', { x: format(powderGain, 2, true) }) : ''\n  if (player.toggles[35]) {\n    return Alert(i18next.t('hepteracts.purchasedOrbs', {\n      x: format(buyAmount, 0, true),\n      y: format(100 * (afterEffect - beforeEffect), 2, true),\n      z: powderText\n    }))\n  }\n}\n\nexport const toggleAutoBuyOrbs = (newValue?: boolean, firstLoad = false) => {\n  const HTML = DOMCacheGetOrSet('hepteractToQuarkTradeAuto')\n\n  if (!firstLoad) {\n    // When newValue is empty, current value is toggled\n    player.overfluxOrbsAutoBuy = newValue ?? !player.overfluxOrbsAutoBuy\n  }\n\n  HTML.textContent = player.overfluxOrbsAutoBuy ? i18next.t('general.autoOnColon') : i18next.t('general.autoOffColon')\n  HTML.style.border = `2px solid ${player.overfluxOrbsAutoBuy ? 'green' : 'red'}`\n}\n\n/**\n * Generates the description at the bottom of the page for Overflux Powder Properties\n */\nexport const overfluxPowderDescription = () => {\n  let powderEffectText: string\n  if (player.platonicUpgrades[16] > 0) {\n    powderEffectText = i18next.t('hepteracts.allCubeGainExtended', {\n      x: format(100 * (calculateCubeMultFromPowder() - 1), 2, true),\n      y: format(100 * (calculateQuarkMultFromPowder() - 1), 3, true),\n      z: format(2 * player.platonicUpgrades[16] * Math.min(1, player.overfluxPowder / 1e5), 2, true),\n      a: format(Decimal.pow(player.overfluxPowder + 1, 10 * player.platonicUpgrades[16]))\n    })\n  } else {\n    powderEffectText = i18next.t('hepteracts.allCubeGain', {\n      x: format(100 * (calculateCubeMultFromPowder() - 1), 2, true),\n      y: format(100 * (calculateQuarkMultFromPowder() - 1), 3, true)\n    })\n  }\n  DOMCacheGetOrSet('hepteractUnlockedText').style.display = 'none'\n  DOMCacheGetOrSet('hepteractCurrentEffectText').textContent = i18next.t('hepteracts.powderEffect', {\n    x: powderEffectText\n  })\n  DOMCacheGetOrSet('hepteractBalanceText').textContent = i18next.t('hepteracts.powderLumps', {\n    x: format(player.overfluxPowder, 2, true)\n  })\n  DOMCacheGetOrSet('hepteractEffectText').textContent = i18next.t('hepteracts.expiredOrbs', {\n    x: format(1 / calculatePowderConversion().mult, 1, true)\n  })\n  DOMCacheGetOrSet('hepteractCostText').style.display = 'none'\n\n  DOMCacheGetOrSet('powderDayWarpText').style.display = 'block'\n  DOMCacheGetOrSet('powderDayWarpText').textContent = i18next.t('hepteracts.dayWarpsRemaining', {\n    x: player.dailyPowderResetUses\n  })\n}\n\n/**\n * Attempts to operate a 'Day Reset' which, if successful, resets Daily Cube counters for the player.\n * Note by Platonic: kinda rushed job but idk if it can be improved.\n * @returns Alert, either for success or failure of warping\n */\nexport const overfluxPowderWarp = async (auto: boolean) => {\n  if (!auto) {\n    if (player.autoWarpCheck) {\n      return Alert(i18next.t('hepteracts.warpImpossible'))\n    }\n    if (player.dailyPowderResetUses <= 0) {\n      return Alert(i18next.t('hepteracts.machineCooldown'))\n    }\n    if (player.overfluxPowder < 25) {\n      return Alert(i18next.t('hepteracts.atleastPowder'))\n    }\n    const c = await Confirm(i18next.t('hepteracts.stumbleMachine'))\n    if (!c) {\n      if (player.toggles[35]) {\n        return Alert(i18next.t('hepteracts.walkAwayMachine'))\n      }\n    } else {\n      player.overfluxPowder -= 25\n      player.dailyPowderResetUses -= 1\n      forcedDailyReset()\n      if (player.toggles[35]) {\n        return Alert(i18next.t('hepteracts.useMachine'))\n      }\n    }\n  } else {\n    if (player.autoWarpCheck) {\n      const a = await Confirm(i18next.t('hepteracts.useAllWarpsPrompt'))\n      if (a) {\n        DOMCacheGetOrSet('warpAuto').textContent = i18next.t('general.autoOffColon')\n        DOMCacheGetOrSet('warpAuto').style.border = '2px solid red'\n        player.autoWarpCheck = false\n        player.dailyPowderResetUses = 0\n        return Alert(i18next.t('hepteracts.machineCooldown'))\n      } else {\n        if (player.toggles[35]) {\n          return Alert(i18next.t('hepteracts.machineDidNotConsume'))\n        }\n      }\n    } else {\n      const a = await Confirm(i18next.t('hepteracts.boostQuarksPrompt'))\n      if (a) {\n        DOMCacheGetOrSet('warpAuto').textContent = i18next.t('general.autoOnColon')\n        DOMCacheGetOrSet('warpAuto').style.border = '2px solid green'\n        player.autoWarpCheck = true\n        if (player.dailyPowderResetUses === 0) {\n          return Alert(i18next.t('hepteracts.machineOverdrive'))\n        }\n        return Alert(i18next.t('hepteracts.machineInOverdrive'))\n      } else {\n        if (player.toggles[35]) {\n          return Alert(i18next.t('hepteracts.machineUsualContinue'))\n        }\n      }\n    }\n  }\n}\n\n/**\n * Get the HepteractCrafts which are unlocked and auto = ON\n * @returns Array of HepteractCraft\n */\nexport const getAutoHepteractCrafts = () => {\n  const autoHepteracts: HepteractCraft[] = []\n  for (const craftName of Object.keys(player.hepteractCrafts)) {\n    const craftKey = craftName as keyof Player['hepteractCrafts']\n    if (player.hepteractCrafts[craftKey].AUTO && player.hepteractCrafts[craftKey].UNLOCKED) {\n      autoHepteracts.push(player.hepteractCrafts[craftKey])\n    }\n  }\n  return autoHepteracts\n}\n\n// Hepteract of Chronos [UNLOCKED]\nexport const ChronosHepteract = new HepteractCraft({\n  BASE_CAP: 1000,\n  HEPTERACT_CONVERSION: 1e4,\n  OTHER_CONVERSIONS: { researchPoints: 1e115 },\n  HTML_STRING: 'chronos',\n  UNLOCKED: true\n})\n\n// Hepteract of Hyperrealism [UNLOCKED]\nexport const HyperrealismHepteract = new HepteractCraft({\n  BASE_CAP: 1000,\n  HEPTERACT_CONVERSION: 1e4,\n  OTHER_CONVERSIONS: { runeshards: 1e80 },\n  HTML_STRING: 'hyperrealism',\n  UNLOCKED: true\n})\n\n// Hepteract of Too Many Quarks [UNLOCKED]\nexport const QuarkHepteract = new HepteractCraft({\n  BASE_CAP: 1000,\n  HEPTERACT_CONVERSION: 1e4,\n  OTHER_CONVERSIONS: { worlds: 100 },\n  HTML_STRING: 'quark',\n  UNLOCKED: true\n})\n\n// Hepteract of Challenge [LOCKED]\nexport const ChallengeHepteract = new HepteractCraft({\n  BASE_CAP: 1000,\n  HEPTERACT_CONVERSION: 5e4,\n  OTHER_CONVERSIONS: { wowPlatonicCubes: 1e11, wowCubes: 1e22 },\n  HTML_STRING: 'challenge'\n})\n\n// Hepteract of The Abyssal [LOCKED]\nexport const AbyssHepteract = new HepteractCraft({\n  BASE_CAP: 1,\n  HEPTERACT_CONVERSION: 1e8,\n  OTHER_CONVERSIONS: { wowCubes: 69 },\n  HTML_STRING: 'abyss'\n})\n\n// Hepteract of Too Many Accelerator [LOCKED]\nexport const AcceleratorHepteract = new HepteractCraft({\n  BASE_CAP: 1000,\n  HEPTERACT_CONVERSION: 1e5,\n  OTHER_CONVERSIONS: { wowTesseracts: 1e14 },\n  HTML_STRING: 'accelerator'\n})\n\n// Hepteract of Too Many Accelerator Boost [LOCKED]\nexport const AcceleratorBoostHepteract = new HepteractCraft({\n  BASE_CAP: 1000,\n  HEPTERACT_CONVERSION: 2e5,\n  OTHER_CONVERSIONS: { wowHypercubes: 1e10 },\n  HTML_STRING: 'acceleratorBoost'\n})\n\n// Hepteract of Too Many Multiplier [LOCKED]\nexport const MultiplierHepteract = new HepteractCraft({\n  BASE_CAP: 1000,\n  HEPTERACT_CONVERSION: 3e5,\n  OTHER_CONVERSIONS: { researchPoints: 1e130 },\n  HTML_STRING: 'multiplier'\n})\n", "import ClipboardJS from 'clipboard'\nimport i18next from 'i18next'\nimport localforage from 'localforage'\nimport LZString from 'lz-string'\nimport { achievementaward } from './Achievements'\nimport { DOMCacheGetOrSet } from './Cache/DOM'\nimport { octeractGainPerSecond } from './Calculate'\nimport { testing, version } from './Config'\nimport { Synergism } from './Events'\nimport { addTimers } from './Helper'\nimport { getQuarkBonus, quarkHandler } from './Quark'\nimport { playerJsonSchema } from './saves/PlayerJsonSchema'\nimport { shopData } from './Shop'\nimport { singularityData } from './singularity'\nimport { synergismStage } from './Statistics'\nimport { blankSave, format, player, reloadShit, saveCheck, saveSynergy } from './Synergism'\nimport { changeSubTab, changeTab, Tabs } from './Tabs'\nimport type { Player } from './types/Synergism'\nimport { Alert, Confirm, Prompt } from './UpdateHTML'\nimport { cleanString, getElementById, productContents, sumContents } from './Utility'\nimport { btoa } from './Utility'\nimport { Globals as G } from './Variables'\n\nconst format24 = new Intl.DateTimeFormat('EN-GB', {\n  year: 'numeric',\n  month: '2-digit',\n  day: '2-digit',\n  hour: '2-digit',\n  hour12: false,\n  minute: '2-digit',\n  second: '2-digit'\n})\nconst format12 = new Intl.DateTimeFormat('EN-GB', {\n  year: 'numeric',\n  month: '2-digit',\n  day: '2-digit',\n  hour: '2-digit',\n  hour12: true,\n  minute: '2-digit',\n  second: '2-digit'\n})\n\nconst hour = 3600000\n\nconst getRealTime = (type = 'default', use12 = false) => {\n  const format = use12 ? format12 : format24\n  const datePartsArr = format\n    .formatToParts(new Date())\n    .filter((x) => x.type !== 'literal')\n    .map((p) => ({ [p.type]: p.value }))\n\n  const dateParts = Object.assign({}, ...datePartsArr) as Record<\n    string,\n    string\n  >\n\n  const period = use12 ? ` ${dateParts.dayPeriod.toUpperCase()}` : ''\n  const weekday = ['sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat']\n  switch (type) {\n    case 'default':\n      return `${dateParts.year}-${dateParts.month}-${dateParts.day} ${dateParts.hour}_${dateParts.minute}_${dateParts.second}${period}`\n    case 'short':\n      return `${dateParts.year}${dateParts.month}${dateParts.day}${dateParts.hour}${dateParts.minute}${dateParts.second}`\n    case 'year':\n      return `${dateParts.year}`\n    case 'month':\n      return `${dateParts.month}`\n    case 'day':\n      return `${dateParts.day}`\n    case 'hour':\n      return `${dateParts.hour}`\n    case 'minute':\n      return `${dateParts.minute}`\n    case 'second':\n      return `${dateParts.second}`\n    case 'period':\n      return `${dateParts.dayPeriod.toUpperCase()}`\n    case 'weekday':\n      return `${weekday[new Date().getUTCDay()]}`\n    default:\n      return type\n  }\n}\n\nexport const updateSaveString = (input: HTMLInputElement) => {\n  const value = input.value.slice(0, 100)\n  player.saveString = value === '' ? blankSave.saveString : cleanString(value)\n  ;(DOMCacheGetOrSet('saveStringInput') as HTMLInputElement).value = player.saveString\n}\n\nexport const getVer = () => /[\\d?=.]+/.exec(version)?.[0] ?? version\n\nexport const saveFilename = () => {\n  const s = player.saveString\n  const t = s.replace(/\\$(.*?)\\$/g, (_, b) => {\n    switch (b) {\n      case 'VERSION':\n        return `v${version}`\n      case 'TIME':\n        return getRealTime()\n      case 'TIME12':\n        return getRealTime(undefined, true)\n      case 'SING':\n        return `Singularity ${player.singularityCount}`\n      case 'SINGS':\n        return `${player.singularityCount}`\n      case 'VER':\n        return getVer()\n      case 'TIMES':\n        return getRealTime('short')\n      case 'YEAR':\n        return getRealTime('year')\n      case 'Y':\n        return getRealTime('year')\n      case 'MONTH':\n        return getRealTime('month')\n      case 'M':\n        return getRealTime('month')\n      case 'DAY':\n        return getRealTime('day')\n      case 'D':\n        return getRealTime('day')\n      case 'HOUR':\n        return getRealTime('hour')\n      case 'H':\n        return getRealTime('hour')\n      case 'H12':\n        return getRealTime('hour', true)\n      case 'MINUTE':\n        return getRealTime('minute')\n      case 'MI':\n        return getRealTime('minute')\n      case 'SECOND':\n        return getRealTime('second')\n      case 'S':\n        return getRealTime('second')\n      case 'PERIOD':\n        return getRealTime('period', true)\n      case 'P':\n        return getRealTime('period', true)\n      case 'WEEKDAY':\n        return getRealTime('weekday')\n      case 'W':\n        return getRealTime('weekday')\n      case 'DATE':\n        return `${Date.now()}`\n      case 'DATES':\n        return `${Math.floor(Date.now() / 1000)}`\n      case 'QUARK':\n        return `${Math.floor(Number(player.worlds))}`\n      case 'QUARKS':\n        return format(Number(player.worlds))\n      case 'GQ':\n        return `${Math.floor(player.goldenQuarks)}`\n      case 'GQS':\n        return format(player.goldenQuarks)\n      case 'STAGE':\n        return synergismStage(0)\n      default:\n        return `${b}`\n    }\n  })\n\n  return cleanString(t)\n}\n\nexport const exportData = async (text: string, fileName: string) => {\n  const toClipboard = getElementById<HTMLInputElement>('saveType').checked\n  if (toClipboard) {\n    try {\n      // This can fail for two reasons:\n      // - TypeError (browser doesn't support this feature)\n      // - Failed to copy (browser limitation; Safari)\n      await navigator.clipboard.writeText(text)\n      DOMCacheGetOrSet('exportinfo').textContent = i18next.t(\n        'importexport.copiedSave'\n      )\n    } catch (err) {\n      // So we fallback to the deprecated way of doing it,\n      // which isn't limited by any browser.\n\n      // Old/bad browsers (legacy Edge, Safari because of limitations)\n      const textArea = document.createElement('textarea')\n\n      textArea.setAttribute('style', 'top: 0; left: 0; position: fixed;')\n      // For future Khafra: html5 attributes have no limit in length\n      textArea.setAttribute('data-clipboard-text', text)\n\n      document.body.appendChild(textArea)\n      textArea.focus()\n      textArea.select()\n\n      const clipboard = new ClipboardJS(textArea)\n\n      const cleanup = () => {\n        clipboard.destroy()\n        document.body.removeChild(textArea)\n      }\n\n      clipboard.on('success', () => {\n        DOMCacheGetOrSet('exportinfo').textContent = i18next.t(\n          'importexport.copiedSave'\n        )\n        cleanup()\n      })\n\n      clipboard.on('error', () => {\n        DOMCacheGetOrSet('exportinfo').textContent = i18next.t(\n          'importexport.exportFailed'\n        )\n        void Alert(i18next.t('importexport.unableCopySave')).finally(cleanup)\n      })\n    }\n  } else {\n    const a = document.createElement('a')\n    a.setAttribute('href', `data:text/plain;charset=utf-8,${text}`)\n    a.setAttribute('download', fileName)\n    a.setAttribute('id', 'downloadSave')\n    // \"Starting in Firefox 75, the click() function works even when the element is not attached to a DOM tree.\"\n    // https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/click\n    // so let's have it work on older versions of Firefox, doesn't change functionality.\n    document.body.appendChild(a)\n    a.click()\n    document.body.removeChild(a)\n    DOMCacheGetOrSet('exportinfo').textContent = i18next.t(\n      'importexport.copiedFile'\n    )\n  }\n  setTimeout(() => (DOMCacheGetOrSet('exportinfo').textContent = ''), 15_000)\n}\n\nexport const exportSynergism = async (\n  shouldSetLastSaveSoWeStopFuckingBotheringPeople = true\n) => {\n  player.offlinetick = Date.now()\n\n  if (shouldSetLastSaveSoWeStopFuckingBotheringPeople) {\n    player.lastExportedSave = Date.now()\n\n    const quarkData = quarkHandler()\n\n    let bonusGQMultiplier = 1\n    bonusGQMultiplier *= 1 + getQuarkBonus() / 100\n    bonusGQMultiplier *= player.highestSingularityCount >= 100\n      ? 1 + player.highestSingularityCount / 50\n      : 1\n    if (+player.singularityUpgrades.goldenQuarks3.getEffect().bonus > 0) {\n      player.goldenQuarks += Math.floor(\n        player.goldenQuarksTimer\n          / (3600 / +player.singularityUpgrades.goldenQuarks3.getEffect().bonus)\n      ) * bonusGQMultiplier\n      player.goldenQuarksTimer = player.goldenQuarksTimer\n        % (3600 / +player.singularityUpgrades.goldenQuarks3.getEffect().bonus)\n    }\n    if (quarkData.gain >= 1) {\n      player.worlds.add(quarkData.gain)\n      player.quarkstimer = player.quarkstimer % (3600 / quarkData.perHour)\n    }\n  }\n\n  const saved = await saveSynergy()\n\n  if (!saved) {\n    return\n  }\n\n  const save = (await localforage.getItem<Blob>('Synergysave2'))\n    ?? localStorage.getItem('Synergysave2')\n  const saveString = typeof save === 'string' ? save : await save?.text()\n\n  if (saveString === undefined) {\n    return Alert('How?')\n  }\n\n  await exportData(saveString, saveFilename())\n  setTimeout(() => (DOMCacheGetOrSet('exportinfo').textContent = ''), 15_000)\n}\n\nexport const reloadDeleteGame = async () => {\n  await Alert(i18next.t('importexport.reloadDeletePrompt'))\n  await resetGame(true)\n}\n\nexport const resetGame = async (force = true) => {\n  if (!force) {\n    const a = window.crypto.getRandomValues(new Uint16Array(1))[0] % 16\n    const b = window.crypto.getRandomValues(new Uint16Array(1))[0] % 16\n\n    const result = await Prompt(\n      i18next.t('importexport.resetPrompt', { a, b, sum: a + b })\n    )\n    if (result === null || Number(result) !== a + b) {\n      return Alert(i18next.t('importexport.wrongAnswer'))\n    }\n  }\n\n  const hold = playerJsonSchema.safeParse(blankSave)\n\n  // Reset Displays\n  changeTab(Tabs.Buildings)\n  changeSubTab(Tabs.Buildings, { page: 0 })\n  changeSubTab(Tabs.Runes, { page: 0 }) // Set 'runes' subtab back to 'runes' tab\n  changeSubTab(Tabs.Challenges, { page: 0 }) // Set 'challenges' subtab back to 'normal' tab\n  changeSubTab(Tabs.WowCubes, { page: 0 }) // Set 'cube tribues' subtab back to 'cubes' tab\n  changeSubTab(Tabs.Corruption, { page: 0 }) // set 'corruption main'\n  changeSubTab(Tabs.Singularity, { page: 0 }) // set 'singularity main'\n  changeSubTab(Tabs.Settings, { page: 0 }) // set 'statistics main'\n  // Import Game\n  await importSynergism(btoa(JSON.stringify(hold.data)), true)\n}\n\nexport const importData = async (\n  e: Event,\n  importFunc: (save: string | null) => Promise<void> | Promise<undefined>\n) => {\n  const element = e.target as HTMLInputElement\n  const file = element.files![0]\n  let save = ''\n  // https://developer.mozilla.org/en-US/docs/Web/API/Blob/text\n  // not available in (bad) browsers like Safari 11\n  if (typeof Blob.prototype.text === 'function') {\n    save = await file.text()\n  } else {\n    const reader = new FileReader()\n    reader.readAsText(file)\n    const text = await new Promise<string>((res) => {\n      reader.addEventListener('load', () => res(reader.result!.toString()))\n    })\n\n    save = text\n  }\n\n  element.value = ''\n  handleLastModified(file.lastModified)\n\n  return importFunc(save)\n}\n\nexport const importSynergism = async (input: string | null, reset = false) => {\n  if (typeof input !== 'string') {\n    return Alert(i18next.t('importexport.unableImport'))\n  }\n\n  const d = LZString.decompressFromBase64(input)\n  const f = d ? (JSON.parse(d) as Player) : (JSON.parse(atob(input)) as Player)\n\n  if (\n    f.exporttest === 'YES!'\n    || f.exporttest === true\n    || (f.exporttest === false && testing)\n    || (f.exporttest === 'NO!' && testing)\n  ) {\n    const saveString = btoa(JSON.stringify(f))\n\n    if (saveString === null) {\n      return Alert(i18next.t('importexport.unableImport'))\n    }\n\n    saveCheck.canSave = false\n    const item = new Blob([saveString], { type: 'text/plain' })\n    localStorage.setItem('Synergysave2', saveString)\n    await localforage.setItem<Blob>('Synergysave2', item)\n\n    localStorage.setItem('saveScumIsCheating', Date.now().toString())\n\n    await reloadShit(reset)\n    saveCheck.canSave = true\n    return\n  } else {\n    return Alert(i18next.t('importexport.loadTestInLive'))\n  }\n}\n\nexport const promocodesInfo = (input: string) => {\n  const textElement = DOMCacheGetOrSet('promocodeinfo')\n  let textMessage = `'${input}': `\n  let availableUses = 0\n  switch (input) {\n    case 'daily':\n      if (player.dailyCodeUsed) {\n        textMessage += i18next.t('importexport.daily0Uses')\n      } else {\n        textMessage += i18next.t('importexport.daily1Uses')\n      }\n      break\n    case 'add':\n      availableUses = addCodeAvailableUses()\n      if (availableUses === 0) {\n        textMessage += i18next.t('importexport.add0Uses', {\n          x: 0,\n          y: format(addCodeTimeToNextUse(), 0)\n        })\n      } else if (availableUses !== 1) {\n        textMessage += i18next.t('importexport.addUses', { x: availableUses })\n      } else {\n        textMessage += i18next.t('importexport.add1Uses', { x: availableUses })\n      }\n\n      break\n    case 'time':\n      availableUses = timeCodeAvailableUses()\n\n      if (availableUses === 0) {\n        textMessage += i18next.t('importexport.add0Uses', {\n          x: 0,\n          y: format(timeCodeTimeToNextUse(), 0)\n        })\n      } else {\n        textMessage += i18next.t('importexport.timeMultiplier', {\n          x: availableUses,\n          y: format(timeCodeRewardMultiplier(), 2, true)\n        })\n      }\n\n      break\n    default:\n      textMessage = ''\n  }\n\n  textElement.textContent = textMessage\n}\n\nexport const promocodesPrompt = async () => {\n  const input = await Prompt(i18next.t('importexport.promocodePrompt'))\n  void promocodes(input)\n}\n\nexport const promocodes = async (input: string | null, amount?: number) => {\n  const el = DOMCacheGetOrSet('promocodeinfo')\n\n  if (input === null) {\n    return Alert(i18next.t('importexport.comeBackSoon'))\n  }\n  if (\n    input === '23andme'\n    && !player.codes.get(48)\n    && G.isEvent\n  ) {\n    if (!player.dailyCodeUsed) {\n      return Alert(\n        'This event code gives you another usage of code \\'daily\\'. Please use that code and try this event code again.'\n      )\n    }\n\n    player.codes.set(48, true)\n    player.quarkstimer = quarkHandler().maxTime\n    player.goldenQuarksTimer = 3600 * 24\n    addTimers('ascension', 8 * 3600)\n    player.dailyCodeUsed = false\n\n    if (\n      player.challenge15Exponent >= 1e15\n      || player.highestSingularityCount > 0\n    ) {\n      player.hepteractCrafts.quark.CAP *= 2\n      player.hepteractCrafts.quark.BAL += Math.min(\n        1e13,\n        player.hepteractCrafts.quark.CAP / 2\n      )\n    }\n    if (player.highestSingularityCount > 0) {\n      player.singularityUpgrades.goldenQuarks1.freeLevels += 1 + Math.floor(player.highestSingularityCount / 10)\n      player.singularityUpgrades.goldenQuarks2.freeLevels += 1 + Math.floor(player.highestSingularityCount / 10)\n      player.singularityUpgrades.goldenQuarks3.freeLevels += 1 + Math.floor(player.highestSingularityCount / 10)\n      if (player.singularityUpgrades.octeractUnlock.getEffect().bonus) {\n        player.octeractUpgrades.octeractImprovedQuarkHept.freeLevels += 0.05\n      }\n    }\n\n    return Alert(\n      `Not sponsored by the company! Your Quark timer(s) have been replenished and you have been given 8 real life hours of Ascension progress! Your daily code has also been reset for you.\n                      ${\n        player.challenge15Exponent >= 1e15\n          || player.highestSingularityCount > 0\n          ? 'Derpsmith also hacked your save to expand Quark Hepteract for free, and (to a limit) automatically filled the extra amount! What a generous, handsome gigachad.'\n          : ''\n      }\n                      ${\n        player.highestSingularityCount > 0\n          ? 'You were also given free levels of GQ1-3!'\n          : ''\n      } \n                      ${\n        player.singularityUpgrades.octeractUnlock.getEffect()\n            .bonus\n          ? 'Finally, you were given a tiny amount of free Octeract Quark Hepteract Improver upgrade!'\n          : ''\n      }`\n    )\n  }\n  if (input === 'synergism2021' && !player.codes.get(1)) {\n    player.codes.set(1, true)\n    player.runeshards += 25\n    player.worlds.add(50)\n    el.textContent = i18next.t('importexport.promocodes.synergism2021')\n  } else if (input === ':unsmith:' && player.achievements[243] < 1) {\n    achievementaward(243)\n    el.textContent = i18next.t('importexport.promocodes.unsmith')\n  } else if (input === ':antismith:' && player.achievements[244] < 1) {\n    achievementaward(244)\n    el.textContent = i18next.t('importexport.promocodes.antismith')\n  } else if (input === 'Khafra' && !player.codes.get(26)) {\n    player.codes.set(26, true)\n    const quarks = Math.floor(Math.random() * (400 - 100 + 1) + 100)\n    player.worlds.add(quarks)\n    el.textContent = i18next.t('importexport.promocodes.khafra', {\n      x: player.worlds.applyBonus(quarks)\n    })\n  } else if (input === 'alonso bribe' && !player.codes.get(47)) {\n    const craft = player.hepteractCrafts.quark\n\n    if (!craft.UNLOCKED) {\n      return Alert(i18next.t('importexport.promocodes.bribe.notUnlocked'))\n    }\n\n    const cap = craft.computeActualCap()\n\n    if (cap >= 1e300) {\n      return Alert(i18next.t('importexport.promocodes.bribe.overCapacity'))\n    }\n\n    player.codes.set(47, true)\n    craft.CAP = Math.min(1e300, craft.CAP * 2)\n\n    return Alert(i18next.t('importexport.promocodes.bribe.thanks'))\n  } else if (input.toLowerCase() === 'daily' && !player.dailyCodeUsed) {\n    player.dailyCodeUsed = true\n    let rewardMessage = i18next.t('importexport.promocodes.daily.message')\n\n    const rewards = dailyCodeReward()\n    const quarkMultiplier = 1 + Math.min(49, player.highestSingularityCount)\n\n    let actualQuarkAward = player.worlds.applyBonus(\n      rewards.quarks * quarkMultiplier\n    )\n    if (actualQuarkAward > 1e5) {\n      actualQuarkAward = Math.pow(1e5, 0.75) * Math.pow(actualQuarkAward, 0.25)\n    }\n    player.worlds.add(actualQuarkAward, false)\n    player.goldenQuarks += rewards.goldenQuarks\n\n    rewardMessage += `\\n${format(actualQuarkAward, 0, true)} Quarks`\n    if (rewards.goldenQuarks > 0) {\n      rewardMessage += `\\n${\n        format(\n          rewards.goldenQuarks,\n          0,\n          true\n        )\n      } Golden Quarks`\n    }\n    await Alert(rewardMessage)\n\n    if (player.highestSingularityCount > 0) {\n      const upgradeDistribution = {\n        goldenQuarks3: { value: 0.2, pdf: (x: number) => 0 <= x && x <= 1 },\n        goldenQuarks2: { value: 0.2, pdf: (x: number) => 1 <= x && x <= 3 },\n        goldenQuarks1: { value: 0.2, pdf: (x: number) => 3 <= x && x <= 10 },\n        singCubes3: { value: 0.25, pdf: (x: number) => 10 < x && x <= 15 },\n        singObtainium3: { value: 0.25, pdf: (x: number) => 15 < x && x <= 20 },\n        singOfferings3: { value: 0.25, pdf: (x: number) => 20 < x && x <= 25 },\n        singCubes2: { value: 0.5, pdf: (x: number) => 25 < x && x <= 80 },\n        singObtainium2: { value: 0.5, pdf: (x: number) => 80 < x && x <= 140 },\n        singOfferings2: { value: 0.5, pdf: (x: number) => 140 < x && x <= 200 },\n        singCubes1: { value: 1, pdf: (x: number) => 200 < x && x <= 400 },\n        singObtainium1: { value: 1, pdf: (x: number) => 400 < x && x <= 600 },\n        singOfferings1: { value: 1, pdf: (x: number) => 600 < x && x <= 800 },\n        ascensions: { value: 1, pdf: (x: number) => 800 < x && x <= 1000 }\n      }\n      let rolls = 3 * Math.sqrt(player.highestSingularityCount)\n      rolls += +player.octeractUpgrades.octeractImprovedDaily.getEffect().bonus\n      rolls += player.shopUpgrades.shopImprovedDaily2\n      rolls += player.shopUpgrades.shopImprovedDaily3\n      rolls += player.shopUpgrades.shopImprovedDaily4\n      rolls += +player.singularityUpgrades.platonicPhi.getEffect().bonus\n        * Math.min(50, (player.shopUpgrades.shopSingularitySpeedup) ? (100 * player.singularityCounter) / (3600 * 24) : (5 * player.singularityCounter) / (3600 * 24))\n      rolls += +player.octeractUpgrades.octeractImprovedDaily3.getEffect().bonus\n      rolls += +player.singularityChallenges.sadisticPrequel.rewards.extraFree\n      rolls *= +player.octeractUpgrades.octeractImprovedDaily2.getEffect().bonus\n      rolls *= 1\n        + +player.octeractUpgrades.octeractImprovedDaily3.getEffect().bonus / 200\n      rolls *= (1 + +player.singularityChallenges.sadisticPrequel.rewards.freeUpgradeMult)\n      if (player.highestSingularityCount >= 200) {\n        rolls *= 2\n      }\n\n      rolls = Math.floor(rolls)\n\n      const keys = Object.keys(player.singularityUpgrades).filter(\n        (key) => key in upgradeDistribution\n      ) as (keyof typeof upgradeDistribution)[]\n\n      rewardMessage = i18next.t('importexport.promocodes.daily.message2')\n      // The same upgrade can be drawn several times, so we save the sum of the levels gained, to display them only once at the end\n      const freeLevels: Record<string, number> = {}\n      for (let i = 0; i < rolls; i++) {\n        const num = 1000 * Math.random()\n        for (const key of keys) {\n          if (upgradeDistribution[key].pdf(num)) {\n            player.singularityUpgrades[key].freeLevels += upgradeDistribution[key].value\n            freeLevels[key]\n              ? (freeLevels[key] += upgradeDistribution[key].value)\n              : (freeLevels[key] = upgradeDistribution[key].value)\n          }\n        }\n      }\n\n      if (player.highestSingularityCount >= 20) {\n        player.singularityUpgrades.goldenQuarks1.freeLevels += 0.2\n        freeLevels.goldenQuarks1\n          ? (freeLevels.goldenQuarks1 += 0.2)\n          : (freeLevels.goldenQuarks1 = 0.2)\n        player.singularityUpgrades.goldenQuarks2.freeLevels += 0.2\n        freeLevels.goldenQuarks2\n          ? (freeLevels.goldenQuarks2 += 0.2)\n          : (freeLevels.goldenQuarks2 = 0.2)\n        player.singularityUpgrades.goldenQuarks3.freeLevels += 1\n        freeLevels.goldenQuarks3\n          ? (freeLevels.goldenQuarks3 += 1)\n          : (freeLevels.goldenQuarks3 = 1)\n      }\n\n      if (player.highestSingularityCount >= 200 && player.highestSingularityCount < 205) {\n        const freeLevelOct1 = Math.max(\n          player.octeractUpgrades.octeractGain.level / 100,\n          Math.pow(\n            player.octeractUpgrades.octeractGain.level * player.octeractUpgrades.octeractGain.freeLevels / 1000,\n            0.5\n          )\n        )\n        player.octeractUpgrades.octeractGain.freeLevels += freeLevelOct1\n        freeLevels.octeractGain = freeLevelOct1\n      } else if (player.highestSingularityCount >= 205) {\n        const freeLevelOct1 = Math.max(\n          player.octeractUpgrades.octeractGain.level / 100,\n          Math.pow(\n            player.octeractUpgrades.octeractGain.level * player.octeractUpgrades.octeractGain.freeLevels / 640,\n            0.5\n          )\n        )\n        const freeLevelOct2 = Math.max(\n          player.octeractUpgrades.octeractGain2.level / 100,\n          Math.pow(\n            Math.pow(player.octeractUpgrades.octeractGain2.level, 2) * player.octeractUpgrades.octeractGain2.freeLevels\n              / 125000,\n            0.333\n          )\n        )\n\n        player.octeractUpgrades.octeractGain.freeLevels += freeLevelOct1\n        player.octeractUpgrades.octeractGain2.freeLevels += freeLevelOct2\n        freeLevels.octeractGain = freeLevelOct1\n        freeLevels.octeractGain2 = freeLevelOct2\n      }\n\n      for (const key of Object.keys(freeLevels)) {\n        rewardMessage += dailyCodeFormatFreeLevelMessage(key, freeLevels[key])\n      }\n      await Alert(rewardMessage)\n    }\n    return\n  } else if (input.toLowerCase() === 'add') {\n    const availableUses = addCodeAvailableUses()\n    const maxUses = addCodeMaxUses().total\n    const timeToNextUse = format(addCodeTimeToNextUse(), 0)\n    const timeInterval = addCodeInterval().time\n\n    if (availableUses < 1) {\n      el.textContent = i18next.t('importexport.noAddCodes', {\n        x: timeToNextUse\n      })\n      return\n    }\n\n    let attemptsUsed: string | null = null\n    if (amount) {\n      attemptsUsed = amount.toString()\n    } else {\n      attemptsUsed = await Prompt(\n        i18next.t('importexport.useXAdds', { x: availableUses }),\n        availableUses.toString()\n      )\n    }\n\n    if (attemptsUsed === null) {\n      return Alert(i18next.t('importexport.cancelAdd'))\n    }\n    const toUse = Number(attemptsUsed)\n    if (\n      Number.isNaN(toUse)\n      || !Number.isInteger(toUse)\n      || toUse === 0\n      || (toUse < 0 && -toUse >= availableUses)\n    ) {\n      return Alert(i18next.t('general.validation.invalidNumber'))\n    }\n\n    const addEffects = addCodeBonuses()\n\n    const realAttemptsUsed = toUse > 0 ? Math.min(availableUses, toUse) : availableUses + toUse\n    const actualQuarks = Math.floor(addEffects.quarks * realAttemptsUsed)\n    const [first, second] = window.crypto.getRandomValues(new Uint8Array(2))\n\n    // Allows storage of up to (24 + 2 * calc2 levels) Add Codes, lol!\n    const v = Math.max(\n      Date.now() - (maxUses - realAttemptsUsed) * timeInterval,\n      player.rngCode + timeInterval * realAttemptsUsed\n    )\n    const remaining = Math.floor((Date.now() - v) / timeInterval)\n    const timeToNext = Math.floor(\n      (timeInterval - (Date.now() - v - timeInterval * remaining)) / 1000\n    )\n\n    // Calculator 3: Adds ascension timer.\n    const ascensionTimer = realAttemptsUsed * addEffects.ascensionTimer\n    const ascensionTimerText = player.shopUpgrades.calculator3 > 0\n      ? i18next.t('importexport.promocodes.add.calculator3', {\n        x: format(ascensionTimer)\n      })\n      : ''\n\n    // Calculator 5: Adds GQ export timer.\n    const gqTimer = realAttemptsUsed * addEffects.gqTimer\n    const gqTimerText = player.shopUpgrades.calculator5 > 0\n      ? i18next.t('importexport.promocodes.add.calculator5', {\n        x: format(gqTimer)\n      })\n      : ''\n\n    // Calculator 6: Octeract Generation\n    const octeractTime = realAttemptsUsed * addEffects.octeractTime\n    const octeractTimeText = player.shopUpgrades.calculator6 > 0\n      ? i18next.t('importexport.promocodes.add.calculator6', {\n        x: format(octeractTime)\n      })\n      : ''\n\n    // Calculator 7: Blueberry Generation Time\n    const blueberryTime = realAttemptsUsed * addEffects.blueberryTime\n    const blueberryTimeText = player.shopUpgrades.calculator7 > 0\n      ? i18next.t('importexport.promocodes.add.calculator7', {\n        x: format(blueberryTime, 2, true)\n      })\n      : ''\n\n    // Midas' Millenium-Aged Gold perk\n    const freeLevelsText = player.highestSingularityCount >= 150\n      ? i18next.t('importexport.promocodes.add.freeLevel', {\n        x: format(0.01 * realAttemptsUsed, 2),\n        y: format(0.05 * realAttemptsUsed, 2)\n      })\n      : ''\n\n    // Calculator Maxed: you don't need to insert anything!\n    if (player.shopUpgrades.calculator === shopData.calculator.maxLevel) {\n      player.worlds.add(actualQuarks)\n      addTimers('ascension', ascensionTimer)\n      player.goldenQuarksTimer += gqTimer\n      addTimers('octeracts', octeractTime)\n      addTimers('ambrosia', blueberryTime)\n\n      if (player.highestSingularityCount >= 150) {\n        player.singularityUpgrades.goldenQuarks1.freeLevels += 0.01 * realAttemptsUsed\n        player.singularityUpgrades.goldenQuarks3.freeLevels += 0.05 * realAttemptsUsed\n      }\n\n      player.rngCode = v\n      if (amount) {\n        // No message when using Add x1 Special action, we refresh the info message\n        promocodesInfo('add')\n        return\n      } else {\n        return Alert(\n          i18next.t('importexport.promocodes.add.calculatorMaxed', {\n            a: first,\n            b: second,\n            c: first + second,\n            d: player.worlds.toString(actualQuarks),\n            e: ascensionTimerText,\n            f: gqTimerText,\n            g: octeractTimeText,\n            h: freeLevelsText,\n            i: blueberryTimeText,\n            j: remaining,\n            k: timeToNext.toLocaleString()\n          })\n        )\n      }\n    }\n\n    // If your calculator isn't maxed but has levels, it will provide the solution.\n    const options = {\n      w: player.worlds.toString(actualQuarks),\n      x: first,\n      y: second,\n      z: first + second\n    }\n\n    const promptText = player.shopUpgrades.calculator > 0\n      ? i18next.t('importexport.promocodes.add.calculatorSolution', options)\n      : i18next.t('importexport.promocodes.add.calculatorPrompt', options)\n\n    const addPrompt = await Prompt(promptText)\n\n    if (addPrompt === null) {\n      return Alert(i18next.t('importexport.promocodes.add.cancelled'))\n    }\n\n    player.rngCode = v\n\n    if (first + second === +addPrompt) {\n      player.worlds.add(actualQuarks)\n      addTimers('ascension', ascensionTimer)\n      player.goldenQuarksTimer += gqTimer\n      addTimers('octeracts', octeractTime)\n      addTimers('ambrosia', blueberryTime)\n\n      await Alert(\n        i18next.t('importexport.promocodes.add.reward', {\n          a: player.worlds.toString(actualQuarks),\n          b: ascensionTimerText,\n          c: gqTimerText,\n          d: octeractTimeText,\n          e: remaining,\n          f: timeToNext.toLocaleString(navigator.language)\n        })\n      )\n    } else {\n      await Alert(\n        i18next.t('importexport.promocodes.add.wrong', {\n          w: addPrompt,\n          x: first + second,\n          y: remaining,\n          z: timeToNext.toLocaleString(navigator.language)\n        })\n      )\n    }\n  } else if (input === 'sub') {\n    const amount = 1 + (window.crypto.getRandomValues(new Uint16Array(1))[0] % 16) // [1, 16]\n    const quarks = Number(player.worlds)\n    await Alert(i18next.t('importexport.promocodes.sub.subbed', { x: amount }))\n\n    if (quarks < amount) {\n      await Alert(\n        i18next.t('importexport.promocodes.sub.gave', {\n          x: amount - quarks,\n          y: amount\n        })\n      )\n    }\n\n    player.worlds.sub(quarks < amount ? amount - quarks : amount)\n  } else if (input === 'gamble') {\n    if (\n      typeof player.skillCode === 'number'\n      || typeof localStorage.getItem('saveScumIsCheating') === 'string'\n    ) {\n      if (\n        (Date.now() - player.skillCode!) / 1000 < 3600\n        || (Date.now() - Number(localStorage.getItem('saveScumIsCheating')))\n              / 1000\n          < 3600\n      ) {\n        return (el.textContent = i18next.t(\n          'importexport.promocodes.gamble.wait'\n        ))\n      }\n    }\n\n    const confirmed = await Confirm(\n      i18next.t('importexport.promocodes.gamble.confirm')\n    )\n    if (!confirmed) {\n      return (el.textContent = i18next.t(\n        'importexport.promocodes.gamble.cancelled'\n      ))\n    }\n\n    const bet = Number(\n      await Prompt(i18next.t('importexport.promocodes.gamble.betPrompt'))\n    )\n    if (Number.isNaN(bet) || bet <= 0) {\n      return (el.textContent = i18next.t('general.validation.zeroOrLess'))\n    } else if (bet > 1e4) {\n      return (el.textContent = i18next.t(\n        'importexport.promocodes.gamble.cheaters'\n      ))\n    } else if (Number(player.worlds) < bet) {\n      return (el.textContent = i18next.t(\n        'general.validation.moreThanPlayerHas'\n      ))\n    }\n\n    localStorage.setItem('saveScumIsCheating', Date.now().toString())\n    const dice = (window.crypto.getRandomValues(new Uint8Array(1))[0] % 6) + 1 // [1, 6]\n\n    if (dice === 1) {\n      const won = bet * 0.25 // lmao\n      player.worlds.add(won, false)\n\n      player.skillCode = Date.now()\n      return (el.textContent = i18next.t('importexport.promocodes.gamble.won', {\n        x: won\n      }))\n    }\n\n    player.worlds.sub(bet)\n    el.textContent = i18next.t('importexport.promocodes.gamble.lost', {\n      x: bet\n    })\n  } else if (input === 'time') {\n    const availableUses = timeCodeAvailableUses()\n    if (availableUses === 0) {\n      return Alert(i18next.t('importexport.promocodes.time.wait'))\n    }\n\n    const rewardMult = timeCodeRewardMultiplier()\n\n    const random = Math.random() * 15000 // random time within 15 seconds\n    const start = Date.now()\n    const playerConfirmed = await Confirm(\n      i18next.t('importexport.promocodes.time.confirm', {\n        x: format(2500 + 125 * player.cubeUpgrades[61], 0, true),\n        y: format(rewardMult, 2, true)\n      })\n    )\n\n    if (playerConfirmed) {\n      const diff = Math.abs(Date.now() - (start + random))\n      player.promoCodeTiming.time = Date.now()\n      \n      if (diff <= 2500 + 125 * player.cubeUpgrades[61]) {\n        const reward = Math.floor(\n          Math.min(1000, 125 + 25 * player.highestSingularityCount)\n            * (1 + player.cubeUpgrades[61] / 50)\n        )\n        let actualQuarkAward = player.worlds.applyBonus(reward)\n        let blueberryTime = 0\n        if (actualQuarkAward > 66666) {\n          actualQuarkAward = Math.pow(actualQuarkAward, 0.35) * Math.pow(66666, 0.65)\n        }\n\n        if (player.visitedAmbrosiaSubtab) {\n          blueberryTime = 1800 * rewardMult\n        }\n\n        player.worlds.add(actualQuarkAward * rewardMult, false)\n        G.ambrosiaTimer += blueberryTime\n        const winText = i18next.t('importexport.promocodes.time.won', {\n          x: format(actualQuarkAward * rewardMult, 0, true)\n        })\n        const ambrosiaText = blueberryTime > 0\n          ? i18next.t('importexport.promocodes.time.ambrosia', {\n            blueberryTime\n          })\n          : ''\n        return Alert(winText + ambrosiaText)\n      } else {\n        return Alert(i18next.t('importexport.promocodes.time.lost'))\n      }\n    }\n  } else if (input === 'spoiler') {\n    const perSecond = octeractGainPerSecond()\n    if (perSecond > 1) {\n      return Alert(\n        i18next.t('importexport.promocodes.spoiler.moreThan1', {\n          x: format(perSecond, 2, true)\n        })\n      )\n    } else {\n      return Alert(\n        i18next.t('importexport.promocodes.spoiler.one', {\n          x: format(1 / perSecond, 2, true)\n        })\n      )\n    }\n  } else {\n    el.textContent = i18next.t('importexport.promocodes.invalid')\n  }\n\n  const saved = await saveSynergy() // should fix refresh bug where you can continuously enter promocodes\n\n  if (!saved) {\n    return\n  }\n\n  Synergism.emit('promocode', input)\n\n  setTimeout(() => (el.textContent = ''), 15000)\n}\n\nconst addCodeSingularityPerkBonus = (): number => {\n  const levels = [\n    10,\n    16,\n    25,\n    36,\n    49,\n    64,\n    81,\n    100,\n    121,\n    144,\n    169,\n    196,\n    225,\n    235,\n    240\n  ]\n  let count = 0\n  for (let i = 0; i < levels.length; i++) {\n    if (player.highestSingularityCount >= levels[i]) {\n      count += 1\n    } else {\n      break\n    }\n  }\n  return 1 + count / 5\n}\n\nexport const addCodeMaxUses = () => {\n  let calc5uses = Math.floor(player.shopUpgrades.calculator5 / 10)\n  if (player.shopUpgrades.calculator5 === shopData.calculator5.maxLevel) {\n    calc5uses += 6\n  }\n\n  const arr = [\n    24, // base\n    2 * player.shopUpgrades.calculator2, // PL-AT X\n    player.shopUpgrades.calculator4 === shopData.calculator4.maxLevel ? 32 : 0, // PL-AT \u03B4\n    calc5uses, // PL-AT \u0393\n    player.shopUpgrades.calculator6 === shopData.calculator6.maxLevel ? 24 : 0, // PL_AT _\n    player.shopUpgrades.calculator7 === shopData.calculator7.maxLevel ? 48 : 0 // Plat \u03A9\u03A9\n  ]\n\n  let maxUses = sumContents(arr)\n\n  arr.push(addCodeSingularityPerkBonus())\n  maxUses *= addCodeSingularityPerkBonus()\n\n  return {\n    list: arr,\n    total: Math.ceil(maxUses)\n  }\n}\n\nexport const addCodeInterval = () => {\n  const arr = [\n    hour, // base value\n    1 - 0.04 * player.shopUpgrades.calculator4,\n    1\n    - Math.min(\n      0.6,\n      (player.highestSingularityCount >= 125\n        ? player.highestSingularityCount / 800\n        : 0)\n        + (player.highestSingularityCount >= 200\n          ? player.highestSingularityCount / 800\n          : 0)\n    ),\n    player.runelevels[6] > 0 ? 0.8 : 1,\n    1 / addCodeSingularityPerkBonus()\n  ]\n\n  return {\n    list: arr,\n    time: productContents(arr)\n  }\n}\n\nexport const addCodeAvailableUses = (): number => {\n  const maxUses = addCodeMaxUses().total\n  const timeInterval = addCodeInterval().time\n\n  return Math.floor(\n    Math.min(maxUses, (Date.now() - player.rngCode) / timeInterval)\n  )\n}\n\nexport const addCodeTimeToNextUse = (): number => {\n  const timeToFirst = Math.floor(addCodeInterval().time + player.rngCode - Date.now()) / 1000\n\n  if (timeToFirst > 0) {\n    return timeToFirst\n  } else if (addCodeAvailableUses() === addCodeMaxUses().total) {\n    return 0\n  } else {\n    const addTimerElapsedTime = Date.now() - player.rngCode\n    const remainder = addTimerElapsedTime - addCodeInterval().time * addCodeAvailableUses()\n\n    return Math.floor(addCodeInterval().time - remainder) / 1000\n  }\n}\n\nexport const addCodeBonuses = () => {\n  const perkRewardDivisor = addCodeSingularityPerkBonus()\n\n  let commonQuarkMult = 1 + 0.14 * player.shopUpgrades.calculator // Calculator Shop Upgrade (+14% / level)\n  commonQuarkMult *= player.shopUpgrades.calculator2 === shopData.calculator2.maxLevel\n    ? 1.25\n    : 1 // Calculator 2 Max Level (+25%)\n  commonQuarkMult /= perkRewardDivisor\n\n  const sampledMult = Math.max(\n    0.4 + 0.02 * player.shopUpgrades.calculator3,\n    2 / 5 + (window.crypto.getRandomValues(new Uint16Array(2))[0] % 128) / 640\n  ) // [0.4, 0.6], slightly biased in favor of 0.4. =)\n  const minMult = 0.4 + 0.02 * player.shopUpgrades.calculator3\n  const maxMult = 0.6\n\n  const quarkBase = commonQuarkMult * quarkHandler().perHour\n\n  // Calculator 3: Adds ascension timer.  Also includes Expert Pack multiplier.\n  const ascMult = player.singularityUpgrades.expertPack.level > 0 ? 1.2 : 1\n  const ascensionTimer = (60 * player.shopUpgrades.calculator3 * ascMult) / perkRewardDivisor\n\n  // Calculator 5: Adds GQ export timer.\n  const gqTimer = (6 * player.shopUpgrades.calculator5) / perkRewardDivisor\n\n  // Calculator 6: Octeract Generation\n  const octeractTime = player.shopUpgrades.calculator6 / perkRewardDivisor\n\n  // Calculator 7: Blueberry Timer Generation\n  const blueberryTime = player.shopUpgrades.calculator7 / perkRewardDivisor\n\n  return {\n    quarks: sampledMult * quarkBase, // The quarks to actually reward (if not for stats)\n    minQuarks: minMult * quarkBase,\n    maxQuarks: maxMult * quarkBase,\n    ascensionTimer,\n    gqTimer,\n    octeractTime,\n    blueberryTime\n  }\n}\n\nconst timeCodeAvailableUses = (): number => {\n  return (Date.now() - player.promoCodeTiming.time) / 1000 < 900 ? 0 : 1\n}\n\nconst timeCodeTimeToNextUse = (): number => {\n  return 900 - (Date.now() - player.promoCodeTiming.time) / 1000\n}\n\nconst timeCodeRewardMultiplier = (): number => {\n  return Math.min(\n    24,\n    (Date.now() - player.promoCodeTiming.time) / (1000 * 3600)\n  )\n}\n\nconst dailyCodeFormatFreeLevelMessage = (\n  upgradeKey: string,\n  freeLevelAmount: number\n): string => {\n  const upgradeNiceName = upgradeKey in singularityData\n    ? i18next.t(`singularity.data.${upgradeKey}.name`)\n    : i18next.t(`octeract.data.${upgradeKey}.name`)\n  return `\\n+${format(freeLevelAmount, 0, true)} extra levels of '${upgradeNiceName}'`\n}\n\nconst dailyCodeReward = () => {\n  let quarks = 0\n  let goldenQuarks = 0\n\n  const ascended = player.ascensionCount > 0\n  const singularity = player.highestSingularityCount > 0\n  if (player.reincarnationCount > 0 || ascended || singularity) {\n    quarks += 20\n  }\n  if (player.challengecompletions[6] > 0 || ascended || singularity) {\n    quarks += 20\n  } // 40\n  if (player.challengecompletions[7] > 0 || ascended || singularity) {\n    quarks += 30\n  } // 70\n  if (player.challengecompletions[8] > 0 || ascended || singularity) {\n    quarks += 30\n  } // 100\n  if (player.challengecompletions[9] > 0 || ascended || singularity) {\n    quarks += 40\n  } // 140\n  if (player.challengecompletions[10] > 0 || ascended || singularity) {\n    quarks += 60\n  } // 200\n  if (ascended || singularity) {\n    quarks += 50\n  } // 250\n  if (player.challengecompletions[11] > 0 || singularity) {\n    quarks += 50\n  } // 300\n  if (player.challengecompletions[12] > 0 || singularity) {\n    quarks += 50\n  } // 350\n  if (player.challengecompletions[13] > 0 || singularity) {\n    quarks += 50\n  } // 400\n  if (player.challengecompletions[14] > 0 || singularity) {\n    quarks += 100\n  } // 500\n  if (player.researches[200] === G.researchMaxLevels[200]) {\n    quarks += 250\n  } // 750\n  if (player.cubeUpgrades[50] === 100000) {\n    quarks += 250\n  } // 1000\n  if (player.platonicUpgrades[5] > 0) {\n    quarks += 250\n  } // 1250\n  if (player.platonicUpgrades[10] > 0) {\n    quarks += 500\n  } // 1750\n  if (player.platonicUpgrades[15] > 0) {\n    quarks += 750\n  } // 2500\n  if (player.challenge15Exponent > 1e18) {\n    quarks += Math.floor(1000 * (Math.log10(player.challenge15Exponent) - 18))\n  } // at least 2500\n  if (player.platonicUpgrades[20] > 0) {\n    quarks += 2500\n  } // at least 5k\n\n  quarks *= 1 + 0.05 * player.shopUpgrades.shopImprovedDaily\n  quarks = Math.floor(quarks)\n\n  if (singularity) {\n    goldenQuarks += 2 + 3 * player.highestSingularityCount\n    goldenQuarks *= 1 + 0.2 * player.shopUpgrades.shopImprovedDaily2\n    goldenQuarks *= 1 + 0.15 * player.shopUpgrades.shopImprovedDaily3\n    goldenQuarks *= 1 + player.shopUpgrades.shopImprovedDaily4\n  }\n\n  return {\n    quarks,\n    goldenQuarks\n  }\n}\n\nexport const handleLastModified = (lastModified: number) => {\n  const localStorageFirstPlayed = localStorage.getItem('firstPlayed')\n  const lastModifiedDate = new Date(lastModified)\n\n  if (localStorageFirstPlayed === null) {\n    localStorage.setItem('firstPlayed', lastModifiedDate.toISOString())\n    return\n  }\n\n  const localFirstPlayedDate = new Date(localStorageFirstPlayed)\n\n  // The larger the ms value, the newer the file.\n  // So if the current oldest date is newer than the last modified date\n  // for the new file, set the oldest date to the last modified.\n  if (localFirstPlayedDate.getTime() > lastModifiedDate.getTime()) {\n    player.firstPlayed = lastModifiedDate.toISOString()\n    localStorage.setItem('firstPlayed', player.firstPlayed)\n  }\n}\n", "export const version = '3.0.0 pt 6: December 21, 2024: Rise of the Singular Entities, pt 1.0.4'\n\n/**\n * PSEUDO DO NOT CHANGE THIS LINE\n * PSEUDO DO NOT CHANGE THIS LINE\n * PSEUDO DO NOT CHANGE THIS LINE\n * PSEUDO DO NOT CHANGE THIS LINE\n * PSEUDO DO NOT CHANGE THIS LINE\n * PSEUDO DO NOT CHANGE THIS LINE\n */\nexport const testing: boolean = false\nexport const lastUpdated = new Date(Date.UTC(2024, 11, 22, 5, 35, 32))\n/**\n * CHANGE THIS ONE INSTEAD\n */\nexport const prod: boolean = true\n", "import {\n  calculateCorruptionPoints,\n  calculateEffectiveIALevel,\n  calculateMaxRunes,\n  calculateOfferings,\n  calculateRuneExpGiven,\n  calculateRuneExpToLevel,\n  calculateRuneLevels\n} from './Calculate'\nimport { format, player } from './Synergism'\nimport { Globals as G } from './Variables'\n\nimport Decimal from 'break_infinity.js'\nimport i18next, { type StringMap } from 'i18next'\nimport { DOMCacheGetOrSet } from './Cache/DOM'\nimport type { resetNames } from './types/Synergism'\n\nexport const displayRuneInformation = (i: number, updatelevelup = true) => {\n  const m = G.effectiveLevelMult\n  const SILevelMult = 1\n    + player.researches[84] / 200 * (1 + 1 * G.effectiveRuneSpiritPower[5] * calculateCorruptionPoints() / 400)\n  const amountPerOffering = calculateRuneExpGiven(i - 1, false, player.runelevels[i - 1])\n\n  let options: StringMap\n\n  if (i === 1) {\n    options = {\n      bonus: format(Math.floor(Math.pow(G.rune1level * m / 4, 1.25))),\n      percent: format(G.rune1level / 4 * m, 2, true),\n      boost: format(Math.floor(G.rune1level / 20 * m))\n    }\n  } else if (i === 2) {\n    options = {\n      mult1: format(Math.floor(G.rune2level * m / 10) * Math.floor(1 + G.rune2level * m / 10) / 2),\n      mult2: format(m * G.rune2level / 4, 1, true),\n      tax: (99.9 * (1 - Math.pow(6, -(G.rune2level * m) / 1000))).toPrecision(4)\n    }\n  } else if (i === 3) {\n    options = {\n      mult: format(Decimal.pow(G.rune3level * m / 2, 2).times(Decimal.pow(2, G.rune3level * m / 2 - 8)).add(1), 3),\n      gain: format(Math.floor(G.rune3level / 16 * m))\n    }\n  } else if (i === 4) {\n    options = {\n      delay: (G.rune4level / 8 * m).toPrecision(3),\n      chance: Math.min(25, G.rune4level / 16),\n      tax: (99 * (1 - Math.pow(4, Math.min(0, (400 - G.rune4level) / 1100)))).toPrecision(4)\n    }\n  } else if (i === 5) {\n    options = {\n      gain: format(1 + G.rune5level / 200 * m * SILevelMult, 2, true),\n      speed: format(1 + Math.pow(G.rune5level * m * SILevelMult, 2) / 2500),\n      offerings: format(G.rune5level * m * SILevelMult * 0.005, 3, true)\n    }\n  } else if (i === 6) {\n    options = {\n      percent1: format(10 + 15 / 75 * calculateEffectiveIALevel(), 1, true),\n      percent2: format(1 * calculateEffectiveIALevel(), 0, true)\n    }\n  } else if (i === 7 && updatelevelup) {\n    options = { exp: format(1e256 * (1 + player.singularityCount)) }\n  }\n\n  if (updatelevelup) {\n    DOMCacheGetOrSet('runeshowlevelup').textContent = i18next.t(`runes.levelup.${i}`, options!)\n  }\n\n  DOMCacheGetOrSet(`runeshowpower${i}`).textContent = i18next.t(`runes.power.${i}`, options!)\n\n  if (updatelevelup) {\n    const arr = calculateOfferingsToLevelXTimes(i - 1, player.runelevels[i - 1], player.offeringbuyamount)\n    let offerings = 0\n    let j = 0\n    while (j < arr.length && (offerings + arr[j] <= player.runeshards || j === 0)) {\n      offerings += arr[j]\n      j++\n    }\n    const s = j === 1 ? 'once' : `${j} times`\n\n    DOMCacheGetOrSet('runeDisplayInfo').textContent = i18next.t('runes.perOfferingText', {\n      exp: format(amountPerOffering),\n      x: format(offerings),\n      y: s\n    })\n  }\n}\n\nexport const resetofferings = (input: resetNames) => {\n  player.runeshards = Math.min(1e300, player.runeshards + calculateOfferings(input))\n}\n\nexport const unlockedRune = (runeIndexPlusOne: number) => {\n  // Whether or not a rune is unlocked array\n  const unlockedRune = [\n    false,\n    true,\n    player.achievements[38] > 0.5,\n    player.achievements[44] > 0.5,\n    player.achievements[102] > 0.5,\n    player.researches[82] > 0.5,\n    player.shopUpgrades.infiniteAscent,\n    player.platonicUpgrades[20] > 0\n  ]\n  return unlockedRune[runeIndexPlusOne]\n}\n\n/**\n * checkMaxRunes returns how many unique runes are at the maximum level.\n * Does not take in params, returns a number equal to number of maxed runes.\n */\nexport const checkMaxRunes = (runeIndex: number) => {\n  let maxed = 0\n  for (let i = 0; i < runeIndex; i++) {\n    if (!unlockedRune(i + 1) || player.runelevels[i] >= calculateMaxRunes(i + 1)) {\n      maxed++\n    }\n  }\n  return maxed\n}\n\nexport const redeemShards = (runeIndexPlusOne: number, auto = false, cubeUpgraded = 0) => {\n  // if automated && 2x10 cube upgrade bought, this will be >0.\n  // runeIndex, the rune being added to\n  const runeIndex = runeIndexPlusOne - 1\n\n  let levelsToAdd = player.offeringbuyamount\n  if (auto) {\n    levelsToAdd = Math.pow(2, player.shopUpgrades.offeringAuto)\n  }\n  if (auto && cubeUpgraded > 0) {\n    levelsToAdd = Math.min(1e4, calculateMaxRunes(runeIndex + 1)) // limit to max 10k levels per call so the execution doesn't take too long if things get stuck\n  }\n  let levelsAdded = 0\n  if (\n    player.runeshards > 0 && player.runelevels[runeIndex] < calculateMaxRunes(runeIndex + 1)\n    && unlockedRune(runeIndex + 1)\n  ) {\n    let all = 0\n    const maxLevel = calculateMaxRunes(runeIndex + 1)\n    const amountArr = calculateOfferingsToLevelXTimes(runeIndex, player.runelevels[runeIndex], levelsToAdd)\n    let toSpendTotal = Math.min(player.runeshards, amountArr.reduce((x, y) => x + y, 0))\n    if (cubeUpgraded > 0) {\n      toSpendTotal = Math.min(player.runeshards, cubeUpgraded)\n    }\n    const fact = calculateRuneExpGiven(runeIndex, false, player.runelevels[runeIndex], true)\n    const a = player.upgrades[71] / 25\n    const add = fact[0] - a * player.runelevels[runeIndex]\n    const mult = fact.slice(1, fact.length).reduce((x, y) => x * y, 1)\n    while (toSpendTotal > 0 && levelsAdded < levelsToAdd && player.runelevels[runeIndex] < maxLevel) {\n      const exp = calculateRuneExpToLevel(runeIndex, player.runelevels[runeIndex]) - player.runeexp[runeIndex]\n      const expPerOff = Math.min(1e300, (add + a * player.runelevels[runeIndex]) * mult)\n      let toSpend = Math.min(toSpendTotal, Math.ceil(exp / expPerOff))\n      if (isNaN(toSpend)) {\n        toSpend = toSpendTotal\n      }\n      toSpendTotal -= toSpend\n      player.runeshards -= toSpend\n      player.runeexp[runeIndex] += toSpend * expPerOff\n      all += toSpend\n      while (\n        player.runeexp[runeIndex] >= calculateRuneExpToLevel(runeIndex) && player.runelevels[runeIndex] < maxLevel\n      ) {\n        player.runelevels[runeIndex] += 1\n        levelsAdded++\n      }\n    }\n    for (let runeToUpdate = 0; runeToUpdate < 5; ++runeToUpdate) {\n      if (unlockedRune(runeToUpdate + 1)) {\n        if (runeToUpdate !== runeIndex) {\n          player.runeexp[runeToUpdate] += all * calculateRuneExpGiven(runeToUpdate, true)\n        }\n        while (\n          player.runeexp[runeToUpdate] >= calculateRuneExpToLevel(runeToUpdate)\n          && player.runelevels[runeToUpdate] < calculateMaxRunes(runeToUpdate + 1)\n        ) {\n          player.runelevels[runeToUpdate] += 1\n        }\n      }\n    }\n    if (!auto) {\n      displayRuneInformation(runeIndexPlusOne)\n    }\n  }\n  calculateRuneLevels()\n  if (player.runeshards < 0 || !player.runeshards) {\n    player.runeshards = 0\n  }\n}\n\nexport const calculateOfferingsToLevelXTimes = (runeIndex: number, runeLevel: number, levels: number) => {\n  let exp = calculateRuneExpToLevel(runeIndex, runeLevel) - player.runeexp[runeIndex]\n  const maxLevel = calculateMaxRunes(runeIndex + 1)\n  const arr = []\n  let sum = 0\n  const off = player.runeshards\n  let levelsAdded = 0\n  const fact = calculateRuneExpGiven(runeIndex, false, runeLevel, true)\n  const a = player.upgrades[71] / 25\n  const add = fact[0] - a * runeLevel\n  const mult = fact.slice(1, fact.length).reduce((x, y) => x * y, 1)\n  while (levelsAdded < levels && runeLevel + levelsAdded < maxLevel && sum < off) {\n    const expPerOff = (add + a * (runeLevel + levelsAdded)) * mult\n    const amount = Math.ceil(exp / expPerOff)\n    sum += amount\n    arr.push(amount)\n    levelsAdded += 1\n    exp = calculateRuneExpToLevel(runeIndex, runeLevel + levelsAdded)\n      - calculateRuneExpToLevel(runeIndex, runeLevel + levelsAdded - 1)\n  }\n  return arr\n}\n", "import i18next from 'i18next'\nimport { DOMCacheGetOrSet } from './Cache/DOM'\nimport {\n  calculateAdditiveLuckMult,\n  calculateAmbrosiaGenerationSpeed,\n  calculateAmbrosiaLuck,\n  calculateCashGrabBlueberryBonus,\n  calculateCashGrabCubeBonus,\n  calculateCashGrabQuarkBonus,\n  calculatePowderConversion,\n  calculateSummationNonLinear,\n  calculateTimeAcceleration,\n  sumOfExaltCompletions\n} from './Calculate'\nimport type { IMultiBuy } from './Cubes'\nimport { format, player } from './Synergism'\nimport type { Player } from './types/Synergism'\nimport { Alert, Confirm, Prompt, revealStuff } from './UpdateHTML'\nimport { Globals as G } from './Variables'\n\n/**\n * Standardization of metadata contained for each shop upgrade.\n */\nexport enum shopUpgradeTypes {\n  CONSUMABLE = 'consume',\n  UPGRADE = 'upgrade'\n}\n\ntype shopResetTier =\n  | 'Reincarnation'\n  | 'Ascension'\n  | 'Singularity'\n  | 'SingularityVol2'\n  | 'SingularityVol3'\n  | 'SingularityVol4'\n  | 'Exalt1'\n  | 'Exalt2'\n  | 'Exalt3'\n  | 'Exalt4'\n  | 'Exalt1x30'\n  | 'Exalt5'\n  | 'Exalt5x20'\n  | 'Exalt6x15'\n  | 'Exalt6x25'\n  | 'Exalt7x10'\n  | 'Exalt7x20'\n  | 'Exalt7x30'\n\nexport interface IShopData {\n  price: number\n  priceIncrease: number\n  maxLevel: number\n  type: shopUpgradeTypes\n  refundable: boolean\n  refundMinimumLevel: number\n  tier: shopResetTier\n}\n\nexport const shopData: Record<keyof Player['shopUpgrades'], IShopData> = {\n  offeringPotion: {\n    price: 100,\n    priceIncrease: 0,\n    maxLevel: 999999999,\n    type: shopUpgradeTypes.CONSUMABLE,\n    refundable: false,\n    refundMinimumLevel: 0,\n    tier: 'Reincarnation'\n  },\n  obtainiumPotion: {\n    tier: 'Reincarnation',\n    price: 100,\n    priceIncrease: 0,\n    maxLevel: 999999999,\n    type: shopUpgradeTypes.CONSUMABLE,\n    refundable: false,\n    refundMinimumLevel: 0\n  },\n  offeringEX: {\n    tier: 'Reincarnation',\n    price: 150,\n    priceIncrease: 10,\n    maxLevel: 100,\n    type: shopUpgradeTypes.UPGRADE,\n    refundable: true,\n    refundMinimumLevel: 0\n  },\n  offeringAuto: {\n    tier: 'Reincarnation',\n    price: 150,\n    priceIncrease: 10,\n    maxLevel: 100,\n    type: shopUpgradeTypes.UPGRADE,\n    refundable: true,\n    refundMinimumLevel: 1\n  },\n  obtainiumEX: {\n    tier: 'Reincarnation',\n    price: 150,\n    priceIncrease: 10,\n    maxLevel: 100,\n    type: shopUpgradeTypes.UPGRADE,\n    refundable: true,\n    refundMinimumLevel: 0\n  },\n  obtainiumAuto: {\n    tier: 'Reincarnation',\n    price: 150,\n    priceIncrease: 10,\n    maxLevel: 100,\n    type: shopUpgradeTypes.UPGRADE,\n    refundable: true,\n    refundMinimumLevel: 1\n  },\n  instantChallenge: {\n    tier: 'Reincarnation',\n    price: 300,\n    priceIncrease: 99999,\n    maxLevel: 1,\n    type: shopUpgradeTypes.UPGRADE,\n    refundable: false,\n    refundMinimumLevel: 0\n  },\n  antSpeed: {\n    tier: 'Reincarnation',\n    price: 200,\n    priceIncrease: 25,\n    maxLevel: 100,\n    type: shopUpgradeTypes.UPGRADE,\n    refundable: true,\n    refundMinimumLevel: 0\n  },\n  cashGrab: {\n    tier: 'Reincarnation',\n    price: 100,\n    priceIncrease: 40,\n    maxLevel: 100,\n    type: shopUpgradeTypes.UPGRADE,\n    refundable: true,\n    refundMinimumLevel: 0\n  },\n  shopTalisman: {\n    tier: 'Reincarnation',\n    price: 1500,\n    priceIncrease: 99999,\n    maxLevel: 1,\n    type: shopUpgradeTypes.UPGRADE,\n    refundable: false,\n    refundMinimumLevel: 0\n  },\n  seasonPass: {\n    tier: 'Ascension',\n    price: 500,\n    priceIncrease: 75,\n    maxLevel: 100,\n    type: shopUpgradeTypes.UPGRADE,\n    refundable: true,\n    refundMinimumLevel: 0\n  },\n  challengeExtension: {\n    tier: 'Ascension',\n    price: 500,\n    priceIncrease: 250,\n    maxLevel: 5,\n    type: shopUpgradeTypes.UPGRADE,\n    refundable: false,\n    refundMinimumLevel: 0\n  },\n  challengeTome: {\n    tier: 'Ascension',\n    price: 500,\n    priceIncrease: 250,\n    maxLevel: 15,\n    type: shopUpgradeTypes.UPGRADE,\n    refundable: false,\n    refundMinimumLevel: 0\n  },\n  cubeToQuark: {\n    tier: 'Ascension',\n    price: 2000,\n    priceIncrease: 99999,\n    maxLevel: 1,\n    type: shopUpgradeTypes.UPGRADE,\n    refundable: false,\n    refundMinimumLevel: 0\n  },\n  tesseractToQuark: {\n    tier: 'Ascension',\n    price: 3500,\n    priceIncrease: 99999,\n    maxLevel: 1,\n    type: shopUpgradeTypes.UPGRADE,\n    refundable: false,\n    refundMinimumLevel: 0\n  },\n  hypercubeToQuark: {\n    tier: 'Ascension',\n    price: 5000,\n    priceIncrease: 99999,\n    maxLevel: 1,\n    type: shopUpgradeTypes.UPGRADE,\n    refundable: false,\n    refundMinimumLevel: 0\n  },\n  seasonPass2: {\n    tier: 'Ascension',\n    price: 2000,\n    priceIncrease: 200,\n    maxLevel: 100,\n    type: shopUpgradeTypes.UPGRADE,\n    refundable: true,\n    refundMinimumLevel: 0\n  },\n  seasonPass3: {\n    tier: 'Ascension',\n    price: 5000,\n    priceIncrease: 500,\n    maxLevel: 100,\n    type: shopUpgradeTypes.UPGRADE,\n    refundable: true,\n    refundMinimumLevel: 0\n  },\n  chronometer: {\n    tier: 'Ascension',\n    price: 1600,\n    priceIncrease: 400,\n    maxLevel: 100,\n    type: shopUpgradeTypes.UPGRADE,\n    refundable: true,\n    refundMinimumLevel: 0\n  },\n  infiniteAscent: {\n    tier: 'Ascension',\n    price: 25000,\n    priceIncrease: 9999999,\n    maxLevel: 1,\n    type: shopUpgradeTypes.UPGRADE,\n    refundable: false,\n    refundMinimumLevel: 0\n  },\n  calculator: {\n    tier: 'Reincarnation',\n    price: 500,\n    priceIncrease: 300,\n    maxLevel: 5,\n    type: shopUpgradeTypes.UPGRADE,\n    refundable: false,\n    refundMinimumLevel: 1\n  },\n  calculator2: {\n    tier: 'Ascension',\n    price: 2500,\n    priceIncrease: 800,\n    maxLevel: 12,\n    type: shopUpgradeTypes.UPGRADE,\n    refundable: false,\n    refundMinimumLevel: 0\n  },\n  calculator3: {\n    tier: 'Ascension',\n    price: 7500,\n    priceIncrease: 1500,\n    maxLevel: 10,\n    type: shopUpgradeTypes.UPGRADE,\n    refundable: false,\n    refundMinimumLevel: 0\n  },\n  calculator4: {\n    tier: 'Singularity',\n    price: 1e7,\n    priceIncrease: 1e6,\n    maxLevel: 10,\n    type: shopUpgradeTypes.UPGRADE,\n    refundable: false,\n    refundMinimumLevel: 0\n  },\n  calculator5: {\n    tier: 'SingularityVol2',\n    price: 1e8,\n    priceIncrease: 1e8,\n    maxLevel: 100,\n    type: shopUpgradeTypes.UPGRADE,\n    refundable: false,\n    refundMinimumLevel: 0\n  },\n  calculator6: {\n    tier: 'SingularityVol3',\n    price: 1e11,\n    priceIncrease: 2e10,\n    maxLevel: 100,\n    type: shopUpgradeTypes.UPGRADE,\n    refundable: false,\n    refundMinimumLevel: 0\n  },\n  constantEX: {\n    tier: 'Ascension',\n    price: 100000,\n    priceIncrease: 899999,\n    maxLevel: 2,\n    type: shopUpgradeTypes.UPGRADE,\n    refundable: false,\n    refundMinimumLevel: 0\n  },\n  powderEX: {\n    tier: 'Ascension',\n    price: 1000,\n    priceIncrease: 750,\n    maxLevel: 50,\n    type: shopUpgradeTypes.UPGRADE,\n    refundable: false,\n    refundMinimumLevel: 0\n  },\n  chronometer2: {\n    tier: 'Ascension',\n    price: 5000,\n    priceIncrease: 1500,\n    maxLevel: 100,\n    type: shopUpgradeTypes.UPGRADE,\n    refundable: true,\n    refundMinimumLevel: 0\n  },\n  chronometer3: {\n    tier: 'Singularity',\n    price: 250,\n    priceIncrease: 250,\n    maxLevel: 1000,\n    type: shopUpgradeTypes.UPGRADE,\n    refundable: false,\n    refundMinimumLevel: 0\n  },\n  seasonPassY: {\n    tier: 'Ascension',\n    price: 10000,\n    priceIncrease: 1500,\n    maxLevel: 100,\n    type: shopUpgradeTypes.UPGRADE,\n    refundable: true,\n    refundMinimumLevel: 0\n  },\n  seasonPassZ: {\n    tier: 'Singularity',\n    price: 250,\n    priceIncrease: 250,\n    maxLevel: 1000,\n    type: shopUpgradeTypes.UPGRADE,\n    refundable: false,\n    refundMinimumLevel: 0\n  },\n  challengeTome2: {\n    tier: 'Singularity',\n    price: 1000000,\n    priceIncrease: 1000000,\n    maxLevel: 5,\n    type: shopUpgradeTypes.UPGRADE,\n    refundable: false,\n    refundMinimumLevel: 0\n  },\n  instantChallenge2: {\n    tier: 'Singularity',\n    price: 20000000,\n    priceIncrease: 0,\n    maxLevel: 1,\n    type: shopUpgradeTypes.UPGRADE,\n    refundable: false,\n    refundMinimumLevel: 0\n  },\n  cubeToQuarkAll: {\n    tier: 'SingularityVol2',\n    price: 2222222,\n    priceIncrease: 0,\n    maxLevel: 100,\n    type: shopUpgradeTypes.UPGRADE,\n    refundable: false,\n    refundMinimumLevel: 0\n  },\n  cashGrab2: {\n    tier: 'SingularityVol2',\n    price: 5000,\n    priceIncrease: 5000,\n    maxLevel: 1000,\n    type: shopUpgradeTypes.UPGRADE,\n    refundable: false,\n    refundMinimumLevel: 0\n  },\n  chronometerZ: {\n    tier: 'SingularityVol2',\n    price: 12500,\n    priceIncrease: 12500,\n    maxLevel: 1000,\n    type: shopUpgradeTypes.UPGRADE,\n    refundable: false,\n    refundMinimumLevel: 0\n  },\n  offeringEX2: {\n    tier: 'SingularityVol2',\n    price: 10000,\n    priceIncrease: 10000,\n    maxLevel: 1000,\n    type: shopUpgradeTypes.UPGRADE,\n    refundable: false,\n    refundMinimumLevel: 0\n  },\n  obtainiumEX2: {\n    tier: 'SingularityVol2',\n    price: 10000,\n    priceIncrease: 10000,\n    maxLevel: 1000,\n    type: shopUpgradeTypes.UPGRADE,\n    refundable: false,\n    refundMinimumLevel: 0\n  },\n  powderAuto: {\n    tier: 'SingularityVol2',\n    price: 5e6,\n    priceIncrease: 0,\n    maxLevel: 100,\n    type: shopUpgradeTypes.UPGRADE,\n    refundable: false,\n    refundMinimumLevel: 0\n  },\n  seasonPassLost: {\n    tier: 'SingularityVol2',\n    price: 1000000,\n    priceIncrease: 25000,\n    maxLevel: 1000,\n    type: shopUpgradeTypes.UPGRADE,\n    refundable: false,\n    refundMinimumLevel: 0\n  },\n  challenge15Auto: {\n    tier: 'SingularityVol3',\n    price: 5e11,\n    priceIncrease: 0,\n    maxLevel: 1,\n    type: shopUpgradeTypes.UPGRADE,\n    refundable: false,\n    refundMinimumLevel: 0\n  },\n  extraWarp: {\n    tier: 'SingularityVol3',\n    price: 1.25e11,\n    priceIncrease: 0,\n    maxLevel: 1,\n    type: shopUpgradeTypes.UPGRADE,\n    refundable: false,\n    refundMinimumLevel: 0\n  },\n  autoWarp: {\n    tier: 'SingularityVol3',\n    price: 5e11,\n    priceIncrease: 0,\n    maxLevel: 1,\n    type: shopUpgradeTypes.UPGRADE,\n    refundable: false,\n    refundMinimumLevel: 0\n  },\n  improveQuarkHept: {\n    tier: 'Ascension',\n    price: 2e5 - 1,\n    priceIncrease: 0,\n    maxLevel: 1,\n    type: shopUpgradeTypes.UPGRADE,\n    refundable: false,\n    refundMinimumLevel: 0\n  },\n  improveQuarkHept2: {\n    tier: 'Singularity',\n    price: 2e7 - 1,\n    priceIncrease: 0,\n    maxLevel: 1,\n    type: shopUpgradeTypes.UPGRADE,\n    refundable: false,\n    refundMinimumLevel: 0\n  },\n  improveQuarkHept3: {\n    tier: 'SingularityVol2',\n    price: 2e9 - 1,\n    priceIncrease: 0,\n    maxLevel: 1,\n    type: shopUpgradeTypes.UPGRADE,\n    refundable: false,\n    refundMinimumLevel: 0\n  },\n  improveQuarkHept4: {\n    tier: 'SingularityVol3',\n    price: 2e11 - 1,\n    priceIncrease: 0,\n    maxLevel: 1,\n    type: shopUpgradeTypes.UPGRADE,\n    refundable: false,\n    refundMinimumLevel: 0\n  },\n  shopImprovedDaily: {\n    tier: 'Ascension',\n    price: 5000,\n    priceIncrease: 2500,\n    maxLevel: 20,\n    type: shopUpgradeTypes.UPGRADE,\n    refundable: false,\n    refundMinimumLevel: 0\n  },\n  shopImprovedDaily2: {\n    tier: 'Singularity',\n    price: 500000,\n    priceIncrease: 500000,\n    maxLevel: 10,\n    type: shopUpgradeTypes.UPGRADE,\n    refundable: false,\n    refundMinimumLevel: 0\n  },\n  shopImprovedDaily3: {\n    tier: 'SingularityVol2',\n    price: 5000000,\n    priceIncrease: 12500000,\n    maxLevel: 15,\n    type: shopUpgradeTypes.UPGRADE,\n    refundable: false,\n    refundMinimumLevel: 0\n  },\n  shopImprovedDaily4: {\n    tier: 'SingularityVol3',\n    price: 5e9,\n    priceIncrease: 5e9,\n    maxLevel: 25,\n    type: shopUpgradeTypes.UPGRADE,\n    refundable: false,\n    refundMinimumLevel: 0\n  },\n  offeringEX3: {\n    tier: 'SingularityVol3',\n    price: 1,\n    priceIncrease: 1.25e12,\n    maxLevel: 1000,\n    type: shopUpgradeTypes.UPGRADE,\n    refundable: false,\n    refundMinimumLevel: 0\n  },\n  obtainiumEX3: {\n    tier: 'SingularityVol3',\n    price: 1,\n    priceIncrease: 1.25e12,\n    maxLevel: 1000,\n    type: shopUpgradeTypes.UPGRADE,\n    refundable: false,\n    refundMinimumLevel: 0\n  },\n  improveQuarkHept5: {\n    tier: 'SingularityVol4',\n    price: 1,\n    priceIncrease: 2.5e13,\n    maxLevel: 100,\n    type: shopUpgradeTypes.UPGRADE,\n    refundable: false,\n    refundMinimumLevel: 0\n  },\n  chronometerInfinity: {\n    tier: 'SingularityVol4',\n    price: 1,\n    priceIncrease: 2.5e12,\n    maxLevel: 1000,\n    type: shopUpgradeTypes.UPGRADE,\n    refundable: false,\n    refundMinimumLevel: 0\n  },\n  seasonPassInfinity: {\n    tier: 'SingularityVol4',\n    price: 1,\n    priceIncrease: 3.75e12,\n    maxLevel: 1000,\n    type: shopUpgradeTypes.UPGRADE,\n    refundable: false,\n    refundMinimumLevel: 0\n  },\n  shopSingularityPenaltyDebuff: {\n    tier: 'Exalt1',\n    price: 1e17,\n    priceIncrease: 9.99e19,\n    maxLevel: 4,\n    type: shopUpgradeTypes.UPGRADE,\n    refundable: false,\n    refundMinimumLevel: 0\n  },\n  shopAmbrosiaLuckMultiplier4: {\n    tier: 'Exalt2',\n    price: 1e20,\n    priceIncrease: 3e20,\n    maxLevel: 4,\n    type: shopUpgradeTypes.UPGRADE,\n    refundable: false,\n    refundMinimumLevel: 0\n  },\n  calculator7: {\n    tier: 'Exalt3',\n    price: 1e20,\n    priceIncrease: 1e19,\n    maxLevel: 50,\n    type: shopUpgradeTypes.UPGRADE,\n    refundable: false,\n    refundMinimumLevel: 0\n  },\n  shopOcteractAmbrosiaLuck: {\n    tier: 'Exalt4',\n    price: 1e21,\n    priceIncrease: 9e21,\n    maxLevel: 2,\n    type: shopUpgradeTypes.UPGRADE,\n    refundable: false,\n    refundMinimumLevel: 0\n  },\n  shopAmbrosiaGeneration1: {\n    tier: 'SingularityVol2',\n    price: 50000000,\n    priceIncrease: 50000000,\n    maxLevel: 25,\n    type: shopUpgradeTypes.UPGRADE,\n    refundable: false,\n    refundMinimumLevel: 0\n  },\n  shopAmbrosiaGeneration2: {\n    tier: 'SingularityVol3',\n    price: 5e11,\n    priceIncrease: 5e11,\n    maxLevel: 30,\n    type: shopUpgradeTypes.UPGRADE,\n    refundable: false,\n    refundMinimumLevel: 0\n  },\n  shopAmbrosiaGeneration3: {\n    tier: 'SingularityVol4',\n    price: 5e13,\n    priceIncrease: 5e13,\n    maxLevel: 35,\n    type: shopUpgradeTypes.UPGRADE,\n    refundable: false,\n    refundMinimumLevel: 0\n  },\n  shopAmbrosiaGeneration4: {\n    tier: 'SingularityVol4',\n    price: 1e17,\n    priceIncrease: 4 * 1e16,\n    maxLevel: 1000,\n    type: shopUpgradeTypes.UPGRADE,\n    refundable: false,\n    refundMinimumLevel: 0\n  },\n  shopAmbrosiaLuck1: {\n    tier: 'SingularityVol2',\n    price: 20000000,\n    priceIncrease: 20000000,\n    maxLevel: 40,\n    type: shopUpgradeTypes.UPGRADE,\n    refundable: false,\n    refundMinimumLevel: 0\n  },\n  shopAmbrosiaLuck2: {\n    tier: 'SingularityVol3',\n    price: 2e11,\n    priceIncrease: 2e11,\n    maxLevel: 50,\n    type: shopUpgradeTypes.UPGRADE,\n    refundable: false,\n    refundMinimumLevel: 0\n  },\n  shopAmbrosiaLuck3: {\n    tier: 'SingularityVol4',\n    price: 2e13,\n    priceIncrease: 2e13,\n    maxLevel: 60,\n    type: shopUpgradeTypes.UPGRADE,\n    refundable: false,\n    refundMinimumLevel: 0\n  },\n  shopAmbrosiaLuck4: {\n    tier: 'SingularityVol4',\n    price: 1e17,\n    priceIncrease: 4 * 1e16,\n    maxLevel: 1000,\n    type: shopUpgradeTypes.UPGRADE,\n    refundable: false,\n    refundMinimumLevel: 0\n  },\n  shopCashGrabUltra: {\n    tier: 'Exalt1x30',\n    price: 1,\n    priceIncrease: 2e22,\n    maxLevel: 5,\n    type: shopUpgradeTypes.UPGRADE,\n    refundable: false,\n    refundMinimumLevel: 0\n  },\n  shopAmbrosiaAccelerator: {\n    tier: 'Exalt5',\n    price: 1e21,\n    priceIncrease: 2e21,\n    maxLevel: 5,\n    type: shopUpgradeTypes.UPGRADE,\n    refundable: false,\n    refundMinimumLevel: 0\n  },\n  shopEXUltra: {\n    tier: 'Exalt5x20',\n    price: 1e22,\n    priceIncrease: 0,\n    maxLevel: 80,\n    type: shopUpgradeTypes.UPGRADE,\n    refundable: false,\n    refundMinimumLevel: 0\n  },\n  shopChronometerS: {\n    tier: 'Exalt6x15',\n    price: 1e22,\n    priceIncrease: 0,\n    maxLevel: 1,\n    type: shopUpgradeTypes.UPGRADE,\n    refundable: false,\n    refundMinimumLevel: 0\n  },\n  shopAmbrosiaUltra: {\n    tier: 'Exalt6x25',\n    price: 8e23,\n    priceIncrease: 8e23,\n    maxLevel: 5,\n    type: shopUpgradeTypes.UPGRADE,\n    refundable: false,\n    refundMinimumLevel: 0\n  },\n  shopSingularitySpeedup: {\n    tier: 'Exalt7x10',\n    price: 2e23,\n    priceIncrease: 0,\n    maxLevel: 1,\n    type: shopUpgradeTypes.UPGRADE,\n    refundable: false,\n    refundMinimumLevel: 0\n  },\n  shopSingularityPotency: {\n    tier: 'Exalt7x20',\n    price: 2e24,\n    priceIncrease: 0,\n    maxLevel: 1,\n    type: shopUpgradeTypes.UPGRADE,\n    refundable: false,\n    refundMinimumLevel: 0\n  },\n  shopSadisticRune: {\n    tier: 'Exalt7x30',\n    price: 2e25,\n    priceIncrease: 0,\n    maxLevel: 1,\n    type: shopUpgradeTypes.UPGRADE,\n    refundable: false,\n    refundMinimumLevel: 0\n  }\n}\n\n// Names of shop upgrades || Top row indicates potions, and all other upgrades are labeled in order.\n// If you are adding more upgrades please make sure the order of labelled upgrades is correct!\ntype ShopUpgradeNames =\n  | 'offeringPotion'\n  | 'obtainiumPotion'\n  | 'offeringEX'\n  | 'offeringAuto'\n  | 'offeringEX2'\n  | 'obtainiumEX'\n  | 'obtainiumAuto'\n  | 'obtainiumEX2'\n  | 'instantChallenge'\n  | 'instantChallenge2'\n  | 'antSpeed'\n  | 'cashGrab'\n  | 'cashGrab2'\n  | 'shopTalisman'\n  | 'seasonPass'\n  | 'challengeExtension'\n  | 'challengeTome'\n  | 'challengeTome2'\n  | 'cubeToQuark'\n  | 'tesseractToQuark'\n  | 'cubeToQuarkAll'\n  | 'hypercubeToQuark'\n  | 'seasonPass2'\n  | 'seasonPass3'\n  | 'seasonPassY'\n  | 'seasonPassZ'\n  | 'seasonPassLost'\n  | 'chronometer'\n  | 'chronometer2'\n  | 'chronometer3'\n  | 'chronometerZ'\n  | 'infiniteAscent'\n  | 'calculator'\n  | 'calculator2'\n  | 'calculator3'\n  | 'constantEX'\n  | 'powderEX'\n  | 'powderAuto'\n  | 'challenge15Auto'\n  | 'extraWarp'\n  | 'autoWarp' // And Golden Quarks\n  | 'improveQuarkHept'\n  | 'improveQuarkHept2'\n  | 'improveQuarkHept3'\n  | 'improveQuarkHept4'\n  | 'shopImprovedDaily'\n  | 'shopImprovedDaily2'\n  | 'shopImprovedDaily3'\n  | 'shopImprovedDaily4'\n  | 'calculator4'\n  | 'calculator5'\n  | 'calculator6'\n  | 'calculator7'\n  | 'offeringEX3'\n  | 'obtainiumEX3'\n  | 'improveQuarkHept5'\n  | 'seasonPassInfinity'\n  | 'chronometerInfinity'\n  | 'shopSingularityPenaltyDebuff'\n  | 'shopAmbrosiaLuckMultiplier4'\n  | 'shopOcteractAmbrosiaLuck'\n  | 'shopAmbrosiaGeneration1'\n  | 'shopAmbrosiaGeneration2'\n  | 'shopAmbrosiaGeneration3'\n  | 'shopAmbrosiaGeneration4'\n  | 'shopAmbrosiaLuck1'\n  | 'shopAmbrosiaLuck2'\n  | 'shopAmbrosiaLuck3'\n  | 'shopAmbrosiaLuck4'\n  | 'shopCashGrabUltra'\n  | 'shopAmbrosiaAccelerator'\n  | 'shopEXUltra'\n  | 'shopChronometerS'\n  | 'shopAmbrosiaUltra'\n  | 'shopSingularitySpeedup'\n  | 'shopSingularityPotency'\n  | 'shopSadisticRune'\n\nexport const getShopCosts = (input: ShopUpgradeNames) => {\n  if (\n    shopData[input].type === shopUpgradeTypes.CONSUMABLE\n    || shopData[input].maxLevel === 1\n  ) {\n    return shopData[input].price\n  } else {\n    const priceIncreaseMult = player.shopUpgrades[input]\n    return (\n      shopData[input].price + shopData[input].priceIncrease * priceIncreaseMult\n    )\n  }\n}\n\nexport const shopDescriptions = (input: ShopUpgradeNames) => {\n  const rofl = DOMCacheGetOrSet('quarkdescription')!\n  const lol = DOMCacheGetOrSet('quarkeffect')!\n  const refundable = DOMCacheGetOrSet('quarkRefundable')!\n\n  rofl.innerHTML = i18next.t(`shop.upgradeDescriptions.${input}`)\n\n  shopData[input].refundable // TODO(@KhafraDev): i18n\n    ? (refundable.textContent = `This item is refundable! Will be set to level ${\n      shopData[input].refundMinimumLevel\n    } when refunded.`)\n    : (refundable.textContent = i18next.t('shop.cannotRefund'))\n\n  switch (input) {\n    case 'offeringPotion':\n      lol.innerHTML = i18next.t('shop.upgradeEffects.offeringPotion', {\n        amount: format(\n          7200\n            * player.offeringpersecond\n            * calculateTimeAcceleration().mult\n            * +player.singularityUpgrades.potionBuff.getEffect().bonus,\n          0,\n          true\n        )\n      })\n      break\n    case 'obtainiumPotion':\n      lol.innerHTML = i18next.t('shop.upgradeEffects.obtainiumPotion', {\n        amount: format(\n          7200\n            * player.maxobtainiumpersecond\n            * calculateTimeAcceleration().mult\n            * +player.singularityUpgrades.potionBuff.getEffect().bonus,\n          0,\n          true\n        )\n      })\n      break\n    case 'offeringEX':\n      lol.innerHTML = i18next.t('shop.upgradeEffects.offeringEX', {\n        amount: format(4 * player.shopUpgrades.offeringEX, 2, true)\n      })\n      break\n    case 'offeringAuto':\n      lol.innerHTML = i18next.t('shop.upgradeEffects.offeringAuto', {\n        amount1: format(Math.pow(2, player.shopUpgrades.offeringAuto)),\n        amount2: format(2 * player.shopUpgrades.offeringAuto, 2)\n      })\n      break\n    case 'obtainiumEX':\n      lol.innerHTML = i18next.t('shop.upgradeEffects.obtainiumEX', {\n        amount: format(4 * player.shopUpgrades.obtainiumEX, 2, true)\n      })\n      break\n    case 'obtainiumAuto':\n      lol.innerHTML = i18next.t('shop.upgradeEffects.obtainiumAuto', {\n        amount: format(player.shopUpgrades.obtainiumAuto * 2, 2)\n      })\n      break\n    case 'instantChallenge':\n      lol.innerHTML = i18next.t('shop.upgradeEffects.instantChallenge')\n      break\n    case 'antSpeed':\n      lol.innerHTML = i18next.t('shop.upgradeEffects.antSpeed', {\n        amount: format(Math.pow(1.2, player.shopUpgrades.antSpeed), 2)\n      })\n      break\n    case 'cashGrab':\n      lol.innerHTML = i18next.t('shop.upgradeEffects.cashGrab', {\n        amount: format(player.shopUpgrades.cashGrab, 2)\n      })\n      break\n    case 'shopTalisman':\n      lol.innerHTML = i18next.t('shop.upgradeEffects.shopTalisman')\n      break\n    case 'seasonPass':\n      lol.innerHTML = i18next.t('shop.upgradeEffects.seasonPass', {\n        amount: format(2.25 * player.shopUpgrades.seasonPass)\n      })\n      break\n    case 'challengeExtension':\n      lol.innerHTML = i18next.t('shop.upgradeEffects.challengeExtension', {\n        amount: format(2 * player.shopUpgrades.challengeExtension)\n      })\n      break\n    case 'challengeTome':\n      lol.innerHTML = i18next.t('shop.upgradeEffects.challengeTome', {\n        amount1: format(20 * player.shopUpgrades.challengeTome),\n        amount2: format(\n          1\n            - (player.shopUpgrades.challengeTome\n                + player.shopUpgrades.challengeTome2)\n              / 100,\n          2,\n          true\n        )\n      })\n      break\n    case 'cubeToQuark':\n      lol.innerHTML = i18next.t('shop.upgradeEffects.cubeToQuark')\n      break\n    case 'tesseractToQuark':\n      lol.innerHTML = i18next.t('shop.upgradeEffects.tesseractToQuark')\n      break\n    case 'hypercubeToQuark':\n      lol.innerHTML = i18next.t('shop.upgradeEffects.hypercubeToQuark')\n      break\n    case 'seasonPass2':\n      lol.innerHTML = i18next.t('shop.upgradeEffects.seasonPass2', {\n        amount: format(1.5 * player.shopUpgrades.seasonPass2)\n      })\n      break\n    case 'seasonPass3':\n      lol.innerHTML = i18next.t('shop.upgradeEffects.seasonPass3', {\n        amount: format(1.5 * player.shopUpgrades.seasonPass3)\n      })\n      break\n    case 'chronometer':\n      lol.innerHTML = i18next.t('shop.upgradeEffects.chronometer', {\n        amount: format(1.2 * player.shopUpgrades.chronometer)\n      })\n      break\n    case 'infiniteAscent':\n      lol.innerHTML = i18next.t('shop.upgradeEffects.infiniteAscent')\n      break\n    case 'calculator':\n      lol.innerHTML = i18next.t('shop.upgradeEffects.calculator', {\n        amount1: format(14 * player.shopUpgrades.calculator),\n        bool1: player.shopUpgrades.calculator > 0,\n        bool2: player.shopUpgrades.calculator === shopData.calculator.maxLevel\n      })\n      break\n    case 'calculator2':\n      lol.innerHTML = i18next.t('shop.upgradeEffects.calculator2', {\n        amount1: format(2 * player.shopUpgrades.calculator2),\n        amount2: format(\n          player.shopUpgrades.calculator2 === shopData.calculator2.maxLevel\n            ? 25\n            : 0\n        )\n      })\n      break\n    case 'calculator3':\n      lol.innerHTML = i18next.t('shop.upgradeEffects.calculator3', {\n        amount1: format(10 * player.shopUpgrades.calculator3),\n        amount2: format(60 * player.shopUpgrades.calculator3)\n      })\n      break\n    case 'calculator4':\n      lol.innerHTML = i18next.t('shop.upgradeEffects.calculator4', {\n        amount1: format(2 * player.shopUpgrades.calculator4),\n        amount2: player.shopUpgrades.calculator4 === 10 ? 32 : 0\n      })\n      break\n    case 'calculator5':\n      lol.innerHTML = i18next.t('shop.upgradeEffects.calculator5', {\n        amount1: format(6 * player.shopUpgrades.calculator5),\n        amount2: Math.floor(player.shopUpgrades.calculator5 / 10)\n          + (player.shopUpgrades.calculator4 === shopData.calculator5.maxLevel\n            ? 6\n            : 0)\n      })\n      break\n    case 'calculator6':\n      lol.innerHTML = i18next.t('shop.upgradeEffects.calculator6', {\n        amount1: format(player.shopUpgrades.calculator6),\n        amount2: player.shopUpgrades.calculator6 === shopData.calculator6.maxLevel\n          ? 24\n          : 0\n      })\n      break\n    case 'calculator7':\n      lol.innerHTML = i18next.t('shop.upgradeEffects.calculator7', {\n        amount1: format(player.shopUpgrades.calculator7, 0, true),\n        amount2: player.shopUpgrades.calculator7 === shopData.calculator7.maxLevel\n          ? 48\n          : 0\n      })\n      break\n    case 'constantEX':\n      lol.innerHTML = i18next.t('shop.upgradeEffects.constantEX', {\n        amount: format(player.shopUpgrades.constantEX, 0, true)\n      })\n      break\n    case 'powderEX':\n      lol.innerHTML = i18next.t('shop.upgradeEffects.powderEX', {\n        amount: format(2 * player.shopUpgrades.powderEX)\n      })\n      break\n    case 'chronometer2':\n      lol.innerHTML = i18next.t('shop.upgradeEffects.chronometer2', {\n        amount: format(0.6 * player.shopUpgrades.chronometer2, 1)\n      })\n      break\n    case 'chronometer3':\n      lol.innerHTML = i18next.t('shop.upgradeEffects.chronometer3', {\n        amount: format(1.5 * player.shopUpgrades.chronometer3, 1)\n      })\n      break\n    case 'seasonPassY':\n      lol.innerHTML = i18next.t('shop.upgradeEffects.seasonPassY', {\n        amount: format(0.75 * player.shopUpgrades.seasonPassY, 2)\n      })\n      break\n    case 'seasonPassZ':\n      lol.innerHTML = i18next.t('shop.upgradeEffects.seasonPassZ', {\n        amount: format(\n          1 * player.shopUpgrades.seasonPassZ * player.singularityCount,\n          0,\n          true\n        )\n      })\n      break\n    case 'challengeTome2':\n      lol.innerHTML = i18next.t('shop.upgradeEffects.challengeTome2', {\n        amount1: 20 * player.shopUpgrades.challengeTome2,\n        amount2: format(\n          1\n            - (player.shopUpgrades.challengeTome\n                + player.shopUpgrades.challengeTome2)\n              / 100,\n          2,\n          true\n        )\n      })\n      break\n    case 'instantChallenge2':\n      lol.innerHTML = i18next.t('shop.upgradeEffects.instantChallenge2', {\n        amount: format(\n          player.shopUpgrades.instantChallenge2 * player.singularityCount,\n          0\n        )\n      })\n      break\n    case 'cashGrab2':\n      lol.innerHTML = i18next.t('shop.upgradeEffects.cashGrab2', {\n        amount: format(0.5 * player.shopUpgrades.cashGrab2, 1)\n      })\n      break\n    case 'cubeToQuarkAll':\n      lol.innerHTML = i18next.t('shop.upgradeEffects.cubeToQuarkAll', {\n        amount: format(0.2 * player.shopUpgrades.cubeToQuarkAll, 2)\n      })\n      break\n    case 'chronometerZ':\n      lol.innerHTML = i18next.t('shop.upgradeEffects.chronometerZ', {\n        amount: format(\n          0.1 * player.singularityCount * player.shopUpgrades.chronometerZ,\n          2\n        )\n      })\n      break\n    case 'offeringEX2':\n      lol.innerHTML = i18next.t('shop.upgradeEffects.offeringEX2', {\n        amount: format(\n          1 * player.singularityCount * player.shopUpgrades.offeringEX2,\n          2\n        )\n      })\n      break\n    case 'obtainiumEX2':\n      lol.innerHTML = i18next.t('shop.upgradeEffects.obtainiumEX2', {\n        amount: format(\n          1 * player.singularityCount * player.shopUpgrades.obtainiumEX2,\n          2\n        )\n      })\n      break\n    case 'powderAuto':\n      lol.innerHTML = i18next.t('shop.upgradeEffects.powderAuto', {\n        amount: format(\n          100\n            / (Math.max(1, player.shopUpgrades.powderAuto)\n              * calculatePowderConversion().mult),\n          2,\n          true\n        )\n      })\n      break\n    case 'seasonPassLost':\n      lol.innerHTML = i18next.t('shop.upgradeEffects.seasonPassLost', {\n        amount: format(0.1 * player.shopUpgrades.seasonPassLost, 2)\n      })\n      break\n    case 'challenge15Auto':\n      lol.innerHTML = i18next.t('shop.upgradeEffects.challenge15Auto')\n      break\n    case 'extraWarp':\n      lol.innerHTML = i18next.t('shop.upgradeEffects.extraWarp', {\n        amount: player.shopUpgrades.extraWarp\n      })\n      break\n    case 'autoWarp':\n      lol.innerHTML = i18next.t('shop.upgradeEffects.autoWarp')\n      break\n    case 'improveQuarkHept':\n      lol.innerHTML = i18next.t('shop.upgradeEffects.improveQuarkHept', {\n        amount: 2 * player.shopUpgrades.improveQuarkHept\n      })\n      break\n    case 'improveQuarkHept2':\n      lol.innerHTML = i18next.t('shop.upgradeEffects.improveQuarkHept2', {\n        amount: 2 * player.shopUpgrades.improveQuarkHept2\n      })\n      break\n    case 'improveQuarkHept3':\n      lol.innerHTML = i18next.t('shop.upgradeEffects.improveQuarkHept3', {\n        amount: 2 * player.shopUpgrades.improveQuarkHept3\n      })\n      break\n    case 'improveQuarkHept4':\n      lol.innerHTML = i18next.t('shop.upgradeEffects.improveQuarkHept4', {\n        amount: 2 * player.shopUpgrades.improveQuarkHept4\n      })\n      break\n    case 'shopImprovedDaily':\n      lol.innerHTML = i18next.t('shop.upgradeEffects.shopImprovedDaily', {\n        amount: format(5 * player.shopUpgrades.shopImprovedDaily)\n      })\n      break\n    case 'shopImprovedDaily2':\n      lol.innerHTML = i18next.t('shop.upgradeEffects.shopImprovedDaily2', {\n        amount1: player.shopUpgrades.shopImprovedDaily2,\n        amount2: player.shopUpgrades.shopImprovedDaily2 * 20\n      })\n      break\n    case 'shopImprovedDaily3':\n      lol.innerHTML = i18next.t('shop.upgradeEffects.shopImprovedDaily3', {\n        amount1: player.shopUpgrades.shopImprovedDaily3,\n        amount2: player.shopUpgrades.shopImprovedDaily3 * 15\n      })\n      break\n    case 'shopImprovedDaily4':\n      lol.innerHTML = i18next.t('shop.upgradeEffects.shopImprovedDaily4', {\n        amount1: player.shopUpgrades.shopImprovedDaily4,\n        amount2: player.shopUpgrades.shopImprovedDaily4 * 100\n      })\n      break\n    case 'offeringEX3':\n      lol.innerHTML = i18next.t('shop.upgradeEffects.offeringEX3', {\n        amount: format(\n          100 * (Math.pow(1.02, player.shopUpgrades.offeringEX3) - 1),\n          2,\n          true\n        )\n      })\n      break\n    case 'obtainiumEX3':\n      lol.innerHTML = i18next.t('shop.upgradeEffects.obtainiumEX3', {\n        amount: format(\n          100 * (Math.pow(1.02, player.shopUpgrades.obtainiumEX3) - 1),\n          2,\n          true\n        )\n      })\n      break\n    case 'improveQuarkHept5':\n      lol.innerHTML = i18next.t('shop.upgradeEffects.improveQuarkHept5', {\n        amount: format(player.shopUpgrades.improveQuarkHept5 / 25, 2, true)\n      })\n      break\n    case 'seasonPassInfinity':\n      lol.innerHTML = i18next.t('shop.upgradeEffects.seasonPassInfinity', {\n        amount: format(\n          100 * (Math.pow(1.02, player.shopUpgrades.seasonPassInfinity) - 1),\n          2,\n          true\n        )\n      })\n      break\n    case 'chronometerInfinity':\n      lol.innerHTML = i18next.t('shop.upgradeEffects.chronometerInfinity', {\n        amount: format(\n          100 * (Math.pow(1.01, player.shopUpgrades.chronometerInfinity) - 1),\n          2,\n          true\n        )\n      })\n      break\n    case 'shopSingularityPenaltyDebuff':\n      lol.innerHTML = i18next.t(\n        'shop.upgradeEffects.shopSingularityPenaltyDebuff',\n        {\n          amount1: format(player.singularityCount),\n          amount2: format(\n            player.singularityCount\n              - player.shopUpgrades.shopSingularityPenaltyDebuff\n          )\n        }\n      )\n      break\n    case 'shopAmbrosiaLuckMultiplier4':\n      lol.innerHTML = i18next.t(\n        'shop.upgradeEffects.shopAmbrosiaLuckMultiplier4',\n        {\n          amount: format(player.shopUpgrades.shopAmbrosiaLuckMultiplier4)\n        }\n      )\n      break\n    case 'shopOcteractAmbrosiaLuck':\n      lol.innerHTML = i18next.t(\n        'shop.upgradeEffects.shopOcteractAmbrosiaLuck',\n        {\n          amount: format(\n            player.shopUpgrades.shopOcteractAmbrosiaLuck\n              * (1 + Math.floor(Math.log10(player.totalWowOcteracts + 1)))\n          )\n        }\n      )\n      break\n    case 'shopAmbrosiaGeneration1':\n      lol.innerHTML = i18next.t('shop.upgradeEffects.shopAmbrosiaGeneration1', {\n        amount: format(player.shopUpgrades.shopAmbrosiaGeneration1)\n      })\n      break\n    case 'shopAmbrosiaGeneration2':\n      lol.innerHTML = i18next.t('shop.upgradeEffects.shopAmbrosiaGeneration2', {\n        amount: format(player.shopUpgrades.shopAmbrosiaGeneration2)\n      })\n      break\n    case 'shopAmbrosiaGeneration3':\n      lol.innerHTML = i18next.t('shop.upgradeEffects.shopAmbrosiaGeneration3', {\n        amount: format(player.shopUpgrades.shopAmbrosiaGeneration3)\n      })\n      break\n    case 'shopAmbrosiaGeneration4':\n      lol.innerHTML = i18next.t('shop.upgradeEffects.shopAmbrosiaGeneration4', {\n        amount: format(\n          player.shopUpgrades.shopAmbrosiaGeneration4 / 10,\n          1,\n          true\n        )\n      })\n      break\n    case 'shopAmbrosiaLuck1':\n      lol.innerHTML = i18next.t('shop.upgradeEffects.shopAmbrosiaLuck1', {\n        amount: format(2 * player.shopUpgrades.shopAmbrosiaLuck1)\n      })\n      break\n    case 'shopAmbrosiaLuck2':\n      lol.innerHTML = i18next.t('shop.upgradeEffects.shopAmbrosiaLuck2', {\n        amount: format(2 * player.shopUpgrades.shopAmbrosiaLuck2)\n      })\n      break\n    case 'shopAmbrosiaLuck3':\n      lol.innerHTML = i18next.t('shop.upgradeEffects.shopAmbrosiaLuck3', {\n        amount: format(2 * player.shopUpgrades.shopAmbrosiaLuck3)\n      })\n      break\n    case 'shopAmbrosiaLuck4':\n      lol.innerHTML = i18next.t('shop.upgradeEffects.shopAmbrosiaLuck4', {\n        amount: format(\n          (6 * player.shopUpgrades.shopAmbrosiaLuck4) / 10,\n          1,\n          true\n        )\n      })\n      break\n    case 'shopCashGrabUltra':\n      lol.innerHTML = i18next.t('shop.upgradeEffects.shopCashGrabUltra', {\n        amount: format(100 * (calculateCashGrabBlueberryBonus() - 1), 2, true),\n        amount2: format(100 * (calculateCashGrabCubeBonus() - 1), 2, true),\n        amount3: format(100 * (calculateCashGrabQuarkBonus() - 1), 2, true)\n      })\n      break\n    case 'shopAmbrosiaAccelerator':\n      lol.innerHTML = i18next.t('shop.upgradeEffects.shopAmbrosiaAccelerator', {\n        amount: format(0.2 * player.shopUpgrades.shopAmbrosiaAccelerator, 1, true),\n        amount2: format(\n          player.shopUpgrades.shopAmbrosiaAccelerator * 0.2 * G.ambrosiaCurrStats.ambrosiaGenerationSpeed,\n          0,\n          true\n        )\n      })\n      break\n    case 'shopEXUltra': {\n      const capacity = 125000 * player.shopUpgrades.shopEXUltra\n      lol.innerHTML = i18next.t('shop.upgradeEffects.shopEXUltra', {\n        amount: format(0.1 * Math.floor(Math.min(capacity, player.lifetimeAmbrosia) / 1000), 1, true)\n      })\n    }\n      break\n    case 'shopChronometerS': {\n      const singularity = player.singularityCount\n      const obtained = player.shopUpgrades.shopChronometerS > 0\n      lol.innerHTML = i18next.t('shop.upgradeEffects.shopChronometerS', {\n        amount: format(Math.max(0, 100 * (Math.pow(1.01, (singularity - 200) * +obtained) - 1)), 2, true)\n      })\n    }\n      break\n    case 'shopAmbrosiaUltra': {\n      const exaltCompletions = sumOfExaltCompletions()\n      lol.innerHTML = i18next.t('shop.upgradeEffects.shopAmbrosiaUltra', {\n        amount: format(player.shopUpgrades.shopAmbrosiaUltra * exaltCompletions, 0, true)\n      })\n    }\n      break\n    case 'shopSingularitySpeedup': {\n      const obtained = player.shopUpgrades.shopSingularitySpeedup > 0\n      lol.innerHTML = i18next.t('shop.upgradeEffects.shopSingularitySpeedup', {\n        amount: obtained ? 20 : 1\n      })\n      break\n    }\n    case 'shopSingularityPotency': {\n      const obtained = player.shopUpgrades.shopSingularityPotency > 0\n      lol.innerHTML = i18next.t('shop.upgradeEffects.shopSingularityPotency', {\n        amount: obtained ? 7.66 : 1\n      })\n    }\n      break\n    case 'shopSadisticRune': {\n      lol.innerHTML = i18next.t('shop.upgradeEffects.shopSadisticRune')\n    }\n  }\n}\n\n// strentax 07/21 Add function to convert code-name display to end-user friendly display of shop upgrades\nexport const friendlyShopName = (input: ShopUpgradeNames) => {\n  // TODO(i18n): add these under shop.names\n  const names: Record<ShopUpgradeNames, string> = {\n    offeringPotion: 'Offering Potion',\n    obtainiumPotion: 'Obtainium Potion',\n    offeringEX: 'Offering EX',\n    offeringAuto: 'Offering Auto',\n    obtainiumEX: 'Obtainium EX',\n    obtainiumAuto: 'Obtainium Auto',\n    instantChallenge: 'Instant Challenge Completions',\n    antSpeed: 'Ant Speed',\n    cashGrab: 'Cash Grab',\n    shopTalisman: 'the Plastic talisman',\n    seasonPass: 'Season Pass',\n    challengeExtension: 'Reincarnation Challenge EX',\n    challengeTome: 'Challenge 10 Requirement Reduce',\n    cubeToQuark: 'Cube Quarks +50%',\n    tesseractToQuark: 'Tesseract Quarks +50%',\n    hypercubeToQuark: 'Hypercube Quarks +50%',\n    seasonPass2: 'Season Pass 2',\n    seasonPass3: 'Season Pass 3',\n    chronometer: 'Chronometer 1',\n    infiniteAscent: 'Infinite Ascent',\n    calculator: 'PL-AT calculator',\n    calculator2: 'PL-AT X calculator',\n    calculator3: 'PL-AT \u03A9 calculator',\n    calculator4: 'PL-AT \u03B4 calculator',\n    calculator5: 'PL-AT \u0393 calculator',\n    calculator6: 'QUAAA-T calculator',\n    calculator7: 'PL-AT \u03A9\u03A9 calculator',\n    constantEX: 'Constant EX',\n    powderEX: 'Powder EX',\n    chronometer2: 'Chronometer 2',\n    chronometer3: 'Chronometer 3',\n    seasonPassY: 'Season Pass Y',\n    seasonPassZ: 'Season Pass Z',\n    challengeTome2: 'Challenge 10 Requirement Reduction 2',\n    instantChallenge2: 'Instant Challenge Completions 2',\n    cubeToQuarkAll: 'Quark Gain Cube Improvement 2',\n    cashGrab2: 'Cash Grab 2',\n    chronometerZ: 'Chronometer Z',\n    obtainiumEX2: 'Obtainium EX 2',\n    offeringEX2: 'Offering EX 2',\n    powderAuto: 'Automated Powder',\n    seasonPassLost: 'Season Pass LOST',\n    challenge15Auto: 'Challenge 15 Automation',\n    extraWarp: 'Extra Warp',\n    autoWarp: 'a quack powered Warps?',\n    improveQuarkHept: 'Quark Hepteract 1',\n    improveQuarkHept2: 'Quark Hepteract 2',\n    improveQuarkHept3: 'Quark Hepteract 3',\n    improveQuarkHept4: 'Quack Hepteract 4',\n    shopImprovedDaily: 'Improved Daily Code 1',\n    shopImprovedDaily2: 'Improved Daily Code 2',\n    shopImprovedDaily3: 'Improved Daily Code 3',\n    shopImprovedDaily4: 'Improved Daily Code 4',\n    offeringEX3: 'The final Offering Upgrade',\n    obtainiumEX3: 'The final Obtainium Upgrade',\n    improveQuarkHept5: 'The final Quark Hepteract Improver',\n    chronometerInfinity: 'The final Chronometer',\n    seasonPassInfinity: 'The final Season pass',\n    shopSingularityPenaltyDebuff: 'A Singularity Tenderizer',\n    shopAmbrosiaLuckMultiplier4: 'The Fourth Multiplicative Ambrosia Luck Multiplier',\n    shopOcteractAmbrosiaLuck: 'Octeract-Based Ambrosia Luck Amplifier',\n    shopAmbrosiaGeneration1: 'Ambrosia Generation Speedup',\n    shopAmbrosiaGeneration2: 'Another Ambrosia Generation Speedup',\n    shopAmbrosiaGeneration3: 'A better Ambrosia Generation Speedup',\n    shopAmbrosiaGeneration4: 'A FINAL Ambrosia Generation Speedup',\n    shopAmbrosiaLuck1: 'Ambrosia Luck Increaser',\n    shopAmbrosiaLuck2: 'Another Ambrosia Luck Increaser',\n    shopAmbrosiaLuck3: 'A better Ambrosia Generation Speedup',\n    shopAmbrosiaLuck4: 'A FINAL Ambrosia Generation Speedup',\n    shopCashGrabUltra: 'It\\'s the FINAL CASHGRAB!',\n    shopAmbrosiaAccelerator: 'An Ambrosial Accelerator!',\n    shopEXUltra: 'It\\'s the FINAL E X!',\n    shopChronometerS: 'The FINAL Chronometer',\n    shopAmbrosiaUltra: 'The FINAL Ambrosia Exaltation... I don\\'t flippin know!',\n    shopSingularitySpeedup: 'Singularity Timed-Perks Speedup',\n    shopSingularityPotency: 'Singularity Passives Potency',\n    shopSadisticRune: 'Sadistic Rune Unlock! Or does it?'\n  }\n\n  return names[input]\n}\n\nexport const buyShopUpgrades = async (input: ShopUpgradeNames) => {\n  const shopItem = shopData[input]\n\n  if (player.shopUpgrades[input] >= shopItem.maxLevel) {\n    return player.shopConfirmationToggle\n      ? Alert(\n        `You can't purchase ${\n          friendlyShopName(\n            input\n          )\n        } because you are already at the maximum ${shopItem.type === shopUpgradeTypes.UPGRADE ? 'level' : 'capacity'}!`\n      )\n      : null\n  } else if (Number(player.worlds) < getShopCosts(input)) {\n    return player.shopConfirmationToggle\n      ? Alert(\n        `You can't purchase ${\n          friendlyShopName(\n            input\n          )\n        } because you don't have enough Quarks!`\n      )\n      : null\n  }\n\n  // Actually lock for HTML exploit\n  if (!isShopUpgradeUnlocked(input)) {\n    return Alert(\n      `You do not have the right to purchase ${friendlyShopName(input)}!`\n    )\n  }\n\n  let buyData: IMultiBuy\n  const maxBuyAmount = shopItem.maxLevel - player.shopUpgrades[input]\n  let buyAmount: number\n  let buyCost: number\n  switch (player.shopBuyMaxToggle) {\n    case false:\n      buyAmount = 1\n      buyCost = getShopCosts(input)\n      break\n    case 'TEN':\n      buyData = calculateSummationNonLinear(\n        player.shopUpgrades[input],\n        shopItem.price,\n        +player.worlds,\n        shopItem.priceIncrease / shopItem.price,\n        Math.min(10, maxBuyAmount)\n      )\n      buyAmount = buyData.levelCanBuy - player.shopUpgrades[input]\n      buyCost = buyData.cost\n      break\n    default:\n      buyData = calculateSummationNonLinear(\n        player.shopUpgrades[input],\n        shopItem.price,\n        +player.worlds,\n        shopItem.priceIncrease / shopItem.price,\n        maxBuyAmount\n      )\n      buyAmount = buyData.levelCanBuy - player.shopUpgrades[input]\n      buyCost = buyData.cost\n  }\n\n  const singular = shopItem.maxLevel === 1\n  const merch = buyAmount.toLocaleString()\n    + (shopItem.type === shopUpgradeTypes.UPGRADE ? ' level' : ' vial')\n    + (buyAmount === 1 ? '' : 's')\n  const noRefunds = shopItem.refundable\n    ? ''\n    : '\\n\\n\\u26A0\\uFE0F !! No Refunds !! \\u26A0\\uFE0F'\n  const maxPots = shopItem.type === shopUpgradeTypes.CONSUMABLE\n    ? '\\n\\nType -1 in Buy: ANY to buy equal amounts of both Potions.'\n    : ''\n\n  if (player.shopBuyMaxToggle === 'ANY' && !singular) {\n    const buyInput = await Prompt(\n      `You can afford to purchase up to ${merch} of ${\n        friendlyShopName(\n          input\n        )\n      } for ${buyCost.toLocaleString()} Quarks. How many would you like to buy?${maxPots + noRefunds}`\n    )\n    let buyAny: number\n    if (\n      Number(buyInput) === -1\n      && shopItem.type === shopUpgradeTypes.CONSUMABLE\n    ) {\n      const other = input === 'offeringPotion' ? 'obtainiumPotion' : 'offeringPotion'\n      const toSpend = Math.max(+player.worlds / 2, +player.worlds - buyCost)\n      const otherPot: IMultiBuy = calculateSummationNonLinear(\n        player.shopUpgrades[other],\n        shopData[other].price,\n        toSpend,\n        shopData[other].priceIncrease / shopData[other].price,\n        shopData[other].maxLevel - player.shopUpgrades[other]\n      )\n      player.worlds.sub(otherPot.cost)\n      player.shopUpgrades[other] = otherPot.levelCanBuy\n      buyAny = buyAmount\n    } else {\n      buyAny = Math.floor(Number(buyInput))\n      if (buyAny === 0) {\n        return\n      } else if (\n        Number.isNaN(buyAny)\n        || !Number.isFinite(buyAny)\n        || buyAny < 0\n      ) {\n        return Alert('Amount must be a finite, positive integer.')\n      }\n    }\n    const anyData: IMultiBuy = calculateSummationNonLinear(\n      player.shopUpgrades[input],\n      shopItem.price,\n      +player.worlds,\n      shopItem.priceIncrease / shopItem.price,\n      Math.min(buyAny, buyAmount)\n    )\n    player.worlds.sub(anyData.cost)\n    player.shopUpgrades[input] = anyData.levelCanBuy\n    revealStuff()\n\n    G.ambrosiaCurrStats.ambrosiaLuck = calculateAmbrosiaLuck().value\n    G.ambrosiaCurrStats.ambrosiaAdditiveLuckMult = calculateAdditiveLuckMult().value\n    G.ambrosiaCurrStats.ambrosiaGenerationSpeed = calculateAmbrosiaGenerationSpeed().value\n    return\n  }\n\n  let p = true\n  if (\n    player.shopConfirmationToggle\n    || (!shopItem.refundable && player.shopBuyMaxToggle !== false)\n  ) {\n    p = await Confirm(\n      `You are about to ${singular ? 'unlock' : `purchase ${merch} of`} ${\n        friendlyShopName(\n          input\n        )\n      } for ${buyCost.toLocaleString()} Quarks. Press 'OK' to finalize purchase.${maxPots + noRefunds}`\n    )\n  }\n  if (p) {\n    player.worlds.sub(buyCost)\n    player.shopUpgrades[input] += buyAmount\n    G.ambrosiaCurrStats.ambrosiaLuck = calculateAmbrosiaLuck().value\n    G.ambrosiaCurrStats.ambrosiaAdditiveLuckMult = calculateAdditiveLuckMult().value\n    G.ambrosiaCurrStats.ambrosiaGenerationSpeed = calculateAmbrosiaGenerationSpeed().value\n    revealStuff()\n  }\n}\n\nexport const autoBuyConsumable = (input: ShopUpgradeNames) => {\n  const maxBuyablePotions = Math.floor(\n    Math.min(\n      Number(player.worlds) / 100,\n      Math.min(\n        shopData[input].maxLevel - player.shopUpgrades[input],\n        Math.pow(player.highestSingularityCount, 2) * 100\n      )\n    )\n  )\n\n  if (shopData[input].maxLevel <= player.shopUpgrades[input]) {\n    return\n  }\n  if (maxBuyablePotions <= 0) {\n    return\n  }\n\n  player.worlds.sub(100 * maxBuyablePotions)\n  player.shopUpgrades[input] += maxBuyablePotions\n}\n\nexport const useConsumable = async (\n  input: ShopUpgradeNames,\n  automatic = false,\n  used = 1,\n  spend = true\n) => {\n  const p = player.shopConfirmationToggle && !automatic\n    ? await Confirm('Would you like to use some of this potion?')\n    : true\n\n  if (p) {\n    const multiplier = +player.singularityUpgrades.potionBuff.getEffect().bonus\n      * +player.singularityUpgrades.potionBuff2.getEffect().bonus\n      * +player.singularityUpgrades.potionBuff3.getEffect().bonus\n      * +player.octeractUpgrades.octeractAutoPotionEfficiency.getEffect().bonus\n      * used\n\n    if (input === 'offeringPotion') {\n      if (player.shopUpgrades.offeringPotion >= used || !spend) {\n        player.shopUpgrades.offeringPotion -= spend ? used : 0\n        player.runeshards += Math.floor(\n          7200\n            * player.offeringpersecond\n            * calculateTimeAcceleration().mult\n            * multiplier\n        )\n        player.runeshards = Math.min(1e300, player.runeshards)\n      }\n    } else if (input === 'obtainiumPotion') {\n      if (player.shopUpgrades.obtainiumPotion >= used || !spend) {\n        player.shopUpgrades.obtainiumPotion -= spend ? used : 0\n        player.researchPoints += Math.floor(\n          7200\n            * player.maxobtainiumpersecond\n            * calculateTimeAcceleration().mult\n            * multiplier\n        )\n        player.researchPoints = Math.min(1e300, player.researchPoints)\n      }\n    }\n  }\n}\n\nexport const resetShopUpgrades = async (ignoreBoolean = false) => {\n  let p = false\n  if (!ignoreBoolean) {\n    p = player.shopConfirmationToggle\n      ? await Confirm(\n        'This will fully refund most of your permanent upgrades for an upfront cost of 15 Quarks. Would you like to do this?'\n      )\n      : true\n  }\n\n  if (p || ignoreBoolean) {\n    const singularityQuarks = player.quarksThisSingularity\n    let refunds = false\n    for (const shopItem in shopData) {\n      const key = shopItem as keyof typeof shopData\n      const item = shopData[key]\n      if (\n        item.refundable\n        && player.shopUpgrades[key] > item.refundMinimumLevel\n      ) {\n        refunds = true\n        // Determines how many quarks one would not be refunded, based on minimum refund level\n        const doNotRefund = item.price * item.refundMinimumLevel\n          + (item.priceIncrease\n              * item.refundMinimumLevel\n              * (item.refundMinimumLevel - 1))\n            / 2\n\n        // Refunds Quarks based on the shop level and price vals\n        player.worlds.add(\n          item.price * player.shopUpgrades[key]\n            + (item.priceIncrease\n                * player.shopUpgrades[key]\n                * (player.shopUpgrades[key] - 1))\n              / 2\n            - doNotRefund,\n          false\n        )\n\n        player.shopUpgrades[key] = item.refundMinimumLevel\n      }\n    }\n    if (refunds) {\n      player.worlds.sub(15)\n    } else if (!ignoreBoolean && player.shopConfirmationToggle) {\n      void Alert('Nothing to Refund!')\n    }\n    player.quarksThisSingularity = singularityQuarks\n  }\n}\n\nexport const getQuarkInvestment = (upgrade: ShopUpgradeNames) => {\n  if (!(upgrade in shopData) || !(upgrade in player.shopUpgrades)) {\n    return 0\n  }\n\n  const val = shopData[upgrade].price * player.shopUpgrades[upgrade]\n    + (shopData[upgrade].priceIncrease\n        * (player.shopUpgrades[upgrade] - 1)\n        * player.shopUpgrades[upgrade])\n      / 2\n\n  return val\n}\n\nexport const isShopUpgradeUnlocked = (upgrade: ShopUpgradeNames): boolean => {\n  switch (upgrade) {\n    case 'offeringPotion':\n      return true\n    case 'obtainiumPotion':\n      return true\n    case 'offeringEX':\n      return (\n        player.reincarnationCount > 0 || player.highestSingularityCount > 0\n      )\n    case 'offeringAuto':\n      return (\n        player.reincarnationCount > 0 || player.highestSingularityCount > 0\n      )\n    case 'obtainiumEX':\n      return (\n        player.reincarnationCount > 0 || player.highestSingularityCount > 0\n      )\n    case 'obtainiumAuto':\n      return (\n        player.reincarnationCount > 0 || player.highestSingularityCount > 0\n      )\n    case 'instantChallenge':\n      return (\n        player.reincarnationCount > 0 || player.highestSingularityCount > 0\n      )\n    case 'antSpeed':\n      return (\n        player.highestchallengecompletions[8] > 0\n        || player.ascensionCount > 0\n        || player.highestSingularityCount > 0\n      )\n    case 'cashGrab':\n      return (\n        player.highestchallengecompletions[8] > 0\n        || player.ascensionCount > 0\n        || player.highestSingularityCount > 0\n      )\n    case 'shopTalisman':\n      return (\n        player.highestchallengecompletions[9] > 0\n        || player.ascensionCount > 0\n        || player.highestSingularityCount > 0\n      )\n    case 'seasonPass':\n      return player.ascensionCount > 0 || player.highestSingularityCount > 0\n    case 'challengeExtension':\n      return player.ascensionCount > 0 || player.highestSingularityCount > 0\n    case 'challengeTome':\n      return player.ascensionCount > 0 || player.highestSingularityCount > 0\n    case 'cubeToQuark':\n      return player.ascensionCount > 0 || player.highestSingularityCount > 0\n    case 'tesseractToQuark':\n      return (\n        player.highestchallengecompletions[11] > 0\n        || player.highestSingularityCount > 0\n      )\n    case 'hypercubeToQuark':\n      return (\n        player.highestchallengecompletions[13] > 0\n        || player.highestSingularityCount > 0\n      )\n    case 'seasonPass2':\n      return (\n        player.highestchallengecompletions[14] > 0\n        || player.highestSingularityCount > 0\n      )\n    case 'seasonPass3':\n      return (\n        player.highestchallengecompletions[14] > 0\n        || player.highestSingularityCount > 0\n      )\n    case 'chronometer':\n      return (\n        player.highestchallengecompletions[12] > 0\n        || player.highestSingularityCount > 0\n      )\n    case 'infiniteAscent':\n      return (\n        player.highestchallengecompletions[14] > 0\n        || player.highestSingularityCount > 0\n      )\n    case 'calculator':\n      return player.ascensionCount > 0 || player.highestSingularityCount > 0\n    case 'calculator2':\n      return (\n        player.highestchallengecompletions[11] > 0\n        || player.highestSingularityCount > 0\n      )\n    case 'calculator3':\n      return (\n        player.highestchallengecompletions[13] > 0\n        || player.highestSingularityCount > 0\n      )\n    case 'calculator4':\n      return Boolean(player.singularityUpgrades.wowPass.getEffect().bonus)\n    case 'calculator5':\n      return Boolean(player.singularityUpgrades.wowPass2.getEffect().bonus)\n    case 'calculator6':\n      return Boolean(player.singularityUpgrades.wowPass3.getEffect().bonus)\n    case 'calculator7':\n      return Boolean(\n        player.singularityChallenges.limitedAscensions.rewards.shopUpgrade\n      )\n    case 'constantEX':\n      return (\n        player.highestchallengecompletions[14] > 0\n        || player.highestSingularityCount > 0\n      )\n    case 'powderEX':\n      return (\n        player.challenge15Exponent >= 1e15 || player.highestSingularityCount > 0\n      )\n    case 'chronometer2':\n      return (\n        player.challenge15Exponent >= 1e15 || player.highestSingularityCount > 0\n      )\n    case 'chronometer3':\n      return Boolean(player.singularityUpgrades.wowPass.getEffect().bonus)\n    case 'seasonPassY':\n      return (\n        player.challenge15Exponent >= 1e15 || player.highestSingularityCount > 0\n      )\n    case 'seasonPassZ':\n      return Boolean(player.singularityUpgrades.wowPass.getEffect().bonus)\n    case 'challengeTome2':\n      return Boolean(player.singularityUpgrades.wowPass.getEffect().bonus)\n    case 'instantChallenge2':\n      return Boolean(player.singularityUpgrades.wowPass.getEffect().bonus)\n    case 'cashGrab2':\n      return Boolean(player.singularityUpgrades.wowPass2.getEffect().bonus)\n    case 'cubeToQuarkAll':\n      return Boolean(player.singularityUpgrades.wowPass2.getEffect().bonus)\n    case 'chronometerZ':\n      return Boolean(player.singularityUpgrades.wowPass2.getEffect().bonus)\n    case 'offeringEX2':\n      return Boolean(player.singularityUpgrades.wowPass2.getEffect().bonus)\n    case 'obtainiumEX2':\n      return Boolean(player.singularityUpgrades.wowPass2.getEffect().bonus)\n    case 'powderAuto':\n      return Boolean(player.singularityUpgrades.wowPass2.getEffect().bonus)\n    case 'seasonPassLost':\n      return Boolean(player.singularityUpgrades.wowPass2.getEffect().bonus)\n    case 'challenge15Auto':\n      return Boolean(player.singularityUpgrades.wowPass3.getEffect().bonus)\n    case 'extraWarp':\n      return Boolean(player.singularityUpgrades.wowPass3.getEffect().bonus)\n    case 'autoWarp':\n      return Boolean(player.singularityUpgrades.wowPass3.getEffect().bonus)\n    case 'improveQuarkHept':\n      return (\n        player.challenge15Exponent >= 1e15 || player.highestSingularityCount > 0\n      )\n    case 'improveQuarkHept2':\n      return Boolean(player.singularityUpgrades.wowPass.getEffect().bonus)\n    case 'improveQuarkHept3':\n      return Boolean(player.singularityUpgrades.wowPass2.getEffect().bonus)\n    case 'improveQuarkHept4':\n      return Boolean(player.singularityUpgrades.wowPass3.getEffect().bonus)\n    case 'shopImprovedDaily':\n      return (\n        player.highestchallengecompletions[14] > 0\n        || player.highestSingularityCount > 0\n      )\n    case 'shopImprovedDaily2':\n      return Boolean(player.singularityUpgrades.wowPass.getEffect().bonus)\n    case 'shopImprovedDaily3':\n      return Boolean(player.singularityUpgrades.wowPass2.getEffect().bonus)\n    case 'shopImprovedDaily4':\n      return Boolean(player.singularityUpgrades.wowPass3.getEffect().bonus)\n    case 'offeringEX3':\n      return Boolean(player.singularityUpgrades.wowPass4.getEffect().bonus)\n    case 'obtainiumEX3':\n      return Boolean(player.singularityUpgrades.wowPass4.getEffect().bonus)\n    case 'improveQuarkHept5':\n      return Boolean(player.singularityUpgrades.wowPass4.getEffect().bonus)\n    case 'chronometerInfinity':\n      return Boolean(player.singularityUpgrades.wowPass4.getEffect().bonus)\n    case 'seasonPassInfinity':\n      return Boolean(player.singularityUpgrades.wowPass4.getEffect().bonus)\n    case 'shopSingularityPenaltyDebuff':\n      return Boolean(\n        player.singularityChallenges.noSingularityUpgrades.rewards.shopUpgrade\n      )\n    case 'shopAmbrosiaLuckMultiplier4':\n      return Boolean(\n        player.singularityChallenges.oneChallengeCap.rewards.shopUpgrade\n      )\n    case 'shopOcteractAmbrosiaLuck':\n      return Boolean(\n        player.singularityChallenges.noOcteracts.rewards.shopUpgrade\n      )\n    case 'shopAmbrosiaGeneration1':\n      return Boolean(player.singularityUpgrades.wowPass2.getEffect().bonus)\n    case 'shopAmbrosiaGeneration2':\n      return Boolean(player.singularityUpgrades.wowPass3.getEffect().bonus)\n    case 'shopAmbrosiaGeneration3':\n      return Boolean(player.singularityUpgrades.wowPass4.getEffect().bonus)\n    case 'shopAmbrosiaGeneration4':\n      return Boolean(player.singularityUpgrades.wowPass4.getEffect().bonus)\n    case 'shopAmbrosiaLuck1':\n      return Boolean(player.singularityUpgrades.wowPass2.getEffect().bonus)\n    case 'shopAmbrosiaLuck2':\n      return Boolean(player.singularityUpgrades.wowPass3.getEffect().bonus)\n    case 'shopAmbrosiaLuck3':\n      return Boolean(player.singularityUpgrades.wowPass4.getEffect().bonus)\n    case 'shopAmbrosiaLuck4':\n      return Boolean(player.singularityUpgrades.wowPass4.getEffect().bonus)\n    case 'shopCashGrabUltra':\n      return Boolean(player.singularityChallenges.noSingularityUpgrades.rewards.shopUpgrade2)\n    case 'shopAmbrosiaAccelerator':\n      return Boolean(player.singularityChallenges.noAmbrosiaUpgrades.rewards.shopUpgrade)\n    case 'shopEXUltra':\n      return Boolean(player.singularityChallenges.noAmbrosiaUpgrades.rewards.shopUpgrade2)\n    case 'shopChronometerS':\n      return Boolean(player.singularityChallenges.limitedTime.rewards.tier1Upgrade)\n    case 'shopAmbrosiaUltra':\n      return Boolean(player.singularityChallenges.limitedTime.rewards.tier2Upgrade)\n    case 'shopSingularitySpeedup':\n      return Boolean(player.singularityChallenges.sadisticPrequel.rewards.shopUpgrade)\n    case 'shopSingularityPotency':\n      return Boolean(player.singularityChallenges.sadisticPrequel.rewards.shopUpgrade2)\n    case 'shopSadisticRune':\n      return Boolean(player.singularityChallenges.sadisticPrequel.rewards.shopUpgrade3)\n  }\n}\n", "import i18next from 'i18next'\nimport { achievementaward } from './Achievements'\nimport { DOMCacheGetOrSet } from './Cache/DOM'\nimport { calculateRuneLevels } from './Calculate'\nimport { CalcECC } from './Challenges'\nimport { format, player } from './Synergism'\nimport { Globals as G } from './Variables'\n\nconst talismanResourceCosts = {\n  shard: {\n    obtainium: 1e13,\n    offerings: 1e2\n  },\n  commonFragment: {\n    obtainium: 1e14,\n    offerings: 1e4\n  },\n  uncommonFragment: {\n    obtainium: 1e16,\n    offerings: 1e5\n  },\n  rareFragment: {\n    obtainium: 1e18,\n    offerings: 1e6\n  },\n  epicFragment: {\n    obtainium: 1e20,\n    offerings: 1e7\n  },\n  legendaryFragment: {\n    obtainium: 1e22,\n    offerings: 1e8\n  },\n  mythicalFragment: {\n    obtainium: 1e24,\n    offerings: 1e9\n  }\n}\n\nconst num = ['One', 'Two', 'Three', 'Four', 'Five', 'Six', 'Seven'] as const\n\nexport const calculateMaxTalismanLevel = (i: number) => {\n  let maxLevel = 30 * player.talismanRarity[i]\n  maxLevel += 6 * CalcECC('ascension', player.challengecompletions[13])\n  maxLevel += Math.floor(player.researches[200] / 400)\n\n  if (player.cubeUpgrades[67] > 0 && i === 3) {\n    maxLevel += 1337\n  }\n\n  return maxLevel\n}\n\nconst getTalismanResourceInfo = (\n  type: keyof typeof talismanResourceCosts,\n  percentage = player.buyTalismanShardPercent\n) => {\n  const obtainiumCost = talismanResourceCosts[type].obtainium\n  const offeringCost = talismanResourceCosts[type].offerings\n\n  const maxBuyObtainium = Math.max(1, Math.floor(player.researchPoints / obtainiumCost))\n  const maxBuyOffering = Math.max(1, Math.floor(player.runeshards / offeringCost))\n  const amountToBuy = Math.max(1, Math.floor(percentage / 100 * Math.min(maxBuyObtainium, maxBuyOffering)))\n  const canBuy = obtainiumCost <= player.researchPoints && offeringCost <= player.runeshards\n  return {\n    canBuy, // Boolean, if false will not buy any fragments\n    buyAmount: amountToBuy, // Integer, will buy as specified above.\n    obtainiumCost: obtainiumCost * amountToBuy, // Integer, cost in obtainium to buy (buyAmount) resource\n    offeringCost: offeringCost * amountToBuy // Integer, cost in offerings to buy (buyAmount) resource\n  }\n}\n\nexport const updateTalismanCostDisplay = (\n  type: keyof typeof talismanResourceCosts | null,\n  percentage = player.buyTalismanShardPercent\n) => {\n  const el = DOMCacheGetOrSet('talismanFragmentCost')\n  if (type) {\n    const talismanCostInfo = getTalismanResourceInfo(type, percentage)\n    const talismanShardName = i18next.t(`runes.talismans.shards.${type}`)\n\n    el.textContent = i18next.t('runes.talismans.costToBuy', {\n      name: talismanShardName,\n      buyAmount: format(talismanCostInfo.buyAmount),\n      obtainium: format(talismanCostInfo.obtainiumCost),\n      offerings: format(talismanCostInfo.offeringCost)\n    })\n  } else {\n    // Buy All\n    el.textContent = i18next.t('runes.talismans.clickBuyEveryType')\n  }\n}\n\nexport const toggleTalismanBuy = (i = player.buyTalismanShardPercent) => {\n  DOMCacheGetOrSet('talismanTen').style.backgroundColor = ''\n  DOMCacheGetOrSet('talismanTwentyFive').style.backgroundColor = ''\n  DOMCacheGetOrSet('talismanFifty').style.backgroundColor = ''\n  DOMCacheGetOrSet('talismanHundred').style.backgroundColor = ''\n  player.buyTalismanShardPercent = i\n  let x = 'Ten'\n  if (i === 25) {\n    x = 'TwentyFive'\n  }\n  if (i === 50) {\n    x = 'Fifty'\n  }\n  if (i === 100) {\n    x = 'Hundred'\n  }\n\n  DOMCacheGetOrSet(`talisman${x}`).style.backgroundColor = 'green'\n}\n\nexport const updateTalismanInventory = () => {\n  DOMCacheGetOrSet('talismanShardInventory').textContent = format(player.talismanShards)\n  DOMCacheGetOrSet('commonFragmentInventory').textContent = format(player.commonFragments)\n  DOMCacheGetOrSet('uncommonFragmentInventory').textContent = format(player.uncommonFragments)\n  DOMCacheGetOrSet('rareFragmentInventory').textContent = format(player.rareFragments)\n  DOMCacheGetOrSet('epicFragmentInventory').textContent = format(player.epicFragments)\n  DOMCacheGetOrSet('legendaryFragmentInventory').textContent = format(player.legendaryFragments)\n  DOMCacheGetOrSet('mythicalFragmentInventory').textContent = format(player.mythicalFragments)\n}\n\nexport const buyAllTalismanResources = () => {\n  const talismanItemNames = [\n    'shard',\n    'commonFragment',\n    'uncommonFragment',\n    'rareFragment',\n    'epicFragment',\n    'legendaryFragment',\n    'mythicalFragment'\n  ] as const\n  for (let index = talismanItemNames.length - 1; index >= 0; index--) {\n    buyTalismanResources(talismanItemNames[index])\n  }\n}\n\nexport const buyTalismanResources = (\n  type: keyof typeof talismanResourceCosts,\n  percentage = player.buyTalismanShardPercent\n) => {\n  const talismanResourcesData = getTalismanResourceInfo(type, percentage)\n\n  if (talismanResourcesData.canBuy) {\n    if (type === 'shard') {\n      player.talismanShards += talismanResourcesData.buyAmount\n    } else {\n      player[`${type}s` as const] += talismanResourcesData.buyAmount\n    }\n    if (type === 'mythicalFragment' && player.mythicalFragments >= 1e25 && player.achievements[239] < 1) {\n      achievementaward(239)\n    }\n\n    player.researchPoints -= talismanResourcesData.obtainiumCost\n    player.runeshards -= talismanResourcesData.offeringCost\n\n    // When dealing with high values, calculations can be very slightly off due to floating point precision\n    // and result in buying slightly (usually 1) more than the player can actually afford.\n    // This results in negative obtainium or offerings with further calcs somehow resulting in NaN/undefined.\n    // Instead of trying to work around floating point limits, just make sure nothing breaks as a result.\n    // The calculation being done overall is similar to the following calculation:\n    // 2.9992198253874083e47 - (Math.floor(2.9992198253874083e47 / 1e20) * 1e20)\n    // which, for most values, returns 0, but values like this example will return a negative number instead.\n    if (player.researchPoints < 0) {\n      player.researchPoints = 0\n    }\n    if (player.runeshards < 0) {\n      player.runeshards = 0\n    }\n  }\n  updateTalismanCostDisplay(type, percentage)\n  updateTalismanInventory()\n}\n\nexport const showTalismanEffect = (i: number) => {\n  DOMCacheGetOrSet('talismanlevelup').style.display = 'none'\n  DOMCacheGetOrSet('talismanEffect').style.display = 'block'\n  DOMCacheGetOrSet('talismanrespec').style.display = 'none'\n  const a = DOMCacheGetOrSet('talismanSummary')\n  const b = DOMCacheGetOrSet('talismanBonus')\n  const c = DOMCacheGetOrSet('talismanRune1Effect')\n  const d = DOMCacheGetOrSet('talismanRune2Effect')\n  const e = DOMCacheGetOrSet('talismanRune3Effect')\n  const f = DOMCacheGetOrSet('talismanRune4Effect')\n  const g = DOMCacheGetOrSet('talismanRune5Effect')\n  const h = DOMCacheGetOrSet('talismanMythicEffect')\n\n  let talismanKey = ''\n  let effectValue = ''\n\n  switch (i) {\n    case 0:\n      talismanKey = 'exemption'\n      effectValue = format(10 * (player.talismanRarity[0] - 1))\n      break\n    case 1:\n      talismanKey = 'chronos'\n      effectValue = format(10 * (player.talismanRarity[1] - 1))\n      break\n    case 2:\n      talismanKey = 'midas'\n      effectValue = format(10 * (player.talismanRarity[2] - 1))\n      break\n    case 3:\n      talismanKey = 'metaphysics'\n      effectValue = format(0.02 * (player.talismanRarity[3] - 1), 2)\n      break\n    case 4:\n      talismanKey = 'polymath'\n      effectValue = format(1 * (player.talismanRarity[4] - 1))\n      break\n    case 5:\n      talismanKey = 'mortuus'\n      effectValue = format(2 * (player.talismanRarity[5] - 1))\n      break\n    case 6:\n      talismanKey = 'plastic'\n\n      break\n  }\n\n  const runeEffectName = `talisman${i + 1}Effect` as\n    | 'talisman1Effect'\n    | 'talisman2Effect'\n    | 'talisman3Effect'\n    | 'talisman4Effect'\n    | 'talisman5Effect'\n    | 'talisman6Effect'\n    | 'talisman7Effect'\n\n  a.textContent = i18next.t(`runes.talismans.summaries.${talismanKey}`)\n  b.textContent = i18next.t(`runes.talismans.effects.${talismanKey}`, { x: effectValue })\n  c.textContent = i18next.t('runes.talismans.bonusRuneLevels.speed', { x: format(G[runeEffectName][1], 2, true) })\n  d.textContent = i18next.t('runes.talismans.bonusRuneLevels.duplication', { x: format(G[runeEffectName][2], 2, true) })\n  e.textContent = i18next.t('runes.talismans.bonusRuneLevels.prism', { x: format(G[runeEffectName][3], 2, true) })\n  f.textContent = i18next.t('runes.talismans.bonusRuneLevels.thrift', { x: format(G[runeEffectName][4], 2, true) })\n  g.textContent = i18next.t('runes.talismans.bonusRuneLevels.SI', { x: format(G[runeEffectName][5], 2, true) })\n  h.textContent = i18next.t(`runes.talismans.mythicEffects.${talismanKey}`)\n\n  if (player.talismanRarity[i] !== 6) {\n    h.textContent = i18next.t('runes.talismans.maxEnhance')\n  }\n}\n\nexport const showTalismanPrices = (i: number) => {\n  DOMCacheGetOrSet('talismanEffect').style.display = 'none'\n  DOMCacheGetOrSet('talismanlevelup').style.display = 'block'\n  DOMCacheGetOrSet('talismanrespec').style.display = 'none'\n  const a = DOMCacheGetOrSet('talismanShardCost')\n  const b = DOMCacheGetOrSet('talismanCommonFragmentCost')\n  const c = DOMCacheGetOrSet('talismanUncommonFragmentCost')\n  const d = DOMCacheGetOrSet('talismanRareFragmentCost')\n  const e = DOMCacheGetOrSet('talismanEpicFragmentCost')\n  const f = DOMCacheGetOrSet('talismanLegendaryFragmentCost')\n  const g = DOMCacheGetOrSet('talismanMythicalFragmentCost')\n\n  DOMCacheGetOrSet('talismanLevelUpSummary').textContent = i18next.t('runes.resourcesToLevelup')\n  DOMCacheGetOrSet('talismanLevelUpSummary').style.color = 'silver'\n\n  let m = G.talismanLevelCostMultiplier[i]\n  if (player.talismanLevels[i] >= 120) {\n    m *= (player.talismanLevels[i] - 90) / 30\n  }\n  if (player.talismanLevels[i] >= 150) {\n    m *= (player.talismanLevels[i] - 120) / 30\n  }\n  if (player.talismanLevels[i] >= 180) {\n    m *= (player.talismanLevels[i] - 170) / 10\n  }\n  a.textContent = format(m * Math.max(0, Math.floor(1 + 1 / 8 * Math.pow(player.talismanLevels[i], 3))))\n  b.textContent = format(m * Math.max(0, Math.floor(1 + 1 / 32 * Math.pow(player.talismanLevels[i] - 30, 3))))\n  c.textContent = format(m * Math.max(0, Math.floor(1 + 1 / 384 * Math.pow(player.talismanLevels[i] - 60, 3))))\n  d.textContent = format(m * Math.max(0, Math.floor(1 + 1 / 500 * Math.pow(player.talismanLevels[i] - 90, 3))))\n  e.textContent = format(m * Math.max(0, Math.floor(1 + 1 / 375 * Math.pow(player.talismanLevels[i] - 120, 3))))\n  f.textContent = format(m * Math.max(0, Math.floor(1 + 1 / 192 * Math.pow(player.talismanLevels[i] - 150, 3))))\n  g.textContent = format(m * Math.max(0, Math.floor(1 + 1 / 1280 * Math.pow(player.talismanLevels[i] - 150, 3))))\n}\n\nexport const showEnhanceTalismanPrices = (i: number) => {\n  DOMCacheGetOrSet('talismanEffect').style.display = 'none'\n  DOMCacheGetOrSet('talismanlevelup').style.display = 'block'\n  DOMCacheGetOrSet('talismanrespec').style.display = 'none'\n  const a = DOMCacheGetOrSet('talismanShardCost')\n  const b = DOMCacheGetOrSet('talismanCommonFragmentCost')\n  const c = DOMCacheGetOrSet('talismanUncommonFragmentCost')\n  const d = DOMCacheGetOrSet('talismanRareFragmentCost')\n  const e = DOMCacheGetOrSet('talismanEpicFragmentCost')\n  const f = DOMCacheGetOrSet('talismanLegendaryFragmentCost')\n  const g = DOMCacheGetOrSet('talismanMythicalFragmentCost')\n\n  DOMCacheGetOrSet('talismanLevelUpSummary').textContent = i18next.t('runes.resourcesToEnhance')\n  DOMCacheGetOrSet('talismanLevelUpSummary').style.color = 'gold'\n\n  const array = [\n    G.commonTalismanEnhanceCost,\n    G.uncommonTalismanEnchanceCost,\n    G.rareTalismanEnchanceCost,\n    G.epicTalismanEnhanceCost,\n    G.legendaryTalismanEnchanceCost,\n    G.mythicalTalismanEnchanceCost\n  ]\n  const index = player.talismanRarity[i]\n  const costArray = array[index - 1]\n  const m = G.talismanLevelCostMultiplier[i]\n  a.textContent = format(m * costArray[1])\n  b.textContent = format(m * costArray[2])\n  c.textContent = format(m * costArray[3])\n  d.textContent = format(m * costArray[4])\n  e.textContent = format(m * costArray[5])\n  f.textContent = format(m * costArray[6])\n  g.textContent = format(m * costArray[7])\n}\n\nexport const showRespecInformation = (i: number) => {\n  G.talismanRespec = i\n  DOMCacheGetOrSet('talismanEffect').style.display = 'none'\n  DOMCacheGetOrSet('talismanlevelup').style.display = 'none'\n  DOMCacheGetOrSet('talismanrespec').style.display = 'block'\n\n  const runeName = ['speed', 'duplication', 'prism', 'thrift', 'SI']\n  const runeModifier = ['positive', 'positive', 'positive', 'positive', 'positive']\n  if (i <= 6) {\n    for (let k = 1; k <= 5; k++) {\n      G.mirrorTalismanStats[k] = player[`talisman${num[i]}` as const][k]\n    }\n    DOMCacheGetOrSet('confirmTalismanRespec').textContent = i18next.t('runes.talismans.respecConfirm')\n  }\n  if (i === 7) {\n    for (let k = 1; k <= 5; k++) {\n      G.mirrorTalismanStats[k] = 1\n    }\n    DOMCacheGetOrSet('confirmTalismanRespec').textContent = i18next.t('runes.talismans.respecConfirmAll')\n  }\n  for (let j = 1; j <= 5; j++) {\n    const el = DOMCacheGetOrSet(`talismanRespecButton${j}`)\n    if (G.mirrorTalismanStats[j] === 1) {\n      el.style.border = '2px solid limegreen'\n      runeModifier[j - 1] = 'positive'\n    } else if (G.mirrorTalismanStats[j] === -1) {\n      el.style.border = '2px solid crimson'\n      runeModifier[j - 1] = 'negative'\n    }\n    el.textContent = i18next.t(`runes.talismans.modifiers.${runeModifier[j - 1]}`, {\n      name: i18next.t(`runes.names.${runeName[j - 1]}`)\n    })\n  }\n\n  DOMCacheGetOrSet('confirmTalismanRespec').style.display = 'none'\n}\n\nexport const changeTalismanModifier = (i: number) => {\n  const runeName = [null, 'speed', 'duplication', 'prism', 'thrift', 'SI']\n  const el = DOMCacheGetOrSet(`talismanRespecButton${i}`)\n  if (G.mirrorTalismanStats[i] === 1) {\n    G.mirrorTalismanStats[i] = -1\n    el.textContent = i18next.t('runes.talismans.modifiers.negative', { name: i18next.t(`runes.names.${runeName[i]}`) })\n    el.style.border = '2px solid crimson'\n  } else {\n    G.mirrorTalismanStats[i] = 1\n    el.textContent = i18next.t('runes.talismans.modifiers.positive', { name: i18next.t(`runes.names.${runeName[i]}`) })\n    el.style.border = '2px solid limegreen'\n  }\n\n  const checkSum = G.mirrorTalismanStats.reduce((a, b) => a! + b!, 0)\n\n  if (checkSum === 1) {\n    DOMCacheGetOrSet('confirmTalismanRespec').style.display = 'block'\n  } else {\n    DOMCacheGetOrSet('confirmTalismanRespec').style.display = 'none'\n  }\n}\n\nexport const respecTalismanConfirm = (i: number) => {\n  if (player.runeshards >= 100000 && i < 7) {\n    for (let j = 1; j <= 5; j++) {\n      player[`talisman${num[i]}` as const][j] = G.mirrorTalismanStats[j]\n    }\n    player.runeshards -= 100000\n    DOMCacheGetOrSet('confirmTalismanRespec').style.display = 'none'\n    DOMCacheGetOrSet('talismanrespec').style.display = 'none'\n    DOMCacheGetOrSet('talismanEffect').style.display = 'block'\n    showTalismanEffect(i)\n  } else if (player.runeshards >= 400000 && i === 7) {\n    player.runeshards -= 400000\n    for (let j = 0; j < 7; j++) {\n      for (let k = 1; k <= 5; k++) {\n        player[`talisman${num[j]}` as const][k] = G.mirrorTalismanStats[k]\n      }\n    }\n    DOMCacheGetOrSet('confirmTalismanRespec').style.display = 'none'\n  }\n\n  calculateRuneLevels()\n}\n\nexport const respecTalismanCancel = (i: number) => {\n  DOMCacheGetOrSet('talismanrespec').style.display = 'none'\n  if (i < 7) {\n    DOMCacheGetOrSet('talismanEffect').style.display = 'block'\n    showTalismanEffect(i)\n  }\n}\n\nexport const updateTalismanAppearance = (i: number) => {\n  const el = DOMCacheGetOrSet(`talisman${i + 1}`)\n  const la = DOMCacheGetOrSet(`talisman${i + 1}level`)\n\n  const rarity = player.talismanRarity[i]\n  if (rarity === 1) {\n    el.style.border = '4px solid white'\n    la.style.color = 'white'\n  }\n  if (rarity === 2) {\n    el.style.border = '4px solid limegreen'\n    la.style.color = 'limegreen'\n  }\n  if (rarity === 3) {\n    el.style.border = '4px solid lightblue'\n    la.style.color = 'lightblue'\n  }\n  if (rarity === 4) {\n    el.style.border = '4px solid plum'\n    la.style.color = 'plum'\n  }\n  if (rarity === 5) {\n    el.style.border = '4px solid orange'\n    la.style.color = 'orange'\n  }\n  if (rarity === 6) {\n    el.style.border = '4px solid crimson'\n    la.style.color = 'var(--crimson-text-color)'\n  }\n}\n\n// Attempt to buy a fixed number of levels (number varies based on\n// ascension). Returns true if any levels were bought, false otherwise.\nexport const buyTalismanLevels = (i: number, auto = false): boolean => {\n  let max = 1\n  if (player.ascensionCount > 0) {\n    max = 30\n  }\n  if (player.highestSingularityCount > 0) {\n    max = 180\n  }\n  let hasPurchased = false\n  for (let j = 1; j <= max; j++) {\n    let checkSum = 0\n    let priceMult = G.talismanLevelCostMultiplier[i]\n    if (player.talismanLevels[i] >= 120) {\n      priceMult *= (player.talismanLevels[i] - 90) / 30\n    }\n    if (player.talismanLevels[i] >= 150) {\n      priceMult *= (player.talismanLevels[i] - 120) / 30\n    }\n    if (player.talismanLevels[i] >= 180) {\n      priceMult *= (player.talismanLevels[i] - 170) / 10\n    }\n\n    if (player.talismanLevels[i] < calculateMaxTalismanLevel(i)) {\n      if (\n        player.talismanShards >= priceMult * Math.max(0, Math.floor(1 + 1 / 8 * Math.pow(player.talismanLevels[i], 3)))\n      ) {\n        checkSum++\n      }\n      if (\n        player.commonFragments\n          >= priceMult * Math.max(0, Math.floor(1 + 1 / 32 * Math.pow(player.talismanLevels[i] - 30, 3)))\n      ) {\n        checkSum++\n      }\n      if (\n        player.uncommonFragments\n          >= priceMult * Math.max(0, Math.floor(1 + 1 / 384 * Math.pow(player.talismanLevels[i] - 60, 3)))\n      ) {\n        checkSum++\n      }\n      if (\n        player.rareFragments\n          >= priceMult * Math.max(0, Math.floor(1 + 1 / 500 * Math.pow(player.talismanLevels[i] - 90, 3)))\n      ) {\n        checkSum++\n      }\n      if (\n        player.epicFragments\n          >= priceMult * Math.max(0, Math.floor(1 + 1 / 375 * Math.pow(player.talismanLevels[i] - 120, 3)))\n      ) {\n        checkSum++\n      }\n      if (\n        player.legendaryFragments\n          >= priceMult * Math.max(0, Math.floor(1 + 1 / 192 * Math.pow(player.talismanLevels[i] - 150, 3)))\n      ) {\n        checkSum++\n      }\n      if (\n        player.mythicalFragments\n          >= priceMult * Math.max(0, Math.floor(1 + 1 / 1280 * Math.pow(player.talismanLevels[i] - 150, 3)))\n      ) {\n        checkSum++\n      }\n    }\n\n    if (checkSum === 7) {\n      player.talismanShards -= priceMult * Math.max(0, Math.floor(1 + 1 / 8 * Math.pow(player.talismanLevels[i], 3)))\n      player.commonFragments -= priceMult\n        * Math.max(0, Math.floor(1 + 1 / 32 * Math.pow(player.talismanLevels[i] - 30, 3)))\n      player.uncommonFragments -= priceMult\n        * Math.max(0, Math.floor(1 + 1 / 384 * Math.pow(player.talismanLevels[i] - 60, 3)))\n      player.rareFragments -= priceMult\n        * Math.max(0, Math.floor(1 + 1 / 500 * Math.pow(player.talismanLevels[i] - 90, 3)))\n      player.epicFragments -= priceMult\n        * Math.max(0, Math.floor(1 + 1 / 375 * Math.pow(player.talismanLevels[i] - 120, 3)))\n      player.legendaryFragments -= priceMult\n        * Math.max(0, Math.floor(1 + 1 / 192 * Math.pow(player.talismanLevels[i] - 150, 3)))\n      player.mythicalFragments -= priceMult\n        * Math.max(0, Math.floor(1 + 1 / 1280 * Math.pow(player.talismanLevels[i] - 150, 3)))\n      player.talismanLevels[i] += 1\n      hasPurchased = true\n    } else {\n      break\n    }\n  }\n\n  if (!auto && hasPurchased) {\n    showTalismanPrices(i)\n    // When adding game state recalculations, update the talisman autobuyer in tack() as well\n    updateTalismanInventory()\n    calculateRuneLevels()\n  }\n\n  return hasPurchased\n}\n\nexport const buyTalismanEnhance = (i: number, auto = false): boolean => {\n  let checkSum = 0\n  if (player.talismanRarity[i] < 6) {\n    const priceMult = G.talismanLevelCostMultiplier[i]\n    const array = [\n      G.commonTalismanEnhanceCost,\n      G.uncommonTalismanEnchanceCost,\n      G.rareTalismanEnchanceCost,\n      G.epicTalismanEnhanceCost,\n      G.legendaryTalismanEnchanceCost,\n      G.mythicalTalismanEnchanceCost\n    ]\n    const index = player.talismanRarity[i] - 1\n    const costArray = array[index]\n    if (player.commonFragments >= priceMult * costArray[2]) {\n      checkSum++\n    }\n    if (player.uncommonFragments >= priceMult * costArray[3]) {\n      checkSum++\n    }\n    if (player.rareFragments >= priceMult * costArray[4]) {\n      checkSum++\n    }\n    if (player.epicFragments >= priceMult * costArray[5]) {\n      checkSum++\n    }\n    if (player.legendaryFragments >= priceMult * costArray[6]) {\n      checkSum++\n    }\n    if (player.mythicalFragments >= priceMult * costArray[7]) {\n      checkSum++\n    }\n\n    if (checkSum === 6) {\n      player.commonFragments -= priceMult * costArray[2]\n      player.uncommonFragments -= priceMult * costArray[3]\n      player.rareFragments -= priceMult * costArray[4]\n      player.epicFragments -= priceMult * costArray[5]\n      player.legendaryFragments -= priceMult * costArray[6]\n      player.mythicalFragments -= priceMult * costArray[7]\n      player.talismanRarity[i] += 1\n\n      // Appearance always needs updating if bought\n      updateTalismanAppearance(i)\n      if (!auto) {\n        showEnhanceTalismanPrices(i)\n        // When adding game state recalculations, update the talisman autobuyer in tack() as well\n        updateTalismanInventory()\n        calculateRuneLevels()\n      }\n\n      return true\n    }\n  }\n  return false\n}\n", "import i18next from 'i18next'\nimport { DOMCacheGetOrSet } from './Cache/DOM'\nimport { calculateAdditiveLuckMult, calculateAmbrosiaGenerationSpeed, calculateAmbrosiaLuck } from './Calculate'\nimport { format, getTimePinnedToLoadDate, player } from './Synergism'\nimport { Alert, revealStuff } from './UpdateHTML'\nimport { Globals as G } from './Variables'\n\nexport enum BuffType {\n  Quark = 0,\n  GoldenQuark = 1,\n  Cubes = 2,\n  PowderConversion = 3,\n  AscensionSpeed = 4,\n  GlobalSpeed = 5,\n  AscensionScore = 6,\n  AntSacrifice = 7,\n  Offering = 8,\n  Obtainium = 9,\n  Octeract = 10,\n  BlueberryTime = 11,\n  AmbrosiaLuck = 12,\n  OneMind = 13\n}\n\ninterface GameEvent {\n  name: string[]\n  url: string[]\n  start: number\n  end: number\n  quark: number\n  goldenQuark: number\n  cubes: number\n  powderConversion: number\n  ascensionSpeed: number\n  globalSpeed: number\n  ascensionScore: number\n  antSacrifice: number\n  offering: number\n  obtainium: number\n  octeract: number\n  blueberryTime: number\n  ambrosiaLuck: number\n  oneMind: number\n  color: string[]\n}\n\nlet nowEvent: GameEvent | null = null\n\nexport const getEvent = () => nowEvent\n\nexport const eventCheck = async () => {\n  if (!player.dayCheck) {\n    return\n  }\n\n  const response = await fetch('https://synergism.cc/api/v2/events/get')\n\n  if (!response.ok) {\n    throw new Error('God fucking dammit')\n  }\n\n  const apiEvents = await response.json() as GameEvent\n\n  nowEvent = null\n\n  const now = new Date(getTimePinnedToLoadDate()).getTime()\n\n  if (now >= apiEvents.start && now <= apiEvents.end && apiEvents.name.length) {\n    nowEvent = apiEvents\n  }\n\n  const happyHolidays = DOMCacheGetOrSet('happyHolidays') as HTMLAnchorElement\n  const eventBuffs = DOMCacheGetOrSet('eventBuffs')\n  const updateIsEventCheck = G.isEvent\n\n  if (nowEvent) {\n    G.isEvent = true\n    const buffs: string[] = []\n\n    for (let i = 0; i < eventBuffType.length; i++) {\n      const eventBuff = calculateEventSourceBuff(BuffType[eventBuffType[i]])\n\n      if (eventBuff !== 0) {\n        if (eventBuffType[i] === 'OneMind' && player.singularityUpgrades.oneMind.level > 0) {\n          buffs.push(\n            `<span style=\"color: gold\">${eventBuff >= 0 ? '+' : '-'}${format(100 * eventBuff, 3, true)}% ${\n              eventBuffName[i]\n            }</span>`\n          )\n        } else if (eventBuffType[i] !== 'OneMind' || player.singularityUpgrades.oneMind.level === 0) {\n          buffs.push(`${eventBuff >= 0 ? '+' : '-'}${format(100 * eventBuff, 2, true)}% ${eventBuffName[i]}`)\n        }\n      }\n    }\n\n    DOMCacheGetOrSet('eventCurrent').textContent = i18next.t('settings.events.activeUntil', {\n      x: new Date(nowEvent.end)\n    })\n\n    eventBuffs.innerHTML = G.isEvent && buffs.length ? `Current Buffs: ${buffs.join(', ')}` : ''\n    // eventBuffs.style.color = 'lime';\n    happyHolidays.innerHTML = `(${nowEvent.name.length}) ${nowEvent.name.join(', ')}`\n    happyHolidays.style.color = nowEvent.color[Math.floor(Math.random() * nowEvent.color.length)]\n    happyHolidays.href = nowEvent.url.length > 0 ? nowEvent.url[Math.floor(Math.random() * nowEvent.url.length)] : '#'\n  } else {\n    G.isEvent = false\n    DOMCacheGetOrSet('eventCurrent').innerHTML = i18next.t('settings.events.inactive')\n    eventBuffs.textContent = ''\n    eventBuffs.style.color = 'var(--red-text-color)'\n    happyHolidays.innerHTML = ''\n    happyHolidays.href = ''\n  }\n\n  if (G.isEvent !== updateIsEventCheck) {\n    revealStuff()\n    G.ambrosiaCurrStats.ambrosiaAdditiveLuckMult = calculateAdditiveLuckMult().value\n    G.ambrosiaCurrStats.ambrosiaLuck = calculateAmbrosiaLuck().value\n    G.ambrosiaCurrStats.ambrosiaGenerationSpeed = calculateAmbrosiaGenerationSpeed().value\n  }\n}\n\nconst eventBuffType: (keyof typeof BuffType)[] = [\n  'Quark',\n  'GoldenQuark',\n  'Cubes',\n  'PowderConversion',\n  'AscensionSpeed',\n  'GlobalSpeed',\n  'AscensionScore',\n  'AntSacrifice',\n  'Offering',\n  'Obtainium',\n  'Octeract',\n  'BlueberryTime',\n  'AmbrosiaLuck',\n  'OneMind'\n]\nconst eventBuffName = [\n  'Quarks',\n  'Golden Quarks',\n  'Cubes from all type',\n  'Powder Conversion',\n  'Ascension Speed',\n  'Global Speed',\n  'Ascension Score',\n  'Ant Sacrifice rewards',\n  'Offering',\n  'Obtainium',\n  'Eight Dimensional Hypercubes',\n  'Blueberry Time Generation',\n  'Ambrosia Luck (Additive Mult)',\n  'One Mind Quark Bonus'\n]\n\nexport const calculateEventSourceBuff = (buff: BuffType): number => {\n  const event = getEvent()\n\n  if (event === null) {\n    return 0\n  }\n\n  switch (buff) {\n    case BuffType.Quark:\n      return event.quark ?? 0\n    case BuffType.GoldenQuark:\n      return event.goldenQuark ?? 0\n    case BuffType.Cubes:\n      return event.cubes ?? 0\n    case BuffType.PowderConversion:\n      return event.powderConversion ?? 0\n    case BuffType.AscensionSpeed:\n      return event.ascensionSpeed ?? 0\n    case BuffType.GlobalSpeed:\n      return event.globalSpeed ?? 0\n    case BuffType.AscensionScore:\n      return event.ascensionScore ?? 0\n    case BuffType.AntSacrifice:\n      return event.antSacrifice ?? 0\n    case BuffType.Offering:\n      return event.offering ?? 0\n    case BuffType.Obtainium:\n      return event.obtainium ?? 0\n    case BuffType.Octeract:\n      return event.octeract ?? 0\n    case BuffType.OneMind:\n      return player.singularityUpgrades.oneMind.level > 0 ? event.oneMind : 0\n    case BuffType.BlueberryTime:\n      return event.blueberryTime ?? 0\n    case BuffType.AmbrosiaLuck:\n      return event.ambrosiaLuck ?? 0\n  }\n}\n\nexport const clickSmith = (): Promise<void> => {\n  G.eventClicked = true\n  DOMCacheGetOrSet('eventClicked').style.display = 'block'\n  return Alert(i18next.t('event.aprilFools.clicked'))\n}\n", "import Decimal from 'break_infinity.js'\nimport { DOMCacheGetOrSet } from './Cache/DOM'\nimport {\n  calculateAllCubeMultiplier,\n  calculateAmbrosiaGenerationSpeed,\n  calculateAmbrosiaLuck,\n  calculateAmbrosiaQuarkMult,\n  calculateAscensionSpeedMultiplier,\n  calculateCashGrabQuarkBonus,\n  calculateCorruptionPoints,\n  calculateCubeMultiplier,\n  calculateEffectiveIALevel,\n  calculateEventBuff,\n  calculateEXALTBonusMult,\n  calculateEXUltraObtainiumBonus,\n  calculateGoldenQuarkMultiplier,\n  calculateHepteractMultiplier,\n  calculateHypercubeMultiplier,\n  calculateOcteractMultiplier,\n  calculateOfferings,\n  calculatePlatonicMultiplier,\n  calculatePowderConversion,\n  calculateQuarkMultFromPowder,\n  calculateQuarkMultiplier,\n  calculateSigmoid,\n  calculateSigmoidExponential,\n  calculateSingularityQuarkMilestoneMultiplier,\n  calculateTesseractMultiplier,\n  calculateTimeAcceleration,\n  calculateTotalOcteractObtainiumBonus,\n  calculateTotalOcteractQuarkBonus\n} from './Calculate'\nimport { CalcECC, challenge15ScoreMultiplier } from './Challenges'\nimport { BuffType } from './Event'\nimport { hepteractEffective } from './Hepteracts'\nimport {\n  addCodeAvailableUses,\n  addCodeBonuses,\n  addCodeInterval,\n  addCodeMaxUses,\n  addCodeTimeToNextUse\n} from './ImportExport'\nimport { calculateSingularityDebuff } from './singularity'\nimport { format, formatTimeShort, player } from './Synergism'\nimport type { GlobalVariables } from './types/Synergism'\nimport { Globals as G } from './Variables'\n\nconst associated = new Map<string, string>([\n  ['kMisc', 'miscStats'],\n  ['kFreeAccel', 'acceleratorStats'],\n  ['kFreeMult', 'multiplierStats'],\n  ['kOfferingMult', 'offeringMultiplierStats'],\n  ['kObtMult', 'obtainiumMultiplierStats'],\n  ['kGlobalCubeMult', 'globalCubeMultiplierStats'],\n  ['kQuarkMult', 'globalQuarkMultiplierStats'],\n  ['kGSpeedMult', 'globalSpeedMultiplierStats'],\n  ['kCubeMult', 'cubeMultiplierStats'],\n  ['kTessMult', 'tesseractMultiplierStats'],\n  ['kHypercubeMult', 'hypercubeMultiplierStats'],\n  ['kPlatMult', 'platonicMultiplierStats'],\n  ['kHeptMult', 'hepteractMultiplierStats'],\n  ['kOrbPowderMult', 'powderMultiplierStats'],\n  ['kOctMult', 'octeractMultiplierStats'],\n  ['kASCMult', 'ascensionSpeedMultiplierStats'],\n  ['kGQMult', 'goldenQuarkMultiplierStats'],\n  ['kAddStats', 'addCodeStats'],\n  ['kAmbrosiaLuck', 'ambrosiaLuckStats'],\n  ['kAmbrosiaGenMult', 'ambrosiaGenerationStats']\n])\n\nexport const displayStats = (btn: HTMLElement) => {\n  for (const e of Array.from(btn.parentElement!.children) as HTMLElement[]) {\n    const statsEl = DOMCacheGetOrSet(associated.get(e.id)!)\n    if (e.id !== btn.id) {\n      e.style.backgroundColor = ''\n      statsEl.style.display = 'none'\n      statsEl.classList.remove('activeStats')\n    } else {\n      e.style.backgroundColor = 'crimson'\n      statsEl.style.display = 'block'\n      statsEl.classList.add('activeStats')\n    }\n  }\n}\n\nexport const loadStatisticsUpdate = () => {\n  const activeStats = document.getElementsByClassName(\n    'activeStats'\n  ) as HTMLCollectionOf<HTMLElement>\n  for (let i = 0; i < activeStats.length; i++) {\n    switch (activeStats[i].id) {\n      case 'miscStats':\n        loadStatisticsMiscellaneous()\n        break\n      case 'acceleratorStats':\n        loadStatisticsAccelerator()\n        break\n      case 'multiplierStats':\n        loadStatisticsMultiplier()\n        break\n      case 'offeringMultiplierStats':\n        loadStatisticsOfferingMultipliers()\n        break\n      case 'obtainiumMultiplierStats':\n        loadObtainiumMultipliers()\n        break\n      case 'globalQuarkMultiplierStats':\n        loadQuarkMultiplier()\n        break\n      case 'globalSpeedMultiplierStats':\n        loadGlobalSpeedMultiplier()\n        break\n      case 'powderMultiplierStats':\n        loadPowderMultiplier()\n        break\n      case 'ascensionSpeedMultiplierStats':\n        loadStatisticsAscensionSpeedMultipliers()\n        break\n      case 'goldenQuarkMultiplierStats':\n        loadStatisticsGoldenQuarkMultipliers()\n        break\n      case 'addCodeStats':\n        loadAddCodeModifiersAndEffects()\n        break\n      case 'ambrosiaLuckStats':\n        loadStatisticsAmbrosiaLuck()\n        break\n      case 'ambrosiaGenerationStats':\n        loadStatisticsAmbrosiaGeneration()\n        break\n      default:\n        loadStatisticsCubeMultipliers()\n        break\n    }\n  }\n}\n\nexport const loadStatisticsMiscellaneous = () => {\n  DOMCacheGetOrSet('sMisc1').textContent = format(\n    player.prestigeCount,\n    0,\n    true\n  )\n  DOMCacheGetOrSet('sMisc2').textContent = `${\n    format(\n      1000 * player.fastestprestige\n    )\n  }ms`\n  DOMCacheGetOrSet('sMisc3').textContent = format(player.maxofferings)\n  DOMCacheGetOrSet('sMisc4').textContent = format(G.runeSum)\n  DOMCacheGetOrSet('sMisc5').textContent = format(\n    player.transcendCount,\n    0,\n    true\n  )\n  DOMCacheGetOrSet('sMisc6').textContent = `${\n    format(\n      1000 * player.fastesttranscend\n    )\n  }ms`\n  DOMCacheGetOrSet('sMisc7').textContent = format(\n    player.reincarnationCount,\n    0,\n    true\n  )\n  DOMCacheGetOrSet('sMisc8').textContent = `${\n    format(\n      1000 * player.fastestreincarnate\n    )\n  }ms`\n  DOMCacheGetOrSet('sMisc9').textContent = format(player.maxobtainium)\n  DOMCacheGetOrSet('sMisc10').textContent = format(\n    player.maxobtainiumpersecond,\n    2,\n    true\n  )\n  DOMCacheGetOrSet('sMisc11').textContent = format(\n    player.obtainiumpersecond,\n    2,\n    true\n  )\n  DOMCacheGetOrSet('sMisc12').textContent = format(\n    player.ascensionCount,\n    0,\n    true\n  )\n  DOMCacheGetOrSet('sMisc13').textContent = format(\n    player.quarksThisSingularity,\n    0,\n    true\n  )\n  DOMCacheGetOrSet('sMisc14').textContent = format(\n    player.totalQuarksEver + player.quarksThisSingularity,\n    0,\n    true\n  )\n  DOMCacheGetOrSet('sMisc15').textContent = `${\n    formatTimeShort(\n      player.quarkstimer\n    )\n  } / ${formatTimeShort(90000 + 18000 * player.researches[195])}`\n  DOMCacheGetOrSet('sMisc16').textContent = synergismStage(0)\n}\n\nexport const loadStatisticsAccelerator = () => {\n  DOMCacheGetOrSet('sA1').textContent = `+${\n    format(\n      G.freeUpgradeAccelerator,\n      0,\n      false\n    )\n  }`\n  DOMCacheGetOrSet('sA2').textContent = `+${\n    format(\n      G.totalAcceleratorBoost\n        * (4\n          + 2 * player.researches[18]\n          + 2 * player.researches[19]\n          + 3 * player.researches[20]\n          + G.cubeBonusMultiplier[1]),\n      0,\n      false\n    )\n  }`\n  DOMCacheGetOrSet('sA3').textContent = `+${\n    format(\n      Math.floor(Math.pow((G.rune1level * G.effectiveLevelMult) / 10, 1.1)),\n      0,\n      true\n    )\n  }`\n  DOMCacheGetOrSet('sA4').textContent = `x${\n    format(\n      1 + ((G.rune1level * 1) / 200) * G.effectiveLevelMult,\n      3,\n      true\n    )\n  }`\n  DOMCacheGetOrSet('sA5').textContent = `x${\n    format(\n      Math.pow(\n        1.01,\n        player.upgrades[21]\n          + player.upgrades[22]\n          + player.upgrades[23]\n          + player.upgrades[24]\n          + player.upgrades[25]\n      ),\n      3,\n      true\n    )\n  }`\n  DOMCacheGetOrSet('sA6').textContent = `x${\n    format(\n      Math.pow(\n        1.01,\n        player.achievements[60]\n          + player.achievements[61]\n          + player.achievements[62]\n      ),\n      3,\n      true\n    )\n  }`\n  DOMCacheGetOrSet('sA7').textContent = `x${\n    format(\n      1 + (1 / 5) * player.researches[1],\n      3,\n      true\n    )\n  }`\n  DOMCacheGetOrSet('sA8').textContent = `x${\n    format(\n      1\n        + (1 / 20) * player.researches[6]\n        + (1 / 25) * player.researches[7]\n        + (1 / 40) * player.researches[8]\n        + (3 / 200) * player.researches[9]\n        + (1 / 200) * player.researches[10],\n      3,\n      true\n    )\n  }`\n  DOMCacheGetOrSet('sA9').textContent = `x${\n    format(\n      1 + (1 / 20) * player.researches[86],\n      3,\n      true\n    )\n  }`\n  DOMCacheGetOrSet('sA10').textContent = `x${\n    format(\n      (player.currentChallenge.transcension !== 0\n          || player.currentChallenge.reincarnation !== 0)\n        && player.upgrades[50] > 0.5\n        ? 1.25\n        : 1,\n      3,\n      true\n    )\n  }`\n  DOMCacheGetOrSet('sA11').textContent = `^${\n    format(\n      Math.min(\n        1,\n        (1 + player.platonicUpgrades[6] / 30)\n          * G.viscosityPower[player.usedCorruptions[2]]\n      ),\n      3,\n      true\n    )\n  }`\n  DOMCacheGetOrSet('sA12').textContent = format(G.freeAccelerator, 0, true)\n}\n\nexport const loadStatisticsMultiplier = () => {\n  DOMCacheGetOrSet('sM1').textContent = `+${\n    format(\n      G.freeUpgradeMultiplier,\n      0,\n      true\n    )\n  }`\n  DOMCacheGetOrSet('sM2').textContent = `+${\n    format(\n      (Math.floor(\n        (Math.floor((G.rune2level / 10) * G.effectiveLevelMult)\n          * Math.floor(10 + (G.rune2level / 10) * G.effectiveLevelMult))\n          / 2\n      )\n        * 100)\n        / 100,\n      0,\n      true\n    )\n  }`\n  DOMCacheGetOrSet('sM3').textContent = `x${\n    format(\n      1 + (G.rune2level / 200) * G.effectiveLevelMult,\n      3,\n      true\n    )\n  }`\n  DOMCacheGetOrSet('sM4').textContent = `x${\n    format(\n      Math.pow(\n        1.01,\n        player.upgrades[21]\n          + player.upgrades[22]\n          + player.upgrades[23]\n          + player.upgrades[24]\n          + player.upgrades[25]\n      )\n        * (1 + (player.upgrades[34] * 3) / 100)\n        * (1 + player.upgrades[34] * (2 / 103)),\n      3,\n      true\n    )\n  }`\n  DOMCacheGetOrSet('sM5').textContent = `x${\n    format(\n      Math.pow(\n        1.01,\n        player.achievements[57]\n          + player.achievements[58]\n          + player.achievements[59]\n      ),\n      3,\n      true\n    )\n  }`\n  DOMCacheGetOrSet('sM6').textContent = `x${\n    format(\n      1 + (1 / 5) * player.researches[2],\n      3,\n      true\n    )\n  }`\n  DOMCacheGetOrSet('sM7').textContent = `x${\n    format(\n      1\n        + (1 / 20) * player.researches[11]\n        + (1 / 25) * player.researches[12]\n        + (1 / 40) * player.researches[13]\n        + (3 / 200) * player.researches[14]\n        + (1 / 200) * player.researches[15],\n      3,\n      true\n    )\n  }`\n  DOMCacheGetOrSet('sM8').textContent = `x${\n    format(\n      1 + (1 / 20) * player.researches[87],\n      3,\n      true\n    )\n  }`\n  DOMCacheGetOrSet('sM9').textContent = `x${\n    format(\n      calculateSigmoidExponential(\n        40,\n        (((player.antUpgrades[4]! + G.bonusant5) / 1000) * 40) / 39\n      ),\n      2,\n      true\n    )\n  }`\n  DOMCacheGetOrSet('sM10').textContent = `x${\n    format(\n      G.cubeBonusMultiplier[2],\n      3,\n      true\n    )\n  }`\n  DOMCacheGetOrSet('sM11').textContent = `x${\n    format(\n      (player.currentChallenge.transcension !== 0\n          || player.currentChallenge.reincarnation !== 0)\n        && player.upgrades[50] > 0.5\n        ? 1.25\n        : 1,\n      3,\n      true\n    )\n  }`\n  DOMCacheGetOrSet('sM12').textContent = `^${\n    format(\n      Math.min(\n        1,\n        (1 + player.platonicUpgrades[6] / 30)\n          * G.viscosityPower[player.usedCorruptions[2]]\n      ),\n      3,\n      true\n    )\n  }`\n  DOMCacheGetOrSet('sM13').textContent = format(G.freeMultiplier, 3, true)\n}\nexport const loadQuarkMultiplier = () => {\n  DOMCacheGetOrSet('sGQM1').textContent = `x${format(1, 3, true)}` // Base\n  DOMCacheGetOrSet('sGQM2').textContent = `+${\n    format(\n      player.achievementPoints / 25000,\n      3,\n      true\n    )\n  }` // AP\n  DOMCacheGetOrSet('sGQM3').textContent = `+${\n    format(\n      player.achievements[250] > 0 ? 0.1 : 0,\n      3,\n      true\n    )\n  }` // Max r8x25\n  DOMCacheGetOrSet('sGQM4').textContent = `+${\n    format(\n      player.achievements[251] > 0 ? 0.1 : 0,\n      3,\n      true\n    )\n  }` // Max w5x10\n  DOMCacheGetOrSet('sGQM5').textContent = `+${\n    format(\n      player.platonicUpgrades[5] > 0 ? 0.2 : 0,\n      3,\n      true\n    )\n  }` // ALPHA\n  DOMCacheGetOrSet('sGQM6').textContent = `+${\n    format(\n      player.platonicUpgrades[10] > 0 ? 0.25 : 0,\n      3,\n      true\n    )\n  }` // BETA\n  DOMCacheGetOrSet('sGQM7').textContent = `+${\n    format(\n      player.platonicUpgrades[15] > 0 ? 0.3 : 0,\n      3,\n      true\n    )\n  }` // OMEGA\n  DOMCacheGetOrSet('sGQM8').textContent = `+${\n    format(\n      G.challenge15Rewards.quarks - 1,\n      3,\n      true\n    )\n  }` // Challenge 15 Reward\n  DOMCacheGetOrSet('sGQM9').textContent = `x${\n    format(\n      player.worlds.applyBonus(1 / calculateQuarkMultiplier()),\n      3,\n      true\n    )\n  }` // Patreon Bonus\n  DOMCacheGetOrSet('sGQM10').textContent = `x${\n    format(\n      G.isEvent\n        ? 1\n          + calculateEventBuff(BuffType.Quark)\n          + calculateEventBuff(BuffType.OneMind)\n        : 1,\n      3,\n      true\n    )\n  }` // Event\n  DOMCacheGetOrSet('sGQM11').textContent = `x${\n    format(\n      calculateEffectiveIALevel() > 0\n        ? 1.1 + (0.15 / 75) * calculateEffectiveIALevel()\n        : 1.0,\n      3,\n      true\n    )\n  }` // IA Rune\n  DOMCacheGetOrSet('sGQM12').textContent = `x${\n    format(\n      player.challenge15Exponent >= 1e15\n        ? 1 + (5 / 10000) * hepteractEffective('quark')\n        : 1,\n      3,\n      true\n    )\n  }` // Quark Hepteract\n  DOMCacheGetOrSet('sGQM13').textContent = `x${\n    format(\n      calculateQuarkMultFromPowder(),\n      3,\n      true\n    )\n  }` // Powder\n  DOMCacheGetOrSet('sGQM14').textContent = `x${\n    format(\n      1 + player.achievements[266] * Math.min(0.1, player.ascensionCount / 1e16),\n      3,\n      true\n    )\n  }` // Achievement 266 [Max: 10% at 1Qa Ascensions]\n  DOMCacheGetOrSet('sGQM15').textContent = `x${\n    format(\n      1 + player.singularityCount / 10,\n      3,\n      true\n    )\n  }` // Singularity\n  DOMCacheGetOrSet('sGQM16').textContent = `x${\n    format(\n      calculateSingularityQuarkMilestoneMultiplier(),\n      3,\n      true\n    )\n  }` // Singularity Milestones\n  DOMCacheGetOrSet('sGQM17').textContent = `x${\n    format(\n      1 + (0.1 * player.cubeUpgrades[53]) / 100,\n      3,\n      true\n    )\n  }` // Cube Upgrade 6x3 (Cx3)\n  DOMCacheGetOrSet('sGQM18').textContent = `x${\n    format(\n      1\n        + (1 / 10000) * player.cubeUpgrades[68]\n        + 0.05 * Math.floor(player.cubeUpgrades[68] / 1000),\n      3,\n      true\n    )\n  }`\n  DOMCacheGetOrSet('sGQM19').textContent = `x${\n    format(\n      1\n        + 0.02 * player.singularityUpgrades.intermediatePack.level // 1.02\n        + 0.04 * player.singularityUpgrades.advancedPack.level // 1.06\n        + 0.06 * player.singularityUpgrades.expertPack.level // 1.12\n        + 0.08 * player.singularityUpgrades.masterPack.level // 1.20\n        + 0.1 * player.singularityUpgrades.divinePack.level,\n      3,\n      true\n    )\n  }`\n  DOMCacheGetOrSet('sGQM20').textContent = `x${\n    format(\n      1 + 0.4 * +player.octeractUpgrades.octeractStarter.getEffect().bonus,\n      3,\n      true\n    )\n  }`\n  DOMCacheGetOrSet('sGQM21').textContent = `x${\n    format(\n      +player.octeractUpgrades.octeractQuarkGain.getEffect().bonus,\n      3,\n      true\n    )\n  }`\n  DOMCacheGetOrSet('sGQM22').textContent = `x${\n    format(\n      calculateTotalOcteractQuarkBonus(),\n      3,\n      true\n    )\n  }`\n  DOMCacheGetOrSet('sGQM23').textContent = `x${\n    format(\n      1 + +player.singularityUpgrades.singQuarkImprover1.getEffect().bonus,\n      3,\n      true\n    )\n  }`\n  DOMCacheGetOrSet('sGQM24').textContent = `x${\n    format(\n      1\n        + (1 / 10000)\n          * Math.floor(player.octeractUpgrades.octeractQuarkGain.level / 199)\n          * player.octeractUpgrades.octeractQuarkGain2.level\n          * Math.floor(\n            1 + Math.log10(Math.max(1, player.hepteractCrafts.quark.BAL))\n          ),\n      3,\n      true\n    )\n  }`\n  DOMCacheGetOrSet('sGQM25').textContent = `x${\n    format(\n      calculateAmbrosiaQuarkMult(),\n      2,\n      true\n    )\n  }`\n  DOMCacheGetOrSet('sGQM26').textContent = `x${\n    format(\n      +player.blueberryUpgrades.ambrosiaTutorial.bonus.quarks,\n      2,\n      true\n    )\n  }`\n  DOMCacheGetOrSet('sGQM27').textContent = `x${\n    format(\n      +player.blueberryUpgrades.ambrosiaQuarks1.bonus.quarks,\n      2,\n      true\n    )\n  }`\n  DOMCacheGetOrSet('sGQM28').textContent = `x${\n    format(\n      +player.blueberryUpgrades.ambrosiaCubeQuark1.bonus.quarks,\n      2,\n      true\n    )\n  }`\n  DOMCacheGetOrSet('sGQM29').textContent = `x${\n    format(\n      +player.blueberryUpgrades.ambrosiaLuckQuark1.bonus.quarks,\n      2,\n      true\n    )\n  }`\n  DOMCacheGetOrSet('sGQM30').textContent = `x${\n    format(\n      +player.blueberryUpgrades.ambrosiaQuarks2.bonus.quarks,\n      2,\n      true\n    )\n  }`\n  DOMCacheGetOrSet('sGQM31').textContent = `x${format(calculateCashGrabQuarkBonus(), 3, true)}`\n  DOMCacheGetOrSet('sGQM32').textContent = `x${format(1 + +player.singularityChallenges.limitedTime.rewards.quarkMult, 2, true)}`\n  DOMCacheGetOrSet('sGQM33').textContent = `x${format(1 + +player.singularityChallenges.sadisticPrequel.rewards.quarkMult, 2, true)}`\n  DOMCacheGetOrSet('sGQM34').textContent = `x${format(player.highestSingularityCount === 0 ? 1.25 : 1, 2, true)}` // Buff in s0\n\n  DOMCacheGetOrSet('sGQMT').textContent = `x${\n    format(\n      player.worlds.applyBonus(1),\n      3,\n      true\n    )\n  }`\n}\n\nexport const loadGlobalSpeedMultiplier = () => {\n  const globalSpeedStats = calculateTimeAcceleration()\n\n  const preDRlist = globalSpeedStats.preList\n  for (let i = 0; i < preDRlist.length; i++) {\n    DOMCacheGetOrSet(`sGSMa${i + 1}`).textContent = `x${\n      format(\n        preDRlist[i],\n        3,\n        true\n      )\n    }`\n  }\n\n  const drList = globalSpeedStats.drList\n  for (let i = 0; i < drList.length; i++) {\n    DOMCacheGetOrSet(`sGSMb${i + 1}`).textContent = `x${\n      format(\n        drList[i],\n        3,\n        true\n      )\n    }`\n  }\n\n  const postDRlist = globalSpeedStats.postList\n  for (let i = 0; i < postDRlist.length; i++) {\n    DOMCacheGetOrSet(`sGSMc${i + 1}`).textContent = `x${\n      format(\n        postDRlist[i],\n        3,\n        true\n      )\n    }`\n  }\n\n  DOMCacheGetOrSet('sGSMT').textContent = format(globalSpeedStats.mult, 3)\n}\n\nexport const loadStatisticsCubeMultipliers = () => {\n  const arr0 = calculateAllCubeMultiplier().list\n  const map0: Record<number, { acc: number; desc: string }> = {\n    1: { acc: 2, desc: 'Ascension Time Multiplier:' },\n    2: { acc: 2, desc: 'Sun and Moon Achievements:' },\n    3: { acc: 2, desc: 'Speed Achievement:' },\n    4: { acc: 2, desc: 'Challenge 15 All Cube Bonus:' },\n    5: { acc: 2, desc: 'Rune 6 - Infinite Ascent:' },\n    6: { acc: 2, desc: 'Platonic Beta:' },\n    7: { acc: 2, desc: 'Platonic Omega:' },\n    8: { acc: 2, desc: 'Overflux Powder:' },\n    9: { acc: 2, desc: 'Event:' },\n    10: { acc: 2, desc: 'Singularity Factor:' },\n    11: { acc: 2, desc: 'Wow Pass Y' },\n    12: { acc: 2, desc: 'Starter Pack:' },\n    13: { acc: 2, desc: 'Cube Flame [GQ]:' },\n    14: { acc: 2, desc: 'Cube Blaze [GQ]:' },\n    15: { acc: 2, desc: 'Cube Inferno [GQ]:' },\n    16: { acc: 2, desc: 'Wow Pass Z:' },\n    17: { acc: 2, desc: 'Cookie Upgrade 16:' },\n    18: { acc: 2, desc: 'Cookie Upgrade 8:' },\n    19: { acc: 2, desc: 'Total Octeract Bonus:' },\n    20: { acc: 2, desc: 'No Singularity Upgrades Challenge:' },\n    21: { acc: 2, desc: 'Citadel [GQ]' },\n    22: { acc: 2, desc: 'Citadel 2 [GQ]' },\n    23: { acc: 4, desc: 'Platonic DELTA' },\n    24: { acc: 2, desc: 'Wow Pass \u221E' },\n    25: { acc: 2, desc: 'Unspent Ambrosia Bonus' },\n    26: { acc: 2, desc: 'Module- Tutorial' },\n    27: { acc: 2, desc: 'Module- Cubes 1' },\n    28: { acc: 2, desc: 'Module- Luck-Cube 1' },\n    29: { acc: 2, desc: 'Module- Quark-Cube 1' },\n    30: { acc: 2, desc: 'Module- Cubes 2' },\n    31: { acc: 2, desc: 'Module- Hyperflux' },\n    32: { acc: 2, desc: '20 Ascensions X20 Bonus [EXALT ONLY]' },\n    33: { acc: 2, desc: 'Cash Grab ULTIMATE' },\n    34: { acc: 2, desc: 'Shop EX ULTIMATE' },\n    35: { acc: 2, desc: 'Exalt 6 Penalty (for being too slow!)' }\n  }\n  for (let i = 0; i < arr0.length; i++) {\n    const statGCMi = DOMCacheGetOrSet(`statGCM${i + 1}`)\n    statGCMi.childNodes[0].textContent = map0[i + 1].desc\n    DOMCacheGetOrSet(`sGCM${i + 1}`).textContent = `x${\n      format(\n        arr0[i],\n        map0[i + 1].acc,\n        true\n      )\n    }`\n  }\n\n  DOMCacheGetOrSet('sGCMT').textContent = `x${\n    format(\n      calculateAllCubeMultiplier().mult,\n      3\n    )\n  }`\n\n  const arr = calculateCubeMultiplier().list\n  const map: Record<number, { acc: number; desc: string }> = {\n    1: { acc: 2, desc: 'Ascension Score Multiplier:' },\n    2: { acc: 2, desc: 'Global Cube Multiplier:' },\n    3: { acc: 2, desc: 'Season Pass 1:' },\n    4: { acc: 2, desc: 'Researches (Except 8x25):' },\n    5: { acc: 2, desc: 'Research 8x25:' },\n    6: { acc: 2, desc: 'Cube Upgrades:' },\n    7: { acc: 2, desc: 'Constant Upgrade 10:' },\n    8: { acc: 2, desc: 'Achievement 189 Bonus:' },\n    9: { acc: 2, desc: 'Achievement 193 Bonus:' },\n    10: { acc: 2, desc: 'Achievement 195 Bonus:' },\n    11: { acc: 2, desc: 'Achievement 198-201 Bonus:' },\n    12: { acc: 2, desc: 'Achievement 254 Bonus:' },\n    13: { acc: 2, desc: 'Spirit Power:' },\n    14: { acc: 2, desc: 'Platonic Cubes:' },\n    15: { acc: 2, desc: 'Platonic 1x1:' },\n    16: { acc: 2, desc: 'Cookie Upgrade 13:' }\n  }\n  for (let i = 0; i < arr.length; i++) {\n    const statCMi = DOMCacheGetOrSet(`statCM${i + 1}`)\n    statCMi.childNodes[0].textContent = map[i + 1].desc\n    DOMCacheGetOrSet(`sCM${i + 1}`).textContent = `x${\n      format(\n        arr[i],\n        map[i + 1].acc,\n        true\n      )\n    }`\n  }\n  // PLAT\n  DOMCacheGetOrSet('sCMT').textContent = `x${\n    format(\n      calculateCubeMultiplier().mult,\n      3\n    )\n  }`\n\n  const arr2 = calculateTesseractMultiplier().list\n  const map2: Record<number, { acc: number; desc: string }> = {\n    1: { acc: 2, desc: 'Ascension Score Multiplier:' },\n    2: { acc: 2, desc: 'Global Cube Multiplier:' },\n    3: { acc: 2, desc: 'Season Pass 1:' },\n    4: { acc: 2, desc: 'Constant Upgrade 10:' },\n    5: { acc: 2, desc: 'Cube Upgrade 3x10:' },\n    6: { acc: 2, desc: 'Cube Upgrade 4x8:' },\n    7: { acc: 2, desc: 'Achievement 195 Bonus:' },\n    8: { acc: 2, desc: 'Achievement 202 Bonus:' },\n    9: { acc: 2, desc: 'Achievement 205-208 Bonus:' },\n    10: { acc: 2, desc: 'Achievement 255 Bonus:' },\n    11: { acc: 2, desc: 'Platonic Cubes:' },\n    12: { acc: 2, desc: 'Platonic 1x2:' }\n  }\n  for (let i = 0; i < arr2.length; i++) {\n    const statTeMi = DOMCacheGetOrSet(`statTeM${i + 1}`)\n    statTeMi.childNodes[0].textContent = map2[i + 1].desc\n    DOMCacheGetOrSet(`sTeM${i + 1}`).textContent = `x${\n      format(\n        arr2[i],\n        map2[i + 1].acc,\n        true\n      )\n    }`\n  }\n\n  DOMCacheGetOrSet('sTeMT').textContent = `x${\n    format(\n      calculateTesseractMultiplier().mult,\n      3\n    )\n  }`\n\n  const arr3 = calculateHypercubeMultiplier().list\n  const map3: Record<number, { acc: number; desc: string }> = {\n    1: { acc: 2, desc: 'Ascension Score Multiplier:' },\n    2: { acc: 2, desc: 'Global Cube Multiplier:' },\n    3: { acc: 2, desc: 'Season Pass 2:' },\n    4: { acc: 2, desc: 'Achievement 212-215 Bonus:' },\n    5: { acc: 2, desc: 'Achievement 216 Bonus:' },\n    6: { acc: 2, desc: 'Achievement 253 Bonus:' },\n    7: { acc: 2, desc: 'Achievement 256 Bonus:' },\n    8: { acc: 2, desc: 'Achievement 265 Bonus:' },\n    9: { acc: 2, desc: 'Platonic Cubes:' },\n    10: { acc: 2, desc: 'Platonic 1x3:' },\n    11: { acc: 2, desc: 'Hyperreal Hepteract Bonus:' }\n  }\n  for (let i = 0; i < arr3.length; i++) {\n    const statHyMi = DOMCacheGetOrSet(`statHyM${i + 1}`)\n    statHyMi.childNodes[0].textContent = map3[i + 1].desc\n    DOMCacheGetOrSet(`sHyM${i + 1}`).textContent = `x${\n      format(\n        arr3[i],\n        map3[i + 1].acc,\n        true\n      )\n    }`\n  }\n\n  DOMCacheGetOrSet('sHyMT').textContent = `x${\n    format(\n      calculateHypercubeMultiplier().mult,\n      3\n    )\n  }`\n\n  const arr4 = calculatePlatonicMultiplier().list\n  const map4: Record<number, { acc: number; desc: string }> = {\n    1: { acc: 2, desc: 'Ascension Score Multiplier:' },\n    2: { acc: 2, desc: 'Global Cube Multiplier:' },\n    3: { acc: 2, desc: 'Season Pass 2:' },\n    4: { acc: 2, desc: 'Achievement 196 Bonus:' },\n    5: { acc: 2, desc: 'Achievement 219-222 Bonus:' },\n    6: { acc: 2, desc: 'Achievement 223 Bonus:' },\n    7: { acc: 2, desc: 'Achievement 257 Bonus:' },\n    8: { acc: 2, desc: 'Platonic Cubes:' },\n    9: { acc: 2, desc: 'Platonic 1x4:' }\n  }\n  for (let i = 0; i < arr4.length; i++) {\n    const statPlMi = DOMCacheGetOrSet(`statPlM${i + 1}`)\n    statPlMi.childNodes[0].textContent = map4[i + 1].desc\n    DOMCacheGetOrSet(`sPlM${i + 1}`).textContent = `x${\n      format(\n        arr4[i],\n        map4[i + 1].acc,\n        true\n      )\n    }`\n  }\n\n  DOMCacheGetOrSet('sPlMT').textContent = `x${\n    format(\n      calculatePlatonicMultiplier().mult,\n      3\n    )\n  }`\n\n  const arr5 = calculateHepteractMultiplier().list\n  const map5: Record<number, { acc: number; desc: string }> = {\n    1: { acc: 2, desc: 'Ascension Score Multiplier:' },\n    2: { acc: 2, desc: 'Global Cube Multiplier:' },\n    3: { acc: 2, desc: 'Season Pass 3:' },\n    4: { acc: 2, desc: 'Achievement 258 Bonus:' },\n    5: { acc: 2, desc: 'Achievement 264 Bonus:' },\n    6: { acc: 2, desc: 'Achievement 265 Bonus:' },\n    7: { acc: 2, desc: 'Achievement 270 Bonus:' }\n  }\n  for (let i = 0; i < arr5.length; i++) {\n    const statHeMi = DOMCacheGetOrSet(`statHeM${i + 1}`)\n    statHeMi.childNodes[0].textContent = map5[i + 1].desc\n    DOMCacheGetOrSet(`sHeM${i + 1}`).textContent = `x${\n      format(\n        arr5[i],\n        map5[i + 1].acc,\n        true\n      )\n    }`\n  }\n\n  DOMCacheGetOrSet('sHeMT').textContent = `x${\n    format(\n      calculateHepteractMultiplier().mult,\n      3\n    )\n  }`\n\n  const octMults = calculateOcteractMultiplier()\n  const ascensionSpeedDesc = player.singularityUpgrades.oneMind.getEffect()\n      .bonus\n    ? 'One Mind Multiplier'\n    : 'Ascension Speed Multiplier'\n  const map6: Record<number, { acc: number; desc: string }> = {\n    1: { acc: 2, desc: 'Ascension Score Multiplier:' },\n    2: { acc: 2, desc: 'Season Pass 3:' },\n    3: { acc: 2, desc: 'Season Pass Y:' },\n    4: { acc: 2, desc: 'Season Pass Z:' },\n    5: { acc: 2, desc: 'Season Pass Lost:' },\n    6: { acc: 2, desc: 'Cookie Upgrade 20:' },\n    7: { acc: 2, desc: 'Divine Pack:' },\n    8: { acc: 2, desc: 'Cube Flame:' },\n    9: { acc: 2, desc: 'Cube Blaze:' },\n    10: { acc: 2, desc: 'Cube Inferno:' },\n    11: { acc: 2, desc: 'Octeract Absinthe' },\n    12: { acc: 2, desc: 'Pieces of Eight' },\n    13: { acc: 2, desc: 'Obelisk Shaped Like an Octagon' },\n    14: { acc: 2, desc: 'Octahedral Synthesis' },\n    15: { acc: 2, desc: 'Eighth Wonder of the World' },\n    16: { acc: 2, desc: 'Platonic is a fat sellout' },\n    17: { acc: 2, desc: 'Octeracts for Dummies' },\n    18: { acc: 2, desc: 'Octeract Cogenesis' },\n    19: { acc: 2, desc: 'Octeract Trigenesis' },\n    20: { acc: 2, desc: 'Singularity Factor' },\n    21: { acc: 2, desc: 'Digital Octeract Accumulator' },\n    22: { acc: 2, desc: 'Event Buff' },\n    23: { acc: 2, desc: 'Platonic DELTA' },\n    24: { acc: 2, desc: 'No Singularity Upgrades Challenge' },\n    25: { acc: 2, desc: 'Wow Pass \u221E' },\n    26: { acc: 2, desc: 'Unspent Ambrosia Bonus' },\n    27: { acc: 2, desc: 'Module- Tutorial' },\n    28: { acc: 2, desc: 'Module- Cubes 1' },\n    29: { acc: 2, desc: 'Module- Luck-Cube 1' },\n    30: { acc: 2, desc: 'Module- Quark-Cube 1' },\n    31: { acc: 2, desc: 'Module- Cubes 2' },\n    32: { acc: 2, desc: 'Cash Grab ULTIMATE' },\n    33: { acc: 2, desc: 'Shop EX ULTIMATE' },\n    34: { acc: 2, desc: ascensionSpeedDesc }\n  }\n  for (let i = 0; i < octMults.list.length; i++) {\n    const statOcMi = DOMCacheGetOrSet(`statOcM${i + 1}`)\n    statOcMi.childNodes[0].textContent = map6[i + 1].desc\n    DOMCacheGetOrSet(`sOcM${i + 1}`).textContent = `x${\n      format(\n        octMults.list[i],\n        map6[i + 1].acc,\n        true\n      )\n    }`\n  }\n\n  DOMCacheGetOrSet('sOcMT').textContent = `x${format(octMults.mult, 3)}`\n}\n\nexport const loadStatisticsOfferingMultipliers = () => {\n  const arr = calculateOfferings('prestige', false)\n  const map: Record<number, { acc: number; desc: string }> = {\n    1: { acc: 3, desc: 'Alchemy Achievement 5:' },\n    2: { acc: 3, desc: 'Alchemy Achievement 6:' },\n    3: { acc: 3, desc: 'Alchemy Achievement 7:' },\n    4: { acc: 3, desc: 'Diamond Upgrade 4x3:' },\n    5: { acc: 3, desc: 'Particle Upgrade 3x5:' },\n    6: { acc: 3, desc: 'Auto Offering Shop Upgrade:' },\n    7: { acc: 3, desc: 'Offering EX Shop Upgrade:' },\n    8: { acc: 3, desc: 'Cash Grab Shop Upgrade:' },\n    9: { acc: 3, desc: 'Research 4x10:' },\n    10: { acc: 3, desc: 'Sacrificium Formicidae:' },\n    11: { acc: 3, desc: 'Plutus Cube Tribute:' },\n    12: { acc: 3, desc: 'Constant Upgrade 3:' },\n    13: { acc: 3, desc: 'Research 6x24,8x4:' },\n    14: { acc: 3, desc: 'Challenge 12:' },\n    15: { acc: 3, desc: 'Research 8x25:' },\n    16: { acc: 3, desc: 'Ascension Count Achievement:' },\n    17: { acc: 3, desc: 'Sun and Moon Achievements:' },\n    18: { acc: 3, desc: 'Cube Upgrade 5x6:' },\n    19: { acc: 3, desc: 'Cube Upgrade 5x10:' },\n    20: { acc: 3, desc: 'Platonic ALPHA:' },\n    21: { acc: 3, desc: 'Platonic BETA:' },\n    22: { acc: 3, desc: 'Platonic OMEGA:' },\n    23: { acc: 3, desc: 'Challenge 15:' },\n    24: { acc: 3, desc: 'Starter Pack:' },\n    25: { acc: 3, desc: 'Offering Charge [GQ]:' },\n    26: { acc: 3, desc: 'Offering Storm [GQ]:' },\n    27: { acc: 3, desc: 'Offering Tempest [GQ]:' },\n    28: { acc: 3, desc: 'Citadel [GQ]' },\n    29: { acc: 3, desc: 'Citadel 2 [GQ]' },\n    30: { acc: 3, desc: 'Cube Upgrade Cx4:' },\n    31: { acc: 3, desc: 'Offering Electrolosis [OC]:' },\n    32: { acc: 3, desc: 'RNG-based Offering Booster:' },\n    33: { acc: 3, desc: '20 Ascensions X20 [EXALT ONLY]' },\n    34: { acc: 3, desc: 'Shop EX ULTIMATE' },\n    35: { acc: 3, desc: 'Event:' }\n  }\n  for (let i = 0; i < arr.length; i++) {\n    const statOffi = DOMCacheGetOrSet(`statOff${i + 1}`)\n    statOffi.childNodes[0].textContent = map[i + 1].desc\n    DOMCacheGetOrSet(`sOff${i + 1}`).textContent = `x${\n      format(\n        arr[i],\n        map[i + 1].acc,\n        true\n      )\n    }`\n  }\n  DOMCacheGetOrSet('sOffT').textContent = `x${\n    format(\n      calculateOfferings('prestige', true, true),\n      3\n    )\n  }`\n}\nexport const loadObtainiumMultipliers = () => {\n  DOMCacheGetOrSet('sObt1').textContent = `x${\n    format(\n      player.upgrades[69] > 0\n        ? Math.min(\n          10,\n          new Decimal(\n            Decimal.pow(Decimal.log(G.reincarnationPointGain.add(10), 10), 0.5)\n          ).toNumber()\n        )\n        : 1,\n      2\n    )\n  }`\n  DOMCacheGetOrSet('sObt2').textContent = `x${\n    format(\n      player.upgrades[72] > 0\n        ? Math.min(\n          50,\n          1\n            + 2 * player.challengecompletions[6]\n            + 2 * player.challengecompletions[7]\n            + 2 * player.challengecompletions[8]\n            + 2 * player.challengecompletions[9]\n            + 2 * player.challengecompletions[10]\n        )\n        : 1,\n      2\n    )\n  }`\n  DOMCacheGetOrSet('sObt3').textContent = `x${\n    format(\n      player.upgrades[74] > 0\n        ? 1 + 4 * Math.min(1, Math.pow(player.maxofferings / 100000, 0.5))\n        : 1,\n      2\n    )\n  }`\n  DOMCacheGetOrSet('sObt4').textContent = `x${\n    format(\n      1 + player.researches[65] / 5,\n      2\n    )\n  }`\n  DOMCacheGetOrSet('sObt5').textContent = `x${\n    format(\n      1 + player.researches[76] / 10,\n      2\n    )\n  }`\n  DOMCacheGetOrSet('sObt6').textContent = `x${\n    format(\n      1 + player.researches[81] / 10,\n      2\n    )\n  }`\n  DOMCacheGetOrSet('sObt7').textContent = `x${\n    format(\n      1 + player.shopUpgrades.obtainiumAuto / 50,\n      3\n    )\n  }`\n  DOMCacheGetOrSet('sObt8').textContent = `x${\n    format(\n      1 + player.shopUpgrades.cashGrab / 100,\n      3\n    )\n  }`\n  DOMCacheGetOrSet('sObt9').textContent = `x${\n    format(\n      1 + player.shopUpgrades.obtainiumEX / 50,\n      3\n    )\n  }`\n  DOMCacheGetOrSet('sObt10').textContent = `x${\n    format(\n      1\n        + (G.rune5level / 200)\n          * G.effectiveLevelMult\n          * (1\n            + (player.researches[84] / 200)\n              * (1\n                + (1 * G.effectiveRuneSpiritPower[5] * calculateCorruptionPoints())\n                  / 400)),\n      3\n    )\n  }`\n  DOMCacheGetOrSet('sObt11').textContent = `x${\n    format(\n      1\n        + 0.01 * player.achievements[84]\n        + 0.03 * player.achievements[91]\n        + 0.05 * player.achievements[98]\n        + 0.07 * player.achievements[105]\n        + 0.09 * player.achievements[112]\n        + 0.11 * player.achievements[119]\n        + 0.13 * player.achievements[126]\n        + 0.15 * player.achievements[133]\n        + 0.17 * player.achievements[140]\n        + 0.19 * player.achievements[147],\n      2\n    )\n  }`\n  DOMCacheGetOrSet('sObt12').textContent = `x${\n    format(\n      1 + 2 * Math.pow((player.antUpgrades[10 - 1]! + G.bonusant10) / 50, 2 / 3),\n      3\n    )\n  }`\n  DOMCacheGetOrSet('sObt13').textContent = `x${\n    format(\n      1 + player.achievements[188] * Math.min(2, player.ascensionCount / 5e6),\n      3\n    )\n  }`\n  DOMCacheGetOrSet('sObt14').textContent = `x${\n    format(\n      1 + 0.6 * player.achievements[250] + 1 * player.achievements[251],\n      2\n    )\n  }`\n  DOMCacheGetOrSet('sObt15').textContent = `x${\n    format(\n      G.cubeBonusMultiplier[5],\n      3\n    )\n  }`\n  DOMCacheGetOrSet('sObt16').textContent = `x${\n    format(\n      1 + 0.04 * player.constantUpgrades[4],\n      2\n    )\n  }`\n  DOMCacheGetOrSet('sObt17').textContent = `x${\n    format(\n      1 + 0.1 * player.cubeUpgrades[3],\n      2\n    )\n  }`\n  DOMCacheGetOrSet('sObt18').textContent = `x${\n    format(\n      1 + 0.1 * player.cubeUpgrades[47],\n      3\n    )\n  }`\n  DOMCacheGetOrSet('sObt19').textContent = `x${\n    format(\n      1 + 0.5 * CalcECC('ascension', player.challengecompletions[12]),\n      2\n    )\n  }`\n  DOMCacheGetOrSet('sObt20').textContent = `x${\n    format(\n      1 + (calculateCorruptionPoints() / 400) * G.effectiveRuneSpiritPower[4],\n      4\n    )\n  }`\n  DOMCacheGetOrSet('sObt21').textContent = `x${\n    format(\n      1\n        + ((0.03 * Math.log(player.uncommonFragments + 1)) / Math.log(4))\n          * player.researches[144],\n      3\n    )\n  }`\n  DOMCacheGetOrSet('sObt22').textContent = `x${\n    format(\n      1 + (0.02 / 100) * player.cubeUpgrades[50],\n      4\n    )\n  }`\n  DOMCacheGetOrSet('sObt23').textContent = `x${\n    format(\n      player.achievements[53] > 0 ? 1 + (1 / 800) * G.runeSum : 1,\n      3\n    )\n  }`\n  DOMCacheGetOrSet('sObt24').textContent = `x${\n    format(\n      (player.achievements[128] ? 1.5 : 1) * (player.achievements[129] ? 1.25 : 1),\n      3\n    )\n  }`\n  DOMCacheGetOrSet('sObt25').textContent = `+${\n    format(\n      player.achievements[51] > 0 ? 4 : 1,\n      3\n    )\n  }`\n  DOMCacheGetOrSet('sObt26').textContent = `+${\n    format(\n      (player.reincarnationcounter >= 2 ? 1 * player.researches[63] : 1)\n        + (player.reincarnationcounter >= 5 ? 2 * player.researches[64] : 1),\n      2\n    )\n  }`\n  DOMCacheGetOrSet('sObt27').textContent = `x${\n    format(\n      (player.reincarnationcounter >= 5 ? Math.max(1, player.reincarnationcounter / 10) : 1)\n        * Math.min(1, Math.pow(player.reincarnationcounter / 10, 2)),\n      3\n    )\n  }`\n  DOMCacheGetOrSet('sObt28').textContent = `x${\n    format(\n      Math.pow(\n        Decimal.log(player.transcendShards.add(1), 10) / 300,\n        2\n      ),\n      2\n    )\n  }`\n  DOMCacheGetOrSet('sObt29').textContent = `^${\n    format(\n      Math.min(\n        1,\n        G.illiteracyPower[player.usedCorruptions[5]]\n          * (1\n            + (9 / 100)\n              * player.platonicUpgrades[9]\n              * Math.min(100, Math.log10(player.researchPoints + 10)))\n      ),\n      3\n    )\n  }`\n  DOMCacheGetOrSet('sObt30').textContent = `x${\n    format(\n      1 + (4 / 100) * player.cubeUpgrades[42]\n        + 1 + (3 / 100) * player.cubeUpgrades[43],\n      2\n    )\n  }`\n  DOMCacheGetOrSet('sObt31').textContent = `x${\n    format(\n      1 + player.platonicUpgrades[5],\n      2\n    )\n  }`\n  DOMCacheGetOrSet('sObt32').textContent = `x${\n    format(\n      1 + 1.5 * player.platonicUpgrades[9],\n      2\n    )\n  }`\n  DOMCacheGetOrSet('sObt33').textContent = `x${\n    format(\n      1 + 2.5 * player.platonicUpgrades[10],\n      2\n    )\n  }`\n  DOMCacheGetOrSet('sObt34').textContent = `x${\n    format(\n      1 + 5 * player.platonicUpgrades[15],\n      2\n    )\n  }`\n  DOMCacheGetOrSet('sObt35').textContent = `x${\n    format(\n      G.challenge15Rewards.obtainium,\n      3\n    )\n  }`\n  DOMCacheGetOrSet('sObt36').textContent = `x${\n    format(\n      1 + 5 * (player.singularityUpgrades.starterPack.getEffect().bonus ? 1 : 0),\n      2\n    )\n  }`\n  DOMCacheGetOrSet('sObt37').textContent = `x${\n    format(\n      +player.singularityUpgrades.singObtainium1.getEffect().bonus,\n      2\n    )\n  }`\n  DOMCacheGetOrSet('sObt38').textContent = `x${\n    format(\n      +player.singularityUpgrades.singObtainium2.getEffect().bonus,\n      2\n    )\n  }`\n  DOMCacheGetOrSet('sObt39').textContent = `x${\n    format(\n      +player.singularityUpgrades.singObtainium3.getEffect().bonus,\n      2\n    )\n  }`\n  DOMCacheGetOrSet('sObt40').textContent = `x${\n    format(\n      1 + player.cubeUpgrades[55] / 100,\n      2\n    )\n  }`\n  DOMCacheGetOrSet('sObt41').textContent = `x${\n    format(\n      1 + (1 / 200) * player.shopUpgrades.cashGrab2,\n      3\n    )\n  }`\n  DOMCacheGetOrSet('sObt42').textContent = `x${\n    format(\n      1 + (1 / 100) * player.shopUpgrades.obtainiumEX2 * player.singularityCount,\n      2\n    )\n  }`\n  DOMCacheGetOrSet('sObt43').textContent = `x${\n    format(\n      1 + calculateEventBuff(BuffType.Obtainium),\n      2\n    )\n  }`\n  DOMCacheGetOrSet('sObt44').textContent = `x${\n    format(\n      +player.singularityUpgrades.singCitadel.getEffect().bonus,\n      2\n    )\n  }`\n  DOMCacheGetOrSet('sObt45').textContent = `x${\n    format(\n      +player.singularityUpgrades.singCitadel2.getEffect().bonus,\n      2\n    )\n  }`\n  DOMCacheGetOrSet('sObt46').textContent = `x${\n    format(\n      +player.octeractUpgrades.octeractObtainium1.getEffect().bonus,\n      2\n    )\n  }`\n  DOMCacheGetOrSet('sObt47').textContent = `x${\n    format(\n      Math.pow(1.02, player.shopUpgrades.obtainiumEX3),\n      2\n    )\n  }`\n  DOMCacheGetOrSet('sObt48').textContent = `x${\n    format(\n      calculateTotalOcteractObtainiumBonus(),\n      2\n    )\n  }`\n  DOMCacheGetOrSet('sObt49').textContent = `x${\n    format(\n      player.currentChallenge.ascension === 15\n        ? 1 + 7 * player.cubeUpgrades[62]\n        : 1,\n      2\n    )\n  }`\n  DOMCacheGetOrSet('sObt50').textContent = `x${\n    format(\n      1\n        + 0.001 * +player.blueberryUpgrades.ambrosiaObtainium1.bonus.obtainiumMult,\n      2\n    )\n  }`\n  DOMCacheGetOrSet('sObt51').textContent = `x${\n    format(\n      calculateEXUltraObtainiumBonus(),\n      2\n    )\n  }`\n  DOMCacheGetOrSet('sObt52').textContent = `x${\n    format(\n      calculateEXALTBonusMult(),\n      2\n    )\n  }`\n  DOMCacheGetOrSet('sObt53').textContent = `/${\n    format(\n      calculateSingularityDebuff('Obtainium'),\n      2\n    )\n  }`\n  DOMCacheGetOrSet('sObt54').textContent = `^${\n    format(\n      player.usedCorruptions[5] >= 15\n        ? 1 / 4\n        : 1,\n      2\n    )\n  }`\n  DOMCacheGetOrSet('sObt55').textContent = `^${\n    format(\n      player.usedCorruptions[5] >= 16\n        ? 1 / 4\n        : 1,\n      2\n    )\n  }`\n  DOMCacheGetOrSet('sObt56').textContent = `x${\n    format(\n      player.currentChallenge.ascension === 14\n        ? 0\n        : 1,\n      2\n    )\n  }`\n  DOMCacheGetOrSet('sObtT').textContent = `x${\n    format(\n      G.obtainiumGain,\n      3\n    )\n  }`\n}\n\nexport const loadPowderMultiplier = () => {\n  const arr0 = calculatePowderConversion().list\n  const map0: Record<number, { acc: number; desc: string }> = {\n    1: { acc: 2, desc: 'Base:' },\n    2: { acc: 2, desc: 'Challenge 15 Bonus:' },\n    3: { acc: 2, desc: 'Powder EX:' },\n    4: { acc: 2, desc: 'Achievement 256:' },\n    5: { acc: 2, desc: 'Achievement 257:' },\n    6: { acc: 2, desc: 'Platonic Upgrade 16 [4x1]:' },\n    7: { acc: 2, desc: 'Event:' }\n  }\n  for (let i = 0; i < arr0.length; i++) {\n    const statGCMi = DOMCacheGetOrSet(`statPoM${i + 1}`)\n    statGCMi.childNodes[0].textContent = map0[i + 1].desc\n    DOMCacheGetOrSet(`sPoM${i + 1}`).textContent = `x${\n      format(\n        arr0[i],\n        map0[i + 1].acc,\n        true\n      )\n    }`\n  }\n\n  DOMCacheGetOrSet('sPoMT').textContent = `x${\n    format(\n      calculatePowderConversion().mult,\n      3\n    )\n  }`\n}\n\nexport const loadStatisticsAscensionSpeedMultipliers = () => {\n  const arr = calculateAscensionSpeedMultiplier()\n  const map7: Record<number, { acc: number; desc: string }> = {\n    1: { acc: 2, desc: 'Chronometer:' },\n    2: { acc: 2, desc: 'Chronometer 2:' },\n    3: { acc: 2, desc: 'Chronometer 3:' },\n    4: { acc: 2, desc: 'Chronos Hepteract:' },\n    5: { acc: 2, desc: 'Achievement 262 Bonus:' },\n    6: { acc: 2, desc: 'Achievement 263 Bonus:' },\n    7: { acc: 2, desc: 'Platonic Omega:' },\n    8: { acc: 2, desc: 'Challenge 15 Reward:' },\n    9: { acc: 2, desc: 'Cookie Upgrade 9:' },\n    10: { acc: 2, desc: 'Intermediate Pack:' },\n    11: { acc: 2, desc: 'Chronometer Z:' },\n    12: { acc: 2, desc: 'Abstract Photokinetics:' },\n    13: { acc: 2, desc: 'Abstract Exokinetics:' },\n    14: { acc: 2, desc: 'Event:' },\n    15: { acc: 2, desc: 'Ascension Speedup 2 [GQ]:' },\n    16: { acc: 2, desc: 'Chronometer INF:' },\n    17: { acc: 2, desc: 'Limited Ascensions Penalty:' },\n    18: { acc: 2, desc: 'Limited Ascensions Reward:' },\n    19: { acc: 2, desc: 'Ascension Speedup [GQ]:' },\n    20: { acc: 2, desc: 'Singularity Penalty:' },\n    21: { acc: 2, desc: 'EXALT 6: The Great Singularity Speedrun:' },\n    22: { acc: 2, desc: 'Shop Chronometer S:' }\n  }\n  for (let i = 0; i < arr.list.length; i++) {\n    const statASMi = DOMCacheGetOrSet(`statASM${i + 1}`)\n    statASMi.childNodes[0].textContent = map7[i + 1].desc\n    DOMCacheGetOrSet(`sASM${i + 1}`).textContent = `x${\n      format(\n        arr.list[i],\n        map7[i + 1].acc,\n        true\n      )\n    }`\n  }\n\n  DOMCacheGetOrSet('sASMT').textContent = `x${format(arr.mult, 3)}`\n}\n\nexport const loadStatisticsGoldenQuarkMultipliers = () => {\n  const arr = calculateGoldenQuarkMultiplier()\n  const map: Record<number, { acc: number; desc: string }> = {\n    1: { acc: 2, desc: 'Challenge 15 Exponent:' },\n    2: { acc: 2, desc: 'Patreon Bonus:' },\n    3: { acc: 2, desc: 'Golden Quarks I:' },\n    4: { acc: 2, desc: 'Cookie Upgrade 19:' },\n    5: { acc: 2, desc: 'No Singularity Upgrades:' },\n    6: { acc: 2, desc: 'Event:' },\n    7: { acc: 2, desc: 'Singularity Fast Forwards:' },\n    8: { acc: 2, desc: 'Golden Revolution II:' },\n    9: { acc: 2, desc: 'Immaculate Alchemy:' },\n    10: { acc: 2, desc: 'Total Quarks Coefficient:' }\n  }\n  for (let i = 0; i < arr.list.length; i++) {\n    const statGQMi = DOMCacheGetOrSet(`statGQMS${i + 1}`)\n    statGQMi.childNodes[0].textContent = map[i + 1].desc\n    DOMCacheGetOrSet(`sGQMS${i + 1}`).textContent = `x${\n      format(\n        arr.list[i],\n        map[i + 1].acc,\n        true\n      )\n    }`\n  }\n\n  DOMCacheGetOrSet('sGQMST').textContent = `x${format(arr.mult, 3)}`\n}\n\nexport const loadAddCodeModifiersAndEffects = () => {\n  const intervalStats = addCodeInterval()\n  const capacityStats = addCodeMaxUses()\n  const availableCount = addCodeAvailableUses()\n  const timeToNext = addCodeTimeToNextUse()\n\n  // Add interval stats\n  const intervalMap: Record<number, { acc: number; desc: string }> = {\n    1: { acc: 0, desc: 'Base:' },\n    2: { acc: 2, desc: 'PL-AT \u03B4 calculator:' },\n    3: { acc: 2, desc: 'PL-AT \u03A3 sing perk:' },\n    4: { acc: 2, desc: 'Ascension of Ant God:' },\n    5: { acc: 2, desc: 'Singularity factor:' }\n  }\n  intervalStats.list[0] /= 1000 // is originally in milliseconds, but players will expect it in seconds.\n\n  for (let i = 0; i < intervalStats.list.length; i++) {\n    const statAddIntervalI = DOMCacheGetOrSet(`stat+time${i + 1}`)\n    statAddIntervalI.childNodes[0].textContent = intervalMap[i + 1].desc\n    if (i === 0) {\n      DOMCacheGetOrSet(`s+time${i + 1}`).textContent = `${\n        format(\n          intervalStats.list[i],\n          intervalMap[i + 1].acc,\n          true\n        )\n      } sec`\n    } else {\n      DOMCacheGetOrSet(`s+time${i + 1}`).textContent = `x${\n        format(\n          intervalStats.list[i],\n          intervalMap[i + 1].acc,\n          true\n        )\n      }`\n    }\n  }\n\n  DOMCacheGetOrSet('s+timeT').textContent = `${\n    format(\n      intervalStats.time / 1000,\n      1\n    )\n  } sec`\n  if (availableCount !== capacityStats.total) {\n    DOMCacheGetOrSet('s+next').textContent = `+1 in ${\n      format(\n        timeToNext,\n        1\n      )\n    } sec` // is already in sec.\n  } else {\n    DOMCacheGetOrSet('s+next').textContent = ''\n  }\n\n  // Add capacity stats\n  const capacityMap: Record<number, { acc: number; desc: string }> = {\n    1: { acc: 0, desc: 'Base:' },\n    2: { acc: 0, desc: 'PL-AT X:' },\n    3: { acc: 0, desc: 'PL-AT \u03B4:' },\n    4: { acc: 0, desc: 'PL-AT \u0393:' },\n    5: { acc: 0, desc: 'PL-AT _:' },\n    6: { acc: 0, desc: 'PL-AT \u03A9\u03A9' },\n    7: { acc: 3, desc: 'Singularity factor:' }\n  }\n\n  for (let i = 0; i < capacityStats.list.length; i++) {\n    const statAddIntervalI = DOMCacheGetOrSet(`stat+cap${i + 1}`)\n    statAddIntervalI.childNodes[0].textContent = capacityMap[i + 1].desc\n    const prefix = i === 0 ? '' : i === 5 ? 'x' : '+'\n    DOMCacheGetOrSet(`s+cap${i + 1}`).textContent = `${prefix}${\n      format(\n        capacityStats.list[i],\n        capacityMap[i + 1].acc,\n        true\n      )\n    }`\n  }\n\n  DOMCacheGetOrSet('s+capT').textContent = `${\n    format(\n      availableCount,\n      0\n    )\n  } / ${format(capacityStats.total, 0)}`\n\n  // TODO:  we also want to report on the effects of each add.\n  const addEffectStats = addCodeBonuses()\n\n  // Quark Bonus Rate; the bonus is typically applied when actually given to the player, rather than calculated before.\n  const qbr = player.worlds.applyBonus(1)\n\n  DOMCacheGetOrSet('stat+eff1').childNodes[0].textContent = 'Quarks: '\n  if (Math.abs(addEffectStats.maxQuarks - addEffectStats.minQuarks) >= 0.5) {\n    // b/c floating-point errors\n    DOMCacheGetOrSet('s+eff1').textContent = `+${\n      format(\n        qbr * addEffectStats.minQuarks,\n        3\n      )\n    } ~ ${format(qbr * addEffectStats.maxQuarks, 3)}`\n  } else {\n    DOMCacheGetOrSet('s+eff1').textContent = `+${\n      format(\n        qbr * addEffectStats.quarks,\n        3\n      )\n    }`\n  }\n\n  DOMCacheGetOrSet('stat+eff2').childNodes[0].textContent = 'PL-AT X - bonus ascension time: '\n  DOMCacheGetOrSet('s+eff2').textContent = `+${\n    format(\n      addEffectStats.ascensionTimer,\n      2\n    )\n  } sec`\n\n  DOMCacheGetOrSet('stat+eff3').childNodes[0].textContent = 'PL-AT \u0393 - bonus GQ export time: '\n  DOMCacheGetOrSet('s+eff3').textContent = `+${\n    format(\n      addEffectStats.gqTimer,\n      2\n    )\n  } sec` // does it need a / 1000?\n\n  DOMCacheGetOrSet('stat+eff4').childNodes[0].textContent = 'PL-AT _ - bonus octeract time: '\n  DOMCacheGetOrSet('s+eff4').textContent = `+${\n    format(\n      addEffectStats.octeractTime,\n      2\n    )\n  } sec` // does it need a / 1000?\n  // Might be worth converting to raw octeracts awarded.  I don't have the calculator needed to test it, though.\n}\n\nexport const loadStatisticsAmbrosiaLuck = () => {\n  const stats = calculateAmbrosiaLuck()\n  const arr = stats.array\n  const map: Record<number, { acc: number; desc: string }> = {\n    1: { acc: 0, desc: 'Base Value' },\n    2: { acc: 0, desc: 'Irish Ants Singularity Perk' },\n    3: { acc: 1, desc: 'Shop Upgrade Bonus' },\n    4: { acc: 0, desc: 'Singularity Ambrosia Luck Upgrades' },\n    5: { acc: 0, desc: 'Octeract Ambrosia Luck Upgrades' },\n    6: { acc: 0, desc: 'Ambrosia Luck Module I' },\n    7: { acc: 1, desc: 'Ambrosia Luck Module II' },\n    8: { acc: 2, desc: 'Ambrosia Cube-Luck Hybrid Module I' },\n    9: { acc: 2, desc: 'Ambrosia Quark-Luck Hybrid Module I' },\n    10: { acc: 0, desc: 'Perk: One Hundred Thirty One!' },\n    11: { acc: 0, desc: 'Perk: Two Hundred Sixty Nine!' },\n    12: { acc: 0, desc: 'Shop: Octeract-Based Ambrosia Luck' },\n    13: { acc: 0, desc: 'No Ambrosia Upgrades EXALT' },\n    14: { acc: 0, desc: 'ULTRA Upgrade: Ambrosia Exalter' }\n  }\n  for (let i = 0; i < arr.length - 1; i++) {\n    const statALuckMi = DOMCacheGetOrSet(`statALuckM${i + 1}`)\n    statALuckMi.childNodes[0].textContent = map[i + 1].desc\n    DOMCacheGetOrSet(`sALuckM${i + 1}`).textContent = `+${\n      format(\n        arr[i],\n        map[i + 1].acc,\n        true\n      )\n    }`\n  }\n\n  DOMCacheGetOrSet('sALuckMult').textContent = `x${format(arr[arr.length - 1], 3, true)}`\n\n  const totalVal = Math.floor(stats.value)\n  DOMCacheGetOrSet('sALuckMT').innerHTML = `&#9752 ${format(totalVal, 0)}`\n}\n\nexport const loadStatisticsAmbrosiaGeneration = () => {\n  const stats = calculateAmbrosiaGenerationSpeed()\n  const arr = stats.array\n  const map: Record<number, { acc: number; desc: string }> = {\n    1: { acc: 4, desc: 'Visited Ambrosia Subtab' },\n    2: { acc: 4, desc: 'Number of Blueberries' },\n    3: { acc: 4, desc: 'Shop Upgrade Bonus' },\n    4: { acc: 4, desc: 'Singularity Ambrosia Generation Upgrades' },\n    5: { acc: 4, desc: 'Octeract Ambrosia Generation Upgrades' },\n    6: { acc: 4, desc: 'Patreon Bonus' },\n    7: { acc: 4, desc: 'One Ascension Challenge EXALT' },\n    8: { acc: 4, desc: 'No Ambrosia Upgrades EXALT' },\n    9: { acc: 4, desc: 'Cash-Grab ULTIMATE' },\n    10: { acc: 4, desc: 'Event Bonus' }\n  }\n  for (let i = 0; i < arr.length; i++) {\n    const statAGenMi = DOMCacheGetOrSet(`statAGenM${i + 1}`)\n    statAGenMi.childNodes[0].textContent = map[i + 1].desc\n    DOMCacheGetOrSet(`sAGenM${i + 1}`).textContent = `x${format(arr[i], map[i + 1].acc, true)}`\n  }\n\n  const totalVal = stats.value\n  DOMCacheGetOrSet('sAGenMT').textContent = `${format(totalVal, 3, true)}`\n}\n\nexport const c15RewardUpdate = () => {\n  // dprint-ignore\n  const exponentRequirements = [\n    750, 1.5e3, 3e3, 5e3, 7.5e3, 7.5e3, 1e4, 1e4, 2e4, 4e4, 6e4, 1e5, 1e5, 2e5,\n    5e5, 1e6, 3e6, 1e7, 3e7, 1e8, 5e8, 2e9, 1e10, 1e11, 1e15, 2e15, 4e15, 7e15,\n    1e16, 2e16, 3.33e16, 3.33e16, 3.33e16, 2e17, 1.5e18,\n  ];\n  type Key = keyof GlobalVariables['challenge15Rewards']\n  const keys = Object.keys(G.challenge15Rewards) as Key[]\n  const e = player.challenge15Exponent\n\n  for (const obj in G.challenge15Rewards) {\n    G.challenge15Rewards[obj as Key] = 1\n  }\n  G.challenge15Rewards.freeOrbs = 0\n\n  if (e >= exponentRequirements[0]) {\n    // All Cube Types 1 [750]\n    G.challenge15Rewards[keys[0]] = 1 + ((1 / 50) * Math.log(e / 175)) / Math.log(2)\n  }\n  if (e >= exponentRequirements[1]) {\n    // Ascension Count [1500]\n    G.challenge15Rewards[keys[1]] = 1 + ((1 / 20) * Math.log(e / 375)) / Math.log(2)\n  }\n  if (e >= exponentRequirements[2]) {\n    // Coin Exponent [3000]\n    G.challenge15Rewards[keys[2]] = 1 + ((1 / 150) * Math.log(e / 750)) / Math.log(2)\n  }\n  if (e >= exponentRequirements[3]) {\n    // Taxes [5000]\n    G.challenge15Rewards[keys[3]] = Math.pow(\n      0.98,\n      Math.log(e / 1.25e3) / Math.log(2)\n    )\n  }\n  if (e >= exponentRequirements[4]) {\n    // Obtainium [7500]\n    G.challenge15Rewards[keys[4]] = 1 + (1 / 5) * Math.pow(e / 7.5e3, 0.75)\n  }\n  if (e >= exponentRequirements[5]) {\n    // Offerings [7500]\n    G.challenge15Rewards[keys[5]] = 1 + (1 / 5) * Math.pow(e / 7.5e3, 0.75)\n  }\n  if (e >= exponentRequirements[6]) {\n    // Accelerator Boost (Uncorruptable) [10000]\n    G.challenge15Rewards[keys[6]] = 1 + ((1 / 20) * Math.log(e / 2.5e3)) / Math.log(2)\n  }\n  if (e >= exponentRequirements[7]) {\n    // Multiplier Boost (Uncorruptable) [10000]\n    G.challenge15Rewards[keys[7]] = 1 + ((1 / 20) * Math.log(e / 2.5e3)) / Math.log(2)\n  }\n  if (e >= exponentRequirements[8]) {\n    // Rune EXP [20000]\n    G.challenge15Rewards[keys[8]] = 1 + Math.pow(e / 2e4, 1.5)\n  }\n  if (e >= exponentRequirements[9]) {\n    // Rune Effectiveness [40000]\n    G.challenge15Rewards[keys[9]] = 1 + ((1 / 33) * Math.log(e / 1e4)) / Math.log(2)\n  }\n  if (e >= exponentRequirements[10]) {\n    // All Cube Types II [60000]\n    G.challenge15Rewards[keys[10]] = 1 + ((1 / 100) * Math.log(e / 1.5e4)) / Math.log(2)\n  }\n  if (e >= exponentRequirements[11]) {\n    // Chal 1-5 Scaling [100000]\n    G.challenge15Rewards[keys[11]] = Math.pow(\n      0.98,\n      Math.log(e / 2.5e4) / Math.log(2)\n    )\n  }\n  if (e >= exponentRequirements[12]) {\n    // Chal 6-10 Scaling [100000]\n    G.challenge15Rewards[keys[12]] = Math.pow(\n      0.98,\n      Math.log(e / 2.5e4) / Math.log(2)\n    )\n  }\n  if (e >= exponentRequirements[13]) {\n    // Ant Speed [200k]\n    G.challenge15Rewards[keys[13]] = Math.pow(\n      1 + Math.log(e / 2e5) / Math.log(2),\n      4\n    )\n  }\n  if (e >= exponentRequirements[14]) {\n    // Ant Bonus Levels [500k]\n    G.challenge15Rewards[keys[14]] = 1 + ((1 / 20) * Math.log(e / 1.5e5)) / Math.log(2)\n  }\n  if (e >= exponentRequirements[15]) {\n    // All Cube Types III [1m]\n    G.challenge15Rewards[keys[15]] = 1 + ((1 / 150) * Math.log(e / 2.5e5)) / Math.log(2)\n  }\n  if (e >= exponentRequirements[16]) {\n    // Talisman Effectiveness [3m]\n    G.challenge15Rewards[keys[16]] = 1 + ((1 / 20) * Math.log(e / 7.5e5)) / Math.log(2)\n  }\n  if (e >= exponentRequirements[17]) {\n    // Global Speed [10m]\n    G.challenge15Rewards[keys[17]] = 1 + ((1 / 20) * Math.log(e / 2.5e6)) / Math.log(2)\n  }\n  if (e >= exponentRequirements[18]) {\n    // Blessing Effectiveness [30m]\n    G.challenge15Rewards[keys[18]] = 1 + (1 / 5) * Math.pow(e / 3e7, 1 / 4)\n  }\n  if (e >= exponentRequirements[19]) {\n    // Tesseract Building Speed [100m]\n    G.challenge15Rewards[keys[19]] = 1 + (1 / 5) * Math.pow(e / 1e8, 2 / 3)\n  }\n  if (e >= exponentRequirements[20]) {\n    // All Cube Types IV [500m]\n    G.challenge15Rewards[keys[20]] = 1 + ((1 / 200) * Math.log(e / 1.25e8)) / Math.log(2)\n  }\n  if (e >= exponentRequirements[21]) {\n    // Spirit Effectiveness [2b]\n    G.challenge15Rewards[keys[21]] = 1 + (1 / 5) * Math.pow(e / 2e9, 1 / 4)\n  }\n  if (e >= exponentRequirements[22]) {\n    // Ascension Score [10b]\n    G.challenge15Rewards[keys[22]] = 1 + (1 / 4) * Math.pow(e / 1e10, 1 / 4)\n    if (e >= 1e20) {\n      G.challenge15Rewards[keys[22]] = 1 + (1 / 4) * Math.pow(e / 1e10, 1 / 8) * Math.pow(1e10, 1 / 8)\n    }\n  }\n  if (e >= exponentRequirements[23]) {\n    // Quark Gain [100b]\n    G.challenge15Rewards[keys[23]] = 1 + ((1 / 100) * Math.log((e * 32) / 1e11)) / Math.log(2)\n  }\n  if (e >= exponentRequirements[24]) {\n    // Unlock Hepteract gain [1Qa]\n    G.challenge15Rewards[keys[24]] = 2\n  }\n  if (e >= exponentRequirements[25]) {\n    // Unlock Challenge hepteract [2Qa]\n    void player.hepteractCrafts.challenge.unlock('the Hepteract of Challenge')\n  }\n  if (e >= exponentRequirements[26]) {\n    // All Cube Types V [4Qa]\n    G.challenge15Rewards[keys[25]] = 1 + (1 / 300) * Math.log2(e / (4e15 / 1024))\n  }\n  if (e >= exponentRequirements[27]) {\n    // Powder Gain [7Qa]\n    G.challenge15Rewards[keys[26]] = 1 + (1 / 50) * Math.log2(e / (7e15 / 32))\n  }\n  if (e >= exponentRequirements[28]) {\n    // Unlock Abyss Hepteract [10Qa]\n    void player.hepteractCrafts.abyss.unlock('the Hepteract of the Abyss')\n  }\n  if (e >= exponentRequirements[29]) {\n    // Constant Upgrade 2 [20Qa]\n    G.challenge15Rewards[keys[27]] = calculateSigmoid(1.05, e, 1e18)\n  }\n  if (e >= exponentRequirements[30]) {\n    // Unlock ACCELERATOR HEPT [33.33Qa]\n    void player.hepteractCrafts.accelerator.unlock(\n      'the Hepteract of Way Too Many Accelerators'\n    )\n  }\n  if (e >= exponentRequirements[31]) {\n    // Unlock ACCELERATOR BOOST HEPT [33.33Qa]\n    void player.hepteractCrafts.acceleratorBoost.unlock(\n      'the Hepteract of Way Too Many Accelerator Boosts'\n    )\n  }\n  if (e >= exponentRequirements[32]) {\n    // Unlock MULTIPLIER Hept [33.33Qa]\n    void player.hepteractCrafts.multiplier.unlock(\n      'the Hepteract of Way Too Many Multipliers'\n    )\n  }\n  if (e >= exponentRequirements[33]) {\n    // FREE Daily Orbs\n    G.challenge15Rewards.freeOrbs = Math.floor(200 * Math.pow(e / 2e17, 0.5))\n  }\n  if (e >= exponentRequirements[34]) {\n    // Ascension Speed\n    G.challenge15Rewards.ascensionSpeed = 1 + 5 / 100 + (2 * Math.log2(e / 1.5e18)) / 100\n  }\n\n  updateDisplayC15Rewards()\n}\n\nconst updateDisplayC15Rewards = () => {\n  DOMCacheGetOrSet('c15Reward0Num').textContent = format(\n    player.challenge15Exponent,\n    3,\n    true\n  )\n  DOMCacheGetOrSet('c15RequiredExponentNum').textContent = format(\n    Decimal.pow(10, player.challenge15Exponent / challenge15ScoreMultiplier()),\n    0,\n    true\n  )\n  // dprint-ignore\n  const exponentRequirements = [\n    750, 1.5e3, 3e3, 5e3, 7.5e3, 7.5e3, 1e4, 1e4, 2e4, 4e4, 6e4, 1e5, 1e5, 2e5,\n    5e5, 1e6, 3e6, 1e7, 3e7, 1e8, 5e8, 2e9, 1e10, 1e11, 1e15, 2e15, 4e15, 7e15,\n    1e16, 2e16, 3.33e16, 3.33e16, 3.33e16, 2e17, 1.5e18,\n  ];\n  const isNum: Record<number, boolean> = {\n    // Shit solution to a shit problem -Platonic\n    0: true,\n    1: true,\n    2: true,\n    3: true,\n    4: true,\n    5: true,\n    6: true,\n    7: true,\n    8: true,\n    9: true,\n    10: true,\n    11: true,\n    12: true,\n    13: true,\n    14: true,\n    15: true,\n    16: true,\n    17: true,\n    18: true,\n    19: true,\n    20: true,\n    21: true,\n    22: true,\n    23: true,\n    24: false,\n    25: false,\n    26: true,\n    27: true,\n    28: false,\n    29: true,\n    30: false,\n    31: false,\n    32: false,\n    33: true,\n    34: true\n  }\n  const values = Object.values(G.challenge15Rewards)\n  let keepExponent: string | number = 'None'\n  let skip = 0\n  for (let i = 0; i < exponentRequirements.length; i++) {\n    if (\n      keepExponent === 'None'\n      && player.challenge15Exponent < exponentRequirements[i]\n    ) {\n      keepExponent = exponentRequirements[i]\n    }\n    if (player.challenge15Exponent >= exponentRequirements[i]) {\n      DOMCacheGetOrSet(`c15Reward${i + 1}Num`).textContent = isNum[i]\n        ? format(100 * values[i - skip] - 100, 2, true)\n        : 'Unlocked!'\n\n      if (!isNum[i] && i !== 24) {\n        // TODO: This sucks -Platonic\n        skip += 1\n      }\n\n      if (i === 33) {\n        DOMCacheGetOrSet('c15Reward34Num').textContent = format(\n          values[i - skip],\n          0,\n          true\n        )\n      }\n    }\n\n    DOMCacheGetOrSet(`c15Reward${i + 1}`).style.display = player.challenge15Exponent >= exponentRequirements[i]\n      ? 'block'\n      : 'none'\n    DOMCacheGetOrSet('c15RewardList').textContent = typeof keepExponent === 'string'\n      ? 'You have unlocked all reward types from Challenge 15!'\n      : `Next reward type requires ${\n        format(\n          keepExponent,\n          0,\n          true\n        )\n      } exponent.`\n  }\n}\n\ninterface Stage {\n  stage: number\n  tier: number\n  name: string\n  unlocked: boolean\n  reset: boolean\n}\n\nexport const gameStages = (): Stage[] => {\n  const stages: Stage[] = [\n    { stage: 0, tier: 1, name: 'start', unlocked: true, reset: true },\n    {\n      stage: 1,\n      tier: 1,\n      name: 'start-prestige',\n      unlocked: player.unlocks.prestige,\n      reset: player.unlocks.prestige\n    },\n    {\n      stage: 2,\n      tier: 2,\n      name: 'prestige-transcend',\n      unlocked: player.unlocks.transcend,\n      reset: player.unlocks.transcend\n    },\n    {\n      stage: 3,\n      tier: 3,\n      name: 'transcend-reincarnate',\n      unlocked: player.unlocks.reincarnate,\n      reset: player.unlocks.reincarnate\n    },\n    {\n      stage: 4,\n      tier: 4,\n      name: 'reincarnate-ant',\n      unlocked: player.firstOwnedAnts !== 0,\n      reset: player.unlocks.reincarnate\n    },\n    {\n      stage: 5,\n      tier: 4,\n      name: 'ant-sacrifice',\n      unlocked: player.achievements[173] === 1,\n      reset: player.unlocks.reincarnate\n    },\n    {\n      stage: 6,\n      tier: 4,\n      name: 'sacrifice-ascension',\n      unlocked: player.achievements[183] === 1,\n      reset: player.unlocks.reincarnate\n    },\n    {\n      stage: 7,\n      tier: 5,\n      name: 'ascension-challenge10',\n      unlocked: player.ascensionCount > 1,\n      reset: player.achievements[183] === 1\n    },\n    {\n      stage: 8,\n      tier: 5,\n      name: 'challenge10-challenge11',\n      unlocked: player.achievements[197] === 1,\n      reset: player.achievements[183] === 1\n    },\n    {\n      stage: 9,\n      tier: 5,\n      name: 'challenge11-challenge12',\n      unlocked: player.achievements[204] === 1,\n      reset: player.achievements[183] === 1\n    },\n    {\n      stage: 10,\n      tier: 5,\n      name: 'challenge12-challenge13',\n      unlocked: player.achievements[211] === 1,\n      reset: player.achievements[183] === 1\n    },\n    {\n      stage: 11,\n      tier: 5,\n      name: 'challenge13-challenge14',\n      unlocked: player.achievements[218] === 1,\n      reset: player.achievements[183] === 1\n    },\n    {\n      stage: 12,\n      tier: 5,\n      name: 'challenge14-w5x10max',\n      unlocked: player.cubeUpgrades[50] >= 100000,\n      reset: player.achievements[183] === 1\n    },\n    {\n      stage: 13,\n      tier: 5,\n      name: 'w5x10max-alpha',\n      unlocked: player.platonicUpgrades[5] > 0,\n      reset: player.achievements[183] === 1\n    },\n    {\n      stage: 14,\n      tier: 5,\n      name: 'alpha-p2x1x10',\n      unlocked: player.platonicUpgrades[6] >= 10,\n      reset: player.achievements[183] === 1\n    },\n    {\n      stage: 15,\n      tier: 5,\n      name: 'p2x1x10-p3x1',\n      unlocked: player.platonicUpgrades[11] > 0,\n      reset: player.achievements[183] === 1\n    },\n    {\n      stage: 16,\n      tier: 5,\n      name: 'p3x1-beta',\n      unlocked: player.platonicUpgrades[10] > 0,\n      reset: player.achievements[183] === 1\n    },\n    {\n      stage: 17,\n      tier: 5,\n      name: 'beta-1e15-expo',\n      unlocked: player.challenge15Exponent >= 1e15,\n      reset: player.achievements[183] === 1\n    },\n    {\n      stage: 18,\n      tier: 5,\n      name: '1e15-expo-omega',\n      unlocked: player.platonicUpgrades[15] > 0,\n      reset: player.achievements[183] === 1\n    },\n    {\n      stage: 19,\n      tier: 5,\n      name: 'omega-singularity',\n      unlocked: player.singularityCount > 0 && player.runelevels[6] > 0,\n      reset: player.achievements[183] === 1\n    },\n    {\n      stage: 20,\n      tier: 6,\n      name: 'singularity-exalt1x1',\n      unlocked: player.singularityChallenges.noSingularityUpgrades.completions > 0,\n      reset: player.highestSingularityCount > 0\n    },\n    {\n      stage: 21,\n      tier: 6,\n      name: 'exalt1x1-onemind',\n      unlocked: player.singularityUpgrades.oneMind.level > 0,\n      reset: player.highestSingularityCount > 0\n    },\n    {\n      stage: 22,\n      tier: 6,\n      name: 'onemind-end',\n      unlocked: player.singularityUpgrades.offeringAutomatic.level > 0,\n      reset: player.highestSingularityCount > 0\n    },\n    {\n      stage: 23,\n      tier: 6,\n      name: 'end-pen',\n      unlocked: player.singularityUpgrades.ultimatePen.level > 0,\n      reset: player.highestSingularityCount > 0\n    },\n    {\n      stage: 24,\n      tier: 6,\n      name: 'pen',\n      unlocked: false,\n      reset: player.highestSingularityCount > 0\n    }\n  ]\n  return stages\n}\n\n// Calculate which progress in the game you are playing\n// The progress displayed is based on Progression Chat and Questions\n// This will be used to determine the behavior of the profile of the autopilot function in the future\nexport const synergismStage = (\n  skipTier = player.singularityCount > 0 ? 5 : 0\n): string => {\n  const stages = gameStages()\n  for (let i = 0; i < stages.length; i++) {\n    const stage = stages[i]\n    if (skipTier < stage.tier && (!stage.reset || !stage.unlocked)) {\n      return stage.name\n    }\n  }\n  const stagesZero = stages[0]\n  return stagesZero.name\n}\n", "import Decimal from 'break_infinity.js'\nimport i18next from 'i18next'\nimport { showSacrifice } from './Ants'\nimport { DOMCacheGetOrSet } from './Cache/DOM'\nimport {\n  calcAscensionCount,\n  CalcCorruptionStuff,\n  calculateAmbrosiaCubeMult,\n  calculateAmbrosiaQuarkMult,\n  calculateAutomaticObtainium,\n  calculateCorruptionPoints,\n  calculateCubeQuarkMultiplier,\n  calculateMaxRunes,\n  calculateRecycleMultiplier,\n  calculateRequiredBlueberryTime,\n  calculateRuneExpToLevel,\n  calculateSigmoidExponential,\n  calculateSummationLinear,\n  calculateSummationNonLinear,\n  calculateTimeAcceleration,\n  calculateTotalOcteractCubeBonus,\n  calculateTotalOcteractObtainiumBonus,\n  calculateTotalOcteractOfferingBonus,\n  calculateTotalOcteractQuarkBonus,\n  octeractGainPerSecond\n} from './Calculate'\nimport { CalcECC } from './Challenges'\nimport { version } from './Config'\nimport type { IMultiBuy } from './Cubes'\nimport type { hepteractTypes } from './Hepteracts'\nimport { hepteractTypeList } from './Hepteracts'\nimport { getQuarkBonus, quarkHandler } from './Quark'\nimport { displayRuneInformation } from './Runes'\nimport { getShopCosts, isShopUpgradeUnlocked, shopData, shopUpgradeTypes } from './Shop'\nimport { getGoldenQuarkCost } from './singularity'\nimport { loadStatisticsUpdate } from './Statistics'\nimport { format, formatTimeShort, player } from './Synergism'\nimport { Tabs } from './Tabs'\nimport { calculateMaxTalismanLevel } from './Talismans'\nimport type { Player, ZeroToFour } from './types/Synergism'\nimport { sumContents } from './Utility'\nimport { Globals as G } from './Variables'\n\nexport const visualUpdateBuildings = () => {\n  if (G.currentTab !== Tabs.Buildings) {\n    return\n  }\n\n  // When you're in Building --> Coin, update these.\n  if (G.buildingSubTab === 'coin') {\n    // For the display of Coin Buildings\n    const upper = [\n      'produceFirst',\n      'produceSecond',\n      'produceThird',\n      'produceFourth',\n      'produceFifth'\n    ] as const\n    const names = [\n      null,\n      'workers',\n      'investments',\n      'printers',\n      'coinMints',\n      'alchemies'\n    ]\n\n    let totalProductionDivisor = new Decimal(G.produceTotal)\n    if (totalProductionDivisor.equals(0)) {\n      totalProductionDivisor = new Decimal(1)\n    }\n\n    for (let i = 1; i <= 5; i++) {\n      const place = G[upper[i - 1]]\n      const ith = G.ordinals[(i - 1) as ZeroToFour]\n\n      DOMCacheGetOrSet(`buildtext${2 * i - 1}`).textContent = i18next.t(\n        `buildings.names.${names[i]}`,\n        {\n          amount: format(player[`${ith}OwnedCoin` as const], 0, true),\n          gain: format(player[`${ith}GeneratedCoin` as const])\n        }\n      )\n\n      DOMCacheGetOrSet(`buycoin${i}`).textContent = i18next.t(\n        'buildings.costCoins',\n        {\n          coins: format(player[`${ith}CostCoin` as const])\n        }\n      )\n\n      const percentage = Decimal.fromMantissaExponent(\n        place.mantissa / totalProductionDivisor.mantissa,\n        place.exponent - totalProductionDivisor.exponent\n      ).times(100)\n\n      DOMCacheGetOrSet(`buildtext${2 * i}`).textContent = i18next.t(\n        'buildings.coinsPerSecond',\n        {\n          coins: format(place.dividedBy(G.taxdivisor).times(40), 2),\n          percent: format(percentage, 3)\n        }\n      )\n    }\n\n    DOMCacheGetOrSet('buildtext11').textContent = i18next.t(\n      'buildings.names.accelerators',\n      {\n        amount: format(player.acceleratorBought, 0, true),\n        gain: format(G.freeAccelerator, 0, true)\n      }\n    )\n\n    DOMCacheGetOrSet('buildtext12').textContent = i18next.t(\n      'buildings.acceleratorPower',\n      {\n        power: format((G.acceleratorPower - 1) * 100, 2),\n        mult: format(G.acceleratorEffect, 2)\n      }\n    )\n\n    DOMCacheGetOrSet('buildtext13').textContent = i18next.t(\n      'buildings.names.multipliers',\n      {\n        amount: format(player.multiplierBought, 0, true),\n        gain: format(G.freeMultiplier, 0, true)\n      }\n    )\n\n    DOMCacheGetOrSet('buildtext14').textContent = i18next.t(\n      'buildings.multiplierPower',\n      {\n        power: format(G.multiplierPower, 2),\n        mult: format(G.multiplierEffect, 2)\n      }\n    )\n\n    DOMCacheGetOrSet('buildtext15').textContent = i18next.t(\n      'buildings.names.acceleratorBoost',\n      {\n        amount: format(player.acceleratorBoostBought, 0, true),\n        gain: format(G.freeAcceleratorBoost, 0, false)\n      }\n    )\n\n    DOMCacheGetOrSet('buildtext16').textContent = i18next.t(\n      'buildings.acceleratorBoost',\n      {\n        amount: format(\n          G.tuSevenMulti\n            * (1 + player.researches[16] / 50)\n            * (1 + CalcECC('transcend', player.challengecompletions[2]) / 100),\n          2\n        )\n      }\n    )\n\n    DOMCacheGetOrSet('buyaccelerator').textContent = i18next.t(\n      'buildings.costCoins',\n      {\n        coins: format(player.acceleratorCost)\n      }\n    )\n    DOMCacheGetOrSet('buymultiplier').textContent = i18next.t(\n      'buildings.costCoins',\n      {\n        coins: format(player.multiplierCost)\n      }\n    )\n    DOMCacheGetOrSet('buyacceleratorboost').textContent = i18next.t(\n      'buildings.costDiamonds',\n      {\n        diamonds: format(player.acceleratorBoostCost)\n      }\n    )\n\n    // update the tax text\n    let warning = ''\n    if (player.reincarnationCount > 0.5) {\n      warning = i18next.t('buildings.taxWarning', {\n        gain: format(\n          Decimal.pow(10, G.maxexponent - Decimal.log(G.taxdivisorcheck, 10))\n        )\n      })\n    }\n    DOMCacheGetOrSet('taxinfo').textContent = i18next.t(\n      'buildings.excessiveWealth',\n      {\n        div: format(G.taxdivisor, 2),\n        warning\n      }\n    )\n  } else if (G.buildingSubTab === 'diamond') {\n    // For the display of Diamond Buildings\n    const upper = [\n      'produceFirstDiamonds',\n      'produceSecondDiamonds',\n      'produceThirdDiamonds',\n      'produceFourthDiamonds',\n      'produceFifthDiamonds'\n    ] as const\n    const names = [\n      'refineries',\n      'coalPlants',\n      'coalRigs',\n      'pickaxes',\n      'pandorasBoxes'\n    ]\n    const perSecNames = ['crystal', 'ref', 'plants', 'rigs', 'pickaxes']\n\n    DOMCacheGetOrSet('prestigeshardinfo').textContent = i18next.t(\n      'buildings.crystalMult',\n      {\n        crystals: format(player.prestigeShards, 2),\n        gain: format(G.prestigeMultiplier, 2)\n      }\n    )\n\n    for (let i = 1; i <= 5; i++) {\n      const place = G[upper[i - 1]]\n      const ith = G.ordinals[(i - 1) as ZeroToFour]\n\n      DOMCacheGetOrSet(`prestigetext${2 * i - 1}`).textContent = i18next.t(\n        `buildings.names.${names[i - 1]}`,\n        {\n          amount: format(player[`${ith}OwnedDiamonds` as const], 0, true),\n          gain: format(player[`${ith}GeneratedDiamonds` as const], 2)\n        }\n      )\n\n      DOMCacheGetOrSet(`prestigetext${2 * i}`).textContent = i18next.t(\n        `buildings.per.${perSecNames[i - 1]}`,\n        {\n          amount: format(place.times(40), 2)\n        }\n      )\n\n      DOMCacheGetOrSet(`buydiamond${i}`).textContent = i18next.t(\n        'buildings.costDiamonds',\n        {\n          diamonds: format(player[`${ith}CostDiamonds` as const], 2)\n        }\n      )\n    }\n\n    if (player.resettoggle1 === 1 || player.resettoggle1 === 0) {\n      const p = Decimal.pow(\n        10,\n        Decimal.log(G.prestigePointGain.add(1), 10)\n          - Decimal.log(player.prestigePoints.sub(1), 10)\n      )\n      DOMCacheGetOrSet('autoprestige').textContent = i18next.t(\n        'buildings.autoPrestige',\n        {\n          name: 'Diamonds',\n          action: 'Prestige',\n          factor: format(Decimal.pow(10, player.prestigeamount)),\n          mult: format(p)\n        }\n      )\n    } else if (player.resettoggle1 === 2) {\n      DOMCacheGetOrSet('autoprestige').textContent = i18next.t(\n        'buildings.autoReincarnate',\n        {\n          name: 'Prestige',\n          amount: player.prestigeamount,\n          timer: format(G.autoResetTimers.prestige, 1)\n        }\n      )\n    }\n  } else if (G.buildingSubTab === 'mythos') {\n    // For the display of Mythos Buildings\n    const upper = [\n      'produceFirstMythos',\n      'produceSecondMythos',\n      'produceThirdMythos',\n      'produceFourthMythos',\n      'produceFifthMythos'\n    ] as const\n    const names = [\n      'augments',\n      'enchantments',\n      'wizards',\n      'oracles',\n      'grandmasters'\n    ]\n    const perSecNames = [\n      'shards',\n      'augments',\n      'enchantments',\n      'wizards',\n      'oracles'\n    ]\n\n    DOMCacheGetOrSet('transcendshardinfo').textContent = i18next.t(\n      'buildings.mythosYouHave',\n      {\n        shards: format(player.transcendShards, 2),\n        mult: format(G.totalMultiplierBoost, 0, true)\n      }\n    )\n\n    for (let i = 1; i <= 5; i++) {\n      const place = G[upper[i - 1]]\n      const ith = G.ordinals[(i - 1) as ZeroToFour]\n\n      DOMCacheGetOrSet(`transcendtext${2 * i - 1}`).textContent = i18next.t(\n        `buildings.names.${names[i - 1]}`,\n        {\n          amount: format(player[`${ith}OwnedMythos` as const], 0, true),\n          gain: format(player[`${ith}GeneratedMythos` as const], 2)\n        }\n      )\n\n      DOMCacheGetOrSet(`transcendtext${2 * i}`).textContent = i18next.t(\n        `buildings.per.${perSecNames[i - 1]}`,\n        {\n          amount: format(place.times(40), 2)\n        }\n      )\n\n      DOMCacheGetOrSet(`buymythos${i}`).textContent = i18next.t(\n        'buildings.costMythos',\n        {\n          mythos: format(player[`${ith}CostMythos` as const], 2)\n        }\n      )\n    }\n\n    if (player.resettoggle2 === 1 || player.resettoggle2 === 0) {\n      DOMCacheGetOrSet('autotranscend').textContent = i18next.t(\n        'buildings.autoPrestige',\n        {\n          name: 'Mythos',\n          action: 'Prestige',\n          factor: format(Decimal.pow(10, player.transcendamount)),\n          mult: format(\n            Decimal.pow(\n              10,\n              Decimal.log(G.transcendPointGain.add(1), 10)\n                - Decimal.log(player.transcendPoints.add(1), 10)\n            ),\n            2\n          )\n        }\n      )\n    }\n    if (player.resettoggle2 === 2) {\n      // TODO(@KhafraDev): i18n this\n      DOMCacheGetOrSet(\n        'autotranscend'\n      ).textContent =\n        `Transcend when the autotimer is at least ${player.transcendamount} real-life seconds. [Toggle number above]. Current timer: ${\n          format(\n            G.autoResetTimers.transcension,\n            1\n          )\n        }s.`\n    }\n  } else if (G.buildingSubTab === 'particle') {\n    // For the display of Particle Buildings\n    const upper = [\n      'FirstParticles',\n      'SecondParticles',\n      'ThirdParticles',\n      'FourthParticles',\n      'FifthParticles'\n    ] as const\n    const names = [\n      'protons',\n      'elements',\n      'pulsars',\n      'quasars',\n      'galacticNuclei'\n    ]\n    const perSecNames = ['atoms', 'protons', 'elements', 'pulsars', 'quasars']\n\n    for (let i = 1; i <= 5; i++) {\n      const ith = G.ordinals[(i - 1) as ZeroToFour]\n      const place = G[`produce${upper[i - 1]}` as const]\n\n      DOMCacheGetOrSet(`reincarnationtext${i}`).textContent = i18next.t(\n        `buildings.names.${names[i - 1]}`,\n        {\n          amount: format(player[`${ith}OwnedParticles` as const], 0, true),\n          gain: format(player[`${ith}GeneratedParticles` as const], 2)\n        }\n      )\n      DOMCacheGetOrSet(`reincarnationtext${i + 5}`).textContent = i18next.t(\n        `buildings.per.${perSecNames[i - 1]}`,\n        {\n          amount: format(place.times(40), 2)\n        }\n      )\n      DOMCacheGetOrSet(`buyparticles${i}`).textContent = i18next.t(\n        'buildings.costParticles',\n        {\n          particles: format(player[`${ith}CostParticles` as const], 2)\n        }\n      )\n    }\n\n    DOMCacheGetOrSet('reincarnationshardinfo').textContent = i18next.t(\n      'buildings.atomsYouHave',\n      {\n        atoms: format(player.reincarnationShards, 2),\n        power: format(G.buildingPower, 4),\n        mult: format(G.reincarnationMultiplier)\n      }\n    )\n\n    DOMCacheGetOrSet('reincarnationCrystalInfo').textContent = i18next.t(\n      'buildings.thanksR2x14',\n      {\n        mult: format(Decimal.pow(G.reincarnationMultiplier, 1 / 50), 3, false)\n      }\n    )\n\n    DOMCacheGetOrSet('reincarnationMythosInfo').textContent = i18next.t(\n      'buildings.thanksR2x15',\n      {\n        mult: format(Decimal.pow(G.reincarnationMultiplier, 1 / 250), 3, false)\n      }\n    )\n\n    if (player.resettoggle3 === 1 || player.resettoggle3 === 0) {\n      DOMCacheGetOrSet('autoreincarnate').textContent = i18next.t(\n        'buildings.autoPrestige',\n        {\n          name: 'Particles',\n          action: 'Reincarnate',\n          factor: format(Decimal.pow(10, player.reincarnationamount)),\n          mult: format(\n            Decimal.pow(\n              10,\n              Decimal.log(G.reincarnationPointGain.add(1), 10)\n                - Decimal.log(player.reincarnationPoints.add(1), 10)\n            ),\n            2\n          )\n        }\n      )\n    } else if (player.resettoggle3 === 2) {\n      DOMCacheGetOrSet('autoreincarnate').textContent = i18next.t(\n        'buildings.autoReincarnate',\n        {\n          name: 'Reincarnate',\n          amount: player.reincarnationamount,\n          timer: format(G.autoResetTimers.reincarnation, 1)\n        }\n      )\n    }\n  } else if (G.buildingSubTab === 'tesseract') {\n    const names = ['dot', 'vector', 'threeSpace', 'bentTime', 'hilbertSpace']\n    const perSecNames = ['constant', 'dot', 'vector', 'threeSpace', 'bentTime']\n\n    for (let i = 1; i <= 5; i++) {\n      const ascendBuildingI = `ascendBuilding${i as 1 | 2 | 3 | 4 | 5}` as const\n\n      DOMCacheGetOrSet(`ascendText${i}`).textContent = i18next.t(\n        `buildings.names.${names[i - 1]}`,\n        {\n          amount: format(player[ascendBuildingI].owned, 0, true),\n          gain: format(player[ascendBuildingI].generated, 2)\n        }\n      )\n\n      DOMCacheGetOrSet(`ascendText${5 + i}`).textContent = i18next.t(\n        `buildings.per.${perSecNames[i - 1]}`,\n        {\n          amount: format(\n            (G.ascendBuildingProduction as Record<string, Decimal>)[\n              G.ordinals[i - 1]\n            ],\n            2\n          )\n        }\n      )\n\n      DOMCacheGetOrSet(`buyTesseracts${i}`).textContent = i18next.t(\n        'buildings.costTesseracts',\n        {\n          tesseracts: format(player[ascendBuildingI].cost, 0)\n        }\n      )\n    }\n\n    DOMCacheGetOrSet('tesseractInfo').textContent = i18next.t(\n      'buildings.tesseractsYouHave',\n      {\n        tesseracts: format(player.wowTesseracts)\n      }\n    )\n\n    DOMCacheGetOrSet('ascendShardInfo').textContent = i18next.t(\n      'buildings.constantYouHave',\n      {\n        const: format(player.ascendShards, 2),\n        amount: format(\n          Math.pow(\n            Decimal.log(player.ascendShards.add(1), 10) + 1,\n            1\n              + (0.2 / 60)\n                * player.challengecompletions[10]\n                * player.upgrades[125]\n              + 0.1 * player.platonicUpgrades[5]\n              + 0.2 * player.platonicUpgrades[10]\n              + (G.platonicBonusMultiplier[5] - 1)\n          ),\n          4,\n          true\n        )\n      }\n    )\n\n    if (player.resettoggle4 === 1 || player.resettoggle4 === 0) {\n      DOMCacheGetOrSet('autotessbuyeramount').textContent = i18next.t(\n        'buildings.autoTesseract',\n        {\n          tesseracts: format(player.tesseractAutoBuyerAmount)\n        }\n      )\n    } else if (player.resettoggle4 === 2) {\n      DOMCacheGetOrSet('autotessbuyeramount').textContent = i18next.t(\n        'buildings.autoAscensionTesseract',\n        {\n          percent: format(Math.min(100, player.tesseractAutoBuyerAmount))\n        }\n      )\n    }\n  }\n}\n\nexport const visualUpdateUpgrades = () => {}\n\nexport const visualUpdateAchievements = () => {}\n\nexport const visualUpdateRunes = () => {\n  if (G.currentTab !== Tabs.Runes) {\n    return\n  }\n  if (G.runescreen === 'runes') {\n    // Placeholder and place work similarly to buildings, except for the specific Talismans.\n    const talismans = [\n      'rune1Talisman',\n      'rune2Talisman',\n      'rune3Talisman',\n      'rune4Talisman',\n      'rune5Talisman'\n    ] as const\n\n    DOMCacheGetOrSet('offeringCount').textContent = i18next.t(\n      'runes.offeringsYouHave',\n      {\n        offerings: format(player.runeshards, 0, true)\n      }\n    )\n\n    for (let i = 1; i <= 7; i++) {\n      // First one updates level, second one updates TNL, third updates orange bonus levels\n      let place = G[talismans[i - 1]]\n      if (i > 5) {\n        place = 0\n      }\n      const runeLevel = player.runelevels[i - 1]\n      const maxLevel = calculateMaxRunes(i)\n      DOMCacheGetOrSet(`rune${i}level`).childNodes[0].textContent = i18next.t(\n        'cubes.cubeMetadata.level',\n        {\n          value1: format(runeLevel),\n          value2: format(maxLevel)\n        }\n      )\n\n      if (runeLevel < maxLevel) {\n        DOMCacheGetOrSet(`rune${i}exp`).textContent = i18next.t('runes.TNL', {\n          EXP: format(\n            calculateRuneExpToLevel(i - 1) - player.runeexp[i - 1],\n            2\n          )\n        })\n      } else {\n        DOMCacheGetOrSet(`rune${i}exp`).textContent = i18next.t('runes.maxLevel')\n      }\n      if (i <= 5) {\n        DOMCacheGetOrSet(`bonusrune${i}`).textContent = i18next.t(\n          'runes.bonusAmount',\n          {\n            x: format(\n              7 * player.constantUpgrades[7]\n                + Math.min(1e7, player.antUpgrades[8]! + G.bonusant9)\n                + place\n            )\n          }\n        )\n      } else {\n        DOMCacheGetOrSet(`bonusrune${i}`).textContent = i18next.t('runes.bonusNope')\n      }\n      displayRuneInformation(i, false)\n    }\n\n    const calculateRecycle = calculateRecycleMultiplier()\n    const allRuneExpAdditiveMultiplier = sumContents([\n      // Base amount multiplied per offering\n      1 * calculateRecycle,\n      // +1 if C1 completion\n      Math.min(1, player.highestchallengecompletions[1]),\n      // +0.10 per C1 completion\n      (0.4 / 10) * player.highestchallengecompletions[1],\n      // Research 5x2\n      0.6 * player.researches[22],\n      // Research 5x3\n      0.3 * player.researches[23],\n      // Particle Upgrade 1x1\n      2 * player.upgrades[61]\n    ])\n\n    DOMCacheGetOrSet('offeringExperienceValue').textContent = i18next.t(\n      'runes.gainExp',\n      {\n        amount: format(allRuneExpAdditiveMultiplier, 2, true)\n      }\n    )\n\n    DOMCacheGetOrSet('offeringRecycleInfo').textContent = i18next.t(\n      'runes.recycleChance',\n      {\n        percent: format((1 - 1 / calculateRecycle) * 100, 2, true),\n        mult: format(calculateRecycle, 2, true)\n      }\n    )\n  }\n\n  if (G.runescreen === 'talismans') {\n    for (let i = 0; i < 7; i++) {\n      const maxTalismanLevel = calculateMaxTalismanLevel(i)\n      // TODO(@KhafraDev): i18n\n      DOMCacheGetOrSet(`talisman${i + 1}level`).textContent = `${player.ascensionCount > 0 ? '' : 'Level '} ${\n        format(player.talismanLevels[i])\n      }/${format(maxTalismanLevel)}`\n    }\n  }\n\n  if (G.runescreen === 'blessings') {\n    const blessingMultiplierArray = [0, 8, 10, 6.66, 2, 1]\n    let t = 0\n    for (let i = 1; i <= 5; i++) {\n      DOMCacheGetOrSet(`runeBlessingLevel${i}Value`).innerHTML = i18next.t(\n        'runes.blessings.blessingLevel',\n        {\n          amount: format(player.runeBlessingLevels[i])\n        }\n      )\n\n      DOMCacheGetOrSet(`runeBlessingPower${i}Value1`).innerHTML = i18next.t(\n        'runes.blessings.blessingPower',\n        {\n          reward: i18next.t(`runes.blessings.rewards.${i - 1}`),\n          value: format(G.runeBlessings[i]),\n          speed: format(\n            1\n              - t\n              + blessingMultiplierArray[i] * G.effectiveRuneBlessingPower[i],\n            4,\n            true\n          )\n        }\n      )\n\n      const levelsPurchasable = calculateSummationLinear(\n        player.runeBlessingLevels[i],\n        G.blessingBaseCost,\n        player.runeshards,\n        player.runeBlessingBuyAmount\n      )[0] - player.runeBlessingLevels[i]\n      levelsPurchasable > 0\n        ? DOMCacheGetOrSet(`runeBlessingPurchase${i}`).classList.add(\n          'runeButtonsAvailable'\n        )\n        : DOMCacheGetOrSet(`runeBlessingPurchase${i}`).classList.remove(\n          'runeButtonsAvailable'\n        )\n\n      DOMCacheGetOrSet(`runeBlessingPurchase${i}`).innerHTML = i18next.t(\n        'runes.blessings.increaseLevel',\n        {\n          amount: format(Math.max(1, levelsPurchasable)),\n          offerings: format(\n            Math.max(\n              G.blessingBaseCost * (1 + player.runeBlessingLevels[i]),\n              calculateSummationLinear(\n                player.runeBlessingLevels[i],\n                G.blessingBaseCost,\n                player.runeshards,\n                player.runeBlessingBuyAmount\n              )[1]\n            )\n          )\n        }\n      )\n\n      if (i === 5) {\n        t = 1\n      }\n    }\n  }\n\n  if (G.runescreen === 'spirits') {\n    const spiritMultiplierArray = [0, 1, 1, 20, 1, 100]\n    const subtract = [0, 0, 0, 1, 0, 0]\n    for (let i = 1; i <= 5; i++) {\n      spiritMultiplierArray[i] *= calculateCorruptionPoints() / 400\n\n      DOMCacheGetOrSet(`runeSpiritLevel${i}Value`).innerHTML = i18next.t(\n        'runes.spirits.spiritLevel',\n        {\n          amount: format(player.runeSpiritLevels[i])\n        }\n      )\n\n      DOMCacheGetOrSet(`runeSpiritPower${i}Value1`).innerHTML = i18next.t(\n        'runes.spirits.spiritPower',\n        {\n          reward: i18next.t(`runes.spirits.rewards.${i - 1}`),\n          value: format(G.runeSpirits[i]),\n          speed: format(\n            1\n              - subtract[i]\n              + spiritMultiplierArray[i] * G.effectiveRuneSpiritPower[i],\n            4,\n            true\n          )\n        }\n      )\n\n      const levelsPurchasable = calculateSummationLinear(\n        player.runeSpiritLevels[i],\n        G.spiritBaseCost,\n        player.runeshards,\n        player.runeSpiritBuyAmount\n      )[0] - player.runeSpiritLevels[i]\n      levelsPurchasable > 0\n        ? DOMCacheGetOrSet(`runeSpiritPurchase${i}`).classList.add(\n          'runeButtonsAvailable'\n        )\n        : DOMCacheGetOrSet(`runeSpiritPurchase${i}`).classList.remove(\n          'runeButtonsAvailable'\n        )\n\n      DOMCacheGetOrSet(`runeSpiritPurchase${i}`).innerHTML = i18next.t(\n        'runes.blessings.increaseLevel',\n        {\n          amount: format(Math.max(1, levelsPurchasable)),\n          offerings: format(\n            Math.max(\n              G.spiritBaseCost * (1 + player.runeSpiritLevels[i]),\n              calculateSummationLinear(\n                player.runeSpiritLevels[i],\n                G.spiritBaseCost,\n                player.runeshards,\n                player.runeSpiritBuyAmount\n              )[1]\n            )\n          )\n        }\n      )\n    }\n  }\n}\n\nexport const visualUpdateChallenges = () => {\n  if (G.currentTab !== Tabs.Challenges) {\n    return\n  }\n  if (player.researches[150] > 0) {\n    DOMCacheGetOrSet('autoIncrementerAmount').innerHTML = i18next.t(\n      'challenges.autoTimer',\n      {\n        time: format(G.autoChallengeTimerIncrement, 2)\n      }\n    )\n  }\n}\n\nexport const visualUpdateResearch = () => {\n  if (G.currentTab !== Tabs.Research) {\n    return\n  }\n\n  if (player.researches[61] > 0) {\n    DOMCacheGetOrSet('automaticobtainium').textContent = i18next.t(\n      'researches.thanksToResearches',\n      {\n        x: format(\n          calculateAutomaticObtainium() * calculateTimeAcceleration().mult,\n          3,\n          true\n        )\n      }\n    )\n  }\n}\n\nexport const visualUpdateAnts = () => {\n  if (G.currentTab !== Tabs.AntHill) {\n    return\n  }\n  DOMCacheGetOrSet('crumbcount').textContent = i18next.t(\n    'ants.youHaveGalacticCrumbs',\n    {\n      x: format(player.antPoints, 2),\n      y: format(G.antOneProduce, 2),\n      z: format(\n        Decimal.pow(\n          Decimal.max(1, player.antPoints),\n          100000\n            + calculateSigmoidExponential(\n              49900000,\n              (((player.antUpgrades[1]! + G.bonusant2) / 5000) * 500) / 499\n            )\n        )\n      )\n    }\n  )\n\n  const mode = player.autoAntSacrificeMode === 2\n    ? i18next.t('ants.modeRealTime')\n    : i18next.t('ants.modeInGameTime')\n  const timer = player.autoAntSacrificeMode === 2\n    ? player.antSacrificeTimerReal\n    : player.antSacrificeTimer\n\n  DOMCacheGetOrSet('autoAntSacrifice').textContent = i18next.t(\n    'ants.sacrificeWhenTimer',\n    {\n      x: player.autoAntSacTimer,\n      y: mode,\n      z: format(timer, 2)\n    }\n  )\n\n  if (player.achievements[173] === 1) {\n    DOMCacheGetOrSet('antSacrificeTimer').textContent = formatTimeShort(\n      player.antSacrificeTimer\n    )\n    showSacrifice()\n  }\n}\n\ninterface cubeNames {\n  cube: number\n  tesseract: number\n  hypercube: number\n  platonicCube: number\n}\n\nexport const visualUpdateCubes = () => {\n  if (G.currentTab !== Tabs.WowCubes) {\n    return\n  }\n\n  const cubeMult = player.shopUpgrades.cubeToQuark ? 1.5 : 1\n  const tesseractMult = player.shopUpgrades.tesseractToQuark ? 1.5 : 1\n  const hypercubeMult = player.shopUpgrades.hypercubeToQuark ? 1.5 : 1\n  const platonicMult = 1.5\n\n  const toNextQuark: cubeNames = {\n    cube: Number(\n      player.wowCubes.checkCubesToNextQuark(\n        5,\n        cubeMult,\n        player.cubeQuarkDaily,\n        player.cubeOpenedDaily\n      )\n    ),\n    tesseract: Number(\n      player.wowTesseracts.checkCubesToNextQuark(\n        7,\n        tesseractMult,\n        player.tesseractQuarkDaily,\n        player.tesseractOpenedDaily\n      )\n    ),\n    hypercube: Number(\n      player.wowHypercubes.checkCubesToNextQuark(\n        10,\n        hypercubeMult,\n        player.hypercubeQuarkDaily,\n        player.hypercubeOpenedDaily\n      )\n    ),\n    platonicCube: Number(\n      player.wowPlatonicCubes.checkCubesToNextQuark(\n        15,\n        platonicMult,\n        player.platonicCubeQuarkDaily,\n        player.platonicCubeOpenedDaily\n      )\n    )\n  }\n\n  const names = Object.keys(toNextQuark) as (keyof cubeNames)[]\n  for (const name of names) {\n    DOMCacheGetOrSet(`${name}QuarksToday`).innerHTML = i18next.t(\n      `wowCubes.quarks.${name}QuarksToday`,\n      {\n        amount: format(player[`${name}QuarkDaily` as const])\n      }\n    )\n    DOMCacheGetOrSet(`${name}QuarksOpenToday`).innerHTML = i18next.t(\n      `wowCubes.quarks.${name}QuarksOpenToday`,\n      {\n        amount: format(player[`${name}OpenedDaily` as const])\n      }\n    )\n    DOMCacheGetOrSet(`${name}QuarksOpenRequirement`).innerHTML = i18next.t(\n      `wowCubes.quarks.${name}QuarksOpenRequirement`,\n      { amount: format(Math.max(1, toNextQuark[name])) }\n    )\n\n    // Change color of requirement text if 1 or less required :D\n    DOMCacheGetOrSet(`${name}QuarksOpenRequirement`).style.color = Math.max(1, toNextQuark[name]) === 1\n      ? 'gold'\n      : 'white'\n  }\n\n  // TODO: this code is fucking terrible holy shit. Also pretty sure there's a bug.\n  let accuracy: [null | number, ...number[]]\n  switch (player.subtabNumber) {\n    case 0: {\n      if (player.autoOpenCubes) {\n        DOMCacheGetOrSet('openCubes').textContent = i18next.t(\n          'wowCubes.autoOn',\n          {\n            percent: format(player.openCubes, 0)\n          }\n        )\n      }\n      DOMCacheGetOrSet('cubeQuantity').innerHTML = i18next.t(\n        'wowCubes.cubes.inventory',\n        {\n          amount: format(player.wowCubes, 0, true)\n        }\n      )\n      const cubeArray = [\n        null,\n        player.cubeBlessings.accelerator,\n        player.cubeBlessings.multiplier,\n        player.cubeBlessings.offering,\n        player.cubeBlessings.runeExp,\n        player.cubeBlessings.obtainium,\n        player.cubeBlessings.antSpeed,\n        player.cubeBlessings.antSacrifice,\n        player.cubeBlessings.antELO,\n        player.cubeBlessings.talismanBonus,\n        player.cubeBlessings.globalSpeed\n      ]\n\n      accuracy = [null, 2, 2, 2, 2, 2, 2, 2, 1, 4, 3]\n      for (let i = 1; i <= 10; i++) {\n        let augmentAccuracy = 0\n        if (cubeArray[i]! >= 1000 && i !== 6) {\n          augmentAccuracy += 2\n        }\n        const aestheticMultiplier = i === 1 || i === 8 || i === 9 ? 1 : 100\n        DOMCacheGetOrSet(`cube${i}Bonus`).innerHTML = i18next.t(\n          `wowCubes.cubes.items.${i}`,\n          {\n            amount: format(cubeArray[i], 0, true),\n            bonus: format(\n              aestheticMultiplier * (G.cubeBonusMultiplier[i]! - 1),\n              accuracy[i]! + augmentAccuracy,\n              true\n            )\n          }\n        )\n      }\n      DOMCacheGetOrSet('cubeBlessingsTotal').innerHTML = i18next.t(\n        'wowCubes.cubes.total',\n        {\n          amount: format(sumContents(cubeArray.slice(1) as number[]), 0, true)\n        }\n      )\n      break\n    }\n    case 1: {\n      if (player.autoOpenTesseracts) {\n        DOMCacheGetOrSet('openTesseracts').textContent = i18next.t(\n          'wowCubes.autoOn',\n          {\n            percent: format(player.openTesseracts, 0)\n          }\n        )\n      }\n      DOMCacheGetOrSet('tesseractQuantity').innerHTML = i18next.t(\n        'wowCubes.tesseracts.inventory',\n        {\n          amount: format(player.wowTesseracts, 0, true)\n        }\n      )\n      const tesseractArray = [\n        null,\n        player.tesseractBlessings.accelerator,\n        player.tesseractBlessings.multiplier,\n        player.tesseractBlessings.offering,\n        player.tesseractBlessings.runeExp,\n        player.tesseractBlessings.obtainium,\n        player.tesseractBlessings.antSpeed,\n        player.tesseractBlessings.antSacrifice,\n        player.tesseractBlessings.antELO,\n        player.tesseractBlessings.talismanBonus,\n        player.tesseractBlessings.globalSpeed\n      ]\n      accuracy = [null, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2]\n      for (let i = 1; i <= 10; i++) {\n        let augmentAccuracy = 0\n        if (tesseractArray[i]! >= 1000 && i !== 6) {\n          augmentAccuracy += 2\n        }\n        DOMCacheGetOrSet(`tesseract${i}Bonus`).innerHTML = i18next.t(\n          `wowCubes.tesseracts.items.${i}`,\n          {\n            amount: format(tesseractArray[i], 0, true),\n            bonus: format(\n              100 * (G.tesseractBonusMultiplier[i]! - 1),\n              accuracy[i]! + augmentAccuracy,\n              true\n            )\n          }\n        )\n      }\n      DOMCacheGetOrSet('tesseractBlessingsTotal').innerHTML = i18next.t(\n        'wowCubes.tesseracts.total',\n        {\n          amount: format(\n            sumContents(tesseractArray.slice(1) as number[]),\n            0,\n            true\n          )\n        }\n      )\n      break\n    }\n    case 2: {\n      if (player.autoOpenHypercubes) {\n        DOMCacheGetOrSet('openHypercubes').textContent = i18next.t(\n          'wowCubes.autoOn',\n          {\n            percent: format(player.openHypercubes, 0)\n          }\n        )\n      }\n      DOMCacheGetOrSet('hypercubeQuantity').innerHTML = i18next.t(\n        'wowCubes.hypercubes.inventory',\n        {\n          amount: format(player.wowHypercubes, 0, true)\n        }\n      )\n      const hypercubeArray = [\n        null,\n        player.hypercubeBlessings.accelerator,\n        player.hypercubeBlessings.multiplier,\n        player.hypercubeBlessings.offering,\n        player.hypercubeBlessings.runeExp,\n        player.hypercubeBlessings.obtainium,\n        player.hypercubeBlessings.antSpeed,\n        player.hypercubeBlessings.antSacrifice,\n        player.hypercubeBlessings.antELO,\n        player.hypercubeBlessings.talismanBonus,\n        player.hypercubeBlessings.globalSpeed\n      ]\n      accuracy = [null, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2]\n      for (let i = 1; i <= 10; i++) {\n        let augmentAccuracy = 0\n        if (hypercubeArray[i]! >= 1000) {\n          augmentAccuracy += 2\n        }\n        DOMCacheGetOrSet(`hypercube${i}Bonus`).innerHTML = i18next.t(\n          `wowCubes.hypercubes.items.${i}`,\n          {\n            amount: format(hypercubeArray[i], 0, true),\n            bonus: format(\n              100 * (G.hypercubeBonusMultiplier[i]! - 1),\n              accuracy[i]! + augmentAccuracy,\n              true\n            )\n          }\n        )\n      }\n      DOMCacheGetOrSet('hypercubeBlessingsTotal').innerHTML = i18next.t(\n        'wowCubes.hypercubes.total',\n        {\n          amount: format(\n            sumContents(hypercubeArray.slice(1) as number[]),\n            0,\n            true\n          )\n        }\n      )\n      break\n    }\n    case 3: {\n      if (player.autoOpenPlatonicsCubes) {\n        DOMCacheGetOrSet('openPlatonicCube').textContent = i18next.t(\n          'wowCubes.autoOn',\n          {\n            percent: format(player.openPlatonicsCubes, 0)\n          }\n        )\n      }\n      DOMCacheGetOrSet('platonicQuantity').innerHTML = i18next.t(\n        'wowCubes.platonics.inventory',\n        {\n          amount: format(player.wowPlatonicCubes, 0, true)\n        }\n      )\n      const platonicArray = [\n        player.platonicBlessings.cubes,\n        player.platonicBlessings.tesseracts,\n        player.platonicBlessings.hypercubes,\n        player.platonicBlessings.platonics,\n        player.platonicBlessings.hypercubeBonus,\n        player.platonicBlessings.taxes,\n        player.platonicBlessings.scoreBonus,\n        player.platonicBlessings.globalSpeed\n      ]\n      const DRThreshold = [4e6, 4e6, 4e6, 8e4, 1e4, 1e4, 1e4, 1e4]\n      accuracy = [5, 5, 5, 5, 2, 3, 3, 2]\n      for (let i = 0; i < platonicArray.length; i++) {\n        let augmentAccuracy = 0\n        if (platonicArray[i] >= DRThreshold[i]) {\n          augmentAccuracy += 1\n        }\n        DOMCacheGetOrSet(`platonicCube${i + 1}Bonus`).innerHTML = i18next.t(\n          `wowCubes.platonics.items.${i + 1}`,\n          {\n            amount: format(platonicArray[i], 0, true),\n            bonus: format(\n              100 * (G.platonicBonusMultiplier[i] - 1),\n              accuracy[i]! + augmentAccuracy,\n              true\n            )\n          }\n        )\n      }\n      DOMCacheGetOrSet('platonicBlessingsTotal').innerHTML = i18next.t(\n        'wowCubes.platonics.total',\n        {\n          amount: format(sumContents(platonicArray), 0, true)\n        }\n      )\n      break\n    }\n    case 4:\n      DOMCacheGetOrSet('cubeAmount2').textContent = `You have ${\n        format(\n          player.wowCubes,\n          0,\n          true\n        )\n      } Wow! Cubes =)`\n      break\n    case 5:\n      break\n    case 6:\n      DOMCacheGetOrSet('hepteractQuantity').innerHTML = i18next.t(\n        'wowCubes.hepteractForge.youPossessHepteracts',\n        {\n          x: format(player.wowAbyssals, 0, true)\n        }\n      )\n\n      // Update the grid\n      hepteractTypeList.forEach((type) => {\n        UpdateHeptGridValues(type)\n      })\n\n      // orbs\n      DOMCacheGetOrSet('heptGridOrbBalance').textContent = format(\n        player.overfluxOrbs\n      )\n      DOMCacheGetOrSet('heptGridOrbEffect').textContent = `${\n        format(\n          100 * (-1 + calculateCubeQuarkMultiplier()),\n          2,\n          true\n        )\n      }%`\n\n      // powder\n      DOMCacheGetOrSet('heptGridPowderBalance').textContent = format(\n        player.overfluxPowder\n      )\n      DOMCacheGetOrSet('heptGridPowderWarps').textContent = format(\n        player.dailyPowderResetUses\n      )\n      break\n    default:\n      break\n  }\n}\n\nconst UpdateHeptGridValues = (type: hepteractTypes) => {\n  const text = `${type}ProgressBarText`\n  const bar = `${type}ProgressBar`\n  const textEl = DOMCacheGetOrSet(text)\n  const barEl = DOMCacheGetOrSet(bar)\n  const unlocked = player.hepteractCrafts[type].UNLOCKED\n\n  if (!unlocked) {\n    textEl.textContent = 'LOCKED'\n    barEl.style.width = '100%'\n    barEl.style.backgroundColor = 'var(--hepteract-bar-red)'\n  } else {\n    const balance = player.hepteractCrafts[type].BAL\n    const cap = player.hepteractCrafts[type].computeActualCap()\n    const barWidth = Math.round((balance / cap) * 100)\n\n    let barColor = ''\n    if (barWidth < 34) {\n      barColor = 'var(--hepteract-bar-red)'\n    } else if (barWidth >= 34 && barWidth < 68) {\n      barColor = 'var(--hepteract-bar-yellow)'\n    } else {\n      barColor = 'var(--hepteract-bar-green)'\n    }\n\n    textEl.textContent = `${format(balance)} / ${format(cap)}`\n    barEl.style.width = `${barWidth}%`\n    barEl.style.backgroundColor = barColor\n  }\n}\n\nexport const visualUpdateCorruptions = () => {\n  if (G.currentTab !== Tabs.Corruption) {\n    return\n  }\n\n  const metaData = CalcCorruptionStuff()\n  const ascCount = calcAscensionCount()\n  DOMCacheGetOrSet('autoAscend').innerHTML = player.autoAscendMode === 'c10Completions'\n    ? i18next.t('corruptions.autoAscend.c10Completions', {\n      input: format(player.autoAscendThreshold),\n      completions: format(player.challengecompletions[10])\n    })\n    : i18next.t('corruptions.autoAscend.realTime', {\n      input: format(player.autoAscendThreshold),\n      time: format(player.ascensionCounterRealReal)\n    })\n  /*DOMCacheGetOrSet('autoAscendText').textContent = player.autoAscendMode === 'c10Completions' ? ' you\\'ve completed Sadistic Challenge I a total of ' : ' the timer is at least ';\n    DOMCacheGetOrSet('autoAscendMetric').textContent = format(player.autoAscendThreshold);\n    DOMCacheGetOrSet('autoAscendText2').textContent = player.autoAscendMode === 'c10Completions' ? ' times, Currently ' : ' seconds (Real-time), Currently ';\n    DOMCacheGetOrSet('autoAscendMetric2').textContent = player.autoAscendMode === 'c10Completions' ? String(player.challengecompletions[10]) : format(player.ascensionCounterRealReal);*/\n  DOMCacheGetOrSet('corruptionBank').innerHTML = i18next.t(\n    'corruptions.corruptionBank',\n    {\n      number: format(metaData[0], 0, true)\n    }\n  )\n  DOMCacheGetOrSet('corruptionScore').innerHTML = i18next.t(\n    'corruptions.corruptionScore',\n    {\n      ascScore: format(metaData[1], 1, true),\n      corrMult: format(metaData[2], 1, true),\n      bonusMult: format(metaData[9], 2, true),\n      totalScore: format(metaData[3], 1, true)\n    }\n  )\n  DOMCacheGetOrSet('corruptionCubes').innerHTML = i18next.t(\n    'corruptions.corruptionCubes',\n    {\n      cubeAmount: format(metaData[4], 0, true)\n    }\n  )\n  DOMCacheGetOrSet('corruptionTesseracts').innerHTML = i18next.t(\n    'corruptions.corruptionTesseracts',\n    {\n      tesseractAmount: format(metaData[5], 0, true)\n    }\n  )\n  DOMCacheGetOrSet('corruptionHypercubes').innerHTML = i18next.t(\n    'corruptions.corruptionHypercubes',\n    {\n      hypercubeAmount: format(metaData[6], 0, true)\n    }\n  )\n  DOMCacheGetOrSet('corruptionPlatonicCubes').innerHTML = i18next.t(\n    'corruptions.corruptionPlatonics',\n    {\n      platonicAmount: format(metaData[7], 0, true)\n    }\n  )\n  DOMCacheGetOrSet('corruptionHepteracts').innerHTML = i18next.t(\n    'corruptions.corruptionHepteracts',\n    {\n      hepteractAmount: format(metaData[8], 0, true)\n    }\n  )\n  DOMCacheGetOrSet('corruptionAntExponent').innerHTML = i18next.t(\n    'corruptions.antExponent',\n    {\n      exponent: format(\n        (1 - (0.9 / 90) * sumContents(player.usedCorruptions))\n          * G.extinctionMultiplier[player.usedCorruptions[7]],\n        3\n      )\n    }\n  )\n  DOMCacheGetOrSet('corruptionSpiritBonus').innerHTML = i18next.t(\n    'corruptions.spiritBonus',\n    {\n      multiplier: format(calculateCorruptionPoints() / 400, 2, true)\n    }\n  )\n  DOMCacheGetOrSet('corruptionAscensionCount').style.display = ascCount > 1 ? 'block' : 'none'\n\n  if (ascCount > 1) {\n    DOMCacheGetOrSet('corruptionAscensionCount').innerHTML = i18next.t(\n      'corruptions.ascensionCount',\n      {\n        ascCount: format(calcAscensionCount())\n      }\n    )\n  }\n}\n\nexport const visualUpdateSettings = () => {\n  if (G.currentTab !== Tabs.Settings) {\n    return\n  }\n\n  if (player.subtabNumber === 0) {\n    DOMCacheGetOrSet('saveString').textContent = i18next.t(\n      'settings.currently',\n      {\n        x: player.saveString.replace('$VERSION$', `v${version}`)\n      }\n    )\n\n    const quarkData = quarkHandler()\n    const onExportQuarks = quarkData.gain\n    const maxExportQuarks = quarkData.capacity\n\n    let goldenQuarkMultiplier = 1\n    goldenQuarkMultiplier *= 1 + getQuarkBonus() / 100\n    goldenQuarkMultiplier *= player.highestSingularityCount >= 100\n      ? 1 + player.highestSingularityCount / 50\n      : 1\n\n    DOMCacheGetOrSet('quarktimerdisplay').textContent = i18next.t(\n      'settings.exportQuark',\n      {\n        x: format(\n          3600 / quarkData.perHour\n            - (player.quarkstimer % (3600.00001 / quarkData.perHour)),\n          2\n        ),\n        y: player.worlds.toString(1)\n      }\n    )\n    DOMCacheGetOrSet('quarktimeramount').textContent = i18next.t(\n      'settings.quarksOnExport',\n      {\n        x: player.worlds.toString(onExportQuarks),\n        y: player.worlds.toString(maxExportQuarks)\n      }\n    )\n\n    DOMCacheGetOrSet('goldenQuarkTimerDisplay').textContent = i18next.t(\n      'settings.exportGoldenQuark',\n      {\n        x: format(\n          3600\n              / Math.max(\n                1,\n                +player.singularityUpgrades.goldenQuarks3.getEffect().bonus\n              )\n            - (player.goldenQuarksTimer\n              % (3600.00001\n                / Math.max(\n                  1,\n                  +player.singularityUpgrades.goldenQuarks3.getEffect().bonus\n                )))\n        ),\n        y: format(goldenQuarkMultiplier, 2, true)\n      }\n    )\n\n    DOMCacheGetOrSet('goldenQuarkTimerAmount').textContent = i18next.t(\n      'settings.goldenQuarksOnExport',\n      {\n        x: format(\n          Math.floor(\n            (player.goldenQuarksTimer\n              * +player.singularityUpgrades.goldenQuarks3.getEffect().bonus)\n              / 3600\n          ) * goldenQuarkMultiplier,\n          2\n        ),\n        y: format(\n          Math.floor(\n            168\n              * +player.singularityUpgrades.goldenQuarks3.getEffect().bonus\n              * goldenQuarkMultiplier\n          )\n        )\n      }\n    )\n  }\n  if (player.subtabNumber === 3) {\n    loadStatisticsUpdate()\n  }\n}\n\nexport const visualUpdateSingularity = () => {\n  if (G.currentTab !== Tabs.Singularity) {\n    return\n  }\n  if (player.subtabNumber === 0) {\n    DOMCacheGetOrSet('goldenQuarkamount').textContent = i18next.t(\n      'singularity.goldenQuarkAmount',\n      {\n        goldenQuarks: format(player.goldenQuarks, 0, true)\n      }\n    )\n\n    const keys = Object.keys(\n      player.singularityUpgrades\n    ) as (keyof Player['singularityUpgrades'])[]\n    const val = G.shopEnhanceVision\n\n    for (const key of keys) {\n      if (key === 'offeringAutomatic' || key === 'WIP') {\n        continue\n      }\n      const singItem = player.singularityUpgrades[key]\n      const el = DOMCacheGetOrSet(`${String(key)}`)\n      if (\n        singItem.maxLevel !== -1\n        && singItem.level >= singItem.computeMaxLevel()\n      ) {\n        el.style.filter = val ? 'brightness(.9)' : 'none'\n      } else if (\n        singItem.getCostTNL() > player.goldenQuarks\n        || player.singularityCount < singItem.minimumSingularity\n      ) {\n        el.style.filter = val ? 'grayscale(.9) brightness(.8)' : 'none'\n      } else if (\n        singItem.maxLevel === -1\n        || singItem.level < singItem.computeMaxLevel()\n      ) {\n        if (singItem.freeLevels > singItem.level) {\n          el.style.filter = val ? 'blur(1px) invert(.9) saturate(200)' : 'none'\n        } else {\n          el.style.filter = val ? 'invert(.9) brightness(1.1)' : 'none'\n        }\n      }\n    }\n  }\n  if (player.subtabNumber === 2) {\n    const keys = Object.keys(\n      player.octeractUpgrades\n    ) as (keyof Player['octeractUpgrades'])[]\n    const val = G.shopEnhanceVision\n\n    for (const key of keys) {\n      const octItem = player.octeractUpgrades[key]\n      const el = DOMCacheGetOrSet(`${String(key)}`)\n      if (octItem.maxLevel !== -1 && octItem.level >= octItem.maxLevel) {\n        el.style.filter = val ? 'brightness(.9)' : 'none'\n      } else if (octItem.getCostTNL() > player.wowOcteracts) {\n        el.style.filter = val ? 'grayscale(.9) brightness(.8)' : 'none'\n      } else if (octItem.maxLevel === -1 || octItem.level < octItem.maxLevel) {\n        if (octItem.freeLevels > octItem.level) {\n          el.style.filter = val ? 'blur(2px) invert(.9) saturate(200)' : 'none'\n        } else {\n          el.style.filter = val ? 'invert(.9) brightness(1.1)' : 'none'\n        }\n      }\n    }\n  }\n}\n\nexport const shopMouseover = (value: boolean) => {\n  G.shopEnhanceVision = value\n}\n\nexport const visualUpdateOcteracts = () => {\n  if (G.currentTab !== Tabs.Singularity) {\n    return\n  }\n  DOMCacheGetOrSet('octeractAmount').innerHTML = i18next.t('octeract.amount', {\n    octeracts: format(player.wowOcteracts, 2, true, true, true)\n  })\n\n  const perSecond = octeractGainPerSecond()\n\n  DOMCacheGetOrSet('secondsPerOcteract').style.display = perSecond < 1 ? 'block' : 'none'\n  DOMCacheGetOrSet('secondsPerOcteract').innerHTML = i18next.t(\n    'octeract.secondsPerOcteract',\n    {\n      seconds: format(1 / perSecond, 2, true)\n    }\n  )\n  DOMCacheGetOrSet('octeractPerSeconds').style.display = perSecond >= 1 ? 'block' : 'none'\n  DOMCacheGetOrSet('octeractPerSeconds').innerHTML = i18next.t(\n    'octeract.octeractsPerSecond',\n    {\n      octeracts: format(perSecond, 2, true)\n    }\n  )\n\n  const cTOCB = (calculateTotalOcteractCubeBonus() - 1) * 100\n  const cTOQB = (calculateTotalOcteractQuarkBonus() - 1) * 100\n  const cTOOB = (calculateTotalOcteractOfferingBonus() - 1) * 100\n  const cTOOOB = (calculateTotalOcteractObtainiumBonus() - 1) * 100\n  DOMCacheGetOrSet('totalOcteractAmount').innerHTML = i18next.t(\n    'octeract.totalGenerated',\n    {\n      octeracts: format(player.totalWowOcteracts, 2, true, true, true)\n    }\n  )\n  DOMCacheGetOrSet('totalOcteractCubeBonus').style.display = cTOCB >= 0.001 ? 'block' : 'none'\n  DOMCacheGetOrSet('totalOcteractQuarkBonus').style.display = cTOQB >= 0.001 ? 'block' : 'none'\n  DOMCacheGetOrSet('totalOcteractOfferingBonus').style.display = cTOOB >= 0.001 ? 'block' : 'none'\n  DOMCacheGetOrSet('totalOcteractObtainiumBonus').style.display = cTOOOB >= 0.001 ? 'block' : 'none'\n  DOMCacheGetOrSet('totalOcteractCubeBonus').innerHTML = i18next.t(\n    'octeract.generatedCubeBonus',\n    {\n      cubeBonus: format(cTOCB, 3, true)\n    }\n  )\n  DOMCacheGetOrSet('totalOcteractQuarkBonus').innerHTML = i18next.t(\n    'octeract.generatedQuarkBonus',\n    {\n      quarkBonus: format(cTOQB, 3, true)\n    }\n  )\n  DOMCacheGetOrSet('totalOcteractOfferingBonus').innerHTML = i18next.t(\n    'octeract.generatedOfferingBonus',\n    {\n      offeringBonus: format(cTOOB, 3, true)\n    }\n  )\n  DOMCacheGetOrSet('totalOcteractObtainiumBonus').innerHTML = i18next.t(\n    'octeract.generatedObtainiumBonus',\n    {\n      obtainiumBonus: format(cTOOOB, 3, true)\n    }\n  )\n}\n\nexport const visualUpdateAmbrosia = () => {\n  if (G.currentTab !== Tabs.Singularity) {\n    return\n  }\n\n  const luck = G.ambrosiaCurrStats.ambrosiaLuck\n  const baseLuck = G.ambrosiaCurrStats.ambrosiaLuck / G.ambrosiaCurrStats.ambrosiaAdditiveLuckMult\n  const luckBonusPercent = 100 * (G.ambrosiaCurrStats.ambrosiaAdditiveLuckMult - 1)\n  const guaranteed = Math.floor(luck / 100)\n  const chance = luck - 100 * Math.floor(luck / 100)\n  const requiredTime = calculateRequiredBlueberryTime()\n  const cubePercent = 100 * (calculateAmbrosiaCubeMult() - 1)\n  const quarkPercent = 100 * (calculateAmbrosiaQuarkMult() - 1)\n  const availableBlueberries = G.ambrosiaCurrStats.ambrosiaBlueberries - player.spentBlueberries\n  const totalTimePerSecond = G.ambrosiaCurrStats.ambrosiaGenerationSpeed\n  const progressTimePerSecond = Math.min(totalTimePerSecond, Math.pow(1000 * totalTimePerSecond, 1 / 2))\n  const barWidth = 100 * Math.min(1, player.blueberryTime / requiredTime)\n  const pixelBarWidth = 100 * Math.min(1, player.ultimateProgress / 1e6)\n  DOMCacheGetOrSet('ambrosiaProgress').style.width = `${barWidth}%`\n  DOMCacheGetOrSet('ambrosiaProgressText').textContent = `${format(player.blueberryTime, 0, true)} / ${\n    format(requiredTime, 0, true)\n  } [+${format(totalTimePerSecond, 0, true)}/s]`\n\n  DOMCacheGetOrSet('pixelProgress').style.width = `${pixelBarWidth}%`\n  DOMCacheGetOrSet('pixelProgressText').textContent = `${format(player.ultimateProgress, 0, true)} / ${\n    format(1000000, 0, true)\n  } [+${format(progressTimePerSecond * 0.02, 2, true)}/s]`\n  const extraLuckHTML = luckBonusPercent > 0.01\n    ? `[<span style='color: var(--amber-text-color)'>\u2618${\n      format(\n        baseLuck,\n        0,\n        true\n      )\n    } +${format(luckBonusPercent, 2, true)}%</span>]`\n    : ''\n\n  DOMCacheGetOrSet('ambrosiaAmount').innerHTML = i18next.t('ambrosia.amount', {\n    ambrosia: format(player.ambrosia, 0, true),\n    lifetimeAmbrosia: format(player.lifetimeAmbrosia, 0, true)\n  })\n  /*DOMCacheGetOrSet('ambrosiaChance').innerHTML = i18next.t(\n    'ambrosia.blueberryGeneration',\n    {\n      chance: format(totalTimePerSecond, 2, true)\n    }\n  )*/\n  DOMCacheGetOrSet('ambrosiaAmountPerGeneration').innerHTML = i18next.t(\n    'ambrosia.perGen',\n    {\n      guaranteed: format(guaranteed, 0, true),\n      extraChance: format(chance, 0, true),\n      ambrosiaLuck: format(luck, 0, true),\n      extra: extraLuckHTML\n    }\n  )\n  /* DOMCacheGetOrSet('ambrosiaRNG').innerHTML = i18next.t(\n    'ambrosia.blueberrySecond',\n    {\n      blueberrySecond: format(player.blueberryTime, 0, true),\n      thresholdTimer: format(requiredTime, 0, true)\n    }\n  )*/\n  DOMCacheGetOrSet('ambrosiaRewards').innerHTML = i18next.t(\n    'ambrosia.bonuses',\n    {\n      cube: format(cubePercent, 0, true),\n      quark: format(quarkPercent, 0, true)\n    }\n  )\n  DOMCacheGetOrSet('ambrosiaBlueberries').innerHTML = i18next.t(\n    'ambrosia.availableBlueberries',\n    {\n      availableBlueberries\n    }\n  )\n}\n\nexport const visualUpdateShop = () => {\n  if (G.currentTab !== Tabs.Shop) {\n    return\n  }\n  DOMCacheGetOrSet('quarkamount').textContent = i18next.t(\n    'shop.youHaveQuarks',\n    { x: format(player.worlds, 0, true) }\n  )\n  DOMCacheGetOrSet('offeringpotionowned').textContent = format(\n    player.shopUpgrades.offeringPotion,\n    0,\n    true\n  )\n  DOMCacheGetOrSet('obtainiumpotionowned').textContent = format(\n    player.shopUpgrades.obtainiumPotion,\n    0,\n    true\n  )\n\n  // Create Keys with the correct type\n  const keys = Object.keys(\n    player.shopUpgrades\n  ) as (keyof Player['shopUpgrades'])[]\n  for (const key of keys) {\n    // Create a copy of shopItem instead of accessing many times\n    const shopItem = shopData[key]\n\n    if (shopItem.type === shopUpgradeTypes.CONSUMABLE) {\n      const maxBuyablePotions = Math.min(\n        Math.floor(Number(player.worlds) / getShopCosts(key)),\n        shopItem.maxLevel - player.shopUpgrades[key]\n      )\n      const el = DOMCacheGetOrSet(`buy${key.toLowerCase()}`)\n      switch (player.shopBuyMaxToggle) {\n        case false:\n          el.textContent = 'BUY: 100 Quarks Each'\n          break\n        case 'TEN':\n          el.textContent = `+${Math.min(10, maxBuyablePotions)} for ${\n            format(\n              getShopCosts(key) * Math.min(10, maxBuyablePotions),\n              0,\n              true\n            )\n          } Quarks`\n          break\n        default:\n          el.textContent = `+${maxBuyablePotions} for ${\n            format(\n              getShopCosts(key) * maxBuyablePotions\n            )\n          } Quarks`\n      }\n    }\n\n    if (shopItem.type === shopUpgradeTypes.UPGRADE) {\n      if (\n        player.shopHideToggle\n        && player.shopUpgrades[key] >= shopItem.maxLevel\n        && !shopItem.refundable\n      ) {\n        DOMCacheGetOrSet(`${key}Hide`).style.display = 'none'\n        continue\n      } else {\n        DOMCacheGetOrSet(`${key}Hide`).style.display = isShopUpgradeUnlocked(\n            key\n          )\n          ? 'block'\n          : 'none'\n      }\n      // Case: If max level is 1, then it can be considered a boolean \"bought\" or \"not bought\" item\n      if (shopItem.maxLevel === 1) {\n        // TODO(@KhafraDev): i18n\n        DOMCacheGetOrSet(`${key}Level`).textContent = player.shopUpgrades[key] >= shopItem.maxLevel\n          ? 'Bought!'\n          : 'Not Bought!'\n      } else {\n        // Case: max level greater than 1, treat it as a fraction out of max level\n        // TODO(@KhafraDev): i18n\n        DOMCacheGetOrSet(`${key}Level`).textContent = `${\n          player.highestSingularityCount > 0 || player.ascensionCount > 0\n            ? ''\n            : 'Level '\n        }${format(player.shopUpgrades[key])}/${format(shopItem.maxLevel)}`\n      }\n      // Handles Button - max level needs no price indicator, otherwise it's necessary\n\n      const buyMaxAmount = shopItem.maxLevel - player.shopUpgrades[key]\n      let buyData: IMultiBuy\n\n      switch (player.shopBuyMaxToggle) {\n        case false:\n          DOMCacheGetOrSet(`${key}Button`).textContent = player.shopUpgrades[key] >= shopItem.maxLevel\n            ? i18next.t('shop.maxed')\n            : i18next.t('shop.upgradeFor', { x: format(getShopCosts(key)) })\n          break\n        case 'TEN':\n          buyData = calculateSummationNonLinear(\n            player.shopUpgrades[key],\n            shopItem.price,\n            +player.worlds,\n            shopItem.priceIncrease / shopItem.price,\n            Math.min(10, buyMaxAmount)\n          )\n          DOMCacheGetOrSet(`${key}Button`).textContent = player.shopUpgrades[key] >= shopItem.maxLevel\n            ? i18next.t('shop.maxed')\n            : i18next.t('shop.plusForQuarks', {\n              x: format(\n                buyData.levelCanBuy - player.shopUpgrades[key],\n                0,\n                true\n              ),\n              y: format(buyData.cost)\n            })\n          break\n        default:\n          buyData = calculateSummationNonLinear(\n            player.shopUpgrades[key],\n            shopItem.price,\n            +player.worlds,\n            shopItem.priceIncrease / shopItem.price,\n            buyMaxAmount\n          )\n          DOMCacheGetOrSet(`${key}Button`).textContent = player.shopUpgrades[key] >= shopItem.maxLevel\n            ? i18next.t('shop.maxed')\n            : i18next.t('shop.plusForQuarks', {\n              x: format(\n                buyData.levelCanBuy - player.shopUpgrades[key],\n                0,\n                true\n              ),\n              y: format(buyData.cost)\n            })\n      }\n    }\n  }\n\n  DOMCacheGetOrSet('buySingularityQuarksAmount').textContent = `${player.goldenQuarks < 1000 ? 'Owned: ' : ''}${\n    format(player.goldenQuarks)\n  }`\n  DOMCacheGetOrSet('buySingularityQuarksButton').textContent = `Buy! ${\n    format(\n      getGoldenQuarkCost().cost\n    )\n  } Quarks Each`\n}\n\nexport const visualUpdateEvent = () => {}\n", "import { sacrificeAnts } from './Ants'\nimport { buyAllBlessings } from './Buy'\nimport {\n  calculateAscensionAcceleration,\n  calculateAutomaticObtainium,\n  calculateGoldenQuarkGain,\n  calculateMaxRunes,\n  calculateObtainium,\n  calculateRequiredBlueberryTime,\n  calculateTimeAcceleration,\n  octeractGainPerSecond\n} from './Calculate'\nimport { quarkHandler } from './Quark'\nimport { checkMaxRunes, redeemShards, unlockedRune } from './Runes'\nimport { useConsumable } from './Shop'\nimport { player } from './Synergism'\nimport { Tabs } from './Tabs'\nimport { buyAllTalismanResources } from './Talismans'\nimport { visualUpdateAmbrosia, visualUpdateOcteracts, visualUpdateResearch } from './UpdateVisuals'\nimport { Globals as G } from './Variables'\n\ntype TimerInput =\n  | 'prestige'\n  | 'transcension'\n  | 'reincarnation'\n  | 'ascension'\n  | 'quarks'\n  | 'goldenQuarks'\n  | 'singularity'\n  | 'octeracts'\n  | 'autoPotion'\n  | 'ambrosia'\n\n/**\n * addTimers will add (in milliseconds) time to the reset counters, and quark export timer\n * @param input\n * @param time\n */\nexport const addTimers = (input: TimerInput, time = 0) => {\n  const timeMultiplier = input === 'ascension'\n      || input === 'quarks'\n      || input === 'goldenQuarks'\n      || input === 'singularity'\n      || input === 'octeracts'\n      || input === 'autoPotion'\n      || input === 'ambrosia'\n    ? 1\n    : calculateTimeAcceleration().mult\n\n  switch (input) {\n    case 'prestige': {\n      player.prestigecounter += time * timeMultiplier\n      break\n    }\n    case 'transcension': {\n      player.transcendcounter += time * timeMultiplier\n      break\n    }\n    case 'reincarnation': {\n      player.reincarnationcounter += time * timeMultiplier\n      break\n    }\n    case 'ascension': {\n      // Anything in here is affected by add code\n      const ascensionSpeedMulti = player.singularityUpgrades.oneMind.getEffect()\n          .bonus\n        ? 10\n        : calculateAscensionAcceleration()\n      player.ascensionCounter += time * timeMultiplier * ascensionSpeedMulti\n      player.ascensionCounterReal += time * timeMultiplier\n      break\n    }\n    case 'singularity': {\n      player.ascensionCounterRealReal += time\n      player.singularityCounter += time * timeMultiplier\n\n      if (player.insideSingularityChallenge) {\n        player.singChallengeTimer += time * timeMultiplier\n      }\n      else {\n        player.singChallengeTimer = 0\n      }\n\n      break\n    }\n    case 'quarks': {\n      // First get maximum Quark Clock (25h, up to +25 from Research 8x20)\n      const maxQuarkTimer = quarkHandler().maxTime\n      player.quarkstimer += time * timeMultiplier\n      // Checks if this new time is greater than maximum, in which it will default to that time.\n      // Otherwise returns itself.\n      player.quarkstimer = player.quarkstimer > maxQuarkTimer ? maxQuarkTimer : player.quarkstimer\n      break\n    }\n    case 'goldenQuarks': {\n      if (+player.singularityUpgrades.goldenQuarks3.getEffect().bonus === 0) {\n        return\n      } else {\n        player.goldenQuarksTimer += time * timeMultiplier\n        player.goldenQuarksTimer = player.goldenQuarksTimer > 3600 * 168\n          ? 3600 * 168\n          : player.goldenQuarksTimer\n      }\n      break\n    }\n    case 'octeracts': {\n      if (!player.singularityUpgrades.octeractUnlock.getEffect().bonus) {\n        return\n      } else {\n        player.octeractTimer += time * timeMultiplier\n      }\n      if (player.octeractTimer >= 1) {\n        const amountOfGiveaways = player.octeractTimer - (player.octeractTimer % 1)\n        player.octeractTimer %= 1\n\n        const perSecond = octeractGainPerSecond()\n        player.wowOcteracts += amountOfGiveaways * perSecond\n        player.totalWowOcteracts += amountOfGiveaways * perSecond\n\n        if (player.highestSingularityCount >= 160) {\n          const levels = [160, 173, 185, 194, 204, 210, 219, 229, 240, 249]\n          const frac = 1e-6\n          let actualLevel = 0\n          for (const sing of levels) {\n            if (player.highestSingularityCount >= sing) {\n              actualLevel += 1\n            }\n          }\n\n          for (let i = 0; i < amountOfGiveaways; i++) {\n            const quarkFraction = player.quarksThisSingularity * frac * actualLevel\n            player.goldenQuarks += quarkFraction * calculateGoldenQuarkGain(true)\n            player.quarksThisSingularity -= quarkFraction\n          }\n        }\n        visualUpdateOcteracts()\n      }\n      break\n    }\n    case 'autoPotion': {\n      if (player.highestSingularityCount < 6) {\n        return\n      } else {\n        // player.toggles[42] enables FAST Offering Potion Expenditure, but actually spends the potion.\n        // Hence, you need at least one potion to be able to use fast spend.\n        const toggleOfferingOn = player.toggles[42] && player.shopUpgrades.offeringPotion > 0\n        // player.toggles[43] enables FAST Obtainium Potion Expenditure, but actually spends the potion.\n        const toggleObtainiumOn = player.toggles[43] && player.shopUpgrades.obtainiumPotion > 0\n\n        player.autoPotionTimer += time * timeMultiplier\n        player.autoPotionTimerObtainium += time * timeMultiplier\n\n        const timerThreshold = (180 * Math.pow(1.03, -player.highestSingularityCount))\n          / +player.octeractUpgrades.octeractAutoPotionSpeed.getEffect().bonus\n\n        const effectiveOfferingThreshold = toggleOfferingOn\n          ? Math.min(1, timerThreshold) / 20\n          : timerThreshold\n        const effectiveObtainiumThreshold = toggleObtainiumOn\n          ? Math.min(1, timerThreshold) / 20\n          : timerThreshold\n\n        if (player.autoPotionTimer >= effectiveOfferingThreshold) {\n          const amountOfPotions = (player.autoPotionTimer\n            - (player.autoPotionTimer % effectiveOfferingThreshold))\n            / effectiveOfferingThreshold\n          player.autoPotionTimer %= effectiveOfferingThreshold\n          void useConsumable(\n            'offeringPotion',\n            true,\n            amountOfPotions,\n            toggleOfferingOn\n          )\n        }\n\n        if (player.autoPotionTimerObtainium >= effectiveObtainiumThreshold) {\n          const amountOfPotions = (player.autoPotionTimerObtainium\n            - (player.autoPotionTimerObtainium % effectiveObtainiumThreshold))\n            / effectiveObtainiumThreshold\n          player.autoPotionTimerObtainium %= effectiveObtainiumThreshold\n          void useConsumable(\n            'obtainiumPotion',\n            true,\n            amountOfPotions,\n            toggleObtainiumOn\n          )\n        }\n      }\n      break\n    }\n    case 'ambrosia': {\n      const compute = G.ambrosiaCurrStats.ambrosiaGenerationSpeed\n      if (compute === 0) {\n        break\n      }\n\n      G.ambrosiaTimer += time * timeMultiplier\n\n      if (G.ambrosiaTimer < 0.125) {\n        break\n      }\n\n      const ambrosiaLuck = G.ambrosiaCurrStats.ambrosiaLuck\n      const baseBlueberryTime = G.ambrosiaCurrStats.ambrosiaGenerationSpeed\n      player.blueberryTime += Math.floor(8 * G.ambrosiaTimer) / 8 * baseBlueberryTime\n      player.ultimateProgress += Math.floor(8 * G.ambrosiaTimer) / 8\n        * Math.min(baseBlueberryTime, Math.pow(1000 * baseBlueberryTime, 1 / 2)) * 0.02\n      G.ambrosiaTimer %= 0.125\n\n      let timeToAmbrosia = calculateRequiredBlueberryTime()\n\n      const maxAccelMultiplier = (1 / 2)\n        + (3 / 5 - 1 / 2) * +(player.singularityChallenges.noAmbrosiaUpgrades.completions >= 15)\n        + (2 / 3 - 3 / 5) * +(player.singularityChallenges.noAmbrosiaUpgrades.completions >= 19)\n        + (3 / 4 - 2 / 3) * +(player.singularityChallenges.noAmbrosiaUpgrades.completions >= 20)\n\n      while (player.blueberryTime >= timeToAmbrosia) {\n        const RNG = Math.random()\n        const ambrosiaMult = Math.floor(ambrosiaLuck / 100)\n        const luckMult = RNG < ambrosiaLuck / 100 - Math.floor(ambrosiaLuck / 100) ? 1 : 0\n        const bonusAmbrosia = (player.singularityChallenges.noAmbrosiaUpgrades.rewards.bonusAmbrosia) ? 1 : 0\n        const ambrosiaToGain = (ambrosiaMult + luckMult) + bonusAmbrosia\n\n        player.ambrosia += ambrosiaToGain\n        player.lifetimeAmbrosia += ambrosiaToGain\n        player.blueberryTime -= timeToAmbrosia\n\n        timeToAmbrosia = calculateRequiredBlueberryTime()\n        const secondsToNextAmbrosia = timeToAmbrosia / G.ambrosiaCurrStats.ambrosiaGenerationSpeed\n\n        G.ambrosiaTimer += Math.min(\n          secondsToNextAmbrosia * maxAccelMultiplier,\n          ambrosiaToGain * 0.2 * player.shopUpgrades.shopAmbrosiaAccelerator\n        )\n        timeToAmbrosia = calculateRequiredBlueberryTime()\n      }\n\n      if (player.ultimateProgress > 1e6) {\n        player.ultimatePixels += Math.floor(player.ultimateProgress / 1e6)\n        player.ultimateProgress -= 1e6 * Math.floor(player.ultimateProgress / 1e6)\n      }\n\n      visualUpdateAmbrosia()\n    }\n  }\n}\n\ntype AutoToolInput =\n  | 'addObtainium'\n  | 'addOfferings'\n  | 'runeSacrifice'\n  | 'antSacrifice'\n\n/**\n * Assortment of tools which are used when actions are automated.\n * @param input\n * @param time\n */\nexport const automaticTools = (input: AutoToolInput, time: number) => {\n  const timeMultiplier = input === 'runeSacrifice' || input === 'addOfferings'\n    ? 1\n    : calculateTimeAcceleration().mult\n\n  switch (input) {\n    case 'addObtainium': {\n      // If in challenge 14, abort and do not award obtainium\n      if (player.currentChallenge.ascension === 14) {\n        break\n      }\n      // Update Obtainium Multipliers + Amount to gain\n      calculateObtainium()\n      const obtainiumGain = calculateAutomaticObtainium()\n      // Add Obtainium\n      player.researchPoints = Math.min(\n        1e300,\n        player.researchPoints + obtainiumGain * time * timeMultiplier\n      )\n      // Update visual displays if appropriate\n      if (G.currentTab === Tabs.Research) {\n        visualUpdateResearch()\n      }\n      break\n    }\n    case 'addOfferings':\n      // This counter can be increased through challenge 3 reward\n      // As well as cube upgrade 1x2 (2).\n      G.autoOfferingCounter += time\n      // Any time this exceeds 1 it adds an offering\n      player.runeshards = Math.min(\n        1e300,\n        player.runeshards + Math.floor(G.autoOfferingCounter)\n      )\n      G.autoOfferingCounter %= 1\n      break\n    case 'runeSacrifice':\n      // Every real life second this will trigger\n      player.sacrificeTimer += time\n      if (\n        player.sacrificeTimer >= 1\n        && isFinite(player.runeshards)\n        && player.runeshards > 0\n      ) {\n        // Automatic purchase of Blessings\n        if (player.highestSingularityCount >= 15) {\n          let ratio = 4\n          if (player.toggles[36]) {\n            buyAllBlessings('Blessings', 100 / ratio, true)\n            ratio--\n          }\n          if (player.toggles[37]) {\n            buyAllBlessings('Spirits', 100 / ratio, true)\n            ratio--\n          }\n        }\n        if (\n          player.autoBuyFragment\n          && player.highestSingularityCount >= 40\n          && player.cubeUpgrades[51] > 0\n        ) {\n          buyAllTalismanResources()\n        }\n\n        // If you bought cube upgrade 2x10 then it sacrifices to all runes equally\n        if (player.cubeUpgrades[20] === 1) {\n          const maxi = player.highestSingularityCount >= 50\n            ? 7\n            : player.highestSingularityCount >= 30\n            ? 6\n            : 5\n          const notMaxed = maxi - checkMaxRunes(maxi)\n          if (notMaxed > 0) {\n            const baseAmount = Math.floor(player.runeshards / notMaxed / 2)\n            for (let i = 0; i < maxi; i++) {\n              if (\n                !(\n                  !unlockedRune(i + 1)\n                  || player.runelevels[i] >= calculateMaxRunes(i + 1)\n                )\n              ) {\n                redeemShards(i + 1, true, baseAmount)\n              }\n            }\n          }\n        } else {\n          // If you did not buy cube upgrade 2x10 it sacrifices to selected rune.\n          const rune = player.autoSacrifice\n          redeemShards(rune, true, 0)\n        }\n        // Modulo used in event of a large delta time (this could happen for a number of reasons)\n        player.sacrificeTimer %= 1\n      }\n      break\n    case 'antSacrifice': {\n      // Increments real and 'fake' timers. the Real timer is on real life seconds.\n      player.antSacrificeTimer += time * timeMultiplier\n      player.antSacrificeTimerReal += time\n\n      // Equal to real time iff \"Real Time\" option selected in ants tab.\n      const antSacrificeTimer = player.autoAntSacrificeMode === 2\n        ? player.antSacrificeTimerReal\n        : player.antSacrificeTimer\n\n      if (\n        antSacrificeTimer >= player.autoAntSacTimer\n        && player.antSacrificeTimerReal > 0.1\n        && player.researches[124] === 1\n        && player.autoAntSacrifice\n        && player.antPoints.gte('1e40')\n      ) {\n        void sacrificeAnts(true)\n      }\n      break\n    }\n  }\n}\n", "var util;\n(function (util) {\n    util.assertEqual = (val) => val;\n    function assertIs(_arg) { }\n    util.assertIs = assertIs;\n    function assertNever(_x) {\n        throw new Error();\n    }\n    util.assertNever = assertNever;\n    util.arrayToEnum = (items) => {\n        const obj = {};\n        for (const item of items) {\n            obj[item] = item;\n        }\n        return obj;\n    };\n    util.getValidEnumValues = (obj) => {\n        const validKeys = util.objectKeys(obj).filter((k) => typeof obj[obj[k]] !== \"number\");\n        const filtered = {};\n        for (const k of validKeys) {\n            filtered[k] = obj[k];\n        }\n        return util.objectValues(filtered);\n    };\n    util.objectValues = (obj) => {\n        return util.objectKeys(obj).map(function (e) {\n            return obj[e];\n        });\n    };\n    util.objectKeys = typeof Object.keys === \"function\" // eslint-disable-line ban/ban\n        ? (obj) => Object.keys(obj) // eslint-disable-line ban/ban\n        : (object) => {\n            const keys = [];\n            for (const key in object) {\n                if (Object.prototype.hasOwnProperty.call(object, key)) {\n                    keys.push(key);\n                }\n            }\n            return keys;\n        };\n    util.find = (arr, checker) => {\n        for (const item of arr) {\n            if (checker(item))\n                return item;\n        }\n        return undefined;\n    };\n    util.isInteger = typeof Number.isInteger === \"function\"\n        ? (val) => Number.isInteger(val) // eslint-disable-line ban/ban\n        : (val) => typeof val === \"number\" && isFinite(val) && Math.floor(val) === val;\n    function joinValues(array, separator = \" | \") {\n        return array\n            .map((val) => (typeof val === \"string\" ? `'${val}'` : val))\n            .join(separator);\n    }\n    util.joinValues = joinValues;\n    util.jsonStringifyReplacer = (_, value) => {\n        if (typeof value === \"bigint\") {\n            return value.toString();\n        }\n        return value;\n    };\n})(util || (util = {}));\nvar objectUtil;\n(function (objectUtil) {\n    objectUtil.mergeShapes = (first, second) => {\n        return {\n            ...first,\n            ...second, // second overwrites first\n        };\n    };\n})(objectUtil || (objectUtil = {}));\nconst ZodParsedType = util.arrayToEnum([\n    \"string\",\n    \"nan\",\n    \"number\",\n    \"integer\",\n    \"float\",\n    \"boolean\",\n    \"date\",\n    \"bigint\",\n    \"symbol\",\n    \"function\",\n    \"undefined\",\n    \"null\",\n    \"array\",\n    \"object\",\n    \"unknown\",\n    \"promise\",\n    \"void\",\n    \"never\",\n    \"map\",\n    \"set\",\n]);\nconst getParsedType = (data) => {\n    const t = typeof data;\n    switch (t) {\n        case \"undefined\":\n            return ZodParsedType.undefined;\n        case \"string\":\n            return ZodParsedType.string;\n        case \"number\":\n            return isNaN(data) ? ZodParsedType.nan : ZodParsedType.number;\n        case \"boolean\":\n            return ZodParsedType.boolean;\n        case \"function\":\n            return ZodParsedType.function;\n        case \"bigint\":\n            return ZodParsedType.bigint;\n        case \"symbol\":\n            return ZodParsedType.symbol;\n        case \"object\":\n            if (Array.isArray(data)) {\n                return ZodParsedType.array;\n            }\n            if (data === null) {\n                return ZodParsedType.null;\n            }\n            if (data.then &&\n                typeof data.then === \"function\" &&\n                data.catch &&\n                typeof data.catch === \"function\") {\n                return ZodParsedType.promise;\n            }\n            if (typeof Map !== \"undefined\" && data instanceof Map) {\n                return ZodParsedType.map;\n            }\n            if (typeof Set !== \"undefined\" && data instanceof Set) {\n                return ZodParsedType.set;\n            }\n            if (typeof Date !== \"undefined\" && data instanceof Date) {\n                return ZodParsedType.date;\n            }\n            return ZodParsedType.object;\n        default:\n            return ZodParsedType.unknown;\n    }\n};\n\nconst ZodIssueCode = util.arrayToEnum([\n    \"invalid_type\",\n    \"invalid_literal\",\n    \"custom\",\n    \"invalid_union\",\n    \"invalid_union_discriminator\",\n    \"invalid_enum_value\",\n    \"unrecognized_keys\",\n    \"invalid_arguments\",\n    \"invalid_return_type\",\n    \"invalid_date\",\n    \"invalid_string\",\n    \"too_small\",\n    \"too_big\",\n    \"invalid_intersection_types\",\n    \"not_multiple_of\",\n    \"not_finite\",\n]);\nconst quotelessJson = (obj) => {\n    const json = JSON.stringify(obj, null, 2);\n    return json.replace(/\"([^\"]+)\":/g, \"$1:\");\n};\nclass ZodError extends Error {\n    get errors() {\n        return this.issues;\n    }\n    constructor(issues) {\n        super();\n        this.issues = [];\n        this.addIssue = (sub) => {\n            this.issues = [...this.issues, sub];\n        };\n        this.addIssues = (subs = []) => {\n            this.issues = [...this.issues, ...subs];\n        };\n        const actualProto = new.target.prototype;\n        if (Object.setPrototypeOf) {\n            // eslint-disable-next-line ban/ban\n            Object.setPrototypeOf(this, actualProto);\n        }\n        else {\n            this.__proto__ = actualProto;\n        }\n        this.name = \"ZodError\";\n        this.issues = issues;\n    }\n    format(_mapper) {\n        const mapper = _mapper ||\n            function (issue) {\n                return issue.message;\n            };\n        const fieldErrors = { _errors: [] };\n        const processError = (error) => {\n            for (const issue of error.issues) {\n                if (issue.code === \"invalid_union\") {\n                    issue.unionErrors.map(processError);\n                }\n                else if (issue.code === \"invalid_return_type\") {\n                    processError(issue.returnTypeError);\n                }\n                else if (issue.code === \"invalid_arguments\") {\n                    processError(issue.argumentsError);\n                }\n                else if (issue.path.length === 0) {\n                    fieldErrors._errors.push(mapper(issue));\n                }\n                else {\n                    let curr = fieldErrors;\n                    let i = 0;\n                    while (i < issue.path.length) {\n                        const el = issue.path[i];\n                        const terminal = i === issue.path.length - 1;\n                        if (!terminal) {\n                            curr[el] = curr[el] || { _errors: [] };\n                            // if (typeof el === \"string\") {\n                            //   curr[el] = curr[el] || { _errors: [] };\n                            // } else if (typeof el === \"number\") {\n                            //   const errorArray: any = [];\n                            //   errorArray._errors = [];\n                            //   curr[el] = curr[el] || errorArray;\n                            // }\n                        }\n                        else {\n                            curr[el] = curr[el] || { _errors: [] };\n                            curr[el]._errors.push(mapper(issue));\n                        }\n                        curr = curr[el];\n                        i++;\n                    }\n                }\n            }\n        };\n        processError(this);\n        return fieldErrors;\n    }\n    static assert(value) {\n        if (!(value instanceof ZodError)) {\n            throw new Error(`Not a ZodError: ${value}`);\n        }\n    }\n    toString() {\n        return this.message;\n    }\n    get message() {\n        return JSON.stringify(this.issues, util.jsonStringifyReplacer, 2);\n    }\n    get isEmpty() {\n        return this.issues.length === 0;\n    }\n    flatten(mapper = (issue) => issue.message) {\n        const fieldErrors = {};\n        const formErrors = [];\n        for (const sub of this.issues) {\n            if (sub.path.length > 0) {\n                fieldErrors[sub.path[0]] = fieldErrors[sub.path[0]] || [];\n                fieldErrors[sub.path[0]].push(mapper(sub));\n            }\n            else {\n                formErrors.push(mapper(sub));\n            }\n        }\n        return { formErrors, fieldErrors };\n    }\n    get formErrors() {\n        return this.flatten();\n    }\n}\nZodError.create = (issues) => {\n    const error = new ZodError(issues);\n    return error;\n};\n\nconst errorMap = (issue, _ctx) => {\n    let message;\n    switch (issue.code) {\n        case ZodIssueCode.invalid_type:\n            if (issue.received === ZodParsedType.undefined) {\n                message = \"Required\";\n            }\n            else {\n                message = `Expected ${issue.expected}, received ${issue.received}`;\n            }\n            break;\n        case ZodIssueCode.invalid_literal:\n            message = `Invalid literal value, expected ${JSON.stringify(issue.expected, util.jsonStringifyReplacer)}`;\n            break;\n        case ZodIssueCode.unrecognized_keys:\n            message = `Unrecognized key(s) in object: ${util.joinValues(issue.keys, \", \")}`;\n            break;\n        case ZodIssueCode.invalid_union:\n            message = `Invalid input`;\n            break;\n        case ZodIssueCode.invalid_union_discriminator:\n            message = `Invalid discriminator value. Expected ${util.joinValues(issue.options)}`;\n            break;\n        case ZodIssueCode.invalid_enum_value:\n            message = `Invalid enum value. Expected ${util.joinValues(issue.options)}, received '${issue.received}'`;\n            break;\n        case ZodIssueCode.invalid_arguments:\n            message = `Invalid function arguments`;\n            break;\n        case ZodIssueCode.invalid_return_type:\n            message = `Invalid function return type`;\n            break;\n        case ZodIssueCode.invalid_date:\n            message = `Invalid date`;\n            break;\n        case ZodIssueCode.invalid_string:\n            if (typeof issue.validation === \"object\") {\n                if (\"includes\" in issue.validation) {\n                    message = `Invalid input: must include \"${issue.validation.includes}\"`;\n                    if (typeof issue.validation.position === \"number\") {\n                        message = `${message} at one or more positions greater than or equal to ${issue.validation.position}`;\n                    }\n                }\n                else if (\"startsWith\" in issue.validation) {\n                    message = `Invalid input: must start with \"${issue.validation.startsWith}\"`;\n                }\n                else if (\"endsWith\" in issue.validation) {\n                    message = `Invalid input: must end with \"${issue.validation.endsWith}\"`;\n                }\n                else {\n                    util.assertNever(issue.validation);\n                }\n            }\n            else if (issue.validation !== \"regex\") {\n                message = `Invalid ${issue.validation}`;\n            }\n            else {\n                message = \"Invalid\";\n            }\n            break;\n        case ZodIssueCode.too_small:\n            if (issue.type === \"array\")\n                message = `Array must contain ${issue.exact ? \"exactly\" : issue.inclusive ? `at least` : `more than`} ${issue.minimum} element(s)`;\n            else if (issue.type === \"string\")\n                message = `String must contain ${issue.exact ? \"exactly\" : issue.inclusive ? `at least` : `over`} ${issue.minimum} character(s)`;\n            else if (issue.type === \"number\")\n                message = `Number must be ${issue.exact\n                    ? `exactly equal to `\n                    : issue.inclusive\n                        ? `greater than or equal to `\n                        : `greater than `}${issue.minimum}`;\n            else if (issue.type === \"date\")\n                message = `Date must be ${issue.exact\n                    ? `exactly equal to `\n                    : issue.inclusive\n                        ? `greater than or equal to `\n                        : `greater than `}${new Date(Number(issue.minimum))}`;\n            else\n                message = \"Invalid input\";\n            break;\n        case ZodIssueCode.too_big:\n            if (issue.type === \"array\")\n                message = `Array must contain ${issue.exact ? `exactly` : issue.inclusive ? `at most` : `less than`} ${issue.maximum} element(s)`;\n            else if (issue.type === \"string\")\n                message = `String must contain ${issue.exact ? `exactly` : issue.inclusive ? `at most` : `under`} ${issue.maximum} character(s)`;\n            else if (issue.type === \"number\")\n                message = `Number must be ${issue.exact\n                    ? `exactly`\n                    : issue.inclusive\n                        ? `less than or equal to`\n                        : `less than`} ${issue.maximum}`;\n            else if (issue.type === \"bigint\")\n                message = `BigInt must be ${issue.exact\n                    ? `exactly`\n                    : issue.inclusive\n                        ? `less than or equal to`\n                        : `less than`} ${issue.maximum}`;\n            else if (issue.type === \"date\")\n                message = `Date must be ${issue.exact\n                    ? `exactly`\n                    : issue.inclusive\n                        ? `smaller than or equal to`\n                        : `smaller than`} ${new Date(Number(issue.maximum))}`;\n            else\n                message = \"Invalid input\";\n            break;\n        case ZodIssueCode.custom:\n            message = `Invalid input`;\n            break;\n        case ZodIssueCode.invalid_intersection_types:\n            message = `Intersection results could not be merged`;\n            break;\n        case ZodIssueCode.not_multiple_of:\n            message = `Number must be a multiple of ${issue.multipleOf}`;\n            break;\n        case ZodIssueCode.not_finite:\n            message = \"Number must be finite\";\n            break;\n        default:\n            message = _ctx.defaultError;\n            util.assertNever(issue);\n    }\n    return { message };\n};\n\nlet overrideErrorMap = errorMap;\nfunction setErrorMap(map) {\n    overrideErrorMap = map;\n}\nfunction getErrorMap() {\n    return overrideErrorMap;\n}\n\nconst makeIssue = (params) => {\n    const { data, path, errorMaps, issueData } = params;\n    const fullPath = [...path, ...(issueData.path || [])];\n    const fullIssue = {\n        ...issueData,\n        path: fullPath,\n    };\n    if (issueData.message !== undefined) {\n        return {\n            ...issueData,\n            path: fullPath,\n            message: issueData.message,\n        };\n    }\n    let errorMessage = \"\";\n    const maps = errorMaps\n        .filter((m) => !!m)\n        .slice()\n        .reverse();\n    for (const map of maps) {\n        errorMessage = map(fullIssue, { data, defaultError: errorMessage }).message;\n    }\n    return {\n        ...issueData,\n        path: fullPath,\n        message: errorMessage,\n    };\n};\nconst EMPTY_PATH = [];\nfunction addIssueToContext(ctx, issueData) {\n    const overrideMap = getErrorMap();\n    const issue = makeIssue({\n        issueData: issueData,\n        data: ctx.data,\n        path: ctx.path,\n        errorMaps: [\n            ctx.common.contextualErrorMap, // contextual error map is first priority\n            ctx.schemaErrorMap, // then schema-bound map if available\n            overrideMap, // then global override map\n            overrideMap === errorMap ? undefined : errorMap, // then global default map\n        ].filter((x) => !!x),\n    });\n    ctx.common.issues.push(issue);\n}\nclass ParseStatus {\n    constructor() {\n        this.value = \"valid\";\n    }\n    dirty() {\n        if (this.value === \"valid\")\n            this.value = \"dirty\";\n    }\n    abort() {\n        if (this.value !== \"aborted\")\n            this.value = \"aborted\";\n    }\n    static mergeArray(status, results) {\n        const arrayValue = [];\n        for (const s of results) {\n            if (s.status === \"aborted\")\n                return INVALID;\n            if (s.status === \"dirty\")\n                status.dirty();\n            arrayValue.push(s.value);\n        }\n        return { status: status.value, value: arrayValue };\n    }\n    static async mergeObjectAsync(status, pairs) {\n        const syncPairs = [];\n        for (const pair of pairs) {\n            const key = await pair.key;\n            const value = await pair.value;\n            syncPairs.push({\n                key,\n                value,\n            });\n        }\n        return ParseStatus.mergeObjectSync(status, syncPairs);\n    }\n    static mergeObjectSync(status, pairs) {\n        const finalObject = {};\n        for (const pair of pairs) {\n            const { key, value } = pair;\n            if (key.status === \"aborted\")\n                return INVALID;\n            if (value.status === \"aborted\")\n                return INVALID;\n            if (key.status === \"dirty\")\n                status.dirty();\n            if (value.status === \"dirty\")\n                status.dirty();\n            if (key.value !== \"__proto__\" &&\n                (typeof value.value !== \"undefined\" || pair.alwaysSet)) {\n                finalObject[key.value] = value.value;\n            }\n        }\n        return { status: status.value, value: finalObject };\n    }\n}\nconst INVALID = Object.freeze({\n    status: \"aborted\",\n});\nconst DIRTY = (value) => ({ status: \"dirty\", value });\nconst OK = (value) => ({ status: \"valid\", value });\nconst isAborted = (x) => x.status === \"aborted\";\nconst isDirty = (x) => x.status === \"dirty\";\nconst isValid = (x) => x.status === \"valid\";\nconst isAsync = (x) => typeof Promise !== \"undefined\" && x instanceof Promise;\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nfunction __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nfunction __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\ntypeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\r\n    var e = new Error(message);\r\n    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\r\n};\n\nvar errorUtil;\n(function (errorUtil) {\n    errorUtil.errToObj = (message) => typeof message === \"string\" ? { message } : message || {};\n    errorUtil.toString = (message) => typeof message === \"string\" ? message : message === null || message === void 0 ? void 0 : message.message;\n})(errorUtil || (errorUtil = {}));\n\nvar _ZodEnum_cache, _ZodNativeEnum_cache;\nclass ParseInputLazyPath {\n    constructor(parent, value, path, key) {\n        this._cachedPath = [];\n        this.parent = parent;\n        this.data = value;\n        this._path = path;\n        this._key = key;\n    }\n    get path() {\n        if (!this._cachedPath.length) {\n            if (this._key instanceof Array) {\n                this._cachedPath.push(...this._path, ...this._key);\n            }\n            else {\n                this._cachedPath.push(...this._path, this._key);\n            }\n        }\n        return this._cachedPath;\n    }\n}\nconst handleResult = (ctx, result) => {\n    if (isValid(result)) {\n        return { success: true, data: result.value };\n    }\n    else {\n        if (!ctx.common.issues.length) {\n            throw new Error(\"Validation failed but no issues detected.\");\n        }\n        return {\n            success: false,\n            get error() {\n                if (this._error)\n                    return this._error;\n                const error = new ZodError(ctx.common.issues);\n                this._error = error;\n                return this._error;\n            },\n        };\n    }\n};\nfunction processCreateParams(params) {\n    if (!params)\n        return {};\n    const { errorMap, invalid_type_error, required_error, description } = params;\n    if (errorMap && (invalid_type_error || required_error)) {\n        throw new Error(`Can't use \"invalid_type_error\" or \"required_error\" in conjunction with custom error map.`);\n    }\n    if (errorMap)\n        return { errorMap: errorMap, description };\n    const customMap = (iss, ctx) => {\n        var _a, _b;\n        const { message } = params;\n        if (iss.code === \"invalid_enum_value\") {\n            return { message: message !== null && message !== void 0 ? message : ctx.defaultError };\n        }\n        if (typeof ctx.data === \"undefined\") {\n            return { message: (_a = message !== null && message !== void 0 ? message : required_error) !== null && _a !== void 0 ? _a : ctx.defaultError };\n        }\n        if (iss.code !== \"invalid_type\")\n            return { message: ctx.defaultError };\n        return { message: (_b = message !== null && message !== void 0 ? message : invalid_type_error) !== null && _b !== void 0 ? _b : ctx.defaultError };\n    };\n    return { errorMap: customMap, description };\n}\nclass ZodType {\n    get description() {\n        return this._def.description;\n    }\n    _getType(input) {\n        return getParsedType(input.data);\n    }\n    _getOrReturnCtx(input, ctx) {\n        return (ctx || {\n            common: input.parent.common,\n            data: input.data,\n            parsedType: getParsedType(input.data),\n            schemaErrorMap: this._def.errorMap,\n            path: input.path,\n            parent: input.parent,\n        });\n    }\n    _processInputParams(input) {\n        return {\n            status: new ParseStatus(),\n            ctx: {\n                common: input.parent.common,\n                data: input.data,\n                parsedType: getParsedType(input.data),\n                schemaErrorMap: this._def.errorMap,\n                path: input.path,\n                parent: input.parent,\n            },\n        };\n    }\n    _parseSync(input) {\n        const result = this._parse(input);\n        if (isAsync(result)) {\n            throw new Error(\"Synchronous parse encountered promise.\");\n        }\n        return result;\n    }\n    _parseAsync(input) {\n        const result = this._parse(input);\n        return Promise.resolve(result);\n    }\n    parse(data, params) {\n        const result = this.safeParse(data, params);\n        if (result.success)\n            return result.data;\n        throw result.error;\n    }\n    safeParse(data, params) {\n        var _a;\n        const ctx = {\n            common: {\n                issues: [],\n                async: (_a = params === null || params === void 0 ? void 0 : params.async) !== null && _a !== void 0 ? _a : false,\n                contextualErrorMap: params === null || params === void 0 ? void 0 : params.errorMap,\n            },\n            path: (params === null || params === void 0 ? void 0 : params.path) || [],\n            schemaErrorMap: this._def.errorMap,\n            parent: null,\n            data,\n            parsedType: getParsedType(data),\n        };\n        const result = this._parseSync({ data, path: ctx.path, parent: ctx });\n        return handleResult(ctx, result);\n    }\n    \"~validate\"(data) {\n        var _a, _b;\n        const ctx = {\n            common: {\n                issues: [],\n                async: !!this[\"~standard\"].async,\n            },\n            path: [],\n            schemaErrorMap: this._def.errorMap,\n            parent: null,\n            data,\n            parsedType: getParsedType(data),\n        };\n        if (!this[\"~standard\"].async) {\n            try {\n                const result = this._parseSync({ data, path: [], parent: ctx });\n                return isValid(result)\n                    ? {\n                        value: result.value,\n                    }\n                    : {\n                        issues: ctx.common.issues,\n                    };\n            }\n            catch (err) {\n                if ((_b = (_a = err === null || err === void 0 ? void 0 : err.message) === null || _a === void 0 ? void 0 : _a.toLowerCase()) === null || _b === void 0 ? void 0 : _b.includes(\"encountered\")) {\n                    this[\"~standard\"].async = true;\n                }\n                ctx.common = {\n                    issues: [],\n                    async: true,\n                };\n            }\n        }\n        return this._parseAsync({ data, path: [], parent: ctx }).then((result) => isValid(result)\n            ? {\n                value: result.value,\n            }\n            : {\n                issues: ctx.common.issues,\n            });\n    }\n    async parseAsync(data, params) {\n        const result = await this.safeParseAsync(data, params);\n        if (result.success)\n            return result.data;\n        throw result.error;\n    }\n    async safeParseAsync(data, params) {\n        const ctx = {\n            common: {\n                issues: [],\n                contextualErrorMap: params === null || params === void 0 ? void 0 : params.errorMap,\n                async: true,\n            },\n            path: (params === null || params === void 0 ? void 0 : params.path) || [],\n            schemaErrorMap: this._def.errorMap,\n            parent: null,\n            data,\n            parsedType: getParsedType(data),\n        };\n        const maybeAsyncResult = this._parse({ data, path: ctx.path, parent: ctx });\n        const result = await (isAsync(maybeAsyncResult)\n            ? maybeAsyncResult\n            : Promise.resolve(maybeAsyncResult));\n        return handleResult(ctx, result);\n    }\n    refine(check, message) {\n        const getIssueProperties = (val) => {\n            if (typeof message === \"string\" || typeof message === \"undefined\") {\n                return { message };\n            }\n            else if (typeof message === \"function\") {\n                return message(val);\n            }\n            else {\n                return message;\n            }\n        };\n        return this._refinement((val, ctx) => {\n            const result = check(val);\n            const setError = () => ctx.addIssue({\n                code: ZodIssueCode.custom,\n                ...getIssueProperties(val),\n            });\n            if (typeof Promise !== \"undefined\" && result instanceof Promise) {\n                return result.then((data) => {\n                    if (!data) {\n                        setError();\n                        return false;\n                    }\n                    else {\n                        return true;\n                    }\n                });\n            }\n            if (!result) {\n                setError();\n                return false;\n            }\n            else {\n                return true;\n            }\n        });\n    }\n    refinement(check, refinementData) {\n        return this._refinement((val, ctx) => {\n            if (!check(val)) {\n                ctx.addIssue(typeof refinementData === \"function\"\n                    ? refinementData(val, ctx)\n                    : refinementData);\n                return false;\n            }\n            else {\n                return true;\n            }\n        });\n    }\n    _refinement(refinement) {\n        return new ZodEffects({\n            schema: this,\n            typeName: ZodFirstPartyTypeKind.ZodEffects,\n            effect: { type: \"refinement\", refinement },\n        });\n    }\n    superRefine(refinement) {\n        return this._refinement(refinement);\n    }\n    constructor(def) {\n        /** Alias of safeParseAsync */\n        this.spa = this.safeParseAsync;\n        this._def = def;\n        this.parse = this.parse.bind(this);\n        this.safeParse = this.safeParse.bind(this);\n        this.parseAsync = this.parseAsync.bind(this);\n        this.safeParseAsync = this.safeParseAsync.bind(this);\n        this.spa = this.spa.bind(this);\n        this.refine = this.refine.bind(this);\n        this.refinement = this.refinement.bind(this);\n        this.superRefine = this.superRefine.bind(this);\n        this.optional = this.optional.bind(this);\n        this.nullable = this.nullable.bind(this);\n        this.nullish = this.nullish.bind(this);\n        this.array = this.array.bind(this);\n        this.promise = this.promise.bind(this);\n        this.or = this.or.bind(this);\n        this.and = this.and.bind(this);\n        this.transform = this.transform.bind(this);\n        this.brand = this.brand.bind(this);\n        this.default = this.default.bind(this);\n        this.catch = this.catch.bind(this);\n        this.describe = this.describe.bind(this);\n        this.pipe = this.pipe.bind(this);\n        this.readonly = this.readonly.bind(this);\n        this.isNullable = this.isNullable.bind(this);\n        this.isOptional = this.isOptional.bind(this);\n        this[\"~standard\"] = {\n            version: 1,\n            vendor: \"zod\",\n            validate: (data) => this[\"~validate\"](data),\n        };\n    }\n    optional() {\n        return ZodOptional.create(this, this._def);\n    }\n    nullable() {\n        return ZodNullable.create(this, this._def);\n    }\n    nullish() {\n        return this.nullable().optional();\n    }\n    array() {\n        return ZodArray.create(this);\n    }\n    promise() {\n        return ZodPromise.create(this, this._def);\n    }\n    or(option) {\n        return ZodUnion.create([this, option], this._def);\n    }\n    and(incoming) {\n        return ZodIntersection.create(this, incoming, this._def);\n    }\n    transform(transform) {\n        return new ZodEffects({\n            ...processCreateParams(this._def),\n            schema: this,\n            typeName: ZodFirstPartyTypeKind.ZodEffects,\n            effect: { type: \"transform\", transform },\n        });\n    }\n    default(def) {\n        const defaultValueFunc = typeof def === \"function\" ? def : () => def;\n        return new ZodDefault({\n            ...processCreateParams(this._def),\n            innerType: this,\n            defaultValue: defaultValueFunc,\n            typeName: ZodFirstPartyTypeKind.ZodDefault,\n        });\n    }\n    brand() {\n        return new ZodBranded({\n            typeName: ZodFirstPartyTypeKind.ZodBranded,\n            type: this,\n            ...processCreateParams(this._def),\n        });\n    }\n    catch(def) {\n        const catchValueFunc = typeof def === \"function\" ? def : () => def;\n        return new ZodCatch({\n            ...processCreateParams(this._def),\n            innerType: this,\n            catchValue: catchValueFunc,\n            typeName: ZodFirstPartyTypeKind.ZodCatch,\n        });\n    }\n    describe(description) {\n        const This = this.constructor;\n        return new This({\n            ...this._def,\n            description,\n        });\n    }\n    pipe(target) {\n        return ZodPipeline.create(this, target);\n    }\n    readonly() {\n        return ZodReadonly.create(this);\n    }\n    isOptional() {\n        return this.safeParse(undefined).success;\n    }\n    isNullable() {\n        return this.safeParse(null).success;\n    }\n}\nconst cuidRegex = /^c[^\\s-]{8,}$/i;\nconst cuid2Regex = /^[0-9a-z]+$/;\nconst ulidRegex = /^[0-9A-HJKMNP-TV-Z]{26}$/i;\n// const uuidRegex =\n//   /^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i;\nconst uuidRegex = /^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}$/i;\nconst nanoidRegex = /^[a-z0-9_-]{21}$/i;\nconst jwtRegex = /^[A-Za-z0-9-_]+\\.[A-Za-z0-9-_]+\\.[A-Za-z0-9-_]*$/;\nconst durationRegex = /^[-+]?P(?!$)(?:(?:[-+]?\\d+Y)|(?:[-+]?\\d+[.,]\\d+Y$))?(?:(?:[-+]?\\d+M)|(?:[-+]?\\d+[.,]\\d+M$))?(?:(?:[-+]?\\d+W)|(?:[-+]?\\d+[.,]\\d+W$))?(?:(?:[-+]?\\d+D)|(?:[-+]?\\d+[.,]\\d+D$))?(?:T(?=[\\d+-])(?:(?:[-+]?\\d+H)|(?:[-+]?\\d+[.,]\\d+H$))?(?:(?:[-+]?\\d+M)|(?:[-+]?\\d+[.,]\\d+M$))?(?:[-+]?\\d+(?:[.,]\\d+)?S)?)??$/;\n// from https://stackoverflow.com/a/46181/1550155\n// old version: too slow, didn't support unicode\n// const emailRegex = /^((([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+(\\.([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+)*)|((\\x22)((((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(([\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x7f]|\\x21|[\\x23-\\x5b]|[\\x5d-\\x7e]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(\\\\([\\x01-\\x09\\x0b\\x0c\\x0d-\\x7f]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]))))*(((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(\\x22)))@((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)+(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))$/i;\n//old email regex\n// const emailRegex = /^(([^<>()[\\].,;:\\s@\"]+(\\.[^<>()[\\].,;:\\s@\"]+)*)|(\".+\"))@((?!-)([^<>()[\\].,;:\\s@\"]+\\.)+[^<>()[\\].,;:\\s@\"]{1,})[^-<>()[\\].,;:\\s@\"]$/i;\n// eslint-disable-next-line\n// const emailRegex =\n//   /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\])|(\\[IPv6:(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))\\])|([A-Za-z0-9]([A-Za-z0-9-]*[A-Za-z0-9])*(\\.[A-Za-z]{2,})+))$/;\n// const emailRegex =\n//   /^[a-zA-Z0-9\\.\\!\\#\\$\\%\\&\\'\\*\\+\\/\\=\\?\\^\\_\\`\\{\\|\\}\\~\\-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;\n// const emailRegex =\n//   /^(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\])$/i;\nconst emailRegex = /^(?!\\.)(?!.*\\.\\.)([A-Z0-9_'+\\-\\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\\-]*\\.)+[A-Z]{2,}$/i;\n// const emailRegex =\n//   /^[a-z0-9.!#$%&\u2019*+/=?^_`{|}~-]+@[a-z0-9-]+(?:\\.[a-z0-9\\-]+)*$/i;\n// from https://thekevinscott.com/emojis-in-javascript/#writing-a-regular-expression\nconst _emojiRegex = `^(\\\\p{Extended_Pictographic}|\\\\p{Emoji_Component})+$`;\nlet emojiRegex;\n// faster, simpler, safer\nconst ipv4Regex = /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/;\nconst ipv4CidrRegex = /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\/(3[0-2]|[12]?[0-9])$/;\n// const ipv6Regex =\n// /^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/;\nconst ipv6Regex = /^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/;\nconst ipv6CidrRegex = /^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/;\n// https://stackoverflow.com/questions/7860392/determine-if-string-is-in-base64-using-javascript\nconst base64Regex = /^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/;\n// https://base64.guru/standards/base64url\nconst base64urlRegex = /^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/;\n// simple\n// const dateRegexSource = `\\\\d{4}-\\\\d{2}-\\\\d{2}`;\n// no leap year validation\n// const dateRegexSource = `\\\\d{4}-((0[13578]|10|12)-31|(0[13-9]|1[0-2])-30|(0[1-9]|1[0-2])-(0[1-9]|1\\\\d|2\\\\d))`;\n// with leap year validation\nconst dateRegexSource = `((\\\\d\\\\d[2468][048]|\\\\d\\\\d[13579][26]|\\\\d\\\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\\\d|30)|(02)-(0[1-9]|1\\\\d|2[0-8])))`;\nconst dateRegex = new RegExp(`^${dateRegexSource}$`);\nfunction timeRegexSource(args) {\n    // let regex = `\\\\d{2}:\\\\d{2}:\\\\d{2}`;\n    let regex = `([01]\\\\d|2[0-3]):[0-5]\\\\d:[0-5]\\\\d`;\n    if (args.precision) {\n        regex = `${regex}\\\\.\\\\d{${args.precision}}`;\n    }\n    else if (args.precision == null) {\n        regex = `${regex}(\\\\.\\\\d+)?`;\n    }\n    return regex;\n}\nfunction timeRegex(args) {\n    return new RegExp(`^${timeRegexSource(args)}$`);\n}\n// Adapted from https://stackoverflow.com/a/3143231\nfunction datetimeRegex(args) {\n    let regex = `${dateRegexSource}T${timeRegexSource(args)}`;\n    const opts = [];\n    opts.push(args.local ? `Z?` : `Z`);\n    if (args.offset)\n        opts.push(`([+-]\\\\d{2}:?\\\\d{2})`);\n    regex = `${regex}(${opts.join(\"|\")})`;\n    return new RegExp(`^${regex}$`);\n}\nfunction isValidIP(ip, version) {\n    if ((version === \"v4\" || !version) && ipv4Regex.test(ip)) {\n        return true;\n    }\n    if ((version === \"v6\" || !version) && ipv6Regex.test(ip)) {\n        return true;\n    }\n    return false;\n}\nfunction isValidJWT(jwt, alg) {\n    if (!jwtRegex.test(jwt))\n        return false;\n    try {\n        const [header] = jwt.split(\".\");\n        // Convert base64url to base64\n        const base64 = header\n            .replace(/-/g, \"+\")\n            .replace(/_/g, \"/\")\n            .padEnd(header.length + ((4 - (header.length % 4)) % 4), \"=\");\n        const decoded = JSON.parse(atob(base64));\n        if (typeof decoded !== \"object\" || decoded === null)\n            return false;\n        if (!decoded.typ || !decoded.alg)\n            return false;\n        if (alg && decoded.alg !== alg)\n            return false;\n        return true;\n    }\n    catch (_a) {\n        return false;\n    }\n}\nfunction isValidCidr(ip, version) {\n    if ((version === \"v4\" || !version) && ipv4CidrRegex.test(ip)) {\n        return true;\n    }\n    if ((version === \"v6\" || !version) && ipv6CidrRegex.test(ip)) {\n        return true;\n    }\n    return false;\n}\nclass ZodString extends ZodType {\n    _parse(input) {\n        if (this._def.coerce) {\n            input.data = String(input.data);\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.string) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.string,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const status = new ParseStatus();\n        let ctx = undefined;\n        for (const check of this._def.checks) {\n            if (check.kind === \"min\") {\n                if (input.data.length < check.value) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_small,\n                        minimum: check.value,\n                        type: \"string\",\n                        inclusive: true,\n                        exact: false,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"max\") {\n                if (input.data.length > check.value) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_big,\n                        maximum: check.value,\n                        type: \"string\",\n                        inclusive: true,\n                        exact: false,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"length\") {\n                const tooBig = input.data.length > check.value;\n                const tooSmall = input.data.length < check.value;\n                if (tooBig || tooSmall) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    if (tooBig) {\n                        addIssueToContext(ctx, {\n                            code: ZodIssueCode.too_big,\n                            maximum: check.value,\n                            type: \"string\",\n                            inclusive: true,\n                            exact: true,\n                            message: check.message,\n                        });\n                    }\n                    else if (tooSmall) {\n                        addIssueToContext(ctx, {\n                            code: ZodIssueCode.too_small,\n                            minimum: check.value,\n                            type: \"string\",\n                            inclusive: true,\n                            exact: true,\n                            message: check.message,\n                        });\n                    }\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"email\") {\n                if (!emailRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"email\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"emoji\") {\n                if (!emojiRegex) {\n                    emojiRegex = new RegExp(_emojiRegex, \"u\");\n                }\n                if (!emojiRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"emoji\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"uuid\") {\n                if (!uuidRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"uuid\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"nanoid\") {\n                if (!nanoidRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"nanoid\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"cuid\") {\n                if (!cuidRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"cuid\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"cuid2\") {\n                if (!cuid2Regex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"cuid2\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"ulid\") {\n                if (!ulidRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"ulid\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"url\") {\n                try {\n                    new URL(input.data);\n                }\n                catch (_a) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"url\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"regex\") {\n                check.regex.lastIndex = 0;\n                const testResult = check.regex.test(input.data);\n                if (!testResult) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"regex\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"trim\") {\n                input.data = input.data.trim();\n            }\n            else if (check.kind === \"includes\") {\n                if (!input.data.includes(check.value, check.position)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: { includes: check.value, position: check.position },\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"toLowerCase\") {\n                input.data = input.data.toLowerCase();\n            }\n            else if (check.kind === \"toUpperCase\") {\n                input.data = input.data.toUpperCase();\n            }\n            else if (check.kind === \"startsWith\") {\n                if (!input.data.startsWith(check.value)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: { startsWith: check.value },\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"endsWith\") {\n                if (!input.data.endsWith(check.value)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: { endsWith: check.value },\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"datetime\") {\n                const regex = datetimeRegex(check);\n                if (!regex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: \"datetime\",\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"date\") {\n                const regex = dateRegex;\n                if (!regex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: \"date\",\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"time\") {\n                const regex = timeRegex(check);\n                if (!regex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_string,\n                        validation: \"time\",\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"duration\") {\n                if (!durationRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"duration\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"ip\") {\n                if (!isValidIP(input.data, check.version)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"ip\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"jwt\") {\n                if (!isValidJWT(input.data, check.alg)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"jwt\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"cidr\") {\n                if (!isValidCidr(input.data, check.version)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"cidr\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"base64\") {\n                if (!base64Regex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"base64\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"base64url\") {\n                if (!base64urlRegex.test(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        validation: \"base64url\",\n                        code: ZodIssueCode.invalid_string,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else {\n                util.assertNever(check);\n            }\n        }\n        return { status: status.value, value: input.data };\n    }\n    _regex(regex, validation, message) {\n        return this.refinement((data) => regex.test(data), {\n            validation,\n            code: ZodIssueCode.invalid_string,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    _addCheck(check) {\n        return new ZodString({\n            ...this._def,\n            checks: [...this._def.checks, check],\n        });\n    }\n    email(message) {\n        return this._addCheck({ kind: \"email\", ...errorUtil.errToObj(message) });\n    }\n    url(message) {\n        return this._addCheck({ kind: \"url\", ...errorUtil.errToObj(message) });\n    }\n    emoji(message) {\n        return this._addCheck({ kind: \"emoji\", ...errorUtil.errToObj(message) });\n    }\n    uuid(message) {\n        return this._addCheck({ kind: \"uuid\", ...errorUtil.errToObj(message) });\n    }\n    nanoid(message) {\n        return this._addCheck({ kind: \"nanoid\", ...errorUtil.errToObj(message) });\n    }\n    cuid(message) {\n        return this._addCheck({ kind: \"cuid\", ...errorUtil.errToObj(message) });\n    }\n    cuid2(message) {\n        return this._addCheck({ kind: \"cuid2\", ...errorUtil.errToObj(message) });\n    }\n    ulid(message) {\n        return this._addCheck({ kind: \"ulid\", ...errorUtil.errToObj(message) });\n    }\n    base64(message) {\n        return this._addCheck({ kind: \"base64\", ...errorUtil.errToObj(message) });\n    }\n    base64url(message) {\n        // base64url encoding is a modification of base64 that can safely be used in URLs and filenames\n        return this._addCheck({\n            kind: \"base64url\",\n            ...errorUtil.errToObj(message),\n        });\n    }\n    jwt(options) {\n        return this._addCheck({ kind: \"jwt\", ...errorUtil.errToObj(options) });\n    }\n    ip(options) {\n        return this._addCheck({ kind: \"ip\", ...errorUtil.errToObj(options) });\n    }\n    cidr(options) {\n        return this._addCheck({ kind: \"cidr\", ...errorUtil.errToObj(options) });\n    }\n    datetime(options) {\n        var _a, _b;\n        if (typeof options === \"string\") {\n            return this._addCheck({\n                kind: \"datetime\",\n                precision: null,\n                offset: false,\n                local: false,\n                message: options,\n            });\n        }\n        return this._addCheck({\n            kind: \"datetime\",\n            precision: typeof (options === null || options === void 0 ? void 0 : options.precision) === \"undefined\" ? null : options === null || options === void 0 ? void 0 : options.precision,\n            offset: (_a = options === null || options === void 0 ? void 0 : options.offset) !== null && _a !== void 0 ? _a : false,\n            local: (_b = options === null || options === void 0 ? void 0 : options.local) !== null && _b !== void 0 ? _b : false,\n            ...errorUtil.errToObj(options === null || options === void 0 ? void 0 : options.message),\n        });\n    }\n    date(message) {\n        return this._addCheck({ kind: \"date\", message });\n    }\n    time(options) {\n        if (typeof options === \"string\") {\n            return this._addCheck({\n                kind: \"time\",\n                precision: null,\n                message: options,\n            });\n        }\n        return this._addCheck({\n            kind: \"time\",\n            precision: typeof (options === null || options === void 0 ? void 0 : options.precision) === \"undefined\" ? null : options === null || options === void 0 ? void 0 : options.precision,\n            ...errorUtil.errToObj(options === null || options === void 0 ? void 0 : options.message),\n        });\n    }\n    duration(message) {\n        return this._addCheck({ kind: \"duration\", ...errorUtil.errToObj(message) });\n    }\n    regex(regex, message) {\n        return this._addCheck({\n            kind: \"regex\",\n            regex: regex,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    includes(value, options) {\n        return this._addCheck({\n            kind: \"includes\",\n            value: value,\n            position: options === null || options === void 0 ? void 0 : options.position,\n            ...errorUtil.errToObj(options === null || options === void 0 ? void 0 : options.message),\n        });\n    }\n    startsWith(value, message) {\n        return this._addCheck({\n            kind: \"startsWith\",\n            value: value,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    endsWith(value, message) {\n        return this._addCheck({\n            kind: \"endsWith\",\n            value: value,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    min(minLength, message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: minLength,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    max(maxLength, message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: maxLength,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    length(len, message) {\n        return this._addCheck({\n            kind: \"length\",\n            value: len,\n            ...errorUtil.errToObj(message),\n        });\n    }\n    /**\n     * Equivalent to `.min(1)`\n     */\n    nonempty(message) {\n        return this.min(1, errorUtil.errToObj(message));\n    }\n    trim() {\n        return new ZodString({\n            ...this._def,\n            checks: [...this._def.checks, { kind: \"trim\" }],\n        });\n    }\n    toLowerCase() {\n        return new ZodString({\n            ...this._def,\n            checks: [...this._def.checks, { kind: \"toLowerCase\" }],\n        });\n    }\n    toUpperCase() {\n        return new ZodString({\n            ...this._def,\n            checks: [...this._def.checks, { kind: \"toUpperCase\" }],\n        });\n    }\n    get isDatetime() {\n        return !!this._def.checks.find((ch) => ch.kind === \"datetime\");\n    }\n    get isDate() {\n        return !!this._def.checks.find((ch) => ch.kind === \"date\");\n    }\n    get isTime() {\n        return !!this._def.checks.find((ch) => ch.kind === \"time\");\n    }\n    get isDuration() {\n        return !!this._def.checks.find((ch) => ch.kind === \"duration\");\n    }\n    get isEmail() {\n        return !!this._def.checks.find((ch) => ch.kind === \"email\");\n    }\n    get isURL() {\n        return !!this._def.checks.find((ch) => ch.kind === \"url\");\n    }\n    get isEmoji() {\n        return !!this._def.checks.find((ch) => ch.kind === \"emoji\");\n    }\n    get isUUID() {\n        return !!this._def.checks.find((ch) => ch.kind === \"uuid\");\n    }\n    get isNANOID() {\n        return !!this._def.checks.find((ch) => ch.kind === \"nanoid\");\n    }\n    get isCUID() {\n        return !!this._def.checks.find((ch) => ch.kind === \"cuid\");\n    }\n    get isCUID2() {\n        return !!this._def.checks.find((ch) => ch.kind === \"cuid2\");\n    }\n    get isULID() {\n        return !!this._def.checks.find((ch) => ch.kind === \"ulid\");\n    }\n    get isIP() {\n        return !!this._def.checks.find((ch) => ch.kind === \"ip\");\n    }\n    get isCIDR() {\n        return !!this._def.checks.find((ch) => ch.kind === \"cidr\");\n    }\n    get isBase64() {\n        return !!this._def.checks.find((ch) => ch.kind === \"base64\");\n    }\n    get isBase64url() {\n        // base64url encoding is a modification of base64 that can safely be used in URLs and filenames\n        return !!this._def.checks.find((ch) => ch.kind === \"base64url\");\n    }\n    get minLength() {\n        let min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n        }\n        return min;\n    }\n    get maxLength() {\n        let max = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return max;\n    }\n}\nZodString.create = (params) => {\n    var _a;\n    return new ZodString({\n        checks: [],\n        typeName: ZodFirstPartyTypeKind.ZodString,\n        coerce: (_a = params === null || params === void 0 ? void 0 : params.coerce) !== null && _a !== void 0 ? _a : false,\n        ...processCreateParams(params),\n    });\n};\n// https://stackoverflow.com/questions/3966484/why-does-modulus-operator-return-fractional-number-in-javascript/31711034#31711034\nfunction floatSafeRemainder(val, step) {\n    const valDecCount = (val.toString().split(\".\")[1] || \"\").length;\n    const stepDecCount = (step.toString().split(\".\")[1] || \"\").length;\n    const decCount = valDecCount > stepDecCount ? valDecCount : stepDecCount;\n    const valInt = parseInt(val.toFixed(decCount).replace(\".\", \"\"));\n    const stepInt = parseInt(step.toFixed(decCount).replace(\".\", \"\"));\n    return (valInt % stepInt) / Math.pow(10, decCount);\n}\nclass ZodNumber extends ZodType {\n    constructor() {\n        super(...arguments);\n        this.min = this.gte;\n        this.max = this.lte;\n        this.step = this.multipleOf;\n    }\n    _parse(input) {\n        if (this._def.coerce) {\n            input.data = Number(input.data);\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.number) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.number,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        let ctx = undefined;\n        const status = new ParseStatus();\n        for (const check of this._def.checks) {\n            if (check.kind === \"int\") {\n                if (!util.isInteger(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.invalid_type,\n                        expected: \"integer\",\n                        received: \"float\",\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"min\") {\n                const tooSmall = check.inclusive\n                    ? input.data < check.value\n                    : input.data <= check.value;\n                if (tooSmall) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_small,\n                        minimum: check.value,\n                        type: \"number\",\n                        inclusive: check.inclusive,\n                        exact: false,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"max\") {\n                const tooBig = check.inclusive\n                    ? input.data > check.value\n                    : input.data >= check.value;\n                if (tooBig) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_big,\n                        maximum: check.value,\n                        type: \"number\",\n                        inclusive: check.inclusive,\n                        exact: false,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"multipleOf\") {\n                if (floatSafeRemainder(input.data, check.value) !== 0) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.not_multiple_of,\n                        multipleOf: check.value,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"finite\") {\n                if (!Number.isFinite(input.data)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.not_finite,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else {\n                util.assertNever(check);\n            }\n        }\n        return { status: status.value, value: input.data };\n    }\n    gte(value, message) {\n        return this.setLimit(\"min\", value, true, errorUtil.toString(message));\n    }\n    gt(value, message) {\n        return this.setLimit(\"min\", value, false, errorUtil.toString(message));\n    }\n    lte(value, message) {\n        return this.setLimit(\"max\", value, true, errorUtil.toString(message));\n    }\n    lt(value, message) {\n        return this.setLimit(\"max\", value, false, errorUtil.toString(message));\n    }\n    setLimit(kind, value, inclusive, message) {\n        return new ZodNumber({\n            ...this._def,\n            checks: [\n                ...this._def.checks,\n                {\n                    kind,\n                    value,\n                    inclusive,\n                    message: errorUtil.toString(message),\n                },\n            ],\n        });\n    }\n    _addCheck(check) {\n        return new ZodNumber({\n            ...this._def,\n            checks: [...this._def.checks, check],\n        });\n    }\n    int(message) {\n        return this._addCheck({\n            kind: \"int\",\n            message: errorUtil.toString(message),\n        });\n    }\n    positive(message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: 0,\n            inclusive: false,\n            message: errorUtil.toString(message),\n        });\n    }\n    negative(message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: 0,\n            inclusive: false,\n            message: errorUtil.toString(message),\n        });\n    }\n    nonpositive(message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: 0,\n            inclusive: true,\n            message: errorUtil.toString(message),\n        });\n    }\n    nonnegative(message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: 0,\n            inclusive: true,\n            message: errorUtil.toString(message),\n        });\n    }\n    multipleOf(value, message) {\n        return this._addCheck({\n            kind: \"multipleOf\",\n            value: value,\n            message: errorUtil.toString(message),\n        });\n    }\n    finite(message) {\n        return this._addCheck({\n            kind: \"finite\",\n            message: errorUtil.toString(message),\n        });\n    }\n    safe(message) {\n        return this._addCheck({\n            kind: \"min\",\n            inclusive: true,\n            value: Number.MIN_SAFE_INTEGER,\n            message: errorUtil.toString(message),\n        })._addCheck({\n            kind: \"max\",\n            inclusive: true,\n            value: Number.MAX_SAFE_INTEGER,\n            message: errorUtil.toString(message),\n        });\n    }\n    get minValue() {\n        let min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n        }\n        return min;\n    }\n    get maxValue() {\n        let max = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return max;\n    }\n    get isInt() {\n        return !!this._def.checks.find((ch) => ch.kind === \"int\" ||\n            (ch.kind === \"multipleOf\" && util.isInteger(ch.value)));\n    }\n    get isFinite() {\n        let max = null, min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"finite\" ||\n                ch.kind === \"int\" ||\n                ch.kind === \"multipleOf\") {\n                return true;\n            }\n            else if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n            else if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return Number.isFinite(min) && Number.isFinite(max);\n    }\n}\nZodNumber.create = (params) => {\n    return new ZodNumber({\n        checks: [],\n        typeName: ZodFirstPartyTypeKind.ZodNumber,\n        coerce: (params === null || params === void 0 ? void 0 : params.coerce) || false,\n        ...processCreateParams(params),\n    });\n};\nclass ZodBigInt extends ZodType {\n    constructor() {\n        super(...arguments);\n        this.min = this.gte;\n        this.max = this.lte;\n    }\n    _parse(input) {\n        if (this._def.coerce) {\n            try {\n                input.data = BigInt(input.data);\n            }\n            catch (_a) {\n                return this._getInvalidInput(input);\n            }\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.bigint) {\n            return this._getInvalidInput(input);\n        }\n        let ctx = undefined;\n        const status = new ParseStatus();\n        for (const check of this._def.checks) {\n            if (check.kind === \"min\") {\n                const tooSmall = check.inclusive\n                    ? input.data < check.value\n                    : input.data <= check.value;\n                if (tooSmall) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_small,\n                        type: \"bigint\",\n                        minimum: check.value,\n                        inclusive: check.inclusive,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"max\") {\n                const tooBig = check.inclusive\n                    ? input.data > check.value\n                    : input.data >= check.value;\n                if (tooBig) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_big,\n                        type: \"bigint\",\n                        maximum: check.value,\n                        inclusive: check.inclusive,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"multipleOf\") {\n                if (input.data % check.value !== BigInt(0)) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.not_multiple_of,\n                        multipleOf: check.value,\n                        message: check.message,\n                    });\n                    status.dirty();\n                }\n            }\n            else {\n                util.assertNever(check);\n            }\n        }\n        return { status: status.value, value: input.data };\n    }\n    _getInvalidInput(input) {\n        const ctx = this._getOrReturnCtx(input);\n        addIssueToContext(ctx, {\n            code: ZodIssueCode.invalid_type,\n            expected: ZodParsedType.bigint,\n            received: ctx.parsedType,\n        });\n        return INVALID;\n    }\n    gte(value, message) {\n        return this.setLimit(\"min\", value, true, errorUtil.toString(message));\n    }\n    gt(value, message) {\n        return this.setLimit(\"min\", value, false, errorUtil.toString(message));\n    }\n    lte(value, message) {\n        return this.setLimit(\"max\", value, true, errorUtil.toString(message));\n    }\n    lt(value, message) {\n        return this.setLimit(\"max\", value, false, errorUtil.toString(message));\n    }\n    setLimit(kind, value, inclusive, message) {\n        return new ZodBigInt({\n            ...this._def,\n            checks: [\n                ...this._def.checks,\n                {\n                    kind,\n                    value,\n                    inclusive,\n                    message: errorUtil.toString(message),\n                },\n            ],\n        });\n    }\n    _addCheck(check) {\n        return new ZodBigInt({\n            ...this._def,\n            checks: [...this._def.checks, check],\n        });\n    }\n    positive(message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: BigInt(0),\n            inclusive: false,\n            message: errorUtil.toString(message),\n        });\n    }\n    negative(message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: BigInt(0),\n            inclusive: false,\n            message: errorUtil.toString(message),\n        });\n    }\n    nonpositive(message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: BigInt(0),\n            inclusive: true,\n            message: errorUtil.toString(message),\n        });\n    }\n    nonnegative(message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: BigInt(0),\n            inclusive: true,\n            message: errorUtil.toString(message),\n        });\n    }\n    multipleOf(value, message) {\n        return this._addCheck({\n            kind: \"multipleOf\",\n            value,\n            message: errorUtil.toString(message),\n        });\n    }\n    get minValue() {\n        let min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n        }\n        return min;\n    }\n    get maxValue() {\n        let max = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return max;\n    }\n}\nZodBigInt.create = (params) => {\n    var _a;\n    return new ZodBigInt({\n        checks: [],\n        typeName: ZodFirstPartyTypeKind.ZodBigInt,\n        coerce: (_a = params === null || params === void 0 ? void 0 : params.coerce) !== null && _a !== void 0 ? _a : false,\n        ...processCreateParams(params),\n    });\n};\nclass ZodBoolean extends ZodType {\n    _parse(input) {\n        if (this._def.coerce) {\n            input.data = Boolean(input.data);\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.boolean) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.boolean,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n}\nZodBoolean.create = (params) => {\n    return new ZodBoolean({\n        typeName: ZodFirstPartyTypeKind.ZodBoolean,\n        coerce: (params === null || params === void 0 ? void 0 : params.coerce) || false,\n        ...processCreateParams(params),\n    });\n};\nclass ZodDate extends ZodType {\n    _parse(input) {\n        if (this._def.coerce) {\n            input.data = new Date(input.data);\n        }\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.date) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.date,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        if (isNaN(input.data.getTime())) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_date,\n            });\n            return INVALID;\n        }\n        const status = new ParseStatus();\n        let ctx = undefined;\n        for (const check of this._def.checks) {\n            if (check.kind === \"min\") {\n                if (input.data.getTime() < check.value) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_small,\n                        message: check.message,\n                        inclusive: true,\n                        exact: false,\n                        minimum: check.value,\n                        type: \"date\",\n                    });\n                    status.dirty();\n                }\n            }\n            else if (check.kind === \"max\") {\n                if (input.data.getTime() > check.value) {\n                    ctx = this._getOrReturnCtx(input, ctx);\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.too_big,\n                        message: check.message,\n                        inclusive: true,\n                        exact: false,\n                        maximum: check.value,\n                        type: \"date\",\n                    });\n                    status.dirty();\n                }\n            }\n            else {\n                util.assertNever(check);\n            }\n        }\n        return {\n            status: status.value,\n            value: new Date(input.data.getTime()),\n        };\n    }\n    _addCheck(check) {\n        return new ZodDate({\n            ...this._def,\n            checks: [...this._def.checks, check],\n        });\n    }\n    min(minDate, message) {\n        return this._addCheck({\n            kind: \"min\",\n            value: minDate.getTime(),\n            message: errorUtil.toString(message),\n        });\n    }\n    max(maxDate, message) {\n        return this._addCheck({\n            kind: \"max\",\n            value: maxDate.getTime(),\n            message: errorUtil.toString(message),\n        });\n    }\n    get minDate() {\n        let min = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"min\") {\n                if (min === null || ch.value > min)\n                    min = ch.value;\n            }\n        }\n        return min != null ? new Date(min) : null;\n    }\n    get maxDate() {\n        let max = null;\n        for (const ch of this._def.checks) {\n            if (ch.kind === \"max\") {\n                if (max === null || ch.value < max)\n                    max = ch.value;\n            }\n        }\n        return max != null ? new Date(max) : null;\n    }\n}\nZodDate.create = (params) => {\n    return new ZodDate({\n        checks: [],\n        coerce: (params === null || params === void 0 ? void 0 : params.coerce) || false,\n        typeName: ZodFirstPartyTypeKind.ZodDate,\n        ...processCreateParams(params),\n    });\n};\nclass ZodSymbol extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.symbol) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.symbol,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n}\nZodSymbol.create = (params) => {\n    return new ZodSymbol({\n        typeName: ZodFirstPartyTypeKind.ZodSymbol,\n        ...processCreateParams(params),\n    });\n};\nclass ZodUndefined extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.undefined) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.undefined,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n}\nZodUndefined.create = (params) => {\n    return new ZodUndefined({\n        typeName: ZodFirstPartyTypeKind.ZodUndefined,\n        ...processCreateParams(params),\n    });\n};\nclass ZodNull extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.null) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.null,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n}\nZodNull.create = (params) => {\n    return new ZodNull({\n        typeName: ZodFirstPartyTypeKind.ZodNull,\n        ...processCreateParams(params),\n    });\n};\nclass ZodAny extends ZodType {\n    constructor() {\n        super(...arguments);\n        // to prevent instances of other classes from extending ZodAny. this causes issues with catchall in ZodObject.\n        this._any = true;\n    }\n    _parse(input) {\n        return OK(input.data);\n    }\n}\nZodAny.create = (params) => {\n    return new ZodAny({\n        typeName: ZodFirstPartyTypeKind.ZodAny,\n        ...processCreateParams(params),\n    });\n};\nclass ZodUnknown extends ZodType {\n    constructor() {\n        super(...arguments);\n        // required\n        this._unknown = true;\n    }\n    _parse(input) {\n        return OK(input.data);\n    }\n}\nZodUnknown.create = (params) => {\n    return new ZodUnknown({\n        typeName: ZodFirstPartyTypeKind.ZodUnknown,\n        ...processCreateParams(params),\n    });\n};\nclass ZodNever extends ZodType {\n    _parse(input) {\n        const ctx = this._getOrReturnCtx(input);\n        addIssueToContext(ctx, {\n            code: ZodIssueCode.invalid_type,\n            expected: ZodParsedType.never,\n            received: ctx.parsedType,\n        });\n        return INVALID;\n    }\n}\nZodNever.create = (params) => {\n    return new ZodNever({\n        typeName: ZodFirstPartyTypeKind.ZodNever,\n        ...processCreateParams(params),\n    });\n};\nclass ZodVoid extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.undefined) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.void,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n}\nZodVoid.create = (params) => {\n    return new ZodVoid({\n        typeName: ZodFirstPartyTypeKind.ZodVoid,\n        ...processCreateParams(params),\n    });\n};\nclass ZodArray extends ZodType {\n    _parse(input) {\n        const { ctx, status } = this._processInputParams(input);\n        const def = this._def;\n        if (ctx.parsedType !== ZodParsedType.array) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.array,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        if (def.exactLength !== null) {\n            const tooBig = ctx.data.length > def.exactLength.value;\n            const tooSmall = ctx.data.length < def.exactLength.value;\n            if (tooBig || tooSmall) {\n                addIssueToContext(ctx, {\n                    code: tooBig ? ZodIssueCode.too_big : ZodIssueCode.too_small,\n                    minimum: (tooSmall ? def.exactLength.value : undefined),\n                    maximum: (tooBig ? def.exactLength.value : undefined),\n                    type: \"array\",\n                    inclusive: true,\n                    exact: true,\n                    message: def.exactLength.message,\n                });\n                status.dirty();\n            }\n        }\n        if (def.minLength !== null) {\n            if (ctx.data.length < def.minLength.value) {\n                addIssueToContext(ctx, {\n                    code: ZodIssueCode.too_small,\n                    minimum: def.minLength.value,\n                    type: \"array\",\n                    inclusive: true,\n                    exact: false,\n                    message: def.minLength.message,\n                });\n                status.dirty();\n            }\n        }\n        if (def.maxLength !== null) {\n            if (ctx.data.length > def.maxLength.value) {\n                addIssueToContext(ctx, {\n                    code: ZodIssueCode.too_big,\n                    maximum: def.maxLength.value,\n                    type: \"array\",\n                    inclusive: true,\n                    exact: false,\n                    message: def.maxLength.message,\n                });\n                status.dirty();\n            }\n        }\n        if (ctx.common.async) {\n            return Promise.all([...ctx.data].map((item, i) => {\n                return def.type._parseAsync(new ParseInputLazyPath(ctx, item, ctx.path, i));\n            })).then((result) => {\n                return ParseStatus.mergeArray(status, result);\n            });\n        }\n        const result = [...ctx.data].map((item, i) => {\n            return def.type._parseSync(new ParseInputLazyPath(ctx, item, ctx.path, i));\n        });\n        return ParseStatus.mergeArray(status, result);\n    }\n    get element() {\n        return this._def.type;\n    }\n    min(minLength, message) {\n        return new ZodArray({\n            ...this._def,\n            minLength: { value: minLength, message: errorUtil.toString(message) },\n        });\n    }\n    max(maxLength, message) {\n        return new ZodArray({\n            ...this._def,\n            maxLength: { value: maxLength, message: errorUtil.toString(message) },\n        });\n    }\n    length(len, message) {\n        return new ZodArray({\n            ...this._def,\n            exactLength: { value: len, message: errorUtil.toString(message) },\n        });\n    }\n    nonempty(message) {\n        return this.min(1, message);\n    }\n}\nZodArray.create = (schema, params) => {\n    return new ZodArray({\n        type: schema,\n        minLength: null,\n        maxLength: null,\n        exactLength: null,\n        typeName: ZodFirstPartyTypeKind.ZodArray,\n        ...processCreateParams(params),\n    });\n};\nfunction deepPartialify(schema) {\n    if (schema instanceof ZodObject) {\n        const newShape = {};\n        for (const key in schema.shape) {\n            const fieldSchema = schema.shape[key];\n            newShape[key] = ZodOptional.create(deepPartialify(fieldSchema));\n        }\n        return new ZodObject({\n            ...schema._def,\n            shape: () => newShape,\n        });\n    }\n    else if (schema instanceof ZodArray) {\n        return new ZodArray({\n            ...schema._def,\n            type: deepPartialify(schema.element),\n        });\n    }\n    else if (schema instanceof ZodOptional) {\n        return ZodOptional.create(deepPartialify(schema.unwrap()));\n    }\n    else if (schema instanceof ZodNullable) {\n        return ZodNullable.create(deepPartialify(schema.unwrap()));\n    }\n    else if (schema instanceof ZodTuple) {\n        return ZodTuple.create(schema.items.map((item) => deepPartialify(item)));\n    }\n    else {\n        return schema;\n    }\n}\nclass ZodObject extends ZodType {\n    constructor() {\n        super(...arguments);\n        this._cached = null;\n        /**\n         * @deprecated In most cases, this is no longer needed - unknown properties are now silently stripped.\n         * If you want to pass through unknown properties, use `.passthrough()` instead.\n         */\n        this.nonstrict = this.passthrough;\n        // extend<\n        //   Augmentation extends ZodRawShape,\n        //   NewOutput extends util.flatten<{\n        //     [k in keyof Augmentation | keyof Output]: k extends keyof Augmentation\n        //       ? Augmentation[k][\"_output\"]\n        //       : k extends keyof Output\n        //       ? Output[k]\n        //       : never;\n        //   }>,\n        //   NewInput extends util.flatten<{\n        //     [k in keyof Augmentation | keyof Input]: k extends keyof Augmentation\n        //       ? Augmentation[k][\"_input\"]\n        //       : k extends keyof Input\n        //       ? Input[k]\n        //       : never;\n        //   }>\n        // >(\n        //   augmentation: Augmentation\n        // ): ZodObject<\n        //   extendShape<T, Augmentation>,\n        //   UnknownKeys,\n        //   Catchall,\n        //   NewOutput,\n        //   NewInput\n        // > {\n        //   return new ZodObject({\n        //     ...this._def,\n        //     shape: () => ({\n        //       ...this._def.shape(),\n        //       ...augmentation,\n        //     }),\n        //   }) as any;\n        // }\n        /**\n         * @deprecated Use `.extend` instead\n         *  */\n        this.augment = this.extend;\n    }\n    _getCached() {\n        if (this._cached !== null)\n            return this._cached;\n        const shape = this._def.shape();\n        const keys = util.objectKeys(shape);\n        return (this._cached = { shape, keys });\n    }\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.object) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.object,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const { status, ctx } = this._processInputParams(input);\n        const { shape, keys: shapeKeys } = this._getCached();\n        const extraKeys = [];\n        if (!(this._def.catchall instanceof ZodNever &&\n            this._def.unknownKeys === \"strip\")) {\n            for (const key in ctx.data) {\n                if (!shapeKeys.includes(key)) {\n                    extraKeys.push(key);\n                }\n            }\n        }\n        const pairs = [];\n        for (const key of shapeKeys) {\n            const keyValidator = shape[key];\n            const value = ctx.data[key];\n            pairs.push({\n                key: { status: \"valid\", value: key },\n                value: keyValidator._parse(new ParseInputLazyPath(ctx, value, ctx.path, key)),\n                alwaysSet: key in ctx.data,\n            });\n        }\n        if (this._def.catchall instanceof ZodNever) {\n            const unknownKeys = this._def.unknownKeys;\n            if (unknownKeys === \"passthrough\") {\n                for (const key of extraKeys) {\n                    pairs.push({\n                        key: { status: \"valid\", value: key },\n                        value: { status: \"valid\", value: ctx.data[key] },\n                    });\n                }\n            }\n            else if (unknownKeys === \"strict\") {\n                if (extraKeys.length > 0) {\n                    addIssueToContext(ctx, {\n                        code: ZodIssueCode.unrecognized_keys,\n                        keys: extraKeys,\n                    });\n                    status.dirty();\n                }\n            }\n            else if (unknownKeys === \"strip\") ;\n            else {\n                throw new Error(`Internal ZodObject error: invalid unknownKeys value.`);\n            }\n        }\n        else {\n            // run catchall validation\n            const catchall = this._def.catchall;\n            for (const key of extraKeys) {\n                const value = ctx.data[key];\n                pairs.push({\n                    key: { status: \"valid\", value: key },\n                    value: catchall._parse(new ParseInputLazyPath(ctx, value, ctx.path, key) //, ctx.child(key), value, getParsedType(value)\n                    ),\n                    alwaysSet: key in ctx.data,\n                });\n            }\n        }\n        if (ctx.common.async) {\n            return Promise.resolve()\n                .then(async () => {\n                const syncPairs = [];\n                for (const pair of pairs) {\n                    const key = await pair.key;\n                    const value = await pair.value;\n                    syncPairs.push({\n                        key,\n                        value,\n                        alwaysSet: pair.alwaysSet,\n                    });\n                }\n                return syncPairs;\n            })\n                .then((syncPairs) => {\n                return ParseStatus.mergeObjectSync(status, syncPairs);\n            });\n        }\n        else {\n            return ParseStatus.mergeObjectSync(status, pairs);\n        }\n    }\n    get shape() {\n        return this._def.shape();\n    }\n    strict(message) {\n        errorUtil.errToObj;\n        return new ZodObject({\n            ...this._def,\n            unknownKeys: \"strict\",\n            ...(message !== undefined\n                ? {\n                    errorMap: (issue, ctx) => {\n                        var _a, _b, _c, _d;\n                        const defaultError = (_c = (_b = (_a = this._def).errorMap) === null || _b === void 0 ? void 0 : _b.call(_a, issue, ctx).message) !== null && _c !== void 0 ? _c : ctx.defaultError;\n                        if (issue.code === \"unrecognized_keys\")\n                            return {\n                                message: (_d = errorUtil.errToObj(message).message) !== null && _d !== void 0 ? _d : defaultError,\n                            };\n                        return {\n                            message: defaultError,\n                        };\n                    },\n                }\n                : {}),\n        });\n    }\n    strip() {\n        return new ZodObject({\n            ...this._def,\n            unknownKeys: \"strip\",\n        });\n    }\n    passthrough() {\n        return new ZodObject({\n            ...this._def,\n            unknownKeys: \"passthrough\",\n        });\n    }\n    // const AugmentFactory =\n    //   <Def extends ZodObjectDef>(def: Def) =>\n    //   <Augmentation extends ZodRawShape>(\n    //     augmentation: Augmentation\n    //   ): ZodObject<\n    //     extendShape<ReturnType<Def[\"shape\"]>, Augmentation>,\n    //     Def[\"unknownKeys\"],\n    //     Def[\"catchall\"]\n    //   > => {\n    //     return new ZodObject({\n    //       ...def,\n    //       shape: () => ({\n    //         ...def.shape(),\n    //         ...augmentation,\n    //       }),\n    //     }) as any;\n    //   };\n    extend(augmentation) {\n        return new ZodObject({\n            ...this._def,\n            shape: () => ({\n                ...this._def.shape(),\n                ...augmentation,\n            }),\n        });\n    }\n    /**\n     * Prior to zod@1.0.12 there was a bug in the\n     * inferred type of merged objects. Please\n     * upgrade if you are experiencing issues.\n     */\n    merge(merging) {\n        const merged = new ZodObject({\n            unknownKeys: merging._def.unknownKeys,\n            catchall: merging._def.catchall,\n            shape: () => ({\n                ...this._def.shape(),\n                ...merging._def.shape(),\n            }),\n            typeName: ZodFirstPartyTypeKind.ZodObject,\n        });\n        return merged;\n    }\n    // merge<\n    //   Incoming extends AnyZodObject,\n    //   Augmentation extends Incoming[\"shape\"],\n    //   NewOutput extends {\n    //     [k in keyof Augmentation | keyof Output]: k extends keyof Augmentation\n    //       ? Augmentation[k][\"_output\"]\n    //       : k extends keyof Output\n    //       ? Output[k]\n    //       : never;\n    //   },\n    //   NewInput extends {\n    //     [k in keyof Augmentation | keyof Input]: k extends keyof Augmentation\n    //       ? Augmentation[k][\"_input\"]\n    //       : k extends keyof Input\n    //       ? Input[k]\n    //       : never;\n    //   }\n    // >(\n    //   merging: Incoming\n    // ): ZodObject<\n    //   extendShape<T, ReturnType<Incoming[\"_def\"][\"shape\"]>>,\n    //   Incoming[\"_def\"][\"unknownKeys\"],\n    //   Incoming[\"_def\"][\"catchall\"],\n    //   NewOutput,\n    //   NewInput\n    // > {\n    //   const merged: any = new ZodObject({\n    //     unknownKeys: merging._def.unknownKeys,\n    //     catchall: merging._def.catchall,\n    //     shape: () =>\n    //       objectUtil.mergeShapes(this._def.shape(), merging._def.shape()),\n    //     typeName: ZodFirstPartyTypeKind.ZodObject,\n    //   }) as any;\n    //   return merged;\n    // }\n    setKey(key, schema) {\n        return this.augment({ [key]: schema });\n    }\n    // merge<Incoming extends AnyZodObject>(\n    //   merging: Incoming\n    // ): //ZodObject<T & Incoming[\"_shape\"], UnknownKeys, Catchall> = (merging) => {\n    // ZodObject<\n    //   extendShape<T, ReturnType<Incoming[\"_def\"][\"shape\"]>>,\n    //   Incoming[\"_def\"][\"unknownKeys\"],\n    //   Incoming[\"_def\"][\"catchall\"]\n    // > {\n    //   // const mergedShape = objectUtil.mergeShapes(\n    //   //   this._def.shape(),\n    //   //   merging._def.shape()\n    //   // );\n    //   const merged: any = new ZodObject({\n    //     unknownKeys: merging._def.unknownKeys,\n    //     catchall: merging._def.catchall,\n    //     shape: () =>\n    //       objectUtil.mergeShapes(this._def.shape(), merging._def.shape()),\n    //     typeName: ZodFirstPartyTypeKind.ZodObject,\n    //   }) as any;\n    //   return merged;\n    // }\n    catchall(index) {\n        return new ZodObject({\n            ...this._def,\n            catchall: index,\n        });\n    }\n    pick(mask) {\n        const shape = {};\n        util.objectKeys(mask).forEach((key) => {\n            if (mask[key] && this.shape[key]) {\n                shape[key] = this.shape[key];\n            }\n        });\n        return new ZodObject({\n            ...this._def,\n            shape: () => shape,\n        });\n    }\n    omit(mask) {\n        const shape = {};\n        util.objectKeys(this.shape).forEach((key) => {\n            if (!mask[key]) {\n                shape[key] = this.shape[key];\n            }\n        });\n        return new ZodObject({\n            ...this._def,\n            shape: () => shape,\n        });\n    }\n    /**\n     * @deprecated\n     */\n    deepPartial() {\n        return deepPartialify(this);\n    }\n    partial(mask) {\n        const newShape = {};\n        util.objectKeys(this.shape).forEach((key) => {\n            const fieldSchema = this.shape[key];\n            if (mask && !mask[key]) {\n                newShape[key] = fieldSchema;\n            }\n            else {\n                newShape[key] = fieldSchema.optional();\n            }\n        });\n        return new ZodObject({\n            ...this._def,\n            shape: () => newShape,\n        });\n    }\n    required(mask) {\n        const newShape = {};\n        util.objectKeys(this.shape).forEach((key) => {\n            if (mask && !mask[key]) {\n                newShape[key] = this.shape[key];\n            }\n            else {\n                const fieldSchema = this.shape[key];\n                let newField = fieldSchema;\n                while (newField instanceof ZodOptional) {\n                    newField = newField._def.innerType;\n                }\n                newShape[key] = newField;\n            }\n        });\n        return new ZodObject({\n            ...this._def,\n            shape: () => newShape,\n        });\n    }\n    keyof() {\n        return createZodEnum(util.objectKeys(this.shape));\n    }\n}\nZodObject.create = (shape, params) => {\n    return new ZodObject({\n        shape: () => shape,\n        unknownKeys: \"strip\",\n        catchall: ZodNever.create(),\n        typeName: ZodFirstPartyTypeKind.ZodObject,\n        ...processCreateParams(params),\n    });\n};\nZodObject.strictCreate = (shape, params) => {\n    return new ZodObject({\n        shape: () => shape,\n        unknownKeys: \"strict\",\n        catchall: ZodNever.create(),\n        typeName: ZodFirstPartyTypeKind.ZodObject,\n        ...processCreateParams(params),\n    });\n};\nZodObject.lazycreate = (shape, params) => {\n    return new ZodObject({\n        shape,\n        unknownKeys: \"strip\",\n        catchall: ZodNever.create(),\n        typeName: ZodFirstPartyTypeKind.ZodObject,\n        ...processCreateParams(params),\n    });\n};\nclass ZodUnion extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        const options = this._def.options;\n        function handleResults(results) {\n            // return first issue-free validation if it exists\n            for (const result of results) {\n                if (result.result.status === \"valid\") {\n                    return result.result;\n                }\n            }\n            for (const result of results) {\n                if (result.result.status === \"dirty\") {\n                    // add issues from dirty option\n                    ctx.common.issues.push(...result.ctx.common.issues);\n                    return result.result;\n                }\n            }\n            // return invalid\n            const unionErrors = results.map((result) => new ZodError(result.ctx.common.issues));\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_union,\n                unionErrors,\n            });\n            return INVALID;\n        }\n        if (ctx.common.async) {\n            return Promise.all(options.map(async (option) => {\n                const childCtx = {\n                    ...ctx,\n                    common: {\n                        ...ctx.common,\n                        issues: [],\n                    },\n                    parent: null,\n                };\n                return {\n                    result: await option._parseAsync({\n                        data: ctx.data,\n                        path: ctx.path,\n                        parent: childCtx,\n                    }),\n                    ctx: childCtx,\n                };\n            })).then(handleResults);\n        }\n        else {\n            let dirty = undefined;\n            const issues = [];\n            for (const option of options) {\n                const childCtx = {\n                    ...ctx,\n                    common: {\n                        ...ctx.common,\n                        issues: [],\n                    },\n                    parent: null,\n                };\n                const result = option._parseSync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: childCtx,\n                });\n                if (result.status === \"valid\") {\n                    return result;\n                }\n                else if (result.status === \"dirty\" && !dirty) {\n                    dirty = { result, ctx: childCtx };\n                }\n                if (childCtx.common.issues.length) {\n                    issues.push(childCtx.common.issues);\n                }\n            }\n            if (dirty) {\n                ctx.common.issues.push(...dirty.ctx.common.issues);\n                return dirty.result;\n            }\n            const unionErrors = issues.map((issues) => new ZodError(issues));\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_union,\n                unionErrors,\n            });\n            return INVALID;\n        }\n    }\n    get options() {\n        return this._def.options;\n    }\n}\nZodUnion.create = (types, params) => {\n    return new ZodUnion({\n        options: types,\n        typeName: ZodFirstPartyTypeKind.ZodUnion,\n        ...processCreateParams(params),\n    });\n};\n/////////////////////////////////////////////////////\n/////////////////////////////////////////////////////\n//////////                                 //////////\n//////////      ZodDiscriminatedUnion      //////////\n//////////                                 //////////\n/////////////////////////////////////////////////////\n/////////////////////////////////////////////////////\nconst getDiscriminator = (type) => {\n    if (type instanceof ZodLazy) {\n        return getDiscriminator(type.schema);\n    }\n    else if (type instanceof ZodEffects) {\n        return getDiscriminator(type.innerType());\n    }\n    else if (type instanceof ZodLiteral) {\n        return [type.value];\n    }\n    else if (type instanceof ZodEnum) {\n        return type.options;\n    }\n    else if (type instanceof ZodNativeEnum) {\n        // eslint-disable-next-line ban/ban\n        return util.objectValues(type.enum);\n    }\n    else if (type instanceof ZodDefault) {\n        return getDiscriminator(type._def.innerType);\n    }\n    else if (type instanceof ZodUndefined) {\n        return [undefined];\n    }\n    else if (type instanceof ZodNull) {\n        return [null];\n    }\n    else if (type instanceof ZodOptional) {\n        return [undefined, ...getDiscriminator(type.unwrap())];\n    }\n    else if (type instanceof ZodNullable) {\n        return [null, ...getDiscriminator(type.unwrap())];\n    }\n    else if (type instanceof ZodBranded) {\n        return getDiscriminator(type.unwrap());\n    }\n    else if (type instanceof ZodReadonly) {\n        return getDiscriminator(type.unwrap());\n    }\n    else if (type instanceof ZodCatch) {\n        return getDiscriminator(type._def.innerType);\n    }\n    else {\n        return [];\n    }\n};\nclass ZodDiscriminatedUnion extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.object) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.object,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const discriminator = this.discriminator;\n        const discriminatorValue = ctx.data[discriminator];\n        const option = this.optionsMap.get(discriminatorValue);\n        if (!option) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_union_discriminator,\n                options: Array.from(this.optionsMap.keys()),\n                path: [discriminator],\n            });\n            return INVALID;\n        }\n        if (ctx.common.async) {\n            return option._parseAsync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            });\n        }\n        else {\n            return option._parseSync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            });\n        }\n    }\n    get discriminator() {\n        return this._def.discriminator;\n    }\n    get options() {\n        return this._def.options;\n    }\n    get optionsMap() {\n        return this._def.optionsMap;\n    }\n    /**\n     * The constructor of the discriminated union schema. Its behaviour is very similar to that of the normal z.union() constructor.\n     * However, it only allows a union of objects, all of which need to share a discriminator property. This property must\n     * have a different value for each object in the union.\n     * @param discriminator the name of the discriminator property\n     * @param types an array of object schemas\n     * @param params\n     */\n    static create(discriminator, options, params) {\n        // Get all the valid discriminator values\n        const optionsMap = new Map();\n        // try {\n        for (const type of options) {\n            const discriminatorValues = getDiscriminator(type.shape[discriminator]);\n            if (!discriminatorValues.length) {\n                throw new Error(`A discriminator value for key \\`${discriminator}\\` could not be extracted from all schema options`);\n            }\n            for (const value of discriminatorValues) {\n                if (optionsMap.has(value)) {\n                    throw new Error(`Discriminator property ${String(discriminator)} has duplicate value ${String(value)}`);\n                }\n                optionsMap.set(value, type);\n            }\n        }\n        return new ZodDiscriminatedUnion({\n            typeName: ZodFirstPartyTypeKind.ZodDiscriminatedUnion,\n            discriminator,\n            options,\n            optionsMap,\n            ...processCreateParams(params),\n        });\n    }\n}\nfunction mergeValues(a, b) {\n    const aType = getParsedType(a);\n    const bType = getParsedType(b);\n    if (a === b) {\n        return { valid: true, data: a };\n    }\n    else if (aType === ZodParsedType.object && bType === ZodParsedType.object) {\n        const bKeys = util.objectKeys(b);\n        const sharedKeys = util\n            .objectKeys(a)\n            .filter((key) => bKeys.indexOf(key) !== -1);\n        const newObj = { ...a, ...b };\n        for (const key of sharedKeys) {\n            const sharedValue = mergeValues(a[key], b[key]);\n            if (!sharedValue.valid) {\n                return { valid: false };\n            }\n            newObj[key] = sharedValue.data;\n        }\n        return { valid: true, data: newObj };\n    }\n    else if (aType === ZodParsedType.array && bType === ZodParsedType.array) {\n        if (a.length !== b.length) {\n            return { valid: false };\n        }\n        const newArray = [];\n        for (let index = 0; index < a.length; index++) {\n            const itemA = a[index];\n            const itemB = b[index];\n            const sharedValue = mergeValues(itemA, itemB);\n            if (!sharedValue.valid) {\n                return { valid: false };\n            }\n            newArray.push(sharedValue.data);\n        }\n        return { valid: true, data: newArray };\n    }\n    else if (aType === ZodParsedType.date &&\n        bType === ZodParsedType.date &&\n        +a === +b) {\n        return { valid: true, data: a };\n    }\n    else {\n        return { valid: false };\n    }\n}\nclass ZodIntersection extends ZodType {\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        const handleParsed = (parsedLeft, parsedRight) => {\n            if (isAborted(parsedLeft) || isAborted(parsedRight)) {\n                return INVALID;\n            }\n            const merged = mergeValues(parsedLeft.value, parsedRight.value);\n            if (!merged.valid) {\n                addIssueToContext(ctx, {\n                    code: ZodIssueCode.invalid_intersection_types,\n                });\n                return INVALID;\n            }\n            if (isDirty(parsedLeft) || isDirty(parsedRight)) {\n                status.dirty();\n            }\n            return { status: status.value, value: merged.data };\n        };\n        if (ctx.common.async) {\n            return Promise.all([\n                this._def.left._parseAsync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                }),\n                this._def.right._parseAsync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                }),\n            ]).then(([left, right]) => handleParsed(left, right));\n        }\n        else {\n            return handleParsed(this._def.left._parseSync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            }), this._def.right._parseSync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            }));\n        }\n    }\n}\nZodIntersection.create = (left, right, params) => {\n    return new ZodIntersection({\n        left: left,\n        right: right,\n        typeName: ZodFirstPartyTypeKind.ZodIntersection,\n        ...processCreateParams(params),\n    });\n};\nclass ZodTuple extends ZodType {\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.array) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.array,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        if (ctx.data.length < this._def.items.length) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.too_small,\n                minimum: this._def.items.length,\n                inclusive: true,\n                exact: false,\n                type: \"array\",\n            });\n            return INVALID;\n        }\n        const rest = this._def.rest;\n        if (!rest && ctx.data.length > this._def.items.length) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.too_big,\n                maximum: this._def.items.length,\n                inclusive: true,\n                exact: false,\n                type: \"array\",\n            });\n            status.dirty();\n        }\n        const items = [...ctx.data]\n            .map((item, itemIndex) => {\n            const schema = this._def.items[itemIndex] || this._def.rest;\n            if (!schema)\n                return null;\n            return schema._parse(new ParseInputLazyPath(ctx, item, ctx.path, itemIndex));\n        })\n            .filter((x) => !!x); // filter nulls\n        if (ctx.common.async) {\n            return Promise.all(items).then((results) => {\n                return ParseStatus.mergeArray(status, results);\n            });\n        }\n        else {\n            return ParseStatus.mergeArray(status, items);\n        }\n    }\n    get items() {\n        return this._def.items;\n    }\n    rest(rest) {\n        return new ZodTuple({\n            ...this._def,\n            rest,\n        });\n    }\n}\nZodTuple.create = (schemas, params) => {\n    if (!Array.isArray(schemas)) {\n        throw new Error(\"You must pass an array of schemas to z.tuple([ ... ])\");\n    }\n    return new ZodTuple({\n        items: schemas,\n        typeName: ZodFirstPartyTypeKind.ZodTuple,\n        rest: null,\n        ...processCreateParams(params),\n    });\n};\nclass ZodRecord extends ZodType {\n    get keySchema() {\n        return this._def.keyType;\n    }\n    get valueSchema() {\n        return this._def.valueType;\n    }\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.object) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.object,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const pairs = [];\n        const keyType = this._def.keyType;\n        const valueType = this._def.valueType;\n        for (const key in ctx.data) {\n            pairs.push({\n                key: keyType._parse(new ParseInputLazyPath(ctx, key, ctx.path, key)),\n                value: valueType._parse(new ParseInputLazyPath(ctx, ctx.data[key], ctx.path, key)),\n                alwaysSet: key in ctx.data,\n            });\n        }\n        if (ctx.common.async) {\n            return ParseStatus.mergeObjectAsync(status, pairs);\n        }\n        else {\n            return ParseStatus.mergeObjectSync(status, pairs);\n        }\n    }\n    get element() {\n        return this._def.valueType;\n    }\n    static create(first, second, third) {\n        if (second instanceof ZodType) {\n            return new ZodRecord({\n                keyType: first,\n                valueType: second,\n                typeName: ZodFirstPartyTypeKind.ZodRecord,\n                ...processCreateParams(third),\n            });\n        }\n        return new ZodRecord({\n            keyType: ZodString.create(),\n            valueType: first,\n            typeName: ZodFirstPartyTypeKind.ZodRecord,\n            ...processCreateParams(second),\n        });\n    }\n}\nclass ZodMap extends ZodType {\n    get keySchema() {\n        return this._def.keyType;\n    }\n    get valueSchema() {\n        return this._def.valueType;\n    }\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.map) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.map,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const keyType = this._def.keyType;\n        const valueType = this._def.valueType;\n        const pairs = [...ctx.data.entries()].map(([key, value], index) => {\n            return {\n                key: keyType._parse(new ParseInputLazyPath(ctx, key, ctx.path, [index, \"key\"])),\n                value: valueType._parse(new ParseInputLazyPath(ctx, value, ctx.path, [index, \"value\"])),\n            };\n        });\n        if (ctx.common.async) {\n            const finalMap = new Map();\n            return Promise.resolve().then(async () => {\n                for (const pair of pairs) {\n                    const key = await pair.key;\n                    const value = await pair.value;\n                    if (key.status === \"aborted\" || value.status === \"aborted\") {\n                        return INVALID;\n                    }\n                    if (key.status === \"dirty\" || value.status === \"dirty\") {\n                        status.dirty();\n                    }\n                    finalMap.set(key.value, value.value);\n                }\n                return { status: status.value, value: finalMap };\n            });\n        }\n        else {\n            const finalMap = new Map();\n            for (const pair of pairs) {\n                const key = pair.key;\n                const value = pair.value;\n                if (key.status === \"aborted\" || value.status === \"aborted\") {\n                    return INVALID;\n                }\n                if (key.status === \"dirty\" || value.status === \"dirty\") {\n                    status.dirty();\n                }\n                finalMap.set(key.value, value.value);\n            }\n            return { status: status.value, value: finalMap };\n        }\n    }\n}\nZodMap.create = (keyType, valueType, params) => {\n    return new ZodMap({\n        valueType,\n        keyType,\n        typeName: ZodFirstPartyTypeKind.ZodMap,\n        ...processCreateParams(params),\n    });\n};\nclass ZodSet extends ZodType {\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.set) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.set,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const def = this._def;\n        if (def.minSize !== null) {\n            if (ctx.data.size < def.minSize.value) {\n                addIssueToContext(ctx, {\n                    code: ZodIssueCode.too_small,\n                    minimum: def.minSize.value,\n                    type: \"set\",\n                    inclusive: true,\n                    exact: false,\n                    message: def.minSize.message,\n                });\n                status.dirty();\n            }\n        }\n        if (def.maxSize !== null) {\n            if (ctx.data.size > def.maxSize.value) {\n                addIssueToContext(ctx, {\n                    code: ZodIssueCode.too_big,\n                    maximum: def.maxSize.value,\n                    type: \"set\",\n                    inclusive: true,\n                    exact: false,\n                    message: def.maxSize.message,\n                });\n                status.dirty();\n            }\n        }\n        const valueType = this._def.valueType;\n        function finalizeSet(elements) {\n            const parsedSet = new Set();\n            for (const element of elements) {\n                if (element.status === \"aborted\")\n                    return INVALID;\n                if (element.status === \"dirty\")\n                    status.dirty();\n                parsedSet.add(element.value);\n            }\n            return { status: status.value, value: parsedSet };\n        }\n        const elements = [...ctx.data.values()].map((item, i) => valueType._parse(new ParseInputLazyPath(ctx, item, ctx.path, i)));\n        if (ctx.common.async) {\n            return Promise.all(elements).then((elements) => finalizeSet(elements));\n        }\n        else {\n            return finalizeSet(elements);\n        }\n    }\n    min(minSize, message) {\n        return new ZodSet({\n            ...this._def,\n            minSize: { value: minSize, message: errorUtil.toString(message) },\n        });\n    }\n    max(maxSize, message) {\n        return new ZodSet({\n            ...this._def,\n            maxSize: { value: maxSize, message: errorUtil.toString(message) },\n        });\n    }\n    size(size, message) {\n        return this.min(size, message).max(size, message);\n    }\n    nonempty(message) {\n        return this.min(1, message);\n    }\n}\nZodSet.create = (valueType, params) => {\n    return new ZodSet({\n        valueType,\n        minSize: null,\n        maxSize: null,\n        typeName: ZodFirstPartyTypeKind.ZodSet,\n        ...processCreateParams(params),\n    });\n};\nclass ZodFunction extends ZodType {\n    constructor() {\n        super(...arguments);\n        this.validate = this.implement;\n    }\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.function) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.function,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        function makeArgsIssue(args, error) {\n            return makeIssue({\n                data: args,\n                path: ctx.path,\n                errorMaps: [\n                    ctx.common.contextualErrorMap,\n                    ctx.schemaErrorMap,\n                    getErrorMap(),\n                    errorMap,\n                ].filter((x) => !!x),\n                issueData: {\n                    code: ZodIssueCode.invalid_arguments,\n                    argumentsError: error,\n                },\n            });\n        }\n        function makeReturnsIssue(returns, error) {\n            return makeIssue({\n                data: returns,\n                path: ctx.path,\n                errorMaps: [\n                    ctx.common.contextualErrorMap,\n                    ctx.schemaErrorMap,\n                    getErrorMap(),\n                    errorMap,\n                ].filter((x) => !!x),\n                issueData: {\n                    code: ZodIssueCode.invalid_return_type,\n                    returnTypeError: error,\n                },\n            });\n        }\n        const params = { errorMap: ctx.common.contextualErrorMap };\n        const fn = ctx.data;\n        if (this._def.returns instanceof ZodPromise) {\n            // Would love a way to avoid disabling this rule, but we need\n            // an alias (using an arrow function was what caused 2651).\n            // eslint-disable-next-line @typescript-eslint/no-this-alias\n            const me = this;\n            return OK(async function (...args) {\n                const error = new ZodError([]);\n                const parsedArgs = await me._def.args\n                    .parseAsync(args, params)\n                    .catch((e) => {\n                    error.addIssue(makeArgsIssue(args, e));\n                    throw error;\n                });\n                const result = await Reflect.apply(fn, this, parsedArgs);\n                const parsedReturns = await me._def.returns._def.type\n                    .parseAsync(result, params)\n                    .catch((e) => {\n                    error.addIssue(makeReturnsIssue(result, e));\n                    throw error;\n                });\n                return parsedReturns;\n            });\n        }\n        else {\n            // Would love a way to avoid disabling this rule, but we need\n            // an alias (using an arrow function was what caused 2651).\n            // eslint-disable-next-line @typescript-eslint/no-this-alias\n            const me = this;\n            return OK(function (...args) {\n                const parsedArgs = me._def.args.safeParse(args, params);\n                if (!parsedArgs.success) {\n                    throw new ZodError([makeArgsIssue(args, parsedArgs.error)]);\n                }\n                const result = Reflect.apply(fn, this, parsedArgs.data);\n                const parsedReturns = me._def.returns.safeParse(result, params);\n                if (!parsedReturns.success) {\n                    throw new ZodError([makeReturnsIssue(result, parsedReturns.error)]);\n                }\n                return parsedReturns.data;\n            });\n        }\n    }\n    parameters() {\n        return this._def.args;\n    }\n    returnType() {\n        return this._def.returns;\n    }\n    args(...items) {\n        return new ZodFunction({\n            ...this._def,\n            args: ZodTuple.create(items).rest(ZodUnknown.create()),\n        });\n    }\n    returns(returnType) {\n        return new ZodFunction({\n            ...this._def,\n            returns: returnType,\n        });\n    }\n    implement(func) {\n        const validatedFunc = this.parse(func);\n        return validatedFunc;\n    }\n    strictImplement(func) {\n        const validatedFunc = this.parse(func);\n        return validatedFunc;\n    }\n    static create(args, returns, params) {\n        return new ZodFunction({\n            args: (args\n                ? args\n                : ZodTuple.create([]).rest(ZodUnknown.create())),\n            returns: returns || ZodUnknown.create(),\n            typeName: ZodFirstPartyTypeKind.ZodFunction,\n            ...processCreateParams(params),\n        });\n    }\n}\nclass ZodLazy extends ZodType {\n    get schema() {\n        return this._def.getter();\n    }\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        const lazySchema = this._def.getter();\n        return lazySchema._parse({ data: ctx.data, path: ctx.path, parent: ctx });\n    }\n}\nZodLazy.create = (getter, params) => {\n    return new ZodLazy({\n        getter: getter,\n        typeName: ZodFirstPartyTypeKind.ZodLazy,\n        ...processCreateParams(params),\n    });\n};\nclass ZodLiteral extends ZodType {\n    _parse(input) {\n        if (input.data !== this._def.value) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                received: ctx.data,\n                code: ZodIssueCode.invalid_literal,\n                expected: this._def.value,\n            });\n            return INVALID;\n        }\n        return { status: \"valid\", value: input.data };\n    }\n    get value() {\n        return this._def.value;\n    }\n}\nZodLiteral.create = (value, params) => {\n    return new ZodLiteral({\n        value: value,\n        typeName: ZodFirstPartyTypeKind.ZodLiteral,\n        ...processCreateParams(params),\n    });\n};\nfunction createZodEnum(values, params) {\n    return new ZodEnum({\n        values,\n        typeName: ZodFirstPartyTypeKind.ZodEnum,\n        ...processCreateParams(params),\n    });\n}\nclass ZodEnum extends ZodType {\n    constructor() {\n        super(...arguments);\n        _ZodEnum_cache.set(this, void 0);\n    }\n    _parse(input) {\n        if (typeof input.data !== \"string\") {\n            const ctx = this._getOrReturnCtx(input);\n            const expectedValues = this._def.values;\n            addIssueToContext(ctx, {\n                expected: util.joinValues(expectedValues),\n                received: ctx.parsedType,\n                code: ZodIssueCode.invalid_type,\n            });\n            return INVALID;\n        }\n        if (!__classPrivateFieldGet(this, _ZodEnum_cache, \"f\")) {\n            __classPrivateFieldSet(this, _ZodEnum_cache, new Set(this._def.values), \"f\");\n        }\n        if (!__classPrivateFieldGet(this, _ZodEnum_cache, \"f\").has(input.data)) {\n            const ctx = this._getOrReturnCtx(input);\n            const expectedValues = this._def.values;\n            addIssueToContext(ctx, {\n                received: ctx.data,\n                code: ZodIssueCode.invalid_enum_value,\n                options: expectedValues,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n    get options() {\n        return this._def.values;\n    }\n    get enum() {\n        const enumValues = {};\n        for (const val of this._def.values) {\n            enumValues[val] = val;\n        }\n        return enumValues;\n    }\n    get Values() {\n        const enumValues = {};\n        for (const val of this._def.values) {\n            enumValues[val] = val;\n        }\n        return enumValues;\n    }\n    get Enum() {\n        const enumValues = {};\n        for (const val of this._def.values) {\n            enumValues[val] = val;\n        }\n        return enumValues;\n    }\n    extract(values, newDef = this._def) {\n        return ZodEnum.create(values, {\n            ...this._def,\n            ...newDef,\n        });\n    }\n    exclude(values, newDef = this._def) {\n        return ZodEnum.create(this.options.filter((opt) => !values.includes(opt)), {\n            ...this._def,\n            ...newDef,\n        });\n    }\n}\n_ZodEnum_cache = new WeakMap();\nZodEnum.create = createZodEnum;\nclass ZodNativeEnum extends ZodType {\n    constructor() {\n        super(...arguments);\n        _ZodNativeEnum_cache.set(this, void 0);\n    }\n    _parse(input) {\n        const nativeEnumValues = util.getValidEnumValues(this._def.values);\n        const ctx = this._getOrReturnCtx(input);\n        if (ctx.parsedType !== ZodParsedType.string &&\n            ctx.parsedType !== ZodParsedType.number) {\n            const expectedValues = util.objectValues(nativeEnumValues);\n            addIssueToContext(ctx, {\n                expected: util.joinValues(expectedValues),\n                received: ctx.parsedType,\n                code: ZodIssueCode.invalid_type,\n            });\n            return INVALID;\n        }\n        if (!__classPrivateFieldGet(this, _ZodNativeEnum_cache, \"f\")) {\n            __classPrivateFieldSet(this, _ZodNativeEnum_cache, new Set(util.getValidEnumValues(this._def.values)), \"f\");\n        }\n        if (!__classPrivateFieldGet(this, _ZodNativeEnum_cache, \"f\").has(input.data)) {\n            const expectedValues = util.objectValues(nativeEnumValues);\n            addIssueToContext(ctx, {\n                received: ctx.data,\n                code: ZodIssueCode.invalid_enum_value,\n                options: expectedValues,\n            });\n            return INVALID;\n        }\n        return OK(input.data);\n    }\n    get enum() {\n        return this._def.values;\n    }\n}\n_ZodNativeEnum_cache = new WeakMap();\nZodNativeEnum.create = (values, params) => {\n    return new ZodNativeEnum({\n        values: values,\n        typeName: ZodFirstPartyTypeKind.ZodNativeEnum,\n        ...processCreateParams(params),\n    });\n};\nclass ZodPromise extends ZodType {\n    unwrap() {\n        return this._def.type;\n    }\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        if (ctx.parsedType !== ZodParsedType.promise &&\n            ctx.common.async === false) {\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.promise,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        const promisified = ctx.parsedType === ZodParsedType.promise\n            ? ctx.data\n            : Promise.resolve(ctx.data);\n        return OK(promisified.then((data) => {\n            return this._def.type.parseAsync(data, {\n                path: ctx.path,\n                errorMap: ctx.common.contextualErrorMap,\n            });\n        }));\n    }\n}\nZodPromise.create = (schema, params) => {\n    return new ZodPromise({\n        type: schema,\n        typeName: ZodFirstPartyTypeKind.ZodPromise,\n        ...processCreateParams(params),\n    });\n};\nclass ZodEffects extends ZodType {\n    innerType() {\n        return this._def.schema;\n    }\n    sourceType() {\n        return this._def.schema._def.typeName === ZodFirstPartyTypeKind.ZodEffects\n            ? this._def.schema.sourceType()\n            : this._def.schema;\n    }\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        const effect = this._def.effect || null;\n        const checkCtx = {\n            addIssue: (arg) => {\n                addIssueToContext(ctx, arg);\n                if (arg.fatal) {\n                    status.abort();\n                }\n                else {\n                    status.dirty();\n                }\n            },\n            get path() {\n                return ctx.path;\n            },\n        };\n        checkCtx.addIssue = checkCtx.addIssue.bind(checkCtx);\n        if (effect.type === \"preprocess\") {\n            const processed = effect.transform(ctx.data, checkCtx);\n            if (ctx.common.async) {\n                return Promise.resolve(processed).then(async (processed) => {\n                    if (status.value === \"aborted\")\n                        return INVALID;\n                    const result = await this._def.schema._parseAsync({\n                        data: processed,\n                        path: ctx.path,\n                        parent: ctx,\n                    });\n                    if (result.status === \"aborted\")\n                        return INVALID;\n                    if (result.status === \"dirty\")\n                        return DIRTY(result.value);\n                    if (status.value === \"dirty\")\n                        return DIRTY(result.value);\n                    return result;\n                });\n            }\n            else {\n                if (status.value === \"aborted\")\n                    return INVALID;\n                const result = this._def.schema._parseSync({\n                    data: processed,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n                if (result.status === \"aborted\")\n                    return INVALID;\n                if (result.status === \"dirty\")\n                    return DIRTY(result.value);\n                if (status.value === \"dirty\")\n                    return DIRTY(result.value);\n                return result;\n            }\n        }\n        if (effect.type === \"refinement\") {\n            const executeRefinement = (acc) => {\n                const result = effect.refinement(acc, checkCtx);\n                if (ctx.common.async) {\n                    return Promise.resolve(result);\n                }\n                if (result instanceof Promise) {\n                    throw new Error(\"Async refinement encountered during synchronous parse operation. Use .parseAsync instead.\");\n                }\n                return acc;\n            };\n            if (ctx.common.async === false) {\n                const inner = this._def.schema._parseSync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n                if (inner.status === \"aborted\")\n                    return INVALID;\n                if (inner.status === \"dirty\")\n                    status.dirty();\n                // return value is ignored\n                executeRefinement(inner.value);\n                return { status: status.value, value: inner.value };\n            }\n            else {\n                return this._def.schema\n                    ._parseAsync({ data: ctx.data, path: ctx.path, parent: ctx })\n                    .then((inner) => {\n                    if (inner.status === \"aborted\")\n                        return INVALID;\n                    if (inner.status === \"dirty\")\n                        status.dirty();\n                    return executeRefinement(inner.value).then(() => {\n                        return { status: status.value, value: inner.value };\n                    });\n                });\n            }\n        }\n        if (effect.type === \"transform\") {\n            if (ctx.common.async === false) {\n                const base = this._def.schema._parseSync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n                if (!isValid(base))\n                    return base;\n                const result = effect.transform(base.value, checkCtx);\n                if (result instanceof Promise) {\n                    throw new Error(`Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.`);\n                }\n                return { status: status.value, value: result };\n            }\n            else {\n                return this._def.schema\n                    ._parseAsync({ data: ctx.data, path: ctx.path, parent: ctx })\n                    .then((base) => {\n                    if (!isValid(base))\n                        return base;\n                    return Promise.resolve(effect.transform(base.value, checkCtx)).then((result) => ({ status: status.value, value: result }));\n                });\n            }\n        }\n        util.assertNever(effect);\n    }\n}\nZodEffects.create = (schema, effect, params) => {\n    return new ZodEffects({\n        schema,\n        typeName: ZodFirstPartyTypeKind.ZodEffects,\n        effect,\n        ...processCreateParams(params),\n    });\n};\nZodEffects.createWithPreprocess = (preprocess, schema, params) => {\n    return new ZodEffects({\n        schema,\n        effect: { type: \"preprocess\", transform: preprocess },\n        typeName: ZodFirstPartyTypeKind.ZodEffects,\n        ...processCreateParams(params),\n    });\n};\nclass ZodOptional extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType === ZodParsedType.undefined) {\n            return OK(undefined);\n        }\n        return this._def.innerType._parse(input);\n    }\n    unwrap() {\n        return this._def.innerType;\n    }\n}\nZodOptional.create = (type, params) => {\n    return new ZodOptional({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodOptional,\n        ...processCreateParams(params),\n    });\n};\nclass ZodNullable extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType === ZodParsedType.null) {\n            return OK(null);\n        }\n        return this._def.innerType._parse(input);\n    }\n    unwrap() {\n        return this._def.innerType;\n    }\n}\nZodNullable.create = (type, params) => {\n    return new ZodNullable({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodNullable,\n        ...processCreateParams(params),\n    });\n};\nclass ZodDefault extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        let data = ctx.data;\n        if (ctx.parsedType === ZodParsedType.undefined) {\n            data = this._def.defaultValue();\n        }\n        return this._def.innerType._parse({\n            data,\n            path: ctx.path,\n            parent: ctx,\n        });\n    }\n    removeDefault() {\n        return this._def.innerType;\n    }\n}\nZodDefault.create = (type, params) => {\n    return new ZodDefault({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodDefault,\n        defaultValue: typeof params.default === \"function\"\n            ? params.default\n            : () => params.default,\n        ...processCreateParams(params),\n    });\n};\nclass ZodCatch extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        // newCtx is used to not collect issues from inner types in ctx\n        const newCtx = {\n            ...ctx,\n            common: {\n                ...ctx.common,\n                issues: [],\n            },\n        };\n        const result = this._def.innerType._parse({\n            data: newCtx.data,\n            path: newCtx.path,\n            parent: {\n                ...newCtx,\n            },\n        });\n        if (isAsync(result)) {\n            return result.then((result) => {\n                return {\n                    status: \"valid\",\n                    value: result.status === \"valid\"\n                        ? result.value\n                        : this._def.catchValue({\n                            get error() {\n                                return new ZodError(newCtx.common.issues);\n                            },\n                            input: newCtx.data,\n                        }),\n                };\n            });\n        }\n        else {\n            return {\n                status: \"valid\",\n                value: result.status === \"valid\"\n                    ? result.value\n                    : this._def.catchValue({\n                        get error() {\n                            return new ZodError(newCtx.common.issues);\n                        },\n                        input: newCtx.data,\n                    }),\n            };\n        }\n    }\n    removeCatch() {\n        return this._def.innerType;\n    }\n}\nZodCatch.create = (type, params) => {\n    return new ZodCatch({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodCatch,\n        catchValue: typeof params.catch === \"function\" ? params.catch : () => params.catch,\n        ...processCreateParams(params),\n    });\n};\nclass ZodNaN extends ZodType {\n    _parse(input) {\n        const parsedType = this._getType(input);\n        if (parsedType !== ZodParsedType.nan) {\n            const ctx = this._getOrReturnCtx(input);\n            addIssueToContext(ctx, {\n                code: ZodIssueCode.invalid_type,\n                expected: ZodParsedType.nan,\n                received: ctx.parsedType,\n            });\n            return INVALID;\n        }\n        return { status: \"valid\", value: input.data };\n    }\n}\nZodNaN.create = (params) => {\n    return new ZodNaN({\n        typeName: ZodFirstPartyTypeKind.ZodNaN,\n        ...processCreateParams(params),\n    });\n};\nconst BRAND = Symbol(\"zod_brand\");\nclass ZodBranded extends ZodType {\n    _parse(input) {\n        const { ctx } = this._processInputParams(input);\n        const data = ctx.data;\n        return this._def.type._parse({\n            data,\n            path: ctx.path,\n            parent: ctx,\n        });\n    }\n    unwrap() {\n        return this._def.type;\n    }\n}\nclass ZodPipeline extends ZodType {\n    _parse(input) {\n        const { status, ctx } = this._processInputParams(input);\n        if (ctx.common.async) {\n            const handleAsync = async () => {\n                const inResult = await this._def.in._parseAsync({\n                    data: ctx.data,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n                if (inResult.status === \"aborted\")\n                    return INVALID;\n                if (inResult.status === \"dirty\") {\n                    status.dirty();\n                    return DIRTY(inResult.value);\n                }\n                else {\n                    return this._def.out._parseAsync({\n                        data: inResult.value,\n                        path: ctx.path,\n                        parent: ctx,\n                    });\n                }\n            };\n            return handleAsync();\n        }\n        else {\n            const inResult = this._def.in._parseSync({\n                data: ctx.data,\n                path: ctx.path,\n                parent: ctx,\n            });\n            if (inResult.status === \"aborted\")\n                return INVALID;\n            if (inResult.status === \"dirty\") {\n                status.dirty();\n                return {\n                    status: \"dirty\",\n                    value: inResult.value,\n                };\n            }\n            else {\n                return this._def.out._parseSync({\n                    data: inResult.value,\n                    path: ctx.path,\n                    parent: ctx,\n                });\n            }\n        }\n    }\n    static create(a, b) {\n        return new ZodPipeline({\n            in: a,\n            out: b,\n            typeName: ZodFirstPartyTypeKind.ZodPipeline,\n        });\n    }\n}\nclass ZodReadonly extends ZodType {\n    _parse(input) {\n        const result = this._def.innerType._parse(input);\n        const freeze = (data) => {\n            if (isValid(data)) {\n                data.value = Object.freeze(data.value);\n            }\n            return data;\n        };\n        return isAsync(result)\n            ? result.then((data) => freeze(data))\n            : freeze(result);\n    }\n    unwrap() {\n        return this._def.innerType;\n    }\n}\nZodReadonly.create = (type, params) => {\n    return new ZodReadonly({\n        innerType: type,\n        typeName: ZodFirstPartyTypeKind.ZodReadonly,\n        ...processCreateParams(params),\n    });\n};\nfunction custom(check, params = {}, \n/**\n * @deprecated\n *\n * Pass `fatal` into the params object instead:\n *\n * ```ts\n * z.string().custom((val) => val.length > 5, { fatal: false })\n * ```\n *\n */\nfatal) {\n    if (check)\n        return ZodAny.create().superRefine((data, ctx) => {\n            var _a, _b;\n            if (!check(data)) {\n                const p = typeof params === \"function\"\n                    ? params(data)\n                    : typeof params === \"string\"\n                        ? { message: params }\n                        : params;\n                const _fatal = (_b = (_a = p.fatal) !== null && _a !== void 0 ? _a : fatal) !== null && _b !== void 0 ? _b : true;\n                const p2 = typeof p === \"string\" ? { message: p } : p;\n                ctx.addIssue({ code: \"custom\", ...p2, fatal: _fatal });\n            }\n        });\n    return ZodAny.create();\n}\nconst late = {\n    object: ZodObject.lazycreate,\n};\nvar ZodFirstPartyTypeKind;\n(function (ZodFirstPartyTypeKind) {\n    ZodFirstPartyTypeKind[\"ZodString\"] = \"ZodString\";\n    ZodFirstPartyTypeKind[\"ZodNumber\"] = \"ZodNumber\";\n    ZodFirstPartyTypeKind[\"ZodNaN\"] = \"ZodNaN\";\n    ZodFirstPartyTypeKind[\"ZodBigInt\"] = \"ZodBigInt\";\n    ZodFirstPartyTypeKind[\"ZodBoolean\"] = \"ZodBoolean\";\n    ZodFirstPartyTypeKind[\"ZodDate\"] = \"ZodDate\";\n    ZodFirstPartyTypeKind[\"ZodSymbol\"] = \"ZodSymbol\";\n    ZodFirstPartyTypeKind[\"ZodUndefined\"] = \"ZodUndefined\";\n    ZodFirstPartyTypeKind[\"ZodNull\"] = \"ZodNull\";\n    ZodFirstPartyTypeKind[\"ZodAny\"] = \"ZodAny\";\n    ZodFirstPartyTypeKind[\"ZodUnknown\"] = \"ZodUnknown\";\n    ZodFirstPartyTypeKind[\"ZodNever\"] = \"ZodNever\";\n    ZodFirstPartyTypeKind[\"ZodVoid\"] = \"ZodVoid\";\n    ZodFirstPartyTypeKind[\"ZodArray\"] = \"ZodArray\";\n    ZodFirstPartyTypeKind[\"ZodObject\"] = \"ZodObject\";\n    ZodFirstPartyTypeKind[\"ZodUnion\"] = \"ZodUnion\";\n    ZodFirstPartyTypeKind[\"ZodDiscriminatedUnion\"] = \"ZodDiscriminatedUnion\";\n    ZodFirstPartyTypeKind[\"ZodIntersection\"] = \"ZodIntersection\";\n    ZodFirstPartyTypeKind[\"ZodTuple\"] = \"ZodTuple\";\n    ZodFirstPartyTypeKind[\"ZodRecord\"] = \"ZodRecord\";\n    ZodFirstPartyTypeKind[\"ZodMap\"] = \"ZodMap\";\n    ZodFirstPartyTypeKind[\"ZodSet\"] = \"ZodSet\";\n    ZodFirstPartyTypeKind[\"ZodFunction\"] = \"ZodFunction\";\n    ZodFirstPartyTypeKind[\"ZodLazy\"] = \"ZodLazy\";\n    ZodFirstPartyTypeKind[\"ZodLiteral\"] = \"ZodLiteral\";\n    ZodFirstPartyTypeKind[\"ZodEnum\"] = \"ZodEnum\";\n    ZodFirstPartyTypeKind[\"ZodEffects\"] = \"ZodEffects\";\n    ZodFirstPartyTypeKind[\"ZodNativeEnum\"] = \"ZodNativeEnum\";\n    ZodFirstPartyTypeKind[\"ZodOptional\"] = \"ZodOptional\";\n    ZodFirstPartyTypeKind[\"ZodNullable\"] = \"ZodNullable\";\n    ZodFirstPartyTypeKind[\"ZodDefault\"] = \"ZodDefault\";\n    ZodFirstPartyTypeKind[\"ZodCatch\"] = \"ZodCatch\";\n    ZodFirstPartyTypeKind[\"ZodPromise\"] = \"ZodPromise\";\n    ZodFirstPartyTypeKind[\"ZodBranded\"] = \"ZodBranded\";\n    ZodFirstPartyTypeKind[\"ZodPipeline\"] = \"ZodPipeline\";\n    ZodFirstPartyTypeKind[\"ZodReadonly\"] = \"ZodReadonly\";\n})(ZodFirstPartyTypeKind || (ZodFirstPartyTypeKind = {}));\nconst instanceOfType = (\n// const instanceOfType = <T extends new (...args: any[]) => any>(\ncls, params = {\n    message: `Input not instance of ${cls.name}`,\n}) => custom((data) => data instanceof cls, params);\nconst stringType = ZodString.create;\nconst numberType = ZodNumber.create;\nconst nanType = ZodNaN.create;\nconst bigIntType = ZodBigInt.create;\nconst booleanType = ZodBoolean.create;\nconst dateType = ZodDate.create;\nconst symbolType = ZodSymbol.create;\nconst undefinedType = ZodUndefined.create;\nconst nullType = ZodNull.create;\nconst anyType = ZodAny.create;\nconst unknownType = ZodUnknown.create;\nconst neverType = ZodNever.create;\nconst voidType = ZodVoid.create;\nconst arrayType = ZodArray.create;\nconst objectType = ZodObject.create;\nconst strictObjectType = ZodObject.strictCreate;\nconst unionType = ZodUnion.create;\nconst discriminatedUnionType = ZodDiscriminatedUnion.create;\nconst intersectionType = ZodIntersection.create;\nconst tupleType = ZodTuple.create;\nconst recordType = ZodRecord.create;\nconst mapType = ZodMap.create;\nconst setType = ZodSet.create;\nconst functionType = ZodFunction.create;\nconst lazyType = ZodLazy.create;\nconst literalType = ZodLiteral.create;\nconst enumType = ZodEnum.create;\nconst nativeEnumType = ZodNativeEnum.create;\nconst promiseType = ZodPromise.create;\nconst effectsType = ZodEffects.create;\nconst optionalType = ZodOptional.create;\nconst nullableType = ZodNullable.create;\nconst preprocessType = ZodEffects.createWithPreprocess;\nconst pipelineType = ZodPipeline.create;\nconst ostring = () => stringType().optional();\nconst onumber = () => numberType().optional();\nconst oboolean = () => booleanType().optional();\nconst coerce = {\n    string: ((arg) => ZodString.create({ ...arg, coerce: true })),\n    number: ((arg) => ZodNumber.create({ ...arg, coerce: true })),\n    boolean: ((arg) => ZodBoolean.create({\n        ...arg,\n        coerce: true,\n    })),\n    bigint: ((arg) => ZodBigInt.create({ ...arg, coerce: true })),\n    date: ((arg) => ZodDate.create({ ...arg, coerce: true })),\n};\nconst NEVER = INVALID;\n\nvar z = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    defaultErrorMap: errorMap,\n    setErrorMap: setErrorMap,\n    getErrorMap: getErrorMap,\n    makeIssue: makeIssue,\n    EMPTY_PATH: EMPTY_PATH,\n    addIssueToContext: addIssueToContext,\n    ParseStatus: ParseStatus,\n    INVALID: INVALID,\n    DIRTY: DIRTY,\n    OK: OK,\n    isAborted: isAborted,\n    isDirty: isDirty,\n    isValid: isValid,\n    isAsync: isAsync,\n    get util () { return util; },\n    get objectUtil () { return objectUtil; },\n    ZodParsedType: ZodParsedType,\n    getParsedType: getParsedType,\n    ZodType: ZodType,\n    datetimeRegex: datetimeRegex,\n    ZodString: ZodString,\n    ZodNumber: ZodNumber,\n    ZodBigInt: ZodBigInt,\n    ZodBoolean: ZodBoolean,\n    ZodDate: ZodDate,\n    ZodSymbol: ZodSymbol,\n    ZodUndefined: ZodUndefined,\n    ZodNull: ZodNull,\n    ZodAny: ZodAny,\n    ZodUnknown: ZodUnknown,\n    ZodNever: ZodNever,\n    ZodVoid: ZodVoid,\n    ZodArray: ZodArray,\n    ZodObject: ZodObject,\n    ZodUnion: ZodUnion,\n    ZodDiscriminatedUnion: ZodDiscriminatedUnion,\n    ZodIntersection: ZodIntersection,\n    ZodTuple: ZodTuple,\n    ZodRecord: ZodRecord,\n    ZodMap: ZodMap,\n    ZodSet: ZodSet,\n    ZodFunction: ZodFunction,\n    ZodLazy: ZodLazy,\n    ZodLiteral: ZodLiteral,\n    ZodEnum: ZodEnum,\n    ZodNativeEnum: ZodNativeEnum,\n    ZodPromise: ZodPromise,\n    ZodEffects: ZodEffects,\n    ZodTransformer: ZodEffects,\n    ZodOptional: ZodOptional,\n    ZodNullable: ZodNullable,\n    ZodDefault: ZodDefault,\n    ZodCatch: ZodCatch,\n    ZodNaN: ZodNaN,\n    BRAND: BRAND,\n    ZodBranded: ZodBranded,\n    ZodPipeline: ZodPipeline,\n    ZodReadonly: ZodReadonly,\n    custom: custom,\n    Schema: ZodType,\n    ZodSchema: ZodType,\n    late: late,\n    get ZodFirstPartyTypeKind () { return ZodFirstPartyTypeKind; },\n    coerce: coerce,\n    any: anyType,\n    array: arrayType,\n    bigint: bigIntType,\n    boolean: booleanType,\n    date: dateType,\n    discriminatedUnion: discriminatedUnionType,\n    effect: effectsType,\n    'enum': enumType,\n    'function': functionType,\n    'instanceof': instanceOfType,\n    intersection: intersectionType,\n    lazy: lazyType,\n    literal: literalType,\n    map: mapType,\n    nan: nanType,\n    nativeEnum: nativeEnumType,\n    never: neverType,\n    'null': nullType,\n    nullable: nullableType,\n    number: numberType,\n    object: objectType,\n    oboolean: oboolean,\n    onumber: onumber,\n    optional: optionalType,\n    ostring: ostring,\n    pipeline: pipelineType,\n    preprocess: preprocessType,\n    promise: promiseType,\n    record: recordType,\n    set: setType,\n    strictObject: strictObjectType,\n    string: stringType,\n    symbol: symbolType,\n    transformer: effectsType,\n    tuple: tupleType,\n    'undefined': undefinedType,\n    union: unionType,\n    unknown: unknownType,\n    'void': voidType,\n    NEVER: NEVER,\n    ZodIssueCode: ZodIssueCode,\n    quotelessJson: quotelessJson,\n    ZodError: ZodError\n});\n\nexport { BRAND, DIRTY, EMPTY_PATH, INVALID, NEVER, OK, ParseStatus, ZodType as Schema, ZodAny, ZodArray, ZodBigInt, ZodBoolean, ZodBranded, ZodCatch, ZodDate, ZodDefault, ZodDiscriminatedUnion, ZodEffects, ZodEnum, ZodError, ZodFirstPartyTypeKind, ZodFunction, ZodIntersection, ZodIssueCode, ZodLazy, ZodLiteral, ZodMap, ZodNaN, ZodNativeEnum, ZodNever, ZodNull, ZodNullable, ZodNumber, ZodObject, ZodOptional, ZodParsedType, ZodPipeline, ZodPromise, ZodReadonly, ZodRecord, ZodType as ZodSchema, ZodSet, ZodString, ZodSymbol, ZodEffects as ZodTransformer, ZodTuple, ZodType, ZodUndefined, ZodUnion, ZodUnknown, ZodVoid, addIssueToContext, anyType as any, arrayType as array, bigIntType as bigint, booleanType as boolean, coerce, custom, dateType as date, datetimeRegex, z as default, errorMap as defaultErrorMap, discriminatedUnionType as discriminatedUnion, effectsType as effect, enumType as enum, functionType as function, getErrorMap, getParsedType, instanceOfType as instanceof, intersectionType as intersection, isAborted, isAsync, isDirty, isValid, late, lazyType as lazy, literalType as literal, makeIssue, mapType as map, nanType as nan, nativeEnumType as nativeEnum, neverType as never, nullType as null, nullableType as nullable, numberType as number, objectType as object, objectUtil, oboolean, onumber, optionalType as optional, ostring, pipelineType as pipeline, preprocessType as preprocess, promiseType as promise, quotelessJson, recordType as record, setType as set, setErrorMap, strictObjectType as strictObject, stringType as string, symbolType as symbol, effectsType as transformer, tupleType as tuple, undefinedType as undefined, unionType as union, unknownType as unknown, util, voidType as void, z };\n", "import i18next from 'i18next'\nimport { DOMCacheGetOrSet } from './Cache/DOM'\nimport { calculateAmbrosiaGenerationSpeed, calculateAmbrosiaLuck } from './Calculate'\nimport { DynamicUpgrade } from './DynamicUpgrade'\nimport type { IUpgradeData } from './DynamicUpgrade'\nimport { exportData, saveFilename } from './ImportExport'\nimport { getQuarkBonus } from './Quark'\nimport { format, player } from './Synergism'\nimport type { Player } from './types/Synergism'\nimport { Alert, Confirm, Prompt } from './UpdateHTML'\nimport { visualUpdateAmbrosia } from './UpdateVisuals'\nimport { Globals as G } from './Variables'\n\nexport type blueberryUpgradeNames =\n  | 'ambrosiaTutorial'\n  | 'ambrosiaQuarks1'\n  | 'ambrosiaCubes1'\n  | 'ambrosiaLuck1'\n  | 'ambrosiaCubeLuck1'\n  | 'ambrosiaQuarkLuck1'\n  | 'ambrosiaQuarkCube1'\n  | 'ambrosiaLuckCube1'\n  | 'ambrosiaCubeQuark1'\n  | 'ambrosiaLuckQuark1'\n  | 'ambrosiaQuarks2'\n  | 'ambrosiaCubes2'\n  | 'ambrosiaLuck2'\n  | 'ambrosiaObtainium1'\n  | 'ambrosiaOffering1'\n\nexport type BlueberryOpt = Partial<Record<blueberryUpgradeNames, number>>\nexport type BlueberryLoadoutMode = 'saveTree' | 'loadTree'\n\nexport interface IBlueberryData extends Omit<IUpgradeData, 'name' | 'description' | 'effect'> {\n  costFormula(this: void, level: number, baseCost: number): number\n  rewards(this: void, n: number): Record<string, number | boolean | string>\n  blueberryCost: number\n  ambrosiaInvested?: number\n  blueberriesInvested?: number\n  prerequisites?: BlueberryOpt\n  cacheUpdates?: (() => void)[] // TODO: Improve this type signature -Plat\n}\n\nexport class BlueberryUpgrade extends DynamicUpgrade {\n  readonly costFormula: (level: number, baseCost: number) => number\n  readonly rewards: (n: number) => Record<string, number | boolean | string>\n  public ambrosiaInvested = 0\n  public blueberriesInvested = 0\n  public blueberryCost: number\n  readonly preRequisites: BlueberryOpt | undefined\n  readonly cacheUpdates: (() => void)[] | undefined\n\n  constructor (data: IBlueberryData, key: string) {\n    const name = i18next.t(`ambrosia.data.${key}.name`)\n    const description = i18next.t(`ambrosia.data.${key}.description`)\n\n    super({ ...data, name, description })\n    this.blueberryCost = data.blueberryCost\n    this.costFormula = data.costFormula\n    this.rewards = data.rewards\n    this.ambrosiaInvested = data.ambrosiaInvested ?? 0\n    this.blueberriesInvested = data.blueberriesInvested ?? 0\n    this.preRequisites = data.prerequisites ?? undefined\n    this.cacheUpdates = data.cacheUpdates ?? undefined\n  }\n\n  getCostTNL (): number {\n    if (this.level === this.maxLevel) {\n      return 0\n    }\n    return this.costFormula(this.level, this.costPerLevel)\n  }\n\n  /**\n   * Buy levels up until togglebuy or maxed.\n   * @returns An alert indicating cannot afford, already maxed or purchased with how many\n   *          levels purchased\n   */\n  public async buyLevel (event: MouseEvent): Promise<void> {\n    let purchased = 0\n    let maxPurchasable = 1\n    let ambrosiaBudget = player.ambrosia\n\n    if (!this.checkPrerequisites()) {\n      return Alert(i18next.t('ambrosia.prereqNotMetAlert'))\n    }\n\n    if (event.shiftKey) {\n      maxPurchasable = 1000000\n      const buy = Number(\n        await Prompt(\n          i18next.t('ambrosia.ambrosiaBuyPrompt', {\n            amount: format(player.ambrosia, 0, true)\n          })\n        )\n      )\n\n      if (isNaN(buy) || !isFinite(buy) || !Number.isInteger(buy)) {\n        // nan + Infinity checks\n        return Alert(i18next.t('general.validation.finite'))\n      }\n\n      if (buy === -1) {\n        ambrosiaBudget = player.ambrosia\n      } else if (buy <= 0) {\n        return Alert(i18next.t('octeract.buyLevel.cancelPurchase')) // For some reason this is in the Octeract section (???)\n      } else {\n        ambrosiaBudget = buy\n      }\n      ambrosiaBudget = Math.min(player.ambrosia, ambrosiaBudget)\n    }\n\n    if (this.maxLevel > 0) {\n      maxPurchasable = Math.min(maxPurchasable, this.maxLevel - this.level)\n    }\n\n    if (maxPurchasable === 0) {\n      return Alert(i18next.t('octeract.buyLevel.alreadyMax')) // Once again\n    }\n\n    while (maxPurchasable > 0) {\n      const cost = this.getCostTNL()\n      if (player.ambrosia < cost || ambrosiaBudget < cost) {\n        break\n      } else {\n        if (this.level === 0) {\n          const availableBlueberries = G.ambrosiaCurrStats.ambrosiaBlueberries - player.spentBlueberries\n          if (availableBlueberries < this.blueberryCost) {\n            return Alert(i18next.t('ambrosia.notEnoughBlueberries'))\n          } else {\n            player.spentBlueberries += this.blueberryCost\n            this.blueberriesInvested = this.blueberryCost\n          }\n        }\n        player.ambrosia -= cost\n        ambrosiaBudget -= cost\n        this.ambrosiaInvested += cost\n        this.level += 1\n        purchased += 1\n        maxPurchasable -= 1\n      }\n    }\n\n    if (purchased === 0) {\n      return Alert(i18next.t('octeract.buyLevel.cannotAfford'))\n    }\n    if (purchased > 1) {\n      return Alert(\n        `${i18next.t('octeract.buyLevel.multiBuy', { n: format(purchased) })}`\n      )\n    }\n\n    this.updateUpgradeHTML()\n    this.updateCaches()\n  }\n\n  toString (): string {\n    const costNextLevel = this.getCostTNL()\n    const maxLevel = this.maxLevel === -1 ? '' : `/${format(this.maxLevel, 0, true)}`\n    const isMaxLevel = this.maxLevel === this.level\n    const color = isMaxLevel ? 'plum' : 'white'\n\n    let freeLevelInfo = this.freeLevels > 0\n      ? `<span style=\"color: orange\"> [+${\n        format(\n          this.freeLevels,\n          1,\n          true\n        )\n      }]</span>`\n      : ''\n\n    if (this.freeLevels > this.level) {\n      freeLevelInfo = `${freeLevelInfo}<span style=\"color: var(--maroon-text-color)\">${\n        i18next.t(\n          'general.softCapped'\n        )\n      }</span>`\n    }\n\n    const isAffordable = costNextLevel <= player.ambrosia\n    const affordableInfo = isMaxLevel\n      ? `<span style=\"color: plum\"> ${i18next.t('general.maxed')}</span>`\n      : isAffordable\n      ? `<span style=\"color: var(--green-text-color)\"> ${\n        i18next.t(\n          'general.affordable'\n        )\n      }</span>`\n      : `<span style=\"color: yellow\"> ${\n        i18next.t(\n          'octeract.buyLevel.cannotAfford'\n        )\n      }</span>`\n\n    let preReqText = i18next.t('ambrosia.prerequisite')\n    if (this.preRequisites !== undefined) {\n      for (const [prereq, val] of Object.entries(this.preRequisites)) {\n        const k = prereq as keyof Player['blueberryUpgrades']\n        const color = player.blueberryUpgrades[k].level >= val ? 'green' : 'red'\n        const met = player.blueberryUpgrades[k].level >= val\n          ? ''\n          : i18next.t('ambrosia.prereqNotMet')\n        preReqText = `${preReqText}<span style=\"color:${color}\"> ${\n          player.blueberryUpgrades[k].name\n        } lv.${val} ${met}</span> |`\n      }\n\n      preReqText = preReqText.slice(0, -1)\n    }\n\n    return `<span style=\"color: gold\">${this.name}</span>\n                ${preReqText}\n                <span style=\"color: lightblue\">${this.description}</span>\n                <span style=\"color: ${color}\"> ${\n      i18next.t(\n        'general.level'\n      )\n    } ${format(this.level, 0, true)}${maxLevel}${freeLevelInfo}</span>\n                <span style=\"color: gold\">${this.rewardDesc}</span>\n                ${\n      i18next.t(\n        'octeract.toString.costNextLevel'\n      )\n    }: <span style=\"color:orange\">${\n      format(\n        costNextLevel,\n        2,\n        true,\n        true,\n        true\n      )\n    }</span> ${i18next.t('ambrosia.ambrosia')} ${affordableInfo}\n                ${\n      i18next.t(\n        'ambrosia.blueberryCost'\n      )\n    } <span style=\"color:blue\">${this.blueberryCost}</span>\n                ${i18next.t('general.spent')} ${\n      i18next.t(\n        'ambrosia.ambrosia'\n      )\n    }: <span style=\"color:orange\">${\n      format(\n        this.ambrosiaInvested,\n        2,\n        true,\n        true,\n        true\n      )\n    }</span>`\n  }\n\n  updateUpgradeHTML (): void {\n    DOMCacheGetOrSet('singularityAmbrosiaMultiline').innerHTML = this.toString()\n    visualUpdateAmbrosia()\n  }\n\n  checkPrerequisites (): boolean {\n    if (this.preRequisites !== undefined) {\n      for (const [prereq, val] of Object.entries(this.preRequisites)) {\n        const k = prereq as keyof Player['blueberryUpgrades']\n        if (player.blueberryUpgrades[k].level < val) {\n          return false\n        }\n      }\n    }\n    return true\n  }\n\n  updateCaches (): void {\n    if (this.cacheUpdates !== undefined) {\n      for (const cache of this.cacheUpdates) {\n        cache()\n      }\n    }\n  }\n\n  refund (): void {\n    player.ambrosia += this.ambrosiaInvested\n    this.ambrosiaInvested = 0\n    this.level = 0\n\n    player.spentBlueberries -= this.blueberriesInvested\n    this.blueberriesInvested = 0\n  }\n\n  public get rewardDesc (): string {\n    const effectiveLevel = (player.singularityChallenges.noAmbrosiaUpgrades.enabled || player.singularityChallenges.sadisticPrequel.enabled) ? 0 : this.level\n    if ('desc' in this.rewards(0)) {\n      return String(this.rewards(effectiveLevel).desc)\n    } else {\n      return 'Contact Platonic or Khafra if you see this (should never occur!)'\n    }\n  }\n\n  public get bonus () {\n    const effectiveLevel = (player.singularityChallenges.noAmbrosiaUpgrades.enabled || player.singularityChallenges.sadisticPrequel.enabled) ? 0 : this.level\n    return this.rewards(effectiveLevel)\n  }\n}\n\nexport const blueberryUpgradeData: Record<\n  keyof Player['blueberryUpgrades'],\n  IBlueberryData\n> = {\n  ambrosiaTutorial: {\n    maxLevel: 10,\n    costPerLevel: 1,\n    blueberryCost: 0,\n    costFormula: (level: number, baseCost: number): number => {\n      return baseCost * (Math.pow(level + 1, 2) - Math.pow(level, 2))\n    },\n    rewards: (n: number) => {\n      const cubeAmount = 1 + 0.05 * n\n      const quarkAmount = 1 + 0.01 * n\n      return {\n        quarks: quarkAmount,\n        cubes: cubeAmount,\n        desc: String(\n          i18next.t('ambrosia.data.ambrosiaTutorial.effect', {\n            cubeAmount: format(100 * (cubeAmount - 1), 0, true),\n            quarkAmount: format(100 * (quarkAmount - 1), 0, true)\n          })\n        )\n      }\n    }\n  },\n  ambrosiaQuarks1: {\n    maxLevel: 100,\n    costPerLevel: 1,\n    blueberryCost: 0,\n    costFormula: (level: number, baseCost: number): number => {\n      return baseCost * (Math.pow(level + 1, 3) - Math.pow(level, 3))\n    },\n    rewards: (n: number) => {\n      const quarkAmount = 1 + 0.01 * n\n      return {\n        quarks: quarkAmount,\n        desc: String(\n          i18next.t('ambrosia.data.ambrosiaQuarks1.effect', {\n            amount: format(100 * (quarkAmount - 1), 0, true)\n          })\n        )\n      }\n    },\n    prerequisites: {\n      ambrosiaTutorial: 10\n    }\n  },\n  ambrosiaCubes1: {\n    maxLevel: 100,\n    costPerLevel: 1,\n    blueberryCost: 0,\n    costFormula: (level: number, baseCost: number): number => {\n      return baseCost * (Math.pow(level + 1, 3) - Math.pow(level, 3))\n    },\n    rewards: (n: number) => {\n      const cubeAmount = (1 + 0.05 * n) * Math.pow(1.1, Math.floor(n / 10))\n      return {\n        cubes: cubeAmount,\n        desc: String(\n          i18next.t('ambrosia.data.ambrosiaCubes1.effect', {\n            amount: format(100 * (cubeAmount - 1), 2, true)\n          })\n        )\n      }\n    },\n    prerequisites: {\n      ambrosiaTutorial: 10\n    }\n  },\n  ambrosiaLuck1: {\n    maxLevel: 100,\n    costPerLevel: 1,\n    blueberryCost: 0,\n    costFormula: (level: number, baseCost: number): number => {\n      return baseCost * (Math.pow(level + 1, 3) - Math.pow(level, 3))\n    },\n    rewards: (n: number) => {\n      const val = 2 * n + 12 * Math.floor(n / 10)\n      return {\n        ambrosiaLuck: val,\n        desc: String(\n          i18next.t('ambrosia.data.ambrosiaLuck1.effect', {\n            amount: format(val)\n          })\n        )\n      }\n    },\n    prerequisites: {\n      ambrosiaTutorial: 10\n    },\n    cacheUpdates: [\n      () => {\n        G.ambrosiaCurrStats.ambrosiaLuck = calculateAmbrosiaLuck().value\n      }\n    ]\n  },\n  ambrosiaQuarkCube1: {\n    maxLevel: 25,\n    costPerLevel: 250,\n    blueberryCost: 1,\n    costFormula: (level: number, baseCost: number): number => {\n      return baseCost * (Math.pow(level + 1, 3) - Math.pow(level, 3))\n    },\n    rewards: (n: number) => {\n      const baseVal = 0.0005 * n\n      const val = 1\n        + baseVal\n          * Math.floor(Math.pow(Math.log10(Number(player.worlds) + 1) + 1, 2))\n      return {\n        cubes: val,\n        desc: String(\n          i18next.t('ambrosia.data.ambrosiaQuarkCube1.effect', {\n            amount: format(100 * (val - 1), 2, true)\n          })\n        )\n      }\n    },\n    prerequisites: {\n      ambrosiaCubes1: 30,\n      ambrosiaQuarks1: 20\n    }\n  },\n  ambrosiaLuckCube1: {\n    maxLevel: 25,\n    costPerLevel: 250,\n    blueberryCost: 1,\n    costFormula: (level: number, baseCost: number): number => {\n      return baseCost * (Math.pow(level + 1, 3) - Math.pow(level, 3))\n    },\n    rewards: (n: number) => {\n      const baseVal = 0.0002 * n\n      const val = 1 + baseVal * G.ambrosiaCurrStats.ambrosiaLuck\n      return {\n        cubes: val,\n        desc: String(\n          i18next.t('ambrosia.data.ambrosiaLuckCube1.effect', {\n            amount: format(100 * (val - 1), 2, true)\n          })\n        )\n      }\n    },\n    prerequisites: {\n      ambrosiaCubes1: 30,\n      ambrosiaLuck1: 20\n    }\n  },\n  ambrosiaCubeQuark1: {\n    maxLevel: 25,\n    costPerLevel: 500,\n    blueberryCost: 1,\n    costFormula: (level: number, baseCost: number): number => {\n      return baseCost * (Math.pow(level + 1, 3) - Math.pow(level, 3))\n    },\n    rewards: (n: number) => {\n      const baseVal = 0.0001 * n\n      const val = 1\n        + baseVal\n          * (Math.floor(Math.log10(Number(player.wowCubes) + 1))\n            + Math.floor(Math.log10(Number(player.wowTesseracts) + 1))\n            + Math.floor(Math.log10(Number(player.wowHypercubes) + 1))\n            + Math.floor(Math.log10(Number(player.wowPlatonicCubes) + 1))\n            + Math.floor(Math.log10(player.wowAbyssals + 1))\n            + Math.floor(Math.log10(player.wowOcteracts + 1))\n            + 6)\n      return {\n        quarks: val,\n        desc: String(\n          i18next.t('ambrosia.data.ambrosiaCubeQuark1.effect', {\n            amount: format(100 * (val - 1), 2, true)\n          })\n        )\n      }\n    },\n    prerequisites: {\n      ambrosiaQuarks1: 30,\n      ambrosiaCubes1: 20\n    }\n  },\n  ambrosiaLuckQuark1: {\n    maxLevel: 25,\n    costPerLevel: 500,\n    blueberryCost: 1,\n    costFormula: (level: number, baseCost: number): number => {\n      return baseCost * (Math.pow(level + 1, 3) - Math.pow(level, 3))\n    },\n    rewards: (n: number) => {\n      const baseVal = 0.0001 * n\n      const effectiveLuck = Math.min(\n        G.ambrosiaCurrStats.ambrosiaLuck,\n        Math.pow(1000, 0.5)\n          * Math.pow(G.ambrosiaCurrStats.ambrosiaLuck, 0.5)\n      )\n      const val = 1 + baseVal * effectiveLuck\n      return {\n        quarks: val,\n        desc: String(\n          i18next.t('ambrosia.data.ambrosiaLuckQuark1.effect', {\n            amount: format(100 * (val - 1), 2, true)\n          })\n        )\n      }\n    },\n    prerequisites: {\n      ambrosiaQuarks1: 30,\n      ambrosiaLuck1: 20\n    }\n  },\n  ambrosiaCubeLuck1: {\n    maxLevel: 25,\n    costPerLevel: 100,\n    blueberryCost: 1,\n    costFormula: (level: number, baseCost: number): number => {\n      return baseCost * (Math.pow(level + 1, 3) - Math.pow(level, 3))\n    },\n    rewards: (n: number) => {\n      const baseVal = 0.02 * n\n      const val = baseVal\n        * (Math.floor(Math.log10(Number(player.wowCubes) + 1))\n          + Math.floor(Math.log10(Number(player.wowTesseracts) + 1))\n          + Math.floor(Math.log10(Number(player.wowHypercubes) + 1))\n          + Math.floor(Math.log10(Number(player.wowPlatonicCubes) + 1))\n          + Math.floor(Math.log10(player.wowAbyssals + 1))\n          + Math.floor(Math.log10(player.wowOcteracts + 1))\n          + 6)\n      return {\n        ambrosiaLuck: val,\n        desc: String(\n          i18next.t('ambrosia.data.ambrosiaCubeLuck1.effect', {\n            amount: format(val, 2, true)\n          })\n        )\n      }\n    },\n    prerequisites: {\n      ambrosiaLuck1: 30,\n      ambrosiaCubes1: 20\n    },\n    cacheUpdates: [\n      () => {\n        G.ambrosiaCurrStats.ambrosiaLuck = calculateAmbrosiaLuck().value\n      }\n    ]\n  },\n  ambrosiaQuarkLuck1: {\n    maxLevel: 25,\n    costPerLevel: 100,\n    blueberryCost: 1,\n    costFormula: (level: number, baseCost: number): number => {\n      return baseCost * (Math.pow(level + 1, 3) - Math.pow(level, 3))\n    },\n    rewards: (n: number) => {\n      const baseVal = 0.02 * n\n      const val = baseVal\n        * Math.floor(Math.pow(Math.log10(Number(player.worlds) + 1) + 1, 2))\n      return {\n        ambrosiaLuck: val,\n        desc: String(\n          i18next.t('ambrosia.data.ambrosiaQuarkLuck1.effect', {\n            amount: format(val, 2, true)\n          })\n        )\n      }\n    },\n    prerequisites: {\n      ambrosiaLuck1: 30,\n      ambrosiaQuarks1: 20\n    },\n    cacheUpdates: [\n      () => {\n        G.ambrosiaCurrStats.ambrosiaLuck = calculateAmbrosiaLuck().value\n      }\n    ]\n  },\n  ambrosiaQuarks2: {\n    maxLevel: 100,\n    costPerLevel: 500,\n    blueberryCost: 1,\n    costFormula: (level: number, baseCost: number): number => {\n      return baseCost * (Math.pow(level + 1, 2) - Math.pow(level, 2))\n    },\n    rewards: (n: number) => {\n      const quarkAmount = 1\n        + (0.01\n            + Math.floor(player.blueberryUpgrades.ambrosiaQuarks1.level / 10)\n              / 1000)\n          * n\n      return {\n        quarks: quarkAmount,\n        desc: String(\n          i18next.t('ambrosia.data.ambrosiaQuarks2.effect', {\n            amount: format(100 * (quarkAmount - 1), 0, true)\n          })\n        )\n      }\n    },\n    prerequisites: {\n      ambrosiaQuarks1: 40\n    }\n  },\n  ambrosiaCubes2: {\n    maxLevel: 100,\n    costPerLevel: 500,\n    blueberryCost: 1,\n    costFormula: (level: number, baseCost: number): number => {\n      return baseCost * (Math.pow(level + 1, 2) - Math.pow(level, 2))\n    },\n    rewards: (n: number) => {\n      const cubeAmount = (1\n        + (0.06\n            + 6\n              * (Math.floor(player.blueberryUpgrades.ambrosiaCubes1.level / 10)\n                / 1000))\n          * n)\n        * Math.pow(1.13, Math.floor(n / 10))\n      return {\n        cubes: cubeAmount,\n        desc: String(\n          i18next.t('ambrosia.data.ambrosiaCubes2.effect', {\n            amount: format(100 * (cubeAmount - 1), 2, true)\n          })\n        )\n      }\n    },\n    prerequisites: {\n      ambrosiaCubes1: 40\n    }\n  },\n  ambrosiaLuck2: {\n    maxLevel: 100,\n    costPerLevel: 250,\n    blueberryCost: 1,\n    costFormula: (level: number, baseCost: number): number => {\n      return baseCost * (Math.pow(level + 1, 2) - Math.pow(level, 2))\n    },\n    rewards: (n: number) => {\n      const val = (3\n            + 0.3 * Math.floor(player.blueberryUpgrades.ambrosiaLuck1.level / 10))\n          * n\n        + 40 * Math.floor(n / 10)\n      return {\n        ambrosiaLuck: val,\n        desc: String(\n          i18next.t('ambrosia.data.ambrosiaLuck2.effect', {\n            amount: format(val, 1, true)\n          })\n        )\n      }\n    },\n    prerequisites: {\n      ambrosiaLuck1: 40\n    },\n    cacheUpdates: [\n      () => {\n        G.ambrosiaCurrStats.ambrosiaLuck = calculateAmbrosiaLuck().value\n      }\n    ]\n  },\n  ambrosiaPatreon: {\n    maxLevel: 1,\n    costPerLevel: 1,\n    blueberryCost: 0,\n    costFormula: (level: number, baseCost: number): number => {\n      return baseCost * (Math.pow(level + 1, 2) - Math.pow(level, 2))\n    },\n    rewards: (n: number) => {\n      const val = 1 + (n * getQuarkBonus()) / 100\n      return {\n        blueberryGeneration: val,\n        desc: String(\n          i18next.t('ambrosia.data.ambrosiaPatreon.effect', {\n            amount: format(100 * (val - 1), 0, true)\n          })\n        )\n      }\n    },\n    cacheUpdates: [\n      () => {\n        G.ambrosiaCurrStats.ambrosiaGenerationSpeed = calculateAmbrosiaGenerationSpeed().value\n      }\n    ]\n  },\n  ambrosiaObtainium1: {\n    maxLevel: 2,\n    costPerLevel: 50000,\n    blueberryCost: 1,\n    costFormula: (level: number, baseCost: number): number => {\n      return baseCost * Math.pow(25, level)\n    },\n    rewards: (n: number) => {\n      const luck = G.ambrosiaCurrStats.ambrosiaLuck\n      return {\n        luckMult: n,\n        obtainiumMult: n * luck,\n        desc: String(\n          i18next.t('ambrosia.data.ambrosiaObtainium1.effect', {\n            amount: format((n * luck) / 10, 1, true)\n          })\n        )\n      }\n    }\n  },\n  ambrosiaOffering1: {\n    maxLevel: 2,\n    costPerLevel: 50000,\n    blueberryCost: 1,\n    costFormula: (level: number, baseCost: number): number => {\n      return baseCost * Math.pow(25, level)\n    },\n    rewards: (n: number) => {\n      const luck = G.ambrosiaCurrStats.ambrosiaLuck\n      return {\n        luckMult: n,\n        offeringMult: n * luck,\n        desc: String(\n          i18next.t('ambrosia.data.ambrosiaOffering1.effect', {\n            amount: format((n * luck) / 10, 1, true)\n          })\n        )\n      }\n    }\n  },\n  ambrosiaHyperflux: {\n    maxLevel: 7,\n    costPerLevel: 33333,\n    blueberryCost: 3,\n    costFormula: (level: number, baseCost: number): number => {\n      return (baseCost + 33333 * Math.min(4, level)) * Math.max(1, Math.pow(3, level - 4))\n    },\n    rewards: (n: number) => {\n      const fourByFourBase = n\n      return {\n        hyperFlux: Math.pow(\n          1 + (1 / 100) * fourByFourBase,\n          player.platonicUpgrades[19]\n        ),\n        desc: String(\n          i18next.t('ambrosia.data.ambrosiaHyperflux.effect', {\n            amount: format(\n              100\n                * (Math.pow(\n                  1 + fourByFourBase / 100,\n                  player.platonicUpgrades[19]\n                )\n                  - 1)\n            )\n          })\n        )\n      }\n    }\n  }\n}\n\nexport const resetBlueberryTree = async (giveAlert = true) => {\n  for (const upgrade of Object.keys(player.blueberryUpgrades)) {\n    const k = upgrade as keyof Player['blueberryUpgrades']\n    player.blueberryUpgrades[k].refund()\n    player.blueberryUpgrades[k].updateCaches()\n  }\n  if (giveAlert) return Alert(i18next.t('ambrosia.refund'))\n}\n\nexport const validateBlueberryTree = (modules: BlueberryOpt) => {\n  // Check for empty object (perhaps from the loadouts?)\n  if (Object.keys(modules).length === 0) {\n    return false\n  }\n\n  const ambrosiaBudget = player.lifetimeAmbrosia\n  const blueberryBudget = G.ambrosiaCurrStats.ambrosiaBlueberries\n\n  let spentAmbrosia = 0\n  let spentBlueberries = 0\n\n  let meetsPrerequisites = true\n  let meetsAmbrosia = true\n  let meetsBlueberries = true\n\n  for (const [key, val] of Object.entries(modules)) {\n    const k = key as keyof Player['blueberryUpgrades']\n\n    // Nix malicious or bad values\n    if (\n      val < 0\n      || !Number.isFinite(val)\n      || !Number.isInteger(val)\n      || Number.isNaN(val)\n    ) {\n      return false\n    }\n    // Nix nonexistent modules\n    if (player.blueberryUpgrades[k] === undefined) return false\n\n    // Set val to max if it exceeds it, since it is possible module caps change over time.\n    const effectiveVal = Math.min(player.blueberryUpgrades[k].maxLevel, val)\n\n    // Check prereq for this specific module\n    const prereqs = player.blueberryUpgrades[k].preRequisites\n    if (prereqs !== undefined && val > 0) {\n      for (const [key2, val2] of Object.entries(prereqs)) {\n        const k2 = key2 as keyof BlueberryOpt\n        const level = modules[k2]\n          ?? -1 /* If undefined, this is saying 'We need to have module\n        set to level val2 but it isn't even in our module loadout, so it cannot possibly satisfy prereqs'*/\n\n        if (level < val2) {\n          meetsPrerequisites = false\n        }\n      }\n    }\n\n    // Check blueberry costs\n    if (effectiveVal > 0) {\n      spentBlueberries += player.blueberryUpgrades[k].blueberryCost\n    }\n\n    // Check ambrosia costs\n    if (effectiveVal > 0) {\n      const valFunc = player.blueberryUpgrades[k].costFormula\n      const baseCost = player.blueberryUpgrades[k].costPerLevel\n      let tempCost = 0\n      for (let i = 0; i < val; i++) {\n        tempCost += valFunc(i, baseCost)\n      }\n      spentAmbrosia += tempCost\n    }\n  }\n\n  meetsAmbrosia = ambrosiaBudget >= spentAmbrosia\n  meetsBlueberries = blueberryBudget >= spentBlueberries\n\n  return meetsPrerequisites && meetsAmbrosia && meetsBlueberries\n}\n\nexport const getBlueberryTree = () => {\n  return Object.fromEntries(\n    Object.entries(player.blueberryUpgrades).map(([key, value]) => {\n      return [key, value.level]\n    })\n  ) as BlueberryOpt\n}\n\nexport const fixBlueberryLevel = (modules: BlueberryOpt) => {\n  return Object.fromEntries(\n    Object.entries(modules).map(([key, value]) => {\n      return [key, Math.min(value, player.blueberryUpgrades[key].maxLevel)]\n    })\n  )\n}\n\nexport const exportBlueberryTree = () => {\n  const modules = getBlueberryTree()\n  const save = JSON.stringify(modules)\n  const name = `BBTree-${saveFilename()}`\n  void exportData(save, name)\n}\n\nexport const createBlueberryTree = async (modules: BlueberryOpt) => {\n  // Check to see if tree being created is valid.\n  const isPossible = validateBlueberryTree(modules)\n  if (!isPossible) {\n    void Alert(i18next.t('ambrosia.importTree.failure'))\n    return\n  }\n\n  // If valid, we will create the tree.\n  // Refund (reset) the tree!\n  await resetBlueberryTree(false) // no alert; return type is undefined\n\n  // Fix blueberry levels on a valid tree (not done by validation)\n  const actualModules = fixBlueberryLevel(modules)\n\n  for (const [key, val] of Object.entries(actualModules)) {\n    const k = key as keyof Player['blueberryUpgrades']\n    const { costFormula, costPerLevel, blueberryCost } = player.blueberryUpgrades[k]\n\n    if (val > 0) {\n      player.blueberryUpgrades[k].blueberriesInvested = blueberryCost\n      player.spentBlueberries += blueberryCost\n      let tempCost = 0\n      for (let i = 0; i < val; i++) {\n        tempCost += costFormula(i, costPerLevel)\n      }\n      player.ambrosia -= tempCost\n      player.blueberryUpgrades[k].ambrosiaInvested = tempCost\n      player.blueberryUpgrades[k].level = val\n      player.blueberryUpgrades[k].updateCaches()\n    }\n  }\n  void Alert(i18next.t('ambrosia.importTree.success'))\n}\n\nexport const importBlueberryTree = async (input: string | null) => {\n  if (typeof input !== 'string') {\n    return Alert(i18next.t('importexport.unableImport'))\n  } else {\n    try {\n      const modules = JSON.parse(input) as BlueberryOpt\n      await createBlueberryTree(modules)\n      createLoadoutDescription(0, modules)\n    } catch (err) {\n      return Alert(i18next.t('ambrosia.importTree.error'))\n    }\n  }\n}\n\nexport const loadoutHandler = async (n: number, modules: BlueberryOpt) => {\n  if (player.blueberryLoadoutMode === 'saveTree') {\n    await saveBlueberryTree(n, modules)\n  }\n  if (player.blueberryLoadoutMode === 'loadTree') {\n    await createBlueberryTree(modules)\n  }\n}\n\nexport const updateLoadoutHoverClasses = () => {\n  const upgradeNames = Object.keys(\n    blueberryUpgradeData\n  ) as blueberryUpgradeNames[]\n\n  for (const loadoutKey of Object.keys(player.blueberryLoadouts)) {\n    const i = Number.parseInt(loadoutKey, 10)\n    const loadout = player.blueberryLoadouts[i]\n\n    const upgradeHoverClass = `bbPurchasedLoadout${i}`\n    for (const upgradeKey of upgradeNames) {\n      if (loadout[upgradeKey]) {\n        DOMCacheGetOrSet(upgradeKey).parentElement?.classList.add(\n          upgradeHoverClass\n        )\n      } else {\n        DOMCacheGetOrSet(upgradeKey).parentElement?.classList.remove(\n          upgradeHoverClass\n        )\n      }\n    }\n  }\n}\n\nexport const saveBlueberryTree = async (\n  input: number,\n  previous: BlueberryOpt\n) => {\n  if (Object.keys(previous).length > 0) {\n    const p = await Confirm(i18next.t('ambrosia.loadouts.confirmation'))\n    if (!p) return\n  }\n\n  player.blueberryLoadouts[input] = getBlueberryTree()\n  createLoadoutDescription(input, player.blueberryLoadouts[input])\n\n  updateLoadoutHoverClasses()\n}\n\nexport const createLoadoutDescription = (\n  input: number,\n  modules: BlueberryOpt\n) => {\n  let str = ''\n  for (const [key, val] of Object.entries(modules)) {\n    /*\n     * If the entry (saved purchase level) for an upgrade is 0, undefined, or null, we skip it.\n     * If 0 - it existed when the loadout was saved; it's just unpurchased\n     * If undefined - it's new, so it's unpurchased - the user couldn't have saved it to a loadout yet\n     * I don't think anything sets an upgrade to null... but we may as well skip then too.\n     */\n    if (!val) continue\n\n    const k = key as keyof Player['blueberryUpgrades']\n    const name = player.blueberryUpgrades[k].name\n    str = `${str}<span style=\"color:orange\">${name}</span> <span style=\"color:yellow\">lv${val}</span> | `\n  }\n\n  if (Object.keys(modules).length === 0) {\n    str = i18next.t('ambrosia.loadouts.none')\n  }\n\n  let loadoutTitle = `${i18next.t('ambrosia.loadouts.loadout')} ${input}`\n  if (input === 0) {\n    loadoutTitle = i18next.t('ambrosia.loadouts.imported')\n  }\n  DOMCacheGetOrSet('singularityAmbrosiaMultiline').innerHTML = ` ${loadoutTitle}\n  ${str}`\n}\n", "import i18next from 'i18next'\nimport { DOMCacheGetOrSet } from './Cache/DOM'\nimport { calculateAmbrosiaGenerationSpeed, calculateAmbrosiaLuck, octeractGainPerSecond } from './Calculate'\nimport type { IUpgradeData } from './DynamicUpgrade'\nimport { DynamicUpgrade } from './DynamicUpgrade'\nimport { format, formatTimeShort, player } from './Synergism'\nimport type { Player } from './types/Synergism'\nimport { Alert, Prompt } from './UpdateHTML'\nimport { Globals as G } from './Variables'\n\nexport interface IOcteractData extends Omit<IUpgradeData, 'name' | 'description'> {\n  costFormula(this: void, level: number, baseCost: number): number\n  cacheUpdates?: (() => void)[] // TODO: Improve this type signature -Plat\n  octeractsInvested?: number\n  qualityOfLife?: boolean\n}\n\nexport class OcteractUpgrade extends DynamicUpgrade {\n  readonly costFormula: (level: number, baseCost: number) => number\n  public octeractsInvested = 0\n  public qualityOfLife: boolean\n  readonly cacheUpdates: (() => void)[] | undefined\n\n  constructor (data: IOcteractData, key: string) {\n    const name = i18next.t(`octeract.data.${key}.name`)\n    const description = i18next.t(`octeract.data.${key}.description`)\n    super({ ...data, name, description })\n    this.costFormula = data.costFormula\n    this.octeractsInvested = data.octeractsInvested ?? 0\n    this.qualityOfLife = data.qualityOfLife ?? false\n    this.cacheUpdates = data.cacheUpdates ?? undefined\n  }\n\n  getCostTNL (): number {\n    if (this.level === this.maxLevel) {\n      return 0\n    }\n\n    return this.costFormula(this.level, this.costPerLevel)\n  }\n\n  /**\n   * Buy levels up until togglebuy or maxed.\n   * @returns An alert indicating cannot afford, already maxed or purchased with how many\n   *          levels purchased\n   */\n  public async buyLevel (event: MouseEvent): Promise<void> {\n    let purchased = 0\n    let maxPurchasable = 1\n    let OCTBudget = player.wowOcteracts\n\n    if (event.shiftKey) {\n      maxPurchasable = 1000000\n      const buy = Number(\n        await Prompt(`${i18next.t('octeract.buyLevel.buyPrompt', { n: format(player.wowOcteracts, 0, true) })}`)\n      )\n\n      if (isNaN(buy) || !isFinite(buy) || !Number.isInteger(buy)) { // nan + Infinity checks\n        return Alert(i18next.t('general.validation.finite'))\n      }\n\n      if (buy === -1) {\n        OCTBudget = player.wowOcteracts\n      } else if (buy <= 0) {\n        return Alert(i18next.t('octeract.buyLevel.cancelPurchase'))\n      } else {\n        OCTBudget = buy\n      }\n      OCTBudget = Math.min(player.wowOcteracts, OCTBudget)\n    }\n\n    if (this.maxLevel > 0) {\n      maxPurchasable = Math.min(maxPurchasable, this.maxLevel - this.level)\n    }\n\n    if (maxPurchasable === 0) {\n      return Alert(i18next.t('octeract.buyLevel.alreadyMax'))\n    }\n\n    while (maxPurchasable > 0) {\n      const cost = this.getCostTNL()\n      if (player.wowOcteracts < cost || OCTBudget < cost) {\n        break\n      } else {\n        player.wowOcteracts -= cost\n        OCTBudget -= cost\n        this.octeractsInvested += cost\n        this.level += 1\n        purchased += 1\n        maxPurchasable -= 1\n      }\n    }\n\n    if (purchased === 0) {\n      return Alert(i18next.t('octeract.buyLevel.cannotAfford'))\n    }\n    if (purchased > 1) {\n      return Alert(`${i18next.t('octeract.buyLevel.multiBuy', { n: format(purchased) })}`)\n    }\n\n    this.updateCaches()\n    this.updateUpgradeHTML()\n  }\n\n  /**\n   * Given an upgrade, give a concise information regarding its data.\n   * @returns A string that details the name, description, level statistic, and next level cost.\n   */\n  toString (): string {\n    const costNextLevel = this.getCostTNL()\n    const maxLevel = this.maxLevel === -1\n      ? ''\n      : `/${format(this.maxLevel, 0, true)}`\n    const isMaxLevel = this.maxLevel === this.level\n    const color = isMaxLevel ? 'plum' : 'white'\n\n    let freeLevelInfo = this.freeLevels > 0\n      ? `<span style=\"color: orange\"> [+${format(this.freeLevels, 1, true)}]</span>`\n      : ''\n\n    if (this.freeLevels > this.level) {\n      freeLevelInfo = `${freeLevelInfo}<span style=\"color: var(--maroon-text-color)\">${\n        i18next.t('general.softCapped')\n      }</span>`\n    }\n\n    const isAffordable = costNextLevel <= player.wowOcteracts\n    let affordTime = ''\n    if (!isMaxLevel && !isAffordable) {\n      const octPerSecond = octeractGainPerSecond()\n      affordTime = octPerSecond > 0\n        ? formatTimeShort((costNextLevel - player.wowOcteracts) / octPerSecond)\n        : `${i18next.t('general.infinity')}`\n    }\n    const affordableInfo = isMaxLevel\n      ? `<span style=\"color: plum\"> ${i18next.t('general.maxed')}</span>`\n      : isAffordable\n      ? `<span style=\"color: var(--green-text-color)\"> ${i18next.t('general.affordable')}</span>`\n      : `<span style=\"color: yellow\"> ${i18next.t('octeract.toString.becomeAffordable', { n: affordTime })}</span>`\n\n    return `<span style=\"color: gold\">${this.name}</span>\n                <span style=\"color: lightblue\">${this.description}</span>\n                <span style=\"color: ${color}\"> ${i18next.t('general.level')} ${\n      format(this.level, 0, true)\n    }${maxLevel}${freeLevelInfo}</span>\n                <span style=\"color: gold\">${this.getEffect().desc}</span>\n                ${i18next.t('octeract.toString.costNextLevel')} ${\n      format(costNextLevel, 2, true, true, true)\n    } Octeracts${affordableInfo}\n                ${i18next.t('general.spent')} Octeracts: ${format(this.octeractsInvested, 2, true, true, true)}`\n  }\n\n  public updateUpgradeHTML (): void {\n    DOMCacheGetOrSet('singularityOcteractsMultiline').innerHTML = this.toString()\n    DOMCacheGetOrSet('octeractAmount').innerHTML = i18next.t('octeract.amount', {\n      octeracts: format(player.wowOcteracts, 2, true, true, true)\n    })\n  }\n\n  public computeFreeLevelSoftcap (): number {\n    return this.freeLevels\n  }\n\n  public actualTotalLevels (): number {\n    if ((player.singularityChallenges.noOcteracts.enabled || player.singularityChallenges.sadisticPrequel.enabled) && !this.qualityOfLife) {\n      return 0\n    }\n    const actualFreeLevels = this.computeFreeLevelSoftcap()\n\n    if (this.level >= actualFreeLevels) {\n      return actualFreeLevels + this.level\n    } else {\n      return 2 * Math.sqrt(actualFreeLevels * this.level)\n    }\n  }\n\n  public getEffect (): { bonus: number | boolean; desc: string } {\n    return this.effect(this.actualTotalLevels())\n  }\n\n  public refund (): void {\n    player.wowOcteracts += this.octeractsInvested\n    this.level = 0\n    this.octeractsInvested = 0\n  }\n\n  updateCaches (): void {\n    if (this.cacheUpdates !== undefined) {\n      for (const cache of this.cacheUpdates) {\n        cache()\n      }\n    }\n  }\n}\n\nexport const octeractData: Record<keyof Player['octeractUpgrades'], IOcteractData> = {\n  octeractStarter: {\n    costFormula: (level: number, baseCost: number) => {\n      return baseCost * (level + 1)\n    },\n    maxLevel: 1,\n    costPerLevel: 1e-15,\n    effect: (n: number) => {\n      return {\n        bonus: n > 0,\n        get desc () {\n          return i18next.t('octeract.data.octeractStarter.effect', { n: (n > 0) ? '' : 'not' })\n        }\n      }\n    }\n  },\n  octeractGain: {\n    costFormula: (level: number, baseCost: number) => {\n      return baseCost * (Math.pow(level + 1, 6) - Math.pow(level, 6))\n    },\n    maxLevel: 1e8,\n    costPerLevel: 1e-8,\n    effect: (n: number) => {\n      return {\n        bonus: 1 + 0.011 * n,\n        get desc () {\n          return i18next.t('octeract.data.octeractGain.effect', { n: format(n, 0, true) })\n        }\n      }\n    }\n  },\n  octeractGain2: {\n    costFormula: (level: number, baseCost: number) => {\n      return baseCost * Math.pow(10, Math.pow(level, 0.5) / 3)\n    },\n    maxLevel: -1,\n    costPerLevel: 1e10,\n    effect: (n: number) => {\n      return {\n        bonus: 1 + 0.01 * n,\n        get desc () {\n          return i18next.t('octeract.data.octeractGain2.effect', { n: format(n, 0, true) })\n        }\n      }\n    }\n  },\n  octeractQuarkGain: {\n    costFormula: (level: number, baseCost: number) => {\n      if (level < 1000) {\n        return baseCost * (Math.pow(level + 1, 7) - Math.pow(level, 7))\n      } else {\n        const fasterMult = (level >= 10000) ? (Math.pow(10, (level - 10000) / 250)) : 1\n        const fasterMult2 = (level >= 15000) ? (Math.pow(10, (level - 15000) / 250)) : 1\n        return baseCost * (Math.pow(1001, 7) - Math.pow(1000, 7)) * Math.pow(10, level / 1000) * fasterMult\n          * fasterMult2\n      }\n    },\n    maxLevel: 20000,\n    costPerLevel: 1e-7,\n    effect: (n: number) => {\n      return {\n        bonus: 1 + 0.011 * n,\n        get desc () {\n          return i18next.t('octeract.data.octeractQuarkGain.effect', { n: format(1.1 * n, 0, true) })\n        }\n      }\n    }\n  },\n  octeractQuarkGain2: {\n    costFormula: (level: number, baseCost: number) => {\n      return baseCost * Math.pow(1e20, level)\n    },\n    maxLevel: 5,\n    costPerLevel: 1e22,\n    effect: (n: number) => {\n      return {\n        bonus: n > 0,\n        get desc () {\n          return i18next.t('octeract.data.octeractQuarkGain2.effect', { n: n > 0 ? '' : 'NOT' })\n        }\n      }\n    }\n  },\n  octeractCorruption: {\n    costFormula: (level: number, baseCost: number) => {\n      return baseCost * Math.pow(10, level * 10)\n    },\n    maxLevel: 2,\n    costPerLevel: 10,\n    effect: (n: number) => {\n      return {\n        bonus: n,\n        get desc () {\n          return i18next.t('octeract.data.octeractCorruption.effect', { n })\n        }\n      }\n    }\n  },\n  octeractGQCostReduce: {\n    costFormula: (level: number, baseCost: number) => {\n      return baseCost * Math.pow(2, level)\n    },\n    maxLevel: 50,\n    costPerLevel: 1e-9,\n    effect: (n: number) => {\n      return {\n        bonus: 1 - n / 100,\n        get desc () {\n          return i18next.t('octeract.data.octeractGQCostReduce.effect', { n })\n        }\n      }\n    }\n  },\n  octeractExportQuarks: {\n    costFormula: (level: number, baseCost: number) => {\n      return baseCost * Math.pow(level + 1, 3)\n    },\n    maxLevel: 100,\n    costPerLevel: 1,\n    effect: (n: number) => {\n      return {\n        bonus: 4 * n / 10 + 1,\n        get desc () {\n          return i18next.t('octeract.data.octeractExportQuarks.effect', { n: format(40 * n, 0, true) })\n        }\n      }\n    }\n  },\n  octeractImprovedDaily: {\n    costFormula: (level: number, baseCost: number) => {\n      return baseCost * Math.pow(1.6, level)\n    },\n    maxLevel: 50,\n    costPerLevel: 1e-3,\n    effect: (n: number) => {\n      return {\n        bonus: n,\n        get desc () {\n          return i18next.t('octeract.data.octeractImprovedDaily.effect', { n })\n        }\n      }\n    },\n    qualityOfLife: true\n  },\n  octeractImprovedDaily2: {\n    costFormula: (level: number, baseCost: number) => {\n      return baseCost * Math.pow(2, level)\n    },\n    maxLevel: 50,\n    costPerLevel: 1e-2,\n    effect: (n: number) => {\n      return {\n        bonus: 1 + 0.01 * n,\n        get desc () {\n          return i18next.t('octeract.data.octeractImprovedDaily2.effect', { n })\n        }\n      }\n    },\n    qualityOfLife: true\n  },\n  octeractImprovedDaily3: {\n    costFormula: (level: number, baseCost: number) => {\n      return baseCost * Math.pow(20, level)\n    },\n    maxLevel: -1,\n    costPerLevel: 1e20,\n    effect: (n: number) => {\n      return {\n        bonus: n,\n        get desc () {\n          return i18next.t('octeract.data.octeractImprovedDaily3.effect', { n: `${n} +${0.5 * n}%` })\n        }\n      }\n    },\n    qualityOfLife: true\n  },\n  octeractImprovedQuarkHept: {\n    costFormula: (level: number, baseCost: number) => {\n      return baseCost * Math.pow(1e6, level)\n    },\n    maxLevel: 3,\n    costPerLevel: 1 / 10,\n    effect: (n: number) => {\n      return {\n        bonus: n / 100,\n        get desc () {\n          return i18next.t('octeract.data.octeractImprovedQuarkHept.effect', { n: format(n / 100, 2, true) })\n        }\n      }\n    }\n  },\n  octeractImprovedGlobalSpeed: {\n    costFormula: (level: number, baseCost: number) => {\n      return baseCost * Math.pow(level + 1, 3)\n    },\n    maxLevel: 1000,\n    costPerLevel: 1e-5,\n    effect: (n: number) => {\n      return {\n        bonus: n / 100,\n        get desc () {\n          return i18next.t('octeract.data.octeractImprovedGlobalSpeed.effect', { n: format(n, 0, true) })\n        }\n      }\n    }\n  },\n  octeractImprovedAscensionSpeed: {\n    costFormula: (level: number, baseCost: number) => {\n      return baseCost * Math.pow(1e9, level / 100)\n    },\n    maxLevel: 100,\n    costPerLevel: 100,\n    effect: (n: number) => {\n      return {\n        bonus: n / 2000,\n        get desc () {\n          return i18next.t('octeract.data.octeractImprovedAscensionSpeed.effect', { n: format(n / 20, 2, true) })\n        }\n      }\n    }\n  },\n  octeractImprovedAscensionSpeed2: {\n    costFormula: (level: number, baseCost: number) => {\n      return baseCost * Math.pow(1e12, level / 250)\n    },\n    maxLevel: 250,\n    costPerLevel: 1e5,\n    effect: (n: number) => {\n      return {\n        bonus: n / 2000,\n        get desc () {\n          return i18next.t('octeract.data.octeractImprovedAscensionSpeed2.effect', { n: format(n / 50, 2, true) })\n        }\n      }\n    }\n  },\n  octeractImprovedFree: {\n    costFormula: (level: number, baseCost: number) => {\n      return baseCost * Math.pow(level + 1, 3)\n    },\n    maxLevel: 1,\n    costPerLevel: 100,\n    effect: (n: number) => {\n      return {\n        bonus: n > 0,\n        get desc () {\n          return i18next.t('octeract.data.octeractImprovedFree.effect', { n: (n > 0) ? '' : 'NOT' })\n        }\n      }\n    }\n  },\n  octeractImprovedFree2: {\n    costFormula: (level: number, baseCost: number) => {\n      return baseCost * Math.pow(level + 1, 3)\n    },\n    maxLevel: 1,\n    costPerLevel: 1e7,\n    effect: (n: number) => {\n      return {\n        bonus: 0.05 * n,\n        get desc () {\n          return i18next.t('octeract.data.octeractImprovedFree2.effect', { n: format(n / 20, 2, true) })\n        }\n      }\n    }\n  },\n  octeractImprovedFree3: {\n    costFormula: (level: number, baseCost: number) => {\n      return baseCost * Math.pow(level + 1, 3)\n    },\n    maxLevel: 1,\n    costPerLevel: 1e17,\n    effect: (n: number) => {\n      return {\n        bonus: 0.05 * n,\n        get desc () {\n          return i18next.t('octeract.data.octeractImprovedFree3.effect', { n: format(n / 20, 2, true) })\n        }\n      }\n    }\n  },\n  octeractImprovedFree4: {\n    costFormula: (level: number, baseCost: number) => {\n      return baseCost * Math.pow(1e20, level / 40)\n    },\n    maxLevel: 40,\n    costPerLevel: 1e20,\n    effect: (n: number) => {\n      return {\n        bonus: 0.001 * n + ((n > 0) ? 0.01 : 0),\n        get desc () {\n          return i18next.t('octeract.data.octeractImprovedFree4.effect', {\n            n: format(0.001 * n + ((n > 0) ? 0.01 : 0), 3, true)\n          })\n        }\n      }\n    }\n  },\n  octeractSingUpgradeCap: {\n    costFormula: (level: number, baseCost: number) => {\n      return baseCost * Math.pow(1e3, level)\n    },\n    maxLevel: 10,\n    costPerLevel: 1e10,\n    effect: (n: number) => {\n      return {\n        bonus: n,\n        get desc () {\n          return i18next.t('octeract.data.octeractSingUpgradeCap.effect', { n })\n        }\n      }\n    },\n    qualityOfLife: true\n  },\n  octeractOfferings1: {\n    costFormula: (level: number, baseCost: number) => {\n      if (level < 25) {\n        return baseCost * Math.pow(level + 1, 5)\n      } else {\n        return baseCost * 1e15 * Math.pow(10, level / 25 - 1)\n      }\n    },\n    maxLevel: -1,\n    costPerLevel: 1e-15,\n    effect: (n: number) => {\n      return {\n        bonus: 1 + 0.01 * n,\n        get desc () {\n          return i18next.t('octeract.data.octeractOfferings1.effect', { n: format(n) })\n        }\n      }\n    }\n  },\n  octeractObtainium1: {\n    costFormula: (level: number, baseCost: number) => {\n      if (level < 25) {\n        return baseCost * Math.pow(level + 1, 5)\n      } else {\n        return baseCost * 1e15 * Math.pow(10, level / 25 - 1)\n      }\n    },\n    maxLevel: -1,\n    costPerLevel: 1e-15,\n    effect: (n: number) => {\n      return {\n        bonus: 1 + 0.01 * n,\n        get desc () {\n          return i18next.t('octeract.data.octeractObtainium1.effect', { n: format(n) })\n        }\n      }\n    }\n  },\n  octeractAscensions: {\n    costFormula: (level: number, baseCost: number) => {\n      return baseCost * Math.pow(level + 1, 3)\n    },\n    maxLevel: 1000000,\n    costPerLevel: 1,\n    effect: (n: number) => {\n      return {\n        bonus: (1 + n / 100) * (1 + 2 * Math.floor(n / 10) / 100),\n        get desc () {\n          return i18next.t('octeract.data.octeractAscensions.effect', {\n            n: format((100 + n) * (1 + 2 * Math.floor(n / 10) / 100) - 100, 1, true)\n          })\n        }\n      }\n    }\n  },\n  octeractAscensions2: {\n    costFormula: (level: number, baseCost: number) => {\n      return baseCost * Math.pow(10, Math.pow(level, 0.5) / 3)\n    },\n    maxLevel: -1,\n    costPerLevel: 1e12,\n    effect: (n: number) => {\n      return {\n        bonus: (1 + n / 100) * (1 + 2 * Math.floor(n / 10) / 100),\n        get desc () {\n          return i18next.t('octeract.data.octeractAscensions2.effect', {\n            n: format((100 + n) * (1 + 2 * Math.floor(n / 10) / 100) - 100, 1, true)\n          })\n        }\n      }\n    }\n  },\n  octeractAscensionsOcteractGain: {\n    costFormula: (level: number, baseCost: number) => {\n      return baseCost * Math.pow(40, level)\n    },\n    maxLevel: -1,\n    costPerLevel: 1000,\n    effect: (n: number) => {\n      return {\n        bonus: n / 100,\n        get desc () {\n          return i18next.t('octeract.data.octeractAscensionsOcteractGain.effect', { n: format(n, 1, true) })\n        }\n      }\n    }\n  },\n  octeractFastForward: {\n    costFormula: (level: number, baseCost: number) => {\n      return baseCost * Math.pow(1e8, level)\n    },\n    maxLevel: 2,\n    costPerLevel: 1e8,\n    effect: (n: number) => {\n      return {\n        bonus: n,\n        get desc () {\n          return i18next.t('octeract.data.octeractFastForward.effect', { n100: 100 * n, n })\n        }\n      }\n    }\n  },\n  octeractAutoPotionSpeed: {\n    costFormula: (level: number, baseCost: number) => {\n      return baseCost * Math.pow(10, level)\n    },\n    maxLevel: -1,\n    costPerLevel: 1e-10,\n    effect: (n: number) => {\n      return {\n        bonus: 1 + 4 * n / 100,\n        get desc () {\n          return i18next.t('octeract.data.octeractAutoPotionSpeed.effect', { n: 4 * n })\n        }\n      }\n    }\n  },\n  octeractAutoPotionEfficiency: {\n    costFormula: (level: number, baseCost: number) => {\n      return baseCost * Math.pow(10, level)\n    },\n    maxLevel: 100,\n    costPerLevel: 1e-10 * Math.pow(10, 0.5),\n    effect: (n: number) => {\n      return {\n        bonus: 1 + 2 * n / 100,\n        get desc () {\n          return i18next.t('octeract.data.octeractAutoPotionEfficiency.effect', { n: 2 * n })\n        }\n      }\n    }\n  },\n  octeractOneMindImprover: {\n    costFormula: (level: number, baseCost: number) => {\n      const fasterMult = (level >= 10) ? (Math.pow(1e3, level - 10)) : 1\n      return baseCost * Math.pow(1e5, level) * fasterMult\n    },\n    maxLevel: 16,\n    costPerLevel: 1e25,\n    effect: (n: number) => {\n      return {\n        bonus: 0.55 + n / 150,\n        get desc () {\n          return i18next.t('octeract.data.octeractOneMindImprover.effect', { n: format(0.55 + n / 150, 3, true) })\n        }\n      }\n    },\n    qualityOfLife: true\n  },\n  octeractAmbrosiaLuck: {\n    costFormula: (level: number, baseCost: number) => {\n      const useLevel = level + 1\n      return baseCost * (Math.pow(10, useLevel) - Math.pow(10, useLevel - 1))\n    },\n    maxLevel: -1,\n    costPerLevel: 1e60 / 9,\n    effect: (n: number) => {\n      return {\n        bonus: 4 * n,\n        get desc () {\n          return i18next.t('octeract.data.octeractAmbrosiaLuck.effect', { n: format(4 * n) })\n        }\n      }\n    },\n    qualityOfLife: true,\n    cacheUpdates: [() => {\n      G.ambrosiaCurrStats.ambrosiaLuck = calculateAmbrosiaLuck().value\n    }]\n  },\n  octeractAmbrosiaLuck2: {\n    costFormula: (level: number, baseCost: number) => {\n      return baseCost * (Math.pow(level + 1, 6) - Math.pow(level, 6))\n    },\n    maxLevel: 30,\n    costPerLevel: 1,\n    effect: (n: number) => {\n      return {\n        bonus: 2 * n,\n        get desc () {\n          return i18next.t('octeract.data.octeractAmbrosiaLuck2.effect', { n: format(2 * n) })\n        }\n      }\n    },\n    qualityOfLife: true,\n    cacheUpdates: [() => {\n      G.ambrosiaCurrStats.ambrosiaLuck = calculateAmbrosiaLuck().value\n    }]\n  },\n  octeractAmbrosiaLuck3: {\n    costFormula: (level: number, baseCost: number) => {\n      return baseCost * (Math.pow(level + 1, 8) - Math.pow(level, 8))\n    },\n    maxLevel: 30,\n    costPerLevel: 1e30,\n    effect: (n: number) => {\n      return {\n        bonus: 3 * n,\n        get desc () {\n          return i18next.t('octeract.data.octeractAmbrosiaLuck3.effect', { n: format(3 * n) })\n        }\n      }\n    },\n    qualityOfLife: true,\n    cacheUpdates: [() => {\n      G.ambrosiaCurrStats.ambrosiaLuck = calculateAmbrosiaLuck().value\n    }]\n  },\n  octeractAmbrosiaLuck4: {\n    costFormula: (level: number, baseCost: number) => {\n      const useLevel = level + 1\n      return baseCost * (Math.pow(3, useLevel) - Math.pow(3, useLevel - 1))\n    },\n    maxLevel: 50,\n    costPerLevel: 1e70 / 2,\n    effect: (n: number) => {\n      return {\n        bonus: 5 * n,\n        get desc () {\n          return i18next.t('octeract.data.octeractAmbrosiaLuck4.effect', { n: format(5 * n) })\n        }\n      }\n    },\n    qualityOfLife: true,\n    cacheUpdates: [() => {\n      G.ambrosiaCurrStats.ambrosiaLuck = calculateAmbrosiaLuck().value\n    }]\n  },\n  octeractAmbrosiaGeneration: {\n    costFormula: (level: number, baseCost: number) => {\n      const useLevel = level + 1\n      return baseCost * (Math.pow(10, useLevel) - Math.pow(10, useLevel - 1))\n    },\n    maxLevel: -1,\n    costPerLevel: 1e60 / 9,\n    effect: (n: number) => {\n      return {\n        bonus: 1 + n / 100,\n        get desc () {\n          return i18next.t('octeract.data.octeractAmbrosiaGeneration.effect', { n: format(n) })\n        }\n      }\n    },\n    qualityOfLife: true,\n    cacheUpdates: [() => {\n      G.ambrosiaCurrStats.ambrosiaGenerationSpeed = calculateAmbrosiaGenerationSpeed().value\n    }]\n  },\n  octeractAmbrosiaGeneration2: {\n    costFormula: (level: number, baseCost: number) => {\n      return baseCost * (Math.pow(level + 1, 6) - Math.pow(level, 6))\n    },\n    maxLevel: 20,\n    costPerLevel: 1,\n    effect: (n: number) => {\n      return {\n        bonus: 1 + n / 100,\n        get desc () {\n          return i18next.t('octeract.data.octeractAmbrosiaGeneration2.effect', { n: format(n) })\n        }\n      }\n    },\n    qualityOfLife: true,\n    cacheUpdates: [() => {\n      G.ambrosiaCurrStats.ambrosiaGenerationSpeed = calculateAmbrosiaGenerationSpeed().value\n    }]\n  },\n  octeractAmbrosiaGeneration3: {\n    costFormula: (level: number, baseCost: number) => {\n      return baseCost * (Math.pow(level + 1, 8) - Math.pow(level, 8))\n    },\n    maxLevel: 35,\n    costPerLevel: 1e30,\n    effect: (n: number) => {\n      return {\n        bonus: 1 + n / 100,\n        get desc () {\n          return i18next.t('octeract.data.octeractAmbrosiaGeneration3.effect', { n: format(n) })\n        }\n      }\n    },\n    qualityOfLife: true,\n    cacheUpdates: [() => {\n      G.ambrosiaCurrStats.ambrosiaGenerationSpeed = calculateAmbrosiaGenerationSpeed().value\n    }]\n  },\n  octeractAmbrosiaGeneration4: {\n    costFormula: (level: number, baseCost: number) => {\n      const useLevel = level + 1\n      return baseCost * (Math.pow(3, useLevel) - Math.pow(3, useLevel - 1))\n    },\n    maxLevel: 50,\n    costPerLevel: 1e70 / 2,\n    effect: (n: number) => {\n      return {\n        bonus: 1 + 2 * n / 100,\n        get desc () {\n          return i18next.t('octeract.data.octeractAmbrosiaGeneration4.effect', { n: format(2 * n) })\n        }\n      }\n    },\n    qualityOfLife: true,\n    cacheUpdates: [() => {\n      G.ambrosiaCurrStats.ambrosiaGenerationSpeed = calculateAmbrosiaGenerationSpeed().value\n    }]\n  }\n}\n", "import i18next from 'i18next'\nimport { DOMCacheGetOrSet } from './Cache/DOM'\nimport {\n  calculateAdditiveLuckMult,\n  calculateAmbrosiaGenerationSpeed,\n  calculateAmbrosiaLuck,\n  calculateBlueberryInventory,\n  calculateGoldenQuarkGain\n} from './Calculate'\nimport { singularity } from './Reset'\nimport { player } from './Synergism'\nimport type { Player } from './types/Synergism'\nimport { Alert, Confirm } from './UpdateHTML'\nimport { toOrdinal } from './Utility'\nimport { Globals as G } from './Variables'\n\nexport interface ISingularityChallengeData {\n  baseReq: number\n  maxCompletions: number\n  unlockSingularity: number\n  HTMLTag: keyof Player['singularityChallenges']\n  singularityRequirement: (baseReq: number, completions: number) => number\n  effect: (n: number) => Record<string, number | boolean>\n  scalingrewardcount: number\n  uniquerewardcount: number\n  resetTime ?: boolean\n  completions?: number\n  enabled?: boolean\n  highestSingularityCompleted?: number\n  cacheUpdates?: (() => void)[]\n}\n\nexport class SingularityChallenge {\n  public name\n  public description\n  public baseReq\n  public completions\n  public maxCompletions\n  public unlockSingularity\n  public HTMLTag\n  public highestSingularityCompleted\n  public enabled\n  public resetTime\n  public singularityRequirement\n  public effect\n  public scalingrewardcount\n  public uniquerewardcount\n  readonly cacheUpdates: (() => void)[] | undefined\n\n  public constructor (data: ISingularityChallengeData, key: string) {\n    const name = i18next.t(`singularityChallenge.data.${key}.name`)\n    const description = i18next.t(\n      `singularityChallenge.data.${key}.description`\n    )\n    this.name = name\n    this.description = description\n    this.baseReq = data.baseReq\n    this.completions = data.completions ?? 0\n    this.maxCompletions = data.maxCompletions\n    this.unlockSingularity = data.unlockSingularity\n    this.HTMLTag = data.HTMLTag\n    this.highestSingularityCompleted = data.highestSingularityCompleted ?? 0\n    this.enabled = data.enabled ?? false\n    this.resetTime = data.resetTime ?? false\n    this.singularityRequirement = data.singularityRequirement\n    this.effect = data.effect\n    this.scalingrewardcount = data.scalingrewardcount\n    this.uniquerewardcount = data.uniquerewardcount\n\n    this.updateIconHTML()\n    this.updateChallengeCompletions()\n    this.cacheUpdates = data.cacheUpdates ?? undefined\n  }\n\n  public computeSingularityRquirement () {\n    return this.singularityRequirement(this.baseReq, this.completions)\n  }\n\n  public updateChallengeCompletions () {\n    let updateVal = 0\n    while (\n      this.singularityRequirement(this.baseReq, updateVal)\n        <= this.highestSingularityCompleted\n    ) {\n      updateVal += 1\n    }\n\n    this.completions = Math.min(this.maxCompletions, updateVal)\n  }\n\n  public challengeEntryHandler () {\n    if (!this.enabled) {\n      return this.enableChallenge()\n    } else {\n      return this.exitChallenge(player.runelevels[6] > 0)\n    }\n  }\n\n  public async enableChallenge () {\n    if (player.highestSingularityCount < this.unlockSingularity) {\n      return Alert(\n        i18next.t('singularityChallenge.enterChallenge.lowSingularity')\n      )\n    }\n    const confirmation = await Confirm(\n      i18next.t('singularityChallenge.enterChallenge.confirmation', {\n        name: this.name\n      })\n    )\n\n    if (!confirmation) {\n      return Alert(i18next.t('singularityChallenge.enterChallenge.decline'))\n    }\n\n    if (!player.insideSingularityChallenge) {\n      const setSingularity = this.computeSingularityRquirement()\n      const holdSingTimer = player.singularityCounter\n      const holdQuarkExport = player.quarkstimer\n      const holdGoldenQuarkExport = player.goldenQuarksTimer\n      const goldenQuarkGain = calculateGoldenQuarkGain()\n      const currentGQ = player.goldenQuarks\n      this.enabled = true\n      G.currentSingChallenge = this.HTMLTag\n      player.insideSingularityChallenge = true\n      await singularity(setSingularity)\n      \n      if (!this.resetTime) {\n        player.singularityCounter = holdSingTimer\n      }\n      else {\n        player.singularityCounter = 0\n      }\n      player.goldenQuarks = currentGQ + goldenQuarkGain\n      player.quarkstimer = holdQuarkExport\n      player.goldenQuarksTimer = holdGoldenQuarkExport\n\n      this.updateChallengeHTML()\n      return Alert(\n        i18next.t('singularityChallenge.enterChallenge.acceptSuccess', {\n          name: this.name,\n          tier: this.completions + 1,\n          singReq: this.computeSingularityRquirement()\n        })\n      )\n    } else {\n      return Alert(\n        i18next.t('singularityChallenge.exitChallenge.acceptFailure')\n      )\n    }\n  }\n\n  public async exitChallenge (success: boolean) {\n    if (!success) {\n      const extra = player.runelevels[6] === 0\n        ? i18next.t('singularityChallenge.exitChallenge.incompleteWarning')\n        : ''\n      const confirmation = await Confirm(\n        i18next.t('singularityChallenge.exitChallenge.confirmation', {\n          name: this.name,\n          tier: this.completions + 1,\n          warning: extra\n        })\n      )\n      if (!confirmation) {\n        return Alert(i18next.t('singularityChallenge.exitChallenge.decline'))\n      }\n    }\n\n    this.enabled = false\n    G.currentSingChallenge = undefined\n    player.insideSingularityChallenge = false\n    const highestSingularityHold = player.highestSingularityCount\n    const holdSingTimer = player.singularityCounter\n    const holdQuarkExport = player.quarkstimer\n    const holdGoldenQuarkExport = player.goldenQuarksTimer\n    this.updateIconHTML()\n    if (success) {\n      this.highestSingularityCompleted = player.singularityCount\n      this.updateChallengeCompletions()\n      await singularity(highestSingularityHold)\n      player.singularityCounter = holdSingTimer\n      this.updateCaches()\n      return Alert(\n        i18next.t('singularityChallenge.exitChallenge.acceptSuccess', {\n          tier: toOrdinal(this.completions),\n          name: this.name\n        })\n      )\n    } else {\n      await singularity(highestSingularityHold)\n      player.singularityCounter = holdSingTimer\n      player.quarkstimer = holdQuarkExport\n      player.goldenQuarksTimer = holdGoldenQuarkExport\n      return Alert(\n        i18next.t('singularityChallenge.exitChallenge.acceptFailure')\n      )\n    }\n  }\n\n  updateCaches (): void {\n    if (this.cacheUpdates !== undefined) {\n      for (const cache of this.cacheUpdates) {\n        cache()\n      }\n    }\n  }\n\n  /**\n   * Given a Singularity Challenge, give a concise information regarding its data.\n   * @returns A string that details the name, description, metadata.\n   */\n  toString (): string {\n    const color = this.completions === this.maxCompletions\n      ? 'var(--orchid-text-color)'\n      : 'white'\n    const enabled = this.enabled\n      ? `<span style=\"color: var(--red-text-color)\">${\n        i18next.t(\n          'general.enabled'\n        )\n      }</span>`\n      : ''\n    return `<span style=\"color: gold\">${this.name}</span> ${enabled}\n      ${\n      i18next.t(\n        'singularityChallenge.toString.tiersCompleted'\n      )\n    }: <span style=\"color: ${color}\">${this.completions}/${this.maxCompletions}</span>\n      <span style=\"color: pink\">${\n      i18next.t(\n        'singularityChallenge.toString.canEnter',\n        {\n          unlockSing: this.unlockSingularity,\n          highestSing: player.highestSingularityCount\n        }\n      )\n    }</span>\n    <span style=\"color: gold\">${\n      i18next.t(\n        'singularityChallenge.toString.currentTierSingularity'\n      )\n    } <span style=\"color: var(--orchid-text-color)\">${\n      this.singularityRequirement(\n        this.baseReq,\n        this.completions\n      )\n    }</span></span>\n    <span style=\"color: lightblue\">${this.description}</span>`\n  }\n  // Numerates through total reward count for Scaling & Unique string for EXALTS.\n  scaleString (): string {\n    let text = ''\n    for (let i = 1; i <= this.scalingrewardcount; i++) {\n      const list = i18next.t(`singularityChallenge.data.${String(this.HTMLTag)}.ScalingReward${i}`)\n      text += i > 1 ? `\\n${list}` : list\n    }\n    return text\n  }\n\n  // Ditto. Also worth mentioning this implementation means the list size can be arbitrary!\n  uniqueString (): string {\n    let text = ''\n    for (let i = 1; i <= this.uniquerewardcount; i++) {\n      const list = i18next.t(`singularityChallenge.data.${String(this.HTMLTag)}.UniqueReward${i}`)\n      text += i > 1 ? `\\n${list}` : list\n    }\n    return text\n  }\n\n  public updateChallengeHTML (): void {\n    DOMCacheGetOrSet('singularityChallengesInfo').innerHTML = this.toString()\n    DOMCacheGetOrSet('singularityChallengesScalingRewards').innerHTML = this.scaleString()\n    DOMCacheGetOrSet('singularityChallengesUniqueRewards').innerHTML = this.uniqueString()\n  }\n\n  public updateIconHTML (): void {\n    const color = this.enabled ? 'orchid' : ''\n    DOMCacheGetOrSet(`${String(this.HTMLTag)}`).style.backgroundColor = color\n  }\n\n  public get rewards () {\n    return this.effect(this.completions)\n  }\n}\n\nexport const singularityChallengeData: Record<\n  keyof Player['singularityUpgrades'],\n  ISingularityChallengeData\n> = {\n  noSingularityUpgrades: {\n    baseReq: 1,\n    maxCompletions: 30,\n    unlockSingularity: 25,\n    HTMLTag: 'noSingularityUpgrades',\n    singularityRequirement: (baseReq: number, completions: number) => {\n      return baseReq + 8 * completions\n    },\n    scalingrewardcount: 1,\n    uniquerewardcount: 5,\n    effect: (n: number) => {\n      return {\n        cubes: 1 + 0.5 * n,\n        goldenQuarks: 1 + 0.12 * +(n > 0),\n        blueberries: +(n > 0),\n        shopUpgrade: n >= 20,\n        luckBonus: n >= 30 ? 0.04 : 0,\n        shopUpgrade2: n >= 30\n      }\n    },\n    cacheUpdates: [\n      () => {\n        G.ambrosiaCurrStats = {\n          ambrosiaAdditiveLuckMult: calculateAdditiveLuckMult().value,\n          ambrosiaLuck: calculateAmbrosiaLuck().value,\n          ambrosiaBlueberries: calculateBlueberryInventory().value,\n          ambrosiaGenerationSpeed: calculateAmbrosiaGenerationSpeed().value\n        }\n      }\n    ]\n  },\n  oneChallengeCap: {\n    baseReq: 10,\n    maxCompletions: 25,\n    unlockSingularity: 40,\n    HTMLTag: 'oneChallengeCap',\n    singularityRequirement: (baseReq: number, completions: number) => {\n      return baseReq + 11 * completions\n    },\n    scalingrewardcount: 2,\n    uniquerewardcount: 4,\n    effect: (n: number) => {\n      return {\n        corrScoreIncrease: 0.03 * n,\n        blueberrySpeedMult: (1 + n / 100),\n        capIncrease: 3 * +(n > 0),\n        freeCorruptionLevel: n >= 20,\n        shopUpgrade: n >= 20,\n        reinCapIncrease2: 7 * +(n >= 25),\n        ascCapIncrease2: 2 * +(n >= 25)\n      }\n    }\n  },\n  noOcteracts: {\n    baseReq: 75,\n    maxCompletions: 10,\n    unlockSingularity: 100,\n    HTMLTag: 'noOcteracts',\n    singularityRequirement: (baseReq: number, completions: number) => {\n      return baseReq + 13 * completions\n    },\n    scalingrewardcount: 1,\n    uniquerewardcount: 3,\n    effect: (n: number) => {\n      return {\n        octeractPow: 0.02 * n,\n        offeringBonus: n > 0,\n        obtainiumBonus: n >= 10,\n        shopUpgrade: n >= 10\n      }\n    }\n  },\n  limitedAscensions: {\n    baseReq: 10,\n    maxCompletions: 25,\n    unlockSingularity: 50,\n    HTMLTag: 'limitedAscensions',\n    singularityRequirement: (baseReq: number, completions: number) => {\n      return baseReq + 10 * completions\n    },\n    scalingrewardcount: 1,\n    uniquerewardcount: 4,\n    effect: (n: number) => {\n      return {\n        ultimateProgressBarUnlock: (n > 0),\n        ascensionSpeedMult: (0.1 * n) / 100,\n        hepteractCap: n > 0,\n        exaltBonus: n >= 20,\n        shopUpgrade: n >= 25\n      }\n    }\n  },\n  noAmbrosiaUpgrades: {\n    baseReq: 150,\n    maxCompletions: 20,\n    unlockSingularity: 166,\n    HTMLTag: 'noAmbrosiaUpgrades',\n    singularityRequirement: (baseReq: number, completions: number) => {\n      return baseReq + 6 * completions\n    },\n    scalingrewardcount: 2,\n    uniquerewardcount: 6,\n    effect: (n: number) => {\n      return {\n        bonusAmbrosia: +(n > 0),\n        blueberries: Math.floor(n / 10) + +(n > 0),\n        luckBonus: n / 200,\n        additiveLuck: 15 * n,\n        blueberrySpeedMult: (1 + n / 50),\n        shopUpgrade: n >= 15,\n        shopUpgrade2: n >= 20\n      }\n    }\n  },\n  limitedTime: {\n    baseReq: 203,\n    maxCompletions: 25,\n    unlockSingularity: 216,\n    HTMLTag: 'limitedTime',\n    singularityRequirement: (baseReq: number, completions: number) => {\n      return baseReq + 3 * completions\n    },\n    scalingrewardcount: 3,\n    uniquerewardcount: 3,\n    effect: (n: number) => {\n      return {\n        preserveQuarks: +(n > 0),\n        quarkMult: 0.01 * n,\n        globalSpeed: 0.06 * n,\n        ascensionSpeed: 0.06 * n,\n        tier1Upgrade: n >= 15,\n        tier2Upgrade: n >= 25,\n      }\n    }\n  },\n  sadisticPrequel: {\n    baseReq: 135,\n    maxCompletions: 30,\n    unlockSingularity: 273,\n    HTMLTag: 'sadisticPrequel',\n    singularityRequirement: (baseReq: number, completions: number) => {\n      return baseReq + 3 * completions\n    },\n    scalingrewardcount: 2,\n    uniquerewardcount: 4,\n    effect: (n: number) => {\n      return {\n        extraFree: 50 * +(n > 0),\n        quarkMult: 0.03 * n,\n        freeUpgradeMult: 0.03 * n,\n        shopUpgrade: n >= 10,\n        shopUpgrade2: n >= 20,\n        shopUpgrade3: n >= 30\n      }\n    }\n  }\n}\n", "import Decimal from 'break_infinity.js'\nimport { z, type ZodNumber, type ZodType } from 'zod'\nimport { BlueberryUpgrade, blueberryUpgradeData } from '../BlueberryUpgrades'\nimport { WowCubes, WowHypercubes, WowPlatonicCubes, WowTesseracts } from '../CubeExperimental'\nimport { createHepteract } from '../Hepteracts'\nimport { octeractData, OcteractUpgrade } from '../Octeracts'\nimport { QuarkHandler } from '../Quark'\nimport { singularityData, SingularityUpgrade } from '../singularity'\nimport { SingularityChallenge, singularityChallengeData } from '../SingularityChallenges'\nimport { blankSave } from '../Synergism'\nimport type { Player } from '../types/Synergism'\nimport { deepClone, padArray } from '../Utility'\n\nconst decimalSchema = z.custom<Decimal>((value) => {\n  try {\n    new Decimal(value)\n    return true\n  } catch {\n    return false\n  }\n}).transform((decimalSource) => new Decimal(decimalSource))\n\nconst arrayStartingWithNull = (s: ZodType) => z.tuple([z.null()]).rest(s)\n\nconst arrayExtend = <K extends keyof Player, Value extends Player[K]>(array: Value, k: K) => {\n  if (array.length < blankSave[k].length) {\n    array.push(...blankSave[k].slice(array.length))\n  }\n  return array\n}\n\nconst ascendBuildingSchema = z.object({\n  cost: z.number(),\n  owned: z.number(),\n  generated: decimalSchema,\n  multiplier: z.number()\n})\n\nconst singularityUpgradeSchema = (...keys: string[]) => {\n  return z.object<Record<'level' | 'toggleBuy' | 'freeLevels' | typeof keys[number], ZodNumber>>({\n    level: z.number(),\n    toggleBuy: z.number(),\n    freeLevels: z.number(),\n    ...keys.reduce((accum, value) => {\n      accum[value] = z.number()\n      return accum\n    }, {} as Record<string, ZodType>)\n  })\n}\n\nconst toggleSchema = z.record(z.string(), z.boolean()).transform((record) => {\n  return Object.fromEntries(\n    Object.entries(record).filter(([key, _value]) => /^\\d+$/.test(key))\n  )\n})\n\nconst decimalStringSchema = z.string().regex(/^|-?\\d+(\\.\\d{1,2})?$/)\nconst integerStringSchema = z.string().regex(/^\\d+$/)\n\nconst hepteractCraftSchema = (k: keyof Player['hepteractCrafts']) =>\n  z.object({\n    AUTO: z.boolean().default(() => blankSave.hepteractCrafts[k].AUTO),\n    BAL: z.number().default(() => blankSave.hepteractCrafts[k].BAL),\n    BASE_CAP: z.number(),\n    CAP: z.number().default(() => blankSave.hepteractCrafts[k].CAP),\n    DISCOUNT: z.number().default(() => blankSave.hepteractCrafts[k].DISCOUNT),\n    HEPTERACT_CONVERSION: z.number(),\n    HTML_STRING: z.string().default(() => blankSave.hepteractCrafts[k].HTML_STRING),\n    OTHER_CONVERSIONS: z.record(z.string(), z.number()),\n    UNLOCKED: z.boolean().default(() => blankSave.hepteractCrafts[k].UNLOCKED)\n  })\n\nexport const playerSchema = z.object({\n  firstPlayed: z.string().datetime().optional().default(() => new Date().toISOString()),\n  worlds: z.number().transform((quarks) => new QuarkHandler(quarks)),\n  coins: decimalSchema,\n  coinsThisPrestige: decimalSchema,\n  coinsThisTranscension: decimalSchema,\n  coinsThisReincarnation: decimalSchema,\n  coinsTotal: decimalSchema,\n\n  firstOwnedCoin: z.number(),\n  firstGeneratedCoin: decimalSchema,\n  firstCostCoin: decimalSchema,\n  firstProduceCoin: z.number(),\n\n  secondOwnedCoin: z.number(),\n  secondGeneratedCoin: decimalSchema,\n  secondCostCoin: decimalSchema,\n  secondProduceCoin: z.number(),\n\n  thirdOwnedCoin: z.number(),\n  thirdGeneratedCoin: decimalSchema,\n  thirdCostCoin: decimalSchema,\n  thirdProduceCoin: z.number(),\n\n  fourthOwnedCoin: z.number(),\n  fourthGeneratedCoin: decimalSchema,\n  fourthCostCoin: decimalSchema,\n  fourthProduceCoin: z.number(),\n\n  fifthOwnedCoin: z.number(),\n  fifthGeneratedCoin: decimalSchema,\n  fifthCostCoin: decimalSchema,\n  fifthProduceCoin: z.number(),\n\n  firstOwnedDiamonds: z.number(),\n  firstGeneratedDiamonds: decimalSchema,\n  firstCostDiamonds: decimalSchema,\n  firstProduceDiamonds: z.number(),\n\n  secondOwnedDiamonds: z.number(),\n  secondGeneratedDiamonds: decimalSchema,\n  secondCostDiamonds: decimalSchema,\n  secondProduceDiamonds: z.number(),\n\n  thirdOwnedDiamonds: z.number(),\n  thirdGeneratedDiamonds: decimalSchema,\n  thirdCostDiamonds: decimalSchema,\n  thirdProduceDiamonds: z.number(),\n\n  fourthOwnedDiamonds: z.number(),\n  fourthGeneratedDiamonds: decimalSchema,\n  fourthCostDiamonds: decimalSchema,\n  fourthProduceDiamonds: z.number(),\n\n  fifthOwnedDiamonds: z.number(),\n  fifthGeneratedDiamonds: decimalSchema,\n  fifthCostDiamonds: decimalSchema,\n  fifthProduceDiamonds: z.number(),\n\n  firstOwnedMythos: z.number(),\n  firstGeneratedMythos: decimalSchema,\n  firstCostMythos: decimalSchema,\n  firstProduceMythos: z.number(),\n\n  secondOwnedMythos: z.number(),\n  secondGeneratedMythos: decimalSchema,\n  secondCostMythos: decimalSchema,\n  secondProduceMythos: z.number(),\n\n  thirdOwnedMythos: z.number(),\n  thirdGeneratedMythos: decimalSchema,\n  thirdCostMythos: decimalSchema,\n  thirdProduceMythos: z.number(),\n\n  fourthOwnedMythos: z.number(),\n  fourthGeneratedMythos: decimalSchema,\n  fourthCostMythos: decimalSchema,\n  fourthProduceMythos: z.number(),\n\n  fifthOwnedMythos: z.number(),\n  fifthGeneratedMythos: decimalSchema,\n  fifthCostMythos: decimalSchema,\n  fifthProduceMythos: z.number(),\n\n  firstOwnedParticles: z.number(),\n  firstGeneratedParticles: decimalSchema,\n  firstCostParticles: decimalSchema,\n  firstProduceParticles: z.number(),\n\n  secondOwnedParticles: z.number(),\n  secondGeneratedParticles: decimalSchema,\n  secondCostParticles: decimalSchema,\n  secondProduceParticles: z.number(),\n\n  thirdOwnedParticles: z.number(),\n  thirdGeneratedParticles: decimalSchema,\n  thirdCostParticles: decimalSchema,\n  thirdProduceParticles: z.number(),\n\n  fourthOwnedParticles: z.number(),\n  fourthGeneratedParticles: decimalSchema,\n  fourthCostParticles: decimalSchema,\n  fourthProduceParticles: z.number(),\n\n  fifthOwnedParticles: z.number(),\n  fifthGeneratedParticles: decimalSchema,\n  fifthCostParticles: decimalSchema,\n  fifthProduceParticles: z.number(),\n\n  firstOwnedAnts: z.number().default(() => blankSave.firstOwnedAnts),\n  firstGeneratedAnts: decimalSchema,\n  firstCostAnts: decimalSchema,\n  firstProduceAnts: z.number().default(() => blankSave.firstProduceAnts),\n\n  secondOwnedAnts: z.number().default(() => blankSave.secondOwnedAnts),\n  secondGeneratedAnts: decimalSchema,\n  secondCostAnts: decimalSchema,\n  secondProduceAnts: z.number().default(() => blankSave.secondProduceAnts),\n\n  thirdOwnedAnts: z.number().default(() => blankSave.thirdOwnedAnts),\n  thirdGeneratedAnts: decimalSchema,\n  thirdCostAnts: decimalSchema,\n  thirdProduceAnts: z.number().default(() => blankSave.thirdProduceAnts),\n\n  fourthOwnedAnts: z.number().default(() => blankSave.fourthOwnedAnts),\n  fourthGeneratedAnts: decimalSchema,\n  fourthCostAnts: decimalSchema,\n  fourthProduceAnts: z.number().default(() => blankSave.fourthProduceAnts),\n\n  fifthOwnedAnts: z.number().default(() => blankSave.fifthOwnedAnts),\n  fifthGeneratedAnts: decimalSchema,\n  fifthCostAnts: decimalSchema,\n  fifthProduceAnts: z.number().default(() => blankSave.fifthProduceAnts),\n\n  sixthOwnedAnts: z.number().default(() => blankSave.sixthOwnedAnts),\n  sixthGeneratedAnts: decimalSchema,\n  sixthCostAnts: decimalSchema,\n  sixthProduceAnts: z.number().default(() => blankSave.sixthProduceAnts),\n\n  seventhOwnedAnts: z.number().default(() => blankSave.seventhOwnedAnts),\n  seventhGeneratedAnts: decimalSchema,\n  seventhCostAnts: decimalSchema,\n  seventhProduceAnts: z.number().default(() => blankSave.seventhProduceAnts),\n\n  eighthOwnedAnts: z.number().default(() => blankSave.eighthOwnedAnts),\n  eighthGeneratedAnts: decimalSchema,\n  eighthCostAnts: decimalSchema,\n  eighthProduceAnts: z.number().default(() => blankSave.eighthProduceAnts),\n\n  ascendBuilding1: ascendBuildingSchema.default(() => deepClone(blankSave.ascendBuilding1)),\n  ascendBuilding2: ascendBuildingSchema.default(() => deepClone(blankSave.ascendBuilding2)),\n  ascendBuilding3: ascendBuildingSchema.default(() => deepClone(blankSave.ascendBuilding3)),\n  ascendBuilding4: ascendBuildingSchema.default(() => deepClone(blankSave.ascendBuilding4)),\n  ascendBuilding5: ascendBuildingSchema.default(() => deepClone(blankSave.ascendBuilding5)),\n\n  multiplierCost: decimalSchema,\n  multiplierBought: z.number(),\n\n  acceleratorCost: decimalSchema,\n  acceleratorBought: z.number(),\n\n  acceleratorBoostBought: z.number(),\n  acceleratorBoostCost: decimalSchema,\n\n  upgrades: z.number().array().transform((array) => {\n    if (array.length < blankSave.upgrades.length) {\n      array.push(...blankSave.upgrades.slice(0, blankSave.upgrades.length - array.length))\n    }\n\n    return array\n  }),\n\n  prestigeCount: z.number(),\n  transcendCount: z.number(),\n  reincarnationCount: z.number(),\n\n  prestigePoints: decimalSchema,\n  transcendPoints: decimalSchema,\n  reincarnationPoints: decimalSchema,\n\n  prestigeShards: decimalSchema,\n  transcendShards: decimalSchema,\n  reincarnationShards: decimalSchema,\n\n  toggles: toggleSchema,\n\n  challengecompletions: z.union([\n    z.number().array(),\n    z.record(z.string(), z.number()).transform((value) => {\n      const challengeCompletions = Object.values(value)\n      padArray(\n        challengeCompletions,\n        0,\n        blankSave.challengecompletions.length\n      )\n      return challengeCompletions\n    })\n  ]),\n  highestchallengecompletions: z.union([\n    z.union([z.number(), z.null()]).array(),\n    z.record(z.string(), z.number()).transform((value) => {\n      const highestChallengeCompletions = Object.values(value)\n      padArray(\n        highestChallengeCompletions,\n        0,\n        blankSave.highestchallengecompletions.length\n      )\n      return highestChallengeCompletions\n    })\n  ]),\n  challenge15Exponent: z.number().default(() => blankSave.challenge15Exponent),\n  highestChallenge15Exponent: z.number().default(() => blankSave.highestChallenge15Exponent),\n\n  retrychallenges: z.boolean().default(() => blankSave.retrychallenges),\n  currentChallenge: z.union([\n    z.string().transform(() => ({ ...blankSave.currentChallenge })),\n    z.object({\n      transcension: z.number(),\n      reincarnation: z.number(),\n      ascension: z.number()\n    }).default(() => ({ ...blankSave.currentChallenge }))\n  ]),\n  researchPoints: z.number(),\n  obtainiumtimer: z.number(),\n  obtainiumpersecond: z.number().default(() => blankSave.obtainiumpersecond),\n  maxobtainiumpersecond: z.number().default(() => blankSave.maxobtainiumpersecond),\n  maxobtainium: z.number().default(() => blankSave.maxobtainium),\n\n  researches: z.number().array().transform((array) => arrayExtend(array, 'researches')),\n\n  unlocks: z.record(z.string(), z.boolean()),\n  achievements: z.number().array().transform((array) => arrayExtend(array, 'achievements')),\n\n  achievementPoints: z.number(),\n\n  prestigenomultiplier: z.boolean(),\n  prestigenoaccelerator: z.boolean(),\n  transcendnomultiplier: z.boolean(),\n  transcendnoaccelerator: z.boolean(),\n  reincarnatenomultiplier: z.boolean(),\n  reincarnatenoaccelerator: z.boolean(),\n  prestigenocoinupgrades: z.boolean(),\n  transcendnocoinupgrades: z.boolean(),\n  transcendnocoinorprestigeupgrades: z.boolean(),\n  reincarnatenocoinupgrades: z.boolean(),\n  reincarnatenocoinorprestigeupgrades: z.boolean(),\n  reincarnatenocoinprestigeortranscendupgrades: z.boolean(),\n  reincarnatenocoinprestigetranscendorgeneratorupgrades: z.boolean(),\n\n  crystalUpgrades: z.number().array(),\n  crystalUpgradesCost: z.number().array().default(() => [...blankSave.crystalUpgradesCost]),\n\n  runelevels: z.number().array().transform((array) => arrayExtend(array, 'runelevels')),\n  runeexp: z.union([z.number(), z.null()]).array().transform((value) => value.map((val) => val === null ? 0 : val)),\n  runeshards: z.number(),\n  maxofferings: z.number().default(() => blankSave.maxofferings),\n  offeringpersecond: z.number().default(() => blankSave.offeringpersecond),\n\n  prestigecounter: z.number(),\n  transcendcounter: z.number(),\n  reincarnationcounter: z.number(),\n  offlinetick: z.number(),\n\n  prestigeamount: z.union([z.number(), decimalStringSchema.transform(Number)]),\n  transcendamount: z.union([z.number(), decimalStringSchema.transform(Number)]).default(() =>\n    blankSave.transcendamount\n  ),\n  reincarnationamount: z.union([z.number(), decimalStringSchema.transform(Number)]),\n\n  fastestprestige: z.number(),\n  fastesttranscend: z.number(),\n  fastestreincarnate: z.number(),\n\n  resettoggle1: z.number().default(() => blankSave.resettoggle1),\n  resettoggle2: z.number().default(() => blankSave.resettoggle2),\n  resettoggle3: z.number().default(() => blankSave.resettoggle3),\n  resettoggle4: z.number().default(() => blankSave.resettoggle4),\n\n  tesseractAutoBuyerToggle: z.number().default(() => blankSave.tesseractAutoBuyerToggle),\n  tesseractAutoBuyerAmount: z.number().default(() => blankSave.tesseractAutoBuyerAmount),\n\n  coinbuyamount: z.number(),\n  crystalbuyamount: z.number(),\n  mythosbuyamount: z.number(),\n  particlebuyamount: z.number(),\n  offeringbuyamount: z.number(),\n  tesseractbuyamount: z.number().default(() => blankSave.tesseractbuyamount),\n\n  shoptoggles: z.record(z.string(), z.boolean()),\n  tabnumber: z.number(),\n  subtabNumber: z.number().default(() => blankSave.subtabNumber),\n\n  codes: z.array(z.tuple([z.number(), z.boolean()])).transform((tuple) => new Map(tuple)).default(() =>\n    deepClone([...blankSave.codes])\n  ),\n\n  loaded1009: z.boolean().default(() => blankSave.loaded1009),\n  loaded1009hotfix1: z.boolean().default(() => blankSave.loaded1009hotfix1),\n  loaded10091: z.boolean().default(() => blankSave.loaded10091),\n  loaded1010: z.boolean().default(() => blankSave.loaded1010),\n  loaded10101: z.boolean().default(() => blankSave.loaded10101),\n\n  shopUpgrades: z.record(z.string(), z.union([z.number(), z.null(), z.boolean()]))\n    .transform((object) => {\n      return Object.fromEntries(\n        Object.keys(blankSave.shopUpgrades).map((key) => {\n          const value = object[key] ?? blankSave.shopUpgrades[key as keyof typeof blankSave['shopUpgrades']]\n          return value === null ? [key, 0] : [key, Number(value)]\n        })\n      )\n    })\n    .default(() => ({ ...blankSave.shopUpgrades })),\n\n  shopBuyMaxToggle: z.union([z.boolean(), z.string()]).default(() => blankSave.shopBuyMaxToggle),\n  shopHideToggle: z.boolean().default(() => blankSave.shopHideToggle),\n  shopConfirmationToggle: z.boolean().default(() => blankSave.shopConfirmationToggle),\n  autoPotionTimer: z.number().default(() => blankSave.autoPotionTimer),\n  autoPotionTimerObtainium: z.number().default(() => blankSave.autoPotionTimerObtainium),\n\n  autoSacrificeToggle: z.boolean().default(() => blankSave.autoSacrificeToggle),\n  autoBuyFragment: z.boolean().default(() => blankSave.autoBuyFragment),\n  autoFortifyToggle: z.boolean().default(() => blankSave.autoFortifyToggle),\n  autoEnhanceToggle: z.boolean().default(() => blankSave.autoEnhanceToggle),\n  autoResearchToggle: z.boolean().default(() => blankSave.autoResearchToggle),\n  researchBuyMaxToggle: z.boolean().default(() => blankSave.researchBuyMaxToggle),\n  autoResearchMode: z.string().default(() => blankSave.autoResearchMode),\n  autoResearch: z.number().default(() => blankSave.autoResearch),\n  autoSacrifice: z.number().default(() => blankSave.autoSacrifice),\n  sacrificeTimer: z.number().default(() => blankSave.sacrificeTimer),\n  quarkstimer: z.number().default(() => blankSave.quarkstimer),\n  goldenQuarksTimer: z.number().default(() => blankSave.goldenQuarksTimer),\n\n  antPoints: decimalSchema,\n  antUpgrades: z.union([z.number().array(), arrayStartingWithNull(z.number()).transform((array) => array.slice(1))])\n    .default(() => [...blankSave.antUpgrades]),\n  antSacrificePoints: z.union([z.number(), z.null().transform(() => Number.MAX_VALUE)]).default(() =>\n    blankSave.antSacrificePoints\n  ),\n  antSacrificeTimer: z.number().default(() => blankSave.antSacrificeTimer),\n  antSacrificeTimerReal: z.number().default(() => blankSave.antSacrificeTimerReal),\n\n  talismanLevels: z.union([z.number().array(), arrayStartingWithNull(z.number()).transform((array) => array.slice(1))])\n    .default(() => [...blankSave.talismanLevels]),\n  talismanRarity: z.union([z.number().array(), arrayStartingWithNull(z.number()).transform((array) => array.slice(1))])\n    .default(() => [...blankSave.talismanRarity]),\n  talismanOne: arrayStartingWithNull(z.number()).default(() => blankSave.talismanOne),\n  talismanTwo: arrayStartingWithNull(z.number()).default(() => blankSave.talismanTwo),\n  talismanThree: arrayStartingWithNull(z.number()).default(() => blankSave.talismanThree),\n  talismanFour: arrayStartingWithNull(z.number()).default(() => blankSave.talismanFour),\n  talismanFive: arrayStartingWithNull(z.number()).default(() => blankSave.talismanFive),\n  talismanSix: arrayStartingWithNull(z.number()).default(() => blankSave.talismanSix),\n  talismanSeven: arrayStartingWithNull(z.number()).default(() => blankSave.talismanSeven),\n  talismanShards: z.number().default(() => blankSave.talismanShards),\n  commonFragments: z.number().default(() => blankSave.commonFragments),\n  uncommonFragments: z.number().default(() => blankSave.uncommonFragments),\n  rareFragments: z.number().default(() => blankSave.rareFragments),\n  epicFragments: z.number().default(() => blankSave.epicFragments),\n  legendaryFragments: z.number().default(() => blankSave.legendaryFragments),\n  mythicalFragments: z.number().default(() => blankSave.mythicalFragments),\n\n  buyTalismanShardPercent: z.number().default(() => blankSave.buyTalismanShardPercent),\n\n  autoAntSacrifice: z.boolean().default(() => blankSave.autoAntSacrifice),\n  autoAntSacTimer: z.number().default(() => blankSave.autoAntSacTimer),\n  autoAntSacrificeMode: z.number().default(() => blankSave.autoAntSacrificeMode),\n  antMax: z.boolean().default(() => blankSave.antMax),\n\n  ascensionCount: z.number().default(() => blankSave.ascensionCount),\n  ascensionCounter: z.number().default(() => blankSave.ascensionCounter),\n  ascensionCounterReal: z.number().default(() => blankSave.ascensionCounterReal),\n  ascensionCounterRealReal: z.number().default(() => blankSave.ascensionCounterRealReal),\n  cubeUpgrades: arrayStartingWithNull(z.number())\n    .transform((array) => arrayExtend(array as [null, ...number[]], 'cubeUpgrades'))\n    .default((): [null, ...number[]] => [...blankSave.cubeUpgrades]),\n  cubeUpgradesBuyMaxToggle: z.boolean().default(() => blankSave.cubeUpgradesBuyMaxToggle),\n  autoCubeUpgradesToggle: z.boolean().default(() => blankSave.autoCubeUpgradesToggle),\n  autoPlatonicUpgradesToggle: z.boolean().default(() => blankSave.autoPlatonicUpgradesToggle),\n  platonicUpgrades: z.number().array().transform((array) => arrayExtend(array, 'platonicUpgrades')).default(\n    () => [...blankSave.platonicUpgrades]\n  ),\n  wowCubes: z.number().default(() => Number(blankSave.wowCubes)).transform((cubes) => new WowCubes(cubes)),\n  wowTesseracts: z.number().default(() => Number(blankSave.wowTesseracts)).transform((tesseract) =>\n    new WowTesseracts(tesseract)\n  ),\n  wowHypercubes: z.number().default(() => Number(blankSave.wowHypercubes)).transform((cubes) =>\n    new WowHypercubes(cubes)\n  ),\n  wowPlatonicCubes: z.number().default(() => Number(blankSave.wowPlatonicCubes)).transform((cubes) =>\n    new WowPlatonicCubes(cubes)\n  ),\n  saveOfferingToggle: z.boolean().default(() => blankSave.saveOfferingToggle),\n  wowAbyssals: z.number().default(() => blankSave.wowAbyssals),\n  wowOcteracts: z.number().default(() => blankSave.wowOcteracts),\n  totalWowOcteracts: z.number().default(() => blankSave.totalWowOcteracts),\n  cubeBlessings: z.record(z.string(), z.number()).default(() => ({ ...blankSave.cubeBlessings })),\n  tesseractBlessings: z.record(z.string(), z.number()).default(() => ({ ...blankSave.tesseractBlessings })),\n  hypercubeBlessings: z.record(z.string(), z.number()).default(() => ({ ...blankSave.hypercubeBlessings })),\n  platonicBlessings: z.record(z.string(), z.number()).default(() => ({ ...blankSave.platonicBlessings })),\n\n  hepteractCrafts: z.object({\n    chronos: hepteractCraftSchema('chronos'),\n    hyperrealism: hepteractCraftSchema('hyperrealism'),\n    quark: hepteractCraftSchema('quark'),\n    challenge: hepteractCraftSchema('challenge'),\n    abyss: hepteractCraftSchema('abyss'),\n    accelerator: hepteractCraftSchema('accelerator'),\n    acceleratorBoost: hepteractCraftSchema('acceleratorBoost'),\n    multiplier: hepteractCraftSchema('multiplier')\n  }).transform((crafts) => {\n    return Object.fromEntries(\n      Object.entries(blankSave.hepteractCrafts).map(([key, value]) => {\n        return [\n          key,\n          createHepteract({\n            ...value,\n            ...crafts[key as keyof typeof crafts]\n          })\n        ]\n      })\n    )\n  }).default(() => blankSave.hepteractCrafts),\n\n  ascendShards: decimalSchema.default(() => deepClone(blankSave.ascendShards)),\n  autoAscend: z.boolean().default(() => blankSave.autoAscend),\n  autoAscendMode: z.string().default(() => blankSave.autoAscendMode),\n  autoAscendThreshold: z.number().default(() => blankSave.autoAscendThreshold),\n  autoOpenCubes: z.boolean().default(() => blankSave.autoOpenCubes),\n  openCubes: z.number().default(() => blankSave.openCubes),\n  autoOpenTesseracts: z.boolean().default(() => blankSave.autoOpenTesseracts),\n  openTesseracts: z.number().default(() => blankSave.openTesseracts),\n  autoOpenHypercubes: z.boolean().default(() => blankSave.autoOpenHypercubes),\n  openHypercubes: z.number().default(() => blankSave.openHypercubes),\n  autoOpenPlatonicsCubes: z.boolean().default(() => blankSave.autoOpenPlatonicsCubes),\n  openPlatonicsCubes: z.number().default(() => blankSave.openPlatonicsCubes),\n  roombaResearchIndex: z.number().default(() => blankSave.roombaResearchIndex),\n  ascStatToggles: z.record(integerStringSchema, z.boolean()).default(() => ({ ...blankSave.ascStatToggles })),\n\n  prototypeCorruptions: z.number().array().default(() => [...blankSave.prototypeCorruptions]),\n  usedCorruptions: z.number().array().transform((array) => arrayExtend(array, 'usedCorruptions')).default(\n    () => [...blankSave.usedCorruptions]\n  ),\n  corruptionLoadouts: z.record(integerStringSchema, z.number().array()).default(() =>\n    deepClone(blankSave.corruptionLoadouts)\n  ),\n  corruptionLoadoutNames: z.string().array().default(() => blankSave.corruptionLoadoutNames.slice()).default(\n    () => [...blankSave.corruptionLoadoutNames]\n  ),\n  corruptionShowStats: z.boolean().default(() => blankSave.corruptionShowStats),\n\n  constantUpgrades: arrayStartingWithNull(z.number()).default((): [\n    null,\n    ...number[]\n  ] => [...blankSave.constantUpgrades]),\n  // TODO: real types\n  history: z.object({\n    ants: z.any().array(),\n    ascend: z.any().array().default(() => [...blankSave.history.ascend]),\n    reset: z.any().array().default(() => [...blankSave.history.reset]),\n    singularity: z.any().array().default(() => [...blankSave.history.singularity])\n  }).default(() => deepClone(blankSave.history)),\n  historyShowPerSecond: z.boolean().default(() => blankSave.historyShowPerSecond),\n\n  autoChallengeRunning: z.boolean().default(() => blankSave.autoChallengeRunning),\n  autoChallengeIndex: z.number().default(() => blankSave.autoChallengeIndex),\n  autoChallengeToggles: z.boolean().array().default(() => [...blankSave.autoChallengeToggles]),\n  autoChallengeStartExponent: z.number().default(() => blankSave.autoChallengeStartExponent),\n  autoChallengeTimer: z.record(z.string(), z.number()).default(() => ({ ...blankSave.autoChallengeTimer })),\n\n  runeBlessingLevels: z.number().array().default(() => [...blankSave.runeBlessingLevels]),\n  runeSpiritLevels: z.number().array().default(() => [...blankSave.runeSpiritLevels]),\n  runeBlessingBuyAmount: z.number().default(() => blankSave.runeBlessingBuyAmount),\n  runeSpiritBuyAmount: z.number().default(() => blankSave.runeSpiritBuyAmount),\n\n  autoTesseracts: z.boolean().array().default(() => [...blankSave.autoTesseracts]),\n\n  saveString: z.string().default(() => blankSave.saveString),\n  exporttest: z.union([z.string(), z.boolean()]).transform((value) => {\n    if (typeof value === 'string') {\n      return value === 'YES!'\n    }\n\n    return value\n  }),\n\n  dayCheck: z.string().datetime().nullable().default(() => blankSave.dayCheck as null).transform((value) => {\n    return value === null ? value : new Date(value)\n  }),\n  dayTimer: z.number().default(() => blankSave.dayTimer),\n  cubeOpenedDaily: z.number().default(() => blankSave.cubeOpenedDaily),\n  cubeQuarkDaily: z.number().default(() => blankSave.cubeQuarkDaily),\n  tesseractOpenedDaily: z.number().default(() => blankSave.tesseractOpenedDaily),\n  tesseractQuarkDaily: z.number().default(() => blankSave.tesseractQuarkDaily),\n  hypercubeOpenedDaily: z.number().default(() => blankSave.hypercubeOpenedDaily),\n  hypercubeQuarkDaily: z.number().default(() => blankSave.hypercubeQuarkDaily),\n  platonicCubeOpenedDaily: z.number().default(() => blankSave.platonicCubeOpenedDaily),\n  platonicCubeQuarkDaily: z.number().default(() => blankSave.platonicCubeQuarkDaily),\n  overfluxOrbs: z.number().default(() => blankSave.overfluxOrbs),\n  overfluxOrbsAutoBuy: z.boolean().default(() => blankSave.overfluxOrbsAutoBuy),\n  overfluxPowder: z.number().default(() => blankSave.overfluxPowder),\n  dailyPowderResetUses: z.number().default(() => blankSave.dailyPowderResetUses),\n  autoWarpCheck: z.boolean().default(() => blankSave.autoWarpCheck),\n  loadedOct4Hotfix: z.boolean().default(() => blankSave.loadedOct4Hotfix),\n  loadedNov13Vers: z.boolean().default(() => blankSave.loadedNov13Vers),\n  loadedDec16Vers: z.boolean().default(() => blankSave.loadedDec16Vers),\n  loadedV253: z.boolean().default(() => blankSave.loadedV253),\n  loadedV255: z.boolean().default(() => blankSave.loadedV255),\n  loadedV297Hotfix1: z.boolean().default(() => blankSave.loadedV297Hotfix1),\n  loadedV2927Hotfix1: z.boolean().default(() => blankSave.loadedV2927Hotfix1),\n  loadedV2930Hotfix1: z.boolean().default(() => blankSave.loadedV2930Hotfix1),\n  loadedV2931Hotfix1: z.boolean().default(() => blankSave.loadedV2931Hotfix1),\n  loadedV21003Hotfix1: z.boolean().default(() => blankSave.loadedV21003Hotfix1),\n  loadedV21007Hotfix1: z.boolean().default(() => blankSave.loadedV21007Hotfix1),\n  version: z.string().default(() => blankSave.version),\n  rngCode: z.number().default(() => blankSave.rngCode),\n  promoCodeTiming: z.record(z.string(), z.number()).default(() => ({ time: Date.now() - 60 * 1000 * 15 })),\n  singularityCount: z.number().default(() => blankSave.singularityCount),\n  highestSingularityCount: z.number().default(() => blankSave.highestSingularityCount),\n  singularityCounter: z.number().default(() => blankSave.singularityCount),\n  goldenQuarks: z.number().default(() => blankSave.goldenQuarks),\n  quarksThisSingularity: z.number().nullable().default(() => blankSave.quarksThisSingularity),\n  totalQuarksEver: z.number().default(() => blankSave.totalQuarksEver),\n  hotkeys: z.record(integerStringSchema, z.string().array()).default(() => blankSave.hotkeys),\n  theme: z.string().default(() => blankSave.theme),\n  iconSet: z.number().default(() => blankSave.iconSet),\n  notation: z.string().default(() => blankSave.notation),\n\n  // TODO: why is this on player?\n  singularityUpgrades: z.record(z.string(), singularityUpgradeSchema('goldenQuarksInvested'))\n    .transform((upgrades) =>\n      Object.fromEntries(\n        Object.keys(singularityData).map((k) => {\n          const { level, goldenQuarksInvested, toggleBuy, freeLevels } = upgrades[k] ?? singularityData[k]\n\n          return [\n            k,\n            new SingularityUpgrade({\n              maxLevel: singularityData[k].maxLevel,\n              costPerLevel: singularityData[k].costPerLevel,\n\n              level: level as number,\n              goldenQuarksInvested,\n              toggleBuy: toggleBuy as number,\n              freeLevels: freeLevels as number,\n              minimumSingularity: singularityData[k].minimumSingularity,\n              effect: singularityData[k].effect,\n              canExceedCap: singularityData[k].canExceedCap,\n              specialCostForm: singularityData[k].specialCostForm,\n              qualityOfLife: singularityData[k].qualityOfLife,\n              cacheUpdates: singularityData[k].cacheUpdates\n            }, k)\n          ]\n        })\n      )\n    )\n    .default(() => JSON.parse(JSON.stringify(blankSave.singularityUpgrades))),\n  octeractUpgrades: z.record(z.string(), singularityUpgradeSchema('octeractsInvested'))\n    .transform((upgrades) =>\n      Object.fromEntries(\n        Object.keys(octeractData).map((k) => {\n          const { level, octeractsInvested, toggleBuy, freeLevels } = upgrades[k] ?? octeractData[k]\n\n          return [\n            k,\n            new OcteractUpgrade({\n              maxLevel: octeractData[k].maxLevel,\n              costPerLevel: octeractData[k].costPerLevel,\n              level: level as number,\n              octeractsInvested,\n              toggleBuy: toggleBuy as number,\n              effect: octeractData[k].effect,\n              costFormula: octeractData[k].costFormula,\n              freeLevels: freeLevels as number,\n              qualityOfLife: octeractData[k].qualityOfLife,\n              cacheUpdates: octeractData[k].cacheUpdates\n            }, k)\n          ]\n        })\n      )\n    )\n    .default(() => JSON.parse(JSON.stringify(blankSave.octeractUpgrades))),\n\n  dailyCodeUsed: z.boolean().default(() => blankSave.dailyCodeUsed),\n  hepteractAutoCraftPercentage: z.number().default(() => blankSave.hepteractAutoCraftPercentage),\n  octeractTimer: z.number().default(() => blankSave.octeractTimer),\n  insideSingularityChallenge: z.boolean().default(() => blankSave.insideSingularityChallenge),\n\n  singularityChallenges: z.record(\n    z.string(),\n    z.object({\n      completions: z.number(),\n      highestSingularityCompleted: z.number(),\n      enabled: z.boolean()\n    })\n  )\n    .transform((upgrades) =>\n      Object.fromEntries(\n        Object.keys(blankSave.singularityChallenges).map((k) => {\n          const { completions, highestSingularityCompleted, enabled } = upgrades[k]\n            ?? blankSave.singularityChallenges[k]\n\n          return [\n            k,\n            new SingularityChallenge({\n              baseReq: singularityChallengeData[k].baseReq,\n              completions,\n              maxCompletions: singularityChallengeData[k].maxCompletions,\n              unlockSingularity: singularityChallengeData[k].unlockSingularity,\n              HTMLTag: singularityChallengeData[k].HTMLTag,\n              highestSingularityCompleted,\n              enabled,\n              resetTime: singularityChallengeData[k].resetTime,\n              singularityRequirement: singularityChallengeData[k].singularityRequirement,\n              scalingrewardcount: singularityChallengeData[k].scalingrewardcount,\n              uniquerewardcount: singularityChallengeData[k].uniquerewardcount,\n              effect: singularityChallengeData[k].effect,\n              cacheUpdates: singularityChallengeData[k].cacheUpdates\n            }, k)\n          ]\n        })\n      )\n    )\n    .default(() => JSON.parse(JSON.stringify(blankSave.singularityChallenges))),\n\n  ambrosia: z.number().default(() => blankSave.ambrosia),\n  lifetimeAmbrosia: z.number().default(() => blankSave.lifetimeAmbrosia),\n  ambrosiaRNG: z.number().default(() => blankSave.ambrosiaRNG),\n  blueberryTime: z.number().default(() => blankSave.blueberryTime),\n  visitedAmbrosiaSubtab: z.boolean().default(() => blankSave.visitedAmbrosiaSubtab),\n  spentBlueberries: z.number().default(() => blankSave.spentBlueberries),\n  // TODO: is this right?\n  blueberryUpgrades: z.record(z.string(), singularityUpgradeSchema('blueberriesInvested', 'ambrosiaInvested'))\n    .transform((upgrades) =>\n      Object.fromEntries(\n        Object.keys(blankSave.blueberryUpgrades).map((k) => {\n          const { level, ambrosiaInvested, blueberriesInvested, toggleBuy, freeLevels } = upgrades[k]\n            ?? blankSave.blueberryUpgrades[k]\n\n          return [\n            k,\n            new BlueberryUpgrade({\n              maxLevel: blueberryUpgradeData[k].maxLevel,\n              costPerLevel: blueberryUpgradeData[k].costPerLevel,\n              level: level as number,\n              ambrosiaInvested,\n              blueberriesInvested,\n              toggleBuy: toggleBuy as number,\n              blueberryCost: blueberryUpgradeData[k].blueberryCost,\n              rewards: blueberryUpgradeData[k].rewards,\n              costFormula: blueberryUpgradeData[k].costFormula,\n              freeLevels: freeLevels as number,\n              prerequisites: blueberryUpgradeData[k].prerequisites,\n              cacheUpdates: blueberryUpgradeData[k].cacheUpdates\n            }, k)\n          ]\n        })\n      )\n    )\n    .default(() => JSON.parse(JSON.stringify(blankSave.blueberryUpgrades))),\n\n  // TODO: what type?\n  blueberryLoadouts: z.record(integerStringSchema, z.any()).default(() => blankSave.blueberryLoadouts),\n  blueberryLoadoutMode: z.string().default(() => blankSave.blueberryLoadoutMode),\n\n  ultimateProgress: z.number().default(() => blankSave.ultimateProgress),\n  ultimatePixels: z.number().default(() => blankSave.ultimatePixels),\n\n  singChallengeTimer: z.number().default(() => blankSave.singChallengeTimer),\n\n  // TODO: what type?\n  caches: z.record(z.string(), z.any())\n    .transform(() => {\n      Object.values(blankSave.caches).map((cache) => cache.reset())\n      return blankSave.caches\n    })\n    .default(() => {\n      Object.values(blankSave.caches).map((cache) => cache.reset())\n      return blankSave.caches\n    }),\n\n  lastExportedSave: z.number().default(() => blankSave.lastExportedSave)\n})\n", "import { z } from 'zod'\nimport type { Player } from '../types/Synergism'\nimport { playerSchema } from './PlayerSchema'\n\nexport const playerJsonSchema = playerSchema.extend({\n  codes: z.any().transform((codes: Player['codes']) => Array.from(codes)),\n  worlds: z.any().transform((worlds: Player['worlds']) => Number(worlds)),\n  wowCubes: z.any().transform((cubes: Player['wowCubes']) => Number(cubes)),\n  wowTesseracts: z.any().transform((tesseracts: Player['wowTesseracts']) => Number(tesseracts)),\n  wowHypercubes: z.any().transform((hypercubes: Player['wowHypercubes']) => Number(hypercubes)),\n  wowPlatonicCubes: z.any().transform((cubes: Player['wowPlatonicCubes']) => Number(cubes)),\n\n  singularityUpgrades: z.any().transform((upgrades: Player['singularityUpgrades']) =>\n    Object.fromEntries(\n      Object.entries(upgrades).map(([key, value]) => {\n        return [\n          key,\n          {\n            level: value.level,\n            goldenQuarksInvested: value.goldenQuarksInvested,\n            toggleBuy: value.toggleBuy,\n            freeLevels: value.freeLevels\n          }\n        ]\n      })\n    )\n  ),\n  octeractUpgrades: z.any().transform((upgrades: Player['octeractUpgrades']) =>\n    Object.fromEntries(\n      Object.entries(upgrades).map(([key, value]) => {\n        return [\n          key,\n          {\n            level: value.level,\n            octeractsInvested: value.octeractsInvested,\n            toggleBuy: value.toggleBuy,\n            freeLevels: value.freeLevels\n          }\n        ]\n      })\n    )\n  ),\n  singularityChallenges: z.any().transform((challenges: Player['singularityChallenges']) =>\n    Object.fromEntries(\n      Object.entries(challenges).map(([key, value]) => {\n        return [\n          key,\n          {\n            completions: value.completions,\n            highestSingularityCompleted: value.highestSingularityCompleted,\n            enabled: value.enabled\n          }\n        ]\n      })\n    )\n  ),\n  blueberryUpgrades: z.any().transform((upgrades: Player['blueberryUpgrades']) =>\n    Object.fromEntries(\n      Object.entries(upgrades).map(([key, value]) => {\n        return [\n          key,\n          {\n            level: value.level,\n            ambrosiaInvested: value.ambrosiaInvested,\n            blueberriesInvested: value.blueberriesInvested,\n            toggleBuy: value.toggleBuy,\n            freeLevels: value.freeLevels\n          }\n        ]\n      })\n    )\n  ),\n\n  dayCheck: z.any().transform((dayCheck: Player['dayCheck']) => dayCheck?.toISOString() ?? null)\n})\n", "import { DOMCacheGetOrSet } from './Cache/DOM'\nimport { Synergism } from './Events'\nimport { calculateSingularityDebuff } from './singularity'\nimport { format, player } from './Synergism'\nimport { Alert, revealStuff } from './UpdateHTML'\n\nconst platonicUpgradeDesc = [\n  '+0.0090% Cubes per Corruption level per level!',\n  '+0.018% Tesseracts per Corruption level per level!',\n  '+0.054% Hypercubes per Corruption level per level!',\n  'Gain +2.4% Platonic Cubes per level! It is that simple.',\n  'C10 Exponent: 1.035 --> 1.0375, Constant tax exponent +0.10, 2x faster Constant production, +20% Quarks, +10 Reincarnation Challenge Cap, +5 Ascension Challenge Cap, 2x Obtainium and Offerings, ^1.10 coin gain in C15, as well +1 Corruption Cap Level!',\n  'Multiplies Viscosity exponent by (1 + level/30), capacity of ^1 on Multipliers and Accelerators.',\n  'Raises speed below 1x to the power of ^(1 - level/30).',\n  'Divides Hyperchallenged by (1 + 0.4 * level), with a minimum 1x Challenge requirement multiplier!',\n  'Raise Obtainium to the power of (1+(0.09*log10(Obtainium owned))) and add another x2.5 multiplier (Uncorruptable), up until 1e100 Obtainium!',\n  'C10 Exponent: 1.0375 --> 1.04, Constant tax exponent +0.20, 10x faster Constant production, +25% Quarks, +10 Reincarnation Challenge Cap, +5 Ascension Challenge Cap, 3.5x Obtainium and Offerings, 2x All Cubes, ^1.25 ant exponent in C15, +1 Corruption Cap Level again!',\n  'With this upgrade, you will gain diamonds equal to particle gain on Reincarnation while using Market Deflation 11 or higher! Does not work with Cube upgrade [3x8]!',\n  'Gain (1 + lvl/100)x Ant multiplier per Challenge completion, ignoring corruptions to Ants.',\n  'Effect of Drought is raised to the power of 0.5.',\n  'Reduce the effect of Financial Recession in Challenge 15, multiplying the coin exponent by 1.55.',\n  'You begin to find the start of the abyss. Coin Exponent +0.10 in Challenge 15, Challenge 15 Score +25%, Ascension Speed +0.2% per Corruption Level (Max: 20%), +1% all Cube types per C9 Completion (Multiplicative), +30% Quarks, 1e250x Tesseract Building Multiplier, 2x Ascension Count, +30 Reincarnation Challenge Cap, +20 Ascension Challenge Cap, 6x Offerings and Obtainium (Uncorruptable)! Talk about a deep dive.',\n  'Increase powder conversion rate by 1% per level, gain +2% Ascension count per level and gain up to 2% more Ascension count per level based on powder, up to 100,000. This will also multiply Tesseract Building production by (Powder + 1)^(10 * level), uncapped.',\n  'If Viscosity Corruption is set to level 10 or higher, score multiplier is raised by an exponent. That exponent is 3 + 0.04 per level of this upgrade.',\n  'Raise the base percentage of Constant Upgrade 1 by 0.1% and increase the base percentage cap of Constant Upgrade 2 by 0.3% per level!',\n  'The diminishing return power on Chronos Hepteract changes from 0.166 to (0.166 + 0.00133 * level) [Max of 0.2333].',\n  'You know, maybe some things should be left unbought.'\n]\n\nexport interface IPlatBaseCost {\n  obtainium: number\n  offerings: number\n  cubes: number\n  tesseracts: number\n  hypercubes: number\n  platonics: number\n  abyssals: number\n  maxLevel: number\n  priceMult?: number\n}\n\nexport const platUpgradeBaseCosts: Record<number, IPlatBaseCost> = {\n  1: {\n    obtainium: 1e70,\n    offerings: 1e45,\n    cubes: 1e13,\n    tesseracts: 1e6,\n    hypercubes: 1e5,\n    platonics: 1e4,\n    abyssals: 0,\n    maxLevel: 300,\n    priceMult: 2\n  },\n  2: {\n    obtainium: 3e70,\n    offerings: 2e45,\n    cubes: 1e11,\n    tesseracts: 1e8,\n    hypercubes: 1e5,\n    platonics: 1e4,\n    abyssals: 0,\n    maxLevel: 300,\n    priceMult: 2\n  },\n  3: {\n    obtainium: 1e71,\n    offerings: 4e45,\n    cubes: 1e11,\n    tesseracts: 1e6,\n    hypercubes: 1e7,\n    platonics: 1e4,\n    abyssals: 0,\n    maxLevel: 300,\n    priceMult: 2\n  },\n  4: {\n    obtainium: 4e71,\n    offerings: 1e46,\n    cubes: 1e12,\n    tesseracts: 1e7,\n    hypercubes: 1e6,\n    platonics: 1e6,\n    abyssals: 0,\n    maxLevel: 300,\n    priceMult: 2\n  },\n  5: {\n    obtainium: 1e80,\n    offerings: 1e60,\n    cubes: 1e14,\n    tesseracts: 1e9,\n    hypercubes: 1e8,\n    platonics: 1e7,\n    abyssals: 0,\n    maxLevel: 1\n  },\n  6: {\n    obtainium: 1e82,\n    offerings: 1e61,\n    cubes: 1e15,\n    tesseracts: 1e9,\n    hypercubes: 1e8,\n    platonics: 1e7,\n    abyssals: 0,\n    maxLevel: 10\n  },\n  7: {\n    obtainium: 1e84,\n    offerings: 3e62,\n    cubes: 2e15,\n    tesseracts: 2e9,\n    hypercubes: 2e8,\n    platonics: 1.5e7,\n    abyssals: 0,\n    maxLevel: 15\n  },\n  8: {\n    obtainium: 1e87,\n    offerings: 1e64,\n    cubes: 4e15,\n    tesseracts: 4e9,\n    hypercubes: 4e8,\n    platonics: 3e7,\n    abyssals: 0,\n    maxLevel: 5\n  },\n  9: {\n    obtainium: 1e90,\n    offerings: 1e66,\n    cubes: 1e16,\n    tesseracts: 1e10,\n    hypercubes: 1e9,\n    platonics: 5e7,\n    abyssals: 0,\n    maxLevel: 1\n  },\n  10: {\n    obtainium: 1e93,\n    offerings: 1e68,\n    cubes: 1e18,\n    tesseracts: 1e12,\n    hypercubes: 1e11,\n    platonics: 1e9,\n    abyssals: 0,\n    maxLevel: 1\n  },\n  11: {\n    obtainium: 2e96,\n    offerings: 1e70,\n    cubes: 2e17,\n    tesseracts: 2e11,\n    hypercubes: 2e10,\n    platonics: 2e8,\n    abyssals: 0,\n    maxLevel: 1\n  },\n  12: {\n    obtainium: 1e100,\n    offerings: 1e72,\n    cubes: 1e18,\n    tesseracts: 1e12,\n    hypercubes: 1e11,\n    platonics: 1e9,\n    abyssals: 0,\n    maxLevel: 10\n  },\n  13: {\n    obtainium: 2e104,\n    offerings: 1e74,\n    cubes: 2e19,\n    tesseracts: 4e12,\n    hypercubes: 4e11,\n    platonics: 4e9,\n    abyssals: 0,\n    maxLevel: 1\n  },\n  14: {\n    obtainium: 1e108,\n    offerings: 1e77,\n    cubes: 4e20,\n    tesseracts: 1e13,\n    hypercubes: 1e12,\n    platonics: 1e10,\n    abyssals: 0,\n    maxLevel: 1\n  },\n  15: {\n    obtainium: 1e115,\n    offerings: 1e80,\n    cubes: 1e23,\n    tesseracts: 1e15,\n    hypercubes: 1e14,\n    platonics: 1e12,\n    abyssals: 1,\n    maxLevel: 1\n  },\n  16: {\n    obtainium: 1e140,\n    offerings: 1e110,\n    cubes: 0,\n    tesseracts: 0,\n    hypercubes: 2.5e15,\n    platonics: 0,\n    abyssals: 0,\n    maxLevel: 100,\n    priceMult: 10\n  },\n  17: {\n    obtainium: 1e145,\n    offerings: 1e113,\n    cubes: 0,\n    tesseracts: 0,\n    hypercubes: 1e19,\n    platonics: 0,\n    abyssals: 2,\n    maxLevel: 20,\n    priceMult: 10\n  },\n  18: {\n    obtainium: 1e150,\n    offerings: 1e116,\n    cubes: 0,\n    tesseracts: 0,\n    hypercubes: 1e19,\n    platonics: 0,\n    abyssals: 4,\n    maxLevel: 40,\n    priceMult: 500\n  },\n  19: {\n    obtainium: 1e160,\n    offerings: 1e121,\n    cubes: 0,\n    tesseracts: 0,\n    hypercubes: 1e21,\n    platonics: 0,\n    abyssals: 64,\n    maxLevel: 50,\n    priceMult: 200\n  },\n  20: {\n    obtainium: 1e180,\n    offerings: 1e130,\n    cubes: 1e45,\n    tesseracts: 1e28,\n    hypercubes: 1e25,\n    platonics: 1e25,\n    abyssals: Math.pow(2, 30) - 1,\n    maxLevel: 1\n  }\n}\n\nconst checkPlatonicUpgrade = (\n  index: number,\n  auto = false\n): Record<keyof (IPlatBaseCost & { canBuy: boolean }), boolean> => {\n  let checksum = 0\n  const resources = ['obtainium', 'offerings', 'cubes', 'tesseracts', 'hypercubes', 'platonics', 'abyssals'] as const\n  const resourceNames = [\n    'researchPoints',\n    'runeshards',\n    'wowCubes',\n    'wowTesseracts',\n    'wowHypercubes',\n    'wowPlatonicCubes',\n    'wowAbyssals'\n  ] as const\n  const checks: Record<string, boolean> = {\n    obtainium: false,\n    offerings: false,\n    cubes: false,\n    tesseracts: false,\n    hypercubes: false,\n    platonics: false,\n    abyssals: false,\n    canBuy: false\n  }\n  let priceMultiplier = 1\n  if (platUpgradeBaseCosts[index].priceMult) {\n    priceMultiplier = Math.pow(\n      platUpgradeBaseCosts[index].priceMult!,\n      Math.pow(player.platonicUpgrades[index] / (platUpgradeBaseCosts[index].maxLevel - 1), 1.25)\n    )\n  }\n  priceMultiplier *= calculateSingularityDebuff('Platonic Costs')\n\n  for (let i = 0; i < resources.length - 1; i++) {\n    if (auto && (resources[i] === 'obtainium' || resources[i] === 'offerings')) {\n      checksum++\n      checks[resources[i]] = true\n    } else if (\n      Math.floor(platUpgradeBaseCosts[index][resources[i]] * priceMultiplier) <= (player[resourceNames[i]] as number)\n    ) {\n      checksum++\n      checks[resources[i]] = true\n    }\n  }\n\n  if (\n    player.hepteractCrafts.abyss.BAL >= Math.floor(platUpgradeBaseCosts[index].abyssals * priceMultiplier)\n    || platUpgradeBaseCosts[index].abyssals === 0\n  ) {\n    checksum++\n    checks.abyssals = true\n  }\n\n  if (checksum === resources.length && player.platonicUpgrades[index] < platUpgradeBaseCosts[index].maxLevel) {\n    checks.canBuy = true\n  }\n  return checks\n}\n\nexport const createPlatonicDescription = (index: number) => {\n  let maxLevelAppend = ''\n  if (player.platonicUpgrades[index] === platUpgradeBaseCosts[index].maxLevel) {\n    maxLevelAppend = ' [MAX]'\n  }\n  const resourceCheck = checkPlatonicUpgrade(index)\n\n  let priceMultiplier = 1\n  if (platUpgradeBaseCosts[index].priceMult) {\n    priceMultiplier = Math.pow(\n      platUpgradeBaseCosts[index].priceMult!,\n      Math.pow(player.platonicUpgrades[index] / (platUpgradeBaseCosts[index].maxLevel - 1), 1.25)\n    )\n  }\n  priceMultiplier *= calculateSingularityDebuff('Platonic Costs')\n\n  DOMCacheGetOrSet('platonicUpgradeDescription').textContent = platonicUpgradeDesc[index - 1]\n  DOMCacheGetOrSet('platonicUpgradeLevel').textContent = `Level: ${format(player.platonicUpgrades[index])}/${\n    format(platUpgradeBaseCosts[index].maxLevel)\n  }${maxLevelAppend}`\n  DOMCacheGetOrSet('platonicOfferingCost').textContent = `${format(player.runeshards)}/${\n    format(platUpgradeBaseCosts[index].offerings * priceMultiplier)\n  } Offerings`\n  DOMCacheGetOrSet('platonicObtainiumCost').textContent = `${format(player.researchPoints)}/${\n    format(platUpgradeBaseCosts[index].obtainium * priceMultiplier)\n  } Obtainium`\n  DOMCacheGetOrSet('platonicCubeCost').textContent = `${format(player.wowCubes)}/${\n    format(platUpgradeBaseCosts[index].cubes * priceMultiplier)\n  } Wow! Cubes`\n  DOMCacheGetOrSet('platonicTesseractCost').textContent = `${format(player.wowTesseracts)}/${\n    format(platUpgradeBaseCosts[index].tesseracts * priceMultiplier)\n  } Wow! Tesseracts`\n  DOMCacheGetOrSet('platonicHypercubeCost').textContent = `${format(player.wowHypercubes)}/${\n    format(platUpgradeBaseCosts[index].hypercubes * priceMultiplier)\n  } Wow! Hypercubes`\n  DOMCacheGetOrSet('platonicPlatonicCost').textContent = `${format(player.wowPlatonicCubes)}/${\n    format(platUpgradeBaseCosts[index].platonics * priceMultiplier)\n  } Platonic! Cubes`\n  DOMCacheGetOrSet('platonicHepteractCost').textContent = `${format(player.hepteractCrafts.abyss.BAL)}/${\n    format(Math.floor(platUpgradeBaseCosts[index].abyssals * priceMultiplier), 0, true)\n  } Hepteracts of the Abyss`\n\n  resourceCheck.offerings\n    ? DOMCacheGetOrSet('platonicOfferingCost').style.color = 'lime'\n    : DOMCacheGetOrSet('platonicOfferingCost').style.color = 'var(--crimson-text-color)'\n\n  resourceCheck.obtainium\n    ? DOMCacheGetOrSet('platonicObtainiumCost').style.color = 'lime'\n    : DOMCacheGetOrSet('platonicObtainiumCost').style.color = 'var(--crimson-text-color)'\n\n  resourceCheck.cubes\n    ? DOMCacheGetOrSet('platonicCubeCost').style.color = 'lime'\n    : DOMCacheGetOrSet('platonicCubeCost').style.color = 'var(--crimson-text-color)'\n\n  resourceCheck.tesseracts\n    ? DOMCacheGetOrSet('platonicTesseractCost').style.color = 'lime'\n    : DOMCacheGetOrSet('platonicTesseractCost').style.color = 'var(--crimson-text-color)'\n\n  resourceCheck.hypercubes\n    ? DOMCacheGetOrSet('platonicHypercubeCost').style.color = 'lime'\n    : DOMCacheGetOrSet('platonicHypercubeCost').style.color = 'var(--crimson-text-color)'\n\n  resourceCheck.platonics\n    ? DOMCacheGetOrSet('platonicPlatonicCost').style.color = 'lime'\n    : DOMCacheGetOrSet('platonicPlatonicCost').style.color = 'var(--crimson-text-color)'\n\n  resourceCheck.abyssals\n    ? DOMCacheGetOrSet('platonicHepteractCost').style.color = 'lime'\n    : DOMCacheGetOrSet('platonicHepteractCost').style.color = 'var(--crimson-text-color)'\n\n  if (player.platonicUpgrades[index] < platUpgradeBaseCosts[index].maxLevel) {\n    DOMCacheGetOrSet('platonicUpgradeLevel').style.color = 'cyan'\n\n    if (resourceCheck.canBuy) {\n      DOMCacheGetOrSet('platonicCanBuy').style.color = 'gold'\n      DOMCacheGetOrSet('platonicCanBuy').textContent = '===Affordable! Click to buy!==='\n    } else {\n      DOMCacheGetOrSet('platonicCanBuy').style.color = 'var(--crimson-text-color)'\n      DOMCacheGetOrSet('platonicCanBuy').textContent = '===You cannot afford this!==='\n    }\n  }\n\n  if (player.platonicUpgrades[index] === platUpgradeBaseCosts[index].maxLevel) {\n    DOMCacheGetOrSet('platonicUpgradeLevel').style.color = 'gold'\n    DOMCacheGetOrSet('platonicCanBuy').style.color = 'var(--orchid-text-color)'\n    DOMCacheGetOrSet('platonicCanBuy').textContent = '===Maxed==='\n  }\n}\n\nexport const updatePlatonicUpgradeBG = (i: number) => {\n  const a = DOMCacheGetOrSet(`platUpg${i}`)\n\n  const maxLevel = platUpgradeBaseCosts[i].maxLevel\n  if (player.platonicUpgrades[i] === 0) {\n    a.style.backgroundColor = ''\n  } else if (player.platonicUpgrades[i] > 0 && player.platonicUpgrades[i] < maxLevel) {\n    a.style.backgroundColor = 'purple'\n  } else if (player.platonicUpgrades[i] === maxLevel) {\n    a.style.backgroundColor = 'green'\n  }\n}\n\nexport const buyPlatonicUpgrades = (index: number, auto = false) => {\n  while (index > 0) {\n    const resourceCheck = checkPlatonicUpgrade(index, auto)\n    let priceMultiplier = 1\n    if (platUpgradeBaseCosts[index].priceMult) {\n      priceMultiplier = Math.pow(\n        platUpgradeBaseCosts[index].priceMult!,\n        Math.pow(player.platonicUpgrades[index] / (platUpgradeBaseCosts[index].maxLevel - 1), 1.25)\n      )\n    }\n    priceMultiplier *= calculateSingularityDebuff('Platonic Costs')\n\n    if (resourceCheck.canBuy) {\n      player.platonicUpgrades[index] += 1\n      // Auto Platonic Upgrades no longer claim the cost of Offerings and Obtainiums\n      if (!auto) {\n        player.researchPoints -= Math.floor(platUpgradeBaseCosts[index].obtainium * priceMultiplier)\n        player.runeshards -= Math.floor(platUpgradeBaseCosts[index].offerings * priceMultiplier)\n      }\n      player.wowCubes.sub(Math.floor(platUpgradeBaseCosts[index].cubes * priceMultiplier))\n      player.wowTesseracts.sub(Math.floor(platUpgradeBaseCosts[index].tesseracts * priceMultiplier))\n      player.wowHypercubes.sub(Math.floor(platUpgradeBaseCosts[index].hypercubes * priceMultiplier))\n      player.wowPlatonicCubes.sub(Math.floor(platUpgradeBaseCosts[index].platonics * priceMultiplier))\n      player.hepteractCrafts.abyss.spend(Math.floor(platUpgradeBaseCosts[index].abyssals * priceMultiplier))\n\n      Synergism.emit('boughtPlatonicUpgrade', platUpgradeBaseCosts[index])\n      if (index === 20 && !auto && player.singularityCount === 0) {\n        void Alert(\n          'While I strongly recommended you not to buy this, you did it anyway. For that, you have unlocked the rune of Grandiloquence, for you are a richass.'\n        )\n      }\n    } else {\n      break\n    }\n\n    if (player.platonicUpgrades[index] === platUpgradeBaseCosts[index].maxLevel || player.singularityCount === 0) {\n      break\n    }\n  }\n  createPlatonicDescription(index)\n  updatePlatonicUpgradeBG(index)\n  revealStuff()\n}\n\nexport const autoBuyPlatonicUpgrades = () => {\n  if (\n    player.autoPlatonicUpgradesToggle\n    && ((player.highestSingularityCount >= 100 && player.insideSingularityChallenge)\n      || player.highestSingularityCount >= 200)\n  ) {\n    for (let i = 1; i < player.platonicUpgrades.length; i++) {\n      if (player.platonicUpgrades[i] < platUpgradeBaseCosts[i].maxLevel) {\n        const resourceCheck = checkPlatonicUpgrade(i, true)\n        if (resourceCheck.canBuy) {\n          buyPlatonicUpgrades(i, true)\n        }\n      }\n    }\n  }\n}\n", "import { generateUniqueNumber } from 'fast-unique-numbers';\nimport { IClearRequest, ISetNotification, IWorkerEvent, TTimerType } from 'worker-timers-worker';\nimport { isCallNotification } from './guards/call-notification';\nimport { isClearResponse } from './guards/clear-response';\n\nexport const load = (url: string) => {\n    // Prefilling the Maps with a function indexed by zero is necessary to be compliant with the specification.\n    const scheduledIntervalFunctions: Map<number, number | Function> = new Map([[0, () => {}]]); // tslint:disable-line no-empty\n    const scheduledTimeoutFunctions: Map<number, number | Function> = new Map([[0, () => {}]]); // tslint:disable-line no-empty\n    const unrespondedRequests: Map<number, { timerId: number; timerType: TTimerType }> = new Map();\n\n    const worker = new Worker(url);\n\n    worker.addEventListener('message', ({ data }: IWorkerEvent) => {\n        if (isCallNotification(data)) {\n            const {\n                params: { timerId, timerType }\n            } = data;\n\n            if (timerType === 'interval') {\n                const idOrFunc = scheduledIntervalFunctions.get(timerId);\n\n                if (typeof idOrFunc === 'number') {\n                    const timerIdAndTimerType = unrespondedRequests.get(idOrFunc);\n\n                    if (\n                        timerIdAndTimerType === undefined ||\n                        timerIdAndTimerType.timerId !== timerId ||\n                        timerIdAndTimerType.timerType !== timerType\n                    ) {\n                        throw new Error('The timer is in an undefined state.');\n                    }\n                } else if (typeof idOrFunc !== 'undefined') {\n                    idOrFunc();\n                } else {\n                    throw new Error('The timer is in an undefined state.');\n                }\n            } else if (timerType === 'timeout') {\n                const idOrFunc = scheduledTimeoutFunctions.get(timerId);\n\n                if (typeof idOrFunc === 'number') {\n                    const timerIdAndTimerType = unrespondedRequests.get(idOrFunc);\n\n                    if (\n                        timerIdAndTimerType === undefined ||\n                        timerIdAndTimerType.timerId !== timerId ||\n                        timerIdAndTimerType.timerType !== timerType\n                    ) {\n                        throw new Error('The timer is in an undefined state.');\n                    }\n                } else if (typeof idOrFunc !== 'undefined') {\n                    idOrFunc();\n\n                    // A timeout can be savely deleted because it is only called once.\n                    scheduledTimeoutFunctions.delete(timerId);\n                } else {\n                    throw new Error('The timer is in an undefined state.');\n                }\n            }\n        } else if (isClearResponse(data)) {\n            const { id } = data;\n\n            const timerIdAndTimerType = unrespondedRequests.get(id);\n\n            if (timerIdAndTimerType === undefined) {\n                throw new Error('The timer is in an undefined state.');\n            }\n\n            const { timerId, timerType } = timerIdAndTimerType;\n\n            unrespondedRequests.delete(id);\n\n            if (timerType === 'interval') {\n                scheduledIntervalFunctions.delete(timerId);\n            } else {\n                scheduledTimeoutFunctions.delete(timerId);\n            }\n        } else {\n            const {\n                error: { message }\n            } = data;\n\n            throw new Error(message);\n        }\n    });\n\n    const clearInterval = (timerId: number) => {\n        const id = generateUniqueNumber(unrespondedRequests);\n\n        unrespondedRequests.set(id, { timerId, timerType: 'interval' });\n        scheduledIntervalFunctions.set(timerId, id);\n\n        worker.postMessage(<IClearRequest>{\n            id,\n            method: 'clear',\n            params: { timerId, timerType: 'interval' }\n        });\n    };\n\n    const clearTimeout = (timerId: number) => {\n        const id = generateUniqueNumber(unrespondedRequests);\n\n        unrespondedRequests.set(id, { timerId, timerType: 'timeout' });\n        scheduledTimeoutFunctions.set(timerId, id);\n\n        worker.postMessage(<IClearRequest>{\n            id,\n            method: 'clear',\n            params: { timerId, timerType: 'timeout' }\n        });\n    };\n\n    const setInterval = (func: Function, delay = 0) => {\n        const timerId = generateUniqueNumber(scheduledIntervalFunctions);\n\n        scheduledIntervalFunctions.set(timerId, () => {\n            func();\n\n            // Doublecheck if the interval should still be rescheduled because it could have been cleared inside of func().\n            if (typeof scheduledIntervalFunctions.get(timerId) === 'function') {\n                worker.postMessage(<ISetNotification>{\n                    id: null,\n                    method: 'set',\n                    params: {\n                        delay,\n                        now: performance.now(),\n                        timerId,\n                        timerType: 'interval'\n                    }\n                });\n            }\n        });\n\n        worker.postMessage(<ISetNotification>{\n            id: null,\n            method: 'set',\n            params: {\n                delay,\n                now: performance.now(),\n                timerId,\n                timerType: 'interval'\n            }\n        });\n\n        return timerId;\n    };\n\n    const setTimeout = (func: Function, delay = 0) => {\n        const timerId = generateUniqueNumber(scheduledTimeoutFunctions);\n\n        scheduledTimeoutFunctions.set(timerId, func);\n\n        worker.postMessage(<ISetNotification>{\n            id: null,\n            method: 'set',\n            params: {\n                delay,\n                now: performance.now(),\n                timerId,\n                timerType: 'timeout'\n            }\n        });\n\n        return timerId;\n    };\n\n    return {\n        clearInterval,\n        clearTimeout,\n        setInterval,\n        setTimeout\n    };\n};\n", "import { ICallNotification, TWorkerMessage } from 'worker-timers-worker';\n\nexport const isCallNotification = (message: TWorkerMessage): message is ICallNotification => {\n    return (<ICallNotification>message).method !== undefined && (<ICallNotification>message).method === 'call';\n};\n", "import { IClearResponse, TWorkerMessage } from 'worker-timers-worker';\n\nexport const isClearResponse = (message: TWorkerMessage): message is IClearResponse => {\n    return (<IClearResponse>message).error === null && typeof message.id === 'number';\n};\n", "export const createLoadOrReturnBroker = <Broker>(loadBroker: (url: string) => Broker, worker: string) => {\n    let broker: null | Broker = null;\n\n    return () => {\n        if (broker !== null) {\n            return broker;\n        }\n\n        const blob = new Blob([worker], { type: 'application/javascript; charset=utf-8' });\n        const url = URL.createObjectURL(blob);\n\n        broker = loadBroker(url);\n\n        // Bug #1: Edge up until v18 didn't like the URL to be revoked directly.\n        setTimeout(() => URL.revokeObjectURL(url));\n\n        return broker;\n    };\n};\n", "// This is the minified and stringified code of the worker-timers-worker package.\nexport const worker = `(()=>{\"use strict\";const e=new Map,t=new Map,r=(e,t)=>{let r,o;const i=performance.now();r=i,o=e-Math.max(0,i-t);return{expected:r+o,remainingDelay:o}},o=(e,t,r,i)=>{const s=performance.now();s>r?postMessage({id:null,method:\"call\",params:{timerId:t,timerType:i}}):e.set(t,setTimeout(o,r-s,e,t,r,i))};addEventListener(\"message\",(i=>{let{data:s}=i;try{if(\"clear\"===s.method){const{id:r,params:{timerId:o,timerType:i}}=s;if(\"interval\"===i)(t=>{const r=e.get(t);if(void 0===r)throw new Error('There is no interval scheduled with the given id \"'.concat(t,'\".'));clearTimeout(r),e.delete(t)})(o),postMessage({error:null,id:r});else{if(\"timeout\"!==i)throw new Error('The given type \"'.concat(i,'\" is not supported'));(e=>{const r=t.get(e);if(void 0===r)throw new Error('There is no timeout scheduled with the given id \"'.concat(e,'\".'));clearTimeout(r),t.delete(e)})(o),postMessage({error:null,id:r})}}else{if(\"set\"!==s.method)throw new Error('The given method \"'.concat(s.method,'\" is not supported'));{const{params:{delay:i,now:n,timerId:a,timerType:d}}=s;if(\"interval\"===d)((t,i,s)=>{const{expected:n,remainingDelay:a}=r(t,s);e.set(i,setTimeout(o,a,e,i,n,\"interval\"))})(i,a,n);else{if(\"timeout\"!==d)throw new Error('The given type \"'.concat(d,'\" is not supported'));((e,i,s)=>{const{expected:n,remainingDelay:a}=r(e,s);t.set(i,setTimeout(o,a,t,i,n,\"timeout\"))})(i,a,n)}}}}catch(e){postMessage({error:{message:e.message},id:s.id,result:null})}}))})();`; // tslint:disable-line:max-line-length\n", "import { load } from 'worker-timers-broker';\nimport { createLoadOrReturnBroker } from './factories/load-or-return-broker';\nimport { worker } from './worker/worker';\n\nconst loadOrReturnBroker = createLoadOrReturnBroker(load, worker);\n\nexport const clearInterval: ReturnType<typeof load>['clearInterval'] = (timerId) => loadOrReturnBroker().clearInterval(timerId);\n\nexport const clearTimeout: ReturnType<typeof load>['clearTimeout'] = (timerId) => loadOrReturnBroker().clearTimeout(timerId);\n\nexport const setInterval: ReturnType<typeof load>['setInterval'] = (...args) => loadOrReturnBroker().setInterval(...args);\n\nexport const setTimeout: ReturnType<typeof load>['setTimeout'] = (...args) => loadOrReturnBroker().setTimeout(...args);\n", "import * as workerTimers from 'worker-timers'\n\ninterface ActiveTimer {\n  id: number\n  type: 'interval' | 'timeout'\n}\n\nconst activeTimers: ActiveTimer[] = []\n\nexport const setInterval: typeof workerTimers['setInterval'] = (fn, delay) => {\n  const timer = workerTimers.setInterval(fn, delay)\n  activeTimers.push({ id: timer, type: 'interval' })\n  return timer\n}\n\nexport const clearInterval: typeof workerTimers['clearInterval'] = (timerId) => {\n  for (const timer of activeTimers) {\n    if (timer.type === 'interval' && timer.id === timerId) {\n      workerTimers.clearInterval(timerId)\n      activeTimers.splice(activeTimers.indexOf(timer), 1)\n      return\n    }\n  }\n}\n\nexport const setTimeout: typeof workerTimers['setTimeout'] = (fn, delay) => {\n  const timer = workerTimers.setTimeout(fn, delay)\n  activeTimers.push({ id: timer, type: 'timeout' })\n  return timer\n}\n\nexport const clearTimeout: typeof workerTimers['clearTimeout'] = (timerId) => {\n  for (const timer of activeTimers) {\n    if (timer.type === 'timeout' && timer.id === timerId) {\n      workerTimers.clearTimeout(timerId)\n      activeTimers.splice(activeTimers.indexOf(timer), 1)\n      return\n    }\n  }\n}\n\nexport const clearTimers = (): void => {\n  for (const { id, type } of activeTimers) {\n    if (type === 'interval') {\n      clearInterval(id)\n    } else {\n      clearTimeout(id)\n    }\n  }\n}\n", "import Decimal from 'break_infinity.js'\nimport i18next from 'i18next'\nimport { achievementaward, ascensionAchievementCheck, challengeachievementcheck } from './Achievements'\nimport type { BlueberryLoadoutMode } from './BlueberryUpgrades'\nimport { buyTesseractBuilding, calculateTessBuildingsInBudget } from './Buy'\nimport type { TesseractBuildings } from './Buy'\nimport { DOMCacheGetOrSet } from './Cache/DOM'\nimport {\n  calcAscensionCount,\n  CalcCorruptionStuff,\n  calculateAnts,\n  calculateAntSacrificeELO,\n  calculateCubeBlessings,\n  calculateGoldenQuarkGain,\n  calculateObtainium,\n  calculateOfferings,\n  calculatePowderConversion,\n  calculateRuneLevels,\n  calculateTalismanEffects\n} from './Calculate'\nimport { challengeRequirement } from './Challenges'\nimport { corrChallengeMinimum, corruptionStatsUpdate, maxCorruptionLevel } from './Corruptions'\nimport { WowCubes } from './CubeExperimental'\nimport { autoBuyCubeUpgrades, awardAutosCookieUpgrade, updateCubeUpgradeBG } from './Cubes'\nimport { Synergism } from './Events'\nimport { getAutoHepteractCrafts } from './Hepteracts'\nimport type {\n  ResetHistoryEntryAscend,\n  ResetHistoryEntryPrestige,\n  ResetHistoryEntryReincarnate,\n  ResetHistoryEntrySingularity,\n  ResetHistoryEntryTranscend\n} from './History'\nimport { calculateHypercubeBlessings } from './Hypercubes'\nimport { importSynergism } from './ImportExport'\nimport { autoBuyPlatonicUpgrades, updatePlatonicUpgradeBG } from './Platonic'\nimport { buyResearch, updateResearchBG } from './Research'\nimport { resetofferings } from './Runes'\nimport { playerJsonSchema } from './saves/PlayerJsonSchema'\nimport { resetShopUpgrades, shopData } from './Shop'\nimport { calculateSingularityDebuff, getFastForwardTotalMultiplier } from './singularity'\nimport { blankSave, format, player, saveSynergy, updateAll, updateEffectiveLevelMult } from './Synergism'\nimport { changeSubTab, changeTab, Tabs } from './Tabs'\nimport { updateTalismanAppearance, updateTalismanInventory } from './Talismans'\nimport { calculateTesseractBlessings } from './Tesseracts'\nimport { IconSets } from './Themes'\nimport { clearInterval, setInterval } from './Timers'\nimport { toggleAutoChallengeModeText } from './Toggles'\nimport type { OneToFive, Player, resetNames } from './types/Synergism'\nimport { Alert, revealStuff, updateChallengeDisplay } from './UpdateHTML'\nimport { upgradeupdate } from './Upgrades'\nimport { assert, getElementById } from './Utility'\nimport { updateClassList } from './Utility'\nimport { sumContents } from './Utility'\nimport { Globals as G } from './Variables'\n\nlet repeatreset: ReturnType<typeof setTimeout>\n\nexport const resetrepeat = (input: resetNames) => {\n  clearInterval(repeatreset)\n  repeatreset = setInterval(() => resetdetails(input), 50)\n}\n\nexport const resetdetails = (input: resetNames) => {\n  DOMCacheGetOrSet('resetofferings1').style.display = 'block'\n\n  const transcensionChallenge = player.currentChallenge.transcension\n  const reincarnationChallenge = player.currentChallenge.reincarnation\n\n  const offering = calculateOfferings(input)\n  const offeringImage = getElementById<HTMLImageElement>('resetofferings1')\n  const offeringText = DOMCacheGetOrSet('resetofferings2')\n  const currencyImage1 = getElementById<HTMLImageElement>('resetcurrency1')\n  const resetObtainiumImage = DOMCacheGetOrSet('resetobtainium')\n  const resetObtainiumText = DOMCacheGetOrSet('resetobtainium2')\n  const resetInfo = DOMCacheGetOrSet('resetinfo')\n  const resetCurrencyGain = DOMCacheGetOrSet('resetcurrency2')\n  if (input === 'reincarnation') {\n    resetObtainiumImage.style.display = 'block'\n    resetObtainiumText.textContent = format(Math.floor(G.obtainiumGain))\n  } else {\n    resetObtainiumImage.style.display = 'none'\n    resetObtainiumText.textContent = ''\n  }\n\n  ;(input === 'ascensionChallenge' || input === 'ascension' || input === 'singularity')\n    ? offeringImage.style.display = offeringText.style.display = 'none'\n    : offeringImage.style.display = offeringText.style.display = 'block'\n\n  switch (input) {\n    case 'prestige':\n      if (!currencyImage1.src.endsWith(`Pictures/${IconSets[player.iconSet][0]}/Diamond.png`)) {\n        currencyImage1.src = `Pictures/${IconSets[player.iconSet][0]}/Diamond.png`\n      }\n      currencyImage1.style.display = 'block'\n      resetCurrencyGain.textContent = `+${format(G.prestigePointGain)}`\n      resetInfo.textContent = i18next.t('reset.details.prestige', {\n        amount: format(player.coinsThisPrestige),\n        timeSpent: format(player.prestigecounter)\n      })\n      resetInfo.style.color = 'turquoise'\n      break\n    case 'transcension':\n      if (!currencyImage1.src.endsWith(`Pictures/${IconSets[player.iconSet][0]}/Mythos.png`)) {\n        currencyImage1.src = `Pictures/${IconSets[player.iconSet][0]}/Mythos.png`\n      }\n      currencyImage1.style.display = 'block'\n      resetCurrencyGain.textContent = `+${format(G.transcendPointGain)}`\n      resetInfo.textContent = i18next.t('reset.details.transcension', {\n        amount: format(player.coinsThisTranscension),\n        timeSpent: format(player.transcendcounter)\n      })\n      resetInfo.style.color = 'var(--orchid-text-color)'\n      break\n    case 'reincarnation':\n      if (!currencyImage1.src.endsWith(`Pictures/${IconSets[player.iconSet][0]}/Particle.png`)) {\n        currencyImage1.src = `Pictures/${IconSets[player.iconSet][0]}/Particle.png`\n      }\n      currencyImage1.style.display = 'block'\n      resetCurrencyGain.textContent = `+${format(G.reincarnationPointGain)}`\n      resetInfo.textContent = i18next.t('reset.details.reincarnation', {\n        amount: format(player.transcendShards),\n        timeSpent: format(player.reincarnationcounter)\n      })\n      resetInfo.style.color = 'limegreen'\n      break\n    case 'acceleratorBoost':\n      if (!currencyImage1.src.endsWith(`Pictures/${IconSets[player.iconSet][0]}/Diamond.png`)) {\n        currencyImage1.src = `Pictures/${IconSets[player.iconSet][0]}/Diamond.png`\n      }\n      currencyImage1.style.display = 'block'\n      resetCurrencyGain.textContent = `-${format(player.acceleratorBoostCost)}`\n      resetInfo.textContent = i18next.t('reset.details.acceleratorBoost', {\n        amount: format(player.prestigePoints),\n        required: format(player.acceleratorBoostCost)\n      })\n      resetInfo.style.color = 'cyan'\n      break\n    case 'transcensionChallenge':\n      currencyImage1.style.display = 'none'\n      resetCurrencyGain.textContent = ''\n\n      if (transcensionChallenge !== 0) {\n        resetInfo.style.color = 'aquamarine'\n        resetInfo.textContent = i18next.t('reset.details.transcensionChallenge.in', {\n          n: transcensionChallenge,\n          amount: format(player.coinsThisTranscension),\n          required: format(\n            challengeRequirement(transcensionChallenge, player.challengecompletions[transcensionChallenge])\n          ),\n          timeSpent: format(player.transcendcounter)\n        })\n      } else {\n        resetInfo.style.color = 'var(--crimson-text-color)'\n        resetInfo.textContent = i18next.t('reset.details.transcensionChallenge.out')\n      }\n      break\n    case 'reincarnationChallenge':\n      currencyImage1.style.display = 'none'\n      resetCurrencyGain.textContent = ''\n\n      if (reincarnationChallenge !== 0) {\n        const goal = reincarnationChallenge >= 9 ? 'coins' : 'transcendShards'\n\n        resetInfo.style.color = 'silver'\n        resetInfo.textContent = i18next.t(`reset.details.reincarnationChallenge.in.${goal}`, {\n          n: reincarnationChallenge,\n          amount: format(player[goal]),\n          required: format(\n            challengeRequirement(\n              reincarnationChallenge,\n              player.challengecompletions[reincarnationChallenge],\n              reincarnationChallenge\n            )\n          ),\n          timeSpent: format(player.reincarnationcounter)\n        })\n      } else {\n        resetInfo.style.color = 'var(--crimson-text-color)'\n        resetInfo.textContent = i18next.t('reset.details.reincarnationChallenge.out')\n      }\n      break\n    case 'ascensionChallenge':\n      currencyImage1.style.display = 'none'\n      resetCurrencyGain.textContent = ''\n      resetInfo.textContent = i18next.t('reset.details.ascensionChallenge')\n      resetInfo.style.color = 'gold'\n      break\n    case 'ascension':\n      currencyImage1.style.display = 'none'\n      resetCurrencyGain.textContent = ''\n      resetInfo.textContent = i18next.t('reset.details.ascension', {\n        cubeAmount: format(CalcCorruptionStuff()[4], 0, true),\n        timeSpent: format(player.ascensionCounter, 0, false),\n        realTimeSpent: format(player.ascensionCounterRealReal, 0, false)\n      })\n      resetInfo.style.color = 'gold'\n      break\n    case 'singularity':\n      currencyImage1.style.display = 'none'\n      resetCurrencyGain.textContent = ''\n      resetInfo.textContent = i18next.t('reset.details.singularity', {\n        gqAmount: format(calculateGoldenQuarkGain(), 2, true),\n        timeSpent: format(player.singularityCounter, 0, false)\n      })\n      resetInfo.style.color = 'lightgoldenrodyellow'\n  }\n  DOMCacheGetOrSet('resetofferings2').textContent = `+${format(offering)}`\n}\n\nexport const updateAutoReset = (i: number) => {\n  let value = null\n  if (i === 1) {\n    value = Number.parseFloat((DOMCacheGetOrSet('prestigeamount') as HTMLInputElement).value) || 0\n    player.prestigeamount = Math.max(value, 0)\n  } else if (i === 2) {\n    value = Number.parseFloat((DOMCacheGetOrSet('transcendamount') as HTMLInputElement).value) || 0\n    player.transcendamount = Math.max(value, 0)\n  } else if (i === 3) {\n    value = Number.parseFloat((DOMCacheGetOrSet('reincarnationamount') as HTMLInputElement).value) || 0\n    player.reincarnationamount = Math.max(value, 0)\n  } else if (i === 4) {\n    value = Math.floor(Number.parseFloat((DOMCacheGetOrSet('ascensionAmount') as HTMLInputElement).value)) || 1\n    player.autoAscendThreshold = Math.max(value, 1)\n  } else if (i === 5) {\n    value = Number.parseFloat((DOMCacheGetOrSet('autoAntSacrificeAmount') as HTMLInputElement).value) || 0\n    player.autoAntSacTimer = Math.max(value, 0)\n  }\n}\n\nexport const updateTesseractAutoBuyAmount = () => {\n  const value = Math.floor(Number.parseFloat((DOMCacheGetOrSet('tesseractAmount') as HTMLInputElement).value)) || 0\n  player.tesseractAutoBuyerAmount = Math.max(value, 0)\n}\n\nexport const updateAutoCubesOpens = (i: number) => {\n  let value = null\n  if (i === 1) {\n    value = Number((DOMCacheGetOrSet('cubeOpensInput') as HTMLInputElement).value) || 0\n    player.openCubes = Math.max(Math.min(value, 100), 0)\n  } else if (i === 2) {\n    value = Number((DOMCacheGetOrSet('tesseractsOpensInput') as HTMLInputElement).value) || 0\n    player.openTesseracts = Math.max(Math.min(value, 100), 0)\n  } else if (i === 3) {\n    value = Number((DOMCacheGetOrSet('hypercubesOpensInput') as HTMLInputElement).value) || 0\n    player.openHypercubes = Math.max(Math.min(value, 100), 0)\n  } else if (i === 4) {\n    value = Number((DOMCacheGetOrSet('platonicCubeOpensInput') as HTMLInputElement).value) || 0\n    player.openPlatonicsCubes = Math.max(Math.min(value, 100), 0)\n  }\n}\n\nconst resetAddHistoryEntry = (input: resetNames, from = 'unknown') => {\n  const offeringsGiven = calculateOfferings(input)\n  const isChallenge = ['enterChallenge', 'leaveChallenge'].includes(from)\n\n  if (input === 'prestige') {\n    const historyEntry: ResetHistoryEntryPrestige = {\n      seconds: player.prestigecounter,\n      date: Date.now(),\n      offerings: offeringsGiven,\n      kind: 'prestige',\n      diamonds: G.prestigePointGain.toString()\n    }\n\n    Synergism.emit('historyAdd', 'reset', historyEntry)\n  } else if (input === 'transcension' || input === 'transcensionChallenge') {\n    // Heuristics: transcend entries are not added when entering or leaving a challenge,\n    // unless a meaningful gain in particles was made. This prevents spam when using the challenge automator.\n    const historyEntry: ResetHistoryEntryTranscend = {\n      seconds: player.transcendcounter,\n      date: Date.now(),\n      offerings: offeringsGiven,\n      kind: 'transcend',\n      mythos: G.transcendPointGain.toString()\n    }\n\n    Synergism.emit('historyAdd', 'reset', historyEntry)\n  } else if (input === 'reincarnation' || input === 'reincarnationChallenge') {\n    // Heuristics: reincarnate entries are not added when entering or leaving a challenge,\n    // unless a meaningful gain in particles was made. This prevents spam when using the challenge automator.\n    if (!isChallenge || G.reincarnationPointGain.gte(player.reincarnationPoints.div(10))) {\n      const historyEntry: ResetHistoryEntryReincarnate = {\n        seconds: player.reincarnationcounter,\n        date: Date.now(),\n        offerings: offeringsGiven,\n        kind: 'reincarnate',\n        particles: G.reincarnationPointGain.toString(),\n        obtainium: G.obtainiumGain\n      }\n\n      Synergism.emit('historyAdd', 'reset', historyEntry)\n    }\n  } else if (input === 'ascension' || input === 'ascensionChallenge') {\n    // Ascension entries will only be logged if C10 was completed.\n    if (player.challengecompletions[10] > 0) {\n      const corruptionMetaData = CalcCorruptionStuff()\n      const historyEntry: ResetHistoryEntryAscend = {\n        seconds: player.ascensionCounter,\n        date: Date.now(),\n        c10Completions: player.challengecompletions[10],\n        usedCorruptions: player.usedCorruptions.slice(0), // shallow copy,\n        corruptionScore: corruptionMetaData[3],\n        wowCubes: corruptionMetaData[4],\n        wowTesseracts: corruptionMetaData[5],\n        wowHypercubes: corruptionMetaData[6],\n        wowPlatonicCubes: corruptionMetaData[7],\n        wowHepteracts: corruptionMetaData[8],\n        kind: 'ascend'\n      }\n\n      // If we are _leaving_ an ascension challenge, log that too.\n      if (from !== 'enterChallenge' && player.currentChallenge.ascension !== 0) {\n        historyEntry.currentChallenge = player.currentChallenge.ascension\n      }\n\n      Synergism.emit('historyAdd', 'ascend', historyEntry)\n    }\n  }\n}\n\nexport const reset = (input: resetNames, fast = false, from = 'unknown') => {\n  // Handle adding history entries before actually resetting data, to ensure optimal accuracy.\n  resetAddHistoryEntry(input, from)\n\n  resetofferings(input)\n  resetUpgrades(1)\n  player.coins = new Decimal('102')\n  player.coinsThisPrestige = new Decimal('100')\n  player.firstOwnedCoin = 0\n  player.firstGeneratedCoin = new Decimal('0')\n  player.firstCostCoin = new Decimal('100')\n  player.secondOwnedCoin = 0\n  player.secondGeneratedCoin = new Decimal('0')\n  player.secondCostCoin = new Decimal('1e3')\n  player.thirdOwnedCoin = 0\n  player.thirdGeneratedCoin = new Decimal('0')\n  player.thirdCostCoin = new Decimal('2e4')\n  player.fourthOwnedCoin = 0\n  player.fourthGeneratedCoin = new Decimal('0')\n  player.fourthCostCoin = new Decimal('4e5')\n  player.fifthOwnedCoin = 0\n  player.fifthGeneratedCoin = new Decimal('0')\n  player.fifthCostCoin = new Decimal('8e6')\n  player.firstGeneratedDiamonds = new Decimal('0')\n  player.secondGeneratedDiamonds = new Decimal('0')\n  player.thirdGeneratedDiamonds = new Decimal('0')\n  player.fourthGeneratedDiamonds = new Decimal('0')\n  player.fifthGeneratedDiamonds = new Decimal('0')\n  player.multiplierCost = new Decimal('1e4')\n  player.multiplierBought = 0\n  player.acceleratorCost = new Decimal('500')\n  player.acceleratorBought = 0\n\n  player.prestigeCount += 1\n\n  player.prestigePoints = player.prestigePoints.add(G.prestigePointGain)\n  player.prestigeShards = new Decimal('0')\n  player.prestigenoaccelerator = true\n  player.prestigenomultiplier = true\n  player.prestigenocoinupgrades = true\n\n  // Notify new players the reset\n  if (player.highestSingularityCount === 0) {\n    if (input === 'prestige' && !player.unlocks.prestige) {\n      DOMCacheGetOrSet('prestigebtn').style.boxShadow = ''\n    }\n    if (input === 'transcension' && !player.unlocks.transcend) {\n      DOMCacheGetOrSet('transcendbtn').style.boxShadow = ''\n    }\n    if (input === 'reincarnation' && !player.unlocks.reincarnate) {\n      DOMCacheGetOrSet('reincarnatebtn').style.boxShadow = ''\n    }\n    if (input === 'ascension' && player.ascensionCount === 0) {\n      DOMCacheGetOrSet('ascendbtn').style.boxShadow = ''\n    }\n  }\n\n  player.unlocks.prestige = true\n\n  if (player.prestigecounter < player.fastestprestige) {\n    player.fastestprestige = player.prestigecounter\n  }\n\n  G.prestigePointGain = new Decimal('0')\n\n  player.prestigecounter = 0\n  G.autoResetTimers.prestige = 0\n\n  G.generatorPower = new Decimal(1)\n\n  const types = [\n    'transcension',\n    'transcensionChallenge',\n    'reincarnation',\n    'reincarnationChallenge',\n    'ascension',\n    'ascensionChallenge'\n  ]\n  if (types.includes(input)) {\n    resetUpgrades(2)\n    player.coinsThisTranscension = new Decimal('100')\n    player.firstOwnedDiamonds = 0\n    player.firstCostDiamonds = new Decimal('100')\n    player.secondOwnedDiamonds = 0\n    player.secondCostDiamonds = new Decimal('1e5')\n    player.thirdOwnedDiamonds = 0\n    player.thirdCostDiamonds = new Decimal('1e15')\n    player.fourthOwnedDiamonds = 0\n    player.fourthCostDiamonds = new Decimal('1e40')\n    player.fifthOwnedDiamonds = 0\n    player.fifthCostDiamonds = new Decimal('1e100')\n    player.firstGeneratedMythos = new Decimal('0')\n    player.secondGeneratedMythos = new Decimal('0')\n    player.thirdGeneratedMythos = new Decimal('0')\n    player.fourthGeneratedMythos = new Decimal('0')\n    player.fifthGeneratedMythos = new Decimal('0')\n    player.acceleratorBoostBought = 0\n    player.acceleratorBoostCost = new Decimal('1e3')\n\n    player.transcendCount += 1\n\n    player.prestigePoints = new Decimal('0')\n    player.transcendPoints = player.transcendPoints.add(G.transcendPointGain)\n    player.transcendShards = new Decimal('0')\n    player.transcendnocoinupgrades = true\n    player.transcendnocoinorprestigeupgrades = true\n    player.transcendnoaccelerator = true\n    player.transcendnomultiplier = true\n\n    G.transcendPointGain = new Decimal('0')\n\n    if (player.achievements[78] > 0.5) {\n      player.firstOwnedDiamonds += 1\n    }\n    if (player.achievements[85] > 0.5) {\n      player.secondOwnedDiamonds += 1\n    }\n    if (player.achievements[92] > 0.5) {\n      player.thirdOwnedDiamonds += 1\n    }\n    if (player.achievements[99] > 0.5) {\n      player.fourthOwnedDiamonds += 1\n    }\n    if (player.achievements[106] > 0.5) {\n      player.fifthOwnedDiamonds += 1\n    }\n\n    if (player.achievements[4] > 0.5) {\n      player.upgrades[81] = 1\n    }\n    if (player.achievements[11] > 0.5) {\n      player.upgrades[82] = 1\n    }\n    if (player.achievements[18] > 0.5) {\n      player.upgrades[83] = 1\n    }\n    if (player.achievements[25] > 0.5) {\n      player.upgrades[84] = 1\n    }\n    if (player.achievements[32] > 0.5) {\n      player.upgrades[85] = 1\n    }\n    if (player.achievements[80] > 0.5) {\n      player.upgrades[87] = 1\n    }\n\n    if (player.transcendcounter < player.fastesttranscend && player.currentChallenge.transcension === 0) {\n      player.fastesttranscend = player.transcendcounter\n    }\n\n    player.transcendcounter = 0\n    G.autoResetTimers.transcension = 0\n  }\n\n  if (input === 'reincarnation' || input === 'reincarnationChallenge') {\n    if (player.usedCorruptions[6] > 10 && player.platonicUpgrades[11] > 0) {\n      player.prestigePoints = player.prestigePoints.add(G.reincarnationPointGain)\n    }\n  }\n\n  if (\n    input === 'reincarnation' || input === 'reincarnationChallenge' || input === 'ascension'\n    || input === 'ascensionChallenge' || input === 'singularity'\n  ) {\n    // Fail safe if for some reason ascension achievement isn't awarded. hacky solution but am too tired to fix right now\n    if (player.ascensionCount > 0 && player.achievements[183] < 1) {\n      ascensionAchievementCheck(1)\n    }\n\n    player.researchPoints = Math.min(1e300, player.researchPoints + Math.floor(G.obtainiumGain))\n\n    const opscheck = G.obtainiumGain / (1 + player.reincarnationcounter)\n    if (opscheck > player.obtainiumpersecond) {\n      player.obtainiumpersecond = opscheck\n    }\n    player.currentChallenge.transcension = 0\n    resetUpgrades(3)\n    player.coinsThisReincarnation = new Decimal('100')\n    player.firstOwnedMythos = 0\n    player.firstCostMythos = new Decimal('1')\n    player.secondOwnedMythos = 0\n    player.secondCostMythos = new Decimal('1e2')\n    player.thirdOwnedMythos = 0\n    player.thirdCostMythos = new Decimal('1e4')\n    player.fourthOwnedMythos = 0\n    player.fourthCostMythos = new Decimal('1e8')\n    player.fifthOwnedMythos = 0\n    player.fifthCostMythos = new Decimal('1e16')\n    player.firstGeneratedParticles = new Decimal('0')\n    player.secondGeneratedParticles = new Decimal('0')\n    player.thirdGeneratedParticles = new Decimal('0')\n    player.fourthGeneratedParticles = new Decimal('0')\n    player.fifthGeneratedParticles = new Decimal('0')\n\n    player.reincarnationCount += 1\n\n    player.transcendPoints = new Decimal('0')\n    player.reincarnationPoints = player.reincarnationPoints.add(G.reincarnationPointGain)\n    player.reincarnationShards = new Decimal('0')\n    player.challengecompletions[1] = 0\n    player.challengecompletions[2] = 0\n    player.challengecompletions[3] = 0\n    player.challengecompletions[4] = 0\n    player.challengecompletions[5] = 0\n\n    G.reincarnationPointGain = new Decimal('0')\n\n    if (player.shopUpgrades.instantChallenge > 0 && player.currentChallenge.reincarnation === 0) {\n      player.challengecompletions[1] = player.highestchallengecompletions[1]\n      player.challengecompletions[2] = player.highestchallengecompletions[2]\n      player.challengecompletions[3] = player.highestchallengecompletions[3]\n      player.challengecompletions[4] = player.highestchallengecompletions[4]\n      player.challengecompletions[5] = player.highestchallengecompletions[5]\n    }\n\n    player.reincarnatenocoinupgrades = true\n    player.reincarnatenocoinorprestigeupgrades = true\n    player.reincarnatenocoinprestigeortranscendupgrades = true\n    player.reincarnatenocoinprestigetranscendorgeneratorupgrades = true\n    player.reincarnatenoaccelerator = true\n    player.reincarnatenomultiplier = true\n\n    if (player.reincarnationcounter < player.fastestreincarnate && player.currentChallenge.reincarnation === 0) {\n      player.fastestreincarnate = player.reincarnationcounter\n    }\n\n    calculateCubeBlessings()\n    player.reincarnationcounter = 0\n    G.autoResetTimers.reincarnation = 0\n\n    if (player.autoResearchToggle && player.autoResearch > 0.5) {\n      const linGrowth = (player.autoResearch === 200) ? 0.01 : 0\n      buyResearch(player.autoResearch, true, linGrowth)\n    }\n\n    calculateRuneLevels()\n    calculateAnts()\n  }\n\n  if (input === 'ascension' || input === 'ascensionChallenge' || input === 'singularity') {\n    const metaData = CalcCorruptionStuff()\n    if (player.challengecompletions[10] > 0) {\n      ascensionAchievementCheck(3, metaData[3])\n    }\n    // reset auto challenges\n    player.currentChallenge.transcension = 0\n    player.currentChallenge.reincarnation = 0\n\n    // The start of the auto challenge to improve QoL starts with C10\n    if (\n      input === 'ascensionChallenge' && player.currentChallenge.ascension > 10 && player.highestSingularityCount >= 2\n      && player.autoChallengeToggles[10]\n    ) {\n      player.autoChallengeIndex = 10\n    } else {\n      player.autoChallengeIndex = 1\n    }\n    toggleAutoChallengeModeText('START')\n\n    G.autoChallengeTimerIncrement = 0\n    // reset rest\n    resetResearches()\n    resetAnts()\n    resetTalismans()\n    player.reincarnationPoints = new Decimal('0')\n    player.reincarnationShards = new Decimal('0')\n    player.obtainiumpersecond = 0\n    player.maxobtainiumpersecond = 0\n    player.offeringpersecond = 0\n    player.antSacrificePoints = 0\n    player.antSacrificeTimer = 0\n    player.antSacrificeTimerReal = 0\n\n    player.antUpgrades[12 - 1] = 0\n    for (let j = 61; j <= 80; j++) {\n      player.upgrades[j] = 0\n    }\n    for (let j = 94; j <= 100; j++) {\n      player.upgrades[j] = 0\n    }\n    player.firstOwnedParticles = 0\n    player.secondOwnedParticles = 0\n    player.thirdOwnedParticles = 0\n    player.fourthOwnedParticles = 0\n    player.fifthOwnedParticles = 0\n    player.firstCostParticles = new Decimal('1')\n    player.secondCostParticles = new Decimal('100')\n    player.thirdCostParticles = new Decimal('1e4')\n    player.fourthCostParticles = new Decimal('1e8')\n    player.fifthCostParticles = new Decimal('1e16')\n    player.runeexp = [0, 0, 0, 0, 0, player.runeexp[5], player.runeexp[6]]\n    player.runelevels = [0, 0, 0, 0, 0, player.runelevels[5], player.runelevels[6]]\n    player.runeshards = 0\n    player.crystalUpgrades = [0, 0, 0, 0, 0, 0, 0, 0]\n\n    player.runelevels[0] = 3 * player.cubeUpgrades[26]\n    player.runelevels[1] = 3 * player.cubeUpgrades[26]\n    player.runelevels[2] = 3 * player.cubeUpgrades[26]\n    player.runelevels[3] = 3 * player.cubeUpgrades[26]\n    player.runelevels[4] = 3 * player.cubeUpgrades[26]\n\n    if (player.cubeUpgrades[27] === 1) {\n      player.firstOwnedParticles = 1\n      player.secondOwnedParticles = 1\n      player.thirdOwnedParticles = 1\n      player.fourthOwnedParticles = 1\n      player.fifthOwnedParticles = 1\n    }\n\n    // If challenge 10 is incomplete, you won't get a cube no matter what\n    if (player.challengecompletions[10] > 0 && player.ascensionCounter > 0) {\n      player.ascensionCount += calcAscensionCount()\n      // Metadata is defined up in the top of the (i > 3.5) case\n      // Protect the cube from developer mistakes\n      if (\n        isFinite(metaData[4]) && isFinite(metaData[5]) && isFinite(metaData[6]) && isFinite(metaData[7])\n        && isFinite(metaData[8])\n      ) {\n        player.wowCubes.add(metaData[4])\n        player.wowTesseracts.add(metaData[5])\n        player.wowHypercubes.add(metaData[6])\n        player.wowPlatonicCubes.add(metaData[7])\n        player.wowAbyssals = Math.min(1e300, player.wowAbyssals + metaData[8])\n      }\n    }\n\n    for (let j = 1; j <= 10; j++) {\n      player.challengecompletions[j] = 0\n      player.highestchallengecompletions[j] = 0\n    }\n\n    player.challengecompletions[6] = player.highestchallengecompletions[6] = player.cubeUpgrades[49]\n    player.challengecompletions[7] = player.highestchallengecompletions[7] = player.cubeUpgrades[49]\n    player.challengecompletions[8] = player.highestchallengecompletions[8] = player.cubeUpgrades[49]\n\n    DOMCacheGetOrSet(`res${player.autoResearch || 1}`).classList.remove('researchRoomba')\n    player.roombaResearchIndex = 0\n    player.autoResearch = 1\n\n    for (let j = 1; j <= (200); j++) {\n      const k = `res${j}`\n      if (player.researches[j] > 0.5 && player.researches[j] < G.researchMaxLevels[j]) {\n        updateClassList(k, ['researchPurchased'], [\n          'researchAvailable',\n          'researchMaxed',\n          'researchPurchasedAvailable',\n          'researchUnpurchased'\n        ])\n      } else if (player.researches[j] > 0.5 && player.researches[j] >= G.researchMaxLevels[j]) {\n        updateClassList(k, ['researchMaxed'], [\n          'researchAvailable',\n          'researchPurchased',\n          'researchPurchasedAvailable',\n          'researchUnpurchased'\n        ])\n      } else {\n        updateClassList(k, ['researchUnpurchased'], [\n          'researchAvailable',\n          'researchPurchased',\n          'researchPurchasedAvailable',\n          'researchMaxed'\n        ])\n      }\n    }\n\n    calculateAnts()\n    calculateRuneLevels()\n    calculateAntSacrificeELO()\n    calculateTalismanEffects()\n    calculateObtainium()\n    ascensionAchievementCheck(1)\n\n    player.ascensionCounter = 0\n    player.ascensionCounterReal = 0\n    player.ascensionCounterRealReal = 0\n\n    updateTalismanInventory()\n    updateTalismanAppearance(0)\n    updateTalismanAppearance(1)\n    updateTalismanAppearance(2)\n    updateTalismanAppearance(3)\n    updateTalismanAppearance(4)\n    updateTalismanAppearance(5)\n    updateTalismanAppearance(6)\n    calculateCubeBlessings()\n    calculateTesseractBlessings()\n    calculateHypercubeBlessings()\n\n    if (player.cubeUpgrades[4] === 1) {\n      player.upgrades[94] = 1\n      player.upgrades[95] = 1\n      player.upgrades[96] = 1\n      player.upgrades[97] = 1\n      player.upgrades[98] = 1\n    }\n    if (player.cubeUpgrades[5] === 1) {\n      player.upgrades[99] = 1\n    }\n    if (player.cubeUpgrades[6] === 1) {\n      player.upgrades[100] = 1\n    }\n\n    for (let j = 61; j <= 80; j++) {\n      DOMCacheGetOrSet(`upg${j}`).style.backgroundColor = ''\n    }\n    for (let j = 94; j <= 100; j++) {\n      if (player.upgrades[j] === 0) {\n        DOMCacheGetOrSet(`upg${j}`).style.backgroundColor = ''\n      }\n    }\n\n    const maxLevel = maxCorruptionLevel()\n    player.usedCorruptions = player.prototypeCorruptions.map((curr: number, index: number) => {\n      if (index >= 2 && index <= 9) {\n        return Math.min(\n          maxLevel * (player.challengecompletions[corrChallengeMinimum(index)] > 0\n              || player.singularityUpgrades.platonicTau.getEffect().bonus\n            ? 1\n            : 0),\n          curr\n        )\n      }\n      return curr\n    })\n    player.usedCorruptions[1] = 0\n    player.prototypeCorruptions[1] = 0\n    // fix c15 ascension bug by restoring the corruptions if the player ascended instead of leaving\n    if (player.currentChallenge.ascension === 15 && (input === 'ascension' || input === 'ascensionChallenge')) {\n      player.usedCorruptions[0] = 0\n      player.prototypeCorruptions[0] = 0\n      for (let i = 2; i <= 9; i++) {\n        player.usedCorruptions[i] = 11\n      }\n    }\n\n    corruptionStatsUpdate()\n    updateSingularityMilestoneAwards(false)\n  }\n\n  if (input === 'ascension' || input === 'ascensionChallenge') {\n    // Hepteract Autocraft\n    const autoHepteractCrafts = getAutoHepteractCrafts()\n    const numberOfAutoCraftsAndOrbs = autoHepteractCrafts.length + (player.overfluxOrbsAutoBuy ? 1 : 0)\n    if (player.highestSingularityCount >= 1 && numberOfAutoCraftsAndOrbs > 0) {\n      // Computes the max number of Hepteracts to spend on each auto Hepteract craft\n      const heptAutoSpend = Math.floor(\n        (player.wowAbyssals / numberOfAutoCraftsAndOrbs) * (player.hepteractAutoCraftPercentage / 100)\n      )\n      for (const craft of autoHepteractCrafts) {\n        craft.autoCraft(heptAutoSpend)\n      }\n\n      if (player.overfluxOrbsAutoBuy) {\n        const orbsAmount = Math.floor(heptAutoSpend / 250000)\n        if (player.wowAbyssals - (250000 * orbsAmount) >= 0) {\n          player.overfluxOrbs += orbsAmount\n          player.overfluxPowder += player.shopUpgrades.powderAuto * calculatePowderConversion().mult * orbsAmount / 100\n          player.wowAbyssals -= 250000 * orbsAmount\n        }\n        if (player.wowAbyssals < 0) {\n          player.wowAbyssals = 0\n        }\n      }\n    }\n\n    // Autobuy tesseract buildings (Mode: PERCENTAGE)\n    if (player.researches[190] > 0 && player.tesseractAutoBuyerToggle === 1 && player.resettoggle4 === 2) {\n      const ownedBuildings: TesseractBuildings = [null, null, null, null, null]\n      for (let i = 1; i <= 5; i++) {\n        if (player.autoTesseracts[i]) {\n          ownedBuildings[i - 1] = player[`ascendBuilding${i as OneToFive}` as const].owned\n        }\n      }\n      const percentageToSpend = 100 - Math.min(100, player.tesseractAutoBuyerAmount)\n      const budget = Number(player.wowTesseracts) * percentageToSpend / 100\n      const buyToBuildings = calculateTessBuildingsInBudget(ownedBuildings, budget)\n      // Prioritise buying buildings from highest tier to lowest,\n      // in case there are any off-by-ones or floating point errors.\n      for (let i = 5; i >= 1; i--) {\n        const buyFrom = ownedBuildings[i - 1]\n        const buyTo = buyToBuildings[i - 1]\n        if (buyFrom !== null && buyTo !== null && buyTo !== buyFrom) {\n          buyTesseractBuilding(i as OneToFive, buyTo - buyFrom)\n        }\n      }\n    }\n\n    // Automation Platonic Upgrades\n    autoBuyPlatonicUpgrades()\n\n    // Automation Cube Upgrades\n    autoBuyCubeUpgrades()\n\n    // Auto open Cubes. If to remove !== 0, game will lag a bit if it was set to 0\n    if (player.highestSingularityCount >= 35) {\n      if (player.autoOpenCubes && player.openCubes !== 0 && player.cubeUpgrades[51] > 0) {\n        player.wowCubes.open(Math.floor(Number(player.wowCubes) * player.openCubes / 100), false)\n      }\n      if (player.autoOpenTesseracts && player.openTesseracts !== 0 && player.challengecompletions[11] > 0) {\n        if (player.tesseractAutoBuyerToggle !== 1 || player.resettoggle4 === 2) {\n          player.wowTesseracts.open(Math.floor(Number(player.wowTesseracts) * player.openTesseracts / 100), false)\n        }\n      }\n      if (player.autoOpenHypercubes && player.openHypercubes !== 0 && player.challengecompletions[13] > 0) {\n        player.wowHypercubes.open(Math.floor(Number(player.wowHypercubes) * player.openHypercubes / 100), false)\n      }\n      if (player.autoOpenPlatonicsCubes && player.openPlatonicsCubes !== 0 && player.challengecompletions[14] > 0) {\n        player.wowPlatonicCubes.open(\n          Math.floor(Number(player.wowPlatonicCubes) * player.openPlatonicsCubes / 100),\n          false\n        )\n      }\n    }\n  }\n\n  // Always unlocks\n  player.unlocks.prestige = true\n\n  if (input === 'transcension' || input === 'transcensionChallenge') {\n    player.unlocks.transcend = true\n  }\n  if (input === 'reincarnation' || input === 'reincarnationChallenge') {\n    player.unlocks.reincarnate = true\n  }\n\n  if (input === 'singularity') {\n    player.unlocks.coinone = false\n    player.unlocks.cointwo = false\n    player.unlocks.cointhree = false\n    player.unlocks.coinfour = false\n    player.unlocks.generation = false\n    player.unlocks.prestige = false\n    player.unlocks.transcend = false\n    player.unlocks.reincarnate = false\n    player.unlocks.rrow1 = false\n    player.unlocks.rrow2 = false\n    player.unlocks.rrow3 = false\n    player.unlocks.rrow4 = false\n\n    player.ascendBuilding1.owned = 0\n    player.ascendBuilding1.generated = new Decimal('0')\n    player.ascendBuilding2.owned = 0\n    player.ascendBuilding2.generated = new Decimal('0')\n    player.ascendBuilding3.owned = 0\n    player.ascendBuilding3.generated = new Decimal('0')\n    player.ascendBuilding4.owned = 0\n    player.ascendBuilding4.generated = new Decimal('0')\n    player.ascendBuilding5.owned = 0\n    player.ascendBuilding5.generated = new Decimal('0')\n\n    player.constantUpgrades = [null, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]\n\n    player.wowCubes = new WowCubes(0)\n    player.wowTesseracts = new WowCubes(0)\n    player.wowHypercubes = new WowCubes(0)\n    player.wowTesseracts = new WowCubes(0)\n    player.wowAbyssals = 0\n\n    for (let index = 1; index <= 50; index++) {\n      player.cubeUpgrades[index] = 0\n    }\n  }\n\n  if (!fast) {\n    revealStuff()\n  }\n  if (input === 'transcensionChallenge' || input === 'reincarnationChallenge' || input === 'ascensionChallenge') {\n    updateChallengeDisplay()\n  }\n\n  updateAll()\n}\n\n/**\n * Computes which achievements in 274-280 are achievable given current singularity number\n */\nexport const updateSingularityAchievements = (): void => {\n  if (player.highestSingularityCount >= 1) {\n    achievementaward(274)\n  }\n  if (player.highestSingularityCount >= 2) {\n    achievementaward(275)\n  }\n  if (player.highestSingularityCount >= 3) {\n    achievementaward(276)\n  }\n  if (player.highestSingularityCount >= 4) {\n    achievementaward(277)\n  }\n  if (player.highestSingularityCount >= 5) {\n    achievementaward(278)\n  }\n  if (player.highestSingularityCount >= 7) {\n    achievementaward(279)\n  }\n  if (player.highestSingularityCount >= 10) {\n    achievementaward(280)\n  }\n}\n\nexport const updateSingularityMilestoneAwards = (singularityReset = true): void => {\n  // 1 transcension, 1001 mythos\n  if (player.achievements[275] > 0) { // Singularity 2\n    if (singularityReset) {\n      player.prestigeCount = 1\n      player.transcendCount = 1\n    }\n    player.transcendPoints = new Decimal('1001')\n\n    player.unlocks.coinone = true\n    player.unlocks.cointwo = true\n    player.unlocks.cointhree = true\n    player.unlocks.coinfour = true\n    player.unlocks.prestige = true\n    player.unlocks.generation = true\n    player.unlocks.transcend = true\n    for (let i = 0; i < 5; i++) {\n      achievementaward(4 + 7 * i)\n    }\n    achievementaward(36) // 1 prestige\n    achievementaward(43) // 1 transcension\n  }\n  if (player.achievements[276] > 0) { // Singularity 3\n    if (player.currentChallenge.ascension !== 12) {\n      if (singularityReset) {\n        player.reincarnationCount = 1\n      }\n      player.reincarnationPoints = new Decimal('10')\n    }\n    player.unlocks.reincarnate = true\n    player.unlocks.rrow1 = true\n    player.researches[47] = 1\n\n    for (let i = 0; i < 2; i++) {\n      for (let j = 0; j < 5; j++) {\n        achievementaward(78 + i + 7 * j)\n      }\n    }\n\n    for (let i = 0; i < 7; i++) {\n      achievementaward(57 + i)\n      achievementaward(64 + i)\n      achievementaward(71 + i)\n    }\n\n    achievementaward(37)\n    achievementaward(38)\n    achievementaward(44)\n    achievementaward(50)\n    achievementaward(80)\n    achievementaward(87)\n  }\n  if (player.achievements[277] > 0) { // Singularity 4\n    if (player.currentChallenge.ascension !== 14) {\n      player.researchPoints = Math.floor(\n        500 * calculateSingularityDebuff('Offering') * calculateSingularityDebuff('Researches')\n      )\n    }\n    if (player.currentChallenge.ascension !== 12) {\n      player.reincarnationPoints = new Decimal('1e16')\n    }\n    player.challengecompletions[6] = 1\n    player.highestchallengecompletions[6] = 1\n    achievementaward(113)\n  }\n  const shopItemPerk_5 = ['offeringAuto', 'offeringEX', 'obtainiumAuto', 'obtainiumEX', 'antSpeed', 'cashGrab'] as const\n  const perk_5 = player.achievements[278] > 0\n  if (perk_5 && singularityReset) { // Singularity 5\n    for (const key of shopItemPerk_5) {\n      player.shopUpgrades[key] = 10\n    }\n    player.cubeUpgrades[7] = 1\n  }\n  if (player.achievements[279] > 0) { // Singularity 7\n    player.challengecompletions[7] = 1\n    player.highestchallengecompletions[7] = 1\n    achievementaward(120)\n    if (player.currentChallenge.ascension !== 12) {\n      player.reincarnationPoints = new Decimal('1e100')\n    }\n  }\n  if (player.achievements[280] > 0) { // Singularity 10\n    achievementaward(124)\n    achievementaward(127)\n    player.challengecompletions[8] = 1\n    player.highestchallengecompletions[8] = 1\n    player.cubeUpgrades[8] = 1\n    player.cubeUpgrades[4] = 1 // Adding these ones,\n    player.cubeUpgrades[5] = 1 // so they wont reset\n    player.cubeUpgrades[6] = 1 // on first Ascension\n    player.firstOwnedAnts = 1\n    for (let i = 0; i < 7; i++) {\n      achievementaward(176 + i)\n    }\n  }\n  if (player.highestSingularityCount > 10) { // Must be the same as autoResearchEnabled()\n    player.cubeUpgrades[9] = 1\n  }\n  if (player.highestSingularityCount >= 15) {\n    player.challengecompletions[8] = 5\n    player.highestchallengecompletions[8] = 5\n    if (player.currentChallenge.ascension !== 12) {\n      player.reincarnationPoints = new Decimal('2.22e2222')\n    }\n    player.fifthOwnedAnts = 1\n    player.cubeUpgrades[20] = 1\n  }\n  const perk_20 = player.highestSingularityCount >= 20\n  if (perk_20) {\n    const shopItemPerk_20 = [\n      'offeringAuto',\n      'offeringEX',\n      'obtainiumAuto',\n      'obtainiumEX',\n      'antSpeed',\n      'cashGrab'\n    ] as const\n    player.challengecompletions[9] = 1\n    player.highestchallengecompletions[9] = 1\n    achievementaward(134)\n    player.antPoints = new Decimal('1e100')\n    player.antUpgrades[11] = 1\n    for (const key of shopItemPerk_20) {\n      player.shopUpgrades[key] = shopData[key].maxLevel\n    }\n  }\n  if (player.highestSingularityCount >= 25) {\n    player.eighthOwnedAnts = 1\n  }\n  if (player.highestSingularityCount >= 30) {\n    player.researches[130] = 1\n    player.researches[135] = 1\n    player.researches[145] = 1\n  }\n  if (player.highestSingularityCount >= 100 && singularityReset) {\n    player.cubeUpgrades[51] = 1\n    awardAutosCookieUpgrade()\n  }\n\n  if (player.singularityUpgrades.platonicAlpha.getEffect().bonus && player.platonicUpgrades[5] === 0) {\n    player.platonicUpgrades[5] = 1\n    updatePlatonicUpgradeBG(5)\n  }\n\n  if (singularityReset) {\n    for (let j = 1; j <= 15; j++) {\n      challengeachievementcheck(j)\n    }\n  }\n  resetUpgrades(3)\n  if (singularityReset) {\n    for (let j = 1; j < player.cubeUpgrades.length; j++) {\n      updateCubeUpgradeBG(j)\n    }\n  }\n  for (let j = 1; j < player.researches.length; j++) {\n    if (player.researches[j] > 0) {\n      updateResearchBG(j)\n    }\n  }\n  updateSingularityGlobalPerks()\n  revealStuff()\n}\n\n// updates singularity perks that do not get saved to player object\n// so that we can call on save load to fix game state\nexport const updateSingularityGlobalPerks = () => {\n  const perk_5 = player.achievements[278] > 0\n  const shopItemPerk_5 = ['offeringAuto', 'offeringEX', 'obtainiumAuto', 'obtainiumEX', 'antSpeed', 'cashGrab'] as const\n  for (const key of shopItemPerk_5) {\n    shopData[key].refundMinimumLevel = perk_5 ? 10 : key.endsWith('Auto') ? 1 : 0\n  }\n\n  const perk_20 = player.highestSingularityCount >= 20\n  const shopItemPerk_20 = [\n    'offeringAuto',\n    'offeringEX',\n    'obtainiumAuto',\n    'obtainiumEX',\n    'antSpeed',\n    'cashGrab'\n  ] as const\n  for (const key of shopItemPerk_20) {\n    shopData[key].refundable = !perk_20\n  }\n\n  const perk_51 = player.highestSingularityCount >= 51\n  const shopItemPerk_51 = [\n    'seasonPass',\n    'seasonPass2',\n    'seasonPass3',\n    'seasonPassY',\n    'chronometer',\n    'chronometer2'\n  ] as const\n  for (const key of shopItemPerk_51) {\n    shopData[key].refundable = !perk_51\n  }\n}\n\nexport const singularity = async (setSingNumber = -1): Promise<void> => {\n  if (player.runelevels[6] === 0 && setSingNumber === -1) {\n    return Alert(\n      'You nearly triggered a double singularity bug! Oh no! Luckily, our staff prevented this from happening.'\n    )\n  }\n\n  // setSingNumber is only not -1 when we are entering and exiting a challenge.\n  if (setSingNumber === -1) {\n    // get total cube blessings for history\n    const cubeArray = Object.values(player.cubeBlessings)\n    const tesseractArray = Object.values(player.tesseractBlessings)\n    const hypercubeArray = Object.values(player.hypercubeBlessings)\n    const platonicArray = Object.values(player.platonicBlessings)\n    // Update sing history\n    const historyEntry: ResetHistoryEntrySingularity = {\n      seconds: player.singularityCounter,\n      date: Date.now(),\n      singularityCount: player.singularityCount,\n      quarks: player.quarksThisSingularity,\n      c15Score: player.challenge15Exponent,\n      goldenQuarks: calculateGoldenQuarkGain(),\n      wowTribs: sumContents(cubeArray),\n      tessTribs: sumContents(tesseractArray),\n      hyperTribs: sumContents(hypercubeArray),\n      platTribs: sumContents(platonicArray),\n      octeracts: player.totalWowOcteracts,\n      quarkHept: player.hepteractCrafts.quark.BAL,\n      kind: 'singularity'\n    }\n    Synergism.emit('historyAdd', 'singularity', historyEntry)\n  }\n  // reset the rune instantly to hopefully prevent a double singularity\n  player.runelevels[6] = 0\n\n  player.goldenQuarks += calculateGoldenQuarkGain()\n\n  if (setSingNumber === -1) {\n    const incrementSingCount = 1 + getFastForwardTotalMultiplier()\n    player.singularityCount += incrementSingCount\n    if (player.singularityCount >= player.highestSingularityCount) {\n      player.highestSingularityCount = player.singularityCount\n\n      if (player.highestSingularityCount === 5) {\n        player.singularityUpgrades.goldenQuarks3.freeLevels += 1\n      }\n      if (player.highestSingularityCount === 10) {\n        player.singularityUpgrades.goldenQuarks3.freeLevels += 2\n      }\n    }\n  } else {\n    player.singularityCount = setSingNumber\n  }\n\n  player.totalQuarksEver += player.quarksThisSingularity\n  await resetShopUpgrades(true)\n\n  const { data: hold, success } = playerJsonSchema.safeParse(blankSave)\n  assert(success)\n\n  // Reset Displays\n  changeTab(Tabs.Buildings)\n  changeSubTab(Tabs.Buildings, { page: 0 })\n  changeSubTab(Tabs.Runes, { page: 0 }) // Set 'runes' subtab back to 'runes' tab\n  changeSubTab(Tabs.Challenges, { page: 0 }) // Set 'challenges' subtab back to 'normal' tab\n  changeSubTab(Tabs.WowCubes, { page: 0 }) // Set 'cube tribues' subtab back to 'cubes' tab\n  changeSubTab(Tabs.Corruption, { page: 0 }) // set 'corruption main'\n  changeSubTab(Tabs.Singularity, { page: 0 }) // set 'singularity main'\n  changeSubTab(Tabs.Settings, { page: 0 }) // set 'statistics main'\n\n  hold.history.singularity = player.history.singularity\n  hold.totalQuarksEver = player.totalQuarksEver\n  hold.singularityCount = player.singularityCount\n  hold.highestSingularityCount = player.highestSingularityCount\n  hold.goldenQuarks = player.goldenQuarks\n  hold.shopUpgrades = player.shopUpgrades\n\n  if (!player.singularityChallenges.limitedTime.rewards.preserveQuarks) {\n    player.worlds.reset()\n    hold.worlds = Number(hold.worlds)\n  }\n  else {\n    hold.worlds = Number(player.worlds)\n  }\n\n  // Exclude potentially non-latin1 characters from the save\n  hold.singularityUpgrades = Object.fromEntries(\n    Object.entries(player.singularityUpgrades).map(([key, value]) => {\n      return [key, {\n        level: value.level,\n        goldenQuarksInvested: value.goldenQuarksInvested,\n        toggleBuy: value.toggleBuy,\n        freeLevels: value.freeLevels\n      }]\n    })\n  ) as Player['singularityUpgrades']\n  hold.octeractUpgrades = Object.fromEntries(\n    Object.entries(player.octeractUpgrades).map(([key, value]) => {\n      return [key, {\n        level: value.level,\n        octeractsInvested: value.octeractsInvested,\n        toggleBuy: value.toggleBuy,\n        freeLevels: value.freeLevels\n      }]\n    })\n  ) as unknown as Player['octeractUpgrades']\n  hold.blueberryUpgrades = Object.fromEntries(\n    Object.entries(player.blueberryUpgrades).map(([key, value]) => {\n      return [key, {\n        level: value.level,\n        ambrosiaInvested: value.ambrosiaInvested,\n        blueberriesInvested: value.blueberriesInvested,\n        toggleBuy: value.toggleBuy,\n        freeLevels: value.freeLevels\n      }]\n    })\n  ) as unknown as Player['blueberryUpgrades']\n  hold.spentBlueberries = player.spentBlueberries\n  hold.autoChallengeToggles = player.autoChallengeToggles\n  hold.autoChallengeTimer = player.autoChallengeTimer\n  hold.saveString = player.saveString\n  hold.corruptionLoadouts = player.corruptionLoadouts\n  hold.corruptionLoadoutNames = player.corruptionLoadoutNames\n  hold.corruptionShowStats = player.corruptionShowStats\n  hold.toggles = player.toggles\n  hold.retrychallenges = player.retrychallenges\n  hold.resettoggle1 = player.resettoggle1\n  hold.resettoggle2 = player.resettoggle2\n  hold.resettoggle3 = player.resettoggle3\n  hold.resettoggle4 = player.resettoggle4\n  hold.coinbuyamount = player.coinbuyamount\n  hold.crystalbuyamount = player.crystalbuyamount\n  hold.mythosbuyamount = player.mythosbuyamount\n  hold.particlebuyamount = player.particlebuyamount\n  hold.offeringbuyamount = player.offeringbuyamount\n  hold.tesseractbuyamount = player.tesseractbuyamount\n  hold.shoptoggles = player.shoptoggles\n  hold.autoSacrificeToggle = player.autoSacrificeToggle\n  hold.autoBuyFragment = player.autoBuyFragment\n  hold.autoFortifyToggle = player.autoFortifyToggle\n  hold.autoEnhanceToggle = player.autoEnhanceToggle\n  hold.autoResearchToggle = player.autoResearchToggle\n  hold.autoResearchMode = player.autoResearchMode\n  hold.dailyCodeUsed = player.dailyCodeUsed\n  hold.runeBlessingBuyAmount = player.runeBlessingBuyAmount\n  hold.runeSpiritBuyAmount = player.runeSpiritBuyAmount\n  hold.prestigeamount = player.prestigeamount\n  hold.transcendamount = player.transcendamount\n  hold.reincarnationamount = player.reincarnationamount\n  hold.talismanOne = player.talismanOne\n  hold.talismanTwo = player.talismanTwo\n  hold.talismanThree = player.talismanThree\n  hold.talismanFour = player.talismanFour\n  hold.talismanFive = player.talismanFive\n  hold.talismanSix = player.talismanSix\n  hold.talismanSeven = player.talismanSeven\n  hold.buyTalismanShardPercent = player.buyTalismanShardPercent\n  hold.antMax = player.antMax\n  hold.autoAntSacrifice = player.autoAntSacrifice\n  hold.autoAntSacrificeMode = player.autoAntSacrificeMode\n  hold.autoAntSacTimer = player.autoAntSacTimer\n  hold.autoAscend = player.autoAscend\n  hold.autoAscendMode = player.autoAscendMode\n  hold.autoAscendThreshold = player.autoAscendThreshold\n  hold.autoResearch = 0\n  hold.autoTesseracts = player.autoTesseracts\n  hold.tesseractAutoBuyerToggle = player.tesseractAutoBuyerToggle\n  hold.tesseractAutoBuyerAmount = player.tesseractAutoBuyerAmount\n  hold.autoOpenCubes = player.autoOpenCubes\n  hold.openCubes = player.openCubes\n  hold.autoOpenTesseracts = player.autoOpenTesseracts\n  hold.openTesseracts = player.openTesseracts\n  hold.autoOpenHypercubes = player.autoOpenHypercubes\n  hold.openHypercubes = player.openHypercubes\n  hold.autoOpenPlatonicsCubes = player.autoOpenPlatonicsCubes\n  hold.openPlatonicsCubes = player.openPlatonicsCubes\n  hold.historyShowPerSecond = player.historyShowPerSecond\n  hold.exporttest = typeof player.exporttest === 'boolean' ? player.exporttest : player.exporttest === 'YES!'\n  hold.dayTimer = player.dayTimer\n  hold.dayCheck = player.dayCheck?.toISOString() ?? null\n  hold.ascStatToggles = player.ascStatToggles\n  hold.hepteractAutoCraftPercentage = player.hepteractAutoCraftPercentage\n  hold.autoWarpCheck = player.autoWarpCheck\n  hold.shopBuyMaxToggle = player.shopBuyMaxToggle\n  hold.shopHideToggle = player.shopHideToggle\n  hold.shopConfirmationToggle = player.shopConfirmationToggle\n  hold.researchBuyMaxToggle = player.researchBuyMaxToggle\n  hold.cubeUpgradesBuyMaxToggle = player.cubeUpgradesBuyMaxToggle\n  hold.wowOcteracts = player.wowOcteracts\n  hold.totalWowOcteracts = player.totalWowOcteracts\n  hold.overfluxOrbsAutoBuy = player.overfluxOrbsAutoBuy\n  hold.hotkeys = player.hotkeys\n  hold.theme = player.theme\n  hold.notation = player.notation\n  hold.firstPlayed = player.firstPlayed\n  hold.autoCubeUpgradesToggle = player.autoCubeUpgradesToggle\n  hold.autoPlatonicUpgradesToggle = player.autoPlatonicUpgradesToggle\n  hold.insideSingularityChallenge = player.insideSingularityChallenge\n  hold.ultimatePixels = player.ultimatePixels\n  hold.ultimateProgress = player.ultimateProgress\n  hold.singularityChallenges = Object.fromEntries(\n    Object.entries(player.singularityChallenges).map(([key, value]) => {\n      return [key, {\n        completions: value.completions,\n        highestSingularityCompleted: value.highestSingularityCompleted,\n        enabled: value.enabled\n      }]\n    })\n  ) as Player['singularityChallenges']\n  hold.iconSet = player.iconSet\n\n  // Quark Hepteract craft is saved entirely. For other crafts we only save their auto setting\n  hold.hepteractCrafts.quark = player.hepteractCrafts.quark\n  for (const craftName of Object.keys(player.hepteractCrafts)) {\n    if (craftName !== 'quark') {\n      const craftKey = craftName as keyof Player['hepteractCrafts']\n      hold.hepteractCrafts[craftKey].AUTO = player.hepteractCrafts[craftKey].AUTO\n    }\n  }\n  hold.ambrosia = player.ambrosia\n  hold.lifetimeAmbrosia = player.lifetimeAmbrosia\n  hold.visitedAmbrosiaSubtab = player.visitedAmbrosiaSubtab\n  hold.blueberryTime = player.blueberryTime\n  hold.blueberryLoadouts = player.blueberryLoadouts\n  hold.blueberryLoadoutMode = player.blueberryLoadoutMode as BlueberryLoadoutMode\n  hold.wowCubes = Number(player.wowCubes)\n  hold.wowTesseracts = Number(player.wowTesseracts)\n  hold.wowHypercubes = Number(player.wowHypercubes)\n  hold.wowPlatonicCubes = Number(player.wowPlatonicCubes)\n\n  const saveCode42 = player.codes.get(42) ?? false\n  const saveCode43 = player.codes.get(43) ?? false\n  const saveCode44 = player.codes.get(44) ?? false\n  const saveCode45 = player.codes.get(45) ?? false\n  const saveCode46 = player.codes.get(46) ?? false\n  const saveCode47 = player.codes.get(47) ?? false\n  const saveCode48 = player.codes.get(48) ?? false\n\n  await importSynergism(btoa(JSON.stringify(hold)), true)\n  // Techically possible to import game during reset. But that will only \"hurt\" that imported save\n\n  // TODO: Do not enable data that has never used an event code\n  player.codes.set(39, true)\n  player.codes.set(40, true)\n  player.codes.set(41, true)\n  player.codes.set(42, saveCode42)\n  player.codes.set(43, saveCode43)\n  player.codes.set(44, saveCode44)\n  player.codes.set(45, saveCode45)\n  player.codes.set(46, saveCode46)\n  player.codes.set(47, saveCode47)\n  player.codes.set(48, saveCode48)\n  updateSingularityMilestoneAwards()\n\n  player.rngCode = Date.now()\n  player.promoCodeTiming.time = Date.now()\n\n  // Save again at the end of singularity reset\n  void saveSynergy()\n}\n\nconst resetUpgrades = (i: number) => {\n  if (i > 2.5) {\n    for (let i = 41; i < 61; i++) {\n      if (i !== 46) {\n        player.upgrades[i] = 0\n      }\n    }\n\n    if (player.researches[41] === 0) {\n      player.upgrades[46] = 0\n    }\n\n    if (player.researches[41] < 0.5) {\n      player.upgrades[88] = 0\n    }\n    if (player.achievements[50] === 0) {\n      player.upgrades[89] = 0\n    }\n    if (player.researches[42] < 0.5) {\n      player.upgrades[90] = 0\n    }\n    if (player.researches[43] < 0.5) {\n      player.upgrades[91] = 0\n    }\n    if (player.researches[44] < 0.5) {\n      player.upgrades[92] = 0\n    }\n    if (player.researches[45] < 0.5) {\n      player.upgrades[93] = 0\n    }\n\n    player.upgrades[116] = 0\n    player.upgrades[117] = 0\n    player.upgrades[118] = 0\n    player.upgrades[119] = 0\n    player.upgrades[120] = 0\n  }\n\n  for (let j = 1; j <= 20; j++) {\n    player.upgrades[j] = 0\n  }\n\n  // both indices go up by 5, so we can put them together!\n  for (let j = 121, k = 106; j <= 125; j++, k++) {\n    player.upgrades[j] = 0\n    player.upgrades[k] = 0\n  }\n\n  if (i > 1.5) {\n    if (player.achievements[4] < 0.5) {\n      player.upgrades[81] = 0\n    }\n    if (player.achievements[11] < 0.5) {\n      player.upgrades[82] = 0\n    }\n    if (player.achievements[18] < 0.5) {\n      player.upgrades[83] = 0\n    }\n    if (player.achievements[25] < 0.5) {\n      player.upgrades[84] = 0\n    }\n    if (player.achievements[32] < 0.5) {\n      player.upgrades[85] = 0\n    }\n    if (player.achievements[87] < 0.5) {\n      player.upgrades[86] = 0\n    }\n    if (player.achievements[80] < 0.5) {\n      player.upgrades[87] = 0\n    }\n\n    player.upgrades[101] = 0\n    player.upgrades[102] = 0\n    player.upgrades[103] = 0\n    player.upgrades[104] = 0\n    player.upgrades[105] = 0\n  }\n\n  if (i > 1.5) {\n    for (let k = 21; k < 41; k++) {\n      player.upgrades[k] = 0\n    }\n\n    player.upgrades[111] = 0\n    player.upgrades[112] = 0\n    player.upgrades[113] = 0\n    player.upgrades[114] = 0\n    player.upgrades[115] = 0\n  }\n\n  if (i > 1.5) {\n    player.crystalUpgrades = [0, 0, 0, 0, 0, 0, 0, 0]\n    player.crystalUpgradesCost = [7, 15, 20, 40, 100, 200, 500, 1000]\n\n    updateEffectiveLevelMult() // update before prism rune, fixes c15 bug\n\n    let m = 0\n    m += Math.floor(G.rune3level * G.effectiveLevelMult / 16) * 100 / 100\n    if (player.upgrades[73] > 0.5 && player.currentChallenge.reincarnation !== 0) {\n      m += 10\n    }\n    player.crystalUpgrades = [m, m, m, m, m, m, m, m]\n  }\n\n  if (player.achievements[87] > 0.5) {\n    player.upgrades[86] = 1\n  }\n\n  for (let x = 1; x <= 125; x++) {\n    upgradeupdate(x, true)\n  }\n}\n\nexport const resetAnts = () => {\n  player.firstOwnedAnts = 0\n  player.secondOwnedAnts = 0\n  player.thirdOwnedAnts = 0\n  player.fourthOwnedAnts = 0\n  player.fifthOwnedAnts = 0\n  player.sixthOwnedAnts = 0\n  player.seventhOwnedAnts = 0\n  player.eighthOwnedAnts = 0\n\n  player.firstGeneratedAnts = new Decimal('0')\n  player.secondGeneratedAnts = new Decimal('0')\n  player.thirdGeneratedAnts = new Decimal('0')\n  player.fourthGeneratedAnts = new Decimal('0')\n  player.fifthGeneratedAnts = new Decimal('0')\n  player.sixthGeneratedAnts = new Decimal('0')\n  player.seventhGeneratedAnts = new Decimal('0')\n  player.eighthGeneratedAnts = new Decimal('0')\n\n  player.firstCostAnts = new Decimal('1e700')\n  player.secondCostAnts = new Decimal('3')\n  player.thirdCostAnts = new Decimal('100')\n  player.fourthCostAnts = new Decimal('1e4')\n  player.fifthCostAnts = new Decimal('1e12')\n  player.sixthCostAnts = new Decimal('1e36')\n  player.seventhCostAnts = new Decimal('1e100')\n  player.eighthCostAnts = new Decimal('1e300')\n\n  if (player.cubeUpgrades[48] > 0) {\n    player.firstOwnedAnts = 1\n    player.firstCostAnts = new Decimal('1e741')\n  }\n\n  const ant12 = player.antUpgrades[12 - 1]\n  player.antUpgrades = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, ant12]\n  player.antPoints = new Decimal('1')\n\n  if (player.currentChallenge.ascension === 12) {\n    player.antPoints = new Decimal('7')\n  }\n\n  calculateAnts()\n  calculateRuneLevels()\n}\n\nconst resetResearches = () => {\n  player.researchPoints = 0\n  // Array listing all the research indexes deserving of removal\n  // dprint-ignore\n  const destroy = [\n    6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 21, 22, 23, 24, 25,\n    26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38,\n    51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 62, 63, 64, 65, 66, 67, 68, 69, 70,\n    76, 81, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 96, 97, 98,\n    101, 102, 103, 104, 106, 107, 108, 109, 110, 116, 117, 118, 121, 122, 123,\n    126, 127, 128, 129, 131, 132, 133, 134, 136, 137, 139, 141, 142, 143, 144, 146, 147, 148, 149,\n    151, 152, 154, 156, 157, 158, 159, 161, 162, 163, 164, 166, 167, 169, 171, 172, 173, 174,\n    176, 177, 178, 179, 181, 182, 184, 186, 187, 188, 189, 191, 192, 193, 194, 196, 197, 199\n  ]\n\n  if (player.highestSingularityCount < 25) {\n    destroy.push(138, 153, 168, 183, 198)\n  }\n\n  for (const item of destroy) {\n    player.researches[item] = 0\n  }\n}\n\nconst resetTalismans = () => {\n  player.talismanLevels = [0, 0, 0, 0, 0, 0, 0]\n  player.talismanRarity = [1, 1, 1, 1, 1, 1, 1]\n\n  player.talismanShards = 0\n  player.commonFragments = 0\n  player.uncommonFragments = 0\n  player.rareFragments = 0\n  player.epicFragments = 0\n  player.legendaryFragments = 0\n  player.mythicalFragments = 0\n}\n", "import {\n  calculateAnts,\n  calculateAntSacrificeELO,\n  calculateAntSacrificeRewards,\n  calculateRuneLevels,\n  calculateSigmoid,\n  calculateSigmoidExponential\n} from './Calculate'\nimport { format, player } from './Synergism'\nimport { Globals as G } from './Variables'\n\nimport type { DecimalSource } from 'break_infinity.js'\nimport Decimal from 'break_infinity.js'\nimport i18next from 'i18next'\nimport { achievementaward } from './Achievements'\nimport { DOMCacheGetOrSet } from './Cache/DOM'\nimport { Synergism } from './Events'\nimport type { ResetHistoryEntryAntSacrifice } from './History'\nimport { buyResearch } from './Research'\nimport { resetAnts } from './Reset'\nimport { Tabs } from './Tabs'\nimport { updateTalismanInventory } from './Talismans'\nimport { clearInterval, setInterval } from './Timers'\nimport type { FirstToEighth, ZeroToSeven } from './types/Synergism'\nimport { Confirm, revealStuff } from './UpdateHTML'\nimport { smallestInc } from './Utility'\n\nconst antspecies: Record<`antspecies${number}`, string> = {\n  antspecies1: 'Inceptus Formicidae',\n  antspecies2: 'Fortunae Formicidae',\n  antspecies3: 'Tributum Formicidae',\n  antspecies4: 'Celeritas Formicidae',\n  antspecies5: 'Multa Formicidae',\n  antspecies6: 'Sacrificium Formicidae',\n  antspecies7: 'Hic Formicidae',\n  antspecies8: 'Experientia Formicidae',\n  antspecies9: 'Praemoenio Formicidae',\n  antspecies10: 'Scientia Formicidae',\n  antspecies11: 'Phylacterium Formicidae',\n  antspecies12: 'Mortuus Est Formicidae'\n}\n\nexport const calculateCrumbToCoinExp = () => {\n  const exponent = player.currentChallenge.ascension !== 15\n    ? 100000 + calculateSigmoidExponential(49900000, (player.antUpgrades[2 - 1]! + G.bonusant2) / 5000 * 500 / 499)\n    : 1 / 10000\n      * (100000 + calculateSigmoidExponential(49900000, (player.antUpgrades[2 - 1]! + G.bonusant2) / 5000 * 500 / 499))\n\n  return exponent\n}\n\nconst antUpgradeTexts = [\n  () => format(Decimal.pow(1.12 + 1 / 1000 * player.researches[101], player.antUpgrades[1 - 1]! + G.bonusant1), 2),\n  () => format(calculateCrumbToCoinExp()),\n  () => format(0.005 + 0.995 * Math.pow(0.99, player.antUpgrades[3 - 1]! + G.bonusant3), 4),\n  () =>\n    format(100 * (calculateSigmoidExponential(20, (player.antUpgrades[4 - 1]! + G.bonusant4) / 1000 * 20 / 19) - 1), 3),\n  () =>\n    format(100 * (calculateSigmoidExponential(40, (player.antUpgrades[5 - 1]! + G.bonusant5) / 1000 * 40 / 39) - 1), 3),\n  () => format(1 + Math.pow(player.antUpgrades[6 - 1]! + G.bonusant6, 0.66), 4),\n  () => format(Math.min(9999999, 3 * player.antUpgrades[7 - 1]! + 3 * G.bonusant7), 0, true),\n  () =>\n    format(calculateSigmoidExponential(999, 1 / 10000 * Math.pow(player.antUpgrades[8 - 1]! + G.bonusant8, 1.1)), 3),\n  () => format(1 * Math.min(1e7, player.antUpgrades[9 - 1]! + G.bonusant9), 0, true),\n  () => format(1 + 2 * Math.pow((player.antUpgrades[10 - 1]! + G.bonusant10) / 50, 0.75), 4),\n  () => format(1 + 2 * (1 - Math.pow(2, -(player.antUpgrades[11 - 1]! + G.bonusant11) / 125)), 4),\n  () => format(calculateSigmoid(2, player.antUpgrades[12 - 1]! + G.bonusant12, 69), 4)\n]\n\nlet repeatAnt: ReturnType<typeof setTimeout>\n\nexport const antRepeat = (i: number) => {\n  clearInterval(repeatAnt)\n  repeatAnt = setInterval(() => updateAntDescription(i), 50)\n}\n\nexport const updateAntDescription = (i: number) => {\n  if (G.currentTab !== Tabs.AntHill) {\n    return\n  }\n  const el = DOMCacheGetOrSet('anttierdescription')\n  const la = DOMCacheGetOrSet('antprice')\n  const ti = DOMCacheGetOrSet('antquantity')\n  const me = DOMCacheGetOrSet('generateant')\n\n  let priceType = 'ants.costGalacticCrumbs'\n  let tier: FirstToEighth = 'first'\n  let x!: string\n  el.textContent = i18next.t(`ants.descriptions.${i}`)\n\n  switch (i) {\n    case 1:\n      priceType = 'ants.costParticles'\n      tier = 'first'\n      x = format(G.antOneProduce, 5)\n      break\n    case 2:\n      tier = 'second'\n      x = format(G.antTwoProduce, 5)\n      break\n    case 3:\n      tier = 'third'\n      x = format(G.antThreeProduce, 5)\n      break\n    case 4:\n      tier = 'fourth'\n      x = format(G.antFourProduce, 5)\n      break\n    case 5:\n      tier = 'fifth'\n      x = format(G.antFiveProduce, 5)\n      break\n    case 6:\n      tier = 'sixth'\n      x = format(G.antSixProduce, 5)\n      break\n    case 7:\n      tier = 'seventh'\n      x = format(G.antSevenProduce, 5)\n      break\n    case 8:\n      tier = 'eighth'\n      x = format(G.antEightProduce, 5)\n      break\n  }\n\n  me.textContent = i18next.t(`ants.generates.${i}`, { x })\n  la.textContent = i18next.t(priceType, { x: format(player[`${tier}CostAnts` as const]) })\n  ti.textContent = i18next.t('ants.owned', {\n    x: format(player[`${tier}OwnedAnts` as const]),\n    y: format(player[`${tier}GeneratedAnts` as const], 2)\n  })\n}\n\nconst getAntCost = (originalCost: Decimal, buyTo: number, index: number) => {\n  ;--buyTo\n\n  // Determine how much the cost is for buyTo\n  const cost = originalCost\n    .times(Decimal.pow(G.antCostGrowth[index - 1], buyTo))\n    .add(1 * buyTo)\n\n  return cost\n}\n\nconst getAntUpgradeCost = (originalCost: Decimal, buyTo: number, index: number) => {\n  ;--buyTo\n\n  const cost = originalCost.times(Decimal.pow(G.antUpgradeCostIncreases[index - 1], buyTo))\n  return cost\n}\n\n// Note to self: REWRITE THIS SHIT Kevin :3\nexport const buyAntProducers = (pos: FirstToEighth, originalCost: DecimalSource, index: number) => {\n  const sacrificeMult = antSacrificePointsToMultiplier(player.antSacrificePoints)\n  // This is a fucking cool function. This will buymax ants cus why not\n\n  // Things we need: the position of producers, the costvalues, and input var i\n  originalCost = new Decimal(originalCost)\n  // Initiate type of resource used\n  const tag = index === 1 ? 'reincarnationPoints' : 'antPoints'\n  const key = `${pos}OwnedAnts` as const\n\n  const buydefault = player[key] + smallestInc(player[key])\n  let buyTo = buydefault\n  let cashToBuy = getAntCost(originalCost, buyTo, index)\n  while (player[tag].gte(cashToBuy)) {\n    // Multiply by 4 until the desired amount. Iterate from there\n    buyTo = buyTo * 4\n    cashToBuy = getAntCost(originalCost, buyTo, index)\n  }\n  let stepdown = Math.floor(buyTo / 8)\n  while (stepdown >= smallestInc(buyTo)) {\n    if (getAntCost(originalCost, buyTo - stepdown, index).lte(player[tag])) {\n      stepdown = Math.floor(stepdown / 2)\n    } else {\n      buyTo = buyTo - Math.max(smallestInc(buyTo), stepdown)\n    }\n  }\n\n  if (!player.antMax) {\n    if (buydefault < buyTo) {\n      buyTo = buydefault\n    }\n  }\n  // go down by 7 steps below the last one able to be bought and spend the cost of 25 up to the one that you started with and stop if coin goes below requirement\n  let buyFrom = Math.max(buyTo - 6 - smallestInc(buyTo), buydefault)\n  let thisCost = getAntCost(originalCost, buyFrom, index)\n  while (buyFrom <= buyTo && player[tag].gte(thisCost)) {\n    player[tag] = player[tag].sub(thisCost)\n    player[key] = buyFrom\n    buyFrom = buyFrom + smallestInc(buyFrom)\n    thisCost = getAntCost(originalCost, buyFrom, index)\n    player[`${pos}CostAnts` as const] = thisCost\n  }\n  if (player.reincarnationPoints.lt(0)) {\n    player.reincarnationPoints = new Decimal('0')\n  }\n  if (player.antPoints.lt(0)) {\n    player.antPoints = new Decimal('0')\n  }\n  calculateAntSacrificeELO()\n\n  // Check if we award Achievement 176-182: Ant autobuy\n  const achRequirements = [2, 6, 20, 100, 500, 6666, 77777]\n  for (let j = 0; j < achRequirements.length; j++) {\n    if (\n      player.achievements[176 + j] === 0 && sacrificeMult > achRequirements[j]\n      && player[`${G.ordinals[j + 1 as ZeroToSeven]}OwnedAnts` as const] > 0\n    ) {\n      achievementaward(176 + j)\n    }\n  }\n\n  if (player.firstOwnedAnts > 6.9e7) {\n    player.firstOwnedAnts = 6.9e7\n  }\n}\n\nexport const buyAntUpgrade = (originalCost: DecimalSource, auto: boolean, index: number) => {\n  if (player.currentChallenge.ascension !== 11) {\n    originalCost = new Decimal(originalCost)\n    const buydefault = player.antUpgrades[index - 1]! + smallestInc(player.antUpgrades[index - 1]!)\n    let buyTo = buydefault\n    let cashToBuy = getAntUpgradeCost(originalCost, buyTo, index)\n    while (player.antPoints.gte(cashToBuy)) {\n      // Multiply by 4 until the desired amount. Iterate from there\n      buyTo = buyTo * 4\n      cashToBuy = getAntUpgradeCost(originalCost, buyTo, index)\n    }\n    let stepdown = Math.floor(buyTo / 8)\n    while (stepdown >= smallestInc(buyTo)) {\n      if (getAntUpgradeCost(originalCost, buyTo - stepdown, index).lte(player.antPoints)) {\n        stepdown = Math.floor(stepdown / 2)\n      } else {\n        buyTo = buyTo - Math.max(smallestInc(buyTo), stepdown)\n      }\n    }\n    if (!player.antMax) {\n      if (buydefault < buyTo) {\n        buyTo = buydefault\n      }\n    }\n    // go down by 7 steps below the last one able to be bought and spend the cost of 25 up to the one that you started with and stop if coin goes below requirement\n    let buyFrom = Math.max(buyTo - 6 - smallestInc(buyTo), buydefault)\n    let thisCost = getAntUpgradeCost(originalCost, buyFrom, index)\n    while (buyFrom <= buyTo && player.antPoints.gte(thisCost)) {\n      player.antPoints = player.antPoints.sub(thisCost)\n      player.antUpgrades[index - 1] = buyFrom\n      buyFrom = buyFrom + smallestInc(buyFrom)\n      thisCost = getAntUpgradeCost(originalCost, buyFrom, index)\n    }\n    calculateAnts()\n    calculateRuneLevels()\n    calculateAntSacrificeELO()\n    if (!auto) {\n      antUpgradeDescription(index)\n    }\n    if (player.antUpgrades[12 - 1] === 1 && index === 12) {\n      revealStuff()\n    }\n  }\n}\n\nexport const antUpgradeDescription = (i: number) => {\n  const el = DOMCacheGetOrSet('antspecies')\n  const al = DOMCacheGetOrSet('antlevelbonus')\n  const la = DOMCacheGetOrSet('antupgradedescription')\n  const ti = DOMCacheGetOrSet('antupgradecost')\n  const me = DOMCacheGetOrSet('antupgradeeffect')\n\n  const content1 = antspecies[`antspecies${i}`]\n  const content2 = i18next.t(`ants.upgrades.${i}`)\n  const bonuslevel = G[`bonusant${i}` as keyof typeof G] as typeof G['bonusant1']\n\n  const c11 = player.currentChallenge.ascension === 11 ? 999 : 0\n\n  el.childNodes[0].textContent = `${content1} Level ${format(player.antUpgrades[i - 1])}`\n  al.textContent = ` [+${format(Math.min(player.antUpgrades[i - 1]! + c11, bonuslevel))}]`\n  la.textContent = content2\n  ti.textContent = i18next.t('ants.costGalacticCrumbs', {\n    x: format(\n      Decimal.pow(\n        G.antUpgradeCostIncreases[i - 1],\n        player.antUpgrades[i - 1]! * G.extinctionMultiplier[player.usedCorruptions[10]]\n      ).times(G.antUpgradeBaseCost[i - 1])\n    )\n  })\n  me.textContent = i18next.t(`ants.rewards.${i}`, {\n    x: antUpgradeTexts[i - 1]()\n  })\n}\n\nexport const antSacrificePointsToMultiplier = (points: number) => {\n  let multiplier = Math.pow(1 + points / 5000, 2)\n  multiplier *= 1 + 0.2 * Math.log(1 + points) / Math.log(10)\n  if (player.achievements[174] > 0) {\n    multiplier *= 1 + 0.4 * Math.log(1 + points) / Math.log(10)\n  }\n  return Math.min(1e300, multiplier)\n}\n\nexport const showSacrifice = () => {\n  const sacRewards = calculateAntSacrificeRewards()\n  DOMCacheGetOrSet('antSacrificeSummary').style.display = 'block'\n\n  DOMCacheGetOrSet('ELO').innerHTML = i18next.t('ants.yourAntELO', {\n    x: format(G.antELO, 2),\n    y: format(G.effectiveELO, 2, false)\n  })\n\n  DOMCacheGetOrSet('SacrificeMultiplier').innerHTML = i18next.t('ants.antSacMultiplier', {\n    y: format(antSacrificePointsToMultiplier(player.antSacrificePoints), 3, false),\n    x: format(antSacrificePointsToMultiplier(player.antSacrificePoints + sacRewards.antSacrificePoints), 3, false)\n  })\n\n  DOMCacheGetOrSet('SacrificeUpgradeMultiplier').innerHTML = i18next.t('ants.upgradeMultiplier', {\n    x: format(G.upgradeMultiplier, 3, true)\n  })\n\n  DOMCacheGetOrSet('SacrificeTimeMultiplier').innerHTML = i18next.t('ants.timeMultiplier', {\n    x: format(G.timeMultiplier, 3, true)\n  })\n\n  DOMCacheGetOrSet('antSacrificeOffering').textContent = `+${format(sacRewards.offerings)}`\n  DOMCacheGetOrSet('antSacrificeObtainium').textContent = `+${format(sacRewards.obtainium)}`\n  if (player.challengecompletions[9] > 0) {\n    DOMCacheGetOrSet('antSacrificeTalismanShard').textContent = i18next.t('ants.elo', {\n      x: format(sacRewards.talismanShards),\n      y: 500\n    })\n    DOMCacheGetOrSet('antSacrificeCommonFragment').textContent = i18next.t('ants.elo', {\n      x: format(sacRewards.commonFragments),\n      y: 750\n    })\n    DOMCacheGetOrSet('antSacrificeUncommonFragment').textContent = i18next.t('ants.elo', {\n      x: format(sacRewards.uncommonFragments),\n      y: 1000\n    })\n    DOMCacheGetOrSet('antSacrificeRareFragment').textContent = i18next.t('ants.elo', {\n      x: format(sacRewards.rareFragments),\n      y: 1500\n    })\n    DOMCacheGetOrSet('antSacrificeEpicFragment').textContent = i18next.t('ants.elo', {\n      x: format(sacRewards.epicFragments),\n      y: 2000\n    })\n    DOMCacheGetOrSet('antSacrificeLegendaryFragment').textContent = i18next.t('ants.elo', {\n      x: format(sacRewards.legendaryFragments),\n      y: 3000\n    })\n    DOMCacheGetOrSet('antSacrificeMythicalFragment').textContent = i18next.t('ants.elo', {\n      x: format(sacRewards.mythicalFragments),\n      y: 5000\n    })\n  }\n}\n\nexport const sacrificeAnts = async (auto = false) => {\n  let p = true\n\n  if (player.antPoints.gte('1e40')) {\n    if (!auto && player.toggles[32]) {\n      p = await Confirm(i18next.t('ants.autoReset'))\n    }\n    if (p) {\n      const antSacrificePointsBefore = player.antSacrificePoints\n\n      const sacRewards = calculateAntSacrificeRewards()\n      player.antSacrificePoints += sacRewards.antSacrificePoints\n      player.runeshards += sacRewards.offerings\n\n      if (player.currentChallenge.ascension !== 14) {\n        player.researchPoints += sacRewards.obtainium\n      }\n\n      const historyEntry: ResetHistoryEntryAntSacrifice = {\n        date: Date.now(),\n        seconds: player.antSacrificeTimer,\n        kind: 'antsacrifice',\n        offerings: sacRewards.offerings,\n        obtainium: sacRewards.obtainium,\n        antSacrificePointsBefore,\n        antSacrificePointsAfter: player.antSacrificePoints,\n        baseELO: G.antELO,\n        effectiveELO: G.effectiveELO,\n        crumbs: player.antPoints.toString(),\n        crumbsPerSecond: G.antOneProduce.toString()\n      }\n\n      if (player.challengecompletions[9] > 0) {\n        player.talismanShards = Math.min(1e300, player.talismanShards + sacRewards.talismanShards)\n        player.commonFragments = Math.min(1e300, player.commonFragments + sacRewards.commonFragments)\n        player.uncommonFragments = Math.min(1e300, player.uncommonFragments + sacRewards.uncommonFragments)\n        player.rareFragments = Math.min(1e300, player.rareFragments + sacRewards.rareFragments)\n        player.epicFragments = Math.min(1e300, player.epicFragments + sacRewards.epicFragments)\n        player.legendaryFragments = Math.min(1e300, player.legendaryFragments + sacRewards.legendaryFragments)\n        player.mythicalFragments = Math.min(1e300, player.mythicalFragments + sacRewards.mythicalFragments)\n      }\n\n      // Now we're safe to reset the ants.\n      resetAnts()\n      player.antSacrificeTimer = 0\n      player.antSacrificeTimerReal = 0\n      updateTalismanInventory()\n      if (player.autoResearch > 0 && player.autoResearchToggle) {\n        const linGrowth = (player.autoResearch === 200) ? 0.01 : 0\n        buyResearch(player.autoResearch, true, linGrowth)\n      }\n      calculateAntSacrificeELO()\n\n      Synergism.emit('historyAdd', 'ants', historyEntry)\n    }\n  }\n\n  if (player.mythicalFragments >= 1e11 && player.currentChallenge.ascension === 14 && player.achievements[248] < 1) {\n    achievementaward(248)\n  }\n}\n\nexport const autoBuyAnts = () => {\n  const canAffordUpgrade = (x: number, m: DecimalSource) =>\n    player.antPoints.gte(\n      getAntUpgradeCost(new Decimal(G.antUpgradeBaseCost[x - 1]), player.antUpgrades[x - 1]! + 1, x).times(m)\n    )\n  const ach = [176, 176, 177, 178, 178, 179, 180, 180, 181, 182, 182, 145]\n  const cost = ['100', '100', '1000', '1000', '1e5', '1e6', '1e8', '1e11', '1e15', '1e20', '1e40', '1e100']\n  if (player.currentChallenge.ascension !== 11) {\n    for (let i = 1; i <= ach.length; i++) {\n      const check = i === 12 ? player.researches[ach[i - 1]] : player.achievements[ach[i - 1]]\n      if (check && canAffordUpgrade(i, 2)) {\n        buyAntUpgrade(cost[i - 1], true, i)\n      }\n    }\n  }\n\n  const _ach = [173, 176, 177, 178, 179, 180, 181, 182]\n  const _cost = ['1e700', '3', '100', '10000', '1e12', '1e36', '1e100', '1e300']\n  for (let i = 1; i <= _ach.length; i++) {\n    const res = i === 1 ? player.reincarnationPoints : player.antPoints\n    const m = i === 1 ? 1 : 2 // no multiplier on the first ant cost because it costs particles\n    if (\n      player.achievements[_ach[i - 1]]\n      && res.gte(player[`${G.ordinals[i - 1 as ZeroToSeven]}CostAnts` as const].times(m))\n    ) {\n      buyAntProducers(\n        G.ordinals[i - 1] as Parameters<typeof buyAntProducers>[0],\n        _cost[i - 1],\n        i\n      )\n    }\n  }\n}\n", "import { sacrificeAnts } from './Ants'\nimport { boostAccelerator, buyAccelerator, buyMultiplier } from './Buy'\nimport { DOMCacheGetOrSet } from './Cache/DOM'\nimport { promocodes } from './ImportExport'\nimport { useConsumable } from './Shop'\nimport { player, resetCheck, synergismHotkeys } from './Synergism'\nimport { keyboardTabChange as kbTabChange, tabRow, Tabs } from './Tabs'\nimport { confirmReply, toggleAutoChallengeRun, toggleCorruptionLevel } from './Toggles'\nimport { Alert, Confirm, Prompt } from './UpdateHTML'\nimport { Globals as G } from './Variables'\n\nexport const defaultHotkeys = new Map<string, [string, () => unknown, /* hide during notification */ boolean]>([\n  ['A', ['Buy Accelerators', () => buyAccelerator(), false]],\n  ['B', ['Boost Accelerator', () => boostAccelerator(), false]],\n  ['C', ['Auto Challenge', () => {\n    toggleChallengeSweep()\n  }, false]],\n  ['E', ['Exit T / R Challenge', () => {\n    if (player.autoChallengeRunning) {\n      toggleChallengeSweep()\n    } else {\n      exitTranscendAndPrestigeChallenge()\n    }\n  }, false]],\n  ['M', ['Multipliers', () => buyMultiplier(), false]],\n  ['N', ['No (Cancel)', () => confirmReply(false), true]],\n  ['P', ['Reset Prestige', () => resetCheck('prestige'), false]],\n  ['R', ['Reset Reincarnate', () => resetCheck('reincarnation'), false]],\n  ['S', ['Sacrifice Ants', () => sacrificeAnts(), false]],\n  ['T', ['Reset Transcend', () => resetCheck('transcension'), false]],\n  ['Y', ['Yes (OK)', () => confirmReply(true), true]],\n  ['ARROWLEFT', ['Back a tab', () => kbTabChange(-1), false]],\n  ['ARROWRIGHT', ['Next tab', () => kbTabChange(1), false]],\n  ['ARROWUP', ['Back a subtab', () => kbTabChange(-1, true), false]],\n  ['ARROWDOWN', ['Next subtab', () => kbTabChange(1, true), false]],\n  ['SHIFT+A', ['Reset Ascend', () => resetCheck('ascension'), false]],\n  ['SHIFT+C', ['Cleanse Corruptions', () => toggleCorruptionLevel(10, 999), false]],\n  ['SHIFT+D', ['Spec. Action Add x1', () => promocodes('add', 1), false]],\n  ['SHIFT+E', ['Exit Asc. Challenge', () => resetCheck('ascensionChallenge'), false]], // Its already checks if inside Asc. Challenge\n  ['SHIFT+O', ['Use Off. Potion', () => useConsumable('offeringPotion'), false]],\n  ['SHIFT+P', ['Use Obt. Potion', () => useConsumable('obtainiumPotion'), false]],\n  ['SHIFT+S', ['Reset Singularity', () => resetCheck('singularity'), false]],\n  ['CTRL+B', ['Un-hide Tabs', () => tabRow.reappend(), false]]\n])\n\nexport let hotkeysEnabled = false\n\nexport let hotkeys = new Map<string, [string, () => unknown, boolean]>(defaultHotkeys)\n\nconst toggleChallengeSweep = (): void => {\n  if (player.researches[150] > 0) {\n    toggleAutoChallengeRun()\n    if (!player.autoChallengeRunning) {\n      exitTranscendAndPrestigeChallenge()\n    }\n  }\n}\n\nconst exitTranscendAndPrestigeChallenge = () => {\n  if (player.currentChallenge.reincarnation !== 0) {\n    void resetCheck('reincarnationChallenge', undefined, true)\n  }\n  if (player.currentChallenge.transcension !== 0) {\n    void resetCheck('transcensionChallenge', undefined, true)\n  }\n}\n\nconst eventHotkeys = (event: KeyboardEvent): void => {\n  if (!hotkeysEnabled || !player.toggles[39]) {\n    // There was a race condition where a user could spam Shift + S + Enter to\n    // Singularity which would cause a bug when rune 7 was bought. To prevent this,\n    // the game disables hotkeys when on the offline progress screen, and re-\n    // enables them when the user leaves.\n    return\n  }\n\n  if (document.activeElement?.localName === 'input') {\n    // https://developer.mozilla.org/en-US/docs/Web/API/Event/stopPropagation\n    // finally fixes the bug where hotkeys would be activated when typing in an input field\n    event.stopPropagation()\n    return\n  }\n\n  synergismHotkeys(event, event.code.replace(/^(Digit|Numpad)/, '').toUpperCase())\n\n  let keyPrefix = ''\n  if (event.ctrlKey) {\n    keyPrefix += 'CTRL+'\n  }\n  if (event.shiftKey) {\n    keyPrefix += 'SHIFT+'\n  }\n  if (event.altKey) {\n    keyPrefix += 'ALT+'\n  }\n\n  const key = keyPrefix + event.key.toUpperCase()\n\n  // Disable the TAB key as it may allow unexpected operations\n  if (key === 'TAB') {\n    event.preventDefault()\n  }\n\n  // Disable hotkeys if notifications are occurring\n  if (key !== 'ENTER' && DOMCacheGetOrSet('transparentBG').style.display === 'block') {\n    if (hotkeys.has(key) && (!hotkeys.get(key)![2])) {\n      return\n    }\n  }\n\n  let hotkeyName = ''\n  if (hotkeys.has(key)) {\n    hotkeyName = `${hotkeys.get(key)![0]}`\n    hotkeys.get(key)![1]()\n    event.preventDefault()\n  }\n\n  if (G.currentTab === Tabs.Settings && player.subtabNumber === 6) {\n    DOMCacheGetOrSet('lastHotkey').textContent = key\n    DOMCacheGetOrSet('lastHotkeyName').textContent = hotkeyName\n  }\n}\n\nconst makeSlot = (key: string, descr: string) => {\n  const div = document.createElement('div')\n  div.classList.add('hotkeyItem')\n\n  const span = document.createElement('span')\n  span.id = 'actualHotkey'\n  span.textContent = key\n  span.addEventListener('click', async (e) => {\n    const target = e.target as HTMLElement\n    const oldKey = target.textContent!.toUpperCase()\n    const name = hotkeys.get(oldKey)?.[0]\n      ?? target.nextSibling?.textContent\n\n    // new value to set key as, unformatted\n    const newKey = await Prompt(`\n        Enter the new key you want to activate ${name} with.\n\n        MDN has a list of values for \"special keys\" if you would like to use one:\n        https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/key/Key_Values\n\n        You can also prefix your hotkey with [Ctrl,Shift,Alt]+<key>\n        `)\n\n    if (typeof newKey !== 'string') {\n      return\n    }\n\n    const toSet = newKey.toUpperCase()\n\n    if (newKey.length === 0) {\n      return void Alert('You didn\\'t enter anything, canceled!')\n    }\n\n    if (!isNaN(Number(newKey))) {\n      return void Alert('Number keys are currently unavailable!')\n    }\n\n    if (hotkeys.has(toSet) || oldKey === toSet) {\n      return void Alert('That key is already binded to an action, use another key instead!')\n    } else if (hotkeys.has(oldKey)) {\n      const old = hotkeys.get(oldKey)!\n\n      hotkeys.set(toSet, old)\n      hotkeys.delete(oldKey)\n\n      const keys = Object.keys(player.hotkeys)\n      player.hotkeys[keys.length] = [oldKey, toSet]\n\n      target.textContent = toSet\n\n      enableHotkeys()\n    } else {\n      return void Alert(`No hotkey is triggered by ${oldKey}!`)\n    }\n  })\n\n  const p = document.createElement('p')\n  p.id = 'hotKeyDesc'\n  p.textContent = descr\n\n  div.appendChild(span)\n  div.appendChild(p)\n\n  return div\n}\n\nexport const disableHotkeys = () => hotkeysEnabled = false\n\nexport const enableHotkeys = () => {\n  changeHotkeys()\n\n  const hotkey = document.querySelector('.hotkeys')!\n\n  for (const child of Array.from(hotkey.children)) {\n    hotkey.removeChild(child)\n  }\n\n  for (const [key, [descr]] of [...hotkeys.entries()]) {\n    const div = makeSlot(key, descr)\n\n    hotkey.appendChild(div)\n  }\n\n  hotkeysEnabled = true\n}\n\nexport const changeHotkeys = () => {\n  hotkeys = new Map(defaultHotkeys)\n\n  for (const key in player.hotkeys) {\n    const oldKey = player.hotkeys[key][0]\n    const toSet = player.hotkeys[key][1]\n    if (hotkeys.has(oldKey)) {\n      const old = hotkeys.get(oldKey)!\n      hotkeys.set(toSet, old)\n      hotkeys.delete(oldKey)\n    } else {\n      Reflect.deleteProperty(player.hotkeys, key)\n    }\n  }\n}\n\nexport const resetHotkeys = async () => {\n  enableHotkeys()\n\n  const keys = Object.keys(player.hotkeys)\n  if (keys.length === 0) {\n    return await Alert('You haven\\'t changed the hotkey')\n  }\n\n  let settext = ''\n  const hotkey = new Map(defaultHotkeys)\n  for (const key in player.hotkeys) {\n    const oldKey = player.hotkeys[key][0]\n    const toSet = player.hotkeys[key][1]\n    if (hotkey.has(oldKey)) {\n      const old = hotkey.get(oldKey)!\n      settext += `\\t${oldKey}[${old[0]}] to ${toSet}, `\n      hotkey.set(toSet, old)\n      hotkey.delete(oldKey)\n    }\n  }\n\n  const confirmed = await Confirm(\n    `Are you sure you want to default all the changed hotkeys?\\nBelow is a history of hotkeys you have changed\\n\\n${settext}`\n  )\n  if (confirmed) {\n    hotkeys = new Map(defaultHotkeys)\n    player.hotkeys = {}\n    enableHotkeys()\n  }\n}\n\nexport const pressedKeys = new Set<string>()\n\ndocument.addEventListener('keydown', (event) => {\n  eventHotkeys(event)\n\n  pressedKeys.add(event.code)\n})\n\ndocument.addEventListener('keyup', (event) => pressedKeys.delete(event.code))\n", "import { DOMCacheGetOrSet } from './Cache/DOM'\nimport { calculateAmbrosiaGenerationSpeed } from './Calculate'\nimport { pressedKeys } from './Hotkeys'\nimport { player } from './Synergism'\nimport {\n  setActiveSettingScreen,\n  toggleBuildingScreen,\n  toggleChallengesScreen,\n  toggleCorruptionLoadoutsStats,\n  toggleCubeSubTab,\n  toggleRuneScreen,\n  toggleSingularityScreen\n} from './Toggles'\nimport { changeTabColor, hideStuff, revealStuff } from './UpdateHTML'\nimport { assert, limitRange } from './Utility'\nimport { Globals as G } from './Variables'\n\nexport enum Tabs {\n  Buildings = 0,\n  Upgrades = 1,\n  Achievements = 2,\n  Runes = 3,\n  Challenges = 4,\n  Research = 5,\n  AntHill = 6,\n  WowCubes = 7,\n  Corruption = 8,\n  Singularity = 9,\n  Settings = 10,\n  Shop = 11,\n  Event = 12\n}\n\n/**\n * If step is provided, move the page back/forward {step} pages.\n * If page is provided, change the subtab to {page}\n */\ntype SubTabSwitchOptions = { step: number; page?: undefined } | { page: number; step?: undefined }\n\ninterface SubTab {\n  tabSwitcher?: () => (id: string) => unknown\n  subTabList: {\n    subTabID: string\n    unlocked: boolean\n    buttonID?: string\n  }[]\n}\n\nconst subtabInfo: Record<Tabs, SubTab> = {\n  [Tabs.Settings]: {\n    tabSwitcher: () => setActiveSettingScreen,\n    subTabList: [\n      { subTabID: 'settingsubtab', unlocked: true },\n      { subTabID: 'languagesubtab', unlocked: true },\n      { subTabID: 'creditssubtab', unlocked: true },\n      { subTabID: 'statisticsSubTab', unlocked: true },\n      {\n        subTabID: 'resetHistorySubTab',\n        get unlocked () {\n          return player.unlocks.prestige\n        }\n      },\n      {\n        subTabID: 'ascendHistorySubTab',\n        get unlocked () {\n          return player.ascensionCount > 0\n        }\n      },\n      {\n        subTabID: 'singularityHistorySubTab',\n        get unlocked () {\n          return player.highestSingularityCount > 0\n        }\n      },\n      { subTabID: 'hotkeys', unlocked: true },\n      { subTabID: 'accountSubTab', unlocked: true }\n    ]\n  },\n  [Tabs.Shop]: { subTabList: [] },\n  [Tabs.Buildings]: {\n    tabSwitcher: () => toggleBuildingScreen,\n    subTabList: [\n      { subTabID: 'coin', unlocked: true, buttonID: 'switchToCoinBuilding' },\n      {\n        subTabID: 'diamond',\n        get unlocked () {\n          return player.unlocks.prestige\n        },\n        buttonID: 'switchToDiamondBuilding'\n      },\n      {\n        subTabID: 'mythos',\n        get unlocked () {\n          return player.unlocks.transcend\n        },\n        buttonID: 'switchToMythosBuilding'\n      },\n      {\n        subTabID: 'particle',\n        get unlocked () {\n          return player.unlocks.reincarnate\n        },\n        buttonID: 'switchToParticleBuilding'\n      },\n      {\n        subTabID: 'tesseract',\n        get unlocked () {\n          return player.achievements[183] > 0\n        },\n        buttonID: 'switchToTesseractBuilding'\n      }\n    ]\n  },\n  [Tabs.Upgrades]: { subTabList: [] },\n  [Tabs.Achievements]: { subTabList: [] },\n  [Tabs.Runes]: {\n    tabSwitcher: () => toggleRuneScreen,\n    subTabList: [\n      {\n        subTabID: '1',\n        get unlocked () {\n          return player.unlocks.prestige\n        },\n        buttonID: 'toggleRuneSubTab1'\n      },\n      {\n        subTabID: '2',\n        get unlocked () {\n          return player.achievements[134] > 0\n        },\n        buttonID: 'toggleRuneSubTab2'\n      },\n      {\n        subTabID: '3',\n        get unlocked () {\n          return player.achievements[134] > 0\n        },\n        buttonID: 'toggleRuneSubTab3'\n      },\n      {\n        subTabID: '4',\n        get unlocked () {\n          return player.achievements[204] > 0\n        },\n        buttonID: 'toggleRuneSubTab4'\n      }\n    ]\n  },\n  [Tabs.Challenges]: {\n    tabSwitcher: () => toggleChallengesScreen,\n    subTabList: [\n      { subTabID: '1', unlocked: true, buttonID: 'toggleChallengesSubTab1' },\n      {\n        subTabID: '2',\n        get unlocked () {\n          return player.highestSingularityCount >= 25\n        },\n        buttonID: 'toggleChallengesSubTab2'\n      }\n    ]\n  },\n  [Tabs.Research]: { subTabList: [] },\n  [Tabs.AntHill]: { subTabList: [] },\n  [Tabs.WowCubes]: {\n    tabSwitcher: () => toggleCubeSubTab,\n    subTabList: [\n      {\n        subTabID: '1',\n        get unlocked () {\n          return player.achievements[141] > 0\n        },\n        buttonID: 'switchCubeSubTab1'\n      },\n      {\n        subTabID: '2',\n        get unlocked () {\n          return player.achievements[197] > 0\n        },\n        buttonID: 'switchCubeSubTab2'\n      },\n      {\n        subTabID: '3',\n        get unlocked () {\n          return player.achievements[211] > 0\n        },\n        buttonID: 'switchCubeSubTab3'\n      },\n      {\n        subTabID: '4',\n        get unlocked () {\n          return player.achievements[218] > 0\n        },\n        buttonID: 'switchCubeSubTab4'\n      },\n      {\n        subTabID: '5',\n        get unlocked () {\n          return player.achievements[141] > 0\n        },\n        buttonID: 'switchCubeSubTab5'\n      },\n      {\n        subTabID: '6',\n        get unlocked () {\n          return player.achievements[218] > 0\n        },\n        buttonID: 'switchCubeSubTab6'\n      },\n      {\n        subTabID: '7',\n        get unlocked () {\n          return player.challenge15Exponent >= 1e15\n        },\n        buttonID: 'switchCubeSubTab7'\n      }\n    ]\n  },\n  [Tabs.Corruption]: {\n    tabSwitcher: () => toggleCorruptionLoadoutsStats,\n    subTabList: [\n      {\n        subTabID: 'true',\n        get unlocked () {\n          return player.achievements[141] > 0\n        },\n        buttonID: 'corrStatsBtn'\n      },\n      {\n        subTabID: 'false',\n        get unlocked () {\n          return player.achievements[141] > 0\n        },\n        buttonID: 'corrLoadoutsBtn'\n      }\n    ]\n  },\n  [Tabs.Singularity]: {\n    tabSwitcher: () => toggleSingularityScreen,\n    subTabList: [\n      {\n        subTabID: '1',\n        get unlocked () {\n          return player.highestSingularityCount > 0\n        },\n        buttonID: 'toggleSingularitySubTab1'\n      },\n      {\n        subTabID: '2',\n        get unlocked () {\n          return player.highestSingularityCount > 0\n        },\n        buttonID: 'toggleSingularitySubTab2'\n      },\n      {\n        subTabID: '3',\n        get unlocked () {\n          return Boolean(player.singularityUpgrades.octeractUnlock.getEffect().bonus)\n        },\n        buttonID: 'toggleSingularitySubTab3'\n      },\n      {\n        subTabID: '4',\n        get unlocked () {\n          return player.singularityChallenges.noSingularityUpgrades.completions >= 1\n        },\n        buttonID: 'toggleSingularitySubTab4'\n      }\n    ]\n  },\n  [Tabs.Event]: { subTabList: [] }\n}\n\nclass TabRow extends HTMLDivElement {\n  #list: $Tab[] = []\n  #currentTab!: $Tab\n\n  constructor () {\n    super()\n\n    this.id = 'tabrow'\n    this.style.cssText = `\n      text-align: center;\n      width: 100%;\n      list-style: none;\n      margin: 0;\n      margin-inline: unset;\n      margin-block: unset;\n      padding-inline: unset;\n      display: flex;\n      justify-content: center;\n      gap: 0 5px;\n    `\n  }\n\n  getSubs () {\n    return this.#list\n  }\n\n  appendButton (...elements: $Tab[]) {\n    for (const element of elements) {\n      this.#list.push(element)\n      this.appendChild(element)\n    }\n\n    this.#currentTab = this.#list[0]\n    this.#createDrag()\n  }\n\n  getCurrentTab (): $Tab {\n    return this.#currentTab\n  }\n\n  setNextTab () {\n    const index = this.#list.indexOf(this.#currentTab)\n\n    this.#currentTab = this.#list[index + 1] ?? this.#list[0]\n    return this.#currentTab\n  }\n\n  setPreviousTab () {\n    const index = this.#list.indexOf(this.#currentTab)\n\n    this.#currentTab = this.#list[index - 1] ?? this.#list[this.#list.length - 1]\n    return this.#currentTab\n  }\n\n  getNextTab (tab = this.#currentTab) {\n    const index = this.#list.indexOf(tab)\n\n    return this.#list[index + 1] ?? this.#list[0]\n  }\n\n  getPreviousTab (tab = this.#currentTab) {\n    const index = this.#list.indexOf(tab)\n\n    return this.#list[index - 1] ?? this.#list[this.#list.length - 1]\n  }\n\n  reappend () {\n    this.replaceChildren()\n\n    for (const item of this.#list) {\n      this.appendChild(item)\n    }\n\n    this.#list.forEach((el) => el.resetHidden())\n  }\n\n  #createDrag () {\n    let dragSrcEl: HTMLElement | null = null\n\n    const handleDragStart = (e: DragEvent) => {\n      assert(e.target instanceof HTMLElement)\n\n      e.target.style.opacity = '0.4'\n\n      dragSrcEl = e.target\n\n      e.dataTransfer!.effectAllowed = 'move'\n    }\n\n    const handleDragEnter = (e: DragEvent) => {\n      if (e.target instanceof HTMLElement) {\n        e.target.classList.add('over')\n      }\n    }\n\n    const handleDragLeave = (e: DragEvent) => {\n      if (e.target instanceof HTMLElement) {\n        e.target.classList.remove('over')\n      }\n    }\n\n    const handleDrop = (e: DragEvent) => {\n      e.stopPropagation()\n\n      if (dragSrcEl !== e.target && dragSrcEl !== null) {\n        this.insertBefore(dragSrcEl, e.target as HTMLElement)\n\n        const dragIndex = this.#list.indexOf(dragSrcEl as $Tab)\n        const targetIndex = this.#list.indexOf(e.target as $Tab)\n\n        this.#list.splice(targetIndex, 0, this.#list[dragIndex])\n        this.#list.splice(this.#list.indexOf(dragSrcEl as $Tab, dragIndex), 1)\n      }\n\n      return false\n    }\n\n    const handleDragEnd = (e: DragEvent) => {\n      assert(e.target instanceof HTMLElement)\n      e.target.style.opacity = '1'\n\n      this.#list.forEach((item) => {\n        item.classList.remove('over')\n      })\n    }\n\n    this.#list.forEach((item) => {\n      item.addEventListener('dragstart', handleDragStart, false)\n      item.addEventListener('dragenter', handleDragEnter, false)\n      item.addEventListener('dragover', handleDrop, false)\n      item.addEventListener('dragleave', handleDragLeave, false)\n      item.addEventListener('drop', handleDrop, false)\n      item.addEventListener('dragend', handleDragEnd, false)\n    })\n  }\n}\n\ninterface kSubTabOptionsBag {\n  id: string\n  class?: string\n  i18n?: string\n  borderColor?: string\n}\n\nclass $Tab extends HTMLButtonElement {\n  #unlocked = () => true\n  #type!: Tabs\n  #removeable = false\n  #hidden = false\n\n  constructor (options: kSubTabOptionsBag) {\n    super()\n\n    this.id = options.id\n    if (options.class) {\n      this.classList.add(options.class)\n    }\n    if (options.i18n) {\n      this.setAttribute('i18n', options.i18n)\n    }\n    if (options.borderColor) {\n      this.style.borderColor = options.borderColor\n    }\n\n    this.addEventListener('click', () => {\n      if (this.#removeable && pressedKeys.has('ControlLeft') && pressedKeys.has('KeyX')) {\n        // When clicking on a tab while holding CTRL + X\n        if (G.currentTab !== this.#type) {\n          tabRow.removeChild(this)\n          this.#hidden = true\n        }\n      } else {\n        changeTab(this.#type)\n        changeTabColor()\n      }\n    })\n  }\n\n  setUnlockedState (fn: () => boolean) {\n    this.#unlocked = fn\n    return this\n  }\n\n  isUnlocked () {\n    return this.#unlocked() && !this.#hidden\n  }\n\n  setType (type: Tabs) {\n    this.#type = type\n    return this\n  }\n\n  getType () {\n    return this.#type!\n  }\n\n  getSubTabs () {\n    return subtabInfo[this.#type]\n  }\n\n  makeDraggable () {\n    this.setAttribute('draggable', 'true')\n    return this\n  }\n\n  makeRemoveable () {\n    this.#removeable = true\n    return this\n  }\n\n  resetHidden () {\n    this.#hidden = false\n  }\n}\n\ncustomElements.define('tab-row', TabRow, { extends: 'div' })\ncustomElements.define('sub-tab', $Tab, { extends: 'button' })\n\nexport const tabRow = new TabRow()\ndocument.getElementsByClassName('navbar').item(0)?.appendChild(tabRow)\n\ntabRow.appendButton(\n  new $Tab({ id: 'buildingstab', i18n: 'tabs.main.buildings' })\n    .setType(Tabs.Buildings)\n    .makeDraggable()\n    .makeRemoveable(),\n  new $Tab({ id: 'upgradestab', i18n: 'tabs.main.upgrades' })\n    .setType(Tabs.Upgrades)\n    .makeDraggable()\n    .makeRemoveable(),\n  new $Tab({ id: 'achievementstab', i18n: 'tabs.main.achievements', class: 'coinunlock4' })\n    .setUnlockedState(() => player.unlocks.coinfour)\n    .setType(Tabs.Achievements)\n    .makeDraggable()\n    .makeRemoveable(),\n  new $Tab({ class: 'prestigeunlock', id: 'runestab', i18n: 'tabs.main.runes' })\n    .setUnlockedState(() => player.unlocks.prestige)\n    .setType(Tabs.Runes)\n    .makeDraggable()\n    .makeRemoveable(),\n  new $Tab({ class: 'transcendunlock', id: 'challengetab', i18n: 'tabs.main.challenges' })\n    .setUnlockedState(() => player.unlocks.transcend)\n    .setType(Tabs.Challenges)\n    .makeDraggable()\n    .makeRemoveable(),\n  new $Tab({ class: 'reincarnationunlock', id: 'researchtab', i18n: 'tabs.main.research' })\n    .setUnlockedState(() => player.unlocks.reincarnate)\n    .setType(Tabs.Research)\n    .makeDraggable()\n    .makeRemoveable(),\n  new $Tab({ class: 'chal8', id: 'anttab', i18n: 'tabs.main.antHill' })\n    .setUnlockedState(() => player.achievements[127] > 0)\n    .setType(Tabs.AntHill)\n    .makeDraggable()\n    .makeRemoveable(),\n  new $Tab({ class: 'chal10', id: 'cubetab', i18n: 'tabs.main.wowCubes' })\n    .setUnlockedState(() => player.achievements[141] > 0)\n    .setType(Tabs.WowCubes)\n    .makeDraggable()\n    .makeRemoveable(),\n  new $Tab({ class: 'chal11', id: 'traitstab', i18n: 'tabs.main.corruption' })\n    .setUnlockedState(() => player.challengecompletions[11] > 0)\n    .setType(Tabs.Corruption)\n    .makeDraggable()\n    .makeRemoveable(),\n  new $Tab({ class: 'singularity', id: 'singularitytab', i18n: 'tabs.main.singularity' })\n    .setUnlockedState(() => player.highestSingularityCount > 0)\n    .setType(Tabs.Singularity)\n    .makeDraggable()\n    .makeRemoveable(),\n  new $Tab({ id: 'settingstab', i18n: 'tabs.main.settings' })\n    .setType(Tabs.Settings)\n    .makeDraggable(),\n  new $Tab({ class: 'reincarnationunlock', id: 'shoptab', i18n: 'tabs.main.shop' })\n    .setUnlockedState(() => player.unlocks.reincarnate || player.highestSingularityCount > 0)\n    .setType(Tabs.Shop)\n    .makeDraggable()\n    .makeRemoveable(),\n  new $Tab({ class: 'isEvent', id: 'eventtab', i18n: 'tabs.main.unsmith' })\n    .setUnlockedState(() => G.isEvent)\n    .setType(Tabs.Event)\n    .makeDraggable()\n    .makeRemoveable()\n)\n\n/**\n * @param step 1 to go forward; -1 to go back\n * @param changeSubtab true to change the subtab, false to change the main tabs\n */\nexport const keyboardTabChange = (step: 1 | -1 = 1, changeSubtab = false) => {\n  let tab = step === 1 ? tabRow.getNextTab() : tabRow.getPreviousTab()\n\n  while (!tab?.isUnlocked()) {\n    tab = step === 1 ? tabRow.getNextTab(tab) : tabRow.getPreviousTab(tab)\n  }\n\n  if (changeSubtab) {\n    changeSubTab(tab.getType(), { step })\n  } else {\n    changeTab(tab.getType(), step)\n  }\n}\n\nexport const changeTab = (tabs: Tabs, step?: number) => {\n  if (step === 1) {\n    tabRow.setNextTab()\n  } else if (step === -1) {\n    tabRow.setPreviousTab()\n  } else {\n    while (tabRow.getCurrentTab().getType() !== tabs) {\n      tabRow.setNextTab()\n    }\n  }\n\n  while (!tabRow.getCurrentTab().isUnlocked()) {\n    if (step === 1 || step === undefined) {\n      tabRow.setNextTab()\n    } else {\n      tabRow.setPreviousTab()\n    }\n  }\n\n  G.currentTab = tabRow.getCurrentTab().getType()\n  player.tabnumber = 0\n\n  revealStuff()\n  hideStuff()\n  ;(document.activeElement as HTMLElement | null)?.blur()\n\n  const subTabList = subtabInfo[G.currentTab].subTabList\n  if (G.currentTab !== Tabs.Settings) {\n    for (let i = 0; i < subTabList.length; i++) {\n      const id = subTabList[i].buttonID\n      if (id) {\n        const button = DOMCacheGetOrSet(id)\n\n        if (button.style.backgroundColor === 'crimson') { // handles every tab except settings and corruptions\n          player.subtabNumber = i\n          break\n        }\n        // what in the shit is this?!\n        if (player.tabnumber === 9 && button.style.borderColor === 'dodgerblue') { // handle corruption tab\n          player.subtabNumber = i\n          break\n        }\n      }\n    }\n  } else { // handle settings tab\n    // The first getElementById makes sure that it still works if other tabs start using the subtabSwitcher class\n    const btns = document.querySelectorAll('[id^=\"switchSettingSubTab\"]')\n    for (let i = 0; i < btns.length; i++) {\n      if (btns[i].classList.contains('buttonActive')) {\n        player.subtabNumber = i\n        break\n      }\n    }\n  }\n}\n\nexport const changeSubTab = (tabs: Tabs, { page, step }: SubTabSwitchOptions) => {\n  let tab = tabRow.getCurrentTab()\n\n  if (tab.getType() !== tabs) {\n    changeTab(tab.getType())\n    tab = tabRow.getCurrentTab()\n  }\n\n  const subTabs = tab.getSubTabs()\n\n  if (!tab.isUnlocked() || subTabs.subTabList.length === 0) {\n    return\n  }\n\n  if (page !== undefined) {\n    player.subtabNumber = limitRange(page, 0, subTabs.subTabList.length - 1)\n  } else {\n    player.subtabNumber = limitRange(player.subtabNumber + step, 0, subTabs.subTabList.length - 1)\n  }\n\n  let subTabList = subTabs.subTabList[player.subtabNumber]\n\n  while (!subTabList.unlocked) {\n    assert(page === undefined)\n    player.subtabNumber = limitRange(player.subtabNumber + step, 0, subTabs.subTabList.length - 1)\n    subTabList = subTabs.subTabList[player.subtabNumber]\n  }\n\n  if (subTabList.unlocked) {\n    subTabs.tabSwitcher?.()(subTabList.subTabID)\n    if (tab.getType() === Tabs.Singularity && page === 3) {\n      player.visitedAmbrosiaSubtab = true\n      G.ambrosiaCurrStats.ambrosiaGenerationSpeed = calculateAmbrosiaGenerationSpeed().value\n    }\n  }\n}\n\nexport function subTabsInMainTab (name: Tabs) {\n  let tab = tabRow.getCurrentTab()\n\n  while (tab.getType() !== name) {\n    tab = tabRow.setNextTab()\n  }\n\n  return tab.getSubTabs().subTabList.length\n}\n", "import Decimal from 'break_infinity.js'\nimport { Tabs } from './Tabs'\nimport type { GlobalVariables } from './types/Synergism'\n\nexport enum Upgrade {\n  coin = 'coins',\n  prestige = 'prestigePoints',\n  transcend = 'transcendPoints',\n  reincarnation = 'reincarnationPoints'\n}\n\nexport const Globals: GlobalVariables = {\n  runediv: [1.5, 2, 3, 5, 8, 1, 1],\n  runeexpbase: [1, 4, 9, 16, 1000, 1e75, 1e256],\n  runeMaxLvl: 40000,\n\n  // this shows the logarithm of costs. ex: upgrade one will cost 1e+6 coins, upgrade 2 1e+7, etc.\n  // dprint-ignore\n  upgradeCosts: [\n    0, 6, 7, 8, 10, 12, 20, 25, 30, 35, 45, 55, 75, 110, 150, 200, 250, 500, 750, 1000, 1500,\n    2, 3, 4, 5, 6, 7, 10, 13, 20, 30, 150, 400, 800, 1600, 3200, 10000, 20000, 50000, 100000, 200000,\n    1, 2, 3, 5, 6, 7, 42, 65, 87, 150, 300, 500, 1000, 1500, 2000, 3000, 6000, 12000, 25000, 75000,\n    0, 1, 2, 2, 3, 5, 6, 10, 15, 22, 30, 37, 45, 52, 60, 1900, 2500, 3000, 7482, 21397,\n    3, 6, 9, 12, 15, 20, 30, 6, 8, 8, 10, 13, 60, 1, 2, 4, 8, 16, 25, 40,\n    12, 16, 20, 30, 50, 500, 1250, 5000, 25000, 125000, 1500, 7500, 30000, 150000, 1000000, 250, 1000, 5000, 25000, 125000,\n    1e3, 1e6, 1e9, 1e12, 1e15\n  ],\n\n  // Mega list of Variables to be used elsewhere\n  crystalUpgradesCost: [6, 15, 20, 40, 100, 200, 500, 1000],\n  crystalUpgradeCostIncrement: [8, 15, 20, 40, 100, 200, 500, 1000],\n  // dprint-ignore\n  researchBaseCosts: [\n    1e200,\n    1, 1, 1, 1, 1,\n    1, 1e2, 1e4, 1e6, 1e8,\n    2, 2e2, 2e4, 2e6, 2e8,\n    4e4, 4e8, 10, 1e5, 1e9,\n    100, 100, 1e4, 2e3, 2e5,\n    40, 200, 50, 5000, 20000000,\n    777, 7777, 50000, 500000, 5000000,\n    2e3, 2e6, 2e9, 1e5, 1e9,\n    1, 1, 5, 25, 125,\n    2, 5, 320, 1280, 2.5e9,\n    10, 2e3, 4e5, 8e7, 2e9,\n    5, 400, 1e4, 3e6, 9e8,\n    100, 2500, 100, 2000, 2e5,\n    1, 20, 3e3, 4e5, 5e7,\n    10, 40, 160, 1000, 10000,\n    4e9, 7e9, 1e10, 1.2e10, 1.5e10,\n    1e12, 1e13, 3e12, 2e13, 2e13,\n    2e14, 6e14, 2e15, 6e15, 2e16,\n    1e16, 2e16, 2e17, 4e17, 1e18,\n    1e13, 1e14, 1e15, 7.777e18, 7.777e20,\n    1e16, 3e16, 1e17, 3e17, 1e20,\n    1e18, 3e18, 1e19, 3e19, 1e20,\n    1e20, 2e20, 4e20, 8e20, 1e21,\n    2e21, 4e21, 8e21, 2e22, 4e22,\n    3.2e21, 2e23, 4e23, 1e21, 7.777e32,\n    5e8, 5e12, 5e16, 5e20, 5e24, /*ascension tier */\n    1e25, 2e25, 4e25, 8e25, 1e26,\n    4e26, 8e26, 1e27, 2e27, 1e28,\n    5e9, 5e15, 5e21, 5e27, 1e28, /*challenge 11 tier */\n    1e29, 2e29, 4e29, 8e29, 1e27,\n    2e30, 4e30, 8e30, 1e31, 2e31,\n    5e31, 1e32, 2e32, 4e32, 8e32, /*challenge 12 tier */\n    1e33, 2e33, 4e33, 8e33, 1e34,\n    3e34, 1e35, 3e35, 6e35, 1e36,\n    3e36, 1e37, 3e37, 1e38, 3e38, /*challenge 13 tier */\n    1e39, 3e39, 1e40, 3e40, 1e50,\n    3e41, 1e42, 3e42, 6e42, 1e43,\n    3e43, 1e44, 3e44, 1e45, 3e45, /*challenge 14 tier */\n    2e46, 6e46, 2e47, 6e47, 1e64,\n    6e48, 2e49, 1e50, 1e51, 4e56\n  ],\n\n  // dprint-ignore\n  researchMaxLevels: [\n    0, 1, 1, 1, 1, 1,\n    10, 10, 10, 10, 10,\n    10, 10, 10, 10, 10,\n    10, 10, 1, 1, 1,\n    25, 25, 25, 20, 20,\n    10, 10, 10, 10, 10,\n    12, 12, 10, 10, 10,\n    10, 10, 10, 1, 1,\n    1, 1, 1, 1, 1,\n    1, 1, 1, 1, 1,\n    10, 10, 10, 10, 10,\n    20, 20, 20, 20, 20,\n    1, 5, 4, 5, 5,\n    10, 10, 10, 10, 10,\n    1, 1, 1, 1, 1,\n    10, 50, 50, 50, 50,\n    10, 1, 20, 20, 20,\n    20, 20, 20, 20, 10,\n    20, 20, 20, 20, 1,\n    20, 5, 5, 3, 2,\n    10, 10, 10, 10, 1,\n    10, 10, 20, 25, 25,\n    50, 50, 50, 50, 100,\n    10, 10, 10, 100, 100,\n    25, 25, 25, 1, 5,\n    10, 10, 10, 10, 1,\n    10, 10, 10, 1, 1,\n    25, 25, 25, 15, 1,\n    10, 10, 10, 10, 1,\n    10, 1, 6, 10, 1,\n    25, 25, 1, 15, 1,\n    10, 10, 10, 1, 1,\n    10, 10, 10, 10, 1,\n    25, 25, 25, 15, 1,\n    10, 10, 10, 1, 1,\n    10, 3, 6, 10, 5,\n    25, 25, 1, 15, 1,\n    20, 20, 20, 1, 1,\n    20, 1, 50, 50, 10,\n    25, 25, 25, 15, 100000\n  ],\n\n  ticker: 0,\n\n  costDivisor: 1,\n\n  freeAccelerator: 0,\n  totalAccelerator: 0,\n  freeAcceleratorBoost: 0,\n  totalAcceleratorBoost: 0,\n  acceleratorPower: 1.10,\n  acceleratorEffect: new Decimal(1),\n  acceleratorEffectDisplay: new Decimal(1),\n  generatorPower: new Decimal(1),\n\n  freeMultiplier: 0,\n  totalMultiplier: 0,\n  multiplierPower: 2,\n  multiplierEffect: new Decimal(1),\n  challengeOneLog: 3,\n  freeMultiplierBoost: 0,\n  totalMultiplierBoost: 0,\n\n  globalCoinMultiplier: new Decimal(1),\n  totalCoinOwned: 0,\n  prestigeMultiplier: new Decimal(1),\n  buildingPower: 1,\n  reincarnationMultiplier: new Decimal(1),\n\n  coinOneMulti: new Decimal(1),\n  coinTwoMulti: new Decimal(1),\n  coinThreeMulti: new Decimal(1),\n  coinFourMulti: new Decimal(1),\n  coinFiveMulti: new Decimal(1),\n\n  globalCrystalMultiplier: new Decimal(1),\n  globalMythosMultiplier: new Decimal(0.01),\n  grandmasterMultiplier: new Decimal(1),\n\n  atomsMultiplier: new Decimal(1),\n\n  mythosBuildingPower: 1,\n  challengeThreeMultiplier: new Decimal(1),\n  totalMythosOwned: 0,\n\n  prestigePointGain: new Decimal(0),\n  challengeFivePower: 1 / 3,\n\n  transcendPointGain: new Decimal(0),\n  reincarnationPointGain: new Decimal(0),\n\n  produceFirst: new Decimal(0),\n  produceSecond: new Decimal(0),\n  produceThird: new Decimal(0),\n  produceFourth: new Decimal(0),\n  produceFifth: new Decimal(0),\n  produceTotal: new Decimal(0),\n\n  produceFirstDiamonds: new Decimal(0),\n  produceSecondDiamonds: new Decimal(0),\n  produceThirdDiamonds: new Decimal(0),\n  produceFourthDiamonds: new Decimal(0),\n  produceFifthDiamonds: new Decimal(0),\n  produceDiamonds: new Decimal(0),\n\n  produceFirstMythos: new Decimal(0),\n  produceSecondMythos: new Decimal(0),\n  produceThirdMythos: new Decimal(0),\n  produceFourthMythos: new Decimal(0),\n  produceFifthMythos: new Decimal(0),\n  produceMythos: new Decimal(0),\n\n  produceFirstParticles: new Decimal(0),\n  produceSecondParticles: new Decimal(0),\n  produceThirdParticles: new Decimal(0),\n  produceFourthParticles: new Decimal(0),\n  produceFifthParticles: new Decimal(0),\n  produceParticles: new Decimal(0),\n\n  producePerSecond: new Decimal(0),\n  producePerSecondDiamonds: new Decimal(0),\n  producePerSecondMythos: new Decimal(0),\n  producePerSecondParticles: new Decimal(0),\n\n  uFourteenMulti: new Decimal(1),\n  uFifteenMulti: new Decimal(1),\n  tuSevenMulti: 1,\n  currentTab: Tabs.Buildings,\n\n  researchfiller1: 'Hover over the grid to get details about researches!',\n  researchfiller2: 'Level: ',\n\n  // dprint-ignore\n  ordinals: ['first', 'second', 'third', 'fourth', 'fifth', 'sixth', 'seventh', 'eighth', 'ninth', 'tenth', 'eleventh', 'twelfth', 'thirteenth', 'fourteenth', 'fifteenth', 'sixteenth', 'seventeenth', 'eighteenth', 'nineteenth', 'twentieth'] as const,\n  // dprint-ignore\n  cardinals: ['one', 'two', 'three', 'four', 'five', 'six', 'seven', 'eight', 'nine', 'ten', 'eleven', 'twelve', 'thirteen', 'fourteen', 'fifteen', 'sixteen', 'seventeen', 'eighteen', 'nineteen', 'twenty', 'twentyone', 'twentytwo', 'twentythree', 'twentyfour', 'twentyfive', 'twentysix', 'twentyseven', 'twentyeight', 'twentynine', 'thirty', 'thirtyone', 'thirtytwo', 'thirtythree', 'thirtyfour'],\n\n  challengeBaseRequirements: [10, 20, 60, 100, 200, 125, 500, 7500, 2.0e8, 3.5e9],\n\n  prestigeamount: 1,\n  taxdivisor: new Decimal('1'),\n  taxdivisorcheck: new Decimal('1'),\n  runemultiplierincrease: {\n    one: 1,\n    two: 1,\n    three: 1,\n    four: 1,\n    five: 1\n  },\n\n  mythosupgrade13: new Decimal('1'),\n  mythosupgrade14: new Decimal('1'),\n  mythosupgrade15: new Decimal('1'),\n  challengefocus: 0,\n\n  maxexponent: 10000,\n\n  effectiveLevelMult: 1,\n  optimalOfferingTimer: 600,\n  optimalObtainiumTimer: 3600,\n\n  runeSum: 0,\n\n  globalAntMult: new Decimal('1'),\n  antMultiplier: new Decimal('1'),\n\n  antOneProduce: new Decimal('1'),\n  antTwoProduce: new Decimal('1'),\n  antThreeProduce: new Decimal('1'),\n  antFourProduce: new Decimal('1'),\n  antFiveProduce: new Decimal('1'),\n  antSixProduce: new Decimal('1'),\n  antSevenProduce: new Decimal('1'),\n  antEightProduce: new Decimal('1'),\n\n  antCostGrowth: [1e41, 3, 10, 1e2, 1e4, 1e8, 1e16, 1e32],\n\n  antUpgradeBaseCost: [100, 100, 1000, 1000, 1e5, 1e6, 1e8, 1e11, 1e15, 1e20, 1e40, 1e100],\n  antUpgradeCostIncreases: [10, 10, 10, 10, 100, 100, 100, 100, 1000, 1000, 1000, 1e100],\n\n  bonusant1: 0,\n  bonusant2: 0,\n  bonusant3: 0,\n  bonusant4: 0,\n  bonusant5: 0,\n  bonusant6: 0,\n  bonusant7: 0,\n  bonusant8: 0,\n  bonusant9: 0,\n  bonusant10: 0,\n  bonusant11: 0,\n  bonusant12: 0,\n\n  rune1level: 1,\n  rune2level: 1,\n  rune3level: 1,\n  rune4level: 1,\n  rune5level: 1,\n  rune1Talisman: 0,\n  rune2Talisman: 0,\n  rune3Talisman: 0,\n  rune4Talisman: 0,\n  rune5Talisman: 0,\n\n  talisman1Effect: [null, 0, 0, 0, 0, 0],\n  talisman2Effect: [null, 0, 0, 0, 0, 0],\n  talisman3Effect: [null, 0, 0, 0, 0, 0],\n  talisman4Effect: [null, 0, 0, 0, 0, 0],\n  talisman5Effect: [null, 0, 0, 0, 0, 0],\n  talisman6Effect: [null, 0, 0, 0, 0, 0],\n  talisman7Effect: [null, 0, 0, 0, 0, 0],\n\n  talisman6Power: 0,\n  talisman7Quarks: 0,\n\n  runescreen: 'runes',\n  settingscreen: 'settings',\n\n  talismanResourceObtainiumCosts: [1e13, 1e14, 1e16, 1e18, 1e20, 1e22, 1e24],\n  talismanResourceOfferingCosts: [100, 1e4, 1e5, 1e6, 1e7, 1e8, 1e9],\n\n  talismanLevelCostMultiplier: [1, 4, 1e4, 1e8, 1e13, 10, 100],\n\n  talismanPositiveModifier: [null, 0.75, 1.5, 2.25, 3, 3.75, 4.5],\n  talismanNegativeModifier: [null, 0, 0, 0, 0, 0, 0],\n\n  commonTalismanEnhanceCost: [null, 0, 3000, 1000, 0, 0, 0, 0],\n  uncommonTalismanEnchanceCost: [null, 0, 10000, 3000, 1000, 0, 0, 0],\n  rareTalismanEnchanceCost: [null, 0, 100000, 20000, 2000, 500, 0, 0],\n  epicTalismanEnhanceCost: [null, 0, 2e6, 2e5, 2e4, 2000, 1000, 0],\n  legendaryTalismanEnchanceCost: [null, 0, 4e7, 2e6, 1e5, 20000, 2500, 200],\n  mythicalTalismanEnchanceCost: [null, 0, 0, 0, 0, 0, 0, 0],\n\n  talismanRespec: 1,\n\n  obtainiumGain: 0,\n\n  mirrorTalismanStats: [null, 1, 1, 1, 1, 1],\n  antELO: 0,\n  effectiveELO: 0,\n\n  timeWarp: false,\n\n  blessingMultiplier: 1,\n  spiritMultiplier: 1,\n  runeBlessings: [0, 0, 0, 0, 0, 0],\n  runeSpirits: [0, 0, 0, 0, 0, 0],\n\n  effectiveRuneBlessingPower: [0, 0, 0, 0, 0, 0],\n  effectiveRuneSpiritPower: [0, 0, 0, 0, 0, 0],\n\n  blessingBaseCost: 1e6,\n  spiritBaseCost: 1e20,\n\n  triggerChallenge: 0,\n\n  prevReductionValue: -1,\n\n  buildingSubTab: 'coin',\n  // 1,000 of each before Diminishing Returns\n  blessingbase: [null, 1 / 500, 1 / 5000, 1 / 2000, 1 / 750, 1 / 200, 1 / 10000, 1 / 5000, 1 / 10, 1 / 10000, 1 / 1000],\n  blessingDRPower: [null, 1 / 3, 1 / 3, 2 / 3, 1 / 2, 2 / 3, 2, 1 / 3, 1 / 3, 1 / 16, 1 / 16],\n  giftbase: [1 / 1000, 1 / 1000, 1 / 1000, 1 / 1000, 1 / 1000, 1 / 1000, 1 / 1000, 1 / 1000, 1 / 1000, 1 / 1000],\n  giftDRPower: [1 / 6, 1 / 6, 1 / 3, 1 / 4, 1 / 3, 1, 1 / 6, 1 / 6, 1 / 32, 1 / 32],\n  benedictionbase: [\n    null,\n    1 / 1000,\n    1 / 1000,\n    1 / 1000,\n    1 / 1000,\n    1 / 1000,\n    1 / 1000,\n    1 / 1000,\n    1 / 1000,\n    1 / 1000,\n    1 / 1000\n  ],\n  benedictionDRPower: [null, 1 / 12, 1 / 12, 1 / 6, 1 / 8, 1 / 6, 1 / 2, 1 / 12, 1 / 12, 1 / 64, 1 / 64],\n  // 10 Million of each before Diminishing returns on first 3, 200k for second, and 10k for the last few\n  platonicCubeBase: [2 / 4e6, 1.5 / 4e6, 1 / 4e6, 1 / 8e4, 1 / 1e4, 1 / 1e5, 1 / 1e4, 1 / 1e4],\n  platonicDRPower: [1 / 5, 1 / 5, 1 / 5, 1 / 5, 1 / 16, 1 / 16, 1 / 4, 1 / 8],\n\n  cubeBonusMultiplier: [null, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],\n  tesseractBonusMultiplier: [null, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],\n  hypercubeBonusMultiplier: [null, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],\n  platonicBonusMultiplier: [1, 1, 1, 1, 1, 1, 1, 1],\n\n  autoOfferingCounter: 0,\n  researchOrderByCost: [],\n\n  viscosityPower: [1, 0.87, 0.80, 0.75, 0.70, 0.6, 0.54, 0.45, 0.39, 0.33, 0.3, 0.2, 0.1, 0.05, 0, 0, 0],\n  lazinessMultiplier: [\n    1,\n    1 / 3,\n    1 / 10,\n    1 / 40,\n    1 / 200,\n    1 / 1e5,\n    1 / 1e7,\n    1 / 1e10,\n    1 / 1e13,\n    1 / 1e16,\n    1 / 1e20,\n    1 / 1e25,\n    1 / 1e35,\n    1 / 1e50,\n    1 / 1e65,\n    1 / 1e80,\n    1 / 1e100\n  ],\n  hyperchallengedMultiplier: [1, 1.2, 1.5, 1.7, 3, 5, 8, 13, 21, 34, 55, 100, 400, 1600, 7777, 18888, 88888],\n  illiteracyPower: [1, 0.8, 0.7, 0.6, 0.5, 0.3, 0.2, 0.15, 0.10, 0.06, 0.04, 0.02, 0.01, 0.005, 0, 0, 0],\n  deflationMultiplier: [\n    1,\n    0.3,\n    0.1,\n    0.03,\n    0.01,\n    1 / 1e6,\n    1 / 1e8,\n    1 / 1e10,\n    1 / 1e12,\n    1 / 1e15,\n    1 / 1e18,\n    1 / 1e25,\n    1 / 1e35,\n    1 / 1e50,\n    1 / 1e77,\n    0,\n    0\n  ],\n  extinctionMultiplier: [1, 0.92, 0.86, 0.8, 0.74, 0.65, 0.55, 0.5, 0.45, 0.4, 0.35, 0.3, 0.1, 0, 0, 0, 0],\n  droughtMultiplier: [1, 5, 25, 200, 1e4, 1e7, 1e11, 1e16, 1e22, 1e30, 1e40, 1e55, 1e80, 1e120, 1e177, 1e200, 1e250],\n  financialcollapsePower: [\n    1,\n    0.9,\n    0.7,\n    0.6,\n    0.5,\n    0.37,\n    0.30,\n    0.23,\n    0.18,\n    0.15,\n    0.12,\n    0.09,\n    0.03,\n    0.01,\n    0.007,\n    0.0007,\n    0.00007\n  ],\n\n  corruptionPointMultipliers: [1, 3, 4, 5, 6, 7, 7.75, 8.5, 9.25, 10, 10.75, 11.5, 12.25, 13, 16, 20, 25, 33, 35],\n  ascendBuildingProduction: {\n    first: new Decimal('0'),\n    second: new Decimal('0'),\n    third: new Decimal('0'),\n    fourth: new Decimal('0'),\n    fifth: new Decimal('0')\n  },\n  freeUpgradeAccelerator: 0,\n  freeUpgradeMultiplier: 0,\n\n  acceleratorMultiplier: 1,\n  multiplierMultiplier: 1,\n\n  constUpgradeCosts: [null, 1, 13, 17, 237, 316, 4216, 5623, 74989, 1e10, 1e24],\n\n  globalConstantMult: new Decimal('1'),\n  autoTalismanTimer: 0,\n\n  autoChallengeTimerIncrement: 0,\n  corruptionTrigger: 1,\n\n  challenge15Rewards: {\n    cube1: 1,\n    ascensions: 1,\n    coinExponent: 1,\n    taxes: 1,\n    obtainium: 1,\n    offering: 1,\n    accelerator: 1,\n    multiplier: 1,\n    runeExp: 1,\n    runeBonus: 1,\n    cube2: 1,\n    transcendChallengeReduction: 1,\n    reincarnationChallengeReduction: 1,\n    antSpeed: 1,\n    bonusAntLevel: 1,\n    cube3: 1,\n    talismanBonus: 1,\n    globalSpeed: 1,\n    blessingBonus: 1,\n    constantBonus: 1,\n    cube4: 1,\n    spiritBonus: 1,\n    score: 1,\n    quarks: 1,\n    hepteractUnlocked: 0,\n    cube5: 1,\n    powder: 1,\n    exponent: 1,\n    freeOrbs: 0,\n    ascensionSpeed: 1\n  },\n\n  autoResetTimers: {\n    prestige: 0,\n    transcension: 0,\n    reincarnation: 0,\n    ascension: 0\n  },\n\n  timeMultiplier: 1,\n  upgradeMultiplier: 1,\n\n  historyCountMax: 20,\n\n  isEvent: false,\n  shopEnhanceVision: false,\n\n  // talismanResourceObtainiumCosts: [1e13, 1e14, 1e16, 1e18, 1e20, 1e22, 1e24]\n  // talismanResourceOfferingCosts: [0, 1e4, 1e5, 1e6, 1e7, 1e8, 1e9]\n\n  eventClicked: false,\n\n  ambrosiaTimer: 0,\n  TIME_PER_AMBROSIA: 600,\n\n  ambrosiaCurrStats: {\n    ambrosiaAdditiveLuckMult: 1,\n    ambrosiaLuck: 100,\n    ambrosiaBlueberries: 0,\n    ambrosiaGenerationSpeed: 1\n  },\n\n  currentSingChallenge: undefined\n}\n\nexport const blankGlobals = { ...Globals }\n", "import i18next from 'i18next'\nimport { DOMCacheGetOrSet } from './Cache/DOM'\nimport { calculateAmbrosiaGenerationSpeed, calculateAmbrosiaLuck, calculateBlueberryInventory } from './Calculate'\nimport type { IUpgradeData } from './DynamicUpgrade'\nimport { DynamicUpgrade } from './DynamicUpgrade'\nimport { format, player } from './Synergism'\nimport type { Player } from './types/Synergism'\nimport { Alert, Prompt, revealStuff } from './UpdateHTML'\nimport { toOrdinal } from './Utility'\nimport { Globals as G } from './Variables'\n\nexport const updateSingularityPenalties = (): void => {\n  const singularityCount = player.singularityCount\n  const platonic = singularityCount > 36\n    ? i18next.t('singularity.penalties.platonicCosts', {\n      multiplier: format(\n        calculateSingularityDebuff('Platonic Costs', singularityCount),\n        2,\n        true\n      )\n    })\n    : '<span class=\"grayText\">???????? ??????? ????? ??? ?????????? ?? ???</span> <span class=\"redText\">(37)</span>'\n  const hepteract = singularityCount > 50\n    ? i18next.t('singularity.penalties.hepteractCosts', {\n      multiplier: format(\n        calculateSingularityDebuff('Hepteract Costs', singularityCount),\n        2,\n        true\n      )\n    })\n    : '<span class=\"grayText\">????????? ????? ????? ??? ?????????? ?? ???</span> <span class=\"redText\">(51)</span>'\n  const str = `${getSingularityOridnalText(singularityCount)}<br>${\n    i18next.t(\n      'singularity.penalties.globalSpeed',\n      {\n        divisor: format(\n          calculateSingularityDebuff('Global Speed', singularityCount),\n          2,\n          true\n        )\n      }\n    )\n  }\n        ${\n    i18next.t('singularity.penalties.ascensionSpeed', {\n      divisor: format(\n        calculateSingularityDebuff('Ascension Speed', singularityCount),\n        2,\n        true\n      )\n    })\n  }\n        ${\n    i18next.t('singularity.penalties.offeringGain', {\n      divisor: format(\n        calculateSingularityDebuff('Offering', singularityCount),\n        2,\n        true\n      )\n    })\n  }\n        ${\n    i18next.t('singularity.penalties.obtainiumGain', {\n      divisor: format(\n        calculateSingularityDebuff('Obtainium', singularityCount),\n        2,\n        true\n      )\n    })\n  }\n        ${\n    i18next.t('singularity.penalties.cubeGain', {\n      divisor: format(\n        calculateSingularityDebuff('Cubes', singularityCount),\n        2,\n        true\n      )\n    })\n  }\n        ${\n    i18next.t('singularity.penalties.researchCosts', {\n      multiplier: format(\n        calculateSingularityDebuff('Researches', singularityCount),\n        2,\n        true\n      )\n    })\n  }\n        ${\n    i18next.t('singularity.penalties.cubeUpgradeCosts', {\n      multiplier: format(\n        calculateSingularityDebuff('Cube Upgrades', singularityCount),\n        2,\n        true\n      )\n    })\n  }\n        ${platonic}\n        ${hepteract}\n        ${\n    singularityCount >= 270\n      ? i18next.t('singularity.penalties.penaltySmooth')\n      : i18next.t('singularity.penalties.penaltyRough', {\n        num: format(\n          calculateNextSpike(player.singularityCount),\n          0,\n          true\n        )\n      })\n  }\n        ${\n    player.runelevels[6] > 0\n      ? i18next.t('singularity.penalties.antiquitiesBought')\n      : i18next.t('singularity.penalties.antiquitiesNotBought')\n  }`\n\n  DOMCacheGetOrSet('singularityPenaltiesMultiline').innerHTML = str\n}\n\nfunction getSingularityOridnalText (singularityCount: number): string {\n  return i18next.t('general.youAreInThe', {\n    number: toOrdinal(singularityCount)\n  })\n}\n\n// Need a better way of handling the ones without a special formulae than 'Default' variant\ntype SingularitySpecialCostFormulae =\n  | 'Default'\n  | 'Quadratic'\n  | 'Cubic'\n  | 'Exponential2'\n\nexport interface ISingularityData extends Omit<IUpgradeData, 'name' | 'description'> {\n  goldenQuarksInvested?: number\n  minimumSingularity?: number\n  canExceedCap?: boolean\n  specialCostForm?: SingularitySpecialCostFormulae\n  qualityOfLife?: boolean\n  cacheUpdates?: (() => void)[] // TODO: Improve this type signature -Plat\n}\n\n/**\n * Singularity Upgrades are bought in the Shop of the singularity tab, and all have their own\n * name, description, level and maxlevel, plus a feature to toggle buy on each.\n */\nexport class SingularityUpgrade extends DynamicUpgrade {\n  // Field Initialization\n  public goldenQuarksInvested = 0\n  public minimumSingularity: number\n  public canExceedCap: boolean\n  public specialCostForm: SingularitySpecialCostFormulae\n  public qualityOfLife: boolean\n  readonly cacheUpdates: (() => void)[] | undefined\n\n  public constructor (data: ISingularityData, key: string) {\n    const name = i18next.t(`singularity.data.${key}.name`)\n    const description = i18next.t(`singularity.data.${key}.description`)\n\n    super({ ...data, name, description })\n    this.goldenQuarksInvested = data.goldenQuarksInvested ?? 0\n    this.minimumSingularity = data.minimumSingularity ?? 0\n    this.canExceedCap = data.canExceedCap ?? false\n    this.specialCostForm = data.specialCostForm ?? 'Default'\n    this.qualityOfLife = data.qualityOfLife ?? false\n    this.cacheUpdates = data.cacheUpdates ?? undefined\n  }\n\n  /**\n   * Given an upgrade, give a concise information regarding its data.\n   * @returns A string that details the name, description, level statistic, and next level cost.\n   */\n  toString (): string {\n    const costNextLevel = this.getCostTNL()\n    const maxLevel = this.maxLevel === -1 ? '' : `/${format(this.computeMaxLevel(), 0, true)}`\n    const color = this.computeMaxLevel() === this.level ? 'plum' : 'white'\n    const minReqColor = player.highestSingularityCount < this.minimumSingularity\n      ? 'var(--crimson-text-color)'\n      : 'var(--green-text-color)'\n    const minimumSingularity = this.minimumSingularity > 0\n      ? `${i18next.t('general.minimum')} Singularity: ${this.minimumSingularity}`\n      : i18next.t('singularity.toString.noMinimum')\n\n    let freeLevelInfo = this.freeLevels > 0\n      ? `<span style=\"color: orange\"> [+${\n        format(\n          this.freeLevels,\n          2,\n          true\n        )\n      }]</span>`\n      : ''\n\n    if (this.freeLevels > this.level) {\n      freeLevelInfo = `${freeLevelInfo}<span style=\"color: var(--maroon-text-color)\"> ${\n        i18next.t(\n          'general.softCapped'\n        )\n      }</span>`\n    }\n\n    return `<span style=\"color: gold\">${this.name}</span>\n                <span style=\"color: lightblue\">${this.description}</span>\n                <span style=\"color: ${minReqColor}\">${minimumSingularity}</span>\n                <span style=\"color: ${color}\"> ${\n      i18next.t(\n        'general.level'\n      )\n    } ${format(this.level, 0, true)}${maxLevel}${freeLevelInfo}</span>\n                <span style=\"color: gold\">${this.getEffect().desc}</span>\n                ${i18next.t('singularity.toString.costNextLevel')}: ${\n      format(\n        costNextLevel,\n        0,\n        true\n      )\n    } Golden Quarks.\n                ${i18next.t('general.spent')} Quarks: ${\n      format(\n        this.goldenQuarksInvested,\n        0,\n        true\n      )\n    }`\n  }\n\n  public updateUpgradeHTML (): void {\n    DOMCacheGetOrSet('testingMultiline').innerHTML = this.toString()\n  }\n\n  /**\n   * Retrieves the cost for upgrading the singularity upgrade once. Return 0 if maxed.\n   * @returns A number representing how many Golden Quarks a player must have to upgrade once.\n   */\n  getCostTNL (): number {\n    let costMultiplier = 1\n    if (this.computeMaxLevel() > this.maxLevel && this.level >= this.maxLevel) {\n      costMultiplier *= Math.pow(4, this.level - this.maxLevel + 1)\n    }\n\n    if (this.specialCostForm === 'Exponential2') {\n      return (\n        this.costPerLevel * Math.sqrt(costMultiplier) * Math.pow(2, this.level)\n      )\n    }\n\n    if (this.specialCostForm === 'Cubic') {\n      return (\n        this.costPerLevel\n        * costMultiplier\n        * (Math.pow(this.level + 1, 3) - Math.pow(this.level, 3))\n      )\n    }\n\n    if (this.specialCostForm === 'Quadratic') {\n      return (\n        this.costPerLevel\n        * costMultiplier\n        * (Math.pow(this.level + 1, 2) - Math.pow(this.level, 2))\n      )\n    }\n\n    costMultiplier *= this.maxLevel === -1 && this.level >= 100 ? this.level / 50 : 1\n    costMultiplier *= this.maxLevel === -1 && this.level >= 400 ? this.level / 100 : 1\n\n    return this.computeMaxLevel() === this.level\n      ? 0\n      : Math.ceil(this.costPerLevel * (1 + this.level) * costMultiplier)\n  }\n\n  /**\n   * Buy levels up until togglebuy or maxed.\n   * @returns An alert indicating cannot afford, already maxed or purchased with how many\n   *          levels purchased\n   */\n  public async buyLevel (event: MouseEvent): Promise<void> {\n    let purchased = 0\n    let maxPurchasable = 1\n    let GQBudget = player.goldenQuarks\n\n    if (event.shiftKey) {\n      maxPurchasable = 100000\n      const buy = Number(\n        await Prompt(\n          i18next.t('singularity.goldenQuarks.spendPrompt', {\n            gq: format(player.goldenQuarks, 0, true)\n          })\n        )\n      )\n\n      if (isNaN(buy) || !isFinite(buy) || !Number.isInteger(buy)) {\n        // nan + Infinity checks\n        return Alert(i18next.t('general.validation.finite'))\n      }\n\n      if (buy === -1) {\n        GQBudget = player.goldenQuarks\n      } else if (buy <= 0) {\n        return Alert(i18next.t('general.validation.zeroOrLess'))\n      } else {\n        GQBudget = buy\n      }\n      GQBudget = Math.min(player.goldenQuarks, GQBudget)\n    }\n\n    if (this.maxLevel > 0) {\n      maxPurchasable = Math.min(\n        maxPurchasable,\n        this.computeMaxLevel() - this.level\n      )\n    }\n\n    if (maxPurchasable === 0) {\n      return Alert(i18next.t('singularity.goldenQuarks.hasUpgrade'))\n    }\n\n    if (player.highestSingularityCount < this.minimumSingularity) {\n      return Alert(i18next.t('singularity.goldenQuarks.notHighEnoughLevel'))\n    }\n    while (maxPurchasable > 0) {\n      const cost = this.getCostTNL()\n      if (player.goldenQuarks < cost || GQBudget < cost) {\n        break\n      } else {\n        player.goldenQuarks -= cost\n        GQBudget -= cost\n        this.goldenQuarksInvested += cost\n        this.level += 1\n        purchased += 1\n        maxPurchasable -= 1\n      }\n      if (this.name === player.singularityUpgrades.oneMind.name) {\n        player.ascensionCounter = 0\n        player.ascensionCounterReal = 0\n        player.ascensionCounterRealReal = 0\n        void Alert(i18next.t('singularity.goldenQuarks.ascensionReset'))\n      }\n\n      if (this.name === player.singularityUpgrades.singCitadel2.name) {\n        player.singularityUpgrades.singCitadel.freeLevels = player.singularityUpgrades.singCitadel2.level\n      }\n    }\n\n    if (purchased === 0) {\n      return Alert(i18next.t('general.validation.moreThanPlayerHas'))\n    }\n    if (purchased > 1) {\n      void Alert(\n        i18next.t('singularity.goldenQuarks.multiBuyPurchased', {\n          levels: format(purchased)\n        })\n      )\n    }\n\n    this.updateUpgradeHTML()\n    this.updateCaches()\n    updateSingularityPenalties()\n    updateSingularityPerks()\n    revealStuff()\n  }\n\n  public computeFreeLevelSoftcap (): number {\n\n    const baseRealFreeLevels = player.shopUpgrades.shopSingularityPotency > 0 ? 7.66 * this.freeLevels : this.freeLevels\n    return (\n      Math.min(this.level, baseRealFreeLevels)\n      + Math.sqrt(Math.max(0, baseRealFreeLevels - this.level))\n    )\n\n  }\n\n  public computeMaxLevel (): number {\n    if (!this.canExceedCap) {\n      return this.maxLevel\n    } else {\n      let cap = this.maxLevel\n      const overclockPerks = [50, 60, 75, 100, 125, 150, 175, 200, 225, 250]\n      for (const perk of overclockPerks) {\n        if (player.highestSingularityCount >= perk) {\n          cap += 1\n        } else {\n          break\n        }\n      }\n      cap += +player.octeractUpgrades.octeractSingUpgradeCap.getEffect().bonus\n      return cap\n    }\n  }\n\n  public actualTotalLevels (): number {\n    if (\n      (player.singularityChallenges.noSingularityUpgrades.enabled || player.singularityChallenges.sadisticPrequel.enabled)\n      && !this.qualityOfLife\n    ) {\n      return 0\n    }\n\n    if (\n      (player.singularityChallenges.limitedAscensions.enabled || player.singularityChallenges.limitedTime.enabled || player.singularityChallenges.sadisticPrequel.enabled)\n      && this.name === player.singularityUpgrades.platonicDelta.name\n    ) {\n      return 0\n    }\n\n    const actualFreeLevels = this.computeFreeLevelSoftcap()\n    const linearLevels = this.level + actualFreeLevels\n    let polynomialLevels = 0\n    if (player.octeractUpgrades.octeractImprovedFree.getEffect().bonus) {\n      let exponent = 0.6\n      exponent += +player.octeractUpgrades.octeractImprovedFree2.getEffect().bonus\n      exponent += +player.octeractUpgrades.octeractImprovedFree3.getEffect().bonus\n      exponent += +player.octeractUpgrades.octeractImprovedFree4.getEffect().bonus\n      polynomialLevels = Math.pow(this.level * actualFreeLevels, exponent)\n    }\n\n    return Math.max(linearLevels, polynomialLevels)\n  }\n\n  public getEffect (): { bonus: number | boolean; desc: string } {\n    return this.effect(this.actualTotalLevels())\n  }\n\n  updateCaches (): void {\n    if (this.cacheUpdates !== undefined) {\n      for (const cache of this.cacheUpdates) {\n        cache()\n      }\n    }\n  }\n\n  public refund (): void {\n    player.goldenQuarks += this.goldenQuarksInvested\n    this.level = 0\n    this.goldenQuarksInvested = 0\n  }\n}\n\nexport const singularityData: Record<\n  keyof Player['singularityUpgrades'],\n  ISingularityData\n> = {\n  goldenQuarks1: {\n    maxLevel: 15,\n    costPerLevel: 12,\n    canExceedCap: true,\n    effect: (n: number) => {\n      return {\n        bonus: 1 + 0.1 * n,\n        get desc () {\n          return i18next.t('singularity.data.goldenQuarks1.effect', {\n            n: format(10 * n, 0, true)\n          })\n        }\n      }\n    },\n    qualityOfLife: true\n  },\n  goldenQuarks2: {\n    maxLevel: 75,\n    costPerLevel: 60,\n    canExceedCap: true,\n    effect: (n: number) => {\n      return {\n        bonus: n > 250 ? 1 / Math.log2(n / 62.5) : 1 - Math.min(0.5, n / 500),\n        get desc () {\n          return i18next.t('singularity.data.goldenQuarks2.effect', {\n            n: n > 250\n              ? format(100 - 100 / Math.log2(n / 62.5), 2, true)\n              : format(Math.min(50, n / 5), 2, true)\n          })\n        }\n      }\n    },\n    qualityOfLife: true\n  },\n  goldenQuarks3: {\n    maxLevel: 1000,\n    costPerLevel: 1000,\n    effect: (n: number) => {\n      return {\n        bonus: (n * (n + 1)) / 2,\n        get desc () {\n          return i18next.t('singularity.data.goldenQuarks3.effect', {\n            n: format((n * (n + 1)) / 2)\n          })\n        }\n      }\n    }\n  },\n  starterPack: {\n    maxLevel: 1,\n    costPerLevel: 10,\n    effect: (n: number) => {\n      return {\n        bonus: n > 0,\n        get desc () {\n          return i18next.t(\n            `singularity.data.starterPack.effect${n > 0 ? 'Have' : 'HaveNot'}`\n          )\n        }\n      }\n    }\n  },\n  wowPass: {\n    maxLevel: 1,\n    costPerLevel: 350,\n    effect: (n: number) => {\n      return {\n        bonus: n > 0,\n        get desc () {\n          return i18next.t(\n            `singularity.data.wowPass.effect${n > 0 ? 'Have' : 'HaveNot'}`\n          )\n        }\n      }\n    },\n    qualityOfLife: true\n  },\n  cookies: {\n    maxLevel: 1,\n    costPerLevel: 100,\n    effect: (n: number) => {\n      return {\n        bonus: n > 0,\n        get desc () {\n          return i18next.t(\n            `singularity.data.cookies.effect${n > 0 ? 'Have' : 'HaveNot'}`\n          )\n        }\n      }\n    },\n    qualityOfLife: true\n  },\n  cookies2: {\n    maxLevel: 1,\n    costPerLevel: 500,\n    effect: (n: number) => {\n      return {\n        bonus: n > 0,\n        get desc () {\n          return i18next.t(\n            `singularity.data.cookies2.effect${n > 0 ? 'Have' : 'HaveNot'}`\n          )\n        }\n      }\n    },\n    qualityOfLife: true\n  },\n  cookies3: {\n    maxLevel: 1,\n    costPerLevel: 24999,\n    effect: (n: number) => {\n      return {\n        bonus: n > 0,\n        get desc () {\n          return i18next.t(\n            `singularity.data.cookies3.effect${n > 0 ? 'Have' : 'HaveNot'}`\n          )\n        }\n      }\n    },\n    qualityOfLife: true\n  },\n  cookies4: {\n    maxLevel: 1,\n    costPerLevel: 499999,\n    effect: (n: number) => {\n      return {\n        bonus: n > 0,\n        get desc () {\n          return i18next.t(\n            `singularity.data.cookies4.effect${n > 0 ? 'Have' : 'HaveNot'}`\n          )\n        }\n      }\n    },\n    qualityOfLife: true\n  },\n  cookies5: {\n    maxLevel: 1,\n    costPerLevel: 1.66e15,\n    minimumSingularity: 209,\n    effect: (n: number) => {\n      return {\n        bonus: n > 0,\n        get desc () {\n          return i18next.t(\n            `singularity.data.cookies5.effect${n > 0 ? 'Have' : 'HaveNot'}`\n          )\n        }\n      }\n    },\n    qualityOfLife: true\n  },\n  ascensions: {\n    maxLevel: -1,\n    costPerLevel: 5,\n    effect: (n: number) => {\n      return {\n        bonus: (1 + (2 * n) / 100) * (1 + Math.floor(n / 10) / 100),\n        get desc () {\n          return i18next.t('singularity.data.ascensions.effect', {\n            n: format(\n              (100 + 2 * n) * (1 + Math.floor(n / 10) / 100) - 100,\n              1,\n              true\n            )\n          })\n        }\n      }\n    }\n  },\n  corruptionFourteen: {\n    maxLevel: 1,\n    costPerLevel: 1000,\n    effect: (n: number) => {\n      return {\n        bonus: n > 0,\n        get desc () {\n          return i18next.t(\n            `singularity.data.corruptionFourteen.effect${n > 0 ? 'Have' : 'HaveNot'}`,\n            {\n              m: n > 0 ? ':)' : ':('\n            }\n          )\n        }\n      }\n    }\n  },\n  corruptionFifteen: {\n    maxLevel: 1,\n    costPerLevel: 40000,\n    effect: (n: number) => {\n      return {\n        bonus: n > 0,\n        get desc () {\n          return i18next.t(\n            `singularity.data.corruptionFifteen.effect${n > 0 ? 'Have' : 'HaveNot'}`,\n            {\n              m: n > 0 ? ':)' : ':('\n            }\n          )\n        }\n      }\n    }\n  },\n  singOfferings1: {\n    maxLevel: -1,\n    costPerLevel: 1,\n    effect: (n: number) => {\n      return {\n        bonus: 1 + 0.02 * n,\n        get desc () {\n          return i18next.t('singularity.data.singOfferings1.effect', {\n            n: format(2 * n, 0, true)\n          })\n        }\n      }\n    }\n  },\n  singOfferings2: {\n    maxLevel: 25,\n    costPerLevel: 25,\n    canExceedCap: true,\n    effect: (n: number) => {\n      return {\n        bonus: 1 + 0.08 * n,\n        get desc () {\n          return i18next.t('singularity.data.singOfferings2.effect', {\n            n: format(8 * n, 0, true)\n          })\n        }\n      }\n    }\n  },\n  singOfferings3: {\n    maxLevel: 40,\n    costPerLevel: 500,\n    canExceedCap: true,\n    effect: (n: number) => {\n      return {\n        bonus: 1 + 0.04 * n,\n        get desc () {\n          return i18next.t('singularity.data.singOfferings3.effect', {\n            n: format(4 * n, 0, true)\n          })\n        }\n      }\n    }\n  },\n  singObtainium1: {\n    maxLevel: -1,\n    costPerLevel: 1,\n    effect: (n: number) => {\n      return {\n        bonus: 1 + 0.02 * n,\n        get desc () {\n          return i18next.t('singularity.data.singObtainium1.effect', {\n            n: format(2 * n, 0, true)\n          })\n        }\n      }\n    }\n  },\n  singObtainium2: {\n    maxLevel: 25,\n    costPerLevel: 25,\n    canExceedCap: true,\n    effect: (n: number) => {\n      return {\n        bonus: 1 + 0.08 * n,\n        get desc () {\n          return i18next.t('singularity.data.singObtainium2.effect', {\n            n: format(8 * n, 0, true)\n          })\n        }\n      }\n    }\n  },\n  singObtainium3: {\n    maxLevel: 40,\n    costPerLevel: 500,\n    canExceedCap: true,\n    effect: (n: number) => {\n      return {\n        bonus: 1 + 0.04 * n,\n        get desc () {\n          return i18next.t('singularity.data.singObtainium3.effect', {\n            n: format(4 * n, 0, true)\n          })\n        }\n      }\n    }\n  },\n  singCubes1: {\n    maxLevel: -1,\n    costPerLevel: 1,\n    effect: (n: number) => {\n      return {\n        bonus: 1 + 0.01 * n,\n        get desc () {\n          return i18next.t('singularity.data.singCubes1.effect', {\n            n: format(1 * n, 0, true)\n          })\n        }\n      }\n    }\n  },\n  singCubes2: {\n    maxLevel: 25,\n    costPerLevel: 25,\n    canExceedCap: true,\n    effect: (n: number) => {\n      return {\n        bonus: 1 + 0.08 * n,\n        get desc () {\n          return i18next.t('singularity.data.singCubes2.effect', {\n            n: format(8 * n, 0, true)\n          })\n        }\n      }\n    }\n  },\n  singCubes3: {\n    maxLevel: 40,\n    costPerLevel: 500,\n    canExceedCap: true,\n    effect: (n: number) => {\n      return {\n        bonus: 1 + 0.04 * n,\n        get desc () {\n          return i18next.t('singularity.data.singCubes3.effect', {\n            n: format(4 * n, 0, true)\n          })\n        }\n      }\n    }\n  },\n  singCitadel: {\n    maxLevel: -1,\n    costPerLevel: 500000,\n    minimumSingularity: 100,\n    effect: (n: number) => {\n      return {\n        bonus: (1 + 0.02 * n) * (1 + Math.floor(n / 10) / 100),\n        get desc () {\n          return i18next.t('singularity.data.singCubes2.effect', {\n            n: format(\n              100 * ((1 + 0.02 * n) * (1 + Math.floor(n / 10) / 100) - 1)\n            )\n          })\n        }\n      }\n    }\n  },\n  singCitadel2: {\n    maxLevel: 100,\n    costPerLevel: 1e14,\n    minimumSingularity: 204,\n    specialCostForm: 'Quadratic',\n    effect: (n: number) => {\n      return {\n        bonus: (1 + 0.02 * n) * (1 + Math.floor(n / 10) / 100),\n        get desc () {\n          return i18next.t('singularity.data.singCubes3.effect', {\n            n: format(\n              100 * ((1 + 0.02 * n) * (1 + Math.floor(n / 10) / 100) - 1)\n            )\n          })\n        }\n      }\n    }\n  },\n  octeractUnlock: {\n    maxLevel: 1,\n    costPerLevel: 8888,\n    minimumSingularity: 8,\n    effect: (n: number) => {\n      return {\n        bonus: n > 0,\n        get desc () {\n          return i18next.t(\n            `singularity.data.octeractUnlock.effect${n > 0 ? 'Have' : 'HaveNot'}`\n          )\n        }\n      }\n    },\n    qualityOfLife: true\n  },\n  singOcteractPatreonBonus: {\n    maxLevel: 1,\n    costPerLevel: 9999,\n    minimumSingularity: 12,\n    effect: (n: number) => {\n      return {\n        bonus: n > 0,\n        get desc () {\n          return i18next.t('singularity.data.singOcteractPatreonBonus.effect', {\n            n\n          })\n        }\n      }\n    }\n  },\n  offeringAutomatic: {\n    maxLevel: -1,\n    costPerLevel: 1e14,\n    minimumSingularity: 222,\n    effect: (n: number) => {\n      return {\n        bonus: n,\n        get desc () {\n          return i18next.t('singularity.data.offeringAutomatic.effect', { n })\n        }\n      }\n    }\n  },\n  intermediatePack: {\n    maxLevel: 1,\n    costPerLevel: 1,\n    minimumSingularity: 4,\n    effect: (n: number) => {\n      return {\n        bonus: n > 0,\n        get desc () {\n          return i18next.t(\n            `singularity.data.intermediatePack.effect${n > 0 ? 'Have' : 'HaveNot'}`\n          )\n        }\n      }\n    }\n  },\n  advancedPack: {\n    maxLevel: 1,\n    costPerLevel: 200,\n    minimumSingularity: 9,\n    effect: (n: number) => {\n      return {\n        bonus: n > 0,\n        get desc () {\n          return i18next.t(\n            `singularity.data.advancedPack.effect${n > 0 ? 'Have' : 'HaveNot'}`\n          )\n        }\n      }\n    }\n  },\n  expertPack: {\n    maxLevel: 1,\n    costPerLevel: 800,\n    minimumSingularity: 16,\n    effect: (n: number) => {\n      return {\n        bonus: n > 0,\n        get desc () {\n          return i18next.t(\n            `singularity.data.expertPack.effect${n > 0 ? 'Have' : 'HaveNot'}`\n          )\n        }\n      }\n    }\n  },\n  masterPack: {\n    maxLevel: 1,\n    costPerLevel: 3200,\n    minimumSingularity: 25,\n    effect: (n: number) => {\n      return {\n        bonus: n > 0,\n        get desc () {\n          return i18next.t(\n            `singularity.data.masterPack.effect${n > 0 ? 'Have' : 'HaveNot'}`\n          )\n        }\n      }\n    }\n  },\n  divinePack: {\n    maxLevel: 1,\n    costPerLevel: 12800,\n    minimumSingularity: 36,\n    effect: (n: number) => {\n      return {\n        bonus: n > 0,\n        get desc () {\n          return i18next.t(\n            `singularity.data.divinePack.effect${n > 0 ? 'Have' : 'HaveNot'}`\n          )\n        }\n      }\n    }\n  },\n  wowPass2: {\n    maxLevel: 1,\n    costPerLevel: 12500,\n    minimumSingularity: 9,\n    effect: (n: number) => {\n      return {\n        bonus: n > 0,\n        get desc () {\n          return i18next.t(\n            `singularity.data.wowPass2.effect${n > 0 ? 'Have' : 'HaveNot'}`\n          )\n        }\n      }\n    },\n    qualityOfLife: true\n  },\n  wowPass3: {\n    maxLevel: 1,\n    costPerLevel: 3e7 - 1,\n    minimumSingularity: 83,\n    effect: (n: number) => {\n      return {\n        bonus: n > 0,\n        get desc () {\n          return i18next.t(\n            `singularity.data.wowPass3.effect${n > 0 ? 'Have' : 'HaveNot'}`\n          )\n        }\n      }\n    },\n    qualityOfLife: true\n  },\n  potionBuff: {\n    maxLevel: 10,\n    costPerLevel: 999,\n    minimumSingularity: 4,\n    canExceedCap: true,\n    effect: (n: number) => {\n      return {\n        bonus: Math.max(1, 10 * Math.pow(n, 2)),\n        get desc () {\n          return i18next.t('singularity.data.potionBuff.effect', {\n            n: format(Math.max(1, 10 * Math.pow(n, 2)), 0, true)\n          })\n        }\n      }\n    }\n  },\n  potionBuff2: {\n    maxLevel: 10,\n    costPerLevel: 1e8,\n    minimumSingularity: 119,\n    canExceedCap: true,\n    effect: (n: number) => {\n      return {\n        bonus: Math.max(1, 2 * n),\n        get desc () {\n          return i18next.t('singularity.data.potionBuff2.effect', {\n            n: format(Math.max(1, 2 * n), 0, true)\n          })\n        }\n      }\n    }\n  },\n  potionBuff3: {\n    maxLevel: 10,\n    costPerLevel: 1e12,\n    minimumSingularity: 191,\n    canExceedCap: true,\n    effect: (n: number) => {\n      return {\n        bonus: Math.max(1, 1 + 0.5 * n),\n        get desc () {\n          return i18next.t('singularity.data.potionBuff3.effect', {\n            n: format(Math.max(1, 1 + 0.5 * n), 2, true)\n          })\n        }\n      }\n    }\n  },\n  singChallengeExtension: {\n    maxLevel: 4,\n    costPerLevel: 999,\n    minimumSingularity: 11,\n    effect: (n: number) => {\n      return {\n        bonus: n,\n        get desc () {\n          return i18next.t('singularity.data.singChallengeExtension.effect', {\n            n: 2 * n,\n            m: n\n          })\n        }\n      }\n    }\n  },\n  singChallengeExtension2: {\n    maxLevel: 3,\n    costPerLevel: 29999,\n    minimumSingularity: 26,\n    effect: (n: number) => {\n      return {\n        bonus: n,\n        get desc () {\n          return i18next.t('singularity.data.singChallengeExtension2.effect', {\n            n: 2 * n,\n            m: n\n          })\n        }\n      }\n    }\n  },\n  singChallengeExtension3: {\n    maxLevel: 3,\n    costPerLevel: 749999,\n    minimumSingularity: 51,\n    effect: (n: number) => {\n      return {\n        bonus: n,\n        get desc () {\n          return i18next.t('singularity.data.singChallengeExtension3.effect', {\n            n: 2 * n,\n            m: n\n          })\n        }\n      }\n    }\n  },\n  singQuarkImprover1: {\n    maxLevel: 30,\n    costPerLevel: 1,\n    minimumSingularity: 173,\n    canExceedCap: true,\n    specialCostForm: 'Exponential2',\n    effect: (n: number) => {\n      return {\n        bonus: n / 200,\n        get desc () {\n          return i18next.t('singularity.data.singQuarkImprover1.effect', {\n            n: format(n / 2, 2, true)\n          })\n        }\n      }\n    },\n    qualityOfLife: true\n  },\n  singQuarkHepteract: {\n    maxLevel: 1,\n    costPerLevel: 14999,\n    minimumSingularity: 5,\n    effect: (n: number) => {\n      return {\n        bonus: n / 100,\n        get desc () {\n          return i18next.t('singularity.data.singQuarkHepteract.effect', {\n            n: format(2 * n, 2, true)\n          })\n        }\n      }\n    },\n    qualityOfLife: true\n  },\n  singQuarkHepteract2: {\n    maxLevel: 1,\n    costPerLevel: 449999,\n    minimumSingularity: 30,\n    effect: (n: number) => {\n      return {\n        bonus: n / 100,\n        get desc () {\n          return i18next.t('singularity.data.singQuarkHepteract2.effect', {\n            n: format(2 * n, 2, true)\n          })\n        }\n      }\n    },\n    qualityOfLife: true\n  },\n  singQuarkHepteract3: {\n    maxLevel: 1,\n    costPerLevel: 13370000,\n    minimumSingularity: 61,\n    effect: (n: number) => {\n      return {\n        bonus: n / 100,\n        get desc () {\n          return i18next.t('singularity.data.singQuarkHepteract3.effect', {\n            n: format(2 * n, 2, true)\n          })\n        }\n      }\n    },\n    qualityOfLife: true\n  },\n  singOcteractGain: {\n    maxLevel: -1,\n    costPerLevel: 20000,\n    minimumSingularity: 36,\n    effect: (n: number) => {\n      return {\n        bonus: 1 + 0.0125 * n,\n        get desc () {\n          return i18next.t('singularity.data.singOcteractGain.effect', {\n            n: format(1.25 * n, 2, true)\n          })\n        }\n      }\n    }\n  },\n  singOcteractGain2: {\n    maxLevel: 25,\n    costPerLevel: 40000,\n    minimumSingularity: 36,\n    canExceedCap: true,\n    effect: (n: number) => {\n      return {\n        bonus: 1 + 0.05 * n,\n        get desc () {\n          return i18next.t('singularity.data.singOcteractGain2.effect', {\n            n: format(5 * n, 0, true)\n          })\n        }\n      }\n    }\n  },\n  singOcteractGain3: {\n    maxLevel: 50,\n    costPerLevel: 250000,\n    minimumSingularity: 55,\n    canExceedCap: true,\n    effect: (n: number) => {\n      return {\n        bonus: 1 + 0.025 * n,\n        get desc () {\n          return i18next.t('singularity.data.singOcteractGain3.effect', {\n            n: format(2.5 * n, 0, true)\n          })\n        }\n      }\n    }\n  },\n  singOcteractGain4: {\n    maxLevel: 100,\n    costPerLevel: 750000,\n    minimumSingularity: 77,\n    canExceedCap: true,\n    effect: (n: number) => {\n      return {\n        bonus: 1 + 0.02 * n,\n        get desc () {\n          return i18next.t('singularity.data.singOcteractGain4.effect', {\n            n: format(2 * n, 0, true)\n          })\n        }\n      }\n    }\n  },\n  singOcteractGain5: {\n    maxLevel: 200,\n    costPerLevel: 7777777,\n    minimumSingularity: 100,\n    canExceedCap: true,\n    effect: (n: number) => {\n      return {\n        bonus: 1 + 0.01 * n,\n        get desc () {\n          return i18next.t('singularity.data.singOcteractGain5.effect', {\n            n: format(n, 0, true)\n          })\n        }\n      }\n    }\n  },\n  platonicTau: {\n    maxLevel: 1,\n    costPerLevel: 100000,\n    minimumSingularity: 29,\n    effect: (n: number) => {\n      return {\n        bonus: n > 0,\n        get desc () {\n          return i18next.t(\n            `singularity.data.platonicTau.effect${n ? 'Have' : 'HaveNot'}`\n          )\n        }\n      }\n    },\n    qualityOfLife: true\n  },\n  platonicAlpha: {\n    maxLevel: 1,\n    costPerLevel: 2e7,\n    minimumSingularity: 70,\n    effect: (n: number) => {\n      return {\n        bonus: n > 0,\n        get desc () {\n          return i18next.t(\n            `singularity.data.platonicAlpha.effect${n ? 'Have' : 'HaveNot'}`\n          )\n        }\n      }\n    },\n    qualityOfLife: true\n  },\n  platonicDelta: {\n    maxLevel: 1,\n    costPerLevel: 5e9,\n    minimumSingularity: 110,\n    effect: (n: number) => {\n      return {\n        bonus: n > 0,\n        get desc () {\n          return i18next.t(\n            `singularity.data.platonicDelta.effect${n ? 'Have' : 'HaveNot'}`\n          )\n        }\n      }\n    }\n  },\n  platonicPhi: {\n    maxLevel: 1,\n    costPerLevel: 2e11,\n    minimumSingularity: 149,\n    effect: (n: number) => {\n      return {\n        bonus: n > 0,\n        get desc () {\n          return i18next.t(\n            `singularity.data.platonicPhi.effect${n ? 'Have' : 'HaveNot'}`\n          )\n        }\n      }\n    },\n    qualityOfLife: true\n  },\n  singFastForward: {\n    maxLevel: 1,\n    costPerLevel: 7e6 - 1,\n    minimumSingularity: 50,\n    effect: (n: number) => {\n      return {\n        bonus: n > 0,\n        get desc () {\n          return i18next.t(\n            `singularity.data.singFastForward.effect${n ? 'Have' : 'HaveNot'}`\n          )\n        }\n      }\n    },\n    qualityOfLife: true\n  },\n  singFastForward2: {\n    maxLevel: 1,\n    costPerLevel: 1e11 - 1,\n    minimumSingularity: 147,\n    effect: (n: number) => {\n      return {\n        bonus: n > 0,\n        get desc () {\n          return i18next.t(\n            `singularity.data.singFastForward2.effect${n ? 'Have' : 'HaveNot'}`\n          )\n        }\n      }\n    },\n    qualityOfLife: true\n  },\n  singAscensionSpeed: {\n    maxLevel: 1,\n    costPerLevel: 1e10,\n    minimumSingularity: 128,\n    effect: (n: number) => {\n      return {\n        bonus: n,\n        get desc () {\n          return i18next.t('singularity.data.singAscensionSpeed.effect', {\n            n: format(1 + 0.03 * n, 2, true),\n            m: format(1 - 0.03 * n, 2, true)\n          })\n        }\n      }\n    }\n  },\n  singAscensionSpeed2: {\n    maxLevel: 1,\n    costPerLevel: 1e12,\n    minimumSingularity: 147,\n    effect: (n: number) => {\n      return {\n        bonus: n,\n        get desc () {\n          return i18next.t('singularity.data.singAscensionSpeed2.effect')\n        }\n      }\n    }\n  },\n  WIP: {\n    maxLevel: 100,\n    costPerLevel: 1e300,\n    minimumSingularity: 251,\n    effect: (n: number) => {\n      return {\n        bonus: n,\n        get desc () {\n          return i18next.t('singularity.data.WIP.effect')\n        }\n      }\n    }\n  },\n  ultimatePen: {\n    maxLevel: 1,\n    costPerLevel: 2.22e22,\n    minimumSingularity: 300,\n    effect: (n: number) => {\n      return {\n        bonus: n > 0,\n        get desc () {\n          return i18next.t('singularity.data.ultimatePen.effect', {\n            n: n ? '' : 'NOT',\n            m: n > 0\n              ? ' However, the pen just ran out of ink. How will you get more?'\n              : ''\n          })\n        }\n      }\n    }\n  },\n  oneMind: {\n    maxLevel: 1,\n    costPerLevel: 1.66e13,\n    minimumSingularity: 162,\n    effect: (n: number) => {\n      return {\n        bonus: n > 0,\n        get desc () {\n          return i18next.t(\n            `singularity.data.oneMind.effect${n ? 'Have' : 'HaveNot'}`\n          )\n        }\n      }\n    },\n    qualityOfLife: true\n  },\n  wowPass4: {\n    maxLevel: 1,\n    costPerLevel: 66666666666,\n    minimumSingularity: 147,\n    effect: (n: number) => {\n      return {\n        bonus: n > 0,\n        get desc () {\n          return i18next.t(\n            `singularity.data.wowPass4.effect${n ? 'Have' : 'HaveNot'}`\n          )\n        }\n      }\n    },\n    qualityOfLife: true\n  },\n  blueberries: {\n    maxLevel: 10,\n    costPerLevel: 1e16,\n    minimumSingularity: 215,\n    effect: (n: number) => {\n      return {\n        bonus: n,\n        get desc () {\n          return i18next.t('singularity.data.blueberries.effect', { n })\n        }\n      }\n    },\n    specialCostForm: 'Exponential2',\n    qualityOfLife: true,\n    cacheUpdates: [\n      () => {\n        G.ambrosiaCurrStats.ambrosiaBlueberries = calculateBlueberryInventory().value\n      },\n      () => {\n        G.ambrosiaCurrStats.ambrosiaGenerationSpeed = calculateAmbrosiaGenerationSpeed().value\n      }\n    ]\n  },\n  singAmbrosiaLuck: {\n    maxLevel: -1,\n    costPerLevel: 1e9,\n    minimumSingularity: 187,\n    effect: (n: number) => {\n      return {\n        bonus: 4 * n,\n        get desc () {\n          return i18next.t('singularity.data.singAmbrosiaLuck.effect', {\n            n: format(4 * n)\n          })\n        }\n      }\n    },\n    specialCostForm: 'Exponential2',\n    qualityOfLife: true,\n    cacheUpdates: [\n      () => {\n        G.ambrosiaCurrStats.ambrosiaLuck = calculateAmbrosiaLuck().value\n      }\n    ]\n  },\n  singAmbrosiaLuck2: {\n    maxLevel: 30,\n    costPerLevel: 4e5,\n    minimumSingularity: 50,\n    effect: (n: number) => {\n      return {\n        bonus: 2 * n,\n        get desc () {\n          return i18next.t('singularity.data.singAmbrosiaLuck2.effect', {\n            n: format(2 * n)\n          })\n        }\n      }\n    },\n    qualityOfLife: true,\n    cacheUpdates: [\n      () => {\n        G.ambrosiaCurrStats.ambrosiaLuck = calculateAmbrosiaLuck().value\n      }\n    ]\n  },\n  singAmbrosiaLuck3: {\n    maxLevel: 30,\n    costPerLevel: 2e8,\n    minimumSingularity: 119,\n    effect: (n: number) => {\n      return {\n        bonus: 3 * n,\n        get desc () {\n          return i18next.t('singularity.data.singAmbrosiaLuck3.effect', {\n            n: format(3 * n)\n          })\n        }\n      }\n    },\n    qualityOfLife: true,\n    cacheUpdates: [\n      () => {\n        G.ambrosiaCurrStats.ambrosiaLuck = calculateAmbrosiaLuck().value\n      }\n    ]\n  },\n  singAmbrosiaLuck4: {\n    maxLevel: 50,\n    costPerLevel: 1e19,\n    minimumSingularity: 256,\n    effect: (n: number) => {\n      return {\n        bonus: 5 * n,\n        get desc () {\n          return i18next.t('singularity.data.singAmbrosiaLuck4.effect', {\n            n: format(5 * n)\n          })\n        }\n      }\n    },\n    qualityOfLife: true,\n    cacheUpdates: [\n      () => {\n        G.ambrosiaCurrStats.ambrosiaLuck = calculateAmbrosiaLuck().value\n      }\n    ]\n  },\n  singAmbrosiaGeneration: {\n    maxLevel: -1,\n    costPerLevel: 1e9,\n    minimumSingularity: 187,\n    effect: (n: number) => {\n      return {\n        bonus: 1 + n / 100,\n        get desc () {\n          return i18next.t('singularity.data.singAmbrosiaGeneration.effect', {\n            n: format(n)\n          })\n        }\n      }\n    },\n    specialCostForm: 'Exponential2',\n    qualityOfLife: true,\n    cacheUpdates: [\n      () => {\n        G.ambrosiaCurrStats.ambrosiaGenerationSpeed = calculateAmbrosiaGenerationSpeed().value\n      }\n    ]\n  },\n  singAmbrosiaGeneration2: {\n    maxLevel: 20,\n    costPerLevel: 8e5,\n    minimumSingularity: 50,\n    effect: (n: number) => {\n      return {\n        bonus: 1 + n / 100,\n        get desc () {\n          return i18next.t('singularity.data.singAmbrosiaGeneration2.effect', {\n            n: format(n)\n          })\n        }\n      }\n    },\n    qualityOfLife: true,\n    cacheUpdates: [\n      () => {\n        G.ambrosiaCurrStats.ambrosiaGenerationSpeed = calculateAmbrosiaGenerationSpeed().value\n      }\n    ]\n  },\n  singAmbrosiaGeneration3: {\n    maxLevel: 35,\n    costPerLevel: 3e8,\n    minimumSingularity: 119,\n    effect: (n: number) => {\n      return {\n        bonus: 1 + n / 100,\n        get desc () {\n          return i18next.t('singularity.data.singAmbrosiaGeneration3.effect', {\n            n: format(n)\n          })\n        }\n      }\n    },\n    qualityOfLife: true,\n    cacheUpdates: [\n      () => {\n        G.ambrosiaCurrStats.ambrosiaGenerationSpeed = calculateAmbrosiaGenerationSpeed().value\n      }\n    ]\n  },\n  singAmbrosiaGeneration4: {\n    maxLevel: 50,\n    costPerLevel: 1e19,\n    minimumSingularity: 256,\n    effect: (n: number) => {\n      return {\n        bonus: 1 + (2 * n) / 100,\n        get desc () {\n          return i18next.t('singularity.data.singAmbrosiaGeneration4.effect', {\n            n: format(2 * n)\n          })\n        }\n      }\n    },\n    qualityOfLife: true,\n    cacheUpdates: [\n      () => {\n        G.ambrosiaCurrStats.ambrosiaGenerationSpeed = calculateAmbrosiaGenerationSpeed().value\n      }\n    ]\n  }\n}\n\n/**\n * Singularity Perks are automatically obtained and upgraded, based on player.singularityCount\n * They can have one or several levels with a description for each level\n */\nexport class SingularityPerk {\n  public readonly name: () => string\n  public readonly levels: number[]\n  public readonly description: (n: number, levels: number[]) => string\n  public readonly ID: string\n\n  public constructor (perk: SingularityPerk) {\n    this.name = perk.name\n    this.levels = perk.levels\n    this.description = perk.description\n    this.ID = perk.ID\n  }\n}\n\n// List of Singularity Perks based on player.highestSingularityCount\n// The list is ordered on first level acquisition, so be careful when inserting a new one ;)\nexport const singularityPerks: SingularityPerk[] = [\n  {\n    name: () => {\n      return i18next.t('singularity.perkNames.welcometoSingularity')\n    },\n    levels: [1],\n    description: () => {\n      return i18next.t('singularity.perks.welcometoSingularity')\n    },\n    ID: 'welcometoSingularity'\n  },\n  {\n    name: () => {\n      return i18next.t('singularity.perkNames.unlimitedGrowth')\n    },\n    levels: [1],\n    description: () => {\n      return i18next.t('singularity.perks.unlimitedGrowth', {\n        amount: format(10 * player.singularityCount)\n      })\n    },\n    ID: 'unlimitedGrowth'\n  },\n  {\n    name: () => {\n      return i18next.t('singularity.perkNames.goldenCoins')\n    },\n    levels: [1],\n    description: () => {\n      return i18next.t('singularity.perks.goldenCoins', {\n        amount: format(\n          Math.pow(player.goldenQuarks + 1, 1.5)\n            * Math.pow(player.highestSingularityCount + 1, 2),\n          2\n        )\n      })\n    },\n    ID: 'goldenCoins'\n  },\n  {\n    name: () => {\n      return i18next.t('singularity.perkNames.xyz')\n    },\n    levels: [1, 20, 200],\n    description: (n: number, levels: number[]) => {\n      if (n >= levels[2]) {\n        return i18next.t('singularity.perks.xyz.hasLevel2')\n      } else if (n >= levels[1]) {\n        return i18next.t('singularity.perks.xyz.hasLevel1')\n      } else {\n        return i18next.t('singularity.perks.xyz.default')\n      }\n    },\n    ID: 'xyz'\n  },\n  {\n    name: () => {\n      return i18next.t('singularity.perkNames.generousOrbs')\n    },\n    levels: [1, 2, 5, 10, 15, 20, 25, 30, 35],\n    description: (n: number, levels: number[]) => {\n      const overfluxBonus: Record<number, number> = {\n        8: 700, // How to read: levels[8] -> Sing 35 gives 700%\n        7: 500,\n        6: 415,\n        5: 360,\n        4: 315,\n        3: 280,\n        2: 255,\n        1: 230\n      }\n\n      for (let i = 8; i > 0; i--) {\n        if (n >= levels[i]) {\n          return i18next.t('singularity.perks.generousOrbs', {\n            amount: overfluxBonus[i]\n          })\n        }\n      }\n      return i18next.t('singularity.perks.generousOrbs', { amount: '215' })\n    },\n    ID: 'generousOrbs'\n  },\n  {\n    name: () => {\n      return i18next.t('singularity.perkNames.researchDummies')\n    },\n    levels: [1, 11],\n    description: (n: number, levels: number[]) => {\n      if (n >= levels[1]) {\n        return i18next.t('singularity.perks.researchDummies.hasLevel1')\n      } else {\n        return i18next.t('singularity.perks.researchDummies.otherwise')\n      }\n    },\n    ID: 'researchDummies'\n  },\n  {\n    name: () => {\n      return i18next.t('singularity.perkNames.eternalAscensions')\n    },\n    levels: [1, 25],\n    description: (n: number, levels: number[]) => {\n      const amount = format(1 + player.singularityCount / 10, 1)\n      if (n >= levels[1]) {\n        return i18next.t('singularity.perks.eternalAscensions.hasLevel1', {\n          amount\n        })\n      } else {\n        return i18next.t('singularity.perks.eternalAscensions.default', {\n          amount\n        })\n      }\n    },\n    ID: 'eternalAscensions'\n  },\n  {\n    name: () => {\n      return i18next.t('singularity.perkNames.antGodsCornucopia')\n    },\n    levels: [1, 30, 70, 100],\n    description: (n: number, levels: number[]) => {\n      if (n >= levels[3]) {\n        return i18next.t('singularity.perks.antGodsCornucopia.hasLevel3')\n      } else if (n >= levels[2]) {\n        return i18next.t('singularity.perks.antGodsCornucopia.hasLevel2')\n      } else if (n >= levels[1]) {\n        return i18next.t('singularity.perks.antGodsCornucopia.hasLevel1')\n      } else {\n        return i18next.t('singularity.perks.antGodsCornucopia.default')\n      }\n    },\n    ID: 'antGodsCornucopia'\n  },\n  {\n    name: () => {\n      return i18next.t('singularity.perkNames.sweepomatic')\n    },\n    levels: [2, 101],\n    description: (n: number, levels: number[]) => {\n      if (n >= levels[1]) {\n        return i18next.t('singularity.perks.sweepomatic.hasLevel1')\n      } else {\n        return i18next.t('singularity.perks.sweepomatic.otherwise')\n      }\n    },\n    ID: 'sweepomatic'\n  },\n  {\n    name: () => {\n      return i18next.t('singularity.perkNames.superStart')\n    },\n    levels: [2, 3, 4, 7, 15],\n    description: (n: number, levels: number[]) => {\n      if (n >= levels[4]) {\n        return i18next.t('singularity.perks.superStart.hasLevel4')\n      } else if (n >= levels[3]) {\n        return i18next.t('singularity.perks.superStart.hasLevel3')\n      } else if (n >= levels[2]) {\n        return i18next.t('singularity.perks.superStart.hasLevel2')\n      } else if (n >= levels[1]) {\n        return i18next.t('singularity.perks.superStart.hasLevel1')\n      } else {\n        return i18next.t('singularity.perks.superStart.default')\n      }\n    },\n    ID: 'superStart'\n  },\n  {\n    name: () => {\n      return i18next.t('singularity.perkNames.notSoChallenging')\n    },\n    levels: [4, 7, 10, 15, 20],\n    description: (n: number, levels: number[]) => {\n      if (n >= levels[4]) {\n        return i18next.t('singularity.perks.notSoChallenging.hasLevel4')\n      } else if (n >= levels[3]) {\n        return i18next.t('singularity.perks.notSoChallenging.hasLevel3')\n      } else if (n >= levels[2]) {\n        return i18next.t('singularity.perks.notSoChallenging.hasLevel2')\n      } else if (n >= levels[1]) {\n        return i18next.t('singularity.perks.notSoChallenging.hasLevel1')\n      } else {\n        return i18next.t('singularity.perks.notSoChallenging.default')\n      }\n    },\n    ID: 'notSoChallenging'\n  },\n  {\n    name: () => {\n      return i18next.t('singularity.perkNames.automationUpgrades')\n    },\n    levels: [5, 10, 15, 25, 30, 100],\n    description: (n: number, levels: number[]) => {\n      if (n >= levels[5]) {\n        return i18next.t('singularity.perks.automationUpgrades.hasLevel5')\n      } else if (n >= levels[4]) {\n        return i18next.t('singularity.perks.automationUpgrades.hasLevel4')\n      } else if (n >= levels[3]) {\n        return i18next.t('singularity.perks.automationUpgrades.hasLevel3')\n      } else if (n >= levels[2]) {\n        return i18next.t('singularity.perks.automationUpgrades.hasLevel2')\n      } else if (n >= levels[1]) {\n        return i18next.t('singularity.perks.automationUpgrades.hasLevel1')\n      } else {\n        return i18next.t('singularity.perks.automationUpgrades.default')\n      }\n    },\n    ID: 'automationUpgrades'\n  },\n  {\n    name: () => {\n      return i18next.t('singularity.perkNames.evenMoreQuarks')\n    },\n    // dprint-ignore\n    levels: [\n      5, 7, 10, 20, 35, 50, 65, 80, 90, 100, 121, 144, 150, 160, 166, 169, 170,\n      175, 180, 190, 196, 200, 201, 202, 203, 204, 205, 210, 212, 214, 216, 218,\n      220, 225, 250, 255, 260, 261, 262,\n    ],\n    description: (n: number, levels: number[]) => {\n      for (let i = levels.length - 1; i >= 0; i--) {\n        if (n >= levels[i]) {\n          return i18next.t('singularity.perks.evenMoreQuarks.m', {\n            stack: i + 1,\n            inc: format(100 * (Math.pow(1.05, i + 1) - 1), 2)\n          })\n        }\n      }\n\n      return i18next.t('singularity.perks.evenMoreQuarks.bug')\n    },\n    ID: 'evenMoreQuarks'\n  },\n  {\n    name: () => {\n      return i18next.t('singularity.perkNames.shopSpecialOffer')\n    },\n    levels: [5, 20, 51],\n    description: (n: number, levels: number[]) => {\n      if (n >= levels[2]) {\n        return i18next.t('singularity.perks.shopSpecialOffer.hasLevel2')\n      } else if (n >= levels[1]) {\n        return i18next.t('singularity.perks.shopSpecialOffer.hasLevel1')\n      } else {\n        return i18next.t('singularity.perks.shopSpecialOffer.default')\n      }\n    },\n    ID: 'shopSpecialOffer'\n  },\n  {\n    name: () => {\n      return i18next.t('singularity.perkNames.potionAutogenerator')\n    },\n    levels: [6],\n    description: () => {\n      return i18next.t('singularity.perks.potionAutogenerator')\n    },\n    ID: 'potionAutogenerator'\n  },\n  {\n    name: () => {\n      return i18next.t('singularity.perkNames.respecBeGone')\n    },\n    levels: [7],\n    description: () => {\n      return i18next.t('singularity.perks.respecBeGone')\n    },\n    ID: 'respecBeGone'\n  },\n  {\n    name: () => {\n      return i18next.t('singularity.perkNames.forTheLoveOfTheAntGod')\n    },\n    levels: [10, 15, 25],\n    description: (n: number, levels: number[]) => {\n      if (n >= levels[2]) {\n        return i18next.t('singularity.perks.forTheLoveOfTheAntGod.hasLevel2')\n      } else if (n >= levels[1]) {\n        return i18next.t('singularity.perks.forTheLoveOfTheAntGod.hasLevel1')\n      } else {\n        return i18next.t('singularity.perks.forTheLoveOfTheAntGod.default')\n      }\n    },\n    ID: 'forTheLoveOfTheAntGod'\n  },\n  {\n    name: () => {\n      return i18next.t('singularity.perkNames.itAllAddsUp')\n    },\n    levels: [\n      10,\n      16,\n      25,\n      36,\n      49,\n      64,\n      81,\n      100,\n      121,\n      144,\n      169,\n      196,\n      225,\n      235,\n      240\n    ],\n    description: (n: number, levels: number[]) => {\n      for (let i = levels.length - 1; i >= 0; i--) {\n        if (n >= levels[i]) {\n          return i18next.t('singularity.perks.itAllAddsUp', {\n            div: format(1 + (i + 1) / 5, 2, true),\n            div2: format(1 + (i + 1) / 5, 2, true),\n            cap: format(1 + (i + 1) / 5, 2, true)\n          })\n        }\n      }\n\n      return i18next.t('singularity.perks.evenMoreQuarks.bug')\n    },\n    ID: 'itAllAddsUp'\n  },\n  {\n    name: () => {\n      return i18next.t('singularity.perkNames.automagicalRunes')\n    },\n    levels: [15, 30, 40, 50],\n    description: (n: number, levels: number[]) => {\n      if (n >= levels[3]) {\n        return i18next.t('singularity.perks.automagicalRunes.hasLevel3')\n      } else if (n >= levels[2]) {\n        return i18next.t('singularity.perks.automagicalRunes.hasLevel2')\n      } else if (n >= levels[1]) {\n        return i18next.t('singularity.perks.automagicalRunes.hasLevel1')\n      } else {\n        return i18next.t('singularity.perks.automagicalRunes.default')\n      }\n    },\n    ID: 'automagicalRunes'\n  },\n  {\n    name: () => {\n      return i18next.t('singularity.perkNames.derpSmithsCornucopia')\n    },\n    levels: [\n      18,\n      38,\n      58,\n      78,\n      88,\n      98,\n      118,\n      148,\n      178,\n      188,\n      198,\n      208,\n      218,\n      228,\n      238,\n      248\n    ],\n    description: (n: number, levels: number[]) => {\n      for (let i = levels.length - 1; i >= 0; i--) {\n        if (n >= levels[i]) {\n          return i18next.t('singularity.perks.derpSmithsCornucopia', {\n            counter: i + 1\n          })\n        }\n      }\n\n      return i18next.t('singularity.perks.evenMoreQuarks.bug')\n    },\n    ID: 'derpSmithsCornucopia'\n  },\n  {\n    name: () => {\n      return i18next.t('singularity.perkNames.exaltedAchievements')\n    },\n    levels: [25],\n    description: () => {\n      return i18next.t('singularity.perks.exaltedAchievements')\n    },\n    ID: 'exaltedAchievements'\n  },\n  {\n    name: () => {\n      return i18next.t('singularity.perkNames.coolQOLCubes')\n    },\n    levels: [25, 35],\n    description: (n: number, levels: number[]) => {\n      if (n >= levels[1]) {\n        return i18next.t('singularity.perks.coolQOLCubes.hasLevel1')\n      } else {\n        return i18next.t('singularity.perks.coolQOLCubes.default')\n      }\n    },\n    ID: 'coolQOLCubes'\n  },\n  {\n    name: () => {\n      return i18next.t('singularity.perkNames.irishAnt')\n    },\n    levels: [35, 42, 49, 56, 63, 70, 77],\n    description: (n: number, levels: number[]) => {\n      for (let i = levels.length - 1; i >= 0; i--) {\n        if (n >= levels[i]) {\n          return i18next.t('singularity.perks.irishAnt', { i: 5 * (i + 1) })\n        }\n      }\n\n      return i18next.t('singularity.perks.evenMoreQuarks.bug')\n    },\n    ID: 'irishAnt'\n  },\n  {\n    name: () => {\n      return i18next.t('singularity.perkNames.overclocked')\n    },\n    levels: [50, 60, 75, 100, 125, 150, 175, 200, 225, 250],\n    description: (n: number, levels: number[]) => {\n      for (let i = levels.length - 1; i >= 0; i--) {\n        if (n >= levels[i]) {\n          return i18next.t('singularity.perks.overclocked', { i: i + 1 })\n        }\n      }\n\n      return i18next.t('singularity.perks.evenMoreQuarks.bug')\n    },\n    ID: 'overclocked'\n  },\n  {\n    name: () => {\n      return i18next.t('singularity.perkNames.wowCubeAutomatedShipping')\n    },\n    levels: [50, 150],\n    description: (n: number, levels: number[]) => {\n      if (n >= levels[1]) {\n        return i18next.t(\n          'singularity.perks.wowCubeAutomatedShipping.hasLevel1'\n        )\n      } else {\n        return i18next.t('singularity.perks.wowCubeAutomatedShipping.default')\n      }\n    },\n    ID: 'wowCubeAutomatedShipping'\n  },\n  {\n    name: () => {\n      return i18next.t('singularity.perkNames.congealedblueberries')\n    },\n    levels: [64, 128, 192, 256, 270],\n    description (n, levels) {\n      for (let i = levels.length - 1; i >= 0; i--) {\n        if (n >= levels[i]) {\n          return i18next.t('singularity.perks.congealedblueberries', {\n            i: i + 1\n          })\n        }\n      }\n      return i18next.t('singularity.perks.evenMoreQuarks.bug')\n    },\n    ID: 'congealedblueberries'\n  },\n  {\n    name: () => {\n      return i18next.t('singularity.perkNames.goldenRevolution')\n    },\n    levels: [100],\n    description: () => {\n      return i18next.t('singularity.perks.goldenRevolution', {\n        current: format(Math.min(100, 0.4 * player.singularityCount), 1)\n      })\n    },\n    ID: 'goldenRevolution'\n  },\n  {\n    name: () => {\n      return i18next.t('singularity.perkNames.goldenRevolutionII')\n    },\n    levels: [100],\n    description: () => {\n      return i18next.t('singularity.perks.goldenRevolutionII', {\n        current: format(Math.min(50, 0.2 * player.singularityCount), 1)\n      })\n    },\n    ID: 'goldenRevolution2'\n  },\n  {\n    name: () => {\n      return i18next.t('singularity.perkNames.goldenRevolutionIII')\n    },\n    levels: [100],\n    description: () => {\n      return i18next.t('singularity.perks.goldenRevolutionIII', {\n        current: format(Math.min(500, 2 * player.singularityCount))\n      })\n    },\n    ID: 'goldenRevolution3'\n  },\n  {\n    name: () => {\n      return i18next.t('singularity.perkNames.platonicClones')\n    },\n    levels: [100, 200],\n    description: (n: number, levels: number[]) => {\n      if (n >= levels[1]) {\n        return i18next.t('singularity.perks.platonicClones.hasLevel1')\n      } else {\n        return i18next.t('singularity.perks.platonicClones.default')\n      }\n    },\n    ID: 'platonicClones'\n  },\n  {\n    name: () => {\n      return i18next.t('singularity.perkNames.dilatedFiveLeaf')\n    },\n    levels: [100, 150, 200, 225, 250, 265, 260, 265, 269, 272],\n    description: (n: number, levels: number[]) => {\n      for (let i = levels.length - 1; i >= 0; i--) {\n        if (n >= levels[i]) {\n          return i18next.t('singularity.perks.dilatedFiveLeaf.desc', {\n            percent: i + 1\n          })\n        }\n      }\n\n      return i18next.t('singularity.perks.evenMoreQuarks.bug')\n    },\n    ID: 'dilatedFiveLeaf'\n  },\n  {\n    name: () => {\n      return i18next.t('singularity.perkNames.platSigma')\n    },\n    levels: [125, 200],\n    description: (n: number, levels: number[]) => {\n      let counter = 0\n      for (const singCount of levels) {\n        if (n >= singCount) {\n          counter += 0.125\n        }\n      }\n\n      return i18next.t('singularity.perks.platSigma', {\n        counter,\n        current: format(Math.min(60, counter * player.singularityCount), 1)\n      })\n    },\n    ID: 'platSigma'\n  },\n  {\n    name: () => {\n      return i18next.t('singularity.perkNames.oneHundredThirtyOne')\n    },\n    levels: [131],\n    description: () => {\n      return i18next.t('singularity.perks.oneHundredThirtyOne')\n    },\n    ID: 'oneHundredThirtyOne'\n  },\n  {\n    name: () => {\n      return i18next.t('singularity.perkNames.irishAnt2')\n    },\n    levels: [135, 142, 149, 156, 163, 170, 177],\n    description: (n: number, levels: number[]) => {\n      for (let i = levels.length - 1; i >= 0; i--) {\n        if (n >= levels[i]) {\n          return i18next.t('singularity.perks.irishAnt2', { i: 6 * (i + 1) })\n        }\n      }\n\n      return i18next.t('singularity.perks.evenMoreQuarks.bug')\n    },\n    ID: 'irishAnt2'\n  },\n  {\n    name: () => {\n      return i18next.t('singularity.perkNames.midasMilleniumAgedGold')\n    },\n    levels: [150],\n    description: () => {\n      return i18next.t('singularity.perks.midasMilleniumAgedGold')\n    },\n    ID: 'midasMilleniumAgedGold'\n  },\n  {\n    name: () => {\n      return i18next.t('singularity.perkNames.goldenRevolution4')\n    },\n    levels: [160, 173, 185, 194, 204, 210, 219, 229, 240, 249],\n    description: (n: number, levels: number[]) => {\n      const perSecond = 1000000\n      let divisor = 0\n      for (const singCount of levels) {\n        if (n >= singCount) {\n          divisor += 1\n        }\n      }\n\n      return i18next.t('singularity.perks.goldenRevolution4', {\n        gq: format(perSecond / divisor, 0, true)\n      })\n    },\n    ID: 'goldenRevolution4'\n  },\n  {\n    name: () => {\n      return i18next.t('singularity.perkNames.octeractMetagenesis')\n    },\n    levels: [200, 205],\n    description: (n: number, levels: number[]) => {\n      if (n >= levels[1]) {\n        return i18next.t('singularity.perks.octeractMetagenesis.hasLevel1')\n      } else {\n        return i18next.t('singularity.perks.octeractMetagenesis.default')\n      }\n    },\n    ID: 'octeractMetagenesis'\n  },\n  {\n    name: () => {\n      return i18next.t('singularity.perkNames.immaculateAlchemy')\n    },\n    levels: [200, 208, 221],\n    description: (n: number, levels: number[]) => {\n      if (n >= levels[2]) {\n        return i18next.t('singularity.perks.immaculateAlchemy.hasLevel2')\n      } else if (n >= levels[1]) {\n        return i18next.t('singularity.perks.immaculateAlchemy.hasLevel1')\n      } else {\n        return i18next.t('singularity.perks.immaculateAlchemy.default')\n      }\n    },\n    ID: 'immaculateAlchemy'\n  },\n  {\n    name: () => {\n      return i18next.t('singularity.perkNames.skrauQ')\n    },\n    levels: [200],\n    description: () => {\n      const amt = format(Math.pow((player.singularityCount - 179) / 20, 2), 4)\n      return i18next.t('singularity.perks.skrauQ', { amt })\n    },\n    ID: 'skrauQ'\n  },\n  {\n    name: () => {\n      return i18next.t('singularity.perkNames.twoHundredSixtyNine')\n    },\n    levels: [269],\n    description: () => {\n      return i18next.t('singularity.perks.twoHundredSixtyNine')\n    },\n    ID: 'twoHundredSixtyNine'\n  }\n]\n\n// Placeholder text for Perk Info that is seen upon first load, check Line 645 EventListeners.ts for actual Perk Info code.\nexport const updateSingularityPerks = (): void => {\n  const singularityCount = player.highestSingularityCount\n  DOMCacheGetOrSet('singularityPerksHeader').innerHTML = i18next.t(\n    'singularity.perks.header',\n    {\n      ord: toOrdinal(singularityCount)\n    }\n  )\n  DOMCacheGetOrSet('singularityPerksText').innerHTML = i18next.t(\n    'singularity.perks.levelInfo',\n    {\n      level: '#',\n      singularity: '#'\n    }\n  )\n  DOMCacheGetOrSet('singularityPerksDesc').innerHTML = i18next.t(\n    'singularity.perks.description'\n  )\n  handlePerks(singularityCount)\n}\n\nexport interface ISingularityPerkDisplayInfo {\n  name: string\n  lastUpgraded: number\n  acquired: number\n  htmlID: string\n}\n\n/*\n * Indicate current level of the Perk and when it was reached\n */\nexport const getLastUpgradeInfo = (\n  perk: SingularityPerk,\n  singularityCount: number\n): { level: number; singularity: number; next: number | null } => {\n  for (let i = perk.levels.length - 1; i >= 0; i--) {\n    if (singularityCount >= perk.levels[i]) {\n      return {\n        level: i + 1,\n        singularity: perk.levels[i],\n        next: i < perk.levels.length - 1 ? perk.levels[i + 1] : null\n      }\n    }\n  }\n\n  return { level: 0, singularity: perk.levels[0], next: perk.levels[0] }\n}\n\nconst handlePerks = (singularityCount: number) => {\n  const availablePerks: ISingularityPerkDisplayInfo[] = []\n  let singularityCountForNextPerk: number | null = null\n  let singularityCountForNextPerkUpgrade = Number.POSITIVE_INFINITY\n  for (const perk of singularityPerks) {\n    const upgradeInfo = getLastUpgradeInfo(perk, singularityCount)\n    if (upgradeInfo.level > 0) {\n      availablePerks.push({\n        name: perk.name(),\n        lastUpgraded: upgradeInfo.singularity,\n        acquired: perk.levels[0],\n        htmlID: perk.ID\n      })\n      if (upgradeInfo.next) {\n        singularityCountForNextPerkUpgrade = Math.min(\n          singularityCountForNextPerkUpgrade,\n          upgradeInfo.next\n        )\n      }\n    } else {\n      if (singularityCountForNextPerk === null) {\n        singularityCountForNextPerk = upgradeInfo.singularity\n      }\n      DOMCacheGetOrSet(perk.ID).style.display = 'none'\n    }\n  }\n  // We want to sort the perks so that the most recently upgraded or lastUpgraded are listed first\n  availablePerks.sort((p1, p2) => {\n    if (p1.acquired === p2.acquired && p1.lastUpgraded === p2.lastUpgraded) {\n      return 0\n    }\n    if (p1.lastUpgraded > p2.lastUpgraded) {\n      return -1\n    } else if (\n      p1.lastUpgraded === p2.lastUpgraded\n      && p1.acquired > p2.acquired\n    ) {\n      return -1\n    }\n    return 1\n  })\n\n  for (const availablePerk of availablePerks) {\n    const singTolerance = getFastForwardTotalMultiplier()\n    const perkId = DOMCacheGetOrSet(availablePerk.htmlID)\n    perkId.style.display = ''\n    DOMCacheGetOrSet('singularityPerksGrid').append(perkId)\n    singularityCount - availablePerk.lastUpgraded <= singTolerance // Is new?\n      ? perkId.classList.replace('oldPerk', 'newPerk')\n      : perkId.classList.replace('newPerk', 'oldPerk')\n  }\n  const nextUnlockedId = DOMCacheGetOrSet('singualrityUnlockNext')\n  if (singularityCountForNextPerk) {\n    nextUnlockedId.style.display = ''\n    nextUnlockedId.innerHTML = i18next.t('singularity.perks.unlockedIn', {\n      sing: singularityCountForNextPerk\n    })\n  } else {\n    nextUnlockedId.style.display = 'none'\n  }\n  const countNext = DOMCacheGetOrSet('singualrityImproveNext')\n  if (singularityCountForNextPerkUpgrade < Number.POSITIVE_INFINITY) {\n    countNext.style.display = ''\n    countNext.innerHTML = i18next.t('singularity.perks.improvedIn', {\n      sing: singularityCountForNextPerkUpgrade\n    })\n  } else {\n    countNext.style.display = 'none'\n  }\n}\n// Indicates the number of extra Singularity count gained on Singularity reset\nexport const getFastForwardTotalMultiplier = (): number => {\n  let fastForward = 0\n  fastForward += +player.singularityUpgrades.singFastForward.getEffect().bonus\n  fastForward += +player.singularityUpgrades.singFastForward2.getEffect().bonus\n  fastForward += +player.octeractUpgrades.octeractFastForward.getEffect().bonus\n\n  // Stop at sing 200 even if you include fast forward\n  fastForward = Math.max(\n    0,\n    Math.min(fastForward, 200 - player.singularityCount - 1)\n  )\n\n  // Please for the love of god don't allow FF during a challenge\n  if (player.insideSingularityChallenge) {\n    return 0\n  }\n\n  // If the next singularityCount is greater than the highestSingularityCount, fast forward to be equal to the highestSingularityCount\n  if (\n    player.highestSingularityCount !== player.singularityCount\n    && player.singularityCount + fastForward + 1 >= player.highestSingularityCount\n  ) {\n    return Math.max(\n      0,\n      Math.min(\n        fastForward,\n        player.highestSingularityCount - player.singularityCount - 1\n      )\n    )\n  }\n\n  return fastForward\n}\n\nexport const getGoldenQuarkCost = (): {\n  cost: number\n  costReduction: number\n} => {\n  const baseCost = 10000\n\n  let costReduction = 10000 // We will construct our cost reduction by subtracting 10000 - this value.\n\n  costReduction *= 1 - 0.1 * Math.min(1, player.achievementPoints / 10000)\n  costReduction *= 1 - (0.3 * player.cubeUpgrades[60]) / 10000\n  costReduction *= +player.singularityUpgrades.goldenQuarks2.getEffect().bonus\n  costReduction *= +player.octeractUpgrades.octeractGQCostReduce.getEffect().bonus\n  costReduction *= player.highestSingularityCount >= 100\n    ? 1 - (0.5 * player.highestSingularityCount) / 250\n    : 1\n\n  let perkDivisor = 1\n  if (player.highestSingularityCount >= 200) {\n    perkDivisor = 3\n  }\n  if (player.highestSingularityCount >= 208) {\n    perkDivisor = 5\n  }\n  if (player.highestSingularityCount >= 221) {\n    perkDivisor = 8\n  }\n  costReduction /= perkDivisor\n\n  costReduction = 10000 - costReduction\n\n  return {\n    cost: baseCost - costReduction,\n    costReduction\n  }\n}\n\nexport async function buyGoldenQuarks (): Promise<void> {\n  const goldenQuarkCost = getGoldenQuarkCost()\n  const maxBuy = Math.floor(+player.worlds / goldenQuarkCost.cost)\n  let buyAmount = null\n\n  if (maxBuy === 0) {\n    return Alert(i18next.t('singularity.goldenQuarks.poor'))\n  }\n\n  const buyPrompt = await Prompt(\n    i18next.t('singularity.goldenQuarks.buyPrompt', {\n      cost: format(goldenQuarkCost.cost, 0, true),\n      discount: format(goldenQuarkCost.costReduction, 0, true),\n      max: format(maxBuy, 0, true)\n    })\n  )\n\n  if (buyPrompt === null) {\n    // Number(null) is 0. Yeah..\n    return Alert(i18next.t('general.cancelled'))\n  }\n\n  buyAmount = Number(buyPrompt)\n  // Check these lol\n  if (Number.isNaN(buyAmount) || !Number.isFinite(buyAmount)) {\n    // nan + Infinity checks\n    return Alert(i18next.t('general.validation.finite'))\n  } else if (buyAmount <= 0 && buyAmount !== -1) {\n    // 0 or less selected\n    return Alert(i18next.t('general.validation.zeroOrLess'))\n  } else if (buyAmount > maxBuy) {\n    return Alert(i18next.t('general.validation.goldenQuarksTooMany'))\n  } else if (!Number.isInteger(buyAmount)) {\n    // non integer\n    return Alert(i18next.t('general.validation.fraction'))\n  }\n\n  let cost: number\n\n  if (buyAmount === -1) {\n    cost = maxBuy * goldenQuarkCost.cost\n    player.worlds.sub(cost)\n    player.goldenQuarks += maxBuy\n  } else {\n    cost = buyAmount * goldenQuarkCost.cost\n    player.worlds.sub(cost)\n    player.goldenQuarks += buyAmount\n  }\n\n  return Alert(\n    i18next.t('singularity.goldenQuarks.transaction', {\n      spent: format(maxBuy, 0, true),\n      cost: format(cost, 0, true)\n    })\n  )\n}\n\nexport type SingularityDebuffs =\n  | 'Offering'\n  | 'Obtainium'\n  | 'Global Speed'\n  | 'Researches'\n  | 'Ascension Speed'\n  | 'Cubes'\n  | 'Cube Upgrades'\n  | 'Platonic Costs'\n  | 'Hepteract Costs'\n\nexport const calculateEffectiveSingularities = (\n  singularityCount: number = player.singularityCount\n): number => {\n  let effectiveSingularities = singularityCount\n  effectiveSingularities *= Math.min(4.75, (0.75 * singularityCount) / 10 + 1)\n\n  if (player.insideSingularityChallenge) {\n    if (player.singularityChallenges.noOcteracts.enabled) {\n      effectiveSingularities *= Math.pow(\n        player.singularityChallenges.noOcteracts.completions + 1,\n        3\n      )\n    }\n  }\n\n  if (singularityCount > 10) {\n    effectiveSingularities *= 1.5\n    effectiveSingularities *= Math.min(\n      4,\n      (1.25 * singularityCount) / 10 - 0.25\n    )\n  }\n  if (singularityCount > 25) {\n    effectiveSingularities *= 2.5\n    effectiveSingularities *= Math.min(6, (1.5 * singularityCount) / 25 - 0.5)\n  }\n  if (singularityCount > 36) {\n    effectiveSingularities *= 4\n    effectiveSingularities *= Math.min(5, singularityCount / 18 - 1)\n    effectiveSingularities *= Math.pow(\n      1.1,\n      Math.min(singularityCount - 36, 64)\n    )\n  }\n  if (singularityCount > 50) {\n    effectiveSingularities *= 5\n    effectiveSingularities *= Math.min(8, (2 * singularityCount) / 50 - 1)\n    effectiveSingularities *= Math.pow(\n      1.1,\n      Math.min(singularityCount - 50, 50)\n    )\n  }\n  if (singularityCount > 100) {\n    effectiveSingularities *= 2\n    effectiveSingularities *= singularityCount / 25\n    effectiveSingularities *= Math.pow(1.1, singularityCount - 100)\n  }\n  if (singularityCount > 150) {\n    effectiveSingularities *= 2\n    effectiveSingularities *= Math.pow(1.05, singularityCount - 150)\n  }\n  if (singularityCount > 200) {\n    effectiveSingularities *= 1.5\n    effectiveSingularities *= Math.pow(1.275, singularityCount - 200)\n  }\n  if (singularityCount > 215) {\n    effectiveSingularities *= 1.25\n    effectiveSingularities *= Math.pow(1.2, singularityCount - 215)\n  }\n  if (singularityCount > 230) {\n    effectiveSingularities *= 2\n  }\n  if (singularityCount > 269) {\n    effectiveSingularities *= 3\n    effectiveSingularities *= Math.pow(3, singularityCount - 269)\n  }\n\n  return effectiveSingularities\n}\n\nexport const calculateNextSpike = (\n  singularityCount: number = player.singularityCount\n): number => {\n  const singularityPenaltyThreshold = [11, 26, 37, 51, 101, 151, 201, 216, 230, 270]\n  let penaltyDebuff = 0\n  penaltyDebuff += player.shopUpgrades.shopSingularityPenaltyDebuff\n\n  for (const sing of singularityPenaltyThreshold) {\n    if (sing + penaltyDebuff > singularityCount) {\n      return sing + penaltyDebuff\n    }\n  }\n  return -1\n}\nexport const calculateSingularityDebuff = (\n  debuff: SingularityDebuffs,\n  singularityCount: number = player.singularityCount\n) => {\n  if (singularityCount === 0) {\n    return 1\n  }\n  if (player.runelevels[6] > 0) {\n    return 1\n  }\n\n  let constitutiveSingularityCount = singularityCount\n  constitutiveSingularityCount -= player.shopUpgrades.shopSingularityPenaltyDebuff\n  if (constitutiveSingularityCount < 1) {\n    return 1\n  }\n\n  const effectiveSingularities = calculateEffectiveSingularities(\n    constitutiveSingularityCount\n  )\n\n  if (debuff === 'Offering') {\n    return Math.sqrt(\n      Math.min(effectiveSingularities, calculateEffectiveSingularities(150)) + 1\n    )\n  } else if (debuff === 'Global Speed') {\n    return 1 + Math.sqrt(effectiveSingularities) / 4\n  } else if (debuff === 'Obtainium') {\n    return Math.sqrt(\n      Math.min(effectiveSingularities, calculateEffectiveSingularities(150)) + 1\n    )\n  } else if (debuff === 'Researches') {\n    return 1 + Math.sqrt(effectiveSingularities) / 2\n  } else if (debuff === 'Ascension Speed') {\n    return singularityCount < 150\n      ? 1 + Math.sqrt(effectiveSingularities) / 5\n      : 1 + Math.pow(effectiveSingularities, 0.75) / 10000\n  } else if (debuff === 'Cubes') {\n    const extraMult = player.singularityCount > 100\n      ? Math.pow(1.02, player.singularityCount - 100)\n      : 1\n    return player.singularityCount < 150\n      ? 1 + (Math.sqrt(effectiveSingularities) * extraMult) / 4\n      : 1 + (Math.pow(effectiveSingularities, 0.75) * extraMult) / 1000\n  } else if (debuff === 'Platonic Costs') {\n    return singularityCount > 36\n      ? 1 + Math.pow(effectiveSingularities, 3 / 10) / 12\n      : 1\n  } else if (debuff === 'Hepteract Costs') {\n    return singularityCount > 50\n      ? 1 + Math.pow(effectiveSingularities, 11 / 50) / 25\n      : 1\n  } else {\n    // Cube upgrades\n    return Math.cbrt(effectiveSingularities + 1)\n  }\n}\n", "import i18next from 'i18next'\nimport { DOMCacheGetOrSet } from './Cache/DOM'\nimport { calculateAnts, calculateRuneLevels, calculateSummationNonLinear } from './Calculate'\nimport type { IMultiBuy } from './Cubes'\nimport { calculateSingularityDebuff } from './singularity'\nimport { format, player } from './Synergism'\nimport { revealStuff, updateChallengeDisplay } from './UpdateHTML'\nimport { updateClassList } from './Utility'\nimport { Globals as G } from './Variables'\n\nconst getResearchCost = (index: number, buyAmount = 1, linGrowth = 0): IMultiBuy => {\n  buyAmount = Math.min(G.researchMaxLevels[index] - player.researches[index], buyAmount)\n  const metaData = calculateSummationNonLinear(\n    player.researches[index],\n    G.researchBaseCosts[index] * calculateSingularityDebuff('Researches'),\n    player.researchPoints,\n    linGrowth,\n    buyAmount\n  )\n  return metaData\n}\n\nexport const updateAutoResearch = (index: number, auto: boolean) => {\n  /* If Cube Upgrade 9 (1x9) is purchased, then automation behaves differently.\n     If not purchased, then clicking on a research icon while auto toggled will update research for you.*/\n  if (autoResearchEnabled() && auto && player.autoResearchMode === 'cheapest') {\n    player.autoResearch = G.researchOrderByCost[player.roombaResearchIndex]\n\n    // Checks if this is maxed. If so we proceed to the next research.\n    if (isResearchMaxed(player.autoResearch)) {\n      DOMCacheGetOrSet(`res${player.autoResearch || 1}`).classList.remove('researchRoomba')\n      player.roombaResearchIndex = Math.min(\n        G.researchOrderByCost.length - 1,\n        player.roombaResearchIndex + 1\n      )\n    }\n\n    // Checks against researches invalid or not unlocked.\n    while (!isResearchUnlocked(player.autoResearch) && player.autoResearch < 200 && player.autoResearch >= 76) {\n      player.roombaResearchIndex += 1\n      player.autoResearch = G.researchOrderByCost[player.roombaResearchIndex]\n    }\n\n    // Researches that are unlocked work\n    if (isResearchUnlocked(player.autoResearch)) {\n      const idx = Math.max(G.researchOrderByCost[player.roombaResearchIndex], 1)\n      const doc = DOMCacheGetOrSet(`res${idx}`)\n      if (player.researches[player.autoResearch] < G.researchMaxLevels[player.autoResearch]) {\n        doc.classList.add('researchRoomba')\n      }\n    }\n\n    return\n  } else if (!auto && (!autoResearchEnabled() || player.autoResearchMode === 'manual')) {\n    /* We remove the old research HTML from the 'roomba' class and make the new index our 'roomba'\n           class. We then update the index and consequently the coloring of the background based\n           on what level (if any) the research has. This functionality is useless after\n           Cube Upgrade 9 (1x9) has been purchased. */\n    DOMCacheGetOrSet(`res${player.autoResearch || 1}`).classList.remove('researchRoomba')\n    DOMCacheGetOrSet(`res${index}`).classList.add('researchRoomba')\n    player.autoResearch = index\n\n    // Research is maxed\n    if (player.researches[index] >= G.researchMaxLevels[index]) {\n      updateClassList(`res${player.autoResearch}`, ['researchMaxed'], ['researchPurchased', 'researchUnpurchased'])\n    } else if (player.researches[index] >= 1) {\n      // Research purchased above level 0 but not maxed\n      updateClassList(`res${player.autoResearch}`, ['researchPurchased'], ['researchUnpurchased', 'researchMaxed'])\n    } else {\n      // Research has not been purchased yet\n      updateClassList(`res${player.autoResearch}`, ['researchUnpurchased'], ['researchPurchased', 'researchMaxed'])\n    }\n\n    return\n  } else {\n    return\n  } // There might be code needed here. I don't quite know yet. -Platonic\n}\n\n/**\n * Should the user have access to autoResearch\n * @returns boolean\n */\nexport const autoResearchEnabled = (): boolean => {\n  return (player.cubeUpgrades[9] === 1 || player.highestSingularityCount > 10)\n}\n/**\n * Attempts to buy the research of the index selected. This is hopefully an improvement over buyResearch. Fuck\n * @param index\n * @param auto\n * @param linGrowth\n * @returns\n */\nexport const buyResearch = (index: number, auto = false, linGrowth = 0, hover = false): boolean => {\n  // Get our costs, and determine if anything is purchasable.\n  const buyAmount = (player.researchBuyMaxToggle || auto || hover) ? 1e5 : 1\n  const metaData = getResearchCost(index, buyAmount, linGrowth) /* Destructuring FTW! */\n  const canBuy = player.researchPoints >= metaData.cost\n\n  if (canBuy && isResearchUnlocked(index) && !isResearchMaxed(index)) {\n    player.researches[index] = metaData.levelCanBuy\n    player.researchPoints -= metaData.cost\n    // Quick check after upgrading for max. This is to update any automation regardless of auto state\n    if (isResearchMaxed(index)) {\n      DOMCacheGetOrSet(`res${player.autoResearch || 1}`).classList.remove('researchRoomba')\n    }\n\n    // Update the progress description\n    G.researchfiller2 = `Level: ${player.researches[index]}/${G.researchMaxLevels[index]}`\n    researchDescriptions(index, auto, linGrowth)\n\n    // Handle special cases: Researches 47-50 (2x21-2x25)\n    // I love the ||= operator -Platonic\n    player.unlocks.rrow1 ||= true\n    player.unlocks.rrow2 ||= true\n    player.unlocks.rrow3 ||= true\n    player.unlocks.rrow4 ||= true\n    if (index >= 47 && index <= 50) {\n      revealStuff()\n    }\n    if ((index >= 66 && index <= 70) || index === 105) {\n      updateChallengeDisplay()\n    }\n\n    // Update ants and runes.\n    calculateRuneLevels()\n    calculateAnts()\n  }\n\n  // Update HTML for auto stuff if auto research is ever toggled.\n  if (player.autoResearchToggle) {\n    updateAutoResearch(index, auto)\n  }\n\n  // Note to anyone reading this code: I forget why this needs to return a Boolean.\n  // -Platonic\n  return canBuy\n}\n\n/**\n * Calculates the max research index for the research roomba\n */\nexport const maxRoombaResearchIndex = (p = player) => {\n  const base = p.ascensionCount > 0 ? 140 : 125 // 125 researches pre-A + 15 from A\n  const c11 = p.challengecompletions[11] > 0 ? 15 : 0\n  const c12 = p.challengecompletions[12] > 0 ? 15 : 0\n  const c13 = p.challengecompletions[13] > 0 ? 15 : 0\n  const c14 = p.challengecompletions[14] > 0 ? 15 : 0\n  return base + c11 + c12 + c13 + c14\n}\n\nexport const isResearchUnlocked = (index: number) => {\n  // https://stackoverflow.com/questions/20477177/creating-an-array-of-cumulative-sum-in-javascript\n  const cumuSum = ((sum) => (value: number) => sum += value)(0)\n  const indices = [3 * 25, 5, 20, 10, 15, 15, 15, 15, 15, 15].map(cumuSum)\n  const chievos = [50, 124, 127, 134, 141, 183, 197, 204, 211, 218]\n  for (let i = 0; i < indices.length; i++) {\n    if (i === 3 && (index === 121 || index === 124 || index === 150)) {\n      return player.achievements[chievos[i]] > 0\n    }\n    if (index <= indices[i]) {\n      return player.achievements[chievos[i]] > 0\n    }\n  }\n  return false\n}\n\nconst isResearchMaxed = (index: number) => G.researchMaxLevels[index] <= player.researches[index]\n\nexport const researchDescriptions = (i: number, auto = false, linGrowth = 0) => {\n  const buyAmount = (player.researchBuyMaxToggle || auto) ? 100000 : 1\n  const y = i18next.t(`researches.descriptions.${i}`)\n  const p = `res${i}`\n\n  if (player.toggles[38] && player.singularityCount > 0) {\n    buyResearch(i, false, i === 200 ? 0.01 : 0, true)\n  }\n\n  const metaData = getResearchCost(i, buyAmount, linGrowth)\n  let z = i18next.t('researches.cost', {\n    x: format(metaData.cost, 0, false),\n    y: format(metaData.levelCanBuy - player.researches[i], 0, true)\n  })\n\n  if (player.researches[i] === (G.researchMaxLevels[i])) {\n    DOMCacheGetOrSet('researchcost').style.color = 'Gold'\n    DOMCacheGetOrSet('researchinfo3').style.color = 'plum'\n    updateClassList(p, ['researchMaxed'], ['researchAvailable', 'researchPurchased', 'researchPurchasedAvailable'])\n    z += i18next.t('researches.maxed')\n  } else {\n    DOMCacheGetOrSet('researchcost').style.color = 'limegreen'\n    DOMCacheGetOrSet('researchinfo3').style.color = 'white'\n    if (player.researches[i] > 0) {\n      updateClassList(p, ['researchPurchased', 'researchPurchasedAvailable'], [\n        'researchAvailable',\n        'researchMaxed',\n        'researchUnpurchased'\n      ])\n    } else {\n      updateClassList(p, ['researchAvailable'], ['researchPurchased', 'researchMaxed', 'researchUnpurchased'])\n    }\n  }\n\n  if (player.researchPoints < metaData.cost && player.researches[i] < (G.researchMaxLevels[i])) {\n    DOMCacheGetOrSet('researchcost').style.color = 'var(--crimson-text-color)'\n    updateClassList(p, [], ['researchMaxed', 'researchAvailable', 'researchPurchasedAvailable'])\n  }\n\n  DOMCacheGetOrSet('researchinfo2').textContent = y\n  DOMCacheGetOrSet('researchcost').textContent = z\n  DOMCacheGetOrSet('researchinfo3').textContent = i18next.t('researches.level', {\n    x: player.researches[i],\n    y: G.researchMaxLevels[i]\n  })\n}\n\nexport const updateResearchBG = (j: number) => {\n  if (player.researches[j] > G.researchMaxLevels[j]) {\n    player.researchPoints += (player.researches[j] - G.researchMaxLevels[j]) * G.researchBaseCosts[j]\n    player.researches[j] = G.researchMaxLevels[j]\n  }\n\n  const k = `res${j}`\n  if (player.researches[j] > 0.5 && player.researches[j] < G.researchMaxLevels[j]) {\n    updateClassList(k, ['researchPurchased'], ['researchUnpurchased', 'researchMaxed'])\n  } else if (player.researches[j] > 0.5 && player.researches[j] >= G.researchMaxLevels[j]) {\n    updateClassList(k, ['researchMaxed'], ['researchUnpurchased', 'researchPurchased'])\n  } else {\n    updateClassList(k, ['researchUnpurchased'], ['researchPurchased', 'researchMaxed'])\n  }\n}\n", "import i18next from 'i18next'\nimport { achievementaward } from './Achievements'\nimport { DOMCacheGetOrSet } from './Cache/DOM'\nimport { calculateRuneLevels } from './Calculate'\nimport { getChallengeConditions } from './Challenges'\nimport { corruptionDisplay, corruptionLoadoutTableUpdate, maxCorruptionLevel } from './Corruptions'\nimport { autoResearchEnabled } from './Research'\nimport { reset, resetrepeat } from './Reset'\nimport { format, player, resetCheck } from './Synergism'\nimport { subTabsInMainTab, Tabs } from './Tabs'\nimport type { BuildingSubtab, Player } from './types/Synergism'\nimport { Alert, Prompt, showCorruptionStatsLoadouts, updateChallengeDisplay } from './UpdateHTML'\nimport { visualUpdateAmbrosia, visualUpdateCubes, visualUpdateOcteracts } from './UpdateVisuals'\nimport { Globals as G } from './Variables'\n\nexport const toggleSettings = (toggle: HTMLElement) => {\n  const toggleId = toggle.getAttribute('toggleId') ?? 1\n  if (player.toggles[+toggleId]) {\n    player.toggles[+toggleId] = false\n  } else {\n    player.toggles[+toggleId] = true\n  }\n  const format = toggle.getAttribute('format')\n\n  if (format === '$' || format === '[$]') {\n    const text = player.toggles[+toggleId] ? i18next.t('general.on') : i18next.t('general.off')\n    toggle.textContent = format === '[$]' ? `[${text}]` : text\n  } else if (format === 'Auto Catalyze: $') {\n    const text = player.toggles[+toggleId] ? i18next.t('shop.autoCatalyzeOn') : i18next.t('shop.autoCatalyzeOff')\n    toggle.textContent = text\n  } else if (format === 'Hover-to-Buy [$]') {\n    const text = player.toggles[+toggleId]\n      ? i18next.t('researches.hoverToBuyOn')\n      : i18next.t('researches.hoverToBuyOff')\n    toggle.textContent = text\n  } else if (format === 'Auto: $') {\n    const text = player.toggles[+toggleId] ? i18next.t('general.autoOnColon') : i18next.t('general.autoOffColon')\n    toggle.textContent = text\n  } else if (format) {\n    const finishedString = format.replace('$', player.toggles[+toggleId] ? 'ON' : 'OFF')\n    toggle.textContent = finishedString\n  } else {\n    toggle.textContent = player.toggles[+toggleId]\n      ? i18next.t('general.autoOnBracket')\n      : i18next.t('general.autoOffBracket')\n  }\n\n  toggle.style.border = `2px solid ${player.toggles[+toggleId] ? 'green' : 'red'}`\n}\n\nexport const toggleChallenges = (i: number, auto = false) => {\n  if ((i <= 5)) {\n    if (player.currentChallenge.ascension !== 15 || player.ascensionCounter >= 2) {\n      player.currentChallenge.transcension = i\n      reset('transcensionChallenge', false, 'enterChallenge')\n      player.transcendCount -= 1\n    }\n    if (!player.currentChallenge.reincarnation && !document.querySelector('.resetbtn.hover')) {\n      resetrepeat('transcensionChallenge')\n    }\n  }\n  if ((i >= 6 && i < 11)) {\n    if (player.currentChallenge.ascension !== 15 || player.ascensionCounter >= 2) {\n      player.currentChallenge.reincarnation = i\n      reset('reincarnationChallenge', false, 'enterChallenge')\n      player.reincarnationCount -= 1\n    }\n    if (!document.querySelector('.resetbtn.hover')) {\n      resetrepeat('reincarnationChallenge')\n    }\n  }\n  if (\n    i >= 11\n    && ((!auto && !player.toggles[31]) || player.challengecompletions[10] > 0\n      || (player.currentChallenge.transcension === 0 && player.currentChallenge.reincarnation === 0\n        && player.currentChallenge.ascension === 0))\n  ) {\n    if (player.currentChallenge.ascension === 15) {\n      void resetCheck('ascensionChallenge', false, true)\n    }\n    player.currentChallenge.ascension = i\n    reset('ascensionChallenge', false, 'enterChallenge')\n  }\n  updateChallengeDisplay()\n  getChallengeConditions(i)\n\n  if (i <= 10 && !auto && player.autoChallengeRunning) {\n    toggleAutoChallengeRun()\n  }\n\n  if (\n    player.currentChallenge.transcension !== 0 && player.currentChallenge.reincarnation !== 0\n    && player.currentChallenge.ascension !== 0 && player.achievements[238] < 1\n  ) {\n    achievementaward(238)\n  }\n}\n\ntype ToggleBuy = 'coin' | 'crystal' | 'mythos' | 'particle' | 'offering' | 'tesseract'\n\nexport const toggleBuyAmount = (quantity: 1 | 10 | 100 | 1000 | 10000 | 100000, type: ToggleBuy) => {\n  player[`${type}buyamount` as const] = quantity\n  const a = ['one', 'ten', 'hundred', 'thousand', '10k', '100k'][quantity.toString().length - 1]\n\n  DOMCacheGetOrSet(`${type}${a}`).style.backgroundColor = 'Green'\n  if (quantity !== 1) {\n    DOMCacheGetOrSet(`${type}one`).style.backgroundColor = ''\n  }\n  if (quantity !== 10) {\n    DOMCacheGetOrSet(`${type}ten`).style.backgroundColor = ''\n  }\n  if (quantity !== 100) {\n    DOMCacheGetOrSet(`${type}hundred`).style.backgroundColor = ''\n  }\n  if (quantity !== 1000) {\n    DOMCacheGetOrSet(`${type}thousand`).style.backgroundColor = ''\n  }\n  if (quantity !== 10000) {\n    DOMCacheGetOrSet(`${type}10k`).style.backgroundColor = ''\n  }\n  if (quantity !== 100000) {\n    DOMCacheGetOrSet(`${type}100k`).style.backgroundColor = ''\n  }\n}\n\ntype upgradeAutos = 'coin' | 'prestige' | 'transcend' | 'generators' | 'reincarnate'\n\n/**\n * Updates Auto Upgrade Border Colors if applicable, or updates the status of an upgrade toggle as optional.\n * @param toggle Targets a specific upgrade toggle if provided\n */\nexport const toggleShops = (toggle?: upgradeAutos) => {\n  // toggle provided: we do not want to update every button\n  if (toggle) {\n    player.shoptoggles[toggle] = !player.shoptoggles[toggle]\n    DOMCacheGetOrSet(`${toggle}AutoUpgrade`).style.borderColor = player.shoptoggles[toggle] ? 'green' : 'red'\n\n    if (player.shoptoggles[toggle]) {\n      DOMCacheGetOrSet(`${toggle}AutoUpgrade`).textContent = i18next.t('general.autoOnColon')\n    } else {\n      DOMCacheGetOrSet(`${toggle}AutoUpgrade`).textContent = i18next.t('general.autoOffColon')\n    }\n  } else {\n    const keys = Object.keys(player.shoptoggles) as (keyof Player['shoptoggles'])[]\n    for (const key of keys) {\n      const color = player.shoptoggles[key] ? 'green' : 'red'\n\n      if (player.shoptoggles[key]) {\n        DOMCacheGetOrSet(`${key}AutoUpgrade`).textContent = i18next.t('general.autoOnColon')\n      } else {\n        DOMCacheGetOrSet(`${key}AutoUpgrade`).textContent = i18next.t('general.autoOffColon')\n      }\n\n      DOMCacheGetOrSet(`${key}AutoUpgrade`).style.borderColor = color\n    }\n  }\n}\n\nexport const toggleautoreset = (i: number) => {\n  if (i === 1) {\n    if (player.resettoggle1 === 1 || player.resettoggle1 === 0) {\n      player.resettoggle1 = 2\n      DOMCacheGetOrSet('prestigeautotoggle').textContent = i18next.t('toggles.modeTime')\n    } else {\n      player.resettoggle1 = 1\n      DOMCacheGetOrSet('prestigeautotoggle').textContent = i18next.t('toggles.modeAmount')\n    }\n  } else if (i === 2) {\n    if (player.resettoggle2 === 1 || player.resettoggle2 === 0) {\n      player.resettoggle2 = 2\n      DOMCacheGetOrSet('transcendautotoggle').textContent = i18next.t('toggles.modeTime')\n    } else {\n      player.resettoggle2 = 1\n      DOMCacheGetOrSet('transcendautotoggle').textContent = i18next.t('toggles.modeAmount')\n    }\n  } else if (i === 3) {\n    if (player.resettoggle3 === 1 || player.resettoggle3 === 0) {\n      player.resettoggle3 = 2\n      DOMCacheGetOrSet('reincarnateautotoggle').textContent = i18next.t('toggles.modeTime')\n    } else {\n      player.resettoggle3 = 1\n      DOMCacheGetOrSet('reincarnateautotoggle').textContent = i18next.t('toggles.modeAmount')\n    }\n  } else if (i === 4) {\n    if (player.resettoggle4 === 1 || player.resettoggle4 === 0) {\n      player.resettoggle4 = 2\n      DOMCacheGetOrSet('tesseractautobuymode').textContent = i18next.t('toggles.modePercentage')\n    } else {\n      player.resettoggle4 = 1\n      DOMCacheGetOrSet('tesseractautobuymode').textContent = i18next.t('toggles.modeAmount')\n    }\n  }\n}\n\nexport const toggleautobuytesseract = () => {\n  if (player.tesseractAutoBuyerToggle === 1 || player.tesseractAutoBuyerToggle === 0) {\n    player.tesseractAutoBuyerToggle = 2\n    DOMCacheGetOrSet('tesseractautobuytoggle').textContent = i18next.t('runes.talismans.autoBuyOff')\n    DOMCacheGetOrSet('tesseractautobuytoggle').style.border = '2px solid red'\n  } else {\n    player.tesseractAutoBuyerToggle = 1\n    DOMCacheGetOrSet('tesseractautobuytoggle').textContent = i18next.t('runes.talismans.autoBuyOn')\n    DOMCacheGetOrSet('tesseractautobuytoggle').style.border = '2px solid green'\n  }\n}\n\nexport const toggleauto = () => {\n  const toggles = Array.from<HTMLElement>(document.querySelectorAll('.auto[toggleid]'))\n  for (const toggle of toggles) {\n    const format = toggle.getAttribute('format')\n    const toggleId = toggle.getAttribute('toggleId') ?? 1\n\n    if (format === '$') {\n      const text = player.toggles[+toggleId] ? i18next.t('general.on') : i18next.t('general.off')\n      toggle.textContent = text\n    } else if (format === 'Auto Catalyze: $') {\n      const text = player.toggles[+toggleId] ? i18next.t('shop.autoCatalyzeOn') : i18next.t('shop.autoCatalyzeOff')\n      toggle.textContent = text\n    } else if (format === 'Hover-to-Buy [$]') {\n      const text = player.toggles[+toggleId]\n        ? i18next.t('researches.hoverToBuyOn')\n        : i18next.t('researches.hoverToBuyOff')\n      toggle.textContent = text\n    } else if (format === 'Auto: $') {\n      const text = player.toggles[+toggleId] ? i18next.t('general.autoOnColon') : i18next.t('general.autoOffColon')\n      toggle.textContent = text\n    } else if (format) {\n      const finishedString = format.replace('$', player.toggles[+toggleId] ? 'ON' : 'OFF')\n      toggle.textContent = finishedString\n    } else {\n      toggle.textContent = player.toggles[+toggleId]\n        ? i18next.t('general.autoOnBracket')\n        : i18next.t('general.autoOffBracket')\n    }\n\n    toggle.style.border = `2px solid ${player.toggles[+toggleId] ? 'green' : 'red'}`\n  }\n\n  const tesseractAutos = Array.from<HTMLElement>(document.querySelectorAll('*[id^=\"tesseractAutoToggle\"]'))\n\n  for (let j = 0; j < tesseractAutos.length; j++) {\n    const auto = tesseractAutos[j]\n\n    if (player.autoTesseracts[j + 1]) {\n      auto.textContent = i18next.t('general.autoOnBracket')\n      auto.style.border = '2px solid green'\n    } else {\n      auto.textContent = i18next.t('general.autoOffBracket')\n      auto.style.border = '2px solid red'\n    }\n  }\n}\n\nexport const toggleResearchBuy = () => {\n  if (player.researchBuyMaxToggle) {\n    player.researchBuyMaxToggle = false\n    DOMCacheGetOrSet('toggleresearchbuy').textContent = i18next.t('researches.upgradeOne')\n  } else {\n    player.researchBuyMaxToggle = true\n    DOMCacheGetOrSet('toggleresearchbuy').textContent = i18next.t('researches.upgradeMax')\n  }\n}\n\nexport const toggleAutoResearch = () => {\n  const el = DOMCacheGetOrSet('toggleautoresearch')\n  if (player.autoResearchToggle || player.shopUpgrades.obtainiumAuto < 1) {\n    player.autoResearchToggle = false\n    el.textContent = i18next.t('researches.automaticOff')\n    DOMCacheGetOrSet(`res${player.autoResearch || 1}`).classList.remove('researchRoomba')\n    player.autoResearch = 0\n  } else {\n    player.autoResearchToggle = true\n    el.textContent = i18next.t('researches.automaticOn')\n  }\n\n  if (player.autoResearchToggle && autoResearchEnabled() && player.autoResearchMode === 'cheapest') {\n    player.autoResearch = G.researchOrderByCost[player.roombaResearchIndex]\n  }\n}\n\nexport const toggleAutoResearchMode = () => {\n  const el = DOMCacheGetOrSet('toggleautoresearchmode')\n  if (player.autoResearchMode === 'cheapest' || !autoResearchEnabled()) {\n    player.autoResearchMode = 'manual'\n    el.textContent = i18next.t('researches.autoModeManual')\n  } else {\n    player.autoResearchMode = 'cheapest'\n    el.textContent = i18next.t('researches.autoModeCheapest')\n  }\n  DOMCacheGetOrSet(`res${player.autoResearch || 1}`).classList.remove('researchRoomba')\n\n  if (player.autoResearchToggle && autoResearchEnabled() && player.autoResearchMode === 'cheapest') {\n    player.autoResearch = G.researchOrderByCost[player.roombaResearchIndex]\n  }\n}\n\nexport const toggleAutoSacrifice = (index: number) => {\n  const el = DOMCacheGetOrSet('toggleautosacrifice')\n  if (index === 0) {\n    if (player.autoSacrificeToggle) {\n      player.autoSacrificeToggle = false\n      el.textContent = i18next.t('runes.blessings.autoRuneOff')\n      el.style.border = '2px solid red'\n      player.autoSacrifice = 0\n    } else {\n      player.autoSacrificeToggle = true\n      player.saveOfferingToggle = false\n      el.textContent = i18next.t('runes.blessings.autoRuneOn')\n      el.style.border = '2px solid green'\n      DOMCacheGetOrSet('saveOffToggle').textContent = i18next.t('toggles.saveOfferingsOff')\n      DOMCacheGetOrSet('saveOffToggle').style.color = 'white'\n    }\n  } else if (player.autoSacrificeToggle && player.shopUpgrades.offeringAuto > 0.5) {\n    if (player.autoSacrifice === index) {\n      player.autoSacrifice = 0\n    } else {\n      player.autoSacrifice = index\n    }\n  }\n  for (let i = 1; i <= 5; i++) {\n    DOMCacheGetOrSet(`rune${i}`).style.backgroundColor = player.autoSacrifice === i ? 'orange' : ''\n  }\n  calculateRuneLevels()\n}\n\nexport const toggleAutoBuyFragment = () => {\n  const el = DOMCacheGetOrSet('toggleautoBuyFragments')\n  if (player.autoBuyFragment) {\n    el.textContent = i18next.t('runes.talismans.autoBuyOff')\n    el.style.border = '2px solid orange'\n    el.style.color = 'white'\n  } else {\n    el.textContent = i18next.t('runes.talismans.autoBuyOn')\n    el.style.border = '2px solid white'\n    el.style.color = 'orange'\n  }\n\n  player.autoBuyFragment = !player.autoBuyFragment\n}\n\nexport const toggleBuildingScreen = (input: string) => {\n  G.buildingSubTab = input as BuildingSubtab\n  const screen: Record<string, { screen: string; button: string; subtabNumber: number }> = {\n    coin: {\n      screen: 'coinBuildings',\n      button: 'switchToCoinBuilding',\n      subtabNumber: 0\n    },\n    diamond: {\n      screen: 'prestige',\n      button: 'switchToDiamondBuilding',\n      subtabNumber: 1\n    },\n    mythos: {\n      screen: 'transcension',\n      button: 'switchToMythosBuilding',\n      subtabNumber: 2\n    },\n    particle: {\n      screen: 'reincarnation',\n      button: 'switchToParticleBuilding',\n      subtabNumber: 3\n    },\n    tesseract: {\n      screen: 'ascension',\n      button: 'switchToTesseractBuilding',\n      subtabNumber: 4\n    }\n  }\n\n  for (const key in screen) {\n    DOMCacheGetOrSet(screen[key].screen).style.display = 'none'\n    DOMCacheGetOrSet(screen[key].button).style.backgroundColor = ''\n  }\n  DOMCacheGetOrSet(screen[G.buildingSubTab].screen).style.display = 'flex'\n  DOMCacheGetOrSet(screen[G.buildingSubTab].button).style.backgroundColor = 'crimson'\n  player.subtabNumber = screen[G.buildingSubTab].subtabNumber\n}\n\nexport const toggleRuneScreen = (indexStr: string) => {\n  const index = Number(indexStr)\n  const screens = ['runes', 'talismans', 'blessings', 'spirits']\n  G.runescreen = screens[index - 1]\n\n  for (let i = 1; i <= 4; i++) {\n    const a = DOMCacheGetOrSet(`toggleRuneSubTab${i}`)\n    const b = DOMCacheGetOrSet(`runeContainer${i}`)\n    if (i === index) {\n      a.style.border = '2px solid gold'\n      a.style.backgroundColor = 'crimson'\n      b.style.display = 'flex'\n    } else {\n      a.style.border = '2px solid silver'\n      a.style.backgroundColor = ''\n      b.style.display = 'none'\n    }\n  }\n  player.subtabNumber = index - 1\n}\n\nexport const toggleChallengesScreen = (indexStr: string) => {\n  const index = Number(indexStr)\n\n  for (let i = 1; i <= 2; i++) {\n    const a = DOMCacheGetOrSet(`toggleChallengesSubTab${i}`)\n    const b = DOMCacheGetOrSet(`challengesWrapper${i}`)\n    if (i === index) {\n      a.style.backgroundColor = 'crimson'\n      b.style.display = 'block'\n    } else {\n      a.style.backgroundColor = ''\n      b.style.display = 'none'\n    }\n  }\n  player.subtabNumber = index - 1\n}\n\nexport const toggleautofortify = () => {\n  const el = DOMCacheGetOrSet('toggleautofortify')\n  if (player.autoFortifyToggle) {\n    el.textContent = i18next.t('runes.autoFortifyOff')\n    el.style.border = '2px solid red'\n  } else {\n    el.textContent = i18next.t('runes.autoFortifyOn')\n    el.style.border = '2px solid green'\n  }\n\n  player.autoFortifyToggle = !player.autoFortifyToggle\n}\n\nexport const toggleautoenhance = () => {\n  const el = DOMCacheGetOrSet('toggleautoenhance')\n  if (player.autoEnhanceToggle) {\n    el.textContent = i18next.t('runes.autoEnhanceOff')\n    el.style.border = '2px solid red'\n  } else {\n    el.textContent = i18next.t('runes.autoEnhanceOn')\n    el.style.border = '2px solid green'\n  }\n\n  player.autoEnhanceToggle = !player.autoEnhanceToggle\n}\n\nexport const toggleSaveOff = () => {\n  const el = DOMCacheGetOrSet('saveOffToggle')\n  const et = DOMCacheGetOrSet('toggleautosacrifice')\n  if (player.saveOfferingToggle) {\n    player.autoSacrificeToggle = true\n    el.textContent = i18next.t('toggles.saveOfferingsOff')\n    el.style.color = 'white'\n    et.textContent = 'Auto Runes: ON'\n    et.style.border = '2px solid green'\n  } else {\n    player.autoSacrificeToggle = false\n    el.textContent = i18next.t('toggles.saveOfferingsOn')\n    el.style.color = 'yellow'\n    et.textContent = 'Auto Runes: OFF'\n    et.style.border = '2px solid red'\n  }\n\n  player.saveOfferingToggle = !player.saveOfferingToggle\n}\n\nexport const toggleSingularityScreen = (indexStr: string) => {\n  const index = Number(indexStr)\n\n  for (let i = 1; i <= 4; i++) {\n    const a = DOMCacheGetOrSet(`toggleSingularitySubTab${i}`)\n    const b = DOMCacheGetOrSet(`singularityContainer${i}`)\n    if (i === index) {\n      a.style.backgroundColor = 'crimson'\n      b.style.display = 'block'\n    } else {\n      a.style.backgroundColor = ''\n      b.style.display = 'none'\n    }\n  }\n\n  player.subtabNumber = index - 1\n\n  if (player.subtabNumber === 2) {\n    visualUpdateOcteracts()\n  }\n\n  if (player.subtabNumber === 3) {\n    visualUpdateAmbrosia()\n  }\n}\n\ninterface ChadContributor {\n  login: string\n  id: number\n  node_id: string\n  avatar_url: string\n  gravatar_id: string\n  url: string\n  html_url: string\n  followers_url: string\n  following_url: string\n  gists_url: string\n  starred_url: string\n  subscriptions_url: string\n  organizations_url: string\n  repos_url: string\n  events_url: string\n  received_events_url: string\n  type: string\n  site_admin: boolean\n  contributions: number\n}\n\nexport const setActiveSettingScreen = async (subtab: string) => {\n  const clickedButton =\n    DOMCacheGetOrSet('settings').getElementsByClassName('subtabSwitcher')[0].children[player.subtabNumber]\n  const subtabEl = DOMCacheGetOrSet(subtab)\n  if (subtabEl.classList.contains('subtabActive')) {\n    return\n  }\n\n  const switcherEl = clickedButton.parentNode!\n  switcherEl.querySelectorAll('.buttonActive').forEach((b) => b.classList.remove('buttonActive'))\n  clickedButton.classList.add('buttonActive')\n\n  subtabEl.parentNode!.querySelectorAll('.subtabActive').forEach((subtab) => subtab.classList.remove('subtabActive'))\n  subtabEl.classList.add('subtabActive')\n\n  if (subtab === 'creditssubtab') {\n    const credits = DOMCacheGetOrSet('creditList')\n    const artists = DOMCacheGetOrSet('artistList')\n\n    if (credits.childElementCount > 0 || artists.childElementCount > 0) {\n      return\n    } else if (!navigator.onLine || document.hidden) {\n      return\n    }\n\n    try {\n      const r = await fetch('https://api.github.com/repos/pseudo-corp/SynergismOfficial/contributors', {\n        headers: {\n          Accept: 'application/vnd.github.v3+json'\n        }\n      })\n      const j = await r.json() as ChadContributor[]\n\n      for (const contributor of j) {\n        const div = document.createElement('div')\n        div.classList.add('credit')\n\n        const img = new Image(32, 32)\n        img.src = contributor.avatar_url\n        img.alt = contributor.login\n\n        const a = document.createElement('a')\n        a.href = `https://github.com/Pseudo-Corp/SynergismOfficial/commits?author=${contributor.login}`\n        a.textContent = contributor.login\n        a.target = '_blank'\n        a.rel = 'noopener noreferrer nofollow'\n\n        div.appendChild(img)\n        div.appendChild(a)\n\n        credits.appendChild(div)\n      }\n    } catch (e) {\n      const err = e as Error\n      credits.appendChild(document.createTextNode(err.toString()))\n    }\n\n    try {\n      const r = await fetch('https://api.github.com/gists/01917ff476d25a141c5bad38340cd756', {\n        headers: {\n          Accept: 'application/vnd.github.v3+json'\n        }\n      })\n\n      const j = await r.json() as { files: Record<string, { content: string }> }\n      const f = JSON.parse(j.files['synergism_artists.json'].content) as string[]\n\n      for (const user of f) {\n        const p = document.createElement('p')\n        p.textContent = user\n\n        artists.appendChild(p)\n      }\n    } catch (e) {\n      const err = e as Error\n      credits.appendChild(document.createTextNode(err.toString()))\n    }\n  }\n}\n\nexport const toggleShopConfirmation = () => {\n  const el = DOMCacheGetOrSet('toggleConfirmShop')\n  el.textContent = player.shopConfirmationToggle\n    ? i18next.t('shop.shopConfirmationOff')\n    : i18next.t('shop.shopConfirmationOn')\n\n  player.shopConfirmationToggle = !player.shopConfirmationToggle\n}\n\nexport const toggleBuyMaxShop = (event: MouseEvent) => {\n  const el = DOMCacheGetOrSet('toggleBuyMaxShopText')\n  if (event.shiftKey) {\n    el.textContent = i18next.t('shop.buyAny')\n    player.shopBuyMaxToggle = 'ANY'\n    return\n  }\n\n  switch (player.shopBuyMaxToggle) {\n    case false:\n      el.innerHTML = i18next.t('shop.buy10')\n      player.shopBuyMaxToggle = 'TEN'\n      break\n    case 'TEN':\n      el.innerHTML = i18next.t('shop.buyMax')\n      player.shopBuyMaxToggle = true\n      break\n    default:\n      el.innerHTML = i18next.t('shop.buy1')\n      player.shopBuyMaxToggle = false\n  }\n}\n\nexport const toggleHideShop = () => {\n  const el = DOMCacheGetOrSet('toggleHideShop')\n  el.textContent = player.shopHideToggle\n    ? i18next.t('shop.hideMaxedOff')\n    : i18next.t('shop.hideMaxedOn')\n\n  player.shopHideToggle = !player.shopHideToggle\n}\n\nexport const toggleAntMaxBuy = () => {\n  const el = DOMCacheGetOrSet('toggleAntMax')\n  el.textContent = player.antMax\n    ? i18next.t('general.buyMaxOff')\n    : i18next.t('general.buyMaxOn')\n\n  player.antMax = !player.antMax\n}\n\nexport const toggleAntAutoSacrifice = (mode = 0) => {\n  if (mode === 0) {\n    const el = DOMCacheGetOrSet('toggleAutoSacrificeAnt')\n    if (player.autoAntSacrifice) {\n      player.autoAntSacrifice = false\n      el.textContent = i18next.t('ants.autoSacrificeOff')\n    } else {\n      player.autoAntSacrifice = true\n      el.textContent = i18next.t('ants.autoSacrificeOn')\n    }\n  } else if (mode === 1) {\n    const el = DOMCacheGetOrSet('autoSacrificeAntMode')\n    if (player.autoAntSacrificeMode === 1 || player.autoAntSacrificeMode === 0) {\n      player.autoAntSacrificeMode = 2\n      el.textContent = i18next.t('ants.modeRealTime')\n    } else {\n      player.autoAntSacrificeMode = 1\n      el.textContent = i18next.t('ants.modeInGameTime')\n    }\n  }\n}\n\nexport const toggleMaxBuyCube = () => {\n  const el = DOMCacheGetOrSet('toggleCubeBuy')\n  if (player.cubeUpgradesBuyMaxToggle) {\n    player.cubeUpgradesBuyMaxToggle = false\n    el.textContent = i18next.t('toggles.upgradeOneLevelWow')\n  } else {\n    player.cubeUpgradesBuyMaxToggle = true\n    el.textContent = i18next.t('toggles.upgradeMaxIfPossible')\n  }\n}\n\nexport const autoCubeUpgradesToggle = (toggle = true) => {\n  if (toggle) {\n    player.autoCubeUpgradesToggle = !player.autoCubeUpgradesToggle\n  }\n  const el = DOMCacheGetOrSet('toggleAutoCubeUpgrades')\n  if (player.autoCubeUpgradesToggle) {\n    el.textContent = i18next.t('toggles.autoUpgradeOn')\n    el.style.border = '2px solid green'\n  } else {\n    el.textContent = i18next.t('toggles.autoUpgradeOff')\n    el.style.border = '2px solid red'\n  }\n}\n\nexport const autoPlatonicUpgradesToggle = (toggle = true) => {\n  if (toggle) {\n    player.autoPlatonicUpgradesToggle = !player.autoPlatonicUpgradesToggle\n  }\n  const el = DOMCacheGetOrSet('toggleAutoPlatonicUpgrades')\n  if (player.autoPlatonicUpgradesToggle) {\n    el.textContent = i18next.t('toggles.autoUpgradeOn')\n    el.style.border = '2px solid green'\n  } else {\n    el.textContent = i18next.t('toggles.autoUpgradeOff')\n    el.style.border = '2px solid red'\n  }\n}\n\nexport const toggleCubeSubTab = (indexStr: string) => {\n  const i = Number(indexStr)\n  const numSubTabs = subTabsInMainTab(Tabs.WowCubes)\n\n  for (let j = 1; j <= numSubTabs; j++) {\n    const cubeTab = DOMCacheGetOrSet(`cubeTab${j}`)\n    if (cubeTab.style.display === 'flex' && j !== i) {\n      cubeTab.style.display = 'none'\n    }\n    if (cubeTab.style.display === 'none' && j === i) {\n      cubeTab.style.display = 'flex'\n      player.subtabNumber = j - 1\n    }\n    DOMCacheGetOrSet(`switchCubeSubTab${j}`).style.backgroundColor = i === j ? 'crimson' : ''\n  }\n\n  visualUpdateCubes()\n}\n\nexport const updateAutoChallenge = (i: number) => {\n  switch (i) {\n    case 1: {\n      const t = Number.parseFloat((DOMCacheGetOrSet('startAutoChallengeTimerInput') as HTMLInputElement).value) || 0\n      player.autoChallengeTimer.start = Math.max(t, 0)\n      DOMCacheGetOrSet('startTimerValue').innerHTML = i18next.t('challenges.timeStartSweep', {\n        time: format(player.autoChallengeTimer.start, 2, true)\n      })\n      return\n    }\n    case 2: {\n      const u = Number.parseFloat((DOMCacheGetOrSet('exitAutoChallengeTimerInput') as HTMLInputElement).value) || 0\n      player.autoChallengeTimer.exit = Math.max(u, 0)\n\n      DOMCacheGetOrSet('exitTimerValue').innerHTML = i18next.t('challenges.timeExitChallenge', {\n        time: format(player.autoChallengeTimer.exit, 2, true)\n      })\n\n      return\n    }\n    case 3: {\n      const v = Number.parseFloat((DOMCacheGetOrSet('enterAutoChallengeTimerInput') as HTMLInputElement).value) || 0\n      player.autoChallengeTimer.enter = Math.max(v, 0)\n\n      DOMCacheGetOrSet('enterTimerValue').innerHTML = i18next.t('challenges.timeEnterChallenge', {\n        time: format(player.autoChallengeTimer.enter, 2, true)\n      })\n\n      return\n    }\n  }\n}\n\nexport const toggleAutoChallengesIgnore = (i: number) => {\n  if (i <= 15) {\n    player.autoChallengeToggles[i] = !player.autoChallengeToggles[i]\n\n    const el = DOMCacheGetOrSet('toggleAutoChallengeIgnore')\n    el.style.border = player.autoChallengeToggles[i] ? '2px solid green' : '2px solid red'\n\n    if (i >= 11 && i <= 15) {\n      if (player.autoChallengeToggles[i]) {\n        el.textContent = i18next.t('challenges.autoAscRunChalOn', { x: i })\n      } else {\n        el.textContent = i18next.t('challenges.autoAscRunChalOff', { x: i })\n      }\n    } else {\n      if (player.autoChallengeToggles[i]) {\n        el.textContent = i18next.t('challenges.autoRunChalOn', { x: i })\n      } else {\n        el.textContent = i18next.t('challenges.autoRunChalOff', { x: i })\n      }\n    }\n  }\n}\n\nexport const toggleAutoChallengeRun = () => {\n  const el = DOMCacheGetOrSet('toggleAutoChallengeStart')\n  if (player.autoChallengeRunning) {\n    el.style.border = '2px solid red'\n    el.textContent = i18next.t('challenges.autoChallengeSweepOff')\n    G.autoChallengeTimerIncrement = 0\n    toggleAutoChallengeModeText('OFF')\n  } else {\n    el.style.border = '2px solid gold'\n    el.textContent = i18next.t('challenges.autoChallengeSweepOn')\n    toggleAutoChallengeModeText('START')\n    G.autoChallengeTimerIncrement = 0\n  }\n\n  player.autoChallengeRunning = !player.autoChallengeRunning\n}\n\nexport const toggleAutoChallengeModeText = (i: string) => {\n  const a = DOMCacheGetOrSet('autoChallengeType')\n\n  a.textContent = i18next.t(`challenges.mode${i[0] + i.slice(1).toLowerCase()}`)\n}\n\nexport const toggleAutoAscend = (mode = 0) => {\n  if (mode === 0) {\n    const a = DOMCacheGetOrSet('ascensionAutoEnable')\n    if (player.autoAscend) {\n      a.style.border = '2px solid red'\n      a.textContent = i18next.t('corruptions.autoAscend.off')\n    } else {\n      a.style.border = '2px solid green'\n      a.textContent = i18next.t('corruptions.autoAscend.on')\n    }\n\n    player.autoAscend = !player.autoAscend\n  } else if (mode === 1 && player.highestSingularityCount >= 25) {\n    const a = DOMCacheGetOrSet('ascensionAutoToggle')\n    if (player.autoAscendMode === 'c10Completions') {\n      player.autoAscendMode = 'realAscensionTime'\n      a.textContent = i18next.t('corruptions.autoAscend.modeRealTime')\n    } else {\n      player.autoAscendMode = 'c10Completions'\n      a.textContent = i18next.t('corruptions.autoAscend.modeCompletions')\n    }\n  }\n}\n\nexport const toggleautoopensCubes = (i: number) => {\n  if (player.highestSingularityCount >= 35) {\n    if (i === 1) {\n      const oc = DOMCacheGetOrSet('openCubes')\n      const oci = DOMCacheGetOrSet('cubeOpensInput')\n      if (player.autoOpenCubes) {\n        oc.textContent = i18next.t('wowCubes.autoOff')\n        oc.style.border = '1px solid red'\n        oci.style.border = '1px solid red'\n      } else {\n        oc.textContent = i18next.t('wowCubes.autoOn', { percent: format(player.openCubes, 0) })\n        oc.style.border = '1px solid green'\n        oci.style.border = '1px solid green'\n      }\n\n      player.autoOpenCubes = !player.autoOpenCubes\n    } else if (i === 2) {\n      const oc = DOMCacheGetOrSet('openTesseracts')\n      const oci = DOMCacheGetOrSet('tesseractsOpensInput')\n      if (player.autoOpenTesseracts) {\n        oc.textContent = i18next.t('wowCubes.autoOff')\n        oc.style.border = '1px solid red'\n        oci.style.border = '1px solid red'\n      } else {\n        oc.textContent = i18next.t('wowCubes.autoOn', { percent: format(player.openTesseracts, 0) })\n        oc.style.border = '1px solid green'\n        oci.style.border = '1px solid green'\n      }\n\n      player.autoOpenTesseracts = !player.autoOpenTesseracts\n    } else if (i === 3) {\n      const oc = DOMCacheGetOrSet('openHypercubes')\n      const oci = DOMCacheGetOrSet('hypercubesOpensInput')\n      if (player.autoOpenHypercubes) {\n        oc.textContent = i18next.t('wowCubes.autoOff')\n        oc.style.border = '1px solid red'\n        oci.style.border = '1px solid red'\n      } else {\n        oc.textContent = i18next.t('wowCubes.autoOn', { percent: format(player.openHypercubes, 0) })\n        oc.style.border = '1px solid green'\n        oci.style.border = '1px solid green'\n      }\n\n      player.autoOpenHypercubes = !player.autoOpenHypercubes\n    } else if (i === 4) {\n      const oc = DOMCacheGetOrSet('openPlatonicCube')\n      const oci = DOMCacheGetOrSet('platonicCubeOpensInput')\n      if (player.autoOpenPlatonicsCubes) {\n        oc.textContent = i18next.t('wowCubes.autoOff')\n        oc.style.border = '1px solid red'\n        oci.style.border = '1px solid red'\n      } else {\n        oc.textContent = i18next.t('wowCubes.autoOn', { percent: format(player.openPlatonicsCubes, 0) })\n        oc.style.border = '1px solid green'\n        oci.style.border = '1px solid green'\n      }\n\n      player.autoOpenPlatonicsCubes = !player.autoOpenPlatonicsCubes\n    }\n  }\n}\n\nexport const updateRuneBlessingBuyAmount = (i: number) => {\n  switch (i) {\n    case 1: {\n      const t = Math.floor(Number.parseFloat((DOMCacheGetOrSet('buyRuneBlessingInput') as HTMLInputElement).value)) || 1\n      player.runeBlessingBuyAmount = Math.max(t, 1)\n      DOMCacheGetOrSet('buyRuneBlessingToggle').innerHTML = i18next.t('runes.blessings.buyUpTo', {\n        amount: format(player.runeBlessingBuyAmount)\n      })\n      return\n    }\n    case 2: {\n      const u = Math.floor(Number.parseFloat((DOMCacheGetOrSet('buyRuneSpiritInput') as HTMLInputElement).value)) || 1\n      player.runeSpiritBuyAmount = Math.max(u, 1)\n      DOMCacheGetOrSet('buyRuneSpiritToggleValue').innerHTML = i18next.t('runes.spirits.buyUpTo', {\n        amount: format(player.runeSpiritBuyAmount)\n      })\n      return\n    }\n  }\n}\n\nexport const toggleAutoTesseracts = (i: number) => {\n  const el = DOMCacheGetOrSet(`tesseractAutoToggle${i}`)\n  if (player.autoTesseracts[i]) {\n    el.textContent = i18next.t('general.autoOffBracket')\n    el.style.border = '2px solid red'\n  } else {\n    el.textContent = i18next.t('general.autoOnBracket')\n    el.style.border = '2px solid green'\n  }\n\n  player.autoTesseracts[i] = !player.autoTesseracts[i]\n}\n\nexport const toggleCorruptionLevel = (index: number, value: number) => {\n  const current = player.prototypeCorruptions[index]\n  const maxCorruption = maxCorruptionLevel()\n  if (value > 0 && current < maxCorruption && 0 < index && index <= 9) {\n    player.prototypeCorruptions[index] += Math.min(maxCorruption - current, value)\n  }\n  if (value < 0 && current > 0 && 0 < index && index <= 9) {\n    player.prototypeCorruptions[index] -= Math.min(current, -value)\n  }\n  player.prototypeCorruptions[index] = Math.min(maxCorruption, Math.max(0, player.prototypeCorruptions[index]))\n  if (value === 999 && player.currentChallenge.ascension !== 15) {\n    for (let i = 0; i <= 9; i++) {\n      player.usedCorruptions[i] = 0\n      player.prototypeCorruptions[i] = 0\n      if (i > 1) {\n        corruptionDisplay(i)\n      }\n    }\n\n    corruptionDisplay(G.corruptionTrigger)\n    DOMCacheGetOrSet('corruptionCleanseConfirm').style.visibility = 'hidden'\n\n    if (player.currentChallenge.ascension === 15) {\n      void resetCheck('ascensionChallenge', false, true)\n    }\n  }\n  corruptionDisplay(index)\n  corruptionLoadoutTableUpdate()\n}\n\nexport const toggleCorruptionLoadoutsStats = (statsStr: string) => {\n  const stats = statsStr === 'true'\n  player.corruptionShowStats = stats\n  showCorruptionStatsLoadouts()\n}\n\nexport const toggleAscStatPerSecond = (id: number) => {\n  const el = DOMCacheGetOrSet(`unit${id}`) as HTMLElement | null\n  if (el === null) {\n    console.log(id, 'platonic needs to fix')\n    return\n  }\n\n  el.textContent = player.ascStatToggles[id] ? '/s' : ''\n  if (id === 6) {\n    el.textContent = ''\n  }\n  player.ascStatToggles[id] = !player.ascStatToggles[id]\n}\n\nexport const toggleHepteractAutoPercentage = async (): Promise<void> => {\n  const amount = await Prompt(i18next.t('wowCubes.hepteractForge.autoCraftPercentagePrompt'))\n\n  if (amount === null) {\n    if (player.toggles[35]) {\n      return Alert(i18next.t('toggles.percentKeptAt', { x: player.hepteractAutoCraftPercentage }))\n    } else {\n      return\n    }\n  }\n\n  const isPercentage = amount.endsWith('%')\n  const rawPercentage = isPercentage ? Number(amount.slice(0, -1)) : Number(amount)\n\n  if (Number.isNaN(rawPercentage) || !Number.isFinite(rawPercentage) || !Number.isInteger(rawPercentage)) {\n    return Alert(i18next.t('general.validation.finiteInt'))\n  } else if (rawPercentage < 0 || rawPercentage > 100) {\n    return Alert(i18next.t('toggles.percentBetweenInclusive', { x: 0, y: 100 }))\n  } else if (rawPercentage === player.hepteractAutoCraftPercentage && player.toggles[35]) {\n    return Alert(i18next.t('toggles.percentKeptAt', { x: player.hepteractAutoCraftPercentage }))\n  }\n\n  player.hepteractAutoCraftPercentage = rawPercentage\n  DOMCacheGetOrSet('autoHepteractPercentage').textContent = i18next.t('wowCubes.hepteractForge.autoSetting', {\n    x: `${player.hepteractAutoCraftPercentage}`\n  })\n  if (player.toggles[35]) {\n    return Alert(i18next.t('toggles.onAscensionHepteractsCraft', {\n      x: player.hepteractAutoCraftPercentage\n    }))\n  }\n}\n\nexport const toggleBlueberryLoadoutmode = () => {\n  if (player.blueberryLoadoutMode === 'saveTree') {\n    player.blueberryLoadoutMode = 'loadTree'\n    DOMCacheGetOrSet('blueberryToggleMode').innerHTML = i18next.t('ambrosia.loadouts.load')\n  } else {\n    player.blueberryLoadoutMode = 'saveTree'\n    DOMCacheGetOrSet('blueberryToggleMode').innerHTML = i18next.t('ambrosia.loadouts.save')\n  }\n}\n\nexport const confirmReply = (confirm = true) => {\n  if (DOMCacheGetOrSet('alertWrapper').style.display === 'block') {\n    ;(DOMCacheGetOrSet('ok_alert') as HTMLButtonElement).click()\n  }\n  if (\n    DOMCacheGetOrSet('confirmWrapper').style.display === 'block'\n    || DOMCacheGetOrSet('promptWrapper').style.display === 'block'\n  ) {\n    if (confirm) {\n      ;(DOMCacheGetOrSet('ok_confirm') as HTMLButtonElement).click()\n    } else {\n      ;(DOMCacheGetOrSet('cancel_confirm') as HTMLButtonElement).click()\n    }\n  }\n}\n", "import i18next from 'i18next'\nimport { DOMCacheGetOrSet } from './Cache/DOM'\nimport { format, player } from './Synergism'\nimport { IconSets } from './Themes'\nimport { toggleCorruptionLevel } from './Toggles'\nimport { Alert, Prompt } from './UpdateHTML'\nimport { getElementById } from './Utility'\nimport { Globals as G } from './Variables'\n\nexport const maxCorruptionLevel = () => {\n  let max = 0\n\n  if (player.challengecompletions[11] > 0) {\n    max += 5\n  }\n  if (player.challengecompletions[12] > 0) {\n    max += 2\n  }\n  if (player.challengecompletions[13] > 0) {\n    max += 2\n  }\n  if (player.challengecompletions[14] > 0) {\n    max += 2\n  }\n  if (player.platonicUpgrades[5] > 0) {\n    max += 1\n  }\n  if (player.platonicUpgrades[10] > 0) {\n    max += 1\n  }\n\n  // Overrides everything above.\n  if (player.singularityUpgrades.platonicTau.getEffect().bonus) {\n    max = Math.max(13, max)\n  }\n\n  if (player.singularityUpgrades.corruptionFourteen.getEffect().bonus) {\n    max += 1\n  }\n  max += +player.octeractUpgrades.octeractCorruption.getEffect().bonus\n\n  return max\n}\n\nexport const corruptionDisplay = (index: number) => {\n  if (DOMCacheGetOrSet('corruptionDetails').style.visibility !== 'visible') {\n    DOMCacheGetOrSet('corruptionDetails').style.visibility = 'visible'\n  }\n  if (DOMCacheGetOrSet('corruptionSelectedPic').style.visibility !== 'visible') {\n    DOMCacheGetOrSet('corruptionSelectedPic').style.visibility = 'visible'\n  }\n  G.corruptionTrigger = index\n  const currentExponent = ((index === 2) && player.usedCorruptions[index] >= 10)\n    ? 1 + 0.04 * player.platonicUpgrades[17] + 2 * Math.min(1, player.platonicUpgrades[17])\n    : 1\n  const protoExponent = ((index === 2) && player.prototypeCorruptions[index] >= 10)\n    ? 1 + 0.04 * player.platonicUpgrades[17] + 2 * Math.min(1, player.platonicUpgrades[17])\n    : 1\n  let bonusLevel = (player.singularityUpgrades.corruptionFifteen.level > 0) ? 1 : 0\n  bonusLevel += +player.singularityChallenges.oneChallengeCap.rewards.freeCorruptionLevel\n  const bonusText = (bonusLevel > 0) ? `[+${bonusLevel}]` : ''\n\n  const corruptEffectValues: number[][] = [\n    G.viscosityPower,\n    G.lazinessMultiplier,\n    G.hyperchallengedMultiplier,\n    G.illiteracyPower,\n    G.deflationMultiplier,\n    G.extinctionMultiplier,\n    G.droughtMultiplier,\n    G.financialcollapsePower,\n    [0]\n  ]\n\n  const iconExtensions: string[] = [\n    '/CorruptViscocity.png',\n    '/CorruptSpatialDilation.png',\n    '/CorruptHyperchallenged.png',\n    '/CorruptScientificIlliteracy.png',\n    '/CorruptDeflation.png',\n    '/CorruptExtinction.png',\n    '/CorruptDrought.png',\n    '/CorruptFinancialCollapse.png'\n  ]\n\n  let text = {\n    name: i18next.t('corruptions.exitCorruption.name'),\n    description: i18next.t('corruptions.exitCorruption.description'),\n    current: i18next.t('corruptions.exitCorruption.current'),\n    planned: i18next.t('corruptions.exitCorruption.planned'),\n    multiplier: i18next.t('corruptions.exitCorruption.multiplier'),\n    spiritContribution: '',\n    image: `Pictures/${IconSets[player.iconSet][0]}/CorruptExit.png`\n  } satisfies Record<string, string>\n\n  if (index < 10) {\n    text = {\n      name: i18next.t(`corruptions.names.${index - 1}`),\n      description: i18next.t(`corruptions.descriptions.${index - 1}`),\n      current: i18next.t(`corruptions.currentLevel.${index - 1}`, {\n        level: format(player.usedCorruptions[index]) + bonusText,\n        effect: format(corruptEffectValues[index - 2][player.usedCorruptions[index]], 3)\n      }),\n      planned: i18next.t(`corruptions.prototypeLevel.${index - 1}`, {\n        level: format(player.prototypeCorruptions[index]) + bonusText,\n        effect: format(corruptEffectValues[index - 2][player.prototypeCorruptions[index]], 3)\n      }),\n      multiplier: i18next.t('corruptions.scoreMultiplier', {\n        curr: format(\n          Math.pow(G.corruptionPointMultipliers[player.usedCorruptions[index] + bonusLevel], currentExponent),\n          1\n        ),\n        next: format(\n          Math.pow(G.corruptionPointMultipliers[player.prototypeCorruptions[index] + bonusLevel], protoExponent),\n          1\n        )\n      }),\n      spiritContribution: i18next.t('corruptions.spiritEffect', {\n        curr: format(4 * Math.pow(player.usedCorruptions[index] + bonusLevel, 2), 1),\n        next: format(4 * Math.pow(player.prototypeCorruptions[index] + bonusLevel, 2), 1)\n      }),\n      image: `Pictures/${IconSets[player.iconSet][0]}${iconExtensions[index - 2]}`\n    }\n  }\n\n  DOMCacheGetOrSet('corruptionName').textContent = text.name\n  DOMCacheGetOrSet('corruptionDescription').textContent = text.description\n  DOMCacheGetOrSet('corruptionLevelCurrent').textContent = text.current\n  DOMCacheGetOrSet('corruptionLevelPlanned').textContent = text.planned\n  DOMCacheGetOrSet('corruptionMultiplierContribution').textContent = text.multiplier\n  DOMCacheGetOrSet('corruptionSpiritContribution').textContent = text.spiritContribution\n  DOMCacheGetOrSet('corruptionSelectedPic').setAttribute('src', text.image)\n\n  if (index < 10) {\n    DOMCacheGetOrSet(`corrCurrent${index}`).textContent = format(player.usedCorruptions[index])\n    DOMCacheGetOrSet(`corrNext${index}`).textContent = format(player.prototypeCorruptions[index])\n  }\n}\n\nexport const corruptionStatsUpdate = () => {\n  for (let i = 2; i <= 9; i++) {\n    // https://discord.com/channels/677271830838640680/706329553639047241/841749032841379901\n    const a = DOMCacheGetOrSet(`corrCurrent${i}`)\n    const b = DOMCacheGetOrSet(`corrNext${i}`)\n    a.textContent = format(player.usedCorruptions[i])\n    b.textContent = format(player.prototypeCorruptions[i])\n  }\n}\n\nexport const corruptionButtonsAdd = () => {\n  const rows = document.getElementsByClassName('corruptionStatRow')\n\n  for (let i = 0; i < rows.length; i++) {\n    const row = rows[i]\n\n    // Delete rows that already exist\n    for (let i = row.children.length - 1; i >= 1; i--) {\n      row.children[i].remove()\n    }\n\n    const p = document.createElement('p')\n    p.className = 'corrDesc'\n    let text = document.createTextNode(i18next.t('corruptions.current'))\n    p.appendChild(text)\n    let span = document.createElement('span')\n    span.id = `corrCurrent${i + 2}`\n    span.textContent = `${player.usedCorruptions[i + 2]}`\n    p.appendChild(span)\n\n    text = document.createTextNode(i18next.t('corruptions.next'))\n    p.appendChild(text)\n\n    span = document.createElement('span')\n    span.id = `corrNext${i + 2}`\n    span.textContent = `${player.prototypeCorruptions[i + 2]}`\n    p.appendChild(span)\n    row.appendChild(p)\n\n    let btn: HTMLButtonElement\n    btn = document.createElement('button')\n    btn.className = 'corrBtn corruptionMax'\n    btn.textContent = `+${i18next.t('corruptions.max')}`\n    btn.addEventListener('click', () => toggleCorruptionLevel(i + 2, 99))\n    row.appendChild(btn)\n\n    btn = document.createElement('button')\n    btn.className = 'corrBtn corruptionUp'\n    btn.textContent = '+1'\n    btn.addEventListener('click', () => toggleCorruptionLevel(i + 2, 1))\n    row.appendChild(btn)\n\n    btn = document.createElement('button')\n    btn.className = 'corrBtn corruptionDown'\n    btn.textContent = '-1'\n    btn.addEventListener('click', () => toggleCorruptionLevel(i + 2, -1))\n    row.appendChild(btn)\n\n    btn = document.createElement('button')\n    btn.className = 'corrBtn corruptionReset'\n    btn.textContent = `-${i18next.t('corruptions.max')}`\n    btn.addEventListener('click', () => toggleCorruptionLevel(i + 2, -99))\n    row.appendChild(btn)\n    row.addEventListener('click', () => corruptionDisplay(i + 2))\n  }\n}\n\nexport const corruptionLoadoutTableCreate = () => {\n  const corrCount = 8\n  const table = getElementById<HTMLTableElement>('corruptionLoadoutTable')\n\n  // Delete rows that already exist\n  for (let i = table.rows.length - 1; i >= 1; i--) {\n    table.deleteRow(i)\n  }\n\n  for (let i = 0; i < Object.keys(player.corruptionLoadouts).length + 1; i++) {\n    const row = table.insertRow()\n    for (let j = 0; j <= corrCount; j++) {\n      const cell = row.insertCell()\n      cell.className = `test${j}`\n      if (j === 0) { // First column\n        if (i === 0) { // First row\n          cell.textContent = i18next.t('corruptions.loadoutTable.next')\n          cell.addEventListener('click', () => void corruptionLoadoutGetExport())\n          cell.classList.add('corrLoadoutName')\n          cell.title = i18next.t('corruptions.loadoutTable.firstRowTitle')\n        } else {\n          // Custom loadout names are loaded later, via updateCorruptionLoadoutNames()\n          cell.title = i18next.t('corruptions.loadoutTable.otherRowTitle', { value: i })\n        }\n      } else if (j <= corrCount) {\n        if (i === 0) { // Next Ascension Corruption values\n          cell.textContent = player.prototypeCorruptions[j + 1].toString()\n        } else { // Loadout Corruption values\n          cell.textContent = player.corruptionLoadouts[i][j + 1].toString()\n        }\n      }\n    }\n    if (i === 0) {\n      // First line is special : \"Import\" and \"Zero\" buttons\n      let cell = row.insertCell()\n      let btn: HTMLButtonElement = document.createElement('button')\n      btn.className = 'corrImport'\n      btn.textContent = i18next.t('corruptions.loadoutTable.import')\n      btn.addEventListener('click', () => void importCorruptionsPrompt())\n      cell.appendChild(btn)\n      cell.title = i18next.t('corruptions.importLoadoutInTextFormat')\n\n      cell = row.insertCell()\n      btn = document.createElement('button')\n      btn.className = 'corrLoad'\n      btn.textContent = i18next.t('corruptions.loadoutTable.zero')\n      btn.addEventListener('click', () => corruptionLoadoutSaveLoad(false, i))\n      cell.appendChild(btn)\n      cell.title = i18next.t('corruptions.loadoutTable.zeroTitle')\n    } else {\n      let cell = row.insertCell()\n      let btn = document.createElement('button')\n      btn.className = 'corrSave'\n      btn.textContent = i18next.t('corruptions.loadoutTable.save')\n      btn.addEventListener('click', () => corruptionLoadoutSaveLoad(true, i))\n      cell.appendChild(btn)\n      cell.title = i18next.t('corruptions.loadoutTable.saveTitle')\n\n      cell = row.insertCell()\n      btn = document.createElement('button')\n      btn.className = 'corrLoad'\n      btn.textContent = i18next.t('corruptions.loadoutTable.load')\n      btn.addEventListener('click', () => corruptionLoadoutSaveLoad(false, i))\n      cell.appendChild(btn)\n    }\n  }\n}\n\nexport const corruptionLoadoutTableUpdate = (updateRow = 0) => {\n  const row = getElementById<HTMLTableElement>('corruptionLoadoutTable').rows[updateRow + 1].cells\n  for (let i = 1; i < row.length; i++) {\n    if (i > 8) {\n      break\n    }\n    row[i].textContent =\n      ((updateRow === 0) ? player.prototypeCorruptions[i + 1] : player.corruptionLoadouts[updateRow][i + 1]).toString()\n  }\n}\n\nexport const corruptionLoadoutSaveLoad = (save = true, loadout = 1) => {\n  if (save) {\n    player.corruptionLoadouts[loadout] = Array.from(player.prototypeCorruptions)\n    corruptionLoadoutTableUpdate(loadout)\n  } else {\n    if (loadout === 0) {\n      player.prototypeCorruptions = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]\n    } else {\n      player.prototypeCorruptions = Array.from(player.corruptionLoadouts[loadout])\n    }\n    corruptionLoadoutTableUpdate()\n    corruptionStatsUpdate()\n  }\n}\n\nexport const applyCorruptions = (corruptions: string) => {\n  if (corruptions.includes('/') && corruptions.split('/').length === 13) {\n    // Converts the '/' separated string into a number[]\n    const newCorruptions = corruptions.split('/').map((corr) => Number(corr))\n\n    for (const value of newCorruptions) {\n      if (\n        !Number.isInteger(value)\n        || Number.isNaN(value)\n        || value < 0\n        || value > maxCorruptionLevel()\n      ) {\n        return false\n      }\n    }\n\n    player.prototypeCorruptions = newCorruptions\n    corruptionLoadoutTableUpdate()\n    corruptionStatsUpdate()\n    return true\n  }\n\n  return false\n}\n\nasync function importCorruptionsPrompt () {\n  const input = await Prompt(i18next.t('corruptions.importCorruptionsPrompt.import'))\n\n  if (!applyCorruptions(`0/0/${input}/0/0/0`)) {\n    void Alert(i18next.t('corruptions.importCorruptionsPrompt.importError'))\n  }\n}\n\nasync function corruptionLoadoutGetNewName (loadout = 0) {\n  const maxChars = 9\n  // biome-ignore lint/suspicious/noControlCharactersInRegex: I use control characters in my regex for fun!\n  const regex = /^[\\x00-\\xFF]*$/\n  const renamePrompt = await Prompt(\n    i18next.t('corruptions.corruptionLoadoutName.loadoutPrompt', { loadNum: loadout + 1, maxChars })\n  )\n\n  if (!renamePrompt) {\n    return Alert(i18next.t('corruptions.corruptionLoadoutName.errors.noName'))\n  } else if (renamePrompt.length > maxChars) {\n    return Alert(i18next.t('corruptions.corruptionLoadoutName.errors.exceedsCharacterLimit'))\n  } else if (!regex.test(renamePrompt)) {\n    return Alert(i18next.t('corruptions.corruptionLoadoutName.errors.regexError'))\n  } else {\n    player.corruptionLoadoutNames[loadout] = renamePrompt\n    updateCorruptionLoadoutNames()\n    if (renamePrompt === 'crazy') {\n      return Alert(i18next.t('corruptions.loadoutPrompt.errors.crazyJoke'))\n    }\n  }\n}\n\nexport const updateCorruptionLoadoutNames = () => {\n  const rows = getElementById<HTMLTableElement>('corruptionLoadoutTable').rows\n  for (let i = 0; i < Object.keys(player.corruptionLoadouts).length; i++) {\n    const cells = rows[i + 2].cells // start changes on 2nd row\n    if (cells[0].textContent!.length === 0) { // first time setup\n      cells[0].addEventListener('click', () => void corruptionLoadoutGetNewName(i)) // get name function handles -1 for array\n      cells[0].classList.add('corrLoadoutName')\n    }\n    cells[0].textContent = `${player.corruptionLoadoutNames[i]}:`\n  }\n}\n\nconst corruptionLoadoutGetExport = async () => {\n  const str = player.prototypeCorruptions.slice(2, 10).join('/')\n  if ('clipboard' in navigator) {\n    await navigator.clipboard.writeText(str)\n      .catch((e: Error) => Alert(i18next.t('corruptions.loadoutExport.saveErrorNavigator', { message: e.message })))\n  } else {\n    void Alert(i18next.t('corruptions.loadoutExport.saveErrorNavigator', { message: str }))\n  }\n}\n\nexport const corruptionCleanseConfirm = () => {\n  const corrupt = DOMCacheGetOrSet('corruptionCleanseConfirm')\n  corrupt.style.visibility = 'visible'\n  setTimeout(() => corrupt.style.visibility = 'hidden', 10000)\n}\n\nexport const revealCorruptions = () => {\n  const corruptions = document.getElementsByClassName('corruptionStatRow') as HTMLCollectionOf<HTMLElement>\n  for (let i = 0; i < corruptions.length; i++) {\n    corruptions[i].style.display = 'none'\n  }\n\n  const c11Unlocks = document.getElementsByClassName('chal11Corruption') as HTMLCollectionOf<HTMLElement>\n  const c12Unlocks = document.getElementsByClassName('chal12Corruption') as HTMLCollectionOf<HTMLElement>\n  const c13Unlocks = document.getElementsByClassName('chal13Corruption') as HTMLCollectionOf<HTMLElement>\n  const c14Unlocks = document.getElementsByClassName('chal14Corruption') as HTMLCollectionOf<HTMLElement>\n\n  if (player.challengecompletions[11] > 0 || player.singularityUpgrades.platonicTau.getEffect().bonus) {\n    for (let i = 0; i < c11Unlocks.length; i++) {\n      c11Unlocks[i].style.display = 'flex'\n    }\n  }\n  if (player.challengecompletions[12] > 0 || player.singularityUpgrades.platonicTau.getEffect().bonus) {\n    for (let i = 0; i < c12Unlocks.length; i++) {\n      c12Unlocks[i].style.display = 'flex'\n    }\n  }\n  if (player.challengecompletions[13] > 0 || player.singularityUpgrades.platonicTau.getEffect().bonus) {\n    for (let i = 0; i < c13Unlocks.length; i++) {\n      c13Unlocks[i].style.display = 'flex'\n    }\n  }\n  if (player.challengecompletions[14] > 0 || player.singularityUpgrades.platonicTau.getEffect().bonus) {\n    for (let i = 0; i < c14Unlocks.length; i++) {\n      c14Unlocks[i].style.display = 'flex'\n    }\n  }\n}\n\nexport function corrChallengeMinimum (index: number): number {\n  switch (index) {\n    case 2:\n      return 11\n    case 3:\n      return 14\n    case 4:\n      return 14\n    case 5:\n      return 13\n    case 6:\n      return 12\n    case 7:\n      return 12\n    case 8:\n      return 11\n    case 9:\n      return 13\n    default:\n      return 0\n  }\n}\n", "import Decimal from 'break_infinity.js'\nimport i18next from 'i18next'\nimport { achievementaward, totalachievementpoints } from './Achievements'\nimport { DOMCacheGetOrSet } from './Cache/DOM'\nimport { CalcCorruptionStuff, calculateAscensionAcceleration, calculateTimeAcceleration } from './Calculate'\nimport { getMaxChallenges } from './Challenges'\nimport { revealCorruptions } from './Corruptions'\nimport { autoResearchEnabled } from './Research'\nimport { displayRuneInformation } from './Runes'\nimport { updateSingularityPenalties, updateSingularityPerks } from './singularity'\nimport { format, formatTimeShort, /*formatTimeShort*/ player } from './Synergism'\nimport { Tabs } from './Tabs'\nimport type { OneToFive, ZeroToFour, ZeroToSeven } from './types/Synergism'\nimport {\n  visualUpdateAchievements,\n  visualUpdateAnts,\n  visualUpdateBuildings,\n  visualUpdateChallenges,\n  visualUpdateCorruptions,\n  visualUpdateCubes,\n  visualUpdateEvent,\n  visualUpdateResearch,\n  visualUpdateRunes,\n  visualUpdateSettings,\n  visualUpdateShop,\n  visualUpdateSingularity,\n  visualUpdateUpgrades\n} from './UpdateVisuals'\nimport { createDeferredPromise } from './Utility'\nimport { Globals as G } from './Variables'\n\nexport const revealStuff = () => {\n  const example = document.getElementsByClassName('coinunlock1') as HTMLCollectionOf<HTMLElement>\n  for (let i = 0; i < example.length; i++) {\n    example[i].style.display = player.unlocks.coinone ? 'block' : 'none'\n  }\n\n  const example2 = document.getElementsByClassName('coinunlock2') as HTMLCollectionOf<HTMLElement>\n  for (let i = 0; i < example2.length; i++) {\n    example2[i].style.display = player.unlocks.cointwo ? 'block' : 'none'\n  }\n\n  const example3 = document.getElementsByClassName('coinunlock3') as HTMLCollectionOf<HTMLElement>\n  for (let i = 0; i < example3.length; i++) {\n    example3[i].style.display = player.unlocks.cointhree ? 'block' : 'none'\n  }\n\n  const example4 = document.getElementsByClassName('coinunlock4') as HTMLCollectionOf<HTMLElement>\n  for (let i = 0; i < example4.length; i++) {\n    example4[i].style.display = player.unlocks.coinfour ? 'block' : 'none'\n  }\n\n  const example5 = document.getElementsByClassName('prestigeunlock') as HTMLCollectionOf<HTMLElement>\n  for (let i = 0; i < example5.length; i++) {\n    const parent = example5[i].parentElement!\n    if (parent.classList.contains('offlineStats')) {\n      example5[i].style.display = player.unlocks.prestige ? 'flex' : 'none'\n    } else {\n      example5[i].style.display = player.unlocks.prestige ? 'block' : 'none'\n    }\n  }\n\n  const example6 = document.getElementsByClassName('generationunlock') as HTMLCollectionOf<HTMLElement>\n  for (let i = 0; i < example6.length; i++) {\n    example6[i].style.display = player.unlocks.generation ? 'block' : 'none'\n  }\n\n  const example7 = document.getElementsByClassName('transcendunlock') as HTMLCollectionOf<HTMLElement>\n  for (let i = 0; i < example7.length; i++) {\n    const parent = example7[i].parentElement!\n    if (parent.classList.contains('offlineStats')) {\n      example7[i].style.display = player.unlocks.transcend ? 'flex' : 'none'\n    } else {\n      example7[i].style.display = player.unlocks.transcend ? 'block' : 'none'\n    }\n  }\n\n  const example8 = document.getElementsByClassName('reincarnationunlock') as HTMLCollectionOf<HTMLElement>\n  for (let i = 0; i < example8.length; i++) {\n    const parent = example8[i].parentElement!\n    if (parent.classList.contains('offlineStats')) {\n      example8[i].style.display = player.unlocks.reincarnate ? 'flex' : 'none'\n    } else {\n      example8[i].style.display = player.unlocks.reincarnate ? 'block' : 'none'\n    }\n  }\n\n  const example9 = document.getElementsByClassName('auto') as HTMLCollectionOf<HTMLElement>\n  for (let i = 0; i < example9.length; i++) {\n    example9[i].style.display = 'none'\n  }\n\n  const example10 = document.getElementsByClassName('reinrow1') as HTMLCollectionOf<HTMLElement>\n  for (let i = 0; i < example10.length; i++) {\n    player.researches[47] === 1 ? example10[i].style.display = 'block' : example10[i].style.display = 'none'\n  }\n\n  const example11 = document.getElementsByClassName('reinrow2') as HTMLCollectionOf<HTMLElement>\n  for (let i = 0; i < example11.length; i++) {\n    player.researches[48] === 1 ? example11[i].style.display = 'block' : example11[i].style.display = 'none'\n  }\n\n  const example12 = document.getElementsByClassName('reinrow3') as HTMLCollectionOf<HTMLElement>\n  for (let i = 0; i < example12.length; i++) {\n    player.researches[49] === 1 ? example12[i].style.display = 'block' : example12[i].style.display = 'none'\n  }\n\n  const example13 = document.getElementsByClassName('reinrow4') as HTMLCollectionOf<HTMLElement>\n  for (let i = 0; i < example13.length; i++) {\n    player.researches[50] === 1 ? example13[i].style.display = 'block' : example13[i].style.display = 'none'\n  }\n\n  const example14 = document.getElementsByClassName('chal6') as HTMLCollectionOf<HTMLElement>\n  for (let i = 0; i < example14.length; i++) {\n    player.achievements[113] === 1 ? example14[i].style.display = 'block' : example14[i].style.display = 'none'\n  }\n\n  const example15 = document.getElementsByClassName('chal7') as HTMLCollectionOf<HTMLElement>\n  for (let i = 0; i < example15.length; i++) {\n    player.achievements[120] === 1 ? example15[i].style.display = 'block' : example15[i].style.display = 'none'\n  }\n\n  const example16 = document.getElementsByClassName('chal7x10') as HTMLCollectionOf<HTMLElement>\n  for (let i = 0; i < example16.length; i++) {\n    player.achievements[124] === 1 ? example16[i].style.display = 'block' : example16[i].style.display = 'none'\n  }\n\n  const example17 = document.getElementsByClassName('chal8') as HTMLCollectionOf<HTMLElement>\n  for (let i = 0; i < example17.length; i++) {\n    const parent = example17[i].parentElement!\n    if (parent.classList.contains('offlineStats')) {\n      example17[i].style.display = player.achievements[127] === 1 ? 'flex' : 'none'\n    } else {\n      example17[i].style.display = player.achievements[127] === 1 ? 'block' : 'none'\n    }\n  }\n\n  const example18 = document.getElementsByClassName('chal9') as HTMLCollectionOf<HTMLElement>\n  for (let i = 0; i < example18.length; i++) {\n    player.achievements[134] === 1 ? example18[i].style.display = 'block' : example18[i].style.display = 'none'\n  }\n\n  const example19 = document.getElementsByClassName('chal9x1') as HTMLCollectionOf<HTMLElement>\n  for (let i = 0; i < example19.length; i++) {\n    player.highestchallengecompletions[9] > 0\n      ? example19[i].style.display = 'block'\n      : example19[i].style.display = 'none'\n  }\n\n  const example20 = document.getElementsByClassName('chal10') as HTMLCollectionOf<HTMLElement>\n  for (let i = 0; i < example20.length; i++) {\n    player.achievements[141] === 1 ? example20[i].style.display = 'block' : example20[i].style.display = 'none'\n  }\n\n  const example21 = document.getElementsByClassName('ascendunlock') as HTMLCollectionOf<HTMLElement>\n  for (let i = 0; i < example21.length; i++) {\n    const parent = example21[i].parentElement!\n    if (parent.classList.contains('offlineStats')) {\n      example21[i].style.display = player.ascensionCount > 0 ? 'flex' : 'none'\n    } else {\n      example21[i].style.display = player.ascensionCount > 0 ? 'block' : 'none'\n    }\n  }\n\n  const example22 = document.getElementsByClassName('chal11') as HTMLCollectionOf<HTMLElement>\n  for (let i = 0; i < example22.length; i++) {\n    player.challengecompletions[11] > 0 ? example22[i].style.display = 'block' : example22[i].style.display = 'none'\n  }\n\n  const example23 = document.getElementsByClassName('chal12') as HTMLCollectionOf<HTMLElement>\n  for (let i = 0; i < example23.length; i++) {\n    player.challengecompletions[12] > 0 ? example23[i].style.display = 'block' : example23[i].style.display = 'none'\n  }\n\n  const example24 = document.getElementsByClassName('chal13') as HTMLCollectionOf<HTMLElement>\n  for (let i = 0; i < example24.length; i++) {\n    player.challengecompletions[13] > 0 ? example24[i].style.display = 'block' : example24[i].style.display = 'none'\n  }\n\n  const example25 = document.getElementsByClassName('chal14') as HTMLCollectionOf<HTMLElement>\n  for (let i = 0; i < example25.length; i++) {\n    player.challengecompletions[14] > 0 ? example25[i].style.display = 'block' : example25[i].style.display = 'none'\n  }\n\n  const example26 = document.getElementsByClassName('ascendunlockib') as HTMLCollectionOf<HTMLElement>\n  for (let i = 0; i < example26.length; i++) {\n    example26[i].style.display = player.ascensionCount > 0 ? 'inline-block' : 'none'\n  }\n\n  const example27 = document.getElementsByClassName('prestigeunlockib') as HTMLCollectionOf<HTMLElement>\n  for (let i = 0; i < example27.length; i++) {\n    example27[i].style.display = player.unlocks.prestige ? 'inline-block' : 'none'\n  }\n\n  const example28 = document.getElementsByClassName('research150') as HTMLCollectionOf<HTMLElement>\n  for (let i = 0; i < example28.length; i++) {\n    example28[i].style.display = player.researches[150] > 0 ? 'block' : 'none'\n  }\n\n  const example29 = document.getElementsByClassName('cubeUpgrade10') as HTMLCollectionOf<HTMLElement>\n  for (let i = 0; i < example29.length; i++) {\n    example29[i].style.display = player.cubeUpgrades[10] > 0 ? 'flex' : 'none'\n  }\n\n  const example30 = document.getElementsByClassName('cubeUpgrade19') as HTMLCollectionOf<HTMLElement>\n  for (let i = 0; i < example30.length; i++) {\n    example30[i].style.display = player.cubeUpgrades[19] > 0 ? 'block' : 'none'\n  }\n\n  const example31 = document.getElementsByClassName('sacrificeAnts') as HTMLCollectionOf<HTMLElement>\n  for (const ex of Array.from(example31)) { // Galactic Crumb Achievement 5\n    ex.style.display = player.achievements[173] === 1 ? 'block' : 'none'\n  }\n\n  const example32 = document.getElementsByClassName('hepteracts') as HTMLCollectionOf<HTMLElement>\n  for (const ex of Array.from(example32)) { // Ability to use and gain hepteracts //\n    ex.style.display = player.challenge15Exponent >= 1e15 ? 'block' : 'none'\n  }\n\n  const singularityHTMLs = document.getElementsByClassName('singularity') as HTMLCollectionOf<HTMLElement>\n  for (const HTML of Array.from(singularityHTMLs)) { // Ability to view singularity features.\n    const count = Number(HTML.getAttribute('count')) || 1\n    HTML.style.display = player.highestSingularityCount >= count ? 'block' : 'none'\n  }\n\n  const eventHTMLs = document.getElementsByClassName('isEvent') as HTMLCollectionOf<HTMLElement>\n  for (const HTML of Array.from(eventHTMLs)) {\n    HTML.style.display = G.isEvent ? 'block' : 'none'\n  }\n\n  visualUpdateShop()\n\n  const hepts = DOMCacheGetOrSet('corruptionHepteracts')\n  hepts.style.display = (player.achievements[255] > 0) ? 'block' : 'none'\n\n  const cookies1 = document.getElementsByClassName('assortedCookies1') as HTMLCollectionOf<HTMLElement>\n  const cookies2 = document.getElementsByClassName('assortedCookies2') as HTMLCollectionOf<HTMLElement>\n  const cookies3 = document.getElementsByClassName('assortedCookies3') as HTMLCollectionOf<HTMLElement>\n  const cookies4 = document.getElementsByClassName('assortedCookies4') as HTMLCollectionOf<HTMLElement>\n  for (const HTML of Array.from(cookies1)) {\n    HTML.style.display = player.singularityUpgrades.cookies.getEffect().bonus ? 'block' : 'none'\n  }\n  for (const HTML of Array.from(cookies2)) {\n    HTML.style.display = player.singularityUpgrades.cookies2.getEffect().bonus ? 'block' : 'none'\n  }\n  for (const HTML of Array.from(cookies3)) {\n    HTML.style.display = player.singularityUpgrades.cookies3.getEffect().bonus ? 'block' : 'none'\n  }\n  for (const HTML of Array.from(cookies4)) {\n    HTML.style.display = player.singularityUpgrades.cookies4.getEffect().bonus ? 'block' : 'none'\n  }\n\n  const goldenQuarks3 = document.getElementsByClassName('goldenQuark3Upg') as HTMLCollectionOf<HTMLElement>\n  for (const HTML of Array.from(goldenQuarks3)) {\n    HTML.style.display = (player.singularityUpgrades.goldenQuarks3.getEffect().bonus as number) > 0 ? 'block' : 'none'\n  }\n  if (player.upgrades[89] === 1) {\n    DOMCacheGetOrSet('transcendautotoggle').style.display = 'block'\n    DOMCacheGetOrSet('transcendamount').style.display = 'block'\n    DOMCacheGetOrSet('autotranscend').style.display = 'block'\n  } else {\n    DOMCacheGetOrSet('transcendautotoggle').style.display = 'none'\n    DOMCacheGetOrSet('transcendamount').style.display = 'none'\n    DOMCacheGetOrSet('autotranscend').style.display = 'none'\n  }\n\n  if (player.achievements[38] === 1) { // Prestige Diamond Achievement 3\n    DOMCacheGetOrSet('rune2area').style.display = 'flex'\n    DOMCacheGetOrSet('runeshowpower2').style.display = 'block'\n  } else {\n    DOMCacheGetOrSet('rune2area').style.display = 'none'\n    DOMCacheGetOrSet('runeshowpower2').style.display = 'none'\n  }\n\n  if (player.achievements[43] === 1) { // Transcend Mythos Achievement 1\n    DOMCacheGetOrSet('prestigeautotoggle').style.display = 'block'\n    DOMCacheGetOrSet('prestigeamount').style.display = 'block'\n    DOMCacheGetOrSet('autoprestige').style.display = 'block'\n  } else {\n    DOMCacheGetOrSet('prestigeautotoggle').style.display = 'none'\n    DOMCacheGetOrSet('prestigeamount').style.display = 'none'\n    DOMCacheGetOrSet('autoprestige').style.display = 'none'\n  }\n\n  if (player.achievements[44] === 1) { // Transcend Mythos Achievement 2\n    DOMCacheGetOrSet('rune3area').style.display = 'flex'\n    DOMCacheGetOrSet('runeshowpower3').style.display = 'block'\n  } else {\n    DOMCacheGetOrSet('rune3area').style.display = 'none'\n    DOMCacheGetOrSet('runeshowpower3').style.display = 'none'\n  }\n\n  if (player.achievements[102] === 1) { // Cost+ Challenge Achievement 4\n    DOMCacheGetOrSet('rune4area').style.display = 'flex'\n    DOMCacheGetOrSet('runeshowpower4').style.display = 'block'\n  } else {\n    DOMCacheGetOrSet('rune4area').style.display = 'none'\n    DOMCacheGetOrSet('runeshowpower4').style.display = 'none'\n  }\n\n  player.achievements[119] === 1 // Tax+ Challenge Achievement 7\n    ? DOMCacheGetOrSet('talisman1area').style.display = 'flex'\n    : DOMCacheGetOrSet('talisman1area').style.display = 'none'\n\n  player.achievements[126] === 1 // No MA Challenge Achievement 7\n    ? DOMCacheGetOrSet('talisman2area').style.display = 'flex'\n    : DOMCacheGetOrSet('talisman2area').style.display = 'none'\n\n  player.achievements[133] === 1 // Cost++ Challenge Achievement 7\n    ? DOMCacheGetOrSet('talisman3area').style.display = 'flex'\n    : DOMCacheGetOrSet('talisman3area').style.display = 'none'\n\n  if (player.achievements[134] === 1) { // No Runes Challenge Achievement 1\n    DOMCacheGetOrSet('toggleRuneSubTab2').style.display = 'block'\n    DOMCacheGetOrSet('toggleRuneSubTab3').style.display = 'block'\n  } else {\n    DOMCacheGetOrSet('toggleRuneSubTab2').style.display = 'none'\n    DOMCacheGetOrSet('toggleRuneSubTab3').style.display = 'none'\n  }\n\n  player.achievements[140] === 1 // No Runes Challenge Achievement 7\n    ? DOMCacheGetOrSet('talisman4area').style.display = 'flex'\n    : DOMCacheGetOrSet('talisman4area').style.display = 'none'\n\n  player.achievements[147] === 1 // Sadistic Challenge Achievement 7\n    ? DOMCacheGetOrSet('talisman5area').style.display = 'flex'\n    : DOMCacheGetOrSet('talisman5area').style.display = 'none'\n\n  player.achievements[173] === 1 // Galactic Crumb Achievement 5\n    ? DOMCacheGetOrSet('sacrificeAnts').style.display = 'block'\n    : DOMCacheGetOrSet('sacrificeAnts').style.display = 'none'\n\n  player.researches[39] > 0 // 3x9 Research [Crystal Building Power]\n    ? DOMCacheGetOrSet('reincarnationCrystalInfo').style.display = 'block'\n    : DOMCacheGetOrSet('reincarnationCrystalInfo').style.display = 'none'\n\n  player.researches[40] > 0 // 3x10 Research [Mythos Shard Building Power]\n    ? DOMCacheGetOrSet('reincarnationMythosInfo').style.display = 'block'\n    : DOMCacheGetOrSet('reincarnationMythosInfo').style.display = 'none'\n\n  player.researches[46] > 0 // 5x6 Research [Auto R.]\n    ? DOMCacheGetOrSet('reincarnateautomation').style.display = 'block'\n    : DOMCacheGetOrSet('reincarnateautomation').style.display = 'none'\n\n  if (player.researches[82] > 0) { // 2x17 Research [SI Rune Unlock]\n    DOMCacheGetOrSet('rune5area').style.display = 'flex'\n    DOMCacheGetOrSet('runeshowpower5').style.display = 'block'\n  } else {\n    DOMCacheGetOrSet('rune5area').style.display = 'none'\n    DOMCacheGetOrSet('runeshowpower5').style.display = 'none'\n  }\n\n  if (player.researches[124] > 0) { // 5x24 Research [AutoSac]\n    DOMCacheGetOrSet('antSacrificeButtons').style.display = 'flex'\n    DOMCacheGetOrSet('autoAntSacrifice').style.display = 'block'\n  } else {\n    DOMCacheGetOrSet('antSacrificeButtons').style.display = 'none'\n    DOMCacheGetOrSet('autoAntSacrifice').style.display = 'none'\n  }\n\n  player.researches[124] > 0 || player.highestSingularityCount > 0 // So you can turn it off before 5x24 Research\n    ? DOMCacheGetOrSet('toggleAutoSacrificeAnt').style.display = 'block'\n    : DOMCacheGetOrSet('toggleAutoSacrificeAnt').style.display = 'none'\n\n  player.researches[130] > 0 // 6x5 Research [Talisman Auto Fortify]\n    ? DOMCacheGetOrSet('toggleautofortify').style.display = 'block'\n    : DOMCacheGetOrSet('toggleautofortify').style.display = 'none'\n\n  player.researches[135] > 0 // 6x10 Research [Talisman Auto Sac]\n    ? DOMCacheGetOrSet('toggleautoenhance').style.display = 'block'\n    : DOMCacheGetOrSet('toggleautoenhance').style.display = 'none'\n\n  for (let z = 1; z <= 5; z++) {\n    ;(player.researches[190] > 0) // 8x15 Research [Auto Tesseracts]\n      ? DOMCacheGetOrSet(`tesseractAutoToggle${z}`).style.display = 'block'\n      : DOMCacheGetOrSet(`tesseractAutoToggle${z}`).style.display = 'none'\n  }\n  player.researches[190] > 0 // 8x15 Research [Auto Tesseracts]\n    ? DOMCacheGetOrSet('tesseractautobuytoggle').style.display = 'block'\n    : DOMCacheGetOrSet('tesseractautobuytoggle').style.display = 'none'\n  player.researches[190] > 0 // 8x15 Research [Auto Tesseracts]\n    ? DOMCacheGetOrSet('tesseractautobuymode').style.display = 'block'\n    : DOMCacheGetOrSet('tesseractautobuymode').style.display = 'none'\n  player.researches[190] > 0 // 8x15 Research [Auto Tesseracts]\n    ? DOMCacheGetOrSet('tesseractAmount').style.display = 'block'\n    : DOMCacheGetOrSet('tesseractAmount').style.display = 'none'\n  player.researches[190] > 0 // 8x15 Research [Auto Tesseracts]\n    ? DOMCacheGetOrSet('autotessbuyeramount').style.display = 'block'\n    : DOMCacheGetOrSet('autotessbuyeramount').style.display = 'none'\n  ;(player.antUpgrades[11]! > 0 || player.ascensionCount > 0) // Ant Talisman Unlock, Mortuus\n    ? DOMCacheGetOrSet('talisman6area').style.display = 'flex'\n    : DOMCacheGetOrSet('talisman6area').style.display = 'none'\n\n  player.shopUpgrades.offeringAuto > 0 // Auto Offering Shop Purchase\n    ? DOMCacheGetOrSet('toggleautosacrifice').style.display = 'block'\n    : DOMCacheGetOrSet('toggleautosacrifice').style.display = 'none'\n\n  player.cubeUpgrades[51] > 0 && player.highestSingularityCount >= 40 // Auto Fragments Buy (After Cx1)\n    ? DOMCacheGetOrSet('toggleautoBuyFragments').style.display = 'block'\n    : DOMCacheGetOrSet('toggleautoBuyFragments').style.display = 'none'\n\n  player.shopUpgrades.obtainiumAuto > 0 // Auto Research Shop Purchase\n    ? DOMCacheGetOrSet('toggleautoresearch').style.display = 'block'\n    : DOMCacheGetOrSet('toggleautoresearch').style.display = 'none'\n\n  DOMCacheGetOrSet('toggleautoresearchmode').style.display =\n    player.shopUpgrades.obtainiumAuto > 0 && autoResearchEnabled() // Auto Research Shop Purchase Mode\n      ? 'block'\n      : 'none'\n\n  player.shopUpgrades.shopTalisman > 0 // Plastic Talisman Shop Purchase\n    ? DOMCacheGetOrSet('talisman7area').style.display = 'flex'\n    : DOMCacheGetOrSet('talisman7area').style.display = 'none'\n\n  player.cubeUpgrades[8] > 0\n    ? DOMCacheGetOrSet('reincarnateAutoUpgrade').style.display = 'block'\n    : DOMCacheGetOrSet('reincarnateAutoUpgrade').style.display = 'none'\n\n  if (player.shopUpgrades.infiniteAscent) {\n    DOMCacheGetOrSet('rune6area').style.display = 'flex'\n    DOMCacheGetOrSet('runeshowpower6').style.display = 'block'\n  } else {\n    DOMCacheGetOrSet('rune6area').style.display = 'none'\n    DOMCacheGetOrSet('runeshowpower6').style.display = 'none'\n  }\n\n  if (player.platonicUpgrades[20] > 0) {\n    DOMCacheGetOrSet('rune7area').style.display = 'flex'\n    DOMCacheGetOrSet('runeshowpower7').style.display = 'block'\n  } else {\n    DOMCacheGetOrSet('rune7area').style.display = 'none'\n    DOMCacheGetOrSet('runeshowpower7').style.display = 'none'\n  }\n\n  player.highestSingularityCount > 0 // Save Offerings\n    ? DOMCacheGetOrSet('saveOffToggle').style.display = 'block'\n    : DOMCacheGetOrSet('saveOffToggle').style.display = 'none'\n\n  // Auto Open Cubes toggle\n  if (player.highestSingularityCount >= 35) {\n    DOMCacheGetOrSet('openCubes').style.display = 'block'\n    DOMCacheGetOrSet('cubeOpensInput').style.display = 'block'\n    DOMCacheGetOrSet('openTesseracts').style.display = 'block'\n    DOMCacheGetOrSet('tesseractsOpensInput').style.display = 'block'\n    DOMCacheGetOrSet('openHypercubes').style.display = 'block'\n    DOMCacheGetOrSet('hypercubesOpensInput').style.display = 'block'\n    DOMCacheGetOrSet('openPlatonicCube').style.display = 'block'\n    DOMCacheGetOrSet('platonicCubeOpensInput').style.display = 'block'\n  } else {\n    DOMCacheGetOrSet('openCubes').style.display = 'none'\n    DOMCacheGetOrSet('cubeOpensInput').style.display = 'none'\n    DOMCacheGetOrSet('openTesseracts').style.display = 'none'\n    DOMCacheGetOrSet('tesseractsOpensInput').style.display = 'none'\n    DOMCacheGetOrSet('openHypercubes').style.display = 'none'\n    DOMCacheGetOrSet('hypercubesOpensInput').style.display = 'none'\n    DOMCacheGetOrSet('openPlatonicCube').style.display = 'none'\n    DOMCacheGetOrSet('platonicCubeOpensInput').style.display = 'none'\n  }\n\n  ;(player.highestSingularityCount >= 50 && player.singularityCount < player.highestSingularityCount)\n      || player.highestSingularityCount >= 150 // Auto Cube Upgrades\n    ? DOMCacheGetOrSet('toggleAutoCubeUpgrades').style.display = 'block'\n    : DOMCacheGetOrSet('toggleAutoCubeUpgrades').style.display = 'none'\n  ;(player.highestSingularityCount >= 100 && player.singularityCount < player.highestSingularityCount)\n      || player.highestSingularityCount >= 200 // Auto Platonic Upgrades\n    ? DOMCacheGetOrSet('toggleAutoPlatonicUpgrades').style.display = 'block'\n    : DOMCacheGetOrSet('toggleAutoPlatonicUpgrades').style.display = 'none'\n\n  // Singularity confirmation toggle pic\n  player.highestSingularityCount > 0 && player.ascensionCount > 0\n    ? (DOMCacheGetOrSet('settingpic6').style.display = 'block')\n    : (DOMCacheGetOrSet('settingpic6').style.display = 'none')\n\n  // Hepteract Confirmations toggle\n  player.highestSingularityCount > 0 && player.challenge15Exponent >= 1e15\n    ? (DOMCacheGetOrSet('heptnotificationpic').style.display = 'block')\n    : (DOMCacheGetOrSet('heptnotificationpic').style.display = 'none')\n\n  DOMCacheGetOrSet('warpAuto').style.display = player.shopUpgrades.autoWarp > 0 ? '' : 'none'\n\n  const octeractUnlocks = document.getElementsByClassName('octeracts') as HTMLCollectionOf<HTMLElement>\n  for (const item of Array.from(octeractUnlocks)) { // Stuff that you need octeracts to access\n    item.style.display = player.singularityUpgrades.octeractUnlock.getEffect().bonus ? 'block' : 'none'\n  }\n\n  const singChallengeUnlocks = document.getElementsByClassName('singChallenges') as HTMLCollectionOf<HTMLElement>\n  for (const item of Array.from(singChallengeUnlocks)) {\n    item.style.display = player.highestSingularityCount >= 25 ? 'block' : 'none'\n  }\n\n  DOMCacheGetOrSet('toggleSingularitySubTab4').style.display =\n    player.singularityChallenges.noSingularityUpgrades.completions >= 1\n      ? 'block'\n      : 'none'\n  // Hide Challenge Subtabs until Exalts are unlocked\n  DOMCacheGetOrSet('challengesTabsToggle').style.display = player.highestSingularityCount >= 25\n    ? 'flex'\n    : 'none'\n\n  player.runelevels[6] > 0 || player.highestSingularityCount > 0\n    ? (DOMCacheGetOrSet('singularitybtn').style.display = 'block')\n    : (DOMCacheGetOrSet('singularitybtn').style.display = 'none')\n\n  player.highestSingularityCount > 0 && player.ascensionCount >= 1\n    ? (DOMCacheGetOrSet('totalQuarkCountStatisticSing').style.display = 'block')\n    : (DOMCacheGetOrSet('totalQuarkCountStatisticSing').style.display = 'none')\n\n  DOMCacheGetOrSet('ascensionStats').style.visibility =\n    (player.achievements[197] > 0 || player.highestSingularityCount > 0) ? 'visible' : 'hidden'\n  DOMCacheGetOrSet('ascHyperStats').style.display = player.challengecompletions[13] > 0 ? '' : 'none'\n  DOMCacheGetOrSet('ascPlatonicStats').style.display = player.challengecompletions[14] > 0 ? '' : 'none'\n  DOMCacheGetOrSet('ascHepteractStats').style.display = player.achievements[255] > 0 ? '' : 'none'\n\n  // I'll clean this up later. Note to 2019 Platonic: Fuck you\n  // note to 2019 and 2020 Platonic, you're welcome\n  // note to 2019 and 2020 and 2021 Platonic, please never base anything on the order of elements ever again\n\n  // These are currently listed in the order they were in when this was converted to use element IDs instead of\n  // the ordering of the HTML elements with the class \"auto\".\n  const automationUnlocks: Record<string, boolean> = {\n    toggle1: player.upgrades[81] === 1, // Autobuyer - Coin Buildings - Tier 1 (Worker)\n    toggle2: player.upgrades[82] === 1, // Autobuyer - Coin Buildings - Tier 2 (Investments)\n    toggle3: player.upgrades[83] === 1, // Autobuyer - Coin Buildings - Tier 3 (Printers)\n    toggle4: player.upgrades[84] === 1, // Autobuyer - Coin Buildings - Tier 4 (Coin Mints)\n    toggle5: player.upgrades[85] === 1, // Autobuyer - Coin Buildings - Tier 5 (Alchemies)\n    toggle6: player.upgrades[86] === 1, // Autobuyer - Coin Buildings - Accelerator\n    toggle7: player.upgrades[87] === 1, // Autobuyer - Coin Buildings - Multiplier\n    toggle8: player.upgrades[88] === 1, // Autobuyer - Coin Buildings - Accelerator Boost\n    toggle10: player.achievements[78] === 1, // Autobuyer - Diamond Buildings - Tier 1 (Refineries)\n    toggle11: player.achievements[85] === 1, // Autobuyer - Diamond Buildings - Tier 2 (Coal Plants)\n    toggle12: player.achievements[92] === 1, // Autobuyer - Diamond Buildings - Tier 3 (Coal Rigs)\n    toggle13: player.achievements[99] === 1, // Autobuyer - Diamond Buildings - Tier 4 (Pickaxes)\n    toggle14: player.achievements[106] === 1, // Autobuyer - Diamond Buildings - Tier 5 (Pandora's Boxes)\n    toggle15: player.achievements[43] === 1, // Feature - Diamond Buildings - Auto Prestige\n    toggle16: player.upgrades[94] === 1, // Autobuyer - Mythos Buildings - Tier 1 (Augments)\n    toggle17: player.upgrades[95] === 1, // Autobuyer - Mythos Buildings - Tier 2 (Enchantments)\n    toggle18: player.upgrades[96] === 1, // Autobuyer - Mythos Buildings - Tier 3 (Wizards)\n    toggle19: player.upgrades[97] === 1, // Autobuyer - Mythos Buildings - Tier 4 (Oracles)\n    toggle20: player.upgrades[98] === 1, // Autobuyer - Mythos Buildings - Tier 5 (Grandmasters)\n    toggle21: player.upgrades[89] === 1, // Feature - Mythos Buildings - Auto Transcend\n    toggle22: player.cubeUpgrades[7] === 1, // Autobuyer - Particle Buildings - Tier 1 (Protons)\n    toggle23: player.cubeUpgrades[7] === 1, // Autobuyer - Particle Buildings - Tier 2 (Elements)\n    toggle24: player.cubeUpgrades[7] === 1, // Autobuyer - Particle Buildings - Tier 3 (Pulsars)\n    toggle25: player.cubeUpgrades[7] === 1, // Autobuyer - Particle Buildings - Tier 4 (Quasars)\n    toggle26: player.cubeUpgrades[7] === 1, // Autobuyer - Particle Buildings - Tier 5 (Galactic Nuclei)\n    toggle27: player.researches[46] === 1, // Feature - Particle Buildings - Auto Reincarnate\n    coinAutoUpgrade: player.upgrades[91] === 1, // Feature - Upgrades - Auto Buy Coin Upgrades\n    prestigeAutoUpgrade: player.upgrades[92] === 1, // Feature - Upgrades - Auto Buy Diamond Upgrades\n    transcendAutoUpgrade: player.upgrades[99] === 1, // Feature - Upgrades - Auto Buy Mythos Upgrades\n    generatorsAutoUpgrade: player.upgrades[90] === 1, // Feature - Upgrades - Auto Buy Generator Upgrades\n    toggle9: player.unlocks.prestige, // Feature - Upgrades - Hover to Buy\n    toggle28: player.prestigeCount > 0.5 || player.reincarnationCount > 0.5, // Settings - Confirmations - Prestige\n    toggle29: player.transcendCount > 0.5 || player.reincarnationCount > 0.5, // Settings - Confirmations - Transcension\n    toggle30: player.reincarnationCount > 0.5, // Settings - Confirmations - Reincarnation\n    toggle31: player.ascensionCount > 0, // Settings - Confirmations - Ascension and Asc. Challenge\n    toggle32: player.achievements[173] > 0, // Settings - Confirmations - Ant Sacrifice\n    toggle33: player.highestSingularityCount > 0 && player.ascensionCount > 0, // Settings - Confirmations - Singularity\n    toggle34: player.unlocks.coinfour, // Achievements - Notifications\n    toggle35: player.challenge15Exponent >= 1e15 && player.highestSingularityCount > 0, // Hepteracts - Notifications\n    toggle36: player.highestSingularityCount >= 15, // Auto Blessings\n    toggle37: player.highestSingularityCount >= 15, // Auto Spirits\n    toggle38: player.highestSingularityCount > 0, // Researchs Hover to Buy\n    toggle39: player.unlocks.prestige, // Hotkeys\n    toggle40: player.unlocks.prestige, // Number Hotkeys\n    toggle41: player.challengecompletions[11] > 0, // Loadouts Notifx\n    toggle42: player.highestSingularityCount >= 6, // Potion Autogenerator for Offering Potions\n    toggle43: player.highestSingularityCount >= 6 // Potion Autogenerator for Obtainium Potions\n  }\n\n  Object.keys(automationUnlocks).forEach((key) => {\n    const el = DOMCacheGetOrSet(key) as HTMLElement | null\n    if (el === null) {\n      console.error(`Automation unlock failed to find element with ID '${key}'.`)\n      return\n    }\n\n    el.style.display = automationUnlocks[key] ? 'block' : 'none'\n  })\n\n  revealCorruptions()\n}\n\nexport const hideStuff = () => {\n  DOMCacheGetOrSet('buildings').style.display = 'none'\n  DOMCacheGetOrSet('buildingstab').style.backgroundColor = ''\n  DOMCacheGetOrSet('upgrades').style.display = 'none'\n  DOMCacheGetOrSet('upgradestab').style.backgroundColor = ''\n  DOMCacheGetOrSet('settings').style.display = 'none'\n\n  DOMCacheGetOrSet('statistics').style.display = 'none'\n  DOMCacheGetOrSet('achievementstab').style.backgroundColor = ''\n  DOMCacheGetOrSet('achievementstab').style.color = 'white'\n  DOMCacheGetOrSet('runes').style.display = 'none'\n  DOMCacheGetOrSet('runestab').style.backgroundColor = ''\n  DOMCacheGetOrSet('challenges').style.display = 'none'\n  DOMCacheGetOrSet('challengetab').style.backgroundColor = ''\n  DOMCacheGetOrSet('research').style.display = 'none'\n  DOMCacheGetOrSet('researchtab').style.backgroundColor = ''\n  DOMCacheGetOrSet('shop').style.display = 'none'\n  DOMCacheGetOrSet('shoptab').style.backgroundColor = ''\n  DOMCacheGetOrSet('ants').style.display = 'none'\n  DOMCacheGetOrSet('anttab').style.backgroundColor = ''\n  DOMCacheGetOrSet('cubetab').style.backgroundColor = ''\n  DOMCacheGetOrSet('traitstab').style.backgroundColor = ''\n  DOMCacheGetOrSet('cubes').style.display = 'none'\n  DOMCacheGetOrSet('traits').style.display = 'none'\n  DOMCacheGetOrSet('singularity').style.display = 'none'\n  DOMCacheGetOrSet('singularitytab').style.backgroundColor = ''\n  DOMCacheGetOrSet('event').style.display = 'none'\n  DOMCacheGetOrSet('eventtab').style.backgroundColor = ''\n\n  const tab = DOMCacheGetOrSet('settingstab')!\n  tab.style.backgroundColor = ''\n  tab.style.borderColor = 'white'\n\n  if (G.currentTab === Tabs.Buildings) {\n    DOMCacheGetOrSet('buildingstab').style.backgroundColor = 'orange'\n    DOMCacheGetOrSet('buildings').style.display = 'block'\n  }\n  if (G.currentTab === Tabs.Upgrades) {\n    DOMCacheGetOrSet('upgrades').style.display = 'block'\n    DOMCacheGetOrSet('upgradestab').style.backgroundColor = 'orange'\n    DOMCacheGetOrSet('upgradedescription').textContent = i18next.t('upgrades.hoverOverUpgrade')\n  }\n  if (G.currentTab === Tabs.Settings) {\n    DOMCacheGetOrSet('settings').style.display = 'block'\n    const tab = DOMCacheGetOrSet('settingstab')!\n    tab.style.backgroundColor = 'orange'\n    tab.style.borderColor = 'gold'\n  }\n  if (G.currentTab === Tabs.Achievements) {\n    DOMCacheGetOrSet('statistics').style.display = 'block'\n    DOMCacheGetOrSet('achievementstab').style.backgroundColor = 'white'\n    DOMCacheGetOrSet('achievementstab').style.color = 'black'\n    DOMCacheGetOrSet('achievementprogress').textContent = i18next.t('achievements.totalPoints', {\n      x: format(player.achievementPoints),\n      y: format(totalachievementpoints),\n      z: (100 * player.achievementPoints / totalachievementpoints).toPrecision(4)\n    })\n  } else if (G.currentTab === Tabs.Runes) {\n    DOMCacheGetOrSet('runes').style.display = 'block'\n    DOMCacheGetOrSet('runestab').style.backgroundColor = 'blue'\n    DOMCacheGetOrSet('runeshowlevelup').textContent = i18next.t('runes.hover')\n    DOMCacheGetOrSet('researchrunebonus').textContent = i18next.t('runes.thanksResearches', {\n      percent: format(100 * G.effectiveLevelMult - 100, 4, true)\n    })\n    displayRuneInformation(1, false)\n    displayRuneInformation(2, false)\n    displayRuneInformation(3, false)\n    displayRuneInformation(4, false)\n    displayRuneInformation(5, false)\n    displayRuneInformation(6, false)\n    displayRuneInformation(7, false)\n  }\n  if (G.currentTab === Tabs.Challenges) {\n    DOMCacheGetOrSet('challenges').style.display = 'block'\n    DOMCacheGetOrSet('challengetab').style.backgroundColor = 'purple'\n  }\n  if (G.currentTab === Tabs.Research) {\n    DOMCacheGetOrSet('research').style.display = 'block'\n    DOMCacheGetOrSet('researchtab').style.backgroundColor = 'green'\n  }\n  if (G.currentTab === Tabs.Shop) {\n    DOMCacheGetOrSet('shop').style.display = 'block'\n    DOMCacheGetOrSet('shoptab').style.backgroundColor = 'limegreen'\n  }\n  if (G.currentTab === Tabs.AntHill) {\n    DOMCacheGetOrSet('ants').style.display = 'block'\n    DOMCacheGetOrSet('anttab').style.backgroundColor = 'brown'\n  }\n  if (G.currentTab === Tabs.WowCubes) {\n    DOMCacheGetOrSet('cubes').style.display = 'flex'\n    DOMCacheGetOrSet('cubetab').style.backgroundColor = 'white'\n  }\n  if (G.currentTab === Tabs.Corruption) {\n    DOMCacheGetOrSet('traits').style.display = 'flex'\n    DOMCacheGetOrSet('traitstab').style.backgroundColor = 'white'\n  }\n\n  if (G.currentTab === Tabs.Singularity) {\n    DOMCacheGetOrSet('singularity').style.display = 'block'\n    DOMCacheGetOrSet('singularitytab').style.backgroundColor = 'lightgoldenrodyellow'\n    updateSingularityPenalties()\n    updateSingularityPerks()\n  }\n\n  if (G.currentTab === Tabs.Event) {\n    DOMCacheGetOrSet('event').style.display = 'block'\n    DOMCacheGetOrSet('eventtab').style.backgroundColor = 'gold'\n  }\n}\n\nconst visualTab: Record<Tabs, () => void> = {\n  [Tabs.Buildings]: visualUpdateBuildings,\n  [Tabs.Upgrades]: visualUpdateUpgrades,\n  [Tabs.Achievements]: visualUpdateAchievements,\n  [Tabs.Runes]: visualUpdateRunes,\n  [Tabs.Challenges]: visualUpdateChallenges,\n  [Tabs.Research]: visualUpdateResearch,\n  [Tabs.Settings]: visualUpdateSettings,\n  [Tabs.Shop]: visualUpdateShop,\n  [Tabs.AntHill]: visualUpdateAnts,\n  [Tabs.WowCubes]: visualUpdateCubes,\n  [Tabs.Corruption]: visualUpdateCorruptions,\n  [Tabs.Singularity]: visualUpdateSingularity,\n  [Tabs.Event]: visualUpdateEvent\n}\n\nexport const htmlInserts = () => {\n  // ALWAYS Update these, for they are the most important resources\n  const playerRequirements = [\n    'coins',\n    'runeshards',\n    'prestigePoints',\n    'transcendPoints',\n    'transcendShards',\n    'reincarnationPoints',\n    'worlds',\n    'researchPoints'\n  ] as const\n  const domRequirements = [\n    'coinDisplay',\n    'offeringDisplay',\n    'diamondDisplay',\n    'mythosDisplay',\n    'mythosshardDisplay',\n    'particlesDisplay',\n    'quarkDisplay',\n    'obtainiumDisplay'\n  ] as const\n  for (let i = 0; i < playerRequirements.length; i++) {\n    const text = format(player[`${playerRequirements[i]}` as const])\n    const dom = DOMCacheGetOrSet(`${domRequirements[i]}` as const)\n    if (dom.textContent !== text) {\n      dom.textContent = text\n    }\n  }\n\n  updateAscensionStats()\n\n  visualTab[G.currentTab]()\n}\n\n// TODO(not @KhafraDev): cache the elements and stop getting them every time?\nexport const buttoncolorchange = () => {\n  DOMCacheGetOrSet('prestigebtn').style.backgroundColor = player.toggles[15] && player.achievements[43] === 1\n    ? 'green'\n    : ''\n\n  DOMCacheGetOrSet('transcendbtn').style.backgroundColor =\n    player.toggles[21] && player.upgrades[89] > 0.5 && (player.currentChallenge.transcension === 0) ? 'green' : ''\n\n  DOMCacheGetOrSet('reincarnatebtn').style.backgroundColor = player.toggles[27] && player.researches[46] > 0.5\n      && (player.currentChallenge.transcension === 0 && player.currentChallenge.reincarnation === 0)\n    ? 'green'\n    : ''\n\n  DOMCacheGetOrSet('acceleratorboostbtn').style.backgroundColor = player.toggles[8] && player.upgrades[88] > 0.5\n    ? 'green'\n    : ''\n\n  DOMCacheGetOrSet('challengebtn').style.backgroundColor = player.currentChallenge.transcension === 0 ? '' : 'purple'\n\n  DOMCacheGetOrSet('reincarnatechallengebtn').style.backgroundColor = player.currentChallenge.reincarnation === 0\n    ? ''\n    : 'purple'\n\n  DOMCacheGetOrSet('ascendChallengeBtn').style.backgroundColor = player.currentChallenge.ascension === 0 ? '' : 'purple'\n\n  DOMCacheGetOrSet('ascendbtn').style.backgroundColor =\n    player.autoAscend && player.challengecompletions[11] > 0 && player.cubeUpgrades[10] > 0 ? 'green' : ''\n\n  DOMCacheGetOrSet('singularitybtn').style.filter = player.runelevels[6] > 0\n    ? ''\n    : 'contrast(1.25) sepia(1) grayscale(0.25)'\n\n  // Notify new players the reset\n  if (player.toggles[33] && player.highestSingularityCount === 0) {\n    if (player.toggles[28] && !player.unlocks.prestige) {\n      DOMCacheGetOrSet('prestigebtn').style.boxShadow = player.coinsThisPrestige.gte(1e16)\n        ? 'cyan 0px 0px 10px 2px'\n        : ''\n    }\n    if (player.toggles[29] && !player.unlocks.transcend) {\n      DOMCacheGetOrSet('transcendbtn').style.boxShadow = player.coinsThisTranscension.gte(1e100)\n        ? 'plum 0px 0px 10px 2px'\n        : ''\n    }\n    if (player.toggles[30] && !player.unlocks.reincarnate) {\n      DOMCacheGetOrSet('reincarnatebtn').style.boxShadow = player.transcendShards.gte(1e300)\n        ? 'greenyellow 0px 0px 10px 2px'\n        : ''\n    }\n    if (player.toggles[31] && player.ascensionCount === 0) {\n      DOMCacheGetOrSet('ascendbtn').style.boxShadow = player.challengecompletions[10] > 0\n        ? 'orange 0px 0px 10px 2px'\n        : ''\n    }\n  }\n\n  if (G.currentTab === Tabs.Buildings && G.buildingSubTab === 'coin') {\n    const a = DOMCacheGetOrSet('buycoin1')\n    const b = DOMCacheGetOrSet('buycoin2')\n    const c = DOMCacheGetOrSet('buycoin3')\n    const d = DOMCacheGetOrSet('buycoin4')\n    const e = DOMCacheGetOrSet('buycoin5')\n    const f = DOMCacheGetOrSet('buyaccelerator')\n    const g = DOMCacheGetOrSet('buymultiplier')\n    const h = DOMCacheGetOrSet('buyacceleratorboost')\n    ;((!player.toggles[1] || player.upgrades[81] === 0) && player.coins.gte(player.firstCostCoin))\n      ? a.classList.add('buildingPurchaseBtnAvailable')\n      : a.classList.remove('buildingPurchaseBtnAvailable')\n    ;((!player.toggles[2] || player.upgrades[82] === 0) && player.coins.gte(player.secondCostCoin))\n      ? b.classList.add('buildingPurchaseBtnAvailable')\n      : b.classList.remove('buildingPurchaseBtnAvailable')\n    ;((!player.toggles[3] || player.upgrades[83] === 0) && player.coins.gte(player.thirdCostCoin))\n      ? c.classList.add('buildingPurchaseBtnAvailable')\n      : c.classList.remove('buildingPurchaseBtnAvailable')\n    ;((!player.toggles[4] || player.upgrades[84] === 0) && player.coins.gte(player.fourthCostCoin))\n      ? d.classList.add('buildingPurchaseBtnAvailable')\n      : d.classList.remove('buildingPurchaseBtnAvailable')\n    ;((!player.toggles[5] || player.upgrades[85] === 0) && player.coins.gte(player.fifthCostCoin))\n      ? e.classList.add('buildingPurchaseBtnAvailable')\n      : e.classList.remove('buildingPurchaseBtnAvailable')\n    ;((!player.toggles[6] || player.upgrades[86] === 0) && player.coins.gte(player.acceleratorCost))\n      ? f.classList.add('buildingPurchaseBtnAvailable')\n      : f.classList.remove('buildingPurchaseBtnAvailable')\n    ;((!player.toggles[7] || player.upgrades[87] === 0) && player.coins.gte(player.multiplierCost))\n      ? g.classList.add('buildingPurchaseBtnAvailable')\n      : g.classList.remove('buildingPurchaseBtnAvailable')\n    ;((!player.toggles[8] || player.upgrades[88] === 0) && player.prestigePoints.gte(player.acceleratorBoostCost))\n      ? h.classList.add('buildingPurchaseBtnAvailable')\n      : h.classList.remove('buildingPurchaseBtnAvailable')\n  }\n\n  if (G.currentTab === Tabs.Buildings && G.buildingSubTab === 'diamond') {\n    const a = DOMCacheGetOrSet('buydiamond1')\n    const b = DOMCacheGetOrSet('buydiamond2')\n    const c = DOMCacheGetOrSet('buydiamond3')\n    const d = DOMCacheGetOrSet('buydiamond4')\n    const e = DOMCacheGetOrSet('buydiamond5')\n    const f = DOMCacheGetOrSet('buycrystalupgrade1')\n    const g = DOMCacheGetOrSet('buycrystalupgrade2')\n    const h = DOMCacheGetOrSet('buycrystalupgrade3')\n    const i = DOMCacheGetOrSet('buycrystalupgrade4')\n    const j = DOMCacheGetOrSet('buycrystalupgrade5')\n    ;((!player.toggles[10] || player.achievements[78] === 0) && player.prestigePoints.gte(player.firstCostDiamonds))\n      ? a.classList.add('buildingPurchaseBtnAvailable')\n      : a.classList.remove('buildingPurchaseBtnAvailable')\n    ;((!player.toggles[11] || player.achievements[85] === 0) && player.prestigePoints.gte(player.secondCostDiamonds))\n      ? b.classList.add('buildingPurchaseBtnAvailable')\n      : b.classList.remove('buildingPurchaseBtnAvailable')\n    ;((!player.toggles[12] || player.achievements[92] === 0) && player.prestigePoints.gte(player.thirdCostDiamonds))\n      ? c.classList.add('buildingPurchaseBtnAvailable')\n      : c.classList.remove('buildingPurchaseBtnAvailable')\n    ;((!player.toggles[13] || player.achievements[99] === 0) && player.prestigePoints.gte(player.fourthCostDiamonds))\n      ? d.classList.add('buildingPurchaseBtnAvailable')\n      : d.classList.remove('buildingPurchaseBtnAvailable')\n    ;((!player.toggles[14] || player.achievements[106] === 0) && player.prestigePoints.gte(player.fifthCostDiamonds))\n      ? e.classList.add('buildingPurchaseBtnAvailable')\n      : e.classList.remove('buildingPurchaseBtnAvailable')\n    let k = 0\n    k += Math.floor(G.rune3level / 16 * G.effectiveLevelMult) * 100 / 100\n    if (player.upgrades[73] === 1 && player.currentChallenge.reincarnation !== 0) {\n      k += 10\n    }\n\n    player.achievements[79] < 1\n      ? (player.prestigeShards.gte(\n          Decimal.pow(\n            10,\n            G.crystalUpgradesCost[0]\n              + G.crystalUpgradeCostIncrement[0] * Math.floor(Math.pow(player.crystalUpgrades[0] + 0.5 - k, 2) / 2)\n          )\n        )\n        ? f.style.backgroundColor = 'purple'\n        : f.style.backgroundColor = '')\n      : f.style.backgroundColor = 'green'\n    player.achievements[86] < 1\n      ? (player.prestigeShards.gte(\n          Decimal.pow(\n            10,\n            G.crystalUpgradesCost[1]\n              + G.crystalUpgradeCostIncrement[1] * Math.floor(Math.pow(player.crystalUpgrades[1] + 0.5 - k, 2) / 2)\n          )\n        )\n        ? g.style.backgroundColor = 'purple'\n        : g.style.backgroundColor = '')\n      : g.style.backgroundColor = 'green'\n    player.achievements[93] < 1\n      ? (player.prestigeShards.gte(\n          Decimal.pow(\n            10,\n            G.crystalUpgradesCost[2]\n              + G.crystalUpgradeCostIncrement[2] * Math.floor(Math.pow(player.crystalUpgrades[2] + 0.5 - k, 2) / 2)\n          )\n        )\n        ? h.style.backgroundColor = 'purple'\n        : h.style.backgroundColor = '')\n      : h.style.backgroundColor = 'green'\n    player.achievements[100] < 1\n      ? (player.prestigeShards.gte(\n          Decimal.pow(\n            10,\n            G.crystalUpgradesCost[3]\n              + G.crystalUpgradeCostIncrement[3] * Math.floor(Math.pow(player.crystalUpgrades[3] + 0.5 - k, 2) / 2)\n          )\n        )\n        ? i.style.backgroundColor = 'purple'\n        : i.style.backgroundColor = '')\n      : i.style.backgroundColor = 'green'\n    player.achievements[107] < 1\n      ? (player.prestigeShards.gte(\n          Decimal.pow(\n            10,\n            G.crystalUpgradesCost[4]\n              + G.crystalUpgradeCostIncrement[4] * Math.floor(Math.pow(player.crystalUpgrades[4] + 0.5 - k, 2) / 2)\n          )\n        )\n        ? j.style.backgroundColor = 'purple'\n        : j.style.backgroundColor = '')\n      : j.style.backgroundColor = 'green'\n  }\n\n  if (G.currentTab === Tabs.Runes) {\n    if (G.runescreen === 'runes') {\n      for (let i = 1; i <= 7; i++) {\n        player.runeshards > 0.5\n          ? DOMCacheGetOrSet(`activaterune${i}`).classList.add('runeButtonAvailable')\n          : DOMCacheGetOrSet(`activaterune${i}`).classList.remove('runeButtonAvailable')\n      }\n    }\n    if (G.runescreen === 'talismans') {\n      const a = DOMCacheGetOrSet('buyTalismanItem1')\n      const b = DOMCacheGetOrSet('buyTalismanItem2')\n      const c = DOMCacheGetOrSet('buyTalismanItem3')\n      const d = DOMCacheGetOrSet('buyTalismanItem4')\n      const e = DOMCacheGetOrSet('buyTalismanItem5')\n      const f = DOMCacheGetOrSet('buyTalismanItem6')\n      const g = DOMCacheGetOrSet('buyTalismanItem7')\n      const arr = [a, b, c, d, e, f, g]\n      for (let i = 0; i < arr.length; i++) {\n        ;(player.researchPoints > G.talismanResourceObtainiumCosts[i]\n            && player.runeshards > G.talismanResourceOfferingCosts[i])\n          ? arr[i].classList.add('talisminBtnAvailable')\n          : arr[i].classList.remove('talisminBtnAvailable')\n      }\n    }\n  }\n\n  if (G.currentTab === Tabs.Buildings && G.buildingSubTab === 'mythos') {\n    for (let i = 1; i <= 5; i++) {\n      const toggle = player.toggles[i + 15]\n      const mythos = player[`${G.ordinals[i - 1 as ZeroToFour]}CostMythos` as const]\n      ;(!toggle || !player.upgrades[93 + i]) && player.transcendPoints.gte(mythos)\n        ? DOMCacheGetOrSet(`buymythos${i}`).classList.add('buildingPurchaseBtnAvailable')\n        : DOMCacheGetOrSet(`buymythos${i}`).classList.remove('buildingPurchaseBtnAvailable')\n    }\n  }\n\n  if (G.currentTab === Tabs.Buildings && G.buildingSubTab === 'particle') {\n    for (let i = 1; i <= 5; i++) {\n      const costParticles = player[`${G.ordinals[i - 1 as ZeroToFour]}CostParticles` as const]\n      player.reincarnationPoints.gte(costParticles)\n        ? DOMCacheGetOrSet(`buyparticles${i}`).classList.add('buildingPurchaseBtnAvailable')\n        : DOMCacheGetOrSet(`buyparticles${i}`).classList.remove('buildingPurchaseBtnAvailable')\n    }\n  }\n\n  if (G.currentTab === Tabs.Buildings && G.buildingSubTab === 'tesseract') {\n    for (let i = 1; i <= 5; i++) {\n      const ascendBuilding = player[`ascendBuilding${i as OneToFive}` as const].cost\n      Number(player.wowTesseracts) >= ascendBuilding\n        ? DOMCacheGetOrSet(`buyTesseracts${i}`).classList.add('buildingPurchaseBtnAvailable')\n        : DOMCacheGetOrSet(`buyTesseracts${i}`).classList.remove('buildingPurchaseBtnAvailable')\n    }\n    for (let i = 1; i <= 8; i++) {\n      if (player.researches[175] >= 1) {\n        DOMCacheGetOrSet(`buyConstantUpgrade${i}`).classList.remove('constUpgradeAvailable')\n        DOMCacheGetOrSet(`buyConstantUpgrade${i}`).classList.add('constUpgradeAuto')\n      } else {\n        DOMCacheGetOrSet(`buyConstantUpgrade${i}`).classList.remove('constUpgradeAuto')\n        ;(player.ascendShards.gte(Decimal.pow(10, player.constantUpgrades[i]!).times(G.constUpgradeCosts[i]!)))\n          ? DOMCacheGetOrSet(`buyConstantUpgrade${i}`).classList.add('constUpgradeAvailable')\n          : DOMCacheGetOrSet(`buyConstantUpgrade${i}`).classList.remove('constUpgradeAvailable')\n      }\n    }\n\n    for (let i = 9; i <= 10; i++) {\n      if (player.researches[175] >= 1 || player.constantUpgrades[i]! >= 1) {\n        DOMCacheGetOrSet(`buyConstantUpgrade${i}`).classList.remove('constUpgradeAvailable')\n        DOMCacheGetOrSet(`buyConstantUpgrade${i}`).classList.add('constUpgradeAuto')\n      } else {\n        DOMCacheGetOrSet(`buyConstantUpgrade${i}`).classList.remove('constUpgradeAuto')\n        ;(player.ascendShards.gte(Decimal.pow(10, player.constantUpgrades[i]!).times(G.constUpgradeCosts[i]!)))\n          ? DOMCacheGetOrSet(`buyConstantUpgrade${i}`).classList.add('constUpgradeAvailable')\n          : DOMCacheGetOrSet(`buyConstantUpgrade${i}`).classList.remove('constUpgradeAvailable')\n      }\n    }\n  }\n\n  if (G.currentTab === Tabs.AntHill) {\n    ;(player.reincarnationPoints.gte(player.firstCostAnts))\n      ? DOMCacheGetOrSet('anttier1').classList.add('antTierBtnAvailable')\n      : DOMCacheGetOrSet('anttier1').classList.remove('antTierBtnAvailable')\n    for (let i = 2; i <= 8; i++) {\n      const costAnts = player[`${G.ordinals[(i - 1) as ZeroToSeven]}CostAnts` as const]\n      player.antPoints.gte(costAnts)\n        ? DOMCacheGetOrSet(`anttier${i}`).classList.add('antTierBtnAvailable')\n        : DOMCacheGetOrSet(`anttier${i}`).classList.remove('antTierBtnAvailable')\n    }\n    for (let i = 1; i <= 12; i++) {\n      player.antPoints.gte(\n          Decimal.pow(\n            G.antUpgradeCostIncreases[i - 1],\n            player.antUpgrades[i - 1]! * G.extinctionMultiplier[player.usedCorruptions[10]]\n          ).times(G.antUpgradeBaseCost[i - 1])\n        )\n        ? DOMCacheGetOrSet(`antUpgrade${i}`).classList.add('antUpgradeBtnAvailable')\n        : DOMCacheGetOrSet(`antUpgrade${i}`).classList.remove('antUpgradeBtnAvailable')\n    }\n  }\n}\n\nexport const updateChallengeDisplay = () => {\n  // Sets background colors on load/challenge initiation\n  for (let k = 1; k <= 15; k++) {\n    const el = DOMCacheGetOrSet(`challenge${k}`)\n    el.classList.remove('challengeActive')\n    if (player.currentChallenge.transcension === k) {\n      el.classList.add('challengeActive')\n    }\n    if (player.currentChallenge.reincarnation === k) {\n      el.classList.add('challengeActive')\n    }\n    if (player.currentChallenge.ascension === k) {\n      el.classList.add('challengeActive')\n    }\n  }\n  // Corrects HTML on retry challenges button\n  if (player.retrychallenges) {\n    DOMCacheGetOrSet('retryChallenge').textContent = i18next.t('challenges.retryChallengesOn')\n  } else {\n    DOMCacheGetOrSet('retryChallenge').textContent = i18next.t('challenges.retryChallengesOff')\n  }\n  for (let k = 1; k <= 15; k++) {\n    updateChallengeLevel(k)\n  }\n}\n\nexport const updateChallengeLevel = (k: number) => {\n  const el = DOMCacheGetOrSet(`challenge${k}level`)\n  const maxChallenges = getMaxChallenges(k)\n\n  if (k === 15) {\n    el.textContent = format(player.challenge15Exponent, 0, true)\n  } else {\n    el.textContent = `${player.challengecompletions[k]}/${maxChallenges}`\n  }\n}\n\nexport const updateAchievementBG = () => {\n  // When loading/importing, the game needs to correctly update achievement backgrounds.\n  for (let i = 1; i <= 280; i++) { // Initiates by setting all to default\n    DOMCacheGetOrSet(`ach${i}`).style.backgroundColor = ''\n  }\n  const fixDisplay1 = document.getElementsByClassName('purpleach') as HTMLCollectionOf<HTMLElement>\n  const fixDisplay2 = document.getElementsByClassName('redach') as HTMLCollectionOf<HTMLElement>\n  for (let i = 0; i < fixDisplay1.length; i++) {\n    fixDisplay1[i].style.backgroundColor = 'purple' // Sets the appropriate achs to purple\n  }\n  for (let i = 0; i < fixDisplay2.length; i++) {\n    fixDisplay2[i].style.backgroundColor = 'maroon' // Sets the appropriate achs to maroon (red)\n  }\n  for (let i = 1; i < player.achievements.length; i++) {\n    if (player.achievements[i] > 0.5) {\n      achievementaward(i) // This sets all completed ach to green\n    }\n  }\n}\n\nexport const showCorruptionStatsLoadouts = () => {\n  if (player.corruptionShowStats) {\n    DOMCacheGetOrSet('corruptionStats').style.display = 'flex'\n    DOMCacheGetOrSet('corruptionLoadouts').style.display = 'none'\n    DOMCacheGetOrSet('corrStatsBtn').style.borderColor = 'dodgerblue'\n    DOMCacheGetOrSet('corrLoadoutsBtn').style.borderColor = 'white'\n  } else {\n    DOMCacheGetOrSet('corruptionStats').style.display = 'none'\n    DOMCacheGetOrSet('corruptionLoadouts').style.display = 'flex'\n    DOMCacheGetOrSet('corrStatsBtn').style.borderColor = 'white'\n    DOMCacheGetOrSet('corrLoadoutsBtn').style.borderColor = 'dodgerblue'\n  }\n}\n\nconst updateAscensionStats = () => {\n  let t = player.ascensionCounter\n  // Division by 0 is not defined\n  if (t === 0) {\n    t = 1\n  }\n  const [cubes, tess, hyper, platonic, hepteract] = CalcCorruptionStuff().slice(4)\n  const addedAsterisk = player.singularityUpgrades.oneMind.getEffect().bonus\n  const fillers: Record<string, string> = {\n    ascLen: formatTimeShort(player.ascStatToggles[6] ? player.ascensionCounter : player.ascensionCounterReal, 0),\n    ascCubes: format(cubes * (player.ascStatToggles[1] ? 1 : 1 / t), 2),\n    ascTess: format(tess * (player.ascStatToggles[2] ? 1 : 1 / t), 3),\n    ascHyper: format(hyper * (player.ascStatToggles[3] ? 1 : 1 / t), 4),\n    ascPlatonic: format(platonic * (player.ascStatToggles[4] ? 1 : 1 / t), 5),\n    ascHepteract: format(hepteract * (player.ascStatToggles[5] ? 1 : 1 / t), 3),\n    ascC10: `${format(player.challengecompletions[10])}`,\n    ascTimeAccel: `${format(calculateTimeAcceleration().mult, 3)}x`,\n    ascAscensionTimeAccel: `${format(calculateAscensionAcceleration(), 3)}x${addedAsterisk ? '*' : ''}`,\n    ascSingularityCount: format(player.singularityCount),\n    ascSingLen: formatTimeShort(player.singularityCounter),\n    ascSingChallengeLen: formatTimeShort(player.singChallengeTimer)\n  }\n  for (const key in fillers) {\n    const dom = DOMCacheGetOrSet(key)\n    if (dom.textContent !== fillers[key]) {\n      dom.textContent = fillers[key]\n    }\n    if (key === 'ascSingChallengeLen') {\n      if ( player.singularityChallenges.limitedTime.enabled &&\n           player.singChallengeTimer > 600 - 20 * player.singularityChallenges.limitedTime.completions) {\n        dom.style.color = 'red'\n      }\n      else {\n        dom.style.color = 'white'\n      }\n    }\n  }\n}\n\nconst tabColors: Partial<Record<Tabs, string>> = {\n  [Tabs.Buildings]: 'yellow',\n  [Tabs.Upgrades]: 'yellow',\n  [Tabs.Achievements]: 'white',\n  [Tabs.Runes]: 'cyan',\n  [Tabs.Challenges]: 'plum',\n  [Tabs.Research]: 'green',\n  [Tabs.AntHill]: 'brown',\n  [Tabs.WowCubes]: 'purple',\n  [Tabs.Corruption]: 'orange',\n  [Tabs.Settings]: 'white',\n  [Tabs.Shop]: 'limegreen'\n}\n\nexport const changeTabColor = () => {\n  const tab = DOMCacheGetOrSet('tabBorder')\n  const color = tabColors[G.currentTab] ?? 'yellow'\n\n  tab.style.backgroundColor = color\n}\n\nexport const Confirm = (text: string): Promise<boolean> => {\n  const conf = DOMCacheGetOrSet('confirmationBox')\n  const confWrap = DOMCacheGetOrSet('confirmWrapper')\n  const popup = DOMCacheGetOrSet('confirm')\n  const overlay = DOMCacheGetOrSet('transparentBG')\n  const ok = DOMCacheGetOrSet('ok_confirm')\n  const cancel = DOMCacheGetOrSet('cancel_confirm')\n\n  DOMCacheGetOrSet('alertWrapper').style.display = 'none'\n  DOMCacheGetOrSet('promptWrapper').style.display = 'none'\n\n  conf.style.display = 'block'\n  confWrap.style.display = 'block'\n  overlay.style.display = 'block'\n  popup.querySelector('p')!.textContent = text\n  popup.focus()\n\n  const p = createDeferredPromise<boolean>()\n\n  // IF you clean up the typing here also clean up PromptCB\n  const listener = ({ target }: MouseEvent | { target: HTMLElement }) => {\n    const targetEl = target as HTMLButtonElement\n    ok.removeEventListener('click', listener)\n    cancel.removeEventListener('click', listener)\n    popup.removeEventListener('keyup', kbListener)\n\n    conf.style.display = 'none'\n    confWrap.style.display = 'none'\n    overlay.style.display = 'none'\n\n    p.resolve(targetEl === ok)\n  }\n\n  const kbListener = (e: KeyboardEvent) => {\n    if (e.key === 'Enter' || e.key === ' ') {\n      return listener({ target: ok })\n    } else if (e.key === 'Escape') {\n      return listener({ target: cancel })\n    }\n\n    return e.preventDefault()\n  }\n\n  ok.addEventListener('click', listener, { once: true })\n  cancel.addEventListener('click', listener, { once: true })\n  popup.addEventListener('keyup', kbListener)\n\n  return p.promise\n}\n\nexport const Alert = (text: string): Promise<void> => {\n  const conf = DOMCacheGetOrSet('confirmationBox')\n  const alertWrap = DOMCacheGetOrSet('alertWrapper')\n  const overlay = DOMCacheGetOrSet('transparentBG')\n  const popup = DOMCacheGetOrSet('alert')\n  const ok = DOMCacheGetOrSet('ok_alert')\n\n  DOMCacheGetOrSet('confirmWrapper').style.display = 'none'\n  DOMCacheGetOrSet('promptWrapper').style.display = 'none'\n\n  conf.style.display = 'block'\n  alertWrap.style.display = 'block'\n  overlay.style.display = 'block'\n  popup.querySelector('p')!.textContent = text\n  popup.focus()\n\n  const p = createDeferredPromise<void>()\n\n  const listener = () => {\n    ok.removeEventListener('click', listener)\n    popup.removeEventListener('keyup', kbListener)\n\n    conf.style.display = 'none'\n    alertWrap.style.display = 'none'\n    overlay.style.display = 'none'\n    p.resolve()\n  }\n\n  const kbListener = (e: KeyboardEvent) => (e.key === 'Enter' || e.key === ' ') && listener()\n\n  ok.addEventListener('click', listener, { once: true })\n  popup.addEventListener('keyup', kbListener)\n\n  return p.promise\n}\n\nexport const Prompt = (text: string, defaultValue?: string): Promise<string | null> => {\n  const conf = DOMCacheGetOrSet('confirmationBox')\n  const confWrap = DOMCacheGetOrSet('promptWrapper')\n  const overlay = DOMCacheGetOrSet('transparentBG')\n  const popup = DOMCacheGetOrSet('prompt')\n  const ok = DOMCacheGetOrSet('ok_prompt')\n  const cancel = DOMCacheGetOrSet('cancel_prompt')\n\n  DOMCacheGetOrSet('alertWrapper').style.display = 'none'\n  DOMCacheGetOrSet('confirmWrapper').style.display = 'none'\n\n  conf.style.display = 'block'\n  confWrap.style.display = 'block'\n  overlay.style.display = 'block'\n  popup.querySelector('label')!.textContent = text\n  if (defaultValue) {\n    popup.querySelector('input')!.placeholder = defaultValue\n  }\n  popup.querySelector('input')!.focus()\n\n  const p = createDeferredPromise<string | null>()\n\n  // kinda disgusting types but whatever\n  const listener = ({ target }: MouseEvent | { target: HTMLElement }) => {\n    const targetEl = target as HTMLButtonElement\n    const el = targetEl.parentNode!.querySelector('input')!\n\n    ok.removeEventListener('click', listener)\n    cancel.removeEventListener('click', listener)\n    popup.querySelector('input')!.removeEventListener('keyup', kbListener)\n\n    conf.style.display = 'none'\n    confWrap.style.display = 'none'\n    overlay.style.display = 'none'\n\n    p.resolve(targetEl.id === ok.id ? el.value || el.placeholder : null)\n\n    el.value = el.textContent = el.placeholder = ''\n    popup.querySelector('input')!.blur()\n  }\n\n  const kbListener = (e: KeyboardEvent) => {\n    if (e.key === 'Enter') {\n      return listener({ target: ok })\n    } else if (e.key === 'Escape') {\n      return listener({ target: cancel })\n    }\n\n    return e.preventDefault()\n  }\n\n  ok.addEventListener('click', listener, { once: true })\n  cancel.addEventListener('click', listener, { once: true })\n  popup.querySelector('input')!.addEventListener('keyup', kbListener)\n\n  return p.promise\n}\n\nlet closeNotification: ReturnType<typeof setTimeout>\nlet closedNotification: ReturnType<typeof setTimeout>\n\nexport const Notification = (text: string, time = 30000): Promise<void> => {\n  const notification = DOMCacheGetOrSet('notification')\n  const textNode = document.querySelector<HTMLElement>('#notification > p')!\n  const x = DOMCacheGetOrSet('notifx')\n\n  textNode.textContent = text\n  notification.style.display = 'block'\n  notification.classList.remove('slide-out')\n  notification.classList.add('slide-in')\n\n  const p = createDeferredPromise<void>()\n\n  const closed = () => {\n    notification.style.display = 'none'\n    textNode.textContent = ''\n    closedNotification = 0\n  }\n\n  const close = () => {\n    notification.classList.add('slide-out')\n    notification.classList.remove('slide-in')\n\n    closeNotification = 0\n    x.removeEventListener('click', close)\n    closedNotification = setTimeout(closed, 1000)\n    p.resolve()\n  }\n\n  x.addEventListener('click', close)\n\n  // Reset the close timer if reopened before closed\n  clearTimeout(closeNotification)\n  clearTimeout(closedNotification)\n\n  // automatically close out after <time> ms\n  closeNotification = setTimeout(close, time)\n\n  return p.promise\n}\n\n/**\n * Create a popunder under an element.\n * @example\n * popunder(document.querySelector('.currencyContainer'), () => player.coins);\n * @param el Element to create the popunder under\n * @param v function that returns the value to format\n */\n/*const popunder = (\n    el: HTMLElement,\n    v: () => Parameters<typeof format>[0]\n) => {\n    const id: 'khafraIsAwesome' = 'khafraIsAwesome' as const; // DO NOT CHANGE!\n    el.addEventListener('mouseenter', (ev) => {\n        const isOnPage = DOMCacheGetOrSet(id);\n        if (isOnPage !== null)\n            document.body.removeChild(isOnPage);\n\n        const hover = ev.target as HTMLElement;\n        const popunder = document.createElement('div');\n        popunder.setAttribute('id', id);\n        popunder.textContent =  format(v(), undefined, undefined, false);\n\n        popunder.style.setProperty('position', 'absolute');\n        popunder.style.setProperty('text-align', 'center');\n        popunder.style.setProperty('height', `${hover.offsetHeight}px`);\n        popunder.style.setProperty('width', `${hover.offsetWidth}px`);\n        popunder.style.setProperty('top', `${hover.offsetTop + hover.offsetHeight}px`);\n        popunder.style.setProperty('left', `${hover.offsetLeft}px`);\n        popunder.style.setProperty('background-color', 'red');\n\n        document.body.appendChild(popunder);\n    });\n\n    el.addEventListener('mouseleave', () => {\n        const isOnPage = DOMCacheGetOrSet(id);\n        if (isOnPage !== null)\n            document.body.removeChild(isOnPage);\n    });\n}\n\nObject.defineProperty(window, 'popunder', { value: popunder });*/\n", "import Decimal from 'break_infinity.js'\nimport i18next from 'i18next'\nimport { DOMCacheGetOrSet } from './Cache/DOM'\nimport { CalcCorruptionStuff, calculateTimeAcceleration } from './Calculate'\nimport { Synergism } from './Events'\nimport { format, player } from './Synergism'\nimport { Alert, Notification, revealStuff } from './UpdateHTML'\nimport { sumContents } from './Utility'\nimport { Globals as G } from './Variables'\n\n// dprint-ignore\nexport const achievementpointvalues = [\n  0,\n  1, 2, 4, 6, 8, 9, 10,\n  1, 2, 4, 6, 8, 9, 10,\n  1, 2, 4, 6, 8, 9, 10,\n  1, 2, 4, 6, 8, 9, 10,\n  1, 2, 4, 6, 8, 9, 10,\n  1, 2, 4, 6, 8, 9, 10,\n  1, 2, 4, 6, 8, 9, 10,\n  1, 2, 4, 6, 8, 9, 10,\n  2, 8, 10, 2, 8, 10, 10,\n  2, 8, 10, 10, 10, 10, 10,\n  2, 4, 6, 8, 10, 10, 10,\n  1, 2, 4, 6, 8, 9, 10,\n  1, 2, 4, 6, 8, 9, 10,\n  1, 2, 4, 6, 8, 9, 10,\n  1, 2, 4, 6, 8, 9, 10,\n  1, 2, 4, 6, 8, 9, 10,\n  1, 2, 4, 6, 8, 9, 10,\n  1, 2, 4, 6, 8, 9, 10,\n  1, 2, 4, 6, 8, 9, 10,\n  1, 2, 4, 6, 8, 9, 10,\n  1, 2, 4, 6, 8, 9, 10,\n  1, 2, 4, 6, 8, 9, 10,\n  1, 2, 4, 6, 8, 9, 10,\n  1, 2, 4, 6, 8, 9, 10,\n  10, 10, 10, 10, 10, 10, 10,\n  10, 10, 10, 10, 10, 10, 10,\n  20, 20, 20, 40, 60, 60, 100,\n  20, 20, 40, 40, 60, 60, 100,\n  20, 20, 40, 40, 60, 60, 100,\n  20, 40, 40, 40, 60, 60, 100,\n  40, 40, 40, 60, 60, 100, 100,\n  40, 40, 60, 60, 100, 100, 100,\n  20, 40, 40, 60, 60, 100, 100,\n  40, 60, 100, 60, 100, 100, 40,\n  40, 40, 40, 40, 40, 40, 40,\n  40, 40, 40, 40, 100, 100, 0,\n  50, 75, 75, 75, 100, 100, 150,\n  50, 75, 75, 75, 100, 100, 150,\n  50, 75, 75, 75, 100, 100, 150,\n  10, 10, 20, 20, 30, 40, 50\n]\n\nexport const totalachievementpoints = achievementpointvalues.reduce((a, b) => a + b, 0)\n\nexport const areward = (i: number): string => {\n  // May 22, 2021: Allow achievement bonus values display directly in the description\n  // Using areward as const object did not allow ${player object}\n\n  // Effective score is 3rd index\n  const corr = CalcCorruptionStuff()\n\n  const extra: Record<number, string | Record<string, string>> = {\n    118: format(\n      Math.pow(\n        0.9925,\n        player.challengecompletions[6] + player.challengecompletions[7] + player.challengecompletions[8]\n          + player.challengecompletions[9] + player.challengecompletions[10]\n      ),\n      4\n    ),\n    169: format(Decimal.log(player.antPoints.add(10), 10), 2),\n    174: format(0.4 * Decimal.log(player.antPoints.add(1), 10), 2),\n    187: {\n      x: format(Math.max(1, Math.log10(corr[3] + 1) - 7), 2),\n      y: format(Math.min(100, player.ascensionCount / 10000), 2)\n    },\n    188: format(Math.min(100, player.ascensionCount / 50000), 2),\n    189: format(Math.min(200, player.ascensionCount / 2.5e6), 2),\n    193: format(Decimal.log(player.ascendShards.add(1), 10) / 4, 2),\n    195: format(Math.min(25000, Decimal.log(player.ascendShards.add(1), 10) / 4), 2),\n    196: format(Math.min(2000, Decimal.log(player.ascendShards.add(1), 10) / 50), 2),\n    202: format(Math.min(200, player.ascensionCount / 5e6), 2),\n    216: format(Math.min(200, player.ascensionCount / 1e7), 2),\n    223: format(Math.min(200, player.ascensionCount / 13370000), 2),\n    240: format(Math.min(1.5, 1 + Math.max(2, Math.log10(calculateTimeAcceleration().mult)) / 20), 2),\n    254: format(Math.min(15, Math.log10(corr[3] + 1) * 0.6), 2, true),\n    255: format(Math.min(15, Math.log10(corr[3] + 1) * 0.6), 2, true),\n    256: format(Math.min(15, Math.log10(corr[3] + 1) * 0.6), 2, true),\n    257: format(Math.min(15, Math.log10(corr[3] + 1) * 0.6), 2, true),\n    258: format(Math.min(15, Math.log10(corr[3] + 1) * 0.6), 2, true),\n    262: format(Math.min(10, Math.log10(player.ascensionCount + 1)), 2),\n    263: format(Math.min(10, Math.log10(player.ascensionCount + 1)), 2),\n    264: format(Math.min(40, player.ascensionCount / 2e11), 2),\n    265: format(Math.min(20, player.ascensionCount / 8e12), 2),\n    266: format(Math.min(10, player.ascensionCount / 1e14), 2),\n    267: format(Math.min(100, Decimal.log(player.ascendShards.add(1), 10) / 1000), 2),\n    270: format(Math.min(100, Decimal.log(player.ascendShards.add(1), 10) / 10000), 2),\n    271: format(Math.max(0, Math.min(1, (Decimal.log(player.ascendShards.add(1), 10) - 1e5) / 9e5)), 2, true)\n  }\n\n  // dprint-ignore\n  const descs: number[] = [\n    3, 4, 5, 6, 7, 10, 11, 12, 13, 14, 17, 18, 19,\n    20, 21, 24, 25, 26, 27, 28, 31, 32, 33, 34, 35,\n    36, 37, 38, 43, 44, 45, 46, 47, 50, 51, 52, 53,\n    57, 58, 59, 60, 61, 62, 71, 72, 73, 74, 75, 76,\n    77, 78, 79, 80, 82, 84, 85, 86, 87, 89, 91, 92,\n    93, 94, 96, 98, 99, 100, 101, 102, 103, 105, 106,\n    107, 108, 110, 112, 115, 117, 119, 122, 124, 126,\n    127, 128, 129, 131, 132, 133, 134, 135, 136, 137,\n    140, 141, 147, 171, 172, 173, 176, 177, 178, 179,\n    180, 181, 182, 197, 198, 199, 200, 201, 204, 205,\n    206, 207, 208, 209, 211, 212, 213, 214, 215, 218,\n    219, 220, 221, 222, 250, 251, 253, 259, 260, 261\n  ]\n\n  if (descs.includes(i) || i in extra) {\n    const obj = extra[i]\n    const map = typeof obj === 'object' ? obj : { x: obj }\n\n    return i18next.t(`achievements.rewards.${i}`, map)\n  }\n\n  return ''\n}\n\nexport const achievementAlerts = async (num: number) => {\n  if (player.highestSingularityCount === 0) {\n    if (num === 36 || num === 38 || num === 255) {\n      return Alert(i18next.t(`achievements.alerts.${num}`))\n    }\n  }\n}\n// ${format(Decimal.log(player.ascendShards.add(1), 10) / 1000, 2)} (log(constant)/1000)%!\n\n// TODO: clean this up\nexport const resetachievementcheck = (i: number) => {\n  if (i === 1) {\n    if (player.prestigenoaccelerator) {\n      achievementaward(60)\n    }\n    if (player.prestigenomultiplier) {\n      achievementaward(57)\n    }\n    if (player.prestigenocoinupgrades) {\n      achievementaward(64)\n    }\n    if (G.prestigePointGain.gte(1)) {\n      achievementaward(36)\n    }\n    if (G.prestigePointGain.gte(1e6)) {\n      achievementaward(37)\n    }\n    if (G.prestigePointGain.gte(1e100)) {\n      achievementaward(38)\n    }\n    if (G.prestigePointGain.gte('1e1000')) {\n      achievementaward(39)\n    }\n    if (G.prestigePointGain.gte('1e10000')) {\n      achievementaward(40)\n    }\n    if (G.prestigePointGain.gte('1e77777')) {\n      achievementaward(41)\n    }\n    if (G.prestigePointGain.gte('1e250000')) {\n      achievementaward(42)\n    }\n  }\n  if (i === 2) {\n    if (player.transcendnoaccelerator) {\n      achievementaward(61)\n    }\n    if (player.transcendnomultiplier) {\n      achievementaward(58)\n    }\n    if (player.transcendnocoinupgrades) {\n      achievementaward(65)\n    }\n    if (player.transcendnocoinorprestigeupgrades) {\n      achievementaward(66)\n    }\n    if (G.transcendPointGain.gte(1)) {\n      achievementaward(43)\n    }\n    if (G.transcendPointGain.gte(1e6)) {\n      achievementaward(44)\n    }\n    if (G.transcendPointGain.gte(1e50)) {\n      achievementaward(45)\n    }\n    if (G.transcendPointGain.gte(1e308)) {\n      achievementaward(46)\n    }\n    if (G.transcendPointGain.gte('1e1500')) {\n      achievementaward(47)\n    }\n    if (G.transcendPointGain.gte('1e25000')) {\n      achievementaward(48)\n    }\n    if (G.transcendPointGain.gte('1e100000')) {\n      achievementaward(49)\n    }\n  }\n  if (i === 3) {\n    if (player.reincarnatenoaccelerator) {\n      achievementaward(62)\n    }\n    if (player.reincarnatenomultiplier) {\n      achievementaward(59)\n    }\n    if (player.reincarnatenocoinupgrades) {\n      achievementaward(67)\n    }\n    if (player.reincarnatenocoinorprestigeupgrades) {\n      achievementaward(68)\n    }\n    if (player.reincarnatenocoinprestigeortranscendupgrades) {\n      achievementaward(69)\n    }\n    if (player.reincarnatenocoinprestigetranscendorgeneratorupgrades) {\n      achievementaward(70)\n    }\n    if (G.reincarnationPointGain.gte(1)) {\n      achievementaward(50)\n    }\n    if (G.reincarnationPointGain.gte(1e5)) {\n      achievementaward(51)\n    }\n    if (G.reincarnationPointGain.gte(1e30)) {\n      achievementaward(52)\n    }\n    if (G.reincarnationPointGain.gte(1e200)) {\n      achievementaward(53)\n    }\n    if (G.reincarnationPointGain.gte('1e1500')) {\n      achievementaward(54)\n    }\n    if (G.reincarnationPointGain.gte('1e5000')) {\n      achievementaward(55)\n    }\n    if (G.reincarnationPointGain.gte('1e7777')) {\n      achievementaward(56)\n    }\n  }\n}\n\n/**\n * Array of [index, bar to get achievement if greater than, achievement number]\n */\n// dprint-ignore\nconst challengeCompletionsBar: [number, number, number][] = [\n  [1, 0.5, 78], [1, 2.5, 79], [1, 4.5, 80], [1, 9.5, 81], [1, 19.5, 82], [1, 49.5, 83], [1, 74.5, 84],\n  [2, 0.5, 85], [2, 2.5, 86], [2, 4.5, 87], [2, 9.5, 88], [2, 19.5, 89], [2, 49.5, 90], [2, 74.5, 91],\n  [3, 0.5, 92], [3, 2.5, 93], [3, 4.5, 94], [3, 9.5, 95], [3, 19.5, 96], [3, 49.5, 97], [3, 74.5, 98],\n  [4, 0.5, 99], [4, 2.5, 100], [4, 4.5, 101], [4, 9.5, 102], [4, 19.5, 103], [4, 49.5, 104], [4, 74.5, 105],\n  [5, 0.5, 106], [5, 2.5, 107], [5, 4.5, 108], [5, 9.5, 109], [5, 19.5, 110], [5, 49.5, 111], [5, 74.5, 112],\n  [6, 0.5, 113], [6, 1.5, 114], [6, 2.5, 115], [6, 4.5, 116], [6, 9.5, 117], [6, 14.5, 118], [6, 24.5, 119],\n  [7, 0.5, 120], [7, 1.5, 121], [7, 2.5, 122], [7, 4.5, 123], [7, 9.5, 124], [7, 14.5, 125], [7, 24.5, 126],\n  [8, 0.5, 127], [8, 1.5, 128], [8, 2.5, 129], [8, 4.5, 130], [8, 9.5, 131], [8, 19.5, 132], [8, 24.5, 133],\n  [9, 0.5, 134], [9, 1.5, 135], [9, 2.5, 136], [9, 4.5, 137], [9, 9.5, 138], [9, 19.5, 139], [9, 24.5, 140],\n  [10, 0.5, 141], [10, 1.5, 142], [10, 2.5, 143], [10, 4.5, 144], [10, 9.5, 145], [10, 19.5, 146], [10, 24.5, 147],\n  [15, 0.5, 252]\n]\n\nconst challengeCompletionsNotAuto: Record<number, [string, number]> = {\n  1: ['1e1000', 75],\n  2: ['1e1000', 76],\n  3: ['1e99999', 77],\n  5: ['1e120000', 63]\n}\n\nexport const challengeachievementcheck = (i: number, auto?: boolean) => {\n  const generatorcheck = sumContents(player.upgrades.slice(101, 106))\n\n  for (const [, bar, ach] of challengeCompletionsBar.filter(([o]) => o === i)) {\n    if (player.challengecompletions[i] > bar && player.achievements[ach] < 1) {\n      achievementaward(ach)\n    }\n  }\n\n  // Challenges 1, 2, 3 check for not buying generators and getting X coins\n  // Challenge 5 check for not buying Acc/Acc Boosts and getting 1.00e120,000 coins\n  if ([1, 2, 3, 5].includes(i) && !auto) {\n    const [gte, ach] = challengeCompletionsNotAuto[i]\n    if (i === 5) {\n      if (\n        player.coinsThisTranscension.gte(gte) && player.acceleratorBought === 0 && player.acceleratorBoostBought === 0\n      ) {\n        achievementaward(ach)\n      }\n    } else if (player.coinsThisTranscension.gte(gte) && generatorcheck === 0) {\n      achievementaward(ach)\n    }\n  }\n\n  if (i >= 11 && i <= 14) {\n    const challengeArray = [0, 1, 2, 3, 5, 10, 20, 30]\n    for (let j = 1; j <= 7; j++) {\n      if (player.challengecompletions[i] >= challengeArray[j] && player.achievements[119 + 7 * i + j] < 1) {\n        achievementaward(119 + 7 * i + j)\n      }\n    }\n  }\n\n  if (\n    player.challengecompletions[10] >= 50 && i === 11 && player.usedCorruptions[7] >= 5 && player.achievements[247] < 1\n  ) {\n    achievementaward(247)\n  }\n}\n\n// \\) \\{\\n\\s+achievementaward\\(\\d+\\)\\n\\s+\\}\n\n/**\n * Requirements for each building achievement\n * @type {(() => boolean)[]}\n */\nconst buildAchievementReq: (() => boolean)[] = [\n  () => (player.firstOwnedCoin >= 1 && player.achievements[1] < 0.5),\n  () => (player.firstOwnedCoin >= 10 && player.achievements[2] < 0.5),\n  () => (player.firstOwnedCoin >= 100 && player.achievements[3] < 0.5),\n  () => (player.firstOwnedCoin >= 1000 && player.achievements[4] < 0.5),\n  () => (player.firstOwnedCoin >= 5000 && player.achievements[5] < 0.5),\n  () => (player.firstOwnedCoin >= 10000 && player.achievements[6] < 0.5),\n  () => (player.firstOwnedCoin >= 20000 && player.achievements[7] < 0.5),\n  () => (player.secondOwnedCoin >= 1 && player.achievements[8] < 0.5),\n  () => (player.secondOwnedCoin >= 10 && player.achievements[9] < 0.5),\n  () => (player.secondOwnedCoin >= 100 && player.achievements[10] < 0.5),\n  () => (player.secondOwnedCoin >= 1000 && player.achievements[11] < 0.5),\n  () => (player.secondOwnedCoin >= 5000 && player.achievements[12] < 0.5),\n  () => (player.secondOwnedCoin >= 10000 && player.achievements[13] < 0.5),\n  () => (player.secondOwnedCoin >= 20000 && player.achievements[14] < 0.5),\n  () => (player.thirdOwnedCoin >= 1 && player.achievements[15] < 0.5),\n  () => (player.thirdOwnedCoin >= 10 && player.achievements[16] < 0.5),\n  () => (player.thirdOwnedCoin >= 100 && player.achievements[17] < 0.5),\n  () => (player.thirdOwnedCoin >= 1000 && player.achievements[18] < 0.5),\n  () => (player.thirdOwnedCoin >= 5000 && player.achievements[19] < 0.5),\n  () => (player.thirdOwnedCoin >= 10000 && player.achievements[20] < 0.5),\n  () => (player.thirdOwnedCoin >= 20000 && player.achievements[21] < 0.5),\n  () => (player.fourthOwnedCoin >= 1 && player.achievements[22] < 0.5),\n  () => (player.fourthOwnedCoin >= 10 && player.achievements[23] < 0.5),\n  () => (player.fourthOwnedCoin >= 100 && player.achievements[24] < 0.5),\n  () => (player.fourthOwnedCoin >= 1000 && player.achievements[25] < 0.5),\n  () => (player.fourthOwnedCoin >= 5000 && player.achievements[26] < 0.5),\n  () => (player.fourthOwnedCoin >= 10000 && player.achievements[27] < 0.5),\n  () => (player.fourthOwnedCoin >= 20000 && player.achievements[28] < 0.5),\n  () => (player.fifthOwnedCoin >= 1 && player.achievements[29] < 0.5),\n  () => (player.fifthOwnedCoin >= 10 && player.achievements[30] < 0.5),\n  () => (player.fifthOwnedCoin >= 66 && player.achievements[31] < 0.5),\n  () => (player.fifthOwnedCoin >= 666 && player.achievements[32] < 0.5),\n  () => (player.fifthOwnedCoin >= 6666 && player.achievements[33] < 0.5),\n  () => (player.fifthOwnedCoin >= 17777 && player.achievements[34] < 0.5),\n  () => (player.fifthOwnedCoin >= 42777 && player.achievements[35] < 0.5)\n]\n\nexport const buildingAchievementCheck = () => {\n  for (const req of buildAchievementReq) {\n    if (req()) {\n      const idx = buildAchievementReq.indexOf(req) + 1\n      achievementaward(idx)\n    }\n  }\n}\n\nexport const ascensionAchievementCheck = (i: number, score = 0) => {\n  if (i === 1) {\n    // dprint-ignore\n    const ascendCountArray = [\n      0, 1, 2, 10, 100, 1000, 14142, 141421, 1414213, // Column 1\n      1e7, 1e8, 2e9, 4e10, 8e11, 1.6e13, 1e14 // Column 2\n    ]\n\n    for (let j = 1; j <= 7; j++) {\n      if (player.ascensionCount >= ascendCountArray[j] && player.achievements[182 + j] < 1) {\n        achievementaward(182 + j)\n      }\n      if (player.ascensionCount >= ascendCountArray[j + 8] && player.achievements[259 + j] < 1) {\n        achievementaward(259 + j)\n      }\n    }\n    if (player.ascensionCount >= ascendCountArray[8] && player.achievements[240] < 1) {\n      achievementaward(240)\n    }\n  }\n  if (i === 2) {\n    // dprint-ignore\n    const constantArray = [\n      0, 3.14, 1e6, 4.32e10, 6.9e21, 1.509e33, 1e66, '1.8e308', // Column 1\n      '1e1000', '1e5000', '1e15000', '1e50000', '1e100000', '1e300000', '1e1000000' // Column 2\n    ]\n\n    for (let j = 1; j <= 7; j++) {\n      if (player.ascendShards.gte(constantArray[j]) && player.achievements[189 + j] < 1) {\n        achievementaward(189 + j)\n      }\n      if (player.ascendShards.gte(constantArray[j + 7]) && player.achievements[266 + j] < 1) {\n        achievementaward(266 + j)\n      }\n    }\n  }\n  if (i === 3) {\n    // dprint-ignore\n    const scoreArray = [\n      0, 1e5, 1e6, 1e7, 1e8, 1e9, 5e9, 2.5e10, // Column 1\n      1e12, 1e14, 1e17, 2e18, 4e19, 1e21, 1e23 // Column 2\n    ]\n    for (let j = 1; j <= 7; j++) {\n      if (score >= scoreArray[j] && player.achievements[224 + j] < 1) {\n        achievementaward(224 + j)\n      }\n\n      if (score >= scoreArray[7 + j] && player.achievements[252 + j] < 1) {\n        achievementaward(252 + j)\n      }\n    }\n  }\n}\n\nexport const getAchievementQuarks = (i: number) => {\n  let multiplier = 1\n  if (i >= 183) {\n    multiplier = 5\n  }\n  if (i >= 253) {\n    multiplier = 40\n  }\n\n  const globalQuarkMultiplier = player.worlds.applyBonus(1)\n  let actualMultiplier = multiplier * globalQuarkMultiplier\n  if (actualMultiplier > 100) {\n    actualMultiplier = Math.pow(100, 0.6) * Math.pow(actualMultiplier, 0.4)\n  }\n\n  return Math.floor(achievementpointvalues[i] * actualMultiplier)\n}\n\nexport const achievementdescriptions = (i: number) => {\n  const y = i18next.t(`achievements.descriptions.${i}`, { number: `${i}` })\n  const z = player.achievements[i] > 0.5 ? i18next.t('achievements.completed') : ''\n  const k = areward(i)\n\n  DOMCacheGetOrSet('achievementdescription').textContent = y + z\n  DOMCacheGetOrSet('achievementreward').textContent = i18next.t('achievements.rewardGainMessage', {\n    x: achievementpointvalues[i],\n    y: format(getAchievementQuarks(i), 0, true),\n    z: k\n  })\n\n  if (player.achievements[i] > 0.5) {\n    DOMCacheGetOrSet('achievementdescription').style.color = 'gold'\n  } else {\n    DOMCacheGetOrSet('achievementdescription').style.color = 'white'\n  }\n}\n\nexport const achievementaward = (num: number) => {\n  if (player.achievements[num] < 1) {\n    if (player.toggles[34]) {\n      const description = i18next.t(`achievements.descriptions.${num}`, { number: `${num}` })\n      void Notification(i18next.t('achievements.notification', { m: description }))\n    }\n\n    void achievementAlerts(num)\n    player.achievementPoints += achievementpointvalues[num]\n    player.worlds.add(getAchievementQuarks(num), false)\n\n    DOMCacheGetOrSet('achievementprogress').textContent = i18next.t('achievements.totalPoints', {\n      x: format(player.achievementPoints),\n      y: format(totalachievementpoints),\n      z: (100 * player.achievementPoints / totalachievementpoints).toPrecision(4)\n    })\n\n    player.achievements[num] = 1\n    revealStuff()\n  }\n\n  DOMCacheGetOrSet(`ach${num}`).style.backgroundColor = 'Green'\n  Synergism.emit('achievement', num)\n}\n", "import {\n  calculateAdditiveLuckMult,\n  calculateAmbrosiaGenerationOcteractUpgrade,\n  calculateAmbrosiaGenerationSingularityUpgrade,\n  calculateAmbrosiaGenerationSpeed,\n  calculateAmbrosiaLuck,\n  calculateAmbrosiaLuckOcteractUpgrade,\n  calculateAmbrosiaLuckSingularityUpgrade,\n  calculateBlueberryInventory,\n  calculateCashGrabBlueberryBonus,\n  calculateDilatedFiveLeafBonus,\n  calculateEventBuff,\n  calculateSingularityMilestoneBlueberries\n} from './Calculate'\nimport {\n  calculateAmbrosiaGenerationShopUpgrade,\n  calculateAmbrosiaLuckShopUpgrade,\n  calculateSingularityAmbrosiaLuckMilestoneBonus\n} from './Calculate'\nimport { BuffType } from './Event'\nimport { player } from './Synergism'\nimport { productContents } from './Utility'\nimport { Globals } from './Variables'\n\ninterface StatCache<T> {\n  totalVal: number\n\n  /**\n   * Updates the cache value for a statistic\n   * @param key: Statistic which we must update for value\n   */\n  updateVal(key: T, init: boolean): void\n\n  /**\n   * Initializes the cache by establishing statistics for each value as well as\n   * updating the total statistic.\n   */\n  initialize(): void\n}\n\nabstract class AdditionCache<T extends string> implements StatCache<T> {\n  public totalVal = 0\n  abstract vals: Record<T, number>\n\n  /**\n   * Updates a particular statistic 'key' and updates total accordingly\n   * @param key The statistic to update\n   */\n  abstract updateVal (key: T, init: boolean): void\n\n  /**\n   * Initialize all statistics of interest and compute a total value as sum of all statistics\n   */\n  initialize (): void {\n    this.totalVal = 0\n    for (const val of Object.keys(this.vals) as T[]) {\n      this.updateVal(val, true)\n    }\n  }\n\n  /**\n   * Updates the value of total after updating individual statistic value, with key\n   * @param oldVal: Value present in values[key] before update\n   * @param newVal: Value present in values[key] after update\n   */\n  updateTotal (oldVal: number, newVal: number, init = false): void {\n    if (init) {\n      this.totalVal += newVal\n    } else {\n      this.totalVal += newVal - oldVal\n    }\n  }\n\n  /**\n   * Flattens the value object into an array, for use in statistics.\n   * @returns Array consisting of all additive values as well as sum of elements\n   */\n  flatten (): number[] {\n    const arr: number[] = Object.values(this.vals)\n    arr.push(this.totalVal)\n    return arr\n  }\n}\n\nabstract class MultiplicationCache<T extends string> implements StatCache<T> {\n  public totalVal = 1\n  abstract vals: Record<T, number>\n\n  /**\n   * Updates a particular statistic 'key' and updates total accordingly\n   * @param key The statistic to update\n   */\n  abstract updateVal (key: T, init: boolean): void\n  /**\n   * Initialize all statistics of interest and compute a total value as product of all statistics\n   */\n  initialize (): void {\n    this.totalVal = 1\n    for (const val of Object.keys(this.vals) as T[]) {\n      this.updateVal(val, true)\n    }\n  }\n\n  updateTotal (oldVal: number, newVal: number, init = false): void {\n    if (init) {\n      this.totalVal *= newVal\n    } else {\n      // Optimization: if neither old total or new val is 0 then we can safely just compute factor\n      if (this.totalVal !== 0 && newVal !== 0) this.totalVal *= newVal / oldVal\n      // Optimization: if newVal is 0 we don't have to care about computing\n      else if (newVal === 0) this.totalVal = 0\n      // Else: Brute force compute total val (TODO: Optimize)\n      else {\n        const arr = this.flatten()\n        // remove last elm\n        arr.pop()\n        this.totalVal = productContents(arr)\n      }\n    }\n  }\n\n  /**\n   * Flattens the value object into an array, for use in statistics.\n   * @returns Array consisting of all additive values as well as sum of elements\n   */\n  flatten (): number[] {\n    const arr: number[] = Object.values(this.vals)\n    arr.push(this.totalVal)\n    return arr\n  }\n}\n\n/**\n * Define Types Below. For each one, the union is all statistics of a particular stat.\n */\n\ntype AmbrosialLuck =\n  | 'Base'\n  | 'SingPerks'\n  | 'OcteractBerries'\n  | 'ShopUpgrades'\n  | 'BlueberryUpgrade1'\n  | 'BlueberryCubeLuck1'\n  | 'BlueberryQuarkLuck1'\n  | 'SingularityBerries'\n  | 'BlueberryUpgrade2'\n  | 'ShopOcteractAmbrosiaLuck'\n  | 'TwoHundredSixtyNine'\n  | 'OneHundredThirtyOne'\n  | 'Exalt5'\n\ntype AmbrosiaGeneration =\n  | 'DefaultVal'\n  | 'Blueberries'\n  | 'SingularityBerries'\n  | 'ShopUpgrades'\n  | 'Event'\n  | 'OcteractBerries'\n  | 'BlueberryPatreon'\n  | 'Exalt2'\n  | 'CashGrabUltra'\n  | 'Exalt5'\n\ntype BlueberryInventory = 'Exalt1' | 'SingularityUpgrade' | 'SingularityPerk' | 'Exalt5'\n\ntype AmbrosiaLuckAdditiveMult =\n  | 'Base'\n  | 'Exalt1'\n  | 'SingularityPerk'\n  | 'ShopUpgrades'\n  | 'Exalt5'\n  | 'Event'\n\nexport class AmbrosiaLuckAdditiveMultCache extends AdditionCache<AmbrosiaLuckAdditiveMult> {\n  vals!: Record<AmbrosiaLuckAdditiveMult, number>\n  totalVal!: number\n\n  constructor () {\n    super()\n    this.reset()\n  }\n\n  reset () {\n    this.vals = {\n      Base: 1,\n      Exalt1: 0,\n      SingularityPerk: 0,\n      ShopUpgrades: 0,\n      Exalt5: 0,\n      Event: 0\n    }\n    this.totalVal = 1\n  }\n\n  updateVal (key: AmbrosiaLuckAdditiveMult, init = false): void {\n    const oldVal = this.vals[key]\n    switch (key) {\n      case 'Base': {\n        this.vals[key] = 1\n        break\n      }\n      case 'Exalt1': {\n        this.vals[key] = +player.singularityChallenges.noSingularityUpgrades.rewards.luckBonus\n        break\n      }\n      case 'SingularityPerk': {\n        this.vals[key] = calculateDilatedFiveLeafBonus()\n        break\n      }\n      case 'ShopUpgrades': {\n        this.vals[key] = player.shopUpgrades.shopAmbrosiaLuckMultiplier4 / 100\n        break\n      }\n      case 'Exalt5': {\n        this.vals[key] = +player.singularityChallenges.noAmbrosiaUpgrades.rewards.luckBonus\n        break\n      }\n      case 'Event': {\n        this.vals[key] = Globals.isEvent\n          ? calculateEventBuff(BuffType.AmbrosiaLuck)\n          : 0\n        break\n      }\n    }\n    const newVal = this.vals[key]\n    this.updateTotal(oldVal, newVal, init)\n    player.caches.ambrosiaLuck.updateVal('Base') // Dependant cache, though maybe need a better system than calling Base\n  }\n}\n\nexport class AmbrosiaLuckCache extends AdditionCache<AmbrosialLuck> {\n  vals!: Record<AmbrosialLuck, number>\n  totalVal!: number\n  usedTotal!: number\n\n  constructor () {\n    super()\n    this.reset()\n  }\n\n  reset () {\n    this.vals = {\n      Base: 100,\n      SingPerks: 0,\n      ShopUpgrades: 0,\n      SingularityBerries: 0,\n      OcteractBerries: 0,\n      BlueberryUpgrade1: 0,\n      BlueberryUpgrade2: 0,\n      BlueberryCubeLuck1: 0,\n      BlueberryQuarkLuck1: 0,\n      OneHundredThirtyOne: 0,\n      TwoHundredSixtyNine: 0,\n      ShopOcteractAmbrosiaLuck: 0,\n      Exalt5: 0\n    }\n    this.totalVal = 0\n    this.usedTotal = 0\n  }\n\n  updateVal (key: AmbrosialLuck, init = false): void {\n    const oldVal = this.vals[key]\n    switch (key) {\n      case 'Base': {\n        this.vals[key] = 100\n        break\n      }\n      case 'SingPerks': {\n        this.vals[key] = calculateSingularityAmbrosiaLuckMilestoneBonus()\n        break\n      }\n      case 'ShopUpgrades': {\n        this.vals[key] = calculateAmbrosiaLuckShopUpgrade()\n        break\n      }\n      case 'SingularityBerries': {\n        this.vals[key] = calculateAmbrosiaLuckSingularityUpgrade()\n        break\n      }\n      case 'OcteractBerries': {\n        this.vals[key] = calculateAmbrosiaLuckOcteractUpgrade()\n        break\n      }\n      case 'BlueberryUpgrade1': {\n        this.vals[key] = +player.blueberryUpgrades.ambrosiaLuck1.bonus.ambrosiaLuck\n        break\n      }\n      case 'BlueberryUpgrade2': {\n        this.vals[key] = +player.blueberryUpgrades.ambrosiaLuck2.bonus.ambrosiaLuck\n        break\n      }\n      case 'BlueberryCubeLuck1': {\n        this.vals[key] = +player.blueberryUpgrades.ambrosiaCubeLuck1.bonus.ambrosiaLuck\n        break\n      }\n      case 'BlueberryQuarkLuck1': {\n        this.vals[key] = +player.blueberryUpgrades.ambrosiaQuarkLuck1.bonus.ambrosiaLuck\n        break\n      }\n      case 'OneHundredThirtyOne': {\n        this.vals[key] = player.highestSingularityCount >= 131 ? 131 : 0\n        break\n      }\n      case 'TwoHundredSixtyNine': {\n        this.vals[key] = player.highestSingularityCount >= 269 ? 269 : 0\n        break\n      }\n      case 'ShopOcteractAmbrosiaLuck': {\n        this.vals[key] = player.shopUpgrades.shopOcteractAmbrosiaLuck\n          * (1 + Math.floor(Math.log10(player.totalWowOcteracts + 1)))\n        break\n      }\n      case 'Exalt5': {\n        this.vals[key] = +player.singularityChallenges.noAmbrosiaUpgrades.rewards.additiveLuck\n        break\n      }\n    }\n    const newVal = this.vals[key]\n    this.updateTotal(oldVal, newVal, init)\n    this.usedTotal = Math.floor(\n      this.totalVal * player.caches.ambrosiaLuckAdditiveMult.totalVal\n    )\n  }\n}\n\nexport class AmbrosiaGenerationCache extends MultiplicationCache<AmbrosiaGeneration> {\n  vals!: Record<AmbrosiaGeneration, number>\n  totalVal!: number\n\n  constructor () {\n    super()\n    this.reset()\n  }\n\n  reset () {\n    this.vals = {\n      DefaultVal: 1,\n      Blueberries: 1,\n      ShopUpgrades: 1,\n      SingularityBerries: 1,\n      OcteractBerries: 1,\n      BlueberryPatreon: 1,\n      Exalt2: 1,\n      Exalt5: 1,\n      CashGrabUltra: 1,\n      Event: 1\n    }\n    this.totalVal = 0\n  }\n\n  updateVal (key: AmbrosiaGeneration, init = false): void {\n    const oldVal = this.vals[key]\n    switch (key) {\n      case 'DefaultVal': {\n        this.vals[key] = 1 * +player.visitedAmbrosiaSubtab\n        break\n      }\n      case 'Blueberries': {\n        this.vals[key] = player.caches.blueberryInventory.totalVal\n        break\n      }\n      case 'ShopUpgrades': {\n        this.vals[key] = calculateAmbrosiaGenerationShopUpgrade()\n        break\n      }\n      case 'SingularityBerries': {\n        this.vals[key] = calculateAmbrosiaGenerationSingularityUpgrade()\n        break\n      }\n      case 'OcteractBerries': {\n        this.vals[key] = calculateAmbrosiaGenerationOcteractUpgrade()\n        break\n      }\n      case 'BlueberryPatreon': {\n        this.vals[key] = +player.blueberryUpgrades.ambrosiaPatreon.bonus.blueberryGeneration\n        break\n      }\n      case 'Exalt2': {\n        this.vals[key] = +player.singularityChallenges.oneChallengeCap.rewards.blueberrySpeedMult\n        break\n      }\n      case 'Exalt5': {\n        this.vals[key] = +player.singularityChallenges.noAmbrosiaUpgrades.rewards.blueberrySpeedMult\n        break\n      }\n      case 'Event': {\n        this.vals[key] = Globals.isEvent\n          ? 1 + calculateEventBuff(BuffType.BlueberryTime)\n          : 1\n        break\n      }\n      case 'CashGrabUltra': {\n        this.vals[key] = calculateCashGrabBlueberryBonus()\n        break\n      }\n    }\n    const newVal = this.vals[key]\n    this.updateTotal(oldVal, newVal, init)\n  }\n}\n\nexport class BlueberryInventoryCache extends AdditionCache<BlueberryInventory> {\n  vals!: Record<BlueberryInventory, number>\n  totalVal!: number\n\n  constructor () {\n    super()\n    this.reset()\n  }\n\n  reset () {\n    this.vals = {\n      Exalt1: 0,\n      SingularityUpgrade: 0,\n      SingularityPerk: 0,\n      Exalt5: 0\n    }\n    this.totalVal = 0\n  }\n\n  updateVal (key: BlueberryInventory, init = false): void {\n    const oldVal = this.vals[key]\n    switch (key) {\n      case 'Exalt1': {\n        this.vals[key] = +(\n          player.singularityChallenges.noSingularityUpgrades.completions > 0\n        )\n        break\n      }\n      case 'SingularityUpgrade': {\n        this.vals[key] = +player.singularityUpgrades.blueberries.getEffect().bonus\n        break\n      }\n      case 'SingularityPerk': {\n        this.vals[key] = calculateSingularityMilestoneBlueberries()\n        break\n      }\n      case 'Exalt5': {\n        this.vals[key] = +player.singularityChallenges.noAmbrosiaUpgrades.rewards.blueberries\n      }\n    }\n    const newVal = this.vals[key]\n    this.updateTotal(oldVal, newVal, init)\n    player.caches.ambrosiaGeneration.updateVal('Blueberries') // Dependant cache\n  }\n}\n\nexport const cacheReinitialize = () => {\n  // TODO: REMOVE THIS FUCKING SHIT ASS CODE\n  // WHY THE FUCK ARE WE CACHING MATH OPERATIONS???\n  /*player.caches.ambrosiaLuckAdditiveMult.initialize()\n  player.caches.blueberryInventory.initialize()\n  player.caches.ambrosiaGeneration.initialize()\n  player.caches.ambrosiaLuck.initialize() */\n\n  // As of 6/13/2024, caches are no longer used. Instead calculations are done directly and the end value is stored in a Global variable\n  // which is not stored in the save.\n\n  Globals.ambrosiaCurrStats = {\n    ambrosiaAdditiveLuckMult: calculateAdditiveLuckMult().value,\n    ambrosiaLuck: calculateAmbrosiaLuck().value,\n    ambrosiaBlueberries: calculateBlueberryInventory().value,\n    ambrosiaGenerationSpeed: calculateAmbrosiaGenerationSpeed().value\n  }\n}\n", "import Decimal from 'break_infinity.js'\nimport i18next from 'i18next'\nimport { achievementaward } from './Achievements'\nimport { DOMCacheGetOrSet } from './Cache/DOM'\nimport { CalcECC } from './Challenges'\nimport { BuffType, calculateEventSourceBuff } from './Event'\nimport { addTimers, automaticTools } from './Helper'\nimport { hepteractEffective } from './Hepteracts'\nimport { disableHotkeys, enableHotkeys } from './Hotkeys'\nimport { getQuarkBonus, quarkHandler } from './Quark'\nimport { reset } from './Reset'\nimport { calculateSingularityDebuff } from './singularity'\nimport { getFastForwardTotalMultiplier } from './singularity'\nimport { cacheReinitialize } from './StatCache'\nimport { format, getTimePinnedToLoadDate, player, resourceGain, saveSynergy, updateAll } from './Synergism'\nimport { toggleTalismanBuy, updateTalismanInventory } from './Talismans'\nimport { clearInterval, setInterval } from './Timers'\nimport type { resetNames } from './types/Synergism'\nimport { Alert, Prompt } from './UpdateHTML'\nimport { productContents, sumContents } from './Utility'\nimport { Globals as G } from './Variables'\n\nconst CASH_GRAB_ULTRA_QUARK = 0.08\nconst CASH_GRAB_ULTRA_CUBE = 1.2\nconst CASH_GRAB_ULTRA_BLUEBERRY = 0.15\n\nconst EX_ULTRA_OFFERING = 0.125\nconst EX_ULTRA_OBTAINIUM = 0.125\nconst EX_ULTRA_CUBES = 0.125\n\nexport const calculateTotalCoinOwned = () => {\n  G.totalCoinOwned = player.firstOwnedCoin\n    + player.secondOwnedCoin\n    + player.thirdOwnedCoin\n    + player.fourthOwnedCoin\n    + player.fifthOwnedCoin\n}\n\nexport const calculateTotalAcceleratorBoost = () => {\n  let b = 0\n  if (player.upgrades[26] > 0.5) {\n    b += 1\n  }\n  if (player.upgrades[31] > 0.5) {\n    b += (Math.floor(G.totalCoinOwned / 2000) * 100) / 100\n  }\n  if (player.achievements[7] > 0.5) {\n    b += Math.floor(player.firstOwnedCoin / 2000)\n  }\n  if (player.achievements[14] > 0.5) {\n    b += Math.floor(player.secondOwnedCoin / 2000)\n  }\n  if (player.achievements[21] > 0.5) {\n    b += Math.floor(player.thirdOwnedCoin / 2000)\n  }\n  if (player.achievements[28] > 0.5) {\n    b += Math.floor(player.fourthOwnedCoin / 2000)\n  }\n  if (player.achievements[35] > 0.5) {\n    b += Math.floor(player.fifthOwnedCoin / 2000)\n  }\n\n  b += player.researches[93]\n    * Math.floor(\n      (1 / 20)\n        * (G.rune1level\n          + G.rune2level\n          + G.rune3level\n          + G.rune4level\n          + G.rune5level)\n    )\n  b += Math.floor(((0.01 + G.rune1level) * G.effectiveLevelMult) / 20)\n  b *= 1\n    + (1 / 5)\n      * player.researches[3]\n      * (1 + (1 / 2) * CalcECC('ascension', player.challengecompletions[14]))\n  b *= 1 + (1 / 20) * player.researches[16] + (1 / 20) * player.researches[17]\n  b *= 1 + (1 / 20) * player.researches[88]\n  b *= calculateSigmoidExponential(\n    20,\n    (((player.antUpgrades[4 - 1]! + G.bonusant4) / 1000) * 20) / 19\n  )\n  b *= 1 + (1 / 100) * player.researches[127]\n  b *= 1 + (0.8 / 100) * player.researches[142]\n  b *= 1 + (0.6 / 100) * player.researches[157]\n  b *= 1 + (0.4 / 100) * player.researches[172]\n  b *= 1 + (0.2 / 100) * player.researches[187]\n  b *= 1 + (0.01 / 100) * player.researches[200]\n  b *= 1 + (0.01 / 100) * player.cubeUpgrades[50]\n  b *= 1 + (1 / 1000) * hepteractEffective('acceleratorBoost')\n  if (\n    player.upgrades[73] > 0.5\n    && player.currentChallenge.reincarnation !== 0\n  ) {\n    b *= 2\n  }\n  b = Math.min(1e100, Math.floor(b))\n  G.freeAcceleratorBoost = b\n\n  G.totalAcceleratorBoost = (Math.floor(player.acceleratorBoostBought + G.freeAcceleratorBoost) * 100)\n    / 100\n}\n\nexport const calculateAcceleratorMultiplier = () => {\n  G.acceleratorMultiplier = 1\n  G.acceleratorMultiplier *= 1 + player.achievements[60] / 100\n  G.acceleratorMultiplier *= 1 + player.achievements[61] / 100\n  G.acceleratorMultiplier *= 1 + player.achievements[62] / 100\n  G.acceleratorMultiplier *= 1\n    + (1 / 5)\n      * player.researches[1]\n      * (1 + (1 / 2) * CalcECC('ascension', player.challengecompletions[14]))\n  G.acceleratorMultiplier *= 1\n    + (1 / 20) * player.researches[6]\n    + (1 / 25) * player.researches[7]\n    + (1 / 40) * player.researches[8]\n    + (3 / 200) * player.researches[9]\n    + (1 / 200) * player.researches[10]\n  G.acceleratorMultiplier *= 1 + (1 / 20) * player.researches[86]\n  G.acceleratorMultiplier *= 1 + (1 / 100) * player.researches[126]\n  G.acceleratorMultiplier *= 1 + (0.8 / 100) * player.researches[141]\n  G.acceleratorMultiplier *= 1 + (0.6 / 100) * player.researches[156]\n  G.acceleratorMultiplier *= 1 + (0.4 / 100) * player.researches[171]\n  G.acceleratorMultiplier *= 1 + (0.2 / 100) * player.researches[186]\n  G.acceleratorMultiplier *= 1 + (0.01 / 100) * player.researches[200]\n  G.acceleratorMultiplier *= 1 + (0.01 / 100) * player.cubeUpgrades[50]\n  G.acceleratorMultiplier *= Math.pow(\n    1.01,\n    player.upgrades[21]\n      + player.upgrades[22]\n      + player.upgrades[23]\n      + player.upgrades[24]\n      + player.upgrades[25]\n  )\n  if (\n    (player.currentChallenge.transcension !== 0\n      || player.currentChallenge.reincarnation !== 0)\n    && player.upgrades[50] > 0.5\n  ) {\n    G.acceleratorMultiplier *= 1.25\n  }\n}\n\nexport const calculateRecycleMultiplier = () => {\n  // Factors where recycle bonus comes from\n  const recycleFactors = sumContents([\n    0.05 * player.achievements[80],\n    0.05 * player.achievements[87],\n    0.05 * player.achievements[94],\n    0.05 * player.achievements[101],\n    0.05 * player.achievements[108],\n    0.05 * player.achievements[115],\n    0.075 * player.achievements[122],\n    0.075 * player.achievements[129],\n    0.05 * player.upgrades[61],\n    0.25 * Math.min(1, G.rune4level / 400),\n    0.005 * player.cubeUpgrades[2]\n  ])\n\n  return 1 / (1 - recycleFactors)\n}\n\nexport function calculateRuneExpGiven (\n  runeIndex: number,\n  all: boolean,\n  runeLevel: number,\n  returnFactors: true\n): number[]\nexport function calculateRuneExpGiven (\n  runeIndex: number,\n  all: boolean,\n  runeLevel?: number,\n  returnFactors?: false\n): number\nexport function calculateRuneExpGiven (\n  runeIndex: number,\n  all = false,\n  runeLevel = player.runelevels[runeIndex],\n  returnFactors = false\n) {\n  // recycleMult accounted for all recycle chance, but inversed so it's a multiplier instead\n  const recycleMultiplier = calculateRecycleMultiplier()\n\n  // Rune multiplier that is summed instead of added\n  let allRuneExpAdditiveMultiplier: number | null = null\n  if (all) {\n    allRuneExpAdditiveMultiplier = sumContents([\n      // Challenge 3 completions\n      (1 / 100) * player.highestchallengecompletions[3],\n      // Reincarnation 2x1\n      1 * player.upgrades[66]\n    ])\n  } else {\n    allRuneExpAdditiveMultiplier = sumContents([\n      // Base amount multiplied per offering\n      1,\n      // +1 if C1 completion\n      Math.min(1, player.highestchallengecompletions[1]),\n      // +0.10 per C1 completion\n      (0.4 / 10) * player.highestchallengecompletions[1],\n      // Research 5x2\n      0.6 * player.researches[22],\n      // Research 5x3\n      0.3 * player.researches[23],\n      // Particle Upgrade 1x1\n      2 * player.upgrades[61],\n      // Particle upgrade 3x1\n      (player.upgrades[71] * runeLevel) / 25\n    ])\n  }\n\n  // Rune multiplier that gets applied to all runes\n  const allRuneExpMultiplier = productContents([\n    // Research 4x16\n    1 + player.researches[91] / 20,\n    // Research 4x17\n    1 + player.researches[92] / 20,\n    // Ant 8\n    calculateSigmoidExponential(\n      999,\n      (1 / 10000) * Math.pow(player.antUpgrades[8 - 1]! + G.bonusant8, 1.1)\n    ),\n    // Cube Bonus\n    G.cubeBonusMultiplier[4],\n    // Cube Upgrade Bonus\n    1 + (player.ascensionCounter / 1000) * player.cubeUpgrades[32],\n    // Constant Upgrade Multiplier\n    1 + (1 / 10) * player.constantUpgrades[8],\n    // Challenge 15 reward multiplier\n    G.challenge15Rewards.runeExp\n  ])\n  // Corruption Divisor\n  const droughtEffect = 1\n    / Math.pow(\n      G.droughtMultiplier[player.usedCorruptions[8]],\n      1 - (1 / 2) * player.platonicUpgrades[13]\n    )\n\n  // Rune multiplier that gets applied to specific runes\n  const runeExpMultiplier = [\n    productContents([\n      1 + player.researches[78] / 50,\n      1 + player.researches[111] / 100,\n      1 + CalcECC('reincarnation', player.challengecompletions[7]) / 10,\n      droughtEffect\n    ]),\n    productContents([\n      1 + player.researches[80] / 50,\n      1 + player.researches[112] / 100,\n      1 + CalcECC('reincarnation', player.challengecompletions[7]) / 10,\n      droughtEffect\n    ]),\n    productContents([\n      1 + player.researches[79] / 50,\n      1 + player.researches[113] / 100,\n      1 + CalcECC('reincarnation', player.challengecompletions[8]) / 5,\n      droughtEffect\n    ]),\n    productContents([\n      1 + player.researches[77] / 50,\n      1 + player.researches[114] / 100,\n      1 + CalcECC('reincarnation', player.challengecompletions[6]) / 10,\n      droughtEffect\n    ]),\n    productContents([\n      1 + player.researches[83] / 20,\n      1 + player.researches[115] / 100,\n      1 + CalcECC('reincarnation', player.challengecompletions[9]) / 5,\n      droughtEffect\n    ]),\n    productContents([1]),\n    productContents([1])\n  ]\n\n  const fact = [\n    allRuneExpAdditiveMultiplier,\n    allRuneExpMultiplier,\n    recycleMultiplier,\n    runeExpMultiplier[runeIndex]\n  ]\n\n  return returnFactors ? fact : Math.min(1e200, productContents(fact))\n}\n\nexport const lookupTableGen = (runeLevel: number) => {\n  // Rune exp required to level multipliers\n  const allRuneExpRequiredMultiplier = productContents([\n    Math.pow((runeLevel + 1) / 2, 3),\n    (3.5 * runeLevel + 100) / 500,\n    Math.max(1, (runeLevel - 200) / 9),\n    Math.max(1, (runeLevel - 400) / 12),\n    Math.max(1, (runeLevel - 600) / 15),\n    Math.max(1, Math.pow(1.03, (runeLevel - 800) / 4))\n  ])\n\n  return allRuneExpRequiredMultiplier\n}\n\nlet lookupTableRuneExp: number[] | null = null\n\n// Returns the amount of exp required to level a rune\nexport const calculateRuneExpToLevel = (\n  runeIndex: number,\n  runeLevel = player.runelevels[runeIndex]\n) => {\n  lookupTableRuneExp ??= Array.from({ length: 40000 + 1 }, (_, i) => lookupTableGen(i))\n\n  // For runes 6 and 7 we will apply a special multiplier\n  let multiplier = lookupTableRuneExp[runeLevel]\n  if (runeIndex === 5) {\n    multiplier = Math.pow(100, runeLevel)\n  }\n  if (runeIndex === 6) {\n    multiplier = Math.pow(1e25, runeLevel) * (player.highestSingularityCount + 1)\n  }\n  return multiplier * G.runeexpbase[runeIndex]\n}\n\nexport const calculateMaxRunes = (i: number) => {\n  let max = 1000\n\n  const increaseAll = 20 * (player.cubeUpgrades[16] + player.cubeUpgrades[37])\n    + 3 * player.constantUpgrades[7]\n    + 80 * CalcECC('ascension', player.challengecompletions[11])\n    + 200 * CalcECC('ascension', player.challengecompletions[14])\n    + Math.floor(0.04 * player.researches[200] + 0.04 * player.cubeUpgrades[50])\n  const increaseMaxLevel = [\n    null,\n    10 * (player.researches[78] + player.researches[111]) + increaseAll,\n    10 * (player.researches[80] + player.researches[112]) + increaseAll,\n    10 * (player.researches[79] + player.researches[113]) + increaseAll,\n    10 * (player.researches[77] + player.researches[114]) + increaseAll,\n    10 * player.researches[115] + increaseAll,\n    -901,\n    -999\n  ]\n\n  max = increaseMaxLevel[i]! > G.runeMaxLvl\n    ? G.runeMaxLvl\n    : max + increaseMaxLevel[i]!\n  return max\n}\n\nexport const calculateEffectiveIALevel = () => {\n  return (\n    player.runelevels[5]\n    + Math.max(0, player.runelevels[5] - 74)\n    + Math.max(0, player.runelevels[5] - 98)\n  )\n}\n\nexport function calculateOfferings (input: resetNames): number\nexport function calculateOfferings (\n  input: resetNames,\n  calcMult: false,\n  statistic?: boolean\n): number[]\nexport function calculateOfferings (\n  input: resetNames,\n  calcMult: true,\n  statistic: boolean\n): number\nexport function calculateOfferings (\n  input: resetNames,\n  calcMult = true,\n  statistic = false\n) {\n  if (\n    input === 'acceleratorBoost'\n    || input === 'ascension'\n    || input === 'ascensionChallenge'\n  ) {\n    return 0\n  }\n\n  let q = 0\n  let a = 0\n  let b = 0\n  let c = 0\n\n  if (input === 'reincarnation' || input === 'reincarnationChallenge') {\n    a += 3\n    if (player.achievements[52] > 0.5) {\n      a += 25 * Math.min(player.reincarnationcounter / 1800, 1)\n    }\n    if (player.upgrades[62] > 0.5) {\n      a += (1 / 50) * sumContents(player.challengecompletions)\n    }\n    a += 0.6 * player.researches[25]\n    if (player.researches[95] === 1) {\n      a += 4\n    }\n    a += (1 / 200)\n      * G.rune5level\n      * G.effectiveLevelMult\n      * (1 + player.researches[85] / 200)\n    a *= 1\n      + Math.pow(Decimal.log(player.reincarnationShards.add(1), 10), 2 / 3) / 4\n    a *= Math.min(Math.pow(player.reincarnationcounter / 10 + 1, 2), 1)\n    if (player.reincarnationcounter >= 5) {\n      a *= Math.max(1, player.reincarnationcounter / 10)\n    }\n  }\n  if (\n    input === 'transcension'\n    || input === 'transcensionChallenge'\n    || input === 'reincarnation'\n    || input === 'reincarnationChallenge'\n  ) {\n    b += 2\n    if (player.reincarnationCount > 0) {\n      b += 2\n    }\n    if (player.achievements[44] > 0.5) {\n      b += 15 * Math.min(player.transcendcounter / 1800, 1)\n    }\n    if (player.challengecompletions[2] > 0) {\n      b += 1\n    }\n    b += 0.2 * player.researches[24]\n    b += (1 / 200)\n      * G.rune5level\n      * G.effectiveLevelMult\n      * (1 + player.researches[85] / 200)\n    b *= 1 + Math.pow(Decimal.log(player.transcendShards.add(1), 10), 1 / 2) / 5\n    b *= 1 + CalcECC('reincarnation', player.challengecompletions[8]) / 25\n    b *= Math.min(Math.pow(player.transcendcounter / 10, 2), 1)\n    if (player.transcendCount >= 5) {\n      b *= Math.max(1, player.transcendcounter / 10)\n    }\n  }\n  // This will always be calculated if '0' is not already returned\n  c += 1\n  if (player.transcendCount > 0 || player.reincarnationCount > 0) {\n    c += 1\n  }\n  if (player.reincarnationCount > 0) {\n    c += 2\n  }\n  if (player.achievements[37] > 0.5) {\n    c += 15 * Math.min(player.prestigecounter / 1800, 1)\n  }\n  if (player.challengecompletions[2] > 0) {\n    c += 1\n  }\n  c += 0.2 * player.researches[24]\n  c += (1 / 200)\n    * G.rune5level\n    * G.effectiveLevelMult\n    * (1 + player.researches[85] / 200)\n  c *= 1 + Math.pow(Decimal.log(player.prestigeShards.add(1), 10), 1 / 2) / 5\n  c *= 1 + CalcECC('reincarnation', player.challengecompletions[6]) / 50\n  c *= Math.min(Math.pow(player.prestigecounter / 10, 2), 1)\n  if (player.prestigeCount >= 5) {\n    c *= Math.max(1, player.prestigecounter / 10)\n  }\n  q = a + b + c\n\n  const arr = [\n    1 + (10 * player.achievements[33]) / 100, // Alchemy Achievement 5\n    1 + (15 * player.achievements[34]) / 100, // Alchemy Achievement 6\n    1 + (25 * player.achievements[35]) / 100, // Alchemy Achievement 7\n    1 + (20 * player.upgrades[38]) / 100, // Diamond Upgrade 4x3\n    1\n    + player.upgrades[75]\n      * 2\n      * Math.min(1, Math.pow(player.maxobtainium / 30000000, 0.5)), // Particle Upgrade 3x5\n    1 + (1 / 50) * player.shopUpgrades.offeringAuto, // Auto Offering Shop\n    1 + (1 / 25) * player.shopUpgrades.offeringEX, // Offering EX Shop\n    1 + (1 / 100) * player.shopUpgrades.cashGrab, // Cash Grab\n    1\n    + (1 / 10000)\n      * sumContents(player.challengecompletions)\n      * player.researches[85], // Research 4x10\n    1 + Math.pow(player.antUpgrades[6 - 1]! + G.bonusant6, 0.66), // Ant Upgrade:\n    G.cubeBonusMultiplier[3], // Brutus\n    1 + 0.02 * player.constantUpgrades[3], // Constant Upgrade 3\n    1\n    + 0.0003 * player.talismanLevels[3 - 1] * player.researches[149]\n    + 0.0004 * player.talismanLevels[3 - 1] * player.researches[179], // Research 6x24,8x4\n    1 + 0.12 * CalcECC('ascension', player.challengecompletions[12]), // Challenge 12\n    1 + (0.01 / 100) * player.researches[200], // Research 8x25\n    1 + Math.min(1, player.ascensionCount / 1e6) * player.achievements[187], // Ascension Count Achievement\n    1 + 0.6 * player.achievements[250] + 1 * player.achievements[251], // Sun&Moon Achievements\n    1 + 0.05 * player.cubeUpgrades[46], // Cube Upgrade 5x6\n    1 + (0.02 / 100) * player.cubeUpgrades[50], // Cube Upgrade 5x10\n    1 + player.platonicUpgrades[5], // Platonic ALPHA\n    1 + 2.5 * player.platonicUpgrades[10], // Platonic BETA\n    1 + 5 * player.platonicUpgrades[15], // Platonic OMEGA\n    G.challenge15Rewards.offering, // C15 Reward\n    1 + 5 * (player.singularityUpgrades.starterPack.getEffect().bonus ? 1 : 0), // Starter Pack Upgrade\n    +player.singularityUpgrades.singOfferings1.getEffect().bonus, // Offering Charge GQ Upgrade\n    +player.singularityUpgrades.singOfferings2.getEffect().bonus, // Offering Storm GQ Upgrade\n    +player.singularityUpgrades.singOfferings3.getEffect().bonus, // Offering Tempest GQ Upgrade\n    +player.singularityUpgrades.singCitadel.getEffect().bonus, // Citadel GQ Upgrade\n    +player.singularityUpgrades.singCitadel2.getEffect().bonus, // Citadel 2 GQ Upgrade\n    1 + player.cubeUpgrades[54] / 100, // Cube upgrade 6x4 (Cx4)\n    +player.octeractUpgrades.octeractOfferings1.getEffect().bonus, // Offering Electrolosis OC Upgrade\n    1 + 0.001 * +player.blueberryUpgrades.ambrosiaOffering1.bonus.offeringMult, // Ambrosia!!\n    calculateEXALTBonusMult(), // 20 Ascensions X20 Bonus [EXALT ONLY]\n    calculateEXUltraOfferingBonus(), // EX Ultra Shop Upgrade\n    1 + calculateEventBuff(BuffType.Offering) // Event\n  ]\n\n  if (calcMult) {\n    q *= productContents(arr)\n  } else {\n    return arr\n  }\n\n  if (statistic) {\n    return productContents(arr)\n  }\n\n  if (G.eventClicked && G.isEvent) {\n    q *= 1.05\n  }\n  q /= calculateSingularityDebuff('Offering')\n  q = (Math.floor(q) * 100) / 100\n  if (player.currentChallenge.ascension === 15) {\n    q *= 1 + 7 * player.cubeUpgrades[62]\n  }\n  q *= 1 + (1 / 200) * player.shopUpgrades.cashGrab2\n  q *= 1 + (1 / 100) * player.shopUpgrades.offeringEX2 * player.singularityCount\n  q *= Math.pow(1.02, player.shopUpgrades.offeringEX3)\n  q *= calculateTotalOcteractOfferingBonus()\n  if (player.singularityChallenges.limitedTime.enabled) {\n    const comps = player.singularityChallenges.limitedTime.completions\n    const time = player.singChallengeTimer\n    q *= calculateExalt6Penalty(comps, time)\n  }\n  q = Math.min(1e300, q)\n\n  let persecond = 0\n  if (input === 'prestige') {\n    persecond = q / (1 + player.prestigecounter)\n  }\n  if (input === 'transcension' || input === 'transcensionChallenge') {\n    persecond = q / (1 + player.transcendcounter)\n  }\n  if (input === 'reincarnation' || input === 'reincarnationChallenge') {\n    persecond = q / (1 + player.reincarnationcounter)\n  }\n  if (persecond > player.offeringpersecond) {\n    player.offeringpersecond = persecond\n  }\n\n  return q\n}\n\nexport const calculateObtainium = () => {\n  G.obtainiumGain = 1\n  if (player.upgrades[69] > 0) {\n    G.obtainiumGain *= Math.min(\n      10,\n      new Decimal(\n        Decimal.pow(Decimal.log(G.reincarnationPointGain.add(10), 10), 0.5)\n      ).toNumber()\n    )\n  }\n  if (player.upgrades[72] > 0) {\n    G.obtainiumGain *= Math.min(\n      50,\n      1\n        + 2 * player.challengecompletions[6]\n        + 2 * player.challengecompletions[7]\n        + 2 * player.challengecompletions[8]\n        + 2 * player.challengecompletions[9]\n        + 2 * player.challengecompletions[10]\n    )\n  }\n  if (player.upgrades[74] > 0) {\n    G.obtainiumGain *= 1 + 4 * Math.min(1, Math.pow(player.maxofferings / 100000, 0.5))\n  }\n  G.obtainiumGain *= 1 + player.researches[65] / 5\n  G.obtainiumGain *= 1 + player.researches[76] / 10\n  G.obtainiumGain *= 1 + player.researches[81] / 10\n  G.obtainiumGain *= 1 + player.shopUpgrades.obtainiumAuto / 50\n  G.obtainiumGain *= 1 + player.shopUpgrades.cashGrab / 100\n  G.obtainiumGain *= 1 + (1 / 25) * player.shopUpgrades.obtainiumEX\n  G.obtainiumGain *= 1\n    + (G.rune5level / 200)\n      * G.effectiveLevelMult\n      * (1\n        + (player.researches[84] / 200)\n          * (1\n            + (1 * G.effectiveRuneSpiritPower[5] * calculateCorruptionPoints())\n              / 400))\n  G.obtainiumGain *= 1\n    + 0.01 * player.achievements[84]\n    + 0.03 * player.achievements[91]\n    + 0.05 * player.achievements[98]\n    + 0.07 * player.achievements[105]\n    + 0.09 * player.achievements[112]\n    + 0.11 * player.achievements[119]\n    + 0.13 * player.achievements[126]\n    + 0.15 * player.achievements[133]\n    + 0.17 * player.achievements[140]\n    + 0.19 * player.achievements[147]\n  G.obtainiumGain *= 1 + 2 * Math.pow((player.antUpgrades[10 - 1]! + G.bonusant10) / 50, 2 / 3)\n  G.obtainiumGain *= 1 + player.achievements[188] * Math.min(2, player.ascensionCount / 5e6)\n  G.obtainiumGain *= 1 + 0.6 * player.achievements[250] + 1 * player.achievements[251]\n  G.obtainiumGain *= G.cubeBonusMultiplier[5]\n  G.obtainiumGain *= 1 + 0.04 * player.constantUpgrades[4]\n  G.obtainiumGain *= 1 + 0.1 * player.cubeUpgrades[47]\n  G.obtainiumGain *= 1 + 0.1 * player.cubeUpgrades[3]\n  G.obtainiumGain *= 1 + 0.5 * CalcECC('ascension', player.challengecompletions[12])\n  G.obtainiumGain *= 1 + (calculateCorruptionPoints() / 400) * G.effectiveRuneSpiritPower[4]\n  G.obtainiumGain *= 1\n    + ((0.03 * Math.log(player.uncommonFragments + 1)) / Math.log(4))\n      * player.researches[144]\n  G.obtainiumGain *= 1 + (0.02 / 100) * player.cubeUpgrades[50]\n  if (player.achievements[53] > 0) {\n    G.obtainiumGain *= 1 + (1 / 800) * G.runeSum\n  }\n  if (player.achievements[128]) {\n    G.obtainiumGain *= 1.5\n  }\n  if (player.achievements[129]) {\n    G.obtainiumGain *= 1.25\n  }\n\n  if (player.achievements[51] > 0) {\n    G.obtainiumGain += 4\n  }\n  if (player.reincarnationcounter >= 2) {\n    G.obtainiumGain += 1 * player.researches[63]\n  }\n  if (player.reincarnationcounter >= 5) {\n    G.obtainiumGain += 2 * player.researches[64]\n  }\n  G.obtainiumGain *= Math.min(1, Math.pow(player.reincarnationcounter / 10, 2))\n  if (player.reincarnationCount >= 5) {\n    G.obtainiumGain *= Math.max(1, player.reincarnationcounter / 10)\n  }\n  G.obtainiumGain *= Math.pow(\n    Decimal.log(player.transcendShards.add(1), 10) / 300,\n    2\n  )\n  G.obtainiumGain = Math.pow(\n    G.obtainiumGain,\n    Math.min(\n      1,\n      G.illiteracyPower[player.usedCorruptions[5]]\n        * (1\n          + (9 / 100)\n            * player.platonicUpgrades[9]\n            * Math.min(100, Math.log10(player.researchPoints + 10)))\n    )\n  )\n  G.obtainiumGain *= 1 + (4 / 100) * player.cubeUpgrades[42]\n  G.obtainiumGain *= 1 + (3 / 100) * player.cubeUpgrades[43]\n  G.obtainiumGain *= 1 + player.platonicUpgrades[5]\n  G.obtainiumGain *= 1 + 1.5 * player.platonicUpgrades[9]\n  G.obtainiumGain *= 1 + 2.5 * player.platonicUpgrades[10]\n  G.obtainiumGain *= 1 + 5 * player.platonicUpgrades[15]\n  G.obtainiumGain *= G.challenge15Rewards.obtainium\n  G.obtainiumGain *= 1 + 5 * (player.singularityUpgrades.starterPack.getEffect().bonus ? 1 : 0)\n  G.obtainiumGain *= +player.singularityUpgrades.singObtainium1.getEffect().bonus\n  G.obtainiumGain *= +player.singularityUpgrades.singObtainium2.getEffect().bonus\n  G.obtainiumGain *= +player.singularityUpgrades.singObtainium3.getEffect().bonus\n  G.obtainiumGain *= 1 + player.cubeUpgrades[55] / 100 // Cube Upgrade 6x5 (Cx5)\n  G.obtainiumGain *= 1 + (1 / 200) * player.shopUpgrades.cashGrab2\n  G.obtainiumGain *= 1 + (1 / 100) * player.shopUpgrades.obtainiumEX2 * player.singularityCount\n  G.obtainiumGain *= 1 + calculateEventBuff(BuffType.Obtainium)\n  G.obtainiumGain *= +player.singularityUpgrades.singCitadel.getEffect().bonus\n  G.obtainiumGain *= +player.singularityUpgrades.singCitadel2.getEffect().bonus\n  G.obtainiumGain *= +player.octeractUpgrades.octeractObtainium1.getEffect().bonus\n  G.obtainiumGain *= Math.pow(1.02, player.shopUpgrades.obtainiumEX3)\n  G.obtainiumGain *= calculateTotalOcteractObtainiumBonus()\n\n  if (G.eventClicked && G.isEvent) {\n    G.obtainiumGain *= 1.05\n  }\n\n  if (player.currentChallenge.ascension === 15) {\n    G.obtainiumGain += 1\n    G.obtainiumGain *= 1 + 7 * player.cubeUpgrades[62]\n  }\n\n  G.obtainiumGain *= 1\n    + 0.001 * +player.blueberryUpgrades.ambrosiaObtainium1.bonus.obtainiumMult\n\n  G.obtainiumGain *= calculateEXUltraObtainiumBonus()\n  G.obtainiumGain *= calculateEXALTBonusMult()\n\n  if (player.singularityChallenges.limitedTime.enabled) {\n    const comps = player.singularityChallenges.limitedTime.completions\n    const time = player.singChallengeTimer\n    G.obtainiumGain *= calculateExalt6Penalty(comps, time)\n  }\n\n  if (!isFinite(G.obtainiumGain)) {\n    G.obtainiumGain = 1e300\n  }\n  G.obtainiumGain = Math.min(1e300, G.obtainiumGain)\n  G.obtainiumGain /= calculateSingularityDebuff('Obtainium')\n\n  if (player.usedCorruptions[5] >= 15) {\n    G.obtainiumGain = Math.pow(G.obtainiumGain, 1 / 4)\n  }\n  if (player.usedCorruptions[5] >= 16) {\n    G.obtainiumGain = Math.pow(G.obtainiumGain, 1 / 3)\n  }\n\n  G.obtainiumGain = Math.max(1 + player.singularityCount, G.obtainiumGain)\n  if (player.currentChallenge.ascension === 14) {\n    G.obtainiumGain = 0\n  }\n  player.obtainiumpersecond = Math.min(1e300, G.obtainiumGain) / (0.1 + player.reincarnationcounter)\n  player.maxobtainiumpersecond = Math.max(\n    player.maxobtainiumpersecond,\n    player.obtainiumpersecond\n  )\n}\n\nexport const calculateAutomaticObtainium = () => {\n  return (\n    0.05\n    * (10 * player.researches[61] + 2 * player.researches[62])\n    * player.maxobtainiumpersecond\n    * (1 + (4 * player.cubeUpgrades[3]) / 5)\n  )\n}\n\n// TODO: REFACTOR THIS - May 15, 2022.\nexport const calculateTalismanEffects = () => {\n  let positiveBonus = 0\n  let negativeBonus = 0\n  if (player.achievements[135] === 1) {\n    positiveBonus += 0.02\n  }\n  if (player.achievements[136] === 1) {\n    positiveBonus += 0.02\n  }\n  positiveBonus += 0.02 * (player.talismanRarity[4 - 1] - 1)\n  positiveBonus += (3 * player.researches[106]) / 100\n  positiveBonus += (3 * player.researches[107]) / 100\n  positiveBonus += (3 * player.researches[116]) / 200\n  positiveBonus += (3 * player.researches[117]) / 200\n  positiveBonus += G.cubeBonusMultiplier[9] - 1\n  positiveBonus += 0.0004 * player.cubeUpgrades[50]\n  negativeBonus += 0.06 * player.researches[118]\n  negativeBonus += 0.0004 * player.cubeUpgrades[50]\n\n  if (player.highestSingularityCount >= 7) {\n    positiveBonus += negativeBonus\n    negativeBonus = positiveBonus\n  }\n\n  if (player.highestSingularityCount < 7) {\n    for (let i = 1; i <= 5; i++) {\n      if (player.talismanOne[i] === 1) {\n        G.talisman1Effect[i] = (G.talismanPositiveModifier[player.talismanRarity[1 - 1]]!\n          + positiveBonus)\n          * player.talismanLevels[1 - 1]\n          * G.challenge15Rewards.talismanBonus\n      } else {\n        G.talisman1Effect[i] = (G.talismanNegativeModifier[player.talismanRarity[1 - 1]]!\n          - negativeBonus)\n          * player.talismanLevels[1 - 1]\n          * -1\n          * G.challenge15Rewards.talismanBonus\n      }\n\n      if (player.talismanTwo[i] === 1) {\n        G.talisman2Effect[i] = (G.talismanPositiveModifier[player.talismanRarity[2 - 1]]!\n          + positiveBonus)\n          * player.talismanLevels[2 - 1]\n          * G.challenge15Rewards.talismanBonus\n      } else {\n        G.talisman2Effect[i] = (G.talismanNegativeModifier[player.talismanRarity[2 - 1]]!\n          - negativeBonus)\n          * player.talismanLevels[2 - 1]\n          * -1\n          * G.challenge15Rewards.talismanBonus\n      }\n\n      if (player.talismanThree[i] === 1) {\n        G.talisman3Effect[i] = (G.talismanPositiveModifier[player.talismanRarity[3 - 1]]!\n          + positiveBonus)\n          * player.talismanLevels[3 - 1]\n          * G.challenge15Rewards.talismanBonus\n      } else {\n        G.talisman3Effect[i] = (G.talismanNegativeModifier[player.talismanRarity[3 - 1]]!\n          - negativeBonus)\n          * player.talismanLevels[3 - 1]\n          * -1\n          * G.challenge15Rewards.talismanBonus\n      }\n\n      if (player.talismanFour[i] === 1) {\n        G.talisman4Effect[i] = (G.talismanPositiveModifier[player.talismanRarity[4 - 1]]!\n          + positiveBonus)\n          * player.talismanLevels[4 - 1]\n          * G.challenge15Rewards.talismanBonus\n      } else {\n        G.talisman4Effect[i] = (G.talismanNegativeModifier[player.talismanRarity[4 - 1]]!\n          - negativeBonus)\n          * player.talismanLevels[4 - 1]\n          * -1\n          * G.challenge15Rewards.talismanBonus\n      }\n\n      if (player.talismanFive[i] === 1) {\n        G.talisman5Effect[i] = (G.talismanPositiveModifier[player.talismanRarity[5 - 1]]!\n          + positiveBonus)\n          * player.talismanLevels[5 - 1]\n          * G.challenge15Rewards.talismanBonus\n      } else {\n        G.talisman5Effect[i] = (G.talismanNegativeModifier[player.talismanRarity[5 - 1]]!\n          - negativeBonus)\n          * player.talismanLevels[5 - 1]\n          * -1\n          * G.challenge15Rewards.talismanBonus\n      }\n\n      if (player.talismanSix[i] === 1) {\n        G.talisman6Effect[i] = (G.talismanPositiveModifier[player.talismanRarity[6 - 1]]!\n          + positiveBonus)\n          * player.talismanLevels[6 - 1]\n          * G.challenge15Rewards.talismanBonus\n      } else {\n        G.talisman6Effect[i] = (G.talismanNegativeModifier[player.talismanRarity[6 - 1]]!\n          - negativeBonus)\n          * player.talismanLevels[6 - 1]\n          * -1\n          * G.challenge15Rewards.talismanBonus\n      }\n\n      if (player.talismanSeven[i] === 1) {\n        G.talisman7Effect[i] = (G.talismanPositiveModifier[player.talismanRarity[7 - 1]]!\n          + positiveBonus)\n          * player.talismanLevels[7 - 1]\n          * G.challenge15Rewards.talismanBonus\n      } else {\n        G.talisman7Effect[i] = (G.talismanNegativeModifier[player.talismanRarity[7 - 1]]!\n          - negativeBonus)\n          * player.talismanLevels[7 - 1]\n          * -1\n          * G.challenge15Rewards.talismanBonus\n      }\n    }\n  } else {\n    for (let i = 1; i <= 5; i++) {\n      G.talisman1Effect[i] = (G.talismanPositiveModifier[player.talismanRarity[1 - 1]]!\n        + positiveBonus)\n        * player.talismanLevels[1 - 1]\n        * G.challenge15Rewards.talismanBonus\n      G.talisman2Effect[i] = (G.talismanPositiveModifier[player.talismanRarity[2 - 1]]!\n        + positiveBonus)\n        * player.talismanLevels[2 - 1]\n        * G.challenge15Rewards.talismanBonus\n      G.talisman3Effect[i] = (G.talismanPositiveModifier[player.talismanRarity[3 - 1]]!\n        + positiveBonus)\n        * player.talismanLevels[3 - 1]\n        * G.challenge15Rewards.talismanBonus\n      G.talisman4Effect[i] = (G.talismanPositiveModifier[player.talismanRarity[4 - 1]]!\n        + positiveBonus)\n        * player.talismanLevels[4 - 1]\n        * G.challenge15Rewards.talismanBonus\n      G.talisman5Effect[i] = (G.talismanPositiveModifier[player.talismanRarity[5 - 1]]!\n        + positiveBonus)\n        * player.talismanLevels[5 - 1]\n        * G.challenge15Rewards.talismanBonus\n      G.talisman6Effect[i] = (G.talismanPositiveModifier[player.talismanRarity[6 - 1]]!\n        + positiveBonus)\n        * player.talismanLevels[6 - 1]\n        * G.challenge15Rewards.talismanBonus\n      G.talisman7Effect[i] = (G.talismanPositiveModifier[player.talismanRarity[7 - 1]]!\n        + positiveBonus)\n        * player.talismanLevels[7 - 1]\n        * G.challenge15Rewards.talismanBonus\n    }\n  }\n  const talismansEffects = [\n    G.talisman1Effect,\n    G.talisman2Effect,\n    G.talisman3Effect,\n    G.talisman4Effect,\n    G.talisman5Effect,\n    G.talisman6Effect,\n    G.talisman7Effect\n  ]\n  const runesTalisman = [0, 0, 0, 0, 0, 0]\n  talismansEffects.forEach((talismanEffect) => {\n    talismanEffect.forEach((levels, runeNumber) => {\n      runesTalisman[runeNumber] += levels!\n    })\n  })\n  ;[\n    ,\n    G.rune1Talisman,\n    G.rune2Talisman,\n    G.rune3Talisman,\n    G.rune4Talisman,\n    G.rune5Talisman\n  ] = runesTalisman\n  G.talisman6Power = 0\n  G.talisman7Quarks = 0\n  if (player.talismanRarity[1 - 1] === 6) {\n    G.rune2Talisman += 400\n  }\n  if (player.talismanRarity[2 - 1] === 6) {\n    G.rune1Talisman += 400\n  }\n  if (player.talismanRarity[3 - 1] === 6) {\n    G.rune4Talisman += 400\n  }\n  if (player.talismanRarity[4 - 1] === 6) {\n    G.rune3Talisman += 400\n  }\n  if (player.talismanRarity[5 - 1] === 6) {\n    G.rune5Talisman += 400\n  }\n  if (player.talismanRarity[6 - 1] === 6) {\n    G.talisman6Power = 2.5\n  }\n  if (player.talismanRarity[7 - 1] === 6) {\n    G.talisman7Quarks = 2\n  }\n}\n\nexport const calculateRuneLevels = () => {\n  calculateTalismanEffects()\n  if (player.currentChallenge.reincarnation !== 9) {\n    const antUpgrade8 = player.antUpgrades[8] ?? 0\n    G.rune1level = Math.max(\n      1,\n      player.runelevels[0]\n        + Math.min(1e7, antUpgrade8 + G.bonusant9) * 1\n        + G.rune1Talisman\n        + 7 * player.constantUpgrades[7]\n    )\n    G.rune2level = Math.max(\n      1,\n      player.runelevels[1]\n        + Math.min(1e7, antUpgrade8 + G.bonusant9) * 1\n        + G.rune2Talisman\n        + 7 * player.constantUpgrades[7]\n    )\n    G.rune3level = Math.max(\n      1,\n      player.runelevels[2]\n        + Math.min(1e7, antUpgrade8 + G.bonusant9) * 1\n        + G.rune3Talisman\n        + 7 * player.constantUpgrades[7]\n    )\n    G.rune4level = Math.max(\n      1,\n      player.runelevels[3]\n        + Math.min(1e7, antUpgrade8 + G.bonusant9) * 1\n        + G.rune4Talisman\n        + 7 * player.constantUpgrades[7]\n    )\n    G.rune5level = Math.max(\n      1,\n      player.runelevels[4]\n        + Math.min(1e7, antUpgrade8 + G.bonusant9) * 1\n        + G.rune5Talisman\n        + 7 * player.constantUpgrades[7]\n    )\n  }\n\n  G.runeSum = sumContents([\n    G.rune1level,\n    G.rune2level,\n    G.rune3level,\n    G.rune4level,\n    G.rune5level\n  ])\n  calculateRuneBonuses()\n}\n\nexport const calculateRuneBonuses = () => {\n  G.blessingMultiplier = 1\n  G.spiritMultiplier = 1\n\n  G.blessingMultiplier *= 1 + (6.9 * player.researches[134]) / 100\n  G.blessingMultiplier *= 1 + (player.talismanRarity[3 - 1] - 1) / 10\n  G.blessingMultiplier *= 1 + 0.1 * Math.log10(player.epicFragments + 1) * player.researches[174]\n  G.blessingMultiplier *= 1 + (2 * player.researches[194]) / 100\n  if (player.researches[160] > 0) {\n    G.blessingMultiplier *= Math.pow(1.25, 8)\n  }\n  G.spiritMultiplier *= 1 + (8 * player.researches[164]) / 100\n  if (player.researches[165] > 0 && player.currentChallenge.ascension !== 0) {\n    G.spiritMultiplier *= Math.pow(2, 8)\n  }\n  G.spiritMultiplier *= 1\n    + 0.15 * Math.log10(player.legendaryFragments + 1) * player.researches[189]\n  G.spiritMultiplier *= 1 + (2 * player.researches[194]) / 100\n  G.spiritMultiplier *= 1 + (player.talismanRarity[5 - 1] - 1) / 100\n\n  for (let i = 1; i <= 5; i++) {\n    G.runeBlessings[i] = G.blessingMultiplier\n      * player.runelevels[i - 1]\n      * player.runeBlessingLevels[i]\n    G.runeSpirits[i] = G.spiritMultiplier\n      * player.runelevels[i - 1]\n      * player.runeSpiritLevels[i]\n  }\n\n  for (let i = 1; i <= 5; i++) {\n    if (G.runeBlessings[i] <= 1e30) {\n      G.effectiveRuneBlessingPower[i] = (Math.pow(G.runeBlessings[i], 1 / 8) / 75)\n        * G.challenge15Rewards.blessingBonus\n    } else if (G.runeBlessings[i] > 1e30) {\n      G.effectiveRuneBlessingPower[i] = ((Math.pow(10, 5 / 2) * Math.pow(G.runeBlessings[i], 1 / 24)) / 75)\n        * G.challenge15Rewards.blessingBonus\n    }\n\n    if (G.runeSpirits[i] <= 1e25) {\n      G.effectiveRuneSpiritPower[i] = (Math.pow(G.runeSpirits[i], 1 / 8) / 75)\n        * G.challenge15Rewards.spiritBonus\n    } else if (G.runeSpirits[i] > 1e25) {\n      G.effectiveRuneSpiritPower[i] = ((Math.pow(10, 25 / 12) * Math.pow(G.runeSpirits[i], 1 / 24)) / 75)\n        * G.challenge15Rewards.spiritBonus\n    }\n  }\n}\n\nexport const calculateAnts = () => {\n  let bonusLevels = 0\n  bonusLevels += 2 * (player.talismanRarity[6 - 1] - 1)\n  bonusLevels += CalcECC('reincarnation', player.challengecompletions[9])\n  bonusLevels += 2 * player.constantUpgrades[6]\n  bonusLevels += 12 * CalcECC('ascension', player.challengecompletions[11])\n  bonusLevels += Math.floor((1 / 200) * player.researches[200])\n  bonusLevels *= G.challenge15Rewards.bonusAntLevel\n  let c11 = 0\n  let c11bonus = 0\n  if (player.currentChallenge.ascension === 11) {\n    c11 = 999\n  }\n  if (player.currentChallenge.ascension === 11) {\n    c11bonus = Math.floor(\n      (4 * player.challengecompletions[8]\n        + 23 * player.challengecompletions[9])\n        * Math.max(0, 1 - player.challengecompletions[11] / 10)\n    )\n  }\n  G.bonusant1 = Math.min(\n    player.antUpgrades[1 - 1]! + c11,\n    4 * player.researches[97]\n      + bonusLevels\n      + player.researches[102]\n      + 2 * player.researches[132]\n      + c11bonus\n  )\n  G.bonusant2 = Math.min(\n    player.antUpgrades[2 - 1]! + c11,\n    4 * player.researches[97]\n      + bonusLevels\n      + player.researches[102]\n      + 2 * player.researches[132]\n      + c11bonus\n  )\n  G.bonusant3 = Math.min(\n    player.antUpgrades[3 - 1]! + c11,\n    4 * player.researches[97]\n      + bonusLevels\n      + player.researches[102]\n      + 2 * player.researches[132]\n      + c11bonus\n  )\n  G.bonusant4 = Math.min(\n    player.antUpgrades[4 - 1]! + c11,\n    4 * player.researches[97]\n      + bonusLevels\n      + player.researches[102]\n      + 2 * player.researches[132]\n      + c11bonus\n  )\n  G.bonusant5 = Math.min(\n    player.antUpgrades[5 - 1]! + c11,\n    4 * player.researches[97]\n      + bonusLevels\n      + player.researches[102]\n      + 2 * player.researches[132]\n      + c11bonus\n  )\n  G.bonusant6 = Math.min(\n    player.antUpgrades[6 - 1]! + c11,\n    4 * player.researches[97]\n      + bonusLevels\n      + player.researches[102]\n      + 2 * player.researches[132]\n      + c11bonus\n  )\n  G.bonusant7 = Math.min(\n    player.antUpgrades[7 - 1]! + c11,\n    4 * player.researches[98]\n      + bonusLevels\n      + player.researches[102]\n      + 2 * player.researches[132]\n      + c11bonus\n  )\n  G.bonusant8 = Math.min(\n    player.antUpgrades[8 - 1]! + c11,\n    4 * player.researches[98]\n      + bonusLevels\n      + player.researches[102]\n      + 2 * player.researches[132]\n      + c11bonus\n  )\n  G.bonusant9 = Math.min(\n    player.antUpgrades[9 - 1]! + c11,\n    4 * player.researches[98]\n      + bonusLevels\n      + player.researches[102]\n      + 2 * player.researches[132]\n      + c11bonus\n  )\n  G.bonusant10 = Math.min(\n    player.antUpgrades[10 - 1]! + c11,\n    4 * player.researches[98]\n      + bonusLevels\n      + player.researches[102]\n      + 2 * player.researches[132]\n      + c11bonus\n  )\n  G.bonusant11 = Math.min(\n    player.antUpgrades[11 - 1]! + c11,\n    4 * player.researches[98]\n      + bonusLevels\n      + player.researches[102]\n      + 2 * player.researches[132]\n      + c11bonus\n  )\n  G.bonusant12 = Math.min(\n    player.antUpgrades[12 - 1]! + c11,\n    4 * player.researches[98]\n      + bonusLevels\n      + player.researches[102]\n      + 2 * player.researches[132]\n      + c11bonus\n  )\n}\n\nexport const calculateAntSacrificeELO = () => {\n  G.antELO = 0\n  G.effectiveELO = 0\n  const antUpgradeSum = sumContents(player.antUpgrades as number[])\n  if (player.antPoints.gte('1e40')) {\n    G.antELO += Decimal.log(player.antPoints, 10)\n    G.antELO += (1 / 2) * antUpgradeSum\n    G.antELO += (1 / 10) * player.firstOwnedAnts\n    G.antELO += (1 / 5) * player.secondOwnedAnts\n    G.antELO += (1 / 3) * player.thirdOwnedAnts\n    G.antELO += (1 / 2) * player.fourthOwnedAnts\n    G.antELO += player.fifthOwnedAnts\n    G.antELO += 2 * player.sixthOwnedAnts\n    G.antELO += 4 * player.seventhOwnedAnts\n    G.antELO += 8 * player.eighthOwnedAnts\n    G.antELO += 666 * player.researches[178]\n    G.antELO *= 1\n      + 0.01 * player.achievements[180]\n      + 0.02 * player.achievements[181]\n      + 0.03 * player.achievements[182]\n    G.antELO *= 1 + player.researches[110] / 100\n    G.antELO *= 1 + (2.5 * player.researches[148]) / 100\n\n    if (player.achievements[176] === 1) {\n      G.antELO += 25\n    }\n    if (player.achievements[177] === 1) {\n      G.antELO += 50\n    }\n    if (player.achievements[178] === 1) {\n      G.antELO += 75\n    }\n    if (player.achievements[179] === 1) {\n      G.antELO += 100\n    }\n    G.antELO += 25 * player.researches[108]\n    G.antELO += 25 * player.researches[109]\n    G.antELO += 40 * player.researches[123]\n    G.antELO += 100 * CalcECC('reincarnation', player.challengecompletions[10])\n    G.antELO += 75 * player.upgrades[80]\n    G.antELO = (1 / 10) * Math.floor(10 * G.antELO)\n\n    G.effectiveELO += 0.5 * Math.min(3500, G.antELO)\n    G.effectiveELO += 0.1 * Math.min(4000, G.antELO)\n    G.effectiveELO += 0.1 * Math.min(6000, G.antELO)\n    G.effectiveELO += 0.1 * Math.min(10000, G.antELO)\n    G.effectiveELO += 0.2 * G.antELO\n    G.effectiveELO += G.cubeBonusMultiplier[8] - 1\n    G.effectiveELO += 1 * player.cubeUpgrades[50]\n    G.effectiveELO *= 1 + 0.03 * player.upgrades[124]\n  }\n}\n\nconst calculateAntSacrificeMultipliers = () => {\n  G.timeMultiplier = Math.min(1, Math.pow(player.antSacrificeTimer / 10, 2))\n  if (player.achievements[177] === 0) {\n    G.timeMultiplier *= Math.min(\n      1000,\n      Math.max(1, player.antSacrificeTimer / 10)\n    )\n  }\n  if (player.achievements[177] > 0) {\n    G.timeMultiplier *= Math.max(1, player.antSacrificeTimer / 10)\n  }\n\n  G.upgradeMultiplier = 1\n  G.upgradeMultiplier *= 1\n    + 2 * (1 - Math.pow(2, -(player.antUpgrades[11 - 1]! + G.bonusant11) / 125))\n  G.upgradeMultiplier *= 1 + player.researches[103] / 20\n  G.upgradeMultiplier *= 1 + player.researches[104] / 20\n  if (player.achievements[132] === 1) {\n    G.upgradeMultiplier *= 1.25\n  }\n  if (player.achievements[137] === 1) {\n    G.upgradeMultiplier *= 1.25\n  }\n  G.upgradeMultiplier *= 1 + (20 / 3) * G.effectiveRuneBlessingPower[3]\n  G.upgradeMultiplier *= 1 + (1 / 50) * CalcECC('reincarnation', player.challengecompletions[10])\n  G.upgradeMultiplier *= 1 + (1 / 50) * player.researches[122]\n  G.upgradeMultiplier *= 1 + (3 / 100) * player.researches[133]\n  G.upgradeMultiplier *= 1 + (2 / 100) * player.researches[163]\n  G.upgradeMultiplier *= 1 + (1 / 100) * player.researches[193]\n  G.upgradeMultiplier *= 1 + (1 / 10) * player.upgrades[79]\n  G.upgradeMultiplier *= 1 + (1 / 4) * player.upgrades[40]\n  G.upgradeMultiplier *= G.cubeBonusMultiplier[7]\n  G.upgradeMultiplier *= 1 + calculateEventBuff(BuffType.AntSacrifice)\n  G.upgradeMultiplier = Math.min(1e300, G.upgradeMultiplier)\n}\n\ninterface IAntSacRewards {\n  antSacrificePoints: number\n  offerings: number\n  obtainium: number\n  talismanShards: number\n  commonFragments: number\n  uncommonFragments: number\n  rareFragments: number\n  epicFragments: number\n  legendaryFragments: number\n  mythicalFragments: number\n}\n\nexport const calculateAntSacrificeRewards = (): IAntSacRewards => {\n  calculateAntSacrificeELO()\n  calculateAntSacrificeMultipliers()\n\n  const maxCap = 1e300\n  const rewardsMult = Math.min(maxCap, G.timeMultiplier * G.upgradeMultiplier)\n  const rewards: IAntSacRewards = {\n    antSacrificePoints: (G.effectiveELO * rewardsMult) / 85,\n    offerings: Math.min(\n      maxCap,\n      (player.offeringpersecond * 0.15 * G.effectiveELO * rewardsMult) / 180\n    ),\n    obtainium: Math.min(\n      maxCap,\n      (player.maxobtainiumpersecond * 0.24 * G.effectiveELO * rewardsMult) / 180\n    ),\n    talismanShards: G.antELO > 500\n      ? Math.min(\n        maxCap,\n        Math.max(\n          1,\n          Math.floor(\n            (rewardsMult / 210)\n              * Math.pow((1 / 4) * Math.max(0, G.effectiveELO - 500), 2)\n          )\n        )\n      )\n      : 0,\n    commonFragments: G.antELO > 750\n      ? Math.min(\n        maxCap,\n        Math.max(\n          1,\n          Math.floor(\n            (rewardsMult / 110)\n              * Math.pow((1 / 9) * Math.max(0, G.effectiveELO - 750), 1.83)\n          )\n        )\n      )\n      : 0,\n    uncommonFragments: G.antELO > 1000\n      ? Math.min(\n        maxCap,\n        Math.max(\n          1,\n          Math.floor(\n            (rewardsMult / 170)\n              * Math.pow((1 / 16) * Math.max(0, G.effectiveELO - 1000), 1.66)\n          )\n        )\n      )\n      : 0,\n    rareFragments: G.antELO > 1500\n      ? Math.min(\n        maxCap,\n        Math.max(\n          1,\n          Math.floor(\n            (rewardsMult / 200)\n              * Math.pow((1 / 25) * Math.max(0, G.effectiveELO - 1500), 1.5)\n          )\n        )\n      )\n      : 0,\n    epicFragments: G.antELO > 2000\n      ? Math.min(\n        maxCap,\n        Math.max(\n          1,\n          Math.floor(\n            (rewardsMult / 200)\n              * Math.pow((1 / 36) * Math.max(0, G.effectiveELO - 2000), 1.33)\n          )\n        )\n      )\n      : 0,\n    legendaryFragments: G.antELO > 3000\n      ? Math.min(\n        maxCap,\n        Math.max(\n          1,\n          Math.floor(\n            (rewardsMult / 230)\n              * Math.pow((1 / 49) * Math.max(0, G.effectiveELO - 3000), 1.16)\n          )\n        )\n      )\n      : 0,\n    mythicalFragments: G.antELO > 5000\n      ? Math.min(\n        maxCap,\n        Math.max(\n          1,\n          Math.floor(\n            (rewardsMult / 220)\n              * Math.pow((1 / 64) * Math.max(0, G.effectiveELO - 4150), 1)\n          )\n        )\n      )\n      : 0\n  }\n\n  return rewards\n}\n\nexport const timeWarp = async () => {\n  const time = await Prompt(i18next.t('calculate.timePrompt'))\n  const timeUse = Number(time)\n  if (Number.isNaN(timeUse) || timeUse <= 0) {\n    return Alert(i18next.t('calculate.timePromptError'))\n  }\n\n  DOMCacheGetOrSet('offlineContainer').style.display = 'flex'\n  DOMCacheGetOrSet('offlineBlur').style.display = ''\n  await calculateOffline(timeUse)\n}\n\nexport const calculateOffline = async (forceTime = 0) => {\n  disableHotkeys()\n\n  G.timeWarp = true\n\n  // Variable Declarations i guess\n  const maximumTimer = 86400 * 3\n    + 7200 * 2 * player.researches[31]\n    + 7200 * 2 * player.researches[32]\n  const updatedTime = Date.now()\n  const timeAdd = Math.min(\n    maximumTimer,\n    Math.max(forceTime, (updatedTime - player.offlinetick) / 1000)\n  )\n  const timeTick = timeAdd / 200\n  let resourceTicks = 200\n\n  DOMCacheGetOrSet('offlineTimer').textContent = i18next.t(\n    'calculate.offlineTimer',\n    { value: format(timeAdd, 0) }\n  )\n\n  // May 11, 2021: I've revamped calculations for this significantly. Note to May 11 Platonic: Fuck off -May 15 Platonic\n  // Some one-time tick things that are relatively important\n  toggleTalismanBuy(player.buyTalismanShardPercent)\n  updateTalismanInventory()\n\n  const offlineDialog = player.offlinetick > 0\n\n  player.offlinetick = player.offlinetick < 1.5e12 ? Date.now() : player.offlinetick\n\n  G.timeMultiplier = calculateTimeAcceleration().mult\n  calculateObtainium()\n  const obtainiumGain = calculateAutomaticObtainium()\n\n  const resetAdd = {\n    prestige: timeAdd / Math.max(0.01, player.fastestprestige),\n    offering: Math.floor(timeAdd),\n    transcension: timeAdd / Math.max(0.01, player.fastesttranscend),\n    reincarnation: timeAdd / Math.max(0.01, player.fastestreincarnate),\n    obtainium: timeAdd * obtainiumGain * G.timeMultiplier\n  }\n\n  const timerAdd = {\n    prestige: timeAdd * G.timeMultiplier,\n    transcension: timeAdd * G.timeMultiplier,\n    reincarnation: timeAdd * G.timeMultiplier,\n    ants: timeAdd * G.timeMultiplier,\n    antsReal: timeAdd,\n    ascension: player.ascensionCounter, // Calculate this after the fact\n    quarks: quarkHandler().gain // Calculate this after the fact\n  }\n\n  cacheReinitialize()\n\n  addTimers('ascension', timeAdd)\n  addTimers('quarks', timeAdd)\n  addTimers('goldenQuarks', timeAdd)\n  addTimers('singularity', timeAdd)\n  addTimers('octeracts', timeTick)\n  addTimers('ambrosia', timeAdd)\n\n  player.prestigeCount += resetAdd.prestige\n  player.transcendCount += resetAdd.transcension\n  player.reincarnationCount += resetAdd.reincarnation\n  timerAdd.ascension = player.ascensionCounter - timerAdd.ascension\n  timerAdd.quarks = quarkHandler().gain - timerAdd.quarks\n\n  // 200 simulated all ticks [July 12, 2021]\n  const runOffline = setInterval(() => {\n    G.timeMultiplier = calculateTimeAcceleration().mult\n    calculateObtainium()\n\n    // Reset Stuff lmao!\n    addTimers('prestige', timeTick)\n    addTimers('transcension', timeTick)\n    addTimers('reincarnation', timeTick)\n    addTimers('octeracts', timeTick)\n\n    resourceGain(timeTick * G.timeMultiplier)\n\n    // Auto Obtainium Stuff\n    if (player.researches[61] > 0 && player.currentChallenge.ascension !== 14) {\n      automaticTools('addObtainium', timeTick)\n    }\n\n    // Auto Ant Sacrifice Stuff\n    if (player.achievements[173] > 0) {\n      automaticTools('antSacrifice', timeTick)\n    }\n\n    // Auto Offerings\n    automaticTools('addOfferings', timeTick)\n    // Auto Rune Sacrifice Stuff\n    if (player.shopUpgrades.offeringAuto > 0 && player.autoSacrificeToggle) {\n      automaticTools('runeSacrifice', timeTick)\n    }\n\n    if (resourceTicks % 5 === 1) {\n      // 196, 191, ... , 6, 1 ticks remaining\n      updateAll()\n    }\n\n    resourceTicks -= 1\n    // Misc functions\n    if (resourceTicks < 1) {\n      clearInterval(runOffline)\n      G.timeWarp = false\n    }\n  }, 0)\n\n  DOMCacheGetOrSet('offlinePrestigeCountNumber').textContent = format(\n    resetAdd.prestige,\n    0,\n    true\n  )\n  DOMCacheGetOrSet('offlinePrestigeTimer').innerHTML = i18next.t(\n    'offlineProgress.currentPrestigeTimer',\n    {\n      value: format(timerAdd.prestige, 2, false)\n    }\n  )\n  DOMCacheGetOrSet('offlineOfferingCount').innerHTML = i18next.t(\n    'offlineProgress.offeringsGenerated',\n    {\n      value: format(resetAdd.offering, 0, true)\n    }\n  )\n  DOMCacheGetOrSet('offlineTranscensionCount').innerHTML = i18next.t(\n    'offlineProgress.transcensionCount',\n    {\n      value: format(resetAdd.transcension, 0, true)\n    }\n  )\n  DOMCacheGetOrSet('offlineTranscensionTimer').innerHTML = i18next.t(\n    'offlineProgress.currentTranscensionCounter',\n    {\n      value: format(timerAdd.transcension, 2, false)\n    }\n  )\n  DOMCacheGetOrSet('offlineReincarnationCount').innerHTML = i18next.t(\n    'offlineProgress.reincarnationCount',\n    {\n      value: format(resetAdd.reincarnation, 0, true)\n    }\n  )\n  DOMCacheGetOrSet('offlineReincarnationTimer').innerHTML = i18next.t(\n    'offlineProgress.currentReincarnationTimer',\n    {\n      value: format(timerAdd.reincarnation, 2, false)\n    }\n  )\n  DOMCacheGetOrSet('offlineObtainiumCount').innerHTML = i18next.t(\n    'offlineProgress.obtainiumGenerated',\n    {\n      value: format(resetAdd.obtainium, 0, true)\n    }\n  )\n  DOMCacheGetOrSet('offlineAntTimer').innerHTML = i18next.t(\n    'offlineProgress.ingameAntSacTimer',\n    {\n      value: format(timerAdd.ants, 2, false)\n    }\n  )\n  DOMCacheGetOrSet('offlineRealAntTimer').innerHTML = i18next.t(\n    'offlineProgress.realAntSacTimer',\n    {\n      value: format(timerAdd.antsReal, 2, true)\n    }\n  )\n  DOMCacheGetOrSet('offlineAscensionTimer').innerHTML = i18next.t(\n    'offlineProgress.currentAscensionTimer',\n    {\n      value: format(timerAdd.ascension, 2, true)\n    }\n  )\n  DOMCacheGetOrSet('offlineQuarkCount').innerHTML = i18next.t(\n    'offlineProgress.exportQuarks',\n    {\n      value: format(timerAdd.quarks, 0, true)\n    }\n  )\n\n  DOMCacheGetOrSet('progressbardescription').textContent = i18next.t(\n    'calculate.offlineEarnings'\n  )\n\n  player.offlinetick = updatedTime\n  if (!player.loadedNov13Vers) {\n    if (\n      player.challengecompletions[14] > 0\n      || player.highestchallengecompletions[14] > 0\n    ) {\n      const ascCount = player.ascensionCount\n      reset('ascensionChallenge')\n      player.ascensionCount = ascCount + 1\n    }\n    player.loadedNov13Vers = true\n  }\n\n  await saveSynergy()\n\n  updateTalismanInventory()\n  calculateObtainium()\n  calculateAnts()\n  calculateRuneLevels()\n\n  // allow aesthetic offline progress\n  if (offlineDialog) {\n    const el = DOMCacheGetOrSet('notification')\n    el.classList.add('slide-out')\n    el.classList.remove('slide-in')\n    document.body.classList.remove('scrollbar')\n    document.body.classList.add('loading')\n    DOMCacheGetOrSet('exitOffline').style.visibility = 'hidden'\n    DOMCacheGetOrSet('offlineContainer').style.display = 'flex'\n    DOMCacheGetOrSet('transparentBG').style.display = 'block'\n  } else {\n    exitOffline()\n  }\n}\n\nexport const exitOffline = () => {\n  document.body.classList.remove('loading')\n  document.body.classList.add('scrollbar')\n  DOMCacheGetOrSet('transparentBG').style.display = 'none'\n  DOMCacheGetOrSet('offlineContainer').style.display = 'none'\n  DOMCacheGetOrSet('offlineBlur').style.display = 'none'\n  enableHotkeys()\n}\n\nexport const calculateSigmoid = (\n  constant: number,\n  factor: number,\n  divisor: number\n) => {\n  return 1 + (constant - 1) * (1 - Math.pow(2, -factor / divisor))\n}\n\nexport const calculateSigmoidExponential = (\n  constant: number,\n  coefficient: number\n) => {\n  return 1 + (constant - 1) * (1 - Math.exp(-coefficient))\n}\n\nexport const calculateCubeBlessings = () => {\n  // The visual updates are handled in visualUpdateCubes()\n  const cubeArray = [\n    player.cubeBlessings.accelerator,\n    player.cubeBlessings.multiplier,\n    player.cubeBlessings.offering,\n    player.cubeBlessings.runeExp,\n    player.cubeBlessings.obtainium,\n    player.cubeBlessings.antSpeed,\n    player.cubeBlessings.antSacrifice,\n    player.cubeBlessings.antELO,\n    player.cubeBlessings.talismanBonus,\n    player.cubeBlessings.globalSpeed\n  ]\n  const powerBonus = [\n    player.cubeUpgrades[45] / 100,\n    player.cubeUpgrades[35] / 100,\n    player.cubeUpgrades[24] / 100,\n    player.cubeUpgrades[14] / 100,\n    player.cubeUpgrades[40] / 100,\n    player.cubeUpgrades[22] / 40,\n    player.cubeUpgrades[15] / 100,\n    player.cubeUpgrades[25] / 100,\n    player.cubeUpgrades[44] / 100,\n    player.cubeUpgrades[34] / 100\n  ]\n\n  for (let i = 1; i <= 10; i++) {\n    let power = 1\n    let mult = 1\n    if (cubeArray[i - 1] >= 1000) {\n      power = G.blessingDRPower[i]!\n      mult *= Math.pow(\n        1000,\n        (1 - G.blessingDRPower[i]!) * (1 + powerBonus[i - 1])\n      )\n    }\n    if (i === 6) {\n      power = 2.25\n      mult = 1\n    }\n\n    G.cubeBonusMultiplier[i] = Math.min(\n      1e300,\n      1\n        + mult\n          * G.blessingbase[i]!\n          * Math.pow(cubeArray[i - 1], power * (1 + powerBonus[i - 1]))\n          * G.tesseractBonusMultiplier[i]!\n    )\n  }\n  calculateRuneLevels()\n  calculateAntSacrificeELO()\n  calculateObtainium()\n}\n\nexport const calculateTotalOcteractCubeBonus = () => {\n  if (player.singularityChallenges.noOcteracts.enabled) {\n    return 1\n  }\n  if (player.totalWowOcteracts < 1000) {\n    const bonus = 1 + (2 / 1000) * player.totalWowOcteracts // At 1,000 returns 3\n    return bonus > 1.00001 ? bonus : 1\n  } else {\n    const power = 2 + +player.singularityChallenges.noOcteracts.rewards.octeractPow\n    return 3 * Math.pow(Math.log10(player.totalWowOcteracts) - 2, power) // At 1,000 returns 3\n  }\n}\n\nexport const calculateTotalOcteractQuarkBonus = () => {\n  if (player.singularityChallenges.noOcteracts.enabled) {\n    return 1\n  }\n  if (player.totalWowOcteracts < 1000) {\n    const bonus = 1 + (0.2 / 1000) * player.totalWowOcteracts // At 1,000 returns 1.20\n    return bonus > 1.00001 ? bonus : 1\n  } else {\n    return 1.1 + 0.1 * (Math.log10(player.totalWowOcteracts) - 2) // At 1,000 returns 1.20\n  }\n}\n\nexport const calculateTotalOcteractOfferingBonus = () => {\n  if (!player.singularityChallenges.noOcteracts.rewards.offeringBonus) {\n    return 1\n  }\n  return Math.pow(calculateTotalOcteractQuarkBonus(), 1.5)\n}\n\nexport const calculateTotalOcteractObtainiumBonus = () => {\n  if (!player.singularityChallenges.noOcteracts.rewards.obtainiumBonus) {\n    return 1\n  }\n  return Math.pow(calculateTotalOcteractQuarkBonus(), 1.4)\n}\n\nexport const calculateAllCubeMultiplier = () => {\n  let exaltPenalty = 1\n  if (player.singularityChallenges.limitedTime.enabled) {\n    const comps = player.singularityChallenges.limitedTime.completions\n    const time = player.singChallengeTimer\n    exaltPenalty = calculateExalt6Penalty(comps, time)\n  }\n  const arr = [\n    // Ascension Time Multiplier to cubes\n    Math.pow(Math.min(1, player.ascensionCounter / 10), 2)\n    * (1\n      + ((1 / 4) * player.achievements[204]\n          + (1 / 4) * player.achievements[211]\n          + (1 / 2) * player.achievements[218])\n        * Math.max(0, player.ascensionCounter / 10 - 1)),\n    // Sun and Moon achievements\n    1\n    + (6 / 100) * player.achievements[250]\n    + (10 / 100) * player.achievements[251],\n    // Speed Achievement\n    1\n    + player.achievements[240]\n      * Math.min(\n        0.5,\n        Math.max(\n          0.1,\n          (1 / 20) * Math.log10(calculateTimeAcceleration().mult + 0.01)\n        )\n      ),\n    // Challenge 15: All Cube Gain bonuses 1-5\n    G.challenge15Rewards.cube1\n    * G.challenge15Rewards.cube2\n    * G.challenge15Rewards.cube3\n    * G.challenge15Rewards.cube4\n    * G.challenge15Rewards.cube5,\n    // Rune 6: Infinite Ascent\n    1 + (1 / 100) * calculateEffectiveIALevel(),\n    // BETA: 2x Cubes\n    1 + player.platonicUpgrades[10],\n    // OMEGA: C9 Cube Bonus\n    Math.pow(\n      1.01,\n      player.platonicUpgrades[15] * player.challengecompletions[9]\n    ),\n    // Powder Bonus\n    calculateCubeMultFromPowder(),\n    // Event\n    1 + calculateEventBuff(BuffType.Cubes),\n    // Singularity Factor\n    1 / calculateSingularityDebuff('Cubes'),\n    // Wow Pass Y\n    1 + (0.75 * player.shopUpgrades.seasonPassY) / 100,\n    // BUY THIS! Golden Quark Upgrade\n    1 + 4 * (player.singularityUpgrades.starterPack.getEffect().bonus ? 1 : 0),\n    // Cube Flame [GQ]\n    +player.singularityUpgrades.singCubes1.getEffect().bonus,\n    // Cube Blaze [GQ]\n    +player.singularityUpgrades.singCubes2.getEffect().bonus,\n    // Cube Inferno [GQ]\n    +player.singularityUpgrades.singCubes3.getEffect().bonus,\n    // Wow Pass Z\n    1 + (player.shopUpgrades.seasonPassZ * player.singularityCount) / 100,\n    // Cookie Upgrade 16\n    1 + 1 * player.cubeUpgrades[66] * (1 - player.platonicUpgrades[15]),\n    // Cookie Upgrade 8 (now actually works)\n    1 + 0.25 * +G.isEvent * player.cubeUpgrades[58],\n    // Wow Octeract Bonus\n    calculateTotalOcteractCubeBonus(),\n    // No Singularity Upgrades Challenge\n    +player.singularityChallenges.noSingularityUpgrades.rewards.cubes,\n    // Singularity Citadel\n    +player.singularityUpgrades.singCitadel.getEffect().bonus,\n    // Singularity Citadel 2\n    +player.singularityUpgrades.singCitadel2.getEffect().bonus,\n    // Platonic DELTA\n    1\n    + +player.singularityUpgrades.platonicDelta.getEffect().bonus\n      * Math.min(9, (player.shopUpgrades.shopSingularitySpeedup > 0) ? player.singularityCounter * 20 / (3600 * 24) : player.singularityCounter / (3600 * 24)),\n    // Wow Pass INF\n    Math.pow(1.02, player.shopUpgrades.seasonPassInfinity),\n    // Ambrosia Mult\n    calculateAmbrosiaCubeMult(),\n    // Module - Tutorial\n    +player.blueberryUpgrades.ambrosiaTutorial.bonus.cubes,\n    // Module - Cubes 1\n    +player.blueberryUpgrades.ambrosiaCubes1.bonus.cubes,\n    // Module - Luck-Cube 1\n    +player.blueberryUpgrades.ambrosiaLuckCube1.bonus.cubes,\n    // Module - Quark-Cube 1\n    +player.blueberryUpgrades.ambrosiaQuarkCube1.bonus.cubes,\n    // Module - Cubes 2\n    +player.blueberryUpgrades.ambrosiaCubes2.bonus.cubes,\n    // Module - Hyperflux\n    +player.blueberryUpgrades.ambrosiaHyperflux.bonus.hyperFlux,\n    // 20 Ascension Challenge - X20 Bonus\n    +calculateEXALTBonusMult(),\n    // Cash Grab Ultra\n    +calculateCashGrabCubeBonus(),\n    // EX Ultra\n    +calculateEXUltraCubeBonus(),\n    // Divisor: Exalt 6\n    exaltPenalty\n    // Total Global Cube Multipliers: 34\n  ]\n\n  const extraMult = G.isEvent && G.eventClicked ? 1.05 : 1\n  return {\n    mult: productContents(arr) * extraMult,\n    list: arr\n  }\n}\n\nexport const calculateCubeMultiplier = (score = -1) => {\n  if (score < 0) {\n    score = calculateAscensionScore().effectiveScore\n  }\n\n  const arr = [\n    // Ascension Score Multiplier\n    Math.pow(score / 3000, 1 / 4.1),\n    // Global Multiplier\n    calculateAllCubeMultiplier().mult,\n    // Season Pass 1\n    1 + (2.25 * player.shopUpgrades.seasonPass) / 100,\n    // Researches (Excl 8x25)\n    (1 + player.researches[119] / 400) // 5x19\n    * (1 + player.researches[120] / 400) // 5x20\n    * (1 + player.researches[137] / 100) // 6x12\n    * (1 + (0.9 * player.researches[152]) / 100) // 7x2\n    * (1 + (0.8 * player.researches[167]) / 100) // 7x17\n    * (1 + (0.7 * player.researches[182]) / 100) // 8x7\n    * (1\n      + (0.03 / 100) * player.researches[192] * player.antUpgrades[12 - 1]!) // 8x17\n    * (1 + (0.6 * player.researches[197]) / 100), // 8x22\n    // Research 8x25\n    1 + (0.004 / 100) * player.researches[200],\n    // Cube Upgrades\n    (1 + player.cubeUpgrades[1] / 6) // 1x1\n    * (1 + player.cubeUpgrades[11] / 11) // 2x1\n    * (1 + 0.4 * player.cubeUpgrades[30]), // 3x10\n    // Constant Upgrade 10\n    1\n    + 0.01\n      * Decimal.log(player.ascendShards.add(1), 4)\n      * Math.min(1, player.constantUpgrades[10]),\n    // Achievement 189 Bonus\n    1 + player.achievements[189] * Math.min(2, player.ascensionCount / 2.5e8),\n    // Achievement 193 Bonus\n    1\n    + (player.achievements[193] * Decimal.log(player.ascendShards.add(1), 10))\n      / 400,\n    // Achievement 195 Bonus\n    1\n    + Math.min(\n      250,\n      (player.achievements[195]\n        * Decimal.log(player.ascendShards.add(1), 10))\n        / 400\n    ),\n    // Achievement 198-201 Bonus\n    1\n    + (4 / 100)\n      * (player.achievements[198]\n        + player.achievements[199]\n        + player.achievements[200])\n    + (3 / 100) * player.achievements[201],\n    // Achievement 254 Bonus\n    1\n    + Math.min(0.15, (0.6 / 100) * Math.log10(score + 1))\n      * player.achievements[254],\n    // Spirit Power\n    1 + (calculateCorruptionPoints() / 400) * G.effectiveRuneSpiritPower[2],\n    // Platonic Cube Opening Bonus\n    G.platonicBonusMultiplier[0],\n    // Platonic 1x1\n    1\n    + 0.00009\n      * sumContents(player.usedCorruptions)\n      * player.platonicUpgrades[1],\n    // Cube Upgrade 63 (Cx13)\n    1\n    + Math.pow(1.03, Math.log10(Math.max(1, player.wowAbyssals)))\n      * player.cubeUpgrades[63]\n    - player.cubeUpgrades[63]\n    // Total Multipliers to cubes: 15\n  ]\n\n  // Decided to return a copy of list as well as the actual multiplier, instead of differentiating\n  return {\n    list: arr,\n    mult: productContents(arr)\n  }\n}\n\nexport const calculateTesseractMultiplier = (score = -1) => {\n  if (score < 0) {\n    score = calculateAscensionScore().effectiveScore\n  }\n\n  const corrSum = sumContents(player.usedCorruptions.slice(2, 10))\n  const arr = [\n    // Ascension Score Multiplier\n    Math.pow(1 + Math.max(0, score - 1e5) / 1e4, 0.35),\n    // Global Multiplier\n    calculateAllCubeMultiplier().mult,\n    // Season Pass 1\n    1 + (2.25 * player.shopUpgrades.seasonPass) / 100,\n    // 10th Const Upgrade +Tesseract%\n    1\n    + 0.01\n      * Decimal.log(player.ascendShards.add(1), 4)\n      * Math.min(1, player.constantUpgrades[10]),\n    // Cube Upgrade 3x10\n    1 + 0.4 * player.cubeUpgrades[30],\n    // Cube Upgrade 4x8\n    1 + (1 / 200) * player.cubeUpgrades[38] * corrSum,\n    // Achievement 195 Bonus\n    1\n    + Math.min(\n      250,\n      (player.achievements[195]\n        * Decimal.log(player.ascendShards.add(1), 10))\n        / 400\n    ),\n    // Achievement 202 Bonus\n    1 + player.achievements[202] * Math.min(2, player.ascensionCount / 5e8),\n    // Achievement 205-208 Bonus\n    1\n    + (4 / 100)\n      * (player.achievements[205]\n        + player.achievements[206]\n        + player.achievements[207])\n    + (3 / 100) * player.achievements[208],\n    // Achievement 255 Bonus\n    1\n    + Math.min(0.15, (0.6 / 100) * Math.log10(score + 1))\n      * player.achievements[255],\n    // Platonic Cube Bonus\n    G.platonicBonusMultiplier[1],\n    // Platonic Upgrade 1x2\n    1 + 0.00018 * corrSum * player.platonicUpgrades[2]\n    // Total Tesseract Multipliers: 12\n  ]\n\n  return {\n    list: arr,\n    mult: productContents(arr)\n  }\n}\n\nexport const calculateHypercubeMultiplier = (score = -1) => {\n  if (score < 0) {\n    score = calculateAscensionScore().effectiveScore\n  }\n\n  const arr = [\n    // Ascension Score Multiplier\n    Math.pow(1 + Math.max(0, score - 1e9) / 1e8, 0.5),\n    // Global Multiplier\n    calculateAllCubeMultiplier().mult,\n    // Season Pass 2\n    1 + (1.5 * player.shopUpgrades.seasonPass2) / 100,\n    // Achievement 212 - 215 Bonus\n    1\n    + (4 / 100)\n      * (player.achievements[212]\n        + player.achievements[213]\n        + player.achievements[214])\n    + (3 / 100) * player.achievements[215],\n    // Achievement 216 Bonus\n    1 + player.achievements[216] * Math.min(2, player.ascensionCount / 1e9),\n    // Achievement 253 Bonus\n    1 + (1 / 10) * player.achievements[253],\n    // Achievement 256 Bonus\n    1\n    + Math.min(0.15, (0.6 / 100) * Math.log10(score + 1))\n      * player.achievements[256],\n    // Achievement 265 Bonus\n    1 + Math.min(2, player.ascensionCount / 2.5e10) * player.achievements[265],\n    // Platonic Cubes Opened Bonus\n    G.platonicBonusMultiplier[2],\n    // Platonic Upgrade 1x3\n    1\n    + 0.00054\n      * sumContents(player.usedCorruptions)\n      * player.platonicUpgrades[3],\n    // Hyperreal Hepteract Bonus\n    1 + (0.6 / 1000) * hepteractEffective('hyperrealism')\n    // Total Hypercube Multipliers: 11\n  ]\n\n  return {\n    list: arr,\n    mult: productContents(arr)\n  }\n}\n\nexport const calculatePlatonicMultiplier = (score = -1) => {\n  if (score < 0) {\n    score = calculateAscensionScore().effectiveScore\n  }\n\n  const arr = [\n    // Ascension Score Multiplier\n    Math.pow(1 + Math.max(0, score - 2.666e12) / 2.666e11, 0.75),\n    // Global Multipliers\n    calculateAllCubeMultiplier().mult,\n    // Season Pass 2\n    1 + (1.5 * player.shopUpgrades.seasonPass2) / 100,\n    // Achievement 196 Bonus\n    1\n    + Math.min(\n      20,\n      ((player.achievements[196] * 1) / 5000)\n        * Decimal.log(player.ascendShards.add(1), 10)\n    ),\n    // Achievement 219-222 Bonus\n    1\n    + (4 / 100)\n      * (player.achievements[219]\n        + player.achievements[220]\n        + player.achievements[221])\n    + (3 / 100) * player.achievements[222],\n    // Achievement 223 Bonus\n    1 + player.achievements[223] * Math.min(2, player.ascensionCount / 1.337e9),\n    // Achievement 257 Bonus\n    1\n    + Math.min(0.15, (0.6 / 100) * Math.log10(score + 1))\n      * player.achievements[257],\n    // Platonic Cube Opening Bonus\n    G.platonicBonusMultiplier[3],\n    // Platonic Upgrade 1x4\n    1 + (1.2 * player.platonicUpgrades[4]) / 50\n    // Total Platonic Multipliers: 9\n  ]\n\n  return {\n    list: arr,\n    mult: productContents(arr)\n  }\n}\n\nexport const calculateHepteractMultiplier = (score = -1) => {\n  if (score < 0) {\n    score = calculateAscensionScore().effectiveScore\n  }\n\n  const arr = [\n    // Ascension Score Multiplier\n    Math.pow(1 + Math.max(0, score - 1.666e16) / 3.33e16, 0.85),\n    // Global Multiplier\n    calculateAllCubeMultiplier().mult,\n    // Season Pass 3\n    1 + (1.5 * player.shopUpgrades.seasonPass3) / 100,\n    // Achievement 258 Bonus\n    1\n    + Math.min(0.15, (0.6 / 100) * Math.log10(score + 1))\n      * player.achievements[258],\n    // Achievement 264 Bonus [Max: 8T Asc]\n    1 + Math.min(0.4, player.ascensionCount / 2e13) * player.achievements[264],\n    // Achievement 265 Bonus [Max: 160T Asc]\n    1 + Math.min(0.2, player.ascensionCount / 8e14) * player.achievements[265],\n    // Achievement 270 Bonus\n    Math.min(\n      2,\n      1\n        + (1 / 1000000)\n          * Decimal.log(player.ascendShards.add(1), 10)\n          * player.achievements[270]\n    )\n    // Total Hepteract Multipliers: 7\n  ]\n\n  return {\n    list: arr,\n    mult: productContents(arr)\n  }\n}\n\nexport const getOcteractValueMultipliers = () => {\n  const corruptionLevelSum = sumContents(player.usedCorruptions.slice(2, 10))\n  return [\n    1 + (1.5 * player.shopUpgrades.seasonPass3) / 100,\n    1 + (0.75 * player.shopUpgrades.seasonPassY) / 100,\n    1 + (player.shopUpgrades.seasonPassZ * player.singularityCount) / 100,\n    1 + player.shopUpgrades.seasonPassLost / 1000,\n    // cube upgrade 70, ie Cx20\n    1 + (+(corruptionLevelSum >= 14 * 8) * player.cubeUpgrades[70]) / 10000,\n    1\n    + +(corruptionLevelSum >= 14 * 8)\n      * +player.singularityUpgrades.divinePack.getEffect().bonus,\n    // next three are flame/blaze/inferno\n    +player.singularityUpgrades.singCubes1.getEffect().bonus,\n    +player.singularityUpgrades.singCubes2.getEffect().bonus,\n    +player.singularityUpgrades.singCubes3.getEffect().bonus,\n    // absinthe through eighth wonder\n    +player.singularityUpgrades.singOcteractGain.getEffect().bonus,\n    +player.singularityUpgrades.singOcteractGain2.getEffect().bonus,\n    +player.singularityUpgrades.singOcteractGain3.getEffect().bonus,\n    +player.singularityUpgrades.singOcteractGain4.getEffect().bonus,\n    +player.singularityUpgrades.singOcteractGain5.getEffect().bonus,\n    // Patreon bonus\n    1\n    + (getQuarkBonus() / 100)\n      * +player.singularityUpgrades.singOcteractPatreonBonus.getEffect().bonus,\n    // octeracts for dummies\n    1 + 0.2 * +player.octeractUpgrades.octeractStarter.getEffect().bonus,\n    // cogenesis and trigenesis\n    +player.octeractUpgrades.octeractGain.getEffect().bonus,\n    +player.octeractUpgrades.octeractGain2.getEffect().bonus,\n    derpsmithCornucopiaBonus(),\n    // digital octeract accumulator\n    Math.pow(\n      1\n        + +player.octeractUpgrades.octeractAscensionsOcteractGain.getEffect()\n          .bonus,\n      1 + Math.floor(Math.log10(1 + player.ascensionCount))\n    ),\n    1 + calculateEventBuff(BuffType.Octeract),\n    1\n    + +player.singularityUpgrades.platonicDelta.getEffect().bonus\n      * Math.min(9, (player.shopUpgrades.shopSingularitySpeedup > 0) ? player.singularityCounter * 20 / (3600 * 24) : player.singularityCounter / (3600 * 24)),\n    // No Singulairty Upgrades\n    +player.singularityChallenges.noSingularityUpgrades.rewards.cubes,\n    // Wow Pass INF\n    Math.pow(1.02, player.shopUpgrades.seasonPassInfinity),\n    // Ambrosia Mult\n    calculateAmbrosiaCubeMult(),\n    // Module- Tutorial\n    +player.blueberryUpgrades.ambrosiaTutorial.bonus.cubes,\n    // Module- Cubes 1\n    +player.blueberryUpgrades.ambrosiaCubes1.bonus.cubes,\n    // Module- Luck-Cube 1\n    +player.blueberryUpgrades.ambrosiaLuckCube1.bonus.cubes,\n    // Module- Quark-Cube 1\n    +player.blueberryUpgrades.ambrosiaQuarkCube1.bonus.cubes,\n    // Module- Cubes 2\n    +player.blueberryUpgrades.ambrosiaCubes2.bonus.cubes,\n    // Cash Grab ULTRA\n    +calculateCashGrabCubeBonus(),\n    // EX ULTRA\n    +calculateEXUltraCubeBonus()\n  ]\n}\n\nexport const octeractGainPerSecond = () => {\n  const SCOREREQ = 1e23\n  const currentScore = calculateAscensionScore().effectiveScore\n\n  const baseMultiplier = currentScore >= SCOREREQ ? currentScore / SCOREREQ : 0\n\n  const valueMultipliers = getOcteractValueMultipliers()\n\n  const ascensionSpeed = player.singularityUpgrades.oneMind.getEffect().bonus\n    ? Math.pow(10, 1 / 2)\n    : Math.pow(calculateAscensionAcceleration(), 1 / 2)\n  const oneMindModifier = player.singularityUpgrades.oneMind.getEffect().bonus\n    ? Math.pow(\n      calculateAscensionAcceleration() / 10,\n      +player.octeractUpgrades.octeractOneMindImprover.getEffect().bonus\n    )\n    : 1\n  const extraMult = G.isEvent && G.eventClicked ? 1.05 : 1\n  const perSecond = (1 / (24 * 3600 * 365 * 1e15))\n    * baseMultiplier\n    * productContents(valueMultipliers)\n    * ascensionSpeed\n    * oneMindModifier\n    * extraMult\n  return perSecond\n}\n\n// This is an old calculation used only for Stats for Nerds\nexport const calculateOcteractMultiplier = (score = -1) => {\n  const SCOREREQ = 1e23\n  if (score < 0) {\n    score = calculateAscensionScore().effectiveScore\n  }\n\n  const arr = getOcteractValueMultipliers()\n\n  // add base score to the beginning and ascension speed mult to the end of the list\n  arr.unshift(score >= SCOREREQ ? score / SCOREREQ : 0)\n  const ascensionSpeed = calculateAscensionAcceleration()\n\n  const ascensionSpeedMulti = player.singularityUpgrades.oneMind.getEffect()\n      .bonus\n    ? Math.pow(10, 1 / 2)\n      * Math.pow(\n        ascensionSpeed / 10,\n        +player.octeractUpgrades.octeractOneMindImprover.getEffect().bonus\n      )\n    : Math.pow(ascensionSpeed, 1 / 2)\n  arr.push(ascensionSpeedMulti)\n\n  return {\n    list: arr,\n    mult: productContents(arr)\n  }\n}\n\nexport const calculateTimeAcceleration = () => {\n  const preCorruptionArr = [\n    1 + (1 / 300) * Math.log10(player.maxobtainium + 1) * player.upgrades[70], // Particle upgrade 2x5\n    1 + player.researches[121] / 50, // research 5x21\n    1 + 0.015 * player.researches[136], // research 6x11\n    1 + 0.012 * player.researches[151], // research 7x1\n    1 + 0.009 * player.researches[166], // research 7x16\n    1 + 0.006 * player.researches[181], // research 8x6\n    1 + 0.003 * player.researches[196], // research 8x21\n    1 + 8 * G.effectiveRuneBlessingPower[1], // speed blessing\n    1 + (calculateCorruptionPoints() / 400) * G.effectiveRuneSpiritPower[1], // speed SPIRIT\n    G.cubeBonusMultiplier[10], // Chronos cube blessing\n    1 + player.cubeUpgrades[18] / 5, // cube upgrade 2x8\n    calculateSigmoid(2, player.antUpgrades[12 - 1]! + G.bonusant12, 69), // ant 12\n    1 + 0.1 * (player.talismanRarity[2 - 1] - 1), // Chronos Talisman bonus\n    G.challenge15Rewards.globalSpeed, // Challenge 15 reward\n    1 + 0.01 * player.cubeUpgrades[52], // cube upgrade 6x2 (Cx2)\n  ]\n\n  // Global Speed softcap + Corruption / Corruption-like effects\n  const corruptionArr: number[] = [\n    G.lazinessMultiplier[player.usedCorruptions[3]] // Corruption:  Spacial Dilation\n  ]\n\n  const corruptableTimeMult = productContents(preCorruptionArr) * corruptionArr[0] // DR applies after base corruption.\n\n  if (corruptableTimeMult > 100) {\n    const postSoftcap = 10 * Math.sqrt(corruptableTimeMult)\n    const softcapRatio = postSoftcap / corruptableTimeMult\n\n    corruptionArr.push(softcapRatio)\n  } else {\n    corruptionArr.push(1)\n  }\n\n  if (corruptableTimeMult < 1) {\n    const postPlat2x2 = Math.pow(\n      corruptableTimeMult,\n      1 - player.platonicUpgrades[7] / 30\n    )\n    const plat2x2Ratio = postPlat2x2 / corruptableTimeMult\n\n    corruptionArr.push(plat2x2Ratio)\n  } else {\n    corruptionArr.push(1)\n  }\n\n  corruptionArr.push(1.0 / calculateSingularityDebuff('Global Speed'))\n\n  // Uncorruptable effects\n  const postCorruptionArr = [\n    G.platonicBonusMultiplier[7], // Chronos statue\n    1 + (player.singularityUpgrades.intermediatePack.getEffect().bonus ? 1 : 0),\n    1\n    + +player.octeractUpgrades.octeractImprovedGlobalSpeed.getEffect().bonus\n      * player.singularityCount,\n    1 + +player.singularityChallenges.limitedTime.rewards.globalSpeed, // Limited Time Challenge\n    Math.max(Math.pow(1.01, (player.singularityCount - 200) * player.shopUpgrades.shopChronometerS), 1) // Limited Time Upg Accels\n  ]\n\n  const timeMult = productContents(preCorruptionArr)\n    * productContents(corruptionArr)\n    * productContents(postCorruptionArr)\n\n  if (player.usedCorruptions[3] >= 6 && player.achievements[241] < 1) {\n    achievementaward(241)\n  }\n  if (timeMult > 3600 && player.achievements[242] < 1) {\n    achievementaward(242)\n  }\n\n  return {\n    preList: preCorruptionArr,\n    drList: corruptionArr,\n    postList: postCorruptionArr,\n    mult: timeMult\n  }\n}\n\nexport const calculateLimitedAscensionsDebuff = () => {\n  if (!player.singularityChallenges.limitedAscensions.enabled) {\n    return 1\n  } else {\n    let exponent = player.ascensionCount\n      - Math.max(\n        0,\n        20 - player.singularityChallenges.limitedAscensions.completions\n      )\n    exponent = Math.max(0, exponent)\n    return Math.pow(2, exponent)\n  }\n}\n\nexport const calculateAscensionSpeedMultiplier = () => {\n  const arr = [\n    1 + (1.2 / 100) * player.shopUpgrades.chronometer, // Chronometer\n    1 + (0.6 / 100) * player.shopUpgrades.chronometer2, // Chronometer 2\n    1 + (1.5 / 100) * player.shopUpgrades.chronometer3, // Chronometer 3\n    1 + (0.6 / 1000) * hepteractEffective('chronos'), // Chronos Hepteract\n    1\n    + Math.min(0.1, (1 / 100) * Math.log10(player.ascensionCount + 1))\n      * player.achievements[262], // Achievement 262 Bonus\n    1\n    + Math.min(0.1, (1 / 100) * Math.log10(player.ascensionCount + 1))\n      * player.achievements[263], // Achievement 263 Bonus\n    1\n    + 0.002 * sumContents(player.usedCorruptions) * player.platonicUpgrades[15], // Platonic Omega\n    G.challenge15Rewards.ascensionSpeed, // Challenge 15 Reward\n    1 + (1 / 400) * player.cubeUpgrades[59], // Cookie Upgrade 9\n    1\n    + 0.5\n      * (player.singularityUpgrades.intermediatePack.getEffect().bonus ? 1 : 0), // Intermediate Pack, Sing Shop\n    1 + (1 / 1000) * player.singularityCount * player.shopUpgrades.chronometerZ, // Chronometer Z\n    1\n    + +player.octeractUpgrades.octeractImprovedAscensionSpeed.getEffect()\n        .bonus\n      * player.singularityCount, // Abstract Photokinetics, Oct Upg\n    1\n    + +player.octeractUpgrades.octeractImprovedAscensionSpeed2.getEffect()\n        .bonus\n      * player.singularityCount, // Abstract Exokinetics, Oct Upg\n    1 + calculateEventBuff(BuffType.AscensionSpeed), // Event\n    player.singularityUpgrades.singAscensionSpeed2.level > 0\n      && player.runelevels[6] < 1\n      ? 6\n      : 1, // A mediocre ascension speedup!\n    Math.pow(1.01, player.shopUpgrades.chronometerInfinity), // Chronometer INF\n    1 / calculateLimitedAscensionsDebuff(), // EXALT Debuff\n    Math.pow(\n      1\n        + +player.singularityChallenges.limitedAscensions.rewards\n          .ascensionSpeedMult,\n      1 + Math.max(0, Math.floor(Math.log10(player.ascensionCount)))\n    ), // EXALT Buff\n    1 + +player.singularityChallenges.limitedTime.rewards.ascensionSpeed,\n    Math.max(Math.pow(1.01, (player.singularityCount - 200) * player.shopUpgrades.shopChronometerS), 1)\n  ]\n\n  // A hecking good ascension speedup!\n  const baseMultiplier = productContents(arr)\n  const exponent = player.singularityUpgrades.singAscensionSpeed.level > 0\n    ? baseMultiplier >= 1\n      ? 1.03\n      : 0.97\n    : 1\n  arr.push(Math.pow(baseMultiplier, exponent) / baseMultiplier)\n\n  // Singularity Penalty\n  arr.push(1 / calculateSingularityDebuff('Ascension Speed'))\n\n  let multiplier = productContents(arr)\n  if (!isFinite(multiplier)) {\n    multiplier = 0\n  }\n\n  return {\n    list: arr,\n    mult: multiplier\n  }\n}\n\nexport const calculateAscensionAcceleration = () => {\n  return calculateAscensionSpeedMultiplier().mult\n}\n\nexport const calculateSingularityQuarkMilestoneMultiplier = () => {\n  let multiplier = 1\n  // dprint-ignore\n  const singThresholds = [\n    5, 7, 10, 20, 35, 50, 65, 80, 90, 100, 121, 144, 150, 160, 166, 169, 170,\n    175, 180, 190, 196, 200, 201, 202, 203, 204, 205, 210, 212, 214, 216, 218,\n    220, 225, 250, 255, 260, 261, 262,\n  ];\n  for (const sing of singThresholds) {\n    if (player.highestSingularityCount >= sing) {\n      multiplier *= 1.05\n    }\n  }\n\n  if (player.highestSingularityCount >= 200) {\n    multiplier *= Math.pow((player.highestSingularityCount - 179) / 20, 2)\n  }\n\n  return multiplier\n}\n\nexport const calculateQuarkMultiplier = () => {\n  let multiplier = 1\n  if (player.achievementPoints > 0) {\n    // Achievement Points\n    multiplier += player.achievementPoints / 25000 // Cap of +0.20 at 5,000 Pts\n  }\n  if (player.achievements[250] > 0) {\n    // Max research 8x25\n    multiplier += 0.1\n  }\n  if (player.achievements[251] > 0) {\n    // Max Wow! Cube Upgrade 5x10\n    multiplier += 0.1\n  }\n  if (player.platonicUpgrades[5] > 0) {\n    // Platonic ALPHA upgrade\n    multiplier += 0.2\n  }\n  if (player.platonicUpgrades[10] > 0) {\n    // Platonic BETA Upgrade\n    multiplier += 0.25\n  }\n  if (player.platonicUpgrades[15] > 0) {\n    // Platonic OMEGA upgrade\n    multiplier += 0.3\n  }\n  if (player.challenge15Exponent >= 1e11) {\n    // Challenge 15: Exceed 1e11 exponent reward\n    multiplier += G.challenge15Rewards.quarks - 1\n  }\n  if (player.shopUpgrades.infiniteAscent) {\n    // Purchased Infinite Ascent Rune\n    multiplier *= 1.1 + (0.15 / 75) * calculateEffectiveIALevel()\n  }\n  if (player.challenge15Exponent >= 1e15) {\n    // Challenge 15: Exceed 1e15 exponent reward\n    multiplier *= 1 + (5 / 10000) * hepteractEffective('quark')\n  }\n  if (player.overfluxPowder > 0) {\n    // Overflux Powder [Max: 10% at 10,000]\n    multiplier *= calculateQuarkMultFromPowder()\n  }\n  if (player.achievements[266] > 0) {\n    // Achievement 266 [Max: 10% at 1Qa Ascensions]\n    multiplier *= 1 + Math.min(0.1, player.ascensionCount / 1e16)\n  }\n  if (player.singularityCount > 0) {\n    // Singularity Modifier\n    multiplier *= 1 + player.singularityCount / 10\n  }\n  if (G.isEvent) {\n    multiplier *= 1\n      + calculateEventBuff(BuffType.Quark)\n      + calculateEventBuff(BuffType.OneMind)\n  }\n  if (player.cubeUpgrades[53] > 0) {\n    // Cube Upgrade 6x3 (Cx3)\n    multiplier *= 1 + (0.1 * player.cubeUpgrades[53]) / 100\n  }\n  if (player.cubeUpgrades[68] > 0) {\n    // Cube Upgrade 7x8\n    multiplier *= 1\n      + (1 / 10000) * player.cubeUpgrades[68]\n      + 0.05 * Math.floor(player.cubeUpgrades[68] / 1000)\n  }\n\n  multiplier *= calculateSingularityQuarkMilestoneMultiplier()\n\n  multiplier *= +player.octeractUpgrades.octeractQuarkGain.getEffect().bonus // Oct Improver 1\n  multiplier *= 1 + 0.4 * +player.octeractUpgrades.octeractStarter.getEffect().bonus // Oct Starter Pack\n\n  multiplier *= 1\n    + (1 / 10000)\n      * Math.floor(player.octeractUpgrades.octeractQuarkGain.level / 111)\n      * player.octeractUpgrades.octeractQuarkGain2.level\n      * Math.floor(1 + Math.log10(Math.max(1, player.hepteractCrafts.quark.BAL))) // Improver 2\n\n  multiplier *= 1\n    + 0.02 * player.singularityUpgrades.intermediatePack.level // 1.02\n    + 0.04 * player.singularityUpgrades.advancedPack.level // 1.06\n    + 0.06 * player.singularityUpgrades.expertPack.level // 1.12\n    + 0.08 * player.singularityUpgrades.masterPack.level // 1.20\n    + 0.1 * player.singularityUpgrades.divinePack.level // 1.30\n\n  multiplier *= 1 + +player.singularityUpgrades.singQuarkImprover1.getEffect().bonus // Doohickey\n  multiplier *= calculateTotalOcteractQuarkBonus()\n\n  multiplier *= calculateAmbrosiaQuarkMult()\n  multiplier *= +player.blueberryUpgrades.ambrosiaTutorial.bonus.quarks\n  multiplier *= +player.blueberryUpgrades.ambrosiaQuarks1.bonus.quarks\n  multiplier *= +player.blueberryUpgrades.ambrosiaCubeQuark1.bonus.quarks\n  multiplier *= +player.blueberryUpgrades.ambrosiaLuckQuark1.bonus.quarks\n  multiplier *= +player.blueberryUpgrades.ambrosiaQuarks2.bonus.quarks\n  multiplier *= calculateCashGrabQuarkBonus()\n  multiplier *= (1 + +player.singularityChallenges.limitedTime.rewards.quarkMult)\n  multiplier *= (1 + +player.singularityChallenges.sadisticPrequel.rewards.quarkMult)\n\n  if (player.highestSingularityCount === 0) {\n    multiplier *= 1.25\n  }\n\n  return multiplier\n}\n\n/**\n * Calculate the number of Golden Quarks earned in current singularity\n */\nexport const calculateGoldenQuarkMultiplier = (computeMultiplier = false) => {\n  const base = 2 * player.singularityCount + 10\n\n  let bonus = player.singularityCount < 10 ? 200 - 10 * player.singularityCount : 0\n  if (player.singularityCount === 0) {\n    bonus += 200\n  }\n\n  let perkMultiplier = 1\n  if (player.highestSingularityCount >= 200) {\n    perkMultiplier = 3\n  }\n  if (player.highestSingularityCount >= 208) {\n    perkMultiplier = 5\n  }\n  if (player.highestSingularityCount >= 221) {\n    perkMultiplier = 8\n  }\n\n  const arr = [\n    1 + Math.max(0, Math.log10(player.challenge15Exponent + 1) - 20) / 2, // Challenge 15 Exponent\n    1 + getQuarkBonus() / 100, // Patreon Bonus\n    +player.singularityUpgrades.goldenQuarks1.getEffect().bonus, // Golden Quarks I\n    1 + 0.12 * player.cubeUpgrades[69], // Cookie Upgrade 19\n    +player.singularityChallenges.noSingularityUpgrades.rewards.goldenQuarks, // No Singularity Upgrades\n    1 + calculateEventBuff(BuffType.GoldenQuark), // Event\n    1 + getFastForwardTotalMultiplier(), // Singularity Fast Forwards\n    player.highestSingularityCount >= 100\n      ? 1 + Math.min(1, player.highestSingularityCount / 250)\n      : 1, // Golden Revolution II\n    perkMultiplier, // Immaculate Alchemy\n  ]\n\n  // Total Quarks Coefficient\n  arr.push(\n    computeMultiplier\n      ? 1 / 1e5\n      : ((base + player.quarksThisSingularity / 1e5) * productContents(arr)\n        + bonus)\n        / productContents(arr)\n  )\n\n  return {\n    list: arr,\n    mult: productContents(arr)\n  }\n}\n\nexport const calculateGoldenQuarkGain = (computeMultiplier = false): number => {\n  return calculateGoldenQuarkMultiplier(computeMultiplier).mult\n}\n\nexport const calculateCorruptionPoints = () => {\n  let basePoints = 400\n  const bonusLevel = player.singularityUpgrades.corruptionFifteen.getEffect()\n      .bonus\n    ? 1\n    : 0\n\n  for (let i = 1; i <= 9; i++) {\n    basePoints += 16 * Math.pow(player.usedCorruptions[i] + bonusLevel, 2)\n  }\n\n  return basePoints\n}\n\n// If you want to sum from a baseline level i to the maximum buyable level n, what would the cost be and how many levels would you get?\nexport const calculateSummationLinear = (\n  baseLevel: number,\n  baseCost: number,\n  resourceAvailable: number,\n  differenceCap = 1e9\n): [number, number] => {\n  const subtractCost = (baseCost * baseLevel * (1 + baseLevel)) / 2\n  const buyToLevel = Math.min(\n    baseLevel + differenceCap,\n    Math.floor(\n      -1 / 2\n        + Math.sqrt(1 / 4 + (2 * (resourceAvailable + subtractCost)) / baseCost)\n    )\n  )\n  const realCost = (baseCost * buyToLevel * (1 + buyToLevel)) / 2 - subtractCost\n\n  return [buyToLevel, realCost]\n}\n\n// If you want to sum from a baseline level baseLevel to some level where the cost per level is base * (1 + level * diffPerLevel), this finds out how many total levels you can buy.\nexport const calculateSummationNonLinear = (\n  baseLevel: number,\n  baseCost: number,\n  resourceAvailable: number,\n  diffPerLevel: number,\n  buyAmount: number\n): { levelCanBuy: number; cost: number } => {\n  const c = diffPerLevel / 2\n  resourceAvailable = resourceAvailable || 0\n  const alreadySpent = baseCost * (c * Math.pow(baseLevel, 2) + baseLevel * (1 - c))\n  resourceAvailable += alreadySpent\n  const v = resourceAvailable / baseCost\n  let buyToLevel = c > 0\n    ? Math.max(\n      0,\n      Math.floor(\n        (c - 1) / (2 * c)\n          + Math.pow(Math.pow(1 - c, 2) + 4 * c * v, 1 / 2) / (2 * c)\n      )\n    )\n    : Math.floor(v)\n\n  buyToLevel = Math.min(buyToLevel, buyAmount + baseLevel)\n  buyToLevel = Math.max(buyToLevel, baseLevel)\n  let totalCost = baseCost * (c * Math.pow(buyToLevel, 2) + buyToLevel * (1 - c))\n    - alreadySpent\n  if (buyToLevel === baseLevel) {\n    totalCost = baseCost * (1 + 2 * c * baseLevel)\n  }\n  return {\n    levelCanBuy: buyToLevel,\n    cost: totalCost\n  }\n}\n\n/**\n * @param n A nonnegative integer\n * @returns The sum of the first n positive cubes, 0 if n = 0, or -1 otherwise.\n */\nexport const calculateSummationCubic = (n: number) => {\n  if (n < 0) {\n    return -1\n  }\n  if (!Number.isInteger(n)) {\n    return -1\n  }\n\n  return Math.pow((n * (n + 1)) / 2, 2)\n}\n\n/**\n * Solves a*n^2 + b*n + c = 0 for real solutions.\n * @param a Coefficient of n^2. Must be nonzero!\n * @param b Coefficient of n.\n * @param c Coefficient of constant term\n * @param positive Boolean which if true makes solution use positive discriminant.\n * @returns Positive root of the quadratic, if it exists, and positive is true, otherwise false\n */\nexport const solveQuadratic = (\n  a: number,\n  b: number,\n  c: number,\n  positive: boolean\n) => {\n  if (a < 0) {\n    throw new Error(String(i18next.t('calculate.quadraticImproperError')))\n  }\n  const determinant = Math.pow(b, 2) - 4 * a * c\n  if (determinant < 0) {\n    throw new Error(String(i18next.t('calculate.quadraticDeterminantError')))\n  }\n\n  if (determinant === 0) {\n    return -b / (2 * a)\n  }\n  const numeratorPos = -b + Math.sqrt(Math.pow(b, 2) - 4 * a * c)\n  const numeratorNeg = -b - Math.sqrt(Math.pow(b, 2) - 4 * a * c)\n\n  if (positive) {\n    return numeratorPos / (2 * a)\n  } else {\n    return numeratorNeg / (2 * a)\n  }\n}\n\n/**\n * @param initialLevel\n * @param base\n * @param amountToSpend\n */\nexport const calculateCubicSumData = (\n  initialLevel: number,\n  baseCost: number,\n  amountToSpend: number,\n  maxLevel: number\n) => {\n  if (initialLevel >= maxLevel) {\n    return {\n      levelCanBuy: maxLevel,\n      cost: 0\n    }\n  }\n  const alreadySpent = baseCost * calculateSummationCubic(initialLevel)\n  const totalToSpend = alreadySpent + amountToSpend\n\n  // Solves (n(n+1)/2)^2 * baseCost = totalToSpend\n  /* Create a det = Sqrt(totalToSpend / baseCost)\n   *  Simplification gives n * (n+1) = 2 * det\n   *  We can rewrite as n^2 + n - 2 * det = 0 and solve for n.\n   */\n  if (totalToSpend < 0) {\n    throw new Error(String(i18next.t('calculate.cubicSumNegativeError')))\n  }\n\n  const determinantRoot = Math.pow(totalToSpend / baseCost, 0.5) // Assume nonnegative!\n  const solution = solveQuadratic(1, 1, -2 * determinantRoot, true)\n\n  const levelToBuy = Math.max(\n    Math.min(maxLevel, Math.floor(solution)),\n    initialLevel\n  )\n  const realCost = levelToBuy === initialLevel\n    ? baseCost * Math.pow(initialLevel + 1, 3)\n    : baseCost * calculateSummationCubic(levelToBuy) - alreadySpent\n\n  return {\n    levelCanBuy: levelToBuy,\n    cost: realCost\n  }\n}\n\n// IDEA: Rework this shit to be friendly for Stats for Nerds\n/* May 25, 2021 - Platonic\n    Reorganize this function to make sense, because right now it aint\n    What I did was use the separation of cube gain method on other cube types, and made some methods their\n    own function (specifically: calc of effective score and other global multipliers) to make it easy.\n*/\n\nexport const computeAscensionScoreBonusMultiplier = () => {\n  let multiplier = 1\n  multiplier *= G.challenge15Rewards.score\n  multiplier *= G.platonicBonusMultiplier[6]\n\n  if (player.cubeUpgrades[21] > 0) {\n    multiplier *= 1 + 0.05 * player.cubeUpgrades[21]\n  }\n  if (player.cubeUpgrades[31] > 0) {\n    multiplier *= 1 + 0.05 * player.cubeUpgrades[31]\n  }\n  if (player.cubeUpgrades[41] > 0) {\n    multiplier *= 1 + 0.05 * player.cubeUpgrades[41]\n  }\n  if (player.achievements[267] > 0) {\n    multiplier *= 1\n      + Math.min(1, (1 / 100000) * Decimal.log(player.ascendShards.add(1), 10))\n  }\n  if (player.achievements[259] > 0) {\n    multiplier *= Math.max(\n      1,\n      Math.pow(1.01, Math.log2(player.hepteractCrafts.abyss.CAP))\n    )\n  }\n  if (G.isEvent) {\n    multiplier *= 1 + calculateEventBuff(BuffType.AscensionScore)\n  }\n\n  return multiplier\n}\n\nexport const calculateAscensionScore = () => {\n  let baseScore = 0\n  let corruptionMultiplier = 1\n  let effectiveScore = 0\n\n  let bonusLevel = player.singularityUpgrades.corruptionFifteen.getEffect()\n      .bonus\n    ? 1\n    : 0\n  bonusLevel += +player.singularityChallenges.oneChallengeCap.rewards.freeCorruptionLevel\n  // Init Arrays with challenge values :)\n  const challengeScoreArrays1 = [0, 8, 10, 12, 15, 20, 60, 80, 120, 180, 300]\n  const challengeScoreArrays2 = [0, 10, 12, 15, 20, 30, 80, 120, 180, 300, 450]\n  const challengeScoreArrays3 = [\n    0,\n    20,\n    30,\n    50,\n    100,\n    200,\n    250,\n    300,\n    400,\n    500,\n    750\n  ]\n  const challengeScoreArrays4 = [\n    0,\n    10000,\n    10000,\n    10000,\n    10000,\n    10000,\n    2000,\n    3000,\n    4000,\n    5000,\n    7500\n  ]\n\n  challengeScoreArrays1[1] += player.cubeUpgrades[56]\n  challengeScoreArrays1[2] += player.cubeUpgrades[56]\n  challengeScoreArrays1[3] += player.cubeUpgrades[56]\n\n  // Iterate challenges 1 through 10 and award base score according to the array values\n  // Transcend Challenge: First Threshold at 75 completions, second at 750\n  // Reincarnation Challenge: First at 25, second at 60. It probably should be higher but Platonic is a dumb dumb\n  for (let i = 1; i <= 10; i++) {\n    baseScore += challengeScoreArrays1[i] * player.highestchallengecompletions[i]\n    if (i <= 5 && player.highestchallengecompletions[i] >= 75) {\n      baseScore += challengeScoreArrays2[i] * (player.highestchallengecompletions[i] - 75)\n      if (player.highestchallengecompletions[i] >= 750) {\n        baseScore += challengeScoreArrays3[i]\n          * (player.highestchallengecompletions[i] - 750)\n      }\n      if (player.highestchallengecompletions[i] >= 9000) {\n        baseScore += challengeScoreArrays4[i]\n          * (player.highestchallengecompletions[i] - 9000)\n      }\n    }\n    if (i <= 10 && i > 5 && player.highestchallengecompletions[i] >= 25) {\n      baseScore += challengeScoreArrays2[i] * (player.highestchallengecompletions[i] - 25)\n      if (player.highestchallengecompletions[i] >= 60) {\n        baseScore += challengeScoreArrays3[i]\n          * (player.highestchallengecompletions[i] - 60)\n      }\n    }\n  }\n\n  // Calculation of Challenge 10 Exponent (It gives a constant multiplier per completion)\n  // 1.03 +\n  // 0.005 from Cube 3x9 +\n  // 0.0025 from Platonic ALPHA (Plat 1x5)\n  // 0.005 from Platonic BETA (Plat 2x5)\n  // Max: 1.0425\n  baseScore *= Math.pow(\n    1.03\n      + 0.005 * player.cubeUpgrades[39]\n      + 0.0025 * (player.platonicUpgrades[5] + player.platonicUpgrades[10]),\n    player.highestchallengecompletions[10]\n  )\n  // Corruption Multiplier is the product of all Corruption Score multipliers based on used corruptions\n  let bonusVal = player.singularityUpgrades.advancedPack.getEffect().bonus\n    ? 0.33\n    : 0\n  bonusVal += +player.singularityChallenges.oneChallengeCap.rewards.corrScoreIncrease\n  for (let i = 2; i < 10; i++) {\n    const exponent = i === 2 && player.usedCorruptions[i] >= 10\n      ? 1\n        + 2 * Math.min(1, player.platonicUpgrades[17])\n        + 0.04 * player.platonicUpgrades[17]\n      : 1\n    corruptionMultiplier *= Math.pow(\n      G.corruptionPointMultipliers[player.usedCorruptions[i] + bonusLevel],\n      exponent\n    ) + bonusVal\n\n    if (\n      player.usedCorruptions[i] >= 14\n      && player.singularityUpgrades.masterPack.getEffect().bonus\n    ) {\n      corruptionMultiplier *= 1.1\n    }\n  }\n\n  const bonusMultiplier = computeAscensionScoreBonusMultiplier()\n\n  effectiveScore = baseScore * corruptionMultiplier * bonusMultiplier\n  if (effectiveScore > 1e23) {\n    effectiveScore = Math.pow(effectiveScore, 0.5) * Math.pow(1e23, 0.5)\n  }\n\n  player.singularityUpgrades.expertPack.getEffect().bonus\n    ? (effectiveScore *= 1.5)\n    : (effectiveScore *= 1)\n\n  return {\n    baseScore,\n    corruptionMultiplier,\n    bonusMultiplier,\n    effectiveScore\n  }\n}\n\nexport const CalcCorruptionStuff = () => {\n  let cubeBank = 0\n  let challengeModifier = 1\n  const scores = calculateAscensionScore()\n\n  const baseScore = scores.baseScore\n  const corruptionMultiplier = scores.corruptionMultiplier\n  const bonusMultiplier = scores.bonusMultiplier\n  const effectiveScore = scores.effectiveScore\n\n  for (let i = 1; i <= 10; i++) {\n    challengeModifier = i >= 6 ? 2 : 1\n    cubeBank += challengeModifier * player.highestchallengecompletions[i]\n  }\n\n  const oneMindModifier = player.singularityUpgrades.oneMind.getEffect().bonus\n    ? calculateAscensionAcceleration() / 10\n    : 1\n\n  // Calculation of Cubes :)\n  let cubeGain = cubeBank\n  cubeGain *= calculateCubeMultiplier(effectiveScore).mult\n  cubeGain *= oneMindModifier\n\n  const bonusCubeExponent = player.singularityUpgrades.platonicTau.getEffect()\n      .bonus\n    ? 1.01\n    : 1\n  cubeGain = Math.pow(cubeGain, bonusCubeExponent)\n\n  // Calculation of Tesseracts :))\n  let tesseractGain = 1\n  if (effectiveScore >= 100000) {\n    tesseractGain += 0.5\n  }\n  tesseractGain *= calculateTesseractMultiplier(effectiveScore).mult\n  tesseractGain *= oneMindModifier\n\n  // Calculation of Hypercubes :)))\n  let hypercubeGain = effectiveScore >= 1e9 ? 1 : 0\n  hypercubeGain *= calculateHypercubeMultiplier(effectiveScore).mult\n  hypercubeGain *= oneMindModifier\n\n  // Calculation of Platonic Cubes :))))\n  let platonicGain = effectiveScore >= 2.666e12 ? 1 : 0\n  platonicGain *= calculatePlatonicMultiplier(effectiveScore).mult\n  platonicGain *= oneMindModifier\n\n  // Calculation of Hepteracts :)))))\n  let hepteractGain = G.challenge15Rewards.hepteractUnlocked\n      && effectiveScore >= 1.666e17\n      && player.achievements[255] > 0\n    ? 1\n    : 0\n  hepteractGain *= calculateHepteractMultiplier(effectiveScore).mult\n  hepteractGain *= oneMindModifier\n\n  return [\n    cubeBank,\n    Math.floor(baseScore),\n    corruptionMultiplier,\n    Math.floor(effectiveScore),\n    Math.min(1e300, Math.floor(cubeGain)),\n    Math.min(\n      1e300,\n      Math.max(player.singularityCount, Math.floor(tesseractGain))\n    ),\n    Math.min(1e300, Math.floor(hypercubeGain)),\n    Math.min(1e300, Math.floor(platonicGain)),\n    Math.min(1e300, Math.floor(hepteractGain)),\n    bonusMultiplier\n  ]\n}\n\nexport const calcAscensionCount = () => {\n  let ascCount = 1\n\n  if (player.singularityChallenges.limitedAscensions.enabled) {\n    return ascCount\n  }\n\n  if (player.challengecompletions[10] > 0 && player.achievements[197] === 1) {\n    const { effectiveScore } = calculateAscensionScore()\n\n    if (player.ascensionCounter >= 10) {\n      if (player.achievements[188] > 0) {\n        ascCount += 99\n      }\n\n      ascCount *= 1\n        + (player.ascensionCounter / 10 - 1)\n          * 0.2\n          * (player.achievements[189]\n            + player.achievements[202]\n            + player.achievements[209]\n            + player.achievements[216]\n            + player.achievements[223])\n    }\n\n    ascCount *= player.achievements[187] && Math.floor(effectiveScore) > 1e8\n      ? Math.log10(Math.floor(effectiveScore) + 1) - 1\n      : 1\n    ascCount *= G.challenge15Rewards.ascensions\n    ascCount *= player.achievements[260] > 0 ? 1.1 : 1\n    ascCount *= player.achievements[261] > 0 ? 1.1 : 1\n    ascCount *= player.platonicUpgrades[15] > 0 ? 2 : 1\n    ascCount *= 1 + 0.02 * player.platonicUpgrades[16]\n    ascCount *= 1\n      + 0.02\n        * player.platonicUpgrades[16]\n        * Math.min(1, player.overfluxPowder / 100000)\n    ascCount *= 1 + player.singularityCount / 10\n    ascCount *= +player.singularityUpgrades.ascensions.getEffect().bonus\n    ascCount *= +player.octeractUpgrades.octeractAscensions.getEffect().bonus\n    ascCount *= +player.octeractUpgrades.octeractAscensions2.getEffect().bonus\n    ascCount *= player.singularityUpgrades.oneMind.getEffect().bonus\n      ? calculateAscensionAcceleration() / 10\n      : 1\n  }\n\n  return Math.floor(ascCount)\n}\n\n/**\n * Calculates the product of all Powder bonuses.\n * @returns The amount of Powder gained per Expired Orb on day reset\n */\nexport const calculatePowderConversion = () => {\n  const arr = [\n    1 / 100, // base\n    G.challenge15Rewards.powder, // Challenge 15: Powder Bonus\n    1 + player.shopUpgrades.powderEX / 50, // powderEX shop upgrade, 2% per level max 20%\n    1 + player.achievements[256] / 20, // Achievement 256, 5%\n    1 + player.achievements[257] / 20, // Achievement 257, 5%\n    1 + 0.01 * player.platonicUpgrades[16], // Platonic Upgrade 4x1\n    1 + calculateEventBuff(BuffType.PowderConversion) // Event\n  ]\n\n  return {\n    list: arr,\n    mult: productContents(arr)\n  }\n}\n\nexport const calculateCubeQuarkMultiplier = () => {\n  return (\n    (calculateSigmoid(2, Math.pow(player.overfluxOrbs, 0.5), 40)\n      + calculateSigmoid(1.5, Math.pow(player.overfluxOrbs, 0.5), 160)\n      + calculateSigmoid(1.5, Math.pow(player.overfluxOrbs, 0.5), 640)\n      + calculateSigmoid(\n        1.15,\n        +(player.highestSingularityCount >= 1)\n          * Math.pow(player.overfluxOrbs, 0.45),\n        2560\n      )\n      + calculateSigmoid(\n        1.15,\n        +(player.highestSingularityCount >= 2)\n          * Math.pow(player.overfluxOrbs, 0.4),\n        10000\n      )\n      + calculateSigmoid(\n        1.25,\n        +(player.highestSingularityCount >= 5)\n          * Math.pow(player.overfluxOrbs, 0.35),\n        40000\n      )\n      + calculateSigmoid(\n        1.25,\n        +(player.highestSingularityCount >= 10)\n          * Math.pow(player.overfluxOrbs, 0.32),\n        160000\n      )\n      + calculateSigmoid(\n        1.35,\n        +(player.highestSingularityCount >= 15)\n          * Math.pow(player.overfluxOrbs, 0.27),\n        640000\n      )\n      + calculateSigmoid(\n        1.45,\n        +(player.highestSingularityCount >= 20)\n          * Math.pow(player.overfluxOrbs, 0.24),\n        2e6\n      )\n      + calculateSigmoid(\n        1.55,\n        +(player.highestSingularityCount >= 25)\n          * Math.pow(player.overfluxOrbs, 0.21),\n        1e7\n      )\n      + calculateSigmoid(\n        1.85,\n        +(player.highestSingularityCount >= 30)\n          * Math.pow(player.overfluxOrbs, 0.18),\n        4e7\n      )\n      + calculateSigmoid(\n        3,\n        +(player.highestSingularityCount >= 35)\n          * Math.pow(player.overfluxOrbs, 0.15),\n        1e8\n      )\n      - 11)\n    * (1 + (1 / 500) * player.shopUpgrades.cubeToQuarkAll)\n    * (player.autoWarpCheck ? 1 + player.dailyPowderResetUses : 1)\n  )\n}\n\nexport const calculateCubeMultFromPowder = () => {\n  return player.overfluxPowder > 10000\n    ? 1 + (1 / 16) * Math.pow(Math.log10(player.overfluxPowder), 2)\n    : 1 + (1 / 10000) * player.overfluxPowder\n}\n\nexport const calculateQuarkMultFromPowder = () => {\n  return player.overfluxPowder > 10000\n    ? 1 + (1 / 40) * Math.log10(player.overfluxPowder)\n    : 1 + (1 / 100000) * player.overfluxPowder\n}\n\nexport const calculateSingularityAmbrosiaLuckMilestoneBonus = () => {\n  let bonus = 0\n  const singThresholds1 = [35, 42, 49, 56, 63, 70, 77]\n  const singThresholds2 = [135, 142, 149, 156, 163, 170, 177]\n\n  for (const sing of singThresholds1) {\n    if (player.highestSingularityCount >= sing) {\n      bonus += 5\n    }\n  }\n\n  for (const sing of singThresholds2) {\n    if (player.highestSingularityCount >= sing) {\n      bonus += 6\n    }\n  }\n\n  return bonus\n}\n\nexport const calculateAmbrosiaGenerationShopUpgrade = () => {\n  const multipliers = [\n    1 + player.shopUpgrades.shopAmbrosiaGeneration1 / 100,\n    1 + player.shopUpgrades.shopAmbrosiaGeneration2 / 100,\n    1 + player.shopUpgrades.shopAmbrosiaGeneration3 / 100,\n    1 + player.shopUpgrades.shopAmbrosiaGeneration4 / 1000\n  ]\n\n  return productContents(multipliers)\n}\n\nexport const calculateAmbrosiaLuckShopUpgrade = () => {\n  const vals = [\n    2 * player.shopUpgrades.shopAmbrosiaLuck1,\n    2 * player.shopUpgrades.shopAmbrosiaLuck2,\n    2 * player.shopUpgrades.shopAmbrosiaLuck3,\n    0.6 * player.shopUpgrades.shopAmbrosiaLuck4\n  ]\n\n  return sumContents(vals)\n}\n\nexport const calculateAmbrosiaGenerationSingularityUpgrade = () => {\n  const vals = [\n    +player.singularityUpgrades.singAmbrosiaGeneration.getEffect().bonus,\n    +player.singularityUpgrades.singAmbrosiaGeneration2.getEffect().bonus,\n    +player.singularityUpgrades.singAmbrosiaGeneration3.getEffect().bonus,\n    +player.singularityUpgrades.singAmbrosiaGeneration4.getEffect().bonus\n  ]\n\n  return productContents(vals)\n}\n\nexport const calculateAmbrosiaLuckSingularityUpgrade = () => {\n  const vals = [\n    +player.singularityUpgrades.singAmbrosiaLuck.getEffect().bonus,\n    +player.singularityUpgrades.singAmbrosiaLuck2.getEffect().bonus,\n    +player.singularityUpgrades.singAmbrosiaLuck3.getEffect().bonus,\n    +player.singularityUpgrades.singAmbrosiaLuck4.getEffect().bonus\n  ]\n\n  return sumContents(vals)\n}\n\nexport const calculateAmbrosiaGenerationOcteractUpgrade = () => {\n  const vals = [\n    +player.octeractUpgrades.octeractAmbrosiaGeneration.getEffect().bonus,\n    +player.octeractUpgrades.octeractAmbrosiaGeneration2.getEffect().bonus,\n    +player.octeractUpgrades.octeractAmbrosiaGeneration3.getEffect().bonus,\n    +player.octeractUpgrades.octeractAmbrosiaGeneration4.getEffect().bonus\n  ]\n\n  return productContents(vals)\n}\n\nexport const calculateAmbrosiaLuckOcteractUpgrade = () => {\n  const vals = [\n    +player.octeractUpgrades.octeractAmbrosiaLuck.getEffect().bonus,\n    +player.octeractUpgrades.octeractAmbrosiaLuck2.getEffect().bonus,\n    +player.octeractUpgrades.octeractAmbrosiaLuck3.getEffect().bonus,\n    +player.octeractUpgrades.octeractAmbrosiaLuck4.getEffect().bonus\n  ]\n\n  return sumContents(vals)\n}\n\nexport const calculateRequiredBlueberryTime = () => {\n  let val = G.TIME_PER_AMBROSIA // Currently 600\n  val += Math.floor(player.lifetimeAmbrosia / 30)\n\n  const baseVal = val\n\n  const timeThresholds = [\n    5000,\n    25000,\n    75000,\n    250000,\n    500000,\n    1e6,\n    2e6,\n    4e6,\n    1e7,\n    2e7,\n    4e7,\n    1e8\n  ]\n  for (const threshold of timeThresholds) {\n    if (baseVal >= threshold) {\n      val *= 2\n    }\n  }\n  return val\n}\n\nexport const calculateSingularityMilestoneBlueberries = () => {\n  let val = 0\n  if (player.highestSingularityCount >= 270) val = 5\n  else if (player.highestSingularityCount >= 256) val = 4\n  else if (player.highestSingularityCount >= 192) val = 3\n  else if (player.highestSingularityCount >= 128) val = 2\n  else if (player.highestSingularityCount >= 64) val = 1\n\n  return val\n}\n\nexport const calculateAmbrosiaCubeMult = () => {\n  const effectiveAmbrosia = (player.singularityChallenges.noAmbrosiaUpgrades.enabled) ? 0 : player.lifetimeAmbrosia\n  let multiplier = 1\n  multiplier += Math.min(1.5, Math.floor(effectiveAmbrosia / 66) / 100)\n  if (effectiveAmbrosia >= 10000) {\n    multiplier += Math.min(\n      1.5,\n      Math.floor(effectiveAmbrosia / 666) / 100\n    )\n  }\n  if (effectiveAmbrosia >= 100000) {\n    multiplier += Math.floor(effectiveAmbrosia / 6666) / 100\n  }\n\n  return multiplier\n}\n\nexport const calculateAmbrosiaQuarkMult = () => {\n  const effectiveAmbrosia = (player.singularityChallenges.noAmbrosiaUpgrades.enabled) ? 0 : player.lifetimeAmbrosia\n  let multiplier = 1\n  multiplier += Math.min(0.3, Math.floor(effectiveAmbrosia / 1666) / 100)\n  if (effectiveAmbrosia >= 50000) {\n    multiplier += Math.min(\n      0.3,\n      Math.floor(effectiveAmbrosia / 16666) / 100\n    )\n  }\n  if (effectiveAmbrosia >= 500000) {\n    multiplier += Math.floor(effectiveAmbrosia / 166666) / 100\n  }\n\n  return multiplier\n}\n\nexport const calculateCashGrabBonus = (extra: number) => {\n  return 1 + player.shopUpgrades.shopCashGrabUltra * extra * Math.min(1, Math.pow(player.lifetimeAmbrosia / 1e7, 1 / 3))\n}\n\nexport const calculateCashGrabBlueberryBonus = () => {\n  return calculateCashGrabBonus(CASH_GRAB_ULTRA_BLUEBERRY)\n}\n\nexport const calculateCashGrabCubeBonus = () => {\n  return calculateCashGrabBonus(CASH_GRAB_ULTRA_CUBE)\n}\n\nexport const calculateCashGrabQuarkBonus = () => {\n  return calculateCashGrabBonus(CASH_GRAB_ULTRA_QUARK)\n}\n\nexport const calculateEXUltraBonus = (extra: number) => {\n  return 1 + extra * Math.min(player.shopUpgrades.shopEXUltra, Math.floor(player.lifetimeAmbrosia / 1000) / 125)\n}\n\nexport const calculateEXUltraOfferingBonus = () => {\n  return calculateEXUltraBonus(EX_ULTRA_OFFERING)\n}\n\nexport const calculateEXUltraObtainiumBonus = () => {\n  return calculateEXUltraBonus(EX_ULTRA_OBTAINIUM)\n}\n\nexport const calculateEXUltraCubeBonus = () => {\n  return calculateEXUltraBonus(EX_ULTRA_CUBES)\n}\n\nexport const calculateEXALTBonusMult = () => {\n  if (!player.singularityChallenges.limitedAscensions.rewards.exaltBonus) {\n    return 1\n  }\n\n  if (G.currentSingChallenge !== undefined) {\n    return Math.pow(1.04, player.singularityChallenges[G.currentSingChallenge].completions)\n  }\n  return 1\n}\n\nexport const calculateExalt6Penalty = (comps: number, time: number) => {\n  const displacedTime = Math.max(0, time - 600 + 20 * comps)\n  if (displacedTime === 0) {\n    return 1\n  }\n  else {\n    return Math.pow(10 + comps, -displacedTime/60)\n  }\n}\n\nexport const calculateDilatedFiveLeafBonus = () => {\n  const singThresholds = [100, 150, 200, 225, 250, 255, 260, 265, 269, 272]\n  for (let i = 0; i < singThresholds.length; i++) {\n    if (player.highestSingularityCount < singThresholds[i]) return i / 100\n  }\n\n  return singThresholds.length / 100\n}\n\n/**\n * Computs Additive Luck Multiplier for Ambrosia Luck. Base = 1.00\n * @returns Additive Luck Multiplier and array of modifiers\n */\nexport const calculateAdditiveLuckMult = () => {\n  const arr = [\n    1,\n    +player.singularityChallenges.noSingularityUpgrades.rewards.luckBonus, // No Singularity Upgrade 1x30\n    calculateDilatedFiveLeafBonus(), // Dilated Five Leaf Clover Perk\n    player.shopUpgrades.shopAmbrosiaLuckMultiplier4 / 100, // EXALT-unlocked shop upgrade\n    +player.singularityChallenges.noAmbrosiaUpgrades.rewards.luckBonus, // No Ambrosia Challenge Reward\n    G.isEvent ? calculateEventBuff(BuffType.AmbrosiaLuck) : 0 // Event\n  ]\n\n  return {\n    value: sumContents(arr),\n    array: arr\n  }\n}\n\n/**\n * Computs Ambrosia Luck. Base = 100\n * @returns Ambrosia Luck * Additive Luck Multiplier, and array of modifiers (last entry is multiplier)\n */\nexport const calculateAmbrosiaLuck = () => {\n  const arr = [\n    100, // Base\n    calculateSingularityAmbrosiaLuckMilestoneBonus(), // Ambrosia Luck Milestones\n    calculateAmbrosiaLuckShopUpgrade(), // Ambrosia Luck from Shop Upgrades (I-IV)\n    calculateAmbrosiaLuckSingularityUpgrade(), // Ambrosia Luck from Singularity Upgrades (I-IV)\n    calculateAmbrosiaLuckOcteractUpgrade(), // Ambrosia Luck from Octeract Upgrades (I-IV)\n    +player.blueberryUpgrades.ambrosiaLuck1.bonus.ambrosiaLuck, // Ambrosia Luck from Luck Module I\n    +player.blueberryUpgrades.ambrosiaLuck2.bonus.ambrosiaLuck, // Ambrosia Luck from Luck Module II\n    +player.blueberryUpgrades.ambrosiaCubeLuck1.bonus.ambrosiaLuck, // Ambrosia Luck from Cube-Luck Synergy Module\n    +player.blueberryUpgrades.ambrosiaQuarkLuck1.bonus.ambrosiaLuck, // Ambrosia Luck from Quark-Luck Synergy Module\n    player.highestSingularityCount >= 131 ? 131 : 0, // Singularity Perk \"One Hundred Thirty One!\"\n    player.highestSingularityCount >= 269 ? 269 : 0, // Singularity Perk \"Two Hundred Sixty Nine!\"\n    player.shopUpgrades.shopOcteractAmbrosiaLuck * (1 + Math.floor(Math.log10(player.totalWowOcteracts + 1))), // Octeract -> Ambrosia Shop Upgrade\n    +player.singularityChallenges.noAmbrosiaUpgrades.rewards.additiveLuck, // No Ambrosia Challenge Reward\n    player.shopUpgrades.shopAmbrosiaUltra * sumOfExaltCompletions() // Ambrosia Ultra Shop Upgrade\n  ]\n\n  const multiplicativeLuck = calculateAdditiveLuckMult().value\n\n  return {\n    value: sumContents(arr) * multiplicativeLuck,\n    array: arr.concat(multiplicativeLuck)\n  }\n}\n\n/**\n * Calculates the total number of Blueberries unlocked\n * @returns Blueberry Count, and array of modifiers\n */\nexport const calculateBlueberryInventory = () => {\n  const arr = [\n    +(player.singularityChallenges.noSingularityUpgrades.completions > 0), // E1x1 Clear!\n    +player.singularityUpgrades.blueberries.getEffect().bonus, // Singularity Blueberry Upgrade\n    calculateSingularityMilestoneBlueberries(), // Singularity Milestones (Congealed Blueberries)\n    +player.singularityChallenges.noAmbrosiaUpgrades.rewards.blueberries // No Ambrosia Challenge Reward\n  ]\n\n  return {\n    value: sumContents(arr),\n    array: arr\n  }\n}\n\nexport const calculateAmbrosiaGenerationSpeed = () => {\n  const arr = [\n    +(player.visitedAmbrosiaSubtab),\n    calculateBlueberryInventory().value,\n    calculateAmbrosiaGenerationShopUpgrade(),\n    calculateAmbrosiaGenerationSingularityUpgrade(),\n    calculateAmbrosiaGenerationOcteractUpgrade(),\n    +player.blueberryUpgrades.ambrosiaPatreon.bonus.blueberryGeneration,\n    +player.singularityChallenges.oneChallengeCap.rewards.blueberrySpeedMult,\n    +player.singularityChallenges.noAmbrosiaUpgrades.rewards.blueberrySpeedMult,\n    G.isEvent ? 1 + calculateEventBuff(BuffType.BlueberryTime) : 1,\n    calculateCashGrabBlueberryBonus()\n  ]\n\n  return {\n    value: productContents(arr),\n    array: arr\n  }\n}\n\nexport const dailyResetCheck = () => {\n  if (!player.dayCheck) {\n    return\n  }\n  const now = new Date(getTimePinnedToLoadDate())\n  const day = new Date(now.getFullYear(), now.getMonth(), now.getDate())\n  const h = now.getHours()\n  const m = now.getMinutes()\n  const s = now.getSeconds()\n  player.dayTimer = 60 * 60 * 24 - 60 * 60 * h - 60 * m - s\n\n  // Daily is not reset even if it is set to a past time.\n  // If the daily is not reset, the data may have been set to a future time.\n  if (day.getTime() - 3600000 > player.dayCheck.getTime()) {\n    player.dayCheck = day\n\n    forcedDailyReset(true)\n    player.dailyPowderResetUses = 1 + player.shopUpgrades.extraWarp\n    player.dailyCodeUsed = false\n\n    DOMCacheGetOrSet('cubeQuarksOpenRequirement').style.display = 'block'\n    if (player.challengecompletions[11] > 0) {\n      DOMCacheGetOrSet('tesseractQuarksOpenRequirement').style.display = 'block'\n    }\n    if (player.challengecompletions[13] > 0) {\n      DOMCacheGetOrSet('hypercubeQuarksOpenRequirement').style.display = 'block'\n    }\n    if (player.challengecompletions[14] > 0) {\n      DOMCacheGetOrSet('platonicCubeQuarksOpenRequirement').style.display = 'block'\n    }\n  }\n}\n\n/**\n * Resets Cube Counts and stuff. NOTE: It is intentional it does not award powder or expire orbs.\n */\nexport const forcedDailyReset = (rewards = false) => {\n  player.cubeQuarkDaily = 0\n  player.tesseractQuarkDaily = 0\n  player.hypercubeQuarkDaily = 0\n  player.platonicCubeQuarkDaily = 0\n  player.cubeOpenedDaily = 0\n  player.tesseractOpenedDaily = 0\n  player.hypercubeOpenedDaily = 0\n  player.platonicCubeOpenedDaily = 0\n\n  if (rewards) {\n    player.overfluxPowder += player.overfluxOrbs * calculatePowderConversion().mult\n    player.overfluxOrbs = G.challenge15Rewards.freeOrbs\n  }\n}\n\nexport const calculateEventBuff = (buff: BuffType) => {\n  if (!G.isEvent) {\n    return 0\n  }\n  return calculateEventSourceBuff(buff)\n}\n\nexport const derpsmithCornucopiaBonus = () => {\n  let counter = 0\n  const singCounts = [\n    18,\n    38,\n    58,\n    78,\n    88,\n    98,\n    118,\n    148,\n    178,\n    188,\n    198,\n    208,\n    218,\n    228,\n    238,\n    248\n  ]\n  for (const sing of singCounts) {\n    if (player.highestSingularityCount >= sing) {\n      counter += 1\n    }\n  }\n\n  return 1 + (counter * player.highestSingularityCount) / 100\n}\n\nexport const sing6Mult = () => {\n  if (player.singularityCount <= 200) {\n    return 1\n  }\n  else {\n    return Math.pow(1.01, player.singularityCount - 200)\n  }\n}\n\nexport const sumOfExaltCompletions = () => {\n  let sum = 0\n  for (const challenge of Object.values(player.singularityChallenges)) {\n    sum += challenge.completions\n  }\n  return sum\n}", "import Decimal from 'break_infinity.js'\nimport i18next from 'i18next'\nimport { DOMCacheGetOrSet } from './Cache/DOM'\nimport { calculateRuneLevels } from './Calculate'\nimport { hepteractEffective } from './Hepteracts'\nimport { autoResearchEnabled } from './Research'\nimport { format, player, resetCheck } from './Synergism'\nimport { toggleAutoChallengeModeText, toggleChallenges } from './Toggles'\nimport { productContents } from './Utility'\nimport { Globals as G } from './Variables'\n\nexport const getMaxChallenges = (i: number) => {\n  let maxChallenge = 0\n  // Transcension Challenges\n  if (i <= 5) {\n    if (player.singularityChallenges.oneChallengeCap.enabled) {\n      return 1\n    }\n    // Start with base 25 max completions\n    maxChallenge = 25\n    // Check Research 5x5 ('Infinite' T. Challenges)\n    if (player.researches[105] > 0) {\n      return 9001\n    }\n    // Max T. Challenge depends on researches 3x16 to 3x20\n    maxChallenge += 5 * player.researches[65 + i]\n    return maxChallenge\n  }\n  // Reincarnation Challenges\n  if (i <= 10 && i > 5) {\n    if (player.singularityChallenges.oneChallengeCap.enabled) {\n      return 1\n    }\n    // Start with base of 40 max completions\n    maxChallenge = 40\n    // Cube Upgrade 2x9: +4/level\n    maxChallenge += 4 * player.cubeUpgrades[29]\n    // Shop Upgrade \"Challenge Extension\": +2/level\n    maxChallenge += 2 * player.shopUpgrades.challengeExtension\n    // Platonic Upgrade 5 (ALPHA): +10\n    if (player.platonicUpgrades[5] > 0) {\n      maxChallenge += 10\n    }\n    // Platonic Upgrade 10 (BETA): +10\n    if (player.platonicUpgrades[10] > 0) {\n      maxChallenge += 10\n    }\n    // Platonic Upgrade 15 (OMEGA): +30\n    if (player.platonicUpgrades[15] > 0) {\n      maxChallenge += 30\n    }\n\n    maxChallenge += 2 * +player.singularityUpgrades.singChallengeExtension.getEffect().bonus\n    maxChallenge += 2 * +player.singularityUpgrades.singChallengeExtension2.getEffect().bonus\n    maxChallenge += 2 * +player.singularityUpgrades.singChallengeExtension3.getEffect().bonus\n\n    maxChallenge += +player.singularityChallenges.oneChallengeCap.rewards.capIncrease\n    maxChallenge += +player.singularityChallenges.oneChallengeCap.rewards.reinCapIncrease2\n    return maxChallenge\n  }\n  // Ascension Challenge\n  if (i <= 15 && i > 10) {\n    // Challenge 15 has no formal cap, so return 9001.\n    if (i === 15) {\n      return 0\n    }\n    if (player.singularityChallenges.oneChallengeCap.enabled) {\n      return 1\n    }\n    // Start with base of 30 max completions\n    maxChallenge = 30\n    // Platonic Upgrade 5 (ALPHA): +5\n    if (player.platonicUpgrades[5] > 0) {\n      maxChallenge += 5\n    }\n    // Platonic Upgrade 10 (BETA): +5\n    if (player.platonicUpgrades[10] > 0) {\n      maxChallenge += 5\n    }\n    // Platonic Upgrade 15 (OMEGA): +20\n    if (player.platonicUpgrades[15] > 0) {\n      maxChallenge += 20\n    }\n\n    maxChallenge += +player.singularityUpgrades.singChallengeExtension.getEffect().bonus\n    maxChallenge += +player.singularityUpgrades.singChallengeExtension2.getEffect().bonus\n    maxChallenge += +player.singularityUpgrades.singChallengeExtension3.getEffect().bonus\n    maxChallenge += +player.singularityChallenges.oneChallengeCap.rewards.ascCapIncrease2\n    return maxChallenge\n  }\n\n  return maxChallenge\n}\n\nexport const challengeDisplay = (i: number, changefocus = true) => {\n  let quarksMultiplier = 1\n\n  if (changefocus) {\n    G.challengefocus = i\n    DOMCacheGetOrSet('oneChallengeDetails').style.display = 'flex'\n    DOMCacheGetOrSet('startChallenge').style.display = 'block'\n    DOMCacheGetOrSet('retryChallenge').style.display = 'block'\n    G.triggerChallenge = i\n  }\n\n  const maxChallenges = getMaxChallenges(i)\n  if (i <= 5 && changefocus) {\n    if (player.challengecompletions[i] >= 100) {\n      DOMCacheGetOrSet('completionSoftcap').innerHTML = i18next.t('challenges.perCompletionBonus', {\n        x: 100,\n        y: format(CalcECC('transcend', player.challengecompletions[i]), 2, true)\n      })\n    } else {\n      DOMCacheGetOrSet('completionSoftcap').textContent = i18next.t('challenges.perCompletionBonusEmpty')\n    }\n  }\n\n  if (i > 5 && i <= 10) {\n    quarksMultiplier = 10\n    if (player.challengecompletions[i] >= 25 && changefocus) {\n      DOMCacheGetOrSet('completionSoftcap').innerHTML = i18next.t('challenges.perCompletionBonus', {\n        x: 25,\n        y: format(CalcECC('reincarnation', player.challengecompletions[i]), 2, true)\n      })\n    } else {\n      DOMCacheGetOrSet('completionSoftcap').textContent = i18next.t('challenges.perCompletionBonusEmpty')\n    }\n  }\n  if (i > 10) {\n    if (player.challengecompletions[i] >= 10) {\n      DOMCacheGetOrSet('completionSoftcap').innerHTML = i18next.t('challenges.perCompletionBonus', {\n        x: 10,\n        y: format(CalcECC('ascension', player.challengecompletions[i]), 2, true)\n      })\n    } else {\n      DOMCacheGetOrSet('completionSoftcap').textContent = i18next.t('challenges.perCompletionBonusEmpty')\n    }\n  }\n  let descriptor = ''\n  const a = DOMCacheGetOrSet('challengeName')\n  const b = DOMCacheGetOrSet('challengeFlavor')\n  const c = DOMCacheGetOrSet('challengeRestrictions')\n  const d = DOMCacheGetOrSet('challengeGoal')\n  const e = DOMCacheGetOrSet('challengePer1').childNodes[0]\n  const f = DOMCacheGetOrSet('challengePer2').childNodes[0]\n  const g = DOMCacheGetOrSet('challengePer3').childNodes[0]\n  const h = DOMCacheGetOrSet('challengeFirst1')\n  const j = DOMCacheGetOrSet('challengeQuarkBonus')\n  const k = DOMCacheGetOrSet('startChallenge')\n  const l = DOMCacheGetOrSet('challengeCurrent1')\n  const m = DOMCacheGetOrSet('challengeCurrent2')\n  const n = DOMCacheGetOrSet('challengeCurrent3')\n\n  if (i === G.challengefocus) {\n    const completions = `${player.challengecompletions[i]}/${format(maxChallenges)}`\n    const special = (i >= 6 && i <= 10) || i === 15\n    const goal = format(challengeRequirement(i, player.challengecompletions[i], special ? i : 0))\n\n    let current1 = ''\n    let current2 = ''\n    let current3 = ''\n\n    switch (i) {\n      case 1: {\n        current1 = current2 = format(10 * CalcECC('transcend', player.challengecompletions[1]))\n        current3 = format(0.04 * CalcECC('transcend', player.challengecompletions[1]), 2, true)\n        break\n      }\n      case 2: {\n        current1 = current2 = format(5 * CalcECC('transcend', player.challengecompletions[2]))\n        break\n      }\n      case 3: {\n        current1 = format(0.04 * player.challengecompletions[3], 2, true)\n        current2 = format(0.5 * CalcECC('transcend', player.challengecompletions[3]), 2, true)\n        current3 = format(0.01 * CalcECC('transcend', player.challengecompletions[3]), 2, true)\n        break\n      }\n      case 4: {\n        current1 = format(5 * CalcECC('transcend', player.challengecompletions[4]))\n        current2 = format(2 * CalcECC('transcend', player.challengecompletions[4]))\n        current3 = format(0.5 * CalcECC('transcend', player.challengecompletions[4]), 2, true)\n        break\n      }\n      case 5: {\n        current1 = format(0.5 + CalcECC('transcend', player.challengecompletions[5]) / 100, 2, true)\n        current2 = format(Math.pow(10, CalcECC('transcend', player.challengecompletions[5])))\n        break\n      }\n      case 6: {\n        current1 = format(Math.pow(0.965, CalcECC('reincarnation', player.challengecompletions[6])), 3, true)\n        current2 = format(10 * CalcECC('reincarnation', player.challengecompletions[6]))\n        current3 = format(2 * CalcECC('reincarnation', player.challengecompletions[6]))\n        break\n      }\n      case 7: {\n        current1 = format(1 + 0.04 * CalcECC('reincarnation', player.challengecompletions[7]), 2, true)\n        current2 = current3 = format(10 * CalcECC('reincarnation', player.challengecompletions[7]))\n        break\n      }\n      case 8: {\n        current1 = format(0.25 * CalcECC('reincarnation', player.challengecompletions[8]), 2, true)\n        current2 = format(20 * CalcECC('reincarnation', player.challengecompletions[8]), 2, true)\n        current3 = format(4 * CalcECC('reincarnation', player.challengecompletions[8]), 2, true)\n        break\n      }\n      case 9: {\n        current1 = format(CalcECC('reincarnation', player.challengecompletions[9]))\n        current2 = format(Math.pow(1.1, CalcECC('reincarnation', player.challengecompletions[9])), 2, true)\n        current3 = format(20 * CalcECC('reincarnation', player.challengecompletions[9]), 2, true)\n        break\n      }\n      case 10: {\n        current1 = format(100 * CalcECC('reincarnation', player.challengecompletions[10]))\n        current2 = format(2 * CalcECC('reincarnation', player.challengecompletions[10]))\n        current3 = format(10 * CalcECC('reincarnation', player.challengecompletions[10]), 2, true)\n        break\n      }\n      case 11: {\n        current1 = format(12 * CalcECC('ascension', player.challengecompletions[11]))\n        current2 = format(Decimal.pow(1e5, CalcECC('ascension', player.challengecompletions[11])))\n        current3 = format(80 * CalcECC('ascension', player.challengecompletions[11]))\n        break\n      }\n      case 12: {\n        current1 = format(50 * CalcECC('ascension', player.challengecompletions[12]))\n        current2 = format(12 * CalcECC('ascension', player.challengecompletions[12]))\n        current3 = format(CalcECC('ascension', player.challengecompletions[12]))\n        break\n      }\n      case 13: {\n        current1 = format(100 - 100 * Math.pow(0.966, CalcECC('ascension', player.challengecompletions[13])), 3, true)\n        current2 = format(6 * CalcECC('ascension', player.challengecompletions[13]))\n        current3 = format(3 * CalcECC('ascension', player.challengecompletions[13]))\n        break\n      }\n      case 14: {\n        current1 = format(50 * CalcECC('ascension', player.challengecompletions[14]))\n        current2 = format(1 * player.challengecompletions[14])\n        current3 = format(200 * CalcECC('ascension', player.challengecompletions[14]))\n        break\n      }\n    }\n\n    a.textContent = i18next.t(`challenges.${i}.name`, {\n      value: completions,\n      completions: player.challengecompletions[i],\n      max: maxChallenges\n    })\n    b.textContent = i18next.t(`challenges.${i}.flavor`)\n    c.textContent = i18next.t(`challenges.${i}.restrictions`)\n    d.textContent = i18next.t(`challenges.${i}.goal`, { value: goal })\n    e.textContent = i18next.t(`challenges.${i}.per.1`)\n    f.textContent = i18next.t(`challenges.${i}.per.2`)\n    g.textContent = i18next.t(`challenges.${i}.per.3`)\n    h.textContent = i18next.t(`challenges.${i}.first`)\n    k.textContent = i18next.t(`challenges.${i}.start`)\n    l.textContent = i18next.t(`challenges.${i}.current.1`, { value: current1 })\n    m.textContent = i18next.t(`challenges.${i}.current.2`, { value: current2 })\n    n.textContent = i18next.t(`challenges.${i}.current.3`, { value: current3 })\n  }\n\n  if (i === 15 && G.challengefocus === 15 && maxChallenges === 0) {\n    d.textContent = i18next.t('challenges.15.noGoal')\n  }\n\n  const scoreArray1 = [0, 8, 10, 12, 15, 20, 60, 80, 120, 180, 300]\n  const scoreArray2 = [0, 10, 12, 15, 20, 30, 80, 120, 180, 300, 450]\n  const scoreArray3 = [0, 20, 30, 50, 100, 200, 250, 300, 400, 500, 750]\n  const scoreArray4 = [0, 10000, 10000, 10000, 10000, 10000, 2000, 3000, 4000, 5000, 7500]\n  let scoreDisplay = 0\n  if (i <= 5) {\n    if (player.highestchallengecompletions[i] >= 9000) {\n      scoreDisplay = scoreArray4[i]\n    } else if (player.highestchallengecompletions[i] >= 750) {\n      scoreDisplay = scoreArray3[i]\n    } else if (player.highestchallengecompletions[i] >= 75) {\n      scoreDisplay = scoreArray2[i]\n    } else {\n      scoreDisplay = scoreArray1[i]\n    }\n  }\n  if (i > 5 && i <= 10) {\n    if (player.highestchallengecompletions[i] >= 60) {\n      scoreDisplay = scoreArray3[i]\n    } else if (player.highestchallengecompletions[i] >= 25) {\n      scoreDisplay = scoreArray2[i]\n    } else {\n      scoreDisplay = scoreArray1[i]\n    }\n  }\n  if (changefocus) {\n    j.textContent = ''\n  }\n  if (player.ascensionCount === 0) {\n    descriptor = 'Quarks'\n    j.style.color = 'cyan'\n  }\n  if (\n    player.challengecompletions[i] >= player.highestchallengecompletions[i]\n    && player.highestchallengecompletions[i] < maxChallenges && changefocus && player.ascensionCount < 1\n  ) {\n    j.textContent = i18next.t(descriptor ? 'challenges.firstTimeBonusQuarks' : 'challenges.firstTimeBonus', {\n      x: Math.floor(\n        quarksMultiplier * player.highestchallengecompletions[i] / 10 + 1 + player.cubeUpgrades[1]\n          + player.cubeUpgrades[11] + player.cubeUpgrades[21] + player.cubeUpgrades[31] + player.cubeUpgrades[41]\n      )\n    })\n  }\n  if (\n    player.challengecompletions[i] >= player.highestchallengecompletions[i]\n    && player.highestchallengecompletions[i] < maxChallenges && changefocus && player.ascensionCount >= 1\n  ) {\n    j.textContent = i18next.t('challenges.ascensionBankAdd', {\n      x: i > 5 ? 2 : 1,\n      y: scoreDisplay\n    })\n  }\n  if (\n    player.challengecompletions[i] >= player.highestchallengecompletions[i]\n    && player.highestchallengecompletions[i] < 10 && i > 10\n  ) {\n    j.textContent = i18next.t('challenges.hypercubeOneTimeBonus')\n  }\n\n  if (changefocus) {\n    const el = DOMCacheGetOrSet('toggleAutoChallengeIgnore')\n    el.style.display = i <= (autoAscensionChallengeSweepUnlock() ? 15 : 10) && player.researches[150] > 0\n      ? 'block'\n      : 'none'\n    el.style.border = player.autoChallengeToggles[i] ? '2px solid green' : '2px solid red'\n\n    if (i >= 11 && i <= 15) {\n      if (player.autoChallengeToggles[i]) {\n        el.textContent = i18next.t('challenges.autoAscRunChalOn', { x: i })\n      } else {\n        el.textContent = i18next.t('challenges.autoAscRunChalOff', { x: i })\n      }\n    } else {\n      if (player.autoChallengeToggles[i]) {\n        el.textContent = i18next.t('challenges.autoRunChalOn', { x: i })\n      } else {\n        el.textContent = i18next.t('challenges.autoRunChalOff', { x: i })\n      }\n    }\n  }\n\n  const ella = DOMCacheGetOrSet('toggleAutoChallengeStart')\n  if (player.autoChallengeRunning) {\n    ella.textContent = i18next.t('challenges.autoChallengeSweepOn')\n    ella.style.border = '2px solid gold'\n  } else {\n    ella.textContent = i18next.t('challenges.autoChallengeSweepOff')\n    ella.style.border = '2px solid red'\n  }\n}\n\nexport const getChallengeConditions = (i?: number) => {\n  if (player.currentChallenge.reincarnation === 9) {\n    G.rune1level = 1\n    G.rune2level = 1\n    G.rune3level = 1\n    G.rune4level = 1\n    G.rune5level = 1\n    player.crystalUpgrades = [0, 0, 0, 0, 0, 0, 0, 0]\n  }\n  G.prestigePointGain = new Decimal('0')\n  if (typeof i === 'number') {\n    if (i >= 6) {\n      G.transcendPointGain = new Decimal('0')\n    }\n    if (i >= 11) {\n      G.reincarnationPointGain = new Decimal('0')\n    }\n  }\n  calculateRuneLevels()\n}\n\nexport const toggleRetryChallenges = () => {\n  DOMCacheGetOrSet('retryChallenge').textContent = player.retrychallenges\n    ? i18next.t('challenges.retryChallengesOff')\n    : i18next.t('challenges.retryChallengesOn')\n\n  player.retrychallenges = !player.retrychallenges\n}\n\nexport const highestChallengeRewards = (chalNum: number, highestValue: number) => {\n  let multiplier = 1 / 10\n  if (chalNum >= 6) {\n    multiplier = 1\n  }\n  if (player.ascensionCount === 0) {\n    player.worlds.add(1 + Math.floor(highestValue * multiplier) * 100 / 100)\n  }\n  // Addresses a bug where auto research does not work even if you unlock research\n  if (autoResearchEnabled() && player.ascensionCount === 0 && chalNum >= 6 && chalNum <= 10) {\n    player.roombaResearchIndex = 0\n    player.autoResearch = G.researchOrderByCost[player.roombaResearchIndex]\n  }\n}\n\n// Works to mitigate the difficulty of calculating challenge multipliers when considering softcapping\nexport const calculateChallengeRequirementMultiplier = (\n  type: 'transcend' | 'reincarnation' | 'ascension',\n  completions: number,\n  special = 0\n) => {\n  let requirementMultiplier = Math.max(\n    1,\n    G.hyperchallengedMultiplier[player.usedCorruptions[4]] / (1 + player.platonicUpgrades[8] / 2.5)\n  )\n  if (type === 'ascension') {\n    // Normalize back to 1 if looking at ascension challenges in particular.\n    requirementMultiplier = 1\n  }\n  switch (type) {\n    case 'transcend':\n      requirementMultiplier *= G.challenge15Rewards.transcendChallengeReduction\n      ;(completions >= 75)\n        ? requirementMultiplier *= Math.pow(1 + completions, 12) / Math.pow(75, 8)\n        : requirementMultiplier *= Math.pow(1 + completions, 2)\n\n      if (completions >= 1000) {\n        requirementMultiplier *= 10 * Math.pow(completions / 1000, 3)\n      }\n      if (completions >= 9000) {\n        requirementMultiplier *= 1337\n      }\n      if (completions >= 9001) {\n        requirementMultiplier *= completions - 8999\n      }\n      return requirementMultiplier\n    case 'reincarnation':\n      if (completions >= 100 && (special === 9 || special === 10)) {\n        requirementMultiplier *= Math.pow(1.05, (completions - 100) * (1 + (completions - 100) / 20))\n      }\n      if (completions >= 90) {\n        if (special === 6) {\n          requirementMultiplier *= 100\n        } else if (special === 7) {\n          requirementMultiplier *= 50\n        } else if (special === 8) {\n          requirementMultiplier *= 10\n        } else {\n          requirementMultiplier *= 4\n        }\n      }\n      if (completions >= 80) {\n        if (special === 6) {\n          requirementMultiplier *= 50\n        } else if (special === 7) {\n          requirementMultiplier *= 20\n        } else if (special === 8) {\n          requirementMultiplier *= 4\n        } else {\n          requirementMultiplier *= 2\n        }\n      }\n      if (completions >= 70) {\n        if (special === 6) {\n          // Multiplier is reduced significantly for challenges requiring mythos shards\n          requirementMultiplier *= 20\n        } else if (special === 7) {\n          requirementMultiplier *= 10\n        } else if (special === 8) {\n          requirementMultiplier *= 2\n        } else {\n          requirementMultiplier *= 1\n        }\n      }\n      if (completions >= 60) {\n        if (special === 9 || special === 10) {\n          requirementMultiplier *= Math.pow(\n            1000,\n            (completions - 60)\n              * (1 - 0.01 * player.shopUpgrades.challengeTome - 0.01 * player.shopUpgrades.challengeTome2) / 10\n          )\n        }\n      }\n      if (completions >= 25) {\n        requirementMultiplier *= Math.pow(1 + completions, 5) / 625\n      }\n      if (completions < 25) {\n        requirementMultiplier *= Math.min(Math.pow(1 + completions, 2), Math.pow(1.3797, completions))\n      }\n      requirementMultiplier *= G.challenge15Rewards.reincarnationChallengeReduction\n      return requirementMultiplier\n    case 'ascension':\n      if (special !== 15) {\n        ;(completions >= 10)\n          ? requirementMultiplier *= 2 * (1 + completions) - 10\n          : requirementMultiplier *= 1 + completions\n      } else {\n        requirementMultiplier *= Math.pow(1000, completions)\n      }\n      return requirementMultiplier\n  }\n}\n\n/**\n * Works to mitigate the difficulty of calculating challenge reward multipliers when considering softcapping\n */\nexport const CalcECC = (type: 'transcend' | 'reincarnation' | 'ascension', completions: number) => { // ECC stands for \"Effective Challenge Completions\"\n  let effective = 0\n  switch (type) {\n    case 'transcend':\n      effective += Math.min(100, completions)\n      effective += 1 / 20 * (Math.min(1000, Math.max(100, completions)) - 100)\n      effective += 1 / 100 * (Math.max(1000, completions) - 1000)\n      return effective\n    case 'reincarnation':\n      effective += Math.min(25, completions)\n      effective += 1 / 2 * (Math.min(75, Math.max(25, completions)) - 25)\n      effective += 1 / 10 * (Math.max(75, completions) - 75)\n      return effective\n    case 'ascension':\n      effective += Math.min(10, completions)\n      effective += 1 / 2 * (Math.max(10, completions) - 10)\n      return effective\n  }\n}\n\nexport const challengeRequirement = (challenge: number, completion: number, special = 0) => {\n  const base = G.challengeBaseRequirements[challenge - 1]\n  if (challenge <= 5) {\n    return Decimal.pow(10, base * calculateChallengeRequirementMultiplier('transcend', completion, special))\n  } else if (challenge <= 10) {\n    let c10Reduction = 0\n    if (challenge === 10) {\n      c10Reduction =\n        1e8 * (player.researches[140] + player.researches[155] + player.researches[170] + player.researches[185])\n        + 2e7 * (player.shopUpgrades.challengeTome + player.shopUpgrades.challengeTome2)\n    }\n    return Decimal.pow(\n      10,\n      (base - c10Reduction) * calculateChallengeRequirementMultiplier('reincarnation', completion, special)\n    )\n  } else if (challenge <= 14) {\n    return calculateChallengeRequirementMultiplier('ascension', completion, special)\n  } else if (challenge === 15) {\n    return Decimal.pow(\n      10,\n      1 * Math.pow(10, 30) * calculateChallengeRequirementMultiplier('ascension', completion, special)\n    )\n  } else {\n    return 0\n  }\n}\n\n/**\n * Function that handles the autochallenge feature.\n * Currently includes ability to enter a challenge, leave a challenge\n * and start a challenge loop with specified challenges from index 1 to 10.\n * @param dt\n * @returns none\n */\nexport const runChallengeSweep = (dt: number) => {\n  // Do not run if any of these conditions hold\n  if (\n    player.researches[150] === 0 // Research 6x25 is 0\n    || !player.autoChallengeRunning // Auto challenge is toggled off\n  ) {\n    return\n  }\n\n  // Increment auto challenge timer\n  G.autoChallengeTimerIncrement += dt\n\n  // Determine what Action you can take with the current state of the savefile\n  let action = 'none'\n  if (\n    player.currentChallenge.reincarnation !== 0\n    || player.currentChallenge.transcension !== 0\n  ) {\n    // If you are in a challenge, you'd only want the automation to exit the challenge\n    action = 'exit'\n  } else if (player.autoChallengeIndex === 1) {\n    // If the index is set to 1, then you are at the start of a loop\n    action = 'start'\n  } else {\n    // If neither of the above are true, automation will want to enter a challenge\n    action = 'enter'\n  }\n\n  // In order to earn C15 Exponent, stop runChallengeSweep() 5 seconds before the auto ascension\n  // runs during the C15, Auto Challenge Sweep, Autcension and Mode: Real Time.\n  if (\n    autoAscensionChallengeSweepUnlock() && player.currentChallenge.ascension === 15\n    && player.shopUpgrades.challenge15Auto === 0\n    && (action === 'start' || action === 'enter') && player.autoAscend && player.challengecompletions[11] > 0\n    && player.cubeUpgrades[10] > 0\n    && player.autoAscendMode === 'realAscensionTime'\n    && player.ascensionCounterRealReal >= Math.max(0.1, player.autoAscendThreshold - 5)\n  ) {\n    action = 'wait'\n    toggleAutoChallengeModeText('WAIT')\n    return\n  }\n\n  // Action: Exit challenge\n  if (G.autoChallengeTimerIncrement >= player.autoChallengeTimer.exit && action === 'exit') {\n    // Determine if you're in a reincarnation or transcension challenge\n    const challengeType = player.currentChallenge.reincarnation !== 0 ? 'reincarnation' : 'transcension'\n\n    // Reset our autochallenge timer\n    G.autoChallengeTimerIncrement = 0\n\n    // Increment our challenge index for when we enter (or start) next challenge\n    const nowChallenge = player.autoChallengeIndex\n    const nextChallenge = getNextChallenge(nowChallenge + 1)\n\n    // Reset based on challenge type\n    if (challengeType === 'transcension') {\n      void resetCheck('transcensionChallenge', undefined, true)\n    }\n    if (challengeType === 'reincarnation') {\n      void resetCheck('reincarnationChallenge', undefined, true)\n    }\n\n    // If you don't need to start all the challenges, the challenges will end.\n    if (nextChallenge <= 10) {\n      /* If the next challenge is before the current challenge,\n               it will be in 'START' mode, otherwise it will be in 'ENTER' mode. */\n      if (nextChallenge < nowChallenge) {\n        player.autoChallengeIndex = 1\n        toggleAutoChallengeModeText('START')\n      } else {\n        player.autoChallengeIndex = nextChallenge\n        toggleAutoChallengeModeText('ENTER')\n      }\n    }\n    return\n  }\n\n  // Action: Enter a challenge (not inside one)\n  if (\n    (G.autoChallengeTimerIncrement >= player.autoChallengeTimer.start && action === 'start')\n    || (G.autoChallengeTimerIncrement >= player.autoChallengeTimer.enter && action === 'enter')\n  ) {\n    // Reset our autochallenge timer\n    G.autoChallengeTimerIncrement = 0\n\n    // This calculates which challenge this algorithm will run first, based on\n    // the first challenge which has automation toggled ON\n    const nowChallenge = player.autoChallengeIndex\n    const nextChallenge = getNextChallenge(nowChallenge)\n\n    // Do not start the challenge if all the challenges have been completed.\n    if (nextChallenge === 11) {\n      return\n    }\n\n    // Set our index to calculated starting challenge and run the challenge\n    player.autoChallengeIndex = nextChallenge\n    toggleChallenges(player.autoChallengeIndex, true)\n\n    // Sets Mode to \"EXIT\" as displayed in the challenge tab\n    toggleAutoChallengeModeText('EXIT')\n    return\n  }\n}\n\n// Look for the next uncompleted challenge.\nexport const getNextChallenge = (startChallenge: number, maxSkip = false, min = 1, max = 10) => {\n  let nextChallenge = startChallenge\n  /* Calculate the smallest challenge index we want to enter.\n       Our minimum is the current index, but if that challenge is fully completed\n       or toggled off we shouldn't run it, so we increment upwards in these cases. */\n  for (let index = nextChallenge; index <= max; index++) {\n    if (\n      !player.autoChallengeToggles[index]\n      || (!maxSkip && index !== 15 && player.highestchallengecompletions[index] >= getMaxChallenges(index))\n    ) {\n      nextChallenge += 1\n    } else {\n      break\n    }\n  }\n\n  /* If the above algorithm sets the index above 10, the loop is complete\n       and thus do not need to enter more challenges. This sets our index to 1\n       so in the next iteration it knows we want to start a loop. */\n  if (nextChallenge > max) {\n    // If the challenge reaches 11 or higher, return it to 1 and check again.\n    nextChallenge = min\n    for (let index = nextChallenge; index <= max; index++) {\n      if (\n        !player.autoChallengeToggles[index]\n        || (!maxSkip && index !== 15 && player.highestchallengecompletions[index] >= getMaxChallenges(index))\n      ) {\n        nextChallenge += 1\n      } else {\n        break\n      }\n    }\n  }\n  return nextChallenge\n}\n\nexport const autoAscensionChallengeSweepUnlock = () => {\n  return player.highestSingularityCount >= 101 && player.shopUpgrades.instantChallenge2 > 0\n}\n\nexport const challenge15ScoreMultiplier = () => {\n  const arr = [\n    1 + 5 / 10000 * hepteractEffective('challenge'), // Challenge Hepteract\n    1 + 0.25 * player.platonicUpgrades[15] // Omega Upgrade\n  ]\n  return productContents(arr)\n}\n", "import type { DecimalSource } from 'break_infinity.js'\nimport Decimal from 'break_infinity.js'\nimport i18next from 'i18next'\nimport { antSacrificePointsToMultiplier } from './Ants'\nimport { DOMCacheGetOrSet } from './Cache/DOM'\nimport { applyCorruptions } from './Corruptions'\nimport { Synergism } from './Events'\nimport { format, formatTimeShort, player } from './Synergism'\nimport { IconSets } from './Themes'\nimport { Notification } from './UpdateHTML'\nimport { Globals as G } from './Variables'\n\n// The categories are the different tables & storages for each type.\nexport type Category = 'ants' | 'reset' | 'ascend' | 'singularity'\n// The kinds are the different contents.\nexport type Kind = 'antsacrifice' | 'prestige' | 'transcend' | 'reincarnate' | 'ascend' | 'singularity'\n\n// Common to every kind\ninterface ResetHistoryEntryBase {\n  date: number\n  seconds: number\n  kind: Kind\n}\n\nexport type ResetHistoryEntryAntSacrifice = ResetHistoryEntryBase & {\n  antSacrificePointsAfter: number\n  antSacrificePointsBefore: number\n  baseELO: number\n  crumbs: string\n  crumbsPerSecond: string\n  effectiveELO: number\n  obtainium: number\n  offerings: number\n  kind: 'antsacrifice'\n}\n\nexport type ResetHistoryEntryPrestige = ResetHistoryEntryBase & {\n  offerings: number\n  diamonds: string\n  kind: 'prestige'\n}\nexport type ResetHistoryEntryTranscend = ResetHistoryEntryBase & {\n  offerings: number\n  mythos: string\n  kind: 'transcend'\n}\nexport type ResetHistoryEntryReincarnate = ResetHistoryEntryBase & {\n  offerings: number\n  particles: string\n  obtainium: number\n  kind: 'reincarnate'\n}\n\nexport type ResetHistoryEntryAscend = ResetHistoryEntryBase & {\n  c10Completions: number\n  usedCorruptions: number[]\n  corruptionScore: number\n  wowCubes: number\n  wowTesseracts: number\n  wowHypercubes: number\n  wowPlatonicCubes: number\n  wowHepteracts: number\n  currentChallenge?: number\n  kind: 'ascend'\n}\n\nexport interface ResetHistoryEntrySingularity extends ResetHistoryEntryBase {\n  singularityCount: number\n  quarks: number\n  goldenQuarks: number\n  wowTribs: number\n  tessTribs: number\n  hyperTribs: number\n  platTribs: number\n  octeracts: number\n  c15Score: number\n  quarkHept: number\n  kind: 'singularity'\n}\n\n// The set of common fields (in practice this is equal to the Base).\nexport type ResetHistoryEntryUnion =\n  | ResetHistoryEntryAntSacrifice\n  | ResetHistoryEntryPrestige\n  | ResetHistoryEntryTranscend\n  | ResetHistoryEntryReincarnate\n  | ResetHistoryEntryAscend\n  | ResetHistoryEntrySingularity\n\n// The intersection of all of these types is invalid (\"never\") because of the conflicting `kind` field declarations.\n// Luckily, we can filter the more specific `kind` fields and still end up with a valid type declaration by using\n// the `kind` field from the base.\n// Fun fact: This exact field name also happens to be the example in the TypeScript documentation.\ntype RemoveKindField<T> = {\n  [K in keyof T as Exclude<K, 'kind'>]: T[K]\n}\n\n// The intersection of all possible fields we can possibly find in a history row. We'll keep the kind field from the\n// base, which is a simple string.\ntype ResetHistoryEntryIntersect =\n  & ResetHistoryEntryBase\n  & Partial<RemoveKindField<ResetHistoryEntryAntSacrifice>>\n  & Partial<RemoveKindField<ResetHistoryEntryPrestige>>\n  & Partial<RemoveKindField<ResetHistoryEntryTranscend>>\n  & Partial<RemoveKindField<ResetHistoryEntryReincarnate>>\n  & Partial<RemoveKindField<ResetHistoryEntryAscend>>\n  & Partial<RemoveKindField<ResetHistoryEntrySingularity>>\n\n// The subset of keys that we'll directly print out using generic code.\nexport type ResetHistoryGainType = keyof Pick<\n  ResetHistoryEntryIntersect,\n  | 'offerings'\n  | 'obtainium'\n  | 'particles'\n  | 'diamonds'\n  | 'mythos'\n  | 'wowCubes'\n  | 'wowTesseracts'\n  | 'wowHypercubes'\n  | 'wowPlatonicCubes'\n  | 'wowHepteracts'\n  | 'singularityCount'\n  | 'quarks'\n  | 'goldenQuarks'\n  | 'wowTribs'\n  | 'tessTribs'\n  | 'hyperTribs'\n  | 'platTribs'\n  | 'octeracts'\n  | 'c15Score'\n  | 'quarkHept'\n>\n\n// A formatter that allows formatting a string. The string should be in a form parsable by break_infinity.js.\nconst formatDecimalSource = (numOrStr: DecimalSource) => {\n  return format(typeof numOrStr === 'string' ? new Decimal(numOrStr) : numOrStr)\n}\n\n// A formatter that, if given a number, allows the data to be divided by the amount of seconds spent.\nconst conditionalFormatPerSecond = (numOrStr: DecimalSource, data: ResetHistoryEntryBase) => {\n  // Strings (decimals) are currently not supported.\n  if (typeof numOrStr === 'string') {\n    return formatDecimalSource(numOrStr)\n  }\n\n  if (typeof numOrStr === 'number' && player.historyShowPerSecond && data.seconds !== 0) {\n    if (numOrStr === 0) { // work around format(0, 3) return 0 instead of 0.000, for consistency\n      return '0.000/s'\n    }\n    // Use \"long\" display for smaller numbers, but once it exceeds 1000, use the \"short\" display.\n    // This'll keep decimals intact until 1000 instead of 10 without creating unwieldy numbers between e6-e13.\n    return `${format(numOrStr / data.seconds, 3, numOrStr < 1000)}/s`\n  }\n  return format(numOrStr)\n}\n\n// Metadata and formatting tools for simple table cells (gains).\nconst historyGains: Record<\n  ResetHistoryGainType,\n  {\n    img: string\n    imgTitle: string\n    formatter?: (str: DecimalSource, data: ResetHistoryEntryUnion) => string\n    onlyif?: (data: ResetHistoryEntryUnion) => boolean\n  }\n> = {\n  offerings: {\n    img: 'Offering.png',\n    formatter: formatDecimalSource,\n    imgTitle: 'Offerings'\n  },\n  obtainium: {\n    img: 'Obtainium.png',\n    formatter: formatDecimalSource,\n    imgTitle: 'Obtainium'\n  },\n  particles: {\n    img: 'Particle.png',\n    formatter: formatDecimalSource,\n    imgTitle: 'Particles'\n  },\n  diamonds: {\n    img: 'Diamond.png',\n    formatter: formatDecimalSource,\n    imgTitle: 'Diamonds'\n  },\n  mythos: {\n    img: 'Mythos.png',\n    formatter: formatDecimalSource,\n    imgTitle: 'Mythos'\n  },\n  wowTesseracts: {\n    img: 'TinyWow4.png',\n    formatter: conditionalFormatPerSecond,\n    imgTitle: 'Wow! Tesseracts'\n  },\n  wowHypercubes: {\n    img: 'TinyWow5.png',\n    formatter: conditionalFormatPerSecond,\n    imgTitle: 'Wow! Hypercubes',\n    onlyif: () => player.challengecompletions[13] > 0\n  },\n  wowCubes: {\n    img: 'TinyWow3.png',\n    formatter: conditionalFormatPerSecond,\n    imgTitle: 'Wow! Cubes'\n  },\n  wowPlatonicCubes: {\n    img: 'TinyWow6.png',\n    formatter: conditionalFormatPerSecond,\n    imgTitle: 'Platonic Cubes',\n    onlyif: () => player.challengecompletions[14] > 0\n  },\n  wowHepteracts: {\n    img: 'TinyWow7.png',\n    formatter: conditionalFormatPerSecond,\n    imgTitle: 'Hepteracts',\n    onlyif: () => player.achievements[255] > 0\n  },\n  singularityCount: {\n    img: 'TinyS.png',\n    formatter: formatDecimalSource,\n    imgTitle: 'Singularity Count',\n    onlyif: () => player.highestSingularityCount > 0\n  },\n  quarks: {\n    img: 'Quark.png',\n    formatter: formatDecimalSource,\n    imgTitle: 'Quarks',\n    onlyif: () => player.highestSingularityCount > 0\n  },\n  goldenQuarks: {\n    img: 'GoldenQuark.png',\n    formatter: formatDecimalSource,\n    imgTitle: 'Golden Quarks',\n    onlyif: () => player.highestSingularityCount > 0\n  },\n  wowTribs: {\n    img: 'TinyWow3.png',\n    formatter: formatDecimalSource,\n    imgTitle: 'Cube Tributes',\n    onlyif: () => player.highestSingularityCount > 0\n  },\n  tessTribs: {\n    img: 'TinyWow4.png',\n    formatter: formatDecimalSource,\n    imgTitle: 'Tesseract Gifts',\n    onlyif: () => player.highestSingularityCount > 0\n  },\n  hyperTribs: {\n    img: 'TinyWow5.png',\n    formatter: formatDecimalSource,\n    imgTitle: 'Hypercube Bendictions',\n    onlyif: () => player.highestSingularityCount > 0\n  },\n  platTribs: {\n    img: 'TinyWow6.png',\n    formatter: formatDecimalSource,\n    imgTitle: 'Platonics Opened',\n    onlyif: () => player.highestSingularityCount > 0\n  },\n  octeracts: {\n    img: 'TinyWow8.png',\n    formatter: formatDecimalSource,\n    imgTitle: 'Octeracts',\n    onlyif: () => (player.singularityUpgrades.octeractUnlock.getEffect().bonus as number) > 0\n  },\n  c15Score: {\n    img: 'TinyChallenge15.png',\n    formatter: formatDecimalSource,\n    imgTitle: 'C15 score',\n    onlyif: () => player.singularityCount > 0\n  },\n  quarkHept: {\n    img: 'TinyQuarkHept.png',\n    formatter: formatDecimalSource,\n    imgTitle: 'Quark Hept',\n    onlyif: () => player.singularityCount > 0\n  }\n}\n\n// Order in which to display the above\nconst historyGainsOrder: ResetHistoryGainType[] = [\n  'offerings',\n  'obtainium',\n  'particles',\n  'diamonds',\n  'mythos',\n  'wowCubes',\n  'wowTesseracts',\n  'wowHypercubes',\n  'wowPlatonicCubes',\n  'wowHepteracts',\n  'singularityCount',\n  'quarks',\n  'goldenQuarks',\n  'wowTribs',\n  'tessTribs',\n  'hyperTribs',\n  'platTribs',\n  'octeracts',\n  'c15Score',\n  'quarkHept'\n]\n\n// The various kinds and their associated images.\nconst historyKinds: Record<Kind, { img: string }> = {\n  antsacrifice: { img: 'SacrificeNoBorder.png' },\n  prestige: { img: 'TinyP.png' },\n  transcend: { img: 'TinyT.png' },\n  reincarnate: { img: 'TinyR.png' },\n  ascend: { img: 'TinyA.png' },\n  singularity: { img: 'TinyS.png' }\n}\n\n// List of categories and the IDs of the associated table in the DOM.\nconst resetHistoryTableMapping: Record<Category, string> = {\n  ants: 'historyAntsTable',\n  reset: 'historyResetTable',\n  ascend: 'historyAscendTable',\n  singularity: 'historySingularityTable'\n}\n\n// Images associated with the various corruptions.\nconst resetHistoryCorruptionImages = [\n  'CorruptViscocity.png',\n  'CorruptSpatialDilation.png',\n  'CorruptHyperchallenged.png',\n  'CorruptScientificIlliteracy.png',\n  'CorruptDeflation.png',\n  'CorruptExtinction.png',\n  'CorruptDrought.png',\n  'CorruptFinancialCollapse.png'\n]\n\nconst resetHistoryCorruptionTitles = [\n  'Viscosity [Accelerators and Multipliers]',\n  'Spacial Dilation [Time]',\n  'Hyperchallenged [Challenge Requirements]',\n  'Scientific Illiteracy [Obtainium]',\n  'Market Deflation [Diamonds]',\n  'Extinction [Ants]',\n  'Drought [Offering EXP]',\n  'Financial Recession [Coins]'\n]\n\n// A formatting aid that removes the mantissa from a formatted string. Converts \"2.5e1000\" to \"e1000\".\nconst extractStringExponent = (str: string) => {\n  let m: RegExpMatchArray | null\n  return (m = /e\\+?(.+)/.exec(str)) !== null ? `e${m[1]}` : str\n}\n\n// Add an entry to the history. This can be called via the event system.\nconst resetHistoryAdd = (category: Category, data: ResetHistoryEntryUnion) => {\n  while (player.history[category].length > (G.historyCountMax - 1)) {\n    player.history[category].shift()\n  }\n\n  player.history[category].push(data)\n  resetHistoryPushNewRow(category, data)\n}\n\nSynergism.on('historyAdd', resetHistoryAdd)\n\n// Add a row to the table, shifting out old ones as required.\nconst resetHistoryPushNewRow = (category: Category, data: ResetHistoryEntryUnion) => {\n  const row = resetHistoryRenderRow(category, data)\n  const table = DOMCacheGetOrSet(resetHistoryTableMapping[category])\n  const tbody = table.querySelector('tbody')!\n  tbody.insertBefore(row, tbody.childNodes[0])\n  while (tbody.childNodes.length > G.historyCountMax) {\n    tbody.removeChild(tbody.lastChild!)\n  }\n\n  if (category === 'ascend') {\n    const loadCorruptionsButtons = Array.from(row.getElementsByClassName('ascendHistoryLoadCorruptions'))\n    for (const btn of loadCorruptionsButtons) {\n      btn.addEventListener('click', (e) => clickHandlerForLoadCorruptionsButton(e.target as HTMLElement))\n    }\n  }\n}\n\n// Render a table row.\nconst resetHistoryRenderRow = (\n  _category: Category,\n  data: ResetHistoryEntryUnion\n) => {\n  let colsUsed = 1\n  const row = document.createElement('tr')\n  let rowContentHtml = ''\n\n  const kindMeta = historyKinds[data.kind]\n\n  const localDate = new Date(data.date).toLocaleString()\n  rowContentHtml += `<td class=\"history-seconds\" title=\"${localDate}\"><img alt=\"${data.kind}\" src=\"Pictures/${\n    IconSets[player.iconSet][0]\n  }/${kindMeta.img}\">${formatTimeShort(data.seconds, 60)}</td>`\n\n  // Carefully loop through everything we need to print in the right order, and add it to the gains array if present.\n  const gains: string[] = []\n  const dataIntersection = data as ResetHistoryEntryIntersect\n  historyGainsOrder.forEach((listable) => {\n    if (Object.prototype.hasOwnProperty.call(data, listable)) {\n      const gainInfo = historyGains[listable]\n      if (gainInfo.onlyif && !gainInfo.onlyif(data)) {\n        return\n      }\n      const formatter = gainInfo.formatter ?? (() => {/* If no formatter is specified, don't display. */})\n      const str = `<img alt=\"${gainInfo.imgTitle}\" src=\"Pictures/${\n        IconSets[player.iconSet][0]\n      }/${gainInfo.img}\" title=\"${gainInfo.imgTitle}\">${formatter(dataIntersection[listable]!, data)}`\n\n      gains.push(str)\n    }\n  })\n\n  // Kind-dependent rendering goes here. TypeScript will automatically cast to the appropriate structure based on\n  // the kind check.\n  const extra: string[] = []\n  if (data.kind === 'antsacrifice') {\n    const oldMulti = antSacrificePointsToMultiplier(data.antSacrificePointsBefore)\n    const newMulti = antSacrificePointsToMultiplier(data.antSacrificePointsAfter)\n    const diff = newMulti - oldMulti\n    extra.push(\n      `<span title=\"Ant Multiplier: ${format(oldMulti, 3, false)}--&gt;${\n        format(newMulti, 3, false)\n      }\"><img src=\"Pictures/${IconSets[player.iconSet][0]}/Multiplier.png\" alt=\"Ant Multiplier\">+${\n        format(diff, 3, false)\n      }</span>`,\n      `<span title=\"+${formatDecimalSource(data.crumbsPerSecond)} crumbs/s\"><img src=\"Pictures/${\n        IconSets[player.iconSet][0]\n      }/TinyCrumbs.png\" alt=\"Crumbs\">${extractStringExponent(formatDecimalSource(data.crumbs))}</span>`,\n      `<span title=\"${format(data.baseELO)} base\"><img src=\"Pictures/${\n        IconSets[player.iconSet][0]\n      }/TinyELO.png\" alt=\"ELO\">${format(data.effectiveELO)}</span>`\n    )\n  } else if (data.kind === 'ascend') {\n    extra.push(\n      `<img alt=\"C10\" src=\"Pictures/${\n        IconSets[player.iconSet][0]\n      }/TinyChallenge10.png\" title=\"Challenge 10 completions\">${data.c10Completions}`\n    )\n\n    const corruptions = resetHistoryFormatCorruptions(data)\n\n    extra.push(corruptions[0])\n    extra.push(corruptions[1])\n    extra.push(corruptions[2])\n  }\n\n  // This rendering is done this way so that all rows should have the same number of columns, which makes rows\n  // equal size and prevents bad rendering. We do 2 of these so that the history doesn't shift when\n  // hypercubes or platcubes get added as players unlock them.\n  // The 6 and 4 numbers are arbitrary but should never be less than the actual amount of columns that can be\n  // realistically displayed; you can increase them if more gains are added.\n\n  // Render the gains plus the gains filler\n  colsUsed += gains.length\n  rowContentHtml += gains.reduce((acc, value) => {\n    return `${acc}<td class=\"history-gain\">${value}</td>`\n  }, '')\n  rowContentHtml += `<td class=\"history-filler\" colspan=\"${7 - colsUsed}\"></td>`\n\n  // Render the other stuff\n  rowContentHtml += extra.reduce((acc, value) => {\n    return `${acc}<td class=\"history-extra\">${value}</td>`\n  }, '')\n  rowContentHtml += `<td class=\"history-filler\" colspan=\"${4 - extra.length}\"></td>`\n\n  row.innerHTML = rowContentHtml\n  return row\n}\n\n// Render a category into a given table.\nconst resetHistoryRenderFullTable = (categoryToRender: Category, targetTable: HTMLElement) => {\n  const tbody = targetTable.querySelector('tbody')!\n  tbody.innerHTML = ''\n\n  if (player.history[categoryToRender].length > 0) {\n    for (let i = player.history[categoryToRender].length - 1; i >= 0; --i) {\n      const row = resetHistoryRenderRow(categoryToRender, player.history[categoryToRender][i])\n      tbody.appendChild(row)\n    }\n  }\n\n  if (categoryToRender === 'ascend') {\n    const loadCorruptionsButtons = Array.from(document.getElementsByClassName('ascendHistoryLoadCorruptions'))\n    for (const btn of loadCorruptionsButtons) {\n      btn.addEventListener('click', (e) => clickHandlerForLoadCorruptionsButton(e.target as HTMLElement))\n    }\n  }\n}\n\nfunction clickHandlerForLoadCorruptionsButton (btn: HTMLElement) {\n  const corruptions = btn.getAttribute('data-corr')\n  if (corruptions) {\n    applyCorruptions(corruptions)\n    void Notification(i18next.t('corruptions.loadoutApplied'), 5000)\n  }\n}\n\n// Render every category into their associated table.\nexport const resetHistoryRenderAllTables = () => {\n  ;(Object.keys(resetHistoryTableMapping) as Category[]).forEach(\n    (key) => resetHistoryRenderFullTable(key, DOMCacheGetOrSet(resetHistoryTableMapping[key]))\n  )\n}\n\n// Toggle the \"per second\" display for the ascension table.\nexport const resetHistoryTogglePerSecond = () => {\n  player.historyShowPerSecond = !player.historyShowPerSecond\n  resetHistoryRenderAllTables()\n  const button = DOMCacheGetOrSet('historyTogglePerSecondButton')\n  if (player.historyShowPerSecond) {\n    button.textContent = i18next.t('history.perSecondOn')\n  } else {\n    button.textContent = i18next.t('history.perSecondOff')\n  }\n  button.style.borderColor = player.historyShowPerSecond ? 'green' : 'red'\n}\n\n// Helper function to format the corruption display in the ascension table.\nconst resetHistoryFormatCorruptions = (data: ResetHistoryEntryAscend): [string, string, string] => {\n  let score = `Score: ${format(data.corruptionScore, 0, false)}`\n  let corruptions = ''\n  let loadout = ''\n  let corrs = 0\n  for (let i = 0; i < resetHistoryCorruptionImages.length; ++i) {\n    const corruptionIdx = i + 2\n    if (corruptionIdx in data.usedCorruptions && data.usedCorruptions[corruptionIdx] !== 0) {\n      corruptions += `<img alt=\"${corrs > 0 ? '/' : ''}\" src=\"Pictures/${IconSets[player.iconSet][0]}/${\n        resetHistoryCorruptionImages[i]\n      }\" title=\"${resetHistoryCorruptionTitles[i]}\">${data.usedCorruptions[corruptionIdx]}`\n    } else {\n      corruptions += `<span>${corrs > 0 ? '/0' : '0'}</span>`\n    }\n    corrs++\n  }\n  if (corruptions) {\n    loadout += `<button class=\"corrLoad ascendHistoryLoadCorruptions\" data-corr=\"${\n      data.usedCorruptions.join('/')\n    }\">Load</button>`\n  }\n  if (data.currentChallenge !== undefined) {\n    score += ` / C${data.currentChallenge}`\n  }\n\n  return [score, corruptions, loadout]\n}\n", "// August 22, 2022: Creation of Exportable Statistics.\n\nimport ClipboardJS from 'clipboard'\nimport i18next from 'i18next'\nimport { totalachievementpoints } from './Achievements'\nimport {\n  calculateAscensionAcceleration,\n  calculateGoldenQuarkGain,\n  calculateMaxRunes,\n  calculateTimeAcceleration,\n  calculateTotalOcteractCubeBonus,\n  calculateTotalOcteractQuarkBonus,\n  octeractGainPerSecond\n} from './Calculate'\nimport { getMaxChallenges } from './Challenges'\nimport { version } from './Config'\nimport { saveFilename } from './ImportExport'\nimport { friendlyShopName, isShopUpgradeUnlocked, shopData, shopUpgradeTypes } from './Shop'\nimport { calculateEffectiveSingularities } from './singularity'\nimport { format, player } from './Synergism'\nimport type { Player } from './types/Synergism'\nimport { Alert } from './UpdateHTML'\nimport { formatS, sumContents } from './Utility'\nimport { Globals as G } from './Variables'\n\nexport const generateExportSummary = async (): Promise<void> => {\n  const titleText = '===== SUMMARY STATS ====='\n  const time = `Time Generated: ${(new Date()).toString()}`\n  const ver = `Version: ${version}`\n\n  const subCategoryDivisor = '-----+-----\\n'\n\n  const firstPlayed = `First Played: ${player.firstPlayed}\\n`\n\n  let resources = '===== RESOURCES =====\\n'\n  resources = resources\n    + (player.reincarnationCount > 0 || player.highestSingularityCount > 0\n      ? `Quarks: ${format(Number(player.worlds), 0, true)}\\n`\n      : '')\n  resources = resources\n    + (player.highestSingularityCount > 0 ? `Golden Quarks: ${format(player.goldenQuarks, 2, true)}\\n` : '')\n  resources = resources + subCategoryDivisor\n  resources = `${resources}Coins: ${format(player.coins, 2, true)}\\n`\n  if (player.prestigeCount > 0 || player.highestSingularityCount > 0) {\n    resources = `${resources}Diamonds: ${format(player.prestigePoints, 2, true)}\\n`\n    resources = `${resources}Crystals: ${format(player.prestigeShards, 2, true)}\\n`\n    resources = `${resources}Offerings: ${format(player.runeshards, 0, true)}\\n`\n  }\n  if (player.transcendCount > 0 || player.highestSingularityCount > 0) {\n    resources = `${resources}Mythos: ${format(player.transcendPoints, 2, true)}\\n`\n    resources = `${resources}Mythos Shards: ${format(player.transcendShards, 2, true)}\\n`\n  }\n  if (player.reincarnationCount > 0 || player.highestSingularityCount > 0) {\n    resources = `${resources}Particles: ${format(player.reincarnationPoints, 2, true)}\\n`\n    resources = `${resources}Atoms: ${format(player.reincarnationShards, 2, true)}\\n`\n    resources = `${resources}Obtainium: ${format(player.researchPoints, 0, true)}\\n`\n  }\n  if (player.ascensionCount > 0 || player.highestSingularityCount > 0) {\n    const cubeArray = [\n      null,\n      player.cubeBlessings.accelerator,\n      player.cubeBlessings.multiplier,\n      player.cubeBlessings.offering,\n      player.cubeBlessings.runeExp,\n      player.cubeBlessings.obtainium,\n      player.cubeBlessings.antSpeed,\n      player.cubeBlessings.antSacrifice,\n      player.cubeBlessings.antELO,\n      player.cubeBlessings.talismanBonus,\n      player.cubeBlessings.globalSpeed\n    ]\n    const tesseractArray = [\n      null,\n      player.tesseractBlessings.accelerator,\n      player.tesseractBlessings.multiplier,\n      player.tesseractBlessings.offering,\n      player.tesseractBlessings.runeExp,\n      player.tesseractBlessings.obtainium,\n      player.tesseractBlessings.antSpeed,\n      player.tesseractBlessings.antSacrifice,\n      player.tesseractBlessings.antELO,\n      player.tesseractBlessings.talismanBonus,\n      player.tesseractBlessings.globalSpeed\n    ]\n    const hypercubeArray = [\n      null,\n      player.hypercubeBlessings.accelerator,\n      player.hypercubeBlessings.multiplier,\n      player.hypercubeBlessings.offering,\n      player.hypercubeBlessings.runeExp,\n      player.hypercubeBlessings.obtainium,\n      player.hypercubeBlessings.antSpeed,\n      player.hypercubeBlessings.antSacrifice,\n      player.hypercubeBlessings.antELO,\n      player.hypercubeBlessings.talismanBonus,\n      player.hypercubeBlessings.globalSpeed\n    ]\n    const platonicArray = [\n      player.platonicBlessings.cubes,\n      player.platonicBlessings.tesseracts,\n      player.platonicBlessings.hypercubes,\n      player.platonicBlessings.platonics,\n      player.platonicBlessings.hypercubeBonus,\n      player.platonicBlessings.taxes,\n      player.platonicBlessings.scoreBonus,\n      player.platonicBlessings.globalSpeed\n    ]\n    const cubeSum = format(sumContents(cubeArray.slice(1) as number[]), 0, true)\n    const tesseractSum = format(sumContents(tesseractArray.slice(1) as number[]), 0, true)\n    const hypercubeSum = format(sumContents(hypercubeArray.slice(1) as number[]), 0, true)\n    const platonicSum = format(sumContents(platonicArray), 0, true)\n\n    resources = resources + subCategoryDivisor\n    resources = `${resources}Wow! Cubes: ${format(Number(player.wowCubes), 0, true)} -+- Total Tributes: ${cubeSum}\\n`\n    resources = `${resources}Wow! Tesseracts: ${\n      format(Number(player.wowTesseracts), 0, true)\n    } -+- Total Gifts: ${tesseractSum}\\n`\n    resources = `${resources}Wow! Hypercubes: ${\n      format(Number(player.wowHypercubes), 0, true)\n    } -+- Total Benedictions: ${hypercubeSum}\\n`\n    resources = `${resources}Wow! Platonic Cubes: ${\n      format(Number(player.wowPlatonicCubes), 0, true)\n    } -+- Total Plats Opened: ${platonicSum}\\n`\n    resources = `${resources}Wow! Hepteracts: ${format(player.wowAbyssals, 0, true)}\\n`\n    if (player.singularityUpgrades.octeractUnlock.getEffect().bonus) {\n      resources = `${resources}Wow! Octeracts: ${format(player.wowOcteracts, 0, true)}\\n`\n    }\n  }\n\n  // Octeract Subportion!\n  let octeract = ''\n  if (player.singularityUpgrades.octeractUnlock.getEffect().bonus) {\n    octeract = '===== OCTERACTS =====\\n'\n    octeract = `${octeract}Current Octeracts: ${format(player.wowOcteracts, 2, true)}\\n`\n    octeract = `${octeract}Current Per Second: ${format(octeractGainPerSecond(), 2, true)}\\n`\n    octeract = `${octeract}Total Generated Octeracts: ${format(player.totalWowOcteracts, 2, true)}\\n`\n    octeract = `${octeract}Octeract Cube Bonus: ${format(100 * (calculateTotalOcteractCubeBonus() - 1), 2, true)}%\\n`\n    octeract = `${octeract}Octeract Quark Bonus: ${format(100 * (calculateTotalOcteractQuarkBonus() - 1), 2, true)}%\\n`\n  }\n\n  // Singularity Subportion!\n  let singularity = ''\n  if (player.highestSingularityCount > 0) {\n    singularity = '===== SINGULARITY =====\\n'\n    singularity = `${singularity}Current Singularity: ${player.singularityCount}\\n`\n    singularity = `${singularity}Highest Singularity Reached: ${player.highestSingularityCount}\\n`\n    singularity = `${singularity}Golden Quarks: ${format(player.goldenQuarks, 2, true)}\\n`\n    singularity = `${singularity}+Golden Quarks on Singularity: ${format(calculateGoldenQuarkGain(), 2, true)}\\n`\n    singularity = `${singularity}Time in Singularity: ${formatS(player.singularityCounter)}\\n`\n    singularity = `${singularity}Effective Singularity [for penalties]: ${\n      format(calculateEffectiveSingularities(), 2, true)\n    }\\n`\n    singularity = `${singularity}Antiquity of Ant God Upgraded: ${(player.runelevels[6] > 0) ? '\u2714' : '\u2716'}\\n`\n  }\n\n  // Ascension Subportion!\n  let ascension = ''\n  if (player.ascensionCount > 0 || player.highestSingularityCount > 0) {\n    ascension = '===== ASCENSION ===== \\n'\n    ascension = `${ascension}Ascension Count: ${format(player.ascensionCount, 0, true)}\\n`\n    ascension = `${ascension}Ascension Timer: ${formatS(player.ascensionCounter)}\\n`\n    ascension = `${ascension}Real Life Ascension Timer: ${formatS(player.ascensionCounterReal)}\\n`\n    ascension = `${ascension}Truly Real Life Ascension Timer: ${formatS(player.ascensionCounterRealReal)}\\n`\n    ascension = `${ascension}Ascension Speed Multiplier: ${format(calculateAscensionAcceleration(), 2, true)}\\n`\n    ascension = `${ascension}Challenge 11 Completions: ${player.challengecompletions[11]}/${getMaxChallenges(11)}\\n`\n    ascension = `${ascension}Challenge 12 Completions: ${player.challengecompletions[12]}/${getMaxChallenges(12)}\\n`\n    ascension = `${ascension}Challenge 13 Completions: ${player.challengecompletions[13]}/${getMaxChallenges(13)}\\n`\n    ascension = `${ascension}Challenge 14 Completions: ${player.challengecompletions[14]}/${getMaxChallenges(14)}\\n`\n    if (player.highestchallengecompletions[14] > 0 || player.highestSingularityCount > 0) {\n      ascension = `${ascension}Challenge 15 Exponent: ${format(player.challenge15Exponent, 2, true)}\\n`\n      ascension = `${ascension}Research [8x25] MAXED: ${(player.researches[200] === 1e5) ? '\u2714' : '\u2716'}\\n`\n      ascension = `${ascension}Cube [w5x10] MAXED: ${(player.cubeUpgrades[50] === 1e5) ? '\u2714' : '\u2716'}\\n`\n      ascension = `${ascension}Platonic \u03B1: ${player.platonicUpgrades[5] > 0 ? '\u2714' : '\u2716'}\\n`\n      ascension = `${ascension}Platonic \u03B2: ${player.platonicUpgrades[10] > 0 ? '\u2714' : '\u2716'}\\n`\n      ascension = `${ascension}Platonic \u03A9: ${player.platonicUpgrades[15] > 0 ? '\u2714' : '\u2716'}\\n`\n    }\n    if (player.challenge15Exponent >= 1e15 || player.highestSingularityCount > 0) {\n      ascension = `${ascension}----- HEPTERACTS -----\\n`\n      ascension = `${ascension}Chronos Hepteract: ${format(player.hepteractCrafts.chronos.BAL, 0, true)}/${\n        format(player.hepteractCrafts.chronos.CAP, 0, true)\n      }\\n`\n      ascension = `${ascension}Hyperreal Hepteract: ${format(player.hepteractCrafts.hyperrealism.BAL, 0, true)}/${\n        format(player.hepteractCrafts.hyperrealism.CAP, 0, true)\n      }\\n`\n      ascension = `${ascension}Quark Hepteract: ${format(player.hepteractCrafts.quark.BAL, 0, true)}/${\n        format(player.hepteractCrafts.quark.CAP, 0, true)\n      }\\n`\n      ascension = `${ascension}Challenge Hepteract: ${format(player.hepteractCrafts.challenge.BAL, 0, true)}/${\n        format(player.hepteractCrafts.challenge.CAP, 0, true)\n      }\\n`\n      ascension = `${ascension}Abyss Hepteract: ${format(player.hepteractCrafts.abyss.BAL, 0, true)}/${\n        format(player.hepteractCrafts.abyss.CAP, 0, true)\n      }\\n`\n      ascension = `${ascension}Accelerators Hepteract: ${format(player.hepteractCrafts.accelerator.BAL, 0, true)}/${\n        format(player.hepteractCrafts.accelerator.CAP, 0, true)\n      }\\n`\n      ascension = `${ascension}Accelerator Boosts Hepteract: ${\n        format(player.hepteractCrafts.acceleratorBoost.BAL, 0, true)\n      }/${format(player.hepteractCrafts.acceleratorBoost.CAP, 0, true)}\\n`\n      ascension = `${ascension}Multipliers Hepteract: ${format(player.hepteractCrafts.multiplier.BAL, 0, true)}/${\n        format(player.hepteractCrafts.multiplier.CAP, 0, true)\n      }\\n`\n      ascension = `${ascension}----- POWDER & ORBS -----\\n`\n      ascension = `${ascension}Orbs: ${format(player.overfluxOrbs, 0, true)}\\n`\n      ascension = `${ascension}Powder: ${format(player.overfluxPowder, 2, true)}\\n`\n    }\n  }\n\n  // Reincarnation Portion!\n  let reincarnation = ''\n  if (player.reincarnationCount > 0 || player.highestSingularityCount > 0) {\n    reincarnation = '===== REINCARNATION =====\\n'\n    reincarnation = `${reincarnation}Reincarnation Count: ${format(player.reincarnationCount, 0, true)}\\n`\n    reincarnation = `${reincarnation}Reincarnation Timer: ${formatS(player.reincarnationcounter)}\\n`\n    reincarnation = `${reincarnation}Fastest Reincarnation: ${formatS(player.fastestreincarnate)}\\n`\n    reincarnation = `${reincarnation}Global Speed Multiplier: ${format(calculateTimeAcceleration().mult, 2, true)}\\n`\n    reincarnation = `${reincarnation}Challenge 6 Completions: ${player.highestchallengecompletions[6]}/${\n      getMaxChallenges(6)\n    }\\n`\n    reincarnation = `${reincarnation}Challenge 7 Completions: ${player.highestchallengecompletions[7]}/${\n      getMaxChallenges(7)\n    }\\n`\n    reincarnation = `${reincarnation}Challenge 8 Completions: ${player.highestchallengecompletions[8]}/${\n      getMaxChallenges(8)\n    }\\n`\n    reincarnation = `${reincarnation}Challenge 9 Completions: ${player.highestchallengecompletions[9]}/${\n      getMaxChallenges(9)\n    }\\n`\n    reincarnation = `${reincarnation}Challenge 10 Completions: ${player.highestchallengecompletions[10]}/${\n      getMaxChallenges(10)\n    }\\n`\n  }\n\n  // Transcension Portion!\n  let transcension = ''\n  if (player.transcendCount > 0 || player.highestSingularityCount > 0) {\n    transcension = '===== TRANSCENSION =====\\n'\n    transcension = `${transcension}Transcension Count: ${format(player.transcendCount, 0, true)}\\n`\n    transcension = `${transcension}Transcension Timer: ${formatS(player.transcendcounter)}\\n`\n    transcension = `${transcension}Fastest Transcension: ${formatS(player.fastesttranscend)}\\n`\n    transcension = `${transcension}Challenge 1 Completions: ${player.highestchallengecompletions[1]}/${\n      getMaxChallenges(1)\n    }\\n`\n    transcension = `${transcension}Challenge 2 Completions: ${player.highestchallengecompletions[2]}/${\n      getMaxChallenges(2)\n    }\\n`\n    transcension = `${transcension}Challenge 3 Completions: ${player.highestchallengecompletions[3]}/${\n      getMaxChallenges(3)\n    }\\n`\n    transcension = `${transcension}Challenge 4 Completions: ${player.highestchallengecompletions[4]}/${\n      getMaxChallenges(4)\n    }\\n`\n    transcension = `${transcension}Challenge 5 Completions: ${player.highestchallengecompletions[5]}/${\n      getMaxChallenges(5)\n    }\\n`\n  }\n\n  // Prestige Portion!\n  let prestige = ''\n  if (player.prestigeCount > 0 || player.highestSingularityCount > 0) {\n    prestige = '===== PRESTIGE & RUNES =====\\n'\n    prestige = `${prestige}Prestige Count: ${format(player.prestigeCount, 0, true)}\\n`\n    prestige = `${prestige}Prestige Timer: ${formatS(player.prestigecounter)}\\n`\n    prestige = `${prestige}Fastest Prestige: ${formatS(player.fastestprestige)}\\n`\n    prestige = `${\n      prestige + i18next.t('achievements.totalPoints', {\n        x: format(player.achievementPoints),\n        y: format(totalachievementpoints),\n        z: (100 * player.achievementPoints / totalachievementpoints).toPrecision(4)\n      })\n    }\\n`\n    prestige = `${prestige}Speed Rune: Level ${format(player.runelevels[0], 0, true)}/${\n      format(calculateMaxRunes(1))\n    } [Bonus: ${format(G.rune1level - player.runelevels[0], 0, true)}]\\n`\n    if (player.achievements[38] > 0 || player.highestSingularityCount > 0) {\n      prestige = `${prestige}Duplication Rune: Level ${format(player.runelevels[1], 0, true)}/${\n        format(calculateMaxRunes(2))\n      } [Bonus: ${format(G.rune2level - player.runelevels[1], 0, true)}]\\n`\n    }\n    if (player.achievements[44] > 0 || player.highestSingularityCount > 0) {\n      prestige = `${prestige}Prism Rune: Level ${format(player.runelevels[2], 0, true)}/${\n        format(calculateMaxRunes(3))\n      } [Bonus: ${format(G.rune3level - player.runelevels[2], 0, true)}]\\n`\n    }\n    if (player.achievements[102] > 0 || player.highestSingularityCount > 0) {\n      prestige = `${prestige}Thrift Rune: Level ${format(player.runelevels[3], 0, true)}/${\n        format(calculateMaxRunes(4))\n      } [Bonus: ${format(G.rune4level - player.runelevels[3], 0, true)}]\\n`\n    }\n    if (player.researches[82] > 0 || player.highestSingularityCount > 0) {\n      prestige = `${prestige}Superior Intellect: Level ${format(player.runelevels[4], 0, true)}/${\n        format(calculateMaxRunes(5))\n      } [Bonus: ${format(G.rune5level - player.runelevels[4], 0, true)}]\\n`\n    }\n    if (player.shopUpgrades.infiniteAscent > 0 || player.highestSingularityCount > 0) {\n      prestige = `${prestige}Infinite Ascent: Level ${format(player.runelevels[5], 0, true)}/${\n        format(calculateMaxRunes(6))\n      }\\n`\n    }\n    if (player.platonicUpgrades[20] > 0 || player.highestSingularityCount > 0) {\n      prestige = `${prestige}Antiquities: Level ${format(player.runelevels[6], 0, true)}/${\n        format(calculateMaxRunes(7))\n      }\\n`\n    }\n  }\n\n  // Create Shop Stuffs\n  let shopUpgradeStats = '\\n'\n  if (player.reincarnationCount > 0 || player.highestSingularityCount > 0) {\n    shopUpgradeStats =\n      '===== SHOP UPGRADES =====\\n - [\u2605]: Upgrade is MAXED - \\n - [\u2714]: Upgrade is unlocked - \\n - [\u2716]: Upgrade is locked - \\n'\n    const shopUpgrade = Object.keys(player.shopUpgrades) as (keyof Player['shopUpgrades'])[]\n    let totalShopUpgradeCount = 0\n    let totalShopUpgradeUnlocked = 0\n    let totalShopUpgradeMax = 0\n    let totalQuarksSpent = 0\n\n    for (const key of shopUpgrade) {\n      const shopUpg = player.shopUpgrades[key]\n      let upgradeText = ''\n\n      if (shopData[key].type !== shopUpgradeTypes.CONSUMABLE) {\n        totalShopUpgradeCount += 1\n        if (isShopUpgradeUnlocked(key)) {\n          totalShopUpgradeUnlocked += 1\n        }\n        if (shopUpg === shopData[key].maxLevel) {\n          totalShopUpgradeMax += 1\n        }\n      }\n\n      totalQuarksSpent += shopData[key].price * shopUpg\n        + shopData[key].priceIncrease * shopUpg * (shopUpg - 1) / 2\n\n      upgradeText = upgradeText + (isShopUpgradeUnlocked(key)\n        ? (shopUpg === shopData[key].maxLevel ? '[\u2605]' : '[\u2714]')\n        : '[\u2716]')\n\n      upgradeText = `${upgradeText} ${friendlyShopName(key)}:`\n      upgradeText = `${upgradeText} ${\n        (shopData[key].type !== shopUpgradeTypes.CONSUMABLE)\n          ? `Level ${shopUpg}/${shopData[key].maxLevel}`\n          : `${shopUpg}/${shopData[key].maxLevel}`\n      }`\n\n      upgradeText = `${upgradeText}\\n`\n      shopUpgradeStats = shopUpgradeStats + upgradeText\n    }\n    shopUpgradeStats = shopUpgradeStats + subCategoryDivisor\n    shopUpgradeStats = `${shopUpgradeStats}Upgrades Unlocked: ${totalShopUpgradeUnlocked}/${totalShopUpgradeCount}\\n`\n    shopUpgradeStats = `${shopUpgradeStats}Upgrades MAXED ${totalShopUpgradeMax}/${totalShopUpgradeCount}\\n`\n    shopUpgradeStats = `${shopUpgradeStats}Quarks Spent in Shop: ${format(totalQuarksSpent, 0, true)}\\n`\n    shopUpgradeStats = shopUpgradeStats + subCategoryDivisor\n  }\n\n  // Create Singularity Stuffs\n  let singularityUpgradeStats = '\\n'\n  if (player.highestSingularityCount > 0) {\n    singularityUpgradeStats =\n      '===== SINGULARITY UPGRADES =====\\n - [\u2605]: Upgrade is MAXED - \\n - [\u221E]: Upgrade is infinite - \\n - [\u2714]: Upgrade is unlocked - \\n - [\u2716]: Upgrade is locked - \\n'\n    const singUpgrade = Object.keys(player.singularityUpgrades) as (keyof Player['singularityUpgrades'])[]\n    let totalSingUpgradeCount = -1 // One upgrade cannot ever be leveled, by design, so subtract that from the actual count\n    let totalSingInfiniteLevel = 0\n    let totalSingUpgradeUnlocked = 0\n    let totalSingUpgradeMax = 0\n    let totalGoldenQuarksSpent = 0\n    for (const key of singUpgrade) {\n      let upgradeText = ''\n      const singUpg = player.singularityUpgrades[key]\n\n      totalSingUpgradeCount += 1\n      if (singUpg.maxLevel === -1) {\n        totalSingInfiniteLevel += 1\n      }\n      if (singUpg.level === singUpg.maxLevel) {\n        totalSingUpgradeMax += 1\n      }\n      if (player.singularityCount >= singUpg.minimumSingularity) {\n        totalSingUpgradeUnlocked += 1\n      }\n\n      totalGoldenQuarksSpent += singUpg.goldenQuarksInvested\n\n      let unicodeSymbol = '[\u2716]'\n      if (player.singularityCount >= singUpg.minimumSingularity) {\n        if (singUpg.maxLevel === -1) {\n          unicodeSymbol = '[\u221E]'\n        } else if (singUpg.level === singUpg.maxLevel) {\n          unicodeSymbol = '[\u2605]'\n        } else {\n          unicodeSymbol = '[\u2714]'\n        }\n      }\n\n      upgradeText = upgradeText + unicodeSymbol\n      upgradeText = `${upgradeText} ${singUpg.name}:`\n      upgradeText = upgradeText + (singUpg.maxLevel === -1\n        ? ` Level ${singUpg.level}`\n        : ` Level ${singUpg.level}/${singUpg.maxLevel}`)\n      upgradeText = upgradeText + (singUpg.freeLevels > 0\n        ? ` [+${format(singUpg.computeFreeLevelSoftcap(), 2, true)}]`\n        : '')\n\n      upgradeText = upgradeText + (singUpg.freeLevels > 0\n        ? ` =+= Effective Level: ${format(singUpg.actualTotalLevels(), 2, true)}`\n        : '')\n\n      upgradeText = `${upgradeText}\\n`\n      singularityUpgradeStats = singularityUpgradeStats + upgradeText\n    }\n    singularityUpgradeStats = singularityUpgradeStats + subCategoryDivisor\n    singularityUpgradeStats =\n      `${singularityUpgradeStats}Upgrades Unlocked: ${totalSingUpgradeUnlocked}/${totalSingUpgradeCount}\\n`\n    singularityUpgradeStats = `${singularityUpgradeStats}Upgrades MAXED: ${totalSingUpgradeMax}/${\n      totalSingUpgradeCount - totalSingInfiniteLevel\n    }\\n`\n    singularityUpgradeStats = `${singularityUpgradeStats}Golden Quarks Spent on Upgrades: ${\n      format(totalGoldenQuarksSpent, 0, true)\n    }\\n`\n    singularityUpgradeStats = singularityUpgradeStats + subCategoryDivisor\n  }\n\n  // Create Octeract Stuff\n  let octeractUpgradeStats = '\\n'\n  if (player.singularityUpgrades.octeractUnlock.getEffect().bonus) {\n    octeractUpgradeStats =\n      '===== OCTERACT UPGRADES =====\\n - [\u2605]: Upgrade is MAXED - \\n - [\u221E]: Upgrade is infinite - \\n - [ ]: Upgrade INCOMPLETE - \\n'\n    const octUpgrade = Object.keys(player.octeractUpgrades) as (keyof Player['octeractUpgrades'])[]\n    let totalOctUpgradeCount = 0\n    let totalOctUpgradeMax = 0\n    let totalOcteractsSpent = 0\n\n    for (const key of octUpgrade) {\n      let upgradeText = ''\n      const octUpg = player.octeractUpgrades[key]\n\n      if (octUpg.maxLevel !== -1) {\n        totalOctUpgradeCount += 1\n      }\n      if (octUpg.level === octUpg.maxLevel) {\n        totalOctUpgradeMax += 1\n      }\n      totalOcteractsSpent += octUpg.octeractsInvested\n\n      let unicodeSymbol = '[ ]'\n      if (octUpg.maxLevel === -1) {\n        unicodeSymbol = '[\u221E]'\n      } else if (octUpg.level === octUpg.maxLevel) {\n        unicodeSymbol = '[\u2605]'\n      }\n\n      upgradeText = upgradeText + unicodeSymbol\n      upgradeText = `${upgradeText + octUpg.name}:`\n      upgradeText = upgradeText + (octUpg.maxLevel === -1\n        ? ` Level ${octUpg.level}`\n        : ` Level ${octUpg.level}/${octUpg.maxLevel}`)\n      upgradeText = upgradeText + (octUpg.freeLevels > 0\n        ? ` [+${format(octUpg.computeFreeLevelSoftcap(), 2, true)}]`\n        : '')\n\n      upgradeText = upgradeText + (octUpg.freeLevels > 0\n        ? ` =+= Effective Level: ${format(octUpg.actualTotalLevels(), 2, true)}`\n        : '')\n\n      upgradeText = `${upgradeText}\\n`\n      octeractUpgradeStats = octeractUpgradeStats + upgradeText\n    }\n    octeractUpgradeStats = octeractUpgradeStats + subCategoryDivisor\n    octeractUpgradeStats = `${octeractUpgradeStats}Upgrades MAXED: ${totalOctUpgradeMax}/${totalOctUpgradeCount}\\n`\n    octeractUpgradeStats = `${octeractUpgradeStats}Octeracts Spent on Upgrades: ${\n      format(totalOcteractsSpent, 0, true)\n    }\\n`\n    octeractUpgradeStats = octeractUpgradeStats + subCategoryDivisor\n  }\n\n  const returnString =\n    `${titleText}\\n${time}\\n${ver}\\n${firstPlayed}${resources}${octeract}${singularity}${ascension}${reincarnation}${transcension}${prestige}${shopUpgradeStats}${singularityUpgradeStats}${octeractUpgradeStats}`\n\n  try {\n    await navigator.clipboard.writeText(returnString)\n  } catch (err) {\n    // So we fallback to the deprecated way of doing it,\n    // which isn't limited by any browser other than Safari\n    // because Apple is ran by a monkey in a human skin suit.\n\n    // Old/bad browsers (legacy Edge, Safari because of limitations)\n    const textArea = document.createElement('textarea')\n\n    textArea.setAttribute('style', 'top: 0; left: 0; position: fixed;')\n    textArea.setAttribute('data-clipboard-text', returnString)\n\n    document.body.appendChild(textArea)\n    textArea.focus()\n    textArea.select()\n\n    const clipboard = new ClipboardJS(textArea)\n\n    const cleanup = () => {\n      clipboard.destroy()\n      document.body.removeChild(textArea)\n    }\n\n    clipboard.on('success', () => {\n      document.getElementById('exportinfo')!.textContent = 'Copied save to clipboard!'\n      cleanup()\n    })\n\n    clipboard.on('error', () => {\n      void Alert('Unable to write the save to clipboard.').finally(cleanup)\n    })\n  }\n\n  const a = document.createElement('a')\n  a.setAttribute('href', `data:text/plain;charset=utf-8,${encodeURIComponent(returnString)}`)\n  a.setAttribute('download', `Statistics-${saveFilename()}`)\n  a.setAttribute('id', 'downloadSave')\n  // \"Starting in Firefox 75, the click() function works even when the element is not attached to a DOM tree.\"\n  // https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/click\n  // so let's have it work on older versions of Firefox, doesn't change functionality.\n  document.body.appendChild(a)\n  a.click()\n  document.body.removeChild(a)\n\n  return Alert(\n    'Summary Stats saved to clipboard! We also gave you a file, for easy sharing, if that is available on your browser.'\n  )\n}\n", "import i18next from 'i18next'\nimport { achievementdescriptions, achievementpointvalues } from './Achievements'\nimport {\n  antRepeat,\n  antUpgradeDescription,\n  buyAntProducers,\n  buyAntUpgrade,\n  sacrificeAnts,\n  updateAntDescription\n} from './Ants'\nimport {\n  createLoadoutDescription,\n  exportBlueberryTree,\n  importBlueberryTree,\n  loadoutHandler,\n  resetBlueberryTree\n} from './BlueberryUpgrades'\nimport {\n  boostAccelerator,\n  buyAccelerator,\n  buyAllBlessings,\n  buyCrystalUpgrades,\n  buyMultiplier,\n  buyParticleBuilding,\n  buyProducer,\n  buyRuneBonusLevels,\n  buyTesseractBuilding\n} from './Buy'\nimport { DOMCacheGetOrSet } from './Cache/DOM'\nimport { exitOffline, forcedDailyReset, timeWarp } from './Calculate'\nimport { challengeDisplay, toggleRetryChallenges } from './Challenges'\nimport { testing } from './Config'\nimport { corruptionCleanseConfirm, corruptionDisplay } from './Corruptions'\nimport { buyCubeUpgrades, cubeUpgradeDesc } from './Cubes'\nimport { clickSmith } from './Event'\nimport {\n  hepteractDescriptions,\n  hepteractToOverfluxOrbDescription,\n  overfluxPowderDescription,\n  overfluxPowderWarp,\n  toggleAutoBuyOrbs,\n  tradeHepteractToOverfluxOrb\n} from './Hepteracts'\nimport { resetHistoryTogglePerSecond } from './History'\nimport { resetHotkeys } from './Hotkeys'\nimport {\n  addCodeAvailableUses,\n  exportSynergism,\n  importData,\n  importSynergism,\n  promocodes,\n  promocodesInfo,\n  promocodesPrompt,\n  reloadDeleteGame,\n  resetGame,\n  updateSaveString\n} from './ImportExport'\nimport { buyPlatonicUpgrades, createPlatonicDescription } from './Platonic'\nimport { buyResearch, researchDescriptions } from './Research'\nimport { resetrepeat, updateAutoCubesOpens, updateAutoReset, updateTesseractAutoBuyAmount } from './Reset'\nimport { displayRuneInformation, redeemShards } from './Runes'\nimport { buyShopUpgrades, resetShopUpgrades, shopData, shopDescriptions, shopUpgradeTypes, useConsumable } from './Shop'\nimport { buyGoldenQuarks, getLastUpgradeInfo, singularityPerks } from './singularity'\nimport { displayStats } from './Statistics'\nimport { generateExportSummary } from './Summary'\nimport { player, resetCheck, saveSynergy } from './Synergism'\nimport { changeSubTab, Tabs } from './Tabs'\nimport {\n  buyAllTalismanResources,\n  buyTalismanEnhance,\n  buyTalismanLevels,\n  buyTalismanResources,\n  changeTalismanModifier,\n  respecTalismanCancel,\n  respecTalismanConfirm,\n  showEnhanceTalismanPrices,\n  showRespecInformation,\n  showTalismanEffect,\n  showTalismanPrices,\n  toggleTalismanBuy,\n  updateTalismanCostDisplay\n} from './Talismans'\nimport { IconSets, imgErrorHandler, toggleAnnotation, toggleIconSet, toggleTheme } from './Themes'\nimport {\n  autoCubeUpgradesToggle,\n  autoPlatonicUpgradesToggle,\n  toggleAntAutoSacrifice,\n  toggleAntMaxBuy,\n  toggleAscStatPerSecond,\n  toggleAutoAscend,\n  toggleAutoBuyFragment,\n  toggleautobuytesseract,\n  toggleAutoChallengeRun,\n  toggleAutoChallengesIgnore,\n  toggleautoenhance,\n  toggleautofortify,\n  toggleautoopensCubes,\n  toggleAutoResearch,\n  toggleAutoResearchMode,\n  toggleautoreset,\n  toggleAutoSacrifice,\n  toggleAutoTesseracts,\n  toggleBlueberryLoadoutmode,\n  toggleBuyAmount,\n  toggleBuyMaxShop,\n  toggleChallenges,\n  toggleCorruptionLevel,\n  toggleHepteractAutoPercentage,\n  toggleHideShop,\n  toggleMaxBuyCube,\n  toggleResearchBuy,\n  toggleSaveOff,\n  toggleSettings,\n  toggleShopConfirmation,\n  toggleShops,\n  updateAutoChallenge,\n  updateRuneBlessingBuyAmount\n} from './Toggles'\nimport type { OneToFive, Player } from './types/Synergism'\nimport { Confirm } from './UpdateHTML'\nimport { shopMouseover } from './UpdateVisuals'\nimport {\n  buyConstantUpgrades,\n  categoryUpgrades,\n  clickUpgrades,\n  constantUpgradeDescriptions,\n  crystalupgradedescriptions,\n  upgradedescriptions\n} from './Upgrades'\nimport { Globals as G } from './Variables'\n\n/* STYLE GUIDE */\n/*\n    1) When adding event handlers please put it in respective tabs, in the correct subcategory.\n    Generally it would be preferred to put it in the lowest spot.\n    2) Please put any Mouseover events before Click events, if two event handlers are needed for an element.\n    3) Do *NOT* add event handlers to index.html. You may only add them in js/ts files!\n    4) Using for loops: be careful about passing arguments. If necessary, please use a currying function (See: Line 80-90)\n    5) If you are documenting a new tab or subtab, please comment out the order in which you add event handlers.\n    6) It is strongly recommended you only add event handlers in the generateEventHandlers() function, but if you are\n    creating new elements through js/ts you may do so outside of this file (E.g. corruptions)\n\n    Platonic and/or Khafra have the right to close PRs that do not conform to this style guide\n\n    If you are editing this script, please update the below time:\n    Last Edited: June 10, 2021 3:04 AM UTC-8\n*/\n\nexport const generateEventHandlers = () => {\n  const ordinals = [\n    'null',\n    'first',\n    'second',\n    'third',\n    'fourth',\n    'fifth',\n    'sixth',\n    'seventh',\n    'eighth'\n  ] as const\n\n  if (testing) {\n    const warp = document.createElement('button')\n    const dayReset = document.createElement('button')\n    warp.textContent = 'Click here to warp time! [TESTING ONLY]'\n    warp.setAttribute(\n      'style',\n      'width: auto; height: 30px; border: 6px solid gold;'\n    )\n    warp.addEventListener('click', () => timeWarp())\n    dayReset.textContent = 'Click to force a new day! [TESTING ONLY]'\n    dayReset.setAttribute(\n      'style',\n      'width: auto; height: 30px; border: 6px solid orange;'\n    )\n    dayReset.addEventListener('click', () => forcedDailyReset())\n\n    const consumables = DOMCacheGetOrSet('actualConsumables')\n    consumables.appendChild(warp)\n    consumables.appendChild(dayReset)\n  }\n  // Offline Button\n  DOMCacheGetOrSet('exitOffline').addEventListener('click', () => exitOffline())\n  DOMCacheGetOrSet('offlineContainer').addEventListener('dblclick', () => exitOffline())\n  // UPPER UI ELEMENTS\n  // Prelude: Cube/Tesseract/Hypercube/Platonic display UIs (Onclicks)\n  DOMCacheGetOrSet('ascCubeStats').addEventListener('click', () => toggleAscStatPerSecond(1))\n  DOMCacheGetOrSet('ascTessStats').addEventListener('click', () => toggleAscStatPerSecond(2))\n  DOMCacheGetOrSet('ascHyperStats').addEventListener('click', () => toggleAscStatPerSecond(3))\n  DOMCacheGetOrSet('ascPlatonicStats').addEventListener('click', () => toggleAscStatPerSecond(4))\n  DOMCacheGetOrSet('ascHepteractStats').addEventListener('click', () => toggleAscStatPerSecond(5))\n  DOMCacheGetOrSet('ascTimeTakenStats').addEventListener('click', () => toggleAscStatPerSecond(6))\n  // Part 1: Reset Tiers\n  // Onmouseover Events\n  DOMCacheGetOrSet('prestigebtn').addEventListener('mouseover', () => resetrepeat('prestige'))\n  DOMCacheGetOrSet('transcendbtn').addEventListener('mouseover', () => resetrepeat('transcension'))\n  DOMCacheGetOrSet('reincarnatebtn').addEventListener('mouseover', () => resetrepeat('reincarnation'))\n  DOMCacheGetOrSet('acceleratorboostbtn').addEventListener('mouseover', () => resetrepeat('acceleratorBoost'))\n  DOMCacheGetOrSet('challengebtn').addEventListener('mouseover', () => resetrepeat('transcensionChallenge'))\n  DOMCacheGetOrSet('reincarnatechallengebtn').addEventListener(\n    'mouseover',\n    () => resetrepeat('reincarnationChallenge')\n  )\n  DOMCacheGetOrSet('ascendChallengeBtn').addEventListener('mouseover', () => resetrepeat('ascensionChallenge'))\n  DOMCacheGetOrSet('ascendbtn').addEventListener('mouseover', () => resetrepeat('ascension'))\n  DOMCacheGetOrSet('singularitybtn').addEventListener('mouseover', () => resetrepeat('singularity'))\n\n  for (\n    const resetButton of Array.from(\n      document.getElementsByClassName('resetbtn')\n    )\n  ) {\n    resetButton.addEventListener('mouseover', () => {\n      resetButton.classList.add('hover')\n    })\n\n    resetButton.addEventListener('mouseout', () => {\n      resetButton.classList.remove('hover')\n\n      if (player.currentChallenge.reincarnation) {\n        resetrepeat('reincarnationChallenge')\n      } else if (player.currentChallenge.transcension) {\n        resetrepeat('transcensionChallenge')\n      }\n    })\n  }\n\n  // Onclick Events (this is particularly bad)\n  DOMCacheGetOrSet('prestigebtn').addEventListener('click', () => resetCheck('prestige'))\n  DOMCacheGetOrSet('transcendbtn').addEventListener('click', () => resetCheck('transcension'))\n  DOMCacheGetOrSet('reincarnatebtn').addEventListener('click', () => resetCheck('reincarnation'))\n  DOMCacheGetOrSet('acceleratorboostbtn').addEventListener('click', () => boostAccelerator())\n  DOMCacheGetOrSet('challengebtn').addEventListener('click', () => resetCheck('transcensionChallenge', undefined, true))\n  DOMCacheGetOrSet('reincarnatechallengebtn').addEventListener(\n    'click',\n    () => resetCheck('reincarnationChallenge', undefined, true)\n  )\n  DOMCacheGetOrSet('ascendChallengeBtn').addEventListener('click', () => resetCheck('ascensionChallenge'))\n  DOMCacheGetOrSet('ascendbtn').addEventListener('click', () => resetCheck('ascension'))\n  DOMCacheGetOrSet('singularitybtn').addEventListener('click', () => resetCheck('singularity'))\n\n  // BUILDINGS TAB\n  // Part 1: Upper portion (Subtab toggle)\n  const buildingTypes = ['Coin', 'Diamond', 'Mythos', 'Particle', 'Tesseract']\n  for (let index = 0; index < buildingTypes.length; index++) {\n    DOMCacheGetOrSet(\n      `switchTo${buildingTypes[index]}Building`\n    ).addEventListener('click', () => changeSubTab(Tabs.Buildings, { page: index }))\n  }\n  // Part 2: Building Amount Toggles\n  const buildingTypesAlternate = [\n    'coin',\n    'crystal',\n    'mythos',\n    'particle',\n    'tesseract',\n    'offering'\n  ] as const\n  const buildingOrds = ['one', 'ten', 'hundred', 'thousand', '10k', '100k']\n  const buildingOrdsToNum = [1, 10, 100, 1000, 10000, 100000] as const\n  for (let index = 0; index < buildingOrds.length; index++) {\n    for (let index2 = 0; index2 < buildingTypesAlternate.length; index2++) {\n      DOMCacheGetOrSet(\n        buildingTypesAlternate[index2] + buildingOrds[index]\n      ).addEventListener('click', () =>\n        toggleBuyAmount(\n          buildingOrdsToNum[index],\n          buildingTypesAlternate[index2]\n        ))\n    }\n  }\n  // Part 3: Building Purchasers + Upgrades\n  // Accelerator, Multiplier, Accelerator Boost\n  DOMCacheGetOrSet('buyaccelerator').addEventListener('click', () => buyAccelerator())\n  DOMCacheGetOrSet('buymultiplier').addEventListener('click', () => buyMultiplier())\n  DOMCacheGetOrSet('buyacceleratorboost').addEventListener('click', () => boostAccelerator())\n\n  // Coin, Diamond and Mythos Buildings\n  const buildingTypesAlternate2 = ['coin', 'diamond', 'mythos']\n  const buildingTypesAlternate3 = ['Coin', 'Diamonds', 'Mythos'] as const // TODO: A cleaner way to implement this dumb shit\n  for (let index = 0; index < 3; index++) {\n    for (let index2 = 1; index2 <= 5; index2++) {\n      DOMCacheGetOrSet(\n        `buy${buildingTypesAlternate2[index]}${index2}`\n      ).addEventListener('click', () =>\n        buyProducer(\n          ordinals[index2 as OneToFive],\n          buildingTypesAlternate3[index],\n          index === 0 ? index2 : (index2 * (index2 + 1)) / 2\n        ))\n    }\n  }\n\n  // Crystal Upgrades (Mouseover and Onclick)\n  for (let index = 1; index <= 5; index++) {\n    DOMCacheGetOrSet(`buycrystalupgrade${index}`).addEventListener(\n      'mouseover',\n      () => crystalupgradedescriptions(index)\n    )\n    DOMCacheGetOrSet(`buycrystalupgrade${index}`).addEventListener(\n      'click',\n      () => buyCrystalUpgrades(index)\n    )\n  }\n\n  // Particle Buildings\n  for (let index = 0; index < 5; index++) {\n    DOMCacheGetOrSet(`buyparticles${index + 1}`).addEventListener(\n      'click',\n      () => buyParticleBuilding((index + 1) as OneToFive)\n    )\n  }\n\n  // Tesseract Buildings\n  for (let index = 0; index < 5; index++) {\n    DOMCacheGetOrSet(`buyTesseracts${index + 1}`).addEventListener(\n      'click',\n      () => buyTesseractBuilding((index + 1) as OneToFive)\n    )\n    DOMCacheGetOrSet(`tesseractAutoToggle${index + 1}`).addEventListener(\n      'click',\n      () => toggleAutoTesseracts(index + 1)\n    )\n  }\n\n  // Constant Upgrades\n  for (let index = 0; index < 10; index++) {\n    DOMCacheGetOrSet(`buyConstantUpgrade${index + 1}`).addEventListener(\n      'mouseover',\n      () => constantUpgradeDescriptions(index + 1)\n    )\n    DOMCacheGetOrSet(`buyConstantUpgrade${index + 1}`).addEventListener(\n      'click',\n      () => buyConstantUpgrades(index + 1)\n    )\n  }\n\n  // Part 4: Toggles\n  // I'm just addressing all global toggles here\n  const toggles = document.querySelectorAll<HTMLElement>('.auto[toggleid]')\n  toggles.forEach((b) => b.addEventListener('click', () => toggleSettings(b)))\n  // Toggles auto reset type (between TIME and AMOUNT for 3 first Tiers, and between PERCENTAGE and AMOUNT for Tesseracts)\n  DOMCacheGetOrSet('prestigeautotoggle').addEventListener('click', () => toggleautoreset(1))\n  DOMCacheGetOrSet('transcendautotoggle').addEventListener('click', () => toggleautoreset(2))\n  DOMCacheGetOrSet('reincarnateautotoggle').addEventListener('click', () => toggleautoreset(3))\n  DOMCacheGetOrSet('tesseractautobuymode').addEventListener('click', () => toggleautoreset(4))\n  // Toggles auto reset amount required to trigger\n  DOMCacheGetOrSet('prestigeamount').addEventListener('blur', () => updateAutoReset(1))\n  DOMCacheGetOrSet('transcendamount').addEventListener('blur', () => updateAutoReset(2))\n  DOMCacheGetOrSet('reincarnationamount').addEventListener('blur', () => updateAutoReset(3))\n  DOMCacheGetOrSet('ascensionAmount').addEventListener('blur', () => updateAutoReset(4))\n  DOMCacheGetOrSet('autoAntSacrificeAmount').addEventListener('blur', () => updateAutoReset(5))\n  // Tesseract-specific of the above. I don't know why I didn't standardize names here.\n  DOMCacheGetOrSet('tesseractautobuytoggle').addEventListener('click', () => toggleautobuytesseract())\n  DOMCacheGetOrSet('tesseractAmount').addEventListener('blur', () => updateTesseractAutoBuyAmount())\n  // Auto Opening of Cubes\n  DOMCacheGetOrSet('cubeOpensInput').addEventListener('blur', () => updateAutoCubesOpens(1))\n  DOMCacheGetOrSet('tesseractsOpensInput').addEventListener('blur', () => updateAutoCubesOpens(2))\n  DOMCacheGetOrSet('hypercubesOpensInput').addEventListener('blur', () => updateAutoCubesOpens(3))\n  DOMCacheGetOrSet('platonicCubeOpensInput').addEventListener('blur', () => updateAutoCubesOpens(4))\n  DOMCacheGetOrSet('openCubes').addEventListener('click', () => toggleautoopensCubes(1))\n  DOMCacheGetOrSet('openTesseracts').addEventListener('click', () => toggleautoopensCubes(2))\n  DOMCacheGetOrSet('openHypercubes').addEventListener('click', () => toggleautoopensCubes(3))\n  DOMCacheGetOrSet('openPlatonicCube').addEventListener('click', () => toggleautoopensCubes(4))\n\n  // UPGRADES TAB\n  // For all upgrades in the Upgrades Tab (125) count, we have the same mouseover event. So we'll work on those first.\n  for (let index = 1; index <= 125; index++) {\n    // Onmouseover events ()\n    DOMCacheGetOrSet(`upg${index}`).addEventListener('mouseover', () => upgradedescriptions(index))\n  }\n\n  // Generates all upgrade button events\n  for (let index = 1; index <= 125; index++) {\n    DOMCacheGetOrSet(`upg${index}`).addEventListener('click', () => clickUpgrades(index, false))\n  }\n\n  for (let index = 1; index <= 6; index++) {\n    DOMCacheGetOrSet(`upgrades${index}`).addEventListener('click', () => categoryUpgrades(index, false))\n  }\n\n  // Next part: Shop-specific toggles\n  DOMCacheGetOrSet('coinAutoUpgrade').addEventListener('click', () => toggleShops('coin'))\n  DOMCacheGetOrSet('prestigeAutoUpgrade').addEventListener('click', () => toggleShops('prestige'))\n  DOMCacheGetOrSet('transcendAutoUpgrade').addEventListener('click', () => toggleShops('transcend'))\n  DOMCacheGetOrSet('generatorsAutoUpgrade').addEventListener('click', () => toggleShops('generators'))\n  DOMCacheGetOrSet('reincarnateAutoUpgrade').addEventListener('click', () => toggleShops('reincarnate'))\n\n  // ACHIEVEMENTS TAB\n  // TODO: Remove 1 indexing\n  for (let index = 1; index <= achievementpointvalues.length - 1; index++) {\n    // Onmouseover events (Achievement descriptions)\n    DOMCacheGetOrSet(`ach${index}`).addEventListener('mouseover', () => achievementdescriptions(index))\n  }\n\n  // RUNES TAB [And all corresponding subtabs]\n  // Part 0: Upper UI portion\n  // Auto sacrifice toggle button\n  DOMCacheGetOrSet('toggleautosacrifice').addEventListener('click', () => toggleAutoSacrifice(0))\n  // Toggle subtabs of Runes tab\n  for (let index = 0; index < 4; index++) {\n    DOMCacheGetOrSet(`toggleRuneSubTab${index + 1}`).addEventListener(\n      'click',\n      () => changeSubTab(Tabs.Runes, { page: index })\n    )\n  }\n\n  // Part 1: Runes Subtab\n  for (let index = 0; index < 7; index++) {\n    DOMCacheGetOrSet(`rune${index + 1}`).addEventListener('mouseover', () => displayRuneInformation(index + 1))\n    DOMCacheGetOrSet(`rune${index + 1}`).addEventListener('click', () => toggleAutoSacrifice(index + 1))\n\n    DOMCacheGetOrSet(`activaterune${index + 1}`).addEventListener(\n      'mouseover',\n      () => displayRuneInformation(index + 1)\n    )\n    DOMCacheGetOrSet(`activaterune${index + 1}`).addEventListener('click', () => redeemShards(index + 1))\n  }\n\n  // Part 2: Talismans Subtab\n  const talismanBuyPercents = [10, 25, 50, 100]\n  const talismanBuyPercentsOrd = ['Ten', 'TwentyFive', 'Fifty', 'Hundred']\n\n  for (let index = 0; index < talismanBuyPercents.length; index++) {\n    DOMCacheGetOrSet(\n      `talisman${talismanBuyPercentsOrd[index]}`\n    ).addEventListener('click', () => toggleTalismanBuy(talismanBuyPercents[index]))\n  }\n\n  DOMCacheGetOrSet('toggleautoBuyFragments').addEventListener('click', () => toggleAutoBuyFragment())\n  DOMCacheGetOrSet('toggleautoenhance').addEventListener('click', () => toggleautoenhance())\n  DOMCacheGetOrSet('toggleautofortify').addEventListener('click', () => toggleautofortify())\n\n  // Talisman Fragments/Shards\n  const talismanItemNames = [\n    'shard',\n    'commonFragment',\n    'uncommonFragment',\n    'rareFragment',\n    'epicFragment',\n    'legendaryFragment',\n    'mythicalFragment'\n  ] as const\n  for (let index = 0; index < talismanItemNames.length; index++) {\n    DOMCacheGetOrSet(`buyTalismanItem${index + 1}`).addEventListener(\n      'mouseover',\n      () => updateTalismanCostDisplay(talismanItemNames[index])\n    )\n    DOMCacheGetOrSet(`buyTalismanItem${index + 1}`).addEventListener(\n      'click',\n      () => buyTalismanResources(talismanItemNames[index])\n    )\n  }\n\n  DOMCacheGetOrSet('buyTalismanAll').addEventListener('mouseover', () => updateTalismanCostDisplay(null))\n  DOMCacheGetOrSet('buyTalismanAll').addEventListener('click', () => buyAllTalismanResources())\n\n  for (let index = 0; index < 7; index++) {\n    DOMCacheGetOrSet(`talisman${index + 1}`).addEventListener('click', () => showTalismanEffect(index))\n    DOMCacheGetOrSet(`leveluptalisman${index + 1}`).addEventListener(\n      'mouseover',\n      () => showTalismanPrices(index)\n    )\n    DOMCacheGetOrSet(`leveluptalisman${index + 1}`).addEventListener(\n      'click',\n      () => buyTalismanLevels(index)\n    )\n    DOMCacheGetOrSet(`enhancetalisman${index + 1}`).addEventListener(\n      'mouseover',\n      () => showEnhanceTalismanPrices(index)\n    )\n    DOMCacheGetOrSet(`enhancetalisman${index + 1}`).addEventListener(\n      'click',\n      () => buyTalismanEnhance(index)\n    )\n    DOMCacheGetOrSet(`respectalisman${index + 1}`).addEventListener(\n      'click',\n      () => showRespecInformation(index)\n    )\n  }\n\n  DOMCacheGetOrSet('respecAllTalismans').addEventListener('click', () => showRespecInformation(7))\n  DOMCacheGetOrSet('confirmTalismanRespec').addEventListener('click', () => respecTalismanConfirm(G.talismanRespec))\n  DOMCacheGetOrSet('cancelTalismanRespec').addEventListener('click', () => respecTalismanCancel(G.talismanRespec))\n\n  for (let index = 0; index < 5; index++) {\n    DOMCacheGetOrSet(`talismanRespecButton${index + 1}`).addEventListener(\n      'click',\n      () => changeTalismanModifier(index + 1)\n    )\n  }\n\n  // Part 3: Blessings and Spirits\n  for (let index = 0; index < 5; index++) {\n    DOMCacheGetOrSet(`runeBlessingPurchase${index + 1}`).addEventListener(\n      'click',\n      () => buyRuneBonusLevels('Blessings', index + 1)\n    )\n    DOMCacheGetOrSet(`runeSpiritPurchase${index + 1}`).addEventListener(\n      'click',\n      () => buyRuneBonusLevels('Spirits', index + 1)\n    )\n  }\n  DOMCacheGetOrSet('buyRuneBlessingInput').addEventListener('blur', () => updateRuneBlessingBuyAmount(1))\n  DOMCacheGetOrSet('buyRuneSpiritInput').addEventListener('blur', () => updateRuneBlessingBuyAmount(2))\n\n  DOMCacheGetOrSet('buyAllBlessings').addEventListener('click', () => buyAllBlessings('Blessings'))\n  DOMCacheGetOrSet('buyAllSpirits').addEventListener('click', () => buyAllBlessings('Spirits'))\n\n  // CHALLENGES TAB\n  // Part 1: Challenges\n  // Challenge 1-15 buttons\n  for (let index = 0; index < 15; index++) {\n    DOMCacheGetOrSet(`challenge${index + 1}`).addEventListener('click', () => challengeDisplay(index + 1))\n    DOMCacheGetOrSet(`challenge${index + 1}`).addEventListener(\n      'dblclick',\n      () => {\n        challengeDisplay(index + 1)\n        toggleChallenges(G.triggerChallenge, false)\n      }\n    )\n  }\n  // Part 2: QoL Buttons\n  // Individual buttons (Start, Retry)\n  DOMCacheGetOrSet('startChallenge').addEventListener('click', () => toggleChallenges(G.triggerChallenge, false))\n  DOMCacheGetOrSet('retryChallenge').addEventListener('click', () => toggleRetryChallenges())\n  // Autochallenge buttons\n  DOMCacheGetOrSet('toggleAutoChallengeIgnore').addEventListener(\n    'click',\n    () => toggleAutoChallengesIgnore(G.triggerChallenge)\n  )\n  DOMCacheGetOrSet('toggleAutoChallengeStart').addEventListener('click', () => toggleAutoChallengeRun())\n  DOMCacheGetOrSet('startAutoChallengeTimerInput').addEventListener(\n    'input',\n    () => updateAutoChallenge(1)\n  )\n  DOMCacheGetOrSet('exitAutoChallengeTimerInput').addEventListener(\n    'input',\n    () => updateAutoChallenge(2)\n  )\n  DOMCacheGetOrSet('enterAutoChallengeTimerInput').addEventListener(\n    'input',\n    () => updateAutoChallenge(3)\n  )\n\n  for (let index = 0; index < 2; index++) {\n    DOMCacheGetOrSet(`toggleChallengesSubTab${index + 1}`).addEventListener(\n      'click',\n      () => changeSubTab(Tabs.Challenges, { page: index })\n    )\n  }\n\n  // RESEARCH TAB\n  // Part 1: Researches\n  // There are 200 researches, ideally in rewrite 200 would instead be length of research list/array\n  for (let index = 1; index < 200; index++) {\n    // Eliminates listeners on index.html 1404-1617\n    DOMCacheGetOrSet(`res${index}`).addEventListener('click', () => buyResearch(index))\n    DOMCacheGetOrSet(`res${index}`).addEventListener('mouseover', () => researchDescriptions(index))\n  }\n  // Research 200 is special, uses more params\n  DOMCacheGetOrSet('res200').addEventListener('click', () => buyResearch(200, false, 0.01))\n  DOMCacheGetOrSet('res200').addEventListener('mouseover', () => researchDescriptions(200, false, 0.01))\n\n  // Part 2: QoL buttons\n  DOMCacheGetOrSet('toggleresearchbuy').addEventListener('click', () => toggleResearchBuy())\n  DOMCacheGetOrSet('toggleautoresearch').addEventListener('click', () => toggleAutoResearch())\n  DOMCacheGetOrSet('toggleautoresearchmode').addEventListener('click', () => toggleAutoResearchMode())\n\n  // ANTHILL TAB\n  // Part 1: Ant Producers (Tiers 1-8)\n  const antProducerCostVals = [\n    'null',\n    '1e700',\n    '3',\n    '100',\n    '10000',\n    '1e12',\n    '1e36',\n    '1e100',\n    '1e300'\n  ]\n  for (let index = 1; index <= 8; index++) {\n    // Onmouse Events\n    DOMCacheGetOrSet(`anttier${index}`).addEventListener('mouseover', () => updateAntDescription(index))\n    DOMCacheGetOrSet(`anttier${index}`).addEventListener('mouseover', () => antRepeat(index))\n    // Onclick Events\n    DOMCacheGetOrSet(`anttier${index}`).addEventListener('click', () =>\n      buyAntProducers(\n        ordinals[index] as Parameters<typeof buyAntProducers>[0],\n        antProducerCostVals[index],\n        index\n      ))\n  }\n  // Part 2: Ant Upgrades (1-12)\n  const antUpgradeCostVals = [\n    'null',\n    '100',\n    '100',\n    '1000',\n    '1000',\n    '1e5',\n    '1e6',\n    '1e8',\n    '1e11',\n    '1e15',\n    '1e20',\n    '1e40',\n    '1e100'\n  ]\n  for (let index = 1; index <= 12; index++) {\n    // Onmouse Event\n    DOMCacheGetOrSet(`antUpgrade${index}`).addEventListener('mouseover', () => antUpgradeDescription(index))\n    // Onclick Event\n    DOMCacheGetOrSet(`antUpgrade${index}`).addEventListener(\n      'click',\n      () => buyAntUpgrade(antUpgradeCostVals[index], false, index)\n    )\n  }\n  // Part 3: Sacrifice\n  DOMCacheGetOrSet('antSacrifice').addEventListener('click', () => sacrificeAnts())\n\n  // Part 4: QoL Buttons\n  DOMCacheGetOrSet('toggleAntMax').addEventListener('click', () => toggleAntMaxBuy())\n  DOMCacheGetOrSet('toggleAutoSacrificeAnt').addEventListener('click', () => toggleAntAutoSacrifice(0))\n  DOMCacheGetOrSet('autoSacrificeAntMode').addEventListener('click', () => toggleAntAutoSacrifice(1))\n\n  // WOW! Cubes Tab\n  // Part 0: Subtab UI\n  for (let index = 0; index < 7; index++) {\n    DOMCacheGetOrSet(`switchCubeSubTab${index + 1}`).addEventListener(\n      'click',\n      () => changeSubTab(Tabs.WowCubes, { page: index })\n    )\n  }\n\n  // Part 1: Cube Upgrades\n  for (let index = 1; index < player.cubeUpgrades.length; index++) {\n    DOMCacheGetOrSet(`cubeUpg${index}`).addEventListener('mouseover', () => cubeUpgradeDesc(index))\n    DOMCacheGetOrSet(`cubeUpg${index}`).addEventListener('click', () => buyCubeUpgrades(index))\n  }\n\n  // Toggle\n  DOMCacheGetOrSet('toggleCubeBuy').addEventListener('click', () => toggleMaxBuyCube())\n  DOMCacheGetOrSet('toggleAutoCubeUpgrades').addEventListener('click', () => autoCubeUpgradesToggle())\n\n  // Part 2: Cube Opening Buttons\n  // Wow Cubes\n  DOMCacheGetOrSet('open1Cube').addEventListener('click', () => player.wowCubes.open(1, false))\n  DOMCacheGetOrSet('open20Cube').addEventListener(\n    'click',\n    () => player.wowCubes.open(Math.floor(Number(player.wowCubes) / 10), false)\n  )\n  DOMCacheGetOrSet('open1000Cube').addEventListener(\n    'click',\n    () => player.wowCubes.open(Math.floor(Number(player.wowCubes) / 2), false)\n  )\n  DOMCacheGetOrSet('openCustomCube').addEventListener('click', () => player.wowCubes.openCustom())\n  DOMCacheGetOrSet('openMostCube').addEventListener('click', () => player.wowCubes.open(0, true))\n  // Wow Tesseracts\n  DOMCacheGetOrSet('open1Tesseract').addEventListener('click', () => player.wowTesseracts.open(1, false))\n  DOMCacheGetOrSet('open20Tesseract').addEventListener('click', () =>\n    player.wowTesseracts.open(\n      Math.floor(Number(player.wowTesseracts) / 10),\n      false\n    ))\n  DOMCacheGetOrSet('open1000Tesseract').addEventListener('click', () =>\n    player.wowTesseracts.open(\n      Math.floor(Number(player.wowTesseracts) / 2),\n      false\n    ))\n  DOMCacheGetOrSet('openCustomTesseract').addEventListener('click', () => player.wowTesseracts.openCustom())\n  DOMCacheGetOrSet('openMostTesseract').addEventListener('click', () => player.wowTesseracts.open(1, true))\n  // Wow Hypercubes\n  DOMCacheGetOrSet('open1Hypercube').addEventListener('click', () => player.wowHypercubes.open(1, false))\n  DOMCacheGetOrSet('open20Hypercube').addEventListener('click', () =>\n    player.wowHypercubes.open(\n      Math.floor(Number(player.wowHypercubes) / 10),\n      false\n    ))\n  DOMCacheGetOrSet('open1000Hypercube').addEventListener('click', () =>\n    player.wowHypercubes.open(\n      Math.floor(Number(player.wowHypercubes) / 2),\n      false\n    ))\n  DOMCacheGetOrSet('openCustomHypercube').addEventListener('click', () => player.wowHypercubes.openCustom())\n  DOMCacheGetOrSet('openMostHypercube').addEventListener('click', () => player.wowHypercubes.open(1, true))\n  // Wow Platonic Cubes\n  DOMCacheGetOrSet('open1PlatonicCube').addEventListener('click', () => player.wowPlatonicCubes.open(1, false))\n  DOMCacheGetOrSet('open40kPlatonicCube').addEventListener('click', () =>\n    player.wowPlatonicCubes.open(\n      Math.floor(Number(player.wowPlatonicCubes) / 10),\n      false\n    ))\n  DOMCacheGetOrSet('open1mPlatonicCube').addEventListener('click', () =>\n    player.wowPlatonicCubes.open(\n      Math.floor(Number(player.wowPlatonicCubes) / 2),\n      false\n    ))\n  DOMCacheGetOrSet('openCustomPlatonicCube').addEventListener('click', () => player.wowPlatonicCubes.openCustom())\n  DOMCacheGetOrSet('openMostPlatonicCube').addEventListener('click', () => player.wowPlatonicCubes.open(1, true))\n\n  DOMCacheGetOrSet('saveOffToggle').addEventListener('click', () => toggleSaveOff())\n  // Part 3: Platonic Upgrade Section\n  const platonicUpgrades = document.getElementsByClassName(\n    'platonicUpgradeImage'\n  )\n  for (let index = 0; index < platonicUpgrades.length; index++) {\n    platonicUpgrades[index].addEventListener('mouseover', () => createPlatonicDescription(index + 1))\n    platonicUpgrades[index].addEventListener('click', () => buyPlatonicUpgrades(index + 1))\n  }\n  DOMCacheGetOrSet('toggleAutoPlatonicUpgrades').addEventListener('click', () => autoPlatonicUpgradesToggle())\n\n  // Part 4: Hepteract Subtab\n  DOMCacheGetOrSet('chronosHepteract').addEventListener('mouseover', () => hepteractDescriptions('chronos'))\n  DOMCacheGetOrSet('hyperrealismHepteract').addEventListener('mouseover', () => hepteractDescriptions('hyperrealism'))\n  DOMCacheGetOrSet('quarkHepteract').addEventListener('mouseover', () => hepteractDescriptions('quark'))\n  DOMCacheGetOrSet('challengeHepteract').addEventListener('mouseover', () => hepteractDescriptions('challenge'))\n  DOMCacheGetOrSet('abyssHepteract').addEventListener('mouseover', () => hepteractDescriptions('abyss'))\n  DOMCacheGetOrSet('acceleratorHepteract').addEventListener('mouseover', () => hepteractDescriptions('accelerator'))\n  DOMCacheGetOrSet('acceleratorBoostHepteract').addEventListener(\n    'mouseover',\n    () => hepteractDescriptions('acceleratorBoost')\n  )\n  DOMCacheGetOrSet('multiplierHepteract').addEventListener('mouseover', () => hepteractDescriptions('multiplier'))\n\n  DOMCacheGetOrSet('chronosHepteractCraft').addEventListener('click', () => player.hepteractCrafts.chronos.craft())\n  DOMCacheGetOrSet('hyperrealismHepteractCraft').addEventListener(\n    'click',\n    () => player.hepteractCrafts.hyperrealism.craft()\n  )\n  DOMCacheGetOrSet('quarkHepteractCraft').addEventListener('click', () => player.hepteractCrafts.quark.craft())\n  DOMCacheGetOrSet('challengeHepteractCraft').addEventListener('click', () => player.hepteractCrafts.challenge.craft())\n  DOMCacheGetOrSet('abyssHepteractCraft').addEventListener('click', () => player.hepteractCrafts.abyss.craft())\n  DOMCacheGetOrSet('acceleratorHepteractCraft').addEventListener(\n    'click',\n    () => player.hepteractCrafts.accelerator.craft()\n  )\n  DOMCacheGetOrSet('acceleratorBoostHepteractCraft').addEventListener(\n    'click',\n    () => player.hepteractCrafts.acceleratorBoost.craft()\n  )\n  DOMCacheGetOrSet('multiplierHepteractCraft').addEventListener(\n    'click',\n    () => player.hepteractCrafts.multiplier.craft()\n  )\n\n  DOMCacheGetOrSet('chronosHepteractCraftMax').addEventListener(\n    'click',\n    () => player.hepteractCrafts.chronos.craft(true)\n  )\n  DOMCacheGetOrSet('hyperrealismHepteractCraftMax').addEventListener(\n    'click',\n    () => player.hepteractCrafts.hyperrealism.craft(true)\n  )\n  DOMCacheGetOrSet('quarkHepteractCraftMax').addEventListener('click', () => player.hepteractCrafts.quark.craft(true))\n  DOMCacheGetOrSet('challengeHepteractCraftMax').addEventListener(\n    'click',\n    () => player.hepteractCrafts.challenge.craft(true)\n  )\n  DOMCacheGetOrSet('abyssHepteractCraftMax').addEventListener('click', () => player.hepteractCrafts.abyss.craft(true))\n  DOMCacheGetOrSet('acceleratorHepteractCraftMax').addEventListener(\n    'click',\n    () => player.hepteractCrafts.accelerator.craft(true)\n  )\n  DOMCacheGetOrSet('acceleratorBoostHepteractCraftMax').addEventListener(\n    'click',\n    () => player.hepteractCrafts.acceleratorBoost.craft(true)\n  )\n  DOMCacheGetOrSet('multiplierHepteractCraftMax').addEventListener(\n    'click',\n    () => player.hepteractCrafts.multiplier.craft(true)\n  )\n\n  DOMCacheGetOrSet('chronosHepteractCap').addEventListener('click', () => player.hepteractCrafts.chronos.expand())\n  DOMCacheGetOrSet('hyperrealismHepteractCap').addEventListener(\n    'click',\n    () => player.hepteractCrafts.hyperrealism.expand()\n  )\n  DOMCacheGetOrSet('quarkHepteractCap').addEventListener('click', () => player.hepteractCrafts.quark.expand())\n  DOMCacheGetOrSet('challengeHepteractCap').addEventListener('click', () => player.hepteractCrafts.challenge.expand())\n  DOMCacheGetOrSet('abyssHepteractCap').addEventListener('click', () => player.hepteractCrafts.abyss.expand())\n  DOMCacheGetOrSet('acceleratorHepteractCap').addEventListener(\n    'click',\n    () => player.hepteractCrafts.accelerator.expand()\n  )\n  DOMCacheGetOrSet('acceleratorBoostHepteractCap').addEventListener(\n    'click',\n    () => player.hepteractCrafts.acceleratorBoost.expand()\n  )\n  DOMCacheGetOrSet('multiplierHepteractCap').addEventListener('click', () => player.hepteractCrafts.multiplier.expand())\n\n  DOMCacheGetOrSet('chronosHepteractAuto').addEventListener(\n    'click',\n    () => player.hepteractCrafts.chronos.toggleAutomatic()\n  )\n  DOMCacheGetOrSet('hyperrealismHepteractAuto').addEventListener(\n    'click',\n    () => player.hepteractCrafts.hyperrealism.toggleAutomatic()\n  )\n  DOMCacheGetOrSet('quarkHepteractAuto').addEventListener('click', () => player.hepteractCrafts.quark.toggleAutomatic())\n  DOMCacheGetOrSet('challengeHepteractAuto').addEventListener(\n    'click',\n    () => player.hepteractCrafts.challenge.toggleAutomatic()\n  )\n  DOMCacheGetOrSet('abyssHepteractAuto').addEventListener('click', () => player.hepteractCrafts.abyss.toggleAutomatic())\n  DOMCacheGetOrSet('acceleratorHepteractAuto').addEventListener(\n    'click',\n    () => player.hepteractCrafts.accelerator.toggleAutomatic()\n  )\n  DOMCacheGetOrSet('acceleratorBoostHepteractAuto').addEventListener(\n    'click',\n    () => player.hepteractCrafts.acceleratorBoost.toggleAutomatic()\n  )\n  DOMCacheGetOrSet('multiplierHepteractAuto').addEventListener(\n    'click',\n    () => player.hepteractCrafts.multiplier.toggleAutomatic()\n  )\n\n  DOMCacheGetOrSet('hepteractToQuark').addEventListener('mouseover', () => hepteractToOverfluxOrbDescription())\n  DOMCacheGetOrSet('hepteractToQuarkTrade').addEventListener('click', () => tradeHepteractToOverfluxOrb())\n  DOMCacheGetOrSet('hepteractToQuarkTradeMax').addEventListener('click', () => tradeHepteractToOverfluxOrb(true))\n  DOMCacheGetOrSet('hepteractToQuarkTradeAuto').addEventListener('click', () => toggleAutoBuyOrbs())\n  DOMCacheGetOrSet('overfluxPowder').addEventListener('mouseover', () => overfluxPowderDescription())\n  DOMCacheGetOrSet('powderDayWarp').addEventListener('click', () => overfluxPowderWarp(false))\n  DOMCacheGetOrSet('warpAuto').addEventListener('click', () => overfluxPowderWarp(true))\n\n  DOMCacheGetOrSet('hepteractAutoPercentageButton').addEventListener(\n    'click',\n    () => toggleHepteractAutoPercentage()\n  )\n\n  // CORRUPTION TAB\n  // Part 0: Subtabs\n  DOMCacheGetOrSet('corrStatsBtn').addEventListener('click', () => changeSubTab(Tabs.Corruption, { page: 0 }))\n  DOMCacheGetOrSet('corrLoadoutsBtn').addEventListener('click', () => changeSubTab(Tabs.Corruption, { page: 1 }))\n\n  // Part 1: Displays\n  DOMCacheGetOrSet('corruptionDisplays').addEventListener('click', () => corruptionDisplay(10))\n  DOMCacheGetOrSet('corruptionCleanse').addEventListener('click', () => corruptionCleanseConfirm())\n  DOMCacheGetOrSet('corruptionCleanseConfirm').addEventListener('click', () => toggleCorruptionLevel(10, 999))\n\n  // Extra toggle\n  DOMCacheGetOrSet('ascensionAutoEnable').addEventListener('click', () => toggleAutoAscend(0))\n  DOMCacheGetOrSet('ascensionAutoToggle').addEventListener('click', () => toggleAutoAscend(1))\n\n  // SETTNGS TAB\n  // Part 0: Subtabs\n  const settingSubTabs = Array.from<HTMLElement>(\n    document.querySelectorAll('[id^=\"switchSettingSubTab\"]')\n  )\n  for (const subtab of settingSubTabs) {\n    subtab.addEventListener('click', () => changeSubTab(Tabs.Settings, { page: settingSubTabs.indexOf(subtab) }))\n  }\n\n  const t = Array.from(\n    document.querySelectorAll<HTMLElement>('button.statsNerds')\n  )\n  for (const s of t) {\n    s.addEventListener('click', (e) => displayStats(e.target as HTMLElement))\n  }\n\n  DOMCacheGetOrSet('summaryGeneration').addEventListener('click', () => generateExportSummary())\n\n  // Various functions\n  DOMCacheGetOrSet('exportgame').addEventListener('click', () => exportSynergism())\n  DOMCacheGetOrSet('saveStringInput').addEventListener('blur', (e) => updateSaveString(e.target as HTMLInputElement))\n  DOMCacheGetOrSet('savegame').addEventListener('click', () => saveSynergy(true))\n  DOMCacheGetOrSet('deleteGame').addEventListener('click', () => resetGame(false))\n  DOMCacheGetOrSet('preloadDeleteGame').addEventListener('click', () => reloadDeleteGame())\n  DOMCacheGetOrSet('promocodes').addEventListener('click', () => promocodesPrompt())\n  DOMCacheGetOrSet('addCodeBox').addEventListener('mouseover', () => promocodesInfo('add'))\n  DOMCacheGetOrSet('addCode').addEventListener('click', () => promocodes('add'))\n  DOMCacheGetOrSet('addCodeAll').addEventListener('click', () => promocodes('add', addCodeAvailableUses()))\n  DOMCacheGetOrSet('addCodeOne').addEventListener('click', () => promocodes('add', 1))\n  DOMCacheGetOrSet('dailyCode').addEventListener('click', () => promocodes('daily'))\n  DOMCacheGetOrSet('dailyCode').addEventListener('mouseover', () => promocodesInfo('daily'))\n  DOMCacheGetOrSet('timeCode').addEventListener('click', () => promocodes('time'))\n  DOMCacheGetOrSet('timeCode').addEventListener('mouseover', () => promocodesInfo('time'))\n  DOMCacheGetOrSet('historyTogglePerSecondButton').addEventListener(\n    'click',\n    () => resetHistoryTogglePerSecond()\n  )\n  DOMCacheGetOrSet('resetHotkeys').addEventListener('click', () => resetHotkeys())\n  DOMCacheGetOrSet('notation').addEventListener('click', () => toggleAnnotation())\n  DOMCacheGetOrSet('iconSet').addEventListener('click', () => toggleIconSet(player.iconSet + 1))\n\n  // SHOP TAB\n\n  /*\n\nTODO: Fix this entire tab it's utter shit\n\n  */\n\n  // Part 1: The Settings\n  /*Respec The Upgrades*/ DOMCacheGetOrSet(\n    'resetShopUpgrades'\n  ).addEventListener('click', () => resetShopUpgrades())\n  /*Toggle Shop Confirmations*/ DOMCacheGetOrSet(\n    'toggleConfirmShop'\n  ).addEventListener('click', () => toggleShopConfirmation())\n  /*Toggle Shop Buy Max*/ DOMCacheGetOrSet('toggleBuyMaxShop').addEventListener(\n    'click',\n    (event) => toggleBuyMaxShop(event)\n  )\n  /*Toggle Hide Permanent Maxed*/ DOMCacheGetOrSet(\n    'toggleHideShop'\n  ).addEventListener('click', () => toggleHideShop())\n\n  // Part 2: Potions\n  /*Offering Potion*/\n  DOMCacheGetOrSet('offeringPotions').addEventListener('mouseover', () => shopDescriptions('offeringPotion'))\n  DOMCacheGetOrSet('offeringpotionowned').addEventListener('mouseover', () => shopDescriptions('offeringPotion'))\n  DOMCacheGetOrSet('buyofferingpotion').addEventListener('mouseover', () => shopDescriptions('offeringPotion'))\n  DOMCacheGetOrSet('useofferingpotion').addEventListener('mouseover', () => shopDescriptions('offeringPotion'))\n  DOMCacheGetOrSet('buyofferingpotion').addEventListener('click', () => buyShopUpgrades('offeringPotion'))\n  // DOMCacheGetOrSet('offeringPotions').addEventListener('click', () => buyShopUpgrades(\"offeringPotion\"))  //Allow clicking of image to buy also\n  DOMCacheGetOrSet('useofferingpotion').addEventListener('click', () => useConsumable('offeringPotion'))\n  DOMCacheGetOrSet('toggle42').addEventListener('click', () => {\n    player.autoPotionTimer = 0\n  })\n  /*Obtainium Potion*/\n  DOMCacheGetOrSet('obtainiumPotions').addEventListener('mouseover', () => shopDescriptions('obtainiumPotion'))\n  DOMCacheGetOrSet('obtainiumpotionowned').addEventListener('mouseover', () => shopDescriptions('obtainiumPotion'))\n  DOMCacheGetOrSet('buyobtainiumpotion').addEventListener('mouseover', () => shopDescriptions('obtainiumPotion'))\n  DOMCacheGetOrSet('useobtainiumpotion').addEventListener('mouseover', () => shopDescriptions('obtainiumPotion'))\n  DOMCacheGetOrSet('buyobtainiumpotion').addEventListener('click', () => buyShopUpgrades('obtainiumPotion'))\n  // DOMCacheGetOrSet('obtainiumPotions').addEventListener('click', () => buyShopUpgrades(\"obtainiumPotion\"))  //Allow clicking of image to buy also\n  DOMCacheGetOrSet('useobtainiumpotion').addEventListener('click', () => useConsumable('obtainiumPotion'))\n  DOMCacheGetOrSet('toggle43').addEventListener('click', () => {\n    player.autoPotionTimerObtainium = 0\n  })\n  /* Permanent Upgrade Images */\n  const shopKeys = Object.keys(\n    player.shopUpgrades\n  ) as (keyof Player['shopUpgrades'])[]\n  for (const key of shopKeys) {\n    const shopItem = shopData[key]\n    if (shopItem.type === shopUpgradeTypes.UPGRADE) {\n      DOMCacheGetOrSet(`${key}`).addEventListener('mouseover', () => shopDescriptions(key))\n      DOMCacheGetOrSet(`${key}Level`).addEventListener('mouseover', () => shopDescriptions(key))\n      DOMCacheGetOrSet(`${key}Button`).addEventListener('mouseover', () => shopDescriptions(key))\n      // DOMCacheGetOrSet(`${key}`).addEventListener('click', () => buyShopUpgrades(key))  //Allow clicking of image to buy also\n      DOMCacheGetOrSet(`${key}Button`).addEventListener('click', () => buyShopUpgrades(key))\n    }\n  }\n  DOMCacheGetOrSet('buySingularityQuarksButton').addEventListener('click', () => buyGoldenQuarks())\n  // SINGULARITY TAB\n  const singularityUpgrades = Object.keys(\n    player.singularityUpgrades\n  ) as (keyof Player['singularityUpgrades'])[]\n  for (const key of singularityUpgrades) {\n    if (key === 'offeringAutomatic') {\n      continue\n    }\n    DOMCacheGetOrSet(`${String(key)}`).addEventListener(\n      'mouseover',\n      () => player.singularityUpgrades[`${String(key)}`].updateUpgradeHTML()\n    )\n    DOMCacheGetOrSet(`${String(key)}`).addEventListener(\n      'click',\n      (event) => player.singularityUpgrades[`${String(key)}`].buyLevel(event)\n    )\n  }\n  DOMCacheGetOrSet('actualSingularityUpgradeContainer').addEventListener(\n    'mouseover',\n    () => shopMouseover(true)\n  )\n  DOMCacheGetOrSet('actualSingularityUpgradeContainer').addEventListener(\n    'mouseout',\n    () => shopMouseover(false)\n  )\n\n  const perkImage = DOMCacheGetOrSet(\n    'singularityPerksIcon'\n  ) as HTMLImageElement\n  const perksText = DOMCacheGetOrSet('singularityPerksText')\n  const perksDesc = DOMCacheGetOrSet('singularityPerksDesc')\n  for (const perk of singularityPerks) {\n    const perkHTML = document.createElement('span')\n    perkHTML.innerHTML = `<img src=\"Pictures/${IconSets[player.iconSet][0]}/perk${perk.ID}.png\">${perk.name()}`\n    perkHTML.id = perk.ID\n    perkHTML.classList.add('oldPerk')\n    perkHTML.style.display = 'none' // Ensure the perk is hidden if not unlocked as an anti-spoiler failsafe.\n    DOMCacheGetOrSet('singularityPerksGrid').append(perkHTML)\n    DOMCacheGetOrSet(perk.ID).addEventListener('mouseover', () => {\n      const perkInfo = getLastUpgradeInfo(perk, player.highestSingularityCount)\n      const levelInfo = i18next.t('singularity.perks.levelInfo', {\n        level: perkInfo.level,\n        singularity: perkInfo.singularity\n      })\n      perkImage.src = `Pictures/${IconSets[player.iconSet][0]}/perk${perk.ID}.png`\n      perksText.innerHTML = levelInfo\n      perksDesc.innerHTML = perk.description(\n        player.highestSingularityCount,\n        perk.levels\n      )\n    })\n  }\n\n  // Octeract Upgrades\n  const octeractUpgrades = Object.keys(\n    player.octeractUpgrades\n  ) as (keyof Player['octeractUpgrades'])[]\n  for (const key of octeractUpgrades) {\n    DOMCacheGetOrSet(`${String(key)}`).addEventListener(\n      'mouseover',\n      () => player.octeractUpgrades[`${String(key)}`].updateUpgradeHTML()\n    )\n    DOMCacheGetOrSet(`${String(key)}`).addEventListener(\n      'click',\n      (event) => player.octeractUpgrades[`${String(key)}`].buyLevel(event)\n    )\n  }\n\n  DOMCacheGetOrSet('octeractUpgradeContainer').addEventListener(\n    'mouseover',\n    () => shopMouseover(true)\n  )\n  DOMCacheGetOrSet('octeractUpgradeContainer').addEventListener(\n    'mouseout',\n    () => shopMouseover(false)\n  )\n\n  // EXALT\n  const singularityChallenges = Object.keys(\n    player.singularityChallenges\n  ) as (keyof Player['singularityChallenges'])[]\n  for (const key of singularityChallenges) {\n    DOMCacheGetOrSet(`${String(key)}`).addEventListener(\n      'mouseover',\n      () => player.singularityChallenges[`${String(key)}`].updateChallengeHTML()\n    )\n    DOMCacheGetOrSet(`${String(key)}`).addEventListener(\n      'click',\n      () => player.singularityChallenges[`${String(key)}`].challengeEntryHandler()\n    )\n  }\n\n  // BLUEBERRY UPGRADES\n  const blueberryUpgrades = Object.keys(\n    player.blueberryUpgrades\n  ) as (keyof Player['blueberryUpgrades'])[]\n  for (const key of blueberryUpgrades) {\n    DOMCacheGetOrSet(`${String(key)}`).addEventListener(\n      'mouseover',\n      () => player.blueberryUpgrades[`${String(key)}`].updateUpgradeHTML()\n    )\n    DOMCacheGetOrSet(`${String(key)}`).addEventListener(\n      'click',\n      (event) => player.blueberryUpgrades[`${String(key)}`].buyLevel(event)\n    )\n  }\n\n  // BLUEBERRY LOADOUTS\n  const blueberryLoadouts = Array.from(\n    document.querySelectorAll('[id^=\"blueberryLoadout\"]')\n  )\n  const loadoutContainer = DOMCacheGetOrSet('blueberryUpgradeContainer')\n\n  for (let i = 0; i < blueberryLoadouts.length; i++) {\n    const shiftedKey = i + 1\n    const el = blueberryLoadouts[i]\n    el.addEventListener('mouseover', () => {\n      createLoadoutDescription(\n        shiftedKey,\n        player.blueberryLoadouts[shiftedKey] ?? { ambrosiaTutorial: 0 }\n      )\n      loadoutContainer.classList.add(`hoveredBlueberryLoadout${shiftedKey}`)\n    })\n    el.addEventListener('mouseout', () => {\n      loadoutContainer.classList.remove(`hoveredBlueberryLoadout${shiftedKey}`)\n    })\n    el.addEventListener('click', () =>\n      loadoutHandler(\n        shiftedKey,\n        player.blueberryLoadouts[shiftedKey] ?? { ambrosiaTutorial: 0 }\n      ))\n  }\n\n  DOMCacheGetOrSet('blueberryToggleMode').addEventListener('click', () => toggleBlueberryLoadoutmode())\n\n  DOMCacheGetOrSet('getBlueberries').addEventListener('click', () => exportBlueberryTree())\n  DOMCacheGetOrSet('refundBlueberries').addEventListener('click', () => resetBlueberryTree())\n  // Import blueberries\n  DOMCacheGetOrSet('importBlueberries').addEventListener('change', async (e) => importData(e, importBlueberryTree))\n\n  // Toggle subtabs of Singularity tab\n  for (let index = 0; index < 4; index++) {\n    DOMCacheGetOrSet(`toggleSingularitySubTab${index + 1}`).addEventListener(\n      'click',\n      () => changeSubTab(Tabs.Singularity, { page: index })\n    )\n  }\n\n  // EVENT TAB (Replace as events are created)\n  DOMCacheGetOrSet('unsmith').addEventListener('click', () => clickSmith())\n\n  // Import button\n  DOMCacheGetOrSet('importfile').addEventListener('change', async (e) => importData(e, importSynergism))\n\n  for (let i = 1; i <= 5; i++) {\n    DOMCacheGetOrSet(`switchTheme${i}`).addEventListener('click', () => toggleTheme(false, i, true))\n  }\n\n  DOMCacheGetOrSet('saveType').addEventListener('click', async (event) => {\n    const element = event.target as HTMLInputElement\n\n    if (!element.checked) {\n      localStorage.removeItem('copyToClipboard')\n      event.stopPropagation()\n      return\n    }\n\n    event.preventDefault()\n\n    const confirmed = await Confirm(i18next.t('save.saveToClipboard'))\n\n    if (confirmed) {\n      element.checked = !element.checked\n      localStorage.setItem('copyToClipboard', '')\n    } else {\n      localStorage.removeItem('copyToClipboard')\n    }\n  })\n\n  // Window\n  window.addEventListener('error', imgErrorHandler, { capture: true })\n}\n", "import { player } from './Synergism'\nimport { sumContents } from './Utility'\nimport { Globals as G } from './Variables'\n\nimport Decimal from 'break_infinity.js'\nimport { achievementaward } from './Achievements'\nimport { CalcECC } from './Challenges'\n\nexport const calculatetax = () => {\n  let exp = 1\n  let compareB = new Decimal(0)\n  let compareC = new Decimal(0)\n  G.produceFirst = (player.firstGeneratedCoin.add(player.firstOwnedCoin)).times(G.globalCoinMultiplier).times(\n    G.coinOneMulti\n  )\n    .times(player.firstProduceCoin)\n  G.produceSecond = (player.secondGeneratedCoin.add(player.secondOwnedCoin)).times(G.globalCoinMultiplier).times(\n    G.coinTwoMulti\n  )\n    .times(player.secondProduceCoin)\n  G.produceThird = (player.thirdGeneratedCoin.add(player.thirdOwnedCoin)).times(G.globalCoinMultiplier).times(\n    G.coinThreeMulti\n  )\n    .times(player.thirdProduceCoin)\n  G.produceFourth = (player.fourthGeneratedCoin.add(player.fourthOwnedCoin)).times(G.globalCoinMultiplier).times(\n    G.coinFourMulti\n  )\n    .times(player.fourthProduceCoin)\n  G.produceFifth = (player.fifthGeneratedCoin.add(player.fifthOwnedCoin)).times(G.globalCoinMultiplier).times(\n    G.coinFiveMulti\n  )\n    .times(player.fifthProduceCoin)\n  G.produceTotal = G.produceFirst.add(G.produceSecond).add(G.produceThird).add(G.produceFourth)\n    .add(G.produceFifth)\n\n  if (G.produceFirst.lte(.0001)) {\n    G.produceFirst = new Decimal(0)\n  }\n  if (G.produceSecond.lte(.0001)) {\n    G.produceSecond = new Decimal(0)\n  }\n  if (G.produceThird.lte(.0001)) {\n    G.produceThird = new Decimal(0)\n  }\n  if (G.produceFourth.lte(.0001)) {\n    G.produceFourth = new Decimal(0)\n  }\n  if (G.produceFifth.lte(.0001)) {\n    G.produceFifth = new Decimal(0)\n  }\n\n  G.producePerSecond = G.produceTotal.times(40)\n\n  if (player.currentChallenge.reincarnation === 6) {\n    exp = 3 * Math.pow(1 + player.challengecompletions[6] / 25, 2)\n  }\n  if (player.currentChallenge.reincarnation === 9) {\n    exp = 0.005\n  }\n  if (player.currentChallenge.ascension === 15) {\n    exp = 0.000005\n  }\n  // im doing this to spite xander, basically changes w5x9 to not impact tax scaling in c13 || Sean#7236\n  const c13effcompletions = Math.max(\n    0,\n    sumContents(player.challengecompletions) - player.challengecompletions[11] - player.challengecompletions[12]\n      - player.challengecompletions[13] - player.challengecompletions[14] - player.challengecompletions[15]\n      - 3 * player.cubeUpgrades[49] - ((player.singularityCount >= 15) ? 4 : 0)\n      - ((player.singularityCount >= 20) ? 1 : 0)\n  )\n  if (player.currentChallenge.ascension === 13) {\n    exp *= 700 * (1 + 1 / 6 * player.challengecompletions[13])\n    exp *= Math.pow(1.05, c13effcompletions)\n  }\n  if (player.challengecompletions[6] > 0) {\n    exp /= 1.075\n  }\n  let exponent = 1\n  exponent *= exp\n  exponent *= 1 - 1 / 20 * player.researches[51] - 1 / 40 * player.researches[52] - 1 / 80 * player.researches[53]\n    - 1 / 160 * player.researches[54] - 1 / 320 * player.researches[55]\n  exponent *= 1\n    - 0.05 / 1800 * (player.achievements[45] + player.achievements[46] + 2 * player.achievements[47])\n      * Math.min(player.prestigecounter, 1800)\n  exponent *= Math.pow(0.965, CalcECC('reincarnation', player.challengecompletions[6]))\n  exponent *= 0.001 + .999 * (Math.pow(6, -(G.rune2level * G.effectiveLevelMult) / 1000))\n  exponent *= 0.01 + .99 * (Math.pow(4, Math.min(0, (400 - G.rune4level) / 1100)))\n  exponent *= 1 - 0.04 * player.achievements[82] - 0.04 * player.achievements[89] - 0.04 * player.achievements[96]\n    - 0.04 * player.achievements[103] - 0.04 * player.achievements[110] - 0.0566 * player.achievements[117]\n    - 0.0566 * player.achievements[124] - 0.0566 * player.achievements[131]\n  exponent *= Math.pow(\n    0.9925,\n    player.achievements[118]\n      * (player.challengecompletions[6] + player.challengecompletions[7] + player.challengecompletions[8]\n        + player.challengecompletions[9] + player.challengecompletions[10])\n  )\n  exponent *= 0.005 + 0.995 * Math.pow(0.99, player.antUpgrades[2]! + G.bonusant3)\n  exponent *= 1\n    / Math.pow(\n      1 + Decimal.log(player.ascendShards.add(1), 10),\n      1 + .2 / 60 * player.challengecompletions[10] * player.upgrades[125] + 0.1 * player.platonicUpgrades[5]\n        + 0.2 * player.platonicUpgrades[10] + (G.platonicBonusMultiplier[5] - 1)\n    )\n  exponent *= 1 - 0.10 * (player.talismanRarity[1 - 1] - 1)\n  exponent *= Math.pow(0.98, 3 / 5 * Math.log(1 + player.rareFragments) / Math.log(10) * player.researches[159])\n  exponent *= Math.pow(0.966, CalcECC('ascension', player.challengecompletions[13]))\n  exponent *= 1 - 0.666 * player.researches[200] / 100000\n  exponent *= 1 - 0.666 * player.cubeUpgrades[50] / 100000\n  exponent *= G.challenge15Rewards.taxes\n  if (player.upgrades[121] > 0) {\n    exponent *= 0.5\n  }\n  // Cap the calculation overflow bug || httpsnet\n  if (exponent < 1e-300) {\n    exponent = 1e-300\n  }\n  G.maxexponent = Math.floor(275 / (Decimal.log(1.01, 10) * exponent)) - 1\n  const a2 = Math.min(G.maxexponent, Math.floor(Decimal.log(G.produceTotal.add(1), 10)))\n\n  if (player.currentChallenge.ascension === 13 && G.maxexponent <= 99999 && player.achievements[249] < 1) {\n    // i don't think it makes sense to give the achievement as soon as the challenge is opened\n    // as soon as the challenge is opened you don't have enough tax reducers to have max exponent above 100000\n    // so for the achievement description to make sense i think it should require at least 1 challenge completion || Dorijanko\n    if (c13effcompletions >= 1) {\n      achievementaward(249)\n    }\n  }\n\n  if (a2 >= 1) {\n    compareB = Decimal.pow(a2, 2).div(550)\n  }\n\n  compareC = Decimal.pow(G.maxexponent, 2).div(550)\n\n  G.taxdivisor = Decimal.pow(1.01, Decimal.mul(compareB, exponent))\n  G.taxdivisorcheck = Decimal.pow(1.01, Decimal.mul(compareC, exponent))\n}\n", "import type { Module } from 'i18next'\n\nexport default {\n  type: 'postProcessor',\n  name: 'ColorText',\n  process: (value: string): string => {\n    if (!value.includes('<<')) {\n      return value\n    }\n\n    return value.replace(/<<(.*?)\\|(.*?)>>/g, '<span style=\"color:$1\">$2</span>')\n  }\n} as Module\n", "import i18next, { type Resource } from 'i18next'\nimport { DOMCacheGetOrSet } from './Cache/DOM'\nimport { prod } from './Config'\nimport ColorTextPlugin from './Plugins/ColorText'\nimport { Confirm } from './UpdateHTML'\n\n// For 'flag': https://emojipedia.org/emoji-flag-sequence/\n// Searching \"flag <country>\" in their search bar will help verify the code.\nconst supported: Record<string, { name: string; flag: string }> = {\n  // Define language properties and mappings here.\n  en: { name: 'English', flag: '\uD83C\uDDFA\uD83C\uDDF8' }, // Or '\uD83C\uDDFA\uD83C\uDDF8 / \uD83C\uDDEC\uD83C\uDDE7', no name?\n  zh: { name: 'Chinese', flag: '\uD83C\uDDE8\uD83C\uDDF3' },\n  fr: { name: 'French', flag: '\uD83C\uDFF3\uFE0F' },\n  de: { name: 'German', flag: '\uD83C\uDDE9\uD83C\uDDEA' },\n  pl: { name: 'Polish', flag: '\uD83C\uDDF5\uD83C\uDDF1' },\n  es: { name: 'Spanish', flag: '\uD83C\uDDEA\uD83C\uDDF8' },\n  ru: { name: 'Russian', flag: '\uD83C\uDDF7\uD83C\uDDFA' }\n}\n\nconst languageCache = new Map<string, { translation: Resource }>()\n\nexport const init = async (): Promise<void> => {\n  const resources: Record<string, Resource> = {}\n  const language = localStorage.getItem('language') ?? 'en'\n\n  const response = await fetch(`./translations/${language}.json`)\n  const file = await response.json() as Resource\n\n  languageCache.set(language, { translation: file })\n  resources[language] = { translation: file }\n\n  if (language !== 'en') {\n    // We always need to load English, to use as a fallback\n    const response = await fetch('./translations/en.json')\n    const file = await response.json() as Resource\n\n    languageCache.set('en', { translation: file })\n    resources.en = { translation: file }\n  }\n\n  await i18next.use(ColorTextPlugin).init({\n    lng: language,\n    fallbackLng: 'en',\n    debug: !prod,\n    resources,\n    postProcess: ['ColorText'],\n    // crowdin returns an empty string when a translation for\n    // a language isn't present\n    returnEmptyString: false,\n    interpolation: {\n      escapeValue: false\n    }\n  })\n\n  buildLanguageTab()\n  translateHTML()\n}\n\nfunction buildLanguageButton (langID: string, name: string, flag: string) {\n  const mainButton = document.createElement('button')\n  mainButton.id = `language_${langID}`\n  mainButton.className = 'language-select'\n  mainButton.addEventListener('click', async () => {\n    if (!languageCache.has(langID)) {\n      const response = await fetch(`./translations/${langID}.json`)\n      const file = await response.json() as Resource\n\n      languageCache.set(langID, { translation: file })\n      i18next.addResourceBundle(langID, 'translation', file)\n    }\n\n    // i18next.addResourceBundle\n    await i18next.changeLanguage(langID)\n    localStorage.setItem('language', langID)\n\n    const shouldReload = await Confirm(i18next.t('general.languageChange'))\n\n    if (shouldReload) {\n      location.reload()\n    }\n  })\n\n  const flagSpan = document.createElement('span')\n  flagSpan.className = 'lang-flag'\n  flagSpan.textContent = flag\n  mainButton.appendChild(flagSpan)\n\n  const nameSpan = document.createElement('span')\n  nameSpan.className = 'lang-name'\n  nameSpan.textContent = name\n  mainButton.appendChild(nameSpan)\n\n  return mainButton\n}\n\nfunction buildLanguageTab () {\n  const langSelector = DOMCacheGetOrSet('languageOptions')\n  for (const langID in supported) {\n    const langButton = buildLanguageButton(langID, supported[langID].name, supported[langID].flag)\n    langSelector.appendChild(langButton)\n  }\n}\n\nfunction translateHTML () {\n  const i18n = document.querySelectorAll('*[i18n]')\n\n  for (const element of Array.from(i18n)) {\n    const key = element.getAttribute('i18n')!\n    const value = i18next.t(key)\n\n    if (value.includes('<span')) {\n      element.innerHTML = value\n    } else {\n      element.textContent = value\n    }\n  }\n}\n", "import i18next from 'i18next'\nimport localforage from 'localforage'\nimport { DOMCacheGetOrSet } from './Cache/DOM'\nimport { importSynergism } from './ImportExport'\nimport { QuarkHandler, setQuarkBonus } from './Quark'\nimport { format, player } from './Synergism'\nimport { Alert } from './UpdateHTML'\n\n// Consts for Patreon Supporter Roles.\nconst TRANSCENDED_BALLER = '756419583941804072'\nconst REINCARNATED_BALLER = '758859750070026241'\nconst ASCENDED_BALLER = '758861068188647444'\nconst OMEGA_BALLER = '832099983389097995'\nconst BOOSTER = '677272036820910098'\n\n// Const for Event Roles.\nconst THANKSGIVING_2023 = '1177364773986386021'\nconst THANKSGIVING_2024 = '1311161342987603979'\nconst CONDUCTOR_2023 = '1178131525049520138'\nconst CONDUCTOR_2024 = '1311164406209450064'\nconst EIGHT_LEAF = '983484264865730560'\nconst TEN_LEAF = '1045560188574380042'\nconst SMITH_INCARNATE = '1045560846169935922'\nconst SMITH_GOD = '1045562390995009606'\nconst GOLDEN_SMITH_GOD = '1178125584061173800'\nconst DIAMOND_SMITH_MESSIAH = '1311165096378105906'\n\n/**\n * @see https://discord.com/developers/docs/resources/user#user-object\n */\ninterface RawUser {\n  id: string\n  username: string\n  discriminator: string\n  global_name?: string | null\n  avatar: string | null\n  bot?: boolean\n  system?: boolean\n  mfa_enabled?: boolean\n  banner?: string | null\n  accent_color?: number | null\n  locale?: string\n  flags?: number\n  premium_type?: number\n  public_flags?: number\n}\n\n/**\n * @see https://discord.com/developers/docs/resources/guild#guild-member-object\n */\ninterface RawMember {\n  user?: RawUser\n  nick?: string | null\n  avatar?: string | null\n  roles: string[]\n  joined_at: string | null\n  premium_since?: string | null\n  deaf: boolean\n  mute: boolean\n  flags: number\n  pending?: boolean\n  permissions?: string\n  communication_disabled_until?: string | null\n}\n\ninterface SynergismUserAPIResponse {\n  personalBonus: number\n  globalBonus: number\n  accountType: string\n}\n\ninterface SynergismDiscordUserAPIResponse extends SynergismUserAPIResponse {\n  member: RawMember | null\n  accountType: 'discord'\n}\n\ninterface SynergismPatreonUserAPIResponse extends SynergismUserAPIResponse {\n  member: {\n    user: {\n      username: string | null\n    }\n    roles: string[]\n  }\n  accountType: 'patreon'\n}\n\ntype CloudSave = null | { save: string }\n\nexport async function handleLogin () {\n  const subtabElement = document.querySelector('#accountSubTab > div.scrollbarX')!\n  const currentBonus = DOMCacheGetOrSet('currentBonus')\n\n  const logoutElement = document.getElementById('logoutButton')\n  if (logoutElement !== null) {\n    logoutElement.addEventListener('click', logout, { once: true })\n    document.getElementById('accountSubTab')?.appendChild(logoutElement)\n  }\n\n  const response = await fetch('https://synergism.cc/api/v1/users/me')\n\n  if (!response.ok) {\n    currentBonus.textContent =\n      `Oh no! I couldn't fetch the bonus... Please send this to Khafra in the Discord: ${await response.text()}.`\n    return\n  }\n\n  const { globalBonus, member, personalBonus, accountType } = await response.json() as\n    | SynergismDiscordUserAPIResponse\n    | SynergismPatreonUserAPIResponse\n\n  setQuarkBonus(100 * (1 + globalBonus / 100) * (1 + personalBonus / 100) - 100)\n  player.worlds = new QuarkHandler(Number(player.worlds))\n\n  currentBonus.textContent = `Generous patrons give you a bonus of ${globalBonus}% more Quarks!`\n\n  if (location.hostname !== 'synergism.cc') {\n    // TODO: better error, make link clickable, etc.\n    subtabElement.textContent = 'Login is not available here, go to https://synergism.cc instead!'\n  } else if (member !== null) {\n    currentBonus.textContent +=\n      ` You also receive an extra ${personalBonus}% bonus for being a Patreon member and/or boosting the Discord server! Multiplicative with global bonus!`\n\n    let user: string | null\n\n    if (accountType === 'discord') {\n      user = member.nick ?? member.user?.username ?? member.user?.global_name ?? null\n    } else {\n      user = member.user.username\n    }\n\n    const boosted = accountType === 'discord'\n      ? Boolean(member?.premium_since) || member?.roles.includes(BOOSTER)\n      : false\n    const hasTier1 = member.roles.includes(TRANSCENDED_BALLER) ?? false\n    const hasTier2 = member.roles.includes(REINCARNATED_BALLER) ?? false\n    const hasTier3 = member.roles.includes(ASCENDED_BALLER) ?? false\n    const hasTier4 = member.roles.includes(OMEGA_BALLER) ?? false\n\n    const checkMark = (n: number) => {\n      return `<span style=\"color: lime\">[\u2714] {+${n}%}</span>`\n    }\n\n    const exMark = '<span style=\"color: crimson\">[\u2716] {+0%}</span>'\n\n    subtabElement.innerHTML = `\n      ${user ? `Hello, ${user}` : 'Hello'}!\\n\n      Your personal Quark bonus is ${format(personalBonus, 2, true)}%, computed by the following:\n      Donator Bonuses (Multiplicative with other bonuses):\n      <span style=\"color: orchid\">Transcended Baller</span> [+2%] - ${hasTier1 ? checkMark(2) : exMark}\n      <span style=\"color: green\">Reincarnated Baller</span> [+3%] - ${hasTier2 ? checkMark(3) : exMark}\n      <span style=\"color: orange\">ASCENDED Baller</span> [+4%] - ${hasTier3 ? checkMark(4) : exMark}\n      <span style=\"color: lightgoldenrodyellow\">OMEGA Baller</span> [+5%] - ${hasTier4 ? checkMark(5) : exMark}\n      <span style=\"color: #f47fff\">Discord Server Booster</span> [+1%] - ${boosted ? checkMark(1) : exMark}\n\n      Event Bonuses:\n      <span style=\"color: #ffcc00\">Thanksgiving 2023</span> [+0.2%] - ${\n      member.roles.includes(THANKSGIVING_2023) ? checkMark(0.2) : exMark\n    }\n      <span style=\"color: #ffcc00\">Thanksgiving 2024</span> [+0.3%] - ${\n      member.roles.includes(THANKSGIVING_2024) ? checkMark(0.3) : exMark\n    }\n      <span style=\"color: #ffcc00\">Conductor 2023</span> [+0.3%] - ${\n      member.roles.includes(CONDUCTOR_2023) ? checkMark(0.3) : exMark\n    }\n      <span style=\"color: #ffcc00\">Conductor 2024</span> [+0.4%] - ${\n      member.roles.includes(CONDUCTOR_2024) ? checkMark(0.4) : exMark\n    }\n      <span style=\"color: #ffcc00\">Eight Leaf</span> [+0.3%] - ${\n      member.roles.includes(EIGHT_LEAF) ? checkMark(0.3) : exMark\n    }\n      <span style=\"color: #ffcc00\">Ten Leaf</span> [+0.4%] - ${\n      member.roles.includes(TEN_LEAF) ? checkMark(0.4) : exMark\n    }\n      <span style=\"color: #ffcc00\">Smith Incarnate</span> [+0.6%] - ${\n      member.roles.includes(SMITH_INCARNATE) ? checkMark(0.6) : exMark\n    }\n      <span style=\"color: #ffcc00\">Smith God</span> [+0.7%] - ${\n      member.roles.includes(SMITH_GOD) ? checkMark(0.7) : exMark\n    }\n      <span style=\"color: #ffcc00\">Golden Smith God</span> [+0.8%] - ${\n      member.roles.includes(GOLDEN_SMITH_GOD) ? checkMark(0.8) : exMark\n    }\n      <span style=\"color: #ffcc00\">Diamond Smith Messiah</span> [+1%] - ${\n      member.roles.includes(DIAMOND_SMITH_MESSIAH) ? checkMark(1.2) : exMark\n    }\n\n      And Finally...\n      <span style=\"color: lime\"> Being <span style=\"color: lightgoldenrodyellow\"> YOURSELF! </span></span> [+1%] - ${\n      checkMark(1)\n    }\n\n      The current maximum is 16%, by being a Discord server booster and an OMEGA Baller on Patreon!\n\n      More will be incorporated both for general accounts and supporters of the game shortly.\n      Become a supporter of development via the link below, and get special bonuses,\n      while also improving the Global Bonus for all to enjoy!\n      <a href=\"https://www.patreon.com/synergism\" target=\"_blank\" rel=\"noopener noreferrer nofollow\">\n      <span style=\"color: lightgoldenrodyellow\">--> PATREON <--</span>\n      </a>\n    `.trim()\n\n    const cloudSaveElement = document.createElement('button')\n    const loadCloudSaveElement = document.createElement('button')\n\n    if (personalBonus > 1) {\n      cloudSaveElement.addEventListener('click', saveToCloud)\n      cloudSaveElement.style.cssText = 'border: 2px solid #5865F2; height: 25px; width: 150px;'\n      cloudSaveElement.textContent = 'Save to Cloud \u2601'\n\n      loadCloudSaveElement.addEventListener('click', getCloudSave)\n      loadCloudSaveElement.style.cssText = 'border: 2px solid #5865F2; height: 25px; width: 150px;'\n      loadCloudSaveElement.textContent = 'Load from Cloud \u263D'\n    }\n\n    const cloudSaveParent = document.createElement('div')\n    cloudSaveParent.style.cssText =\n      'display: flex; flex-direction: row; justify-content: space-evenly; padding: 5px; width: 45%; margin: 0 auto;'\n\n    cloudSaveParent.appendChild(cloudSaveElement)\n    cloudSaveParent.appendChild(loadCloudSaveElement)\n\n    subtabElement.appendChild(cloudSaveParent)\n  } else {\n    // User is not logged in\n    subtabElement.innerHTML = `\n      <img id=\"discord-logo\" alt=\"Discord Logo\" src=\"Pictures/discord-mark-blue.png\" loading=\"lazy\" />\n      <a\n        href=\"https://synergism.cc/login?with=discord\"\n        style=\"display:inline-block;border: 2px solid #5865F2; height: 25px; width: 250px;\"\n      >Login with Discord</a>\n\n      <img id=\"patreon-logo\" alt=\"Patreon Logo\" src=\"Pictures/patreon-logo.png\" loading=\"lazy\" />\n      <a\n        href=\"https://synergism.cc/login?with=patreon\"\n        style=\"display:inline-block;border: 2px solid #ff5900; height: 25px; width: 250px;\"\n      >Login with Patreon</a>\n    `\n  }\n}\n\nasync function logout () {\n  await fetch('https://synergism.cc/api/v1/users/logout')\n  await Alert(i18next.t('account.logout'))\n\n  location.reload()\n}\n\nasync function saveToCloud () {\n  const save = (await localforage.getItem<Blob>('Synergysave2')\n    .then((b) => b?.text())\n    .catch(() => null)) ?? localStorage.getItem('Synergysave2')\n\n  if (typeof save !== 'string') {\n    console.log('Yeah, no save here.')\n    return\n  }\n\n  const body = new FormData()\n  body.set('savefile', new File([save], 'file.txt'), 'file.txt')\n\n  const response = await fetch('https://synergism.cc/api/v1/saves/upload', {\n    method: 'POST',\n    body\n  })\n\n  if (!response.ok) {\n    await Alert(`Received an error: ${await response.text()}`)\n    return\n  }\n}\n\nasync function getCloudSave () {\n  const response = await fetch('https://synergism.cc/api/v1/saves/get')\n  const save = await response.json() as CloudSave\n\n  await importSynergism(save?.save ?? null)\n}\n"],
  "mappings": "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CF,EACA,eAAgB,IAAID,GAClBC,GAAgB,eAChB,gBACF,EACA,eAAgB,IAAID,GAClBC,GAAgB,eAChB,gBACF,EACA,eAAgB,IAAID,GAClBC,GAAgB,eAChB,gBACF,EACA,eAAgB,IAAID,GAClBC,GAAgB,eAChB,gBACF,EACA,eAAgB,IAAID,GAClBC,GAAgB,eAChB,gBACF,EACA,WAAY,IAAID,GACdC,GAAgB,WAChB,YACF,EACA,WAAY,IAAID,GACdC,GAAgB,WAChB,YACF,EACA,WAAY,IAAID,GACdC,GAAgB,WAChB,YACF,EACA,YAAa,IAAID,GACfC,GAAgB,YAChB,aACF,EACA,aAAc,IAAID,GAChBC,GAAgB,aAChB,cACF,EACA,eAAgB,IAAID,GAClBC,GAAgB,eAChB,gBACF,EACA,yBAA0B,IAAID,GAC5BC,GAAgB,yBAChB,0BACF,EACA,iBAAkB,IAAID,GACpBC,GAAgB,iBAChB,kBACF,EACA,aAAc,IAAID,GAChBC,GAAgB,aAChB,cACF,EACA,WAAY,IAAID,GACdC,GAAgB,WAChB,YACF,EACA,WAAY,IAAID,GACdC,GAAgB,WAChB,YACF,EACA,WAAY,IAAID,GACdC,GAAgB,WAChB,YACF,EACA,SAAU,IAAID,GAAmBC,GAAgB,SAAU,UAAU,EACrE,WAAY,IAAID,GACdC,GAAgB,WAChB,YACF,EACA,YAAa,IAAID,GACfC,GAAgB,YAChB,aACF,EACA,YAAa,IAAID,GACfC,GAAgB,YAChB,aACF,EACA,uBAAwB,IAAID,GAC1BC,GAAgB,uBAChB,wBACF,EACA,wBAAyB,IAAID,GAC3BC,GAAgB,wBAChB,yBACF,EACA,wBAAyB,IAAID,GAC3BC,GAAgB,wBAChB,yBACF,EACA,mBAAoB,IAAID,GACtBC,GAAgB,mBAChB,oBACF,EACA,mBAAoB,IAAID,GACtBC,GAAgB,mBAChB,oBACF,EACA,oBAAqB,IAAID,GACvBC,GAAgB,oBAChB,qBACF,EACA,oBAAqB,IAAID,GACvBC,GAAgB,oBAChB,qBACF,EACA,iBAAkB,IAAID,GACpBC,GAAgB,iBAChB,kBACF,EACA,kBAAmB,IAAID,GACrBC,GAAgB,kBAChB,mBACF,EACA,kBAAmB,IAAID,GACrBC,GAAgB,kBAChB,mBACF,EACA,kBAAmB,IAAID,GACrBC,GAAgB,kBAChB,mBACF,EACA,kBAAmB,IAAID,GACrBC,GAAgB,kBAChB,mBACF,EACA,SAAU,IAAID,GAAmBC,GAAgB,SAAU,UAAU,EACrE,YAAa,IAAID,GACfC,GAAgB,YAChB,aACF,EACA,YAAa,IAAID,GACfC,GAAgB,YAChB,aACF,EACA,cAAe,IAAID,GACjBC,GAAgB,cAChB,eACF,EACA,cAAe,IAAID,GACjBC,GAAgB,cAChB,eACF,EACA,YAAa,IAAID,GACfC,GAAgB,YAChB,aACF,EACA,gBAAiB,IAAID,GACnBC,GAAgB,gBAChB,iBACF,EACA,iBAAkB,IAAID,GACpBC,GAAgB,iBAChB,kBACF,EACA,mBAAoB,IAAID,GACtBC,GAAgB,mBAChB,oBACF,EACA,oBAAqB,IAAID,GACvBC,GAAgB,oBAChB,qBACF,EACA,QAAS,IAAID,GAAmBC,GAAgB,QAAS,SAAS,EAClE,SAAU,IAAID,GAAmBC,GAAgB,SAAU,UAAU,EACrE,kBAAmB,IAAID,GACrBC,GAAgB,kBAChB,mBACF,EACA,YAAa,IAAID,GACfC,GAAgB,YAChB,aACF,EACA,iBAAkB,IAAID,GACpBC,GAAgB,iBAChB,kBACF,EACA,kBAAmB,IAAID,GACrBC,GAAgB,kBAChB,mBACF,EACA,kBAAmB,IAAID,GACrBC,GAAgB,kBAChB,mBACF,EACA,kBAAmB,IAAID,GACrBC,GAAgB,kBAChB,mBACF,EACA,uBAAwB,IAAID,GAC1BC,GAAgB,uBAChB,wBACF,EACA,wBAAyB,IAAID,GAC3BC,GAAgB,wBAChB,yBACF,EACA,wBAAyB,IAAID,GAC3BC,GAAgB,wBAChB,yBACF,EACA,wBAAyB,IAAID,GAC3BC,GAAgB,wBAChB,yBACF,CACF,EAEA,iBAAkB,CAChB,gBAAiB,IAAIC,GACnBC,GAAa,gBACb,iBACF,EACA,aAAc,IAAID,GAChBC,GAAa,aACb,cACF,EACA,cAAe,IAAID,GACjBC,GAAa,cACb,eACF,EACA,kBAAmB,IAAID,GACrBC,GAAa,kBACb,mBACF,EACA,mBAAoB,IAAID,GACtBC,GAAa,mBACb,oBACF,EACA,mBAAoB,IAAID,GACtBC,GAAa,mBACb,oBACF,EACA,qBAAsB,IAAID,GACxBC,GAAa,qBACb,sBACF,EACA,qBAAsB,IAAID,GACxBC,GAAa,qBACb,sBACF,EACA,sBAAuB,IAAID,GACzBC,GAAa,sBACb,uBACF,EACA,uBAAwB,IAAID,GAC1BC,GAAa,uBACb,wBACF,EACA,uBAAwB,IAAID,GAC1BC,GAAa,uBACb,wBACF,EACA,0BAA2B,IAAID,GAC7BC,GAAa,0BACb,2BACF,EACA,4BAA6B,IAAID,GAC/BC,GAAa,4BACb,6BACF,EACA,+BAAgC,IAAID,GAClCC,GAAa,+BACb,gCACF,EACA,gCAAiC,IAAID,GACnCC,GAAa,gCACb,iCACF,EACA,qBAAsB,IAAID,GACxBC,GAAa,qBACb,sBACF,EACA,sBAAuB,IAAID,GACzBC,GAAa,sBACb,uBACF,EACA,sBAAuB,IAAID,GACzBC,GAAa,sBACb,uBACF,EACA,sBAAuB,IAAID,GACzBC,GAAa,sBACb,uBACF,EACA,uBAAwB,IAAID,GAC1BC,GAAa,uBACb,wBACF,EACA,mBAAoB,IAAID,GACtBC,GAAa,mBACb,oBACF,EACA,mBAAoB,IAAID,GACtBC,GAAa,mBACb,oBACF,EACA,mBAAoB,IAAID,GACtBC,GAAa,mBACb,oBACF,EACA,oBAAqB,IAAID,GACvBC,GAAa,oBACb,qBACF,EACA,+BAAgC,IAAID,GAClCC,GAAa,+BACb,gCACF,EACA,oBAAqB,IAAID,GACvBC,GAAa,oBACb,qBACF,EACA,wBAAyB,IAAID,GAC3BC,GAAa,wBACb,yBACF,EACA,6BAA8B,IAAID,GAChCC,GAAa,6BACb,8BACF,EACA,wBAAyB,IAAID,GAC3BC,GAAa,wBACb,yBACF,EACA,qBAAsB,IAAID,GACxBC,GAAa,qBACb,sBACF,EACA,sBAAuB,IAAID,GACzBC,GAAa,sBACb,uBACF,EACA,sBAAuB,IAAID,GACzBC,GAAa,sBACb,uBACF,EACA,sBAAuB,IAAID,GACzBC,GAAa,sBACb,uBACF,EACA,2BAA4B,IAAID,GAC9BC,GAAa,2BACb,4BACF,EACA,4BAA6B,IAAID,GAC/BC,GAAa,4BACb,6BACF,EACA,4BAA6B,IAAID,GAC/BC,GAAa,4BACb,6BACF,EACA,4BAA6B,IAAID,GAC/BC,GAAa,4BACb,6BACF,CACF,EAEA,cAAe,GACf,6BAA8B,GAC9B,cAAe,EACf,2BAA4B,GAE5B,sBAAuB,CACrB,sBAAuB,IAAIC,GACzBC,GAAyB,sBACzB,uBACF,EACA,gBAAiB,IAAID,GACnBC,GAAyB,gBACzB,iBACF,EACA,YAAa,IAAID,GACfC,GAAyB,YACzB,aACF,EACA,kBAAmB,IAAID,GACrBC,GAAyB,kBACzB,mBACF,EACA,mBAAoB,IAAID,GACtBC,GAAyB,mBACzB,oBACF,EACA,YAAa,IAAID,GACfC,GAAyB,YACzB,aACF,EACA,gBAAiB,IAAID,GACnBC,GAAyB,gBACzB,iBACF,CACF,EAEA,SAAU,EACV,iBAAkB,EAClB,YAAa,EACb,cAAe,EACf,sBAAuB,GACvB,iBAAkB,EAClB,kBAAmB,CACjB,iBAAkB,IAAIC,GACpBC,GAAqB,iBACrB,kBACF,EACA,gBAAiB,IAAID,GACnBC,GAAqB,gBACrB,iBACF,EACA,eAAgB,IAAID,GAClBC,GAAqB,eACrB,iBACF,EACA,cAAe,IAAID,GACjBC,GAAqB,cACrB,eACF,EACA,mBAAoB,IAAID,GACtBC,GAAqB,mBACrB,oBACF,EACA,mBAAoB,IAAID,GACtBC,GAAqB,mBACrB,oBACF,EACA,kBAAmB,IAAID,GACrBC,GAAqB,kBACrB,mBACF,EACA,mBAAoB,IAAID,GACtBC,GAAqB,mBACrB,oBACF,EACA,kBAAmB,IAAID,GACrBC,GAAqB,kBACrB,mBACF,EACA,mBAAoB,IAAID,GACtBC,GAAqB,mBACrB,oBACF,EACA,gBAAiB,IAAID,GACnBC,GAAqB,gBACrB,iBACF,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",
  "names": ["require_pad_end", "__commonJSMin", "exports", "module", "string", "maxLength", "fillString", "result", "targetLen", "length", "filled", "fillLen", "truncated", "require_lz_string", "__commonJSMin", "exports", "module", "LZString", "f", "keyStrBase64", "keyStrUriSafe", "baseReverseDic", "getBaseValue", "alphabet", "character", "i", "input", "res", "a", "index", "compressed", "uncompressed", "buf", "TotalLen", "current_value", "result", "c", "bitsPerChar", "getCharFromInt", "value", "context_dictionary", "context_dictionaryToCreate", "context_c", "context_wc", "context_w", "context_enlargeIn", "context_dictSize", "context_numBits", "context_data", "context_data_val", "context_data_position", "ii", "length", "resetValue", "getNextValue", "dictionary", "next", "enlargeIn", "dictSize", "numBits", "entry", "w", "bits", "resb", "maxpower", "power", "data", "require_eventemitter3", "__commonJSMin", "exports", "module", "has", "prefix", "Events", "EE", "fn", "context", "once", "addListener", "emitter", "event", "listener", "evt", "clearEvent", "EventEmitter", "names", "events", "name", "handlers", "i", "ee", "listeners", "a1", "a2", "a3", "a4", "a5", "len", "args", "length", "j", "require_lodash", "__commonJSMin", "exports", "module", "LARGE_ARRAY_SIZE", "HASH_UNDEFINED", "MAX_SAFE_INTEGER", "argsTag", "arrayTag", "boolTag", "dateTag", "errorTag", "funcTag", "genTag", "mapTag", "numberTag", "objectTag", "promiseTag", "regexpTag", "setTag", "stringTag", "symbolTag", "weakMapTag", "arrayBufferTag", "dataViewTag", "float32Tag", "float64Tag", "int8Tag", "int16Tag", "int32Tag", "uint8Tag", "uint8ClampedTag", "uint16Tag", "uint32Tag", "reRegExpChar", "reFlags", "reIsHostCtor", "reIsUint", "cloneableTags", "freeGlobal", "freeSelf", "root", "freeExports", "freeModule", "moduleExports", "addMapEntry", "map", "pair", "addSetEntry", "set", "value", "arrayEach", "array", "iteratee", "index", "length", "arrayPush", "values", "offset", "arrayReduce", "accumulator", "initAccum", "baseTimes", "n", "result", "getValue", "object", "key", "isHostObject", "e", "mapToArray", "overArg", "func", "transform", "arg", "setToArray", "arrayProto", "funcProto", "objectProto", "coreJsData", "maskSrcKey", "uid", "funcToString", "hasOwnProperty", "objectToString", "reIsNative", "Buffer", "Symbol", "Uint8Array", "getPrototype", "objectCreate", "propertyIsEnumerable", "splice", "nativeGetSymbols", "nativeIsBuffer", "nativeKeys", "DataView", "getNative", "Map", "Promise", "Set", "WeakMap", "nativeCreate", "dataViewCtorString", "toSource", "mapCtorString", "promiseCtorString", "setCtorString", "weakMapCtorString", "symbolProto", "symbolValueOf", "Hash", "entries", "entry", "hashClear", "hashDelete", "hashGet", "data", "hashHas", "hashSet", "ListCache", "listCacheClear", "listCacheDelete", "assocIndexOf", "lastIndex", "listCacheGet", "listCacheHas", "listCacheSet", "MapCache", "mapCacheClear", "mapCacheDelete", "getMapData", "mapCacheGet", "mapCacheHas", "mapCacheSet", "Stack", "stackClear", "stackDelete", "stackGet", "stackHas", "stackSet", "cache", "pairs", "arrayLikeKeys", "inherited", "isArray", "isArguments", "skipIndexes", "isIndex", "assignValue", "objValue", "eq", "baseAssign", "source", "copyObject", "keys", "baseClone", "isDeep", "isFull", "customizer", "stack", "isObject", "isArr", "initCloneArray", "copyArray", "tag", "getTag", "isFunc", "isBuffer", "cloneBuffer", "initCloneObject", "copySymbols", "initCloneByTag", "stacked", "props", "getAllKeys", "subValue", "baseCreate", "proto", "baseGetAllKeys", "keysFunc", "symbolsFunc", "baseGetTag", "baseIsNative", "isMasked", "pattern", "isFunction", "baseKeys", "isPrototype", "buffer", "cloneArrayBuffer", "arrayBuffer", "cloneDataView", "dataView", "cloneMap", "cloneFunc", "cloneRegExp", "regexp", "cloneSet", "cloneSymbol", "symbol", "cloneTypedArray", "typedArray", "newValue", "getSymbols", "isKeyable", "stubArray", "Ctor", "ctorString", "type", "cloneDeepWith", "other", "isArrayLikeObject", "isArrayLike", "isLength", "isObjectLike", "stubFalse", "require_clipboard", "__commonJSMin", "exports", "module", "root", "factory", "__webpack_modules__", "__unused_webpack_module", "__webpack_exports__", "__webpack_require__", "clipboard", "tiny_emitter", "tiny_emitter_default", "listen", "listen_default", "src_select", "select_default", "command", "type", "err", "ClipboardActionCut", "target", "selectedText", "actions_cut", "createFakeElement", "value", "isRTL", "fakeElement", "yPosition", "fakeCopyAction", "options", "ClipboardActionCopy", "actions_copy", "_typeof", "obj", "ClipboardActionDefault", "_options$action", "action", "container", "text", "actions_default", "clipboard_typeof", "_classCallCheck", "instance", "Constructor", "_defineProperties", "props", "i", "descriptor", "_createClass", "protoProps", "staticProps", "_inherits", "subClass", "superClass", "_setPrototypeOf", "o", "p", "_createSuper", "Derived", "hasNativeReflectConstruct", "_isNativeReflectConstruct", "Super", "_getPrototypeOf", "result", "NewTarget", "_possibleConstructorReturn", "self", "call", "_assertThisInitialized", "e", "getAttributeValue", "suffix", "element", "attribute", "Clipboard", "_Emitter", "_super", "trigger", "_this", "_this2", "selector", "actions", "support", "DOCUMENT_NODE_TYPE", "proto", "closest", "__unused_webpack_exports", "_delegate", "callback", "useCapture", "listenerFn", "listener", "delegate", "elements", "is", "listenNode", "listenNodeList", "listenSelector", "node", "nodeList", "select", "isReadOnly", "selection", "range", "E", "name", "ctx", "data", "evtArr", "len", "evts", "liveEvents", "__webpack_module_cache__", "moduleId", "getter", "definition", "key", "prop", "require_localforage", "__commonJSMin", "exports", "module", "f", "g", "define", "e", "t", "n", "r", "s", "o", "u", "a", "__require", "i", "l", "_dereq_", "global", "Mutation", "scheduleDrain", "called", "observer", "nextTick", "element", "channel", "scriptEl", "draining", "queue", "oldQueue", "len", "immediate", "task", "INTERNAL", "handlers", "REJECTED", "FULFILLED", "PENDING", "Promise", "resolver", "safelyResolveThenable", "onRejected", "onFulfilled", "promise", "unwrap", "QueueItem", "value", "func", "returnValue", "self", "result", "tryCatch", "getThen", "thenable", "error", "obj", "then", "onError", "onSuccess", "tryToUnwrap", "out", "resolve", "reject", "reason", "all", "iterable", "values", "resolved", "allResolver", "resolveFromAll", "outValue", "race", "response", "_typeof", "_classCallCheck", "instance", "Constructor", "getIDB", "idb", "isIndexedDBValid", "isSafari", "hasFetch", "createBlob", "parts", "properties", "Builder", "builder", "Promise$1", "executeCallback", "callback", "executeTwoCallbacks", "errorCallback", "normalizeKey", "key", "getCallback", "DETECT_BLOB_SUPPORT_STORE", "supportsBlobs", "dbContexts", "toString", "READ_ONLY", "READ_WRITE", "_binStringToArrayBuffer", "bin", "length", "buf", "arr", "_checkBlobSupportWithoutCaching", "txn", "blob", "matchedChrome", "matchedEdge", "_checkBlobSupport", "_deferReadiness", "dbInfo", "dbContext", "deferredOperation", "_advanceReadiness", "_rejectReadiness", "err", "_getConnection", "upgradeNeeded", "createDbContext", "dbArgs", "openreq", "db", "ex", "_getOriginalConnection", "_getUpgradedConnection", "_isUpgradeNeeded", "defaultVersion", "isNewStore", "isDowngrade", "isUpgrade", "incVersion", "_encodeBlob", "reader", "base64", "_decodeBlob", "encodedBlob", "arrayBuff", "_isEncodedBlob", "_fullyReady", "_tryReconnect", "forages", "forage", "createTransaction", "mode", "retries", "tx", "_initStorage", "options", "initPromises", "ignoreErrors", "j", "k", "getItem", "transaction", "store", "req", "iterate", "iterator", "iterationNumber", "cursor", "setItem", "blobSupport", "removeItem", "clear", "advanced", "keys", "dropInstance", "currentConfig", "isCurrentDb", "dbPromise", "newVersion", "dropObjectPromise", "_forage2", "dropDBPromise", "_forage", "asyncStorage", "isWebSQLValid", "BASE_CHARS", "BLOB_TYPE_PREFIX", "BLOB_TYPE_PREFIX_REGEX", "SERIALIZED_MARKER", "SERIALIZED_MARKER_LENGTH", "TYPE_ARRAYBUFFER", "TYPE_BLOB", "TYPE_INT8ARRAY", "TYPE_UINT8ARRAY", "TYPE_UINT8CLAMPEDARRAY", "TYPE_INT16ARRAY", "TYPE_INT32ARRAY", "TYPE_UINT16ARRAY", "TYPE_UINT32ARRAY", "TYPE_FLOAT32ARRAY", "TYPE_FLOAT64ARRAY", "TYPE_SERIALIZED_MARKER_LENGTH", "toString$1", "stringToBuffer", "serializedString", "bufferLength", "p", "encoded1", "encoded2", "encoded3", "encoded4", "buffer", "bytes", "bufferToString", "base64String", "serialize", "valueType", "marker", "fileReader", "str", "deserialize", "type", "blobType", "matcher", "localforageSerializer", "createDbTable", "_initStorage$1", "dbInfoPromise", "tryExecuteSql", "sqlStatement", "args", "results", "getItem$1", "iterate$1", "rows", "item", "_setItem", "retriesLeft", "originalValue", "sqlError", "setItem$1", "removeItem$1", "clear$1", "length$1", "key$1", "keys$1", "getAllStoreNames", "storeNames", "dropInstance$1", "operationInfo", "dropTable", "storeName", "operations", "webSQLStorage", "isLocalStorageValid", "_getKeyPrefix", "defaultConfig", "keyPrefix", "checkIfLocalStorageThrows", "localStorageTestKey", "_isLocalStorageUsable", "_initStorage$2", "clear$2", "getItem$2", "iterate$2", "keyPrefixLength", "key$2", "keys$2", "itemKey", "length$2", "removeItem$2", "setItem$2", "dropInstance$2", "localStorageWrapper", "sameValue", "x", "y", "includes", "array", "searchElement", "isArray", "arg", "DefinedDrivers", "DriverSupport", "DefaultDrivers", "DefaultDriverOrder", "OptionalDriverMethods", "LibraryMethods", "DefaultConfig", "callWhenReady", "localForageInstance", "libraryMethod", "_args", "extend", "_key", "LocalForage", "driverTypeKey", "driver", "driverName", "driverObject", "complianceError", "driverMethods", "driverMethodName", "isRequired", "configureMissingMethods", "methodNotImplementedFactory", "methodName", "_i", "_len", "optionalDriverMethod", "setDriverSupport", "support", "getDriverPromise", "serializerPromise", "drivers", "supportedDrivers", "setDriverToConfig", "extendSelfWithDriver", "initDriver", "currentDriverIndex", "driverPromiseLoop", "oldDriverSetDone", "libraryMethodsAndProperties", "localforage_js", "require_bundle", "__commonJSMin", "exports", "module", "global", "factory", "createAddUniqueNumber", "generateUniqueNumber", "set", "number", "createCache", "lastNumberWeakMap", "collection", "nextNumber", "MAX_SAFE_INTEGER", "TWO_TO_THE_POWER_OF_TWENTY_NINE", "TWO_TO_THE_POWER_OF_THIRTY", "createGenerateUniqueNumber", "cache", "lastNumber", "LAST_NUMBER_WEAK_MAP", "addUniqueNumber", "attributesObserver", "whenDefined", "MutationObserver", "attributeChanged", "records", "i", "length", "dispatch", "_ref", "target", "attributeName", "oldValue", "is", "attributeFilter", "_unsupportedIterableToArray", "o", "minLen", "_arrayLikeToArray", "n", "arr", "len", "arr2", "_createForOfIteratorHelper", "allowArrayLike", "it", "F", "e", "normalCompletion", "didErr", "err", "step", "TRUE", "FALSE", "QSA$1", "notify", "callback", "root", "MO", "query", "loop", "nodes", "selectors", "added", "removed", "connected", "pass", "_iterator", "_step", "node", "mo", "_iterator2", "_step2", "_step2$value", "addedNodes", "removedNodes", "observe", "QSA", "_self$1", "document$2", "Element$1", "MutationObserver$2", "Set$2", "WeakMap$1", "elements", "element", "filter", "qsaObserver", "options", "live", "drop", "flush", "observer", "parse", "matches", "notifier", "q", "m", "attachShadow", "init", "shadowRoot", "_self", "document$1", "Map", "MutationObserver$1", "Object$1", "Set$1", "WeakMap", "Element", "HTMLElement", "Node", "Error", "TypeError$1", "Reflect", "defineProperty", "keys", "getOwnPropertyNames", "setPrototypeOf", "legacy", "expando", "key", "value", "ignore", "SafariTP", "_i", "HTMLBuiltIn", "constructor", "classes", "override", "augment", "createElement", "defined", "prototypes", "registry", "handle", "selector", "proto", "redefine", "method", "_qsaObserver", "name", "_", "$", "Class", "BR", "_self$customElements", "get", "_whenDefined", "_this", "o_O", "_parseShadow", "shadowRoots", "_parse", "customElements", "_createElement", "define", "_get", "upgrade", "construct", "shadows", "_classes", "_defined", "_prototypes", "_registry", "shadowed", "_query", "getCE", "_handle", "_override", "_qsaObserver2", "_qsaObserver3", "parseShadowed", "_whenDefined2", "_augment", "k", "_classes$get", "tag", "_constructor", "import_pad_end", "n", "e", "r", "a", "i", "o", "u", "s", "t", "h", "c", "p", "f", "break_infinity_esm_default", "import_lz_string", "_typeof", "o", "_classCallCheck", "a", "n", "toPrimitive", "_typeof", "e", "i", "toPropertyKey", "i", "toPrimitive", "_typeof", "_defineProperties", "e", "t", "o", "toPropertyKey", "_createClass", "_assertThisInitialized", "e", "_setPrototypeOf", "e", "t", "_inherits", "e", "_setPrototypeOf", "_possibleConstructorReturn", "e", "_typeof", "_assertThisInitialized", "_getPrototypeOf", "t", "_defineProperty", "e", "t", "toPropertyKey", "_arrayWithHoles", "r", "_iterableToArray", "r", "_arrayLikeToArray", "r", "a", "e", "n", "_unsupportedIterableToArray", "r", "a", "_arrayLikeToArray", "t", "_nonIterableRest", "_toArray", "r", "_arrayWithHoles", "_iterableToArray", "_unsupportedIterableToArray", "_nonIterableRest", "ownKeys$6", "object", "enumerableOnly", "keys", "symbols", "sym", "_objectSpread$6", "target", "i", "source", "key", "_defineProperty", "consoleLogger", "args", "type", "Logger", "concreteLogger", "options", "_classCallCheck", "_createClass", "bool", "_len", "_key", "_len2", "_key2", "_len3", "_key3", "_len4", "_key4", "lvl", "prefix", "debugOnly", "moduleName", "baseLogger", "EventEmitter", "events", "listener", "_this", "event", "l", "cloned", "observer", "_cloned", "defer", "res", "rej", "promise", "resolve", "reject", "makeString", "copy", "a", "s", "t", "m", "getLastOfPath", "path", "Empty", "cleanKey", "canNotTraverseDeeper", "stack", "setPath", "newValue", "_getLastOfPath", "obj", "k", "pushPath", "concat", "_getLastOfPath2", "getPath", "_getLastOfPath3", "getPathWithDefaults", "data", "defaultData", "value", "deepExtend", "overwrite", "prop", "regexEscape", "str", "_entityMap", "escape", "isIE10", "chars", "looksLikeObjectPath", "nsSeparator", "keySeparator", "possibleChars", "c", "r", "matched", "ki", "deepFind", "paths", "current", "j", "mix", "joinedPath", "ownKeys$5", "_objectSpread$5", "_createSuper$3", "Derived", "hasNativeReflectConstruct", "_isNativeReflectConstruct$3", "Super", "_getPrototypeOf", "result", "NewTarget", "_possibleConstructorReturn", "e", "ResourceStore", "_EventEmitter", "_inherits", "_super", "_assertThisInitialized", "ns", "index", "lng", "ignoreJSONStructure", "resources", "deep", "pack", "n", "v", "postProcessor", "module", "processors", "translator", "processor", "ownKeys$4", "_objectSpread$4", "_createSuper$2", "_isNativeReflectConstruct$2", "checkedLoadedFor", "Translator", "services", "resolved", "namespaces", "wouldCheckForNsInKey", "seemsNaturalLanguage", "parts", "lastKey", "_this2", "_typeof", "returnDetails", "_this$extractFromKey", "namespace", "appendNamespaceToCIMode", "resUsedKey", "resExactUsedKey", "resType", "noObject", "joinArrays", "handleAsObjectInI18nFormat", "handleAsObject", "resTypeIsArray", "newKeyToUse", "deepKey", "usedDefault", "usedKey", "needsPluralHandling", "hasDefaultValue", "defaultValueSuffix", "defaultValue", "missingKeyNoValueFallbackToKey", "resForMissing", "updateMissing", "fk", "lngs", "fallbackLngs", "send", "specificDefaultValue", "defaultForMissing", "language", "suffix", "_this3", "skipOnVariables", "nestBef", "nb", "na", "nestAft", "postProcess", "postProcessorNames", "_this4", "found", "exactUsedKey", "usedLng", "usedNS", "extracted", "needsZeroSuffixLookup", "needsContextHandling", "codes", "code", "finalKeys", "pluralSuffix", "zeroSuffix", "contextKey", "possibleKey", "option", "capitalize", "string", "LanguageUtil", "p", "specialCases", "part", "cleanedLng", "lngOnly", "supportedLng", "fallbacks", "fallbackCode", "fallbackCodes", "addCode", "fc", "sets", "_rulesPluralsTypes", "deprecatedJsonVersions", "suffixesOrder", "createRules", "rules", "set", "PluralResolver", "languageUtils", "_unused", "rule", "pluralCategory1", "pluralCategory2", "pluralCategory", "number", "count", "idx", "returnSuffix", "ownKeys$3", "_objectSpread$3", "deepFindWithDefaults", "Interpolator", "iOpts", "regexpStr", "regexpUnescapeStr", "nestingRegexpStr", "match", "replaces", "regexSafe", "val", "handleFormat", "f", "missingInterpolationHandler", "todos", "todo", "matchedVar", "temp", "safeValue", "clonedOptions", "handleHasOptions", "inheritedOptions", "sep", "optionsString", "matchedSingleQuotes", "matchedDoubleQuotes", "formatters", "doReduce", "elem", "ownKeys$2", "_objectSpread$2", "parseFormatStr", "formatStr", "formatName", "formatOptions", "optStr", "opts", "opt", "_opt$split", "_opt$split2", "_toArray", "rest", "createCachedFormatter", "fn", "cache", "formatter", "Formatter", "name", "_format", "formats", "mem", "_parseFormatStr", "formatted", "valOptions", "error", "ownKeys$1", "_objectSpread$1", "_createSuper$1", "_isNativeReflectConstruct$1", "removePending", "q", "Connector", "backend", "store", "languages", "callback", "toLoad", "pending", "toLoadLanguages", "toLoadNamespaces", "hasAllNamespaces", "err", "loaded", "loadedKeys", "fcName", "tried", "wait", "resolver", "next", "_this5", "fallbackValue", "isUpdate", "clb", "get", "ret", "transformOptions", "ownKeys", "_objectSpread", "_createSuper", "_isNativeReflectConstruct", "noop", "bindMemberFunctions", "inst", "mems", "I18n", "defOpts", "createClassOnDemand", "ClassOrObject", "lu", "storeApi", "_this2$store", "storeApiChained", "_this2$store2", "deferred", "load", "finish", "usedCallback", "append", "li", "lngInLngs", "setLngProps", "done", "setLng", "keyPrefix", "fixedT", "resultKey", "_this$translator", "_this$translator2", "_this6", "fallbackLng", "lastLng", "loadNotPending", "loadState", "preResult", "_this7", "preloaded", "newLngs", "rtlLngs", "_this8", "mergedOptions", "clone", "membersToCopy", "instance", "createInstance", "dir", "init", "loadResources", "reloadResources", "use", "changeLanguage", "getFixedT", "exists", "setDefaultNamespace", "hasLoadedNamespace", "loadNamespaces", "loadLanguages", "DOMCache", "DOMCacheGetOrSet", "id", "cachedEl", "el", "import_eventemitter3", "Synergism", "EventEmitter", "toggleTheme", "initial", "themeNumber", "change", "_a", "themeButton", "DOMCacheGetOrSet", "body", "toggleAnnotation", "setting", "notationButton", "DOMCacheGetOrSet", "current", "player", "newNotation", "instance", "settingAnnotation", "IconSets", "IconSetsRegex", "toggleIconSet", "changeTo", "img", "imgErrorHandler", "evt", "whichImg", "iconSetName", "fallbackSetNum", "fallbackSetName", "DynamicUpgrade", "data", "_a", "_b", "_c", "_d", "n", "newToggle", "Prompt", "instance", "newToggleAmount", "Alert", "format", "m", "effectiveLevel", "import_lodash", "isDecimal", "o", "break_infinity_esm_default", "smallestInc", "x", "sumContents", "array", "a", "b", "productContents", "sortWithIndices", "toSort", "getElementById", "id", "DOMCacheGetOrSet", "padArray", "a", "b", "length", "i", "updateClassList", "targetElement", "additions", "removals", "target", "DOMCacheGetOrSet", "addition", "removal", "btoa", "s", "err", "toOrdinal", "int", "suffix", "format", "formatMS", "ms", "f", "t", "formatS", "cleanString", "cleaned", "code", "assert", "condition", "limitRange", "number", "min", "max", "createDeferredPromise", "resolve", "reject", "promise", "res", "rej", "deepClone", "value", "cloneDeepWith", "isDecimal", "break_infinity_esm_default", "buyGenerator", "i", "state", "player", "q", "type", "cost", "break_infinity_esm_default", "Globals", "achievementCheck", "achievementaward", "upgradeupdate", "buyAutobuyers", "autoUpgrades", "j", "k", "l", "buyUpgrades", "clickUpgrades", "crystalupgdesc", "format", "player", "calculateCorruptionPoints", "Globals", "constantUpgDesc", "upgradetexts", "break_infinity_esm_default", "sumContents", "a", "b", "upgradeeffects", "i", "_a", "effect", "type", "element", "DOMCacheGetOrSet", "instance", "upgradedescriptions", "y", "z", "el", "clickUpgrades", "currency", "color", "auto", "buyUpgrades", "buyAutobuyers", "buyGenerator", "categoryUpgrades", "min", "max", "crystalupgeffect", "returnCrystalUpgDesc", "returnCrystalUpgEffect", "crystalupgradedescriptions", "p", "c", "q", "upgradeupdate", "num", "fast", "revealStuff", "ascendBuildingDR", "sum", "constUpgEffect", "returnConstUpgDesc", "returnConstUpgEffect", "getConstUpgradeMetadata", "toBuy", "cost", "constantUpgradeDescriptions", "level", "buyConstantUpgrades", "calculateAnts", "calculateRuneLevels", "getReductionValue", "reduction", "Globals", "player", "CalcECC", "getCostAccelerator", "buyingTo", "originalCost", "cost", "break_infinity_esm_default", "num", "factorialBit", "multBit", "sumNum", "sumBit", "buymax", "newCost", "newExtra", "buyAccelerator", "autobuyer", "buyStart", "log10Resource", "log10QuadrillionCost", "hi", "lo", "mid", "buyable", "thisCost", "buydefault", "smallestInc", "buyTo", "cashToBuy", "stepdown", "buyFrom", "updateAllTick", "achievementaward", "getCostMultiplier", "powBit", "buyMultiplier", "updateAllMultiplier", "mantissaFactorialPartExtra", "exponentFactorialPartExtra", "factorialByExponent", "fact", "fact100exponent", "precision16_loss_addition_of_ones", "known_log10s", "needed", "nums", "chalcompletions", "i", "obj", "need", "coinBuildingCosts", "diamondBuildingCosts", "mythosAndParticleBuildingCosts", "getCostInternal", "type", "r", "mlog10125", "fastFactMultBuyTo", "fr", "fastFactMultBuyTo100", "extra", "getOriginalCostAndNum", "index", "originalCostArray", "getCost", "buyMax", "zeroIndex", "pos", "coinmax", "tag", "buyProducerTypes", "posOwnedType", "buyInc", "buyProducer", "amounttype", "buythisamount", "posCostType", "buyUpgrades", "state", "currency", "upgradeupdate", "calculateCrystalBuy", "u", "exponent", "buyCrystalUpgrades", "auto", "c", "toBuy", "crystalupgradedescriptions", "boostAccelerator", "automated", "buyamount", "j", "reset", "getAcceleratorBoostCost", "level", "base", "eff", "linSum", "n", "sqrSum", "getParticleCost", "DR", "buyParticleBuilding", "key", "tesseractBuildingCosts", "buyTessBuildingsToCheapestPrice", "ownedBuildings", "cheapestPrice", "buyToBuildings", "currentlyOwned", "price", "calculateTessBuildingsInBudget", "budget", "minCurrentPrice", "owned", "buildings", "remainingBudget", "currentPrices", "iteration", "minimum", "getTesseractCost", "amount", "checkCanAfford", "intCost", "subCost", "actualBuy", "actualCost", "buyTesseractBuilding", "ascendBuildingIndex", "buyRuneBonusLevels", "baseCost", "baseLevels", "levelCap", "calculateSummationLinear", "updateRuneBlessing", "requirementArray", "calculateRuneBonuses", "blessingMultiplierArray", "t", "DOMCacheGetOrSet", "instance", "format", "spiritMultiplierArray", "calculateCorruptionPoints", "buyAllBlessings", "percentage", "runeshards", "calculateHypercubeBlessings", "keys", "player", "key", "obj", "idx", "power", "mult", "Globals", "calculatePlatonicBlessings", "platonicArray", "player", "DRThreshold", "i", "power", "mult", "effectiveAmount", "Globals", "quarkHandler", "maxTime", "player", "baseQuarkPerHour", "quarkResearches", "el", "quarkPerHour", "capacity", "quarkGain", "cubeMult", "calculateCubeQuarkMultiplier", "bonus", "setQuarkBonus", "newBonus", "getQuarkBonus", "_a", "QuarkHandler", "quarks", "t", "amount", "nonPatreon", "calculateQuarkMultiplier", "useBonus", "val", "format", "calculateTesseractBlessings", "tesseractArray", "player", "i", "power", "mult", "Globals", "blessings", "x", "platonicBlessings", "Cube", "type", "v", "thisInPlayer", "player", "amount", "Prompt", "instance", "format", "Alert", "isPercentage", "cubesToOpen", "base", "mult", "cubes", "multiplier", "quarkHandler", "quarks", "h", "WowCubes", "value", "max", "free", "toSpend", "achievementaward", "quarkMult", "gainQuarks", "actualQuarksGain", "toSpendModulo", "toSpendDiv20", "keys", "key", "CalcECC", "i", "num", "calculateCubeBlessings", "WowTesseracts", "calculateTesseractBlessings", "extraCubeBlessings", "WowHypercubes", "calculateHypercubeBlessings", "extraTesseractBlessings", "WowPlatonicCubes", "toSpendDiv40000", "RNGesus", "gainValues", "commonDrops", "calculatePlatonicBlessings", "extraHypercubes", "break_infinity_esm_default", "cubeAutomationIndices", "researchAutomationIndices", "cubeBaseCost", "cubeMaxLevel", "getCubeCost", "i", "buyMax", "linGrowth", "cubic", "maxLevel", "getCubeMax", "amountToBuy", "cubeUpgrade", "player", "singularityMultiplier", "calculateSingularityDebuff", "metaData", "calculateCubicSumData", "calculateSummationNonLinear", "baseValue", "cubeUpgradeDesc", "DOMCacheGetOrSet", "b", "c", "d", "instance", "format", "updateCubeUpgradeBG", "a", "maxCubeLevel", "awardAutosCookieUpgrade", "calculateCubeBlessings", "Globals", "updateResearchBG", "buyCubeUpgrades", "auto", "j", "upgradeupdate", "revealStuff", "autoBuyCubeUpgrades", "cheapet", "update", "value", "hepteractTypeList", "HepteractCraft", "data", "hepteractName", "player", "Alert", "instance", "multiplier", "max", "_a", "craftAmount", "heptCap", "craftCostMulti", "calculateSingularityDebuff", "format", "hepteractLimit", "itemLimits", "item", "smallestItemLimit", "amountToCraft", "craftingPrompt", "Prompt", "Confirm", "Cube", "currentBalance", "currHeptCapNoMulti", "_b", "_c", "_d", "_e", "amount", "newValue", "HTML", "DOMCacheGetOrSet", "heptAmount", "hepteractLimitCraft", "amountCrafted", "craft", "hepteractEffectiveValues", "createHepteract", "hepteractEffective", "effectiveValue", "exponentBoost", "hepteractDescriptions", "type", "unlockedText", "effectText", "currentEffectText", "balanceText", "costText", "bonusCapacityText", "currentEffectRecord", "oneCost", "record", "__spreadValues", "hepteractToOverfluxOrbDescription", "calculateCubeQuarkMultiplier", "tradeHepteractToOverfluxOrb", "buyMax", "maxBuy", "toUse", "hepteractInput", "buyAmount", "beforeEffect", "afterEffect", "powderGain", "calculatePowderConversion", "powderText", "toggleAutoBuyOrbs", "firstLoad", "overfluxPowderDescription", "powderEffectText", "calculateCubeMultFromPowder", "calculateQuarkMultFromPowder", "break_infinity_esm_default", "overfluxPowderWarp", "auto", "forcedDailyReset", "getAutoHepteractCrafts", "autoHepteracts", "craftName", "craftKey", "ChronosHepteract", "HyperrealismHepteract", "QuarkHepteract", "ChallengeHepteract", "AbyssHepteract", "AcceleratorHepteract", "AcceleratorBoostHepteract", "MultiplierHepteract", "import_clipboard", "import_localforage", "import_lz_string", "version", "lastUpdated", "prod", "displayRuneInformation", "i", "updatelevelup", "m", "Globals", "SILevelMult", "player", "calculateCorruptionPoints", "amountPerOffering", "calculateRuneExpGiven", "options", "format", "break_infinity_esm_default", "calculateEffectiveIALevel", "DOMCacheGetOrSet", "instance", "arr", "calculateOfferingsToLevelXTimes", "offerings", "j", "s", "resetofferings", "input", "calculateOfferings", "unlockedRune", "runeIndexPlusOne", "checkMaxRunes", "runeIndex", "maxed", "calculateMaxRunes", "redeemShards", "auto", "cubeUpgraded", "levelsToAdd", "levelsAdded", "all", "maxLevel", "amountArr", "toSpendTotal", "x", "y", "fact", "a", "add", "mult", "exp", "calculateRuneExpToLevel", "expPerOff", "toSpend", "runeToUpdate", "calculateRuneLevels", "runeLevel", "levels", "sum", "off", "amount", "shopData", "getShopCosts", "input", "priceIncreaseMult", "player", "shopDescriptions", "rofl", "DOMCacheGetOrSet", "lol", "refundable", "instance", "format", "calculateTimeAcceleration", "calculatePowderConversion", "calculateCashGrabBlueberryBonus", "calculateCashGrabCubeBonus", "calculateCashGrabQuarkBonus", "Globals", "capacity", "singularity", "obtained", "exaltCompletions", "sumOfExaltCompletions", "friendlyShopName", "buyShopUpgrades", "shopItem", "Alert", "isShopUpgradeUnlocked", "buyData", "maxBuyAmount", "buyAmount", "buyCost", "calculateSummationNonLinear", "singular", "merch", "noRefunds", "maxPots", "buyInput", "Prompt", "buyAny", "other", "toSpend", "otherPot", "anyData", "revealStuff", "calculateAmbrosiaLuck", "calculateAdditiveLuckMult", "calculateAmbrosiaGenerationSpeed", "p", "Confirm", "useConsumable", "input", "automatic", "used", "spend", "player", "Confirm", "multiplier", "calculateTimeAcceleration", "resetShopUpgrades", "ignoreBoolean", "p", "singularityQuarks", "refunds", "shopItem", "shopData", "key", "item", "doNotRefund", "Alert", "isShopUpgradeUnlocked", "upgrade", "player", "talismanResourceCosts", "num", "calculateMaxTalismanLevel", "i", "maxLevel", "player", "CalcECC", "getTalismanResourceInfo", "type", "percentage", "obtainiumCost", "offeringCost", "maxBuyObtainium", "maxBuyOffering", "amountToBuy", "updateTalismanCostDisplay", "el", "DOMCacheGetOrSet", "talismanCostInfo", "talismanShardName", "instance", "format", "toggleTalismanBuy", "x", "updateTalismanInventory", "buyAllTalismanResources", "talismanItemNames", "index", "buyTalismanResources", "talismanResourcesData", "achievementaward", "showTalismanEffect", "a", "b", "c", "d", "e", "f", "g", "h", "talismanKey", "effectValue", "runeEffectName", "Globals", "showTalismanPrices", "m", "showEnhanceTalismanPrices", "array", "costArray", "showRespecInformation", "runeName", "runeModifier", "k", "j", "changeTalismanModifier", "respecTalismanConfirm", "calculateRuneLevels", "respecTalismanCancel", "updateTalismanAppearance", "la", "rarity", "buyTalismanLevels", "auto", "max", "hasPurchased", "checkSum", "priceMult", "buyTalismanEnhance", "BuffType", "nowEvent", "getEvent", "eventCheck", "player", "response", "apiEvents", "now", "getTimePinnedToLoadDate", "happyHolidays", "DOMCacheGetOrSet", "eventBuffs", "updateIsEventCheck", "Globals", "buffs", "i", "eventBuffType", "eventBuff", "calculateEventSourceBuff", "format", "eventBuffName", "instance", "revealStuff", "calculateAdditiveLuckMult", "calculateAmbrosiaLuck", "calculateAmbrosiaGenerationSpeed", "buff", "_a", "_b", "_c", "_d", "_e", "_f", "_g", "_h", "_i", "_j", "_k", "_l", "_m", "event", "clickSmith", "Alert", "associated", "displayStats", "btn", "e", "statsEl", "DOMCacheGetOrSet", "loadStatisticsUpdate", "activeStats", "i", "loadStatisticsMiscellaneous", "loadStatisticsAccelerator", "loadStatisticsMultiplier", "loadStatisticsOfferingMultipliers", "loadObtainiumMultipliers", "loadQuarkMultiplier", "loadGlobalSpeedMultiplier", "loadPowderMultiplier", "loadStatisticsAscensionSpeedMultipliers", "loadStatisticsGoldenQuarkMultipliers", "loadAddCodeModifiersAndEffects", "loadStatisticsAmbrosiaLuck", "loadStatisticsAmbrosiaGeneration", "loadStatisticsCubeMultipliers", "format", "player", "Globals", "formatTimeShort", "synergismStage", "calculateSigmoidExponential", "calculateQuarkMultiplier", "calculateEventBuff", "calculateEffectiveIALevel", "hepteractEffective", "calculateQuarkMultFromPowder", "calculateSingularityQuarkMilestoneMultiplier", "calculateTotalOcteractQuarkBonus", "calculateAmbrosiaQuarkMult", "calculateCashGrabQuarkBonus", "globalSpeedStats", "calculateTimeAcceleration", "preDRlist", "drList", "postDRlist", "arr0", "calculateAllCubeMultiplier", "map0", "statGCMi", "arr", "calculateCubeMultiplier", "map", "statCMi", "arr2", "calculateTesseractMultiplier", "map2", "statTeMi", "arr3", "calculateHypercubeMultiplier", "map3", "statHyMi", "arr4", "calculatePlatonicMultiplier", "map4", "statPlMi", "arr5", "calculateHepteractMultiplier", "map5", "statHeMi", "octMults", "calculateOcteractMultiplier", "ascensionSpeedDesc", "map6", "statOcMi", "calculateOfferings", "statOffi", "break_infinity_esm_default", "calculateCorruptionPoints", "CalcECC", "calculateTotalOcteractObtainiumBonus", "calculateEXUltraObtainiumBonus", "calculateEXALTBonusMult", "calculateSingularityDebuff", "calculatePowderConversion", "calculateAscensionSpeedMultiplier", "map7", "statASMi", "calculateGoldenQuarkMultiplier", "statGQMi", "intervalStats", "addCodeInterval", "capacityStats", "addCodeMaxUses", "availableCount", "addCodeAvailableUses", "timeToNext", "addCodeTimeToNextUse", "intervalMap", "statAddIntervalI", "capacityMap", "prefix", "addEffectStats", "addCodeBonuses", "qbr", "stats", "calculateAmbrosiaLuck", "statALuckMi", "totalVal", "calculateAmbrosiaGenerationSpeed", "statAGenMi", "c15RewardUpdate", "exponentRequirements", "keys", "obj", "calculateSigmoid", "updateDisplayC15Rewards", "challenge15ScoreMultiplier", "isNum", "values", "keepExponent", "skip", "gameStages", "skipTier", "stages", "stage", "visualUpdateBuildings", "Globals", "upper", "names", "totalProductionDivisor", "break_infinity_esm_default", "i", "place", "ith", "DOMCacheGetOrSet", "instance", "format", "player", "percentage", "CalcECC", "warning", "perSecNames", "p", "ascendBuildingI", "visualUpdateUpgrades", "visualUpdateAchievements", "visualUpdateRunes", "talismans", "runeLevel", "maxLevel", "calculateMaxRunes", "calculateRuneExpToLevel", "displayRuneInformation", "calculateRecycle", "calculateRecycleMultiplier", "allRuneExpAdditiveMultiplier", "sumContents", "maxTalismanLevel", "calculateMaxTalismanLevel", "blessingMultiplierArray", "t", "levelsPurchasable", "calculateSummationLinear", "spiritMultiplierArray", "subtract", "calculateCorruptionPoints", "visualUpdateChallenges", "visualUpdateResearch", "calculateAutomaticObtainium", "calculateTimeAcceleration", "visualUpdateAnts", "calculateSigmoidExponential", "mode", "timer", "formatTimeShort", "showSacrifice", "visualUpdateCubes", "cubeMult", "tesseractMult", "hypercubeMult", "platonicMult", "toNextQuark", "name", "accuracy", "cubeArray", "augmentAccuracy", "aestheticMultiplier", "tesseractArray", "hypercubeArray", "platonicArray", "DRThreshold", "hepteractTypeList", "type", "UpdateHeptGridValues", "calculateCubeQuarkMultiplier", "text", "bar", "textEl", "barEl", "balance", "cap", "barWidth", "barColor", "visualUpdateCorruptions", "metaData", "CalcCorruptionStuff", "ascCount", "calcAscensionCount", "visualUpdateSettings", "version", "quarkData", "quarkHandler", "onExportQuarks", "maxExportQuarks", "goldenQuarkMultiplier", "getQuarkBonus", "loadStatisticsUpdate", "visualUpdateSingularity", "keys", "val", "key", "singItem", "el", "octItem", "shopMouseover", "value", "visualUpdateOcteracts", "perSecond", "octeractGainPerSecond", "cTOCB", "calculateTotalOcteractCubeBonus", "cTOQB", "calculateTotalOcteractQuarkBonus", "cTOOB", "calculateTotalOcteractOfferingBonus", "cTOOOB", "calculateTotalOcteractObtainiumBonus", "visualUpdateAmbrosia", "luck", "baseLuck", "luckBonusPercent", "guaranteed", "chance", "requiredTime", "calculateRequiredBlueberryTime", "cubePercent", "calculateAmbrosiaCubeMult", "quarkPercent", "calculateAmbrosiaQuarkMult", "availableBlueberries", "totalTimePerSecond", "progressTimePerSecond", "pixelBarWidth", "extraLuckHTML", "visualUpdateShop", "shopItem", "shopData", "maxBuyablePotions", "getShopCosts", "isShopUpgradeUnlocked", "buyMaxAmount", "buyData", "calculateSummationNonLinear", "getGoldenQuarkCost", "visualUpdateEvent", "addTimers", "input", "time", "timeMultiplier", "calculateTimeAcceleration", "player", "ascensionSpeedMulti", "calculateAscensionAcceleration", "maxQuarkTimer", "quarkHandler", "amountOfGiveaways", "perSecond", "octeractGainPerSecond", "levels", "frac", "actualLevel", "sing", "i", "quarkFraction", "calculateGoldenQuarkGain", "visualUpdateOcteracts", "toggleOfferingOn", "toggleObtainiumOn", "timerThreshold", "effectiveOfferingThreshold", "effectiveObtainiumThreshold", "amountOfPotions", "useConsumable", "Globals", "ambrosiaLuck", "baseBlueberryTime", "timeToAmbrosia", "calculateRequiredBlueberryTime", "maxAccelMultiplier", "RNG", "ambrosiaMult", "luckMult", "bonusAmbrosia", "ambrosiaToGain", "secondsToNextAmbrosia", "visualUpdateAmbrosia", "automaticTools", "calculateObtainium", "obtainiumGain", "calculateAutomaticObtainium", "visualUpdateResearch", "ratio", "buyAllBlessings", "buyAllTalismanResources", "maxi", "notMaxed", "checkMaxRunes", "baseAmount", "unlockedRune", "calculateMaxRunes", "redeemShards", "rune", "sacrificeAnts", "util", "val", "assertIs", "_arg", "assertNever", "_x", "items", "obj", "item", "validKeys", "k", "filtered", "e", "object", "keys", "key", "arr", "checker", "joinValues", "array", "separator", "_", "value", "objectUtil", "first", "second", "__spreadValues", "ZodParsedType", "getParsedType", "data", "ZodIssueCode", "quotelessJson", "ZodError", "issues", "sub", "subs", "actualProto", "_mapper", "mapper", "issue", "fieldErrors", "processError", "error", "curr", "i", "el", "formErrors", "errorMap", "_ctx", "message", "overrideErrorMap", "setErrorMap", "map", "getErrorMap", "makeIssue", "params", "path", "errorMaps", "issueData", "fullPath", "fullIssue", "__spreadProps", "errorMessage", "maps", "m", "EMPTY_PATH", "addIssueToContext", "ctx", "overrideMap", "x", "ParseStatus", "status", "results", "arrayValue", "INVALID", "pairs", "syncPairs", "pair", "finalObject", "DIRTY", "OK", "isAborted", "isDirty", "isValid", "isAsync", "__classPrivateFieldGet", "receiver", "state", "kind", "f", "__classPrivateFieldSet", "errorUtil", "message", "_ZodEnum_cache", "_ZodNativeEnum_cache", "ParseInputLazyPath", "parent", "value", "path", "key", "handleResult", "ctx", "result", "isValid", "error", "ZodError", "processCreateParams", "params", "errorMap", "invalid_type_error", "required_error", "description", "iss", "_a", "_b", "ZodType", "input", "getParsedType", "ParseStatus", "isAsync", "data", "err", "maybeAsyncResult", "check", "getIssueProperties", "val", "setError", "__spreadValues", "ZodIssueCode", "refinementData", "refinement", "ZodEffects", "ZodFirstPartyTypeKind", "def", "ZodOptional", "ZodNullable", "ZodArray", "ZodPromise", "option", "ZodUnion", "incoming", "ZodIntersection", "transform", "__spreadProps", "defaultValueFunc", "ZodDefault", "ZodBranded", "catchValueFunc", "ZodCatch", "This", "target", "ZodPipeline", "ZodReadonly", "cuidRegex", "cuid2Regex", "ulidRegex", "uuidRegex", "nanoidRegex", "jwtRegex", "durationRegex", "emailRegex", "_emojiRegex", "emojiRegex", "ipv4Regex", "ipv4CidrRegex", "ipv6Regex", "ipv6CidrRegex", "base64Regex", "base64urlRegex", "dateRegexSource", "dateRegex", "timeRegexSource", "args", "regex", "timeRegex", "datetimeRegex", "opts", "isValidIP", "ip", "version", "isValidJWT", "jwt", "alg", "header", "base64", "decoded", "isValidCidr", "ZodString", "ZodParsedType", "addIssueToContext", "INVALID", "status", "tooBig", "tooSmall", "util", "validation", "options", "minLength", "maxLength", "len", "ch", "min", "max", "floatSafeRemainder", "step", "valDecCount", "stepDecCount", "decCount", "valInt", "stepInt", "ZodNumber", "kind", "inclusive", "ZodBigInt", "ZodBoolean", "OK", "ZodDate", "minDate", "maxDate", "ZodSymbol", "ZodUndefined", "ZodNull", "ZodAny", "ZodUnknown", "ZodNever", "ZodVoid", "item", "i", "schema", "deepPartialify", "ZodObject", "newShape", "fieldSchema", "ZodTuple", "shape", "keys", "shapeKeys", "extraKeys", "pairs", "keyValidator", "unknownKeys", "catchall", "syncPairs", "pair", "issue", "_c", "_d", "defaultError", "augmentation", "merging", "index", "mask", "newField", "createZodEnum", "handleResults", "results", "unionErrors", "childCtx", "dirty", "issues", "types", "getDiscriminator", "type", "ZodLazy", "ZodLiteral", "ZodEnum", "ZodNativeEnum", "ZodDiscriminatedUnion", "discriminator", "discriminatorValue", "optionsMap", "discriminatorValues", "mergeValues", "a", "b", "aType", "bType", "bKeys", "sharedKeys", "newObj", "sharedValue", "newArray", "itemA", "itemB", "handleParsed", "parsedLeft", "parsedRight", "isAborted", "merged", "isDirty", "left", "right", "items", "itemIndex", "x", "rest", "schemas", "ZodRecord", "keyType", "valueType", "first", "second", "third", "ZodMap", "finalMap", "ZodSet", "finalizeSet", "elements", "parsedSet", "element", "minSize", "maxSize", "size", "ZodFunction", "makeArgsIssue", "makeIssue", "getErrorMap", "makeReturnsIssue", "returns", "fn", "me", "parsedArgs", "e", "parsedReturns", "returnType", "func", "getter", "values", "expectedValues", "__classPrivateFieldGet", "__classPrivateFieldSet", "enumValues", "newDef", "opt", "nativeEnumValues", "promisified", "effect", "checkCtx", "arg", "processed", "DIRTY", "executeRefinement", "acc", "inner", "base", "preprocess", "newCtx", "ZodNaN", "BRAND", "inResult", "freeze", "custom", "fatal", "_fatal", "p2", "late", "instanceOfType", "cls", "stringType", "numberType", "nanType", "bigIntType", "booleanType", "dateType", "symbolType", "undefinedType", "nullType", "anyType", "unknownType", "neverType", "voidType", "arrayType", "objectType", "strictObjectType", "unionType", "discriminatedUnionType", "intersectionType", "tupleType", "recordType", "mapType", "setType", "functionType", "lazyType", "literalType", "enumType", "nativeEnumType", "promiseType", "effectsType", "optionalType", "nullableType", "preprocessType", "pipelineType", "ostring", "onumber", "oboolean", "coerce", "NEVER", "z", "setErrorMap", "EMPTY_PATH", "objectUtil", "quotelessJson", "BlueberryUpgrade", "DynamicUpgrade", "data", "key", "_a", "_b", "_c", "_d", "name", "instance", "description", "__spreadProps", "__spreadValues", "event", "purchased", "maxPurchasable", "ambrosiaBudget", "player", "Alert", "buy", "Prompt", "format", "cost", "Globals", "costNextLevel", "maxLevel", "isMaxLevel", "color", "freeLevelInfo", "isAffordable", "affordableInfo", "preReqText", "prereq", "val", "k", "met", "DOMCacheGetOrSet", "visualUpdateAmbrosia", "cache", "effectiveLevel", "blueberryUpgradeData", "level", "baseCost", "n", "cubeAmount", "quarkAmount", "calculateAmbrosiaLuck", "baseVal", "effectiveLuck", "getQuarkBonus", "calculateAmbrosiaGenerationSpeed", "luck", "fourByFourBase", "resetBlueberryTree", "giveAlert", "upgrade", "validateBlueberryTree", "modules", "blueberryBudget", "spentAmbrosia", "spentBlueberries", "meetsPrerequisites", "meetsAmbrosia", "meetsBlueberries", "effectiveVal", "prereqs", "key2", "val2", "valFunc", "tempCost", "i", "getBlueberryTree", "value", "fixBlueberryLevel", "exportBlueberryTree", "save", "saveFilename", "exportData", "createBlueberryTree", "actualModules", "costFormula", "costPerLevel", "blueberryCost", "importBlueberryTree", "input", "createLoadoutDescription", "err", "loadoutHandler", "saveBlueberryTree", "updateLoadoutHoverClasses", "upgradeNames", "loadoutKey", "loadout", "upgradeHoverClass", "upgradeKey", "previous", "Confirm", "str", "loadoutTitle", "OcteractUpgrade", "DynamicUpgrade", "data", "key", "_a", "_b", "_c", "name", "instance", "description", "__spreadProps", "__spreadValues", "event", "purchased", "maxPurchasable", "OCTBudget", "player", "buy", "Prompt", "format", "Alert", "cost", "costNextLevel", "maxLevel", "isMaxLevel", "color", "freeLevelInfo", "isAffordable", "affordTime", "octPerSecond", "octeractGainPerSecond", "formatTimeShort", "affordableInfo", "DOMCacheGetOrSet", "actualFreeLevels", "cache", "octeractData", "level", "baseCost", "n", "fasterMult", "fasterMult2", "useLevel", "Globals", "calculateAmbrosiaLuck", "calculateAmbrosiaGenerationSpeed", "SingularityChallenge", "data", "key", "_a", "_b", "_c", "_d", "_e", "name", "instance", "description", "updateVal", "player", "Alert", "Confirm", "setSingularity", "holdSingTimer", "holdQuarkExport", "holdGoldenQuarkExport", "goldenQuarkGain", "calculateGoldenQuarkGain", "currentGQ", "Globals", "singularity", "success", "extra", "highestSingularityHold", "toOrdinal", "cache", "color", "enabled", "text", "i", "list", "DOMCacheGetOrSet", "singularityChallengeData", "baseReq", "completions", "n", "calculateAdditiveLuckMult", "calculateAmbrosiaLuck", "calculateBlueberryInventory", "calculateAmbrosiaGenerationSpeed", "decimalSchema", "z", "value", "break_infinity_esm_default", "e", "decimalSource", "arrayStartingWithNull", "s", "arrayExtend", "array", "k", "blankSave", "ascendBuildingSchema", "singularityUpgradeSchema", "keys", "__spreadValues", "accum", "toggleSchema", "record", "key", "_value", "decimalStringSchema", "integerStringSchema", "hepteractCraftSchema", "playerSchema", "quarks", "QuarkHandler", "deepClone", "challengeCompletions", "padArray", "highestChallengeCompletions", "val", "tuple", "object", "_a", "cubes", "WowCubes", "tesseract", "WowTesseracts", "WowHypercubes", "WowPlatonicCubes", "crafts", "createHepteract", "upgrades", "singularityData", "level", "goldenQuarksInvested", "toggleBuy", "freeLevels", "SingularityUpgrade", "octeractData", "octeractsInvested", "OcteractUpgrade", "completions", "highestSingularityCompleted", "enabled", "SingularityChallenge", "singularityChallengeData", "ambrosiaInvested", "blueberriesInvested", "BlueberryUpgrade", "blueberryUpgradeData", "cache", "playerJsonSchema", "playerSchema", "z", "codes", "worlds", "cubes", "tesseracts", "hypercubes", "upgrades", "key", "value", "challenges", "dayCheck", "_a", "format24", "format12", "hour", "getRealTime", "type", "use12", "datePartsArr", "x", "dateParts", "period", "weekday", "updateSaveString", "input", "value", "player", "blankSave", "cleanString", "DOMCacheGetOrSet", "getVer", "_a", "_b", "version", "saveFilename", "t", "_", "b", "format", "synergismStage", "exportData", "text", "fileName", "getElementById", "instance", "err", "textArea", "clipboard", "ClipboardJS", "cleanup", "Alert", "exportSynergism", "shouldSetLastSaveSoWeStopFuckingBotheringPeople", "quarkData", "quarkHandler", "bonusGQMultiplier", "getQuarkBonus", "saveSynergy", "save", "localforage", "saveString", "reloadDeleteGame", "resetGame", "force", "a", "result", "Prompt", "hold", "playerJsonSchema", "changeTab", "changeSubTab", "importSynergism", "btoa", "importData", "e", "importFunc", "element", "file", "reader", "res", "handleLastModified", "reset", "d", "LZString", "f", "saveCheck", "item", "reloadShit", "promocodesInfo", "textElement", "textMessage", "availableUses", "addCodeAvailableUses", "addCodeTimeToNextUse", "timeCodeAvailableUses", "timeCodeTimeToNextUse", "timeCodeRewardMultiplier", "promocodesPrompt", "promocodes", "amount", "el", "Globals", "addTimers", "achievementaward", "quarks", "craft", "rewardMessage", "rewards", "dailyCodeReward", "quarkMultiplier", "actualQuarkAward", "upgradeDistribution", "rolls", "keys", "key", "freeLevels", "i", "num", "freeLevelOct1", "freeLevelOct2", "dailyCodeFormatFreeLevelMessage", "maxUses", "addCodeMaxUses", "timeToNextUse", "timeInterval", "addCodeInterval", "attemptsUsed", "toUse", "addEffects", "addCodeBonuses", "realAttemptsUsed", "actualQuarks", "first", "second", "v", "remaining", "timeToNext", "ascensionTimer", "ascensionTimerText", "gqTimer", "gqTimerText", "octeractTime", "octeractTimeText", "blueberryTime", "blueberryTimeText", "freeLevelsText", "shopData", "options", "promptText", "addPrompt", "Confirm", "bet", "won", "rewardMult", "random", "start", "diff", "reward", "winText", "ambrosiaText", "perSecond", "octeractGainPerSecond", "Synergism", "addCodeSingularityPerkBonus", "levels", "count", "calc5uses", "arr", "sumContents", "productContents", "timeToFirst", "remainder", "perkRewardDivisor", "commonQuarkMult", "sampledMult", "minMult", "maxMult", "quarkBase", "ascMult", "upgradeKey", "freeLevelAmount", "upgradeNiceName", "singularityData", "goldenQuarks", "ascended", "singularity", "lastModified", "localStorageFirstPlayed", "lastModifiedDate", "platonicUpgradeDesc", "platUpgradeBaseCosts", "checkPlatonicUpgrade", "index", "auto", "checksum", "resources", "resourceNames", "checks", "priceMultiplier", "player", "calculateSingularityDebuff", "i", "createPlatonicDescription", "maxLevelAppend", "resourceCheck", "DOMCacheGetOrSet", "format", "updatePlatonicUpgradeBG", "a", "maxLevel", "buyPlatonicUpgrades", "Synergism", "Alert", "revealStuff", "autoBuyPlatonicUpgrades", "import_fast_unique_numbers", "isCallNotification", "message", "isClearResponse", "message", "load", "url", "scheduledIntervalFunctions", "scheduledTimeoutFunctions", "unrespondedRequests", "worker", "data", "isCallNotification", "timerId", "timerType", "idOrFunc", "timerIdAndTimerType", "isClearResponse", "id", "message", "func", "delay", "createLoadOrReturnBroker", "loadBroker", "worker", "broker", "blob", "url", "worker", "loadOrReturnBroker", "createLoadOrReturnBroker", "load", "worker", "clearInterval", "timerId", "clearTimeout", "setInterval", "args", "setTimeout", "activeTimers", "setInterval", "fn", "delay", "timer", "clearInterval", "timerId", "setTimeout", "clearTimeout", "clearTimers", "id", "type", "repeatreset", "resetrepeat", "input", "clearInterval", "setInterval", "resetdetails", "DOMCacheGetOrSet", "transcensionChallenge", "player", "reincarnationChallenge", "offering", "calculateOfferings", "offeringImage", "getElementById", "offeringText", "currencyImage1", "resetObtainiumImage", "resetObtainiumText", "resetInfo", "resetCurrencyGain", "format", "Globals", "IconSets", "instance", "challengeRequirement", "goal", "CalcCorruptionStuff", "calculateGoldenQuarkGain", "updateAutoReset", "i", "value", "updateTesseractAutoBuyAmount", "updateAutoCubesOpens", "resetAddHistoryEntry", "from", "offeringsGiven", "isChallenge", "historyEntry", "Synergism", "corruptionMetaData", "reset", "fast", "resetofferings", "resetUpgrades", "break_infinity_esm_default", "ascensionAchievementCheck", "opscheck", "calculateCubeBlessings", "linGrowth", "buyResearch", "calculateRuneLevels", "calculateAnts", "metaData", "toggleAutoChallengeModeText", "resetResearches", "resetAnts", "resetTalismans", "j", "calcAscensionCount", "k", "updateClassList", "calculateAntSacrificeELO", "calculateTalismanEffects", "calculateObtainium", "updateTalismanInventory", "updateTalismanAppearance", "calculateTesseractBlessings", "calculateHypercubeBlessings", "maxLevel", "maxCorruptionLevel", "curr", "index", "corrChallengeMinimum", "corruptionStatsUpdate", "updateSingularityMilestoneAwards", "autoHepteractCrafts", "getAutoHepteractCrafts", "numberOfAutoCraftsAndOrbs", "heptAutoSpend", "craft", "orbsAmount", "calculatePowderConversion", "ownedBuildings", "percentageToSpend", "budget", "buyToBuildings", "calculateTessBuildingsInBudget", "buyFrom", "buyTo", "buyTesseractBuilding", "autoBuyPlatonicUpgrades", "autoBuyCubeUpgrades", "WowCubes", "revealStuff", "updateChallengeDisplay", "updateAll", "updateSingularityAchievements", "achievementaward", "singularityReset", "calculateSingularityDebuff", "shopItemPerk_5", "key", "shopItemPerk_20", "shopData", "awardAutosCookieUpgrade", "updatePlatonicUpgradeBG", "challengeachievementcheck", "updateCubeUpgradeBG", "updateResearchBG", "updateSingularityGlobalPerks", "perk_5", "perk_20", "perk_51", "shopItemPerk_51", "singularity", "setSingNumber", "_a", "_b", "_c", "_d", "_e", "_f", "_g", "_h", "_i", "Alert", "cubeArray", "tesseractArray", "hypercubeArray", "platonicArray", "sumContents", "incrementSingCount", "getFastForwardTotalMultiplier", "resetShopUpgrades", "hold", "success", "playerJsonSchema", "blankSave", "assert", "changeTab", "changeSubTab", "craftName", "craftKey", "saveCode42", "saveCode43", "saveCode44", "saveCode45", "saveCode46", "saveCode47", "saveCode48", "importSynergism", "saveSynergy", "updateEffectiveLevelMult", "m", "x", "upgradeupdate", "ant12", "destroy", "item", "antspecies", "calculateCrumbToCoinExp", "player", "calculateSigmoidExponential", "Globals", "antUpgradeTexts", "format", "break_infinity_esm_default", "calculateSigmoid", "repeatAnt", "antRepeat", "i", "clearInterval", "setInterval", "updateAntDescription", "el", "DOMCacheGetOrSet", "la", "ti", "me", "priceType", "tier", "x", "instance", "getAntCost", "originalCost", "buyTo", "index", "getAntUpgradeCost", "buyAntProducers", "pos", "sacrificeMult", "antSacrificePointsToMultiplier", "tag", "key", "buydefault", "smallestInc", "cashToBuy", "stepdown", "buyFrom", "thisCost", "calculateAntSacrificeELO", "achRequirements", "j", "achievementaward", "buyAntUpgrade", "auto", "calculateAnts", "calculateRuneLevels", "antUpgradeDescription", "revealStuff", "al", "content1", "content2", "bonuslevel", "c11", "points", "multiplier", "showSacrifice", "sacRewards", "calculateAntSacrificeRewards", "sacrificeAnts", "p", "Confirm", "antSacrificePointsBefore", "historyEntry", "resetAnts", "updateTalismanInventory", "linGrowth", "buyResearch", "Synergism", "autoBuyAnts", "canAffordUpgrade", "m", "ach", "cost", "_ach", "_cost", "res", "defaultHotkeys", "buyAccelerator", "boostAccelerator", "toggleChallengeSweep", "player", "exitTranscendAndPrestigeChallenge", "buyMultiplier", "confirmReply", "resetCheck", "sacrificeAnts", "keyboardTabChange", "toggleCorruptionLevel", "promocodes", "useConsumable", "tabRow", "hotkeysEnabled", "hotkeys", "toggleAutoChallengeRun", "eventHotkeys", "event", "_a", "synergismHotkeys", "keyPrefix", "key", "DOMCacheGetOrSet", "hotkeyName", "Globals", "makeSlot", "descr", "div", "span", "e", "_b", "_c", "target", "oldKey", "name", "newKey", "Prompt", "toSet", "Alert", "old", "keys", "enableHotkeys", "p", "disableHotkeys", "changeHotkeys", "hotkey", "child", "resetHotkeys", "settext", "Confirm", "pressedKeys", "subtabInfo", "setActiveSettingScreen", "player", "toggleBuildingScreen", "toggleRuneScreen", "toggleChallengesScreen", "toggleCubeSubTab", "toggleCorruptionLoadoutsStats", "toggleSingularityScreen", "_list", "_currentTab", "_createDrag", "createDrag_fn", "TabRow", "__privateAdd", "__privateGet", "elements", "element", "__privateSet", "__privateMethod", "_a", "index", "tab", "item", "el", "dragSrcEl", "handleDragStart", "e", "assert", "handleDragEnter", "handleDragLeave", "handleDrop", "dragIndex", "targetIndex", "handleDragEnd", "_unlocked", "_type", "_removeable", "_hidden", "$Tab", "options", "pressedKeys", "Globals", "tabRow", "changeTab", "changeTabColor", "fn", "type", "keyboardTabChange", "step", "changeSubtab", "changeSubTab", "tabs", "revealStuff", "hideStuff", "subTabList", "i", "id", "button", "DOMCacheGetOrSet", "btns", "page", "subTabs", "limitRange", "calculateAmbrosiaGenerationSpeed", "subTabsInMainTab", "name", "Globals", "break_infinity_esm_default", "blankGlobals", "__spreadValues", "updateSingularityPenalties", "singularityCount", "player", "platonic", "instance", "format", "calculateSingularityDebuff", "hepteract", "str", "getSingularityOridnalText", "calculateNextSpike", "DOMCacheGetOrSet", "toOrdinal", "SingularityUpgrade", "DynamicUpgrade", "data", "key", "_a", "_b", "_c", "_d", "_e", "_f", "name", "description", "__spreadProps", "__spreadValues", "costNextLevel", "maxLevel", "color", "minReqColor", "minimumSingularity", "freeLevelInfo", "costMultiplier", "event", "purchased", "maxPurchasable", "GQBudget", "buy", "Prompt", "Alert", "cost", "updateSingularityPerks", "revealStuff", "baseRealFreeLevels", "cap", "overclockPerks", "perk", "actualFreeLevels", "linearLevels", "polynomialLevels", "exponent", "cache", "singularityData", "n", "Globals", "calculateBlueberryInventory", "calculateAmbrosiaGenerationSpeed", "calculateAmbrosiaLuck", "singularityPerks", "instance", "format", "player", "n", "levels", "overfluxBonus", "i", "amount", "counter", "singCount", "divisor", "amt", "updateSingularityPerks", "singularityCount", "DOMCacheGetOrSet", "toOrdinal", "handlePerks", "getLastUpgradeInfo", "perk", "availablePerks", "singularityCountForNextPerk", "singularityCountForNextPerkUpgrade", "upgradeInfo", "p1", "p2", "availablePerk", "singTolerance", "getFastForwardTotalMultiplier", "perkId", "nextUnlockedId", "countNext", "fastForward", "getGoldenQuarkCost", "costReduction", "perkDivisor", "buyGoldenQuarks", "goldenQuarkCost", "maxBuy", "buyAmount", "Alert", "buyPrompt", "Prompt", "cost", "calculateEffectiveSingularities", "effectiveSingularities", "calculateNextSpike", "singularityPenaltyThreshold", "penaltyDebuff", "sing", "calculateSingularityDebuff", "debuff", "constitutiveSingularityCount", "extraMult", "getResearchCost", "index", "buyAmount", "linGrowth", "Globals", "player", "calculateSummationNonLinear", "calculateSingularityDebuff", "updateAutoResearch", "auto", "autoResearchEnabled", "isResearchMaxed", "DOMCacheGetOrSet", "isResearchUnlocked", "idx", "doc", "updateClassList", "buyResearch", "hover", "_a", "_b", "_c", "_d", "metaData", "canBuy", "researchDescriptions", "revealStuff", "updateChallengeDisplay", "calculateRuneLevels", "calculateAnts", "maxRoombaResearchIndex", "p", "base", "c11", "c12", "c13", "c14", "cumuSum", "sum", "value", "indices", "chievos", "i", "y", "instance", "z", "format", "updateResearchBG", "j", "k", "toggleSettings", "toggle", "_a", "toggleId", "player", "format", "text", "instance", "finishedString", "toggleChallenges", "i", "auto", "reset", "resetrepeat", "resetCheck", "updateChallengeDisplay", "getChallengeConditions", "toggleAutoChallengeRun", "achievementaward", "toggleBuyAmount", "quantity", "type", "a", "DOMCacheGetOrSet", "toggleShops", "keys", "key", "color", "toggleautoreset", "toggleautobuytesseract", "toggleauto", "toggles", "tesseractAutos", "j", "toggleResearchBuy", "toggleAutoResearch", "el", "autoResearchEnabled", "Globals", "toggleAutoResearchMode", "toggleAutoSacrifice", "index", "calculateRuneLevels", "toggleAutoBuyFragment", "toggleBuildingScreen", "input", "screen", "toggleRuneScreen", "indexStr", "screens", "b", "toggleChallengesScreen", "toggleautofortify", "toggleautoenhance", "toggleSaveOff", "et", "toggleSingularityScreen", "visualUpdateOcteracts", "visualUpdateAmbrosia", "setActiveSettingScreen", "subtab", "clickedButton", "subtabEl", "credits", "artists", "contributor", "div", "img", "e", "err", "user", "p", "toggleShopConfirmation", "toggleBuyMaxShop", "event", "toggleHideShop", "toggleAntMaxBuy", "toggleAntAutoSacrifice", "mode", "toggleMaxBuyCube", "autoCubeUpgradesToggle", "autoPlatonicUpgradesToggle", "toggleCubeSubTab", "numSubTabs", "subTabsInMainTab", "cubeTab", "visualUpdateCubes", "updateAutoChallenge", "t", "u", "v", "toggleAutoChallengesIgnore", "toggleAutoChallengeModeText", "toggleAutoAscend", "toggleautoopensCubes", "oc", "oci", "updateRuneBlessingBuyAmount", "toggleAutoTesseracts", "toggleCorruptionLevel", "value", "current", "maxCorruption", "maxCorruptionLevel", "corruptionDisplay", "corruptionLoadoutTableUpdate", "toggleCorruptionLoadoutsStats", "statsStr", "stats", "showCorruptionStatsLoadouts", "toggleAscStatPerSecond", "id", "toggleHepteractAutoPercentage", "amount", "Prompt", "Alert", "isPercentage", "rawPercentage", "toggleBlueberryLoadoutmode", "confirmReply", "confirm", "maxCorruptionLevel", "max", "player", "corruptionDisplay", "index", "DOMCacheGetOrSet", "Globals", "currentExponent", "protoExponent", "bonusLevel", "bonusText", "corruptEffectValues", "iconExtensions", "text", "instance", "IconSets", "format", "corruptionStatsUpdate", "i", "a", "b", "corruptionButtonsAdd", "rows", "row", "p", "span", "btn", "toggleCorruptionLevel", "corruptionLoadoutTableCreate", "table", "getElementById", "j", "cell", "corruptionLoadoutGetExport", "importCorruptionsPrompt", "corruptionLoadoutSaveLoad", "corruptionLoadoutTableUpdate", "updateRow", "save", "loadout", "applyCorruptions", "corruptions", "newCorruptions", "corr", "value", "input", "Prompt", "Alert", "corruptionLoadoutGetNewName", "regex", "renamePrompt", "updateCorruptionLoadoutNames", "cells", "str", "e", "corruptionCleanseConfirm", "corrupt", "revealCorruptions", "c11Unlocks", "c12Unlocks", "c13Unlocks", "c14Unlocks", "corrChallengeMinimum", "revealStuff", "example", "i", "player", "example2", "example3", "example4", "example5", "example6", "example7", "example8", "example9", "example10", "example11", "example12", "example13", "example14", "example15", "example16", "example17", "example18", "example19", "example20", "example21", "example22", "example23", "example24", "example25", "example26", "example27", "example28", "example29", "example30", "example31", "ex", "example32", "singularityHTMLs", "HTML", "count", "eventHTMLs", "Globals", "visualUpdateShop", "hepts", "DOMCacheGetOrSet", "cookies1", "cookies2", "cookies3", "cookies4", "goldenQuarks3", "z", "autoResearchEnabled", "octeractUnlocks", "item", "singChallengeUnlocks", "automationUnlocks", "key", "el", "revealCorruptions", "hideStuff", "tab", "instance", "format", "totalachievementpoints", "displayRuneInformation", "updateSingularityPenalties", "updateSingularityPerks", "visualTab", "visualUpdateBuildings", "visualUpdateUpgrades", "visualUpdateAchievements", "visualUpdateRunes", "visualUpdateChallenges", "visualUpdateResearch", "visualUpdateSettings", "visualUpdateAnts", "visualUpdateCubes", "visualUpdateCorruptions", "visualUpdateSingularity", "visualUpdateEvent", "htmlInserts", "playerRequirements", "domRequirements", "text", "dom", "updateAscensionStats", "buttoncolorchange", "a", "b", "c", "d", "e", "f", "g", "h", "j", "k", "break_infinity_esm_default", "arr", "toggle", "mythos", "costParticles", "ascendBuilding", "costAnts", "updateChallengeDisplay", "updateChallengeLevel", "maxChallenges", "getMaxChallenges", "updateAchievementBG", "fixDisplay1", "fixDisplay2", "achievementaward", "showCorruptionStatsLoadouts", "cubes", "tess", "hyper", "platonic", "hepteract", "CalcCorruptionStuff", "addedAsterisk", "fillers", "formatTimeShort", "calculateTimeAcceleration", "calculateAscensionAcceleration", "tabColors", "changeTabColor", "_a", "color", "Confirm", "conf", "confWrap", "popup", "overlay", "ok", "cancel", "createDeferredPromise", "listener", "target", "targetEl", "kbListener", "Alert", "alertWrap", "p", "Prompt", "defaultValue", "closeNotification", "closedNotification", "Notification", "time", "notification", "textNode", "x", "closed", "close", "achievementpointvalues", "totalachievementpoints", "a", "b", "areward", "i", "corr", "CalcCorruptionStuff", "extra", "format", "player", "break_infinity_esm_default", "calculateTimeAcceleration", "obj", "map", "instance", "achievementAlerts", "num", "Alert", "resetachievementcheck", "achievementaward", "Globals", "challengeCompletionsBar", "challengeCompletionsNotAuto", "challengeachievementcheck", "auto", "generatorcheck", "sumContents", "bar", "ach", "o", "gte", "challengeArray", "j", "buildAchievementReq", "buildingAchievementCheck", "req", "idx", "ascensionAchievementCheck", "score", "ascendCountArray", "constantArray", "scoreArray", "getAchievementQuarks", "multiplier", "globalQuarkMultiplier", "actualMultiplier", "achievementdescriptions", "y", "z", "k", "DOMCacheGetOrSet", "description", "Notification", "revealStuff", "Synergism", "AdditionCache", "val", "oldVal", "newVal", "init", "arr", "MultiplicationCache", "productContents", "AmbrosiaLuckAdditiveMultCache", "key", "player", "calculateDilatedFiveLeafBonus", "Globals", "calculateEventBuff", "AmbrosiaLuckCache", "calculateSingularityAmbrosiaLuckMilestoneBonus", "calculateAmbrosiaLuckShopUpgrade", "calculateAmbrosiaLuckSingularityUpgrade", "calculateAmbrosiaLuckOcteractUpgrade", "AmbrosiaGenerationCache", "calculateAmbrosiaGenerationShopUpgrade", "calculateAmbrosiaGenerationSingularityUpgrade", "calculateAmbrosiaGenerationOcteractUpgrade", "calculateCashGrabBlueberryBonus", "BlueberryInventoryCache", "calculateSingularityMilestoneBlueberries", "cacheReinitialize", "calculateAdditiveLuckMult", "calculateAmbrosiaLuck", "calculateBlueberryInventory", "calculateAmbrosiaGenerationSpeed", "CASH_GRAB_ULTRA_QUARK", "CASH_GRAB_ULTRA_CUBE", "CASH_GRAB_ULTRA_BLUEBERRY", "EX_ULTRA_OFFERING", "EX_ULTRA_OBTAINIUM", "EX_ULTRA_CUBES", "calculateTotalCoinOwned", "Globals", "player", "calculateTotalAcceleratorBoost", "b", "CalcECC", "calculateSigmoidExponential", "hepteractEffective", "calculateAcceleratorMultiplier", "calculateRecycleMultiplier", "sumContents", "calculateRuneExpGiven", "runeIndex", "all", "runeLevel", "returnFactors", "recycleMultiplier", "allRuneExpAdditiveMultiplier", "allRuneExpMultiplier", "productContents", "droughtEffect", "runeExpMultiplier", "fact", "lookupTableGen", "lookupTableRuneExp", "calculateRuneExpToLevel", "_", "i", "multiplier", "calculateMaxRunes", "max", "increaseAll", "increaseMaxLevel", "calculateEffectiveIALevel", "calculateOfferings", "input", "calcMult", "statistic", "q", "a", "break_infinity_esm_default", "arr", "calculateEXALTBonusMult", "calculateEXUltraOfferingBonus", "calculateEventBuff", "calculateSingularityDebuff", "calculateTotalOcteractOfferingBonus", "comps", "time", "calculateExalt6Penalty", "persecond", "calculateObtainium", "calculateCorruptionPoints", "calculateTotalOcteractObtainiumBonus", "calculateEXUltraObtainiumBonus", "calculateAutomaticObtainium", "calculateTalismanEffects", "positiveBonus", "negativeBonus", "talismansEffects", "runesTalisman", "talismanEffect", "levels", "runeNumber", "calculateRuneLevels", "_a", "antUpgrade8", "calculateRuneBonuses", "calculateAnts", "bonusLevels", "c11", "c11bonus", "calculateAntSacrificeELO", "antUpgradeSum", "calculateAntSacrificeMultipliers", "calculateAntSacrificeRewards", "maxCap", "rewardsMult", "timeWarp", "Prompt", "instance", "timeUse", "Alert", "DOMCacheGetOrSet", "calculateOffline", "forceTime", "disableHotkeys", "maximumTimer", "updatedTime", "timeAdd", "timeTick", "resourceTicks", "format", "toggleTalismanBuy", "updateTalismanInventory", "offlineDialog", "calculateTimeAcceleration", "obtainiumGain", "resetAdd", "timerAdd", "quarkHandler", "cacheReinitialize", "addTimers", "runOffline", "setInterval", "resourceGain", "automaticTools", "updateAll", "clearInterval", "ascCount", "reset", "saveSynergy", "el", "exitOffline", "enableHotkeys", "calculateSigmoid", "constant", "factor", "divisor", "coefficient", "calculateCubeBlessings", "cubeArray", "powerBonus", "power", "mult", "calculateTotalOcteractCubeBonus", "bonus", "calculateTotalOcteractQuarkBonus", "calculateAllCubeMultiplier", "exaltPenalty", "calculateCubeMultFromPowder", "calculateAmbrosiaCubeMult", "calculateCashGrabCubeBonus", "calculateEXUltraCubeBonus", "extraMult", "calculateCubeMultiplier", "score", "calculateAscensionScore", "calculateTesseractMultiplier", "corrSum", "calculateHypercubeMultiplier", "calculatePlatonicMultiplier", "calculateHepteractMultiplier", "getOcteractValueMultipliers", "corruptionLevelSum", "getQuarkBonus", "derpsmithCornucopiaBonus", "octeractGainPerSecond", "currentScore", "baseMultiplier", "valueMultipliers", "ascensionSpeed", "calculateAscensionAcceleration", "oneMindModifier", "calculateOcteractMultiplier", "ascensionSpeedMulti", "preCorruptionArr", "corruptionArr", "corruptableTimeMult", "softcapRatio", "plat2x2Ratio", "postCorruptionArr", "timeMult", "achievementaward", "calculateLimitedAscensionsDebuff", "exponent", "calculateAscensionSpeedMultiplier", "calculateSingularityQuarkMilestoneMultiplier", "singThresholds", "sing", "calculateQuarkMultiplier", "calculateQuarkMultFromPowder", "calculateAmbrosiaQuarkMult", "calculateCashGrabQuarkBonus", "calculateGoldenQuarkMultiplier", "computeMultiplier", "base", "perkMultiplier", "getFastForwardTotalMultiplier", "calculateGoldenQuarkGain", "basePoints", "bonusLevel", "calculateSummationLinear", "baseLevel", "baseCost", "resourceAvailable", "differenceCap", "subtractCost", "buyToLevel", "realCost", "calculateSummationNonLinear", "diffPerLevel", "buyAmount", "c", "alreadySpent", "v", "totalCost", "calculateSummationCubic", "n", "solveQuadratic", "positive", "determinant", "numeratorPos", "numeratorNeg", "calculateCubicSumData", "initialLevel", "amountToSpend", "maxLevel", "totalToSpend", "determinantRoot", "solution", "levelToBuy", "computeAscensionScoreBonusMultiplier", "baseScore", "corruptionMultiplier", "effectiveScore", "challengeScoreArrays1", "challengeScoreArrays2", "challengeScoreArrays3", "challengeScoreArrays4", "bonusVal", "bonusMultiplier", "CalcCorruptionStuff", "cubeBank", "challengeModifier", "scores", "cubeGain", "bonusCubeExponent", "tesseractGain", "hypercubeGain", "platonicGain", "hepteractGain", "calcAscensionCount", "calculatePowderConversion", "calculateCubeQuarkMultiplier", "calculateSingularityAmbrosiaLuckMilestoneBonus", "singThresholds1", "singThresholds2", "calculateAmbrosiaGenerationShopUpgrade", "multipliers", "calculateAmbrosiaLuckShopUpgrade", "vals", "calculateAmbrosiaGenerationSingularityUpgrade", "calculateAmbrosiaLuckSingularityUpgrade", "calculateAmbrosiaGenerationOcteractUpgrade", "calculateAmbrosiaLuckOcteractUpgrade", "calculateRequiredBlueberryTime", "val", "baseVal", "timeThresholds", "threshold", "calculateSingularityMilestoneBlueberries", "effectiveAmbrosia", "calculateCashGrabBonus", "extra", "calculateCashGrabBlueberryBonus", "calculateEXUltraBonus", "displacedTime", "calculateDilatedFiveLeafBonus", "calculateAdditiveLuckMult", "calculateAmbrosiaLuck", "sumOfExaltCompletions", "multiplicativeLuck", "calculateBlueberryInventory", "calculateAmbrosiaGenerationSpeed", "dailyResetCheck", "now", "getTimePinnedToLoadDate", "day", "h", "m", "forcedDailyReset", "rewards", "buff", "calculateEventSourceBuff", "counter", "singCounts", "sumOfExaltCompletions", "sum", "challenge", "player", "getMaxChallenges", "i", "maxChallenge", "player", "challengeDisplay", "changefocus", "quarksMultiplier", "Globals", "DOMCacheGetOrSet", "maxChallenges", "instance", "format", "CalcECC", "descriptor", "a", "b", "c", "d", "e", "f", "g", "h", "j", "k", "l", "m", "n", "completions", "special", "goal", "challengeRequirement", "current1", "current2", "current3", "break_infinity_esm_default", "scoreArray1", "scoreArray2", "scoreArray3", "scoreArray4", "scoreDisplay", "el", "autoAscensionChallengeSweepUnlock", "ella", "getChallengeConditions", "calculateRuneLevels", "toggleRetryChallenges", "highestChallengeRewards", "chalNum", "highestValue", "multiplier", "autoResearchEnabled", "calculateChallengeRequirementMultiplier", "type", "requirementMultiplier", "effective", "challenge", "completion", "base", "c10Reduction", "runChallengeSweep", "dt", "action", "toggleAutoChallengeModeText", "challengeType", "nowChallenge", "nextChallenge", "getNextChallenge", "resetCheck", "toggleChallenges", "startChallenge", "maxSkip", "min", "max", "index", "challenge15ScoreMultiplier", "arr", "hepteractEffective", "productContents", "formatDecimalSource", "numOrStr", "format", "break_infinity_esm_default", "conditionalFormatPerSecond", "data", "player", "historyGains", "historyGainsOrder", "historyKinds", "resetHistoryTableMapping", "resetHistoryCorruptionImages", "resetHistoryCorruptionTitles", "extractStringExponent", "str", "m", "resetHistoryAdd", "category", "Globals", "resetHistoryPushNewRow", "Synergism", "row", "resetHistoryRenderRow", "tbody", "DOMCacheGetOrSet", "loadCorruptionsButtons", "btn", "e", "clickHandlerForLoadCorruptionsButton", "_category", "colsUsed", "rowContentHtml", "kindMeta", "localDate", "IconSets", "formatTimeShort", "gains", "dataIntersection", "listable", "_a", "gainInfo", "formatter", "extra", "oldMulti", "antSacrificePointsToMultiplier", "newMulti", "diff", "corruptions", "resetHistoryFormatCorruptions", "acc", "value", "resetHistoryRenderFullTable", "categoryToRender", "targetTable", "i", "applyCorruptions", "Notification", "instance", "resetHistoryRenderAllTables", "key", "resetHistoryTogglePerSecond", "button", "score", "loadout", "corrs", "corruptionIdx", "import_clipboard", "generateExportSummary", "titleText", "time", "ver", "version", "subCategoryDivisor", "firstPlayed", "player", "resources", "format", "cubeArray", "tesseractArray", "hypercubeArray", "platonicArray", "cubeSum", "sumContents", "tesseractSum", "hypercubeSum", "platonicSum", "octeract", "octeractGainPerSecond", "calculateTotalOcteractCubeBonus", "calculateTotalOcteractQuarkBonus", "singularity", "calculateGoldenQuarkGain", "formatS", "calculateEffectiveSingularities", "ascension", "calculateAscensionAcceleration", "getMaxChallenges", "reincarnation", "calculateTimeAcceleration", "transcension", "prestige", "instance", "totalachievementpoints", "calculateMaxRunes", "Globals", "shopUpgradeStats", "shopUpgrade", "totalShopUpgradeCount", "totalShopUpgradeUnlocked", "totalShopUpgradeMax", "totalQuarksSpent", "key", "shopUpg", "upgradeText", "shopData", "isShopUpgradeUnlocked", "friendlyShopName", "singularityUpgradeStats", "singUpgrade", "totalSingUpgradeCount", "totalSingInfiniteLevel", "totalSingUpgradeUnlocked", "totalSingUpgradeMax", "totalGoldenQuarksSpent", "singUpg", "unicodeSymbol", "octeractUpgradeStats", "octUpgrade", "totalOctUpgradeCount", "totalOctUpgradeMax", "totalOcteractsSpent", "octUpg", "returnString", "err", "textArea", "clipboard", "ClipboardJS", "cleanup", "Alert", "a", "saveFilename", "generateEventHandlers", "ordinals", "warp", "dayReset", "timeWarp", "forcedDailyReset", "consumables", "DOMCacheGetOrSet", "exitOffline", "toggleAscStatPerSecond", "resetrepeat", "resetButton", "player", "resetCheck", "boostAccelerator", "buildingTypes", "index", "changeSubTab", "buildingTypesAlternate", "buildingOrds", "buildingOrdsToNum", "index2", "toggleBuyAmount", "buyAccelerator", "buyMultiplier", "buildingTypesAlternate2", "buildingTypesAlternate3", "buyProducer", "crystalupgradedescriptions", "buyCrystalUpgrades", "buyParticleBuilding", "buyTesseractBuilding", "toggleAutoTesseracts", "constantUpgradeDescriptions", "buyConstantUpgrades", "b", "toggleSettings", "toggleautoreset", "updateAutoReset", "toggleautobuytesseract", "updateTesseractAutoBuyAmount", "updateAutoCubesOpens", "toggleautoopensCubes", "upgradedescriptions", "clickUpgrades", "categoryUpgrades", "toggleShops", "achievementpointvalues", "achievementdescriptions", "toggleAutoSacrifice", "displayRuneInformation", "redeemShards", "talismanBuyPercents", "talismanBuyPercentsOrd", "toggleTalismanBuy", "toggleAutoBuyFragment", "toggleautoenhance", "toggleautofortify", "talismanItemNames", "updateTalismanCostDisplay", "buyTalismanResources", "buyAllTalismanResources", "showTalismanEffect", "showTalismanPrices", "buyTalismanLevels", "showEnhanceTalismanPrices", "buyTalismanEnhance", "showRespecInformation", "respecTalismanConfirm", "Globals", "respecTalismanCancel", "changeTalismanModifier", "buyRuneBonusLevels", "updateRuneBlessingBuyAmount", "buyAllBlessings", "challengeDisplay", "toggleChallenges", "toggleRetryChallenges", "toggleAutoChallengesIgnore", "toggleAutoChallengeRun", "updateAutoChallenge", "buyResearch", "researchDescriptions", "toggleResearchBuy", "toggleAutoResearch", "toggleAutoResearchMode", "antProducerCostVals", "updateAntDescription", "antRepeat", "buyAntProducers", "antUpgradeCostVals", "antUpgradeDescription", "buyAntUpgrade", "sacrificeAnts", "toggleAntMaxBuy", "toggleAntAutoSacrifice", "cubeUpgradeDesc", "buyCubeUpgrades", "toggleMaxBuyCube", "autoCubeUpgradesToggle", "toggleSaveOff", "platonicUpgrades", "createPlatonicDescription", "buyPlatonicUpgrades", "autoPlatonicUpgradesToggle", "hepteractDescriptions", "hepteractToOverfluxOrbDescription", "tradeHepteractToOverfluxOrb", "toggleAutoBuyOrbs", "overfluxPowderDescription", "overfluxPowderWarp", "toggleHepteractAutoPercentage", "corruptionDisplay", "corruptionCleanseConfirm", "toggleCorruptionLevel", "toggleAutoAscend", "settingSubTabs", "subtab", "t", "s", "e", "displayStats", "generateExportSummary", "exportSynergism", "updateSaveString", "saveSynergy", "resetGame", "reloadDeleteGame", "promocodesPrompt", "promocodesInfo", "promocodes", "addCodeAvailableUses", "resetHistoryTogglePerSecond", "resetHotkeys", "toggleAnnotation", "toggleIconSet", "resetShopUpgrades", "toggleShopConfirmation", "event", "toggleBuyMaxShop", "toggleHideShop", "shopDescriptions", "buyShopUpgrades", "useConsumable", "shopKeys", "key", "shopData", "buyGoldenQuarks", "singularityUpgrades", "shopMouseover", "perkImage", "perksText", "perksDesc", "perk", "singularityPerks", "perkHTML", "IconSets", "perkInfo", "getLastUpgradeInfo", "levelInfo", "instance", "octeractUpgrades", "singularityChallenges", "blueberryUpgrades", "blueberryLoadouts", "loadoutContainer", "i", "shiftedKey", "el", "_a", "createLoadoutDescription", "loadoutHandler", "toggleBlueberryLoadoutmode", "exportBlueberryTree", "resetBlueberryTree", "importData", "importBlueberryTree", "clickSmith", "importSynergism", "toggleTheme", "element", "Confirm", "imgErrorHandler", "calculatetax", "exp", "compareB", "break_infinity_esm_default", "compareC", "Globals", "player", "c13effcompletions", "sumContents", "exponent", "CalcECC", "a2", "achievementaward", "import_localforage", "ColorText_default", "value", "supported", "languageCache", "init", "_a", "resources", "language", "file", "instance", "ColorText_default", "prod", "buildLanguageTab", "translateHTML", "buildLanguageButton", "langID", "name", "flag", "mainButton", "Confirm", "flagSpan", "nameSpan", "langSelector", "DOMCacheGetOrSet", "langButton", "i18n", "element", "key", "value", "import_localforage", "TRANSCENDED_BALLER", "REINCARNATED_BALLER", "ASCENDED_BALLER", "OMEGA_BALLER", "BOOSTER", "THANKSGIVING_2023", "THANKSGIVING_2024", "CONDUCTOR_2023", "CONDUCTOR_2024", "EIGHT_LEAF", "TEN_LEAF", "SMITH_INCARNATE", "SMITH_GOD", "GOLDEN_SMITH_GOD", "DIAMOND_SMITH_MESSIAH", "handleLogin", "_a", "_b", "_c", "_d", "_e", "_f", "_g", "_h", "_i", "_j", "subtabElement", "currentBonus", "DOMCacheGetOrSet", "logoutElement", "logout", "response", "globalBonus", "member", "personalBonus", "accountType", "setQuarkBonus", "player", "QuarkHandler", "user", "boosted", "hasTier1", "hasTier2", "hasTier3", "hasTier4", "checkMark", "n", "exMark", "format", "cloudSaveElement", "loadCloudSaveElement", "saveToCloud", "getCloudSave", "cloudSaveParent", "Alert", "instance", "save", "localforage", "b", "body", "importSynergism", "player", "QuarkHandler", "break_infinity_esm_default", "_", "i", "WowCubes", "WowTesseracts", "WowHypercubes", "WowPlatonicCubes", "ChronosHepteract", "HyperrealismHepteract", "QuarkHepteract", "ChallengeHepteract", "AbyssHepteract", "AcceleratorHepteract", "AcceleratorBoostHepteract", "MultiplierHepteract", "version", "SingularityUpgrade", "singularityData", "OcteractUpgrade", "octeractData", "SingularityChallenge", "singularityChallengeData", "BlueberryUpgrade", "blueberryUpgradeData", "AmbrosiaLuckAdditiveMultCache", "AmbrosiaLuckCache", "AmbrosiaGenerationCache", "BlueberryInventoryCache", "blankSave", "saveCheck", "saveSynergy", "button", "p", "playerJsonSchema", "save", "btoa", "saveBlob", "localforage", "Alert", "instance", "el", "DOMCacheGetOrSet", "setTimeout", "loadSynergy", "_a", "_b", "_c", "_d", "saveString", "data", "prod", "Globals", "__spreadValues", "blankGlobals", "size", "oldPromoKeys", "k", "value", "num", "validatedPlayer", "playerSchema", "clearTimers", "updateLoadoutHoverClasses", "challenges", "refundThese", "refundReward", "updatedLast", "lastUpdated", "maxLevel", "maxCorruptionLevel", "curr", "index", "corrChallengeMinimum", "ascendBuildingI", "cleanString", "j", "upgradeupdate", "updateResearchBG", "updateCubeUpgradeBG", "platUpg", "updatePlatonicUpgradeBG", "q", "d", "e", "c", "curBuyAmount", "b", "testArray", "sortWithIndices", "toggleShops", "getChallengeConditions", "updateChallengeDisplay", "revealStuff", "toggleauto", "challengeDisplay", "corruptionStatsUpdate", "corrs", "corruptionLoadoutTableUpdate", "showCorruptionStatsLoadouts", "updateCorruptionLoadoutNames", "format", "c15RewardUpdate", "calculatePlatonicBlessings", "calculateHypercubeBlessings", "calculateTesseractBlessings", "calculateCubeBlessings", "updateTalismanAppearance", "id", "toggleAscStatPerSecond", "omit", "inputd", "inpute", "updateAutoChallenge", "updateAutoReset", "updateTesseractAutoBuyAmount", "updateAutoCubesOpens", "updateRuneBlessingBuyAmount", "autoCubeUpgradesToggle", "autoPlatonicUpgradesToggle", "toggleAntMaxBuy", "toggleAntAutoSacrifice", "toggleAutoAscend", "autoResearchEnabled", "toggleAutoBuyOrbs", "toggleTalismanBuy", "updateTalismanInventory", "calculateObtainium", "calculateAnts", "calculateRuneLevels", "resetHistoryRenderAllTables", "updateSingularityAchievements", "updateSingularityGlobalPerks", "updateAchievementBG", "resetrepeat", "h", "m", "s", "FormatList", "supportsFormatToParts", "IntlFormatter", "part", "group", "dec", "locOpts", "padEvery", "str", "places", "step", "newStr", "strParts", "input", "accuracy", "long", "truncate", "fractional", "power", "mantissa", "isDecimal", "powerOver", "mantissaLook", "powerLook", "standard", "standardString", "powerDigits", "powerFront", "powerLookF", "powerLodge", "formatTimeShort", "seconds", "msMaxSeconds", "updateAllTick", "a", "CalcECC", "calculateAcceleratorMultiplier", "hepteractEffective", "updateAllMultiplier", "calculateSigmoidExponential", "c7", "multipliers", "crystalExponent", "calculateCorruptionPoints", "calculateCrumbToCoinExp", "first6CoinUp", "lol", "ascendBuildingDR", "resourceGain", "dt", "calculateTotalCoinOwned", "calculateTotalAcceleratorBoost", "calculatetax", "addcoin", "resetCurrency", "pm", "createAnts", "fiveMinusI", "ascensionAchievementCheck", "challengeachievementcheck", "updateChallengeLevel", "chal", "reinchal", "ascendchal", "challengeRequirement", "resetCheck", "updateAntMultipliers", "antSacrificePointsToMultiplier", "sumContents", "prestigePow", "transcendPow", "manual", "leaving", "resetConfirmation", "resetachievementcheck", "reset", "maxCompletions", "getMaxChallenges", "reqCheck", "comp", "maxInc", "counter", "highestChallengeRewards", "toggleAutoChallengeModeText", "conf", "Confirm", "c15SM", "challenge15ScoreMultiplier", "autoAscensionChallengeSweepUnlock", "thankSing", "confirmed", "nextSingularityNumber", "getFastForwardTotalMultiplier", "calculateGoldenQuarkGain", "getQuarkBonus", "singularity", "updateEffectiveLevelMult", "updateAll", "achievementaward", "autoUpgrades", "buyMax", "buyAccelerator", "buyMultiplier", "boostAccelerator", "buyCrystalUpgrades", "buyParticleBuilding", "getConstUpgradeMetadata", "buyConstantUpgrades", "ownedBuildings", "budget", "buyToBuildings", "calculateTessBuildingsInBudget", "buyFrom", "buyTo", "buyTesseractBuilding", "talismansUnlocked", "upgradedTalisman", "buyTalismanEnhance", "maxTalismanLevel", "calculateMaxTalismanLevel", "buyTalismanLevels", "autoBuyAnts", "ascension", "nextChallenge", "getNextChallenge", "metaData", "reductionValue", "getReductionValue", "resources", "res", "resource", "ord", "getCost", "particleOriginalCost", "fastUpdates", "htmlInserts", "slowUpdates", "buttoncolorchange", "buildingAchievementCheck", "constantIntervals", "setInterval", "exitOffline", "lastUpdate", "createTimer", "tick", "filterStrength", "deltaMean", "loadingDate", "loadingBasePerfTick", "getTimePinnedToLoadDate", "delta", "dtEffective", "tack", "timeMult", "calculateTimeAcceleration", "addTimers", "automaticTools", "maxRoombaResearchIndex", "maxCount", "linGrowth", "buyResearch", "runChallengeSweep", "time", "calculateOfferings", "synergismHotkeys", "event", "key", "type", "Notification", "corruptionLoadoutSaveLoad", "categoryUpgrades", "redeemShards", "buyRuneBonusLevels", "toggleChallenges", "showExitOffline", "reloadShit", "preloadDeleteGame", "disableHotkeys", "saveObject", "LZString", "blob", "calculateOffline", "toggleTheme", "settingAnnotation", "toggleIconSet", "playerNeedsReminderToExport", "changeTab", "changeSubTab", "dailyResetCheck", "changeTabColor", "eventCheck", "error", "clearTimeout", "cacheReinitialize", "persistent", "saveType", "init", "ver", "addZero", "textUpdate", "generateEventHandlers", "corruptionButtonsAdd", "corruptionLoadoutTableCreate", "handleLogin"]
}
