"use strict";(()=>{var a1=Object.create;var Xc=Object.defineProperty,s1=Object.defineProperties,o1=Object.getOwnPropertyDescriptor,i1=Object.getOwnPropertyDescriptors,l1=Object.getOwnPropertyNames,zi=Object.getOwnPropertySymbols,c1=Object.getPrototypeOf,Zc=Object.prototype.hasOwnProperty,Ip=Object.prototype.propertyIsEnumerable;var Rp=(t,r,n)=>r in t?Xc(t,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[r]=n,G=(t,r)=>{for(var n in r||(r={}))Zc.call(r,n)&&Rp(t,n,r[n]);if(zi)for(var n of zi(r))Ip.call(r,n)&&Rp(t,n,r[n]);return t},fe=(t,r)=>s1(t,i1(r));var Po=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(r,n)=>(typeof require<"u"?require:r)[n]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+t+'" is not supported')});var Np=(t,r)=>{var n={};for(var a in t)Zc.call(t,a)&&r.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&zi)for(var a of zi(t))r.indexOf(a)<0&&Ip.call(t,a)&&(n[a]=t[a]);return n};var Pa=(t,r)=>()=>(r||t((r={exports:{}}).exports,r),r.exports);var u1=(t,r,n,a)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of l1(r))!Zc.call(t,s)&&s!==n&&Xc(t,s,{get:()=>r[s],enumerable:!(a=o1(r,s))||a.enumerable});return t};var Hr=(t,r,n)=>(n=t!=null?a1(c1(t)):{},u1(r||!t||!t.__esModule?Xc(n,"default",{value:t,enumerable:!0}):n,t));var Yc=(t,r,n)=>{if(!r.has(t))throw TypeError("Cannot "+n)};var he=(t,r,n)=>(Yc(t,r,"read from private field"),n?n.call(t):r.get(t)),qt=(t,r,n)=>{if(r.has(t))throw TypeError("Cannot add the same private member more than once");r instanceof WeakSet?r.add(t):r.set(t,n)},Zt=(t,r,n,a)=>(Yc(t,r,"write to private field"),a?a.call(t,n):r.set(t,n),n);var Ki=(t,r,n)=>(Yc(t,r,"access private method"),n);var $p=Pa((vw,_p)=>{"use strict";_p.exports=function(t,r,n){if(t==null||r==null)return t;var a=String(t),s=typeof r=="number"?r:parseInt(r,10);if(isNaN(s)||!isFinite(s))return a;var o=a.length;if(o>=s)return a;var c=n==null?"":String(n);c===""&&(c=" ");for(var p=s-o;c.length<p;)c+=c;var f=c.length>p?c.substr(0,p):c;return a+f}});var eu=Pa((ww,Yi)=>{var Jc=function(){var t=String.fromCharCode,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",a={};function s(c,p){if(!a[c]){a[c]={};for(var f=0;f<c.length;f++)a[c][c.charAt(f)]=f}return a[c][p]}var o={compressToBase64:function(c){if(c==null)return"";var p=o._compress(c,6,function(f){return r.charAt(f)});switch(p.length%4){default:case 0:return p;case 1:return p+"===";case 2:return p+"==";case 3:return p+"="}},decompressFromBase64:function(c){return c==null?"":c==""?null:o._decompress(c.length,32,function(p){return s(r,c.charAt(p))})},compressToUTF16:function(c){return c==null?"":o._compress(c,15,function(p){return t(p+32)})+" "},decompressFromUTF16:function(c){return c==null?"":c==""?null:o._decompress(c.length,16384,function(p){return c.charCodeAt(p)-32})},compressToUint8Array:function(c){for(var p=o.compress(c),f=new Uint8Array(p.length*2),g=0,h=p.length;g<h;g++){var b=p.charCodeAt(g);f[g*2]=b>>>8,f[g*2+1]=b%256}return f},decompressFromUint8Array:function(c){if(c==null)return o.decompress(c);for(var p=new Array(c.length/2),f=0,g=p.length;f<g;f++)p[f]=c[f*2]*256+c[f*2+1];var h=[];return p.forEach(function(b){h.push(t(b))}),o.decompress(h.join(""))},compressToEncodedURIComponent:function(c){return c==null?"":o._compress(c,6,function(p){return n.charAt(p)})},decompressFromEncodedURIComponent:function(c){return c==null?"":c==""?null:(c=c.replace(/ /g,"+"),o._decompress(c.length,32,function(p){return s(n,c.charAt(p))}))},compress:function(c){return o._compress(c,16,function(p){return t(p)})},_compress:function(c,p,f){if(c==null)return"";var g,h,b={},y={},C="",x="",D="",$=2,L=3,E=2,H=[],I=0,N=0,k;for(k=0;k<c.length;k+=1)if(C=c.charAt(k),Object.prototype.hasOwnProperty.call(b,C)||(b[C]=L++,y[C]=!0),x=D+C,Object.prototype.hasOwnProperty.call(b,x))D=x;else{if(Object.prototype.hasOwnProperty.call(y,D)){if(D.charCodeAt(0)<256){for(g=0;g<E;g++)I=I<<1,N==p-1?(N=0,H.push(f(I)),I=0):N++;for(h=D.charCodeAt(0),g=0;g<8;g++)I=I<<1|h&1,N==p-1?(N=0,H.push(f(I)),I=0):N++,h=h>>1}else{for(h=1,g=0;g<E;g++)I=I<<1|h,N==p-1?(N=0,H.push(f(I)),I=0):N++,h=0;for(h=D.charCodeAt(0),g=0;g<16;g++)I=I<<1|h&1,N==p-1?(N=0,H.push(f(I)),I=0):N++,h=h>>1}$--,$==0&&($=Math.pow(2,E),E++),delete y[D]}else for(h=b[D],g=0;g<E;g++)I=I<<1|h&1,N==p-1?(N=0,H.push(f(I)),I=0):N++,h=h>>1;$--,$==0&&($=Math.pow(2,E),E++),b[x]=L++,D=String(C)}if(D!==""){if(Object.prototype.hasOwnProperty.call(y,D)){if(D.charCodeAt(0)<256){for(g=0;g<E;g++)I=I<<1,N==p-1?(N=0,H.push(f(I)),I=0):N++;for(h=D.charCodeAt(0),g=0;g<8;g++)I=I<<1|h&1,N==p-1?(N=0,H.push(f(I)),I=0):N++,h=h>>1}else{for(h=1,g=0;g<E;g++)I=I<<1|h,N==p-1?(N=0,H.push(f(I)),I=0):N++,h=0;for(h=D.charCodeAt(0),g=0;g<16;g++)I=I<<1|h&1,N==p-1?(N=0,H.push(f(I)),I=0):N++,h=h>>1}$--,$==0&&($=Math.pow(2,E),E++),delete y[D]}else for(h=b[D],g=0;g<E;g++)I=I<<1|h&1,N==p-1?(N=0,H.push(f(I)),I=0):N++,h=h>>1;$--,$==0&&($=Math.pow(2,E),E++)}for(h=2,g=0;g<E;g++)I=I<<1|h&1,N==p-1?(N=0,H.push(f(I)),I=0):N++,h=h>>1;for(;;)if(I=I<<1,N==p-1){H.push(f(I));break}else N++;return H.join("")},decompress:function(c){return c==null?"":c==""?null:o._decompress(c.length,32768,function(p){return c.charCodeAt(p)})},_decompress:function(c,p,f){var g=[],h,b=4,y=4,C=3,x="",D=[],$,L,E,H,I,N,k,A={val:f(0),position:p,index:1};for($=0;$<3;$+=1)g[$]=$;for(E=0,I=Math.pow(2,2),N=1;N!=I;)H=A.val&A.position,A.position>>=1,A.position==0&&(A.position=p,A.val=f(A.index++)),E|=(H>0?1:0)*N,N<<=1;switch(h=E){case 0:for(E=0,I=Math.pow(2,8),N=1;N!=I;)H=A.val&A.position,A.position>>=1,A.position==0&&(A.position=p,A.val=f(A.index++)),E|=(H>0?1:0)*N,N<<=1;k=t(E);break;case 1:for(E=0,I=Math.pow(2,16),N=1;N!=I;)H=A.val&A.position,A.position>>=1,A.position==0&&(A.position=p,A.val=f(A.index++)),E|=(H>0?1:0)*N,N<<=1;k=t(E);break;case 2:return""}for(g[3]=k,L=k,D.push(k);;){if(A.index>c)return"";for(E=0,I=Math.pow(2,C),N=1;N!=I;)H=A.val&A.position,A.position>>=1,A.position==0&&(A.position=p,A.val=f(A.index++)),E|=(H>0?1:0)*N,N<<=1;switch(k=E){case 0:for(E=0,I=Math.pow(2,8),N=1;N!=I;)H=A.val&A.position,A.position>>=1,A.position==0&&(A.position=p,A.val=f(A.index++)),E|=(H>0?1:0)*N,N<<=1;g[y++]=t(E),k=y-1,b--;break;case 1:for(E=0,I=Math.pow(2,16),N=1;N!=I;)H=A.val&A.position,A.position>>=1,A.position==0&&(A.position=p,A.val=f(A.index++)),E|=(H>0?1:0)*N,N<<=1;g[y++]=t(E),k=y-1,b--;break;case 2:return D.join("")}if(b==0&&(b=Math.pow(2,C),C++),g[k])x=g[k];else if(k===y)x=L+L.charAt(0);else return null;D.push(x),g[y++]=L+x.charAt(0),b--,L=x,b==0&&(b=Math.pow(2,C),C++)}}};return o}();typeof define=="function"&&define.amd?define(function(){return Jc}):typeof Yi<"u"&&Yi!=null?Yi.exports=Jc:typeof angular<"u"&&angular!=null&&angular.module("LZString",[]).factory("LZString",function(){return Jc})});var mf=Pa((Mx,su)=>{"use strict";var V1=Object.prototype.hasOwnProperty,jt="~";function Uo(){}Object.create&&(Uo.prototype=Object.create(null),new Uo().__proto__||(jt=!1));function W1(t,r,n){this.fn=t,this.context=r,this.once=n||!1}function gf(t,r,n,a,s){if(typeof n!="function")throw new TypeError("The listener must be a function");var o=new W1(n,a||t,s),c=jt?jt+r:r;return t._events[c]?t._events[c].fn?t._events[c]=[t._events[c],o]:t._events[c].push(o):(t._events[c]=o,t._eventsCount++),t}function il(t,r){--t._eventsCount===0?t._events=new Uo:delete t._events[r]}function Gt(){this._events=new Uo,this._eventsCount=0}Gt.prototype.eventNames=function(){var r=[],n,a;if(this._eventsCount===0)return r;for(a in n=this._events)V1.call(n,a)&&r.push(jt?a.slice(1):a);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(n)):r};Gt.prototype.listeners=function(r){var n=jt?jt+r:r,a=this._events[n];if(!a)return[];if(a.fn)return[a.fn];for(var s=0,o=a.length,c=new Array(o);s<o;s++)c[s]=a[s].fn;return c};Gt.prototype.listenerCount=function(r){var n=jt?jt+r:r,a=this._events[n];return a?a.fn?1:a.length:0};Gt.prototype.emit=function(r,n,a,s,o,c){var p=jt?jt+r:r;if(!this._events[p])return!1;var f=this._events[p],g=arguments.length,h,b;if(f.fn){switch(f.once&&this.removeListener(r,f.fn,void 0,!0),g){case 1:return f.fn.call(f.context),!0;case 2:return f.fn.call(f.context,n),!0;case 3:return f.fn.call(f.context,n,a),!0;case 4:return f.fn.call(f.context,n,a,s),!0;case 5:return f.fn.call(f.context,n,a,s,o),!0;case 6:return f.fn.call(f.context,n,a,s,o,c),!0}for(b=1,h=new Array(g-1);b<g;b++)h[b-1]=arguments[b];f.fn.apply(f.context,h)}else{var y=f.length,C;for(b=0;b<y;b++)switch(f[b].once&&this.removeListener(r,f[b].fn,void 0,!0),g){case 1:f[b].fn.call(f[b].context);break;case 2:f[b].fn.call(f[b].context,n);break;case 3:f[b].fn.call(f[b].context,n,a);break;case 4:f[b].fn.call(f[b].context,n,a,s);break;default:if(!h)for(C=1,h=new Array(g-1);C<g;C++)h[C-1]=arguments[C];f[b].fn.apply(f[b].context,h)}}return!0};Gt.prototype.on=function(r,n,a){return gf(this,r,n,a,!1)};Gt.prototype.once=function(r,n,a){return gf(this,r,n,a,!0)};Gt.prototype.removeListener=function(r,n,a,s){var o=jt?jt+r:r;if(!this._events[o])return this;if(!n)return il(this,o),this;var c=this._events[o];if(c.fn)c.fn===n&&(!s||c.once)&&(!a||c.context===a)&&il(this,o);else{for(var p=0,f=[],g=c.length;p<g;p++)(c[p].fn!==n||s&&!c[p].once||a&&c[p].context!==a)&&f.push(c[p]);f.length?this._events[o]=f.length===1?f[0]:f:il(this,o)}return this};Gt.prototype.removeAllListeners=function(r){var n;return r?(n=jt?jt+r:r,this._events[n]&&il(this,n)):(this._events=new Uo,this._eventsCount=0),this};Gt.prototype.off=Gt.prototype.removeListener;Gt.prototype.addListener=Gt.prototype.on;Gt.prefixed=jt;Gt.EventEmitter=Gt;typeof su<"u"&&(su.exports=Gt)});var iu=Pa((Bo,ou)=>{(function(r,n){typeof Bo=="object"&&typeof ou=="object"?ou.exports=n():typeof define=="function"&&define.amd?define([],n):typeof Bo=="object"?Bo.ClipboardJS=n():r.ClipboardJS=n()})(Bo,function(){return function(){var t={686:function(a,s,o){"use strict";o.d(s,{default:function(){return Nt}});var c=o(279),p=o.n(c),f=o(370),g=o.n(f),h=o(817),b=o.n(h);function y(ve){try{return document.execCommand(ve)}catch(ue){return!1}}var C=function(ue){var le=b()(ue);return y("cut"),le},x=C;function D(ve){var ue=document.documentElement.getAttribute("dir")==="rtl",le=document.createElement("textarea");le.style.fontSize="12pt",le.style.border="0",le.style.padding="0",le.style.margin="0",le.style.position="absolute",le.style[ue?"right":"left"]="-9999px";var be=window.pageYOffset||document.documentElement.scrollTop;return le.style.top="".concat(be,"px"),le.setAttribute("readonly",""),le.value=ve,le}var $=function(ue,le){var be=D(ue);le.container.appendChild(be);var me=b()(be);return y("copy"),be.remove(),me},L=function(ue){var le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body},be="";return typeof ue=="string"?be=$(ue,le):ue instanceof HTMLInputElement&&!["text","search","url","tel","password"].includes(ue==null?void 0:ue.type)?be=$(ue.value,le):(be=b()(ue),y("copy")),be},E=L;function H(ve){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?H=function(le){return typeof le}:H=function(le){return le&&typeof Symbol=="function"&&le.constructor===Symbol&&le!==Symbol.prototype?"symbol":typeof le},H(ve)}var I=function(){var ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},le=ue.action,be=le===void 0?"copy":le,me=ue.container,ke=ue.target,Ye=ue.text;if(be!=="copy"&&be!=="cut")throw new Error('Invalid "action" value, use either "copy" or "cut"');if(ke!==void 0)if(ke&&H(ke)==="object"&&ke.nodeType===1){if(be==="copy"&&ke.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if(be==="cut"&&(ke.hasAttribute("readonly")||ke.hasAttribute("disabled")))throw new Error(`Invalid "target" attribute. You can't cut text from elements with "readonly" or "disabled" attributes`)}else throw new Error('Invalid "target" value, use a valid Element');if(Ye)return E(Ye,{container:me});if(ke)return be==="cut"?x(ke):E(ke,{container:me})},N=I;function k(ve){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?k=function(le){return typeof le}:k=function(le){return le&&typeof Symbol=="function"&&le.constructor===Symbol&&le!==Symbol.prototype?"symbol":typeof le},k(ve)}function A(ve,ue){if(!(ve instanceof ue))throw new TypeError("Cannot call a class as a function")}function Q(ve,ue){for(var le=0;le<ue.length;le++){var be=ue[le];be.enumerable=be.enumerable||!1,be.configurable=!0,"value"in be&&(be.writable=!0),Object.defineProperty(ve,be.key,be)}}function J(ve,ue,le){return ue&&Q(ve.prototype,ue),le&&Q(ve,le),ve}function M(ve,ue){if(typeof ue!="function"&&ue!==null)throw new TypeError("Super expression must either be null or a function");ve.prototype=Object.create(ue&&ue.prototype,{constructor:{value:ve,writable:!0,configurable:!0}}),ue&&j(ve,ue)}function j(ve,ue){return j=Object.setPrototypeOf||function(be,me){return be.__proto__=me,be},j(ve,ue)}function ae(ve){var ue=ut();return function(){var be=ht(ve),me;if(ue){var ke=ht(this).constructor;me=Reflect.construct(be,arguments,ke)}else me=be.apply(this,arguments);return ge(this,me)}}function ge(ve,ue){return ue&&(k(ue)==="object"||typeof ue=="function")?ue:Je(ve)}function Je(ve){if(ve===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ve}function ut(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(ve){return!1}}function ht(ve){return ht=Object.setPrototypeOf?Object.getPrototypeOf:function(le){return le.__proto__||Object.getPrototypeOf(le)},ht(ve)}function Ot(ve,ue){var le="data-clipboard-".concat(ve);if(ue.hasAttribute(le))return ue.getAttribute(le)}var xt=function(ve){M(le,ve);var ue=ae(le);function le(be,me){var ke;return A(this,le),ke=ue.call(this),ke.resolveOptions(me),ke.listenClick(be),ke}return J(le,[{key:"resolveOptions",value:function(){var me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.action=typeof me.action=="function"?me.action:this.defaultAction,this.target=typeof me.target=="function"?me.target:this.defaultTarget,this.text=typeof me.text=="function"?me.text:this.defaultText,this.container=k(me.container)==="object"?me.container:document.body}},{key:"listenClick",value:function(me){var ke=this;this.listener=g()(me,"click",function(Ye){return ke.onClick(Ye)})}},{key:"onClick",value:function(me){var ke=me.delegateTarget||me.currentTarget,Ye=this.action(ke)||"copy",O=N({action:Ye,container:this.container,target:this.target(ke),text:this.text(ke)});this.emit(O?"success":"error",{action:Ye,text:O,trigger:ke,clearSelection:function(){ke&&ke.focus(),window.getSelection().removeAllRanges()}})}},{key:"defaultAction",value:function(me){return Ot("action",me)}},{key:"defaultTarget",value:function(me){var ke=Ot("target",me);if(ke)return document.querySelector(ke)}},{key:"defaultText",value:function(me){return Ot("text",me)}},{key:"destroy",value:function(){this.listener.destroy()}}],[{key:"copy",value:function(me){var ke=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body};return E(me,ke)}},{key:"cut",value:function(me){return x(me)}},{key:"isSupported",value:function(){var me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["copy","cut"],ke=typeof me=="string"?[me]:me,Ye=!!document.queryCommandSupported;return ke.forEach(function(O){Ye=Ye&&!!document.queryCommandSupported(O)}),Ye}}]),le}(p()),Nt=xt},828:function(a){var s=9;if(typeof Element<"u"&&!Element.prototype.matches){var o=Element.prototype;o.matches=o.matchesSelector||o.mozMatchesSelector||o.msMatchesSelector||o.oMatchesSelector||o.webkitMatchesSelector}function c(p,f){for(;p&&p.nodeType!==s;){if(typeof p.matches=="function"&&p.matches(f))return p;p=p.parentNode}}a.exports=c},438:function(a,s,o){var c=o(828);function p(h,b,y,C,x){var D=g.apply(this,arguments);return h.addEventListener(y,D,x),{destroy:function(){h.removeEventListener(y,D,x)}}}function f(h,b,y,C,x){return typeof h.addEventListener=="function"?p.apply(null,arguments):typeof y=="function"?p.bind(null,document).apply(null,arguments):(typeof h=="string"&&(h=document.querySelectorAll(h)),Array.prototype.map.call(h,function(D){return p(D,b,y,C,x)}))}function g(h,b,y,C){return function(x){x.delegateTarget=c(x.target,b),x.delegateTarget&&C.call(h,x)}}a.exports=f},879:function(a,s){s.node=function(o){return o!==void 0&&o instanceof HTMLElement&&o.nodeType===1},s.nodeList=function(o){var c=Object.prototype.toString.call(o);return o!==void 0&&(c==="[object NodeList]"||c==="[object HTMLCollection]")&&"length"in o&&(o.length===0||s.node(o[0]))},s.string=function(o){return typeof o=="string"||o instanceof String},s.fn=function(o){var c=Object.prototype.toString.call(o);return c==="[object Function]"}},370:function(a,s,o){var c=o(879),p=o(438);function f(y,C,x){if(!y&&!C&&!x)throw new Error("Missing required arguments");if(!c.string(C))throw new TypeError("Second argument must be a String");if(!c.fn(x))throw new TypeError("Third argument must be a Function");if(c.node(y))return g(y,C,x);if(c.nodeList(y))return h(y,C,x);if(c.string(y))return b(y,C,x);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function g(y,C,x){return y.addEventListener(C,x),{destroy:function(){y.removeEventListener(C,x)}}}function h(y,C,x){return Array.prototype.forEach.call(y,function(D){D.addEventListener(C,x)}),{destroy:function(){Array.prototype.forEach.call(y,function(D){D.removeEventListener(C,x)})}}}function b(y,C,x){return p(document.body,y,C,x)}a.exports=f},817:function(a){function s(o){var c;if(o.nodeName==="SELECT")o.focus(),c=o.value;else if(o.nodeName==="INPUT"||o.nodeName==="TEXTAREA"){var p=o.hasAttribute("readonly");p||o.setAttribute("readonly",""),o.select(),o.setSelectionRange(0,o.value.length),p||o.removeAttribute("readonly"),c=o.value}else{o.hasAttribute("contenteditable")&&o.focus();var f=window.getSelection(),g=document.createRange();g.selectNodeContents(o),f.removeAllRanges(),f.addRange(g),c=f.toString()}return c}a.exports=s},279:function(a){function s(){}s.prototype={on:function(o,c,p){var f=this.e||(this.e={});return(f[o]||(f[o]=[])).push({fn:c,ctx:p}),this},once:function(o,c,p){var f=this;function g(){f.off(o,g),c.apply(p,arguments)}return g._=c,this.on(o,g,p)},emit:function(o){var c=[].slice.call(arguments,1),p=((this.e||(this.e={}))[o]||[]).slice(),f=0,g=p.length;for(f;f<g;f++)p[f].fn.apply(p[f].ctx,c);return this},off:function(o,c){var p=this.e||(this.e={}),f=p[o],g=[];if(f&&c)for(var h=0,b=f.length;h<b;h++)f[h].fn!==c&&f[h].fn._!==c&&g.push(f[h]);return g.length?p[o]=g:delete p[o],this}},a.exports=s,a.exports.TinyEmitter=s}},r={};function n(a){if(r[a])return r[a].exports;var s=r[a]={exports:{}};return t[a](s,s.exports,n),s.exports}return function(){n.n=function(a){var s=a&&a.__esModule?function(){return a.default}:function(){return a};return n.d(s,{a:s}),s}}(),function(){n.d=function(a,s){for(var o in s)n.o(s,o)&&!n.o(a,o)&&Object.defineProperty(a,o,{enumerable:!0,get:s[o]})}}(),function(){n.o=function(a,s){return Object.prototype.hasOwnProperty.call(a,s)}}(),n(686)}().default})});var ll=Pa((bf,lu)=>{(function(t){if(typeof bf=="object"&&typeof lu<"u")lu.exports=t();else if(typeof define=="function"&&define.amd)define([],t);else{var r;typeof window<"u"?r=window:typeof global<"u"?r=global:typeof self<"u"?r=self:r=this,r.localforage=t()}})(function(){var t,r,n;return function a(s,o,c){function p(h,b){if(!o[h]){if(!s[h]){var y=typeof Po=="function"&&Po;if(!b&&y)return y(h,!0);if(f)return f(h,!0);var C=new Error("Cannot find module '"+h+"'");throw C.code="MODULE_NOT_FOUND",C}var x=o[h]={exports:{}};s[h][0].call(x.exports,function(D){var $=s[h][1][D];return p($||D)},x,x.exports,a,s,o,c)}return o[h].exports}for(var f=typeof Po=="function"&&Po,g=0;g<c.length;g++)p(c[g]);return p}({1:[function(a,s,o){(function(c){"use strict";var p=c.MutationObserver||c.WebKitMutationObserver,f;if(p){var g=0,h=new p(D),b=c.document.createTextNode("");h.observe(b,{characterData:!0}),f=function(){b.data=g=++g%2}}else if(!c.setImmediate&&typeof c.MessageChannel<"u"){var y=new c.MessageChannel;y.port1.onmessage=D,f=function(){y.port2.postMessage(0)}}else"document"in c&&"onreadystatechange"in c.document.createElement("script")?f=function(){var L=c.document.createElement("script");L.onreadystatechange=function(){D(),L.onreadystatechange=null,L.parentNode.removeChild(L),L=null},c.document.documentElement.appendChild(L)}:f=function(){setTimeout(D,0)};var C,x=[];function D(){C=!0;for(var L,E,H=x.length;H;){for(E=x,x=[],L=-1;++L<H;)E[L]();H=x.length}C=!1}s.exports=$;function $(L){x.push(L)===1&&!C&&f()}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(a,s,o){"use strict";var c=a(1);function p(){}var f={},g=["REJECTED"],h=["FULFILLED"],b=["PENDING"];s.exports=y;function y(k){if(typeof k!="function")throw new TypeError("resolver must be a function");this.state=b,this.queue=[],this.outcome=void 0,k!==p&&$(this,k)}y.prototype.catch=function(k){return this.then(null,k)},y.prototype.then=function(k,A){if(typeof k!="function"&&this.state===h||typeof A!="function"&&this.state===g)return this;var Q=new this.constructor(p);if(this.state!==b){var J=this.state===h?k:A;x(Q,J,this.outcome)}else this.queue.push(new C(Q,k,A));return Q};function C(k,A,Q){this.promise=k,typeof A=="function"&&(this.onFulfilled=A,this.callFulfilled=this.otherCallFulfilled),typeof Q=="function"&&(this.onRejected=Q,this.callRejected=this.otherCallRejected)}C.prototype.callFulfilled=function(k){f.resolve(this.promise,k)},C.prototype.otherCallFulfilled=function(k){x(this.promise,this.onFulfilled,k)},C.prototype.callRejected=function(k){f.reject(this.promise,k)},C.prototype.otherCallRejected=function(k){x(this.promise,this.onRejected,k)};function x(k,A,Q){c(function(){var J;try{J=A(Q)}catch(M){return f.reject(k,M)}J===k?f.reject(k,new TypeError("Cannot resolve promise with itself")):f.resolve(k,J)})}f.resolve=function(k,A){var Q=L(D,A);if(Q.status==="error")return f.reject(k,Q.value);var J=Q.value;if(J)$(k,J);else{k.state=h,k.outcome=A;for(var M=-1,j=k.queue.length;++M<j;)k.queue[M].callFulfilled(A)}return k},f.reject=function(k,A){k.state=g,k.outcome=A;for(var Q=-1,J=k.queue.length;++Q<J;)k.queue[Q].callRejected(A);return k};function D(k){var A=k&&k.then;if(k&&(typeof k=="object"||typeof k=="function")&&typeof A=="function")return function(){A.apply(k,arguments)}}function $(k,A){var Q=!1;function J(ge){Q||(Q=!0,f.reject(k,ge))}function M(ge){Q||(Q=!0,f.resolve(k,ge))}function j(){A(M,J)}var ae=L(j);ae.status==="error"&&J(ae.value)}function L(k,A){var Q={};try{Q.value=k(A),Q.status="success"}catch(J){Q.status="error",Q.value=J}return Q}y.resolve=E;function E(k){return k instanceof this?k:f.resolve(new this(p),k)}y.reject=H;function H(k){var A=new this(p);return f.reject(A,k)}y.all=I;function I(k){var A=this;if(Object.prototype.toString.call(k)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Q=k.length,J=!1;if(!Q)return this.resolve([]);for(var M=new Array(Q),j=0,ae=-1,ge=new this(p);++ae<Q;)Je(k[ae],ae);return ge;function Je(ut,ht){A.resolve(ut).then(Ot,function(xt){J||(J=!0,f.reject(ge,xt))});function Ot(xt){M[ht]=xt,++j===Q&&!J&&(J=!0,f.resolve(ge,M))}}}y.race=N;function N(k){var A=this;if(Object.prototype.toString.call(k)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Q=k.length,J=!1;if(!Q)return this.resolve([]);for(var M=-1,j=new this(p);++M<Q;)ae(k[M]);return j;function ae(ge){A.resolve(ge).then(function(Je){J||(J=!0,f.resolve(j,Je))},function(Je){J||(J=!0,f.reject(j,Je))})}}},{1:1}],3:[function(a,s,o){(function(c){"use strict";typeof c.Promise!="function"&&(c.Promise=a(2))}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(a,s,o){"use strict";var c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w};function p(w,P){if(!(w instanceof P))throw new TypeError("Cannot call a class as a function")}function f(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch(w){return}}var g=f();function h(){try{if(!g||!g.open)return!1;var w=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),P=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!w||P)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch(S){return!1}}function b(w,P){w=w||[],P=P||{};try{return new Blob(w,P)}catch(U){if(U.name!=="TypeError")throw U;for(var S=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,R=new S,_=0;_<w.length;_+=1)R.append(w[_]);return R.getBlob(P.type)}}typeof Promise>"u"&&a(3);var y=Promise;function C(w,P){P&&w.then(function(S){P(null,S)},function(S){P(S)})}function x(w,P,S){typeof P=="function"&&w.then(P),typeof S=="function"&&w.catch(S)}function D(w){return typeof w!="string"&&(console.warn(w+" used as a key, but it is not a string."),w=String(w)),w}function $(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var L="local-forage-detect-blob-support",E=void 0,H={},I=Object.prototype.toString,N="readonly",k="readwrite";function A(w){for(var P=w.length,S=new ArrayBuffer(P),R=new Uint8Array(S),_=0;_<P;_++)R[_]=w.charCodeAt(_);return S}function Q(w){return new y(function(P){var S=w.transaction(L,k),R=b([""]);S.objectStore(L).put(R,"key"),S.onabort=function(_){_.preventDefault(),_.stopPropagation(),P(!1)},S.oncomplete=function(){var _=navigator.userAgent.match(/Chrome\/(\d+)/),U=navigator.userAgent.match(/Edge\//);P(U||!_||parseInt(_[1],10)>=43)}}).catch(function(){return!1})}function J(w){return typeof E=="boolean"?y.resolve(E):Q(w).then(function(P){return E=P,E})}function M(w){var P=H[w.name],S={};S.promise=new y(function(R,_){S.resolve=R,S.reject=_}),P.deferredOperations.push(S),P.dbReady?P.dbReady=P.dbReady.then(function(){return S.promise}):P.dbReady=S.promise}function j(w){var P=H[w.name],S=P.deferredOperations.pop();if(S)return S.resolve(),S.promise}function ae(w,P){var S=H[w.name],R=S.deferredOperations.pop();if(R)return R.reject(P),R.promise}function ge(w,P){return new y(function(S,R){if(H[w.name]=H[w.name]||be(),w.db)if(P)M(w),w.db.close();else return S(w.db);var _=[w.name];P&&_.push(w.version);var U=g.open.apply(g,_);P&&(U.onupgradeneeded=function(q){var W=U.result;try{W.createObjectStore(w.storeName),q.oldVersion<=1&&W.createObjectStore(L)}catch(Z){if(Z.name==="ConstraintError")console.warn('The database "'+w.name+'" has been upgraded from version '+q.oldVersion+" to version "+q.newVersion+', but the storage "'+w.storeName+'" already exists.');else throw Z}}),U.onerror=function(q){q.preventDefault(),R(U.error)},U.onsuccess=function(){var q=U.result;q.onversionchange=function(W){W.target.close()},S(q),j(w)}})}function Je(w){return ge(w,!1)}function ut(w){return ge(w,!0)}function ht(w,P){if(!w.db)return!0;var S=!w.db.objectStoreNames.contains(w.storeName),R=w.version<w.db.version,_=w.version>w.db.version;if(R&&(w.version!==P&&console.warn('The database "'+w.name+`" can't be downgraded from version `+w.db.version+" to version "+w.version+"."),w.version=w.db.version),_||S){if(S){var U=w.db.version+1;U>w.version&&(w.version=U)}return!0}return!1}function Ot(w){return new y(function(P,S){var R=new FileReader;R.onerror=S,R.onloadend=function(_){var U=btoa(_.target.result||"");P({__local_forage_encoded_blob:!0,data:U,type:w.type})},R.readAsBinaryString(w)})}function xt(w){var P=A(atob(w.data));return b([P],{type:w.type})}function Nt(w){return w&&w.__local_forage_encoded_blob}function ve(w){var P=this,S=P._initReady().then(function(){var R=H[P._dbInfo.name];if(R&&R.dbReady)return R.dbReady});return x(S,w,w),S}function ue(w){M(w);for(var P=H[w.name],S=P.forages,R=0;R<S.length;R++){var _=S[R];_._dbInfo.db&&(_._dbInfo.db.close(),_._dbInfo.db=null)}return w.db=null,Je(w).then(function(U){return w.db=U,ht(w)?ut(w):U}).then(function(U){w.db=P.db=U;for(var q=0;q<S.length;q++)S[q]._dbInfo.db=U}).catch(function(U){throw ae(w,U),U})}function le(w,P,S,R){R===void 0&&(R=1);try{var _=w.db.transaction(w.storeName,P);S(null,_)}catch(U){if(R>0&&(!w.db||U.name==="InvalidStateError"||U.name==="NotFoundError"))return y.resolve().then(function(){if(!w.db||U.name==="NotFoundError"&&!w.db.objectStoreNames.contains(w.storeName)&&w.version<=w.db.version)return w.db&&(w.version=w.db.version+1),ut(w)}).then(function(){return ue(w).then(function(){le(w,P,S,R-1)})}).catch(S);S(U)}}function be(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function me(w){var P=this,S={db:null};if(w)for(var R in w)S[R]=w[R];var _=H[S.name];_||(_=be(),H[S.name]=_),_.forages.push(P),P._initReady||(P._initReady=P.ready,P.ready=ve);var U=[];function q(){return y.resolve()}for(var W=0;W<_.forages.length;W++){var Z=_.forages[W];Z!==P&&U.push(Z._initReady().catch(q))}var Y=_.forages.slice(0);return y.all(U).then(function(){return S.db=_.db,Je(S)}).then(function(ee){return S.db=ee,ht(S,P._defaultConfig.version)?ut(S):ee}).then(function(ee){S.db=_.db=ee,P._dbInfo=S;for(var de=0;de<Y.length;de++){var Re=Y[de];Re!==P&&(Re._dbInfo.db=S.db,Re._dbInfo.version=S.version)}})}function ke(w,P){var S=this;w=D(w);var R=new y(function(_,U){S.ready().then(function(){le(S._dbInfo,N,function(q,W){if(q)return U(q);try{var Z=W.objectStore(S._dbInfo.storeName),Y=Z.get(w);Y.onsuccess=function(){var ee=Y.result;ee===void 0&&(ee=null),Nt(ee)&&(ee=xt(ee)),_(ee)},Y.onerror=function(){U(Y.error)}}catch(ee){U(ee)}})}).catch(U)});return C(R,P),R}function Ye(w,P){var S=this,R=new y(function(_,U){S.ready().then(function(){le(S._dbInfo,N,function(q,W){if(q)return U(q);try{var Z=W.objectStore(S._dbInfo.storeName),Y=Z.openCursor(),ee=1;Y.onsuccess=function(){var de=Y.result;if(de){var Re=de.value;Nt(Re)&&(Re=xt(Re));var We=w(Re,de.key,ee++);We!==void 0?_(We):de.continue()}else _()},Y.onerror=function(){U(Y.error)}}catch(de){U(de)}})}).catch(U)});return C(R,P),R}function O(w,P,S){var R=this;w=D(w);var _=new y(function(U,q){var W;R.ready().then(function(){return W=R._dbInfo,I.call(P)==="[object Blob]"?J(W.db).then(function(Z){return Z?P:Ot(P)}):P}).then(function(Z){le(R._dbInfo,k,function(Y,ee){if(Y)return q(Y);try{var de=ee.objectStore(R._dbInfo.storeName);Z===null&&(Z=void 0);var Re=de.put(Z,w);ee.oncomplete=function(){Z===void 0&&(Z=null),U(Z)},ee.onabort=ee.onerror=function(){var We=Re.error?Re.error:Re.transaction.error;q(We)}}catch(We){q(We)}})}).catch(q)});return C(_,S),_}function St(w,P){var S=this;w=D(w);var R=new y(function(_,U){S.ready().then(function(){le(S._dbInfo,k,function(q,W){if(q)return U(q);try{var Z=W.objectStore(S._dbInfo.storeName),Y=Z.delete(w);W.oncomplete=function(){_()},W.onerror=function(){U(Y.error)},W.onabort=function(){var ee=Y.error?Y.error:Y.transaction.error;U(ee)}}catch(ee){U(ee)}})}).catch(U)});return C(R,P),R}function ws(w){var P=this,S=new y(function(R,_){P.ready().then(function(){le(P._dbInfo,k,function(U,q){if(U)return _(U);try{var W=q.objectStore(P._dbInfo.storeName),Z=W.clear();q.oncomplete=function(){R()},q.onabort=q.onerror=function(){var Y=Z.error?Z.error:Z.transaction.error;_(Y)}}catch(Y){_(Y)}})}).catch(_)});return C(S,w),S}function Ca(w){var P=this,S=new y(function(R,_){P.ready().then(function(){le(P._dbInfo,N,function(U,q){if(U)return _(U);try{var W=q.objectStore(P._dbInfo.storeName),Z=W.count();Z.onsuccess=function(){R(Z.result)},Z.onerror=function(){_(Z.error)}}catch(Y){_(Y)}})}).catch(_)});return C(S,w),S}function ar(w,P){var S=this,R=new y(function(_,U){if(w<0){_(null);return}S.ready().then(function(){le(S._dbInfo,N,function(q,W){if(q)return U(q);try{var Z=W.objectStore(S._dbInfo.storeName),Y=!1,ee=Z.openKeyCursor();ee.onsuccess=function(){var de=ee.result;if(!de){_(null);return}w===0||Y?_(de.key):(Y=!0,de.advance(w))},ee.onerror=function(){U(ee.error)}}catch(de){U(de)}})}).catch(U)});return C(R,P),R}function Sn(w){var P=this,S=new y(function(R,_){P.ready().then(function(){le(P._dbInfo,N,function(U,q){if(U)return _(U);try{var W=q.objectStore(P._dbInfo.storeName),Z=W.openKeyCursor(),Y=[];Z.onsuccess=function(){var ee=Z.result;if(!ee){R(Y);return}Y.push(ee.key),ee.continue()},Z.onerror=function(){_(Z.error)}}catch(ee){_(ee)}})}).catch(_)});return C(S,w),S}function wa(w,P){P=$.apply(this,arguments);var S=this.config();w=typeof w!="function"&&w||{},w.name||(w.name=w.name||S.name,w.storeName=w.storeName||S.storeName);var R=this,_;if(!w.name)_=y.reject("Invalid arguments");else{var U=w.name===S.name&&R._dbInfo.db,q=U?y.resolve(R._dbInfo.db):Je(w).then(function(W){var Z=H[w.name],Y=Z.forages;Z.db=W;for(var ee=0;ee<Y.length;ee++)Y[ee]._dbInfo.db=W;return W});w.storeName?_=q.then(function(W){if(W.objectStoreNames.contains(w.storeName)){var Z=W.version+1;M(w);var Y=H[w.name],ee=Y.forages;W.close();for(var de=0;de<ee.length;de++){var Re=ee[de];Re._dbInfo.db=null,Re._dbInfo.version=Z}var We=new y(function(Ze,bt){var gt=g.open(w.name,Z);gt.onerror=function(br){var Ao=gt.result;Ao.close(),bt(br)},gt.onupgradeneeded=function(){var br=gt.result;br.deleteObjectStore(w.storeName)},gt.onsuccess=function(){var br=gt.result;br.close(),Ze(br)}});return We.then(function(Ze){Y.db=Ze;for(var bt=0;bt<ee.length;bt++){var gt=ee[bt];gt._dbInfo.db=Ze,j(gt._dbInfo)}}).catch(function(Ze){throw(ae(w,Ze)||y.resolve()).catch(function(){}),Ze})}}):_=q.then(function(W){M(w);var Z=H[w.name],Y=Z.forages;W.close();for(var ee=0;ee<Y.length;ee++){var de=Y[ee];de._dbInfo.db=null}var Re=new y(function(We,Ze){var bt=g.deleteDatabase(w.name);bt.onerror=function(){var gt=bt.result;gt&&gt.close(),Ze(bt.error)},bt.onblocked=function(){console.warn('dropInstance blocked for database "'+w.name+'" until all open connections are closed')},bt.onsuccess=function(){var gt=bt.result;gt&&gt.close(),We(gt)}});return Re.then(function(We){Z.db=We;for(var Ze=0;Ze<Y.length;Ze++){var bt=Y[Ze];j(bt._dbInfo)}}).catch(function(We){throw(ae(w,We)||y.resolve()).catch(function(){}),We})})}return C(_,P),_}var xa={_driver:"asyncStorage",_initStorage:me,_support:h(),iterate:Ye,getItem:ke,setItem:O,removeItem:St,clear:ws,length:Ca,key:ar,keys:Sn,dropInstance:wa};function Gi(){return typeof openDatabase=="function"}var $r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Hc="~~local_forage_type~",Hi=/^~~local_forage_type~([^~]+)~/,Ma="__lfsc__:",Xt=Ma.length,xs="arbf",wo="blob",Fi="si08",Qi="ui08",qi="uic8",ji="si16",Ms="si32",Ss="ur16",Sa="ui32",Ta="fl32",xo="fl64",ka=Xt+xs.length,Mo=Object.prototype.toString;function La(w){var P=w.length*.75,S=w.length,R,_=0,U,q,W,Z;w[w.length-1]==="="&&(P--,w[w.length-2]==="="&&P--);var Y=new ArrayBuffer(P),ee=new Uint8Array(Y);for(R=0;R<S;R+=4)U=$r.indexOf(w[R]),q=$r.indexOf(w[R+1]),W=$r.indexOf(w[R+2]),Z=$r.indexOf(w[R+3]),ee[_++]=U<<2|q>>4,ee[_++]=(q&15)<<4|W>>2,ee[_++]=(W&3)<<6|Z&63;return Y}function Ts(w){var P=new Uint8Array(w),S="",R;for(R=0;R<P.length;R+=3)S+=$r[P[R]>>2],S+=$r[(P[R]&3)<<4|P[R+1]>>4],S+=$r[(P[R+1]&15)<<2|P[R+2]>>6],S+=$r[P[R+2]&63];return P.length%3===2?S=S.substring(0,S.length-1)+"=":P.length%3===1&&(S=S.substring(0,S.length-2)+"=="),S}function Fc(w,P){var S="";if(w&&(S=Mo.call(w)),w&&(S==="[object ArrayBuffer]"||w.buffer&&Mo.call(w.buffer)==="[object ArrayBuffer]")){var R,_=Ma;w instanceof ArrayBuffer?(R=w,_+=xs):(R=w.buffer,S==="[object Int8Array]"?_+=Fi:S==="[object Uint8Array]"?_+=Qi:S==="[object Uint8ClampedArray]"?_+=qi:S==="[object Int16Array]"?_+=ji:S==="[object Uint16Array]"?_+=Ss:S==="[object Int32Array]"?_+=Ms:S==="[object Uint32Array]"?_+=Sa:S==="[object Float32Array]"?_+=Ta:S==="[object Float64Array]"?_+=xo:P(new Error("Failed to get type for BinaryArray"))),P(_+Ts(R))}else if(S==="[object Blob]"){var U=new FileReader;U.onload=function(){var q=Hc+w.type+"~"+Ts(this.result);P(Ma+wo+q)},U.readAsArrayBuffer(w)}else try{P(JSON.stringify(w))}catch(q){console.error("Couldn't convert value into a JSON string: ",w),P(null,q)}}function Qc(w){if(w.substring(0,Xt)!==Ma)return JSON.parse(w);var P=w.substring(ka),S=w.substring(Xt,ka),R;if(S===wo&&Hi.test(P)){var _=P.match(Hi);R=_[1],P=P.substring(_[0].length)}var U=La(P);switch(S){case xs:return U;case wo:return b([U],{type:R});case Fi:return new Int8Array(U);case Qi:return new Uint8Array(U);case qi:return new Uint8ClampedArray(U);case ji:return new Int16Array(U);case Ss:return new Uint16Array(U);case Ms:return new Int32Array(U);case Sa:return new Uint32Array(U);case Ta:return new Float32Array(U);case xo:return new Float64Array(U);default:throw new Error("Unkown type: "+S)}}var ks={serialize:Fc,deserialize:Qc,stringToBuffer:La,bufferToString:Ts};function Vi(w,P,S,R){w.executeSql("CREATE TABLE IF NOT EXISTS "+P.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],S,R)}function qc(w){var P=this,S={db:null};if(w)for(var R in w)S[R]=typeof w[R]!="string"?w[R].toString():w[R];var _=new y(function(U,q){try{S.db=openDatabase(S.name,String(S.version),S.description,S.size)}catch(W){return q(W)}S.db.transaction(function(W){Vi(W,S,function(){P._dbInfo=S,U()},function(Z,Y){q(Y)})},q)});return S.serializer=ks,_}function Dr(w,P,S,R,_,U){w.executeSql(S,R,_,function(q,W){W.code===W.SYNTAX_ERR?q.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[P.storeName],function(Z,Y){Y.rows.length?U(Z,W):Vi(Z,P,function(){Z.executeSql(S,R,_,U)},U)},U):U(q,W)},U)}function So(w,P){var S=this;w=D(w);var R=new y(function(_,U){S.ready().then(function(){var q=S._dbInfo;q.db.transaction(function(W){Dr(W,q,"SELECT * FROM "+q.storeName+" WHERE key = ? LIMIT 1",[w],function(Z,Y){var ee=Y.rows.length?Y.rows.item(0).value:null;ee&&(ee=q.serializer.deserialize(ee)),_(ee)},function(Z,Y){U(Y)})})}).catch(U)});return C(R,P),R}function To(w,P){var S=this,R=new y(function(_,U){S.ready().then(function(){var q=S._dbInfo;q.db.transaction(function(W){Dr(W,q,"SELECT * FROM "+q.storeName,[],function(Z,Y){for(var ee=Y.rows,de=ee.length,Re=0;Re<de;Re++){var We=ee.item(Re),Ze=We.value;if(Ze&&(Ze=q.serializer.deserialize(Ze)),Ze=w(Ze,We.key,Re+1),Ze!==void 0){_(Ze);return}}_()},function(Z,Y){U(Y)})})}).catch(U)});return C(R,P),R}function Aa(w,P,S,R){var _=this;w=D(w);var U=new y(function(q,W){_.ready().then(function(){P===void 0&&(P=null);var Z=P,Y=_._dbInfo;Y.serializer.serialize(P,function(ee,de){de?W(de):Y.db.transaction(function(Re){Dr(Re,Y,"INSERT OR REPLACE INTO "+Y.storeName+" (key, value) VALUES (?, ?)",[w,ee],function(){q(Z)},function(We,Ze){W(Ze)})},function(Re){if(Re.code===Re.QUOTA_ERR){if(R>0){q(Aa.apply(_,[w,Z,S,R-1]));return}W(Re)}})})}).catch(W)});return C(U,S),U}function re(w,P,S){return Aa.apply(this,[w,P,S,1])}function V(w,P){var S=this;w=D(w);var R=new y(function(_,U){S.ready().then(function(){var q=S._dbInfo;q.db.transaction(function(W){Dr(W,q,"DELETE FROM "+q.storeName+" WHERE key = ?",[w],function(){_()},function(Z,Y){U(Y)})})}).catch(U)});return C(R,P),R}function ne(w){var P=this,S=new y(function(R,_){P.ready().then(function(){var U=P._dbInfo;U.db.transaction(function(q){Dr(q,U,"DELETE FROM "+U.storeName,[],function(){R()},function(W,Z){_(Z)})})}).catch(_)});return C(S,w),S}function we(w){var P=this,S=new y(function(R,_){P.ready().then(function(){var U=P._dbInfo;U.db.transaction(function(q){Dr(q,U,"SELECT COUNT(key) as c FROM "+U.storeName,[],function(W,Z){var Y=Z.rows.item(0).c;R(Y)},function(W,Z){_(Z)})})}).catch(_)});return C(S,w),S}function Se(w,P){var S=this,R=new y(function(_,U){S.ready().then(function(){var q=S._dbInfo;q.db.transaction(function(W){Dr(W,q,"SELECT key FROM "+q.storeName+" WHERE id = ? LIMIT 1",[w+1],function(Z,Y){var ee=Y.rows.length?Y.rows.item(0).key:null;_(ee)},function(Z,Y){U(Y)})})}).catch(U)});return C(R,P),R}function qe(w){var P=this,S=new y(function(R,_){P.ready().then(function(){var U=P._dbInfo;U.db.transaction(function(q){Dr(q,U,"SELECT key FROM "+U.storeName,[],function(W,Z){for(var Y=[],ee=0;ee<Z.rows.length;ee++)Y.push(Z.rows.item(ee).key);R(Y)},function(W,Z){_(Z)})})}).catch(_)});return C(S,w),S}function Le(w){return new y(function(P,S){w.transaction(function(R){R.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(_,U){for(var q=[],W=0;W<U.rows.length;W++)q.push(U.rows.item(W).name);P({db:w,storeNames:q})},function(_,U){S(U)})},function(R){S(R)})})}function Ge(w,P){P=$.apply(this,arguments);var S=this.config();w=typeof w!="function"&&w||{},w.name||(w.name=w.name||S.name,w.storeName=w.storeName||S.storeName);var R=this,_;return w.name?_=new y(function(U){var q;w.name===S.name?q=R._dbInfo.db:q=openDatabase(w.name,"","",0),w.storeName?U({db:q,storeNames:[w.storeName]}):U(Le(q))}).then(function(U){return new y(function(q,W){U.db.transaction(function(Z){function Y(We){return new y(function(Ze,bt){Z.executeSql("DROP TABLE IF EXISTS "+We,[],function(){Ze()},function(gt,br){bt(br)})})}for(var ee=[],de=0,Re=U.storeNames.length;de<Re;de++)ee.push(Y(U.storeNames[de]));y.all(ee).then(function(){q()}).catch(function(We){W(We)})},function(Z){W(Z)})})}):_=y.reject("Invalid arguments"),C(_,P),_}var pt={_driver:"webSQLStorage",_initStorage:qc,_support:Gi(),iterate:To,getItem:So,setItem:re,removeItem:V,clear:ne,length:we,key:Se,keys:qe,dropInstance:Ge};function rn(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch(w){return!1}}function Gr(w,P){var S=w.name+"/";return w.storeName!==P.storeName&&(S+=w.storeName+"/"),S}function _t(){var w="_localforage_support_test";try{return localStorage.setItem(w,!0),localStorage.removeItem(w),!1}catch(P){return!0}}function Ue(){return!_t()||localStorage.length>0}function it(w){var P=this,S={};if(w)for(var R in w)S[R]=w[R];return S.keyPrefix=Gr(w,P._defaultConfig),Ue()?(P._dbInfo=S,S.serializer=ks,y.resolve()):y.reject()}function ft(w){var P=this,S=P.ready().then(function(){for(var R=P._dbInfo.keyPrefix,_=localStorage.length-1;_>=0;_--){var U=localStorage.key(_);U.indexOf(R)===0&&localStorage.removeItem(U)}});return C(S,w),S}function Qt(w,P){var S=this;w=D(w);var R=S.ready().then(function(){var _=S._dbInfo,U=localStorage.getItem(_.keyPrefix+w);return U&&(U=_.serializer.deserialize(U)),U});return C(R,P),R}function zn(w,P){var S=this,R=S.ready().then(function(){for(var _=S._dbInfo,U=_.keyPrefix,q=U.length,W=localStorage.length,Z=1,Y=0;Y<W;Y++){var ee=localStorage.key(Y);if(ee.indexOf(U)===0){var de=localStorage.getItem(ee);if(de&&(de=_.serializer.deserialize(de)),de=w(de,ee.substring(q),Z++),de!==void 0)return de}}});return C(R,P),R}function Tt(w,P){var S=this,R=S.ready().then(function(){var _=S._dbInfo,U;try{U=localStorage.key(w)}catch(q){U=null}return U&&(U=U.substring(_.keyPrefix.length)),U});return C(R,P),R}function ko(w){var P=this,S=P.ready().then(function(){for(var R=P._dbInfo,_=localStorage.length,U=[],q=0;q<_;q++){var W=localStorage.key(q);W.indexOf(R.keyPrefix)===0&&U.push(W.substring(R.keyPrefix.length))}return U});return C(S,w),S}function jc(w){var P=this,S=P.keys().then(function(R){return R.length});return C(S,w),S}function q0(w,P){var S=this;w=D(w);var R=S.ready().then(function(){var _=S._dbInfo;localStorage.removeItem(_.keyPrefix+w)});return C(R,P),R}function j0(w,P,S){var R=this;w=D(w);var _=R.ready().then(function(){P===void 0&&(P=null);var U=P;return new y(function(q,W){var Z=R._dbInfo;Z.serializer.serialize(P,function(Y,ee){if(ee)W(ee);else try{localStorage.setItem(Z.keyPrefix+w,Y),q(U)}catch(de){(de.name==="QuotaExceededError"||de.name==="NS_ERROR_DOM_QUOTA_REACHED")&&W(de),W(de)}})})});return C(_,S),_}function V0(w,P){if(P=$.apply(this,arguments),w=typeof w!="function"&&w||{},!w.name){var S=this.config();w.name=w.name||S.name,w.storeName=w.storeName||S.storeName}var R=this,_;return w.name?_=new y(function(U){w.storeName?U(Gr(w,R._defaultConfig)):U(w.name+"/")}).then(function(U){for(var q=localStorage.length-1;q>=0;q--){var W=localStorage.key(q);W.indexOf(U)===0&&localStorage.removeItem(W)}}):_=y.reject("Invalid arguments"),C(_,P),_}var W0={_driver:"localStorageWrapper",_initStorage:it,_support:rn(),iterate:zn,getItem:Qt,setItem:j0,removeItem:q0,clear:ft,length:jc,key:Tt,keys:ko,dropInstance:V0},z0=function(P,S){return P===S||typeof P=="number"&&typeof S=="number"&&isNaN(P)&&isNaN(S)},K0=function(P,S){for(var R=P.length,_=0;_<R;){if(z0(P[_],S))return!0;_++}return!1},Op=Array.isArray||function(w){return Object.prototype.toString.call(w)==="[object Array]"},Lo={},Up={},Ls={INDEXEDDB:xa,WEBSQL:pt,LOCALSTORAGE:W0},X0=[Ls.INDEXEDDB._driver,Ls.WEBSQL._driver,Ls.LOCALSTORAGE._driver],Wi=["dropInstance"],Vc=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Wi),Z0={description:"",driver:X0.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Y0(w,P){w[P]=function(){var S=arguments;return w.ready().then(function(){return w[P].apply(w,S)})}}function Wc(){for(var w=1;w<arguments.length;w++){var P=arguments[w];if(P)for(var S in P)P.hasOwnProperty(S)&&(Op(P[S])?arguments[0][S]=P[S].slice():arguments[0][S]=P[S])}return arguments[0]}var J0=function(){function w(P){p(this,w);for(var S in Ls)if(Ls.hasOwnProperty(S)){var R=Ls[S],_=R._driver;this[S]=_,Lo[_]||this.defineDriver(R)}this._defaultConfig=Wc({},Z0),this._config=Wc({},this._defaultConfig,P),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return w.prototype.config=function(S){if((typeof S>"u"?"undefined":c(S))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var R in S){if(R==="storeName"&&(S[R]=S[R].replace(/\W/g,"_")),R==="version"&&typeof S[R]!="number")return new Error("Database version must be a number.");this._config[R]=S[R]}return"driver"in S&&S.driver?this.setDriver(this._config.driver):!0}else return typeof S=="string"?this._config[S]:this._config},w.prototype.defineDriver=function(S,R,_){var U=new y(function(q,W){try{var Z=S._driver,Y=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!S._driver){W(Y);return}for(var ee=Vc.concat("_initStorage"),de=0,Re=ee.length;de<Re;de++){var We=ee[de],Ze=!K0(Wi,We);if((Ze||S[We])&&typeof S[We]!="function"){W(Y);return}}var bt=function(){for(var Ao=function(r1){return function(){var n1=new Error("Method "+r1+" is not implemented by the current driver"),Bp=y.reject(n1);return C(Bp,arguments[arguments.length-1]),Bp}},zc=0,t1=Wi.length;zc<t1;zc++){var Kc=Wi[zc];S[Kc]||(S[Kc]=Ao(Kc))}};bt();var gt=function(Ao){Lo[Z]&&console.info("Redefining LocalForage driver: "+Z),Lo[Z]=S,Up[Z]=Ao,q()};"_support"in S?S._support&&typeof S._support=="function"?S._support().then(gt,W):gt(!!S._support):gt(!0)}catch(br){W(br)}});return x(U,R,_),U},w.prototype.driver=function(){return this._driver||null},w.prototype.getDriver=function(S,R,_){var U=Lo[S]?y.resolve(Lo[S]):y.reject(new Error("Driver not found."));return x(U,R,_),U},w.prototype.getSerializer=function(S){var R=y.resolve(ks);return x(R,S),R},w.prototype.ready=function(S){var R=this,_=R._driverSet.then(function(){return R._ready===null&&(R._ready=R._initDriver()),R._ready});return x(_,S,S),_},w.prototype.setDriver=function(S,R,_){var U=this;Op(S)||(S=[S]);var q=this._getSupportedDrivers(S);function W(){U._config.driver=U.driver()}function Z(de){return U._extend(de),W(),U._ready=U._initStorage(U._config),U._ready}function Y(de){return function(){var Re=0;function We(){for(;Re<de.length;){var Ze=de[Re];return Re++,U._dbInfo=null,U._ready=null,U.getDriver(Ze).then(Z).catch(We)}W();var bt=new Error("No available storage method found.");return U._driverSet=y.reject(bt),U._driverSet}return We()}}var ee=this._driverSet!==null?this._driverSet.catch(function(){return y.resolve()}):y.resolve();return this._driverSet=ee.then(function(){var de=q[0];return U._dbInfo=null,U._ready=null,U.getDriver(de).then(function(Re){U._driver=Re._driver,W(),U._wrapLibraryMethodsWithReady(),U._initDriver=Y(q)})}).catch(function(){W();var de=new Error("No available storage method found.");return U._driverSet=y.reject(de),U._driverSet}),x(this._driverSet,R,_),this._driverSet},w.prototype.supports=function(S){return!!Up[S]},w.prototype._extend=function(S){Wc(this,S)},w.prototype._getSupportedDrivers=function(S){for(var R=[],_=0,U=S.length;_<U;_++){var q=S[_];this.supports(q)&&R.push(q)}return R},w.prototype._wrapLibraryMethodsWithReady=function(){for(var S=0,R=Vc.length;S<R;S++)Y0(this,Vc[S])},w.prototype.createInstance=function(S){return new w(S)},w}(),e1=new J0;s.exports=e1},{3:3}]},{},[4])(4)})});var ig=Pa((Ro,Us)=>{var K1=200,Of="__lodash_hash_undefined__",Uf=9007199254740991,bu="[object Arguments]",X1="[object Array]",Bf="[object Boolean]",Rf="[object Date]",Z1="[object Error]",yu="[object Function]",If="[object GeneratorFunction]",dl="[object Map]",Nf="[object Number]",vu="[object Object]",Cf="[object Promise]",_f="[object RegExp]",pl="[object Set]",$f="[object String]",Df="[object Symbol]",du="[object WeakMap]",Gf="[object ArrayBuffer]",fl="[object DataView]",Hf="[object Float32Array]",Ff="[object Float64Array]",Qf="[object Int8Array]",qf="[object Int16Array]",jf="[object Int32Array]",Vf="[object Uint8Array]",Wf="[object Uint8ClampedArray]",zf="[object Uint16Array]",Kf="[object Uint32Array]",Y1=/[\\^$.*+?()[\]{}|]/g,J1=/\w*$/,eb=/^\[object .+?Constructor\]$/,tb=/^(?:0|[1-9]\d*)$/,tt={};tt[bu]=tt[X1]=tt[Gf]=tt[fl]=tt[Bf]=tt[Rf]=tt[Hf]=tt[Ff]=tt[Qf]=tt[qf]=tt[jf]=tt[dl]=tt[Nf]=tt[vu]=tt[_f]=tt[pl]=tt[$f]=tt[Df]=tt[Vf]=tt[Wf]=tt[zf]=tt[Kf]=!0;tt[Z1]=tt[yu]=tt[du]=!1;var rb=typeof global=="object"&&global&&global.Object===Object&&global,nb=typeof self=="object"&&self&&self.Object===Object&&self,Ln=rb||nb||Function("return this")(),Xf=typeof Ro=="object"&&Ro&&!Ro.nodeType&&Ro,wf=Xf&&typeof Us=="object"&&Us&&!Us.nodeType&&Us,ab=wf&&wf.exports===Xf;function sb(t,r){return t.set(r[0],r[1]),t}function ob(t,r){return t.add(r),t}function ib(t,r){for(var n=-1,a=t?t.length:0;++n<a&&r(t[n],n,t)!==!1;);return t}function lb(t,r){for(var n=-1,a=r.length,s=t.length;++n<a;)t[s+n]=r[n];return t}function Zf(t,r,n,a){var s=-1,o=t?t.length:0;for(a&&o&&(n=t[++s]);++s<o;)n=r(n,t[s],s,t);return n}function cb(t,r){for(var n=-1,a=Array(t);++n<t;)a[n]=r(n);return a}function ub(t,r){return t==null?void 0:t[r]}function Yf(t){var r=!1;if(t!=null&&typeof t.toString!="function")try{r=!!(t+"")}catch(n){}return r}function xf(t){var r=-1,n=Array(t.size);return t.forEach(function(a,s){n[++r]=[s,a]}),n}function Cu(t,r){return function(n){return t(r(n))}}function Mf(t){var r=-1,n=Array(t.size);return t.forEach(function(a){n[++r]=a}),n}var db=Array.prototype,pb=Function.prototype,gl=Object.prototype,uu=Ln["__core-js_shared__"],Sf=function(){var t=/[^.]+$/.exec(uu&&uu.keys&&uu.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Jf=pb.toString,ra=gl.hasOwnProperty,ml=gl.toString,fb=RegExp("^"+Jf.call(ra).replace(Y1,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Tf=ab?Ln.Buffer:void 0,kf=Ln.Symbol,Lf=Ln.Uint8Array,gb=Cu(Object.getPrototypeOf,Object),mb=Object.create,hb=gl.propertyIsEnumerable,bb=db.splice,Af=Object.getOwnPropertySymbols,yb=Tf?Tf.isBuffer:void 0,vb=Cu(Object.keys,Object),pu=Is(Ln,"DataView"),Io=Is(Ln,"Map"),fu=Is(Ln,"Promise"),gu=Is(Ln,"Set"),mu=Is(Ln,"WeakMap"),No=Is(Object,"create"),Cb=$a(pu),wb=$a(Io),xb=$a(fu),Mb=$a(gu),Sb=$a(mu),Pf=kf?kf.prototype:void 0,Ef=Pf?Pf.valueOf:void 0;function _a(t){var r=-1,n=t?t.length:0;for(this.clear();++r<n;){var a=t[r];this.set(a[0],a[1])}}function Tb(){this.__data__=No?No(null):{}}function kb(t){return this.has(t)&&delete this.__data__[t]}function Lb(t){var r=this.__data__;if(No){var n=r[t];return n===Of?void 0:n}return ra.call(r,t)?r[t]:void 0}function Ab(t){var r=this.__data__;return No?r[t]!==void 0:ra.call(r,t)}function Pb(t,r){var n=this.__data__;return n[t]=No&&r===void 0?Of:r,this}_a.prototype.clear=Tb;_a.prototype.delete=kb;_a.prototype.get=Lb;_a.prototype.has=Ab;_a.prototype.set=Pb;function An(t){var r=-1,n=t?t.length:0;for(this.clear();++r<n;){var a=t[r];this.set(a[0],a[1])}}function Eb(){this.__data__=[]}function Ob(t){var r=this.__data__,n=hl(r,t);if(n<0)return!1;var a=r.length-1;return n==a?r.pop():bb.call(r,n,1),!0}function Ub(t){var r=this.__data__,n=hl(r,t);return n<0?void 0:r[n][1]}function Bb(t){return hl(this.__data__,t)>-1}function Rb(t,r){var n=this.__data__,a=hl(n,t);return a<0?n.push([t,r]):n[a][1]=r,this}An.prototype.clear=Eb;An.prototype.delete=Ob;An.prototype.get=Ub;An.prototype.has=Bb;An.prototype.set=Rb;function Bs(t){var r=-1,n=t?t.length:0;for(this.clear();++r<n;){var a=t[r];this.set(a[0],a[1])}}function Ib(){this.__data__={hash:new _a,map:new(Io||An),string:new _a}}function Nb(t){return bl(this,t).delete(t)}function _b(t){return bl(this,t).get(t)}function $b(t){return bl(this,t).has(t)}function Db(t,r){return bl(this,t).set(t,r),this}Bs.prototype.clear=Ib;Bs.prototype.delete=Nb;Bs.prototype.get=_b;Bs.prototype.has=$b;Bs.prototype.set=Db;function Rs(t){this.__data__=new An(t)}function Gb(){this.__data__=new An}function Hb(t){return this.__data__.delete(t)}function Fb(t){return this.__data__.get(t)}function Qb(t){return this.__data__.has(t)}function qb(t,r){var n=this.__data__;if(n instanceof An){var a=n.__data__;if(!Io||a.length<K1-1)return a.push([t,r]),this;n=this.__data__=new Bs(a)}return n.set(t,r),this}Rs.prototype.clear=Gb;Rs.prototype.delete=Hb;Rs.prototype.get=Fb;Rs.prototype.has=Qb;Rs.prototype.set=qb;function jb(t,r){var n=xu(t)||my(t)?cb(t.length,String):[],a=n.length,s=!!a;for(var o in t)(r||ra.call(t,o))&&!(s&&(o=="length"||dy(o,a)))&&n.push(o);return n}function eg(t,r,n){var a=t[r];(!(ra.call(t,r)&&ag(a,n))||n===void 0&&!(r in t))&&(t[r]=n)}function hl(t,r){for(var n=t.length;n--;)if(ag(t[n][0],r))return n;return-1}function Vb(t,r){return t&&tg(r,Mu(r),t)}function hu(t,r,n,a,s,o,c){var p;if(a&&(p=o?a(t,s,o,c):a(t)),p!==void 0)return p;if(!yl(t))return t;var f=xu(t);if(f){if(p=ly(t),!r)return sy(t,p)}else{var g=Na(t),h=g==yu||g==If;if(by(t))return Yb(t,r);if(g==vu||g==bu||h&&!o){if(Yf(t))return o?t:{};if(p=cy(h?{}:t),!r)return oy(t,Vb(p,t))}else{if(!tt[g])return o?t:{};p=uy(t,g,hu,r)}}c||(c=new Rs);var b=c.get(t);if(b)return b;if(c.set(t,p),!f)var y=n?iy(t):Mu(t);return ib(y||t,function(C,x){y&&(x=C,C=t[x]),eg(p,x,hu(C,r,n,a,x,t,c))}),p}function Wb(t){return yl(t)?mb(t):{}}function zb(t,r,n){var a=r(t);return xu(t)?a:lb(a,n(t))}function Kb(t){return ml.call(t)}function Xb(t){if(!yl(t)||fy(t))return!1;var r=og(t)||Yf(t)?fb:eb;return r.test($a(t))}function Zb(t){if(!ng(t))return vb(t);var r=[];for(var n in Object(t))ra.call(t,n)&&n!="constructor"&&r.push(n);return r}function Yb(t,r){if(r)return t.slice();var n=new t.constructor(t.length);return t.copy(n),n}function wu(t){var r=new t.constructor(t.byteLength);return new Lf(r).set(new Lf(t)),r}function Jb(t,r){var n=r?wu(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}function ey(t,r,n){var a=r?n(xf(t),!0):xf(t);return Zf(a,sb,new t.constructor)}function ty(t){var r=new t.constructor(t.source,J1.exec(t));return r.lastIndex=t.lastIndex,r}function ry(t,r,n){var a=r?n(Mf(t),!0):Mf(t);return Zf(a,ob,new t.constructor)}function ny(t){return Ef?Object(Ef.call(t)):{}}function ay(t,r){var n=r?wu(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function sy(t,r){var n=-1,a=t.length;for(r||(r=Array(a));++n<a;)r[n]=t[n];return r}function tg(t,r,n,a){n||(n={});for(var s=-1,o=r.length;++s<o;){var c=r[s],p=a?a(n[c],t[c],c,n,t):void 0;eg(n,c,p===void 0?t[c]:p)}return n}function oy(t,r){return tg(t,rg(t),r)}function iy(t){return zb(t,Mu,rg)}function bl(t,r){var n=t.__data__;return py(r)?n[typeof r=="string"?"string":"hash"]:n.map}function Is(t,r){var n=ub(t,r);return Xb(n)?n:void 0}var rg=Af?Cu(Af,Object):Cy,Na=Kb;(pu&&Na(new pu(new ArrayBuffer(1)))!=fl||Io&&Na(new Io)!=dl||fu&&Na(fu.resolve())!=Cf||gu&&Na(new gu)!=pl||mu&&Na(new mu)!=du)&&(Na=function(t){var r=ml.call(t),n=r==vu?t.constructor:void 0,a=n?$a(n):void 0;if(a)switch(a){case Cb:return fl;case wb:return dl;case xb:return Cf;case Mb:return pl;case Sb:return du}return r});function ly(t){var r=t.length,n=t.constructor(r);return r&&typeof t[0]=="string"&&ra.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function cy(t){return typeof t.constructor=="function"&&!ng(t)?Wb(gb(t)):{}}function uy(t,r,n,a){var s=t.constructor;switch(r){case Gf:return wu(t);case Bf:case Rf:return new s(+t);case fl:return Jb(t,a);case Hf:case Ff:case Qf:case qf:case jf:case Vf:case Wf:case zf:case Kf:return ay(t,a);case dl:return ey(t,a,n);case Nf:case $f:return new s(t);case _f:return ty(t);case pl:return ry(t,a,n);case Df:return ny(t)}}function dy(t,r){return r=r==null?Uf:r,!!r&&(typeof t=="number"||tb.test(t))&&t>-1&&t%1==0&&t<r}function py(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}function fy(t){return!!Sf&&Sf in t}function ng(t){var r=t&&t.constructor,n=typeof r=="function"&&r.prototype||gl;return t===n}function $a(t){if(t!=null){try{return Jf.call(t)}catch(r){}try{return t+""}catch(r){}}return""}function gy(t,r){return hu(t,!0,!0,r)}function ag(t,r){return t===r||t!==t&&r!==r}function my(t){return hy(t)&&ra.call(t,"callee")&&(!hb.call(t,"callee")||ml.call(t)==bu)}var xu=Array.isArray;function sg(t){return t!=null&&yy(t.length)&&!og(t)}function hy(t){return vy(t)&&sg(t)}var by=yb||wy;function og(t){var r=yl(t)?ml.call(t):"";return r==yu||r==If}function yy(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Uf}function yl(t){var r=typeof t;return!!t&&(r=="object"||r=="function")}function vy(t){return!!t&&typeof t=="object"}function Mu(t){return sg(t)?jb(t):Zb(t)}function Cy(){return[]}function wy(){return!1}Us.exports=gy});var am=Pa((Ql,nm)=>{(function(t,r){typeof Ql=="object"&&typeof nm<"u"?r(Ql):typeof define=="function"&&define.amd?define(["exports"],r):(t=typeof globalThis<"u"?globalThis:t||self,r(t.fastUniqueNumbers={}))})(Ql,function(t){"use strict";var r=function(y){return function(C){var x=y(C);return C.add(x),x}},n=function(y){return function(C,x){return y.set(C,x),x}},a=Number.MAX_SAFE_INTEGER===void 0?9007199254740991:Number.MAX_SAFE_INTEGER,s=536870912,o=s*2,c=function(y,C){return function(x){var D=C.get(x),$=D===void 0?x.size:D<o?D+1:0;if(!x.has($))return y(x,$);if(x.size<s){for(;x.has($);)$=Math.floor(Math.random()*o);return y(x,$)}if(x.size>a)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;x.has($);)$=Math.floor(Math.random()*a);return y(x,$)}},p=new WeakMap,f=n(p),g=c(f,p),h=r(g);t.addUniqueNumber=h,t.generateUniqueNumber=g})});(function(){"use strict";var t=function(re,V){var ne=function(qe){for(var Le=0,Ge=qe.length;Le<Ge;Le++)we(qe[Le])},we=function(qe){var Le=qe.target,Ge=qe.attributeName,pt=qe.oldValue;Le.attributeChangedCallback(Ge,pt,Le.getAttribute(Ge))};return function(Se,qe){var Le=Se.constructor.observedAttributes;return Le&&re(qe).then(function(){new V(ne).observe(Se,{attributes:!0,attributeOldValue:!0,attributeFilter:Le});for(var Ge=0,pt=Le.length;Ge<pt;Ge++)Se.hasAttribute(Le[Ge])&&we({target:Se,attributeName:Le[Ge],oldValue:null})}),Se}};function r(re,V){if(re){if(typeof re=="string")return n(re,V);var ne=Object.prototype.toString.call(re).slice(8,-1);if(ne==="Object"&&re.constructor&&(ne=re.constructor.name),ne==="Map"||ne==="Set")return Array.from(re);if(ne==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ne))return n(re,V)}}function n(re,V){(V==null||V>re.length)&&(V=re.length);for(var ne=0,we=new Array(V);ne<V;ne++)we[ne]=re[ne];return we}function a(re,V){var ne=typeof Symbol<"u"&&re[Symbol.iterator]||re["@@iterator"];if(!ne){if(Array.isArray(re)||(ne=r(re))||V&&re&&typeof re.length=="number"){ne&&(re=ne);var we=0,Se=function(){};return{s:Se,n:function(){return we>=re.length?{done:!0}:{done:!1,value:re[we++]}},e:function(pt){throw pt},f:Se}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var qe=!0,Le=!1,Ge;return{s:function(){ne=ne.call(re)},n:function(){var pt=ne.next();return qe=pt.done,pt},e:function(pt){Le=!0,Ge=pt},f:function(){try{!qe&&ne.return!=null&&ne.return()}finally{if(Le)throw Ge}}}}var s=!0,o=!1,c="querySelectorAll",p=function(V){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document,we=arguments.length>2&&arguments[2]!==void 0?arguments[2]:MutationObserver,Se=arguments.length>3&&arguments[3]!==void 0?arguments[3]:["*"],qe=function pt(rn,Gr,_t,Ue,it,ft){var Qt=a(rn),zn;try{for(Qt.s();!(zn=Qt.n()).done;){var Tt=zn.value;(ft||c in Tt)&&(it?_t.has(Tt)||(_t.add(Tt),Ue.delete(Tt),V(Tt,it)):Ue.has(Tt)||(Ue.add(Tt),_t.delete(Tt),V(Tt,it)),ft||pt(Tt[c](Gr),Gr,_t,Ue,it,s))}}catch(ko){Qt.e(ko)}finally{Qt.f()}},Le=new we(function(pt){if(Se.length){var rn=Se.join(","),Gr=new Set,_t=new Set,Ue=a(pt),it;try{for(Ue.s();!(it=Ue.n()).done;){var ft=it.value,Qt=ft.addedNodes,zn=ft.removedNodes;qe(zn,rn,Gr,_t,o,o),qe(Qt,rn,Gr,_t,s,o)}}catch(Tt){Ue.e(Tt)}finally{Ue.f()}}}),Ge=Le.observe;return(Le.observe=function(pt){return Ge.call(Le,pt,{subtree:s,childList:s})})(ne),Le},f="querySelectorAll",g=self,h=g.document,b=g.Element,y=g.MutationObserver,C=g.Set,x=g.WeakMap,D=function(V){return f in V},$=[].filter,L=function(re){var V=new x,ne=function(Ue){for(var it=0,ft=Ue.length;it<ft;it++)V.delete(Ue[it])},we=function(){for(var Ue=rn.takeRecords(),it=0,ft=Ue.length;it<ft;it++)Le($.call(Ue[it].removedNodes,D),!1),Le($.call(Ue[it].addedNodes,D),!0)},Se=function(Ue){return Ue.matches||Ue.webkitMatchesSelector||Ue.msMatchesSelector},qe=function(Ue,it){var ft;if(it)for(var Qt,zn=Se(Ue),Tt=0,ko=Ge.length;Tt<ko;Tt++)zn.call(Ue,Qt=Ge[Tt])&&(V.has(Ue)||V.set(Ue,new C),ft=V.get(Ue),ft.has(Qt)||(ft.add(Qt),re.handle(Ue,it,Qt)));else V.has(Ue)&&(ft=V.get(Ue),V.delete(Ue),ft.forEach(function(jc){re.handle(Ue,it,jc)}))},Le=function(Ue){for(var it=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,ft=0,Qt=Ue.length;ft<Qt;ft++)qe(Ue[ft],it)},Ge=re.query,pt=re.root||h,rn=p(qe,pt,y,Ge),Gr=b.prototype.attachShadow;return Gr&&(b.prototype.attachShadow=function(_t){var Ue=Gr.call(this,_t);return rn.observe(Ue),Ue}),Ge.length&&Le(pt[f](Ge)),{drop:ne,flush:we,observer:rn,parse:Le}},E=self,H=E.document,I=E.Map,N=E.MutationObserver,k=E.Object,A=E.Set,Q=E.WeakMap,J=E.Element,M=E.HTMLElement,j=E.Node,ae=E.Error,ge=E.TypeError,Je=E.Reflect,ut=k.defineProperty,ht=k.keys,Ot=k.getOwnPropertyNames,xt=k.setPrototypeOf,Nt=!self.customElements,ve=function(V){for(var ne=ht(V),we=[],Se=new A,qe=ne.length,Le=0;Le<qe;Le++){we[Le]=V[ne[Le]];try{delete V[ne[Le]]}catch(Ge){Se.add(Le)}}return function(){for(var Ge=0;Ge<qe;Ge++)Se.has(Ge)||(V[ne[Ge]]=we[Ge])}};if(Nt){var ue=function(){var V=this.constructor;if(!be.has(V))throw new ge("Illegal constructor");var ne=be.get(V);if(ar)return wa(ar,ne);var we=le.call(H,ne);return wa(xt(we,V.prototype),ne)},le=H.createElement,be=new I,me=new I,ke=new I,Ye=new I,O=[],St=function(V,ne,we){var Se=ke.get(we);if(ne&&!Se.isPrototypeOf(V)){var qe=ve(V);ar=xt(V,Se);try{new Se.constructor}finally{ar=null,qe()}}var Le="".concat(ne?"":"dis","connectedCallback");Le in Se&&V[Le]()},ws=L({query:O,handle:St}),Ca=ws.parse,ar=null,Sn=function(V){if(!me.has(V)){var ne,we=new Promise(function(Se){ne=Se});me.set(V,{$:we,_:ne})}return me.get(V).$},wa=t(Sn,N);self.customElements={define:function(V,ne){if(Ye.has(V))throw new ae('the name "'.concat(V,'" has already been used with this registry'));be.set(ne,V),ke.set(V,ne.prototype),Ye.set(V,ne),O.push(V),Sn(V).then(function(){Ca(H.querySelectorAll(V))}),me.get(V)._(ne)},get:function(V){return Ye.get(V)},whenDefined:Sn},ut(ue.prototype=M.prototype,"constructor",{value:ue}),self.HTMLElement=ue,H.createElement=function(re,V){var ne=V&&V.is,we=ne?Ye.get(ne):Ye.get(re);return we?new we:le.call(H,re)},"isConnected"in j.prototype||ut(j.prototype,"isConnected",{configurable:!0,get:function(){return!(this.ownerDocument.compareDocumentPosition(this)&this.DOCUMENT_POSITION_DISCONNECTED)}})}else if(Nt=!self.customElements.get("extends-br"),Nt)try{var xa=function re(){return self.Reflect.construct(HTMLBRElement,[],re)};xa.prototype=HTMLLIElement.prototype;var Gi="extends-br";self.customElements.define("extends-br",xa,{extends:"br"}),Nt=H.createElement("br",{is:Gi}).outerHTML.indexOf(Gi)<0;var $r=self.customElements,Hc=$r.get,Hi=$r.whenDefined;self.customElements.whenDefined=function(re){var V=this;return Hi.call(this,re).then(function(ne){return ne||Hc.call(V,re)})}}catch(re){}if(Nt){var Ma=function(V){var ne=Ms.get(V);ks(ne.querySelectorAll(this),V.isConnected)},Xt=self.customElements,xs=H.createElement,wo=Xt.define,Fi=Xt.get,Qi=Xt.upgrade,qi=Je||{construct:function(V){return V.call(this)}},ji=qi.construct,Ms=new Q,Ss=new A,Sa=new I,Ta=new I,xo=new I,ka=new I,Mo=[],La=[],Ts=function(V){return ka.get(V)||Fi.call(Xt,V)},Fc=function(V,ne,we){var Se=xo.get(we);if(ne&&!Se.isPrototypeOf(V)){var qe=ve(V);Aa=xt(V,Se);try{new Se.constructor}finally{Aa=null,qe()}}var Le="".concat(ne?"":"dis","connectedCallback");Le in Se&&V[Le]()},Qc=L({query:La,handle:Fc}),ks=Qc.parse,Vi=L({query:Mo,handle:function(V,ne){Ms.has(V)&&(ne?Ss.add(V):Ss.delete(V),La.length&&Ma.call(La,V))}}),qc=Vi.parse,Dr=J.prototype.attachShadow;Dr&&(J.prototype.attachShadow=function(re){var V=Dr.call(this,re);return Ms.set(this,V),V});var So=function(V){if(!Ta.has(V)){var ne,we=new Promise(function(Se){ne=Se});Ta.set(V,{$:we,_:ne})}return Ta.get(V).$},To=t(So,N),Aa=null;Ot(self).filter(function(re){return/^HTML.*Element$/.test(re)}).forEach(function(re){var V=self[re];function ne(){var we=this.constructor;if(!Sa.has(we))throw new ge("Illegal constructor");var Se=Sa.get(we),qe=Se.is,Le=Se.tag;if(qe){if(Aa)return To(Aa,qe);var Ge=xs.call(H,Le);return Ge.setAttribute("is",qe),To(xt(Ge,we.prototype),qe)}else return ji.call(this,V,[],we)}ut(ne.prototype=V.prototype,"constructor",{value:ne}),ut(self,re,{value:ne})}),H.createElement=function(re,V){var ne=V&&V.is;if(ne){var we=ka.get(ne);if(we&&Sa.get(we).tag===re)return new we}var Se=xs.call(H,re);return ne&&Se.setAttribute("is",ne),Se},Xt.get=Ts,Xt.whenDefined=So,Xt.upgrade=function(re){var V=re.getAttribute("is");if(V){var ne=ka.get(V);if(ne){To(xt(re,ne.prototype),V);return}}Qi.call(Xt,re)},Xt.define=function(re,V,ne){if(Ts(re))throw new ae("'".concat(re,"' has already been defined as a custom element"));var we,Se=ne&&ne.extends;Sa.set(V,Se?{is:re,tag:Se}:{is:"",tag:re}),Se?(we="".concat(Se,'[is="').concat(re,'"]'),xo.set(we,V.prototype),ka.set(re,V),La.push(we)):(wo.apply(Xt,arguments),Mo.push(we=re)),So(re).then(function(){Se?(ks(H.querySelectorAll(we)),Ss.forEach(Ma,[we])):qc(H.querySelectorAll(we))}),Ta.get(re)._(V)}}})();var Zi=Hr($p()),nn=9e15,Xi=function(){for(var t=[],r=-323;r<=308;r++)t.push(+("1e"+r));return function(n){return t[n+323]}}(),K=function(t){return t instanceof Kn?t:new Kn(t)},Yt=function(t,r){return new Kn().fromMantissaExponent(t,r)},Ea=function(t,r){return new Kn().fromMantissaExponent_noNormalize(t,r)};function d1(t,r,n,a){var s=r.mul(n.pow(a));return Kn.floor(t.div(s).mul(n.sub(1)).add(1).log10()/n.log10())}function p1(t,r,n,a){return r.mul(n.pow(a)).mul(Kn.sub(1,n.pow(t))).div(Kn.sub(1,n))}var Kn=function(){function t(r){this.mantissa=NaN,this.exponent=NaN,r===void 0?(this.m=0,this.e=0):r instanceof t?this.fromDecimal(r):typeof r=="number"?this.fromNumber(r):this.fromString(r)}return Object.defineProperty(t.prototype,"m",{get:function(){return this.mantissa},set:function(r){this.mantissa=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"e",{get:function(){return this.exponent},set:function(r){this.exponent=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"s",{get:function(){return this.sign()},set:function(r){if(r===0)return this.e=0,void(this.m=0);this.sgn()!==r&&(this.m=-this.m)},enumerable:!1,configurable:!0}),t.fromMantissaExponent=function(r,n){return new t().fromMantissaExponent(r,n)},t.fromMantissaExponent_noNormalize=function(r,n){return new t().fromMantissaExponent_noNormalize(r,n)},t.fromDecimal=function(r){return new t().fromDecimal(r)},t.fromNumber=function(r){return new t().fromNumber(r)},t.fromString=function(r){return new t().fromString(r)},t.fromValue=function(r){return new t().fromValue(r)},t.fromValue_noAlloc=function(r){return r instanceof t?r:new t(r)},t.abs=function(r){return K(r).abs()},t.neg=function(r){return K(r).neg()},t.negate=function(r){return K(r).neg()},t.negated=function(r){return K(r).neg()},t.sign=function(r){return K(r).sign()},t.sgn=function(r){return K(r).sign()},t.round=function(r){return K(r).round()},t.floor=function(r){return K(r).floor()},t.ceil=function(r){return K(r).ceil()},t.trunc=function(r){return K(r).trunc()},t.add=function(r,n){return K(r).add(n)},t.plus=function(r,n){return K(r).add(n)},t.sub=function(r,n){return K(r).sub(n)},t.subtract=function(r,n){return K(r).sub(n)},t.minus=function(r,n){return K(r).sub(n)},t.mul=function(r,n){return K(r).mul(n)},t.multiply=function(r,n){return K(r).mul(n)},t.times=function(r,n){return K(r).mul(n)},t.div=function(r,n){return K(r).div(n)},t.divide=function(r,n){return K(r).div(n)},t.recip=function(r){return K(r).recip()},t.reciprocal=function(r){return K(r).recip()},t.reciprocate=function(r){return K(r).reciprocate()},t.cmp=function(r,n){return K(r).cmp(n)},t.compare=function(r,n){return K(r).cmp(n)},t.eq=function(r,n){return K(r).eq(n)},t.equals=function(r,n){return K(r).eq(n)},t.neq=function(r,n){return K(r).neq(n)},t.notEquals=function(r,n){return K(r).notEquals(n)},t.lt=function(r,n){return K(r).lt(n)},t.lte=function(r,n){return K(r).lte(n)},t.gt=function(r,n){return K(r).gt(n)},t.gte=function(r,n){return K(r).gte(n)},t.max=function(r,n){return K(r).max(n)},t.min=function(r,n){return K(r).min(n)},t.clamp=function(r,n,a){return K(r).clamp(n,a)},t.clampMin=function(r,n){return K(r).clampMin(n)},t.clampMax=function(r,n){return K(r).clampMax(n)},t.cmp_tolerance=function(r,n,a){return K(r).cmp_tolerance(n,a)},t.compare_tolerance=function(r,n,a){return K(r).cmp_tolerance(n,a)},t.eq_tolerance=function(r,n,a){return K(r).eq_tolerance(n,a)},t.equals_tolerance=function(r,n,a){return K(r).eq_tolerance(n,a)},t.neq_tolerance=function(r,n,a){return K(r).neq_tolerance(n,a)},t.notEquals_tolerance=function(r,n,a){return K(r).notEquals_tolerance(n,a)},t.lt_tolerance=function(r,n,a){return K(r).lt_tolerance(n,a)},t.lte_tolerance=function(r,n,a){return K(r).lte_tolerance(n,a)},t.gt_tolerance=function(r,n,a){return K(r).gt_tolerance(n,a)},t.gte_tolerance=function(r,n,a){return K(r).gte_tolerance(n,a)},t.log10=function(r){return K(r).log10()},t.absLog10=function(r){return K(r).absLog10()},t.pLog10=function(r){return K(r).pLog10()},t.log=function(r,n){return K(r).log(n)},t.log2=function(r){return K(r).log2()},t.ln=function(r){return K(r).ln()},t.logarithm=function(r,n){return K(r).logarithm(n)},t.pow10=function(r){return Number.isInteger(r)?Ea(1,r):Yt(Math.pow(10,r%1),Math.trunc(r))},t.pow=function(r,n){return typeof r=="number"&&r===10&&typeof n=="number"&&Number.isInteger(n)?Ea(1,n):K(r).pow(n)},t.exp=function(r){return K(r).exp()},t.sqr=function(r){return K(r).sqr()},t.sqrt=function(r){return K(r).sqrt()},t.cube=function(r){return K(r).cube()},t.cbrt=function(r){return K(r).cbrt()},t.dp=function(r){return K(r).dp()},t.decimalPlaces=function(r){return K(r).dp()},t.affordGeometricSeries=function(r,n,a,s){return d1(K(r),K(n),K(a),s)},t.sumGeometricSeries=function(r,n,a,s){return p1(r,K(n),K(a),s)},t.affordArithmeticSeries=function(r,n,a,s){return function(o,c,p,f){var g=c.add(f.mul(p)).sub(p.div(2)),h=g.pow(2);return g.neg().add(h.add(p.mul(o).mul(2)).sqrt()).div(p).floor()}(K(r),K(n),K(a),K(s))},t.sumArithmeticSeries=function(r,n,a,s){return function(o,c,p,f){var g=c.add(f.mul(p));return o.div(2).mul(g.mul(2).plus(o.sub(1).mul(p)))}(K(r),K(n),K(a),K(s))},t.efficiencyOfPurchase=function(r,n,a){return function(s,o,c){return s.div(o).add(s.div(c))}(K(r),K(n),K(a))},t.randomDecimalForTesting=function(r){if(20*Math.random()<1)return Ea(0,0);var n=10*Math.random();10*Math.random()<1&&(n=Math.round(n)),n*=Math.sign(2*Math.random()-1);var a=Math.floor(Math.random()*r*2)-r;return Yt(n,a)},t.prototype.normalize=function(){if(this.m>=1&&this.m<10)return this;if(this.m===0)return this.m=0,this.e=0,this;var r=Math.floor(Math.log10(Math.abs(this.m)));return this.m=r===-324?10*this.m/1e-323:this.m/Xi(r),this.e+=r,this},t.prototype.fromMantissaExponent=function(r,n){return isFinite(r)&&isFinite(n)?(this.m=r,this.e=n,this.normalize(),this):(r=Number.NaN,n=Number.NaN,this)},t.prototype.fromMantissaExponent_noNormalize=function(r,n){return this.m=r,this.e=n,this},t.prototype.fromDecimal=function(r){return this.m=r.m,this.e=r.e,this},t.prototype.fromNumber=function(r){return isNaN(r)?(this.m=Number.NaN,this.e=Number.NaN):r===Number.POSITIVE_INFINITY?(this.m=1,this.e=nn):r===Number.NEGATIVE_INFINITY?(this.m=-1,this.e=nn):r===0?(this.m=0,this.e=0):(this.e=Math.floor(Math.log10(Math.abs(r))),this.m=this.e===-324?10*r/1e-323:r/Xi(this.e),this.normalize()),this},t.prototype.fromString=function(r){if(r.indexOf("e")!==-1){var n=r.split("e");this.m=parseFloat(n[0]),this.e=parseFloat(n[1]),this.normalize()}else if(r==="NaN")this.m=Number.NaN,this.e=Number.NaN;else if(this.fromNumber(parseFloat(r)),isNaN(this.m))throw Error("[DecimalError] Invalid argument: "+r);return this},t.prototype.fromValue=function(r){return r instanceof t?this.fromDecimal(r):typeof r=="number"?this.fromNumber(r):typeof r=="string"?this.fromString(r):(this.m=0,this.e=0,this)},t.prototype.toNumber=function(){if(!isFinite(this.e))return Number.NaN;if(this.e>308)return this.m>0?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY;if(this.e<-324)return 0;if(this.e===-324)return this.m>0?5e-324:-5e-324;var r=this.m*Xi(this.e);if(!isFinite(r)||this.e<0)return r;var n=Math.round(r);return Math.abs(n-r)<1e-10?n:r},t.prototype.mantissaWithDecimalPlaces=function(r){if(isNaN(this.m)||isNaN(this.e))return Number.NaN;if(this.m===0)return 0;var n=r+1,a=Math.ceil(Math.log10(Math.abs(this.m))),s=Math.round(this.m*Math.pow(10,n-a))*Math.pow(10,a-n);return parseFloat(s.toFixed(Math.max(n-a,0)))},t.prototype.toString=function(){return isNaN(this.m)||isNaN(this.e)?"NaN":this.e>=nn?this.m>0?"Infinity":"-Infinity":this.e<=-nn||this.m===0?"0":this.e<21&&this.e>-7?this.toNumber().toString():this.m+"e"+(this.e>=0?"+":"")+this.e},t.prototype.toExponential=function(r){if(isNaN(this.m)||isNaN(this.e))return"NaN";if(this.e>=nn)return this.m>0?"Infinity":"-Infinity";if(this.e<=-nn||this.m===0)return"0"+(r>0?(0,Zi.default)(".",r+1,"0"):"")+"e+0";if(this.e>-324&&this.e<308)return this.toNumber().toExponential(r);isFinite(r)||(r=17);var n=r+1,a=Math.max(1,Math.ceil(Math.log10(Math.abs(this.m))));return(Math.round(this.m*Math.pow(10,n-a))*Math.pow(10,a-n)).toFixed(Math.max(n-a,0))+"e"+(this.e>=0?"+":"")+this.e},t.prototype.toFixed=function(r){return isNaN(this.m)||isNaN(this.e)?"NaN":this.e>=nn?this.m>0?"Infinity":"-Infinity":this.e<=-nn||this.m===0?"0"+(r>0?(0,Zi.default)(".",r+1,"0"):""):this.e>=17?this.m.toString().replace(".","").padEnd(this.e+1,"0")+(r>0?(0,Zi.default)(".",r+1,"0"):""):this.toNumber().toFixed(r)},t.prototype.toPrecision=function(r){return this.e<=-7?this.toExponential(r-1):r>this.e?this.toFixed(r-this.e-1):this.toExponential(r-1)},t.prototype.valueOf=function(){return this.toString()},t.prototype.toJSON=function(){return this.toString()},t.prototype.toStringWithDecimalPlaces=function(r){return this.toExponential(r)},t.prototype.abs=function(){return Ea(Math.abs(this.m),this.e)},t.prototype.neg=function(){return Ea(-this.m,this.e)},t.prototype.negate=function(){return this.neg()},t.prototype.negated=function(){return this.neg()},t.prototype.sign=function(){return Math.sign(this.m)},t.prototype.sgn=function(){return this.sign()},t.prototype.round=function(){return this.e<-1?new t(0):this.e<17?new t(Math.round(this.toNumber())):this},t.prototype.floor=function(){return this.e<-1?Math.sign(this.m)>=0?new t(0):new t(-1):this.e<17?new t(Math.floor(this.toNumber())):this},t.prototype.ceil=function(){return this.e<-1?Math.sign(this.m)>0?new t(1):new t(0):this.e<17?new t(Math.ceil(this.toNumber())):this},t.prototype.trunc=function(){return this.e<0?new t(0):this.e<17?new t(Math.trunc(this.toNumber())):this},t.prototype.add=function(r){var n,a,s=K(r);if(this.m===0)return s;if(s.m===0)return this;if(this.e>=s.e?(n=this,a=s):(n=s,a=this),n.e-a.e>17)return n;var o=Math.round(1e14*n.m+1e14*a.m*Xi(a.e-n.e));return Yt(o,n.e-14)},t.prototype.plus=function(r){return this.add(r)},t.prototype.sub=function(r){return this.add(K(r).neg())},t.prototype.subtract=function(r){return this.sub(r)},t.prototype.minus=function(r){return this.sub(r)},t.prototype.mul=function(r){if(typeof r=="number")return r<1e307&&r>-1e307?Yt(this.m*r,this.e):Yt(1e-307*this.m*r,this.e+307);var n=typeof r=="string"?new t(r):r;return Yt(this.m*n.m,this.e+n.e)},t.prototype.multiply=function(r){return this.mul(r)},t.prototype.times=function(r){return this.mul(r)},t.prototype.div=function(r){return this.mul(K(r).recip())},t.prototype.divide=function(r){return this.div(r)},t.prototype.divideBy=function(r){return this.div(r)},t.prototype.dividedBy=function(r){return this.div(r)},t.prototype.recip=function(){return Yt(1/this.m,-this.e)},t.prototype.reciprocal=function(){return this.recip()},t.prototype.reciprocate=function(){return this.recip()},t.prototype.cmp=function(r){var n=K(r);if(this.m===0){if(n.m===0)return 0;if(n.m<0)return 1;if(n.m>0)return-1}if(n.m===0){if(this.m<0)return-1;if(this.m>0)return 1}if(this.m>0)return n.m<0||this.e>n.e?1:this.e<n.e?-1:this.m>n.m?1:this.m<n.m?-1:0;if(this.m<0)return n.m>0||this.e>n.e?-1:this.e<n.e||this.m>n.m?1:this.m<n.m?-1:0;throw Error("Unreachable code")},t.prototype.compare=function(r){return this.cmp(r)},t.prototype.eq=function(r){var n=K(r);return this.e===n.e&&this.m===n.m},t.prototype.equals=function(r){return this.eq(r)},t.prototype.neq=function(r){return!this.eq(r)},t.prototype.notEquals=function(r){return this.neq(r)},t.prototype.lt=function(r){var n=K(r);return this.m===0?n.m>0:n.m===0?this.m<=0:this.e===n.e?this.m<n.m:this.m>0?n.m>0&&this.e<n.e:n.m>0||this.e>n.e},t.prototype.lte=function(r){return!this.gt(r)},t.prototype.gt=function(r){var n=K(r);return this.m===0?n.m<0:n.m===0?this.m>0:this.e===n.e?this.m>n.m:this.m>0?n.m<0||this.e>n.e:n.m<0&&this.e<n.e},t.prototype.gte=function(r){return!this.lt(r)},t.prototype.max=function(r){var n=K(r);return this.lt(n)?n:this},t.prototype.min=function(r){var n=K(r);return this.gt(n)?n:this},t.prototype.clamp=function(r,n){return this.max(r).min(n)},t.prototype.clampMin=function(r){return this.max(r)},t.prototype.clampMax=function(r){return this.min(r)},t.prototype.cmp_tolerance=function(r,n){var a=K(r);return this.eq_tolerance(a,n)?0:this.cmp(a)},t.prototype.compare_tolerance=function(r,n){return this.cmp_tolerance(r,n)},t.prototype.eq_tolerance=function(r,n){var a=K(r);return t.lte(this.sub(a).abs(),t.max(this.abs(),a.abs()).mul(n))},t.prototype.equals_tolerance=function(r,n){return this.eq_tolerance(r,n)},t.prototype.neq_tolerance=function(r,n){return!this.eq_tolerance(r,n)},t.prototype.notEquals_tolerance=function(r,n){return this.neq_tolerance(r,n)},t.prototype.lt_tolerance=function(r,n){var a=K(r);return!this.eq_tolerance(a,n)&&this.lt(a)},t.prototype.lte_tolerance=function(r,n){var a=K(r);return this.eq_tolerance(a,n)||this.lt(a)},t.prototype.gt_tolerance=function(r,n){var a=K(r);return!this.eq_tolerance(a,n)&&this.gt(a)},t.prototype.gte_tolerance=function(r,n){var a=K(r);return this.eq_tolerance(a,n)||this.gt(a)},t.prototype.log10=function(){return this.e+Math.log10(this.m)},t.prototype.absLog10=function(){return this.e+Math.log10(Math.abs(this.m))},t.prototype.pLog10=function(){return this.m<=0||this.e<0?0:this.log10()},t.prototype.log=function(r){return Math.LN10/Math.log(r)*this.log10()},t.prototype.log2=function(){return 3.321928094887362*this.log10()},t.prototype.ln=function(){return 2.302585092994045*this.log10()},t.prototype.logarithm=function(r){return this.log(r)},t.prototype.pow=function(r){var n,a=r instanceof t?r.toNumber():r,s=this.e*a;if(Number.isSafeInteger(s)&&(n=Math.pow(this.m,a),isFinite(n)&&n!==0))return Yt(n,s);var o=Math.trunc(s),c=s-o;if(n=Math.pow(10,a*Math.log10(this.m)+c),isFinite(n)&&n!==0)return Yt(n,o);var p=t.pow10(a*this.absLog10());return this.sign()===-1?Math.abs(a%2)===1?p.neg():Math.abs(a%2)===0?p:new t(Number.NaN):p},t.prototype.pow_base=function(r){return K(r).pow(this)},t.prototype.factorial=function(){var r=this.toNumber()+1;return t.pow(r/Math.E*Math.sqrt(r*Math.sinh(1/r)+1/(810*Math.pow(r,6))),r).mul(Math.sqrt(2*Math.PI/r))},t.prototype.exp=function(){var r=this.toNumber();return-706<r&&r<709?t.fromNumber(Math.exp(r)):t.pow(Math.E,r)},t.prototype.sqr=function(){return Yt(Math.pow(this.m,2),2*this.e)},t.prototype.sqrt=function(){return this.m<0?new t(Number.NaN):this.e%2!=0?Yt(3.16227766016838*Math.sqrt(this.m),Math.floor(this.e/2)):Yt(Math.sqrt(this.m),Math.floor(this.e/2))},t.prototype.cube=function(){return Yt(Math.pow(this.m,3),3*this.e)},t.prototype.cbrt=function(){var r=1,n=this.m;n<0&&(r=-1,n=-n);var a=r*Math.pow(n,1/3),s=this.e%3;return Yt(s===1||s===-1?2.154434690031883*a:s!==0?4.641588833612778*a:a,Math.floor(this.e/3))},t.prototype.sinh=function(){return this.exp().sub(this.negate().exp()).div(2)},t.prototype.cosh=function(){return this.exp().add(this.negate().exp()).div(2)},t.prototype.tanh=function(){return this.sinh().div(this.cosh())},t.prototype.asinh=function(){return t.ln(this.add(this.sqr().add(1).sqrt()))},t.prototype.acosh=function(){return t.ln(this.add(this.sqr().sub(1).sqrt()))},t.prototype.atanh=function(){return this.abs().gte(1)?Number.NaN:t.ln(this.add(1).div(new t(1).sub(this)))/2},t.prototype.ascensionPenalty=function(r){return r===0?this:this.pow(Math.pow(10,-r))},t.prototype.egg=function(){return this.add(9)},t.prototype.lessThanOrEqualTo=function(r){return this.cmp(r)<1},t.prototype.lessThan=function(r){return this.cmp(r)<0},t.prototype.greaterThanOrEqualTo=function(r){return this.cmp(r)>-1},t.prototype.greaterThan=function(r){return this.cmp(r)>0},t.prototype.decimalPlaces=function(){return this.dp()},t.prototype.dp=function(){if(!isFinite(this.mantissa))return NaN;if(this.exponent>=17)return 0;for(var r=this.mantissa,n=-this.exponent,a=1;Math.abs(Math.round(r*a)/a-r)>1e-10;)a*=10,n++;return n>0?n:0},Object.defineProperty(t,"MAX_VALUE",{get:function(){return f1},enumerable:!1,configurable:!0}),Object.defineProperty(t,"MIN_VALUE",{get:function(){return g1},enumerable:!1,configurable:!0}),Object.defineProperty(t,"NUMBER_MAX_VALUE",{get:function(){return m1},enumerable:!1,configurable:!0}),Object.defineProperty(t,"NUMBER_MIN_VALUE",{get:function(){return h1},enumerable:!1,configurable:!0}),t}(),f1=Ea(1,nn),g1=Ea(1,-nn),m1=K(Number.MAX_VALUE),h1=K(Number.MIN_VALUE),m=Kn;var Q0=Hr(eu());function $t(t){"@babel/helpers - typeof";return $t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},$t(t)}function Fr(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function Dp(t,r){if($t(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r||"default");if($t(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function Ji(t){var r=Dp(t,"string");return $t(r)=="symbol"?r:r+""}function Gp(t,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,Ji(a.key),a)}}function Qr(t,r,n){return r&&Gp(t.prototype,r),n&&Gp(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function an(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function el(t,r){return el=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},el(t,r)}function Eo(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&el(t,r)}function As(t,r){if(r&&($t(r)=="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return an(t)}function qr(t){return qr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qr(t)}function Tn(t,r,n){return(r=Ji(r))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function Hp(t){if(Array.isArray(t))return t}function Fp(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tu(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,a=Array(r);n<r;n++)a[n]=t[n];return a}function Qp(t,r){if(t){if(typeof t=="string")return tu(t,r);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tu(t,r):void 0}}function qp(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jp(t){return Hp(t)||Fp(t)||Qp(t)||qp()}function Vp(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function Wp(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?Vp(Object(n),!0).forEach(function(a){Tn(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vp(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var b1={type:"logger",log:function(r){this.output("log",r)},warn:function(r){this.output("warn",r)},error:function(r){this.output("error",r)},output:function(r,n){console&&console[r]&&console[r].apply(console,n)}},y1=function(){function t(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Fr(this,t),this.init(r,n)}return Qr(t,[{key:"init",value:function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=a.prefix||"i18next:",this.logger=n||b1,this.options=a,this.debug=a.debug}},{key:"setDebug",value:function(n){this.debug=n}},{key:"log",value:function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return this.forward(a,"log","",!0)}},{key:"warn",value:function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return this.forward(a,"warn","",!0)}},{key:"error",value:function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return this.forward(a,"error","")}},{key:"deprecate",value:function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return this.forward(a,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(n,a,s,o){return o&&!this.debug?null:(typeof n[0]=="string"&&(n[0]="".concat(s).concat(this.prefix," ").concat(n[0])),this.logger[a](n))}},{key:"create",value:function(n){return new t(this.logger,Wp(Wp({},{prefix:"".concat(this.prefix,":").concat(n,":")}),this.options))}},{key:"clone",value:function(n){return n=n||this.options,n.prefix=n.prefix||this.prefix,new t(this.logger,n)}}]),t}(),on=new y1,Xn=function(){function t(){Fr(this,t),this.observers={}}return Qr(t,[{key:"on",value:function(n,a){var s=this;return n.split(" ").forEach(function(o){s.observers[o]=s.observers[o]||[],s.observers[o].push(a)}),this}},{key:"off",value:function(n,a){if(this.observers[n]){if(!a){delete this.observers[n];return}this.observers[n]=this.observers[n].filter(function(s){return s!==a})}}},{key:"emit",value:function(n){for(var a=arguments.length,s=new Array(a>1?a-1:0),o=1;o<a;o++)s[o-1]=arguments[o];if(this.observers[n]){var c=[].concat(this.observers[n]);c.forEach(function(f){f.apply(void 0,s)})}if(this.observers["*"]){var p=[].concat(this.observers["*"]);p.forEach(function(f){f.apply(f,[n].concat(s))})}}}]),t}();function Oo(){var t,r,n=new Promise(function(a,s){t=a,r=s});return n.resolve=t,n.reject=r,n}function zp(t){return t==null?"":""+t}function v1(t,r,n){t.forEach(function(a){r[a]&&(n[a]=r[a])})}function nu(t,r,n){function a(p){return p&&p.indexOf("###")>-1?p.replace(/###/g,"."):p}function s(){return!t||typeof t=="string"}for(var o=typeof r!="string"?[].concat(r):r.split(".");o.length>1;){if(s())return{};var c=a(o.shift());!t[c]&&n&&(t[c]=new n),Object.prototype.hasOwnProperty.call(t,c)?t=t[c]:t={}}return s()?{}:{obj:t,k:a(o.shift())}}function Kp(t,r,n){var a=nu(t,r,Object),s=a.obj,o=a.k;s[o]=n}function C1(t,r,n,a){var s=nu(t,r,Object),o=s.obj,c=s.k;o[c]=o[c]||[],a&&(o[c]=o[c].concat(n)),a||o[c].push(n)}function nl(t,r){var n=nu(t,r),a=n.obj,s=n.k;if(a)return a[s]}function w1(t,r,n){var a=nl(t,n);return a!==void 0?a:nl(r,n)}function df(t,r,n){for(var a in r)a!=="__proto__"&&a!=="constructor"&&(a in t?typeof t[a]=="string"||t[a]instanceof String||typeof r[a]=="string"||r[a]instanceof String?n&&(t[a]=r[a]):df(t[a],r[a],n):t[a]=r[a]);return t}function Ps(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var x1={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function M1(t){return typeof t=="string"?t.replace(/[&<>"'\/]/g,function(r){return x1[r]}):t}var ol=typeof window<"u"&&window.navigator&&typeof window.navigator.userAgentData>"u"&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,S1=[" ",",","?","!",";"];function T1(t,r,n){r=r||"",n=n||"";var a=S1.filter(function(p){return r.indexOf(p)<0&&n.indexOf(p)<0});if(a.length===0)return!0;var s=new RegExp("(".concat(a.map(function(p){return p==="?"?"\\?":p}).join("|"),")")),o=!s.test(t);if(!o){var c=t.indexOf(n);c>0&&!s.test(t.substring(0,c))&&(o=!0)}return o}function al(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(t){if(t[r])return t[r];for(var a=r.split(n),s=t,o=0;o<a.length;++o){if(!s||typeof s[a[o]]=="string"&&o+1<a.length)return;if(s[a[o]]===void 0){for(var c=2,p=a.slice(o,o+c).join(n),f=s[p];f===void 0&&a.length>o+c;)c++,p=a.slice(o,o+c).join(n),f=s[p];if(f===void 0)return;if(f===null)return null;if(r.endsWith(p)){if(typeof f=="string")return f;if(p&&typeof f[p]=="string")return f[p]}var g=a.slice(o+c).join(n);return g?al(f,g,n):void 0}s=s[a[o]]}return s}}function Xp(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function tl(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?Xp(Object(n),!0).forEach(function(a){Tn(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xp(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function k1(t){var r=L1();return function(){var a=qr(t),s;if(r){var o=qr(this).constructor;s=Reflect.construct(a,arguments,o)}else s=a.apply(this,arguments);return As(this,s)}}function L1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var A1=function(t){Eo(n,t);var r=k1(n);function n(a){var s,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};return Fr(this,n),s=r.call(this),ol&&Xn.call(an(s)),s.data=a||{},s.options=o,s.options.keySeparator===void 0&&(s.options.keySeparator="."),s.options.ignoreJSONStructure===void 0&&(s.options.ignoreJSONStructure=!0),s}return Qr(n,[{key:"addNamespaces",value:function(s){this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}},{key:"removeNamespaces",value:function(s){var o=this.options.ns.indexOf(s);o>-1&&this.options.ns.splice(o,1)}},{key:"getResource",value:function(s,o,c){var p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},f=p.keySeparator!==void 0?p.keySeparator:this.options.keySeparator,g=p.ignoreJSONStructure!==void 0?p.ignoreJSONStructure:this.options.ignoreJSONStructure,h=[s,o];c&&typeof c!="string"&&(h=h.concat(c)),c&&typeof c=="string"&&(h=h.concat(f?c.split(f):c)),s.indexOf(".")>-1&&(h=s.split("."));var b=nl(this.data,h);return b||!g||typeof c!="string"?b:al(this.data&&this.data[s]&&this.data[s][o],c,f)}},{key:"addResource",value:function(s,o,c,p){var f=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},g=f.keySeparator!==void 0?f.keySeparator:this.options.keySeparator,h=[s,o];c&&(h=h.concat(g?c.split(g):c)),s.indexOf(".")>-1&&(h=s.split("."),p=o,o=h[1]),this.addNamespaces(o),Kp(this.data,h,p),f.silent||this.emit("added",s,o,c,p)}},{key:"addResources",value:function(s,o,c){var p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(var f in c)(typeof c[f]=="string"||Object.prototype.toString.apply(c[f])==="[object Array]")&&this.addResource(s,o,f,c[f],{silent:!0});p.silent||this.emit("added",s,o,c)}},{key:"addResourceBundle",value:function(s,o,c,p,f){var g=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},h=[s,o];s.indexOf(".")>-1&&(h=s.split("."),p=c,c=o,o=h[1]),this.addNamespaces(o);var b=nl(this.data,h)||{};p?df(b,c,f):b=tl(tl({},b),c),Kp(this.data,h,b),g.silent||this.emit("added",s,o,c)}},{key:"removeResourceBundle",value:function(s,o){this.hasResourceBundle(s,o)&&delete this.data[s][o],this.removeNamespaces(o),this.emit("removed",s,o)}},{key:"hasResourceBundle",value:function(s,o){return this.getResource(s,o)!==void 0}},{key:"getResourceBundle",value:function(s,o){return o||(o=this.options.defaultNS),this.options.compatibilityAPI==="v1"?tl(tl({},{}),this.getResource(s,o)):this.getResource(s,o)}},{key:"getDataByLanguage",value:function(s){return this.data[s]}},{key:"hasLanguageSomeTranslations",value:function(s){var o=this.getDataByLanguage(s),c=o&&Object.keys(o)||[];return!!c.find(function(p){return o[p]&&Object.keys(o[p]).length>0})}},{key:"toJSON",value:function(){return this.data}}]),n}(Xn),pf={processors:{},addPostProcessor:function(r){this.processors[r.name]=r},handle:function(r,n,a,s,o){var c=this;return r.forEach(function(p){c.processors[p]&&(n=c.processors[p].process(n,a,s,o))}),n}};function Zp(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function Dt(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?Zp(Object(n),!0).forEach(function(a){Tn(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zp(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function P1(t){var r=E1();return function(){var a=qr(t),s;if(r){var o=qr(this).constructor;s=Reflect.construct(a,arguments,o)}else s=a.apply(this,arguments);return As(this,s)}}function E1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var Yp={},Jp=function(t){Eo(n,t);var r=P1(n);function n(a){var s,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Fr(this,n),s=r.call(this),ol&&Xn.call(an(s)),v1(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],a,an(s)),s.options=o,s.options.keySeparator===void 0&&(s.options.keySeparator="."),s.logger=on.create("translator"),s}return Qr(n,[{key:"changeLanguage",value:function(s){s&&(this.language=s)}},{key:"exists",value:function(s){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(s==null)return!1;var c=this.resolve(s,o);return c&&c.res!==void 0}},{key:"extractFromKey",value:function(s,o){var c=o.nsSeparator!==void 0?o.nsSeparator:this.options.nsSeparator;c===void 0&&(c=":");var p=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,f=o.ns||this.options.defaultNS||[],g=c&&s.indexOf(c)>-1,h=!this.options.userDefinedKeySeparator&&!o.keySeparator&&!this.options.userDefinedNsSeparator&&!o.nsSeparator&&!T1(s,c,p);if(g&&!h){var b=s.match(this.interpolator.nestingRegexp);if(b&&b.length>0)return{key:s,namespaces:f};var y=s.split(c);(c!==p||c===p&&this.options.ns.indexOf(y[0])>-1)&&(f=y.shift()),s=y.join(p)}return typeof f=="string"&&(f=[f]),{key:s,namespaces:f}}},{key:"translate",value:function(s,o,c){var p=this;if($t(o)!=="object"&&this.options.overloadTranslationOptionHandler&&(o=this.options.overloadTranslationOptionHandler(arguments)),$t(o)==="object"&&(o=Dt({},o)),o||(o={}),s==null)return"";Array.isArray(s)||(s=[String(s)]);var f=o.returnDetails!==void 0?o.returnDetails:this.options.returnDetails,g=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,h=this.extractFromKey(s[s.length-1],o),b=h.key,y=h.namespaces,C=y[y.length-1],x=o.lng||this.language,D=o.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(x&&x.toLowerCase()==="cimode"){if(D){var $=o.nsSeparator||this.options.nsSeparator;return f?{res:"".concat(C).concat($).concat(b),usedKey:b,exactUsedKey:b,usedLng:x,usedNS:C}:"".concat(C).concat($).concat(b)}return f?{res:b,usedKey:b,exactUsedKey:b,usedLng:x,usedNS:C}:b}var L=this.resolve(s,o),E=L&&L.res,H=L&&L.usedKey||b,I=L&&L.exactUsedKey||b,N=Object.prototype.toString.apply(E),k=["[object Number]","[object Function]","[object RegExp]"],A=o.joinArrays!==void 0?o.joinArrays:this.options.joinArrays,Q=!this.i18nFormat||this.i18nFormat.handleAsObject,J=typeof E!="string"&&typeof E!="boolean"&&typeof E!="number";if(Q&&E&&J&&k.indexOf(N)<0&&!(typeof A=="string"&&N==="[object Array]")){if(!o.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var M=this.options.returnedObjectHandler?this.options.returnedObjectHandler(H,E,Dt(Dt({},o),{},{ns:y})):"key '".concat(b," (").concat(this.language,")' returned an object instead of string.");return f?(L.res=M,L):M}if(g){var j=N==="[object Array]",ae=j?[]:{},ge=j?I:H;for(var Je in E)if(Object.prototype.hasOwnProperty.call(E,Je)){var ut="".concat(ge).concat(g).concat(Je);ae[Je]=this.translate(ut,Dt(Dt({},o),{joinArrays:!1,ns:y})),ae[Je]===ut&&(ae[Je]=E[Je])}E=ae}}else if(Q&&typeof A=="string"&&N==="[object Array]")E=E.join(A),E&&(E=this.extendTranslation(E,s,o,c));else{var ht=!1,Ot=!1,xt=o.count!==void 0&&typeof o.count!="string",Nt=n.hasDefaultValue(o),ve=xt?this.pluralResolver.getSuffix(x,o.count,o):"",ue=o["defaultValue".concat(ve)]||o.defaultValue;!this.isValidLookup(E)&&Nt&&(ht=!0,E=ue),this.isValidLookup(E)||(Ot=!0,E=b);var le=o.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,be=le&&Ot?void 0:E,me=Nt&&ue!==E&&this.options.updateMissing;if(Ot||ht||me){if(this.logger.log(me?"updateKey":"missingKey",x,C,b,me?ue:E),g){var ke=this.resolve(b,Dt(Dt({},o),{},{keySeparator:!1}));ke&&ke.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var Ye=[],O=this.languageUtils.getFallbackCodes(this.options.fallbackLng,o.lng||this.language);if(this.options.saveMissingTo==="fallback"&&O&&O[0])for(var St=0;St<O.length;St++)Ye.push(O[St]);else this.options.saveMissingTo==="all"?Ye=this.languageUtils.toResolveHierarchy(o.lng||this.language):Ye.push(o.lng||this.language);var ws=function(ar,Sn,wa){var xa=Nt&&wa!==E?wa:be;p.options.missingKeyHandler?p.options.missingKeyHandler(ar,C,Sn,xa,me,o):p.backendConnector&&p.backendConnector.saveMissing&&p.backendConnector.saveMissing(ar,C,Sn,xa,me,o),p.emit("missingKey",ar,C,Sn,E)};this.options.saveMissing&&(this.options.saveMissingPlurals&&xt?Ye.forEach(function(Ca){p.pluralResolver.getSuffixes(Ca,o).forEach(function(ar){ws([Ca],b+ar,o["defaultValue".concat(ar)]||ue)})}):ws(Ye,b,ue))}E=this.extendTranslation(E,s,o,L,c),Ot&&E===b&&this.options.appendNamespaceToMissingKey&&(E="".concat(C,":").concat(b)),(Ot||ht)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?E=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(C,":").concat(b):b,ht?E:void 0):E=this.options.parseMissingKeyHandler(E))}return f?(L.res=E,L):E}},{key:"extendTranslation",value:function(s,o,c,p,f){var g=this;if(this.i18nFormat&&this.i18nFormat.parse)s=this.i18nFormat.parse(s,Dt(Dt({},this.options.interpolation.defaultVariables),c),p.usedLng,p.usedNS,p.usedKey,{resolved:p});else if(!c.skipInterpolation){c.interpolation&&this.interpolator.init(Dt(Dt({},c),{interpolation:Dt(Dt({},this.options.interpolation),c.interpolation)}));var h=typeof s=="string"&&(c&&c.interpolation&&c.interpolation.skipOnVariables!==void 0?c.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),b;if(h){var y=s.match(this.interpolator.nestingRegexp);b=y&&y.length}var C=c.replace&&typeof c.replace!="string"?c.replace:c;if(this.options.interpolation.defaultVariables&&(C=Dt(Dt({},this.options.interpolation.defaultVariables),C)),s=this.interpolator.interpolate(s,C,c.lng||this.language,c),h){var x=s.match(this.interpolator.nestingRegexp),D=x&&x.length;b<D&&(c.nest=!1)}!c.lng&&this.options.compatibilityAPI!=="v1"&&p&&p.res&&(c.lng=p.usedLng),c.nest!==!1&&(s=this.interpolator.nest(s,function(){for(var E=arguments.length,H=new Array(E),I=0;I<E;I++)H[I]=arguments[I];return f&&f[0]===H[0]&&!c.context?(g.logger.warn("It seems you are nesting recursively key: ".concat(H[0]," in key: ").concat(o[0])),null):g.translate.apply(g,H.concat([o]))},c)),c.interpolation&&this.interpolator.reset()}var $=c.postProcess||this.options.postProcess,L=typeof $=="string"?[$]:$;return s!=null&&L&&L.length&&c.applyPostProcessor!==!1&&(s=pf.handle(L,s,o,this.options&&this.options.postProcessPassResolved?Dt({i18nResolved:p},c):c,this)),s}},{key:"resolve",value:function(s){var o=this,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},p,f,g,h,b;return typeof s=="string"&&(s=[s]),s.forEach(function(y){if(!o.isValidLookup(p)){var C=o.extractFromKey(y,c),x=C.key;f=x;var D=C.namespaces;o.options.fallbackNS&&(D=D.concat(o.options.fallbackNS));var $=c.count!==void 0&&typeof c.count!="string",L=$&&!c.ordinal&&c.count===0&&o.pluralResolver.shouldUseIntlApi(),E=c.context!==void 0&&(typeof c.context=="string"||typeof c.context=="number")&&c.context!=="",H=c.lngs?c.lngs:o.languageUtils.toResolveHierarchy(c.lng||o.language,c.fallbackLng);D.forEach(function(I){o.isValidLookup(p)||(b=I,!Yp["".concat(H[0],"-").concat(I)]&&o.utils&&o.utils.hasLoadedNamespace&&!o.utils.hasLoadedNamespace(b)&&(Yp["".concat(H[0],"-").concat(I)]=!0,o.logger.warn('key "'.concat(f,'" for languages "').concat(H.join(", "),`" won't get resolved as namespace "`).concat(b,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),H.forEach(function(N){if(!o.isValidLookup(p)){h=N;var k=[x];if(o.i18nFormat&&o.i18nFormat.addLookupKeys)o.i18nFormat.addLookupKeys(k,x,N,I,c);else{var A;$&&(A=o.pluralResolver.getSuffix(N,c.count,c));var Q="".concat(o.options.pluralSeparator,"zero");if($&&(k.push(x+A),L&&k.push(x+Q)),E){var J="".concat(x).concat(o.options.contextSeparator).concat(c.context);k.push(J),$&&(k.push(J+A),L&&k.push(J+Q))}}for(var M;M=k.pop();)o.isValidLookup(p)||(g=M,p=o.getResource(N,I,M,c))}}))})}}),{res:p,usedKey:f,exactUsedKey:g,usedLng:h,usedNS:b}}},{key:"isValidLookup",value:function(s){return s!==void 0&&!(!this.options.returnNull&&s===null)&&!(!this.options.returnEmptyString&&s==="")}},{key:"getResource",value:function(s,o,c){var p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(s,o,c,p):this.resourceStore.getResource(s,o,c,p)}}],[{key:"hasDefaultValue",value:function(s){var o="defaultValue";for(var c in s)if(Object.prototype.hasOwnProperty.call(s,c)&&o===c.substring(0,o.length)&&s[c]!==void 0)return!0;return!1}}]),n}(Xn);function ru(t){return t.charAt(0).toUpperCase()+t.slice(1)}var ef=function(){function t(r){Fr(this,t),this.options=r,this.supportedLngs=this.options.supportedLngs||!1,this.logger=on.create("languageUtils")}return Qr(t,[{key:"getScriptPartFromCode",value:function(n){if(!n||n.indexOf("-")<0)return null;var a=n.split("-");return a.length===2||(a.pop(),a[a.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(a.join("-"))}},{key:"getLanguagePartFromCode",value:function(n){if(!n||n.indexOf("-")<0)return n;var a=n.split("-");return this.formatLanguageCode(a[0])}},{key:"formatLanguageCode",value:function(n){if(typeof n=="string"&&n.indexOf("-")>-1){var a=["hans","hant","latn","cyrl","cans","mong","arab"],s=n.split("-");return this.options.lowerCaseLng?s=s.map(function(o){return o.toLowerCase()}):s.length===2?(s[0]=s[0].toLowerCase(),s[1]=s[1].toUpperCase(),a.indexOf(s[1].toLowerCase())>-1&&(s[1]=ru(s[1].toLowerCase()))):s.length===3&&(s[0]=s[0].toLowerCase(),s[1].length===2&&(s[1]=s[1].toUpperCase()),s[0]!=="sgn"&&s[2].length===2&&(s[2]=s[2].toUpperCase()),a.indexOf(s[1].toLowerCase())>-1&&(s[1]=ru(s[1].toLowerCase())),a.indexOf(s[2].toLowerCase())>-1&&(s[2]=ru(s[2].toLowerCase()))),s.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?n.toLowerCase():n}},{key:"isSupportedCode",value:function(n){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(n=this.getLanguagePartFromCode(n)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(n)>-1}},{key:"getBestMatchFromCodes",value:function(n){var a=this;if(!n)return null;var s;return n.forEach(function(o){if(!s){var c=a.formatLanguageCode(o);(!a.options.supportedLngs||a.isSupportedCode(c))&&(s=c)}}),!s&&this.options.supportedLngs&&n.forEach(function(o){if(!s){var c=a.getLanguagePartFromCode(o);if(a.isSupportedCode(c))return s=c;s=a.options.supportedLngs.find(function(p){if(p===c)return p;if(!(p.indexOf("-")<0&&c.indexOf("-")<0)&&p.indexOf(c)===0)return p})}}),s||(s=this.getFallbackCodes(this.options.fallbackLng)[0]),s}},{key:"getFallbackCodes",value:function(n,a){if(!n)return[];if(typeof n=="function"&&(n=n(a)),typeof n=="string"&&(n=[n]),Object.prototype.toString.apply(n)==="[object Array]")return n;if(!a)return n.default||[];var s=n[a];return s||(s=n[this.getScriptPartFromCode(a)]),s||(s=n[this.formatLanguageCode(a)]),s||(s=n[this.getLanguagePartFromCode(a)]),s||(s=n.default),s||[]}},{key:"toResolveHierarchy",value:function(n,a){var s=this,o=this.getFallbackCodes(a||this.options.fallbackLng||[],n),c=[],p=function(g){g&&(s.isSupportedCode(g)?c.push(g):s.logger.warn("rejecting language code not found in supportedLngs: ".concat(g)))};return typeof n=="string"&&n.indexOf("-")>-1?(this.options.load!=="languageOnly"&&p(this.formatLanguageCode(n)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&p(this.getScriptPartFromCode(n)),this.options.load!=="currentOnly"&&p(this.getLanguagePartFromCode(n))):typeof n=="string"&&p(this.formatLanguageCode(n)),o.forEach(function(f){c.indexOf(f)<0&&p(s.formatLanguageCode(f))}),c}}]),t}(),O1=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],U1={1:function(r){return+(r>1)},2:function(r){return+(r!=1)},3:function(r){return 0},4:function(r){return r%10==1&&r%100!=11?0:r%10>=2&&r%10<=4&&(r%100<10||r%100>=20)?1:2},5:function(r){return r==0?0:r==1?1:r==2?2:r%100>=3&&r%100<=10?3:r%100>=11?4:5},6:function(r){return r==1?0:r>=2&&r<=4?1:2},7:function(r){return r==1?0:r%10>=2&&r%10<=4&&(r%100<10||r%100>=20)?1:2},8:function(r){return r==1?0:r==2?1:r!=8&&r!=11?2:3},9:function(r){return+(r>=2)},10:function(r){return r==1?0:r==2?1:r<7?2:r<11?3:4},11:function(r){return r==1||r==11?0:r==2||r==12?1:r>2&&r<20?2:3},12:function(r){return+(r%10!=1||r%100==11)},13:function(r){return+(r!==0)},14:function(r){return r==1?0:r==2?1:r==3?2:3},15:function(r){return r%10==1&&r%100!=11?0:r%10>=2&&(r%100<10||r%100>=20)?1:2},16:function(r){return r%10==1&&r%100!=11?0:r!==0?1:2},17:function(r){return r==1||r%10==1&&r%100!=11?0:1},18:function(r){return r==0?0:r==1?1:2},19:function(r){return r==1?0:r==0||r%100>1&&r%100<11?1:r%100>10&&r%100<20?2:3},20:function(r){return r==1?0:r==0||r%100>0&&r%100<20?1:2},21:function(r){return r%100==1?1:r%100==2?2:r%100==3||r%100==4?3:0},22:function(r){return r==1?0:r==2?1:(r<0||r>10)&&r%10==0?2:3}},B1=["v1","v2","v3"],tf={zero:0,one:1,two:2,few:3,many:4,other:5};function R1(){var t={};return O1.forEach(function(r){r.lngs.forEach(function(n){t[n]={numbers:r.nr,plurals:U1[r.fc]}})}),t}var I1=function(){function t(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Fr(this,t),this.languageUtils=r,this.options=n,this.logger=on.create("pluralResolver"),(!this.options.compatibilityJSON||this.options.compatibilityJSON==="v4")&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=R1()}return Qr(t,[{key:"addRule",value:function(n,a){this.rules[n]=a}},{key:"getRule",value:function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(n,{type:a.ordinal?"ordinal":"cardinal"})}catch(s){return}return this.rules[n]||this.rules[this.languageUtils.getLanguagePartFromCode(n)]}},{key:"needsPlural",value:function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=this.getRule(n,a);return this.shouldUseIntlApi()?s&&s.resolvedOptions().pluralCategories.length>1:s&&s.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(n,a){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(n,s).map(function(o){return"".concat(a).concat(o)})}},{key:"getSuffixes",value:function(n){var a=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=this.getRule(n,s);return o?this.shouldUseIntlApi()?o.resolvedOptions().pluralCategories.sort(function(c,p){return tf[c]-tf[p]}).map(function(c){return"".concat(a.options.prepend).concat(c)}):o.numbers.map(function(c){return a.getSuffix(n,c,s)}):[]}},{key:"getSuffix",value:function(n,a){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=this.getRule(n,s);return o?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(o.select(a)):this.getSuffixRetroCompatible(o,a):(this.logger.warn("no plural rule found for: ".concat(n)),"")}},{key:"getSuffixRetroCompatible",value:function(n,a){var s=this,o=n.noAbs?n.plurals(a):n.plurals(Math.abs(a)),c=n.numbers[o];this.options.simplifyPluralSuffix&&n.numbers.length===2&&n.numbers[0]===1&&(c===2?c="plural":c===1&&(c=""));var p=function(){return s.options.prepend&&c.toString()?s.options.prepend+c.toString():c.toString()};return this.options.compatibilityJSON==="v1"?c===1?"":typeof c=="number"?"_plural_".concat(c.toString()):p():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&n.numbers.length===2&&n.numbers[0]===1?p():this.options.prepend&&o.toString()?this.options.prepend+o.toString():o.toString()}},{key:"shouldUseIntlApi",value:function(){return!B1.includes(this.options.compatibilityJSON)}}]),t}();function rf(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function jr(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?rf(Object(n),!0).forEach(function(a){Tn(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rf(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function nf(t,r,n){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=w1(t,r,n);return!o&&s&&typeof n=="string"&&(o=al(t,n,a),o===void 0&&(o=al(r,n,a))),o}var N1=function(){function t(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Fr(this,t),this.logger=on.create("interpolator"),this.options=r,this.format=r.interpolation&&r.interpolation.format||function(n){return n},this.init(r)}return Qr(t,[{key:"init",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};n.interpolation||(n.interpolation={escapeValue:!0});var a=n.interpolation;this.escape=a.escape!==void 0?a.escape:M1,this.escapeValue=a.escapeValue!==void 0?a.escapeValue:!0,this.useRawValueToEscape=a.useRawValueToEscape!==void 0?a.useRawValueToEscape:!1,this.prefix=a.prefix?Ps(a.prefix):a.prefixEscaped||"{{",this.suffix=a.suffix?Ps(a.suffix):a.suffixEscaped||"}}",this.formatSeparator=a.formatSeparator?a.formatSeparator:a.formatSeparator||",",this.unescapePrefix=a.unescapeSuffix?"":a.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":a.unescapeSuffix||"",this.nestingPrefix=a.nestingPrefix?Ps(a.nestingPrefix):a.nestingPrefixEscaped||Ps("$t("),this.nestingSuffix=a.nestingSuffix?Ps(a.nestingSuffix):a.nestingSuffixEscaped||Ps(")"),this.nestingOptionsSeparator=a.nestingOptionsSeparator?a.nestingOptionsSeparator:a.nestingOptionsSeparator||",",this.maxReplaces=a.maxReplaces?a.maxReplaces:1e3,this.alwaysFormat=a.alwaysFormat!==void 0?a.alwaysFormat:!1,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var n="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(n,"g");var a="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(a,"g");var s="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(s,"g")}},{key:"interpolate",value:function(n,a,s,o){var c=this,p,f,g,h=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function b($){return $.replace(/\$/g,"$$$$")}var y=function(L){if(L.indexOf(c.formatSeparator)<0){var E=nf(a,h,L,c.options.keySeparator,c.options.ignoreJSONStructure);return c.alwaysFormat?c.format(E,void 0,s,jr(jr(jr({},o),a),{},{interpolationkey:L})):E}var H=L.split(c.formatSeparator),I=H.shift().trim(),N=H.join(c.formatSeparator).trim();return c.format(nf(a,h,I,c.options.keySeparator,c.options.ignoreJSONStructure),N,s,jr(jr(jr({},o),a),{},{interpolationkey:I}))};this.resetRegExp();var C=o&&o.missingInterpolationHandler||this.options.missingInterpolationHandler,x=o&&o.interpolation&&o.interpolation.skipOnVariables!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables,D=[{regex:this.regexpUnescape,safeValue:function(L){return b(L)}},{regex:this.regexp,safeValue:function(L){return c.escapeValue?b(c.escape(L)):b(L)}}];return D.forEach(function($){for(g=0;p=$.regex.exec(n);){var L=p[1].trim();if(f=y(L),f===void 0)if(typeof C=="function"){var E=C(n,p,o);f=typeof E=="string"?E:""}else if(o&&Object.prototype.hasOwnProperty.call(o,L))f="";else if(x){f=p[0];continue}else c.logger.warn("missed to pass in variable ".concat(L," for interpolating ").concat(n)),f="";else typeof f!="string"&&!c.useRawValueToEscape&&(f=zp(f));var H=$.safeValue(f);if(n=n.replace(p[0],H),x?($.regex.lastIndex+=f.length,$.regex.lastIndex-=p[0].length):$.regex.lastIndex=0,g++,g>=c.maxReplaces)break}}),n}},{key:"nest",value:function(n,a){var s=this,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},c,p,f;function g(C,x){var D=this.nestingOptionsSeparator;if(C.indexOf(D)<0)return C;var $=C.split(new RegExp("".concat(D,"[ ]*{"))),L="{".concat($[1]);C=$[0],L=this.interpolate(L,f);var E=L.match(/'/g),H=L.match(/"/g);(E&&E.length%2===0&&!H||H.length%2!==0)&&(L=L.replace(/'/g,'"'));try{f=JSON.parse(L),x&&(f=jr(jr({},x),f))}catch(I){return this.logger.warn("failed parsing options string in nesting for key ".concat(C),I),"".concat(C).concat(D).concat(L)}return delete f.defaultValue,C}for(;c=this.nestingRegexp.exec(n);){var h=[];f=jr({},o),f=f.replace&&typeof f.replace!="string"?f.replace:f,f.applyPostProcessor=!1,delete f.defaultValue;var b=!1;if(c[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(c[1])){var y=c[1].split(this.formatSeparator).map(function(C){return C.trim()});c[1]=y.shift(),h=y,b=!0}if(p=a(g.call(this,c[1].trim(),f),f),p&&c[0]===n&&typeof p!="string")return p;typeof p!="string"&&(p=zp(p)),p||(this.logger.warn("missed to resolve ".concat(c[1]," for nesting ").concat(n)),p=""),b&&(p=h.reduce(function(C,x){return s.format(C,x,o.lng,jr(jr({},o),{},{interpolationkey:c[1].trim()}))},p.trim())),n=n.replace(c[0],p),this.regexp.lastIndex=0}return n}}]),t}();function af(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function kn(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?af(Object(n),!0).forEach(function(a){Tn(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):af(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function _1(t){var r=t.toLowerCase().trim(),n={};if(t.indexOf("(")>-1){var a=t.split("(");r=a[0].toLowerCase().trim();var s=a[1].substring(0,a[1].length-1);if(r==="currency"&&s.indexOf(":")<0)n.currency||(n.currency=s.trim());else if(r==="relativetime"&&s.indexOf(":")<0)n.range||(n.range=s.trim());else{var o=s.split(";");o.forEach(function(c){if(c){var p=c.split(":"),f=jp(p),g=f[0],h=f.slice(1),b=h.join(":").trim().replace(/^'+|'+$/g,"");n[g.trim()]||(n[g.trim()]=b),b==="false"&&(n[g.trim()]=!1),b==="true"&&(n[g.trim()]=!0),isNaN(b)||(n[g.trim()]=parseInt(b,10))}})}}return{formatName:r,formatOptions:n}}function Es(t){var r={};return function(a,s,o){var c=s+JSON.stringify(o),p=r[c];return p||(p=t(s,o),r[c]=p),p(a)}}var $1=function(){function t(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Fr(this,t),this.logger=on.create("formatter"),this.options=r,this.formats={number:Es(function(n,a){var s=new Intl.NumberFormat(n,kn({},a));return function(o){return s.format(o)}}),currency:Es(function(n,a){var s=new Intl.NumberFormat(n,kn(kn({},a),{},{style:"currency"}));return function(o){return s.format(o)}}),datetime:Es(function(n,a){var s=new Intl.DateTimeFormat(n,kn({},a));return function(o){return s.format(o)}}),relativetime:Es(function(n,a){var s=new Intl.RelativeTimeFormat(n,kn({},a));return function(o){return s.format(o,a.range||"day")}}),list:Es(function(n,a){var s=new Intl.ListFormat(n,kn({},a));return function(o){return s.format(o)}})},this.init(r)}return Qr(t,[{key:"init",value:function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}},s=a.interpolation;this.formatSeparator=s.formatSeparator?s.formatSeparator:s.formatSeparator||","}},{key:"add",value:function(n,a){this.formats[n.toLowerCase().trim()]=a}},{key:"addCached",value:function(n,a){this.formats[n.toLowerCase().trim()]=Es(a)}},{key:"format",value:function(n,a,s){var o=this,c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},p=a.split(this.formatSeparator),f=p.reduce(function(g,h){var b=_1(h),y=b.formatName,C=b.formatOptions;if(o.formats[y]){var x=g;try{var D=c&&c.formatParams&&c.formatParams[c.interpolationkey]||{},$=D.locale||D.lng||c.locale||c.lng||s;x=o.formats[y](g,$,kn(kn(kn({},C),c),D))}catch(L){o.logger.warn(L)}return x}else o.logger.warn("there was no format function for ".concat(y));return g},n);return f}}]),t}();function sf(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function of(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?sf(Object(n),!0).forEach(function(a){Tn(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sf(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function D1(t){var r=G1();return function(){var a=qr(t),s;if(r){var o=qr(this).constructor;s=Reflect.construct(a,arguments,o)}else s=a.apply(this,arguments);return As(this,s)}}function G1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function H1(t,r){t.pending[r]!==void 0&&(delete t.pending[r],t.pendingCount--)}var F1=function(t){Eo(n,t);var r=D1(n);function n(a,s,o){var c,p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return Fr(this,n),c=r.call(this),ol&&Xn.call(an(c)),c.backend=a,c.store=s,c.services=o,c.languageUtils=o.languageUtils,c.options=p,c.logger=on.create("backendConnector"),c.waitingReads=[],c.maxParallelReads=p.maxParallelReads||10,c.readingCalls=0,c.maxRetries=p.maxRetries>=0?p.maxRetries:5,c.retryTimeout=p.retryTimeout>=1?p.retryTimeout:350,c.state={},c.queue=[],c.backend&&c.backend.init&&c.backend.init(o,p.backend,p),c}return Qr(n,[{key:"queueLoad",value:function(s,o,c,p){var f=this,g={},h={},b={},y={};return s.forEach(function(C){var x=!0;o.forEach(function(D){var $="".concat(C,"|").concat(D);!c.reload&&f.store.hasResourceBundle(C,D)?f.state[$]=2:f.state[$]<0||(f.state[$]===1?h[$]===void 0&&(h[$]=!0):(f.state[$]=1,x=!1,h[$]===void 0&&(h[$]=!0),g[$]===void 0&&(g[$]=!0),y[D]===void 0&&(y[D]=!0)))}),x||(b[C]=!0)}),(Object.keys(g).length||Object.keys(h).length)&&this.queue.push({pending:h,pendingCount:Object.keys(h).length,loaded:{},errors:[],callback:p}),{toLoad:Object.keys(g),pending:Object.keys(h),toLoadLanguages:Object.keys(b),toLoadNamespaces:Object.keys(y)}}},{key:"loaded",value:function(s,o,c){var p=s.split("|"),f=p[0],g=p[1];o&&this.emit("failedLoading",f,g,o),c&&this.store.addResourceBundle(f,g,c),this.state[s]=o?-1:2;var h={};this.queue.forEach(function(b){C1(b.loaded,[f],g),H1(b,s),o&&b.errors.push(o),b.pendingCount===0&&!b.done&&(Object.keys(b.loaded).forEach(function(y){h[y]||(h[y]={});var C=b.loaded[y];C.length&&C.forEach(function(x){h[y][x]===void 0&&(h[y][x]=!0)})}),b.done=!0,b.errors.length?b.callback(b.errors):b.callback())}),this.emit("loaded",h),this.queue=this.queue.filter(function(b){return!b.done})}},{key:"read",value:function(s,o,c){var p=this,f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,g=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,h=arguments.length>5?arguments[5]:void 0;if(!s.length)return h(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:s,ns:o,fcName:c,tried:f,wait:g,callback:h});return}this.readingCalls++;var b=function(D,$){if(p.readingCalls--,p.waitingReads.length>0){var L=p.waitingReads.shift();p.read(L.lng,L.ns,L.fcName,L.tried,L.wait,L.callback)}if(D&&$&&f<p.maxRetries){setTimeout(function(){p.read.call(p,s,o,c,f+1,g*2,h)},g);return}h(D,$)},y=this.backend[c].bind(this.backend);if(y.length===2){try{var C=y(s,o);C&&typeof C.then=="function"?C.then(function(x){return b(null,x)}).catch(b):b(null,C)}catch(x){b(x)}return}return y(s,o,b)}},{key:"prepareLoading",value:function(s,o){var c=this,p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},f=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),f&&f();typeof s=="string"&&(s=this.languageUtils.toResolveHierarchy(s)),typeof o=="string"&&(o=[o]);var g=this.queueLoad(s,o,p,f);if(!g.toLoad.length)return g.pending.length||f(),null;g.toLoad.forEach(function(h){c.loadOne(h)})}},{key:"load",value:function(s,o,c){this.prepareLoading(s,o,{},c)}},{key:"reload",value:function(s,o,c){this.prepareLoading(s,o,{reload:!0},c)}},{key:"loadOne",value:function(s){var o=this,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",p=s.split("|"),f=p[0],g=p[1];this.read(f,g,"read",void 0,void 0,function(h,b){h&&o.logger.warn("".concat(c,"loading namespace ").concat(g," for language ").concat(f," failed"),h),!h&&b&&o.logger.log("".concat(c,"loaded namespace ").concat(g," for language ").concat(f),b),o.loaded(s,h,b)})}},{key:"saveMissing",value:function(s,o,c,p,f){var g=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},h=arguments.length>6&&arguments[6]!==void 0?arguments[6]:function(){};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(o)){this.logger.warn('did not save key "'.concat(c,'" as the namespace "').concat(o,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(c==null||c==="")){if(this.backend&&this.backend.create){var b=of(of({},g),{},{isUpdate:f}),y=this.backend.create.bind(this.backend);if(y.length<6)try{var C;y.length===5?C=y(s,o,c,p,b):C=y(s,o,c,p),C&&typeof C.then=="function"?C.then(function(x){return h(null,x)}).catch(h):h(null,C)}catch(x){h(x)}else y(s,o,c,p,h,b)}!s||!s[0]||this.store.addResource(s[0],o,c,p)}}}]),n}(Xn);function lf(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(r){var n={};if($t(r[1])==="object"&&(n=r[1]),typeof r[1]=="string"&&(n.defaultValue=r[1]),typeof r[2]=="string"&&(n.tDescription=r[2]),$t(r[2])==="object"||$t(r[3])==="object"){var a=r[3]||r[2];Object.keys(a).forEach(function(s){n[s]=a[s]})}return n},interpolation:{escapeValue:!0,format:function(r,n,a,s){return r},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function cf(t){return typeof t.ns=="string"&&(t.ns=[t.ns]),typeof t.fallbackLng=="string"&&(t.fallbackLng=[t.fallbackLng]),typeof t.fallbackNS=="string"&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function uf(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function sn(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?uf(Object(n),!0).forEach(function(a){Tn(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uf(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function Q1(t){var r=q1();return function(){var a=qr(t),s;if(r){var o=qr(this).constructor;s=Reflect.construct(a,arguments,o)}else s=a.apply(this,arguments);return As(this,s)}}function q1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function rl(){}function j1(t){var r=Object.getOwnPropertyNames(Object.getPrototypeOf(t));r.forEach(function(n){typeof t[n]=="function"&&(t[n]=t[n].bind(t))})}var sl=function(t){Eo(n,t);var r=Q1(n);function n(){var a,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;if(Fr(this,n),a=r.call(this),ol&&Xn.call(an(a)),a.options=cf(s),a.services={},a.logger=on,a.modules={external:[]},j1(an(a)),o&&!a.isInitialized&&!s.isClone){if(!a.options.initImmediate)return a.init(s,o),As(a,an(a));setTimeout(function(){a.init(s,o)},0)}return a}return Qr(n,[{key:"init",value:function(){var s=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=arguments.length>1?arguments[1]:void 0;typeof o=="function"&&(c=o,o={}),!o.defaultNS&&o.defaultNS!==!1&&o.ns&&(typeof o.ns=="string"?o.defaultNS=o.ns:o.ns.indexOf("translation")<0&&(o.defaultNS=o.ns[0]));var p=lf();this.options=sn(sn(sn({},p),this.options),cf(o)),this.options.compatibilityAPI!=="v1"&&(this.options.interpolation=sn(sn({},p.interpolation),this.options.interpolation)),o.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=o.keySeparator),o.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=o.nsSeparator);function f(L){return L?typeof L=="function"?new L:L:null}if(!this.options.isClone){this.modules.logger?on.init(f(this.modules.logger),this.options):on.init(null,this.options);var g;this.modules.formatter?g=this.modules.formatter:typeof Intl<"u"&&(g=$1);var h=new ef(this.options);this.store=new A1(this.options.resources,this.options);var b=this.services;b.logger=on,b.resourceStore=this.store,b.languageUtils=h,b.pluralResolver=new I1(h,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),g&&(!this.options.interpolation.format||this.options.interpolation.format===p.interpolation.format)&&(b.formatter=f(g),b.formatter.init(b,this.options),this.options.interpolation.format=b.formatter.format.bind(b.formatter)),b.interpolator=new N1(this.options),b.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},b.backendConnector=new F1(f(this.modules.backend),b.resourceStore,b,this.options),b.backendConnector.on("*",function(L){for(var E=arguments.length,H=new Array(E>1?E-1:0),I=1;I<E;I++)H[I-1]=arguments[I];s.emit.apply(s,[L].concat(H))}),this.modules.languageDetector&&(b.languageDetector=f(this.modules.languageDetector),b.languageDetector.init&&b.languageDetector.init(b,this.options.detection,this.options)),this.modules.i18nFormat&&(b.i18nFormat=f(this.modules.i18nFormat),b.i18nFormat.init&&b.i18nFormat.init(this)),this.translator=new Jp(this.services,this.options),this.translator.on("*",function(L){for(var E=arguments.length,H=new Array(E>1?E-1:0),I=1;I<E;I++)H[I-1]=arguments[I];s.emit.apply(s,[L].concat(H))}),this.modules.external.forEach(function(L){L.init&&L.init(s)})}if(this.format=this.options.interpolation.format,c||(c=rl),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var y=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);y.length>0&&y[0]!=="dev"&&(this.options.lng=y[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined");var C=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];C.forEach(function(L){s[L]=function(){var E;return(E=s.store)[L].apply(E,arguments)}});var x=["addResource","addResources","addResourceBundle","removeResourceBundle"];x.forEach(function(L){s[L]=function(){var E;return(E=s.store)[L].apply(E,arguments),s}});var D=Oo(),$=function(){var E=function(I,N){s.isInitialized&&!s.initializedStoreOnce&&s.logger.warn("init: i18next is already initialized. You should call init just once!"),s.isInitialized=!0,s.options.isClone||s.logger.log("initialized",s.options),s.emit("initialized",s.options),D.resolve(N),c(I,N)};if(s.languages&&s.options.compatibilityAPI!=="v1"&&!s.isInitialized)return E(null,s.t.bind(s));s.changeLanguage(s.options.lng,E)};return this.options.resources||!this.options.initImmediate?$():setTimeout($,0),D}},{key:"loadResources",value:function(s){var o=this,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:rl,p=c,f=typeof s=="string"?s:this.language;if(typeof s=="function"&&(p=s),!this.options.resources||this.options.partialBundledLanguages){if(f&&f.toLowerCase()==="cimode")return p();var g=[],h=function(C){if(C){var x=o.services.languageUtils.toResolveHierarchy(C);x.forEach(function(D){g.indexOf(D)<0&&g.push(D)})}};if(f)h(f);else{var b=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);b.forEach(function(y){return h(y)})}this.options.preload&&this.options.preload.forEach(function(y){return h(y)}),this.services.backendConnector.load(g,this.options.ns,function(y){!y&&!o.resolvedLanguage&&o.language&&o.setResolvedLanguage(o.language),p(y)})}else p(null)}},{key:"reloadResources",value:function(s,o,c){var p=Oo();return s||(s=this.languages),o||(o=this.options.ns),c||(c=rl),this.services.backendConnector.reload(s,o,function(f){p.resolve(),c(f)}),p}},{key:"use",value:function(s){if(!s)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!s.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return s.type==="backend"&&(this.modules.backend=s),(s.type==="logger"||s.log&&s.warn&&s.error)&&(this.modules.logger=s),s.type==="languageDetector"&&(this.modules.languageDetector=s),s.type==="i18nFormat"&&(this.modules.i18nFormat=s),s.type==="postProcessor"&&pf.addPostProcessor(s),s.type==="formatter"&&(this.modules.formatter=s),s.type==="3rdParty"&&this.modules.external.push(s),this}},{key:"setResolvedLanguage",value:function(s){if(!(!s||!this.languages)&&!(["cimode","dev"].indexOf(s)>-1))for(var o=0;o<this.languages.length;o++){var c=this.languages[o];if(!(["cimode","dev"].indexOf(c)>-1)&&this.store.hasLanguageSomeTranslations(c)){this.resolvedLanguage=c;break}}}},{key:"changeLanguage",value:function(s,o){var c=this;this.isLanguageChangingTo=s;var p=Oo();this.emit("languageChanging",s);var f=function(y){c.language=y,c.languages=c.services.languageUtils.toResolveHierarchy(y),c.resolvedLanguage=void 0,c.setResolvedLanguage(y)},g=function(y,C){C?(f(C),c.translator.changeLanguage(C),c.isLanguageChangingTo=void 0,c.emit("languageChanged",C),c.logger.log("languageChanged",C)):c.isLanguageChangingTo=void 0,p.resolve(function(){return c.t.apply(c,arguments)}),o&&o(y,function(){return c.t.apply(c,arguments)})},h=function(y){!s&&!y&&c.services.languageDetector&&(y=[]);var C=typeof y=="string"?y:c.services.languageUtils.getBestMatchFromCodes(y);C&&(c.language||f(C),c.translator.language||c.translator.changeLanguage(C),c.services.languageDetector&&c.services.languageDetector.cacheUserLanguage&&c.services.languageDetector.cacheUserLanguage(C)),c.loadResources(C,function(x){g(x,C)})};return!s&&this.services.languageDetector&&!this.services.languageDetector.async?h(this.services.languageDetector.detect()):!s&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(h):this.services.languageDetector.detect(h):h(s),p}},{key:"getFixedT",value:function(s,o,c){var p=this,f=function g(h,b){var y;if($t(b)!=="object"){for(var C=arguments.length,x=new Array(C>2?C-2:0),D=2;D<C;D++)x[D-2]=arguments[D];y=p.options.overloadTranslationOptionHandler([h,b].concat(x))}else y=sn({},b);y.lng=y.lng||g.lng,y.lngs=y.lngs||g.lngs,y.ns=y.ns||g.ns,y.keyPrefix=y.keyPrefix||c||g.keyPrefix;var $=p.options.keySeparator||".",L;return y.keyPrefix&&Array.isArray(h)?L=h.map(function(E){return"".concat(y.keyPrefix).concat($).concat(E)}):L=y.keyPrefix?"".concat(y.keyPrefix).concat($).concat(h):h,p.t(L,y)};return typeof s=="string"?f.lng=s:f.lngs=s,f.ns=o,f.keyPrefix=c,f}},{key:"t",value:function(){var s;return this.translator&&(s=this.translator).translate.apply(s,arguments)}},{key:"exists",value:function(){var s;return this.translator&&(s=this.translator).exists.apply(s,arguments)}},{key:"setDefaultNamespace",value:function(s){this.options.defaultNS=s}},{key:"hasLoadedNamespace",value:function(s){var o=this,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var p=c.lng||this.resolvedLanguage||this.languages[0],f=this.options?this.options.fallbackLng:!1,g=this.languages[this.languages.length-1];if(p.toLowerCase()==="cimode")return!0;var h=function(C,x){var D=o.services.backendConnector.state["".concat(C,"|").concat(x)];return D===-1||D===2};if(c.precheck){var b=c.precheck(this,h);if(b!==void 0)return b}return!!(this.hasResourceBundle(p,s)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||h(p,s)&&(!f||h(g,s)))}},{key:"loadNamespaces",value:function(s,o){var c=this,p=Oo();return this.options.ns?(typeof s=="string"&&(s=[s]),s.forEach(function(f){c.options.ns.indexOf(f)<0&&c.options.ns.push(f)}),this.loadResources(function(f){p.resolve(),o&&o(f)}),p):(o&&o(),Promise.resolve())}},{key:"loadLanguages",value:function(s,o){var c=Oo();typeof s=="string"&&(s=[s]);var p=this.options.preload||[],f=s.filter(function(g){return p.indexOf(g)<0});return f.length?(this.options.preload=p.concat(f),this.loadResources(function(g){c.resolve(),o&&o(g)}),c):(o&&o(),Promise.resolve())}},{key:"dir",value:function(s){if(s||(s=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!s)return"rtl";var o=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],c=this.services&&this.services.languageUtils||new ef(lf());return o.indexOf(c.getLanguagePartFromCode(s))>-1||s.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var s=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:rl,p=sn(sn(sn({},this.options),o),{isClone:!0}),f=new n(p);(o.debug!==void 0||o.prefix!==void 0)&&(f.logger=f.logger.clone(o));var g=["store","services","language"];return g.forEach(function(h){f[h]=s[h]}),f.services=sn({},this.services),f.services.utils={hasLoadedNamespace:f.hasLoadedNamespace.bind(f)},f.translator=new Jp(f.services,f.options),f.translator.on("*",function(h){for(var b=arguments.length,y=new Array(b>1?b-1:0),C=1;C<b;C++)y[C-1]=arguments[C];f.emit.apply(f,[h].concat(y))}),f.init(p,c),f.translator.options=f.options,f.translator.backendConnector.services.utils={hasLoadedNamespace:f.hasLoadedNamespace.bind(f)},f}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),n}(Xn);Tn(sl,"createInstance",function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;return new sl(t,r)});var u=sl.createInstance();u.createInstance=sl.createInstance;var ix=u.createInstance,lx=u.dir,cx=u.init,ux=u.loadResources,dx=u.reloadResources,px=u.use,fx=u.changeLanguage,gx=u.getFixedT,mx=u.t,hx=u.exists,bx=u.setDefaultNamespace,yx=u.hasLoadedNamespace,vx=u.loadNamespaces,Cx=u.loadLanguages;var au=new Map,l=t=>{let r=au.get(t);if(r)return r;let n=document.getElementById(t);if(!n)throw new TypeError(`Element with id "${t}" was not found on page?`);return au.set(t,n),n},ff=t=>au.has(t);var hf=Hr(mf()),Ht=new hf.default;var Zn=class{constructor(r){this.level=0;this.freeLevels=0;this.toggleBuy=1;var n,a,s,o;this.name=r.name,this.description=r.description,this.level=(n=r.level)!=null?n:0,this.freeLevels=(a=r.freeLevels)!=null?a:0,this.maxLevel=r.maxLevel,this.costPerLevel=r.costPerLevel,this.toggleBuy=(s=r.toggleBuy)!=null?s:1,this.effect=(o=r.effect)!=null?o:c=>({bonus:c,desc:"WIP not implemented"})}async changeToggle(){let r=await je(u.t("dynamicUpgrades.validation.setPurchaseAmount",{x:this.name})),n=Number(r);if(r===null)return B(u.t("dynamicUpgrades.validation.toggleKept",{x:d(this.toggleBuy)}));if(!Number.isInteger(r))return B(u.t("general.validation.fraction"));if(n<-1)return B(u.t("dynamicUpgrades.validation.onlyNegativeOne"));if(n===0)return B(u.t("dynamicUpgrades.validation.notZero"));this.toggleBuy=n;let a=n===-1?u.t("dynamicUpgrades.toggleMax"):u.t("dynamicUpgrades.toggle",{x:d(this.toggleBuy)});return B(a)}getEffect(){let r=this.level+Math.min(this.level,this.freeLevels)+Math.sqrt(Math.max(0,this.freeLevels-this.level));return this.effect(r)}};var Zh=Hr(iu());var zd=Hr(ll()),Yh=Hr(eu());var yr="3.1.0 January 3, 2025: The PseudoCoin Update";var Yn=new Date(Date.UTC(2025,0,12,22,55,46)),ln=!0;var Oa=()=>{let t=Object.keys(e.hypercubeBlessings);for(let r of t){let n=e.hypercubeBlessings[r],a=t.indexOf(r)+1,s=1,o=1;n>=1e3&&(s=i.benedictionDRPower[a],o*=Math.pow(1e3,1-i.benedictionDRPower[a])),i.hypercubeBonusMultiplier[a]=1+o*i.benedictionbase[a]*Math.pow(n,s)*i.platonicBonusMultiplier[4]}};var cl=()=>{let t=Object.values(e.platonicBlessings),r=[4e6,4e6,4e6,8e4,1e4,1e4,1e4,1e4];for(let n=0;n<t.length;n++){let a=1,s=1,o=t[n];n===5&&(o=Math.min(o,1e20)),n===6&&o>=1e20&&(o=Math.pow(o,.5)*1e10),t[n]>=r[n]&&(a=i.platonicDRPower[n],s*=Math.pow(r[n],1-i.platonicDRPower[n])),i.platonicBonusMultiplier[n]=1+s*i.platonicCubeBase[n]*Math.pow(o,a)}};var Jt=()=>{let t=9e4;e.researches[195]>0&&(t+=18e3*e.researches[195]);let r=5,n=[99,100,125,180,195];for(let p of n)r+=e.researches[p];r*=+e.octeractUpgrades.octeractExportQuarks.getEffect().bonus;let a=r,s=Math.floor(a*t/3600),o=Math.floor(e.quarkstimer*a/3600),c=ea();return{maxTime:t,perHour:a,capacity:s,gain:o,cubeMult:c}},yf=0,vf=t=>yf=t,vr=()=>yf,z1,Jn=class{constructor(r){this.QUARKS=0;this[z1]=r=>r==="number"?this.QUARKS:null;this.QUARKS=r}applyBonus(r){let n=ul();return r*(1+vr()/100)*n}add(r,n=!0){return this.QUARKS+=n?this.applyBonus(r):r,e.quarksThisSingularity+=n?this.applyBonus(r):r,this}sub(r){return this.QUARKS-=r,this.QUARKS<0&&(this.QUARKS=0),this}toString(r){return d(Math.floor(this.applyBonus(r)),0,!0)}reset(){this.QUARKS=0}};z1=Symbol.toPrimitive;var Ua=()=>{let t=[e.tesseractBlessings.accelerator,e.tesseractBlessings.multiplier,e.tesseractBlessings.offering,e.tesseractBlessings.runeExp,e.tesseractBlessings.obtainium,e.tesseractBlessings.antSpeed,e.tesseractBlessings.antSacrifice,e.tesseractBlessings.antELO,e.tesseractBlessings.talismanBonus,e.tesseractBlessings.globalSpeed];for(let r=0;r<10;r++){let n=1,a=1;t[r]>=1e3&&r!==5&&(n=i.giftDRPower[r],a*=Math.pow(1e3,1-i.giftDRPower[r])),i.tesseractBonusMultiplier[r+1]=1+a*i.giftbase[r]*Math.pow(t[r],n)*i.hypercubeBonusMultiplier[r+1]}};var Os={accelerator:{weight:4,pdf:t=>0<=t&&t<=20},multiplier:{weight:4,pdf:t=>20<t&&t<=40},offering:{weight:2,pdf:t=>40<t&&t<=50},runeExp:{weight:2,pdf:t=>50<t&&t<=60},obtainium:{weight:2,pdf:t=>60<t&&t<=70},antSpeed:{weight:2,pdf:t=>70<t&&t<=80},antSacrifice:{weight:1,pdf:t=>80<t&&t<=85},antELO:{weight:1,pdf:t=>85<t&&t<=90},talismanBonus:{weight:1,pdf:t=>90<t&&t<=95},globalSpeed:{weight:1,pdf:t=>95<t&&t<=100}},cu={cubes:{weight:13200,pdf:t=>0<=t&&t<=33},tesseracts:{weight:13200,pdf:t=>33<t&&t<=66},hypercubes:{weight:13200,pdf:t=>66<t&&t<=99},platonics:{weight:396,pdf:t=>99<t&&t<=99.99},hypercubeBonus:{weight:1,pdf:t=>99.99<t&&t<=99.9925},taxes:{weight:1,pdf:t=>99.9925<t&&t<=99.995},scoreBonus:{weight:1,pdf:t=>99.995<t&&t<=99.9975},globalSpeed:{weight:1,pdf:t=>99.9975<t&&t<=100}},ta=class{constructor(r,n=0){this.key=r,this.value=n}async openCustom(){let r=e[this.key],n=await je(u.t("cubes.howManyCubesOpen",{x:d(r,0,!0)}));if(n===null)return B(u.t("cubes.noCubesOpened"));let a=n.endsWith("%"),s=n.startsWith("-")?a?100+Number(n.slice(0,-1)):r.value+Number(n):Number(a?n.slice(0,-1):n);return Number.isNaN(s)||!Number.isFinite(s)||!Number.isInteger(s)?B(u.t("general.validation.finiteInt")):r.value<s?B(u.t("cubes.validation.notEnough")):s<=0?B(u.t("cubes.validation.negative")):a&&s>100?B(u.t("cubes.validation.invalidPercent",{x:s})):a?this.open(Math.floor(r.value*(s/100)),s===100,!1):this.open(s,s===r.value,!1)}checkQuarkGain(r,n,a){if(a<1)return 0;let s=n*Jt().cubeMult;return Math.floor(e.worlds.applyBonus(Math.log10(a)*r*s))}checkCubesToNextQuark(r,n,a,s){let o=n*Jt().cubeMult;return Math.ceil(Math.pow(10,(a+1)/e.worlds.applyBonus(o*r))-s)}add(r){return this.value=Math.min(1e300,this.value+r),this}sub(r){return this.value=Math.max(0,this.value-r),this}[Symbol.toPrimitive](r){switch(r){case"string":return this.value.toString();case"number":return this.value;default:return null}}},Cr=class extends ta{constructor(r=Number(e.wowCubes)){super("wowCubes",r)}open(r,n=!1,a=!1){let s=n?Number(this):a?r:Math.min(Number(this),r);r===1&&e.cubeBlessings.accelerator>=2e11&&e.achievements[246]<1&&F(246),a||this.sub(s),e.cubeOpenedDaily+=s;let o=e.shopUpgrades.cubeToQuark?1.5:1,c=Number(this.checkQuarkGain(5,o,e.cubeOpenedDaily)),p=Math.max(0,c-e.cubeQuarkDaily);e.cubeQuarkDaily+=p,e.worlds.add(p,!1),s*=1+e.researches[138]/1e3,s*=1+.8*e.researches[168]/1e3,s*=1+.6*e.researches[198]/1e3,s=Math.floor(s);let f=s%20,g=Math.floor(s/20);g>0&&e.cubeUpgrades[13]===1&&(f+=g),g>0&&e.cubeUpgrades[23]===1&&(f+=g),g>0&&e.cubeUpgrades[33]===1&&(f+=g),g+=100/100*Math.floor(f/20),f=f%20;let h=Object.keys(e.cubeBlessings);for(let b of h)e.cubeBlessings[b]+=Os[b].weight*g*(1+Math.floor(z("ascension",e.challengecompletions[12])));for(let b=0;b<f;b++){let y=100*Math.random();for(let C of h)Os[C].pdf(y)&&(e.cubeBlessings[C]+=1+Math.floor(z("ascension",e.challengecompletions[12])))}sr()}},Ba=class extends ta{constructor(r=Number(e.wowTesseracts)){super("wowTesseracts",r)}open(r,n=!1,a=!1){let s=n?Number(this):a?r:Math.min(Number(this),r);a||e.wowTesseracts.sub(s),e.tesseractOpenedDaily+=s;let o=e.shopUpgrades.tesseractToQuark?1.5:1,c=Number(this.checkQuarkGain(7,o,e.tesseractOpenedDaily)),p=Math.max(0,c-e.tesseractQuarkDaily);e.tesseractQuarkDaily+=p,e.worlds.add(p,!1);let f=s%20,g=Math.floor(s/20);for(let b in e.tesseractBlessings)e.tesseractBlessings[b]+=Os[b].weight*g;for(let b=0;b<f;b++){let y=100*Math.random();for(let C in e.tesseractBlessings)Os[C].pdf(y)&&(e.tesseractBlessings[C]+=1)}Ua();let h=Math.floor(12*s*e.researches[153]);e.wowCubes.open(h,!1,!0)}},Ra=class extends ta{constructor(r=Number(e.wowHypercubes)){super("wowHypercubes",r)}open(r,n=!1,a=!1){let s=n?Number(this):a?r:Math.min(Number(this),r);a||e.wowHypercubes.sub(s),e.hypercubeOpenedDaily+=s;let o=e.shopUpgrades.hypercubeToQuark?1.5:1,c=this.checkQuarkGain(10,o,e.hypercubeOpenedDaily),p=Math.max(0,c-e.hypercubeQuarkDaily);e.hypercubeQuarkDaily+=p,e.worlds.add(p,!1);let f=s%20,g=Math.floor(s/20);for(let b in e.hypercubeBlessings)e.hypercubeBlessings[b]+=Os[b].weight*g;for(let b=0;b<f;b++){let y=100*Math.random();for(let C in e.hypercubeBlessings)Os[C].pdf(y)&&(e.hypercubeBlessings[C]+=1)}Oa();let h=Math.floor(100*s*e.researches[183]);e.wowTesseracts.open(h,!1,!0)}},Ia=class extends ta{constructor(r=Number(e.wowPlatonicCubes)){super("wowPlatonicCubes",r)}open(r,n=!1,a=!1){let s=n?Number(this):a?r:Math.min(Number(this),r);a||e.wowPlatonicCubes.sub(s),e.platonicCubeOpenedDaily+=s;let o=1.5,c=this.checkQuarkGain(15,o,e.platonicCubeOpenedDaily),p=Math.max(0,c-e.platonicCubeQuarkDaily);e.platonicCubeQuarkDaily+=p,e.worlds.add(p,!1);let f=s%4e4,g=Math.floor(s/4e4);for(let C in e.platonicBlessings)e.platonicBlessings[C]+=cu[C].weight*g,cu[C].weight===1&&e.cubeUpgrades[64]>0&&(e.platonicBlessings[C]+=g);let h=["hypercubeBonus","taxes","scoreBonus","globalSpeed"];for(let C=0;C<h.length;C++){let x=Math.random();f/4e4>=x&&f!==0&&(e.platonicBlessings[h[C]]+=1,f-=1)}let b=[Math.floor(33*f/100),Math.floor(33*f/100),Math.floor(33*f/100),Math.floor(396*f/4e4)],y=["cubes","tesseracts","hypercubes","platonics"];for(let C=0;C<y.length;C++)e.platonicBlessings[y[C]]+=b[C],f-=b[C];for(let C=0;C<f;C++){let x=100*Math.random();for(let D in e.platonicBlessings)cu[D].pdf(x)&&(e.platonicBlessings[D]+=1)}if(cl(),e.achievements[271]>0){let C=Math.floor(s*Math.max(0,Math.min(1,(m.log(e.ascendShards.add(1),10)-1e5)/9e5)));e.wowHypercubes.open(C,!1,!0)}}};var lg=Hr(ig());var vl=t=>t instanceof m||typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"mantissa"in t&&"exponent"in t,Ie=(t=0)=>t<=Number.MAX_SAFE_INTEGER?1:2**Math.floor(Math.log2(t)-52),xe=t=>(t=Array.isArray(t)?t:Object.values(t),t.reduce((r,n)=>r+n,0)),Oe=t=>t.reduce((r,n)=>r*n),cg=t=>Array.from([...t.keys()]).sort((r,n)=>t[r]<t[n]?-1:+(t[n]<t[r])),Pn=t=>l(t);var Su=(t,r,n)=>{for(let a=0;a<n;a++)a in t||(t[a]=r);return t},Vt=(t,r,n)=>{let a=l(t);for(let s of r)a.classList.add(s);for(let s of n)a.classList.remove(s)},Ns=t=>{try{return window.btoa(t)}catch(r){return console.error("An error occurred:",r),null}},_o=t=>{let r="th";return t%10===1&&(r=t%100===11?"th":"st"),t%10===2&&(r=t%100===12?"th":"nd"),t%10===3&&(r=t%100===13?"th":"rd"),d(t,0,!0)+r},xy=t=>Object.entries({d:Math.floor(t/864e5),h:Math.floor(t/36e5)%24,m:Math.floor(t/6e4)%60,s:Math.floor(t/1e3)%60}).filter(r=>r[1]>0).map(r=>`${r[1]}${r[0]}`).join(" ")||"0s",Vr=t=>xy(1e3*t),$o=t=>{let r="";for(let n=0;n<t.length;n++){let a=t.charCodeAt(n);r+=a>255?"_":t[n]}return r};function na(t,r){if(!t)throw new TypeError("assertion failed",{cause:new TypeError(r)})}function Cl(t,r,n){return t<r?n:t>n?r:t}var Da=()=>{let t,r,n=new Promise((a,s)=>{t=a,r=s});return{resolve:t,reject:r,promise:n}},cn=t=>(0,lg.default)(t,r=>vl(r)||r instanceof m?new m(r):r);function un(t){let r=!1,n;return(...a)=>(r||(r=!0,n=t(...a)),n)}var Tu=()=>{let t=e.singularityCount,r=t>36?u.t("singularity.penalties.platonicCosts",{multiplier:d(He("Platonic Costs",t),2,!0)}):'<span class="grayText">???????? ??????? ????? ??? ?????????? ?? ???</span> <span class="redText">(37)</span>',n=t>50?u.t("singularity.penalties.hepteractCosts",{multiplier:d(He("Hepteract Costs",t),2,!0)}):'<span class="grayText">????????? ????? ????? ??? ?????????? ?? ???</span> <span class="redText">(51)</span>',a=`${My(t)}<br>${u.t("singularity.penalties.globalSpeed",{divisor:d(He("Global Speed",t),2,!0)})}
        ${u.t("singularity.penalties.ascensionSpeed",{divisor:d(He("Ascension Speed",t),2,!0)})}
        ${u.t("singularity.penalties.offeringGain",{divisor:d(He("Offering",t),2,!0)})}
        ${u.t("singularity.penalties.obtainiumGain",{divisor:d(He("Obtainium",t),2,!0)})}
        ${u.t("singularity.penalties.cubeGain",{divisor:d(He("Cubes",t),2,!0)})}
        ${u.t("singularity.penalties.researchCosts",{multiplier:d(He("Researches",t),2,!0)})}
        ${u.t("singularity.penalties.cubeUpgradeCosts",{multiplier:d(He("Cube Upgrades",t),2,!0)})}
        ${r}
        ${n}
        ${t>=270?u.t("singularity.penalties.penaltySmooth"):u.t("singularity.penalties.penaltyRough",{num:d(Ty(e.singularityCount),0,!0)})}
        ${e.runelevels[6]>0?u.t("singularity.penalties.antiquitiesBought"):u.t("singularity.penalties.antiquitiesNotBought")}`;l("singularityPenaltiesMultiline").innerHTML=a};function My(t){return u.t("general.youAreInThe",{number:_o(t)})}var oe=class extends Zn{constructor(n,a){var c,p,f,g,h,b;let s=u.t(`singularity.data.${a}.name`),o=u.t(`singularity.data.${a}.description`);super(fe(G({},n),{name:s,description:o}));this.goldenQuarksInvested=0;this.goldenQuarksInvested=(c=n.goldenQuarksInvested)!=null?c:0,this.minimumSingularity=(p=n.minimumSingularity)!=null?p:0,this.canExceedCap=(f=n.canExceedCap)!=null?f:!1,this.specialCostForm=(g=n.specialCostForm)!=null?g:"Default",this.qualityOfLife=(h=n.qualityOfLife)!=null?h:!1,this.cacheUpdates=(b=n.cacheUpdates)!=null?b:void 0}toString(){let n=this.getCostTNL(),a=this.maxLevel===-1?"":`/${d(this.computeMaxLevel(),0,!0)}`,s=this.computeMaxLevel()===this.level?"plum":"white",o=e.highestSingularityCount<this.minimumSingularity?"var(--crimson-text-color)":"var(--green-text-color)",c=this.minimumSingularity>0?`${u.t("general.minimum")} Singularity: ${this.minimumSingularity}`:u.t("singularity.toString.noMinimum"),p=this.freeLevels>0?`<span style="color: orange"> [+${d(this.freeLevels,2,!0)}]</span>`:"";return this.freeLevels>this.level&&(p=`${p}<span style="color: var(--maroon-text-color)"> ${u.t("general.softCapped")}</span>`),`<span style="color: gold">${this.name}</span>
                <span style="color: lightblue">${this.description}</span>
                <span style="color: ${o}">${c}</span>
                <span style="color: ${s}"> ${u.t("general.level")} ${d(this.level,0,!0)}${a}${p}</span>
                <span style="color: gold">${this.getEffect().desc}</span>
                ${u.t("singularity.toString.costNextLevel")}: ${d(n,0,!0)} Golden Quarks.
                ${u.t("general.spent")} Quarks: ${d(this.goldenQuarksInvested,0,!0)}`}updateUpgradeHTML(){l("testingMultiline").innerHTML=this.toString()}getCostTNL(){let n=1;return this.computeMaxLevel()>this.maxLevel&&this.level>=this.maxLevel&&(n*=Math.pow(4,this.level-this.maxLevel+1)),this.specialCostForm==="Exponential2"?this.costPerLevel*Math.sqrt(n)*Math.pow(2,this.level):this.specialCostForm==="Cubic"?this.costPerLevel*n*(Math.pow(this.level+1,3)-Math.pow(this.level,3)):this.specialCostForm==="Quadratic"?this.costPerLevel*n*(Math.pow(this.level+1,2)-Math.pow(this.level,2)):(n*=this.maxLevel===-1&&this.level>=100?this.level/50:1,n*=this.maxLevel===-1&&this.level>=400?this.level/100:1,this.computeMaxLevel()===this.level?0:Math.ceil(this.costPerLevel*(1+this.level)*n))}async buyLevel(n){let a=0,s=1,o=e.goldenQuarks;if(n.shiftKey){s=1e5;let c=Number(await je(u.t("singularity.goldenQuarks.spendPrompt",{gq:d(e.goldenQuarks,0,!0)})));if(isNaN(c)||!isFinite(c)||!Number.isInteger(c))return B(u.t("general.validation.finite"));if(c===-1)o=e.goldenQuarks;else{if(c<=0)return B(u.t("general.validation.zeroOrLess"));o=c}o=Math.min(e.goldenQuarks,o)}if(this.maxLevel>0&&(s=Math.min(s,this.computeMaxLevel()-this.level)),s===0)return B(u.t("singularity.goldenQuarks.hasUpgrade"));if(e.highestSingularityCount<this.minimumSingularity)return B(u.t("singularity.goldenQuarks.notHighEnoughLevel"));for(;s>0;){let c=this.getCostTNL();if(e.goldenQuarks<c||o<c)break;e.goldenQuarks-=c,o-=c,this.goldenQuarksInvested+=c,this.level+=1,a+=1,s-=1,this.name===e.singularityUpgrades.oneMind.name&&(e.ascensionCounter=0,e.ascensionCounterReal=0,e.ascensionCounterRealReal=0,B(u.t("singularity.goldenQuarks.ascensionReset"))),this.name===e.singularityUpgrades.singCitadel2.name&&(e.singularityUpgrades.singCitadel.freeLevels=e.singularityUpgrades.singCitadel2.level)}if(a===0)return B(u.t("general.validation.moreThanPlayerHas"));a>1&&B(u.t("singularity.goldenQuarks.multiBuyPurchased",{levels:d(a)})),this.updateUpgradeHTML(),this.updateCaches(),Tu(),Lu(),Ve()}computeFreeLevelSoftcap(){let n=e.shopUpgrades.shopSingularityPotency>0?7.66*this.freeLevels:this.freeLevels;return Math.min(this.level,n)+Math.sqrt(Math.max(0,n-this.level))}computeMaxLevel(){if(this.canExceedCap){let n=this.maxLevel,a=[50,60,75,100,125,150,175,200,225,250];for(let s of a)if(e.highestSingularityCount>=s)n+=1;else break;return n+=+e.octeractUpgrades.octeractSingUpgradeCap.getEffect().bonus,n}else return this.maxLevel}actualTotalLevels(){if((e.singularityChallenges.noSingularityUpgrades.enabled||e.singularityChallenges.sadisticPrequel.enabled)&&!this.qualityOfLife||(e.singularityChallenges.limitedAscensions.enabled||e.singularityChallenges.limitedTime.enabled||e.singularityChallenges.sadisticPrequel.enabled)&&this.name===e.singularityUpgrades.platonicDelta.name)return 0;let n=this.computeFreeLevelSoftcap(),a=this.level+n,s=0;if(e.octeractUpgrades.octeractImprovedFree.getEffect().bonus){let o=.6;o+=+e.octeractUpgrades.octeractImprovedFree2.getEffect().bonus,o+=+e.octeractUpgrades.octeractImprovedFree3.getEffect().bonus,o+=+e.octeractUpgrades.octeractImprovedFree4.getEffect().bonus,s=Math.pow(this.level*n,o)}return Math.max(a,s)}getEffect(){return this.effect(this.actualTotalLevels())}updateCaches(){if(this.cacheUpdates!==void 0)for(let n of this.cacheUpdates)n()}refund(){e.goldenQuarks+=this.goldenQuarksInvested,this.level=0,this.goldenQuarksInvested=0}},te={goldenQuarks1:{maxLevel:15,costPerLevel:12,canExceedCap:!0,effect:t=>({bonus:1+.1*t,get desc(){return u.t("singularity.data.goldenQuarks1.effect",{n:d(10*t,0,!0)})}}),qualityOfLife:!0},goldenQuarks2:{maxLevel:75,costPerLevel:60,canExceedCap:!0,effect:t=>({bonus:t>250?1/Math.log2(t/62.5):1-Math.min(.5,t/500),get desc(){return u.t("singularity.data.goldenQuarks2.effect",{n:t>250?d(100-100/Math.log2(t/62.5),2,!0):d(Math.min(50,t/5),2,!0)})}}),qualityOfLife:!0},goldenQuarks3:{maxLevel:1e3,costPerLevel:1e3,effect:t=>({bonus:t*(t+1)/2,get desc(){return u.t("singularity.data.goldenQuarks3.effect",{n:d(t*(t+1)/2)})}})},starterPack:{maxLevel:1,costPerLevel:10,effect:t=>({bonus:t>0,get desc(){return u.t(`singularity.data.starterPack.effect${t>0?"Have":"HaveNot"}`)}})},wowPass:{maxLevel:1,costPerLevel:350,effect:t=>({bonus:t>0,get desc(){return u.t(`singularity.data.wowPass.effect${t>0?"Have":"HaveNot"}`)}}),qualityOfLife:!0},cookies:{maxLevel:1,costPerLevel:100,effect:t=>({bonus:t>0,get desc(){return u.t(`singularity.data.cookies.effect${t>0?"Have":"HaveNot"}`)}}),qualityOfLife:!0},cookies2:{maxLevel:1,costPerLevel:500,effect:t=>({bonus:t>0,get desc(){return u.t(`singularity.data.cookies2.effect${t>0?"Have":"HaveNot"}`)}}),qualityOfLife:!0},cookies3:{maxLevel:1,costPerLevel:24999,effect:t=>({bonus:t>0,get desc(){return u.t(`singularity.data.cookies3.effect${t>0?"Have":"HaveNot"}`)}}),qualityOfLife:!0},cookies4:{maxLevel:1,costPerLevel:499999,effect:t=>({bonus:t>0,get desc(){return u.t(`singularity.data.cookies4.effect${t>0?"Have":"HaveNot"}`)}}),qualityOfLife:!0},cookies5:{maxLevel:1,costPerLevel:166e13,minimumSingularity:209,effect:t=>({bonus:t>0,get desc(){return u.t(`singularity.data.cookies5.effect${t>0?"Have":"HaveNot"}`)}}),qualityOfLife:!0},ascensions:{maxLevel:-1,costPerLevel:5,effect:t=>({bonus:(1+2*t/100)*(1+Math.floor(t/10)/100),get desc(){return u.t("singularity.data.ascensions.effect",{n:d((100+2*t)*(1+Math.floor(t/10)/100)-100,1,!0)})}})},corruptionFourteen:{maxLevel:1,costPerLevel:1e3,effect:t=>({bonus:t>0,get desc(){return u.t(`singularity.data.corruptionFourteen.effect${t>0?"Have":"HaveNot"}`,{m:t>0?":)":":("})}})},corruptionFifteen:{maxLevel:1,costPerLevel:4e4,effect:t=>({bonus:t>0,get desc(){return u.t(`singularity.data.corruptionFifteen.effect${t>0?"Have":"HaveNot"}`,{m:t>0?":)":":("})}})},singOfferings1:{maxLevel:-1,costPerLevel:1,effect:t=>({bonus:1+.02*t,get desc(){return u.t("singularity.data.singOfferings1.effect",{n:d(2*t,0,!0)})}})},singOfferings2:{maxLevel:25,costPerLevel:25,canExceedCap:!0,effect:t=>({bonus:1+.08*t,get desc(){return u.t("singularity.data.singOfferings2.effect",{n:d(8*t,0,!0)})}})},singOfferings3:{maxLevel:40,costPerLevel:500,canExceedCap:!0,effect:t=>({bonus:1+.04*t,get desc(){return u.t("singularity.data.singOfferings3.effect",{n:d(4*t,0,!0)})}})},singObtainium1:{maxLevel:-1,costPerLevel:1,effect:t=>({bonus:1+.02*t,get desc(){return u.t("singularity.data.singObtainium1.effect",{n:d(2*t,0,!0)})}})},singObtainium2:{maxLevel:25,costPerLevel:25,canExceedCap:!0,effect:t=>({bonus:1+.08*t,get desc(){return u.t("singularity.data.singObtainium2.effect",{n:d(8*t,0,!0)})}})},singObtainium3:{maxLevel:40,costPerLevel:500,canExceedCap:!0,effect:t=>({bonus:1+.04*t,get desc(){return u.t("singularity.data.singObtainium3.effect",{n:d(4*t,0,!0)})}})},singCubes1:{maxLevel:-1,costPerLevel:1,effect:t=>({bonus:1+.01*t,get desc(){return u.t("singularity.data.singCubes1.effect",{n:d(1*t,0,!0)})}})},singCubes2:{maxLevel:25,costPerLevel:25,canExceedCap:!0,effect:t=>({bonus:1+.08*t,get desc(){return u.t("singularity.data.singCubes2.effect",{n:d(8*t,0,!0)})}})},singCubes3:{maxLevel:40,costPerLevel:500,canExceedCap:!0,effect:t=>({bonus:1+.04*t,get desc(){return u.t("singularity.data.singCubes3.effect",{n:d(4*t,0,!0)})}})},singCitadel:{maxLevel:-1,costPerLevel:5e5,minimumSingularity:100,effect:t=>({bonus:(1+.02*t)*(1+Math.floor(t/10)/100),get desc(){return u.t("singularity.data.singCubes2.effect",{n:d(100*((1+.02*t)*(1+Math.floor(t/10)/100)-1))})}})},singCitadel2:{maxLevel:100,costPerLevel:1e14,minimumSingularity:204,specialCostForm:"Quadratic",effect:t=>({bonus:(1+.02*t)*(1+Math.floor(t/10)/100),get desc(){return u.t("singularity.data.singCubes3.effect",{n:d(100*((1+.02*t)*(1+Math.floor(t/10)/100)-1))})}})},octeractUnlock:{maxLevel:1,costPerLevel:8888,minimumSingularity:8,effect:t=>({bonus:t>0,get desc(){return u.t(`singularity.data.octeractUnlock.effect${t>0?"Have":"HaveNot"}`)}}),qualityOfLife:!0},singOcteractPatreonBonus:{maxLevel:1,costPerLevel:9999,minimumSingularity:12,effect:t=>({bonus:t>0,get desc(){return u.t("singularity.data.singOcteractPatreonBonus.effect",{n:t})}})},offeringAutomatic:{maxLevel:-1,costPerLevel:1e14,minimumSingularity:222,effect:t=>({bonus:t,get desc(){return u.t("singularity.data.offeringAutomatic.effect",{n:t})}})},intermediatePack:{maxLevel:1,costPerLevel:1,minimumSingularity:4,effect:t=>({bonus:t>0,get desc(){return u.t(`singularity.data.intermediatePack.effect${t>0?"Have":"HaveNot"}`)}})},advancedPack:{maxLevel:1,costPerLevel:200,minimumSingularity:9,effect:t=>({bonus:t>0,get desc(){return u.t(`singularity.data.advancedPack.effect${t>0?"Have":"HaveNot"}`)}})},expertPack:{maxLevel:1,costPerLevel:800,minimumSingularity:16,effect:t=>({bonus:t>0,get desc(){return u.t(`singularity.data.expertPack.effect${t>0?"Have":"HaveNot"}`)}})},masterPack:{maxLevel:1,costPerLevel:3200,minimumSingularity:25,effect:t=>({bonus:t>0,get desc(){return u.t(`singularity.data.masterPack.effect${t>0?"Have":"HaveNot"}`)}})},divinePack:{maxLevel:1,costPerLevel:12800,minimumSingularity:36,effect:t=>({bonus:t>0,get desc(){return u.t(`singularity.data.divinePack.effect${t>0?"Have":"HaveNot"}`)}})},wowPass2:{maxLevel:1,costPerLevel:12500,minimumSingularity:9,effect:t=>({bonus:t>0,get desc(){return u.t(`singularity.data.wowPass2.effect${t>0?"Have":"HaveNot"}`)}}),qualityOfLife:!0},wowPass3:{maxLevel:1,costPerLevel:3e7-1,minimumSingularity:83,effect:t=>({bonus:t>0,get desc(){return u.t(`singularity.data.wowPass3.effect${t>0?"Have":"HaveNot"}`)}}),qualityOfLife:!0},potionBuff:{maxLevel:10,costPerLevel:999,minimumSingularity:4,canExceedCap:!0,effect:t=>({bonus:Math.max(1,10*Math.pow(t,2)),get desc(){return u.t("singularity.data.potionBuff.effect",{n:d(Math.max(1,10*Math.pow(t,2)),0,!0)})}})},potionBuff2:{maxLevel:10,costPerLevel:1e8,minimumSingularity:119,canExceedCap:!0,effect:t=>({bonus:Math.max(1,2*t),get desc(){return u.t("singularity.data.potionBuff2.effect",{n:d(Math.max(1,2*t),0,!0)})}})},potionBuff3:{maxLevel:10,costPerLevel:1e12,minimumSingularity:191,canExceedCap:!0,effect:t=>({bonus:Math.max(1,1+.5*t),get desc(){return u.t("singularity.data.potionBuff3.effect",{n:d(Math.max(1,1+.5*t),2,!0)})}})},singChallengeExtension:{maxLevel:4,costPerLevel:999,minimumSingularity:11,effect:t=>({bonus:t,get desc(){return u.t("singularity.data.singChallengeExtension.effect",{n:2*t,m:t})}})},singChallengeExtension2:{maxLevel:3,costPerLevel:29999,minimumSingularity:26,effect:t=>({bonus:t,get desc(){return u.t("singularity.data.singChallengeExtension2.effect",{n:2*t,m:t})}})},singChallengeExtension3:{maxLevel:3,costPerLevel:749999,minimumSingularity:51,effect:t=>({bonus:t,get desc(){return u.t("singularity.data.singChallengeExtension3.effect",{n:2*t,m:t})}})},singQuarkImprover1:{maxLevel:30,costPerLevel:1,minimumSingularity:173,canExceedCap:!0,specialCostForm:"Exponential2",effect:t=>({bonus:t/200,get desc(){return u.t("singularity.data.singQuarkImprover1.effect",{n:d(t/2,2,!0)})}}),qualityOfLife:!0},singQuarkHepteract:{maxLevel:1,costPerLevel:14999,minimumSingularity:5,effect:t=>({bonus:t/100,get desc(){return u.t("singularity.data.singQuarkHepteract.effect",{n:d(2*t,2,!0)})}}),qualityOfLife:!0},singQuarkHepteract2:{maxLevel:1,costPerLevel:449999,minimumSingularity:30,effect:t=>({bonus:t/100,get desc(){return u.t("singularity.data.singQuarkHepteract2.effect",{n:d(2*t,2,!0)})}}),qualityOfLife:!0},singQuarkHepteract3:{maxLevel:1,costPerLevel:1337e4,minimumSingularity:61,effect:t=>({bonus:t/100,get desc(){return u.t("singularity.data.singQuarkHepteract3.effect",{n:d(2*t,2,!0)})}}),qualityOfLife:!0},singOcteractGain:{maxLevel:-1,costPerLevel:2e4,minimumSingularity:36,effect:t=>({bonus:1+.0125*t,get desc(){return u.t("singularity.data.singOcteractGain.effect",{n:d(1.25*t,2,!0)})}})},singOcteractGain2:{maxLevel:25,costPerLevel:4e4,minimumSingularity:36,canExceedCap:!0,effect:t=>({bonus:1+.05*t,get desc(){return u.t("singularity.data.singOcteractGain2.effect",{n:d(5*t,0,!0)})}})},singOcteractGain3:{maxLevel:50,costPerLevel:25e4,minimumSingularity:55,canExceedCap:!0,effect:t=>({bonus:1+.025*t,get desc(){return u.t("singularity.data.singOcteractGain3.effect",{n:d(2.5*t,0,!0)})}})},singOcteractGain4:{maxLevel:100,costPerLevel:75e4,minimumSingularity:77,canExceedCap:!0,effect:t=>({bonus:1+.02*t,get desc(){return u.t("singularity.data.singOcteractGain4.effect",{n:d(2*t,0,!0)})}})},singOcteractGain5:{maxLevel:200,costPerLevel:7777777,minimumSingularity:100,canExceedCap:!0,effect:t=>({bonus:1+.01*t,get desc(){return u.t("singularity.data.singOcteractGain5.effect",{n:d(t,0,!0)})}})},platonicTau:{maxLevel:1,costPerLevel:1e5,minimumSingularity:29,effect:t=>({bonus:t>0,get desc(){return u.t(`singularity.data.platonicTau.effect${t?"Have":"HaveNot"}`)}}),qualityOfLife:!0},platonicAlpha:{maxLevel:1,costPerLevel:2e7,minimumSingularity:70,effect:t=>({bonus:t>0,get desc(){return u.t(`singularity.data.platonicAlpha.effect${t?"Have":"HaveNot"}`)}}),qualityOfLife:!0},platonicDelta:{maxLevel:1,costPerLevel:5e9,minimumSingularity:110,effect:t=>({bonus:t>0,get desc(){return u.t(`singularity.data.platonicDelta.effect${t?"Have":"HaveNot"}`)}})},platonicPhi:{maxLevel:1,costPerLevel:2e11,minimumSingularity:149,effect:t=>({bonus:t>0,get desc(){return u.t(`singularity.data.platonicPhi.effect${t?"Have":"HaveNot"}`)}}),qualityOfLife:!0},singFastForward:{maxLevel:1,costPerLevel:7e6-1,minimumSingularity:50,effect:t=>({bonus:t>0,get desc(){return u.t(`singularity.data.singFastForward.effect${t?"Have":"HaveNot"}`)}}),qualityOfLife:!0},singFastForward2:{maxLevel:1,costPerLevel:1e11-1,minimumSingularity:147,effect:t=>({bonus:t>0,get desc(){return u.t(`singularity.data.singFastForward2.effect${t?"Have":"HaveNot"}`)}}),qualityOfLife:!0},singAscensionSpeed:{maxLevel:1,costPerLevel:1e10,minimumSingularity:128,effect:t=>({bonus:t,get desc(){return u.t("singularity.data.singAscensionSpeed.effect",{n:d(1+.03*t,2,!0),m:d(1-.03*t,2,!0)})}})},singAscensionSpeed2:{maxLevel:1,costPerLevel:1e12,minimumSingularity:147,effect:t=>({bonus:t,get desc(){return u.t("singularity.data.singAscensionSpeed2.effect")}})},WIP:{maxLevel:100,costPerLevel:1e300,minimumSingularity:251,effect:t=>({bonus:t,get desc(){return u.t("singularity.data.WIP.effect")}})},ultimatePen:{maxLevel:1,costPerLevel:222e20,minimumSingularity:300,effect:t=>({bonus:t>0,get desc(){return u.t("singularity.data.ultimatePen.effect",{n:t?"":"NOT",m:t>0?" However, the pen just ran out of ink. How will you get more?":""})}})},oneMind:{maxLevel:1,costPerLevel:166e11,minimumSingularity:162,effect:t=>({bonus:t>0,get desc(){return u.t(`singularity.data.oneMind.effect${t?"Have":"HaveNot"}`)}}),qualityOfLife:!0},wowPass4:{maxLevel:1,costPerLevel:66666666666,minimumSingularity:147,effect:t=>({bonus:t>0,get desc(){return u.t(`singularity.data.wowPass4.effect${t?"Have":"HaveNot"}`)}}),qualityOfLife:!0},blueberries:{maxLevel:10,costPerLevel:1e16,minimumSingularity:215,effect:t=>({bonus:t,get desc(){return u.t("singularity.data.blueberries.effect",{n:t})}}),specialCostForm:"Exponential2",qualityOfLife:!0,cacheUpdates:[()=>{i.ambrosiaCurrStats.ambrosiaBlueberries=Ha().value},()=>{i.ambrosiaCurrStats.ambrosiaGenerationSpeed=rt().value}]},singAmbrosiaLuck:{maxLevel:-1,costPerLevel:1e9,minimumSingularity:187,effect:t=>({bonus:4*t,get desc(){return u.t("singularity.data.singAmbrosiaLuck.effect",{n:d(4*t)})}}),specialCostForm:"Exponential2",qualityOfLife:!0,cacheUpdates:[()=>{i.ambrosiaCurrStats.ambrosiaLuck=nt().value}]},singAmbrosiaLuck2:{maxLevel:30,costPerLevel:4e5,minimumSingularity:50,effect:t=>({bonus:2*t,get desc(){return u.t("singularity.data.singAmbrosiaLuck2.effect",{n:d(2*t)})}}),qualityOfLife:!0,cacheUpdates:[()=>{i.ambrosiaCurrStats.ambrosiaLuck=nt().value}]},singAmbrosiaLuck3:{maxLevel:30,costPerLevel:2e8,minimumSingularity:119,effect:t=>({bonus:3*t,get desc(){return u.t("singularity.data.singAmbrosiaLuck3.effect",{n:d(3*t)})}}),qualityOfLife:!0,cacheUpdates:[()=>{i.ambrosiaCurrStats.ambrosiaLuck=nt().value}]},singAmbrosiaLuck4:{maxLevel:50,costPerLevel:1e19,minimumSingularity:256,effect:t=>({bonus:5*t,get desc(){return u.t("singularity.data.singAmbrosiaLuck4.effect",{n:d(5*t)})}}),qualityOfLife:!0,cacheUpdates:[()=>{i.ambrosiaCurrStats.ambrosiaLuck=nt().value}]},singAmbrosiaGeneration:{maxLevel:-1,costPerLevel:1e9,minimumSingularity:187,effect:t=>({bonus:1+t/100,get desc(){return u.t("singularity.data.singAmbrosiaGeneration.effect",{n:d(t)})}}),specialCostForm:"Exponential2",qualityOfLife:!0,cacheUpdates:[()=>{i.ambrosiaCurrStats.ambrosiaGenerationSpeed=rt().value}]},singAmbrosiaGeneration2:{maxLevel:20,costPerLevel:8e5,minimumSingularity:50,effect:t=>({bonus:1+t/100,get desc(){return u.t("singularity.data.singAmbrosiaGeneration2.effect",{n:d(t)})}}),qualityOfLife:!0,cacheUpdates:[()=>{i.ambrosiaCurrStats.ambrosiaGenerationSpeed=rt().value}]},singAmbrosiaGeneration3:{maxLevel:35,costPerLevel:3e8,minimumSingularity:119,effect:t=>({bonus:1+t/100,get desc(){return u.t("singularity.data.singAmbrosiaGeneration3.effect",{n:d(t)})}}),qualityOfLife:!0,cacheUpdates:[()=>{i.ambrosiaCurrStats.ambrosiaGenerationSpeed=rt().value}]},singAmbrosiaGeneration4:{maxLevel:50,costPerLevel:1e19,minimumSingularity:256,effect:t=>({bonus:1+2*t/100,get desc(){return u.t("singularity.data.singAmbrosiaGeneration4.effect",{n:d(2*t)})}}),qualityOfLife:!0,cacheUpdates:[()=>{i.ambrosiaCurrStats.ambrosiaGenerationSpeed=rt().value}]}};var ku=[{name:()=>u.t("singularity.perkNames.welcometoSingularity"),levels:[1],description:()=>u.t("singularity.perks.welcometoSingularity"),ID:"welcometoSingularity"},{name:()=>u.t("singularity.perkNames.unlimitedGrowth"),levels:[1],description:()=>u.t("singularity.perks.unlimitedGrowth",{amount:d(10*e.singularityCount)}),ID:"unlimitedGrowth"},{name:()=>u.t("singularity.perkNames.goldenCoins"),levels:[1],description:()=>u.t("singularity.perks.goldenCoins",{amount:d(Math.pow(e.goldenQuarks+1,1.5)*Math.pow(e.highestSingularityCount+1,2),2)}),ID:"goldenCoins"},{name:()=>u.t("singularity.perkNames.xyz"),levels:[1,20,200],description:(t,r)=>t>=r[2]?u.t("singularity.perks.xyz.hasLevel2"):t>=r[1]?u.t("singularity.perks.xyz.hasLevel1"):u.t("singularity.perks.xyz.default"),ID:"xyz"},{name:()=>u.t("singularity.perkNames.generousOrbs"),levels:[1,2,5,10,15,20,25,30,35],description:(t,r)=>{let n={8:700,7:500,6:415,5:360,4:315,3:280,2:255,1:230};for(let a=8;a>0;a--)if(t>=r[a])return u.t("singularity.perks.generousOrbs",{amount:n[a]});return u.t("singularity.perks.generousOrbs",{amount:"215"})},ID:"generousOrbs"},{name:()=>u.t("singularity.perkNames.researchDummies"),levels:[1,11],description:(t,r)=>t>=r[1]?u.t("singularity.perks.researchDummies.hasLevel1"):u.t("singularity.perks.researchDummies.otherwise"),ID:"researchDummies"},{name:()=>u.t("singularity.perkNames.eternalAscensions"),levels:[1,25],description:(t,r)=>{let n=d(1+e.singularityCount/10,1);return t>=r[1]?u.t("singularity.perks.eternalAscensions.hasLevel1",{amount:n}):u.t("singularity.perks.eternalAscensions.default",{amount:n})},ID:"eternalAscensions"},{name:()=>u.t("singularity.perkNames.antGodsCornucopia"),levels:[1,30,70,100],description:(t,r)=>t>=r[3]?u.t("singularity.perks.antGodsCornucopia.hasLevel3"):t>=r[2]?u.t("singularity.perks.antGodsCornucopia.hasLevel2"):t>=r[1]?u.t("singularity.perks.antGodsCornucopia.hasLevel1"):u.t("singularity.perks.antGodsCornucopia.default"),ID:"antGodsCornucopia"},{name:()=>u.t("singularity.perkNames.sweepomatic"),levels:[2,101],description:(t,r)=>t>=r[1]?u.t("singularity.perks.sweepomatic.hasLevel1"):u.t("singularity.perks.sweepomatic.otherwise"),ID:"sweepomatic"},{name:()=>u.t("singularity.perkNames.superStart"),levels:[2,3,4,7,15],description:(t,r)=>t>=r[4]?u.t("singularity.perks.superStart.hasLevel4"):t>=r[3]?u.t("singularity.perks.superStart.hasLevel3"):t>=r[2]?u.t("singularity.perks.superStart.hasLevel2"):t>=r[1]?u.t("singularity.perks.superStart.hasLevel1"):u.t("singularity.perks.superStart.default"),ID:"superStart"},{name:()=>u.t("singularity.perkNames.notSoChallenging"),levels:[4,7,10,15,20],description:(t,r)=>t>=r[4]?u.t("singularity.perks.notSoChallenging.hasLevel4"):t>=r[3]?u.t("singularity.perks.notSoChallenging.hasLevel3"):t>=r[2]?u.t("singularity.perks.notSoChallenging.hasLevel2"):t>=r[1]?u.t("singularity.perks.notSoChallenging.hasLevel1"):u.t("singularity.perks.notSoChallenging.default"),ID:"notSoChallenging"},{name:()=>u.t("singularity.perkNames.automationUpgrades"),levels:[5,10,15,25,30,100],description:(t,r)=>t>=r[5]?u.t("singularity.perks.automationUpgrades.hasLevel5"):t>=r[4]?u.t("singularity.perks.automationUpgrades.hasLevel4"):t>=r[3]?u.t("singularity.perks.automationUpgrades.hasLevel3"):t>=r[2]?u.t("singularity.perks.automationUpgrades.hasLevel2"):t>=r[1]?u.t("singularity.perks.automationUpgrades.hasLevel1"):u.t("singularity.perks.automationUpgrades.default"),ID:"automationUpgrades"},{name:()=>u.t("singularity.perkNames.evenMoreQuarks"),levels:[5,7,10,20,35,50,65,80,90,100,121,144,150,160,166,169,170,175,180,190,196,200,201,202,203,204,205,210,212,214,216,218,220,225,250,255,260,261,262],description:(t,r)=>{for(let n=r.length-1;n>=0;n--)if(t>=r[n])return u.t("singularity.perks.evenMoreQuarks.m",{stack:n+1,inc:d(100*(Math.pow(1.05,n+1)-1),2)});return u.t("singularity.perks.evenMoreQuarks.bug")},ID:"evenMoreQuarks"},{name:()=>u.t("singularity.perkNames.shopSpecialOffer"),levels:[5,20,51],description:(t,r)=>t>=r[2]?u.t("singularity.perks.shopSpecialOffer.hasLevel2"):t>=r[1]?u.t("singularity.perks.shopSpecialOffer.hasLevel1"):u.t("singularity.perks.shopSpecialOffer.default"),ID:"shopSpecialOffer"},{name:()=>u.t("singularity.perkNames.potionAutogenerator"),levels:[6],description:()=>u.t("singularity.perks.potionAutogenerator"),ID:"potionAutogenerator"},{name:()=>u.t("singularity.perkNames.respecBeGone"),levels:[7],description:()=>u.t("singularity.perks.respecBeGone"),ID:"respecBeGone"},{name:()=>u.t("singularity.perkNames.forTheLoveOfTheAntGod"),levels:[10,15,25],description:(t,r)=>t>=r[2]?u.t("singularity.perks.forTheLoveOfTheAntGod.hasLevel2"):t>=r[1]?u.t("singularity.perks.forTheLoveOfTheAntGod.hasLevel1"):u.t("singularity.perks.forTheLoveOfTheAntGod.default"),ID:"forTheLoveOfTheAntGod"},{name:()=>u.t("singularity.perkNames.itAllAddsUp"),levels:[10,16,25,36,49,64,81,100,121,144,169,196,225,235,240],description:(t,r)=>{for(let n=r.length-1;n>=0;n--)if(t>=r[n])return u.t("singularity.perks.itAllAddsUp",{div:d(1+(n+1)/5,2,!0),div2:d(1+(n+1)/5,2,!0),cap:d(1+(n+1)/5,2,!0)});return u.t("singularity.perks.evenMoreQuarks.bug")},ID:"itAllAddsUp"},{name:()=>u.t("singularity.perkNames.automagicalRunes"),levels:[15,30,40,50],description:(t,r)=>t>=r[3]?u.t("singularity.perks.automagicalRunes.hasLevel3"):t>=r[2]?u.t("singularity.perks.automagicalRunes.hasLevel2"):t>=r[1]?u.t("singularity.perks.automagicalRunes.hasLevel1"):u.t("singularity.perks.automagicalRunes.default"),ID:"automagicalRunes"},{name:()=>u.t("singularity.perkNames.derpSmithsCornucopia"),levels:[18,38,58,78,88,98,118,148,178,188,198,208,218,228,238,248],description:(t,r)=>{for(let n=r.length-1;n>=0;n--)if(t>=r[n])return u.t("singularity.perks.derpSmithsCornucopia",{counter:n+1});return u.t("singularity.perks.evenMoreQuarks.bug")},ID:"derpSmithsCornucopia"},{name:()=>u.t("singularity.perkNames.exaltedAchievements"),levels:[25],description:()=>u.t("singularity.perks.exaltedAchievements"),ID:"exaltedAchievements"},{name:()=>u.t("singularity.perkNames.coolQOLCubes"),levels:[25,35],description:(t,r)=>t>=r[1]?u.t("singularity.perks.coolQOLCubes.hasLevel1"):u.t("singularity.perks.coolQOLCubes.default"),ID:"coolQOLCubes"},{name:()=>u.t("singularity.perkNames.irishAnt"),levels:[35,42,49,56,63,70,77],description:(t,r)=>{for(let n=r.length-1;n>=0;n--)if(t>=r[n])return u.t("singularity.perks.irishAnt",{i:5*(n+1)});return u.t("singularity.perks.evenMoreQuarks.bug")},ID:"irishAnt"},{name:()=>u.t("singularity.perkNames.overclocked"),levels:[50,60,75,100,125,150,175,200,225,250],description:(t,r)=>{for(let n=r.length-1;n>=0;n--)if(t>=r[n])return u.t("singularity.perks.overclocked",{i:n+1});return u.t("singularity.perks.evenMoreQuarks.bug")},ID:"overclocked"},{name:()=>u.t("singularity.perkNames.wowCubeAutomatedShipping"),levels:[50,150],description:(t,r)=>t>=r[1]?u.t("singularity.perks.wowCubeAutomatedShipping.hasLevel1"):u.t("singularity.perks.wowCubeAutomatedShipping.default"),ID:"wowCubeAutomatedShipping"},{name:()=>u.t("singularity.perkNames.congealedblueberries"),levels:[64,128,192,256,270],description(t,r){for(let n=r.length-1;n>=0;n--)if(t>=r[n])return u.t("singularity.perks.congealedblueberries",{i:n+1});return u.t("singularity.perks.evenMoreQuarks.bug")},ID:"congealedblueberries"},{name:()=>u.t("singularity.perkNames.goldenRevolution"),levels:[100],description:()=>u.t("singularity.perks.goldenRevolution",{current:d(Math.min(100,.4*e.singularityCount),1)}),ID:"goldenRevolution"},{name:()=>u.t("singularity.perkNames.goldenRevolutionII"),levels:[100],description:()=>u.t("singularity.perks.goldenRevolutionII",{current:d(Math.min(50,.2*e.singularityCount),1)}),ID:"goldenRevolution2"},{name:()=>u.t("singularity.perkNames.goldenRevolutionIII"),levels:[100],description:()=>u.t("singularity.perks.goldenRevolutionIII",{current:d(Math.min(500,2*e.singularityCount))}),ID:"goldenRevolution3"},{name:()=>u.t("singularity.perkNames.platonicClones"),levels:[100,200],description:(t,r)=>t>=r[1]?u.t("singularity.perks.platonicClones.hasLevel1"):u.t("singularity.perks.platonicClones.default"),ID:"platonicClones"},{name:()=>u.t("singularity.perkNames.dilatedFiveLeaf"),levels:[100,150,200,225,250,265,260,265,269,272],description:(t,r)=>{for(let n=r.length-1;n>=0;n--)if(t>=r[n])return u.t("singularity.perks.dilatedFiveLeaf.desc",{percent:n+1});return u.t("singularity.perks.evenMoreQuarks.bug")},ID:"dilatedFiveLeaf"},{name:()=>u.t("singularity.perkNames.platSigma"),levels:[125,200],description:(t,r)=>{let n=0;for(let a of r)t>=a&&(n+=.125);return u.t("singularity.perks.platSigma",{counter:n,current:d(Math.min(60,n*e.singularityCount),1)})},ID:"platSigma"},{name:()=>u.t("singularity.perkNames.oneHundredThirtyOne"),levels:[131],description:()=>u.t("singularity.perks.oneHundredThirtyOne"),ID:"oneHundredThirtyOne"},{name:()=>u.t("singularity.perkNames.irishAnt2"),levels:[135,142,149,156,163,170,177],description:(t,r)=>{for(let n=r.length-1;n>=0;n--)if(t>=r[n])return u.t("singularity.perks.irishAnt2",{i:6*(n+1)});return u.t("singularity.perks.evenMoreQuarks.bug")},ID:"irishAnt2"},{name:()=>u.t("singularity.perkNames.midasMilleniumAgedGold"),levels:[150],description:()=>u.t("singularity.perks.midasMilleniumAgedGold"),ID:"midasMilleniumAgedGold"},{name:()=>u.t("singularity.perkNames.goldenRevolution4"),levels:[160,173,185,194,204,210,219,229,240,249],description:(t,r)=>{let a=0;for(let s of r)t>=s&&(a+=1);return u.t("singularity.perks.goldenRevolution4",{gq:d(1e6/a,0,!0)})},ID:"goldenRevolution4"},{name:()=>u.t("singularity.perkNames.octeractMetagenesis"),levels:[200,205],description:(t,r)=>t>=r[1]?u.t("singularity.perks.octeractMetagenesis.hasLevel1"):u.t("singularity.perks.octeractMetagenesis.default"),ID:"octeractMetagenesis"},{name:()=>u.t("singularity.perkNames.immaculateAlchemy"),levels:[200,208,221],description:(t,r)=>t>=r[2]?u.t("singularity.perks.immaculateAlchemy.hasLevel2"):t>=r[1]?u.t("singularity.perks.immaculateAlchemy.hasLevel1"):u.t("singularity.perks.immaculateAlchemy.default"),ID:"immaculateAlchemy"},{name:()=>u.t("singularity.perkNames.skrauQ"),levels:[200],description:()=>{let t=d(Math.pow((e.singularityCount-179)/20,2),4);return u.t("singularity.perks.skrauQ",{amt:t})},ID:"skrauQ"},{name:()=>u.t("singularity.perkNames.twoHundredSixtyNine"),levels:[269],description:()=>u.t("singularity.perks.twoHundredSixtyNine"),ID:"twoHundredSixtyNine"}],Lu=()=>{let t=e.highestSingularityCount;l("singularityPerksHeader").innerHTML=u.t("singularity.perks.header",{ord:_o(t)}),l("singularityPerksText").innerHTML=u.t("singularity.perks.levelInfo",{level:"#",singularity:"#"}),l("singularityPerksDesc").innerHTML=u.t("singularity.perks.description"),Sy(t)},Au=(t,r)=>{for(let n=t.levels.length-1;n>=0;n--)if(r>=t.levels[n])return{level:n+1,singularity:t.levels[n],next:n<t.levels.length-1?t.levels[n+1]:null};return{level:0,singularity:t.levels[0],next:t.levels[0]}},Sy=t=>{let r=[],n=null,a=Number.POSITIVE_INFINITY;for(let c of ku){let p=Au(c,t);p.level>0?(r.push({name:c.name(),lastUpgraded:p.singularity,acquired:c.levels[0],htmlID:c.ID}),p.next&&(a=Math.min(a,p.next))):(n===null&&(n=p.singularity),l(c.ID).style.display="none")}r.sort((c,p)=>c.acquired===p.acquired&&c.lastUpgraded===p.lastUpgraded?0:c.lastUpgraded>p.lastUpgraded||c.lastUpgraded===p.lastUpgraded&&c.acquired>p.acquired?-1:1);for(let c of r){let p=Ga(),f=l(c.htmlID);f.style.display="",l("singularityPerksGrid").append(f),t-c.lastUpgraded<=p?f.classList.replace("oldPerk","newPerk"):f.classList.replace("newPerk","oldPerk")}let s=l("singualrityUnlockNext");n?(s.style.display="",s.innerHTML=u.t("singularity.perks.unlockedIn",{sing:n})):s.style.display="none";let o=l("singualrityImproveNext");a<Number.POSITIVE_INFINITY?(o.style.display="",o.innerHTML=u.t("singularity.perks.improvedIn",{sing:a})):o.style.display="none"},Ga=()=>{let t=0;return t+=+e.singularityUpgrades.singFastForward.getEffect().bonus,t+=+e.singularityUpgrades.singFastForward2.getEffect().bonus,t+=+e.octeractUpgrades.octeractFastForward.getEffect().bonus,t=Math.max(0,Math.min(t,200-e.singularityCount-1)),e.insideSingularityChallenge?0:e.highestSingularityCount!==e.singularityCount&&e.singularityCount+t+1>=e.highestSingularityCount?Math.max(0,Math.min(t,e.highestSingularityCount-e.singularityCount-1)):t},Pu=()=>{let r=1e4;r*=1-.1*Math.min(1,e.achievementPoints/1e4),r*=1-.3*e.cubeUpgrades[60]/1e4,r*=+e.singularityUpgrades.goldenQuarks2.getEffect().bonus,r*=+e.octeractUpgrades.octeractGQCostReduce.getEffect().bonus,r*=e.highestSingularityCount>=100?1-.5*e.highestSingularityCount/250:1;let n=1;return e.highestSingularityCount>=200&&(n=3),e.highestSingularityCount>=208&&(n=5),e.highestSingularityCount>=221&&(n=8),r/=n,r=1e4-r,{cost:1e4-r,costReduction:r}};async function ug(){let t=Pu(),r=Math.floor(+e.worlds/t.cost),n=null;if(r===0)return B(u.t("singularity.goldenQuarks.poor"));let a=await je(u.t("singularity.goldenQuarks.buyPrompt",{cost:d(t.cost,0,!0),discount:d(t.costReduction,0,!0),max:d(r,0,!0)}));if(a===null)return B(u.t("general.cancelled"));if(n=Number(a),Number.isNaN(n)||!Number.isFinite(n))return B(u.t("general.validation.finite"));if(n<=0&&n!==-1)return B(u.t("general.validation.zeroOrLess"));if(n>r)return B(u.t("general.validation.goldenQuarksTooMany"));if(!Number.isInteger(n))return B(u.t("general.validation.fraction"));let s;return n===-1?(s=r*t.cost,e.worlds.sub(s),e.goldenQuarks+=r):(s=n*t.cost,e.worlds.sub(s),e.goldenQuarks+=n),B(u.t("singularity.goldenQuarks.transaction",{spent:d(r,0,!0),cost:d(s,0,!0)}))}var Do=(t=e.singularityCount)=>{let r=t;return r*=Math.min(4.75,.75*t/10+1),e.insideSingularityChallenge&&e.singularityChallenges.noOcteracts.enabled&&(r*=Math.pow(e.singularityChallenges.noOcteracts.completions+1,3)),t>10&&(r*=1.5,r*=Math.min(4,1.25*t/10-.25)),t>25&&(r*=2.5,r*=Math.min(6,1.5*t/25-.5)),t>36&&(r*=4,r*=Math.min(5,t/18-1),r*=Math.pow(1.1,Math.min(t-36,64))),t>50&&(r*=5,r*=Math.min(8,2*t/50-1),r*=Math.pow(1.1,Math.min(t-50,50))),t>100&&(r*=2,r*=t/25,r*=Math.pow(1.1,t-100)),t>150&&(r*=2,r*=Math.pow(1.05,t-150)),t>200&&(r*=1.5,r*=Math.pow(1.275,t-200)),t>215&&(r*=1.25,r*=Math.pow(1.2,t-215)),t>230&&(r*=2),t>269&&(r*=3,r*=Math.pow(3,t-269)),r},Ty=(t=e.singularityCount)=>{let r=[11,26,37,51,101,151,201,216,230,270],n=0;n+=e.shopUpgrades.shopSingularityPenaltyDebuff;for(let a of r)if(a+n>t)return a+n;return-1},He=(t,r=e.singularityCount)=>{if(r===0||e.runelevels[6]>0)return 1;let n=r;if(n-=e.shopUpgrades.shopSingularityPenaltyDebuff,n<1)return 1;let a=Do(n);if(t==="Offering")return Math.sqrt(Math.min(a,Do(150))+1);if(t==="Global Speed")return 1+Math.sqrt(a)/4;if(t==="Obtainium")return Math.sqrt(Math.min(a,Do(150))+1);if(t==="Researches")return 1+Math.sqrt(a)/2;if(t==="Ascension Speed")return r<150?1+Math.sqrt(a)/5:1+Math.pow(a,.75)/1e4;if(t==="Cubes"){let s=n>100?Math.pow(1.02,n-100):1;return e.singularityCount<150?1+Math.sqrt(a)*s/4:1+Math.pow(a,.75)*s/1e3}else return t==="Platonic Costs"?r>36?1+Math.pow(a,3/10)/12:1:t==="Hepteract Costs"?r>50?1+Math.pow(a,11/50)/25:1:Math.cbrt(a+1)};var dg=(t,r=1,n=0)=>(r=Math.min(i.researchMaxLevels[t]-e.researches[t],r),wr(e.researches[t],i.researchBaseCosts[t]*He("Researches"),e.researchPoints,n,r)),ky=(t,r)=>{if(or()&&r&&e.autoResearchMode==="cheapest"){for(e.autoResearch=i.researchOrderByCost[e.roombaResearchIndex],Ou(e.autoResearch)&&(l(`res${e.autoResearch||1}`).classList.remove("researchRoomba"),e.roombaResearchIndex=Math.min(i.researchOrderByCost.length-1,e.roombaResearchIndex+1));!Eu(e.autoResearch)&&e.autoResearch<200&&e.autoResearch>=76;)e.roombaResearchIndex+=1,e.autoResearch=i.researchOrderByCost[e.roombaResearchIndex];if(Eu(e.autoResearch)){let n=Math.max(i.researchOrderByCost[e.roombaResearchIndex],1),a=l(`res${n}`);e.researches[e.autoResearch]<i.researchMaxLevels[e.autoResearch]&&a.classList.add("researchRoomba")}return}else if(!r&&(!or()||e.autoResearchMode==="manual")){l(`res${e.autoResearch||1}`).classList.remove("researchRoomba"),l(`res${t}`).classList.add("researchRoomba"),e.autoResearch=t,e.researches[t]>=i.researchMaxLevels[t]?Vt(`res${e.autoResearch}`,["researchMaxed"],["researchPurchased","researchUnpurchased"]):e.researches[t]>=1?Vt(`res${e.autoResearch}`,["researchPurchased"],["researchUnpurchased","researchMaxed"]):Vt(`res${e.autoResearch}`,["researchUnpurchased"],["researchPurchased","researchMaxed"]);return}else return},or=()=>e.cubeUpgrades[9]===1||e.highestSingularityCount>10,dn=(t,r=!1,n=0,a=!1)=>{var p,f,g,h;let s=e.researchBuyMaxToggle||r||a?1e5:1,o=dg(t,s,n),c=e.researchPoints>=o.cost;return c&&Eu(t)&&!Ou(t)&&(e.researches[t]=o.levelCanBuy,e.researchPoints-=o.cost,Ou(t)&&l(`res${e.autoResearch||1}`).classList.remove("researchRoomba"),i.researchfiller2=`Level: ${e.researches[t]}/${i.researchMaxLevels[t]}`,wl(t,r,n),(p=e.unlocks).rrow1||(p.rrow1=!0),(f=e.unlocks).rrow2||(f.rrow2=!0),(g=e.unlocks).rrow3||(g.rrow3=!0),(h=e.unlocks).rrow4||(h.rrow4=!0),t>=47&&t<=50&&Ve(),(t>=66&&t<=70||t===105)&&Wr(),at(),er()),e.autoResearchToggle&&ky(t,r),c},pg=(t=e)=>{let r=t.ascensionCount>0?140:125,n=t.challengecompletions[11]>0?15:0,a=t.challengecompletions[12]>0?15:0,s=t.challengecompletions[13]>0?15:0,o=t.challengecompletions[14]>0?15:0;return r+n+a+s+o},Eu=t=>{let r=(s=>o=>s+=o)(0),n=[3*25,5,20,10,15,15,15,15,15,15].map(r),a=[50,124,127,134,141,183,197,204,211,218];for(let s=0;s<n.length;s++){if(s===3&&(t===121||t===124||t===150))return e.achievements[a[s]]>0;if(t<=n[s])return e.achievements[a[s]]>0}return!1},Ou=t=>i.researchMaxLevels[t]<=e.researches[t],wl=(t,r=!1,n=0)=>{let a=e.researchBuyMaxToggle||r?1e5:1,s=u.t(`researches.descriptions.${t}`),o=`res${t}`;e.toggles[38]&&e.singularityCount>0&&dn(t,!1,t===200?.01:0,!0);let c=dg(t,a,n),p=u.t("researches.cost",{x:d(c.cost,0,!1),y:d(c.levelCanBuy-e.researches[t],0,!0)});e.researches[t]===i.researchMaxLevels[t]?(l("researchcost").style.color="Gold",l("researchinfo3").style.color="plum",Vt(o,["researchMaxed"],["researchAvailable","researchPurchased","researchPurchasedAvailable"]),p+=u.t("researches.maxed")):(l("researchcost").style.color="limegreen",l("researchinfo3").style.color="white",e.researches[t]>0?Vt(o,["researchPurchased","researchPurchasedAvailable"],["researchAvailable","researchMaxed","researchUnpurchased"]):Vt(o,["researchAvailable"],["researchPurchased","researchMaxed","researchUnpurchased"])),e.researchPoints<c.cost&&e.researches[t]<i.researchMaxLevels[t]&&(l("researchcost").style.color="var(--crimson-text-color)",Vt(o,[],["researchMaxed","researchAvailable","researchPurchasedAvailable"])),l("researchinfo2").textContent=s,l("researchcost").textContent=p,l("researchinfo3").textContent=u.t("researches.level",{x:e.researches[t],y:i.researchMaxLevels[t]})},_s=t=>{e.researches[t]>i.researchMaxLevels[t]&&(e.researchPoints+=(e.researches[t]-i.researchMaxLevels[t])*i.researchBaseCosts[t],e.researches[t]=i.researchMaxLevels[t]);let r=`res${t}`;e.researches[t]>.5&&e.researches[t]<i.researchMaxLevels[t]?Vt(r,["researchPurchased"],["researchUnpurchased","researchMaxed"]):e.researches[t]>.5&&e.researches[t]>=i.researchMaxLevels[t]?Vt(r,["researchMaxed"],["researchUnpurchased","researchPurchased"]):Vt(r,["researchUnpurchased"],["researchPurchased","researchMaxed"])};var $s=(t,r)=>{t===1&&e.prestigePoints.gte(1e12)&&!e.unlocks.generation&&(e.unlocks.generation=!0);let n=100+t,a="transcendPoints";n<=110&&n>=106?a="coins":n<=115&&(a="prestigePoints");let s=m.pow(10,i.upgradeCosts[n]),o=Math.max(e.upgrades[101],e.upgrades[102],e.upgrades[103],e.upgrades[104],e.upgrades[105]);e.upgrades[n]===0&&e[a].gte(s)&&(o===0&&n>=102&&n<=105&&F(n-31),e[a]=e[a].sub(s),e.upgrades[n]=1,ir(n,r))},fg=(t,r)=>{let n=t+80,a="reincarnationPoints";n<=87?a="prestigePoints":n<=93&&(a="transcendPoints");let s=m.pow(10,i.upgradeCosts[n]);e.upgrades[n]===0&&e[a].gte(s)&&(e[a]=e[a].sub(s),e.upgrades[n]=1,ir(n,r))},gg=()=>{if(e.upgrades[90]>.5&&e.shoptoggles.generators){for(let t=1;t<6;t++)e.upgrades[100+t]===0&&e.prestigePoints.gte(m.pow(10,i.upgradeCosts[100+t]))&&$s(t,!0);for(let t=6;t<11;t++)e.upgrades[100+t]===0&&e.coins.gte(m.pow(10,i.upgradeCosts[100+t]))&&$s(t,!0);for(let t=11;t<16;t++)e.upgrades[100+t]===0&&e.prestigePoints.gte(m.pow(10,i.upgradeCosts[100+t]))&&$s(t,!0);for(let t=16;t<21;t++)e.upgrades[100+t]===0&&e.transcendPoints.gte(m.pow(10,i.upgradeCosts[100+t]))&&$s(t,!0)}if(e.upgrades[91]>.5){for(let t=1;t<21;t++)e.upgrades[t]===0&&e.coins.gte(m.pow(10,i.upgradeCosts[t]))&&e.shoptoggles.coin&&xr("coins",t,!0);for(let t=121;t<=125;t++)e.upgrades[t]===0&&e.coins.gte(m.pow(10,i.upgradeCosts[t]))&&e.shoptoggles.coin&&e.cubeUpgrades[19]>0&&xr("coins",t,!0)}if(e.upgrades[92]>.5){for(let t=21;t<38;t++)e.upgrades[t]===0&&e.prestigePoints.gte(m.pow(10,i.upgradeCosts[t]))&&e.shoptoggles.prestige&&xr("prestigePoints",t,!0);e.upgrades[38]===0&&e.prestigePoints.gte(m.pow(10,5e4))&&e.shoptoggles.prestige&&e.achievements[120]===1&&xr("prestigePoints",38,!0),e.upgrades[39]===0&&e.prestigePoints.gte(m.pow(10,1e5))&&e.shoptoggles.prestige&&e.achievements[127]===1&&xr("prestigePoints",39,!0),e.upgrades[40]===0&&e.prestigePoints.gte(m.pow(10,2e5))&&e.shoptoggles.prestige&&e.achievements[134]===1&&xr("prestigePoints",40,!0)}if(e.upgrades[99]>.5)for(let t=41;t<61;t++)e.upgrades[t]===0&&e.transcendPoints.gte(m.pow(10,i.upgradeCosts[t]))&&e.shoptoggles.transcend&&xr("transcendPoints",t,!0);if(e.cubeUpgrades[8]>0)for(let t=61;t<=80;t++)e.upgrades[t]===0&&e.reincarnationPoints.gte(m.pow(10,i.upgradeCosts[t]))&&e.shoptoggles.reincarnate&&xr("reincarnationPoints",t,!0);if(e.highestSingularityCount>=25)for(let t=81;t<=100;t++)e.upgrades[t]===0&&Fa(t,!0)};var Uu={3:()=>({max:d(100*(.12+.88*e.upgrades[122]+.001*e.researches[129]*Math.log(e.commonFragments+1)/Math.log(4)),2,!0)}),4:()=>({max:d(10+.05*e.researches[129]*Math.log(e.commonFragments+1)/Math.log(4)+20*yt()/400*i.effectiveRuneSpiritPower[3])})},Bu={1:()=>({level:d(5+e.achievements[270]+.1*e.platonicUpgrades[18],1,!0)}),2:()=>({max:d(10+e.achievements[270]+e.shopUpgrades.constantEX+100*(i.challenge15Rewards.exponent-1)+.3*e.platonicUpgrades[18],2,!0)})},Ru=[()=>d((i.totalCoinOwned+1)*Math.min(1e30,Math.pow(1.008,i.totalCoinOwned)),2),()=>d((i.totalCoinOwned+1)*Math.min(1e30,Math.pow(1.008,i.totalCoinOwned)),2),()=>d((i.totalCoinOwned+1)*Math.min(1e30,Math.pow(1.008,i.totalCoinOwned)),2),()=>d((i.totalCoinOwned+1)*Math.min(1e30,Math.pow(1.008,i.totalCoinOwned)),2),()=>d((i.totalCoinOwned+1)*Math.min(1e30,Math.pow(1.008,i.totalCoinOwned)),2),()=>d((i.totalCoinOwned+1)*Math.min(1e30,Math.pow(1.008,i.totalCoinOwned)),2),()=>Math.min(4,1+Math.floor(m.log(e.fifthOwnedCoin+1,10))),()=>Math.floor(e.multiplierBought/7),()=>Math.floor(e.acceleratorBought/10),()=>d(m.pow(2,Math.min(50,e.secondOwnedCoin/15)),2),()=>d(m.pow(1.02,i.freeAccelerator),2),()=>d(m.min(1e4,m.pow(1.01,e.prestigeCount)),2),()=>d(m.min(1e50,m.pow(e.firstGeneratedMythos.add(e.firstOwnedMythos).add(1),4/3).times(1e10)),2),()=>d(m.pow(1.15,i.freeAccelerator),2),()=>d(m.pow(1.15,i.freeAccelerator),2),()=>d(m.pow(i.acceleratorEffect,1/3),2),()=>null,()=>d(m.min(1e125,e.transcendShards.add(1))),()=>d(m.min(1e200,e.transcendPoints.times(1e30).add(1))),()=>d(m.pow((i.totalCoinOwned+1)*Math.min(1e30,Math.pow(1.008,i.totalCoinOwned)),10),2),()=>({x:d(Math.floor(1+1/101*i.freeMultiplier)),y:d(Math.floor(5+1/101*i.freeAccelerator))}),()=>({x:d(Math.floor(1+1/101*i.freeMultiplier)),y:d(Math.floor(4+1/101*i.freeAccelerator))}),()=>({x:d(Math.floor(1+1/101*i.freeMultiplier)),y:d(Math.floor(3+1/101*i.freeAccelerator))}),()=>({x:d(Math.floor(1+1/101*i.freeMultiplier)),y:d(Math.floor(2+1/101*i.freeAccelerator))}),()=>({x:d(Math.floor(1+1/101*i.freeMultiplier)),y:d(Math.floor(1+1/101*i.freeAccelerator))}),()=>null,()=>d(Math.min(250,Math.floor(m.log(e.coins.add(1),1e3)))+Math.max(0,Math.min(1750,Math.floor(m.log(e.coins.add(1),1e15))-50))),()=>d(Math.min(1e3,Math.floor((e.firstOwnedCoin+e.secondOwnedCoin+e.thirdOwnedCoin+e.fourthOwnedCoin+e.fifthOwnedCoin)/160))),()=>d(Math.floor(Math.min(2e3,(e.firstOwnedCoin+e.secondOwnedCoin+e.thirdOwnedCoin+e.fourthOwnedCoin+e.fifthOwnedCoin)/80))),()=>d(Math.min(75,Math.floor(m.log(e.coins.add(1),1e10)))+Math.min(925,Math.floor(m.log(e.coins.add(1),1e30)))),()=>d(Math.floor(i.totalCoinOwned/2e3)),()=>d(Math.min(500,Math.floor(m.log(e.prestigePoints.add(1),1e25)))),()=>d(i.totalAcceleratorBoost),()=>d(Math.floor(3/103*i.freeMultiplier)),()=>d(Math.floor(2/102*i.freeMultiplier)),()=>d(m.min("1e5000",m.pow(e.prestigePoints,1/500)),2),()=>d(m.pow(m.log(e.prestigePoints.add(10),10),2),2),()=>null,()=>null,()=>null,()=>d(m.min(1e30,m.pow(e.transcendPoints.add(1),1/2))),()=>d(m.min(1e50,m.pow(e.prestigePoints.add(1),1/50).dividedBy(2.5).add(1)),2),()=>d(m.min(1e30,m.pow(1.01,e.transcendCount)),2),()=>d(m.min(1e6,m.pow(1.01,e.transcendCount)),2),()=>d(Math.min(2500,Math.floor(m.log(e.transcendShards.add(1),10)))),()=>null,()=>d(Math.pow(1.05,e.achievementPoints)*(e.achievementPoints+1),2),()=>d(Math.pow(Math.min(1e25,i.totalMultiplier*i.totalAccelerator)/1e3+1,8)),()=>d(Math.min(50,Math.floor(m.log(e.transcendPoints.add(1),1e10)))),()=>null,()=>d(Math.pow(i.totalAcceleratorBoost,2),2),()=>d(m.pow(i.globalMythosMultiplier,.025),2),()=>d(m.min("1e1250",m.pow(i.acceleratorEffect,1/125)),2),()=>d(m.min("1e2000",m.pow(i.multiplierEffect,1/180)),2),()=>d(m.pow("1e1000",Math.min(1e3,i.buildingPower-1)),2),()=>null,()=>null,()=>null,()=>null,()=>null,()=>null,()=>Math.floor(1/5*xe(e.challengecompletions)),()=>d(m.min("1e6000",m.pow(e.reincarnationPoints.add(1),6))),()=>d(m.pow(e.reincarnationPoints.add(1),2)),()=>null,()=>null,()=>d(m.pow(1.03,e.firstOwnedParticles+e.secondOwnedParticles+e.thirdOwnedParticles+e.fourthOwnedParticles+e.fifthOwnedParticles),2),()=>d(Math.min(2500,Math.floor(1/1e3*m.log(i.taxdivisor,10)))),()=>{let t=m.pow(m.log(i.reincarnationPointGain.add(10),10),.5),r=m.pow(m.log(i.reincarnationPointGain.add(10),10),.5);return{x:d(Math.min(10,new m(t).toNumber()),2),y:d(Math.min(3,new m(r).toNumber()),2)}},()=>d(1/3*Math.log(e.maxobtainium+1)/Math.log(10),2,!0),()=>null,()=>Math.min(50,1+2*e.challengecompletions[6]+2*e.challengecompletions[7]+2*e.challengecompletions[8]+2*e.challengecompletions[9]+2*e.challengecompletions[10]),()=>null,()=>d(1+4*Math.min(1,Math.pow(e.maxofferings/1e5,.5)),2),()=>d(1+2*Math.min(1,Math.pow(e.maxobtainium/3e7,.5)),2),()=>null,()=>d(m.pow(1.004+4/1e5*e.researches[96],e.firstOwnedAnts+e.secondOwnedAnts+e.thirdOwnedAnts+e.fourthOwnedAnts+e.fifthOwnedAnts+e.sixthOwnedAnts+e.seventhOwnedAnts+e.eighthOwnedAnts),3),()=>d(1+.005*Math.pow(Math.log(e.maxofferings+1)/Math.log(10),2),2,!0),()=>null,()=>null,...Array.from({length:39},()=>()=>null),()=>null,()=>null,()=>null,()=>null,()=>d(.333*e.challengecompletions[10],0),()=>d(.333*e.challengecompletions[10],0)],Ly=t=>{var s;let r=(s=Ru[t-1])==null?void 0:s.call(Ru),n=typeof r,a=l("upgradeeffect");t>=81&&t<=119?a.textContent=u.t("upgrades.effects.81"):r==null?a.textContent=u.t(`upgrades.effects.${t}`):n==="string"||n==="number"?a.textContent=u.t(`upgrades.effects.${t}`,{x:r}):a.textContent=u.t(`upgrades.effects.${t}`,r)},bg=t=>{let r=u.t(`upgrades.descriptions.${t}`),n=e.upgrades[t]>.5?" BOUGHT!":"",a=l("upgradedescription");a.textContent=r+n,a.style.color=e.upgrades[t]>.5?"gold":"white",e.toggles[9]&&Fa(t,!1);let s="",o="";(t<=20&&t>=1||t<=110&&t>=106||t<=125&&t>=121)&&(s="Coins",o="yellow"),(t<=40&&t>=21||t<=105&&t>=101||t<=115&&t>=111||t<=87&&t>=81)&&(s="Diamonds",o="cyan"),(t<=60&&t>=41||t<=120&&t>=116||t<=93&&t>=88)&&(s="Mythos",o="plum"),(t<=80&&t>=61||t<=100&&t>=94)&&(s="Particles",o="limegreen"),l("upgradecost").textContent=`Cost: ${d(m.pow(10,i.upgradeCosts[t]))} ${s}`,l("upgradecost").style.color=o,Ly(t)},Fa=(t,r)=>{if(e.upgrades[t]!==0||t<=40&&t>=21&&!e.unlocks.prestige||t<=60&&t>=41&&!e.unlocks.transcend||t<=80&&t>=61&&!e.unlocks.reincarnate||t<=120&&t>=81&&!e.unlocks.prestige||l(`upg${t}`).style.display==="none")return;let n;t<=20&&t>=1&&(n="coins"),t<=40&&t>=21&&(n="prestigePoints"),t<=60&&t>=41&&(n="transcendPoints"),t<=80&&t>=61&&(n="reincarnationPoints"),t<=87&&t>=81&&(n="prestigePoints"),t<=93&&t>=88&&(n="transcendPoints"),t<=100&&t>=94&&(n="reincarnationPoints"),n&&t<=80&&t>=1&&xr(n,t,r),n&&t<=100&&t>=81&&fg(t-80,r),t<=120&&t>=101&&$s(t-100,r),t<=125&&t>=121&&xr("coins",t,r)},Go=(t,r)=>{let n=0,a=0;if(t===1){n=121,a=125;for(let s=1;s<=20;s++)Fa(s,r)}t===2&&(n=21,a=40),t===3&&(n=41,a=60),t===4&&(n=101,a=120),t===5&&(n=81,a=100),t===6&&(n=61,a=80);for(let s=n;s<=a;s++)Fa(s,r)},hg={1:()=>({x:d(m.min(m.pow(10,50+2*e.crystalUpgrades[0]),m.pow(1.05,e.achievementPoints*e.crystalUpgrades[0])),2,!0)}),2:()=>({x:d(m.min(m.pow(10,100+5*e.crystalUpgrades[1]),m.pow(m.log(e.coins.add(1),10),e.crystalUpgrades[1]/3)),2,!0)}),3:()=>({x:d(m.pow(1+Math.min(.12+.88*e.upgrades[122]+.001*e.researches[129]*Math.log(e.commonFragments+1)/Math.log(4),.001*e.crystalUpgrades[2]),e.firstOwnedDiamonds+e.secondOwnedDiamonds+e.thirdOwnedDiamonds+e.fourthOwnedDiamonds+e.fifthOwnedDiamonds),2,!0)}),4:()=>({x:d(Math.min(10+.05*e.researches[129]*Math.log(e.commonFragments+1)/Math.log(4)+20*yt()/400*i.effectiveRuneSpiritPower[3],.05*e.crystalUpgrades[3]),2,!0)}),5:()=>({x:d(m.pow(1.01,(e.challengecompletions[1]+e.challengecompletions[2]+e.challengecompletions[3]+e.challengecompletions[4]+e.challengecompletions[5])*e.crystalUpgrades[4]),2,!0)})},Ay=t=>{var r;return u.t(`upgrades.crystalUpgrades.${t}`,(r=Uu[t])==null?void 0:r.call(Uu))},Py=t=>u.t("buildings.crystalUpgrades.currentEffect",{effect:t in hg?u.t(`upgrades.crystalEffects.${t}`,hg[t]()):""}),xl=t=>{let r=e.crystalUpgrades[t-1],n=(e.upgrades[73]>.5&&e.currentChallenge.reincarnation!==0?10:0)+Math.floor(i.rune3level*i.effectiveLevelMult/16)*100/100,a=m.pow(10,i.crystalUpgradesCost[t-1]+i.crystalUpgradeCostIncrement[t-1]*Math.floor(Math.pow(e.crystalUpgrades[t-1]+.5-n,2)/2));l("crystalupgradedescription").textContent=Ay(t),l("crystalupgradeslevel1").innerHTML=u.t("buildings.crystalUpgrades.currentLevel",{amount:d(r,0,!0)}),l("crystalupgradescost1").innerHTML=u.t("buildings.crystalUpgrades.cost",{amount:d(a)}),l("crystalupgradeseffect1").innerHTML=Py(t)},ir=(t,r)=>{let n=l(`upg${t}`);e.upgrades[t]>.5?n.style.backgroundColor="green":n.style.backgroundColor="";let a=u.t(`upgrades.descriptions.${t}`),s=e.upgrades[t]>.5?" BOUGHT!":"";e.upgrades[t]>.5&&(r||(l("upgradedescription").textContent=a+s,l("upgradedescription").style.color="gold")),r||Ve()},Nu=()=>{let t=e.ascendBuilding1.owned+e.ascendBuilding2.owned+e.ascendBuilding3.owned+e.ascendBuilding4.owned+e.ascendBuilding5.owned;return t>1e5?Math.pow(1e5,.5)*Math.pow(t,.5):t},Iu={1:()=>({x:d(m.pow(1.05+.01*e.achievements[270]+.001*e.platonicUpgrades[18],e.constantUpgrades[1]),2,!0)}),2:()=>({x:d(m.pow(1+.001*Math.min(100+10*e.achievements[270]+10*e.shopUpgrades.constantEX+3*e.platonicUpgrades[18]+1e3*(i.challenge15Rewards.exponent-1),e.constantUpgrades[2]),Nu()),2,!0)}),3:()=>({x:d(1+.02*e.constantUpgrades[3],2,!0)}),4:()=>({x:d(1+.04*e.constantUpgrades[4],2,!0)}),5:()=>({x:d(m.pow(1+.1*m.log(e.ascendShards.add(1),10),e.constantUpgrades[5]),2,!0)}),6:()=>({x:d(2*e.constantUpgrades[6])}),7:()=>({x:d(7*e.constantUpgrades[7]),y:d(3*e.constantUpgrades[7])}),8:()=>({x:d(1+1/10*e.constantUpgrades[8],2,!0)}),9:()=>({x:d(1+.01*Math.log(e.talismanShards+1)/Math.log(4)*Math.min(1,e.constantUpgrades[9]),4,!0)}),10:()=>({x:d(1+.01*m.log(e.ascendShards.add(1),4)*Math.min(1,e.constantUpgrades[10]),4,!0)})},Ey=t=>{var r;return u.t(`upgrades.constantUpgrades.${t}`,(r=Bu[t])==null?void 0:r.call(Bu))},Oy=t=>{var r;return u.t(`upgrades.constantEffects.${t}`,(r=Iu[t])==null?void 0:r.call(Iu))},Ho=t=>{let r,n;return t>=9?e.constantUpgrades[t]>=1?r=0:r=Math.min(1,Math.max(0,Math.floor(1+m.log(m.max(.01,e.ascendShards),10)-Math.log(i.constUpgradeCosts[t])/Math.log(10)))):r=Math.max(0,Math.floor(1+m.log(m.max(.01,e.ascendShards),10)-Math.log(i.constUpgradeCosts[t])/Math.log(10))),r>e.constantUpgrades[t]?n=m.pow(10,r-1).times(i.constUpgradeCosts[t]):n=t>=9&&e.constantUpgrades[t]>=1?new m("0"):m.pow(10,e.constantUpgrades[t]).times(i.constUpgradeCosts[t]),[Math.max(1,r-e.constantUpgrades[t]),n]},_u=t=>{let[r,n]=Ho(t);l("constUpgradeDescription").textContent=Ey(t),t>=9?l("constUpgradeLevel2").textContent=`${d(Math.min(1,e.constantUpgrades[t]))}/1`:l("constUpgradeLevel2").textContent=d(e.constantUpgrades[t]),l("constUpgradeCost2").textContent=`${d(n)} [+${d(r)} LVL]`,l("constUpgradeEffect2").textContent=Oy(t)},Fo=(t,r=!1)=>{let[n,a]=Ho(t);(t<=8||t>=9&&e.constantUpgrades[t]<1)&&e.ascendShards.gte(a)&&(e.constantUpgrades[t]+=n,e.researches[175]===0&&(e.ascendShards=e.ascendShards.sub(a)),r||_u(t)),er(),at()};var Uy=[4,5,6,7,8,9,10,20,26,27,48,49],By=[41,42,43,44,45,46,47,48,49,50,61,71,72,73,74,75,124,130,135,145,150,175,190],$u=[200,200,200,500,500,500,500,500,2e3,4e4,5e3,1e3,1e4,2e4,4e4,1e4,4e3,1e4,5e4,12500,5e4,3e4,3e4,4e4,2e5,4e5,1e5,177777,1e5,1e6,5e5,3e5,2e6,4e6,2e6,4e6,1e6,2e7,5e7,1e7,5e6,1e7,1e8,4e7,2e7,4e7,5e7,1e8,5e8,1e8,1,1e4,1e8,1e12,1e16,10,1e5,1e9,1e13,1e17,100,1e6,1e10,1e14,1e18,1e20,1e30,1e40,1e50,1e60],Ry=[3,10,5,1,1,1,1,1,1,1,3,10,1,10,10,10,5,1,1,1,5,10,1,10,10,10,1,1,5,1,5,1,1,10,10,10,10,1,1,10,5,10,10,10,10,20,20,1,1,1e5,1,900,100,900,900,20,1,1,400,1e4,100,1,1,1,1,1,1,1e3,1,1e5],Ml=(t,r)=>{let n=t===50?.01:0,a=t>50,s=Qa(t),o=r?1e5:1,c=e.cubeUpgrades[t];o=Math.min(s-c,o);let p=t<=50?He("Cube Upgrades"):1,f;return a?(o=r?s:Math.min(s,c+1),f=vg(c,$u[t-1],Number(e.wowCubes),o)):f=wr(c,$u[t-1]*p,Number(e.wowCubes),n,o),f},Qa=t=>{let r=Ry[t-1];return e.cubeUpgrades[57]>0&&t<50&&t%10===1&&(r+=1),r},Du=(t,r=e.cubeUpgradesBuyMaxToggle)=>{let n=Ml(t,r),a=l("cubeUpgradeName"),s=l("cubeUpgradeDescription"),o=l("cubeUpgradeCost"),c=l("cubeUpgradeLevel"),p=Qa(t);a.textContent=u.t(`cubes.upgradeNames.${t}`),s.textContent=u.t(`cubes.upgradeDescriptions.${t}`),o.textContent=u.t("cubes.cubeMetadata.cost",{value1:d(n.cost,0,!0),value2:d(n.levelCanBuy-e.cubeUpgrades[t],0,!0)}),o.style.color="var(--green-text-color)",c.textContent=u.t("cubes.cubeMetadata.level",{value1:d(e.cubeUpgrades[t],0,!0),value2:d(p,0,!0)}),c.style.color="white",Number(e.wowCubes)<n.cost&&(o.style.color="var(--crimson-text-color)"),e.cubeUpgrades[t]===p&&(o.style.color="gold",o.textContent=u.t("cubes.cubeMetadata.maxLevel"),c.style.color="plum")},qa=t=>{let r=l(`cubeUpg${t}`),n=Qa(t),a=e.cubeUpgrades[t];a>n&&(e.wowCubes.add((a-n)*$u[t-1]),e.cubeUpgrades[t]=n),e.cubeUpgrades[t]===0&&(r.style.backgroundColor=""),a>0&&a<n&&(r.style.backgroundColor="purple"),e.cubeUpgrades[t]===n&&(r.style.backgroundColor="green")},Gu=()=>{for(let t of Uy){let r=Qa(t);e.cubeUpgrades[t]=r,qa(t)}sr();for(let t of By)e.researches[t]=i.researchMaxLevels[t],_s(t)},Hu=(t,r=e.cubeUpgradesBuyMaxToggle,n=!1)=>{if(t>50&&t<=55&&!e.singularityUpgrades.cookies.getEffect().bonus||t>55&&t<=60&&!e.singularityUpgrades.cookies2.getEffect().bonus||t>60&&t<=65&&!e.singularityUpgrades.cookies3.getEffect().bonus||t>65&&t<=70&&!e.singularityUpgrades.cookies4.getEffect().bonus||t>70&&!e.singularityUpgrades.cookies5.getEffect().bonus)return;let a=Ml(t,r),s=Qa(t);if(Number(e.wowCubes)>=a.cost&&e.cubeUpgrades[t]<s)e.wowCubes.sub(100/100*a.cost),e.cubeUpgrades[t]=a.levelCanBuy;else return;if(t===4&&e.cubeUpgrades[4]>0)for(let o=94;o<=98;o++)e.upgrades[o]=1,ir(o,!0);if(t===5&&e.cubeUpgrades[5]>0&&(e.upgrades[99]=1,ir(99,!0)),t===6&&e.cubeUpgrades[6]>0&&(e.upgrades[100]=1,ir(100,!0)),t===51&&e.cubeUpgrades[51]>0&&Gu(),t===57&&e.cubeUpgrades[57]>0)for(let o=1;o<e.cubeUpgrades.length;o++)qa(o);n||(Du(t),Ve(),sr()),qa(t)},yg=()=>{if(e.autoCubeUpgradesToggle&&(e.highestSingularityCount>=50&&e.insideSingularityChallenge||e.highestSingularityCount>=150)){let t=[];for(let r=1;r<e.cubeUpgrades.length;r++){let n=Qa(r);if(e.cubeUpgrades[r]<n){let a=Ml(r,!0);t.push([r,a.cost,a.levelCanBuy])}}if(t.length>0){let r=!1;t.sort((n,a)=>n[1]-a[1]);for(let n of t){let a=Qa(n[0]),s=Ml(n[0],!0);Number(e.wowCubes)>=s.cost&&e.cubeUpgrades[n[0]]<a&&(e.cubeUpgradesBuyMaxToggle||a===s.levelCanBuy)&&(Hu(n[0],!0,!0),r=!0)}r&&(Ve(),sr())}}};var Cg=["chronos","hyperrealism","quark","challenge","abyss","accelerator","acceleratorBoost","multiplier"],zr=class{constructor(r){this.UNLOCKED=!1;this.BAL=0;this.CAP=0;this.BASE_CAP=0;this.HEPTERACT_CONVERSION=0;this.AUTO=!1;this.DISCOUNT=0;this.unlock=r=>this.UNLOCKED?this:(this.UNLOCKED=!0,e.highestSingularityCount<5?B(u.t("hepteracts.unlockedCraft",{x:r})):this);this.computeActualCap=()=>{let r=1;return r*=e.singularityChallenges.limitedAscensions.rewards.hepteractCap?2:1,this.CAP*r};this.craft=async(r=!1)=>{var g;let n=null,a=this.computeActualCap(),s=He("Hepteract Costs");if(!this.UNLOCKED)return B(u.t("hepteracts.notUnlocked"));if(a-this.BAL<=0&&e.toggles[35])return B(u.t("hepteracts.reachedCapacity",{x:d(a,0,!0)}));(isNaN(e.wowAbyssals)||!isFinite(e.wowAbyssals)||e.wowAbyssals<0)&&(e.wowAbyssals=0);let o=Math.floor(e.wowAbyssals/(this.HEPTERACT_CONVERSION*s)*1/(1-this.DISCOUNT)),c=[];for(let h in this.OTHER_CONVERSIONS)h==="worlds"?c.push(Math.floor(e[h]/((g=this.OTHER_CONVERSIONS[h])!=null?g:1))*1/(1-this.DISCOUNT)):c.push(Math.floor(e[h]/(s*this.OTHER_CONVERSIONS[h]))*1/(1-this.DISCOUNT));let p=Math.min(...c),f=Math.min(p,o,a,a-this.BAL);if(isNaN(f)||!isFinite(f))return B(u.t("hepteracts.executionFailed"));if(r)n=a;else{let h=await je(u.t("hepteracts.craft",{x:d(f,0,!0),y:Math.floor(f/a*1e4)/100}));if(h===null)return e.toggles[35]?B(u.t("hepteracts.cancelled")):void 0;n=Number(h)}if(isNaN(n)||!isFinite(n)||!Number.isInteger(n))return B(u.t("general.validation.finite"));if(n<=0)return B(u.t("general.validation.zeroOrLess"));if(f=Math.min(p,o,n,a-this.BAL),r&&e.toggles[35]&&!await Ne(u.t("hepteracts.craftMax",{x:d(f,0,!0),y:Math.floor(f/a*1e4)/100})))return B(u.t("hepteracts.cancelled"));this.BAL=Math.min(a,this.BAL+f),e.wowAbyssals-=f*this.HEPTERACT_CONVERSION*s,e.wowAbyssals<0&&(e.wowAbyssals=0);for(let h of Object.keys(this.OTHER_CONVERSIONS))typeof e[h]=="number"&&(e[h]-=f*s*this.OTHER_CONVERSIONS[h]),e[h]<0?e[h]=0:e[h]instanceof ta?e[h].sub(f*s*this.OTHER_CONVERSIONS[h]):h==="worlds"&&e.worlds.sub(f*this.OTHER_CONVERSIONS[h]);if(e.toggles[35])return r?B(u.t("hepteracts.craftedHepteractsMax",{x:d(f,0,!0)})):B(u.t("hepteracts.craftedHepteracts",{x:d(f,0,!0)}))};this.expand=async()=>{let n=this.BAL,a=this.computeActualCap(),s=this.CAP;if(!this.UNLOCKED)return B(u.t("hepteracts.notUnlocked"));if(this.BAL<this.CAP)return e.toggles[35]?B(u.t("hepteracts.notEnough")):void 0;if(!await Ne(u.t("hepteracts.expandPrompt",{x:d(this.CAP),y:d(a),z:d(a*2),a:d(2,2,!0)})))return this;if(this.BAL!==n||this.CAP!==s)return e.toggles[35]?B(u.t("hepteracts.doubleSpent")):void 0;if(this.BAL-=this.CAP,this.BAL=Math.max(0,this.BAL),this.CAP=Math.min(1e300,this.CAP*2),e.toggles[35])return B(u.t("hepteracts.expandedInventory",{x:d(a*2,0,!0)}))};var n,a,s,o,c;this.BASE_CAP=r.BASE_CAP,this.HEPTERACT_CONVERSION=r.HEPTERACT_CONVERSION,this.OTHER_CONVERSIONS=r.OTHER_CONVERSIONS,this.HTML_STRING=r.HTML_STRING,this.UNLOCKED=(n=r.UNLOCKED)!=null?n:!1,this.BAL=(a=r.BAL)!=null?a:0,this.CAP=(s=r.CAP)!=null?s:this.BASE_CAP,this.DISCOUNT=(o=r.DISCOUNT)!=null?o:0,this.AUTO=(c=r.AUTO)!=null?c:!1,this.toggleAutomatic(this.AUTO)}spend(r){return this.UNLOCKED?(this.BAL-=r,this):this}addDiscount(r){return this.DISCOUNT+r>1-Number.EPSILON?(this.DISCOUNT=1-Number.EPSILON,this):(this.DISCOUNT+=r,this)}toggleAutomatic(r){let n=l(`${this.HTML_STRING}HepteractAuto`);return this.AUTO=r!=null?r:!this.AUTO,n.textContent=this.AUTO?u.t("general.autoOnColon"):u.t("general.autoOffColon"),n.style.border=`2px solid ${this.AUTO?"green":"red"}`,this}autoCraft(r){let a=He("Hepteract Costs"),s=this.computeActualCap(),o=Math.floor(r/(a*this.HEPTERACT_CONVERSION)*1/(1-this.DISCOUNT)),c=[];for(let b in this.OTHER_CONVERSIONS)b==="worlds"&&c.push(Math.floor(e[b]/this.OTHER_CONVERSIONS[b])*1/(1-this.DISCOUNT));let p=Math.min(...c),f=Math.min(p,o),g=0,h=Math.min(s-this.BAL,f);for(this.BAL+=h,g+=h,f-=h;this.BAL>=s&&f>=this.CAP;)this.BAL-=this.CAP,this.CAP*=2,s*=2,h=Math.min(s-this.BAL,f),this.BAL+=h,g+=h,f-=h;for(let b in this.OTHER_CONVERSIONS)b==="worlds"&&e.worlds.sub(g*this.OTHER_CONVERSIONS[b]);return e.wowAbyssals-=g*a*this.HEPTERACT_CONVERSION,e.wowAbyssals<0&&(e.wowAbyssals=0),this}get amount(){return this.BAL}get capacity(){return this.CAP}get discount(){return this.DISCOUNT}},Sl={chronos:{LIMIT:1e3,DR:1/6},hyperrealism:{LIMIT:1e3,DR:.33},quark:{LIMIT:1e3,DR:.5},challenge:{LIMIT:1e3,DR:1/6},abyss:{LIMIT:1,DR:0},accelerator:{LIMIT:1e3,DR:.2},acceleratorBoost:{LIMIT:1e3,DR:.2},multiplier:{LIMIT:1e3,DR:.2}},wg=t=>new zr(t),ct=t=>{let r=Math.min(e.hepteractCrafts[t].BAL,Sl[t].LIMIT),n=0;if(t==="chronos"&&(n+=1/750*e.platonicUpgrades[19]),t==="quark"){n+=+e.singularityUpgrades.singQuarkHepteract.getEffect().bonus,n+=+e.singularityUpgrades.singQuarkHepteract2.getEffect().bonus,n+=+e.singularityUpgrades.singQuarkHepteract3.getEffect().bonus,n+=+e.octeractUpgrades.octeractImprovedQuarkHept.getEffect().bonus,n+=e.shopUpgrades.improveQuarkHept/100,n+=e.shopUpgrades.improveQuarkHept2/100,n+=e.shopUpgrades.improveQuarkHept3/100,n+=e.shopUpgrades.improveQuarkHept4/100,n+=e.shopUpgrades.improveQuarkHept5/5e3;let a=e.hepteractCrafts[t].BAL;if(1e3<a&&a<=1e3*Math.pow(2,10))return r*Math.pow(a/1e3,1/2+n);if(1e3*Math.pow(2,10)<a&&a<=1e3*Math.pow(2,18))return r*Math.pow(Math.pow(2,10),1/2+n)*Math.pow(a/(1e3*Math.pow(2,10)),1/4+n/2);if(1e3*Math.pow(2,18)<a&&a<=1e3*Math.pow(2,44))return r*Math.pow(Math.pow(2,10),1/2+n)*Math.pow(Math.pow(2,8),1/4+n/2)*Math.pow(a/(1e3*Math.pow(2,18)),1/6+n/3);if(1e3*Math.pow(2,44)<a)return r*Math.pow(Math.pow(2,10),1/2+n)*Math.pow(Math.pow(2,8),1/4+n/2)*Math.pow(Math.pow(2,26),1/6+n/3)*Math.pow(a/(1e3*Math.pow(2,44)),1/12+n/6)}return e.hepteractCrafts[t].BAL>Sl[t].LIMIT&&(r*=Math.pow(e.hepteractCrafts[t].BAL/Sl[t].LIMIT,Sl[t].DR+n)),r},En=t=>{l("hepteractUnlockedText").style.display="block",l("hepteractCurrentEffectText").style.display="block",l("hepteractBalanceText").style.display="block",l("powderDayWarpText").style.display="none",l("hepteractCostText").style.display="block";let r=l("hepteractUnlockedText"),n=l("hepteractEffectText"),a=l("hepteractCurrentEffectText"),s=l("hepteractBalanceText"),o=l("hepteractCostText"),c=l("hepteractBonusCapacity"),p=He("Hepteract Costs"),f=e.hepteractCrafts[t].computeActualCap()/e.hepteractCrafts[t].CAP;c.textContent=e.hepteractCrafts[t].computeActualCap()/e.hepteractCrafts[t].CAP>1?`Hepteract capacities are currently multiplied by ${f}. Expansions cost what they would if this multiplier were 1.`:"";let g,h;switch(t){case"chronos":g={x:d(ct("chronos")*6/100,2,!0)},h=d(1e115*p,0,!1);break;case"hyperrealism":g={x:d(ct("hyperrealism")*6/100,2,!0)},h=d(1e80*p,0,!0);break;case"quark":g={x:d(ct("quark")*5/100,2,!0)},h="100";break;case"challenge":g={x:d(ct("challenge")*5/100,2,!0)},h={y:d(1e11*p),z:d(1e22*p)};break;case"abyss":h=d(69*p);break;case"accelerator":g={x:d(2e3*ct("accelerator"),2,!0),y:d(ct("accelerator")*3/100,2,!0)},h=d(1e14*p);break;case"acceleratorBoost":g={x:d(ct("acceleratorBoost")/10,2,!0)},h=d(1e10*p);break;case"multiplier":g={x:d(1e3*ct("multiplier"),2,!0),y:d(ct("multiplier")*3/100,2,!0)},h=d(1e130*p);break}n.textContent=u.t(`wowCubes.hepteractForge.descriptions.${t}.effect`),a.textContent=u.t(`wowCubes.hepteractForge.descriptions.${t}.currentEffect`,g),s.textContent=u.t("wowCubes.hepteractForge.inventory",{x:d(e.hepteractCrafts[t].BAL,0,!0),y:d(e.hepteractCrafts[t].computeActualCap(),0,!0)});let b=typeof h=="string"?{y:h}:h;o.textContent=u.t(`wowCubes.hepteractForge.descriptions.${t}.oneCost`,G({x:d(e.hepteractCrafts[t].HEPTERACT_CONVERSION*p,0,!0)},b)),r.textContent=e.hepteractCrafts[t].UNLOCKED?u.t("wowCubes.hepteractForge.unlocked"):u.t("wowCubes.hepteractForge.locked")},xg=()=>{l("hepteractUnlockedText").style.display="none",l("powderDayWarpText").style.display="none",l("hepteractCostText").style.display="block",l("hepteractCurrentEffectText").textContent=u.t("hepteracts.orbEffect",{x:d(100*(-1+ea()),2,!0)}),l("hepteractBalanceText").textContent=u.t("hepteracts.orbsPurchasedToday",{x:d(e.overfluxOrbs,0,!0)}),l("hepteractEffectText").textContent=u.t("hepteracts.amalgamate"),l("hepteractCostText").textContent=u.t("hepteracts.cost250k")},Fu=async t=>{let r=Math.floor(e.wowAbyssals/25e4),n;if(t){if(e.toggles[35]&&!await Ne(u.t("hepteracts.craftMaxOrbs",{x:d(r,0,!0)})))return B(u.t("hepteracts.cancelled"));n=r}else{let f=await je(u.t("hepteracts.hepteractInput",{x:d(r,0,!0)}));if(f===null)return e.toggles[35]?B(u.t("hepteracts.cancelled")):void 0;if(n=Number(f),isNaN(n)||!isFinite(n)||!Number.isInteger(n)||n<=0)return B(u.t("general.validation.invalidNumber"))}let a=Math.min(r,Math.floor(n)),s=ea();e.overfluxOrbs+=a,e.wowAbyssals-=25e4*a;let o=ea();e.wowAbyssals<0&&(e.wowAbyssals=0);let c=e.shopUpgrades.powderAuto*Kr().mult*a/100;e.overfluxPowder+=c;let p=c>0?u.t("hepteracts.gainedPowder",{x:d(c,2,!0)}):"";if(e.toggles[35])return B(u.t("hepteracts.purchasedOrbs",{x:d(a,0,!0),y:d(100*(o-s),2,!0),z:p}))},kl=(t,r=!1)=>{let n=l("hepteractToQuarkTradeAuto");r||(e.overfluxOrbsAutoBuy=t!=null?t:!e.overfluxOrbsAutoBuy),n.textContent=e.overfluxOrbsAutoBuy?u.t("general.autoOnColon"):u.t("general.autoOffColon"),n.style.border=`2px solid ${e.overfluxOrbsAutoBuy?"green":"red"}`},Mg=()=>{let t;e.platonicUpgrades[16]>0?t=u.t("hepteracts.allCubeGainExtended",{x:d(100*(Tl()-1),2,!0),y:d(100*(Ds()-1),3,!0),z:d(2*e.platonicUpgrades[16]*Math.min(1,e.overfluxPowder/1e5),2,!0),a:d(m.pow(e.overfluxPowder+1,10*e.platonicUpgrades[16]))}):t=u.t("hepteracts.allCubeGain",{x:d(100*(Tl()-1),2,!0),y:d(100*(Ds()-1),3,!0)}),l("hepteractUnlockedText").style.display="none",l("hepteractCurrentEffectText").textContent=u.t("hepteracts.powderEffect",{x:t}),l("hepteractBalanceText").textContent=u.t("hepteracts.powderLumps",{x:d(e.overfluxPowder,2,!0)}),l("hepteractEffectText").textContent=u.t("hepteracts.expiredOrbs",{x:d(1/Kr().mult,1,!0)}),l("hepteractCostText").style.display="none",l("powderDayWarpText").style.display="block",l("powderDayWarpText").textContent=u.t("hepteracts.dayWarpsRemaining",{x:e.dailyPowderResetUses})},Qu=async t=>{if(t)if(e.autoWarpCheck){if(await Ne(u.t("hepteracts.useAllWarpsPrompt")))return l("warpAuto").textContent=u.t("general.autoOffColon"),l("warpAuto").style.border="2px solid red",e.autoWarpCheck=!1,e.dailyPowderResetUses=0,B(u.t("hepteracts.machineCooldown"));if(e.toggles[35])return B(u.t("hepteracts.machineDidNotConsume"))}else{if(await Ne(u.t("hepteracts.boostQuarksPrompt")))return l("warpAuto").textContent=u.t("general.autoOnColon"),l("warpAuto").style.border="2px solid green",e.autoWarpCheck=!0,e.dailyPowderResetUses===0?B(u.t("hepteracts.machineOverdrive")):B(u.t("hepteracts.machineInOverdrive"));if(e.toggles[35])return B(u.t("hepteracts.machineUsualContinue"))}else{if(e.autoWarpCheck)return B(u.t("hepteracts.warpImpossible"));if(e.dailyPowderResetUses<=0)return B(u.t("hepteracts.machineCooldown"));if(e.overfluxPowder<25)return B(u.t("hepteracts.atleastPowder"));if(await Ne(u.t("hepteracts.stumbleMachine"))){if(e.overfluxPowder-=25,e.dailyPowderResetUses-=1,Qo(),e.toggles[35])return B(u.t("hepteracts.useMachine"))}else if(e.toggles[35])return B(u.t("hepteracts.walkAwayMachine"))}},Sg=()=>{let t=[];for(let r of Object.keys(e.hepteractCrafts)){let n=r;e.hepteractCrafts[n].AUTO&&e.hepteractCrafts[n].UNLOCKED&&t.push(e.hepteractCrafts[n])}return t},Tg=new zr({BASE_CAP:1e3,HEPTERACT_CONVERSION:1e4,OTHER_CONVERSIONS:{researchPoints:1e115},HTML_STRING:"chronos",UNLOCKED:!0}),kg=new zr({BASE_CAP:1e3,HEPTERACT_CONVERSION:1e4,OTHER_CONVERSIONS:{runeshards:1e80},HTML_STRING:"hyperrealism",UNLOCKED:!0}),Lg=new zr({BASE_CAP:1e3,HEPTERACT_CONVERSION:1e4,OTHER_CONVERSIONS:{worlds:100},HTML_STRING:"quark",UNLOCKED:!0}),Ag=new zr({BASE_CAP:1e3,HEPTERACT_CONVERSION:5e4,OTHER_CONVERSIONS:{wowPlatonicCubes:1e11,wowCubes:1e22},HTML_STRING:"challenge"}),Pg=new zr({BASE_CAP:1,HEPTERACT_CONVERSION:1e8,OTHER_CONVERSIONS:{wowCubes:69},HTML_STRING:"abyss"}),Eg=new zr({BASE_CAP:1e3,HEPTERACT_CONVERSION:1e5,OTHER_CONVERSIONS:{wowTesseracts:1e14},HTML_STRING:"accelerator"}),Og=new zr({BASE_CAP:1e3,HEPTERACT_CONVERSION:2e5,OTHER_CONVERSIONS:{wowHypercubes:1e10},HTML_STRING:"acceleratorBoost"}),Ug=new zr({BASE_CAP:1e3,HEPTERACT_CONVERSION:3e5,OTHER_CONVERSIONS:{researchPoints:1e130},HTML_STRING:"multiplier"});var Iy=["+0.0090% Cubes per Corruption level per level!","+0.018% Tesseracts per Corruption level per level!","+0.054% Hypercubes per Corruption level per level!","Gain +2.4% Platonic Cubes per level! It is that simple.","C10 Exponent: 1.035 --> 1.0375, Constant tax exponent +0.10, 2x faster Constant production, +20% Quarks, +10 Reincarnation Challenge Cap, +5 Ascension Challenge Cap, 2x Obtainium and Offerings, ^1.10 coin gain in C15, as well +1 Corruption Cap Level!","Multiplies Viscosity exponent by (1 + level/30), capacity of ^1 on Multipliers and Accelerators.","Raises speed below 1x to the power of ^(1 - level/30).","Divides Hyperchallenged by (1 + 0.4 * level), with a minimum 1x Challenge requirement multiplier!","Raise Obtainium to the power of (1+(0.09*log10(Obtainium owned))) and add another x2.5 multiplier (Uncorruptable), up until 1e100 Obtainium!","C10 Exponent: 1.0375 --> 1.04, Constant tax exponent +0.20, 10x faster Constant production, +25% Quarks, +10 Reincarnation Challenge Cap, +5 Ascension Challenge Cap, 3.5x Obtainium and Offerings, 2x All Cubes, ^1.25 ant exponent in C15, +1 Corruption Cap Level again!","With this upgrade, you will gain diamonds equal to particle gain on Reincarnation while using Market Deflation 11 or higher! Does not work with Cube upgrade [3x8]!","Gain (1 + lvl/100)x Ant multiplier per Challenge completion, ignoring corruptions to Ants.","Effect of Drought is raised to the power of 0.5.","Reduce the effect of Financial Recession in Challenge 15, multiplying the coin exponent by 1.55.","You begin to find the start of the abyss. Coin Exponent +0.10 in Challenge 15, Challenge 15 Score +25%, Ascension Speed +0.2% per Corruption Level (Max: 20%), +1% all Cube types per C9 Completion (Multiplicative), +30% Quarks, 1e250x Tesseract Building Multiplier, 2x Ascension Count, +30 Reincarnation Challenge Cap, +20 Ascension Challenge Cap, 6x Offerings and Obtainium (Uncorruptable)! Talk about a deep dive.","Increase powder conversion rate by 1% per level, gain +2% Ascension count per level and gain up to 2% more Ascension count per level based on powder, up to 100,000. This will also multiply Tesseract Building production by (Powder + 1)^(10 * level), uncapped.","If Viscosity Corruption is set to level 10 or higher, score multiplier is raised by an exponent. That exponent is 3 + 0.04 per level of this upgrade.","Raise the base percentage of Constant Upgrade 1 by 0.1% and increase the base percentage cap of Constant Upgrade 2 by 0.3% per level!","The diminishing return power on Chronos Hepteract changes from 0.166 to (0.166 + 0.00133 * level) [Max of 0.2333].","You know, maybe some things should be left unbought."],$e={1:{obtainium:1e70,offerings:1e45,cubes:1e13,tesseracts:1e6,hypercubes:1e5,platonics:1e4,abyssals:0,maxLevel:300,priceMult:2},2:{obtainium:3e70,offerings:2e45,cubes:1e11,tesseracts:1e8,hypercubes:1e5,platonics:1e4,abyssals:0,maxLevel:300,priceMult:2},3:{obtainium:1e71,offerings:4e45,cubes:1e11,tesseracts:1e6,hypercubes:1e7,platonics:1e4,abyssals:0,maxLevel:300,priceMult:2},4:{obtainium:4e71,offerings:1e46,cubes:1e12,tesseracts:1e7,hypercubes:1e6,platonics:1e6,abyssals:0,maxLevel:300,priceMult:2},5:{obtainium:1e80,offerings:1e60,cubes:1e14,tesseracts:1e9,hypercubes:1e8,platonics:1e7,abyssals:0,maxLevel:1},6:{obtainium:1e82,offerings:1e61,cubes:1e15,tesseracts:1e9,hypercubes:1e8,platonics:1e7,abyssals:0,maxLevel:10},7:{obtainium:1e84,offerings:3e62,cubes:2e15,tesseracts:2e9,hypercubes:2e8,platonics:15e6,abyssals:0,maxLevel:15},8:{obtainium:1e87,offerings:1e64,cubes:4e15,tesseracts:4e9,hypercubes:4e8,platonics:3e7,abyssals:0,maxLevel:5},9:{obtainium:1e90,offerings:1e66,cubes:1e16,tesseracts:1e10,hypercubes:1e9,platonics:5e7,abyssals:0,maxLevel:1},10:{obtainium:1e93,offerings:1e68,cubes:1e18,tesseracts:1e12,hypercubes:1e11,platonics:1e9,abyssals:0,maxLevel:1},11:{obtainium:2e96,offerings:1e70,cubes:2e17,tesseracts:2e11,hypercubes:2e10,platonics:2e8,abyssals:0,maxLevel:1},12:{obtainium:1e100,offerings:1e72,cubes:1e18,tesseracts:1e12,hypercubes:1e11,platonics:1e9,abyssals:0,maxLevel:10},13:{obtainium:2e104,offerings:1e74,cubes:2e19,tesseracts:4e12,hypercubes:4e11,platonics:4e9,abyssals:0,maxLevel:1},14:{obtainium:1e108,offerings:1e77,cubes:4e20,tesseracts:1e13,hypercubes:1e12,platonics:1e10,abyssals:0,maxLevel:1},15:{obtainium:1e115,offerings:1e80,cubes:1e23,tesseracts:1e15,hypercubes:1e14,platonics:1e12,abyssals:1,maxLevel:1},16:{obtainium:1e140,offerings:1e110,cubes:0,tesseracts:0,hypercubes:25e14,platonics:0,abyssals:0,maxLevel:100,priceMult:10},17:{obtainium:1e145,offerings:1e113,cubes:0,tesseracts:0,hypercubes:1e19,platonics:0,abyssals:2,maxLevel:20,priceMult:10},18:{obtainium:1e150,offerings:1e116,cubes:0,tesseracts:0,hypercubes:1e19,platonics:0,abyssals:4,maxLevel:40,priceMult:500},19:{obtainium:1e160,offerings:1e121,cubes:0,tesseracts:0,hypercubes:1e21,platonics:0,abyssals:64,maxLevel:50,priceMult:200},20:{obtainium:1e180,offerings:1e130,cubes:1e45,tesseracts:1e28,hypercubes:1e25,platonics:1e25,abyssals:Math.pow(2,30)-1,maxLevel:1}},qu=(t,r=!1)=>{let n=0,a=["obtainium","offerings","cubes","tesseracts","hypercubes","platonics","abyssals"],s=["researchPoints","runeshards","wowCubes","wowTesseracts","wowHypercubes","wowPlatonicCubes","wowAbyssals"],o={obtainium:!1,offerings:!1,cubes:!1,tesseracts:!1,hypercubes:!1,platonics:!1,abyssals:!1,canBuy:!1},c=1;$e[t].priceMult&&(c=Math.pow($e[t].priceMult,Math.pow(e.platonicUpgrades[t]/($e[t].maxLevel-1),1.25))),c*=He("Platonic Costs");for(let p=0;p<a.length-1;p++)(r&&(a[p]==="obtainium"||a[p]==="offerings")||Math.floor($e[t][a[p]]*c)<=e[s[p]])&&(n++,o[a[p]]=!0);return(e.hepteractCrafts.abyss.BAL>=Math.floor($e[t].abyssals*c)||$e[t].abyssals===0)&&(n++,o.abyssals=!0),n===a.length&&e.platonicUpgrades[t]<$e[t].maxLevel&&(o.canBuy=!0),o},ju=t=>{let r="";e.platonicUpgrades[t]===$e[t].maxLevel&&(r=" [MAX]");let n=qu(t),a=1;$e[t].priceMult&&(a=Math.pow($e[t].priceMult,Math.pow(e.platonicUpgrades[t]/($e[t].maxLevel-1),1.25))),a*=He("Platonic Costs"),l("platonicUpgradeDescription").textContent=Iy[t-1],l("platonicUpgradeLevel").textContent=`Level: ${d(e.platonicUpgrades[t])}/${d($e[t].maxLevel)}${r}`,l("platonicOfferingCost").textContent=`${d(e.runeshards)}/${d($e[t].offerings*a)} Offerings`,l("platonicObtainiumCost").textContent=`${d(e.researchPoints)}/${d($e[t].obtainium*a)} Obtainium`,l("platonicCubeCost").textContent=`${d(e.wowCubes)}/${d($e[t].cubes*a)} Wow! Cubes`,l("platonicTesseractCost").textContent=`${d(e.wowTesseracts)}/${d($e[t].tesseracts*a)} Wow! Tesseracts`,l("platonicHypercubeCost").textContent=`${d(e.wowHypercubes)}/${d($e[t].hypercubes*a)} Wow! Hypercubes`,l("platonicPlatonicCost").textContent=`${d(e.wowPlatonicCubes)}/${d($e[t].platonics*a)} Platonic! Cubes`,l("platonicHepteractCost").textContent=`${d(e.hepteractCrafts.abyss.BAL)}/${d(Math.floor($e[t].abyssals*a),0,!0)} Hepteracts of the Abyss`,n.offerings?l("platonicOfferingCost").style.color="lime":l("platonicOfferingCost").style.color="var(--crimson-text-color)",n.obtainium?l("platonicObtainiumCost").style.color="lime":l("platonicObtainiumCost").style.color="var(--crimson-text-color)",n.cubes?l("platonicCubeCost").style.color="lime":l("platonicCubeCost").style.color="var(--crimson-text-color)",n.tesseracts?l("platonicTesseractCost").style.color="lime":l("platonicTesseractCost").style.color="var(--crimson-text-color)",n.hypercubes?l("platonicHypercubeCost").style.color="lime":l("platonicHypercubeCost").style.color="var(--crimson-text-color)",n.platonics?l("platonicPlatonicCost").style.color="lime":l("platonicPlatonicCost").style.color="var(--crimson-text-color)",n.abyssals?l("platonicHepteractCost").style.color="lime":l("platonicHepteractCost").style.color="var(--crimson-text-color)",e.platonicUpgrades[t]<$e[t].maxLevel&&(l("platonicUpgradeLevel").style.color="cyan",n.canBuy?(l("platonicCanBuy").style.color="gold",l("platonicCanBuy").textContent="===Affordable! Click to buy!==="):(l("platonicCanBuy").style.color="var(--crimson-text-color)",l("platonicCanBuy").textContent="===You cannot afford this!===")),e.platonicUpgrades[t]===$e[t].maxLevel&&(l("platonicUpgradeLevel").style.color="gold",l("platonicCanBuy").style.color="var(--orchid-text-color)",l("platonicCanBuy").textContent="===Maxed===")},qo=t=>{let r=l(`platUpg${t}`),n=$e[t].maxLevel;e.platonicUpgrades[t]===0?r.style.backgroundColor="":e.platonicUpgrades[t]>0&&e.platonicUpgrades[t]<n?r.style.backgroundColor="purple":e.platonicUpgrades[t]===n&&(r.style.backgroundColor="green")},Vu=(t,r=!1)=>{for(;t>0;){let n=qu(t,r),a=1;if($e[t].priceMult&&(a=Math.pow($e[t].priceMult,Math.pow(e.platonicUpgrades[t]/($e[t].maxLevel-1),1.25))),a*=He("Platonic Costs"),n.canBuy)e.platonicUpgrades[t]+=1,r||(e.researchPoints-=Math.floor($e[t].obtainium*a),e.runeshards-=Math.floor($e[t].offerings*a)),e.wowCubes.sub(Math.floor($e[t].cubes*a)),e.wowTesseracts.sub(Math.floor($e[t].tesseracts*a)),e.wowHypercubes.sub(Math.floor($e[t].hypercubes*a)),e.wowPlatonicCubes.sub(Math.floor($e[t].platonics*a)),e.hepteractCrafts.abyss.spend(Math.floor($e[t].abyssals*a)),Ht.emit("boughtPlatonicUpgrade",$e[t]),t===20&&!r&&e.singularityCount===0&&B("While I strongly recommended you not to buy this, you did it anyway. For that, you have unlocked the rune of Grandiloquence, for you are a richass.");else break;if(e.platonicUpgrades[t]===$e[t].maxLevel||e.singularityCount===0)break}ju(t),qo(t),Ve()},Bg=()=>{if(e.autoPlatonicUpgradesToggle&&(e.highestSingularityCount>=100&&e.insideSingularityChallenge||e.highestSingularityCount>=200))for(let t=1;t<e.platonicUpgrades.length;t++)e.platonicUpgrades[t]<$e[t].maxLevel&&qu(t,!0).canBuy&&Vu(t,!0)};var tr=(t,r=!0)=>{let n=i.effectiveLevelMult,a=1+e.researches[84]/200*(1+1*i.effectiveRuneSpiritPower[5]*yt()/400),s=Vo(t-1,!1,e.runelevels[t-1]),o;if(t===1?o={bonus:d(Math.floor(Math.pow(i.rune1level*n/4,1.25))),percent:d(i.rune1level/4*n,2,!0),boost:d(Math.floor(i.rune1level/20*n))}:t===2?o={mult1:d(Math.floor(i.rune2level*n/10)*Math.floor(1+i.rune2level*n/10)/2),mult2:d(n*i.rune2level/4,1,!0),tax:(99.9*(1-Math.pow(6,-(i.rune2level*n)/1e3))).toPrecision(4)}:t===3?o={mult:d(m.pow(i.rune3level*n/2,2).times(m.pow(2,i.rune3level*n/2-8)).add(1),3),gain:d(Math.floor(i.rune3level/16*n))}:t===4?o={delay:(i.rune4level/8*n).toPrecision(3),chance:Math.min(25,i.rune4level/16),tax:(99*(1-Math.pow(4,Math.min(0,(400-i.rune4level)/1100)))).toPrecision(4)}:t===5?o={gain:d(1+i.rune5level/200*n*a,2,!0),speed:d(1+Math.pow(i.rune5level*n*a,2)/2500),offerings:d(i.rune5level*n*a*.005,3,!0)}:t===6?o={percent1:d(10+15/75*aa(),1,!0),percent2:d(1*aa(),0,!0)}:t===7&&r&&(o={exp:d(1e256*(1+e.singularityCount))}),r&&(l("runeshowlevelup").textContent=u.t(`runes.levelup.${t}`,o)),l(`runeshowpower${t}`).textContent=u.t(`runes.power.${t}`,o),r){let c=Ng(t-1,e.runelevels[t-1],e.offeringbuyamount),p=0,f=0;for(;f<c.length&&(p+c[f]<=e.runeshards||f===0);)p+=c[f],f++;let g=f===1?"once":`${f} times`;l("runeDisplayInfo").textContent=u.t("runes.perOfferingText",{exp:d(s),x:d(p),y:g})}},Rg=t=>{e.runeshards=Math.min(1e300,e.runeshards+pn(t))},jo=t=>[!1,!0,e.achievements[38]>.5,e.achievements[44]>.5,e.achievements[102]>.5,e.researches[82]>.5,Va(),e.platonicUpgrades[20]>0][t],Ig=t=>{let r=0;for(let n=0;n<t;n++)(!jo(n+1)||e.runelevels[n]>=Mt(n+1))&&r++;return r},ja=(t,r=!1,n=0)=>{let a=t-1,s=e.offeringbuyamount;r&&(s=Math.pow(2,e.shopUpgrades.offeringAuto)),r&&n>0&&(s=Math.min(1e4,Mt(a+1)));let o=0;if(e.runeshards>0&&e.runelevels[a]<Mt(a+1)&&jo(a+1)){let c=0,p=Mt(a+1),f=Ng(a,e.runelevels[a],s),g=Math.min(e.runeshards,f.reduce((x,D)=>x+D,0));n>0&&(g=Math.min(e.runeshards,n));let h=Vo(a,!1,e.runelevels[a],!0),b=e.upgrades[71]/25,y=h[0]-b*e.runelevels[a],C=h.slice(1,h.length).reduce((x,D)=>x*D,1);for(;g>0&&o<s&&e.runelevels[a]<p;){let x=On(a,e.runelevels[a])-e.runeexp[a],D=Math.min(1e300,(y+b*e.runelevels[a])*C),$=Math.min(g,Math.ceil(x/D));for(isNaN($)&&($=g),g-=$,e.runeshards-=$,e.runeexp[a]+=$*D,c+=$;e.runeexp[a]>=On(a)&&e.runelevels[a]<p;)e.runelevels[a]+=1,o++}for(let x=0;x<5;++x)if(jo(x+1))for(x!==a&&(e.runeexp[x]+=c*Vo(x,!0));e.runeexp[x]>=On(x)&&e.runelevels[x]<Mt(x+1);)e.runelevels[x]+=1;r||tr(t)}at(),(e.runeshards<0||!e.runeshards)&&(e.runeshards=0)},Ng=(t,r,n)=>{let a=On(t,r)-e.runeexp[t],s=Mt(t+1),o=[],c=0,p=e.runeshards,f=0,g=Vo(t,!1,r,!0),h=e.upgrades[71]/25,b=g[0]-h*r,y=g.slice(1,g.length).reduce((C,x)=>C*x,1);for(;f<n&&r+f<s&&c<p;){let C=(b+h*(r+f))*y,x=Math.ceil(a/C);c+=x,o.push(x),f+=1,a=On(t,r+f)-On(t,r+f-1)}return o};var De;(function(t){t.assertEqual=s=>s;function r(s){}t.assertIs=r;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{let o={};for(let c of s)o[c]=c;return o},t.getValidEnumValues=s=>{let o=t.objectKeys(s).filter(p=>typeof s[s[p]]!="number"),c={};for(let p of o)c[p]=s[p];return t.objectValues(c)},t.objectValues=s=>t.objectKeys(s).map(function(o){return s[o]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{let o=[];for(let c in s)Object.prototype.hasOwnProperty.call(s,c)&&o.push(c);return o},t.find=(s,o)=>{for(let c of s)if(o(c))return c},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function a(s,o=" | "){return s.map(c=>typeof c=="string"?`'${c}'`:c).join(o)}t.joinValues=a,t.jsonStringifyReplacer=(s,o)=>typeof o=="bigint"?o.toString():o})(De||(De={}));var zu;(function(t){t.mergeShapes=(r,n)=>G(G({},r),n)})(zu||(zu={}));var ce=De.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Bn=t=>{switch(typeof t){case"undefined":return ce.undefined;case"string":return ce.string;case"number":return isNaN(t)?ce.nan:ce.number;case"boolean":return ce.boolean;case"function":return ce.function;case"bigint":return ce.bigint;case"symbol":return ce.symbol;case"object":return Array.isArray(t)?ce.array:t===null?ce.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ce.promise:typeof Map<"u"&&t instanceof Map?ce.map:typeof Set<"u"&&t instanceof Set?ce.set:typeof Date<"u"&&t instanceof Date?ce.date:ce.object;default:return ce.unknown}},X=De.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Ny=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:"),Wt=class extends Error{get errors(){return this.issues}constructor(r){super(),this.issues=[],this.addIssue=a=>{this.issues=[...this.issues,a]},this.addIssues=(a=[])=>{this.issues=[...this.issues,...a]};let n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=r}format(r){let n=r||function(o){return o.message},a={_errors:[]},s=o=>{for(let c of o.issues)if(c.code==="invalid_union")c.unionErrors.map(s);else if(c.code==="invalid_return_type")s(c.returnTypeError);else if(c.code==="invalid_arguments")s(c.argumentsError);else if(c.path.length===0)a._errors.push(n(c));else{let p=a,f=0;for(;f<c.path.length;){let g=c.path[f];f===c.path.length-1?(p[g]=p[g]||{_errors:[]},p[g]._errors.push(n(c))):p[g]=p[g]||{_errors:[]},p=p[g],f++}}};return s(this),a}static assert(r){if(!(r instanceof Wt))throw new Error(`Not a ZodError: ${r}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,De.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(r=n=>n.message){let n={},a=[];for(let s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(r(s))):a.push(r(s));return{formErrors:a,fieldErrors:n}}get formErrors(){return this.flatten()}};Wt.create=t=>new Wt(t);var Fs=(t,r)=>{let n;switch(t.code){case X.invalid_type:t.received===ce.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case X.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,De.jsonStringifyReplacer)}`;break;case X.unrecognized_keys:n=`Unrecognized key(s) in object: ${De.joinValues(t.keys,", ")}`;break;case X.invalid_union:n="Invalid input";break;case X.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${De.joinValues(t.options)}`;break;case X.invalid_enum_value:n=`Invalid enum value. Expected ${De.joinValues(t.options)}, received '${t.received}'`;break;case X.invalid_arguments:n="Invalid function arguments";break;case X.invalid_return_type:n="Invalid function return type";break;case X.invalid_date:n="Invalid date";break;case X.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:De.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case X.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case X.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case X.custom:n="Invalid input";break;case X.invalid_intersection_types:n="Intersection results could not be merged";break;case X.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case X.not_finite:n="Number must be finite";break;default:n=r.defaultError,De.assertNever(t)}return{message:n}},Dg=Fs;function _y(t){Dg=t}function Ll(){return Dg}var Al=t=>{let{data:r,path:n,errorMaps:a,issueData:s}=t,o=[...n,...s.path||[]],c=fe(G({},s),{path:o});if(s.message!==void 0)return fe(G({},s),{path:o,message:s.message});let p="",f=a.filter(g=>!!g).slice().reverse();for(let g of f)p=g(c,{data:r,defaultError:p}).message;return fe(G({},s),{path:o,message:p})},$y=[];function se(t,r){let n=Ll(),a=Al({issueData:r,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Fs?void 0:Fs].filter(s=>!!s)});t.common.issues.push(a)}var kt=class{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(r,n){let a=[];for(let s of n){if(s.status==="aborted")return Ce;s.status==="dirty"&&r.dirty(),a.push(s.value)}return{status:r.value,value:a}}static async mergeObjectAsync(r,n){let a=[];for(let s of n){let o=await s.key,c=await s.value;a.push({key:o,value:c})}return kt.mergeObjectSync(r,a)}static mergeObjectSync(r,n){let a={};for(let s of n){let{key:o,value:c}=s;if(o.status==="aborted"||c.status==="aborted")return Ce;o.status==="dirty"&&r.dirty(),c.status==="dirty"&&r.dirty(),o.value!=="__proto__"&&(typeof c.value<"u"||s.alwaysSet)&&(a[o.value]=c.value)}return{status:r.value,value:a}}},Ce=Object.freeze({status:"aborted"}),Hs=t=>({status:"dirty",value:t}),zt=t=>({status:"valid",value:t}),Ku=t=>t.status==="aborted",Xu=t=>t.status==="dirty",Wa=t=>t.status==="valid",Ko=t=>typeof Promise<"u"&&t instanceof Promise;function Pl(t,r,n,a){if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?t!==r||!a:!r.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?a:n==="a"?a.call(t):a?a.value:r.get(t)}function Gg(t,r,n,a,s){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?t!==r||!s:!r.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?s.call(t,n):s?s.value=n:r.set(t,n),n}var pe;(function(t){t.errToObj=r=>typeof r=="string"?{message:r}:r||{},t.toString=r=>typeof r=="string"?r:r==null?void 0:r.message})(pe||(pe={}));var Wo,zo,Sr=class{constructor(r,n,a,s){this._cachedPath=[],this.parent=r,this.data=n,this._path=a,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},_g=(t,r)=>{if(Wa(r))return{success:!0,data:r.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let n=new Wt(t.common.issues);return this._error=n,this._error}}};function Ae(t){if(!t)return{};let{errorMap:r,invalid_type_error:n,required_error:a,description:s}=t;if(r&&(n||a))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return r?{errorMap:r,description:s}:{errorMap:(c,p)=>{var f,g;let{message:h}=t;return c.code==="invalid_enum_value"?{message:h!=null?h:p.defaultError}:typeof p.data>"u"?{message:(f=h!=null?h:a)!==null&&f!==void 0?f:p.defaultError}:c.code!=="invalid_type"?{message:p.defaultError}:{message:(g=h!=null?h:n)!==null&&g!==void 0?g:p.defaultError}},description:s}}var Pe=class{get description(){return this._def.description}_getType(r){return Bn(r.data)}_getOrReturnCtx(r,n){return n||{common:r.parent.common,data:r.data,parsedType:Bn(r.data),schemaErrorMap:this._def.errorMap,path:r.path,parent:r.parent}}_processInputParams(r){return{status:new kt,ctx:{common:r.parent.common,data:r.data,parsedType:Bn(r.data),schemaErrorMap:this._def.errorMap,path:r.path,parent:r.parent}}}_parseSync(r){let n=this._parse(r);if(Ko(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(r){let n=this._parse(r);return Promise.resolve(n)}parse(r,n){let a=this.safeParse(r,n);if(a.success)return a.data;throw a.error}safeParse(r,n){var a;let s={common:{issues:[],async:(a=n==null?void 0:n.async)!==null&&a!==void 0?a:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:r,parsedType:Bn(r)},o=this._parseSync({data:r,path:s.path,parent:s});return _g(s,o)}"~validate"(r){var n,a;let s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:r,parsedType:Bn(r)};if(!this["~standard"].async)try{let o=this._parseSync({data:r,path:[],parent:s});return Wa(o)?{value:o.value}:{issues:s.common.issues}}catch(o){!((a=(n=o==null?void 0:o.message)===null||n===void 0?void 0:n.toLowerCase())===null||a===void 0)&&a.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:r,path:[],parent:s}).then(o=>Wa(o)?{value:o.value}:{issues:s.common.issues})}async parseAsync(r,n){let a=await this.safeParseAsync(r,n);if(a.success)return a.data;throw a.error}async safeParseAsync(r,n){let a={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:r,parsedType:Bn(r)},s=this._parse({data:r,path:a.path,parent:a}),o=await(Ko(s)?s:Promise.resolve(s));return _g(a,o)}refine(r,n){let a=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,o)=>{let c=r(s),p=()=>o.addIssue(G({code:X.custom},a(s)));return typeof Promise<"u"&&c instanceof Promise?c.then(f=>f?!0:(p(),!1)):c?!0:(p(),!1)})}refinement(r,n){return this._refinement((a,s)=>r(a)?!0:(s.addIssue(typeof n=="function"?n(a,s):n),!1))}_refinement(r){return new ur({schema:this,typeName:ye.ZodEffects,effect:{type:"refinement",refinement:r}})}superRefine(r){return this._refinement(r)}constructor(r){this.spa=this.safeParseAsync,this._def=r,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Mr.create(this,this._def)}nullable(){return hn.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return cr.create(this)}promise(){return ia.create(this,this._def)}or(r){return Za.create([this,r],this._def)}and(r){return Ya.create(this,r,this._def)}transform(r){return new ur(fe(G({},Ae(this._def)),{schema:this,typeName:ye.ZodEffects,effect:{type:"transform",transform:r}}))}default(r){let n=typeof r=="function"?r:()=>r;return new ns(fe(G({},Ae(this._def)),{innerType:this,defaultValue:n,typeName:ye.ZodDefault}))}brand(){return new Xo(G({typeName:ye.ZodBranded,type:this},Ae(this._def)))}catch(r){let n=typeof r=="function"?r:()=>r;return new as(fe(G({},Ae(this._def)),{innerType:this,catchValue:n,typeName:ye.ZodCatch}))}describe(r){let n=this.constructor;return new n(fe(G({},this._def),{description:r}))}pipe(r){return ss.create(this,r)}readonly(){return os.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},Dy=/^c[^\s-]{8,}$/i,Gy=/^[0-9a-z]+$/,Hy=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Fy=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Qy=/^[a-z0-9_-]{21}$/i,qy=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,jy=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Vy=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Wy="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",Wu,zy=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Ky=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Xy=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Zy=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Yy=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Jy=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Hg="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",ev=new RegExp(`^${Hg}$`);function Fg(t){let r="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?r=`${r}\\.\\d{${t.precision}}`:t.precision==null&&(r=`${r}(\\.\\d+)?`),r}function tv(t){return new RegExp(`^${Fg(t)}$`)}function Qg(t){let r=`${Hg}T${Fg(t)}`,n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),r=`${r}(${n.join("|")})`,new RegExp(`^${r}$`)}function rv(t,r){return!!((r==="v4"||!r)&&zy.test(t)||(r==="v6"||!r)&&Xy.test(t))}function nv(t,r){if(!qy.test(t))return!1;try{let[n]=t.split("."),a=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(a));return!(typeof s!="object"||s===null||!s.typ||!s.alg||r&&s.alg!==r)}catch(n){return!1}}function av(t,r){return!!((r==="v4"||!r)&&Ky.test(t)||(r==="v6"||!r)&&Zy.test(t))}var lr=class extends Pe{_parse(r){if(this._def.coerce&&(r.data=String(r.data)),this._getType(r)!==ce.string){let o=this._getOrReturnCtx(r);return se(o,{code:X.invalid_type,expected:ce.string,received:o.parsedType}),Ce}let a=new kt,s;for(let o of this._def.checks)if(o.kind==="min")r.data.length<o.value&&(s=this._getOrReturnCtx(r,s),se(s,{code:X.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),a.dirty());else if(o.kind==="max")r.data.length>o.value&&(s=this._getOrReturnCtx(r,s),se(s,{code:X.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),a.dirty());else if(o.kind==="length"){let c=r.data.length>o.value,p=r.data.length<o.value;(c||p)&&(s=this._getOrReturnCtx(r,s),c?se(s,{code:X.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):p&&se(s,{code:X.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),a.dirty())}else if(o.kind==="email")Vy.test(r.data)||(s=this._getOrReturnCtx(r,s),se(s,{validation:"email",code:X.invalid_string,message:o.message}),a.dirty());else if(o.kind==="emoji")Wu||(Wu=new RegExp(Wy,"u")),Wu.test(r.data)||(s=this._getOrReturnCtx(r,s),se(s,{validation:"emoji",code:X.invalid_string,message:o.message}),a.dirty());else if(o.kind==="uuid")Fy.test(r.data)||(s=this._getOrReturnCtx(r,s),se(s,{validation:"uuid",code:X.invalid_string,message:o.message}),a.dirty());else if(o.kind==="nanoid")Qy.test(r.data)||(s=this._getOrReturnCtx(r,s),se(s,{validation:"nanoid",code:X.invalid_string,message:o.message}),a.dirty());else if(o.kind==="cuid")Dy.test(r.data)||(s=this._getOrReturnCtx(r,s),se(s,{validation:"cuid",code:X.invalid_string,message:o.message}),a.dirty());else if(o.kind==="cuid2")Gy.test(r.data)||(s=this._getOrReturnCtx(r,s),se(s,{validation:"cuid2",code:X.invalid_string,message:o.message}),a.dirty());else if(o.kind==="ulid")Hy.test(r.data)||(s=this._getOrReturnCtx(r,s),se(s,{validation:"ulid",code:X.invalid_string,message:o.message}),a.dirty());else if(o.kind==="url")try{new URL(r.data)}catch(c){s=this._getOrReturnCtx(r,s),se(s,{validation:"url",code:X.invalid_string,message:o.message}),a.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(r.data)||(s=this._getOrReturnCtx(r,s),se(s,{validation:"regex",code:X.invalid_string,message:o.message}),a.dirty())):o.kind==="trim"?r.data=r.data.trim():o.kind==="includes"?r.data.includes(o.value,o.position)||(s=this._getOrReturnCtx(r,s),se(s,{code:X.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),a.dirty()):o.kind==="toLowerCase"?r.data=r.data.toLowerCase():o.kind==="toUpperCase"?r.data=r.data.toUpperCase():o.kind==="startsWith"?r.data.startsWith(o.value)||(s=this._getOrReturnCtx(r,s),se(s,{code:X.invalid_string,validation:{startsWith:o.value},message:o.message}),a.dirty()):o.kind==="endsWith"?r.data.endsWith(o.value)||(s=this._getOrReturnCtx(r,s),se(s,{code:X.invalid_string,validation:{endsWith:o.value},message:o.message}),a.dirty()):o.kind==="datetime"?Qg(o).test(r.data)||(s=this._getOrReturnCtx(r,s),se(s,{code:X.invalid_string,validation:"datetime",message:o.message}),a.dirty()):o.kind==="date"?ev.test(r.data)||(s=this._getOrReturnCtx(r,s),se(s,{code:X.invalid_string,validation:"date",message:o.message}),a.dirty()):o.kind==="time"?tv(o).test(r.data)||(s=this._getOrReturnCtx(r,s),se(s,{code:X.invalid_string,validation:"time",message:o.message}),a.dirty()):o.kind==="duration"?jy.test(r.data)||(s=this._getOrReturnCtx(r,s),se(s,{validation:"duration",code:X.invalid_string,message:o.message}),a.dirty()):o.kind==="ip"?rv(r.data,o.version)||(s=this._getOrReturnCtx(r,s),se(s,{validation:"ip",code:X.invalid_string,message:o.message}),a.dirty()):o.kind==="jwt"?nv(r.data,o.alg)||(s=this._getOrReturnCtx(r,s),se(s,{validation:"jwt",code:X.invalid_string,message:o.message}),a.dirty()):o.kind==="cidr"?av(r.data,o.version)||(s=this._getOrReturnCtx(r,s),se(s,{validation:"cidr",code:X.invalid_string,message:o.message}),a.dirty()):o.kind==="base64"?Yy.test(r.data)||(s=this._getOrReturnCtx(r,s),se(s,{validation:"base64",code:X.invalid_string,message:o.message}),a.dirty()):o.kind==="base64url"?Jy.test(r.data)||(s=this._getOrReturnCtx(r,s),se(s,{validation:"base64url",code:X.invalid_string,message:o.message}),a.dirty()):De.assertNever(o);return{status:a.value,value:r.data}}_regex(r,n,a){return this.refinement(s=>r.test(s),G({validation:n,code:X.invalid_string},pe.errToObj(a)))}_addCheck(r){return new lr(fe(G({},this._def),{checks:[...this._def.checks,r]}))}email(r){return this._addCheck(G({kind:"email"},pe.errToObj(r)))}url(r){return this._addCheck(G({kind:"url"},pe.errToObj(r)))}emoji(r){return this._addCheck(G({kind:"emoji"},pe.errToObj(r)))}uuid(r){return this._addCheck(G({kind:"uuid"},pe.errToObj(r)))}nanoid(r){return this._addCheck(G({kind:"nanoid"},pe.errToObj(r)))}cuid(r){return this._addCheck(G({kind:"cuid"},pe.errToObj(r)))}cuid2(r){return this._addCheck(G({kind:"cuid2"},pe.errToObj(r)))}ulid(r){return this._addCheck(G({kind:"ulid"},pe.errToObj(r)))}base64(r){return this._addCheck(G({kind:"base64"},pe.errToObj(r)))}base64url(r){return this._addCheck(G({kind:"base64url"},pe.errToObj(r)))}jwt(r){return this._addCheck(G({kind:"jwt"},pe.errToObj(r)))}ip(r){return this._addCheck(G({kind:"ip"},pe.errToObj(r)))}cidr(r){return this._addCheck(G({kind:"cidr"},pe.errToObj(r)))}datetime(r){var n,a;return typeof r=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:r}):this._addCheck(G({kind:"datetime",precision:typeof(r==null?void 0:r.precision)>"u"?null:r==null?void 0:r.precision,offset:(n=r==null?void 0:r.offset)!==null&&n!==void 0?n:!1,local:(a=r==null?void 0:r.local)!==null&&a!==void 0?a:!1},pe.errToObj(r==null?void 0:r.message)))}date(r){return this._addCheck({kind:"date",message:r})}time(r){return typeof r=="string"?this._addCheck({kind:"time",precision:null,message:r}):this._addCheck(G({kind:"time",precision:typeof(r==null?void 0:r.precision)>"u"?null:r==null?void 0:r.precision},pe.errToObj(r==null?void 0:r.message)))}duration(r){return this._addCheck(G({kind:"duration"},pe.errToObj(r)))}regex(r,n){return this._addCheck(G({kind:"regex",regex:r},pe.errToObj(n)))}includes(r,n){return this._addCheck(G({kind:"includes",value:r,position:n==null?void 0:n.position},pe.errToObj(n==null?void 0:n.message)))}startsWith(r,n){return this._addCheck(G({kind:"startsWith",value:r},pe.errToObj(n)))}endsWith(r,n){return this._addCheck(G({kind:"endsWith",value:r},pe.errToObj(n)))}min(r,n){return this._addCheck(G({kind:"min",value:r},pe.errToObj(n)))}max(r,n){return this._addCheck(G({kind:"max",value:r},pe.errToObj(n)))}length(r,n){return this._addCheck(G({kind:"length",value:r},pe.errToObj(n)))}nonempty(r){return this.min(1,pe.errToObj(r))}trim(){return new lr(fe(G({},this._def),{checks:[...this._def.checks,{kind:"trim"}]}))}toLowerCase(){return new lr(fe(G({},this._def),{checks:[...this._def.checks,{kind:"toLowerCase"}]}))}toUpperCase(){return new lr(fe(G({},this._def),{checks:[...this._def.checks,{kind:"toUpperCase"}]}))}get isDatetime(){return!!this._def.checks.find(r=>r.kind==="datetime")}get isDate(){return!!this._def.checks.find(r=>r.kind==="date")}get isTime(){return!!this._def.checks.find(r=>r.kind==="time")}get isDuration(){return!!this._def.checks.find(r=>r.kind==="duration")}get isEmail(){return!!this._def.checks.find(r=>r.kind==="email")}get isURL(){return!!this._def.checks.find(r=>r.kind==="url")}get isEmoji(){return!!this._def.checks.find(r=>r.kind==="emoji")}get isUUID(){return!!this._def.checks.find(r=>r.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(r=>r.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(r=>r.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(r=>r.kind==="cuid2")}get isULID(){return!!this._def.checks.find(r=>r.kind==="ulid")}get isIP(){return!!this._def.checks.find(r=>r.kind==="ip")}get isCIDR(){return!!this._def.checks.find(r=>r.kind==="cidr")}get isBase64(){return!!this._def.checks.find(r=>r.kind==="base64")}get isBase64url(){return!!this._def.checks.find(r=>r.kind==="base64url")}get minLength(){let r=null;for(let n of this._def.checks)n.kind==="min"&&(r===null||n.value>r)&&(r=n.value);return r}get maxLength(){let r=null;for(let n of this._def.checks)n.kind==="max"&&(r===null||n.value<r)&&(r=n.value);return r}};lr.create=t=>{var r;return new lr(G({checks:[],typeName:ye.ZodString,coerce:(r=t==null?void 0:t.coerce)!==null&&r!==void 0?r:!1},Ae(t)))};function sv(t,r){let n=(t.toString().split(".")[1]||"").length,a=(r.toString().split(".")[1]||"").length,s=n>a?n:a,o=parseInt(t.toFixed(s).replace(".","")),c=parseInt(r.toFixed(s).replace(".",""));return o%c/Math.pow(10,s)}var fn=class extends Pe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(r){if(this._def.coerce&&(r.data=Number(r.data)),this._getType(r)!==ce.number){let o=this._getOrReturnCtx(r);return se(o,{code:X.invalid_type,expected:ce.number,received:o.parsedType}),Ce}let a,s=new kt;for(let o of this._def.checks)o.kind==="int"?De.isInteger(r.data)||(a=this._getOrReturnCtx(r,a),se(a,{code:X.invalid_type,expected:"integer",received:"float",message:o.message}),s.dirty()):o.kind==="min"?(o.inclusive?r.data<o.value:r.data<=o.value)&&(a=this._getOrReturnCtx(r,a),se(a,{code:X.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),s.dirty()):o.kind==="max"?(o.inclusive?r.data>o.value:r.data>=o.value)&&(a=this._getOrReturnCtx(r,a),se(a,{code:X.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),s.dirty()):o.kind==="multipleOf"?sv(r.data,o.value)!==0&&(a=this._getOrReturnCtx(r,a),se(a,{code:X.not_multiple_of,multipleOf:o.value,message:o.message}),s.dirty()):o.kind==="finite"?Number.isFinite(r.data)||(a=this._getOrReturnCtx(r,a),se(a,{code:X.not_finite,message:o.message}),s.dirty()):De.assertNever(o);return{status:s.value,value:r.data}}gte(r,n){return this.setLimit("min",r,!0,pe.toString(n))}gt(r,n){return this.setLimit("min",r,!1,pe.toString(n))}lte(r,n){return this.setLimit("max",r,!0,pe.toString(n))}lt(r,n){return this.setLimit("max",r,!1,pe.toString(n))}setLimit(r,n,a,s){return new fn(fe(G({},this._def),{checks:[...this._def.checks,{kind:r,value:n,inclusive:a,message:pe.toString(s)}]}))}_addCheck(r){return new fn(fe(G({},this._def),{checks:[...this._def.checks,r]}))}int(r){return this._addCheck({kind:"int",message:pe.toString(r)})}positive(r){return this._addCheck({kind:"min",value:0,inclusive:!1,message:pe.toString(r)})}negative(r){return this._addCheck({kind:"max",value:0,inclusive:!1,message:pe.toString(r)})}nonpositive(r){return this._addCheck({kind:"max",value:0,inclusive:!0,message:pe.toString(r)})}nonnegative(r){return this._addCheck({kind:"min",value:0,inclusive:!0,message:pe.toString(r)})}multipleOf(r,n){return this._addCheck({kind:"multipleOf",value:r,message:pe.toString(n)})}finite(r){return this._addCheck({kind:"finite",message:pe.toString(r)})}safe(r){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:pe.toString(r)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:pe.toString(r)})}get minValue(){let r=null;for(let n of this._def.checks)n.kind==="min"&&(r===null||n.value>r)&&(r=n.value);return r}get maxValue(){let r=null;for(let n of this._def.checks)n.kind==="max"&&(r===null||n.value<r)&&(r=n.value);return r}get isInt(){return!!this._def.checks.find(r=>r.kind==="int"||r.kind==="multipleOf"&&De.isInteger(r.value))}get isFinite(){let r=null,n=null;for(let a of this._def.checks){if(a.kind==="finite"||a.kind==="int"||a.kind==="multipleOf")return!0;a.kind==="min"?(n===null||a.value>n)&&(n=a.value):a.kind==="max"&&(r===null||a.value<r)&&(r=a.value)}return Number.isFinite(n)&&Number.isFinite(r)}};fn.create=t=>new fn(G({checks:[],typeName:ye.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1},Ae(t)));var gn=class extends Pe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(r){if(this._def.coerce)try{r.data=BigInt(r.data)}catch(o){return this._getInvalidInput(r)}if(this._getType(r)!==ce.bigint)return this._getInvalidInput(r);let a,s=new kt;for(let o of this._def.checks)o.kind==="min"?(o.inclusive?r.data<o.value:r.data<=o.value)&&(a=this._getOrReturnCtx(r,a),se(a,{code:X.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),s.dirty()):o.kind==="max"?(o.inclusive?r.data>o.value:r.data>=o.value)&&(a=this._getOrReturnCtx(r,a),se(a,{code:X.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),s.dirty()):o.kind==="multipleOf"?r.data%o.value!==BigInt(0)&&(a=this._getOrReturnCtx(r,a),se(a,{code:X.not_multiple_of,multipleOf:o.value,message:o.message}),s.dirty()):De.assertNever(o);return{status:s.value,value:r.data}}_getInvalidInput(r){let n=this._getOrReturnCtx(r);return se(n,{code:X.invalid_type,expected:ce.bigint,received:n.parsedType}),Ce}gte(r,n){return this.setLimit("min",r,!0,pe.toString(n))}gt(r,n){return this.setLimit("min",r,!1,pe.toString(n))}lte(r,n){return this.setLimit("max",r,!0,pe.toString(n))}lt(r,n){return this.setLimit("max",r,!1,pe.toString(n))}setLimit(r,n,a,s){return new gn(fe(G({},this._def),{checks:[...this._def.checks,{kind:r,value:n,inclusive:a,message:pe.toString(s)}]}))}_addCheck(r){return new gn(fe(G({},this._def),{checks:[...this._def.checks,r]}))}positive(r){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:pe.toString(r)})}negative(r){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:pe.toString(r)})}nonpositive(r){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:pe.toString(r)})}nonnegative(r){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:pe.toString(r)})}multipleOf(r,n){return this._addCheck({kind:"multipleOf",value:r,message:pe.toString(n)})}get minValue(){let r=null;for(let n of this._def.checks)n.kind==="min"&&(r===null||n.value>r)&&(r=n.value);return r}get maxValue(){let r=null;for(let n of this._def.checks)n.kind==="max"&&(r===null||n.value<r)&&(r=n.value);return r}};gn.create=t=>{var r;return new gn(G({checks:[],typeName:ye.ZodBigInt,coerce:(r=t==null?void 0:t.coerce)!==null&&r!==void 0?r:!1},Ae(t)))};var za=class extends Pe{_parse(r){if(this._def.coerce&&(r.data=!!r.data),this._getType(r)!==ce.boolean){let a=this._getOrReturnCtx(r);return se(a,{code:X.invalid_type,expected:ce.boolean,received:a.parsedType}),Ce}return zt(r.data)}};za.create=t=>new za(G({typeName:ye.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1},Ae(t)));var In=class extends Pe{_parse(r){if(this._def.coerce&&(r.data=new Date(r.data)),this._getType(r)!==ce.date){let o=this._getOrReturnCtx(r);return se(o,{code:X.invalid_type,expected:ce.date,received:o.parsedType}),Ce}if(isNaN(r.data.getTime())){let o=this._getOrReturnCtx(r);return se(o,{code:X.invalid_date}),Ce}let a=new kt,s;for(let o of this._def.checks)o.kind==="min"?r.data.getTime()<o.value&&(s=this._getOrReturnCtx(r,s),se(s,{code:X.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),a.dirty()):o.kind==="max"?r.data.getTime()>o.value&&(s=this._getOrReturnCtx(r,s),se(s,{code:X.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),a.dirty()):De.assertNever(o);return{status:a.value,value:new Date(r.data.getTime())}}_addCheck(r){return new In(fe(G({},this._def),{checks:[...this._def.checks,r]}))}min(r,n){return this._addCheck({kind:"min",value:r.getTime(),message:pe.toString(n)})}max(r,n){return this._addCheck({kind:"max",value:r.getTime(),message:pe.toString(n)})}get minDate(){let r=null;for(let n of this._def.checks)n.kind==="min"&&(r===null||n.value>r)&&(r=n.value);return r!=null?new Date(r):null}get maxDate(){let r=null;for(let n of this._def.checks)n.kind==="max"&&(r===null||n.value<r)&&(r=n.value);return r!=null?new Date(r):null}};In.create=t=>new In(G({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:ye.ZodDate},Ae(t)));var Qs=class extends Pe{_parse(r){if(this._getType(r)!==ce.symbol){let a=this._getOrReturnCtx(r);return se(a,{code:X.invalid_type,expected:ce.symbol,received:a.parsedType}),Ce}return zt(r.data)}};Qs.create=t=>new Qs(G({typeName:ye.ZodSymbol},Ae(t)));var Ka=class extends Pe{_parse(r){if(this._getType(r)!==ce.undefined){let a=this._getOrReturnCtx(r);return se(a,{code:X.invalid_type,expected:ce.undefined,received:a.parsedType}),Ce}return zt(r.data)}};Ka.create=t=>new Ka(G({typeName:ye.ZodUndefined},Ae(t)));var Xa=class extends Pe{_parse(r){if(this._getType(r)!==ce.null){let a=this._getOrReturnCtx(r);return se(a,{code:X.invalid_type,expected:ce.null,received:a.parsedType}),Ce}return zt(r.data)}};Xa.create=t=>new Xa(G({typeName:ye.ZodNull},Ae(t)));var oa=class extends Pe{constructor(){super(...arguments),this._any=!0}_parse(r){return zt(r.data)}};oa.create=t=>new oa(G({typeName:ye.ZodAny},Ae(t)));var Rn=class extends Pe{constructor(){super(...arguments),this._unknown=!0}_parse(r){return zt(r.data)}};Rn.create=t=>new Rn(G({typeName:ye.ZodUnknown},Ae(t)));var Xr=class extends Pe{_parse(r){let n=this._getOrReturnCtx(r);return se(n,{code:X.invalid_type,expected:ce.never,received:n.parsedType}),Ce}};Xr.create=t=>new Xr(G({typeName:ye.ZodNever},Ae(t)));var qs=class extends Pe{_parse(r){if(this._getType(r)!==ce.undefined){let a=this._getOrReturnCtx(r);return se(a,{code:X.invalid_type,expected:ce.void,received:a.parsedType}),Ce}return zt(r.data)}};qs.create=t=>new qs(G({typeName:ye.ZodVoid},Ae(t)));var cr=class extends Pe{_parse(r){let{ctx:n,status:a}=this._processInputParams(r),s=this._def;if(n.parsedType!==ce.array)return se(n,{code:X.invalid_type,expected:ce.array,received:n.parsedType}),Ce;if(s.exactLength!==null){let c=n.data.length>s.exactLength.value,p=n.data.length<s.exactLength.value;(c||p)&&(se(n,{code:c?X.too_big:X.too_small,minimum:p?s.exactLength.value:void 0,maximum:c?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),a.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(se(n,{code:X.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),a.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(se(n,{code:X.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),a.dirty()),n.common.async)return Promise.all([...n.data].map((c,p)=>s.type._parseAsync(new Sr(n,c,n.path,p)))).then(c=>kt.mergeArray(a,c));let o=[...n.data].map((c,p)=>s.type._parseSync(new Sr(n,c,n.path,p)));return kt.mergeArray(a,o)}get element(){return this._def.type}min(r,n){return new cr(fe(G({},this._def),{minLength:{value:r,message:pe.toString(n)}}))}max(r,n){return new cr(fe(G({},this._def),{maxLength:{value:r,message:pe.toString(n)}}))}length(r,n){return new cr(fe(G({},this._def),{exactLength:{value:r,message:pe.toString(n)}}))}nonempty(r){return this.min(1,r)}};cr.create=(t,r)=>new cr(G({type:t,minLength:null,maxLength:null,exactLength:null,typeName:ye.ZodArray},Ae(r)));function Gs(t){if(t instanceof st){let r={};for(let n in t.shape){let a=t.shape[n];r[n]=Mr.create(Gs(a))}return new st(fe(G({},t._def),{shape:()=>r}))}else return t instanceof cr?new cr(fe(G({},t._def),{type:Gs(t.element)})):t instanceof Mr?Mr.create(Gs(t.unwrap())):t instanceof hn?hn.create(Gs(t.unwrap())):t instanceof Tr?Tr.create(t.items.map(r=>Gs(r))):t}var st=class extends Pe{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let r=this._def.shape(),n=De.objectKeys(r);return this._cached={shape:r,keys:n}}_parse(r){if(this._getType(r)!==ce.object){let g=this._getOrReturnCtx(r);return se(g,{code:X.invalid_type,expected:ce.object,received:g.parsedType}),Ce}let{status:a,ctx:s}=this._processInputParams(r),{shape:o,keys:c}=this._getCached(),p=[];if(!(this._def.catchall instanceof Xr&&this._def.unknownKeys==="strip"))for(let g in s.data)c.includes(g)||p.push(g);let f=[];for(let g of c){let h=o[g],b=s.data[g];f.push({key:{status:"valid",value:g},value:h._parse(new Sr(s,b,s.path,g)),alwaysSet:g in s.data})}if(this._def.catchall instanceof Xr){let g=this._def.unknownKeys;if(g==="passthrough")for(let h of p)f.push({key:{status:"valid",value:h},value:{status:"valid",value:s.data[h]}});else if(g==="strict")p.length>0&&(se(s,{code:X.unrecognized_keys,keys:p}),a.dirty());else if(g!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let g=this._def.catchall;for(let h of p){let b=s.data[h];f.push({key:{status:"valid",value:h},value:g._parse(new Sr(s,b,s.path,h)),alwaysSet:h in s.data})}}return s.common.async?Promise.resolve().then(async()=>{let g=[];for(let h of f){let b=await h.key,y=await h.value;g.push({key:b,value:y,alwaysSet:h.alwaysSet})}return g}).then(g=>kt.mergeObjectSync(a,g)):kt.mergeObjectSync(a,f)}get shape(){return this._def.shape()}strict(r){return pe.errToObj,new st(G(fe(G({},this._def),{unknownKeys:"strict"}),r!==void 0?{errorMap:(n,a)=>{var s,o,c,p;let f=(c=(o=(s=this._def).errorMap)===null||o===void 0?void 0:o.call(s,n,a).message)!==null&&c!==void 0?c:a.defaultError;return n.code==="unrecognized_keys"?{message:(p=pe.errToObj(r).message)!==null&&p!==void 0?p:f}:{message:f}}}:{}))}strip(){return new st(fe(G({},this._def),{unknownKeys:"strip"}))}passthrough(){return new st(fe(G({},this._def),{unknownKeys:"passthrough"}))}extend(r){return new st(fe(G({},this._def),{shape:()=>G(G({},this._def.shape()),r)}))}merge(r){return new st({unknownKeys:r._def.unknownKeys,catchall:r._def.catchall,shape:()=>G(G({},this._def.shape()),r._def.shape()),typeName:ye.ZodObject})}setKey(r,n){return this.augment({[r]:n})}catchall(r){return new st(fe(G({},this._def),{catchall:r}))}pick(r){let n={};return De.objectKeys(r).forEach(a=>{r[a]&&this.shape[a]&&(n[a]=this.shape[a])}),new st(fe(G({},this._def),{shape:()=>n}))}omit(r){let n={};return De.objectKeys(this.shape).forEach(a=>{r[a]||(n[a]=this.shape[a])}),new st(fe(G({},this._def),{shape:()=>n}))}deepPartial(){return Gs(this)}partial(r){let n={};return De.objectKeys(this.shape).forEach(a=>{let s=this.shape[a];r&&!r[a]?n[a]=s:n[a]=s.optional()}),new st(fe(G({},this._def),{shape:()=>n}))}required(r){let n={};return De.objectKeys(this.shape).forEach(a=>{if(r&&!r[a])n[a]=this.shape[a];else{let o=this.shape[a];for(;o instanceof Mr;)o=o._def.innerType;n[a]=o}}),new st(fe(G({},this._def),{shape:()=>n}))}keyof(){return qg(De.objectKeys(this.shape))}};st.create=(t,r)=>new st(G({shape:()=>t,unknownKeys:"strip",catchall:Xr.create(),typeName:ye.ZodObject},Ae(r)));st.strictCreate=(t,r)=>new st(G({shape:()=>t,unknownKeys:"strict",catchall:Xr.create(),typeName:ye.ZodObject},Ae(r)));st.lazycreate=(t,r)=>new st(G({shape:t,unknownKeys:"strip",catchall:Xr.create(),typeName:ye.ZodObject},Ae(r)));var Za=class extends Pe{_parse(r){let{ctx:n}=this._processInputParams(r),a=this._def.options;function s(o){for(let p of o)if(p.result.status==="valid")return p.result;for(let p of o)if(p.result.status==="dirty")return n.common.issues.push(...p.ctx.common.issues),p.result;let c=o.map(p=>new Wt(p.ctx.common.issues));return se(n,{code:X.invalid_union,unionErrors:c}),Ce}if(n.common.async)return Promise.all(a.map(async o=>{let c=fe(G({},n),{common:fe(G({},n.common),{issues:[]}),parent:null});return{result:await o._parseAsync({data:n.data,path:n.path,parent:c}),ctx:c}})).then(s);{let o,c=[];for(let f of a){let g=fe(G({},n),{common:fe(G({},n.common),{issues:[]}),parent:null}),h=f._parseSync({data:n.data,path:n.path,parent:g});if(h.status==="valid")return h;h.status==="dirty"&&!o&&(o={result:h,ctx:g}),g.common.issues.length&&c.push(g.common.issues)}if(o)return n.common.issues.push(...o.ctx.common.issues),o.result;let p=c.map(f=>new Wt(f));return se(n,{code:X.invalid_union,unionErrors:p}),Ce}}get options(){return this._def.options}};Za.create=(t,r)=>new Za(G({options:t,typeName:ye.ZodUnion},Ae(r)));var Un=t=>t instanceof es?Un(t.schema):t instanceof ur?Un(t.innerType()):t instanceof ts?[t.value]:t instanceof mn?t.options:t instanceof rs?De.objectValues(t.enum):t instanceof ns?Un(t._def.innerType):t instanceof Ka?[void 0]:t instanceof Xa?[null]:t instanceof Mr?[void 0,...Un(t.unwrap())]:t instanceof hn?[null,...Un(t.unwrap())]:t instanceof Xo||t instanceof os?Un(t.unwrap()):t instanceof as?Un(t._def.innerType):[],js=class extends Pe{_parse(r){let{ctx:n}=this._processInputParams(r);if(n.parsedType!==ce.object)return se(n,{code:X.invalid_type,expected:ce.object,received:n.parsedType}),Ce;let a=this.discriminator,s=n.data[a],o=this.optionsMap.get(s);return o?n.common.async?o._parseAsync({data:n.data,path:n.path,parent:n}):o._parseSync({data:n.data,path:n.path,parent:n}):(se(n,{code:X.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[a]}),Ce)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(r,n,a){let s=new Map;for(let o of n){let c=Un(o.shape[r]);if(!c.length)throw new Error(`A discriminator value for key \`${r}\` could not be extracted from all schema options`);for(let p of c){if(s.has(p))throw new Error(`Discriminator property ${String(r)} has duplicate value ${String(p)}`);s.set(p,o)}}return new js(G({typeName:ye.ZodDiscriminatedUnion,discriminator:r,options:n,optionsMap:s},Ae(a)))}};function Zu(t,r){let n=Bn(t),a=Bn(r);if(t===r)return{valid:!0,data:t};if(n===ce.object&&a===ce.object){let s=De.objectKeys(r),o=De.objectKeys(t).filter(p=>s.indexOf(p)!==-1),c=G(G({},t),r);for(let p of o){let f=Zu(t[p],r[p]);if(!f.valid)return{valid:!1};c[p]=f.data}return{valid:!0,data:c}}else if(n===ce.array&&a===ce.array){if(t.length!==r.length)return{valid:!1};let s=[];for(let o=0;o<t.length;o++){let c=t[o],p=r[o],f=Zu(c,p);if(!f.valid)return{valid:!1};s.push(f.data)}return{valid:!0,data:s}}else return n===ce.date&&a===ce.date&&+t==+r?{valid:!0,data:t}:{valid:!1}}var Ya=class extends Pe{_parse(r){let{status:n,ctx:a}=this._processInputParams(r),s=(o,c)=>{if(Ku(o)||Ku(c))return Ce;let p=Zu(o.value,c.value);return p.valid?((Xu(o)||Xu(c))&&n.dirty(),{status:n.value,value:p.data}):(se(a,{code:X.invalid_intersection_types}),Ce)};return a.common.async?Promise.all([this._def.left._parseAsync({data:a.data,path:a.path,parent:a}),this._def.right._parseAsync({data:a.data,path:a.path,parent:a})]).then(([o,c])=>s(o,c)):s(this._def.left._parseSync({data:a.data,path:a.path,parent:a}),this._def.right._parseSync({data:a.data,path:a.path,parent:a}))}};Ya.create=(t,r,n)=>new Ya(G({left:t,right:r,typeName:ye.ZodIntersection},Ae(n)));var Tr=class extends Pe{_parse(r){let{status:n,ctx:a}=this._processInputParams(r);if(a.parsedType!==ce.array)return se(a,{code:X.invalid_type,expected:ce.array,received:a.parsedType}),Ce;if(a.data.length<this._def.items.length)return se(a,{code:X.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ce;!this._def.rest&&a.data.length>this._def.items.length&&(se(a,{code:X.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());let o=[...a.data].map((c,p)=>{let f=this._def.items[p]||this._def.rest;return f?f._parse(new Sr(a,c,a.path,p)):null}).filter(c=>!!c);return a.common.async?Promise.all(o).then(c=>kt.mergeArray(n,c)):kt.mergeArray(n,o)}get items(){return this._def.items}rest(r){return new Tr(fe(G({},this._def),{rest:r}))}};Tr.create=(t,r)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Tr(G({items:t,typeName:ye.ZodTuple,rest:null},Ae(r)))};var Ja=class extends Pe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(r){let{status:n,ctx:a}=this._processInputParams(r);if(a.parsedType!==ce.object)return se(a,{code:X.invalid_type,expected:ce.object,received:a.parsedType}),Ce;let s=[],o=this._def.keyType,c=this._def.valueType;for(let p in a.data)s.push({key:o._parse(new Sr(a,p,a.path,p)),value:c._parse(new Sr(a,a.data[p],a.path,p)),alwaysSet:p in a.data});return a.common.async?kt.mergeObjectAsync(n,s):kt.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(r,n,a){return n instanceof Pe?new Ja(G({keyType:r,valueType:n,typeName:ye.ZodRecord},Ae(a))):new Ja(G({keyType:lr.create(),valueType:r,typeName:ye.ZodRecord},Ae(n)))}},Vs=class extends Pe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(r){let{status:n,ctx:a}=this._processInputParams(r);if(a.parsedType!==ce.map)return se(a,{code:X.invalid_type,expected:ce.map,received:a.parsedType}),Ce;let s=this._def.keyType,o=this._def.valueType,c=[...a.data.entries()].map(([p,f],g)=>({key:s._parse(new Sr(a,p,a.path,[g,"key"])),value:o._parse(new Sr(a,f,a.path,[g,"value"]))}));if(a.common.async){let p=new Map;return Promise.resolve().then(async()=>{for(let f of c){let g=await f.key,h=await f.value;if(g.status==="aborted"||h.status==="aborted")return Ce;(g.status==="dirty"||h.status==="dirty")&&n.dirty(),p.set(g.value,h.value)}return{status:n.value,value:p}})}else{let p=new Map;for(let f of c){let g=f.key,h=f.value;if(g.status==="aborted"||h.status==="aborted")return Ce;(g.status==="dirty"||h.status==="dirty")&&n.dirty(),p.set(g.value,h.value)}return{status:n.value,value:p}}}};Vs.create=(t,r,n)=>new Vs(G({valueType:r,keyType:t,typeName:ye.ZodMap},Ae(n)));var Nn=class extends Pe{_parse(r){let{status:n,ctx:a}=this._processInputParams(r);if(a.parsedType!==ce.set)return se(a,{code:X.invalid_type,expected:ce.set,received:a.parsedType}),Ce;let s=this._def;s.minSize!==null&&a.data.size<s.minSize.value&&(se(a,{code:X.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&a.data.size>s.maxSize.value&&(se(a,{code:X.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());let o=this._def.valueType;function c(f){let g=new Set;for(let h of f){if(h.status==="aborted")return Ce;h.status==="dirty"&&n.dirty(),g.add(h.value)}return{status:n.value,value:g}}let p=[...a.data.values()].map((f,g)=>o._parse(new Sr(a,f,a.path,g)));return a.common.async?Promise.all(p).then(f=>c(f)):c(p)}min(r,n){return new Nn(fe(G({},this._def),{minSize:{value:r,message:pe.toString(n)}}))}max(r,n){return new Nn(fe(G({},this._def),{maxSize:{value:r,message:pe.toString(n)}}))}size(r,n){return this.min(r,n).max(r,n)}nonempty(r){return this.min(1,r)}};Nn.create=(t,r)=>new Nn(G({valueType:t,minSize:null,maxSize:null,typeName:ye.ZodSet},Ae(r)));var sa=class extends Pe{constructor(){super(...arguments),this.validate=this.implement}_parse(r){let{ctx:n}=this._processInputParams(r);if(n.parsedType!==ce.function)return se(n,{code:X.invalid_type,expected:ce.function,received:n.parsedType}),Ce;function a(p,f){return Al({data:p,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Ll(),Fs].filter(g=>!!g),issueData:{code:X.invalid_arguments,argumentsError:f}})}function s(p,f){return Al({data:p,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Ll(),Fs].filter(g=>!!g),issueData:{code:X.invalid_return_type,returnTypeError:f}})}let o={errorMap:n.common.contextualErrorMap},c=n.data;if(this._def.returns instanceof ia){let p=this;return zt(async function(...f){let g=new Wt([]),h=await p._def.args.parseAsync(f,o).catch(C=>{throw g.addIssue(a(f,C)),g}),b=await Reflect.apply(c,this,h);return await p._def.returns._def.type.parseAsync(b,o).catch(C=>{throw g.addIssue(s(b,C)),g})})}else{let p=this;return zt(function(...f){let g=p._def.args.safeParse(f,o);if(!g.success)throw new Wt([a(f,g.error)]);let h=Reflect.apply(c,this,g.data),b=p._def.returns.safeParse(h,o);if(!b.success)throw new Wt([s(h,b.error)]);return b.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...r){return new sa(fe(G({},this._def),{args:Tr.create(r).rest(Rn.create())}))}returns(r){return new sa(fe(G({},this._def),{returns:r}))}implement(r){return this.parse(r)}strictImplement(r){return this.parse(r)}static create(r,n,a){return new sa(G({args:r||Tr.create([]).rest(Rn.create()),returns:n||Rn.create(),typeName:ye.ZodFunction},Ae(a)))}},es=class extends Pe{get schema(){return this._def.getter()}_parse(r){let{ctx:n}=this._processInputParams(r);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}};es.create=(t,r)=>new es(G({getter:t,typeName:ye.ZodLazy},Ae(r)));var ts=class extends Pe{_parse(r){if(r.data!==this._def.value){let n=this._getOrReturnCtx(r);return se(n,{received:n.data,code:X.invalid_literal,expected:this._def.value}),Ce}return{status:"valid",value:r.data}}get value(){return this._def.value}};ts.create=(t,r)=>new ts(G({value:t,typeName:ye.ZodLiteral},Ae(r)));function qg(t,r){return new mn(G({values:t,typeName:ye.ZodEnum},Ae(r)))}var mn=class extends Pe{constructor(){super(...arguments),Wo.set(this,void 0)}_parse(r){if(typeof r.data!="string"){let n=this._getOrReturnCtx(r),a=this._def.values;return se(n,{expected:De.joinValues(a),received:n.parsedType,code:X.invalid_type}),Ce}if(Pl(this,Wo,"f")||Gg(this,Wo,new Set(this._def.values),"f"),!Pl(this,Wo,"f").has(r.data)){let n=this._getOrReturnCtx(r),a=this._def.values;return se(n,{received:n.data,code:X.invalid_enum_value,options:a}),Ce}return zt(r.data)}get options(){return this._def.values}get enum(){let r={};for(let n of this._def.values)r[n]=n;return r}get Values(){let r={};for(let n of this._def.values)r[n]=n;return r}get Enum(){let r={};for(let n of this._def.values)r[n]=n;return r}extract(r,n=this._def){return mn.create(r,G(G({},this._def),n))}exclude(r,n=this._def){return mn.create(this.options.filter(a=>!r.includes(a)),G(G({},this._def),n))}};Wo=new WeakMap;mn.create=qg;var rs=class extends Pe{constructor(){super(...arguments),zo.set(this,void 0)}_parse(r){let n=De.getValidEnumValues(this._def.values),a=this._getOrReturnCtx(r);if(a.parsedType!==ce.string&&a.parsedType!==ce.number){let s=De.objectValues(n);return se(a,{expected:De.joinValues(s),received:a.parsedType,code:X.invalid_type}),Ce}if(Pl(this,zo,"f")||Gg(this,zo,new Set(De.getValidEnumValues(this._def.values)),"f"),!Pl(this,zo,"f").has(r.data)){let s=De.objectValues(n);return se(a,{received:a.data,code:X.invalid_enum_value,options:s}),Ce}return zt(r.data)}get enum(){return this._def.values}};zo=new WeakMap;rs.create=(t,r)=>new rs(G({values:t,typeName:ye.ZodNativeEnum},Ae(r)));var ia=class extends Pe{unwrap(){return this._def.type}_parse(r){let{ctx:n}=this._processInputParams(r);if(n.parsedType!==ce.promise&&n.common.async===!1)return se(n,{code:X.invalid_type,expected:ce.promise,received:n.parsedType}),Ce;let a=n.parsedType===ce.promise?n.data:Promise.resolve(n.data);return zt(a.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}};ia.create=(t,r)=>new ia(G({type:t,typeName:ye.ZodPromise},Ae(r)));var ur=class extends Pe{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ye.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(r){let{status:n,ctx:a}=this._processInputParams(r),s=this._def.effect||null,o={addIssue:c=>{se(a,c),c.fatal?n.abort():n.dirty()},get path(){return a.path}};if(o.addIssue=o.addIssue.bind(o),s.type==="preprocess"){let c=s.transform(a.data,o);if(a.common.async)return Promise.resolve(c).then(async p=>{if(n.value==="aborted")return Ce;let f=await this._def.schema._parseAsync({data:p,path:a.path,parent:a});return f.status==="aborted"?Ce:f.status==="dirty"||n.value==="dirty"?Hs(f.value):f});{if(n.value==="aborted")return Ce;let p=this._def.schema._parseSync({data:c,path:a.path,parent:a});return p.status==="aborted"?Ce:p.status==="dirty"||n.value==="dirty"?Hs(p.value):p}}if(s.type==="refinement"){let c=p=>{let f=s.refinement(p,o);if(a.common.async)return Promise.resolve(f);if(f instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return p};if(a.common.async===!1){let p=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});return p.status==="aborted"?Ce:(p.status==="dirty"&&n.dirty(),c(p.value),{status:n.value,value:p.value})}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(p=>p.status==="aborted"?Ce:(p.status==="dirty"&&n.dirty(),c(p.value).then(()=>({status:n.value,value:p.value}))))}if(s.type==="transform")if(a.common.async===!1){let c=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});if(!Wa(c))return c;let p=s.transform(c.value,o);if(p instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:p}}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(c=>Wa(c)?Promise.resolve(s.transform(c.value,o)).then(p=>({status:n.value,value:p})):c);De.assertNever(s)}};ur.create=(t,r,n)=>new ur(G({schema:t,typeName:ye.ZodEffects,effect:r},Ae(n)));ur.createWithPreprocess=(t,r,n)=>new ur(G({schema:r,effect:{type:"preprocess",transform:t},typeName:ye.ZodEffects},Ae(n)));var Mr=class extends Pe{_parse(r){return this._getType(r)===ce.undefined?zt(void 0):this._def.innerType._parse(r)}unwrap(){return this._def.innerType}};Mr.create=(t,r)=>new Mr(G({innerType:t,typeName:ye.ZodOptional},Ae(r)));var hn=class extends Pe{_parse(r){return this._getType(r)===ce.null?zt(null):this._def.innerType._parse(r)}unwrap(){return this._def.innerType}};hn.create=(t,r)=>new hn(G({innerType:t,typeName:ye.ZodNullable},Ae(r)));var ns=class extends Pe{_parse(r){let{ctx:n}=this._processInputParams(r),a=n.data;return n.parsedType===ce.undefined&&(a=this._def.defaultValue()),this._def.innerType._parse({data:a,path:n.path,parent:n})}removeDefault(){return this._def.innerType}};ns.create=(t,r)=>new ns(G({innerType:t,typeName:ye.ZodDefault,defaultValue:typeof r.default=="function"?r.default:()=>r.default},Ae(r)));var as=class extends Pe{_parse(r){let{ctx:n}=this._processInputParams(r),a=fe(G({},n),{common:fe(G({},n.common),{issues:[]})}),s=this._def.innerType._parse({data:a.data,path:a.path,parent:G({},a)});return Ko(s)?s.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Wt(a.common.issues)},input:a.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Wt(a.common.issues)},input:a.data})}}removeCatch(){return this._def.innerType}};as.create=(t,r)=>new as(G({innerType:t,typeName:ye.ZodCatch,catchValue:typeof r.catch=="function"?r.catch:()=>r.catch},Ae(r)));var Ws=class extends Pe{_parse(r){if(this._getType(r)!==ce.nan){let a=this._getOrReturnCtx(r);return se(a,{code:X.invalid_type,expected:ce.nan,received:a.parsedType}),Ce}return{status:"valid",value:r.data}}};Ws.create=t=>new Ws(G({typeName:ye.ZodNaN},Ae(t)));var ov=Symbol("zod_brand"),Xo=class extends Pe{_parse(r){let{ctx:n}=this._processInputParams(r),a=n.data;return this._def.type._parse({data:a,path:n.path,parent:n})}unwrap(){return this._def.type}},ss=class extends Pe{_parse(r){let{status:n,ctx:a}=this._processInputParams(r);if(a.common.async)return(async()=>{let o=await this._def.in._parseAsync({data:a.data,path:a.path,parent:a});return o.status==="aborted"?Ce:o.status==="dirty"?(n.dirty(),Hs(o.value)):this._def.out._parseAsync({data:o.value,path:a.path,parent:a})})();{let s=this._def.in._parseSync({data:a.data,path:a.path,parent:a});return s.status==="aborted"?Ce:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:a.path,parent:a})}}static create(r,n){return new ss({in:r,out:n,typeName:ye.ZodPipeline})}},os=class extends Pe{_parse(r){let n=this._def.innerType._parse(r),a=s=>(Wa(s)&&(s.value=Object.freeze(s.value)),s);return Ko(n)?n.then(s=>a(s)):a(n)}unwrap(){return this._def.innerType}};os.create=(t,r)=>new os(G({innerType:t,typeName:ye.ZodReadonly},Ae(r)));function jg(t,r={},n){return t?oa.create().superRefine((a,s)=>{var o,c;if(!t(a)){let p=typeof r=="function"?r(a):typeof r=="string"?{message:r}:r,f=(c=(o=p.fatal)!==null&&o!==void 0?o:n)!==null&&c!==void 0?c:!0,g=typeof p=="string"?{message:p}:p;s.addIssue(fe(G({code:"custom"},g),{fatal:f}))}}):oa.create()}var iv={object:st.lazycreate},ye;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(ye||(ye={}));var lv=(t,r={message:`Input not instance of ${t.name}`})=>jg(n=>n instanceof t,r),Vg=lr.create,Wg=fn.create,cv=Ws.create,uv=gn.create,zg=za.create,dv=In.create,pv=Qs.create,fv=Ka.create,gv=Xa.create,mv=oa.create,hv=Rn.create,bv=Xr.create,yv=qs.create,vv=cr.create,Cv=st.create,wv=st.strictCreate,xv=Za.create,Mv=js.create,Sv=Ya.create,Tv=Tr.create,kv=Ja.create,Lv=Vs.create,Av=Nn.create,Pv=sa.create,Ev=es.create,Ov=ts.create,Uv=mn.create,Bv=rs.create,Rv=ia.create,$g=ur.create,Iv=Mr.create,Nv=hn.create,_v=ur.createWithPreprocess,$v=ss.create,Dv=()=>Vg().optional(),Gv=()=>Wg().optional(),Hv=()=>zg().optional(),Fv={string:t=>lr.create(fe(G({},t),{coerce:!0})),number:t=>fn.create(fe(G({},t),{coerce:!0})),boolean:t=>za.create(fe(G({},t),{coerce:!0})),bigint:t=>gn.create(fe(G({},t),{coerce:!0})),date:t=>In.create(fe(G({},t),{coerce:!0}))},Qv=Ce,v=Object.freeze({__proto__:null,defaultErrorMap:Fs,setErrorMap:_y,getErrorMap:Ll,makeIssue:Al,EMPTY_PATH:$y,addIssueToContext:se,ParseStatus:kt,INVALID:Ce,DIRTY:Hs,OK:zt,isAborted:Ku,isDirty:Xu,isValid:Wa,isAsync:Ko,get util(){return De},get objectUtil(){return zu},ZodParsedType:ce,getParsedType:Bn,ZodType:Pe,datetimeRegex:Qg,ZodString:lr,ZodNumber:fn,ZodBigInt:gn,ZodBoolean:za,ZodDate:In,ZodSymbol:Qs,ZodUndefined:Ka,ZodNull:Xa,ZodAny:oa,ZodUnknown:Rn,ZodNever:Xr,ZodVoid:qs,ZodArray:cr,ZodObject:st,ZodUnion:Za,ZodDiscriminatedUnion:js,ZodIntersection:Ya,ZodTuple:Tr,ZodRecord:Ja,ZodMap:Vs,ZodSet:Nn,ZodFunction:sa,ZodLazy:es,ZodLiteral:ts,ZodEnum:mn,ZodNativeEnum:rs,ZodPromise:ia,ZodEffects:ur,ZodTransformer:ur,ZodOptional:Mr,ZodNullable:hn,ZodDefault:ns,ZodCatch:as,ZodNaN:Ws,BRAND:ov,ZodBranded:Xo,ZodPipeline:ss,ZodReadonly:os,custom:jg,Schema:Pe,ZodSchema:Pe,late:iv,get ZodFirstPartyTypeKind(){return ye},coerce:Fv,any:mv,array:vv,bigint:uv,boolean:zg,date:dv,discriminatedUnion:Mv,effect:$g,enum:Uv,function:Pv,instanceof:lv,intersection:Sv,lazy:Ev,literal:Ov,map:Lv,nan:cv,nativeEnum:Bv,never:bv,null:gv,nullable:Nv,number:Wg,object:Cv,oboolean:Hv,onumber:Gv,optional:Iv,ostring:Dv,pipeline:$v,preprocess:_v,promise:Rv,record:kv,set:Av,strictObject:wv,string:Vg,symbol:pv,transformer:$g,tuple:Tv,undefined:fv,union:xv,unknown:hv,void:yv,NEVER:Qv,ZodIssueCode:X,quotelessJson:Ny,ZodError:Wt});var Ee=class extends Zn{constructor(n,a){var c,p,f;let s=u.t(`octeract.data.${a}.name`),o=u.t(`octeract.data.${a}.description`);super(fe(G({},n),{name:s,description:o}));this.octeractsInvested=0;this.costFormula=n.costFormula,this.octeractsInvested=(c=n.octeractsInvested)!=null?c:0,this.qualityOfLife=(p=n.qualityOfLife)!=null?p:!1,this.cacheUpdates=(f=n.cacheUpdates)!=null?f:void 0}getCostTNL(){return this.level===this.maxLevel?0:this.costFormula(this.level,this.costPerLevel)}async buyLevel(n){let a=0,s=1,o=e.wowOcteracts;if(n.shiftKey){s=1e6;let c=Number(await je(`${u.t("octeract.buyLevel.buyPrompt",{n:d(e.wowOcteracts,0,!0)})}`));if(isNaN(c)||!isFinite(c)||!Number.isInteger(c))return B(u.t("general.validation.finite"));if(c===-1)o=e.wowOcteracts;else{if(c<=0)return B(u.t("octeract.buyLevel.cancelPurchase"));o=c}o=Math.min(e.wowOcteracts,o)}if(this.maxLevel>0&&(s=Math.min(s,this.maxLevel-this.level)),s===0)return B(u.t("octeract.buyLevel.alreadyMax"));for(;s>0;){let c=this.getCostTNL();if(e.wowOcteracts<c||o<c)break;e.wowOcteracts-=c,o-=c,this.octeractsInvested+=c,this.level+=1,a+=1,s-=1}if(a===0)return B(u.t("octeract.buyLevel.cannotAfford"));if(a>1)return B(`${u.t("octeract.buyLevel.multiBuy",{n:d(a)})}`);this.updateCaches(),this.updateUpgradeHTML()}toString(){let n=this.getCostTNL(),a=this.maxLevel===-1?"":`/${d(this.maxLevel,0,!0)}`,s=this.maxLevel===this.level,o=s?"plum":"white",c=this.freeLevels>0?`<span style="color: orange"> [+${d(this.freeLevels,1,!0)}]</span>`:"";this.freeLevels>this.level&&(c=`${c}<span style="color: var(--maroon-text-color)">${u.t("general.softCapped")}</span>`);let p=n<=e.wowOcteracts,f="";if(!s&&!p){let h=bn();f=h>0?dr((n-e.wowOcteracts)/h):`${u.t("general.infinity")}`}let g=s?`<span style="color: plum"> ${u.t("general.maxed")}</span>`:p?`<span style="color: var(--green-text-color)"> ${u.t("general.affordable")}</span>`:`<span style="color: yellow"> ${u.t("octeract.toString.becomeAffordable",{n:f})}</span>`;return`<span style="color: gold">${this.name}</span>
                <span style="color: lightblue">${this.description}</span>
                <span style="color: ${o}"> ${u.t("general.level")} ${d(this.level,0,!0)}${a}${c}</span>
                <span style="color: gold">${this.getEffect().desc}</span>
                ${u.t("octeract.toString.costNextLevel")} ${d(n,2,!0,!0,!0)} Octeracts${g}
                ${u.t("general.spent")} Octeracts: ${d(this.octeractsInvested,2,!0,!0,!0)}`}updateUpgradeHTML(){l("singularityOcteractsMultiline").innerHTML=this.toString(),l("octeractAmount").innerHTML=u.t("octeract.amount",{octeracts:d(e.wowOcteracts,2,!0,!0,!0)})}computeFreeLevelSoftcap(){return this.freeLevels}actualTotalLevels(){if((e.singularityChallenges.noOcteracts.enabled||e.singularityChallenges.sadisticPrequel.enabled)&&!this.qualityOfLife)return 0;let n=this.computeFreeLevelSoftcap();return this.level>=n?n+this.level:2*Math.sqrt(n*this.level)}getEffect(){return this.effect(this.actualTotalLevels())}refund(){e.wowOcteracts+=this.octeractsInvested,this.level=0,this.octeractsInvested=0}updateCaches(){if(this.cacheUpdates!==void 0)for(let n of this.cacheUpdates)n()}},Me={octeractStarter:{costFormula:(t,r)=>r*(t+1),maxLevel:1,costPerLevel:1e-15,effect:t=>({bonus:t>0,get desc(){return u.t("octeract.data.octeractStarter.effect",{n:t>0?"":"not"})}})},octeractGain:{costFormula:(t,r)=>r*(Math.pow(t+1,6)-Math.pow(t,6)),maxLevel:1e8,costPerLevel:1e-8,effect:t=>({bonus:1+.011*t,get desc(){return u.t("octeract.data.octeractGain.effect",{n:d(t,0,!0)})}})},octeractGain2:{costFormula:(t,r)=>r*Math.pow(10,Math.pow(t,.5)/3),maxLevel:-1,costPerLevel:1e10,effect:t=>({bonus:1+.01*t,get desc(){return u.t("octeract.data.octeractGain2.effect",{n:d(t,0,!0)})}})},octeractQuarkGain:{costFormula:(t,r)=>{if(t<1e3)return r*(Math.pow(t+1,7)-Math.pow(t,7));{let n=t>=1e4?Math.pow(10,(t-1e4)/250):1,a=t>=15e3?Math.pow(10,(t-15e3)/250):1;return r*(Math.pow(1001,7)-Math.pow(1e3,7))*Math.pow(10,t/1e3)*n*a}},maxLevel:2e4,costPerLevel:1e-7,effect:t=>({bonus:1+.011*t,get desc(){return u.t("octeract.data.octeractQuarkGain.effect",{n:d(1.1*t,0,!0)})}})},octeractQuarkGain2:{costFormula:(t,r)=>r*Math.pow(1e20,t),maxLevel:5,costPerLevel:1e22,effect:t=>({bonus:t>0,get desc(){return u.t("octeract.data.octeractQuarkGain2.effect",{n:t>0?"":"NOT"})}})},octeractCorruption:{costFormula:(t,r)=>r*Math.pow(10,t*10),maxLevel:2,costPerLevel:10,effect:t=>({bonus:t,get desc(){return u.t("octeract.data.octeractCorruption.effect",{n:t})}})},octeractGQCostReduce:{costFormula:(t,r)=>r*Math.pow(2,t),maxLevel:50,costPerLevel:1e-9,effect:t=>({bonus:1-t/100,get desc(){return u.t("octeract.data.octeractGQCostReduce.effect",{n:t})}})},octeractExportQuarks:{costFormula:(t,r)=>r*Math.pow(t+1,3),maxLevel:100,costPerLevel:1,effect:t=>({bonus:4*t/10+1,get desc(){return u.t("octeract.data.octeractExportQuarks.effect",{n:d(40*t,0,!0)})}})},octeractImprovedDaily:{costFormula:(t,r)=>r*Math.pow(1.6,t),maxLevel:50,costPerLevel:.001,effect:t=>({bonus:t,get desc(){return u.t("octeract.data.octeractImprovedDaily.effect",{n:t})}}),qualityOfLife:!0},octeractImprovedDaily2:{costFormula:(t,r)=>r*Math.pow(2,t),maxLevel:50,costPerLevel:.01,effect:t=>({bonus:1+.01*t,get desc(){return u.t("octeract.data.octeractImprovedDaily2.effect",{n:t})}}),qualityOfLife:!0},octeractImprovedDaily3:{costFormula:(t,r)=>r*Math.pow(20,t),maxLevel:-1,costPerLevel:1e20,effect:t=>({bonus:t,get desc(){return u.t("octeract.data.octeractImprovedDaily3.effect",{n:`${t} +${.5*t}%`})}}),qualityOfLife:!0},octeractImprovedQuarkHept:{costFormula:(t,r)=>r*Math.pow(1e6,t),maxLevel:3,costPerLevel:1/10,effect:t=>({bonus:t/100,get desc(){return u.t("octeract.data.octeractImprovedQuarkHept.effect",{n:d(t/100,2,!0)})}})},octeractImprovedGlobalSpeed:{costFormula:(t,r)=>r*Math.pow(t+1,3),maxLevel:1e3,costPerLevel:1e-5,effect:t=>({bonus:t/100,get desc(){return u.t("octeract.data.octeractImprovedGlobalSpeed.effect",{n:d(t,0,!0)})}})},octeractImprovedAscensionSpeed:{costFormula:(t,r)=>r*Math.pow(1e9,t/100),maxLevel:100,costPerLevel:100,effect:t=>({bonus:t/2e3,get desc(){return u.t("octeract.data.octeractImprovedAscensionSpeed.effect",{n:d(t/20,2,!0)})}})},octeractImprovedAscensionSpeed2:{costFormula:(t,r)=>r*Math.pow(1e12,t/250),maxLevel:250,costPerLevel:1e5,effect:t=>({bonus:t/2e3,get desc(){return u.t("octeract.data.octeractImprovedAscensionSpeed2.effect",{n:d(t/50,2,!0)})}})},octeractImprovedFree:{costFormula:(t,r)=>r*Math.pow(t+1,3),maxLevel:1,costPerLevel:100,effect:t=>({bonus:t>0,get desc(){return u.t("octeract.data.octeractImprovedFree.effect",{n:t>0?"":"NOT"})}})},octeractImprovedFree2:{costFormula:(t,r)=>r*Math.pow(t+1,3),maxLevel:1,costPerLevel:1e7,effect:t=>({bonus:.05*t,get desc(){return u.t("octeract.data.octeractImprovedFree2.effect",{n:d(t/20,2,!0)})}})},octeractImprovedFree3:{costFormula:(t,r)=>r*Math.pow(t+1,3),maxLevel:1,costPerLevel:1e17,effect:t=>({bonus:.05*t,get desc(){return u.t("octeract.data.octeractImprovedFree3.effect",{n:d(t/20,2,!0)})}})},octeractImprovedFree4:{costFormula:(t,r)=>r*Math.pow(1e20,t/40),maxLevel:40,costPerLevel:1e20,effect:t=>({bonus:.001*t+(t>0?.01:0),get desc(){return u.t("octeract.data.octeractImprovedFree4.effect",{n:d(.001*t+(t>0?.01:0),3,!0)})}})},octeractSingUpgradeCap:{costFormula:(t,r)=>r*Math.pow(1e3,t),maxLevel:10,costPerLevel:1e10,effect:t=>({bonus:t,get desc(){return u.t("octeract.data.octeractSingUpgradeCap.effect",{n:t})}}),qualityOfLife:!0},octeractOfferings1:{costFormula:(t,r)=>t<25?r*Math.pow(t+1,5):r*1e15*Math.pow(10,t/25-1),maxLevel:-1,costPerLevel:1e-15,effect:t=>({bonus:1+.01*t,get desc(){return u.t("octeract.data.octeractOfferings1.effect",{n:d(t)})}})},octeractObtainium1:{costFormula:(t,r)=>t<25?r*Math.pow(t+1,5):r*1e15*Math.pow(10,t/25-1),maxLevel:-1,costPerLevel:1e-15,effect:t=>({bonus:1+.01*t,get desc(){return u.t("octeract.data.octeractObtainium1.effect",{n:d(t)})}})},octeractAscensions:{costFormula:(t,r)=>r*Math.pow(t+1,3),maxLevel:1e6,costPerLevel:1,effect:t=>({bonus:(1+t/100)*(1+2*Math.floor(t/10)/100),get desc(){return u.t("octeract.data.octeractAscensions.effect",{n:d((100+t)*(1+2*Math.floor(t/10)/100)-100,1,!0)})}})},octeractAscensions2:{costFormula:(t,r)=>r*Math.pow(10,Math.pow(t,.5)/3),maxLevel:-1,costPerLevel:1e12,effect:t=>({bonus:(1+t/100)*(1+2*Math.floor(t/10)/100),get desc(){return u.t("octeract.data.octeractAscensions2.effect",{n:d((100+t)*(1+2*Math.floor(t/10)/100)-100,1,!0)})}})},octeractAscensionsOcteractGain:{costFormula:(t,r)=>r*Math.pow(40,t),maxLevel:-1,costPerLevel:1e3,effect:t=>({bonus:t/100,get desc(){return u.t("octeract.data.octeractAscensionsOcteractGain.effect",{n:d(t,1,!0)})}})},octeractFastForward:{costFormula:(t,r)=>r*Math.pow(1e8,t),maxLevel:2,costPerLevel:1e8,effect:t=>({bonus:t,get desc(){return u.t("octeract.data.octeractFastForward.effect",{n100:100*t,n:t})}})},octeractAutoPotionSpeed:{costFormula:(t,r)=>r*Math.pow(10,t),maxLevel:-1,costPerLevel:1e-10,effect:t=>({bonus:1+4*t/100,get desc(){return u.t("octeract.data.octeractAutoPotionSpeed.effect",{n:4*t})}})},octeractAutoPotionEfficiency:{costFormula:(t,r)=>r*Math.pow(10,t),maxLevel:100,costPerLevel:1e-10*Math.pow(10,.5),effect:t=>({bonus:1+2*t/100,get desc(){return u.t("octeract.data.octeractAutoPotionEfficiency.effect",{n:2*t})}})},octeractOneMindImprover:{costFormula:(t,r)=>{let n=t>=10?Math.pow(1e3,t-10):1;return r*Math.pow(1e5,t)*n},maxLevel:16,costPerLevel:1e25,effect:t=>({bonus:.55+t/150,get desc(){return u.t("octeract.data.octeractOneMindImprover.effect",{n:d(.55+t/150,3,!0)})}}),qualityOfLife:!0},octeractAmbrosiaLuck:{costFormula:(t,r)=>{let n=t+1;return r*(Math.pow(10,n)-Math.pow(10,n-1))},maxLevel:-1,costPerLevel:1e60/9,effect:t=>({bonus:4*t,get desc(){return u.t("octeract.data.octeractAmbrosiaLuck.effect",{n:d(4*t)})}}),qualityOfLife:!0,cacheUpdates:[()=>{i.ambrosiaCurrStats.ambrosiaLuck=nt().value}]},octeractAmbrosiaLuck2:{costFormula:(t,r)=>r*(Math.pow(t+1,6)-Math.pow(t,6)),maxLevel:30,costPerLevel:1,effect:t=>({bonus:2*t,get desc(){return u.t("octeract.data.octeractAmbrosiaLuck2.effect",{n:d(2*t)})}}),qualityOfLife:!0,cacheUpdates:[()=>{i.ambrosiaCurrStats.ambrosiaLuck=nt().value}]},octeractAmbrosiaLuck3:{costFormula:(t,r)=>r*(Math.pow(t+1,8)-Math.pow(t,8)),maxLevel:30,costPerLevel:1e30,effect:t=>({bonus:3*t,get desc(){return u.t("octeract.data.octeractAmbrosiaLuck3.effect",{n:d(3*t)})}}),qualityOfLife:!0,cacheUpdates:[()=>{i.ambrosiaCurrStats.ambrosiaLuck=nt().value}]},octeractAmbrosiaLuck4:{costFormula:(t,r)=>{let n=t+1;return r*(Math.pow(3,n)-Math.pow(3,n-1))},maxLevel:50,costPerLevel:1e70/2,effect:t=>({bonus:5*t,get desc(){return u.t("octeract.data.octeractAmbrosiaLuck4.effect",{n:d(5*t)})}}),qualityOfLife:!0,cacheUpdates:[()=>{i.ambrosiaCurrStats.ambrosiaLuck=nt().value}]},octeractAmbrosiaGeneration:{costFormula:(t,r)=>{let n=t+1;return r*(Math.pow(10,n)-Math.pow(10,n-1))},maxLevel:-1,costPerLevel:1e60/9,effect:t=>({bonus:1+t/100,get desc(){return u.t("octeract.data.octeractAmbrosiaGeneration.effect",{n:d(t)})}}),qualityOfLife:!0,cacheUpdates:[()=>{i.ambrosiaCurrStats.ambrosiaGenerationSpeed=rt().value}]},octeractAmbrosiaGeneration2:{costFormula:(t,r)=>r*(Math.pow(t+1,6)-Math.pow(t,6)),maxLevel:20,costPerLevel:1,effect:t=>({bonus:1+t/100,get desc(){return u.t("octeract.data.octeractAmbrosiaGeneration2.effect",{n:d(t)})}}),qualityOfLife:!0,cacheUpdates:[()=>{i.ambrosiaCurrStats.ambrosiaGenerationSpeed=rt().value}]},octeractAmbrosiaGeneration3:{costFormula:(t,r)=>r*(Math.pow(t+1,8)-Math.pow(t,8)),maxLevel:35,costPerLevel:1e30,effect:t=>({bonus:1+t/100,get desc(){return u.t("octeract.data.octeractAmbrosiaGeneration3.effect",{n:d(t)})}}),qualityOfLife:!0,cacheUpdates:[()=>{i.ambrosiaCurrStats.ambrosiaGenerationSpeed=rt().value}]},octeractAmbrosiaGeneration4:{costFormula:(t,r)=>{let n=t+1;return r*(Math.pow(3,n)-Math.pow(3,n-1))},maxLevel:50,costPerLevel:1e70/2,effect:t=>({bonus:1+2*t/100,get desc(){return u.t("octeract.data.octeractAmbrosiaGeneration4.effect",{n:d(2*t)})}}),qualityOfLife:!0,cacheUpdates:[()=>{i.ambrosiaCurrStats.ambrosiaGenerationSpeed=rt().value}]}};var kr=class{constructor(r,n){var o,c,p,f,g;let a=u.t(`singularityChallenge.data.${n}.name`),s=u.t(`singularityChallenge.data.${n}.description`);this.name=a,this.description=s,this.baseReq=r.baseReq,this.completions=(o=r.completions)!=null?o:0,this.maxCompletions=r.maxCompletions,this.unlockSingularity=r.unlockSingularity,this.HTMLTag=r.HTMLTag,this.highestSingularityCompleted=(c=r.highestSingularityCompleted)!=null?c:0,this.enabled=(p=r.enabled)!=null?p:!1,this.resetTime=(f=r.resetTime)!=null?f:!1,this.singularityRequirement=r.singularityRequirement,this.effect=r.effect,this.scalingrewardcount=r.scalingrewardcount,this.uniquerewardcount=r.uniquerewardcount,this.updateIconHTML(),this.updateChallengeCompletions(),this.cacheUpdates=(g=r.cacheUpdates)!=null?g:void 0}computeSingularityRquirement(){return this.singularityRequirement(this.baseReq,this.completions)}updateChallengeCompletions(){let r=0;for(;this.singularityRequirement(this.baseReq,r)<=this.highestSingularityCompleted;)r+=1;this.completions=Math.min(this.maxCompletions,r)}challengeEntryHandler(){return this.enabled?this.exitChallenge(e.runelevels[6]>0):this.enableChallenge()}async enableChallenge(){if(e.highestSingularityCount<this.unlockSingularity)return B(u.t("singularityChallenge.enterChallenge.lowSingularity"));if(!await Ne(u.t("singularityChallenge.enterChallenge.confirmation",{name:this.name})))return B(u.t("singularityChallenge.enterChallenge.decline"));if(e.insideSingularityChallenge)return B(u.t("singularityChallenge.exitChallenge.acceptFailure"));{let n=this.computeSingularityRquirement(),a=e.singularityCounter,s=e.quarkstimer,o=e.goldenQuarksTimer,c=pr(),p=e.goldenQuarks;return this.enabled=!0,i.currentSingChallenge=this.HTMLTag,e.insideSingularityChallenge=!0,await zs(n),this.resetTime?e.singularityCounter=0:e.singularityCounter=a,e.goldenQuarks=p+c,e.quarkstimer=s,e.goldenQuarksTimer=o,this.updateChallengeHTML(),B(u.t("singularityChallenge.enterChallenge.acceptSuccess",{name:this.name,tier:this.completions+1,singReq:this.computeSingularityRquirement()}))}}async exitChallenge(r){if(!r){let c=e.runelevels[6]===0?u.t("singularityChallenge.exitChallenge.incompleteWarning"):"";if(!await Ne(u.t("singularityChallenge.exitChallenge.confirmation",{name:this.name,tier:this.completions+1,warning:c})))return B(u.t("singularityChallenge.exitChallenge.decline"))}this.enabled=!1,i.currentSingChallenge=void 0,e.insideSingularityChallenge=!1;let n=e.highestSingularityCount,a=e.singularityCounter,s=e.quarkstimer,o=e.goldenQuarksTimer;return this.updateIconHTML(),r?(this.highestSingularityCompleted=e.singularityCount,this.updateChallengeCompletions(),await zs(n),e.singularityCounter=a,this.updateCaches(),B(u.t("singularityChallenge.exitChallenge.acceptSuccess",{tier:_o(this.completions),name:this.name}))):(await zs(n),e.singularityCounter=a,e.quarkstimer=s,e.goldenQuarksTimer=o,B(u.t("singularityChallenge.exitChallenge.acceptFailure")))}updateCaches(){if(this.cacheUpdates!==void 0)for(let r of this.cacheUpdates)r()}toString(){let r=this.completions===this.maxCompletions?"var(--orchid-text-color)":"white",n=this.enabled?`<span style="color: var(--red-text-color)">${u.t("general.enabled")}</span>`:"";return`<span style="color: gold">${this.name}</span> ${n}
      ${u.t("singularityChallenge.toString.tiersCompleted")}: <span style="color: ${r}">${this.completions}/${this.maxCompletions}</span>
      <span style="color: pink">${u.t("singularityChallenge.toString.canEnter",{unlockSing:this.unlockSingularity,highestSing:e.highestSingularityCount})}</span>
    <span style="color: gold">${u.t("singularityChallenge.toString.currentTierSingularity")} <span style="color: var(--orchid-text-color)">${this.singularityRequirement(this.baseReq,this.completions)}</span></span>
    <span style="color: lightblue">${this.description}</span>`}scaleString(){let r="";for(let n=1;n<=this.scalingrewardcount;n++){let a=u.t(`singularityChallenge.data.${String(this.HTMLTag)}.ScalingReward${n}`);r+=n>1?`
${a}`:a}return r}uniqueString(){let r="";for(let n=1;n<=this.uniquerewardcount;n++){let a=u.t(`singularityChallenge.data.${String(this.HTMLTag)}.UniqueReward${n}`);r+=n>1?`
${a}`:a}return r}updateChallengeHTML(){l("singularityChallengesInfo").innerHTML=this.toString(),l("singularityChallengesScalingRewards").innerHTML=this.scaleString(),l("singularityChallengesUniqueRewards").innerHTML=this.uniqueString()}updateIconHTML(){let r=this.enabled?"orchid":"";l(`${String(this.HTMLTag)}`).style.backgroundColor=r}get rewards(){return this.effect(this.completions)}},vt={noSingularityUpgrades:{baseReq:1,maxCompletions:30,unlockSingularity:25,HTMLTag:"noSingularityUpgrades",singularityRequirement:(t,r)=>t+8*r,scalingrewardcount:1,uniquerewardcount:5,effect:t=>({cubes:1+.5*t,goldenQuarks:1+.12*+(t>0),blueberries:+(t>0),shopUpgrade:t>=20,luckBonus:t>=30?.04:0,shopUpgrade2:t>=30}),cacheUpdates:[()=>{i.ambrosiaCurrStats={ambrosiaAdditiveLuckMult:yn().value,ambrosiaLuck:nt().value,ambrosiaBlueberries:Ha().value,ambrosiaGenerationSpeed:rt().value}}]},oneChallengeCap:{baseReq:10,maxCompletions:25,unlockSingularity:40,HTMLTag:"oneChallengeCap",singularityRequirement:(t,r)=>t+11*r,scalingrewardcount:2,uniquerewardcount:4,effect:t=>({corrScoreIncrease:.03*t,blueberrySpeedMult:1+t/100,capIncrease:3*+(t>0),freeCorruptionLevel:t>=20,shopUpgrade:t>=20,reinCapIncrease2:7*+(t>=25),ascCapIncrease2:2*+(t>=25)})},noOcteracts:{baseReq:75,maxCompletions:10,unlockSingularity:100,HTMLTag:"noOcteracts",singularityRequirement:(t,r)=>t+13*r,scalingrewardcount:1,uniquerewardcount:3,effect:t=>({octeractPow:.02*t,offeringBonus:t>0,obtainiumBonus:t>=10,shopUpgrade:t>=10})},limitedAscensions:{baseReq:10,maxCompletions:25,unlockSingularity:50,HTMLTag:"limitedAscensions",singularityRequirement:(t,r)=>t+10*r,scalingrewardcount:1,uniquerewardcount:4,effect:t=>({ultimateProgressBarUnlock:t>0,ascensionSpeedMult:.1*t/100,hepteractCap:t>0,exaltBonus:t>=20,shopUpgrade:t>=25})},noAmbrosiaUpgrades:{baseReq:150,maxCompletions:20,unlockSingularity:166,HTMLTag:"noAmbrosiaUpgrades",singularityRequirement:(t,r)=>t+6*r,scalingrewardcount:2,uniquerewardcount:6,effect:t=>({bonusAmbrosia:+(t>0),blueberries:Math.floor(t/10)+ +(t>0),luckBonus:t/200,additiveLuck:15*t,blueberrySpeedMult:1+t/50,shopUpgrade:t>=15,shopUpgrade2:t>=20})},limitedTime:{baseReq:203,maxCompletions:25,unlockSingularity:216,HTMLTag:"limitedTime",singularityRequirement:(t,r)=>t+3*r,scalingrewardcount:3,uniquerewardcount:3,effect:t=>({preserveQuarks:+(t>0),quarkMult:.01*t,globalSpeed:.06*t,ascensionSpeed:.06*t,tier1Upgrade:t>=15,tier2Upgrade:t>=25})},sadisticPrequel:{baseReq:135,maxCompletions:30,unlockSingularity:273,HTMLTag:"sadisticPrequel",singularityRequirement:(t,r)=>t+3*r,scalingrewardcount:2,uniquerewardcount:4,effect:t=>({extraFree:50*+(t>0),quarkMult:.03*t,freeUpgradeMult:.03*t,shopUpgrade:t>=10,shopUpgrade2:t>=20,shopUpgrade3:t>=30})}};var ie=v.custom(t=>{try{return new m(t),!0}catch(r){return!1}}).transform(t=>new m(t)),Lr=t=>v.tuple([v.null()]).rest(t),la=(t,r)=>(t.length<T[r].length&&t.push(...T[r].slice(t.length)),t),Zo=v.object({cost:v.number(),owned:v.number(),generated:ie,multiplier:v.number()}),Yu=(...t)=>v.object(G({level:v.number(),toggleBuy:v.number(),freeLevels:v.number()},t.reduce((r,n)=>(r[n]=v.number(),r),{}))),qv=v.record(v.string(),v.boolean()).transform(t=>Object.fromEntries(Object.entries(t).filter(([r,n])=>/^\d+$/.test(r)))).transform(t=>{let r=Object.entries(T.toggles);for(let n of r)Object.hasOwn(t,n[0])||(t[n[0]]=n[1]);return t}),Ju=v.string().regex(/^|-?\d+(\.\d{1,2})?$/),El=v.string().regex(/^\d+$/),ca=t=>v.object({AUTO:v.boolean().default(()=>T.hepteractCrafts[t].AUTO),BAL:v.number().default(()=>T.hepteractCrafts[t].BAL),BASE_CAP:v.number(),CAP:v.number().default(()=>T.hepteractCrafts[t].CAP),DISCOUNT:v.number().default(()=>T.hepteractCrafts[t].DISCOUNT),HEPTERACT_CONVERSION:v.number(),HTML_STRING:v.string().default(()=>T.hepteractCrafts[t].HTML_STRING),OTHER_CONVERSIONS:v.record(v.string(),v.number()),UNLOCKED:v.boolean().default(()=>T.hepteractCrafts[t].UNLOCKED)}),Ol=v.object({firstPlayed:v.string().datetime().optional().default(()=>new Date().toISOString()),worlds:v.number().transform(t=>new Jn(t)),coins:ie,coinsThisPrestige:ie,coinsThisTranscension:ie,coinsThisReincarnation:ie,coinsTotal:ie,firstOwnedCoin:v.number(),firstGeneratedCoin:ie,firstCostCoin:ie,firstProduceCoin:v.number(),secondOwnedCoin:v.number(),secondGeneratedCoin:ie,secondCostCoin:ie,secondProduceCoin:v.number(),thirdOwnedCoin:v.number(),thirdGeneratedCoin:ie,thirdCostCoin:ie,thirdProduceCoin:v.number(),fourthOwnedCoin:v.number(),fourthGeneratedCoin:ie,fourthCostCoin:ie,fourthProduceCoin:v.number(),fifthOwnedCoin:v.number(),fifthGeneratedCoin:ie,fifthCostCoin:ie,fifthProduceCoin:v.number(),firstOwnedDiamonds:v.number(),firstGeneratedDiamonds:ie,firstCostDiamonds:ie,firstProduceDiamonds:v.number(),secondOwnedDiamonds:v.number(),secondGeneratedDiamonds:ie,secondCostDiamonds:ie,secondProduceDiamonds:v.number(),thirdOwnedDiamonds:v.number(),thirdGeneratedDiamonds:ie,thirdCostDiamonds:ie,thirdProduceDiamonds:v.number(),fourthOwnedDiamonds:v.number(),fourthGeneratedDiamonds:ie,fourthCostDiamonds:ie,fourthProduceDiamonds:v.number(),fifthOwnedDiamonds:v.number(),fifthGeneratedDiamonds:ie,fifthCostDiamonds:ie,fifthProduceDiamonds:v.number(),firstOwnedMythos:v.number(),firstGeneratedMythos:ie,firstCostMythos:ie,firstProduceMythos:v.number(),secondOwnedMythos:v.number(),secondGeneratedMythos:ie,secondCostMythos:ie,secondProduceMythos:v.number(),thirdOwnedMythos:v.number(),thirdGeneratedMythos:ie,thirdCostMythos:ie,thirdProduceMythos:v.number(),fourthOwnedMythos:v.number(),fourthGeneratedMythos:ie,fourthCostMythos:ie,fourthProduceMythos:v.number(),fifthOwnedMythos:v.number(),fifthGeneratedMythos:ie,fifthCostMythos:ie,fifthProduceMythos:v.number(),firstOwnedParticles:v.number(),firstGeneratedParticles:ie,firstCostParticles:ie,firstProduceParticles:v.number(),secondOwnedParticles:v.number(),secondGeneratedParticles:ie,secondCostParticles:ie,secondProduceParticles:v.number(),thirdOwnedParticles:v.number(),thirdGeneratedParticles:ie,thirdCostParticles:ie,thirdProduceParticles:v.number(),fourthOwnedParticles:v.number(),fourthGeneratedParticles:ie,fourthCostParticles:ie,fourthProduceParticles:v.number(),fifthOwnedParticles:v.number(),fifthGeneratedParticles:ie,fifthCostParticles:ie,fifthProduceParticles:v.number(),firstOwnedAnts:v.number().default(()=>T.firstOwnedAnts),firstGeneratedAnts:ie,firstCostAnts:ie,firstProduceAnts:v.number().default(()=>T.firstProduceAnts),secondOwnedAnts:v.number().default(()=>T.secondOwnedAnts),secondGeneratedAnts:ie,secondCostAnts:ie,secondProduceAnts:v.number().default(()=>T.secondProduceAnts),thirdOwnedAnts:v.number().default(()=>T.thirdOwnedAnts),thirdGeneratedAnts:ie,thirdCostAnts:ie,thirdProduceAnts:v.number().default(()=>T.thirdProduceAnts),fourthOwnedAnts:v.number().default(()=>T.fourthOwnedAnts),fourthGeneratedAnts:ie,fourthCostAnts:ie,fourthProduceAnts:v.number().default(()=>T.fourthProduceAnts),fifthOwnedAnts:v.number().default(()=>T.fifthOwnedAnts),fifthGeneratedAnts:ie,fifthCostAnts:ie,fifthProduceAnts:v.number().default(()=>T.fifthProduceAnts),sixthOwnedAnts:v.number().default(()=>T.sixthOwnedAnts),sixthGeneratedAnts:ie,sixthCostAnts:ie,sixthProduceAnts:v.number().default(()=>T.sixthProduceAnts),seventhOwnedAnts:v.number().default(()=>T.seventhOwnedAnts),seventhGeneratedAnts:ie,seventhCostAnts:ie,seventhProduceAnts:v.number().default(()=>T.seventhProduceAnts),eighthOwnedAnts:v.number().default(()=>T.eighthOwnedAnts),eighthGeneratedAnts:ie,eighthCostAnts:ie,eighthProduceAnts:v.number().default(()=>T.eighthProduceAnts),ascendBuilding1:Zo.default(()=>cn(T.ascendBuilding1)),ascendBuilding2:Zo.default(()=>cn(T.ascendBuilding2)),ascendBuilding3:Zo.default(()=>cn(T.ascendBuilding3)),ascendBuilding4:Zo.default(()=>cn(T.ascendBuilding4)),ascendBuilding5:Zo.default(()=>cn(T.ascendBuilding5)),multiplierCost:ie,multiplierBought:v.number(),acceleratorCost:ie,acceleratorBought:v.number(),acceleratorBoostBought:v.number(),acceleratorBoostCost:ie,upgrades:v.number().array().transform(t=>(t.length<T.upgrades.length&&t.push(...T.upgrades.slice(0,T.upgrades.length-t.length)),t)),prestigeCount:v.number(),transcendCount:v.number(),reincarnationCount:v.number(),prestigePoints:ie,transcendPoints:ie,reincarnationPoints:ie,prestigeShards:ie,transcendShards:ie,reincarnationShards:ie,toggles:qv,challengecompletions:v.union([v.number().array(),v.record(v.string(),v.number()).transform(t=>{let r=Object.values(t);return Su(r,0,T.challengecompletions.length),r})]),highestchallengecompletions:v.union([v.union([v.number(),v.null()]).array(),v.record(v.string(),v.number()).transform(t=>{let r=Object.values(t);return Su(r,0,T.highestchallengecompletions.length),r})]),challenge15Exponent:v.number().default(()=>T.challenge15Exponent),highestChallenge15Exponent:v.number().default(()=>T.highestChallenge15Exponent),retrychallenges:v.boolean().default(()=>T.retrychallenges),currentChallenge:v.union([v.string().transform(()=>G({},T.currentChallenge)),v.object({transcension:v.number(),reincarnation:v.number(),ascension:v.number()}).default(()=>G({},T.currentChallenge))]),researchPoints:v.number(),obtainiumtimer:v.number(),obtainiumpersecond:v.number().default(()=>T.obtainiumpersecond),maxobtainiumpersecond:v.number().default(()=>T.maxobtainiumpersecond),maxobtainium:v.number().default(()=>T.maxobtainium),researches:v.number().array().transform(t=>la(t,"researches")),unlocks:v.record(v.string(),v.boolean()),achievements:v.number().array().transform(t=>la(t,"achievements")),achievementPoints:v.number(),prestigenomultiplier:v.boolean(),prestigenoaccelerator:v.boolean(),transcendnomultiplier:v.boolean(),transcendnoaccelerator:v.boolean(),reincarnatenomultiplier:v.boolean(),reincarnatenoaccelerator:v.boolean(),prestigenocoinupgrades:v.boolean(),transcendnocoinupgrades:v.boolean(),transcendnocoinorprestigeupgrades:v.boolean(),reincarnatenocoinupgrades:v.boolean(),reincarnatenocoinorprestigeupgrades:v.boolean(),reincarnatenocoinprestigeortranscendupgrades:v.boolean(),reincarnatenocoinprestigetranscendorgeneratorupgrades:v.boolean(),crystalUpgrades:v.number().array(),crystalUpgradesCost:v.number().array().default(()=>[...T.crystalUpgradesCost]),runelevels:v.number().array().transform(t=>la(t,"runelevels")),runeexp:v.union([v.number(),v.null().transform(()=>0)]).array().transform(t=>la(t,"runeexp")),runeshards:v.number(),maxofferings:v.number().default(()=>T.maxofferings),offeringpersecond:v.number().default(()=>T.offeringpersecond),prestigecounter:v.number(),transcendcounter:v.number(),reincarnationcounter:v.number(),offlinetick:v.number(),prestigeamount:v.union([v.number(),Ju.transform(Number)]),transcendamount:v.union([v.number(),Ju.transform(Number)]).default(()=>T.transcendamount),reincarnationamount:v.union([v.number(),Ju.transform(Number)]),fastestprestige:v.number(),fastesttranscend:v.number(),fastestreincarnate:v.number(),resettoggle1:v.number().default(()=>T.resettoggle1),resettoggle2:v.number().default(()=>T.resettoggle2),resettoggle3:v.number().default(()=>T.resettoggle3),resettoggle4:v.number().default(()=>T.resettoggle4),tesseractAutoBuyerToggle:v.number().default(()=>T.tesseractAutoBuyerToggle),tesseractAutoBuyerAmount:v.number().default(()=>T.tesseractAutoBuyerAmount),coinbuyamount:v.number(),crystalbuyamount:v.number(),mythosbuyamount:v.number(),particlebuyamount:v.number(),offeringbuyamount:v.number(),tesseractbuyamount:v.number().default(()=>T.tesseractbuyamount),shoptoggles:v.record(v.string(),v.boolean()),tabnumber:v.number(),subtabNumber:v.number().default(()=>T.subtabNumber),codes:v.array(v.tuple([v.number(),v.boolean()])).transform(t=>new Map(t)).default(()=>cn([...T.codes])),loaded1009:v.boolean().default(()=>T.loaded1009),loaded1009hotfix1:v.boolean().default(()=>T.loaded1009hotfix1),loaded10091:v.boolean().default(()=>T.loaded10091),loaded1010:v.boolean().default(()=>T.loaded1010),loaded10101:v.boolean().default(()=>T.loaded10101),shopUpgrades:v.record(v.string(),v.union([v.number(),v.null(),v.boolean()])).transform(t=>Object.fromEntries(Object.keys(T.shopUpgrades).map(r=>{var a;let n=(a=t[r])!=null?a:T.shopUpgrades[r];return n===null?[r,0]:[r,Number(n)]}))).default(()=>G({},T.shopUpgrades)),shopBuyMaxToggle:v.union([v.boolean(),v.string()]).default(()=>T.shopBuyMaxToggle),shopHideToggle:v.boolean().default(()=>T.shopHideToggle),shopConfirmationToggle:v.boolean().default(()=>T.shopConfirmationToggle),autoPotionTimer:v.number().default(()=>T.autoPotionTimer),autoPotionTimerObtainium:v.number().default(()=>T.autoPotionTimerObtainium),autoSacrificeToggle:v.boolean().default(()=>T.autoSacrificeToggle),autoBuyFragment:v.boolean().default(()=>T.autoBuyFragment),autoFortifyToggle:v.boolean().default(()=>T.autoFortifyToggle),autoEnhanceToggle:v.boolean().default(()=>T.autoEnhanceToggle),autoResearchToggle:v.boolean().default(()=>T.autoResearchToggle),researchBuyMaxToggle:v.boolean().default(()=>T.researchBuyMaxToggle),autoResearchMode:v.string().default(()=>T.autoResearchMode),autoResearch:v.number().default(()=>T.autoResearch),autoSacrifice:v.number().default(()=>T.autoSacrifice),sacrificeTimer:v.number().default(()=>T.sacrificeTimer),quarkstimer:v.number().default(()=>T.quarkstimer),goldenQuarksTimer:v.number().default(()=>T.goldenQuarksTimer),antPoints:ie,antUpgrades:v.union([v.number().array(),Lr(v.number()).transform(t=>t.slice(1))]).default(()=>[...T.antUpgrades]),antSacrificePoints:v.union([v.number(),v.null().transform(()=>Number.MAX_VALUE)]).default(()=>T.antSacrificePoints),antSacrificeTimer:v.number().default(()=>T.antSacrificeTimer),antSacrificeTimerReal:v.number().default(()=>T.antSacrificeTimerReal),talismanLevels:v.union([v.number().array(),Lr(v.number()).transform(t=>t.slice(1))]).default(()=>[...T.talismanLevels]),talismanRarity:v.union([v.number().array(),Lr(v.number()).transform(t=>t.slice(1))]).default(()=>[...T.talismanRarity]),talismanOne:Lr(v.number()).default(()=>T.talismanOne),talismanTwo:Lr(v.number()).default(()=>T.talismanTwo),talismanThree:Lr(v.number()).default(()=>T.talismanThree),talismanFour:Lr(v.number()).default(()=>T.talismanFour),talismanFive:Lr(v.number()).default(()=>T.talismanFive),talismanSix:Lr(v.number()).default(()=>T.talismanSix),talismanSeven:Lr(v.number()).default(()=>T.talismanSeven),talismanShards:v.number().default(()=>T.talismanShards),commonFragments:v.number().default(()=>T.commonFragments),uncommonFragments:v.number().default(()=>T.uncommonFragments),rareFragments:v.number().default(()=>T.rareFragments),epicFragments:v.number().default(()=>T.epicFragments),legendaryFragments:v.number().default(()=>T.legendaryFragments),mythicalFragments:v.number().default(()=>T.mythicalFragments),buyTalismanShardPercent:v.number().default(()=>T.buyTalismanShardPercent),autoAntSacrifice:v.boolean().default(()=>T.autoAntSacrifice),autoAntSacTimer:v.number().default(()=>T.autoAntSacTimer),autoAntSacrificeMode:v.number().default(()=>T.autoAntSacrificeMode),antMax:v.boolean().default(()=>T.antMax),ascensionCount:v.number().default(()=>T.ascensionCount),ascensionCounter:v.number().default(()=>T.ascensionCounter),ascensionCounterReal:v.number().default(()=>T.ascensionCounterReal),ascensionCounterRealReal:v.number().default(()=>T.ascensionCounterRealReal),cubeUpgrades:Lr(v.number()).transform(t=>la(t,"cubeUpgrades")).default(()=>[...T.cubeUpgrades]),cubeUpgradesBuyMaxToggle:v.boolean().default(()=>T.cubeUpgradesBuyMaxToggle),autoCubeUpgradesToggle:v.boolean().default(()=>T.autoCubeUpgradesToggle),autoPlatonicUpgradesToggle:v.boolean().default(()=>T.autoPlatonicUpgradesToggle),platonicUpgrades:v.number().array().transform(t=>la(t,"platonicUpgrades")).default(()=>[...T.platonicUpgrades]),wowCubes:v.number().default(()=>Number(T.wowCubes)).transform(t=>new Cr(t)),wowTesseracts:v.number().default(()=>Number(T.wowTesseracts)).transform(t=>new Ba(t)),wowHypercubes:v.number().default(()=>Number(T.wowHypercubes)).transform(t=>new Ra(t)),wowPlatonicCubes:v.number().default(()=>Number(T.wowPlatonicCubes)).transform(t=>new Ia(t)),saveOfferingToggle:v.boolean().default(()=>T.saveOfferingToggle),wowAbyssals:v.number().default(()=>T.wowAbyssals),wowOcteracts:v.number().default(()=>T.wowOcteracts),totalWowOcteracts:v.number().default(()=>T.totalWowOcteracts),cubeBlessings:v.record(v.string(),v.number()).default(()=>G({},T.cubeBlessings)),tesseractBlessings:v.record(v.string(),v.number()).default(()=>G({},T.tesseractBlessings)),hypercubeBlessings:v.record(v.string(),v.number()).default(()=>G({},T.hypercubeBlessings)),platonicBlessings:v.record(v.string(),v.number()).default(()=>G({},T.platonicBlessings)),hepteractCrafts:v.object({chronos:ca("chronos"),hyperrealism:ca("hyperrealism"),quark:ca("quark"),challenge:ca("challenge"),abyss:ca("abyss"),accelerator:ca("accelerator"),acceleratorBoost:ca("acceleratorBoost"),multiplier:ca("multiplier")}).transform(t=>Object.fromEntries(Object.entries(T.hepteractCrafts).map(([r,n])=>[r,wg(G(G({},n),t[r]))]))).default(()=>T.hepteractCrafts),ascendShards:ie.default(()=>cn(T.ascendShards)),autoAscend:v.boolean().default(()=>T.autoAscend),autoAscendMode:v.string().default(()=>T.autoAscendMode),autoAscendThreshold:v.number().default(()=>T.autoAscendThreshold),autoOpenCubes:v.boolean().default(()=>T.autoOpenCubes),openCubes:v.number().default(()=>T.openCubes),autoOpenTesseracts:v.boolean().default(()=>T.autoOpenTesseracts),openTesseracts:v.number().default(()=>T.openTesseracts),autoOpenHypercubes:v.boolean().default(()=>T.autoOpenHypercubes),openHypercubes:v.number().default(()=>T.openHypercubes),autoOpenPlatonicsCubes:v.boolean().default(()=>T.autoOpenPlatonicsCubes),openPlatonicsCubes:v.number().default(()=>T.openPlatonicsCubes),roombaResearchIndex:v.number().default(()=>T.roombaResearchIndex),ascStatToggles:v.record(El,v.boolean()).default(()=>G({},T.ascStatToggles)),prototypeCorruptions:v.number().array().default(()=>[...T.prototypeCorruptions]),usedCorruptions:v.number().array().transform(t=>la(t,"usedCorruptions")).default(()=>[...T.usedCorruptions]),corruptionLoadouts:v.record(El,v.number().array()).default(()=>cn(T.corruptionLoadouts)),corruptionLoadoutNames:v.string().array().default(()=>T.corruptionLoadoutNames.slice()).default(()=>[...T.corruptionLoadoutNames]),corruptionShowStats:v.boolean().default(()=>T.corruptionShowStats),constantUpgrades:Lr(v.number()).default(()=>[...T.constantUpgrades]),history:v.object({ants:v.any().array(),ascend:v.any().array().default(()=>[...T.history.ascend]),reset:v.any().array().default(()=>[...T.history.reset]),singularity:v.any().array().default(()=>[...T.history.singularity])}).default(()=>cn(T.history)),historyShowPerSecond:v.boolean().default(()=>T.historyShowPerSecond),autoChallengeRunning:v.boolean().default(()=>T.autoChallengeRunning),autoChallengeIndex:v.number().default(()=>T.autoChallengeIndex),autoChallengeToggles:v.boolean().array().default(()=>[...T.autoChallengeToggles]),autoChallengeStartExponent:v.number().default(()=>T.autoChallengeStartExponent),autoChallengeTimer:v.record(v.string(),v.number()).default(()=>G({},T.autoChallengeTimer)),runeBlessingLevels:v.number().array().default(()=>[...T.runeBlessingLevels]),runeSpiritLevels:v.number().array().default(()=>[...T.runeSpiritLevels]),runeBlessingBuyAmount:v.number().default(()=>T.runeBlessingBuyAmount),runeSpiritBuyAmount:v.number().default(()=>T.runeSpiritBuyAmount),autoTesseracts:v.boolean().array().default(()=>[...T.autoTesseracts]),saveString:v.string().default(()=>T.saveString),exporttest:v.union([v.string(),v.boolean()]).transform(t=>typeof t=="string"?t==="YES!":t),dayCheck:v.string().datetime().nullable().default(()=>T.dayCheck).transform(t=>t===null?t:new Date(t)),dayTimer:v.number().default(()=>T.dayTimer),cubeOpenedDaily:v.number().default(()=>T.cubeOpenedDaily),cubeQuarkDaily:v.number().default(()=>T.cubeQuarkDaily),tesseractOpenedDaily:v.number().default(()=>T.tesseractOpenedDaily),tesseractQuarkDaily:v.number().default(()=>T.tesseractQuarkDaily),hypercubeOpenedDaily:v.number().default(()=>T.hypercubeOpenedDaily),hypercubeQuarkDaily:v.number().default(()=>T.hypercubeQuarkDaily),platonicCubeOpenedDaily:v.number().default(()=>T.platonicCubeOpenedDaily),platonicCubeQuarkDaily:v.number().default(()=>T.platonicCubeQuarkDaily),overfluxOrbs:v.number().default(()=>T.overfluxOrbs),overfluxOrbsAutoBuy:v.boolean().default(()=>T.overfluxOrbsAutoBuy),overfluxPowder:v.number().default(()=>T.overfluxPowder),dailyPowderResetUses:v.number().default(()=>T.dailyPowderResetUses),autoWarpCheck:v.boolean().default(()=>T.autoWarpCheck),loadedOct4Hotfix:v.boolean().default(()=>T.loadedOct4Hotfix),loadedNov13Vers:v.boolean().default(()=>T.loadedNov13Vers),loadedDec16Vers:v.boolean().default(()=>T.loadedDec16Vers),loadedV253:v.boolean().default(()=>T.loadedV253),loadedV255:v.boolean().default(()=>T.loadedV255),loadedV297Hotfix1:v.boolean().default(()=>T.loadedV297Hotfix1),loadedV2927Hotfix1:v.boolean().default(()=>T.loadedV2927Hotfix1),loadedV2930Hotfix1:v.boolean().default(()=>T.loadedV2930Hotfix1),loadedV2931Hotfix1:v.boolean().default(()=>T.loadedV2931Hotfix1),loadedV21003Hotfix1:v.boolean().default(()=>T.loadedV21003Hotfix1),loadedV21007Hotfix1:v.boolean().default(()=>T.loadedV21007Hotfix1),version:v.string().default(()=>T.version),rngCode:v.number().default(()=>T.rngCode),promoCodeTiming:v.record(v.string(),v.number()).default(()=>({time:Date.now()-60*1e3*15})),singularityCount:v.number().default(()=>T.singularityCount),highestSingularityCount:v.number().default(()=>T.highestSingularityCount),singularityCounter:v.number().default(()=>T.singularityCount),goldenQuarks:v.number().default(()=>T.goldenQuarks),quarksThisSingularity:v.number().nullable().default(()=>T.quarksThisSingularity),totalQuarksEver:v.number().default(()=>T.totalQuarksEver),hotkeys:v.record(El,v.string().array()).default(()=>T.hotkeys),theme:v.string().default(()=>T.theme),iconSet:v.number().default(()=>T.iconSet),notation:v.string().default(()=>T.notation),singularityUpgrades:v.record(v.string(),Yu("goldenQuarksInvested")).transform(t=>Object.fromEntries(Object.keys(te).map(r=>{var c;let{level:n,goldenQuarksInvested:a,toggleBuy:s,freeLevels:o}=(c=t[r])!=null?c:te[r];return[r,new oe({maxLevel:te[r].maxLevel,costPerLevel:te[r].costPerLevel,level:n,goldenQuarksInvested:a,toggleBuy:s,freeLevels:o,minimumSingularity:te[r].minimumSingularity,effect:te[r].effect,canExceedCap:te[r].canExceedCap,specialCostForm:te[r].specialCostForm,qualityOfLife:te[r].qualityOfLife,cacheUpdates:te[r].cacheUpdates},r)]}))).default(()=>JSON.parse(JSON.stringify(T.singularityUpgrades))),octeractUpgrades:v.record(v.string(),Yu("octeractsInvested")).transform(t=>Object.fromEntries(Object.keys(Me).map(r=>{var c;let{level:n,octeractsInvested:a,toggleBuy:s,freeLevels:o}=(c=t[r])!=null?c:Me[r];return[r,new Ee({maxLevel:Me[r].maxLevel,costPerLevel:Me[r].costPerLevel,level:n,octeractsInvested:a,toggleBuy:s,effect:Me[r].effect,costFormula:Me[r].costFormula,freeLevels:o,qualityOfLife:Me[r].qualityOfLife,cacheUpdates:Me[r].cacheUpdates},r)]}))).default(()=>JSON.parse(JSON.stringify(T.octeractUpgrades))),dailyCodeUsed:v.boolean().default(()=>T.dailyCodeUsed),hepteractAutoCraftPercentage:v.number().default(()=>T.hepteractAutoCraftPercentage),octeractTimer:v.number().default(()=>T.octeractTimer),insideSingularityChallenge:v.boolean().default(()=>T.insideSingularityChallenge),singularityChallenges:v.record(v.string(),v.object({completions:v.number(),highestSingularityCompleted:v.number(),enabled:v.boolean()})).transform(t=>Object.fromEntries(Object.keys(T.singularityChallenges).map(r=>{var o;let{completions:n,highestSingularityCompleted:a,enabled:s}=(o=t[r])!=null?o:T.singularityChallenges[r];return[r,new kr({baseReq:vt[r].baseReq,completions:n,maxCompletions:vt[r].maxCompletions,unlockSingularity:vt[r].unlockSingularity,HTMLTag:vt[r].HTMLTag,highestSingularityCompleted:a,enabled:s,resetTime:vt[r].resetTime,singularityRequirement:vt[r].singularityRequirement,scalingrewardcount:vt[r].scalingrewardcount,uniquerewardcount:vt[r].uniquerewardcount,effect:vt[r].effect,cacheUpdates:vt[r].cacheUpdates},r)]}))).default(()=>JSON.parse(JSON.stringify(T.singularityChallenges))),ambrosia:v.number().default(()=>T.ambrosia),lifetimeAmbrosia:v.number().default(()=>T.lifetimeAmbrosia),ambrosiaRNG:v.number().default(()=>T.ambrosiaRNG),blueberryTime:v.number().default(()=>T.blueberryTime),visitedAmbrosiaSubtab:v.boolean().default(()=>T.visitedAmbrosiaSubtab),spentBlueberries:v.number().default(()=>T.spentBlueberries),blueberryUpgrades:v.record(v.string(),Yu("blueberriesInvested","ambrosiaInvested")).transform(t=>Object.fromEntries(Object.keys(T.blueberryUpgrades).map(r=>{var p;let{level:n,ambrosiaInvested:a,blueberriesInvested:s,toggleBuy:o,freeLevels:c}=(p=t[r])!=null?p:T.blueberryUpgrades[r];return[r,new dt({maxLevel:et[r].maxLevel,costPerLevel:et[r].costPerLevel,level:n,ambrosiaInvested:a,blueberriesInvested:s,toggleBuy:o,blueberryCost:et[r].blueberryCost,rewards:et[r].rewards,costFormula:et[r].costFormula,freeLevels:c,prerequisites:et[r].prerequisites,cacheUpdates:et[r].cacheUpdates},r)]}))).default(()=>JSON.parse(JSON.stringify(T.blueberryUpgrades))),blueberryLoadouts:v.record(El,v.any()).default(()=>T.blueberryLoadouts),blueberryLoadoutMode:v.string().default(()=>T.blueberryLoadoutMode),ultimateProgress:v.number().default(()=>T.ultimateProgress),ultimatePixels:v.number().default(()=>T.ultimatePixels),singChallengeTimer:v.number().default(()=>T.singChallengeTimer),caches:v.record(v.string(),v.any()).transform(()=>(Object.values(T.caches).map(t=>t.reset()),T.caches)).default(()=>(Object.values(T.caches).map(t=>t.reset()),T.caches)),lastExportedSave:v.number().default(()=>T.lastExportedSave),seed:v.number().array().default(()=>T.seed).transform(t=>la(t,"seed")).refine(t=>t.every(r=>r>Date.parse("2020-01-01T00:00:00Z")&&r<Date.now()+1e3))});var Ks=Ol.extend({codes:v.any().transform(t=>Array.from(t)),worlds:v.any().transform(t=>Number(t)),wowCubes:v.any().transform(t=>Number(t)),wowTesseracts:v.any().transform(t=>Number(t)),wowHypercubes:v.any().transform(t=>Number(t)),wowPlatonicCubes:v.any().transform(t=>Number(t)),singularityUpgrades:v.any().transform(t=>Object.fromEntries(Object.entries(t).map(([r,n])=>[r,{level:n.level,goldenQuarksInvested:n.goldenQuarksInvested,toggleBuy:n.toggleBuy,freeLevels:n.freeLevels}]))),octeractUpgrades:v.any().transform(t=>Object.fromEntries(Object.entries(t).map(([r,n])=>[r,{level:n.level,octeractsInvested:n.octeractsInvested,toggleBuy:n.toggleBuy,freeLevels:n.freeLevels}]))),singularityChallenges:v.any().transform(t=>Object.fromEntries(Object.entries(t).map(([r,n])=>[r,{completions:n.completions,highestSingularityCompleted:n.highestSingularityCompleted,enabled:n.enabled}]))),blueberryUpgrades:v.any().transform(t=>Object.fromEntries(Object.entries(t).map(([r,n])=>[r,{level:n.level,ambrosiaInvested:n.ambrosiaInvested,blueberriesInvested:n.blueberriesInvested,toggleBuy:n.toggleBuy,freeLevels:n.freeLevels}]))),dayCheck:v.any().transform(t=>{var r;return(r=t==null?void 0:t.toISOString())!=null?r:null})});var Te={offeringPotion:{price:100,priceIncrease:0,maxLevel:999999999,type:"consume",refundable:!1,refundMinimumLevel:0,tier:"Reincarnation"},obtainiumPotion:{tier:"Reincarnation",price:100,priceIncrease:0,maxLevel:999999999,type:"consume",refundable:!1,refundMinimumLevel:0},offeringEX:{tier:"Reincarnation",price:150,priceIncrease:10,maxLevel:100,type:"upgrade",refundable:!0,refundMinimumLevel:0},offeringAuto:{tier:"Reincarnation",price:150,priceIncrease:10,maxLevel:100,type:"upgrade",refundable:!0,refundMinimumLevel:1},obtainiumEX:{tier:"Reincarnation",price:150,priceIncrease:10,maxLevel:100,type:"upgrade",refundable:!0,refundMinimumLevel:0},obtainiumAuto:{tier:"Reincarnation",price:150,priceIncrease:10,maxLevel:100,type:"upgrade",refundable:!0,refundMinimumLevel:1},instantChallenge:{tier:"Reincarnation",price:300,priceIncrease:99999,maxLevel:1,type:"upgrade",refundable:!1,refundMinimumLevel:0},antSpeed:{tier:"Reincarnation",price:200,priceIncrease:25,maxLevel:100,type:"upgrade",refundable:!0,refundMinimumLevel:0},cashGrab:{tier:"Reincarnation",price:100,priceIncrease:40,maxLevel:100,type:"upgrade",refundable:!0,refundMinimumLevel:0},shopTalisman:{tier:"Reincarnation",price:1500,priceIncrease:99999,maxLevel:1,type:"upgrade",refundable:!1,refundMinimumLevel:0},seasonPass:{tier:"Ascension",price:500,priceIncrease:75,maxLevel:100,type:"upgrade",refundable:!0,refundMinimumLevel:0},challengeExtension:{tier:"Ascension",price:500,priceIncrease:250,maxLevel:5,type:"upgrade",refundable:!1,refundMinimumLevel:0},challengeTome:{tier:"Ascension",price:500,priceIncrease:250,maxLevel:15,type:"upgrade",refundable:!1,refundMinimumLevel:0},cubeToQuark:{tier:"Ascension",price:2e3,priceIncrease:99999,maxLevel:1,type:"upgrade",refundable:!1,refundMinimumLevel:0},tesseractToQuark:{tier:"Ascension",price:3500,priceIncrease:99999,maxLevel:1,type:"upgrade",refundable:!1,refundMinimumLevel:0},hypercubeToQuark:{tier:"Ascension",price:5e3,priceIncrease:99999,maxLevel:1,type:"upgrade",refundable:!1,refundMinimumLevel:0},seasonPass2:{tier:"Ascension",price:2e3,priceIncrease:200,maxLevel:100,type:"upgrade",refundable:!0,refundMinimumLevel:0},seasonPass3:{tier:"Ascension",price:5e3,priceIncrease:500,maxLevel:100,type:"upgrade",refundable:!0,refundMinimumLevel:0},chronometer:{tier:"Ascension",price:1600,priceIncrease:400,maxLevel:100,type:"upgrade",refundable:!0,refundMinimumLevel:0},infiniteAscent:{tier:"Ascension",price:25e3,priceIncrease:9999999,maxLevel:1,type:"upgrade",refundable:!1,refundMinimumLevel:0},calculator:{tier:"Reincarnation",price:500,priceIncrease:300,maxLevel:5,type:"upgrade",refundable:!1,refundMinimumLevel:1},calculator2:{tier:"Ascension",price:2500,priceIncrease:800,maxLevel:12,type:"upgrade",refundable:!1,refundMinimumLevel:0},calculator3:{tier:"Ascension",price:7500,priceIncrease:1500,maxLevel:10,type:"upgrade",refundable:!1,refundMinimumLevel:0},calculator4:{tier:"Singularity",price:1e7,priceIncrease:1e6,maxLevel:10,type:"upgrade",refundable:!1,refundMinimumLevel:0},calculator5:{tier:"SingularityVol2",price:1e8,priceIncrease:1e8,maxLevel:100,type:"upgrade",refundable:!1,refundMinimumLevel:0},calculator6:{tier:"SingularityVol3",price:1e11,priceIncrease:2e10,maxLevel:100,type:"upgrade",refundable:!1,refundMinimumLevel:0},constantEX:{tier:"Ascension",price:1e5,priceIncrease:899999,maxLevel:2,type:"upgrade",refundable:!1,refundMinimumLevel:0},powderEX:{tier:"Ascension",price:1e3,priceIncrease:750,maxLevel:50,type:"upgrade",refundable:!1,refundMinimumLevel:0},chronometer2:{tier:"Ascension",price:5e3,priceIncrease:1500,maxLevel:100,type:"upgrade",refundable:!0,refundMinimumLevel:0},chronometer3:{tier:"Singularity",price:250,priceIncrease:250,maxLevel:1e3,type:"upgrade",refundable:!1,refundMinimumLevel:0},seasonPassY:{tier:"Ascension",price:1e4,priceIncrease:1500,maxLevel:100,type:"upgrade",refundable:!0,refundMinimumLevel:0},seasonPassZ:{tier:"Singularity",price:250,priceIncrease:250,maxLevel:1e3,type:"upgrade",refundable:!1,refundMinimumLevel:0},challengeTome2:{tier:"Singularity",price:1e6,priceIncrease:1e6,maxLevel:5,type:"upgrade",refundable:!1,refundMinimumLevel:0},instantChallenge2:{tier:"Singularity",price:2e7,priceIncrease:0,maxLevel:1,type:"upgrade",refundable:!1,refundMinimumLevel:0},cubeToQuarkAll:{tier:"SingularityVol2",price:2222222,priceIncrease:0,maxLevel:100,type:"upgrade",refundable:!1,refundMinimumLevel:0},cashGrab2:{tier:"SingularityVol2",price:5e3,priceIncrease:5e3,maxLevel:1e3,type:"upgrade",refundable:!1,refundMinimumLevel:0},chronometerZ:{tier:"SingularityVol2",price:12500,priceIncrease:12500,maxLevel:1e3,type:"upgrade",refundable:!1,refundMinimumLevel:0},offeringEX2:{tier:"SingularityVol2",price:1e4,priceIncrease:1e4,maxLevel:1e3,type:"upgrade",refundable:!1,refundMinimumLevel:0},obtainiumEX2:{tier:"SingularityVol2",price:1e4,priceIncrease:1e4,maxLevel:1e3,type:"upgrade",refundable:!1,refundMinimumLevel:0},powderAuto:{tier:"SingularityVol2",price:5e6,priceIncrease:0,maxLevel:100,type:"upgrade",refundable:!1,refundMinimumLevel:0},seasonPassLost:{tier:"SingularityVol2",price:1e6,priceIncrease:25e3,maxLevel:1e3,type:"upgrade",refundable:!1,refundMinimumLevel:0},challenge15Auto:{tier:"SingularityVol3",price:5e11,priceIncrease:0,maxLevel:1,type:"upgrade",refundable:!1,refundMinimumLevel:0},extraWarp:{tier:"SingularityVol3",price:125e9,priceIncrease:0,maxLevel:1,type:"upgrade",refundable:!1,refundMinimumLevel:0},autoWarp:{tier:"SingularityVol3",price:5e11,priceIncrease:0,maxLevel:1,type:"upgrade",refundable:!1,refundMinimumLevel:0},improveQuarkHept:{tier:"Ascension",price:2e5-1,priceIncrease:0,maxLevel:1,type:"upgrade",refundable:!1,refundMinimumLevel:0},improveQuarkHept2:{tier:"Singularity",price:2e7-1,priceIncrease:0,maxLevel:1,type:"upgrade",refundable:!1,refundMinimumLevel:0},improveQuarkHept3:{tier:"SingularityVol2",price:2e9-1,priceIncrease:0,maxLevel:1,type:"upgrade",refundable:!1,refundMinimumLevel:0},improveQuarkHept4:{tier:"SingularityVol3",price:2e11-1,priceIncrease:0,maxLevel:1,type:"upgrade",refundable:!1,refundMinimumLevel:0},shopImprovedDaily:{tier:"Ascension",price:5e3,priceIncrease:2500,maxLevel:20,type:"upgrade",refundable:!1,refundMinimumLevel:0},shopImprovedDaily2:{tier:"Singularity",price:5e5,priceIncrease:5e5,maxLevel:10,type:"upgrade",refundable:!1,refundMinimumLevel:0},shopImprovedDaily3:{tier:"SingularityVol2",price:5e6,priceIncrease:125e5,maxLevel:15,type:"upgrade",refundable:!1,refundMinimumLevel:0},shopImprovedDaily4:{tier:"SingularityVol3",price:5e9,priceIncrease:5e9,maxLevel:25,type:"upgrade",refundable:!1,refundMinimumLevel:0},offeringEX3:{tier:"SingularityVol3",price:1,priceIncrease:125e10,maxLevel:1e3,type:"upgrade",refundable:!1,refundMinimumLevel:0},obtainiumEX3:{tier:"SingularityVol3",price:1,priceIncrease:125e10,maxLevel:1e3,type:"upgrade",refundable:!1,refundMinimumLevel:0},improveQuarkHept5:{tier:"SingularityVol4",price:1,priceIncrease:25e12,maxLevel:100,type:"upgrade",refundable:!1,refundMinimumLevel:0},chronometerInfinity:{tier:"SingularityVol4",price:1,priceIncrease:25e11,maxLevel:1e3,type:"upgrade",refundable:!1,refundMinimumLevel:0},seasonPassInfinity:{tier:"SingularityVol4",price:1,priceIncrease:375e10,maxLevel:1e3,type:"upgrade",refundable:!1,refundMinimumLevel:0},shopSingularityPenaltyDebuff:{tier:"Exalt1",price:1e17,priceIncrease:999e17,maxLevel:4,type:"upgrade",refundable:!1,refundMinimumLevel:0},shopAmbrosiaLuckMultiplier4:{tier:"Exalt2",price:1e20,priceIncrease:3e20,maxLevel:4,type:"upgrade",refundable:!1,refundMinimumLevel:0},calculator7:{tier:"Exalt3",price:1e20,priceIncrease:1e19,maxLevel:50,type:"upgrade",refundable:!1,refundMinimumLevel:0},shopOcteractAmbrosiaLuck:{tier:"Exalt4",price:1e21,priceIncrease:9e21,maxLevel:2,type:"upgrade",refundable:!1,refundMinimumLevel:0},shopAmbrosiaGeneration1:{tier:"SingularityVol2",price:5e7,priceIncrease:5e7,maxLevel:25,type:"upgrade",refundable:!1,refundMinimumLevel:0},shopAmbrosiaGeneration2:{tier:"SingularityVol3",price:5e11,priceIncrease:5e11,maxLevel:30,type:"upgrade",refundable:!1,refundMinimumLevel:0},shopAmbrosiaGeneration3:{tier:"SingularityVol4",price:5e13,priceIncrease:5e13,maxLevel:35,type:"upgrade",refundable:!1,refundMinimumLevel:0},shopAmbrosiaGeneration4:{tier:"SingularityVol4",price:1e17,priceIncrease:4*1e16,maxLevel:1e3,type:"upgrade",refundable:!1,refundMinimumLevel:0},shopAmbrosiaLuck1:{tier:"SingularityVol2",price:2e7,priceIncrease:2e7,maxLevel:40,type:"upgrade",refundable:!1,refundMinimumLevel:0},shopAmbrosiaLuck2:{tier:"SingularityVol3",price:2e11,priceIncrease:2e11,maxLevel:50,type:"upgrade",refundable:!1,refundMinimumLevel:0},shopAmbrosiaLuck3:{tier:"SingularityVol4",price:2e13,priceIncrease:2e13,maxLevel:60,type:"upgrade",refundable:!1,refundMinimumLevel:0},shopAmbrosiaLuck4:{tier:"SingularityVol4",price:1e17,priceIncrease:4*1e16,maxLevel:1e3,type:"upgrade",refundable:!1,refundMinimumLevel:0},shopCashGrabUltra:{tier:"Exalt1x30",price:1,priceIncrease:1e22,maxLevel:5,type:"upgrade",refundable:!1,refundMinimumLevel:0},shopAmbrosiaAccelerator:{tier:"Exalt5",price:1e21,priceIncrease:2e21,maxLevel:5,type:"upgrade",refundable:!1,refundMinimumLevel:0},shopEXUltra:{tier:"Exalt5x20",price:5e21,priceIncrease:0,maxLevel:80,type:"upgrade",refundable:!1,refundMinimumLevel:0},shopChronometerS:{tier:"Exalt6x15",price:5e21,priceIncrease:0,maxLevel:1,type:"upgrade",refundable:!1,refundMinimumLevel:0},shopAmbrosiaUltra:{tier:"Exalt6x25",price:8e23,priceIncrease:2e23,maxLevel:5,type:"upgrade",refundable:!1,refundMinimumLevel:0},shopSingularitySpeedup:{tier:"Exalt7x10",price:2e22,priceIncrease:0,maxLevel:1,type:"upgrade",refundable:!1,refundMinimumLevel:0},shopSingularityPotency:{tier:"Exalt7x20",price:2e23,priceIncrease:0,maxLevel:1,type:"upgrade",refundable:!1,refundMinimumLevel:0},shopSadisticRune:{tier:"Exalt7x30",price:444e22,priceIncrease:0,maxLevel:1,type:"upgrade",refundable:!1,refundMinimumLevel:0}},ls=t=>{if(Te[t].type==="consume"||Te[t].maxLevel===1)return Te[t].price;{let r=e.shopUpgrades[t];return Te[t].price+Te[t].priceIncrease*r}},Ar=t=>{let r=l("quarkdescription"),n=l("quarkeffect"),a=l("quarkRefundable");switch(r.innerHTML=u.t(`shop.upgradeDescriptions.${t}`),Te[t].refundable?a.textContent=`This item is refundable! Will be set to level ${Te[t].refundMinimumLevel} when refunded.`:a.textContent=u.t("shop.cannotRefund"),t){case"offeringPotion":n.innerHTML=u.t("shop.upgradeEffects.offeringPotion",{amount:d(7200*e.offeringpersecond*ot().mult*+e.singularityUpgrades.potionBuff.getEffect().bonus,0,!0)});break;case"obtainiumPotion":n.innerHTML=u.t("shop.upgradeEffects.obtainiumPotion",{amount:d(7200*e.maxobtainiumpersecond*ot().mult*+e.singularityUpgrades.potionBuff.getEffect().bonus,0,!0)});break;case"offeringEX":n.innerHTML=u.t("shop.upgradeEffects.offeringEX",{amount:d(4*e.shopUpgrades.offeringEX,2,!0)});break;case"offeringAuto":n.innerHTML=u.t("shop.upgradeEffects.offeringAuto",{amount1:d(Math.pow(2,e.shopUpgrades.offeringAuto)),amount2:d(2*e.shopUpgrades.offeringAuto,2)});break;case"obtainiumEX":n.innerHTML=u.t("shop.upgradeEffects.obtainiumEX",{amount:d(4*e.shopUpgrades.obtainiumEX,2,!0)});break;case"obtainiumAuto":n.innerHTML=u.t("shop.upgradeEffects.obtainiumAuto",{amount:d(e.shopUpgrades.obtainiumAuto*2,2)});break;case"instantChallenge":n.innerHTML=u.t("shop.upgradeEffects.instantChallenge");break;case"antSpeed":n.innerHTML=u.t("shop.upgradeEffects.antSpeed",{amount:d(Math.pow(1.2,e.shopUpgrades.antSpeed),2)});break;case"cashGrab":n.innerHTML=u.t("shop.upgradeEffects.cashGrab",{amount:d(e.shopUpgrades.cashGrab,2)});break;case"shopTalisman":n.innerHTML=u.t("shop.upgradeEffects.shopTalisman");break;case"seasonPass":n.innerHTML=u.t("shop.upgradeEffects.seasonPass",{amount:d(2.25*e.shopUpgrades.seasonPass)});break;case"challengeExtension":n.innerHTML=u.t("shop.upgradeEffects.challengeExtension",{amount:d(2*e.shopUpgrades.challengeExtension)});break;case"challengeTome":n.innerHTML=u.t("shop.upgradeEffects.challengeTome",{amount1:d(20*e.shopUpgrades.challengeTome),amount2:d(1-(e.shopUpgrades.challengeTome+e.shopUpgrades.challengeTome2)/100,2,!0)});break;case"cubeToQuark":n.innerHTML=u.t("shop.upgradeEffects.cubeToQuark");break;case"tesseractToQuark":n.innerHTML=u.t("shop.upgradeEffects.tesseractToQuark");break;case"hypercubeToQuark":n.innerHTML=u.t("shop.upgradeEffects.hypercubeToQuark");break;case"seasonPass2":n.innerHTML=u.t("shop.upgradeEffects.seasonPass2",{amount:d(1.5*e.shopUpgrades.seasonPass2)});break;case"seasonPass3":n.innerHTML=u.t("shop.upgradeEffects.seasonPass3",{amount:d(1.5*e.shopUpgrades.seasonPass3)});break;case"chronometer":n.innerHTML=u.t("shop.upgradeEffects.chronometer",{amount:d(1.2*e.shopUpgrades.chronometer)});break;case"infiniteAscent":n.innerHTML=u.t("shop.upgradeEffects.infiniteAscent");break;case"calculator":n.innerHTML=u.t("shop.upgradeEffects.calculator",{amount1:d(14*e.shopUpgrades.calculator),bool1:e.shopUpgrades.calculator>0,bool2:e.shopUpgrades.calculator===Te.calculator.maxLevel});break;case"calculator2":n.innerHTML=u.t("shop.upgradeEffects.calculator2",{amount1:d(2*e.shopUpgrades.calculator2),amount2:d(e.shopUpgrades.calculator2===Te.calculator2.maxLevel?25:0)});break;case"calculator3":n.innerHTML=u.t("shop.upgradeEffects.calculator3",{amount1:d(10*e.shopUpgrades.calculator3),amount2:d(60*e.shopUpgrades.calculator3)});break;case"calculator4":n.innerHTML=u.t("shop.upgradeEffects.calculator4",{amount1:d(2*e.shopUpgrades.calculator4),amount2:e.shopUpgrades.calculator4===10?32:0});break;case"calculator5":n.innerHTML=u.t("shop.upgradeEffects.calculator5",{amount1:d(6*e.shopUpgrades.calculator5),amount2:Math.floor(e.shopUpgrades.calculator5/10)+(e.shopUpgrades.calculator4===Te.calculator5.maxLevel?6:0)});break;case"calculator6":n.innerHTML=u.t("shop.upgradeEffects.calculator6",{amount1:d(e.shopUpgrades.calculator6),amount2:e.shopUpgrades.calculator6===Te.calculator6.maxLevel?24:0});break;case"calculator7":n.innerHTML=u.t("shop.upgradeEffects.calculator7",{amount1:d(e.shopUpgrades.calculator7,0,!0),amount2:e.shopUpgrades.calculator7===Te.calculator7.maxLevel?48:0});break;case"constantEX":n.innerHTML=u.t("shop.upgradeEffects.constantEX",{amount:d(e.shopUpgrades.constantEX,0,!0)});break;case"powderEX":n.innerHTML=u.t("shop.upgradeEffects.powderEX",{amount:d(2*e.shopUpgrades.powderEX)});break;case"chronometer2":n.innerHTML=u.t("shop.upgradeEffects.chronometer2",{amount:d(.6*e.shopUpgrades.chronometer2,1)});break;case"chronometer3":n.innerHTML=u.t("shop.upgradeEffects.chronometer3",{amount:d(1.5*e.shopUpgrades.chronometer3,1)});break;case"seasonPassY":n.innerHTML=u.t("shop.upgradeEffects.seasonPassY",{amount:d(.75*e.shopUpgrades.seasonPassY,2)});break;case"seasonPassZ":n.innerHTML=u.t("shop.upgradeEffects.seasonPassZ",{amount:d(1*e.shopUpgrades.seasonPassZ*e.singularityCount,0,!0)});break;case"challengeTome2":n.innerHTML=u.t("shop.upgradeEffects.challengeTome2",{amount1:20*e.shopUpgrades.challengeTome2,amount2:d(1-(e.shopUpgrades.challengeTome+e.shopUpgrades.challengeTome2)/100,2,!0)});break;case"instantChallenge2":n.innerHTML=u.t("shop.upgradeEffects.instantChallenge2",{amount:d(e.shopUpgrades.instantChallenge2*e.singularityCount,0)});break;case"cashGrab2":n.innerHTML=u.t("shop.upgradeEffects.cashGrab2",{amount:d(.5*e.shopUpgrades.cashGrab2,1)});break;case"cubeToQuarkAll":n.innerHTML=u.t("shop.upgradeEffects.cubeToQuarkAll",{amount:d(.2*e.shopUpgrades.cubeToQuarkAll,2)});break;case"chronometerZ":n.innerHTML=u.t("shop.upgradeEffects.chronometerZ",{amount:d(.1*e.singularityCount*e.shopUpgrades.chronometerZ,2)});break;case"offeringEX2":n.innerHTML=u.t("shop.upgradeEffects.offeringEX2",{amount:d(1*e.singularityCount*e.shopUpgrades.offeringEX2,2)});break;case"obtainiumEX2":n.innerHTML=u.t("shop.upgradeEffects.obtainiumEX2",{amount:d(1*e.singularityCount*e.shopUpgrades.obtainiumEX2,2)});break;case"powderAuto":n.innerHTML=u.t("shop.upgradeEffects.powderAuto",{amount:d(100/(Math.max(1,e.shopUpgrades.powderAuto)*Kr().mult),2,!0)});break;case"seasonPassLost":n.innerHTML=u.t("shop.upgradeEffects.seasonPassLost",{amount:d(.1*e.shopUpgrades.seasonPassLost,2)});break;case"challenge15Auto":n.innerHTML=u.t("shop.upgradeEffects.challenge15Auto");break;case"extraWarp":n.innerHTML=u.t("shop.upgradeEffects.extraWarp",{amount:e.shopUpgrades.extraWarp});break;case"autoWarp":n.innerHTML=u.t("shop.upgradeEffects.autoWarp");break;case"improveQuarkHept":n.innerHTML=u.t("shop.upgradeEffects.improveQuarkHept",{amount:2*e.shopUpgrades.improveQuarkHept});break;case"improveQuarkHept2":n.innerHTML=u.t("shop.upgradeEffects.improveQuarkHept2",{amount:2*e.shopUpgrades.improveQuarkHept2});break;case"improveQuarkHept3":n.innerHTML=u.t("shop.upgradeEffects.improveQuarkHept3",{amount:2*e.shopUpgrades.improveQuarkHept3});break;case"improveQuarkHept4":n.innerHTML=u.t("shop.upgradeEffects.improveQuarkHept4",{amount:2*e.shopUpgrades.improveQuarkHept4});break;case"shopImprovedDaily":n.innerHTML=u.t("shop.upgradeEffects.shopImprovedDaily",{amount:d(5*e.shopUpgrades.shopImprovedDaily)});break;case"shopImprovedDaily2":n.innerHTML=u.t("shop.upgradeEffects.shopImprovedDaily2",{amount1:e.shopUpgrades.shopImprovedDaily2,amount2:e.shopUpgrades.shopImprovedDaily2*20});break;case"shopImprovedDaily3":n.innerHTML=u.t("shop.upgradeEffects.shopImprovedDaily3",{amount1:e.shopUpgrades.shopImprovedDaily3,amount2:e.shopUpgrades.shopImprovedDaily3*15});break;case"shopImprovedDaily4":n.innerHTML=u.t("shop.upgradeEffects.shopImprovedDaily4",{amount1:e.shopUpgrades.shopImprovedDaily4,amount2:e.shopUpgrades.shopImprovedDaily4*100});break;case"offeringEX3":n.innerHTML=u.t("shop.upgradeEffects.offeringEX3",{amount:d(100*(Math.pow(1.02,e.shopUpgrades.offeringEX3)-1),2,!0)});break;case"obtainiumEX3":n.innerHTML=u.t("shop.upgradeEffects.obtainiumEX3",{amount:d(100*(Math.pow(1.02,e.shopUpgrades.obtainiumEX3)-1),2,!0)});break;case"improveQuarkHept5":n.innerHTML=u.t("shop.upgradeEffects.improveQuarkHept5",{amount:d(e.shopUpgrades.improveQuarkHept5/25,2,!0)});break;case"seasonPassInfinity":n.innerHTML=u.t("shop.upgradeEffects.seasonPassInfinity",{amount:d(100*(Math.pow(1.02,e.shopUpgrades.seasonPassInfinity)-1),2,!0)});break;case"chronometerInfinity":n.innerHTML=u.t("shop.upgradeEffects.chronometerInfinity",{amount:d(100*(Math.pow(1.01,e.shopUpgrades.chronometerInfinity)-1),2,!0)});break;case"shopSingularityPenaltyDebuff":n.innerHTML=u.t("shop.upgradeEffects.shopSingularityPenaltyDebuff",{amount1:d(e.singularityCount),amount2:d(e.singularityCount-e.shopUpgrades.shopSingularityPenaltyDebuff)});break;case"shopAmbrosiaLuckMultiplier4":n.innerHTML=u.t("shop.upgradeEffects.shopAmbrosiaLuckMultiplier4",{amount:d(e.shopUpgrades.shopAmbrosiaLuckMultiplier4)});break;case"shopOcteractAmbrosiaLuck":n.innerHTML=u.t("shop.upgradeEffects.shopOcteractAmbrosiaLuck",{amount:d(e.shopUpgrades.shopOcteractAmbrosiaLuck*(1+Math.floor(Math.log10(e.totalWowOcteracts+1))))});break;case"shopAmbrosiaGeneration1":n.innerHTML=u.t("shop.upgradeEffects.shopAmbrosiaGeneration1",{amount:d(e.shopUpgrades.shopAmbrosiaGeneration1)});break;case"shopAmbrosiaGeneration2":n.innerHTML=u.t("shop.upgradeEffects.shopAmbrosiaGeneration2",{amount:d(e.shopUpgrades.shopAmbrosiaGeneration2)});break;case"shopAmbrosiaGeneration3":n.innerHTML=u.t("shop.upgradeEffects.shopAmbrosiaGeneration3",{amount:d(e.shopUpgrades.shopAmbrosiaGeneration3)});break;case"shopAmbrosiaGeneration4":n.innerHTML=u.t("shop.upgradeEffects.shopAmbrosiaGeneration4",{amount:d(e.shopUpgrades.shopAmbrosiaGeneration4/10,1,!0)});break;case"shopAmbrosiaLuck1":n.innerHTML=u.t("shop.upgradeEffects.shopAmbrosiaLuck1",{amount:d(2*e.shopUpgrades.shopAmbrosiaLuck1)});break;case"shopAmbrosiaLuck2":n.innerHTML=u.t("shop.upgradeEffects.shopAmbrosiaLuck2",{amount:d(2*e.shopUpgrades.shopAmbrosiaLuck2)});break;case"shopAmbrosiaLuck3":n.innerHTML=u.t("shop.upgradeEffects.shopAmbrosiaLuck3",{amount:d(2*e.shopUpgrades.shopAmbrosiaLuck3)});break;case"shopAmbrosiaLuck4":n.innerHTML=u.t("shop.upgradeEffects.shopAmbrosiaLuck4",{amount:d(6*e.shopUpgrades.shopAmbrosiaLuck4/10,1,!0)});break;case"shopCashGrabUltra":n.innerHTML=u.t("shop.upgradeEffects.shopCashGrabUltra",{amount:d(100*(Yo()-1),2,!0),amount2:d(100*(Rl()-1),2,!0),amount3:d(100*(Jo()-1),2,!0)});break;case"shopAmbrosiaAccelerator":n.innerHTML=u.t("shop.upgradeEffects.shopAmbrosiaAccelerator",{amount:d(.2*e.shopUpgrades.shopAmbrosiaAccelerator,1,!0),amount2:d(e.shopUpgrades.shopAmbrosiaAccelerator*.2*i.ambrosiaCurrStats.ambrosiaGenerationSpeed,0,!0)});break;case"shopEXUltra":{let s=125e3*e.shopUpgrades.shopEXUltra;n.innerHTML=u.t("shop.upgradeEffects.shopEXUltra",{amount:d(.1*Math.floor(Math.min(s,e.lifetimeAmbrosia)/1e3),1,!0)})}break;case"shopChronometerS":{let s=e.singularityCount,o=e.shopUpgrades.shopChronometerS>0;n.innerHTML=u.t("shop.upgradeEffects.shopChronometerS",{amount:d(Math.max(0,100*(Math.pow(1.01,(s-200)*+o)-1)),2,!0)})}break;case"shopAmbrosiaUltra":{let s=ed();n.innerHTML=u.t("shop.upgradeEffects.shopAmbrosiaUltra",{amount:d(e.shopUpgrades.shopAmbrosiaUltra*s,0,!0)})}break;case"shopSingularitySpeedup":{let s=e.shopUpgrades.shopSingularitySpeedup>0;n.innerHTML=u.t("shop.upgradeEffects.shopSingularitySpeedup",{amount:s?20:1});break}case"shopSingularityPotency":{let s=e.shopUpgrades.shopSingularityPotency>0;n.innerHTML=u.t("shop.upgradeEffects.shopSingularityPotency",{amount:s?7.66:1})}break;case"shopSadisticRune":n.innerHTML=u.t("shop.upgradeEffects.shopSadisticRune")}},is=t=>({offeringPotion:"Offering Potion",obtainiumPotion:"Obtainium Potion",offeringEX:"Offering EX",offeringAuto:"Offering Auto",obtainiumEX:"Obtainium EX",obtainiumAuto:"Obtainium Auto",instantChallenge:"Instant Challenge Completions",antSpeed:"Ant Speed",cashGrab:"Cash Grab",shopTalisman:"the Plastic talisman",seasonPass:"Season Pass",challengeExtension:"Reincarnation Challenge EX",challengeTome:"Challenge 10 Requirement Reduce",cubeToQuark:"Cube Quarks +50%",tesseractToQuark:"Tesseract Quarks +50%",hypercubeToQuark:"Hypercube Quarks +50%",seasonPass2:"Season Pass 2",seasonPass3:"Season Pass 3",chronometer:"Chronometer 1",infiniteAscent:"Infinite Ascent",calculator:"PL-AT calculator",calculator2:"PL-AT X calculator",calculator3:"PL-AT \u03A9 calculator",calculator4:"PL-AT \u03B4 calculator",calculator5:"PL-AT \u0393 calculator",calculator6:"QUAAA-T calculator",calculator7:"PL-AT \u03A9\u03A9 calculator",constantEX:"Constant EX",powderEX:"Powder EX",chronometer2:"Chronometer 2",chronometer3:"Chronometer 3",seasonPassY:"Season Pass Y",seasonPassZ:"Season Pass Z",challengeTome2:"Challenge 10 Requirement Reduction 2",instantChallenge2:"Instant Challenge Completions 2",cubeToQuarkAll:"Quark Gain Cube Improvement 2",cashGrab2:"Cash Grab 2",chronometerZ:"Chronometer Z",obtainiumEX2:"Obtainium EX 2",offeringEX2:"Offering EX 2",powderAuto:"Automated Powder",seasonPassLost:"Season Pass LOST",challenge15Auto:"Challenge 15 Automation",extraWarp:"Extra Warp",autoWarp:"a quack powered Warps?",improveQuarkHept:"Quark Hepteract 1",improveQuarkHept2:"Quark Hepteract 2",improveQuarkHept3:"Quark Hepteract 3",improveQuarkHept4:"Quack Hepteract 4",shopImprovedDaily:"Improved Daily Code 1",shopImprovedDaily2:"Improved Daily Code 2",shopImprovedDaily3:"Improved Daily Code 3",shopImprovedDaily4:"Improved Daily Code 4",offeringEX3:"The final Offering Upgrade",obtainiumEX3:"The final Obtainium Upgrade",improveQuarkHept5:"The final Quark Hepteract Improver",chronometerInfinity:"The final Chronometer",seasonPassInfinity:"The final Season pass",shopSingularityPenaltyDebuff:"A Singularity Tenderizer",shopAmbrosiaLuckMultiplier4:"The Fourth Multiplicative Ambrosia Luck Multiplier",shopOcteractAmbrosiaLuck:"Octeract-Based Ambrosia Luck Amplifier",shopAmbrosiaGeneration1:"Ambrosia Generation Speedup",shopAmbrosiaGeneration2:"Another Ambrosia Generation Speedup",shopAmbrosiaGeneration3:"A better Ambrosia Generation Speedup",shopAmbrosiaGeneration4:"A FINAL Ambrosia Generation Speedup",shopAmbrosiaLuck1:"Ambrosia Luck Increaser",shopAmbrosiaLuck2:"Another Ambrosia Luck Increaser",shopAmbrosiaLuck3:"A better Ambrosia Generation Speedup",shopAmbrosiaLuck4:"A FINAL Ambrosia Generation Speedup",shopCashGrabUltra:"It's the FINAL CASHGRAB!",shopAmbrosiaAccelerator:"An Ambrosial Accelerator!",shopEXUltra:"It's the FINAL E X!",shopChronometerS:"The FINAL Chronometer",shopAmbrosiaUltra:"The FINAL Ambrosia Exaltation... I don't flippin know!",shopSingularitySpeedup:"Singularity Timed-Perks Speedup",shopSingularityPotency:"Singularity Passives Potency",shopSadisticRune:"Sadistic Rune Unlock! Or does it?"})[t],Ul=async t=>{let r=Te[t];if(e.shopUpgrades[t]>=r.maxLevel)return e.shopConfirmationToggle?B(`You can't purchase ${is(t)} because you are already at the maximum ${r.type==="upgrade"?"level":"capacity"}!`):null;if(Number(e.worlds)<ls(t))return e.shopConfirmationToggle?B(`You can't purchase ${is(t)} because you don't have enough Quarks!`):null;if(!Xs(t))return B(`You do not have the right to purchase ${is(t)}!`);let n,a=r.maxLevel-e.shopUpgrades[t],s,o;switch(e.shopBuyMaxToggle){case!1:s=1,o=ls(t);break;case"TEN":n=wr(e.shopUpgrades[t],r.price,+e.worlds,r.priceIncrease/r.price,Math.min(10,a)),s=n.levelCanBuy-e.shopUpgrades[t],o=n.cost;break;default:n=wr(e.shopUpgrades[t],r.price,+e.worlds,r.priceIncrease/r.price,a),s=n.levelCanBuy-e.shopUpgrades[t],o=n.cost}let c=r.maxLevel===1,p=s.toLocaleString()+(r.type==="upgrade"?" level":" vial")+(s===1?"":"s"),f=r.refundable?"":`

\u26A0\uFE0F !! No Refunds !! \u26A0\uFE0F`,g=r.type==="consume"?`

Type -1 in Buy: ANY to buy equal amounts of both Potions.`:"";if(e.shopBuyMaxToggle==="ANY"&&!c){let b=await je(`You can afford to purchase up to ${p} of ${is(t)} for ${o.toLocaleString()} Quarks. How many would you like to buy?${g+f}`),y;if(Number(b)===-1&&r.type==="consume"){let x=t==="offeringPotion"?"obtainiumPotion":"offeringPotion",D=Math.max(+e.worlds/2,+e.worlds-o),$=wr(e.shopUpgrades[x],Te[x].price,D,Te[x].priceIncrease/Te[x].price,Te[x].maxLevel-e.shopUpgrades[x]);e.worlds.sub($.cost),e.shopUpgrades[x]=$.levelCanBuy,y=s}else{if(y=Math.floor(Number(b)),y===0)return;if(Number.isNaN(y)||!Number.isFinite(y)||y<0)return B("Amount must be a finite, positive integer.")}let C=wr(e.shopUpgrades[t],r.price,+e.worlds,r.priceIncrease/r.price,Math.min(y,s));e.worlds.sub(C.cost),e.shopUpgrades[t]=C.levelCanBuy,Ve(),i.ambrosiaCurrStats.ambrosiaLuck=nt().value,i.ambrosiaCurrStats.ambrosiaAdditiveLuckMult=yn().value,i.ambrosiaCurrStats.ambrosiaGenerationSpeed=rt().value;return}let h=!0;(e.shopConfirmationToggle||!r.refundable&&e.shopBuyMaxToggle!==!1)&&(h=await Ne(`You are about to ${c?"unlock":`purchase ${p} of`} ${is(t)} for ${o.toLocaleString()} Quarks. Press 'OK' to finalize purchase.${g+f}`)),h&&(e.worlds.sub(o),e.shopUpgrades[t]+=s,i.ambrosiaCurrStats.ambrosiaLuck=nt().value,i.ambrosiaCurrStats.ambrosiaAdditiveLuckMult=yn().value,i.ambrosiaCurrStats.ambrosiaGenerationSpeed=rt().value,Ve())};var _n=async(t,r=!1,n=1,a=!0)=>{let s=_e.AUTO_POTION_FREE_POTIONS_QOL;if(e.shopConfirmationToggle&&!r?await Ne("Would you like to use some of this potion?"):!0){let c=+e.singularityUpgrades.potionBuff.getEffect().bonus*+e.singularityUpgrades.potionBuff2.getEffect().bonus*+e.singularityUpgrades.potionBuff3.getEffect().bonus*+e.octeractUpgrades.octeractAutoPotionEfficiency.getEffect().bonus*n;t==="offeringPotion"?s&&r?(e.runeshards+=Math.floor(7200*e.offeringpersecond*ot().mult*c),e.runeshards=Math.min(1e300,e.runeshards)):(e.shopUpgrades.offeringPotion>=n||!a)&&(e.shopUpgrades.offeringPotion-=a?n:0,e.runeshards+=Math.floor(7200*e.offeringpersecond*ot().mult*c),e.runeshards=Math.min(1e300,e.runeshards)):t==="obtainiumPotion"&&(s&&r?(e.researchPoints+=Math.floor(7200*e.maxobtainiumpersecond*ot().mult*c),e.researchPoints=Math.min(1e300,e.researchPoints)):(e.shopUpgrades.obtainiumPotion>=n||!a)&&(e.shopUpgrades.obtainiumPotion-=a?n:0,e.researchPoints+=Math.floor(7200*e.maxobtainiumpersecond*ot().mult*c),e.researchPoints=Math.min(1e300,e.researchPoints)))}},Bl=async(t=!1)=>{let r=!1;if(t||(r=e.shopConfirmationToggle?await Ne("This will fully refund most of your permanent upgrades for an upfront cost of 15 Quarks. Would you like to do this?"):!0),r||t){let n=e.quarksThisSingularity,a=!1;for(let s in Te){let o=s,c=Te[o];if(c.refundable&&e.shopUpgrades[o]>c.refundMinimumLevel){a=!0;let p=c.price*c.refundMinimumLevel+c.priceIncrease*c.refundMinimumLevel*(c.refundMinimumLevel-1)/2;e.worlds.add(c.price*e.shopUpgrades[o]+c.priceIncrease*e.shopUpgrades[o]*(e.shopUpgrades[o]-1)/2-p,!1),e.shopUpgrades[o]=c.refundMinimumLevel}}a?e.worlds.sub(15):!t&&e.shopConfirmationToggle&&B("Nothing to Refund!"),e.quarksThisSingularity=n}};var Xs=t=>{switch(t){case"offeringPotion":return!0;case"obtainiumPotion":return!0;case"offeringEX":return e.reincarnationCount>0||e.highestSingularityCount>0;case"offeringAuto":return e.reincarnationCount>0||e.highestSingularityCount>0;case"obtainiumEX":return e.reincarnationCount>0||e.highestSingularityCount>0;case"obtainiumAuto":return e.reincarnationCount>0||e.highestSingularityCount>0;case"instantChallenge":return e.reincarnationCount>0||e.highestSingularityCount>0;case"antSpeed":return e.highestchallengecompletions[8]>0||e.ascensionCount>0||e.highestSingularityCount>0;case"cashGrab":return e.highestchallengecompletions[8]>0||e.ascensionCount>0||e.highestSingularityCount>0;case"shopTalisman":return e.highestchallengecompletions[9]>0||e.ascensionCount>0||e.highestSingularityCount>0;case"seasonPass":return e.ascensionCount>0||e.highestSingularityCount>0;case"challengeExtension":return e.ascensionCount>0||e.highestSingularityCount>0;case"challengeTome":return e.ascensionCount>0||e.highestSingularityCount>0;case"cubeToQuark":return e.ascensionCount>0||e.highestSingularityCount>0;case"tesseractToQuark":return e.highestchallengecompletions[11]>0||e.highestSingularityCount>0;case"hypercubeToQuark":return e.highestchallengecompletions[13]>0||e.highestSingularityCount>0;case"seasonPass2":return e.highestchallengecompletions[14]>0||e.highestSingularityCount>0;case"seasonPass3":return e.highestchallengecompletions[14]>0||e.highestSingularityCount>0;case"chronometer":return e.highestchallengecompletions[12]>0||e.highestSingularityCount>0;case"infiniteAscent":return e.highestchallengecompletions[14]>0||e.highestSingularityCount>0;case"calculator":return e.ascensionCount>0||e.highestSingularityCount>0;case"calculator2":return e.highestchallengecompletions[11]>0||e.highestSingularityCount>0;case"calculator3":return e.highestchallengecompletions[13]>0||e.highestSingularityCount>0;case"calculator4":return!!e.singularityUpgrades.wowPass.getEffect().bonus;case"calculator5":return!!e.singularityUpgrades.wowPass2.getEffect().bonus;case"calculator6":return!!e.singularityUpgrades.wowPass3.getEffect().bonus;case"calculator7":return!!e.singularityChallenges.limitedAscensions.rewards.shopUpgrade;case"constantEX":return e.highestchallengecompletions[14]>0||e.highestSingularityCount>0;case"powderEX":return e.challenge15Exponent>=1e15||e.highestSingularityCount>0;case"chronometer2":return e.challenge15Exponent>=1e15||e.highestSingularityCount>0;case"chronometer3":return!!e.singularityUpgrades.wowPass.getEffect().bonus;case"seasonPassY":return e.challenge15Exponent>=1e15||e.highestSingularityCount>0;case"seasonPassZ":return!!e.singularityUpgrades.wowPass.getEffect().bonus;case"challengeTome2":return!!e.singularityUpgrades.wowPass.getEffect().bonus;case"instantChallenge2":return!!e.singularityUpgrades.wowPass.getEffect().bonus;case"cashGrab2":return!!e.singularityUpgrades.wowPass2.getEffect().bonus;case"cubeToQuarkAll":return!!e.singularityUpgrades.wowPass2.getEffect().bonus;case"chronometerZ":return!!e.singularityUpgrades.wowPass2.getEffect().bonus;case"offeringEX2":return!!e.singularityUpgrades.wowPass2.getEffect().bonus;case"obtainiumEX2":return!!e.singularityUpgrades.wowPass2.getEffect().bonus;case"powderAuto":return!!e.singularityUpgrades.wowPass2.getEffect().bonus;case"seasonPassLost":return!!e.singularityUpgrades.wowPass2.getEffect().bonus;case"challenge15Auto":return!!e.singularityUpgrades.wowPass3.getEffect().bonus;case"extraWarp":return!!e.singularityUpgrades.wowPass3.getEffect().bonus;case"autoWarp":return!!e.singularityUpgrades.wowPass3.getEffect().bonus;case"improveQuarkHept":return e.challenge15Exponent>=1e15||e.highestSingularityCount>0;case"improveQuarkHept2":return!!e.singularityUpgrades.wowPass.getEffect().bonus;case"improveQuarkHept3":return!!e.singularityUpgrades.wowPass2.getEffect().bonus;case"improveQuarkHept4":return!!e.singularityUpgrades.wowPass3.getEffect().bonus;case"shopImprovedDaily":return e.highestchallengecompletions[14]>0||e.highestSingularityCount>0;case"shopImprovedDaily2":return!!e.singularityUpgrades.wowPass.getEffect().bonus;case"shopImprovedDaily3":return!!e.singularityUpgrades.wowPass2.getEffect().bonus;case"shopImprovedDaily4":return!!e.singularityUpgrades.wowPass3.getEffect().bonus;case"offeringEX3":return!!e.singularityUpgrades.wowPass4.getEffect().bonus;case"obtainiumEX3":return!!e.singularityUpgrades.wowPass4.getEffect().bonus;case"improveQuarkHept5":return!!e.singularityUpgrades.wowPass4.getEffect().bonus;case"chronometerInfinity":return!!e.singularityUpgrades.wowPass4.getEffect().bonus;case"seasonPassInfinity":return!!e.singularityUpgrades.wowPass4.getEffect().bonus;case"shopSingularityPenaltyDebuff":return!!e.singularityChallenges.noSingularityUpgrades.rewards.shopUpgrade;case"shopAmbrosiaLuckMultiplier4":return!!e.singularityChallenges.oneChallengeCap.rewards.shopUpgrade;case"shopOcteractAmbrosiaLuck":return!!e.singularityChallenges.noOcteracts.rewards.shopUpgrade;case"shopAmbrosiaGeneration1":return!!e.singularityUpgrades.wowPass2.getEffect().bonus;case"shopAmbrosiaGeneration2":return!!e.singularityUpgrades.wowPass3.getEffect().bonus;case"shopAmbrosiaGeneration3":return!!e.singularityUpgrades.wowPass4.getEffect().bonus;case"shopAmbrosiaGeneration4":return!!e.singularityUpgrades.wowPass4.getEffect().bonus;case"shopAmbrosiaLuck1":return!!e.singularityUpgrades.wowPass2.getEffect().bonus;case"shopAmbrosiaLuck2":return!!e.singularityUpgrades.wowPass3.getEffect().bonus;case"shopAmbrosiaLuck3":return!!e.singularityUpgrades.wowPass4.getEffect().bonus;case"shopAmbrosiaLuck4":return!!e.singularityUpgrades.wowPass4.getEffect().bonus;case"shopCashGrabUltra":return!!e.singularityChallenges.noSingularityUpgrades.rewards.shopUpgrade2;case"shopAmbrosiaAccelerator":return!!e.singularityChallenges.noAmbrosiaUpgrades.rewards.shopUpgrade;case"shopEXUltra":return!!e.singularityChallenges.noAmbrosiaUpgrades.rewards.shopUpgrade2;case"shopChronometerS":return!!e.singularityChallenges.limitedTime.rewards.tier1Upgrade;case"shopAmbrosiaUltra":return!!e.singularityChallenges.limitedTime.rewards.tier2Upgrade;case"shopSingularitySpeedup":return!!e.singularityChallenges.sadisticPrequel.rewards.shopUpgrade;case"shopSingularityPotency":return!!e.singularityChallenges.sadisticPrequel.rewards.shopUpgrade2;case"shopSadisticRune":return!!e.singularityChallenges.sadisticPrequel.rewards.shopUpgrade3}};var Kg={shard:{obtainium:1e13,offerings:100},commonFragment:{obtainium:1e14,offerings:1e4},uncommonFragment:{obtainium:1e16,offerings:1e5},rareFragment:{obtainium:1e18,offerings:1e6},epicFragment:{obtainium:1e20,offerings:1e7},legendaryFragment:{obtainium:1e22,offerings:1e8},mythicalFragment:{obtainium:1e24,offerings:1e9}},td=["One","Two","Three","Four","Five","Six","Seven"],ei=t=>{let r=30*e.talismanRarity[t];return r+=6*z("ascension",e.challengecompletions[13]),r+=Math.floor(e.researches[200]/400),t===6&&(r+=_e.INSTANT_UNLOCK_1?10:0),e.cubeUpgrades[67]>0&&t===3&&(r+=1337),r},Xg=(t,r=e.buyTalismanShardPercent)=>{let n=Kg[t].obtainium,a=Kg[t].offerings,s=Math.max(1,Math.floor(e.researchPoints/n)),o=Math.max(1,Math.floor(e.runeshards/a)),c=Math.max(1,Math.floor(r/100*Math.min(s,o)));return{canBuy:n<=e.researchPoints&&a<=e.runeshards,buyAmount:c,obtainiumCost:n*c,offeringCost:a*c}},Il=(t,r=e.buyTalismanShardPercent)=>{let n=l("talismanFragmentCost");if(t){let a=Xg(t,r),s=u.t(`runes.talismans.shards.${t}`);n.textContent=u.t("runes.talismans.costToBuy",{name:s,buyAmount:d(a.buyAmount),obtainium:d(a.obtainiumCost),offerings:d(a.offeringCost)})}else n.textContent=u.t("runes.talismans.clickBuyEveryType")},Zs=(t=e.buyTalismanShardPercent)=>{l("talismanTen").style.backgroundColor="",l("talismanTwentyFive").style.backgroundColor="",l("talismanFifty").style.backgroundColor="",l("talismanHundred").style.backgroundColor="",e.buyTalismanShardPercent=t;let r="Ten";t===25&&(r="TwentyFive"),t===50&&(r="Fifty"),t===100&&(r="Hundred"),l(`talisman${r}`).style.backgroundColor="green"},fr=()=>{l("talismanShardInventory").textContent=d(e.talismanShards),l("commonFragmentInventory").textContent=d(e.commonFragments),l("uncommonFragmentInventory").textContent=d(e.uncommonFragments),l("rareFragmentInventory").textContent=d(e.rareFragments),l("epicFragmentInventory").textContent=d(e.epicFragments),l("legendaryFragmentInventory").textContent=d(e.legendaryFragments),l("mythicalFragmentInventory").textContent=d(e.mythicalFragments)},Nl=()=>{let t=["shard","commonFragment","uncommonFragment","rareFragment","epicFragment","legendaryFragment","mythicalFragment"];for(let r=t.length-1;r>=0;r--)rd(t[r])},rd=(t,r=e.buyTalismanShardPercent)=>{let n=Xg(t,r);n.canBuy&&(t==="shard"?e.talismanShards+=n.buyAmount:e[`${t}s`]+=n.buyAmount,t==="mythicalFragment"&&e.mythicalFragments>=1e25&&e.achievements[239]<1&&F(239),e.researchPoints-=n.obtainiumCost,e.runeshards-=n.offeringCost,e.researchPoints<0&&(e.researchPoints=0),e.runeshards<0&&(e.runeshards=0)),Il(t,r),fr()},_l=t=>{l("talismanlevelup").style.display="none",l("talismanEffect").style.display="block",l("talismanrespec").style.display="none";let r=l("talismanSummary"),n=l("talismanBonus"),a=l("talismanRune1Effect"),s=l("talismanRune2Effect"),o=l("talismanRune3Effect"),c=l("talismanRune4Effect"),p=l("talismanRune5Effect"),f=l("talismanMythicEffect"),g="",h="";switch(t){case 0:g="exemption",h=d(10*(e.talismanRarity[0]-1));break;case 1:g="chronos",h=d(10*(e.talismanRarity[1]-1));break;case 2:g="midas",h=d(10*(e.talismanRarity[2]-1));break;case 3:g="metaphysics",h=d(.02*(e.talismanRarity[3]-1),2);break;case 4:g="polymath",h=d(1*(e.talismanRarity[4]-1));break;case 5:g="mortuus",h=d(2*(e.talismanRarity[5]-1));break;case 6:g="plastic";break}let b=`talisman${t+1}Effect`;r.textContent=u.t(`runes.talismans.summaries.${g}`),n.textContent=u.t(`runes.talismans.effects.${g}`,{x:h}),a.textContent=u.t("runes.talismans.bonusRuneLevels.speed",{x:d(i[b][1],2,!0)}),s.textContent=u.t("runes.talismans.bonusRuneLevels.duplication",{x:d(i[b][2],2,!0)}),o.textContent=u.t("runes.talismans.bonusRuneLevels.prism",{x:d(i[b][3],2,!0)}),c.textContent=u.t("runes.talismans.bonusRuneLevels.thrift",{x:d(i[b][4],2,!0)}),p.textContent=u.t("runes.talismans.bonusRuneLevels.SI",{x:d(i[b][5],2,!0)}),f.textContent=u.t(`runes.talismans.mythicEffects.${g}`),e.talismanRarity[t]!==6&&(f.textContent=u.t("runes.talismans.maxEnhance"))},nd=t=>{l("talismanEffect").style.display="none",l("talismanlevelup").style.display="block",l("talismanrespec").style.display="none";let r=l("talismanShardCost"),n=l("talismanCommonFragmentCost"),a=l("talismanUncommonFragmentCost"),s=l("talismanRareFragmentCost"),o=l("talismanEpicFragmentCost"),c=l("talismanLegendaryFragmentCost"),p=l("talismanMythicalFragmentCost");l("talismanLevelUpSummary").textContent=u.t("runes.resourcesToLevelup"),l("talismanLevelUpSummary").style.color="silver";let f=i.talismanLevelCostMultiplier[t];e.talismanLevels[t]>=120&&(f*=(e.talismanLevels[t]-90)/30),e.talismanLevels[t]>=150&&(f*=(e.talismanLevels[t]-120)/30),e.talismanLevels[t]>=180&&(f*=(e.talismanLevels[t]-170)/10),r.textContent=d(f*Math.max(0,Math.floor(1+1/8*Math.pow(e.talismanLevels[t],3)))),n.textContent=d(f*Math.max(0,Math.floor(1+1/32*Math.pow(e.talismanLevels[t]-30,3)))),a.textContent=d(f*Math.max(0,Math.floor(1+1/384*Math.pow(e.talismanLevels[t]-60,3)))),s.textContent=d(f*Math.max(0,Math.floor(1+1/500*Math.pow(e.talismanLevels[t]-90,3)))),o.textContent=d(f*Math.max(0,Math.floor(1+1/375*Math.pow(e.talismanLevels[t]-120,3)))),c.textContent=d(f*Math.max(0,Math.floor(1+1/192*Math.pow(e.talismanLevels[t]-150,3)))),p.textContent=d(f*Math.max(0,Math.floor(1+1/1280*Math.pow(e.talismanLevels[t]-150,3))))},ad=t=>{l("talismanEffect").style.display="none",l("talismanlevelup").style.display="block",l("talismanrespec").style.display="none";let r=l("talismanShardCost"),n=l("talismanCommonFragmentCost"),a=l("talismanUncommonFragmentCost"),s=l("talismanRareFragmentCost"),o=l("talismanEpicFragmentCost"),c=l("talismanLegendaryFragmentCost"),p=l("talismanMythicalFragmentCost");l("talismanLevelUpSummary").textContent=u.t("runes.resourcesToEnhance"),l("talismanLevelUpSummary").style.color="gold";let f=[i.commonTalismanEnhanceCost,i.uncommonTalismanEnchanceCost,i.rareTalismanEnchanceCost,i.epicTalismanEnhanceCost,i.legendaryTalismanEnchanceCost,i.mythicalTalismanEnchanceCost],g=e.talismanRarity[t],h=f[g-1],b=i.talismanLevelCostMultiplier[t];r.textContent=d(b*h[1]),n.textContent=d(b*h[2]),a.textContent=d(b*h[3]),s.textContent=d(b*h[4]),o.textContent=d(b*h[5]),c.textContent=d(b*h[6]),p.textContent=d(b*h[7])},sd=t=>{i.talismanRespec=t,l("talismanEffect").style.display="none",l("talismanlevelup").style.display="none",l("talismanrespec").style.display="block";let r=["speed","duplication","prism","thrift","SI"],n=["positive","positive","positive","positive","positive"];if(t<=6){for(let a=1;a<=5;a++)i.mirrorTalismanStats[a]=e[`talisman${td[t]}`][a];l("confirmTalismanRespec").textContent=u.t("runes.talismans.respecConfirm")}if(t===7){for(let a=1;a<=5;a++)i.mirrorTalismanStats[a]=1;l("confirmTalismanRespec").textContent=u.t("runes.talismans.respecConfirmAll")}for(let a=1;a<=5;a++){let s=l(`talismanRespecButton${a}`);i.mirrorTalismanStats[a]===1?(s.style.border="2px solid limegreen",n[a-1]="positive"):i.mirrorTalismanStats[a]===-1&&(s.style.border="2px solid crimson",n[a-1]="negative"),s.textContent=u.t(`runes.talismans.modifiers.${n[a-1]}`,{name:u.t(`runes.names.${r[a-1]}`)})}l("confirmTalismanRespec").style.display="none"},Zg=t=>{let r=[null,"speed","duplication","prism","thrift","SI"],n=l(`talismanRespecButton${t}`);i.mirrorTalismanStats[t]===1?(i.mirrorTalismanStats[t]=-1,n.textContent=u.t("runes.talismans.modifiers.negative",{name:u.t(`runes.names.${r[t]}`)}),n.style.border="2px solid crimson"):(i.mirrorTalismanStats[t]=1,n.textContent=u.t("runes.talismans.modifiers.positive",{name:u.t(`runes.names.${r[t]}`)}),n.style.border="2px solid limegreen"),i.mirrorTalismanStats.reduce((s,o)=>s+o,0)===1?l("confirmTalismanRespec").style.display="block":l("confirmTalismanRespec").style.display="none"},Yg=t=>{if(e.runeshards>=1e5&&t<7){for(let r=1;r<=5;r++)e[`talisman${td[t]}`][r]=i.mirrorTalismanStats[r];e.runeshards-=1e5,l("confirmTalismanRespec").style.display="none",l("talismanrespec").style.display="none",l("talismanEffect").style.display="block",_l(t)}else if(e.runeshards>=4e5&&t===7){e.runeshards-=4e5;for(let r=0;r<7;r++)for(let n=1;n<=5;n++)e[`talisman${td[r]}`][n]=i.mirrorTalismanStats[n];l("confirmTalismanRespec").style.display="none"}at()},Jg=t=>{l("talismanrespec").style.display="none",t<7&&(l("talismanEffect").style.display="block",_l(t))},Ut=t=>{let r=l(`talisman${t+1}`),n=l(`talisman${t+1}level`),a=e.talismanRarity[t];a===1&&(r.style.border="4px solid white",n.style.color="white"),a===2&&(r.style.border="4px solid limegreen",n.style.color="limegreen"),a===3&&(r.style.border="4px solid lightblue",n.style.color="lightblue"),a===4&&(r.style.border="4px solid plum",n.style.color="plum"),a===5&&(r.style.border="4px solid orange",n.style.color="orange"),a===6&&(r.style.border="4px solid crimson",n.style.color="var(--crimson-text-color)")},$l=(t,r=!1)=>{let n=1;e.ascensionCount>0&&(n=30),e.highestSingularityCount>0&&(n=180);let a=!1;for(let s=1;s<=n;s++){let o=0,c=i.talismanLevelCostMultiplier[t];if(e.talismanLevels[t]>=120&&(c*=(e.talismanLevels[t]-90)/30),e.talismanLevels[t]>=150&&(c*=(e.talismanLevels[t]-120)/30),e.talismanLevels[t]>=180&&(c*=(e.talismanLevels[t]-170)/10),e.talismanLevels[t]<ei(t)&&(e.talismanShards>=c*Math.max(0,Math.floor(1+1/8*Math.pow(e.talismanLevels[t],3)))&&o++,e.commonFragments>=c*Math.max(0,Math.floor(1+1/32*Math.pow(e.talismanLevels[t]-30,3)))&&o++,e.uncommonFragments>=c*Math.max(0,Math.floor(1+1/384*Math.pow(e.talismanLevels[t]-60,3)))&&o++,e.rareFragments>=c*Math.max(0,Math.floor(1+1/500*Math.pow(e.talismanLevels[t]-90,3)))&&o++,e.epicFragments>=c*Math.max(0,Math.floor(1+1/375*Math.pow(e.talismanLevels[t]-120,3)))&&o++,e.legendaryFragments>=c*Math.max(0,Math.floor(1+1/192*Math.pow(e.talismanLevels[t]-150,3)))&&o++,e.mythicalFragments>=c*Math.max(0,Math.floor(1+1/1280*Math.pow(e.talismanLevels[t]-150,3)))&&o++),o===7)e.talismanShards-=c*Math.max(0,Math.floor(1+1/8*Math.pow(e.talismanLevels[t],3))),e.commonFragments-=c*Math.max(0,Math.floor(1+1/32*Math.pow(e.talismanLevels[t]-30,3))),e.uncommonFragments-=c*Math.max(0,Math.floor(1+1/384*Math.pow(e.talismanLevels[t]-60,3))),e.rareFragments-=c*Math.max(0,Math.floor(1+1/500*Math.pow(e.talismanLevels[t]-90,3))),e.epicFragments-=c*Math.max(0,Math.floor(1+1/375*Math.pow(e.talismanLevels[t]-120,3))),e.legendaryFragments-=c*Math.max(0,Math.floor(1+1/192*Math.pow(e.talismanLevels[t]-150,3))),e.mythicalFragments-=c*Math.max(0,Math.floor(1+1/1280*Math.pow(e.talismanLevels[t]-150,3))),e.talismanLevels[t]+=1,a=!0;else break}return!r&&a&&(nd(t),fr(),at()),a},Dl=(t,r=!1)=>{let n=0;if(e.talismanRarity[t]<6){let a=i.talismanLevelCostMultiplier[t],s=[i.commonTalismanEnhanceCost,i.uncommonTalismanEnchanceCost,i.rareTalismanEnchanceCost,i.epicTalismanEnhanceCost,i.legendaryTalismanEnchanceCost,i.mythicalTalismanEnchanceCost],o=e.talismanRarity[t]-1,c=s[o];if(e.commonFragments>=a*c[2]&&n++,e.uncommonFragments>=a*c[3]&&n++,e.rareFragments>=a*c[4]&&n++,e.epicFragments>=a*c[5]&&n++,e.legendaryFragments>=a*c[6]&&n++,e.mythicalFragments>=a*c[7]&&n++,n===6)return e.commonFragments-=a*c[2],e.uncommonFragments-=a*c[3],e.rareFragments-=a*c[4],e.epicFragments-=a*c[5],e.legendaryFragments-=a*c[6],e.mythicalFragments-=a*c[7],e.talismanRarity[t]+=1,Ut(t),r||(ad(t),fr(),at()),!0}return!1};var Hl=(t=!1,r=1,n=!1)=>{var o;let a=l("theme"),s=document.body;n?(localStorage.setItem("theme",`${r}`),s.style.setProperty("--transition","750ms"),s.style.setProperty("--transition-extra","600ms")):r=Number((o=localStorage.getItem("theme"))!=null?o:1),t?r===4&&l("logo").setAttribute("src","Pictures/logoLight.png"):(s.style.removeProperty("--header-color"),s.style.removeProperty("--bg-color"),s.style.removeProperty("--alert-color"),s.style.removeProperty("--history-lines"),s.style.removeProperty("--text-color"),s.style.removeProperty("--green-text-color"),s.style.removeProperty("--lightseagreen-text-color"),s.style.removeProperty("--crimson-text-color"),s.style.removeProperty("--red-text-color"),s.style.removeProperty("--maroon-text-color"),s.style.removeProperty("--orchid-text-color"),s.style.removeProperty("--darkorchid-text-color"),s.style.removeProperty("--darkcyan-text-color"),s.style.removeProperty("--gray-text-color"),s.style.removeProperty("--orangered-text-color"),s.style.removeProperty("--box-color"),s.style.removeProperty("--boxmain-bordercolor"),s.style.removeProperty("--button-color"),s.style.removeProperty("--hover-color"),s.style.removeProperty("--blackbtn-color"),s.style.removeProperty("--purplebtn-color"),s.style.removeProperty("--purplehover-color"),s.style.removeProperty("--buttonbuy-color"),s.style.removeProperty("--buildings-canbuy-color"),s.style.removeProperty("--buildings-hover-color"),s.style.removeProperty("--blessings-canbuy-color"),s.style.removeProperty("--blessings-hover-color"),s.style.removeProperty("--tab-color"),s.style.removeProperty("--singtab-color"),s.style.removeProperty("--hoversing-color"),s.style.removeProperty("--shoptab-color"),s.style.removeProperty("--hovershop-color"),s.style.removeProperty("--hepteract-bar-empty"),s.style.removeProperty("--hepteract-bar-red"),s.style.removeProperty("--hepteract-bar-yellow"),s.style.removeProperty("--hepteract-bar-green"),s.classList.remove("textOutline"),l("actualPotionShop").style.backgroundColor="",l("actualPotionShop").style.borderColor="",l("themeBox").style.backgroundColor="",l("themeBox").style.borderColor="",l("c15Rewards").style.backgroundColor="",l("c15Rewards").style.borderColor="",l("platonicUpgradeDescriptions").style.backgroundColor="",l("platonicUpgradeDescriptions").style.borderColor="",l("platonicUpgradePics").style.backgroundColor="",l("platonicUpgradePics").style.borderColor="",l("actualShop").style.backgroundColor="",l("actualShop").style.borderColor="",l("corruptionStatsLoadouts").style.backgroundColor="",l("corruptionStatsLoadouts").style.borderColor="",l("heptGrid").style.backgroundColor="",l("heptGrid").style.borderColor="",l("exportgame").style.backgroundColor="",l("importFileButton").style.backgroundColor="",l("switchTheme2").style.borderColor="darkslategray",l("bonussummation").style.color="orangered",l("corruptionDescription").style.color="darkviolet",l("versionnumber").style.color="fuchsia",l("singularitytab").style.color="red",l("traitstab").style.color="red",l("cubetab").style.color="red",l("ascTimeAccel").style.color="royalblue",l("buildinghotkeys").style.color="lightgray",l("buildinghotkeys2").style.color="lightgray",l("antspecies").style.color="royalblue",l("achievementcolorcode2").style.color="purple",l("corruptionTesseracts").style.color="darkviolet",l("antwelcome").style.color="lightslategrey",l("confirmationToggleTitle").style.color="pink",l("specialActionsTitle").style.color="pink",l("themesTitle").style.color="pink",l("notationTitle").style.color="pink",l("hepteractWelcome").style.color="pink",l("confirmationdisclaimer").style.color="plum",l("cube6Bonus").style.color="brown",l("tesseract6Bonus").style.color="brown",l("hypercube6Bonus").style.color="brown",l("runeshowpower5").style.color="tomato",l("hypercubeWelcome").style.color="#ff004c",l("hypercubeQuantity").style.color="#ff004c",l("hypercubeBlessingsTotal").style.color="#ff004c"),r===1?(localStorage.removeItem("theme"),a.textContent="Dark Mode"):r===2?(s.style.setProperty("--header-color","black"),s.style.setProperty("--bg-color","#0c0c0f"),s.style.setProperty("--alert-color","#040406"),s.style.setProperty("--history-lines","#1b1b22"),s.style.setProperty("--box-color","#060606"),s.style.setProperty("--boxmain-bordercolor","#d487d4"),s.style.setProperty("--button-color","#040406"),s.style.setProperty("--hover-color","#1b1b22"),s.style.setProperty("--purplebtn-color","#6f006f"),s.style.setProperty("--buttonbuy-color","#040406"),s.style.setProperty("--buildings-canbuy-color","#2c2c44"),s.style.setProperty("--buildings-hover-color","#3a3a58"),s.style.setProperty("--blessings-canbuy-color","#262639"),s.style.setProperty("--blessings-hover-color","#33334e"),s.style.setProperty("--tab-color","black"),s.style.setProperty("--singtab-color","#002"),s.style.setProperty("--hoversing-color","#00007d"),s.style.setProperty("--shoptab-color","#6f006f"),s.style.setProperty("--hepteract-bar-empty","#3a3a58"),s.style.setProperty("--hepteract-bar-red","darkred"),s.style.setProperty("--hepteract-bar-yellow","#997a00"),s.style.setProperty("--hepteract-bar-green","darkgreen"),l("corruptionStatsLoadouts").style.borderColor="#dd8f00",l("actualPotionShop").style.borderColor="#dd0",l("exportgame").style.backgroundColor="black",l("importFileButton").style.backgroundColor="black",a.textContent="Darker Mode"):r===3?(s.style.setProperty("--header-color","#18171c"),s.style.setProperty("--bg-color","#1c1b22"),s.style.setProperty("--alert-color","#141319"),s.style.setProperty("--history-lines","#083a3a"),s.style.setProperty("--box-color","#141319"),s.style.setProperty("--boxmain-bordercolor","#dda0dd"),s.style.setProperty("--button-color","#101828"),s.style.setProperty("--hover-color","#006"),s.style.setProperty("--blackbtn-color","#101828"),s.style.setProperty("--buttonbuy-color","#0b111c"),s.style.setProperty("--buildings-canbuy-color","#2d4471"),s.style.setProperty("--buildings-hover-color","#3c5a95"),s.style.setProperty("--blessings-canbuy-color","#1e2e4d"),s.style.setProperty("--blessings-hover-color","#2d4471"),s.style.setProperty("--tab-color","#101828"),s.style.setProperty("--hoversing-color","#005"),s.style.setProperty("--hepteract-bar-empty","#535064"),l("corruptionStatsLoadouts").style.borderColor="#ffa500",l("actualPotionShop").style.borderColor="#dd0",l("actualShop").style.backgroundColor="#0c0c0f",l("actualShop").style.borderColor="#d487d4",l("platonicUpgradePics").style.backgroundColor="#0c0c0f",s.style.setProperty("--maroon-text-color","#a90000"),a.textContent="Lighter Dark Mode"):r===4?(s.classList.add("textOutline"),s.style.setProperty("--header-color","#736e8d"),s.style.setProperty("--bg-color","#7c7891"),s.style.setProperty("--alert-color","#646175"),s.style.setProperty("--history-lines","#156e71"),s.style.setProperty("--box-color","#646175"),s.style.setProperty("--boxmain-bordercolor","#d894d8"),s.style.setProperty("--button-color","#136062"),s.style.setProperty("--hover-color","#187c7f"),s.style.setProperty("--blackbtn-color","#105254"),s.style.setProperty("--buttonbuy-color","#4c495a"),s.style.setProperty("--buildings-canbuy-color","#9794a8"),s.style.setProperty("--buildings-hover-color","#b2b0bf"),s.style.setProperty("--blessings-canbuy-color","#6c687f"),s.style.setProperty("--blessings-hover-color","#7c7990"),s.style.setProperty("--tab-color","#105254"),s.style.setProperty("--singtab-color","#00d"),s.style.setProperty("--hoversing-color","#1052B6"),s.style.setProperty("--hepteract-bar-empty","#858199"),s.style.setProperty("--hepteract-bar-red","#ea1741"),s.style.setProperty("--hepteract-bar-yellow","#cc0"),s.style.setProperty("--hepteract-bar-green","limegreen"),l("corruptionStatsLoadouts").style.borderColor="#dd8f00",l("actualPotionShop").style.borderColor="#dd0",l("switchTheme2").style.borderColor="#284242",s.style.setProperty("--green-text-color","limegreen"),s.style.setProperty("--red-text-color","#f55"),s.style.setProperty("--maroon-text-color","#ff5656"),s.style.setProperty("--crimson-text-color","#f7617d"),s.style.setProperty("--orchid-text-color","#dd7dda"),s.style.setProperty("--darkorchid-text-color","#cf9ee8"),s.style.setProperty("--darkcyan-text-color","turquoise"),s.style.setProperty("--lightseagreen-text-color","limegreen"),s.style.setProperty("--orangered-text-color","#f74"),s.style.setProperty("--gray-text-color","#a5a5a5"),l("achievementcolorcode2").style.color="#dc7dff",l("corruptionDescription").style.color="#d272ff",l("corruptionTesseracts").style.color="#d272ff",l("antwelcome").style.color="#b1b1b1",l("versionnumber").style.color="#ff5aff",l("singularitytab").style.color="#ff5252",l("traitstab").style.color="#ff5252",l("cubetab").style.color="#ff5252",l("antspecies").style.color="#8da9ff",l("ascTimeAccel").style.color="#97b0ff",l("cube6Bonus").style.color="#a5a5a5",l("tesseract6Bonus").style.color="#a5a5a5",l("hypercube6Bonus").style.color="#a5a5a5",l("hypercubeWelcome").style.color="#f58",l("hypercubeQuantity").style.color="#f58",l("hypercubeBlessingsTotal").style.color="#f58",l("runeshowpower5").style.color="#ff7158",a.textContent="Light Mode"):r===5&&(s.style.setProperty("--header-color","#0a0a11"),s.style.setProperty("--bg-color","#131319"),s.style.setProperty("--alert-color","#2a1035"),s.style.setProperty("--history-lines","#012d1c"),s.style.setProperty("--text-color","#ac47ff"),s.style.setProperty("--maroon-text-color","#c30000"),s.style.setProperty("--crimson-text-color","#eb0000"),s.style.setProperty("--orchid-text-color","#fd59f7"),s.style.setProperty("--darkorchid-text-color","#c205ff"),s.style.setProperty("--gray-text-color","#8f8f8f"),s.style.setProperty("--box-color","#000000"),s.style.setProperty("--boxmain-bordercolor","#b341e0"),s.style.setProperty("--button-color","#21003f"),s.style.setProperty("--hover-color","#00056a"),s.style.setProperty("--blackbtn-color","#28002a"),s.style.setProperty("--purplebtn-color","#5800a0"),s.style.setProperty("--purplehover-color","#680927"),s.style.setProperty("--buttonbuy-color","#005e00"),s.style.setProperty("--buildings-canbuy-color","#a00"),s.style.setProperty("--buildings-hover-color","#e00"),s.style.setProperty("--blessings-canbuy-color","#004d00"),s.style.setProperty("--blessings-hover-color","#800"),s.style.setProperty("--tab-color","#1a0030"),s.style.setProperty("--singtab-color","#000230"),s.style.setProperty("--hoversing-color","#000463"),s.style.setProperty("--shoptab-color","#5800a0"),s.style.setProperty("--hovershop-color","#7400d3"),s.style.setProperty("--hepteract-bar-empty","#4a4a60"),s.style.setProperty("--hepteract-bar-red","#c90000"),s.style.setProperty("--hepteract-bar-yellow","#919100"),s.style.setProperty("--hepteract-bar-green","#007f3b"),l("themeBox").style.backgroundColor="#0a0a11",l("themeBox").style.borderColor="#3c006d",l("c15Rewards").style.backgroundColor="#2e001b",l("c15Rewards").style.borderColor="#186e83",l("platonicUpgradeDescriptions").style.backgroundColor="#2e001b",l("platonicUpgradeDescriptions").style.borderColor="#186e83",l("platonicUpgradePics").style.backgroundColor="#720505",l("platonicUpgradePics").style.borderColor="#410303",l("actualPotionShop").style.backgroundColor="#01192c",l("actualPotionShop").style.borderColor="#04d481",l("actualShop").style.backgroundColor="#11111b",l("actualShop").style.borderColor="#038ba8",l("corruptionStatsLoadouts").style.backgroundColor="#0a0a11",l("corruptionStatsLoadouts").style.borderColor="#04d481",l("heptGrid").style.backgroundColor="#11111b",l("heptGrid").style.borderColor="#9b7306",l("achievementcolorcode2").style.color="#ef00e4",l("corruptionDescription").style.color="#c205ff",l("corruptionTesseracts").style.color="#c205ff",l("antwelcome").style.color="darkgrey",l("confirmationToggleTitle").style.color="#eb0000",l("specialActionsTitle").style.color="#eb0000",l("themesTitle").style.color="#eb0000",l("notationTitle").style.color="#eb0000",l("hepteractWelcome").style.color="#ac47ff",l("confirmationdisclaimer").style.color="#bb68ff",l("antspecies").style.color="#184ff3",l("bonussummation").style.color="#eb0000",l("buildinghotkeys").style.color="#838383",l("buildinghotkeys2").style.color="#838383",a.textContent="Dracula Mode"),n&&setTimeout(()=>{s.style.removeProperty("--transition"),s.style.removeProperty("--transition-extra")},750)};var em=(t=!0)=>{let r=l("notation"),n=e.notation,a;switch(n){case"Pure Scientific":r.textContent=u.t("settings.notation.pureEngineering"),a="Pure Engineering";break;case"Pure Engineering":r.textContent=u.t("settings.notation.default"),a="Default";break;default:r.textContent=u.t("settings.notation.pureScientific"),a="Pure Scientific"}t&&(e.notation=a)},tm=()=>{let t=l("notation");switch(e.notation){case"Pure Scientific":t.textContent=u.t("settings.notation.pureScientific");break;case"Pure Engineering":t.textContent=u.t("settings.notation.pureEngineering");break;default:t.textContent=u.t("settings.notation.default")}},ze=[["Legacy",-1],["Default",0],["Simplified",1],["Monotonous",1]],Gl=/Default|Simplified|Monotonous|Legacy/,Fl=(t=e.iconSet)=>{(t>ze.length-1||t<0)&&(t=0),e.iconSet=t,Array.from(document.getElementsByTagName("img")).forEach(r=>{r.src=r.src.replace(Gl,ze[e.iconSet][0])}),l("iconSet").textContent=u.t(`settings.iconSets.${ze[e.iconSet][0].toLowerCase()}`)};function rm(t){if(t instanceof ErrorEvent&&console.log("error: ",t.error),!t.target||!(t.target instanceof HTMLImageElement))return;let r=t.target,n=ze[e.iconSet][0],a=ze[e.iconSet][1],s="Legacy";a>=0&&a<ze.length-1&&(s=ze[a][0]),r.src.includes("Legacy")||!Gl.exec(r.src)?r.src="./Pictures/MISSINGIMAGE.png":r.src.includes(n)?r.src=r.src.replace(Gl,s):r.src=r.src.replace(Gl,"Legacy")}var ti=Hr(am());var sm=t=>t.method!==void 0&&t.method==="call";var om=t=>t.error===null&&typeof t.id=="number";var im=t=>{let r=new Map([[0,()=>{}]]),n=new Map([[0,()=>{}]]),a=new Map,s=new Worker(t);return s.addEventListener("message",({data:g})=>{if(sm(g)){let{params:{timerId:h,timerType:b}}=g;if(b==="interval"){let y=r.get(h);if(typeof y=="number"){let C=a.get(y);if(C===void 0||C.timerId!==h||C.timerType!==b)throw new Error("The timer is in an undefined state.")}else if(typeof y<"u")y();else throw new Error("The timer is in an undefined state.")}else if(b==="timeout"){let y=n.get(h);if(typeof y=="number"){let C=a.get(y);if(C===void 0||C.timerId!==h||C.timerType!==b)throw new Error("The timer is in an undefined state.")}else if(typeof y<"u")y(),n.delete(h);else throw new Error("The timer is in an undefined state.")}}else if(om(g)){let{id:h}=g,b=a.get(h);if(b===void 0)throw new Error("The timer is in an undefined state.");let{timerId:y,timerType:C}=b;a.delete(h),C==="interval"?r.delete(y):n.delete(y)}else{let{error:{message:h}}=g;throw new Error(h)}}),{clearInterval:g=>{let h=(0,ti.generateUniqueNumber)(a);a.set(h,{timerId:g,timerType:"interval"}),r.set(g,h),s.postMessage({id:h,method:"clear",params:{timerId:g,timerType:"interval"}})},clearTimeout:g=>{let h=(0,ti.generateUniqueNumber)(a);a.set(h,{timerId:g,timerType:"timeout"}),n.set(g,h),s.postMessage({id:h,method:"clear",params:{timerId:g,timerType:"timeout"}})},setInterval:(g,h=0)=>{let b=(0,ti.generateUniqueNumber)(r);return r.set(b,()=>{g(),typeof r.get(b)=="function"&&s.postMessage({id:null,method:"set",params:{delay:h,now:performance.now(),timerId:b,timerType:"interval"}})}),s.postMessage({id:null,method:"set",params:{delay:h,now:performance.now(),timerId:b,timerType:"interval"}}),b},setTimeout:(g,h=0)=>{let b=(0,ti.generateUniqueNumber)(n);return n.set(b,g),s.postMessage({id:null,method:"set",params:{delay:h,now:performance.now(),timerId:b,timerType:"timeout"}}),b}}};var lm=(t,r)=>{let n=null;return()=>{if(n!==null)return n;let a=new Blob([r],{type:"application/javascript; charset=utf-8"}),s=URL.createObjectURL(a);return n=t(s),setTimeout(()=>URL.revokeObjectURL(s)),n}};var cm=`(()=>{"use strict";const e=new Map,t=new Map,r=(e,t)=>{let r,o;const i=performance.now();r=i,o=e-Math.max(0,i-t);return{expected:r+o,remainingDelay:o}},o=(e,t,r,i)=>{const s=performance.now();s>r?postMessage({id:null,method:"call",params:{timerId:t,timerType:i}}):e.set(t,setTimeout(o,r-s,e,t,r,i))};addEventListener("message",(i=>{let{data:s}=i;try{if("clear"===s.method){const{id:r,params:{timerId:o,timerType:i}}=s;if("interval"===i)(t=>{const r=e.get(t);if(void 0===r)throw new Error('There is no interval scheduled with the given id "'.concat(t,'".'));clearTimeout(r),e.delete(t)})(o),postMessage({error:null,id:r});else{if("timeout"!==i)throw new Error('The given type "'.concat(i,'" is not supported'));(e=>{const r=t.get(e);if(void 0===r)throw new Error('There is no timeout scheduled with the given id "'.concat(e,'".'));clearTimeout(r),t.delete(e)})(o),postMessage({error:null,id:r})}}else{if("set"!==s.method)throw new Error('The given method "'.concat(s.method,'" is not supported'));{const{params:{delay:i,now:n,timerId:a,timerType:d}}=s;if("interval"===d)((t,i,s)=>{const{expected:n,remainingDelay:a}=r(t,s);e.set(i,setTimeout(o,a,e,i,n,"interval"))})(i,a,n);else{if("timeout"!==d)throw new Error('The given type "'.concat(d,'" is not supported'));((e,i,s)=>{const{expected:n,remainingDelay:a}=r(e,s);t.set(i,setTimeout(o,a,t,i,n,"timeout"))})(i,a,n)}}}}catch(e){postMessage({error:{message:e.message},id:s.id,result:null})}}))})();`;var ql=lm(im,cm),um=t=>ql().clearInterval(t),dm=t=>ql().clearTimeout(t),pm=(...t)=>ql().setInterval(...t),fm=(...t)=>ql().setTimeout(...t);var $n=[],rr=(t,r)=>{let n=pm(t,r);return $n.push({id:n,type:"interval"}),n},cs=t=>{for(let r of $n)if(r.type==="interval"&&r.id===t){um(t),$n.splice($n.indexOf(r),1);return}},ri=(t,r)=>{let n=fm(t,r);return $n.push({id:n,type:"timeout"}),n},od=t=>{for(let r of $n)if(r.type==="timeout"&&r.id===t){dm(t),$n.splice($n.indexOf(r),1);return}},id=()=>{for(let{id:t,type:r}of $n)r==="interval"?cs(t):od(t)};var mm=Hr(ll());var Vv="756419583941804072",Wv="758859750070026241",zv="758861068188647444",Kv="832099983389097995",Xv="677272036820910098",Zv="1177364773986386021",Yv="1311161342987603979",Jv="1178131525049520138",eC="1311164406209450064",tC="983484264865730560",rC="1045560188574380042",nC="1045560846169935922",aC="1045562390995009606",sC="1178125584061173800",oC="1311165096378105906",hm=!1,Ys=()=>hm;async function bm(){var f,g,h,b,y,C,x,D,$,L,E,H,I;let t=document.querySelector("#accountSubTab > div.scrollbarX"),r=l("currentBonus"),n=document.getElementById("logoutButton");n!==null&&(n.addEventListener("click",iC,{once:!0}),(f=document.getElementById("accountSubTab"))==null||f.appendChild(n));let a=await fetch("https://synergism.cc/api/v1/users/me").catch(()=>new Response(JSON.stringify({member:null,globalBonus:0,personalBonus:0})));if(!a.ok){r.textContent=`Oh no! I couldn't fetch the bonus... Please send this to Khafra in the Discord: ${await a.text()}.`;return}let{globalBonus:s,member:o,personalBonus:c,accountType:p}=await a.json();if(vf(100*(1+s/100)*(1+c/100)-100),e.worlds=new Jn(Number(e.worlds)),hm=o!==null,r.textContent=`Generous patrons give you a bonus of ${s}% more Quarks!`,location.hostname!=="synergism.cc")t.textContent="Login is not available here, go to https://synergism.cc instead!";else if(o!==null){r.textContent+=` You also receive an extra ${c}% bonus for being a Patreon member and/or boosting the Discord server! Multiplicative with global bonus!`;let N;p==="discord"?N=(C=(y=(h=o.nick)!=null?h:(g=o.user)==null?void 0:g.username)!=null?y:(b=o.user)==null?void 0:b.global_name)!=null?C:null:N=o.user.username;let k=p==="discord"&&(!!(o!=null&&o.premium_since)||(o==null?void 0:o.roles.includes(Xv))),A=(x=o.roles.includes(Vv))!=null?x:!1,Q=(D=o.roles.includes(Wv))!=null?D:!1,J=($=o.roles.includes(zv))!=null?$:!1,M=(L=o.roles.includes(Kv))!=null?L:!1,j=ht=>`<span style="color: lime">[\u2714] {+${ht}%}</span>`,ae='<span style="color: crimson">[\u2716] {+0%}</span>';t.innerHTML=`
      ${N?`Hello, ${N}`:"Hello"}!

      Your personal Quark bonus is ${d(c,2,!0)}%, computed by the following:
      Donator Bonuses (Multiplicative with other bonuses):
      <span style="color: orchid">Transcended Baller</span> [+2%] - ${A?j(2):ae}
      <span style="color: green">Reincarnated Baller</span> [+3%] - ${Q?j(3):ae}
      <span style="color: orange">ASCENDED Baller</span> [+4%] - ${J?j(4):ae}
      <span style="color: lightgoldenrodyellow">OMEGA Baller</span> [+5%] - ${M?j(5):ae}
      <span style="color: #f47fff">Discord Server Booster</span> [+1%] - ${k?j(1):ae}

      Event Bonuses:
      <span style="color: #ffcc00">Thanksgiving 2023</span> [+0.2%] - ${o.roles.includes(Zv)?j(.2):ae}
      <span style="color: #ffcc00">Thanksgiving 2024</span> [+0.3%] - ${o.roles.includes(Yv)?j(.3):ae}
      <span style="color: #ffcc00">Conductor 2023</span> [+0.3%] - ${o.roles.includes(Jv)?j(.3):ae}
      <span style="color: #ffcc00">Conductor 2024</span> [+0.4%] - ${o.roles.includes(eC)?j(.4):ae}
      <span style="color: #ffcc00">Eight Leaf</span> [+0.3%] - ${o.roles.includes(tC)?j(.3):ae}
      <span style="color: #ffcc00">Ten Leaf</span> [+0.4%] - ${o.roles.includes(rC)?j(.4):ae}
      <span style="color: #ffcc00">Smith Incarnate</span> [+0.6%] - ${o.roles.includes(nC)?j(.6):ae}
      <span style="color: #ffcc00">Smith God</span> [+0.7%] - ${o.roles.includes(aC)?j(.7):ae}
      <span style="color: #ffcc00">Golden Smith God</span> [+0.8%] - ${o.roles.includes(sC)?j(.8):ae}
      <span style="color: #ffcc00">Diamond Smith Messiah</span> [+1%] - ${o.roles.includes(oC)?j(1.2):ae}

      And Finally...
      <span style="color: lime"> Being <span style="color: lightgoldenrodyellow"> YOURSELF! </span></span> [+1%] - ${j(1)}

      The current maximum is 16%, by being a Discord server booster and an OMEGA Baller on Patreon!

      More will be incorporated both for general accounts and supporters of the game shortly.
      Become a supporter of development via the link below, and get special bonuses,
      while also improving the Global Bonus for all to enjoy!
      <a href="https://www.patreon.com/synergism" target="_blank" rel="noopener noreferrer nofollow">
      <span style="color: lightgoldenrodyellow">--> PATREON <--</span>
      </a>
    `.trim();let ge=document.createElement("button"),Je=document.createElement("button");c>1&&(ge.addEventListener("click",lC),ge.style.cssText="border: 2px solid #5865F2; height: 25px; width: 150px;",ge.textContent="Save to Cloud \u2601",Je.addEventListener("click",cC),Je.style.cssText="border: 2px solid #5865F2; height: 25px; width: 150px;",Je.textContent="Load from Cloud \u263D");let ut=document.createElement("div");ut.style.cssText="display: flex; flex-direction: row; justify-content: space-evenly; padding: 5px; width: 45%; margin: 0 auto;",ut.appendChild(ge),ut.appendChild(Je),t.appendChild(ut)}else(E=t.querySelector("#open-register"))==null||E.addEventListener("click",()=>{var N,k,A;(N=t.querySelector("#register"))==null||N.style.setProperty("display","flex"),(k=t.querySelector("#login"))==null||k.style.setProperty("display","none"),(A=t.querySelector("#forgotpassword"))==null||A.style.setProperty("display","none"),ni()}),(H=t.querySelector("#open-signin"))==null||H.addEventListener("click",()=>{var N,k,A;(N=t.querySelector("#register"))==null||N.style.setProperty("display","none"),(k=t.querySelector("#login"))==null||k.style.setProperty("display","flex"),(A=t.querySelector("#forgotpassword"))==null||A.style.setProperty("display","none"),ni()}),(I=t.querySelector("#open-forgotpassword"))==null||I.addEventListener("click",()=>{var N,k,A;(N=t.querySelector("#register"))==null||N.style.setProperty("display","none"),(k=t.querySelector("#login"))==null||k.style.setProperty("display","none"),(A=t.querySelector("#forgotpassword"))==null||A.style.setProperty("display","flex"),ni()})}async function iC(){await fetch("https://synergism.cc/api/v1/users/logout"),await B(u.t("account.logout")),location.reload()}async function lC(){var a;let t=(a=await mm.default.getItem("Synergysave2").then(s=>s==null?void 0:s.text()).catch(()=>null))!=null?a:localStorage.getItem("Synergysave2");if(typeof t!="string"){console.log("Yeah, no save here.");return}let r=new FormData;r.set("savefile",new File([t],"file.txt"),"file.txt");let n=await fetch("https://synergism.cc/api/v1/saves/upload",{method:"POST",body:r});if(!n.ok){await B(`Received an error: ${await n.text()}`);return}}async function cC(){var n;let r=await(await fetch("https://synergism.cc/api/v1/saves/get")).json();await us((n=r==null?void 0:r.save)!=null?n:null)}var gm=new WeakSet;function ni(){let r=Array.from(document.querySelectorAll(".turnstile")).find(n=>n.offsetParent!==null);r&&!gm.has(r)&&(turnstile.render(r,{sitekey:r.getAttribute("data-sitekey"),"error-callback"(){},retry:"never"}),gm.add(r))}var ai=(x=>(x[x.Quark=0]="Quark",x[x.GoldenQuark=1]="GoldenQuark",x[x.Cubes=2]="Cubes",x[x.PowderConversion=3]="PowderConversion",x[x.AscensionSpeed=4]="AscensionSpeed",x[x.GlobalSpeed=5]="GlobalSpeed",x[x.AscensionScore=6]="AscensionScore",x[x.AntSacrifice=7]="AntSacrifice",x[x.Offering=8]="Offering",x[x.Obtainium=9]="Obtainium",x[x.Octeract=10]="Octeract",x[x.BlueberryTime=11]="BlueberryTime",x[x.AmbrosiaLuck=12]="AmbrosiaLuck",x[x.OneMind=13]="OneMind",x))(ai||{}),Pr=null,uC=()=>Pr,ld=async()=>{if(!e.dayCheck)return;let t=await fetch("https://synergism.cc/api/v2/events/get");if(!t.ok)throw new Error("God fucking dammit");let r=await t.json();Pr=null;let n=new Date(Vl()).getTime();n>=r.start&&n<=r.end&&r.name.length&&(Pr=r);let a=l("happyHolidays"),s=l("eventBuffs"),o=i.isEvent;if(Pr){i.isEvent=!0;let c=[];for(let p=0;p<jl.length;p++){let f=cd(ai[jl[p]]);f!==0&&(jl[p]==="OneMind"&&e.singularityUpgrades.oneMind.level>0?c.push(`<span style="color: gold">${f>=0?"+":"-"}${d(100*f,3,!0)}% ${ym[p]}</span>`):(jl[p]!=="OneMind"||e.singularityUpgrades.oneMind.level===0)&&c.push(`${f>=0?"+":"-"}${d(100*f,2,!0)}% ${ym[p]}`))}l("eventCurrent").textContent=u.t("settings.events.activeUntil",{x:new Date(Pr.end)}),s.innerHTML=i.isEvent&&c.length?`Current Buffs: ${c.join(", ")}`:"",a.innerHTML=`(${Pr.name.length}) ${Pr.name.join(", ")}`,a.style.color=Pr.color[Math.floor(Math.random()*Pr.color.length)],a.href=Pr.url.length>0?Pr.url[Math.floor(Math.random()*Pr.url.length)]:"#"}else i.isEvent=!1,l("eventCurrent").innerHTML=u.t("settings.events.inactive"),s.textContent="",s.style.color="var(--red-text-color)",a.innerHTML="",a.href="";i.isEvent!==o&&(Ve(),i.ambrosiaCurrStats.ambrosiaAdditiveLuckMult=yn().value,i.ambrosiaCurrStats.ambrosiaLuck=nt().value,i.ambrosiaCurrStats.ambrosiaGenerationSpeed=rt().value)},jl=["Quark","GoldenQuark","Cubes","PowderConversion","AscensionSpeed","GlobalSpeed","AscensionScore","AntSacrifice","Offering","Obtainium","Octeract","BlueberryTime","AmbrosiaLuck","OneMind"],ym=["Quarks","Golden Quarks","Cubes from all type","Powder Conversion","Ascension Speed","Global Speed","Ascension Score","Ant Sacrifice rewards","Offering","Obtainium","Eight Dimensional Hypercubes","Blueberry Time Generation","Ambrosia Luck (Additive Mult)","One Mind Quark Bonus"],cd=t=>{var n,a,s,o,c,p,f,g,h,b,y,C,x;let r=uC();if(r===null)return 0;switch(t){case 0:return(n=r.quark)!=null?n:0;case 1:return(a=r.goldenQuark)!=null?a:0;case 2:return(s=r.cubes)!=null?s:0;case 3:return(o=r.powderConversion)!=null?o:0;case 4:return(c=r.ascensionSpeed)!=null?c:0;case 5:return(p=r.globalSpeed)!=null?p:0;case 6:return(f=r.ascensionScore)!=null?f:0;case 7:return(g=r.antSacrifice)!=null?g:0;case 8:return(h=r.offering)!=null?h:0;case 9:return(b=r.obtainium)!=null?b:0;case 10:return(y=r.octeract)!=null?y:0;case 13:return e.singularityUpgrades.oneMind.level>0?r.oneMind:0;case 11:return(C=r.blueberryTime)!=null?C:0;case 12:return(x=r.ambrosiaLuck)!=null?x:0}},vm=()=>(i.eventClicked=!0,l("eventClicked").style.display="block",B(u.t("event.aprilFools.clicked")));var dC=new Map([["kMisc","miscStats"],["kFreeAccel","acceleratorStats"],["kFreeMult","multiplierStats"],["kOfferingMult","offeringMultiplierStats"],["kObtMult","obtainiumMultiplierStats"],["kGlobalCubeMult","globalCubeMultiplierStats"],["kQuarkMult","globalQuarkMultiplierStats"],["kGSpeedMult","globalSpeedMultiplierStats"],["kCubeMult","cubeMultiplierStats"],["kTessMult","tesseractMultiplierStats"],["kHypercubeMult","hypercubeMultiplierStats"],["kPlatMult","platonicMultiplierStats"],["kHeptMult","hepteractMultiplierStats"],["kOrbPowderMult","powderMultiplierStats"],["kOctMult","octeractMultiplierStats"],["kASCMult","ascensionSpeedMultiplierStats"],["kGQMult","goldenQuarkMultiplierStats"],["kAddStats","addCodeStats"],["kAmbrosiaLuck","ambrosiaLuckStats"],["kAmbrosiaGenMult","ambrosiaGenerationStats"]]),Cm=t=>{for(let r of Array.from(t.parentElement.children)){let n=l(dC.get(r.id));r.id!==t.id?(r.style.backgroundColor="",n.style.display="none",n.classList.remove("activeStats")):(r.style.backgroundColor="crimson",n.style.display="block",n.classList.add("activeStats"))}},wm=()=>{let t=document.getElementsByClassName("activeStats");for(let r=0;r<t.length;r++)switch(t[r].id){case"miscStats":pC();break;case"acceleratorStats":fC();break;case"multiplierStats":gC();break;case"offeringMultiplierStats":yC();break;case"obtainiumMultiplierStats":vC();break;case"globalQuarkMultiplierStats":mC();break;case"globalSpeedMultiplierStats":hC();break;case"powderMultiplierStats":CC();break;case"ascensionSpeedMultiplierStats":wC();break;case"goldenQuarkMultiplierStats":xC();break;case"addCodeStats":MC();break;case"ambrosiaLuckStats":SC();break;case"ambrosiaGenerationStats":TC();break;default:bC();break}},pC=()=>{l("sMisc1").textContent=d(e.prestigeCount,0,!0),l("sMisc2").textContent=`${d(1e3*e.fastestprestige)}ms`,l("sMisc3").textContent=d(e.maxofferings),l("sMisc4").textContent=d(i.runeSum),l("sMisc5").textContent=d(e.transcendCount,0,!0),l("sMisc6").textContent=`${d(1e3*e.fastesttranscend)}ms`,l("sMisc7").textContent=d(e.reincarnationCount,0,!0),l("sMisc8").textContent=`${d(1e3*e.fastestreincarnate)}ms`,l("sMisc9").textContent=d(e.maxobtainium),l("sMisc10").textContent=d(e.maxobtainiumpersecond,2,!0),l("sMisc11").textContent=d(e.obtainiumpersecond,2,!0),l("sMisc12").textContent=d(e.ascensionCount,0,!0),l("sMisc13").textContent=d(e.quarksThisSingularity,0,!0),l("sMisc14").textContent=d(e.totalQuarksEver+e.quarksThisSingularity,0,!0),l("sMisc15").textContent=`${dr(e.quarkstimer)} / ${dr(9e4+18e3*e.researches[195])}`,l("sMisc16").textContent=ud(0)},fC=()=>{l("sA1").textContent=`+${d(i.freeUpgradeAccelerator,0,!1)}`,l("sA2").textContent=`+${d(i.totalAcceleratorBoost*(4+2*e.researches[18]+2*e.researches[19]+3*e.researches[20]+i.cubeBonusMultiplier[1]),0,!1)}`,l("sA3").textContent=`+${d(Math.floor(Math.pow(i.rune1level*i.effectiveLevelMult/10,1.1)),0,!0)}`,l("sA4").textContent=`x${d(1+i.rune1level*1/200*i.effectiveLevelMult,3,!0)}`,l("sA5").textContent=`x${d(Math.pow(1.01,e.upgrades[21]+e.upgrades[22]+e.upgrades[23]+e.upgrades[24]+e.upgrades[25]),3,!0)}`,l("sA6").textContent=`x${d(Math.pow(1.01,e.achievements[60]+e.achievements[61]+e.achievements[62]),3,!0)}`,l("sA7").textContent=`x${d(1+1/5*e.researches[1],3,!0)}`,l("sA8").textContent=`x${d(1+1/20*e.researches[6]+1/25*e.researches[7]+1/40*e.researches[8]+3/200*e.researches[9]+1/200*e.researches[10],3,!0)}`,l("sA9").textContent=`x${d(1+1/20*e.researches[86],3,!0)}`,l("sA10").textContent=`x${d((e.currentChallenge.transcension!==0||e.currentChallenge.reincarnation!==0)&&e.upgrades[50]>.5?1.25:1,3,!0)}`,l("sA11").textContent=`^${d(Math.min(1,(1+e.platonicUpgrades[6]/30)*i.viscosityPower[e.usedCorruptions[2]]),3,!0)}`,l("sA12").textContent=d(i.freeAccelerator,0,!0)},gC=()=>{l("sM1").textContent=`+${d(i.freeUpgradeMultiplier,0,!0)}`,l("sM2").textContent=`+${d(Math.floor(Math.floor(i.rune2level/10*i.effectiveLevelMult)*Math.floor(10+i.rune2level/10*i.effectiveLevelMult)/2)*100/100,0,!0)}`,l("sM3").textContent=`x${d(1+i.rune2level/200*i.effectiveLevelMult,3,!0)}`,l("sM4").textContent=`x${d(Math.pow(1.01,e.upgrades[21]+e.upgrades[22]+e.upgrades[23]+e.upgrades[24]+e.upgrades[25])*(1+e.upgrades[34]*3/100)*(1+e.upgrades[34]*(2/103)),3,!0)}`,l("sM5").textContent=`x${d(Math.pow(1.01,e.achievements[57]+e.achievements[58]+e.achievements[59]),3,!0)}`,l("sM6").textContent=`x${d(1+1/5*e.researches[2],3,!0)}`,l("sM7").textContent=`x${d(1+1/20*e.researches[11]+1/25*e.researches[12]+1/40*e.researches[13]+3/200*e.researches[14]+1/200*e.researches[15],3,!0)}`,l("sM8").textContent=`x${d(1+1/20*e.researches[87],3,!0)}`,l("sM9").textContent=`x${d(nr(40,(e.antUpgrades[4]+i.bonusant5)/1e3*40/39),2,!0)}`,l("sM10").textContent=`x${d(i.cubeBonusMultiplier[2],3,!0)}`,l("sM11").textContent=`x${d((e.currentChallenge.transcension!==0||e.currentChallenge.reincarnation!==0)&&e.upgrades[50]>.5?1.25:1,3,!0)}`,l("sM12").textContent=`^${d(Math.min(1,(1+e.platonicUpgrades[6]/30)*i.viscosityPower[e.usedCorruptions[2]]),3,!0)}`,l("sM13").textContent=d(i.freeMultiplier,3,!0)},mC=()=>{l("sGQM1").textContent=`x${d(1,3,!0)}`,l("sGQM2").textContent=`+${d(e.achievementPoints/25e3,3,!0)}`,l("sGQM3").textContent=`+${d(e.achievements[250]>0?.1:0,3,!0)}`,l("sGQM4").textContent=`+${d(e.achievements[251]>0?.1:0,3,!0)}`,l("sGQM5").textContent=`+${d(e.platonicUpgrades[5]>0?.2:0,3,!0)}`,l("sGQM6").textContent=`+${d(e.platonicUpgrades[10]>0?.25:0,3,!0)}`,l("sGQM7").textContent=`+${d(e.platonicUpgrades[15]>0?.3:0,3,!0)}`,l("sGQM8").textContent=`+${d(i.challenge15Rewards.quarks-1,3,!0)}`,l("sGQM9").textContent=`x${d(e.worlds.applyBonus(1/ul()),3,!0)}`,l("sGQM10").textContent=`x${d(i.isEvent?1+Ct(0)+Ct(13):1,3,!0)}`,l("sGQM11").textContent=`x${d(aa()>0?1.1+.15/75*aa():1,3,!0)}`,l("sGQM12").textContent=`x${d(e.challenge15Exponent>=1e15?1+5/1e4*ct("quark"):1,3,!0)}`,l("sGQM13").textContent=`x${d(Ds(),3,!0)}`,l("sGQM14").textContent=`x${d(1+e.achievements[266]*Math.min(.1,e.ascensionCount/1e16),3,!0)}`,l("sGQM15").textContent=`x${d(1+e.singularityCount/10,3,!0)}`,l("sGQM16").textContent=`x${d(fd(),3,!0)}`,l("sGQM17").textContent=`x${d(1+.1*e.cubeUpgrades[53]/100,3,!0)}`,l("sGQM18").textContent=`x${d(1+1/1e4*e.cubeUpgrades[68]+.05*Math.floor(e.cubeUpgrades[68]/1e3),3,!0)}`,l("sGQM19").textContent=`x${d(1+.02*e.singularityUpgrades.intermediatePack.level+.04*e.singularityUpgrades.advancedPack.level+.06*e.singularityUpgrades.expertPack.level+.08*e.singularityUpgrades.masterPack.level+.1*e.singularityUpgrades.divinePack.level,3,!0)}`,l("sGQM20").textContent=`x${d(1+.4*+e.octeractUpgrades.octeractStarter.getEffect().bonus,3,!0)}`,l("sGQM21").textContent=`x${d(+e.octeractUpgrades.octeractQuarkGain.getEffect().bonus,3,!0)}`,l("sGQM22").textContent=`x${d(Dn(),3,!0)}`,l("sGQM23").textContent=`x${d(1+ +e.singularityUpgrades.singQuarkImprover1.getEffect().bonus,3,!0)}`,l("sGQM24").textContent=`x${d(1+1/1e4*Math.floor(e.octeractUpgrades.octeractQuarkGain.level/199)*e.octeractUpgrades.octeractQuarkGain2.level*Math.floor(1+Math.log10(Math.max(1,e.hepteractCrafts.quark.BAL))),3,!0)}`,l("sGQM25").textContent=`x${d(ii(),2,!0)}`,l("sGQM26").textContent=`x${d(+e.blueberryUpgrades.ambrosiaTutorial.bonus.quarks,2,!0)}`,l("sGQM27").textContent=`x${d(+e.blueberryUpgrades.ambrosiaQuarks1.bonus.quarks,2,!0)}`,l("sGQM28").textContent=`x${d(+e.blueberryUpgrades.ambrosiaCubeQuark1.bonus.quarks,2,!0)}`,l("sGQM29").textContent=`x${d(+e.blueberryUpgrades.ambrosiaLuckQuark1.bonus.quarks,2,!0)}`,l("sGQM30").textContent=`x${d(+e.blueberryUpgrades.ambrosiaQuarks2.bonus.quarks,2,!0)}`,l("sGQM31").textContent=`x${d(Jo(),3,!0)}`,l("sGQM32").textContent=`x${d(1+ +e.singularityChallenges.limitedTime.rewards.quarkMult,2,!0)}`,l("sGQM33").textContent=`x${d(1+ +e.singularityChallenges.sadisticPrequel.rewards.quarkMult,2,!0)}`,l("sGQM34").textContent=`x${d(e.highestSingularityCount===0?1.25:1,2,!0)}`,l("sGQMT").textContent=`x${d(e.worlds.applyBonus(1),3,!0)}`},hC=()=>{let t=ot(),r=t.preList;for(let s=0;s<r.length;s++)l(`sGSMa${s+1}`).textContent=`x${d(r[s],3,!0)}`;let n=t.drList;for(let s=0;s<n.length;s++)l(`sGSMb${s+1}`).textContent=`x${d(n[s],3,!0)}`;let a=t.postList;for(let s=0;s<a.length;s++)l(`sGSMc${s+1}`).textContent=`x${d(a[s],3,!0)}`;l("sGSMT").textContent=d(t.mult,3)},bC=()=>{var D,$;let t=ua().list,r={1:{acc:2,desc:"PseudoCoin Upgrade:",color:"gold"},2:{acc:2,desc:"Ascension Time Multiplier:"},3:{acc:2,desc:"Sun and Moon Achievements:"},4:{acc:2,desc:"Speed Achievement:"},5:{acc:2,desc:"Challenge 15 All Cube Bonus:"},6:{acc:2,desc:"Rune 6 - Infinite Ascent:"},7:{acc:2,desc:"Platonic Beta:"},8:{acc:2,desc:"Platonic Omega:"},9:{acc:2,desc:"Overflux Powder:"},10:{acc:2,desc:"Event:"},11:{acc:2,desc:"Singularity Factor:"},12:{acc:2,desc:"Wow Pass Y"},13:{acc:2,desc:"Starter Pack:"},14:{acc:2,desc:"Cube Flame [GQ]:"},15:{acc:2,desc:"Cube Blaze [GQ]:"},16:{acc:2,desc:"Cube Inferno [GQ]:"},17:{acc:2,desc:"Wow Pass Z:"},18:{acc:2,desc:"Cookie Upgrade 16:"},19:{acc:2,desc:"Cookie Upgrade 8:"},20:{acc:2,desc:"Total Octeract Bonus:"},21:{acc:2,desc:"No Singularity Upgrades Challenge:"},22:{acc:2,desc:"Citadel [GQ]"},23:{acc:2,desc:"Citadel 2 [GQ]"},24:{acc:4,desc:"Platonic DELTA"},25:{acc:2,desc:"Wow Pass \u221E"},26:{acc:2,desc:"Unspent Ambrosia Bonus"},27:{acc:2,desc:"Module- Tutorial"},28:{acc:2,desc:"Module- Cubes 1"},29:{acc:2,desc:"Module- Luck-Cube 1"},30:{acc:2,desc:"Module- Quark-Cube 1"},31:{acc:2,desc:"Module- Cubes 2"},32:{acc:2,desc:"Module- Hyperflux"},33:{acc:2,desc:"20 Ascensions X20 Bonus [EXALT ONLY]"},34:{acc:2,desc:"Cash Grab ULTIMATE"},35:{acc:2,desc:"Shop EX ULTIMATE"},36:{acc:2,desc:"Exalt 6 Penalty (for being too slow!)"}};for(let L=0;L<t.length;L++){let E=l(`statGCM${L+1}`);E.childNodes[0].textContent=r[L+1].desc,r[L+1].color&&(E.style.color=(D=r[L+1].color)!=null?D:"white"),l(`sGCM${L+1}`).textContent=`x${d(t[L],r[L+1].acc,!0)}`}l("sGCMT").textContent=`x${d(ua().mult,3)}`;let n=Wl().list,a={1:{acc:2,desc:"Ascension Score Multiplier:"},2:{acc:2,desc:"Global Cube Multiplier:"},3:{acc:2,desc:"Season Pass 1:"},4:{acc:2,desc:"Researches (Except 8x25):"},5:{acc:2,desc:"Research 8x25:"},6:{acc:2,desc:"Cube Upgrades:"},7:{acc:2,desc:"Constant Upgrade 10:"},8:{acc:2,desc:"Achievement 189 Bonus:"},9:{acc:2,desc:"Achievement 193 Bonus:"},10:{acc:2,desc:"Achievement 195 Bonus:"},11:{acc:2,desc:"Achievement 198-201 Bonus:"},12:{acc:2,desc:"Achievement 254 Bonus:"},13:{acc:2,desc:"Spirit Power:"},14:{acc:2,desc:"Platonic Cubes:"},15:{acc:2,desc:"Platonic 1x1:"},16:{acc:2,desc:"Cookie Upgrade 13:"}};for(let L=0;L<n.length;L++){let E=l(`statCM${L+1}`);E.childNodes[0].textContent=a[L+1].desc,l(`sCM${L+1}`).textContent=`x${d(n[L],a[L+1].acc,!0)}`}l("sCMT").textContent=`x${d(Wl().mult,3)}`;let s=zl().list,o={1:{acc:2,desc:"Ascension Score Multiplier:"},2:{acc:2,desc:"Global Cube Multiplier:"},3:{acc:2,desc:"Season Pass 1:"},4:{acc:2,desc:"Constant Upgrade 10:"},5:{acc:2,desc:"Cube Upgrade 3x10:"},6:{acc:2,desc:"Cube Upgrade 4x8:"},7:{acc:2,desc:"Achievement 195 Bonus:"},8:{acc:2,desc:"Achievement 202 Bonus:"},9:{acc:2,desc:"Achievement 205-208 Bonus:"},10:{acc:2,desc:"Achievement 255 Bonus:"},11:{acc:2,desc:"Platonic Cubes:"},12:{acc:2,desc:"Platonic 1x2:"}};for(let L=0;L<s.length;L++){let E=l(`statTeM${L+1}`);E.childNodes[0].textContent=o[L+1].desc,l(`sTeM${L+1}`).textContent=`x${d(s[L],o[L+1].acc,!0)}`}l("sTeMT").textContent=`x${d(zl().mult,3)}`;let c=Kl().list,p={1:{acc:2,desc:"Ascension Score Multiplier:"},2:{acc:2,desc:"Global Cube Multiplier:"},3:{acc:2,desc:"Season Pass 2:"},4:{acc:2,desc:"Achievement 212-215 Bonus:"},5:{acc:2,desc:"Achievement 216 Bonus:"},6:{acc:2,desc:"Achievement 253 Bonus:"},7:{acc:2,desc:"Achievement 256 Bonus:"},8:{acc:2,desc:"Achievement 265 Bonus:"},9:{acc:2,desc:"Platonic Cubes:"},10:{acc:2,desc:"Platonic 1x3:"},11:{acc:2,desc:"Hyperreal Hepteract Bonus:"}};for(let L=0;L<c.length;L++){let E=l(`statHyM${L+1}`);E.childNodes[0].textContent=p[L+1].desc,l(`sHyM${L+1}`).textContent=`x${d(c[L],p[L+1].acc,!0)}`}l("sHyMT").textContent=`x${d(Kl().mult,3)}`;let f=Xl().list,g={1:{acc:2,desc:"Ascension Score Multiplier:"},2:{acc:2,desc:"Global Cube Multiplier:"},3:{acc:2,desc:"Season Pass 2:"},4:{acc:2,desc:"Achievement 196 Bonus:"},5:{acc:2,desc:"Achievement 219-222 Bonus:"},6:{acc:2,desc:"Achievement 223 Bonus:"},7:{acc:2,desc:"Achievement 257 Bonus:"},8:{acc:2,desc:"Platonic Cubes:"},9:{acc:2,desc:"Platonic 1x4:"}};for(let L=0;L<f.length;L++){let E=l(`statPlM${L+1}`);E.childNodes[0].textContent=g[L+1].desc,l(`sPlM${L+1}`).textContent=`x${d(f[L],g[L+1].acc,!0)}`}l("sPlMT").textContent=`x${d(Xl().mult,3)}`;let h=Zl().list,b={1:{acc:2,desc:"Ascension Score Multiplier:"},2:{acc:2,desc:"Global Cube Multiplier:"},3:{acc:2,desc:"Season Pass 3:"},4:{acc:2,desc:"Achievement 258 Bonus:"},5:{acc:2,desc:"Achievement 264 Bonus:"},6:{acc:2,desc:"Achievement 265 Bonus:"},7:{acc:2,desc:"Achievement 270 Bonus:"}};for(let L=0;L<h.length;L++){let E=l(`statHeM${L+1}`);E.childNodes[0].textContent=b[L+1].desc,l(`sHeM${L+1}`).textContent=`x${d(h[L],b[L+1].acc,!0)}`}l("sHeMT").textContent=`x${d(Zl().mult,3)}`;let y=xm(),C=e.singularityUpgrades.oneMind.getEffect().bonus?"One Mind Multiplier":"Ascension Speed Multiplier",x={1:{acc:2,desc:"Ascension Score Multiplier:"},2:{acc:2,desc:"PseudoCoin Upgrade:",color:"gold"},3:{acc:2,desc:"Season Pass 3:"},4:{acc:2,desc:"Season Pass Y:"},5:{acc:2,desc:"Season Pass Z:"},6:{acc:2,desc:"Season Pass Lost:"},7:{acc:2,desc:"Cookie Upgrade 20:"},8:{acc:2,desc:"Divine Pack:"},9:{acc:2,desc:"Cube Flame:"},10:{acc:2,desc:"Cube Blaze:"},11:{acc:2,desc:"Cube Inferno:"},12:{acc:2,desc:"Octeract Absinthe"},13:{acc:2,desc:"Pieces of Eight"},14:{acc:2,desc:"Obelisk Shaped Like an Octagon"},15:{acc:2,desc:"Octahedral Synthesis"},16:{acc:2,desc:"Eighth Wonder of the World"},17:{acc:2,desc:"Platonic is a fat sellout"},18:{acc:2,desc:"Octeracts for Dummies"},19:{acc:2,desc:"Octeract Cogenesis"},20:{acc:2,desc:"Octeract Trigenesis"},21:{acc:2,desc:"Singularity Factor"},22:{acc:2,desc:"Digital Octeract Accumulator"},23:{acc:2,desc:"Event Buff"},24:{acc:2,desc:"Platonic DELTA"},25:{acc:2,desc:"No Singularity Upgrades Challenge"},26:{acc:2,desc:"Wow Pass \u221E"},27:{acc:2,desc:"Unspent Ambrosia Bonus"},28:{acc:2,desc:"Module- Tutorial"},29:{acc:2,desc:"Module- Cubes 1"},30:{acc:2,desc:"Module- Luck-Cube 1"},31:{acc:2,desc:"Module- Quark-Cube 1"},32:{acc:2,desc:"Module- Cubes 2"},33:{acc:2,desc:"Cash Grab ULTIMATE"},34:{acc:2,desc:"Shop EX ULTIMATE"},35:{acc:2,desc:C}};for(let L=0;L<y.list.length;L++){let E=l(`statOcM${L+1}`);E.childNodes[0].textContent=x[L+1].desc,x[L+1].color&&(E.style.color=($=x[L+1].color)!=null?$:"white"),l(`sOcM${L+1}`).textContent=`x${d(y.list[L],x[L+1].acc,!0)}`}l("sOcMT").textContent=`x${d(y.mult,3)}`},yC=()=>{let t=pn("prestige",!1),r={1:{acc:3,desc:"Alchemy Achievement 5:"},2:{acc:3,desc:"Alchemy Achievement 6:"},3:{acc:3,desc:"Alchemy Achievement 7:"},4:{acc:3,desc:"Diamond Upgrade 4x3:"},5:{acc:3,desc:"Particle Upgrade 3x5:"},6:{acc:3,desc:"Auto Offering Shop Upgrade:"},7:{acc:3,desc:"Offering EX Shop Upgrade:"},8:{acc:3,desc:"Cash Grab Shop Upgrade:"},9:{acc:3,desc:"Research 4x10:"},10:{acc:3,desc:"Sacrificium Formicidae:"},11:{acc:3,desc:"Plutus Cube Tribute:"},12:{acc:3,desc:"Constant Upgrade 3:"},13:{acc:3,desc:"Research 6x24,8x4:"},14:{acc:3,desc:"Challenge 12:"},15:{acc:3,desc:"Research 8x25:"},16:{acc:3,desc:"Ascension Count Achievement:"},17:{acc:3,desc:"Sun and Moon Achievements:"},18:{acc:3,desc:"Cube Upgrade 5x6:"},19:{acc:3,desc:"Cube Upgrade 5x10:"},20:{acc:3,desc:"Platonic ALPHA:"},21:{acc:3,desc:"Platonic BETA:"},22:{acc:3,desc:"Platonic OMEGA:"},23:{acc:3,desc:"Challenge 15:"},24:{acc:3,desc:"Starter Pack:"},25:{acc:3,desc:"Offering Charge [GQ]:"},26:{acc:3,desc:"Offering Storm [GQ]:"},27:{acc:3,desc:"Offering Tempest [GQ]:"},28:{acc:3,desc:"Citadel [GQ]"},29:{acc:3,desc:"Citadel 2 [GQ]"},30:{acc:3,desc:"Cube Upgrade Cx4:"},31:{acc:3,desc:"Offering Electrolosis [OC]:"},32:{acc:3,desc:"RNG-based Offering Booster:"},33:{acc:3,desc:"20 Ascensions X20 [EXALT ONLY]"},34:{acc:3,desc:"Shop EX ULTIMATE"},35:{acc:3,desc:"Event:"}};for(let n=0;n<t.length;n++){let a=l(`statOff${n+1}`);a.childNodes[0].textContent=r[n+1].desc,l(`sOff${n+1}`).textContent=`x${d(t[n],r[n+1].acc,!0)}`}l("sOffT").textContent=`x${d(pn("prestige",!0,!0),3)}`},vC=()=>{l("sObt1").textContent=`x${d(e.upgrades[69]>0?Math.min(10,new m(m.pow(m.log(i.reincarnationPointGain.add(10),10),.5)).toNumber()):1,2)}`,l("sObt2").textContent=`x${d(e.upgrades[72]>0?Math.min(50,1+2*e.challengecompletions[6]+2*e.challengecompletions[7]+2*e.challengecompletions[8]+2*e.challengecompletions[9]+2*e.challengecompletions[10]):1,2)}`,l("sObt3").textContent=`x${d(e.upgrades[74]>0?1+4*Math.min(1,Math.pow(e.maxofferings/1e5,.5)):1,2)}`,l("sObt4").textContent=`x${d(1+e.researches[65]/5,2)}`,l("sObt5").textContent=`x${d(1+e.researches[76]/10,2)}`,l("sObt6").textContent=`x${d(1+e.researches[81]/10,2)}`,l("sObt7").textContent=`x${d(1+e.shopUpgrades.obtainiumAuto/50,3)}`,l("sObt8").textContent=`x${d(1+e.shopUpgrades.cashGrab/100,3)}`,l("sObt9").textContent=`x${d(1+e.shopUpgrades.obtainiumEX/50,3)}`,l("sObt10").textContent=`x${d(1+i.rune5level/200*i.effectiveLevelMult*(1+e.researches[84]/200*(1+1*i.effectiveRuneSpiritPower[5]*yt()/400)),3)}`,l("sObt11").textContent=`x${d(1+.01*e.achievements[84]+.03*e.achievements[91]+.05*e.achievements[98]+.07*e.achievements[105]+.09*e.achievements[112]+.11*e.achievements[119]+.13*e.achievements[126]+.15*e.achievements[133]+.17*e.achievements[140]+.19*e.achievements[147],2)}`,l("sObt12").textContent=`x${d(1+2*Math.pow((e.antUpgrades[10-1]+i.bonusant10)/50,2/3),3)}`,l("sObt13").textContent=`x${d(1+e.achievements[188]*Math.min(2,e.ascensionCount/5e6),3)}`,l("sObt14").textContent=`x${d(1+.6*e.achievements[250]+1*e.achievements[251],2)}`,l("sObt15").textContent=`x${d(i.cubeBonusMultiplier[5],3)}`,l("sObt16").textContent=`x${d(1+.04*e.constantUpgrades[4],2)}`,l("sObt17").textContent=`x${d(1+.1*e.cubeUpgrades[3],2)}`,l("sObt18").textContent=`x${d(1+.1*e.cubeUpgrades[47],3)}`,l("sObt19").textContent=`x${d(1+.5*z("ascension",e.challengecompletions[12]),2)}`,l("sObt20").textContent=`x${d(1+yt()/400*i.effectiveRuneSpiritPower[4],4)}`,l("sObt21").textContent=`x${d(1+.03*Math.log(e.uncommonFragments+1)/Math.log(4)*e.researches[144],3)}`,l("sObt22").textContent=`x${d(1+.02/100*e.cubeUpgrades[50],4)}`,l("sObt23").textContent=`x${d(e.achievements[53]>0?1+1/800*i.runeSum:1,3)}`,l("sObt24").textContent=`x${d((e.achievements[128]?1.5:1)*(e.achievements[129]?1.25:1),3)}`,l("sObt25").textContent=`+${d(e.achievements[51]>0?4:1,3)}`,l("sObt26").textContent=`+${d((e.reincarnationcounter>=2?1*e.researches[63]:1)+(e.reincarnationcounter>=5?2*e.researches[64]:1),2)}`,l("sObt27").textContent=`x${d((e.reincarnationcounter>=5?Math.max(1,e.reincarnationcounter/10):1)*Math.min(1,Math.pow(e.reincarnationcounter/10,2)),3)}`,l("sObt28").textContent=`x${d(Math.pow(m.log(e.transcendShards.add(1),10)/300,2),2)}`,l("sObt29").textContent=`^${d(Math.min(1,i.illiteracyPower[e.usedCorruptions[5]]*(1+9/100*e.platonicUpgrades[9]*Math.min(100,Math.log10(e.researchPoints+10)))),3)}`,l("sObt30").textContent=`x${d(1+4/100*e.cubeUpgrades[42]+1+3/100*e.cubeUpgrades[43],2)}`,l("sObt31").textContent=`x${d(1+e.platonicUpgrades[5],2)}`,l("sObt32").textContent=`x${d(1+1.5*e.platonicUpgrades[9],2)}`,l("sObt33").textContent=`x${d(1+2.5*e.platonicUpgrades[10],2)}`,l("sObt34").textContent=`x${d(1+5*e.platonicUpgrades[15],2)}`,l("sObt35").textContent=`x${d(i.challenge15Rewards.obtainium,3)}`,l("sObt36").textContent=`x${d(1+5*(e.singularityUpgrades.starterPack.getEffect().bonus?1:0),2)}`,l("sObt37").textContent=`x${d(+e.singularityUpgrades.singObtainium1.getEffect().bonus,2)}`,l("sObt38").textContent=`x${d(+e.singularityUpgrades.singObtainium2.getEffect().bonus,2)}`,l("sObt39").textContent=`x${d(+e.singularityUpgrades.singObtainium3.getEffect().bonus,2)}`,l("sObt40").textContent=`x${d(1+e.cubeUpgrades[55]/100,2)}`,l("sObt41").textContent=`x${d(1+1/200*e.shopUpgrades.cashGrab2,3)}`,l("sObt42").textContent=`x${d(1+1/100*e.shopUpgrades.obtainiumEX2*e.singularityCount,2)}`,l("sObt43").textContent=`x${d(1+Ct(9),2)}`,l("sObt44").textContent=`x${d(+e.singularityUpgrades.singCitadel.getEffect().bonus,2)}`,l("sObt45").textContent=`x${d(+e.singularityUpgrades.singCitadel2.getEffect().bonus,2)}`,l("sObt46").textContent=`x${d(+e.octeractUpgrades.octeractObtainium1.getEffect().bonus,2)}`,l("sObt47").textContent=`x${d(Math.pow(1.02,e.shopUpgrades.obtainiumEX3),2)}`,l("sObt48").textContent=`x${d(oi(),2)}`,l("sObt49").textContent=`x${d(e.currentChallenge.ascension===15?1+7*e.cubeUpgrades[62]:1,2)}`,l("sObt50").textContent=`x${d(1+.001*+e.blueberryUpgrades.ambrosiaObtainium1.bonus.obtainiumMult,2)}`,l("sObt51").textContent=`x${d(md(),2)}`,l("sObt52").textContent=`x${d(li(),2)}`,l("sObt53").textContent=`/${d(He("Obtainium"),2)}`,l("sObt54").textContent=`^${d(e.usedCorruptions[5]>=15?1/4:1,2)}`,l("sObt55").textContent=`^${d(e.usedCorruptions[5]>=16?1/4:1,2)}`,l("sObt56").textContent=`x${d(e.currentChallenge.ascension===14?0:1,2)}`,l("sObtT").textContent=`x${d(i.obtainiumGain,3)}`},CC=()=>{let t=Kr().list,r={1:{acc:2,desc:"Base:"},2:{acc:2,desc:"Challenge 15 Bonus:"},3:{acc:2,desc:"Powder EX:"},4:{acc:2,desc:"Achievement 256:"},5:{acc:2,desc:"Achievement 257:"},6:{acc:2,desc:"Platonic Upgrade 16 [4x1]:"},7:{acc:2,desc:"Event:"}};for(let n=0;n<t.length;n++){let a=l(`statPoM${n+1}`);a.childNodes[0].textContent=r[n+1].desc,l(`sPoM${n+1}`).textContent=`x${d(t[n],r[n+1].acc,!0)}`}l("sPoMT").textContent=`x${d(Kr().mult,3)}`},wC=()=>{let t=pd(),r={1:{acc:2,desc:"Chronometer:"},2:{acc:2,desc:"Chronometer 2:"},3:{acc:2,desc:"Chronometer 3:"},4:{acc:2,desc:"Chronos Hepteract:"},5:{acc:2,desc:"Achievement 262 Bonus:"},6:{acc:2,desc:"Achievement 263 Bonus:"},7:{acc:2,desc:"Platonic Omega:"},8:{acc:2,desc:"Challenge 15 Reward:"},9:{acc:2,desc:"Cookie Upgrade 9:"},10:{acc:2,desc:"Intermediate Pack:"},11:{acc:2,desc:"Chronometer Z:"},12:{acc:2,desc:"Abstract Photokinetics:"},13:{acc:2,desc:"Abstract Exokinetics:"},14:{acc:2,desc:"Event:"},15:{acc:2,desc:"Ascension Speedup 2 [GQ]:"},16:{acc:2,desc:"Chronometer INF:"},17:{acc:2,desc:"Limited Ascensions Penalty:"},18:{acc:2,desc:"Limited Ascensions Reward:"},19:{acc:2,desc:"Ascension Speedup [GQ]:"},20:{acc:2,desc:"Singularity Penalty:"},21:{acc:2,desc:"EXALT 6: The Great Singularity Speedrun:"},22:{acc:2,desc:"Shop Chronometer S:"}};for(let n=0;n<t.list.length;n++){let a=l(`statASM${n+1}`);a.childNodes[0].textContent=r[n+1].desc,l(`sASM${n+1}`).textContent=`x${d(t.list[n],r[n+1].acc,!0)}`}l("sASMT").textContent=`x${d(t.mult,3)}`},xC=()=>{var n;let t=gd(),r={1:{acc:2,desc:"PseudoCoin Bonus:",color:"gold"},2:{acc:2,desc:"Challenge 15 Exponent:"},3:{acc:2,desc:"Patreon Bonus:"},4:{acc:2,desc:"Golden Quarks I:"},5:{acc:2,desc:"Cookie Upgrade 19:"},6:{acc:2,desc:"No Singularity Upgrades:"},7:{acc:2,desc:"Event:"},8:{acc:2,desc:"Singularity Fast Forwards:"},9:{acc:2,desc:"Golden Revolution II:"},10:{acc:2,desc:"Immaculate Alchemy:"},11:{acc:2,desc:"Total Quarks Coefficient:"}};for(let a=0;a<t.list.length;a++){let s=l(`statGQMS${a+1}`);r[a+1].color&&(s.style.color=(n=r[a+1].color)!=null?n:"white"),s.childNodes[0].textContent=r[a+1].desc,l(`sGQMS${a+1}`).textContent=`x${d(t.list[a],r[a+1].acc,!0)}`}l("sGQMST").textContent=`x${d(t.mult,3)}`},MC=()=>{var f;let t=ds(),r=si(),n=da(),a=Jl(),s={1:{acc:0,desc:"Base:"},2:{acc:2,desc:"PL-AT \u03B4 calculator:"},3:{acc:2,desc:"PL-AT \u03A3 sing perk:"},4:{acc:2,desc:"Ascension of Ant God:"},5:{acc:2,desc:"Singularity factor:"}};t.list[0]/=1e3;for(let g=0;g<t.list.length;g++){let h=l(`stat+time${g+1}`);h.childNodes[0].textContent=s[g+1].desc,g===0?l(`s+time${g+1}`).textContent=`${d(t.list[g],s[g+1].acc,!0)} sec`:l(`s+time${g+1}`).textContent=`x${d(t.list[g],s[g+1].acc,!0)}`}l("s+timeT").textContent=`${d(t.time/1e3,1)} sec`,n!==r.total?l("s+next").textContent=`+1 in ${d(a,1)} sec`:l("s+next").textContent="";let o={1:{acc:0,desc:"Base:"},2:{acc:0,desc:"PL-AT X:"},3:{acc:0,desc:"PL-AT \u03B4:"},4:{acc:0,desc:"PL-AT \u0393:"},5:{acc:0,desc:"PL-AT _:"},6:{acc:0,desc:"PL-AT \u03A9\u03A9"},7:{acc:3,desc:"Singularity factor:"},8:{acc:0,desc:"Plat-P:",color:"gold"}};for(let g=0;g<r.list.length;g++){let h=l(`stat+cap${g+1}`);o[g+1].color&&(h.style.color=(f=o[g+1].color)!=null?f:"white"),h.childNodes[0].textContent=o[g+1].desc;let b=g===0?"":g===5||g===7?"x":"+";l(`s+cap${g+1}`).textContent=`${b}${d(r.list[g],o[g+1].acc,!0)}`}l("s+capT").textContent=`${d(n,0)} / ${d(r.total,0)}`;let c=dd(),p=e.worlds.applyBonus(1);l("stat+eff1").childNodes[0].textContent="Quarks: ",Math.abs(c.maxQuarks-c.minQuarks)>=.5?l("s+eff1").textContent=`+${d(p*c.minQuarks,3)} ~ ${d(p*c.maxQuarks,3)}`:l("s+eff1").textContent=`+${d(p*c.quarks,3)}`,l("stat+eff2").childNodes[0].textContent="PL-AT X - bonus ascension time: ",l("s+eff2").textContent=`+${d(c.ascensionTimer,2)} sec`,l("stat+eff3").childNodes[0].textContent="PL-AT \u0393 - bonus GQ export time: ",l("s+eff3").textContent=`+${d(c.gqTimer,2)} sec`,l("stat+eff4").childNodes[0].textContent="PL-AT _ - bonus octeract time: ",l("s+eff4").textContent=`+${d(c.octeractTime,2)} sec`},SC=()=>{var s;let t=nt(),r=t.array,n={1:{acc:0,desc:"Base Value"},2:{acc:0,desc:"PseudoCoin Upgrade",color:"gold"},3:{acc:0,desc:"Irish Ants Singularity Perk"},4:{acc:1,desc:"Shop Upgrade Bonus"},5:{acc:0,desc:"Singularity Ambrosia Luck Upgrades"},6:{acc:0,desc:"Octeract Ambrosia Luck Upgrades"},7:{acc:0,desc:"Ambrosia Luck Module I"},8:{acc:1,desc:"Ambrosia Luck Module II"},9:{acc:2,desc:"Ambrosia Cube-Luck Hybrid Module I"},10:{acc:2,desc:"Ambrosia Quark-Luck Hybrid Module I"},11:{acc:0,desc:"Perk: One Hundred Thirty One!"},12:{acc:0,desc:"Perk: Two Hundred Sixty Nine!"},13:{acc:0,desc:"Shop: Octeract-Based Ambrosia Luck"},14:{acc:0,desc:"No Ambrosia Upgrades EXALT"},15:{acc:0,desc:"ULTRA Upgrade: Ambrosia Exalter"}};for(let o=0;o<r.length-1;o++){let c=l(`statALuckM${o+1}`);c.childNodes[0].textContent=n[o+1].desc,n[o+1].color&&(c.style.color=(s=n[o+1].color)!=null?s:"white"),l(`sALuckM${o+1}`).textContent=`+${d(r[o],n[o+1].acc,!0)}`}l("sALuckMult").textContent=`x${d(r[r.length-1],3,!0)}`;let a=Math.floor(t.value);l("sALuckMT").innerHTML=`&#9752 ${d(a,0)}`},TC=()=>{var s;let t=rt(),r=t.array,n={1:{acc:4,desc:"Visited Ambrosia Subtab"},2:{acc:4,desc:"PseudoCoin Upgrade",color:"gold"},3:{acc:4,desc:"Number of Blueberries"},4:{acc:4,desc:"Shop Upgrade Bonus"},5:{acc:4,desc:"Singularity Ambrosia Generation Upgrades"},6:{acc:4,desc:"Octeract Ambrosia Generation Upgrades"},7:{acc:4,desc:"Patreon Bonus"},8:{acc:4,desc:"One Ascension Challenge EXALT"},9:{acc:4,desc:"No Ambrosia Upgrades EXALT"},10:{acc:4,desc:"Cash-Grab ULTIMATE"},11:{acc:4,desc:"Event Bonus"}};for(let o=0;o<r.length;o++){let c=l(`statAGenM${o+1}`);c.childNodes[0].textContent=n[o+1].desc,n[o+1].color&&(c.style.color=(s=n[o+1].color)!=null?s:"white"),l(`sAGenM${o+1}`).textContent=`x${d(r[o],n[o+1].acc,!0)}`}let a=t.value;l("sAGenMT").textContent=`${d(a,3,!0)}`},Yl=()=>{let t=[750,1500,3e3,5e3,7500,7500,1e4,1e4,2e4,4e4,6e4,1e5,1e5,2e5,5e5,1e6,3e6,1e7,3e7,1e8,5e8,2e9,1e10,1e11,1e15,2e15,4e15,7e15,1e16,2e16,333e14,333e14,333e14,2e17,15e17],r=Object.keys(i.challenge15Rewards),n=e.challenge15Exponent;for(let a in i.challenge15Rewards)i.challenge15Rewards[a]=1;i.challenge15Rewards.freeOrbs=0,n>=t[0]&&(i.challenge15Rewards[r[0]]=1+1/50*Math.log(n/175)/Math.log(2)),n>=t[1]&&(i.challenge15Rewards[r[1]]=1+1/20*Math.log(n/375)/Math.log(2)),n>=t[2]&&(i.challenge15Rewards[r[2]]=1+1/150*Math.log(n/750)/Math.log(2)),n>=t[3]&&(i.challenge15Rewards[r[3]]=Math.pow(.98,Math.log(n/1250)/Math.log(2))),n>=t[4]&&(i.challenge15Rewards[r[4]]=1+1/5*Math.pow(n/7500,.75)),n>=t[5]&&(i.challenge15Rewards[r[5]]=1+1/5*Math.pow(n/7500,.75)),n>=t[6]&&(i.challenge15Rewards[r[6]]=1+1/20*Math.log(n/2500)/Math.log(2)),n>=t[7]&&(i.challenge15Rewards[r[7]]=1+1/20*Math.log(n/2500)/Math.log(2)),n>=t[8]&&(i.challenge15Rewards[r[8]]=1+Math.pow(n/2e4,1.5)),n>=t[9]&&(i.challenge15Rewards[r[9]]=1+1/33*Math.log(n/1e4)/Math.log(2)),n>=t[10]&&(i.challenge15Rewards[r[10]]=1+1/100*Math.log(n/15e3)/Math.log(2)),n>=t[11]&&(i.challenge15Rewards[r[11]]=Math.pow(.98,Math.log(n/25e3)/Math.log(2))),n>=t[12]&&(i.challenge15Rewards[r[12]]=Math.pow(.98,Math.log(n/25e3)/Math.log(2))),n>=t[13]&&(i.challenge15Rewards[r[13]]=Math.pow(1+Math.log(n/2e5)/Math.log(2),4)),n>=t[14]&&(i.challenge15Rewards[r[14]]=1+1/20*Math.log(n/15e4)/Math.log(2)),n>=t[15]&&(i.challenge15Rewards[r[15]]=1+1/150*Math.log(n/25e4)/Math.log(2)),n>=t[16]&&(i.challenge15Rewards[r[16]]=1+1/20*Math.log(n/75e4)/Math.log(2)),n>=t[17]&&(i.challenge15Rewards[r[17]]=1+1/20*Math.log(n/25e5)/Math.log(2)),n>=t[18]&&(i.challenge15Rewards[r[18]]=1+1/5*Math.pow(n/3e7,1/4)),n>=t[19]&&(i.challenge15Rewards[r[19]]=1+1/5*Math.pow(n/1e8,2/3)),n>=t[20]&&(i.challenge15Rewards[r[20]]=1+1/200*Math.log(n/125e6)/Math.log(2)),n>=t[21]&&(i.challenge15Rewards[r[21]]=1+1/5*Math.pow(n/2e9,1/4)),n>=t[22]&&(i.challenge15Rewards[r[22]]=1+1/4*Math.pow(n/1e10,1/4),n>=1e20&&(i.challenge15Rewards[r[22]]=1+1/4*Math.pow(n/1e10,1/8)*Math.pow(1e10,1/8))),n>=t[23]&&(i.challenge15Rewards[r[23]]=1+1/100*Math.log(n*32/1e11)/Math.log(2)),n>=t[24]&&(i.challenge15Rewards[r[24]]=2),n>=t[25]&&e.hepteractCrafts.challenge.unlock("the Hepteract of Challenge"),n>=t[26]&&(i.challenge15Rewards[r[25]]=1+1/300*Math.log2(n/(4e15/1024))),n>=t[27]&&(i.challenge15Rewards[r[26]]=1+1/50*Math.log2(n/(7e15/32))),n>=t[28]&&e.hepteractCrafts.abyss.unlock("the Hepteract of the Abyss"),n>=t[29]&&(i.challenge15Rewards[r[27]]=Bt(1.05,n,1e18)),n>=t[30]&&e.hepteractCrafts.accelerator.unlock("the Hepteract of Way Too Many Accelerators"),n>=t[31]&&e.hepteractCrafts.acceleratorBoost.unlock("the Hepteract of Way Too Many Accelerator Boosts"),n>=t[32]&&e.hepteractCrafts.multiplier.unlock("the Hepteract of Way Too Many Multipliers"),n>=t[33]&&(i.challenge15Rewards.freeOrbs=Math.floor(200*Math.pow(n/2e17,.5))),n>=t[34]&&(i.challenge15Rewards.ascensionSpeed=1+5/100+2*Math.log2(n/15e17)/100),kC()},kC=()=>{l("c15Reward0Num").textContent=d(e.challenge15Exponent,3,!0),l("c15RequiredExponentNum").textContent=d(m.pow(10,e.challenge15Exponent/ci()),0,!0);let t=[750,1500,3e3,5e3,7500,7500,1e4,1e4,2e4,4e4,6e4,1e5,1e5,2e5,5e5,1e6,3e6,1e7,3e7,1e8,5e8,2e9,1e10,1e11,1e15,2e15,4e15,7e15,1e16,2e16,333e14,333e14,333e14,2e17,15e17],r={0:!0,1:!0,2:!0,3:!0,4:!0,5:!0,6:!0,7:!0,8:!0,9:!0,10:!0,11:!0,12:!0,13:!0,14:!0,15:!0,16:!0,17:!0,18:!0,19:!0,20:!0,21:!0,22:!0,23:!0,24:!1,25:!1,26:!0,27:!0,28:!1,29:!0,30:!1,31:!1,32:!1,33:!0,34:!0},n=Object.values(i.challenge15Rewards),a="None",s=0;for(let o=0;o<t.length;o++)a==="None"&&e.challenge15Exponent<t[o]&&(a=t[o]),e.challenge15Exponent>=t[o]&&(l(`c15Reward${o+1}Num`).textContent=r[o]?d(100*n[o-s]-100,2,!0):"Unlocked!",!r[o]&&o!==24&&(s+=1),o===33&&(l("c15Reward34Num").textContent=d(n[o-s],0,!0))),l(`c15Reward${o+1}`).style.display=e.challenge15Exponent>=t[o]?"block":"none",l("c15RewardList").textContent=typeof a=="string"?"You have unlocked all reward types from Challenge 15!":`Next reward type requires ${d(a,0,!0)} exponent.`},LC=()=>[{stage:0,tier:1,name:"start",unlocked:!0,reset:!0},{stage:1,tier:1,name:"start-prestige",unlocked:e.unlocks.prestige,reset:e.unlocks.prestige},{stage:2,tier:2,name:"prestige-transcend",unlocked:e.unlocks.transcend,reset:e.unlocks.transcend},{stage:3,tier:3,name:"transcend-reincarnate",unlocked:e.unlocks.reincarnate,reset:e.unlocks.reincarnate},{stage:4,tier:4,name:"reincarnate-ant",unlocked:e.firstOwnedAnts!==0,reset:e.unlocks.reincarnate},{stage:5,tier:4,name:"ant-sacrifice",unlocked:e.achievements[173]===1,reset:e.unlocks.reincarnate},{stage:6,tier:4,name:"sacrifice-ascension",unlocked:e.achievements[183]===1,reset:e.unlocks.reincarnate},{stage:7,tier:5,name:"ascension-challenge10",unlocked:e.ascensionCount>1,reset:e.achievements[183]===1},{stage:8,tier:5,name:"challenge10-challenge11",unlocked:e.achievements[197]===1,reset:e.achievements[183]===1},{stage:9,tier:5,name:"challenge11-challenge12",unlocked:e.achievements[204]===1,reset:e.achievements[183]===1},{stage:10,tier:5,name:"challenge12-challenge13",unlocked:e.achievements[211]===1,reset:e.achievements[183]===1},{stage:11,tier:5,name:"challenge13-challenge14",unlocked:e.achievements[218]===1,reset:e.achievements[183]===1},{stage:12,tier:5,name:"challenge14-w5x10max",unlocked:e.cubeUpgrades[50]>=1e5,reset:e.achievements[183]===1},{stage:13,tier:5,name:"w5x10max-alpha",unlocked:e.platonicUpgrades[5]>0,reset:e.achievements[183]===1},{stage:14,tier:5,name:"alpha-p2x1x10",unlocked:e.platonicUpgrades[6]>=10,reset:e.achievements[183]===1},{stage:15,tier:5,name:"p2x1x10-p3x1",unlocked:e.platonicUpgrades[11]>0,reset:e.achievements[183]===1},{stage:16,tier:5,name:"p3x1-beta",unlocked:e.platonicUpgrades[10]>0,reset:e.achievements[183]===1},{stage:17,tier:5,name:"beta-1e15-expo",unlocked:e.challenge15Exponent>=1e15,reset:e.achievements[183]===1},{stage:18,tier:5,name:"1e15-expo-omega",unlocked:e.platonicUpgrades[15]>0,reset:e.achievements[183]===1},{stage:19,tier:5,name:"omega-singularity",unlocked:e.singularityCount>0&&e.runelevels[6]>0,reset:e.achievements[183]===1},{stage:20,tier:6,name:"singularity-exalt1x1",unlocked:e.singularityChallenges.noSingularityUpgrades.completions>0,reset:e.highestSingularityCount>0},{stage:21,tier:6,name:"exalt1x1-onemind",unlocked:e.singularityUpgrades.oneMind.level>0,reset:e.highestSingularityCount>0},{stage:22,tier:6,name:"onemind-end",unlocked:e.singularityUpgrades.offeringAutomatic.level>0,reset:e.highestSingularityCount>0},{stage:23,tier:6,name:"end-pen",unlocked:e.singularityUpgrades.ultimatePen.level>0,reset:e.highestSingularityCount>0},{stage:24,tier:6,name:"pen",unlocked:!1,reset:e.highestSingularityCount>0}],ud=(t=e.singularityCount>0?5:0)=>{let r=LC();for(let a=0;a<r.length;a++){let s=r[a];if(t<s.tier&&(!s.reset||!s.unlocked))return s.name}return r[0].name};var Sm=()=>{if(i.currentTab===0){if(i.buildingSubTab==="coin"){let t=["produceFirst","produceSecond","produceThird","produceFourth","produceFifth"],r=[null,"workers","investments","printers","coinMints","alchemies"],n=new m(i.produceTotal);n.equals(0)&&(n=new m(1));for(let s=1;s<=5;s++){let o=i[t[s-1]],c=i.ordinals[s-1];l(`buildtext${2*s-1}`).textContent=u.t(`buildings.names.${r[s]}`,{amount:d(e[`${c}OwnedCoin`],0,!0),gain:d(e[`${c}GeneratedCoin`])}),l(`buycoin${s}`).textContent=u.t("buildings.costCoins",{coins:d(e[`${c}CostCoin`])});let p=m.fromMantissaExponent(o.mantissa/n.mantissa,o.exponent-n.exponent).times(100);l(`buildtext${2*s}`).textContent=u.t("buildings.coinsPerSecond",{coins:d(o.dividedBy(i.taxdivisor).times(40),2),percent:d(p,3)})}l("buildtext11").textContent=u.t("buildings.names.accelerators",{amount:d(e.acceleratorBought,0,!0),gain:d(i.freeAccelerator,0,!0)}),l("buildtext12").textContent=u.t("buildings.acceleratorPower",{power:d((i.acceleratorPower-1)*100,2),mult:d(i.acceleratorEffect,2)}),l("buildtext13").textContent=u.t("buildings.names.multipliers",{amount:d(e.multiplierBought,0,!0),gain:d(i.freeMultiplier,0,!0)}),l("buildtext14").textContent=u.t("buildings.multiplierPower",{power:d(i.multiplierPower,2),mult:d(i.multiplierEffect,2)}),l("buildtext15").textContent=u.t("buildings.names.acceleratorBoost",{amount:d(e.acceleratorBoostBought,0,!0),gain:d(i.freeAcceleratorBoost,0,!1)}),l("buildtext16").textContent=u.t("buildings.acceleratorBoost",{amount:d(i.tuSevenMulti*(1+e.researches[16]/50)*(1+z("transcend",e.challengecompletions[2])/100),2)}),l("buyaccelerator").textContent=u.t("buildings.costCoins",{coins:d(e.acceleratorCost)}),l("buymultiplier").textContent=u.t("buildings.costCoins",{coins:d(e.multiplierCost)}),l("buyacceleratorboost").textContent=u.t("buildings.costDiamonds",{diamonds:d(e.acceleratorBoostCost)});let a="";e.reincarnationCount>.5&&(a=u.t("buildings.taxWarning",{gain:d(m.pow(10,i.maxexponent-m.log(i.taxdivisorcheck,10)))})),l("taxinfo").textContent=u.t("buildings.excessiveWealth",{div:d(i.taxdivisor,2),warning:a})}else if(i.buildingSubTab==="diamond"){let t=["produceFirstDiamonds","produceSecondDiamonds","produceThirdDiamonds","produceFourthDiamonds","produceFifthDiamonds"],r=["refineries","coalPlants","coalRigs","pickaxes","pandorasBoxes"],n=["crystal","ref","plants","rigs","pickaxes"];l("prestigeshardinfo").textContent=u.t("buildings.crystalMult",{crystals:d(e.prestigeShards,2),gain:d(i.prestigeMultiplier,2)});for(let a=1;a<=5;a++){let s=i[t[a-1]],o=i.ordinals[a-1];l(`prestigetext${2*a-1}`).textContent=u.t(`buildings.names.${r[a-1]}`,{amount:d(e[`${o}OwnedDiamonds`],0,!0),gain:d(e[`${o}GeneratedDiamonds`],2)}),l(`prestigetext${2*a}`).textContent=u.t(`buildings.per.${n[a-1]}`,{amount:d(s.times(40),2)}),l(`buydiamond${a}`).textContent=u.t("buildings.costDiamonds",{diamonds:d(e[`${o}CostDiamonds`],2)})}if(e.resettoggle1===1||e.resettoggle1===0){let a=m.pow(10,m.log(i.prestigePointGain.add(1),10)-m.log(e.prestigePoints.sub(1),10));l("autoprestige").textContent=u.t("buildings.autoPrestige",{name:"Diamonds",action:"Prestige",factor:d(m.pow(10,e.prestigeamount)),mult:d(a)})}else e.resettoggle1===2&&(l("autoprestige").textContent=u.t("buildings.autoReincarnate",{name:"Prestige",amount:e.prestigeamount,timer:d(i.autoResetTimers.prestige,1)}))}else if(i.buildingSubTab==="mythos"){let t=["produceFirstMythos","produceSecondMythos","produceThirdMythos","produceFourthMythos","produceFifthMythos"],r=["augments","enchantments","wizards","oracles","grandmasters"],n=["shards","augments","enchantments","wizards","oracles"];l("transcendshardinfo").textContent=u.t("buildings.mythosYouHave",{shards:d(e.transcendShards,2),mult:d(i.totalMultiplierBoost,0,!0)});for(let a=1;a<=5;a++){let s=i[t[a-1]],o=i.ordinals[a-1];l(`transcendtext${2*a-1}`).textContent=u.t(`buildings.names.${r[a-1]}`,{amount:d(e[`${o}OwnedMythos`],0,!0),gain:d(e[`${o}GeneratedMythos`],2)}),l(`transcendtext${2*a}`).textContent=u.t(`buildings.per.${n[a-1]}`,{amount:d(s.times(40),2)}),l(`buymythos${a}`).textContent=u.t("buildings.costMythos",{mythos:d(e[`${o}CostMythos`],2)})}(e.resettoggle2===1||e.resettoggle2===0)&&(l("autotranscend").textContent=u.t("buildings.autoPrestige",{name:"Mythos",action:"Prestige",factor:d(m.pow(10,e.transcendamount)),mult:d(m.pow(10,m.log(i.transcendPointGain.add(1),10)-m.log(e.transcendPoints.add(1),10)),2)})),e.resettoggle2===2&&(l("autotranscend").textContent=`Transcend when the autotimer is at least ${e.transcendamount} real-life seconds. [Toggle number above]. Current timer: ${d(i.autoResetTimers.transcension,1)}s.`)}else if(i.buildingSubTab==="particle"){let t=["FirstParticles","SecondParticles","ThirdParticles","FourthParticles","FifthParticles"],r=["protons","elements","pulsars","quasars","galacticNuclei"],n=["atoms","protons","elements","pulsars","quasars"];for(let a=1;a<=5;a++){let s=i.ordinals[a-1],o=i[`produce${t[a-1]}`];l(`reincarnationtext${a}`).textContent=u.t(`buildings.names.${r[a-1]}`,{amount:d(e[`${s}OwnedParticles`],0,!0),gain:d(e[`${s}GeneratedParticles`],2)}),l(`reincarnationtext${a+5}`).textContent=u.t(`buildings.per.${n[a-1]}`,{amount:d(o.times(40),2)}),l(`buyparticles${a}`).textContent=u.t("buildings.costParticles",{particles:d(e[`${s}CostParticles`],2)})}l("reincarnationshardinfo").textContent=u.t("buildings.atomsYouHave",{atoms:d(e.reincarnationShards,2),power:d(i.buildingPower,4),mult:d(i.reincarnationMultiplier)}),l("reincarnationCrystalInfo").textContent=u.t("buildings.thanksR2x14",{mult:d(m.pow(i.reincarnationMultiplier,1/50),3,!1)}),l("reincarnationMythosInfo").textContent=u.t("buildings.thanksR2x15",{mult:d(m.pow(i.reincarnationMultiplier,1/250),3,!1)}),e.resettoggle3===1||e.resettoggle3===0?l("autoreincarnate").textContent=u.t("buildings.autoPrestige",{name:"Particles",action:"Reincarnate",factor:d(m.pow(10,e.reincarnationamount)),mult:d(m.pow(10,m.log(i.reincarnationPointGain.add(1),10)-m.log(e.reincarnationPoints.add(1),10)),2)}):e.resettoggle3===2&&(l("autoreincarnate").textContent=u.t("buildings.autoReincarnate",{name:"Reincarnate",amount:e.reincarnationamount,timer:d(i.autoResetTimers.reincarnation,1)}))}else if(i.buildingSubTab==="tesseract"){let t=["dot","vector","threeSpace","bentTime","hilbertSpace"],r=["constant","dot","vector","threeSpace","bentTime"];for(let n=1;n<=5;n++){let a=`ascendBuilding${n}`;l(`ascendText${n}`).textContent=u.t(`buildings.names.${t[n-1]}`,{amount:d(e[a].owned,0,!0),gain:d(e[a].generated,2)}),l(`ascendText${5+n}`).textContent=u.t(`buildings.per.${r[n-1]}`,{amount:d(i.ascendBuildingProduction[i.ordinals[n-1]],2)}),l(`buyTesseracts${n}`).textContent=u.t("buildings.costTesseracts",{tesseracts:d(e[a].cost,0)})}l("tesseractInfo").textContent=u.t("buildings.tesseractsYouHave",{tesseracts:d(e.wowTesseracts)}),l("ascendShardInfo").textContent=u.t("buildings.constantYouHave",{const:d(e.ascendShards,2),amount:d(Math.pow(m.log(e.ascendShards.add(1),10)+1,1+.2/60*e.challengecompletions[10]*e.upgrades[125]+.1*e.platonicUpgrades[5]+.2*e.platonicUpgrades[10]+(i.platonicBonusMultiplier[5]-1)),4,!0)}),e.resettoggle4===1||e.resettoggle4===0?l("autotessbuyeramount").textContent=u.t("buildings.autoTesseract",{tesseracts:d(e.tesseractAutoBuyerAmount)}):e.resettoggle4===2&&(l("autotessbuyeramount").textContent=u.t("buildings.autoAscensionTesseract",{percent:d(Math.min(100,e.tesseractAutoBuyerAmount))}))}}},Tm=()=>{},km=()=>{},Lm=()=>{if(i.currentTab===3){if(i.runescreen==="runes"){let t=["rune1Talisman","rune2Talisman","rune3Talisman","rune4Talisman","rune5Talisman"];l("offeringCount").textContent=u.t("runes.offeringsYouHave",{offerings:d(e.runeshards,0,!0)});for(let a=1;a<=7;a++){let s=i[t[a-1]];a>5&&(s=0);let o=e.runelevels[a-1],c=Mt(a);l(`rune${a}level`).childNodes[0].textContent=u.t("cubes.cubeMetadata.level",{value1:d(o),value2:d(c)}),o<c?l(`rune${a}exp`).textContent=u.t("runes.TNL",{EXP:d(On(a-1)-e.runeexp[a-1],2)}):l(`rune${a}exp`).textContent=u.t("runes.maxLevel"),a<=5?l(`bonusrune${a}`).textContent=u.t("runes.bonusAmount",{x:d(7*e.constantUpgrades[7]+Math.min(1e7,e.antUpgrades[8]+i.bonusant9)+s)}):a===6?l(`bonusrune${a}`).textContent=u.t("runes.bonusAmount",{x:_e.INSTANT_UNLOCK_2?6:0}):l(`bonusrune${a}`).textContent=u.t("runes.bonusNope"),tr(a,!1)}let r=bd(),n=xe([1*r,Math.min(1,e.highestchallengecompletions[1]),.4/10*e.highestchallengecompletions[1],.6*e.researches[22],.3*e.researches[23],2*e.upgrades[61]]);l("offeringExperienceValue").textContent=u.t("runes.gainExp",{amount:d(n,2,!0)}),l("offeringRecycleInfo").textContent=u.t("runes.recycleChance",{percent:d((1-1/r)*100,2,!0),mult:d(r,2,!0)})}if(i.runescreen==="talismans")for(let t=0;t<7;t++){let r=ei(t);l(`talisman${t+1}level`).textContent=`${e.ascensionCount>0?"":"Level "} ${d(e.talismanLevels[t])}/${d(r)}`}if(i.runescreen==="blessings"){let t=[0,8,10,6.66,2,1],r=0;for(let n=1;n<=5;n++){l(`runeBlessingLevel${n}Value`).innerHTML=u.t("runes.blessings.blessingLevel",{amount:d(e.runeBlessingLevels[n])}),l(`runeBlessingPower${n}Value1`).innerHTML=u.t("runes.blessings.blessingPower",{reward:u.t(`runes.blessings.rewards.${n-1}`),value:d(i.runeBlessings[n]),speed:d(1-r+t[n]*i.effectiveRuneBlessingPower[n],4,!0)});let a=pa(e.runeBlessingLevels[n],i.blessingBaseCost,e.runeshards,e.runeBlessingBuyAmount)[0]-e.runeBlessingLevels[n];a>0?l(`runeBlessingPurchase${n}`).classList.add("runeButtonsAvailable"):l(`runeBlessingPurchase${n}`).classList.remove("runeButtonsAvailable"),l(`runeBlessingPurchase${n}`).innerHTML=u.t("runes.blessings.increaseLevel",{amount:d(Math.max(1,a)),offerings:d(Math.max(i.blessingBaseCost*(1+e.runeBlessingLevels[n]),pa(e.runeBlessingLevels[n],i.blessingBaseCost,e.runeshards,e.runeBlessingBuyAmount)[1]))}),n===5&&(r=1)}}if(i.runescreen==="spirits"){let t=[0,1,1,20,1,100],r=[0,0,0,1,0,0];for(let n=1;n<=5;n++){t[n]*=yt()/400,l(`runeSpiritLevel${n}Value`).innerHTML=u.t("runes.spirits.spiritLevel",{amount:d(e.runeSpiritLevels[n])}),l(`runeSpiritPower${n}Value1`).innerHTML=u.t("runes.spirits.spiritPower",{reward:u.t(`runes.spirits.rewards.${n-1}`),value:d(i.runeSpirits[n]),speed:d(1-r[n]+t[n]*i.effectiveRuneSpiritPower[n],4,!0)});let a=pa(e.runeSpiritLevels[n],i.spiritBaseCost,e.runeshards,e.runeSpiritBuyAmount)[0]-e.runeSpiritLevels[n];a>0?l(`runeSpiritPurchase${n}`).classList.add("runeButtonsAvailable"):l(`runeSpiritPurchase${n}`).classList.remove("runeButtonsAvailable"),l(`runeSpiritPurchase${n}`).innerHTML=u.t("runes.blessings.increaseLevel",{amount:d(Math.max(1,a)),offerings:d(Math.max(i.spiritBaseCost*(1+e.runeSpiritLevels[n]),pa(e.runeSpiritLevels[n],i.spiritBaseCost,e.runeshards,e.runeSpiritBuyAmount)[1]))})}}}},Am=()=>{i.currentTab===4&&e.researches[150]>0&&(l("autoIncrementerAmount").innerHTML=u.t("challenges.autoTimer",{time:d(i.autoChallengeTimerIncrement,2)}))},ec=()=>{i.currentTab===5&&e.researches[61]>0&&(l("automaticobtainium").textContent=u.t("researches.thanksToResearches",{x:d(pi()*ot().mult,3,!0)}))},Pm=()=>{if(i.currentTab!==6)return;l("crumbcount").textContent=u.t("ants.youHaveGalacticCrumbs",{x:d(e.antPoints,2),y:d(i.antOneProduce,2),z:d(m.pow(m.max(1,e.antPoints),1e5+nr(499e5,(e.antUpgrades[1]+i.bonusant2)/5e3*500/499)))});let t=e.autoAntSacrificeMode===2?u.t("ants.modeRealTime"):u.t("ants.modeInGameTime"),r=e.autoAntSacrificeMode===2?e.antSacrificeTimerReal:e.antSacrificeTimer;l("autoAntSacrifice").textContent=u.t("ants.sacrificeWhenTimer",{x:e.autoAntSacTimer,y:t,z:d(r,2)}),e.achievements[173]===1&&(l("antSacrificeTimer").textContent=dr(e.antSacrificeTimer),Im())},tc=()=>{if(i.currentTab!==7)return;let t=e.shopUpgrades.cubeToQuark?1.5:1,r=e.shopUpgrades.tesseractToQuark?1.5:1,n=e.shopUpgrades.hypercubeToQuark?1.5:1,a=1.5,s={cube:Number(e.wowCubes.checkCubesToNextQuark(5,t,e.cubeQuarkDaily,e.cubeOpenedDaily)),tesseract:Number(e.wowTesseracts.checkCubesToNextQuark(7,r,e.tesseractQuarkDaily,e.tesseractOpenedDaily)),hypercube:Number(e.wowHypercubes.checkCubesToNextQuark(10,n,e.hypercubeQuarkDaily,e.hypercubeOpenedDaily)),platonicCube:Number(e.wowPlatonicCubes.checkCubesToNextQuark(15,a,e.platonicCubeQuarkDaily,e.platonicCubeOpenedDaily))},o=Object.keys(s);for(let p of o)l(`${p}QuarksToday`).innerHTML=u.t(`wowCubes.quarks.${p}QuarksToday`,{amount:d(e[`${p}QuarkDaily`])}),l(`${p}QuarksOpenToday`).innerHTML=u.t(`wowCubes.quarks.${p}QuarksOpenToday`,{amount:d(e[`${p}OpenedDaily`])}),l(`${p}QuarksOpenRequirement`).innerHTML=u.t(`wowCubes.quarks.${p}QuarksOpenRequirement`,{amount:d(Math.max(1,s[p]))}),l(`${p}QuarksOpenRequirement`).style.color=Math.max(1,s[p])===1?"gold":"white";let c;switch(e.subtabNumber){case 0:{e.autoOpenCubes&&(l("openCubes").textContent=u.t("wowCubes.autoOn",{percent:d(e.openCubes,0)})),l("cubeQuantity").innerHTML=u.t("wowCubes.cubes.inventory",{amount:d(e.wowCubes,0,!0)});let p=[null,e.cubeBlessings.accelerator,e.cubeBlessings.multiplier,e.cubeBlessings.offering,e.cubeBlessings.runeExp,e.cubeBlessings.obtainium,e.cubeBlessings.antSpeed,e.cubeBlessings.antSacrifice,e.cubeBlessings.antELO,e.cubeBlessings.talismanBonus,e.cubeBlessings.globalSpeed];c=[null,2,2,2,2,2,2,2,1,4,3];for(let f=1;f<=10;f++){let g=0;p[f]>=1e3&&f!==6&&(g+=2);let h=f===1||f===8||f===9?1:100;l(`cube${f}Bonus`).innerHTML=u.t(`wowCubes.cubes.items.${f}`,{amount:d(p[f],0,!0),bonus:d(h*(i.cubeBonusMultiplier[f]-1),c[f]+g,!0)})}l("cubeBlessingsTotal").innerHTML=u.t("wowCubes.cubes.total",{amount:d(xe(p.slice(1)),0,!0)});break}case 1:{e.autoOpenTesseracts&&(l("openTesseracts").textContent=u.t("wowCubes.autoOn",{percent:d(e.openTesseracts,0)})),l("tesseractQuantity").innerHTML=u.t("wowCubes.tesseracts.inventory",{amount:d(e.wowTesseracts,0,!0)});let p=[null,e.tesseractBlessings.accelerator,e.tesseractBlessings.multiplier,e.tesseractBlessings.offering,e.tesseractBlessings.runeExp,e.tesseractBlessings.obtainium,e.tesseractBlessings.antSpeed,e.tesseractBlessings.antSacrifice,e.tesseractBlessings.antELO,e.tesseractBlessings.talismanBonus,e.tesseractBlessings.globalSpeed];c=[null,2,2,2,2,2,2,2,2,2,2];for(let f=1;f<=10;f++){let g=0;p[f]>=1e3&&f!==6&&(g+=2),l(`tesseract${f}Bonus`).innerHTML=u.t(`wowCubes.tesseracts.items.${f}`,{amount:d(p[f],0,!0),bonus:d(100*(i.tesseractBonusMultiplier[f]-1),c[f]+g,!0)})}l("tesseractBlessingsTotal").innerHTML=u.t("wowCubes.tesseracts.total",{amount:d(xe(p.slice(1)),0,!0)});break}case 2:{e.autoOpenHypercubes&&(l("openHypercubes").textContent=u.t("wowCubes.autoOn",{percent:d(e.openHypercubes,0)})),l("hypercubeQuantity").innerHTML=u.t("wowCubes.hypercubes.inventory",{amount:d(e.wowHypercubes,0,!0)});let p=[null,e.hypercubeBlessings.accelerator,e.hypercubeBlessings.multiplier,e.hypercubeBlessings.offering,e.hypercubeBlessings.runeExp,e.hypercubeBlessings.obtainium,e.hypercubeBlessings.antSpeed,e.hypercubeBlessings.antSacrifice,e.hypercubeBlessings.antELO,e.hypercubeBlessings.talismanBonus,e.hypercubeBlessings.globalSpeed];c=[null,2,2,2,2,2,2,2,2,2,2];for(let f=1;f<=10;f++){let g=0;p[f]>=1e3&&(g+=2),l(`hypercube${f}Bonus`).innerHTML=u.t(`wowCubes.hypercubes.items.${f}`,{amount:d(p[f],0,!0),bonus:d(100*(i.hypercubeBonusMultiplier[f]-1),c[f]+g,!0)})}l("hypercubeBlessingsTotal").innerHTML=u.t("wowCubes.hypercubes.total",{amount:d(xe(p.slice(1)),0,!0)});break}case 3:{e.autoOpenPlatonicsCubes&&(l("openPlatonicCube").textContent=u.t("wowCubes.autoOn",{percent:d(e.openPlatonicsCubes,0)})),l("platonicQuantity").innerHTML=u.t("wowCubes.platonics.inventory",{amount:d(e.wowPlatonicCubes,0,!0)});let p=[e.platonicBlessings.cubes,e.platonicBlessings.tesseracts,e.platonicBlessings.hypercubes,e.platonicBlessings.platonics,e.platonicBlessings.hypercubeBonus,e.platonicBlessings.taxes,e.platonicBlessings.scoreBonus,e.platonicBlessings.globalSpeed],f=[4e6,4e6,4e6,8e4,1e4,1e4,1e4,1e4];c=[5,5,5,5,2,3,3,2];for(let g=0;g<p.length;g++){let h=0;p[g]>=f[g]&&(h+=1),l(`platonicCube${g+1}Bonus`).innerHTML=u.t(`wowCubes.platonics.items.${g+1}`,{amount:d(p[g],0,!0),bonus:d(100*(i.platonicBonusMultiplier[g]-1),c[g]+h,!0)})}l("platonicBlessingsTotal").innerHTML=u.t("wowCubes.platonics.total",{amount:d(xe(p),0,!0)});break}case 4:l("cubeAmount2").textContent=`You have ${d(e.wowCubes,0,!0)} Wow! Cubes =)`;break;case 5:break;case 6:l("hepteractQuantity").innerHTML=u.t("wowCubes.hepteractForge.youPossessHepteracts",{x:d(e.wowAbyssals,0,!0)}),Cg.forEach(p=>{AC(p)}),l("heptGridOrbBalance").textContent=d(e.overfluxOrbs),l("heptGridOrbEffect").textContent=`${d(100*(-1+ea()),2,!0)}%`,l("heptGridPowderBalance").textContent=d(e.overfluxPowder),l("heptGridPowderWarps").textContent=d(e.dailyPowderResetUses);break;default:break}},AC=t=>{let r=`${t}ProgressBarText`,n=`${t}ProgressBar`,a=l(r),s=l(n);if(!e.hepteractCrafts[t].UNLOCKED)a.textContent="LOCKED",s.style.width="100%",s.style.backgroundColor="var(--hepteract-bar-red)";else{let c=e.hepteractCrafts[t].BAL,p=e.hepteractCrafts[t].computeActualCap(),f=Math.round(c/p*100),g="";f<34?g="var(--hepteract-bar-red)":f>=34&&f<68?g="var(--hepteract-bar-yellow)":g="var(--hepteract-bar-green)",a.textContent=`${d(c)} / ${d(p)}`,s.style.width=`${f}%`,s.style.backgroundColor=g}},Em=()=>{if(i.currentTab!==8)return;let t=vn(),r=ui();l("autoAscend").innerHTML=e.autoAscendMode==="c10Completions"?u.t("corruptions.autoAscend.c10Completions",{input:d(e.autoAscendThreshold),completions:d(e.challengecompletions[10])}):u.t("corruptions.autoAscend.realTime",{input:d(e.autoAscendThreshold),time:d(e.ascensionCounterRealReal)}),l("corruptionBank").innerHTML=u.t("corruptions.corruptionBank",{number:d(t[0],0,!0)}),l("corruptionScore").innerHTML=u.t("corruptions.corruptionScore",{ascScore:d(t[1],1,!0),corrMult:d(t[2],1,!0),bonusMult:d(t[9],2,!0),totalScore:d(t[3],1,!0)}),l("corruptionCubes").innerHTML=u.t("corruptions.corruptionCubes",{cubeAmount:d(t[4],0,!0)}),l("corruptionTesseracts").innerHTML=u.t("corruptions.corruptionTesseracts",{tesseractAmount:d(t[5],0,!0)}),l("corruptionHypercubes").innerHTML=u.t("corruptions.corruptionHypercubes",{hypercubeAmount:d(t[6],0,!0)}),l("corruptionPlatonicCubes").innerHTML=u.t("corruptions.corruptionPlatonics",{platonicAmount:d(t[7],0,!0)}),l("corruptionHepteracts").innerHTML=u.t("corruptions.corruptionHepteracts",{hepteractAmount:d(t[8],0,!0)}),l("corruptionAntExponent").innerHTML=u.t("corruptions.antExponent",{exponent:d((1-.9/90*xe(e.usedCorruptions))*i.extinctionMultiplier[e.usedCorruptions[7]],3)}),l("corruptionSpiritBonus").innerHTML=u.t("corruptions.spiritBonus",{multiplier:d(yt()/400,2,!0)}),l("corruptionAscensionCount").style.display=r>1?"block":"none",r>1&&(l("corruptionAscensionCount").innerHTML=u.t("corruptions.ascensionCount",{ascCount:d(ui())}))},Om=()=>{if(i.currentTab===10){if(e.subtabNumber===0){l("saveString").textContent=u.t("settings.currently",{x:e.saveString.replace("$VERSION$",`v${yr}`)});let t=Jt(),r=t.gain,n=t.capacity,a=1;a*=1+vr()/100,a*=e.highestSingularityCount>=100?1+e.highestSingularityCount/50:1,l("quarktimerdisplay").textContent=u.t("settings.exportQuark",{x:d(3600/t.perHour-e.quarkstimer%(3600.00001/t.perHour),2),y:e.worlds.toString(1)}),l("quarktimeramount").textContent=u.t("settings.quarksOnExport",{x:e.worlds.toString(r),y:e.worlds.toString(n)}),l("goldenQuarkTimerDisplay").textContent=u.t("settings.exportGoldenQuark",{x:d(3600/Math.max(1,+e.singularityUpgrades.goldenQuarks3.getEffect().bonus)-e.goldenQuarksTimer%(3600.00001/Math.max(1,+e.singularityUpgrades.goldenQuarks3.getEffect().bonus))),y:d(a,2,!0)}),l("goldenQuarkTimerAmount").textContent=u.t("settings.goldenQuarksOnExport",{x:d(Math.floor(e.goldenQuarksTimer*+e.singularityUpgrades.goldenQuarks3.getEffect().bonus/3600)*a,2),y:d(Math.floor(168*+e.singularityUpgrades.goldenQuarks3.getEffect().bonus*a))})}e.subtabNumber===3&&wm()}},Um=()=>{if(i.currentTab===9){if(e.subtabNumber===0){l("goldenQuarkamount").textContent=u.t("singularity.goldenQuarkAmount",{goldenQuarks:d(e.goldenQuarks,0,!0)});let t=Object.keys(e.singularityUpgrades),r=i.shopEnhanceVision;for(let n of t){if(n==="offeringAutomatic"||n==="WIP")continue;let a=e.singularityUpgrades[n],s=l(`${String(n)}`);a.maxLevel!==-1&&a.level>=a.computeMaxLevel()?s.style.filter=r?"brightness(.9)":"none":a.getCostTNL()>e.goldenQuarks||e.singularityCount<a.minimumSingularity?s.style.filter=r?"grayscale(.9) brightness(.8)":"none":(a.maxLevel===-1||a.level<a.computeMaxLevel())&&(a.freeLevels>a.level?s.style.filter=r?"blur(1px) invert(.9) saturate(200)":"none":s.style.filter=r?"invert(.9) brightness(1.1)":"none")}}if(e.subtabNumber===2){let t=Object.keys(e.octeractUpgrades),r=i.shopEnhanceVision;for(let n of t){let a=e.octeractUpgrades[n],s=l(`${String(n)}`);a.maxLevel!==-1&&a.level>=a.maxLevel?s.style.filter=r?"brightness(.9)":"none":a.getCostTNL()>e.wowOcteracts?s.style.filter=r?"grayscale(.9) brightness(.8)":"none":(a.maxLevel===-1||a.level<a.maxLevel)&&(a.freeLevels>a.level?s.style.filter=r?"blur(2px) invert(.9) saturate(200)":"none":s.style.filter=r?"invert(.9) brightness(1.1)":"none")}}}},di=t=>{i.shopEnhanceVision=t},rc=()=>{if(i.currentTab!==9)return;l("octeractAmount").innerHTML=u.t("octeract.amount",{octeracts:d(e.wowOcteracts,2,!0,!0,!0)});let t=bn();l("secondsPerOcteract").style.display=t<1?"block":"none",l("secondsPerOcteract").innerHTML=u.t("octeract.secondsPerOcteract",{seconds:d(1/t,2,!0)}),l("octeractPerSeconds").style.display=t>=1?"block":"none",l("octeractPerSeconds").innerHTML=u.t("octeract.octeractsPerSecond",{octeracts:d(t,2,!0)});let r=(fi()-1)*100,n=(Dn()-1)*100,a=(yd()-1)*100,s=(oi()-1)*100;l("totalOcteractAmount").innerHTML=u.t("octeract.totalGenerated",{octeracts:d(e.totalWowOcteracts,2,!0,!0,!0)}),l("totalOcteractCubeBonus").style.display=r>=.001?"block":"none",l("totalOcteractQuarkBonus").style.display=n>=.001?"block":"none",l("totalOcteractOfferingBonus").style.display=a>=.001?"block":"none",l("totalOcteractObtainiumBonus").style.display=s>=.001?"block":"none",l("totalOcteractCubeBonus").innerHTML=u.t("octeract.generatedCubeBonus",{cubeBonus:d(r,3,!0)}),l("totalOcteractQuarkBonus").innerHTML=u.t("octeract.generatedQuarkBonus",{quarkBonus:d(n,3,!0)}),l("totalOcteractOfferingBonus").innerHTML=u.t("octeract.generatedOfferingBonus",{offeringBonus:d(a,3,!0)}),l("totalOcteractObtainiumBonus").innerHTML=u.t("octeract.generatedObtainiumBonus",{obtainiumBonus:d(s,3,!0)})},Js=()=>{if(i.currentTab!==9)return;let t=i.ambrosiaCurrStats.ambrosiaLuck,r=i.ambrosiaCurrStats.ambrosiaLuck/i.ambrosiaCurrStats.ambrosiaAdditiveLuckMult,n=100*(i.ambrosiaCurrStats.ambrosiaAdditiveLuckMult-1),a=Math.floor(t/100),s=t-100*Math.floor(t/100),o=eo(),c=100*(nc()-1),p=100*(ii()-1),f=i.ambrosiaCurrStats.ambrosiaBlueberries-e.spentBlueberries,g=i.ambrosiaCurrStats.ambrosiaGenerationSpeed,h=Math.min(g,Math.pow(1e3*g,1/2)),b=100*Math.min(1,e.blueberryTime/o),y=100*Math.min(1,e.ultimateProgress/1e6);l("ambrosiaProgress").style.width=`${b}%`,l("ambrosiaProgressText").textContent=`${d(e.blueberryTime,0,!0)} / ${d(o,0,!0)} [+${d(g,0,!0)}/s]`,l("pixelProgress").style.width=`${y}%`,l("pixelProgressText").textContent=`${d(e.ultimateProgress,0,!0)} / ${d(1e6,0,!0)} [+${d(h*.02,2,!0)}/s]`;let C=n>.01?`[<span style='color: var(--amber-text-color)'>\u2618${d(r,0,!0)} +${d(n,2,!0)}%</span>]`:"";l("ambrosiaAmount").innerHTML=u.t("ambrosia.amount",{ambrosia:d(e.ambrosia,0,!0),lifetimeAmbrosia:d(e.lifetimeAmbrosia,0,!0)}),l("ambrosiaAmountPerGeneration").innerHTML=u.t("ambrosia.perGen",{guaranteed:d(a,0,!0),extraChance:d(s,0,!0),ambrosiaLuck:d(t,0,!0),extra:C}),l("ambrosiaRewards").innerHTML=u.t("ambrosia.bonuses",{cube:d(c,0,!0),quark:d(p,0,!0)}),l("ambrosiaBlueberries").innerHTML=u.t("ambrosia.availableBlueberries",{availableBlueberries:f})},hd=()=>{if(i.currentTab!==11)return;l("quarkamount").textContent=u.t("shop.youHaveQuarks",{x:d(e.worlds,0,!0)}),l("offeringpotionowned").textContent=d(e.shopUpgrades.offeringPotion,0,!0),l("obtainiumpotionowned").textContent=d(e.shopUpgrades.obtainiumPotion,0,!0);let t=Object.keys(e.shopUpgrades);for(let r of t){let n=Te[r];if(n.type==="consume"){let a=Math.min(Math.floor(Number(e.worlds)/ls(r)),n.maxLevel-e.shopUpgrades[r]),s=l(`buy${r.toLowerCase()}`);switch(e.shopBuyMaxToggle){case!1:s.textContent="BUY: 100 Quarks Each";break;case"TEN":s.textContent=`+${Math.min(10,a)} for ${d(ls(r)*Math.min(10,a),0,!0)} Quarks`;break;default:s.textContent=`+${a} for ${d(ls(r)*a)} Quarks`}}if(n.type==="upgrade"){if(e.shopHideToggle&&e.shopUpgrades[r]>=n.maxLevel&&!n.refundable){l(`${r}Hide`).style.display="none";continue}else l(`${r}Hide`).style.display=Xs(r)?"block":"none";n.maxLevel===1?l(`${r}Level`).textContent=e.shopUpgrades[r]>=n.maxLevel?"Bought!":"Not Bought!":l(`${r}Level`).textContent=`${e.highestSingularityCount>0||e.ascensionCount>0?"":"Level "}${d(e.shopUpgrades[r])}/${d(n.maxLevel)}`;let a=n.maxLevel-e.shopUpgrades[r],s;switch(e.shopBuyMaxToggle){case!1:l(`${r}Button`).textContent=e.shopUpgrades[r]>=n.maxLevel?u.t("shop.maxed"):u.t("shop.upgradeFor",{x:d(ls(r))});break;case"TEN":s=wr(e.shopUpgrades[r],n.price,+e.worlds,n.priceIncrease/n.price,Math.min(10,a)),l(`${r}Button`).textContent=e.shopUpgrades[r]>=n.maxLevel?u.t("shop.maxed"):u.t("shop.plusForQuarks",{x:d(s.levelCanBuy-e.shopUpgrades[r],0,!0),y:d(s.cost)});break;default:s=wr(e.shopUpgrades[r],n.price,+e.worlds,n.priceIncrease/n.price,a),l(`${r}Button`).textContent=e.shopUpgrades[r]>=n.maxLevel?u.t("shop.maxed"):u.t("shop.plusForQuarks",{x:d(s.levelCanBuy-e.shopUpgrades[r],0,!0),y:d(s.cost)})}}}l("buySingularityQuarksAmount").textContent=`${e.goldenQuarks<1e3?"Owned: ":""}${d(e.goldenQuarks)}`,l("buySingularityQuarksButton").textContent=`Buy! ${d(Pu().cost)} Quarks Each`},Bm=()=>{},Rm=()=>{};var Nm=t=>{var a;let r=(a=t.getAttribute("toggleId"))!=null?a:1;e.toggles[+r]?e.toggles[+r]=!1:e.toggles[+r]=!0;let n=t.getAttribute("format");if(n==="$"||n==="[$]"){let s=e.toggles[+r]?u.t("general.on"):u.t("general.off");t.textContent=n==="[$]"?`[${s}]`:s}else if(n==="Auto Catalyze: $"){let s=e.toggles[+r]?u.t("shop.autoCatalyzeOn"):u.t("shop.autoCatalyzeOff");t.textContent=s}else if(n==="Hover-to-Buy [$]"){let s=e.toggles[+r]?u.t("researches.hoverToBuyOn"):u.t("researches.hoverToBuyOff");t.textContent=s}else if(n==="Auto: $"){let s=e.toggles[+r]?u.t("general.autoOnColon"):u.t("general.autoOffColon");t.textContent=s}else if(n){let s=n.replace("$",e.toggles[+r]?"ON":"OFF");t.textContent=s}else t.textContent=e.toggles[+r]?u.t("general.autoOnBracket"):u.t("general.autoOffBracket");t.style.border=`2px solid ${e.toggles[+r]?"green":"red"}`},Ur=(t,r=!1)=>{t<=5&&((e.currentChallenge.ascension!==15||e.ascensionCounter>=2)&&(e.currentChallenge.transcension=t,Fe("transcensionChallenge",!1,"enterChallenge"),e.transcendCount-=1),!e.currentChallenge.reincarnation&&!document.querySelector(".resetbtn.hover")&&Lt("transcensionChallenge")),t>=6&&t<11&&((e.currentChallenge.ascension!==15||e.ascensionCounter>=2)&&(e.currentChallenge.reincarnation=t,Fe("reincarnationChallenge",!1,"enterChallenge"),e.reincarnationCount-=1),document.querySelector(".resetbtn.hover")||Lt("reincarnationChallenge")),t>=11&&(!r&&!e.toggles[31]||e.challengecompletions[10]>0||e.currentChallenge.transcension===0&&e.currentChallenge.reincarnation===0&&e.currentChallenge.ascension===0)&&(e.currentChallenge.ascension===15&&Qe("ascensionChallenge",!1,!0),e.currentChallenge.ascension=t,Fe("ascensionChallenge",!1,"enterChallenge")),Wr(),lc(t),t<=10&&!r&&e.autoChallengeRunning&&mi(),e.currentChallenge.transcension!==0&&e.currentChallenge.reincarnation!==0&&e.currentChallenge.ascension!==0&&e.achievements[238]<1&&F(238)},_m=(t,r)=>{e[`${r}buyamount`]=t;let n=["one","ten","hundred","thousand","10k","100k"][t.toString().length-1];l(`${r}${n}`).style.backgroundColor="Green",t!==1&&(l(`${r}one`).style.backgroundColor=""),t!==10&&(l(`${r}ten`).style.backgroundColor=""),t!==100&&(l(`${r}hundred`).style.backgroundColor=""),t!==1e3&&(l(`${r}thousand`).style.backgroundColor=""),t!==1e4&&(l(`${r}10k`).style.backgroundColor=""),t!==1e5&&(l(`${r}100k`).style.backgroundColor="")},fa=t=>{if(t)e.shoptoggles[t]=!e.shoptoggles[t],l(`${t}AutoUpgrade`).style.borderColor=e.shoptoggles[t]?"green":"red",e.shoptoggles[t]?l(`${t}AutoUpgrade`).textContent=u.t("general.autoOnColon"):l(`${t}AutoUpgrade`).textContent=u.t("general.autoOffColon");else{let r=Object.keys(e.shoptoggles);for(let n of r){let a=e.shoptoggles[n]?"green":"red";e.shoptoggles[n]?l(`${n}AutoUpgrade`).textContent=u.t("general.autoOnColon"):l(`${n}AutoUpgrade`).textContent=u.t("general.autoOffColon"),l(`${n}AutoUpgrade`).style.borderColor=a}}},gi=t=>{t===1?e.resettoggle1===1||e.resettoggle1===0?(e.resettoggle1=2,l("prestigeautotoggle").textContent=u.t("toggles.modeTime")):(e.resettoggle1=1,l("prestigeautotoggle").textContent=u.t("toggles.modeAmount")):t===2?e.resettoggle2===1||e.resettoggle2===0?(e.resettoggle2=2,l("transcendautotoggle").textContent=u.t("toggles.modeTime")):(e.resettoggle2=1,l("transcendautotoggle").textContent=u.t("toggles.modeAmount")):t===3?e.resettoggle3===1||e.resettoggle3===0?(e.resettoggle3=2,l("reincarnateautotoggle").textContent=u.t("toggles.modeTime")):(e.resettoggle3=1,l("reincarnateautotoggle").textContent=u.t("toggles.modeAmount")):t===4&&(e.resettoggle4===1||e.resettoggle4===0?(e.resettoggle4=2,l("tesseractautobuymode").textContent=u.t("toggles.modePercentage")):(e.resettoggle4=1,l("tesseractautobuymode").textContent=u.t("toggles.modeAmount")))},$m=()=>{e.tesseractAutoBuyerToggle===1||e.tesseractAutoBuyerToggle===0?(e.tesseractAutoBuyerToggle=2,l("tesseractautobuytoggle").textContent=u.t("runes.talismans.autoBuyOff"),l("tesseractautobuytoggle").style.border="2px solid red"):(e.tesseractAutoBuyerToggle=1,l("tesseractautobuytoggle").textContent=u.t("runes.talismans.autoBuyOn"),l("tesseractautobuytoggle").style.border="2px solid green")},vd=()=>{var n;let t=Array.from(document.querySelectorAll(".auto[toggleid]"));for(let a of t){let s=a.getAttribute("format"),o=(n=a.getAttribute("toggleId"))!=null?n:1;if(s==="$"){let c=e.toggles[+o]?u.t("general.on"):u.t("general.off");a.textContent=c}else if(s==="Auto Catalyze: $"){let c=e.toggles[+o]?u.t("shop.autoCatalyzeOn"):u.t("shop.autoCatalyzeOff");a.textContent=c}else if(s==="Hover-to-Buy [$]"){let c=e.toggles[+o]?u.t("researches.hoverToBuyOn"):u.t("researches.hoverToBuyOff");a.textContent=c}else if(s==="Auto: $"){let c=e.toggles[+o]?u.t("general.autoOnColon"):u.t("general.autoOffColon");a.textContent=c}else if(s){let c=s.replace("$",e.toggles[+o]?"ON":"OFF");a.textContent=c}else a.textContent=e.toggles[+o]?u.t("general.autoOnBracket"):u.t("general.autoOffBracket");a.style.border=`2px solid ${e.toggles[+o]?"green":"red"}`}let r=Array.from(document.querySelectorAll('*[id^="tesseractAutoToggle"]'));for(let a=0;a<r.length;a++){let s=r[a];e.autoTesseracts[a+1]?(s.textContent=u.t("general.autoOnBracket"),s.style.border="2px solid green"):(s.textContent=u.t("general.autoOffBracket"),s.style.border="2px solid red")}},Dm=()=>{e.researchBuyMaxToggle?(e.researchBuyMaxToggle=!1,l("toggleresearchbuy").textContent=u.t("researches.upgradeOne")):(e.researchBuyMaxToggle=!0,l("toggleresearchbuy").textContent=u.t("researches.upgradeMax"))},Gm=()=>{let t=l("toggleautoresearch");e.autoResearchToggle||e.shopUpgrades.obtainiumAuto<1?(e.autoResearchToggle=!1,t.textContent=u.t("researches.automaticOff"),l(`res${e.autoResearch||1}`).classList.remove("researchRoomba"),e.autoResearch=0):(e.autoResearchToggle=!0,t.textContent=u.t("researches.automaticOn")),e.autoResearchToggle&&or()&&e.autoResearchMode==="cheapest"&&(e.autoResearch=i.researchOrderByCost[e.roombaResearchIndex])},Hm=()=>{let t=l("toggleautoresearchmode");e.autoResearchMode==="cheapest"||!or()?(e.autoResearchMode="manual",t.textContent=u.t("researches.autoModeManual")):(e.autoResearchMode="cheapest",t.textContent=u.t("researches.autoModeCheapest")),l(`res${e.autoResearch||1}`).classList.remove("researchRoomba"),e.autoResearchToggle&&or()&&e.autoResearchMode==="cheapest"&&(e.autoResearch=i.researchOrderByCost[e.roombaResearchIndex])},Cd=t=>{let r=l("toggleautosacrifice");t===0?e.autoSacrificeToggle?(e.autoSacrificeToggle=!1,r.textContent=u.t("runes.blessings.autoRuneOff"),r.style.border="2px solid red",e.autoSacrifice=0):(e.autoSacrificeToggle=!0,e.saveOfferingToggle=!1,r.textContent=u.t("runes.blessings.autoRuneOn"),r.style.border="2px solid green",l("saveOffToggle").textContent=u.t("toggles.saveOfferingsOff"),l("saveOffToggle").style.color="white"):e.autoSacrificeToggle&&e.shopUpgrades.offeringAuto>.5&&(e.autoSacrifice===t?e.autoSacrifice=0:e.autoSacrifice=t);for(let n=1;n<=5;n++)l(`rune${n}`).style.backgroundColor=e.autoSacrifice===n?"orange":"";at()},Fm=()=>{let t=l("toggleautoBuyFragments");e.autoBuyFragment?(t.textContent=u.t("runes.talismans.autoBuyOff"),t.style.border="2px solid orange",t.style.color="white"):(t.textContent=u.t("runes.talismans.autoBuyOn"),t.style.border="2px solid white",t.style.color="orange"),e.autoBuyFragment=!e.autoBuyFragment},Qm=t=>{i.buildingSubTab=t;let r={coin:{screen:"coinBuildings",button:"switchToCoinBuilding",subtabNumber:0},diamond:{screen:"prestige",button:"switchToDiamondBuilding",subtabNumber:1},mythos:{screen:"transcension",button:"switchToMythosBuilding",subtabNumber:2},particle:{screen:"reincarnation",button:"switchToParticleBuilding",subtabNumber:3},tesseract:{screen:"ascension",button:"switchToTesseractBuilding",subtabNumber:4}};for(let{screen:n}of Object.values(r))l(n).style.display="none";l(r[i.buildingSubTab].screen).style.display="flex",e.subtabNumber=r[i.buildingSubTab].subtabNumber},qm=t=>{let r=Number(t),n=["runes","talismans","blessings","spirits"];i.runescreen=n[r-1];for(let a=1;a<=4;a++){let s=l(`toggleRuneSubTab${a}`),o=l(`runeContainer${a}`);a===r?(s.style.border="2px solid gold",o.style.display="flex"):(s.style.border="2px solid silver",o.style.display="none")}e.subtabNumber=r-1},jm=t=>{let r=Number(t);for(let n=1;n<=2;n++){let a=l(`challengesWrapper${n}`);n===r?a.style.display="block":a.style.display="none"}e.subtabNumber=r-1},Vm=()=>{let t=l("toggleautofortify");e.autoFortifyToggle?(t.textContent=u.t("runes.autoFortifyOff"),t.style.border="2px solid red"):(t.textContent=u.t("runes.autoFortifyOn"),t.style.border="2px solid green"),e.autoFortifyToggle=!e.autoFortifyToggle},Wm=()=>{let t=l("toggleautoenhance");e.autoEnhanceToggle?(t.textContent=u.t("runes.autoEnhanceOff"),t.style.border="2px solid red"):(t.textContent=u.t("runes.autoEnhanceOn"),t.style.border="2px solid green"),e.autoEnhanceToggle=!e.autoEnhanceToggle},zm=()=>{let t=l("saveOffToggle"),r=l("toggleautosacrifice");e.saveOfferingToggle?(e.autoSacrificeToggle=!0,t.textContent=u.t("toggles.saveOfferingsOff"),t.style.color="white",r.textContent="Auto Runes: ON",r.style.border="2px solid green"):(e.autoSacrificeToggle=!1,t.textContent=u.t("toggles.saveOfferingsOn"),t.style.color="yellow",r.textContent="Auto Runes: OFF",r.style.border="2px solid red"),e.saveOfferingToggle=!e.saveOfferingToggle},Km=t=>{let r=Number(t);for(let n=1;n<=4;n++){let a=l(`singularityContainer${n}`);n===r?a.style.display="block":a.style.display="none"}e.subtabNumber=r-1,e.subtabNumber===2&&rc(),e.subtabNumber===3&&Js()},Xm=async t=>{let r=l(t);if(!r.classList.contains("subtabActive"))if(r.parentNode.querySelectorAll(".subtabActive").forEach(n=>n.classList.remove("subtabActive")),r.classList.add("subtabActive"),t==="creditssubtab"){let n=l("creditList"),a=l("artistList");if(n.childElementCount>0||a.childElementCount>0)return;if(!navigator.onLine||document.hidden)return;try{let o=await(await fetch("https://api.github.com/repos/pseudo-corp/SynergismOfficial/contributors",{headers:{Accept:"application/vnd.github.v3+json"}})).json();for(let c of o){let p=document.createElement("div");p.classList.add("credit");let f=new Image(32,32);f.src=c.avatar_url,f.alt=c.login;let g=document.createElement("a");g.href=`https://github.com/Pseudo-Corp/SynergismOfficial/commits?author=${c.login}`,g.textContent=c.login,g.target="_blank",g.rel="noopener noreferrer nofollow",p.appendChild(f),p.appendChild(g),n.appendChild(p)}}catch(s){let o=s;n.appendChild(document.createTextNode(o.toString()))}try{let o=await(await fetch("https://api.github.com/gists/01917ff476d25a141c5bad38340cd756",{headers:{Accept:"application/vnd.github.v3+json"}})).json(),c=JSON.parse(o.files["synergism_artists.json"].content);for(let p of c){let f=document.createElement("p");f.textContent=p,a.appendChild(f)}}catch(s){let o=s;n.appendChild(document.createTextNode(o.toString()))}}else t==="accountSubTab"&&ni()},Zm=()=>{let t=l("toggleConfirmShop");t.textContent=e.shopConfirmationToggle?u.t("shop.shopConfirmationOff"):u.t("shop.shopConfirmationOn"),e.shopConfirmationToggle=!e.shopConfirmationToggle},Ym=t=>{let r=l("toggleBuyMaxShopText");if(t.shiftKey){r.textContent=u.t("shop.buyAny"),e.shopBuyMaxToggle="ANY";return}switch(e.shopBuyMaxToggle){case!1:r.innerHTML=u.t("shop.buy10"),e.shopBuyMaxToggle="TEN";break;case"TEN":r.innerHTML=u.t("shop.buyMax"),e.shopBuyMaxToggle=!0;break;default:r.innerHTML=u.t("shop.buy1"),e.shopBuyMaxToggle=!1}},Jm=()=>{let t=l("toggleHideShop");t.textContent=e.shopHideToggle?u.t("shop.hideMaxedOff"):u.t("shop.hideMaxedOn"),e.shopHideToggle=!e.shopHideToggle},ac=()=>{let t=l("toggleAntMax");t.textContent=e.antMax?u.t("general.buyMaxOff"):u.t("general.buyMaxOn"),e.antMax=!e.antMax},to=(t=0)=>{if(t===0){let r=l("toggleAutoSacrificeAnt");e.autoAntSacrifice?(e.autoAntSacrifice=!1,r.textContent=u.t("ants.autoSacrificeOff")):(e.autoAntSacrifice=!0,r.textContent=u.t("ants.autoSacrificeOn"))}else if(t===1){let r=l("autoSacrificeAntMode");e.autoAntSacrificeMode===1||e.autoAntSacrificeMode===0?(e.autoAntSacrificeMode=2,r.textContent=u.t("ants.modeRealTime")):(e.autoAntSacrificeMode=1,r.textContent=u.t("ants.modeInGameTime"))}},eh=()=>{let t=l("toggleCubeBuy");e.cubeUpgradesBuyMaxToggle?(e.cubeUpgradesBuyMaxToggle=!1,t.textContent=u.t("toggles.upgradeOneLevelWow")):(e.cubeUpgradesBuyMaxToggle=!0,t.textContent=u.t("toggles.upgradeMaxIfPossible"))},sc=(t=!0)=>{t&&(e.autoCubeUpgradesToggle=!e.autoCubeUpgradesToggle);let r=l("toggleAutoCubeUpgrades");e.autoCubeUpgradesToggle?(r.textContent=u.t("toggles.autoUpgradeOn"),r.style.border="2px solid green"):(r.textContent=u.t("toggles.autoUpgradeOff"),r.style.border="2px solid red")},oc=(t=!0)=>{t&&(e.autoPlatonicUpgradesToggle=!e.autoPlatonicUpgradesToggle);let r=l("toggleAutoPlatonicUpgrades");e.autoPlatonicUpgradesToggle?(r.textContent=u.t("toggles.autoUpgradeOn"),r.style.border="2px solid green"):(r.textContent=u.t("toggles.autoUpgradeOff"),r.style.border="2px solid red")},th=t=>{let r=Number(t),n=ih(7);for(let a=1;a<=n;a++){let s=l(`cubeTab${a}`);s.style.display==="flex"&&a!==r&&(s.style.display="none"),s.style.display==="none"&&a===r&&(s.style.display="flex",e.subtabNumber=a-1)}tc()},ga=t=>{switch(t){case 1:{let r=Number.parseFloat(l("startAutoChallengeTimerInput").value)||0;e.autoChallengeTimer.start=Math.max(r,0),l("startTimerValue").innerHTML=u.t("challenges.timeStartSweep",{time:d(e.autoChallengeTimer.start,2,!0)});return}case 2:{let r=Number.parseFloat(l("exitAutoChallengeTimerInput").value)||0;e.autoChallengeTimer.exit=Math.max(r,0),l("exitTimerValue").innerHTML=u.t("challenges.timeExitChallenge",{time:d(e.autoChallengeTimer.exit,2,!0)});return}case 3:{let r=Number.parseFloat(l("enterAutoChallengeTimerInput").value)||0;e.autoChallengeTimer.enter=Math.max(r,0),l("enterTimerValue").innerHTML=u.t("challenges.timeEnterChallenge",{time:d(e.autoChallengeTimer.enter,2,!0)});return}}},rh=t=>{if(t<=15){e.autoChallengeToggles[t]=!e.autoChallengeToggles[t];let r=l("toggleAutoChallengeIgnore");r.style.border=e.autoChallengeToggles[t]?"2px solid green":"2px solid red",t>=11&&t<=15?e.autoChallengeToggles[t]?r.textContent=u.t("challenges.autoAscRunChalOn",{x:t}):r.textContent=u.t("challenges.autoAscRunChalOff",{x:t}):e.autoChallengeToggles[t]?r.textContent=u.t("challenges.autoRunChalOn",{x:t}):r.textContent=u.t("challenges.autoRunChalOff",{x:t})}},mi=()=>{let t=l("toggleAutoChallengeStart");e.autoChallengeRunning?(t.style.border="2px solid red",t.textContent=u.t("challenges.autoChallengeSweepOff"),i.autoChallengeTimerIncrement=0,Or("OFF")):(t.style.border="2px solid gold",t.textContent=u.t("challenges.autoChallengeSweepOn"),Or("START"),i.autoChallengeTimerIncrement=0),e.autoChallengeRunning=!e.autoChallengeRunning},Or=t=>{let r=l("autoChallengeType");r.textContent=u.t(`challenges.mode${t[0]+t.slice(1).toLowerCase()}`)},ro=(t=0)=>{if(t===0){let r=l("ascensionAutoEnable");e.autoAscend?(r.style.border="2px solid red",r.textContent=u.t("corruptions.autoAscend.off")):(r.style.border="2px solid green",r.textContent=u.t("corruptions.autoAscend.on")),e.autoAscend=!e.autoAscend}else if(t===1&&e.highestSingularityCount>=25){let r=l("ascensionAutoToggle");e.autoAscendMode==="c10Completions"?(e.autoAscendMode="realAscensionTime",r.textContent=u.t("corruptions.autoAscend.modeRealTime")):(e.autoAscendMode="c10Completions",r.textContent=u.t("corruptions.autoAscend.modeCompletions"))}},hi=t=>{if(e.highestSingularityCount>=35){if(t===1){let r=l("openCubes"),n=l("cubeOpensInput");e.autoOpenCubes?(r.textContent=u.t("wowCubes.autoOff"),r.style.border="1px solid red",n.style.border="1px solid red"):(r.textContent=u.t("wowCubes.autoOn",{percent:d(e.openCubes,0)}),r.style.border="1px solid green",n.style.border="1px solid green"),e.autoOpenCubes=!e.autoOpenCubes}else if(t===2){let r=l("openTesseracts"),n=l("tesseractsOpensInput");e.autoOpenTesseracts?(r.textContent=u.t("wowCubes.autoOff"),r.style.border="1px solid red",n.style.border="1px solid red"):(r.textContent=u.t("wowCubes.autoOn",{percent:d(e.openTesseracts,0)}),r.style.border="1px solid green",n.style.border="1px solid green"),e.autoOpenTesseracts=!e.autoOpenTesseracts}else if(t===3){let r=l("openHypercubes"),n=l("hypercubesOpensInput");e.autoOpenHypercubes?(r.textContent=u.t("wowCubes.autoOff"),r.style.border="1px solid red",n.style.border="1px solid red"):(r.textContent=u.t("wowCubes.autoOn",{percent:d(e.openHypercubes,0)}),r.style.border="1px solid green",n.style.border="1px solid green"),e.autoOpenHypercubes=!e.autoOpenHypercubes}else if(t===4){let r=l("openPlatonicCube"),n=l("platonicCubeOpensInput");e.autoOpenPlatonicsCubes?(r.textContent=u.t("wowCubes.autoOff"),r.style.border="1px solid red",n.style.border="1px solid red"):(r.textContent=u.t("wowCubes.autoOn",{percent:d(e.openPlatonicsCubes,0)}),r.style.border="1px solid green",n.style.border="1px solid green"),e.autoOpenPlatonicsCubes=!e.autoOpenPlatonicsCubes}}},no=t=>{switch(t){case 1:{let r=Math.floor(Number.parseFloat(l("buyRuneBlessingInput").value))||1;e.runeBlessingBuyAmount=Math.max(r,1),l("buyRuneBlessingToggle").innerHTML=u.t("runes.blessings.buyUpTo",{amount:d(e.runeBlessingBuyAmount)});return}case 2:{let r=Math.floor(Number.parseFloat(l("buyRuneSpiritInput").value))||1;e.runeSpiritBuyAmount=Math.max(r,1),l("buyRuneSpiritToggleValue").innerHTML=u.t("runes.spirits.buyUpTo",{amount:d(e.runeSpiritBuyAmount)});return}}},nh=t=>{let r=l(`tesseractAutoToggle${t}`);e.autoTesseracts[t]?(r.textContent=u.t("general.autoOffBracket"),r.style.border="2px solid red"):(r.textContent=u.t("general.autoOnBracket"),r.style.border="2px solid green"),e.autoTesseracts[t]=!e.autoTesseracts[t]},Gn=(t,r)=>{let n=e.prototypeCorruptions[t],a=fs();if(r>0&&n<a&&0<t&&t<=9&&(e.prototypeCorruptions[t]+=Math.min(a-n,r)),r<0&&n>0&&0<t&&t<=9&&(e.prototypeCorruptions[t]-=Math.min(n,-r)),e.prototypeCorruptions[t]=Math.min(a,Math.max(0,e.prototypeCorruptions[t])),r===999&&e.currentChallenge.ascension!==15){for(let s=0;s<=9;s++)e.usedCorruptions[s]=0,e.prototypeCorruptions[s]=0,s>1&&ps(s);ps(i.corruptionTrigger),l("corruptionCleanseConfirm").style.visibility="hidden",e.currentChallenge.ascension===15&&Qe("ascensionChallenge",!1,!0)}ps(t),gs()},ah=t=>{let r=t==="true";e.corruptionShowStats=r,ic()},Cn=t=>{let r=l(`unit${t}`);if(r===null){console.log(t,"platonic needs to fix");return}r.textContent=e.ascStatToggles[t]?"/s":"",t===6&&(r.textContent=""),e.ascStatToggles[t]=!e.ascStatToggles[t]},sh=async()=>{let t=await je(u.t("wowCubes.hepteractForge.autoCraftPercentagePrompt"));if(t===null)return e.toggles[35]?B(u.t("toggles.percentKeptAt",{x:e.hepteractAutoCraftPercentage})):void 0;let r=t.endsWith("%"),n=Number(r?t.slice(0,-1):t);if(Number.isNaN(n)||!Number.isFinite(n)||!Number.isInteger(n))return B(u.t("general.validation.finiteInt"));if(n<0||n>100)return B(u.t("toggles.percentBetweenInclusive",{x:0,y:100}));if(n===e.hepteractAutoCraftPercentage&&e.toggles[35])return B(u.t("toggles.percentKeptAt",{x:e.hepteractAutoCraftPercentage}));if(e.hepteractAutoCraftPercentage=n,l("autoHepteractPercentage").textContent=u.t("wowCubes.hepteractForge.autoSetting",{x:`${e.hepteractAutoCraftPercentage}`}),e.toggles[35])return B(u.t("toggles.onAscensionHepteractsCraft",{x:e.hepteractAutoCraftPercentage}))},oh=()=>{e.blueberryLoadoutMode==="saveTree"?(e.blueberryLoadoutMode="loadTree",l("blueberryToggleMode").innerHTML=u.t("ambrosia.loadouts.load")):(e.blueberryLoadoutMode="saveTree",l("blueberryToggleMode").innerHTML=u.t("ambrosia.loadouts.save"))},wd=(t=!0)=>{l("alertWrapper").style.display==="block"&&l("ok_alert").click(),(l("confirmWrapper").style.display==="block"||l("promptWrapper").style.display==="block")&&(t?l("ok_confirm").click():l("cancel_confirm").click())};var lh,Lt=t=>{cs(lh),lh=rr(()=>PC(t),50)},PC=t=>{l("resetofferings1").style.display="block";let r=e.currentChallenge.transcension,n=e.currentChallenge.reincarnation,a=pn(t),s=Pn("resetofferings1"),o=l("resetofferings2"),c=Pn("resetcurrency1"),p=l("resetobtainium"),f=l("resetobtainium2"),g=l("resetinfo"),h=l("resetcurrency2");switch(t==="reincarnation"?(p.style.display="block",f.textContent=d(Math.floor(i.obtainiumGain))):(p.style.display="none",f.textContent=""),t==="ascensionChallenge"||t==="ascension"||t==="singularity"?s.style.display=o.style.display="none":s.style.display=o.style.display="block",t){case"prestige":c.src.endsWith(`Pictures/${ze[e.iconSet][0]}/Diamond.png`)||(c.src=`Pictures/${ze[e.iconSet][0]}/Diamond.png`),c.style.display="block",h.textContent=`+${d(i.prestigePointGain)}`,g.textContent=u.t("reset.details.prestige",{amount:d(e.coinsThisPrestige),timeSpent:d(e.prestigecounter)}),g.style.color="turquoise";break;case"transcension":c.src.endsWith(`Pictures/${ze[e.iconSet][0]}/Mythos.png`)||(c.src=`Pictures/${ze[e.iconSet][0]}/Mythos.png`),c.style.display="block",h.textContent=`+${d(i.transcendPointGain)}`,g.textContent=u.t("reset.details.transcension",{amount:d(e.coinsThisTranscension),timeSpent:d(e.transcendcounter)}),g.style.color="var(--orchid-text-color)";break;case"reincarnation":c.src.endsWith(`Pictures/${ze[e.iconSet][0]}/Particle.png`)||(c.src=`Pictures/${ze[e.iconSet][0]}/Particle.png`),c.style.display="block",h.textContent=`+${d(i.reincarnationPointGain)}`,g.textContent=u.t("reset.details.reincarnation",{amount:d(e.transcendShards),timeSpent:d(e.reincarnationcounter)}),g.style.color="limegreen";break;case"acceleratorBoost":c.src.endsWith(`Pictures/${ze[e.iconSet][0]}/Diamond.png`)||(c.src=`Pictures/${ze[e.iconSet][0]}/Diamond.png`),c.style.display="block",h.textContent=`-${d(e.acceleratorBoostCost)}`,g.textContent=u.t("reset.details.acceleratorBoost",{amount:d(e.prestigePoints),required:d(e.acceleratorBoostCost)}),g.style.color="cyan";break;case"transcensionChallenge":c.style.display="none",h.textContent="",r!==0?(g.style.color="aquamarine",g.textContent=u.t("reset.details.transcensionChallenge.in",{n:r,amount:d(e.coinsThisTranscension),required:d(Kt(r,e.challengecompletions[r])),timeSpent:d(e.transcendcounter)})):(g.style.color="var(--crimson-text-color)",g.textContent=u.t("reset.details.transcensionChallenge.out"));break;case"reincarnationChallenge":if(c.style.display="none",h.textContent="",n!==0){let b=n>=9?"coins":"transcendShards";g.style.color="silver",g.textContent=u.t(`reset.details.reincarnationChallenge.in.${b}`,{n,amount:d(e[b]),required:d(Kt(n,e.challengecompletions[n],n)),timeSpent:d(e.reincarnationcounter)})}else g.style.color="var(--crimson-text-color)",g.textContent=u.t("reset.details.reincarnationChallenge.out");break;case"ascensionChallenge":c.style.display="none",h.textContent="",g.textContent=u.t("reset.details.ascensionChallenge"),g.style.color="gold";break;case"ascension":c.style.display="none",h.textContent="",g.textContent=u.t("reset.details.ascension",{cubeAmount:d(vn()[4],0,!0),timeSpent:d(e.ascensionCounter,0,!1),realTimeSpent:d(e.ascensionCounterRealReal,0,!1)}),g.style.color="gold";break;case"singularity":c.style.display="none",h.textContent="",g.textContent=u.t("reset.details.singularity",{gqAmount:d(pr(),2,!0),timeSpent:d(e.singularityCounter,0,!1)}),g.style.color="lightgoldenrodyellow"}l("resetofferings2").textContent=`+${d(a)}`},Br=t=>{let r=null;t===1?(r=Number.parseFloat(l("prestigeamount").value)||0,e.prestigeamount=Math.max(r,0)):t===2?(r=Number.parseFloat(l("transcendamount").value)||0,e.transcendamount=Math.max(r,0)):t===3?(r=Number.parseFloat(l("reincarnationamount").value)||0,e.reincarnationamount=Math.max(r,0)):t===4?(r=Math.floor(Number.parseFloat(l("ascensionAmount").value))||1,e.autoAscendThreshold=Math.max(r,1)):t===5&&(r=Number.parseFloat(l("autoAntSacrificeAmount").value)||0,e.autoAntSacTimer=Math.max(r,0))},uc=()=>{let t=Math.floor(Number.parseFloat(l("tesseractAmount").value))||0;e.tesseractAutoBuyerAmount=Math.max(t,0)},wn=t=>{let r=null;t===1?(r=Number(l("cubeOpensInput").value)||0,e.openCubes=Math.max(Math.min(r,100),0)):t===2?(r=Number(l("tesseractsOpensInput").value)||0,e.openTesseracts=Math.max(Math.min(r,100),0)):t===3?(r=Number(l("hypercubesOpensInput").value)||0,e.openHypercubes=Math.max(Math.min(r,100),0)):t===4&&(r=Number(l("platonicCubeOpensInput").value)||0,e.openPlatonicsCubes=Math.max(Math.min(r,100),0))},EC=(t,r="unknown")=>{let n=pn(t),a=["enterChallenge","leaveChallenge"].includes(r);if(t==="prestige"){let s={seconds:e.prestigecounter,date:Date.now(),offerings:n,kind:"prestige",diamonds:i.prestigePointGain.toString()};Ht.emit("historyAdd","reset",s)}else if(t==="transcension"||t==="transcensionChallenge"){let s={seconds:e.transcendcounter,date:Date.now(),offerings:n,kind:"transcend",mythos:i.transcendPointGain.toString()};Ht.emit("historyAdd","reset",s)}else if(t==="reincarnation"||t==="reincarnationChallenge"){if(!a||i.reincarnationPointGain.gte(e.reincarnationPoints.div(10))){let s={seconds:e.reincarnationcounter,date:Date.now(),offerings:n,kind:"reincarnate",particles:i.reincarnationPointGain.toString(),obtainium:i.obtainiumGain};Ht.emit("historyAdd","reset",s)}}else if((t==="ascension"||t==="ascensionChallenge")&&e.challengecompletions[10]>0){let s=vn(),o={seconds:e.ascensionCounter,date:Date.now(),c10Completions:e.challengecompletions[10],usedCorruptions:e.usedCorruptions.slice(0),corruptionScore:s[3],wowCubes:s[4],wowTesseracts:s[5],wowHypercubes:s[6],wowPlatonicCubes:s[7],wowHepteracts:s[8],kind:"ascend"};r!=="enterChallenge"&&e.currentChallenge.ascension!==0&&(o.currentChallenge=e.currentChallenge.ascension),Ht.emit("historyAdd","ascend",o)}},Fe=(t,r=!1,n="unknown")=>{if(EC(t,n),Rg(t),cc(1),e.coins=new m("102"),e.coinsThisPrestige=new m("100"),e.firstOwnedCoin=0,e.firstGeneratedCoin=new m("0"),e.firstCostCoin=new m("100"),e.secondOwnedCoin=0,e.secondGeneratedCoin=new m("0"),e.secondCostCoin=new m("1e3"),e.thirdOwnedCoin=0,e.thirdGeneratedCoin=new m("0"),e.thirdCostCoin=new m("2e4"),e.fourthOwnedCoin=0,e.fourthGeneratedCoin=new m("0"),e.fourthCostCoin=new m("4e5"),e.fifthOwnedCoin=0,e.fifthGeneratedCoin=new m("0"),e.fifthCostCoin=new m("8e6"),e.firstGeneratedDiamonds=new m("0"),e.secondGeneratedDiamonds=new m("0"),e.thirdGeneratedDiamonds=new m("0"),e.fourthGeneratedDiamonds=new m("0"),e.fifthGeneratedDiamonds=new m("0"),e.multiplierCost=new m("1e4"),e.multiplierBought=0,e.acceleratorCost=new m("500"),e.acceleratorBought=0,e.prestigeCount+=1,e.prestigePoints=e.prestigePoints.add(i.prestigePointGain),e.prestigeShards=new m("0"),e.prestigenoaccelerator=!0,e.prestigenomultiplier=!0,e.prestigenocoinupgrades=!0,e.highestSingularityCount===0&&(t==="prestige"&&!e.unlocks.prestige&&(l("prestigebtn").style.boxShadow=""),t==="transcension"&&!e.unlocks.transcend&&(l("transcendbtn").style.boxShadow=""),t==="reincarnation"&&!e.unlocks.reincarnate&&(l("reincarnatebtn").style.boxShadow=""),t==="ascension"&&e.ascensionCount===0&&(l("ascendbtn").style.boxShadow="")),e.unlocks.prestige=!0,e.prestigecounter<e.fastestprestige&&(e.fastestprestige=e.prestigecounter),i.prestigePointGain=new m("0"),e.prestigecounter=0,i.autoResetTimers.prestige=0,i.generatorPower=new m(1),["transcension","transcensionChallenge","reincarnation","reincarnationChallenge","ascension","ascensionChallenge"].includes(t)&&(cc(2),e.coinsThisTranscension=new m("100"),e.firstOwnedDiamonds=0,e.firstCostDiamonds=new m("100"),e.secondOwnedDiamonds=0,e.secondCostDiamonds=new m("1e5"),e.thirdOwnedDiamonds=0,e.thirdCostDiamonds=new m("1e15"),e.fourthOwnedDiamonds=0,e.fourthCostDiamonds=new m("1e40"),e.fifthOwnedDiamonds=0,e.fifthCostDiamonds=new m("1e100"),e.firstGeneratedMythos=new m("0"),e.secondGeneratedMythos=new m("0"),e.thirdGeneratedMythos=new m("0"),e.fourthGeneratedMythos=new m("0"),e.fifthGeneratedMythos=new m("0"),e.acceleratorBoostBought=0,e.acceleratorBoostCost=new m("1e3"),e.transcendCount+=1,e.prestigePoints=new m("0"),e.transcendPoints=e.transcendPoints.add(i.transcendPointGain),e.transcendShards=new m("0"),e.transcendnocoinupgrades=!0,e.transcendnocoinorprestigeupgrades=!0,e.transcendnoaccelerator=!0,e.transcendnomultiplier=!0,i.transcendPointGain=new m("0"),e.achievements[78]>.5&&(e.firstOwnedDiamonds+=1),e.achievements[85]>.5&&(e.secondOwnedDiamonds+=1),e.achievements[92]>.5&&(e.thirdOwnedDiamonds+=1),e.achievements[99]>.5&&(e.fourthOwnedDiamonds+=1),e.achievements[106]>.5&&(e.fifthOwnedDiamonds+=1),e.achievements[4]>.5&&(e.upgrades[81]=1),e.achievements[11]>.5&&(e.upgrades[82]=1),e.achievements[18]>.5&&(e.upgrades[83]=1),e.achievements[25]>.5&&(e.upgrades[84]=1),e.achievements[32]>.5&&(e.upgrades[85]=1),e.achievements[80]>.5&&(e.upgrades[87]=1),e.transcendcounter<e.fastesttranscend&&e.currentChallenge.transcension===0&&(e.fastesttranscend=e.transcendcounter),e.transcendcounter=0,i.autoResetTimers.transcension=0),(t==="reincarnation"||t==="reincarnationChallenge")&&e.usedCorruptions[6]>10&&e.platonicUpgrades[11]>0&&(e.prestigePoints=e.prestigePoints.add(i.reincarnationPointGain)),t==="reincarnation"||t==="reincarnationChallenge"||t==="ascension"||t==="ascensionChallenge"||t==="singularity"){e.ascensionCount>0&&e.achievements[183]<1&&ao(1),e.researchPoints=Math.min(1e300,e.researchPoints+Math.floor(i.obtainiumGain));let s=i.obtainiumGain/(1+e.reincarnationcounter);if(s>e.obtainiumpersecond&&(e.obtainiumpersecond=s),e.currentChallenge.transcension=0,cc(3),e.coinsThisReincarnation=new m("100"),e.firstOwnedMythos=0,e.firstCostMythos=new m("1"),e.secondOwnedMythos=0,e.secondCostMythos=new m("1e2"),e.thirdOwnedMythos=0,e.thirdCostMythos=new m("1e4"),e.fourthOwnedMythos=0,e.fourthCostMythos=new m("1e8"),e.fifthOwnedMythos=0,e.fifthCostMythos=new m("1e16"),e.firstGeneratedParticles=new m("0"),e.secondGeneratedParticles=new m("0"),e.thirdGeneratedParticles=new m("0"),e.fourthGeneratedParticles=new m("0"),e.fifthGeneratedParticles=new m("0"),e.reincarnationCount+=1,e.transcendPoints=new m("0"),e.reincarnationPoints=e.reincarnationPoints.add(i.reincarnationPointGain),e.reincarnationShards=new m("0"),e.challengecompletions[1]=0,e.challengecompletions[2]=0,e.challengecompletions[3]=0,e.challengecompletions[4]=0,e.challengecompletions[5]=0,i.reincarnationPointGain=new m("0"),e.shopUpgrades.instantChallenge>0&&e.currentChallenge.reincarnation===0&&(e.challengecompletions[1]=e.highestchallengecompletions[1],e.challengecompletions[2]=e.highestchallengecompletions[2],e.challengecompletions[3]=e.highestchallengecompletions[3],e.challengecompletions[4]=e.highestchallengecompletions[4],e.challengecompletions[5]=e.highestchallengecompletions[5]),e.reincarnatenocoinupgrades=!0,e.reincarnatenocoinorprestigeupgrades=!0,e.reincarnatenocoinprestigeortranscendupgrades=!0,e.reincarnatenocoinprestigetranscendorgeneratorupgrades=!0,e.reincarnatenoaccelerator=!0,e.reincarnatenomultiplier=!0,e.reincarnationcounter<e.fastestreincarnate&&e.currentChallenge.reincarnation===0&&(e.fastestreincarnate=e.reincarnationcounter),sr(),e.reincarnationcounter=0,i.autoResetTimers.reincarnation=0,e.autoResearchToggle&&e.autoResearch>.5){let o=e.autoResearch===200?.01:0;dn(e.autoResearch,!0,o)}at(),er()}if(t==="ascension"||t==="ascensionChallenge"||t==="singularity"){let s=vn();e.challengecompletions[10]>0&&ao(3,s[3]),e.currentChallenge.transcension=0,e.currentChallenge.reincarnation=0,t==="ascensionChallenge"&&e.currentChallenge.ascension>10&&e.highestSingularityCount>=2&&e.autoChallengeToggles[10]?e.autoChallengeIndex=10:e.autoChallengeIndex=1,Or("START"),i.autoChallengeTimerIncrement=0,OC(),Md(),UC(),e.reincarnationPoints=new m("0"),e.reincarnationShards=new m("0"),e.obtainiumpersecond=0,e.maxobtainiumpersecond=0,e.offeringpersecond=0,e.antSacrificePoints=0,e.antSacrificeTimer=0,e.antSacrificeTimerReal=0,e.antUpgrades[12-1]=0;for(let c=61;c<=80;c++)e.upgrades[c]=0;for(let c=94;c<=100;c++)e.upgrades[c]=0;e.firstOwnedParticles=0,e.secondOwnedParticles=0,e.thirdOwnedParticles=0,e.fourthOwnedParticles=0,e.fifthOwnedParticles=0,e.firstCostParticles=new m("1"),e.secondCostParticles=new m("100"),e.thirdCostParticles=new m("1e4"),e.fourthCostParticles=new m("1e8"),e.fifthCostParticles=new m("1e16"),e.runeexp=[0,0,0,0,0,e.runeexp[5],e.runeexp[6]],e.runelevels=[0,0,0,0,0,e.runelevels[5],e.runelevels[6]],e.runeshards=0,e.crystalUpgrades=[0,0,0,0,0,0,0,0],e.runelevels[0]=3*e.cubeUpgrades[26],e.runelevels[1]=3*e.cubeUpgrades[26],e.runelevels[2]=3*e.cubeUpgrades[26],e.runelevels[3]=3*e.cubeUpgrades[26],e.runelevels[4]=3*e.cubeUpgrades[26],e.cubeUpgrades[27]===1&&(e.firstOwnedParticles=1,e.secondOwnedParticles=1,e.thirdOwnedParticles=1,e.fourthOwnedParticles=1,e.fifthOwnedParticles=1),e.challengecompletions[10]>0&&e.ascensionCounter>0&&(e.ascensionCount+=ui(),isFinite(s[4])&&isFinite(s[5])&&isFinite(s[6])&&isFinite(s[7])&&isFinite(s[8])&&(e.wowCubes.add(s[4]),e.wowTesseracts.add(s[5]),e.wowHypercubes.add(s[6]),e.wowPlatonicCubes.add(s[7]),e.wowAbyssals=Math.min(1e300,e.wowAbyssals+s[8])));for(let c=1;c<=10;c++)e.challengecompletions[c]=0,e.highestchallengecompletions[c]=0;e.challengecompletions[6]=e.highestchallengecompletions[6]=e.cubeUpgrades[49],e.challengecompletions[7]=e.highestchallengecompletions[7]=e.cubeUpgrades[49],e.challengecompletions[8]=e.highestchallengecompletions[8]=e.cubeUpgrades[49],l(`res${e.autoResearch||1}`).classList.remove("researchRoomba"),e.roombaResearchIndex=0,e.autoResearch=1;for(let c=1;c<=200;c++){let p=`res${c}`;e.researches[c]>.5&&e.researches[c]<i.researchMaxLevels[c]?Vt(p,["researchPurchased"],["researchAvailable","researchMaxed","researchPurchasedAvailable","researchUnpurchased"]):e.researches[c]>.5&&e.researches[c]>=i.researchMaxLevels[c]?Vt(p,["researchMaxed"],["researchAvailable","researchPurchased","researchPurchasedAvailable","researchUnpurchased"]):Vt(p,["researchUnpurchased"],["researchAvailable","researchPurchased","researchPurchasedAvailable","researchMaxed"])}er(),at(),ma(),Sd(),Zr(),ao(1),e.ascensionCounter=0,e.ascensionCounterReal=0,e.ascensionCounterRealReal=0,fr(),Ut(0),Ut(1),Ut(2),Ut(3),Ut(4),Ut(5),Ut(6),sr(),Ua(),Oa(),e.cubeUpgrades[4]===1&&(e.upgrades[94]=1,e.upgrades[95]=1,e.upgrades[96]=1,e.upgrades[97]=1,e.upgrades[98]=1),e.cubeUpgrades[5]===1&&(e.upgrades[99]=1),e.cubeUpgrades[6]===1&&(e.upgrades[100]=1);for(let c=61;c<=80;c++)l(`upg${c}`).style.backgroundColor="";for(let c=94;c<=100;c++)e.upgrades[c]===0&&(l(`upg${c}`).style.backgroundColor="");let o=fs();if(e.usedCorruptions=e.prototypeCorruptions.map((c,p)=>p>=2&&p<=9?Math.min(o*(e.challengecompletions[pc(p)]>0||e.singularityUpgrades.platonicTau.getEffect().bonus?1:0),c):c),e.usedCorruptions[1]=0,e.prototypeCorruptions[1]=0,e.currentChallenge.ascension===15&&(t==="ascension"||t==="ascensionChallenge")){e.usedCorruptions[0]=0,e.prototypeCorruptions[0]=0;for(let c=2;c<=9;c++)e.usedCorruptions[c]=11}so(),uh(!1)}if(t==="ascension"||t==="ascensionChallenge"){let s=Sg(),o=s.length+(e.overfluxOrbsAutoBuy?1:0);if(e.highestSingularityCount>=1&&o>0){let c=Math.floor(e.wowAbyssals/o*(e.hepteractAutoCraftPercentage/100));for(let p of s)p.autoCraft(c);if(e.overfluxOrbsAutoBuy){let p=Math.floor(c/25e4);e.wowAbyssals-25e4*p>=0&&(e.overfluxOrbs+=p,e.overfluxPowder+=e.shopUpgrades.powderAuto*Kr().mult*p/100,e.wowAbyssals-=25e4*p),e.wowAbyssals<0&&(e.wowAbyssals=0)}}if(e.researches[190]>0&&e.tesseractAutoBuyerToggle===1&&e.resettoggle4===2){let c=[null,null,null,null,null];for(let h=1;h<=5;h++)e.autoTesseracts[h]&&(c[h-1]=e[`ascendBuilding${h}`].owned);let p=100-Math.min(100,e.tesseractAutoBuyerAmount),f=Number(e.wowTesseracts)*p/100,g=dc(c,f);for(let h=5;h>=1;h--){let b=c[h-1],y=g[h-1];b!==null&&y!==null&&y!==b&&ms(h,y-b)}}Bg(),yg(),e.highestSingularityCount>=35&&(e.autoOpenCubes&&e.openCubes!==0&&e.cubeUpgrades[51]>0&&e.wowCubes.open(Math.floor(Number(e.wowCubes)*e.openCubes/100),!1),e.autoOpenTesseracts&&e.openTesseracts!==0&&e.challengecompletions[11]>0&&(e.tesseractAutoBuyerToggle!==1||e.resettoggle4===2)&&e.wowTesseracts.open(Math.floor(Number(e.wowTesseracts)*e.openTesseracts/100),!1),e.autoOpenHypercubes&&e.openHypercubes!==0&&e.challengecompletions[13]>0&&e.wowHypercubes.open(Math.floor(Number(e.wowHypercubes)*e.openHypercubes/100),!1),e.autoOpenPlatonicsCubes&&e.openPlatonicsCubes!==0&&e.challengecompletions[14]>0&&e.wowPlatonicCubes.open(Math.floor(Number(e.wowPlatonicCubes)*e.openPlatonicsCubes/100),!1))}if(e.unlocks.prestige=!0,(t==="transcension"||t==="transcensionChallenge")&&(e.unlocks.transcend=!0),(t==="reincarnation"||t==="reincarnationChallenge")&&(e.unlocks.reincarnate=!0),t==="singularity"){e.unlocks.coinone=!1,e.unlocks.cointwo=!1,e.unlocks.cointhree=!1,e.unlocks.coinfour=!1,e.unlocks.generation=!1,e.unlocks.prestige=!1,e.unlocks.transcend=!1,e.unlocks.reincarnate=!1,e.unlocks.rrow1=!1,e.unlocks.rrow2=!1,e.unlocks.rrow3=!1,e.unlocks.rrow4=!1,e.ascendBuilding1.owned=0,e.ascendBuilding1.generated=new m("0"),e.ascendBuilding2.owned=0,e.ascendBuilding2.generated=new m("0"),e.ascendBuilding3.owned=0,e.ascendBuilding3.generated=new m("0"),e.ascendBuilding4.owned=0,e.ascendBuilding4.generated=new m("0"),e.ascendBuilding5.owned=0,e.ascendBuilding5.generated=new m("0"),e.constantUpgrades=[null,0,0,0,0,0,0,0,0,0,0],e.wowCubes=new Cr(0),e.wowTesseracts=new Cr(0),e.wowHypercubes=new Cr(0),e.wowTesseracts=new Cr(0),e.wowAbyssals=0;for(let s=1;s<=50;s++)e.cubeUpgrades[s]=0}r||Ve(),(t==="transcensionChallenge"||t==="reincarnationChallenge"||t==="ascensionChallenge")&&Wr(),bi()},ch=()=>{e.highestSingularityCount>=1&&F(274),e.highestSingularityCount>=2&&F(275),e.highestSingularityCount>=3&&F(276),e.highestSingularityCount>=4&&F(277),e.highestSingularityCount>=5&&F(278),e.highestSingularityCount>=7&&F(279),e.highestSingularityCount>=10&&F(280)},uh=(t=!0)=>{if(e.achievements[275]>0){t&&(e.prestigeCount=1,e.transcendCount=1),e.transcendPoints=new m("1001"),e.unlocks.coinone=!0,e.unlocks.cointwo=!0,e.unlocks.cointhree=!0,e.unlocks.coinfour=!0,e.unlocks.prestige=!0,e.unlocks.generation=!0,e.unlocks.transcend=!0;for(let s=0;s<5;s++)F(4+7*s);F(36),F(43)}if(e.achievements[276]>0){e.currentChallenge.ascension!==12&&(t&&(e.reincarnationCount=1),e.reincarnationPoints=new m("10")),e.unlocks.reincarnate=!0,e.unlocks.rrow1=!0,e.researches[47]=1;for(let s=0;s<2;s++)for(let o=0;o<5;o++)F(78+s+7*o);for(let s=0;s<7;s++)F(57+s),F(64+s),F(71+s);F(37),F(38),F(44),F(50),F(80),F(87)}e.achievements[277]>0&&(e.currentChallenge.ascension!==14&&(e.researchPoints=Math.floor(500*He("Offering")*He("Researches"))),e.currentChallenge.ascension!==12&&(e.reincarnationPoints=new m("1e16")),e.challengecompletions[6]=1,e.highestchallengecompletions[6]=1,F(113));let r=["offeringAuto","offeringEX","obtainiumAuto","obtainiumEX","antSpeed","cashGrab"];if(e.achievements[278]>0&&t){for(let s of r)e.shopUpgrades[s]=10;e.cubeUpgrades[7]=1}if(e.achievements[279]>0&&(e.challengecompletions[7]=1,e.highestchallengecompletions[7]=1,F(120),e.currentChallenge.ascension!==12&&(e.reincarnationPoints=new m("1e100"))),e.achievements[280]>0){F(124),F(127),e.challengecompletions[8]=1,e.highestchallengecompletions[8]=1,e.cubeUpgrades[8]=1,e.cubeUpgrades[4]=1,e.cubeUpgrades[5]=1,e.cubeUpgrades[6]=1,e.firstOwnedAnts=1;for(let s=0;s<7;s++)F(176+s)}if(e.highestSingularityCount>10&&(e.cubeUpgrades[9]=1),e.highestSingularityCount>=15&&(e.challengecompletions[8]=5,e.highestchallengecompletions[8]=5,e.currentChallenge.ascension!==12&&(e.reincarnationPoints=new m("2.22e2222")),e.fifthOwnedAnts=1,e.cubeUpgrades[20]=1),e.highestSingularityCount>=20){let s=["offeringAuto","offeringEX","obtainiumAuto","obtainiumEX","antSpeed","cashGrab"];e.challengecompletions[9]=1,e.highestchallengecompletions[9]=1,F(134),e.antPoints=new m("1e100"),e.antUpgrades[11]=1;for(let o of s)e.shopUpgrades[o]=Te[o].maxLevel}if(e.highestSingularityCount>=25&&(e.eighthOwnedAnts=1),e.highestSingularityCount>=30&&(e.researches[130]=1,e.researches[135]=1,e.researches[145]=1),e.highestSingularityCount>=100&&t&&(e.cubeUpgrades[51]=1,Gu()),e.singularityUpgrades.platonicAlpha.getEffect().bonus&&e.platonicUpgrades[5]===0&&(e.platonicUpgrades[5]=1,qo(5)),t)for(let s=1;s<=15;s++)Rr(s);if(cc(3),t)for(let s=1;s<e.cubeUpgrades.length;s++)qa(s);for(let s=1;s<e.researches.length;s++)e.researches[s]>0&&_s(s);xd(),Ve()},xd=()=>{let t=e.achievements[278]>0,r=["offeringAuto","offeringEX","obtainiumAuto","obtainiumEX","antSpeed","cashGrab"];for(let c of r)Te[c].refundMinimumLevel=t?10:c.endsWith("Auto")?1:0;let n=e.highestSingularityCount>=20,a=["offeringAuto","offeringEX","obtainiumAuto","obtainiumEX","antSpeed","cashGrab"];for(let c of a)Te[c].refundable=!n;let s=e.highestSingularityCount>=51,o=["seasonPass","seasonPass2","seasonPass3","seasonPassY","chronometer","chronometer2"];for(let c of o)Te[c].refundable=!s},zs=async(t=-1)=>{var h,b,y,C,x,D,$,L,E;if(e.runelevels[6]===0&&t===-1)return B("You nearly triggered a double singularity bug! Oh no! Luckily, our staff prevented this from happening.");if(t===-1){let H=Object.values(e.cubeBlessings),I=Object.values(e.tesseractBlessings),N=Object.values(e.hypercubeBlessings),k=Object.values(e.platonicBlessings),A={seconds:e.singularityCounter,date:Date.now(),singularityCount:e.singularityCount,quarks:e.quarksThisSingularity,c15Score:e.challenge15Exponent,goldenQuarks:pr(),wowTribs:xe(H),tessTribs:xe(I),hyperTribs:xe(N),platTribs:xe(k),octeracts:e.totalWowOcteracts,quarkHept:e.hepteractCrafts.quark.BAL,kind:"singularity"};Ht.emit("historyAdd","singularity",A)}if(e.runelevels[6]=0,e.goldenQuarks+=pr(),t===-1){let H=1+Ga();e.singularityCount+=H,e.singularityCount>=e.highestSingularityCount&&(e.highestSingularityCount=e.singularityCount,e.highestSingularityCount===5&&(e.singularityUpgrades.goldenQuarks3.freeLevels+=1),e.highestSingularityCount===10&&(e.singularityUpgrades.goldenQuarks3.freeLevels+=2))}else e.singularityCount=t;e.totalQuarksEver+=e.quarksThisSingularity,await Bl(!0);let{data:r,success:n}=Ks.safeParse(T);na(n),xn(0),Be(0,{page:0}),Be(3,{page:0}),Be(4,{page:0}),Be(7,{page:0}),Be(8,{page:0}),Be(9,{page:0}),Be(10,{page:0}),r.history.singularity=e.history.singularity,r.totalQuarksEver=e.totalQuarksEver,r.singularityCount=e.singularityCount,r.highestSingularityCount=e.highestSingularityCount,r.goldenQuarks=e.goldenQuarks,r.shopUpgrades=e.shopUpgrades,e.singularityChallenges.limitedTime.rewards.preserveQuarks?r.worlds=Number(e.worlds)*.9:(e.worlds.reset(),r.worlds=Number(r.worlds)),r.singularityUpgrades=Object.fromEntries(Object.entries(e.singularityUpgrades).map(([H,I])=>[H,{level:I.level,goldenQuarksInvested:I.goldenQuarksInvested,toggleBuy:I.toggleBuy,freeLevels:I.freeLevels}])),r.octeractUpgrades=Object.fromEntries(Object.entries(e.octeractUpgrades).map(([H,I])=>[H,{level:I.level,octeractsInvested:I.octeractsInvested,toggleBuy:I.toggleBuy,freeLevels:I.freeLevels}])),r.blueberryUpgrades=Object.fromEntries(Object.entries(e.blueberryUpgrades).map(([H,I])=>[H,{level:I.level,ambrosiaInvested:I.ambrosiaInvested,blueberriesInvested:I.blueberriesInvested,toggleBuy:I.toggleBuy,freeLevels:I.freeLevels}])),r.spentBlueberries=e.spentBlueberries,r.autoChallengeToggles=e.autoChallengeToggles,r.autoChallengeTimer=e.autoChallengeTimer,r.saveString=e.saveString,r.corruptionLoadouts=e.corruptionLoadouts,r.corruptionLoadoutNames=e.corruptionLoadoutNames,r.corruptionShowStats=e.corruptionShowStats,r.toggles=e.toggles,r.retrychallenges=e.retrychallenges,r.resettoggle1=e.resettoggle1,r.resettoggle2=e.resettoggle2,r.resettoggle3=e.resettoggle3,r.resettoggle4=e.resettoggle4,r.coinbuyamount=e.coinbuyamount,r.crystalbuyamount=e.crystalbuyamount,r.mythosbuyamount=e.mythosbuyamount,r.particlebuyamount=e.particlebuyamount,r.offeringbuyamount=e.offeringbuyamount,r.tesseractbuyamount=e.tesseractbuyamount,r.shoptoggles=e.shoptoggles,r.autoSacrificeToggle=e.autoSacrificeToggle,r.autoBuyFragment=e.autoBuyFragment,r.autoFortifyToggle=e.autoFortifyToggle,r.autoEnhanceToggle=e.autoEnhanceToggle,r.autoResearchToggle=e.autoResearchToggle,r.autoResearchMode=e.autoResearchMode,r.dailyCodeUsed=e.dailyCodeUsed,r.runeBlessingBuyAmount=e.runeBlessingBuyAmount,r.runeSpiritBuyAmount=e.runeSpiritBuyAmount,r.prestigeamount=e.prestigeamount,r.transcendamount=e.transcendamount,r.reincarnationamount=e.reincarnationamount,r.talismanOne=e.talismanOne,r.talismanTwo=e.talismanTwo,r.talismanThree=e.talismanThree,r.talismanFour=e.talismanFour,r.talismanFive=e.talismanFive,r.talismanSix=e.talismanSix,r.talismanSeven=e.talismanSeven,r.buyTalismanShardPercent=e.buyTalismanShardPercent,r.antMax=e.antMax,r.autoAntSacrifice=e.autoAntSacrifice,r.autoAntSacrificeMode=e.autoAntSacrificeMode,r.autoAntSacTimer=e.autoAntSacTimer,r.autoAscend=e.autoAscend,r.autoAscendMode=e.autoAscendMode,r.autoAscendThreshold=e.autoAscendThreshold,r.autoResearch=0,r.autoTesseracts=e.autoTesseracts,r.tesseractAutoBuyerToggle=e.tesseractAutoBuyerToggle,r.tesseractAutoBuyerAmount=e.tesseractAutoBuyerAmount,r.autoOpenCubes=e.autoOpenCubes,r.openCubes=e.openCubes,r.autoOpenTesseracts=e.autoOpenTesseracts,r.openTesseracts=e.openTesseracts,r.autoOpenHypercubes=e.autoOpenHypercubes,r.openHypercubes=e.openHypercubes,r.autoOpenPlatonicsCubes=e.autoOpenPlatonicsCubes,r.openPlatonicsCubes=e.openPlatonicsCubes,r.historyShowPerSecond=e.historyShowPerSecond,r.exporttest=typeof e.exporttest=="boolean"?e.exporttest:e.exporttest==="YES!",r.dayTimer=e.dayTimer,r.dayCheck=(b=(h=e.dayCheck)==null?void 0:h.toISOString())!=null?b:null,r.ascStatToggles=e.ascStatToggles,r.hepteractAutoCraftPercentage=e.hepteractAutoCraftPercentage,r.autoWarpCheck=e.autoWarpCheck,r.shopBuyMaxToggle=e.shopBuyMaxToggle,r.shopHideToggle=e.shopHideToggle,r.shopConfirmationToggle=e.shopConfirmationToggle,r.researchBuyMaxToggle=e.researchBuyMaxToggle,r.cubeUpgradesBuyMaxToggle=e.cubeUpgradesBuyMaxToggle,r.wowOcteracts=e.wowOcteracts,r.totalWowOcteracts=e.totalWowOcteracts,r.overfluxOrbsAutoBuy=e.overfluxOrbsAutoBuy,r.hotkeys=e.hotkeys,r.theme=e.theme,r.notation=e.notation,r.firstPlayed=e.firstPlayed,r.autoCubeUpgradesToggle=e.autoCubeUpgradesToggle,r.autoPlatonicUpgradesToggle=e.autoPlatonicUpgradesToggle,r.insideSingularityChallenge=e.insideSingularityChallenge,r.ultimatePixels=e.ultimatePixels,r.ultimateProgress=e.ultimateProgress,r.singularityChallenges=Object.fromEntries(Object.entries(e.singularityChallenges).map(([H,I])=>[H,{completions:I.completions,highestSingularityCompleted:I.highestSingularityCompleted,enabled:I.enabled}])),r.iconSet=e.iconSet,r.hepteractCrafts.quark=e.hepteractCrafts.quark;for(let H of Object.keys(e.hepteractCrafts))if(H!=="quark"){let I=H;r.hepteractCrafts[I].AUTO=e.hepteractCrafts[I].AUTO}r.ambrosia=e.ambrosia,r.lifetimeAmbrosia=e.lifetimeAmbrosia,r.visitedAmbrosiaSubtab=e.visitedAmbrosiaSubtab,r.blueberryTime=e.blueberryTime,r.blueberryLoadouts=e.blueberryLoadouts,r.blueberryLoadoutMode=e.blueberryLoadoutMode,r.wowCubes=Number(e.wowCubes),r.wowTesseracts=Number(e.wowTesseracts),r.wowHypercubes=Number(e.wowHypercubes),r.wowPlatonicCubes=Number(e.wowPlatonicCubes);let a=(y=e.codes.get(42))!=null?y:!1,s=(C=e.codes.get(43))!=null?C:!1,o=(x=e.codes.get(44))!=null?x:!1,c=(D=e.codes.get(45))!=null?D:!1,p=($=e.codes.get(46))!=null?$:!1,f=(L=e.codes.get(47))!=null?L:!1,g=(E=e.codes.get(48))!=null?E:!1;await us(btoa(JSON.stringify(r)),!0),e.codes.set(39,!0),e.codes.set(40,!0),e.codes.set(41,!0),e.codes.set(42,a),e.codes.set(43,s),e.codes.set(44,o),e.codes.set(45,c),e.codes.set(46,p),e.codes.set(47,f),e.codes.set(48,g),uh(),e.rngCode=Date.now(),e.promoCodeTiming.time=Date.now(),Ir()},cc=t=>{if(t>2.5){for(let r=41;r<61;r++)r!==46&&(e.upgrades[r]=0);e.researches[41]===0&&(e.upgrades[46]=0),e.researches[41]<.5&&(e.upgrades[88]=0),e.achievements[50]===0&&(e.upgrades[89]=0),e.researches[42]<.5&&(e.upgrades[90]=0),e.researches[43]<.5&&(e.upgrades[91]=0),e.researches[44]<.5&&(e.upgrades[92]=0),e.researches[45]<.5&&(e.upgrades[93]=0),e.upgrades[116]=0,e.upgrades[117]=0,e.upgrades[118]=0,e.upgrades[119]=0,e.upgrades[120]=0}for(let r=1;r<=20;r++)e.upgrades[r]=0;for(let r=121,n=106;r<=125;r++,n++)e.upgrades[r]=0,e.upgrades[n]=0;if(t>1.5&&(e.achievements[4]<.5&&(e.upgrades[81]=0),e.achievements[11]<.5&&(e.upgrades[82]=0),e.achievements[18]<.5&&(e.upgrades[83]=0),e.achievements[25]<.5&&(e.upgrades[84]=0),e.achievements[32]<.5&&(e.upgrades[85]=0),e.achievements[87]<.5&&(e.upgrades[86]=0),e.achievements[80]<.5&&(e.upgrades[87]=0),e.upgrades[101]=0,e.upgrades[102]=0,e.upgrades[103]=0,e.upgrades[104]=0,e.upgrades[105]=0),t>1.5){for(let r=21;r<41;r++)e.upgrades[r]=0;e.upgrades[111]=0,e.upgrades[112]=0,e.upgrades[113]=0,e.upgrades[114]=0,e.upgrades[115]=0}if(t>1.5){e.crystalUpgrades=[0,0,0,0,0,0,0,0],e.crystalUpgradesCost=[7,15,20,40,100,200,500,1e3],Td();let r=0;r+=Math.floor(i.rune3level*i.effectiveLevelMult/16)*100/100,e.upgrades[73]>.5&&e.currentChallenge.reincarnation!==0&&(r+=10),e.crystalUpgrades=[r,r,r,r,r,r,r,r]}e.achievements[87]>.5&&(e.upgrades[86]=1);for(let r=1;r<=125;r++)ir(r,!0)},Md=()=>{e.firstOwnedAnts=0,e.secondOwnedAnts=0,e.thirdOwnedAnts=0,e.fourthOwnedAnts=0,e.fifthOwnedAnts=0,e.sixthOwnedAnts=0,e.seventhOwnedAnts=0,e.eighthOwnedAnts=0,e.firstGeneratedAnts=new m("0"),e.secondGeneratedAnts=new m("0"),e.thirdGeneratedAnts=new m("0"),e.fourthGeneratedAnts=new m("0"),e.fifthGeneratedAnts=new m("0"),e.sixthGeneratedAnts=new m("0"),e.seventhGeneratedAnts=new m("0"),e.eighthGeneratedAnts=new m("0"),e.firstCostAnts=new m("1e700"),e.secondCostAnts=new m("3"),e.thirdCostAnts=new m("100"),e.fourthCostAnts=new m("1e4"),e.fifthCostAnts=new m("1e12"),e.sixthCostAnts=new m("1e36"),e.seventhCostAnts=new m("1e100"),e.eighthCostAnts=new m("1e300"),e.cubeUpgrades[48]>0&&(e.firstOwnedAnts=1,e.firstCostAnts=new m("1e741"));let t=e.antUpgrades[12-1];e.antUpgrades=[0,0,0,0,0,0,0,0,0,0,0,t],e.antPoints=new m("1"),e.currentChallenge.ascension===12&&(e.antPoints=new m("7")),er(),at()},OC=()=>{e.researchPoints=0;let t=[6,7,8,9,10,11,12,13,14,15,16,17,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,51,52,53,54,55,56,57,58,59,60,62,63,64,65,66,67,68,69,70,76,81,85,86,87,88,89,90,91,92,93,94,96,97,98,101,102,103,104,106,107,108,109,110,116,117,118,121,122,123,126,127,128,129,131,132,133,134,136,137,139,141,142,143,144,146,147,148,149,151,152,154,156,157,158,159,161,162,163,164,166,167,169,171,172,173,174,176,177,178,179,181,182,184,186,187,188,189,191,192,193,194,196,197,199];e.highestSingularityCount<25&&t.push(138,153,168,183,198);for(let r of t)e.researches[r]=0},UC=()=>{e.talismanLevels=[0,0,0,0,0,0,0],e.talismanRarity=[1,1,1,1,1,1,1],e.talismanShards=0,e.commonFragments=0,e.uncommonFragments=0,e.rareFragments=0,e.epicFragments=0,e.legendaryFragments=0,e.mythicalFragments=0};var fc=()=>{let t=1;return t+=Math.min(1e15,i.rune4level*i.effectiveLevelMult/160),t+=(e.researches[56]+e.researches[57]+e.researches[58]+e.researches[59]+e.researches[60])/200,t+=z("transcend",e.challengecompletions[4])/200,t+=Math.min(99999.9,3*(e.antUpgrades[7-1]+i.bonusant7)/100),t},Hn=t=>{--t;let r=500,n=new m(r);if(n=n.times(m.pow(4/i.costDivisor,t)),t>125+5*z("transcend",e.challengecompletions[4])){let s=t-125-5*z("transcend",e.challengecompletions[4]),o=new m(s).factorial(),c=m.pow(4,s);n=n.times(c.times(o))}if(t>2e3+5*z("transcend",e.challengecompletions[4])){let s=t-2e3-5*z("transcend",e.challengecompletions[4]),o=s*(s+1)/2;n=n.times(m.pow(2,o))}if(e.currentChallenge.transcension===4){let s=t*(t+1)/2;n=n.times(m.pow(10,s))}if(e.currentChallenge.reincarnation===8){let s=t*(t+1)/2;n=n.times(m.pow(1e50,s))}let a=Math.pow(10,15);if(t>a){let c=Hn(a).pow(Math.pow(t/a,1/.125)),p=c.exponent-Math.floor(c.exponent);return c.exponent=Math.floor(c.exponent),c.mantissa*=Math.pow(10,p),c.normalize(),m.max(n,c)}return n},oo=t=>{let r=e.acceleratorBought,n=Math.pow(10,15);if(r>=n){let h=m.log10(e.coins),b=m.log10(Hn(n)),y=Math.floor(n*Math.max(1,Math.pow(h/b,.125))),C=n;for(;y-C>.5;){let $=Math.floor(C+(y-C)/2);if($===C||$===y)break;e.coins.gte(Hn($))?C=$:y=$}let x=C,D=Hn(x);e.acceleratorBought=x,e.acceleratorCost=D;return}let a=r+Ie(r),s=a,o=Hn(s);for(;e.coins.gte(o);)s=s*4,o=Hn(s);let c=Math.floor(s/8);for(;c>=Ie(s);)Hn(s-c).lte(e.coins)?c=Math.floor(c/2):s=s-Math.max(Ie(s),c);!t&&e.coinbuyamount!=="max"&&e.acceleratorBought+e.coinbuyamount<s&&(s=e.acceleratorBought+e.coinbuyamount);let p=Math.max(s-6-Ie(s),a),f=Hn(p);for(;p<=s&&e.coins.gte(f);)if(p>=n&&(p=n),e.coins=e.coins.sub(f),e.acceleratorBought=p,p=p+Ie(p),f=Hn(p),e.acceleratorCost=f,p>=n)return;e.prestigenoaccelerator=!1,e.transcendnoaccelerator=!1,e.reincarnatenoaccelerator=!1,Ad(),e.acceleratorBought>=5&&e.achievements[148]===0&&F(148),e.acceleratorBought>=25&&e.achievements[149]===0&&F(149),e.acceleratorBought>=100&&e.achievements[150]===0&&F(150),e.acceleratorBought>=666&&e.achievements[151]===0&&F(151),e.acceleratorBought>=2e3&&e.achievements[152]===0&&F(152),e.acceleratorBought>=12500&&e.achievements[153]===0&&F(153),e.acceleratorBought>=1e5&&e.achievements[154]===0&&F(154)},Fn=t=>{--t;let r=1e4,n=new m(r);if(n=n.times(m.pow(10,t/i.costDivisor)),t>75+2*z("transcend",e.challengecompletions[4])){let s=t-75-2*z("transcend",e.challengecompletions[4]),o=new m(s).factorial(),c=m.pow(10,s);n=n.times(o.times(c))}if(t>2e3+2*z("transcend",e.challengecompletions[4])){let s=t-2e3-2*z("transcend",e.challengecompletions[4]),o=s*(s+1)/2;n=n.times(m.pow(2,o))}if(e.currentChallenge.transcension===4){let s=t*(t+1)/2;n=n.times(m.pow(10,s))}if(e.currentChallenge.reincarnation===8){let s=t*(t+1)/2;n=n.times(m.pow(1e50,s))}let a=Math.pow(10,15);if(t>a){let c=Fn(a).pow(Math.pow(t/a,1/.125)),p=c.exponent-Math.floor(c.exponent);return c.exponent=Math.floor(c.exponent),c.mantissa*=Math.pow(10,p),c.normalize(),m.max(n,c)}return n},io=t=>{let r=e.multiplierBought,n=Math.pow(10,15);if(r>=n){let h=m.log10(e.coins),b=m.log10(Fn(n)),y=Math.floor(n*Math.max(1,Math.pow(h/b,.125))),C=n;for(;y-C>.5;){let $=Math.floor(C+(y-C)/2);if($===C||$===y)break;e.coins.gte(Fn($))?C=$:y=$}let x=C,D=Fn(x);e.multiplierBought=x,e.multiplierCost=D;return}let a=r+Ie(r),s=a,o=Fn(s);for(;e.coins.gte(o);)s=s*4,o=Fn(s);let c=Math.floor(s/8);for(;c>=Ie(s);)Fn(s-c).lte(e.coins)?c=Math.floor(c/2):s=s-Math.max(Ie(s),c);!t&&e.coinbuyamount!=="max"&&e.multiplierBought+e.coinbuyamount<s&&(s=e.multiplierBought+e.coinbuyamount);let p=Math.max(s-6-Ie(s),a),f=Fn(p);for(;p<=s&&e.coins.gte(f);)if(p>=n&&(p=n),e.coins=e.coins.sub(f),e.multiplierBought=p,p=p+Ie(p),f=Fn(p),e.multiplierCost=f,p>=n)return;e.prestigenomultiplier=!1,e.transcendnomultiplier=!1,e.reincarnatenomultiplier=!1,Pd(),e.multiplierBought>=2&&e.achievements[155]===0&&F(155),e.multiplierBought>=20&&e.achievements[156]===0&&F(156),e.multiplierBought>=100&&e.achievements[157]===0&&F(157),e.multiplierBought>=500&&e.achievements[158]===0&&F(158),e.multiplierBought>=2e3&&e.achievements[159]===0&&F(159),e.multiplierBought>=12500&&e.achievements[160]===0&&F(160),e.multiplierBought>=1e5&&e.achievements[161]===0&&F(161)},BC=Math.log10(2*Math.PI),RC=Math.log10(Math.E),yi=t=>++t===0?0:(Math.log10(t*Math.sqrt(t*Math.sinh(1/t)+1/(810*Math.pow(t,6))))-RC)*t+(BC-Math.log10(t))/2,IC=Math.log10(9332621544394e145),NC=188.582,vi=(()=>{let t=[1.03,1.25],r=[1,2,3,4,5,6,10,15];for(let s of r)t.push(100+100*s),t.push(10+10*s);let n=1e3;for(let s=0;s<n;++s)t.push(1+s/2);let a={};for(let s of t)typeof a[s]>"u"&&(a[s]=Math.log10(s));return a})(),_C=[100,1e3,2e4,4e5,8e6],$C=[100,1e5,1e15,1e40,1e100],dh=[1,100,1e4,1e8,1e16],Yr=(t,r,n,a,s)=>{--r;let o=Math.pow(10,15),c=new m(t),p=a*r;r<NC/a&&(c.mantissa+=r/Math.pow(10,c.exponent));let f=0,g=Math.floor(s*1e3);r>=s*1e3&&(++f,c.exponent-=yi(g),c.exponent+=(-3+Math.log10(1+a/2))*(r-g)),g=Math.floor(s*5e3),r>=s*5e3&&(++f,c.exponent-=yi(g),c.exponent+=(vi[10+a*10]+1)*(r-g-1)+1),g=Math.floor(s*2e4),r>=s*2e4&&(f+=3,c.exponent-=yi(g)*3,c.exponent+=(vi[100+100*a]+5)*(r-g)),g=Math.floor(s*25e4),r>=s*25e4&&(c.exponent+=Math.log10(1.03)*(r-g)*((r-g+1)/2)),c.exponent+=yi(r)*f;let h=0;e.currentChallenge.transcension===4&&(n==="Coin"||n==="Diamonds")&&(++h,r>=1e3-10*e.challengecompletions[4]&&(p+=r*(r+1)/2)),e.currentChallenge.reincarnation===10&&(n==="Coin"||n==="Diamonds")&&(++h,r>=s*25e3&&(p+=r*(r+1)/2)),c.exponent+=h*((yi(r+100)-IC+2*r)*(1.25+e.challengecompletions[4]/4)),c.exponent+=vi[1.25]*p,g=Math.floor(s*1e3*e.challengecompletions[8]),e.currentChallenge.reincarnation===8&&(n==="Coin"||n==="Diamonds"||n==="Mythos")&&r>=1e3*e.challengecompletions[8]*s&&(c.exponent+=(vi[2]*((r-g+1)/2)-vi[1+e.challengecompletions[8]/2])*(r-g));let b=c.exponent-Math.floor(c.exponent);if(c.exponent=Math.floor(c.exponent),c.mantissa*=Math.pow(10,b),c.normalize(),r>o){let x=Yr(t,o,n,a,s).pow(Math.pow(r/o,1/.125)),D=x.exponent-Math.floor(x.exponent);return x.exponent=Math.floor(x.exponent),x.mantissa*=Math.pow(10,D),x.normalize(),m.max(c,x)}return c},ph=(t,r)=>{let n=r==="Coin"?_C:r==="Diamonds"?$C:dh,a=r==="Coin"?t:t*(t+1)/2;return[n[t-1],a]},fh=(t,r,n,a)=>{let[s,o]=ph(t,r);return Yr(s,n,r,o,a!=null?a:fc())},Rt=(t,r)=>{let n=t-1,a=i.ordinals[n],[s,o]=ph(t,r),c=Math.pow(10,15),p=1e99,f=fc(),g=gh[r][0],h=`${a}Owned${r}`,b=e[h];if(b>=c){let H=m.log10(e[g]),I=m.log10(Yr(s,c,r,o,f)),N=Math.floor(c*Math.max(1,Math.pow(H/I,.125))),k=c;for(;N-k>.5;){let J=Math.floor(k+(N-k)/2);if(J===k||J===N)break;e[g].gte(Yr(s,J,r,o,f))?k=J:N=J}let A=k,Q=Yr(s,A,r,o,f);e[h]=A,e[`${a}Cost${r}`]=Q;return}let y=b+Ie(b),C=1,x=Yr(s,b+C,r,o,f);if(x.exponent>=p||!e[g].gte(x))return;for(;x.exponent<p&&e[g].gte(x);)C=C*4,x=Yr(s,b+C,r,o,f);let D=Math.floor(C/8);for(;D>=Ie(C);)Yr(s,b+C-D,r,o,f).lte(e[g])?D=Math.floor(D/2):C=C-Math.max(Ie(C),D);if(b+C>=c){e[h]=c,e[`${a}Cost${r}`]=Yr(s,c,r,o,f);return}let $=Math.max(b+C-6-Ie(C),y),L=Yr(s,$,r,o,f);for(;$<=b+C&&e[g].gte(L);)e[g]=e[g].sub(L),e[h]=$,$=$+Ie($),L=Yr(s,$,r,o,f),e[`${a}Cost${r}`]=L},gh={Diamonds:["prestigePoints","crystal"],Mythos:["transcendPoints","mythos"],Particles:["reincarnationPoints","particle"],Coin:["coins","coin"]},mh=(t,r,n,a)=>{let[s,o]=gh[r],c=a?500:e[`${o}buyamount`],p=1;p+=i.rune4level*i.effectiveLevelMult/160,p+=(e.researches[56]+e.researches[57]+e.researches[58]+e.researches[59]+e.researches[60])/200,p+=z("transcend",e.challengecompletions[4])/200,p+=3*(i.bonusant7+e.antUpgrades[7-1])/100;let f=`${t}Cost${r}`,g=`${t}Owned${r}`;for(;e[s].gte(e[f])&&i.ticker<c&&e[g]<Number.MAX_SAFE_INTEGER;)e[s]=e[s].sub(e[f]),e[g]+=1,e[f]=e[f].times(m.pow(1.25,n)),e[f]=e[f].add(1),e[g]>=1e3*p&&(e[f]=e[f].times(e[g]).dividedBy(1e3).times(1+n/2)),e[g]>=5e3*p&&(e[f]=e[f].times(e[g]).times(10).times(10+n*10)),e[g]>=2e4*p&&(e[f]=e[f].times(m.pow(e[g],3)).times(1e5).times(100+n*100)),e[g]>=25e4*p&&(e[f]=e[f].times(m.pow(1.03,e[g]-25e4*p))),e.currentChallenge.transcension===4&&(r==="Coin"||r==="Diamonds")&&(e[f]=e[f].times(Math.pow(100*e[g]+1e4,1.25+1/4*e.challengecompletions[4])),e[g]>=1e3-10*e.challengecompletions[4]&&(e[f]=e[f].times(m.pow(1.25,e[g])))),e.currentChallenge.reincarnation===8&&(r==="Coin"||r==="Diamonds"||r==="Mythos")&&e[g]>=1e3*e.challengecompletions[8]*p&&(e[f]=e[f].times(m.pow(2,(e[g]-1e3*e.challengecompletions[8]*p)/(1+e.challengecompletions[8]/2)))),i.ticker+=1;i.ticker=0},xr=(t,r,n)=>{let a=t;e[a].gte(m.pow(10,i.upgradeCosts[r]))&&e.upgrades[r]===0&&(e[a]=e[a].sub(m.pow(10,i.upgradeCosts[r])),e.upgrades[r]=1,ir(r,n)),t==="transcendPoints"&&(e.reincarnatenocoinprestigeortranscendupgrades=!1,e.reincarnatenocoinprestigetranscendorgeneratorupgrades=!1),t==="prestigePoints"&&(e.transcendnocoinorprestigeupgrades=!1,e.reincarnatenocoinorprestigeupgrades=!1,e.reincarnatenocoinprestigeortranscendupgrades=!1,e.reincarnatenocoinprestigetranscendorgeneratorupgrades=!1),t==="coins"&&(e.prestigenocoinupgrades=!1,e.transcendnocoinupgrades=!1,e.transcendnocoinorprestigeupgrades=!1,e.reincarnatenocoinupgrades=!1,e.reincarnatenocoinorprestigeupgrades=!1,e.reincarnatenocoinprestigeortranscendupgrades=!1,e.reincarnatenocoinprestigetranscendorgeneratorupgrades=!1)},DC=t=>{let r=t-1,n=m.log(e.prestigeShards.add(1),10);return Math.floor(Math.pow(Math.max(0,2*(n-i.crystalUpgradesCost[r])/i.crystalUpgradeCostIncrement[r]+1/4),1/2)+1/2)},gr=(t,r=!1)=>{let n=t-1,a=0;a+=Math.floor(i.rune3level/16*i.effectiveLevelMult)*100/100,e.upgrades[73]>.5&&e.currentChallenge.reincarnation!==0&&(a+=10);let s=DC(t);s+a>e.crystalUpgrades[n]&&(e.crystalUpgrades[n]=100/100*(s+a),s>0&&(e.prestigeShards=e.prestigeShards.sub(m.pow(10,i.crystalUpgradesCost[n]+i.crystalUpgradeCostIncrement[n]*(1/2*Math.pow(s-1/2,2)-1/8))),r||xl(t)))},bs=t=>{let r=1;if(e.upgrades[46]===1&&(r=t?9999:e.coinbuyamount),e.upgrades[46]<1){for(;e.prestigePoints.gte(e.acceleratorBoostCost)&&i.ticker<r;)if(e.prestigePoints.gte(e.acceleratorBoostCost)&&(e.acceleratorBoostBought+=1,e.acceleratorBoostCost=e.acceleratorBoostCost.times(1e10).times(m.pow(10,e.acceleratorBoostBought)),e.acceleratorBoostBought>1e3*(1+2*i.effectiveRuneBlessingPower[4])&&(e.acceleratorBoostCost=e.acceleratorBoostCost.times(m.pow(10,Math.pow(e.acceleratorBoostBought-1e3*(1+2*i.effectiveRuneBlessingPower[4]),2)/(1+2*i.effectiveRuneBlessingPower[4])))),e.transcendnoaccelerator=!1,e.reincarnatenoaccelerator=!1,e.upgrades[46]<.5)){for(let n=21;n<41;n++)e.upgrades[n]=0;Fe("prestige"),e.prestigePoints=new m(0)}}else{let n=e.acceleratorBoostBought,a=Math.pow(10,15);if(n>=a){let b=m.log10(e.prestigePoints),y=m.log10(Mn(a)),C=Math.floor(a*Math.max(1,Math.pow(b/y,.125))),x=a;for(;C-x>.5;){let L=Math.floor(x+(C-x)/2);if(L===x||L===C)break;e.prestigePoints.gte(Mn(L))?x=L:C=L}let D=x,$=Mn(D);e.acceleratorBoostBought=D,e.acceleratorBoostCost=$;return}let s=n+Ie(n),o=1,c=Mn(n+o);for(;e.prestigePoints.gte(c);)o*=4,c=Mn(n+o);let p=Math.floor(o/8);for(;p>=Ie(o);)Mn(n+o-p).lte(e.prestigePoints)?p=Math.floor(p/2):o=o-Math.max(Ie(o),p);let f=Math.max(n+o-6-Ie(o),s),g=Mn(e.acceleratorBoostBought);for(;f<=n+o&&e.prestigePoints.gte(Mn(f));)if(e.prestigePoints=e.prestigePoints.sub(g),f>=a&&(f=a),e.acceleratorBoostBought=f,f=f+Ie(f),g=Mn(f),e.acceleratorBoostCost=g,e.transcendnoaccelerator=!1,e.reincarnatenoaccelerator=!1,f>=a)return}i.ticker=0,e.acceleratorBoostBought>=2&&e.achievements[162]===0&&F(162),e.acceleratorBoostBought>=10&&e.achievements[163]===0&&F(163),e.acceleratorBoostBought>=50&&e.achievements[164]===0&&F(164),e.acceleratorBoostBought>=200&&e.achievements[165]===0&&F(165),e.acceleratorBoostBought>=1e3&&e.achievements[166]===0&&F(166),e.acceleratorBoostBought>=5e3&&e.achievements[167]===0&&F(167),e.acceleratorBoostBought>=15e3&&e.achievements[168]===0&&F(168)},Mn=(t=1)=>{t--;let r=Math.pow(10,15),n=new m(1e3),a=1+2*i.effectiveRuneBlessingPower[4],s=p=>p*(p+1)/2,o=p=>p*(p+1)*(2*p+1)/6,c=n;if(t>1e3*a?c=n.times(m.pow(10,10*t+s(t)+o(t-1e3*a)/a)):c=n.times(m.pow(10,10*t+s(t))),t>r){let g=Mn(r).pow(Math.pow(t/r,1/.125)),h=g.exponent-Math.floor(g.exponent);return g.exponent=Math.floor(g.exponent),g.mantissa*=Math.pow(10,h),g.normalize(),m.max(c,g)}return c},Qn=(t,r)=>{--r,t=new m(t);let n=t.times(m.pow(2,r)),a=e.currentChallenge.ascension!==15?325e3:1e3;r>a&&(n=n.times(m.pow(1.001,(r-a)*((r-a+1)/2))));let s=Math.pow(10,15);if(r>s){let p=Qn(t,s).pow(Math.pow(r/s,1/.125)),f=p.exponent-Math.floor(p.exponent);return p.exponent=Math.floor(p.exponent),p.mantissa*=Math.pow(10,f),p.normalize(),m.max(n,p)}return n},qn=(t,r=!1)=>{let n=t-1,a=dh[n],s=i.ordinals[n],o=`${s}OwnedParticles`,c=e[o],p=Math.pow(10,15);if(c>=p){let D=m.log10(e.reincarnationPoints),$=m.log10(Qn(a,p)),L=Math.floor(p*Math.max(1,Math.pow(D/$,.125))),E=p;for(;L-E>.5;){let N=Math.floor(E+(L-E)/2);if(N===E||N===L)break;e.reincarnationPoints.gte(Qn(a,N))?E=N:L=N}let H=E,I=Qn(a,H);e[o]=H,e[`${s}CostParticles`]=I;return}let f=c+Ie(c),g=f,h=Qn(a,g);for(;e.reincarnationPoints.gte(h);)g=g*4,h=Qn(a,g);let b=Math.floor(g/8);for(;b>=Ie(g);)Qn(a,g-b).lte(e.reincarnationPoints)?b=Math.floor(b/2):g=g-Math.max(Ie(g),b);r||e.particlebuyamount+c<g&&(g=c+e.particlebuyamount+Ie(e[o]+e.particlebuyamount));let y=Math.max(g-6-Ie(g),f),C=Qn(a,y);for(;y<=g&&e.reincarnationPoints.gte(C);)e.reincarnationPoints=e.reincarnationPoints.sub(C),e[o]=y,y=y+Ie(y),C=Qn(a,y),e[`${s}CostParticles`]=C},hs=[1,10,100,1e3,1e4],kd=(t,r)=>{let n=t.map((s,o)=>{if(s===null)return null;let c=Math.ceil(Math.pow(r/hs[o],1/3)-1);return Math.max(s,c)}),a=0;for(let s=0;s<t.length;s++){let o=t[s],c=n[s];o===null||c===null||(a+=hs[s]*(Math.pow(c*(c+1)/2,2)-Math.pow(o*(o+1)/2,2)))}return[a,n]},dc=(t,r)=>{let n=null;for(let g=0;g<t.length;g++){let h=t[g];if(h===null)continue;let b=hs[g]*Math.pow(h+1,3);(n===null||b<n)&&(n=b)}if(n===null||n>r)return t;let a=n,s=a*2;for(;kd(t,s)[0]<=r;)a=s,s*=2;for(;s-a>.5;){let g=a+(s-a)/2;if(g===a||g===s)break;kd(t,g)[0]<=r?a=g:s=g}let[o,c]=kd(t,a),p=r-o,f=c.map((g,h)=>g===null?null:hs[h]*Math.pow(g+1,3));for(let g=1;g<=5;g++){let h=null;for(let b=0;b<f.length;b++){let y=f[b];y!==null&&(h===null||y<=h.price)&&(h={price:y,index:b})}if(h!==null&&h.price<=p)p-=h.price,c[h.index]++,f[h.index]=hs[h.index]*Math.pow(c[h.index]+1,3);else break}return c},GC=(t,r,n=!0,a)=>{r!=null||(r=e.tesseractbuyamount),a!=null||(a=e[`ascendBuilding${t}`].owned);let s=hs[t-1],o=s*Math.pow(a*(a+1)/2,2),c;if(n){let f=Math.floor(-.5+.5*Math.pow(1+8*Math.pow((Number(e.wowTesseracts)+o)/s,.5),.5));c=Math.min(f,a+r)}else c=a+r;let p=s*Math.pow(c*(c+1)/2,2)-o;return[c,p]},ms=(t,r=e.tesseractbuyamount)=>{let n=hs[t-1],a=`ascendBuilding${t}`,[s,o]=GC(t,r);e[a].owned=s,e.wowTesseracts.sub(o),e[a].cost=n*Math.pow(1+s,3)},lo=(t,r)=>{if((t==="Spirits"?e.challengecompletions[12]>0:e.achievements[134]===1)&&isFinite(e.runeshards)&&e.runeshards>0){let a,s,o;t==="Spirits"?(a=i.spiritBaseCost,s=e.runeSpiritLevels[r],o=e.runeSpiritBuyAmount):(a=i.blessingBaseCost,s=e.runeBlessingLevels[r],o=e.runeBlessingBuyAmount);let[c,p]=pa(s,a,e.runeshards,o);t==="Spirits"?e.runeSpiritLevels[r]=c:e.runeBlessingLevels[r]=c,e.runeshards-=p,e.runeshards<0&&(e.runeshards=0),hh(t,r)}},hh=(t,r)=>{if(r===1){let n=[0,1e5,1e8,1e11];for(let a=1;a<=3;a++)e.runeBlessingLevels[1]>=n[a]&&e.achievements[231+a]<1&&F(231+a),e.runeSpiritLevels[1]>=10*n[a]&&e.achievements[234+a]<1&&F(234+a);e.runeBlessingLevels[1]>=1e22&&e.achievements[245]<1&&F(245)}if(Ld(),t==="Blessings"){let n=[0,8,10,6.66,2,1],a=r===5?1:0;l(`runeBlessingPower${r}Value1`).innerHTML=u.t("runes.blessings.blessingPower",{reward:u.t(`runes.blessings.rewards.${r-1}`),value:d(i.runeBlessings[r]),speed:d(1-a+n[r]*i.effectiveRuneBlessingPower[r],4,!0)})}else if(t==="Spirits"){let n=[0,1,1,20,1,100];n[r]*=yt()/400;let a=r===3?1:0;l(`runeSpiritPower${r}Value1`).innerHTML=u.t("runes.spirits.spiritPower",{reward:u.t(`runes.spirits.rewards.${r-1}`),value:d(i.runeSpirits[r]),speed:d(1-a+n[r]*i.effectiveRuneSpiritPower[r],4,!0)})}},co=(t,r=100,n=!1)=>{if(t==="Spirits"?e.challengecompletions[12]>0:e.achievements[134]===1){let s=Math.floor(e.runeshards/100*r/5);for(let o=1;o<6;o++)if(isFinite(e.runeshards)&&e.runeshards>0){let c,p;t==="Spirits"?(c=i.spiritBaseCost,p=e.runeSpiritLevels[o]):(c=i.blessingBaseCost,p=e.runeBlessingLevels[o]);let[g,h]=pa(p,c,s,1e300);g>p&&(!n||(g-p)*1e4>p)&&(t==="Spirits"?e.runeSpiritLevels[o]=g:e.runeBlessingLevels[o]=g,e.runeshards-=h,e.runeshards<0&&(e.runeshards=0),hh(t,o))}}};var gc=new Map([["A",["Buy Accelerators",()=>oo(),!1]],["B",["Boost Accelerator",()=>bs(),!1]],["C",["Auto Challenge",()=>{bh()},!1]],["E",["Exit T / R Challenge",()=>{e.autoChallengeRunning?bh():yh()},!1]],["M",["Multipliers",()=>io(),!1]],["N",["No (Cancel)",()=>wd(!1),!0]],["P",["Reset Prestige",()=>Qe("prestige"),!1]],["R",["Reset Reincarnate",()=>Qe("reincarnation"),!1]],["S",["Sacrifice Ants",()=>uo(),!1]],["T",["Reset Transcend",()=>Qe("transcension"),!1]],["Y",["Yes (OK)",()=>wd(!0),!0]],["ARROWLEFT",["Back a tab",()=>Ci(-1),!1]],["ARROWRIGHT",["Next tab",()=>Ci(1),!1]],["ARROWUP",["Back a subtab",()=>Ci(-1,!0),!1]],["ARROWDOWN",["Next subtab",()=>Ci(1,!0),!1]],["SHIFT+A",["Reset Ascend",()=>Qe("ascension"),!1]],["SHIFT+C",["Cleanse Corruptions",()=>Gn(10,999),!1]],["SHIFT+D",["Spec. Action Add x1",()=>jn("add",1),!1]],["SHIFT+E",["Exit Asc. Challenge",()=>Qe("ascensionChallenge"),!1]],["SHIFT+O",["Use Off. Potion",()=>_n("offeringPotion"),!1]],["SHIFT+P",["Use Obt. Potion",()=>_n("obtainiumPotion"),!1]],["SHIFT+S",["Reset Singularity",()=>Qe("singularity"),!1]],["CTRL+B",["Un-hide Tabs",()=>mt.reappend(),!1]]]),Ed=!1,At=new Map(gc),bh=()=>{e.researches[150]>0&&(mi(),e.autoChallengeRunning||yh())},yh=()=>{e.currentChallenge.reincarnation!==0&&Qe("reincarnationChallenge",void 0,!0),e.currentChallenge.transcension!==0&&Qe("transcensionChallenge",void 0,!0)},HC=t=>{var s;if(!Ed||!e.toggles[39])return;if(((s=document.activeElement)==null?void 0:s.localName)==="input"){t.stopPropagation();return}Ch(t,t.code.replace(/^(Digit|Numpad)/,"").toUpperCase());let r="";t.ctrlKey&&(r+="CTRL+"),t.shiftKey&&(r+="SHIFT+"),t.altKey&&(r+="ALT+");let n=r+t.key.toUpperCase();if(n==="TAB"&&t.preventDefault(),n!=="ENTER"&&l("transparentBG").style.display==="block"&&At.has(n)&&!At.get(n)[2])return;let a="";At.has(n)&&(a=`${At.get(n)[0]}`,At.get(n)[1](),t.preventDefault()),i.currentTab===10&&e.subtabNumber===6&&(l("lastHotkey").textContent=n,l("lastHotkeyName").textContent=a)},FC=(t,r)=>{let n=document.createElement("div");n.classList.add("hotkeyItem");let a=document.createElement("span");a.id="actualHotkey",a.textContent=t,a.addEventListener("click",async o=>{var b,y,C;let c=o.target,p=c.textContent.toUpperCase(),f=(C=(b=At.get(p))==null?void 0:b[0])!=null?C:(y=c.nextSibling)==null?void 0:y.textContent,g=await je(`
        Enter the new key you want to activate ${f} with.

        MDN has a list of values for "special keys" if you would like to use one:
        https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/key/Key_Values

        You can also prefix your hotkey with [Ctrl,Shift,Alt]+<key>
        `);if(typeof g!="string")return;let h=g.toUpperCase();if(g.length===0)return void B("You didn't enter anything, canceled!");if(!isNaN(Number(g)))return void B("Number keys are currently unavailable!");if(At.has(h)||p===h)return void B("That key is already binded to an action, use another key instead!");if(At.has(p)){let x=At.get(p);At.set(h,x),At.delete(p);let D=Object.keys(e.hotkeys);e.hotkeys[D.length]=[p,h],c.textContent=h,wi()}else return void B(`No hotkey is triggered by ${p}!`)});let s=document.createElement("p");return s.id="hotKeyDesc",s.textContent=r,n.appendChild(a),n.appendChild(s),n},mc=()=>Ed=!1,wi=()=>{QC();let t=document.querySelector(".hotkeys");for(let r of Array.from(t.children))t.removeChild(r);for(let[r,[n]]of[...At.entries()]){let a=FC(r,n);t.appendChild(a)}Ed=!0},QC=()=>{At=new Map(gc);for(let t in e.hotkeys){let r=e.hotkeys[t][0],n=e.hotkeys[t][1];if(At.has(r)){let a=At.get(r);At.set(n,a),At.delete(r)}else Reflect.deleteProperty(e.hotkeys,t)}},vh=async()=>{if(wi(),Object.keys(e.hotkeys).length===0)return await B("You haven't changed the hotkey");let r="",n=new Map(gc);for(let s in e.hotkeys){let o=e.hotkeys[s][0],c=e.hotkeys[s][1];if(n.has(o)){let p=n.get(o);r+=`	${o}[${p[0]}] to ${c}, `,n.set(c,p),n.delete(o)}}await Ne(`Are you sure you want to default all the changed hotkeys?
Below is a history of hotkeys you have changed

${r}`)&&(At=new Map(gc),e.hotkeys={},wi())},xi=new Set;document.addEventListener("keydown",t=>{HC(t),xi.add(t.code)});document.addEventListener("keyup",t=>xi.delete(t.code));var po=new Map,hc=0;var wh=()=>{let t=document.getElementById("notification-count");hc===0?t.style.display="none":t.style.display="unset",t.textContent=`${hc}`},xh=t=>{for(let r of t){let n=r,{id:a,price:s}=n,o=Np(n,["id","price"]);po.set(a,{quantity:0,price:s,rest:o})}},bc=t=>{let r=po.get(t);r.quantity++,hc++,wh()},Mh=t=>{let r=po.get(t);r.quantity--,hc--,wh()},Sh=()=>{let t=0;for(let{price:r,quantity:n}of po.values())n>0&&(t+=r*n);return t},Th=t=>po.get(t).quantity,Od=()=>{let t=[];for(let[r,{quantity:n,price:a,rest:s}]of po)n>0&&t.push(G({id:r,quantity:n,price:a},s));return t};var Id=document.querySelector("#pseudoCoins > #cartContainer"),ki=Id.querySelector("div.cartList"),Mi=ki.querySelector("button#checkout"),Ud=ki.querySelector("button#closeCart"),kh=ki.querySelector('section > input[type="radio"]'),qC=ki.querySelector("p#totalCost"),Ti=ki.querySelector("#itemList"),Si=!1,jC=Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),VC=un(t=>{Ud==null||Ud.addEventListener("click",()=>{Be(13,{page:0})}),kh.addEventListener("click",()=>{Si=!Si,kh.checked=Si}),Ti.insertAdjacentHTML("afterend",t.map(r=>`
    <div key="${r.id}">
     <input
        hidden
        name="${`product-${r.id}`}"
        value="${Th(r.id)}"
        type="number"
      />
    </div>
  `).join("")),Mi==null||Mi.addEventListener("click",()=>{if(!Si){Nr("You must accept the terms of service first!");return}let r=new FormData;for(let n of Od())r.set(`product-${n.id}`,`${n.quantity}`);r.set("tosAgree",Si?"on":"off"),Mi.setAttribute("disabled",""),fetch("https://synergism.cc/stripe/create-checkout-session",{method:"POST",body:r}).then(n=>n.json()).then(n=>{n.redirect?window.location.href=n.redirect:Nr(n.error)}).finally(()=>{Mi.removeAttribute("disabled")})})});function Bd(t){var n;t.preventDefault();let r=Number((n=t.target.closest("div[key]"))==null?void 0:n.getAttribute("key"));if(Number.isNaN(r)||!Number.isSafeInteger(r)){B("Stop fucking touching the html! We do server-side validation!");return}bc(r),Nd(),_d()}function Rd(t){var n;t.preventDefault();let r=Number((n=t.target.closest("div[key]"))==null?void 0:n.getAttribute("key"));if(Number.isNaN(r)||!Number.isSafeInteger(r)){B("Stop fucking touching the html! We do server-side validation!");return}Mh(r),Nd(),_d()}function Nd(){Ti.querySelectorAll(".cartListElementContainer > button").forEach(t=>{t.removeEventListener("click",t.id==="add"?Bd:Rd)}),Ti.innerHTML=Od().map(t=>`
    <div class="cartListElementContainer" key="${t.id}">
      <img src="Pictures/Default/BackedQuark.png" width="32px" height="32px" alt="Backed Quark" />
      <span class="cartListElement">${t.name}</span>
      <span style="color:cyan">
        ${t.quantity>0?`x${t.quantity}`:""}
      </span>
      <button id="add">+</button>
      <button id="sub">-</button>
    </div>
  `).join(""),Ti.querySelectorAll(".cartListElementContainer > button").forEach(t=>{t.addEventListener("click",t.id==="add"?Bd:Rd)})}var Lh=t=>{VC(t),_d(),Nd(),Id.style.display="flex"},Ah=()=>{Id.style.display="none",Ti.querySelectorAll(".cartListElementContainer > button").forEach(t=>{t.removeEventListener("click",t.id==="add"?Bd:Rd)})},_d=()=>{qC.textContent=`${jC.format(Sh()/100)} USD`};var $d=document.querySelector("#pseudoCoins > #merchContainer"),WC=un(()=>{(async()=>{let r=await(await fetch("https://synergism.cc/api/merch/products")).json();for(let n=0;n<r.length;n++){let a=document.createElement("div");a.classList.add("slideshow-container");for(let c=0;c<r[n].variants.length;c++){let p=r[n].variants[c],f=document.createElement("div");f.classList.add("slide","fade");let g=document.createElement("div");g.classList.add("pageNumber"),g.textContent=`${c+1}/${r[n].variants.length}`;let h=document.createElement("img");h.src=p.images[c].url,h.width=h.height=400;let b=document.createElement("div");b.classList.add("text"),b.textContent=p.name,a.appendChild(f),f.appendChild(g),f.appendChild(h),f.appendChild(b)}let s=document.createElement("a");s.classList.add("prev"),s.textContent=String.fromCharCode(Number.parseInt("10094"));let o=document.createElement("a");if(o.classList.add("next"),o.textContent=String.fromCharCode(Number.parseInt("10095")),r[n].variants.length>1){let c=0,p=a.getElementsByClassName("slide");s.addEventListener("click",()=>{var f,g;(f=p.item(c))==null||f.classList.remove("active"),--c<0&&(c=p.length-1),(g=p.item(c))==null||g.classList.add("active")}),o.addEventListener("click",()=>{var f,g;(f=p.item(c))==null||f.classList.remove("active"),++c>p.length-1&&(c=0),(g=p.item(c))==null||g.classList.add("active")})}a.appendChild(s),a.appendChild(o),a.querySelector(".slide").classList.add("active"),$d.querySelector("#slideshows").appendChild(a)}})()}),Ph=()=>{WC(),$d.style.display="flex"},Eh=()=>{$d.style.display="none"};var yc=document.querySelector("#pseudoCoins > #productContainer"),zC=Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),KC=t=>{let r=Number(t.target.getAttribute("data-id")),n=t.target.getAttribute("data-name");if(Number.isNaN(r)||!Number.isSafeInteger(r)){B("Stop fucking touching the html! We do server-side validation!");return}bc(r),Nr(`Added ${n} to the cart!`)},XC=un(t=>{yc.innerHTML=t.map(r=>`
    <section class="pseudoCoinContainer" key="${r.id}">
      <div>
        <img class="pseudoCoinImage" alt="${r.name}" src="./Pictures/${r.name}.png" />
        <p class="pseudoCoinText">
          ${r.name} [${d(r.coins)} PseudoCoins]
        </p>
        <button data-id="${r.id}" data-name="${r.name}" class="pseudoCoinButton">
          ${zC.format(r.price/100)} USD
        </button>
      </div>
    </section>
  `).join(""),yc.style.display="grid",document.querySelectorAll(".pseudoCoinContainer > div > button[data-id]").forEach(r=>{r.addEventListener("click",KC)})}),Oh=()=>{yc.style.display="none"},Uh=t=>{XC(t),yc.style.display="grid"};var ys=document.querySelector("#pseudoCoins > #upgradesContainer"),Dd,ZC=v.object({upgradeId:v.number(),level:v.number()});function Bh(t){var p,f;Dd=t;let r=u.t(`pseudoCoins.upgradeNames.${t==null?void 0:t.internalName}`);l("pCoinUpgradeName").textContent=`${r!=null?r:"???"}`,l("description").textContent=`${(p=t==null?void 0:t.description)!=null?p:"???"}`,l("pCoinUpgradeIcon").setAttribute("src",`Pictures/PseudoShop/${(f=t==null?void 0:t.internalName)!=null?f:"PseudoCoins"}.png`);let n=l("buy"),a=l("pCoinEffectCurr"),s=l("pCoinEffectNext");a.innerHTML=`${u.t("pseudoCoins.currEffect")} ${u.t(Gd(t.internalName,t.playerLevel))}`,s.innerHTML=`${u.t("pseudoCoins.nextEffect")} ${u.t(Gd(t.internalName,t.playerLevel+1))}`;let o=l("pCoinScalingCosts"),c=l("pCoinScalingEffect");if(t&&t.playerLevel===t.maxLevel)n==null||n.setAttribute("disabled",""),n.setAttribute("style","display: none"),s.setAttribute("style","display: none");else{n==null||n.removeAttribute("disabled"),n.removeAttribute("style"),s.removeAttribute("style"),n.innerHTML=t?`${u.t("pseudoCoins.buyButton",{amount:Intl.NumberFormat().format(t.cost[t.playerLevel])})}`:"Cannot buy. Sorry!";let g=_h(t.internalName);o.innerHTML=g.cost,c.innerHTML=g.effect}}async function YC(t){if(!Dd){B("Click on an upgrade to buy it.");return}let n=await(await fetch(`https://synergism.cc/stripe/buy-upgrade/${Dd.upgradeId}`,{method:"PUT"})).json(),a=ZC.safeParse(n);if(!a.success){B(`Didn't buy the upgrade... try again? ${JSON.stringify(n)}`);return}let s=t==null?void 0:t.get(a.data.upgradeId);if(s){s.playerLevel=a.data.level,B(`Upgraded ${s.name} (${s.description}) to ${a.data.level}!`),ys.querySelector("#upgradeGrid > .active > p#a").textContent=`${s.playerLevel}/${s.maxLevel}`,ys.querySelector("#upgradeGrid > .active > p#b").textContent=s.playerLevel===s.maxLevel?"\u2714\uFE0F":"",Bh(s);let c=await(await fetch("https://synergism.cc/stripe/coins")).json();ys.querySelector("#pseudoCoinAmounts > #currentCoinBalance").innerHTML=`${u.t("pseudoCoins.coinCount",{amount:Intl.NumberFormat().format(c.coins)})}`,Nh(s.internalName,a.data.level)}else B("Upgrades did not load. Please refresh the page.")}var JC=un(()=>{(async()=>{let r=await(await fetch("https://synergism.cc/stripe/upgrades")).json();l("currentCoinBalance").innerHTML=`${u.t("pseudoCoins.coinCount",{amount:Intl.NumberFormat().format(r.coins)})}`;let n=r.upgrades.reduce((s,o)=>{var f;let c=s.get(o.upgradeId),p=r.playerUpgrades.find(g=>g.upgradeId===o.upgradeId);return c?(c.maxLevel=Math.max(c.maxLevel,o.maxLevel),c.cost.push(o.cost),c.level.push(o.level)):s.set(o.upgradeId,fe(G({},o),{cost:[o.cost],level:[o.level],playerLevel:(f=p==null?void 0:p.level)!=null?f:0})),s},new Map);ys.querySelector("#upgradeGrid").innerHTML=[...n.values()].map(s=>`
      <div
        data-id="${s.upgradeId}"
        data-key="${s.name}"
        style="margin: 40px;"
      >
        <img src='Pictures/PseudoShop/${s.internalName}.png' alt='${s.internalName}' />
        <p id="a">${s.playerLevel}/${s.maxLevel}</p>
        ${s.playerLevel===s.maxLevel?'<p id="b">\u2714\uFE0F</p>':'<p id="b"></p>'}
      </div>
    `).join("");let a=ys.querySelectorAll("#upgradeGrid > div[data-id]");a.forEach(s=>{s.addEventListener("click",o=>{var p;let c=Number((p=o.target.closest("div"))==null?void 0:p.getAttribute("data-id"));if(Number.isNaN(c)||!Number.isSafeInteger(c)){B("Stop touching the fucking html! We do server-side validations!");return}Bh([...n.values()].find(f=>f.upgradeId===c)),a.forEach(f=>f.classList.remove("active")),s.classList.add("active")})}),l("buy").addEventListener("click",()=>{YC(n)})})()}),Rh=()=>{JC(),ys.style.display="flex"},Ih=()=>{ys.style.display="none"};var fo={Coins:0,Upgrades:1,Checkout:2,Merch:3},e2=document.getElementById("pseudoCoins");function*$h(t){let r=e2.querySelectorAll(t);for(let n=0;n<r.length;n++)yield[n,r.item(n)]}var Vn,go,vc,Dh,mr=class{constructor(){qt(this,vc);Ki(this,vc,Dh).call(this)}static fetchProducts(){return he(mr,Vn)||(Zt(mr,Vn,Da()),fetch("https://synergism.cc/stripe/products").then(r=>r.json()).then(r=>{var n;he(mr,go).push(...r),xh(r),(n=he(mr,Vn))==null||n.resolve(void 0)},he(mr,Vn).reject)),he(mr,Vn).promise}static applySubtabListeners(){for(let[r,n]of $h(".subtabSwitcher button"))n.addEventListener("click",()=>{Ys()||!ln?Be(13,{page:r}):B("Note: you must be logged in to view this tab!")})}},vs=mr;Vn=new WeakMap,go=new WeakMap,vc=new WeakSet,Dh=function(){for(let[r,n]of $h(".subtabSwitcher button"))e.subtabNumber===r?n.classList.add("active-subtab"):n.classList.remove("active-subtab");switch(Oh(),Ih(),Ah(),Eh(),e.subtabNumber){case fo.Coins:mr.fetchProducts().then(()=>{e.subtabNumber===fo.Coins&&Uh(he(mr,go))});break;case fo.Upgrades:Rh();break;case fo.Checkout:mr.fetchProducts().then(()=>{e.subtabNumber===fo.Checkout&&Lh(he(mr,go))});break;case fo.Merch:Ph();break}},qt(vs,Vn,void 0),qt(vs,go,[]);var t2=un(()=>{vs.fetchProducts(),vs.applySubtabListeners(),(!Ys()||!ln)&&Be(13,{step:1})}),Cc=()=>{t2(),new vs};var Hh={[10]:{tabSwitcher:()=>Xm,subTabList:[{subTabID:"settingsubtab",unlocked:!0,buttonID:"switchSettingSubTab1"},{subTabID:"languagesubtab",unlocked:!0,buttonID:"switchSettingSubTab2"},{subTabID:"creditssubtab",unlocked:!0,buttonID:"switchSettingSubTab3"},{subTabID:"statisticsSubTab",unlocked:!0,buttonID:"switchSettingSubTab4"},{subTabID:"resetHistorySubTab",get unlocked(){return e.unlocks.prestige},buttonID:"switchSettingSubTab5"},{subTabID:"ascendHistorySubTab",get unlocked(){return e.ascensionCount>0},buttonID:"switchSettingSubTab6"},{subTabID:"singularityHistorySubTab",get unlocked(){return e.highestSingularityCount>0},buttonID:"switchSettingSubTab7"},{subTabID:"hotkeys",unlocked:!0,buttonID:"switchSettingSubTab8"},{subTabID:"accountSubTab",unlocked:!0,buttonID:"switchSettingSubTab9"}]},[11]:{subTabList:[]},[0]:{tabSwitcher:()=>Qm,subTabList:[{subTabID:"coin",unlocked:!0,buttonID:"switchToCoinBuilding"},{subTabID:"diamond",get unlocked(){return e.unlocks.prestige},buttonID:"switchToDiamondBuilding"},{subTabID:"mythos",get unlocked(){return e.unlocks.transcend},buttonID:"switchToMythosBuilding"},{subTabID:"particle",get unlocked(){return e.unlocks.reincarnate},buttonID:"switchToParticleBuilding"},{subTabID:"tesseract",get unlocked(){return e.achievements[183]>0},buttonID:"switchToTesseractBuilding"}]},[1]:{subTabList:[]},[2]:{subTabList:[]},[3]:{tabSwitcher:()=>qm,subTabList:[{subTabID:"1",get unlocked(){return e.unlocks.prestige},buttonID:"toggleRuneSubTab1"},{subTabID:"2",get unlocked(){return e.achievements[134]>0},buttonID:"toggleRuneSubTab2"},{subTabID:"3",get unlocked(){return e.achievements[134]>0},buttonID:"toggleRuneSubTab3"},{subTabID:"4",get unlocked(){return e.achievements[204]>0},buttonID:"toggleRuneSubTab4"}]},[4]:{tabSwitcher:()=>jm,subTabList:[{subTabID:"1",unlocked:!0,buttonID:"toggleChallengesSubTab1"},{subTabID:"2",get unlocked(){return e.highestSingularityCount>=25},buttonID:"toggleChallengesSubTab2"}]},[5]:{subTabList:[]},[6]:{subTabList:[]},[7]:{tabSwitcher:()=>th,subTabList:[{subTabID:"1",get unlocked(){return e.achievements[141]>0},buttonID:"switchCubeSubTab1"},{subTabID:"2",get unlocked(){return e.achievements[197]>0},buttonID:"switchCubeSubTab2"},{subTabID:"3",get unlocked(){return e.achievements[211]>0},buttonID:"switchCubeSubTab3"},{subTabID:"4",get unlocked(){return e.achievements[218]>0},buttonID:"switchCubeSubTab4"},{subTabID:"5",get unlocked(){return e.achievements[141]>0},buttonID:"switchCubeSubTab5"},{subTabID:"6",get unlocked(){return e.achievements[218]>0},buttonID:"switchCubeSubTab6"},{subTabID:"7",get unlocked(){return e.challenge15Exponent>=1e15},buttonID:"switchCubeSubTab7"}]},[8]:{tabSwitcher:()=>ah,subTabList:[{subTabID:"true",get unlocked(){return e.achievements[141]>0},buttonID:"corrStatsBtn"},{subTabID:"false",get unlocked(){return e.achievements[141]>0},buttonID:"corrLoadoutsBtn"}]},[9]:{tabSwitcher:()=>Km,subTabList:[{subTabID:"1",get unlocked(){return e.highestSingularityCount>0},buttonID:"toggleSingularitySubTab1"},{subTabID:"2",get unlocked(){return e.highestSingularityCount>0},buttonID:"toggleSingularitySubTab2"},{subTabID:"3",get unlocked(){return!!e.singularityUpgrades.octeractUnlock.getEffect().bonus},buttonID:"toggleSingularitySubTab3"},{subTabID:"4",get unlocked(){return e.singularityChallenges.noSingularityUpgrades.completions>=1},buttonID:"toggleSingularitySubTab4"}]},[12]:{subTabList:[]},[13]:{tabSwitcher:()=>Cc,subTabList:[{subTabID:"productContainer",get unlocked(){return Ys()||!ln},buttonID:"cartSubTab1"},{subTabID:"upgradesContainer",unlocked:!0,buttonID:"cartSubTab2"},{subTabID:"cartContainer",get unlocked(){return Ys()||!ln},buttonID:"cartSubTab3"},{subTabID:"merchContainer",unlocked:!0,buttonID:"cartSubTab4"}]}},Ke,hr,xc,Fh,wc=class extends HTMLDivElement{constructor(){super();qt(this,xc);qt(this,Ke,[]);qt(this,hr,void 0);this.id="tabrow",this.style.cssText=`
      text-align: center;
      width: 100%;
      list-style: none;
      margin: 0;
      margin-inline: unset;
      margin-block: unset;
      padding-inline: unset;
      display: flex;
      justify-content: center;
      gap: 0 5px;
    `}getSubs(){return he(this,Ke)}appendButton(...n){for(let a of n)he(this,Ke).push(a),this.appendChild(a);Zt(this,hr,he(this,Ke)[0]),Ki(this,xc,Fh).call(this)}getCurrentTab(){return he(this,hr)}setNextTab(){var a;let n=he(this,Ke).indexOf(he(this,hr));return Zt(this,hr,(a=he(this,Ke)[n+1])!=null?a:he(this,Ke)[0]),he(this,hr)}setPreviousTab(){var a;let n=he(this,Ke).indexOf(he(this,hr));return Zt(this,hr,(a=he(this,Ke)[n-1])!=null?a:he(this,Ke)[he(this,Ke).length-1]),he(this,hr)}getNextTab(n=he(this,hr)){var s;let a=he(this,Ke).indexOf(n);return(s=he(this,Ke)[a+1])!=null?s:he(this,Ke)[0]}getPreviousTab(n=he(this,hr)){var s;let a=he(this,Ke).indexOf(n);return(s=he(this,Ke)[a-1])!=null?s:he(this,Ke)[he(this,Ke).length-1]}reappend(){this.replaceChildren();for(let n of he(this,Ke))this.appendChild(n);he(this,Ke).forEach(n=>n.resetHidden())}};Ke=new WeakMap,hr=new WeakMap,xc=new WeakSet,Fh=function(){let n=null,a=f=>{na(f.target instanceof HTMLElement),f.target.style.opacity="0.4",n=f.target,f.dataTransfer.effectAllowed="move"},s=f=>{f.target instanceof HTMLElement&&f.target.classList.add("over")},o=f=>{f.target instanceof HTMLElement&&f.target.classList.remove("over")},c=f=>{if(f.stopPropagation(),n!==f.target&&n!==null){this.insertBefore(n,f.target);let g=he(this,Ke).indexOf(n),h=he(this,Ke).indexOf(f.target);he(this,Ke).splice(h,0,he(this,Ke)[g]),he(this,Ke).splice(he(this,Ke).indexOf(n,g),1)}return!1},p=f=>{na(f.target instanceof HTMLElement),f.target.style.opacity="1",he(this,Ke).forEach(g=>{g.classList.remove("over")})};he(this,Ke).forEach(f=>{f.addEventListener("dragstart",a,!1),f.addEventListener("dragenter",s,!1),f.addEventListener("dragover",c,!1),f.addEventListener("dragleave",o,!1),f.addEventListener("drop",c,!1),f.addEventListener("dragend",p,!1)})};var Li,ha,Ai,mo,It=class extends HTMLButtonElement{constructor(n){super();qt(this,Li,()=>!0);qt(this,ha,void 0);qt(this,Ai,!1);qt(this,mo,!1);this.id=n.id,n.class&&this.classList.add(n.class),n.i18n&&this.setAttribute("i18n",n.i18n),n.borderColor&&(this.style.borderColor=n.borderColor),this.addEventListener("click",()=>{he(this,Ai)&&xi.has("ControlLeft")&&xi.has("KeyX")?i.currentTab!==he(this,ha)&&(mt.removeChild(this),Zt(this,mo,!0)):(xn(he(this,ha)),Mc())})}setUnlockedState(n){return Zt(this,Li,n),this}isUnlocked(){return he(this,Li).call(this)&&!he(this,mo)}setType(n){return Zt(this,ha,n),this}getType(){return he(this,ha)}getSubTabs(){return Hh[he(this,ha)]}makeDraggable(){return this.setAttribute("draggable","true"),this}makeRemoveable(){return Zt(this,Ai,!0),this}resetHidden(){Zt(this,mo,!1)}};Li=new WeakMap,ha=new WeakMap,Ai=new WeakMap,mo=new WeakMap;customElements.define("tab-row",wc,{extends:"div"});customElements.define("sub-tab",It,{extends:"button"});var mt=new wc,Gh;(Gh=document.getElementsByClassName("navbar").item(0))==null||Gh.appendChild(mt);mt.appendButton(new It({id:"buildingstab",i18n:"tabs.main.buildings"}).setType(0).makeDraggable().makeRemoveable(),new It({id:"upgradestab",i18n:"tabs.main.upgrades"}).setType(1).makeDraggable().makeRemoveable(),new It({id:"achievementstab",i18n:"tabs.main.achievements",class:"coinunlock4"}).setUnlockedState(()=>e.unlocks.coinfour).setType(2).makeDraggable().makeRemoveable(),new It({class:"prestigeunlock",id:"runestab",i18n:"tabs.main.runes"}).setUnlockedState(()=>e.unlocks.prestige).setType(3).makeDraggable().makeRemoveable(),new It({class:"transcendunlock",id:"challengetab",i18n:"tabs.main.challenges"}).setUnlockedState(()=>e.unlocks.transcend).setType(4).makeDraggable().makeRemoveable(),new It({class:"reincarnationunlock",id:"researchtab",i18n:"tabs.main.research"}).setUnlockedState(()=>e.unlocks.reincarnate).setType(5).makeDraggable().makeRemoveable(),new It({class:"chal8",id:"anttab",i18n:"tabs.main.antHill"}).setUnlockedState(()=>e.achievements[127]>0).setType(6).makeDraggable().makeRemoveable(),new It({class:"chal10",id:"cubetab",i18n:"tabs.main.wowCubes"}).setUnlockedState(()=>e.achievements[141]>0).setType(7).makeDraggable().makeRemoveable(),new It({class:"chal11",id:"traitstab",i18n:"tabs.main.corruption"}).setUnlockedState(()=>e.challengecompletions[11]>0).setType(8).makeDraggable().makeRemoveable(),new It({class:"singularity",id:"singularitytab",i18n:"tabs.main.singularity"}).setUnlockedState(()=>e.highestSingularityCount>0).setType(9).makeDraggable().makeRemoveable(),new It({id:"settingstab",i18n:"tabs.main.settings"}).setType(10).makeDraggable(),new It({class:"reincarnationunlock",id:"shoptab",i18n:"tabs.main.shop"}).setUnlockedState(()=>e.unlocks.reincarnate||e.highestSingularityCount>0).setType(11).makeDraggable().makeRemoveable(),new It({class:"isEvent",id:"eventtab",i18n:"tabs.main.unsmith"}).setUnlockedState(()=>i.isEvent).setType(12).makeDraggable().makeRemoveable(),new It({id:"pseudoCoinstab",i18n:"tabs.main.purchase"}).setType(13).makeDraggable());var Ci=(t=1,r=!1)=>{let n=t===1?mt.getNextTab():mt.getPreviousTab();for(;!(n!=null&&n.isUnlocked());)n=t===1?mt.getNextTab(n):mt.getPreviousTab(n);r?Be(n.getType(),{step:t}):xn(n.getType(),t)},xn=(t,r)=>{var a;if(r===1)mt.setNextTab();else if(r===-1)mt.setPreviousTab();else for(;mt.getCurrentTab().getType()!==t;)mt.setNextTab();for(;!mt.getCurrentTab().isUnlocked();)r===1||r===void 0?mt.setNextTab():mt.setPreviousTab();i.currentTab=mt.getCurrentTab().getType(),e.tabnumber=0,Ve(),Qh(),(a=document.activeElement)==null||a.blur();let n=Hh[i.currentTab].subTabList;for(let s=0;s<n.length;s++){let o=n[s].buttonID;if(o&&ff(o)&&l(o).classList.contains("active-subtab")){e.subtabNumber=s;break}}},Be=(t,{page:r,step:n})=>{var c;let a=mt.getCurrentTab();a.getType()!==t&&(xn(a.getType()),a=mt.getCurrentTab());let s=a.getSubTabs();if(!a.isUnlocked()||s.subTabList.length===0)return;r!==void 0?e.subtabNumber=Cl(r,0,s.subTabList.length-1):e.subtabNumber=Cl(e.subtabNumber+n,0,s.subTabList.length-1);let o=s.subTabList[e.subtabNumber];for(;!o.unlocked;)na(r===void 0),e.subtabNumber=Cl(e.subtabNumber+n,0,s.subTabList.length-1),o=s.subTabList[e.subtabNumber];if(o.unlocked){for(let p of s.subTabList){if(!p.buttonID)continue;let f=l(p.buttonID);p===o?f.classList.add("active-subtab"):f.classList.remove("active-subtab")}(c=s.tabSwitcher)==null||c.call(s)(o.subTabID),a.getType()===9&&r===3&&(e.visitedAmbrosiaSubtab=!0,i.ambrosiaCurrStats.ambrosiaGenerationSpeed=rt().value)}};function ih(t){let r=mt.getCurrentTab();for(;r.getType()!==t;)r=mt.setNextTab();return r.getSubTabs().subTabList.length}var i={runediv:[1.5,2,3,5,8,1,1],runeexpbase:[1,4,9,16,1e3,1e75,1e256],runeMaxLvl:4e4,upgradeCosts:[0,6,7,8,10,12,20,25,30,35,45,55,75,110,150,200,250,500,750,1e3,1500,2,3,4,5,6,7,10,13,20,30,150,400,800,1600,3200,1e4,2e4,5e4,1e5,2e5,1,2,3,5,6,7,42,65,87,150,300,500,1e3,1500,2e3,3e3,6e3,12e3,25e3,75e3,0,1,2,2,3,5,6,10,15,22,30,37,45,52,60,1900,2500,3e3,7482,21397,3,6,9,12,15,20,30,6,8,8,10,13,60,1,2,4,8,16,25,40,12,16,20,30,50,500,1250,5e3,25e3,125e3,1500,7500,3e4,15e4,1e6,250,1e3,5e3,25e3,125e3,1e3,1e6,1e9,1e12,1e15],crystalUpgradesCost:[6,15,20,40,100,200,500,1e3],crystalUpgradeCostIncrement:[8,15,20,40,100,200,500,1e3],researchBaseCosts:[1e200,1,1,1,1,1,1,100,1e4,1e6,1e8,2,200,2e4,2e6,2e8,4e4,4e8,10,1e5,1e9,100,100,1e4,2e3,2e5,40,200,50,5e3,2e7,777,7777,5e4,5e5,5e6,2e3,2e6,2e9,1e5,1e9,1,1,5,25,125,2,5,320,1280,25e8,10,2e3,4e5,8e7,2e9,5,400,1e4,3e6,9e8,100,2500,100,2e3,2e5,1,20,3e3,4e5,5e7,10,40,160,1e3,1e4,4e9,7e9,1e10,12e9,15e9,1e12,1e13,3e12,2e13,2e13,2e14,6e14,2e15,6e15,2e16,1e16,2e16,2e17,4e17,1e18,1e13,1e14,1e15,7777e15,7777e17,1e16,3e16,1e17,3e17,1e20,1e18,3e18,1e19,3e19,1e20,1e20,2e20,4e20,8e20,1e21,2e21,4e21,8e21,2e22,4e22,32e20,2e23,4e23,1e21,7777e29,5e8,5e12,5e16,5e20,5e24,1e25,2e25,4e25,8e25,1e26,4e26,8e26,1e27,2e27,1e28,5e9,5e15,5e21,5e27,1e28,1e29,2e29,4e29,8e29,1e27,2e30,4e30,8e30,1e31,2e31,5e31,1e32,2e32,4e32,8e32,1e33,2e33,4e33,8e33,1e34,3e34,1e35,3e35,6e35,1e36,3e36,1e37,3e37,1e38,3e38,1e39,3e39,1e40,3e40,1e50,3e41,1e42,3e42,6e42,1e43,3e43,1e44,3e44,1e45,3e45,2e46,6e46,2e47,6e47,1e64,6e48,2e49,1e50,1e51,4e56],researchMaxLevels:[0,1,1,1,1,1,10,10,10,10,10,10,10,10,10,10,10,10,1,1,1,25,25,25,20,20,10,10,10,10,10,12,12,10,10,10,10,10,10,1,1,1,1,1,1,1,1,1,1,1,1,10,10,10,10,10,20,20,20,20,20,1,5,4,5,5,10,10,10,10,10,1,1,1,1,1,10,50,50,50,50,10,1,20,20,20,20,20,20,20,10,20,20,20,20,1,20,5,5,3,2,10,10,10,10,1,10,10,20,25,25,50,50,50,50,100,10,10,10,100,100,25,25,25,1,5,10,10,10,10,1,10,10,10,1,1,25,25,25,15,1,10,10,10,10,1,10,1,6,10,1,25,25,1,15,1,10,10,10,1,1,10,10,10,10,1,25,25,25,15,1,10,10,10,1,1,10,3,6,10,5,25,25,1,15,1,20,20,20,1,1,20,1,50,50,10,25,25,25,15,1e5],ticker:0,costDivisor:1,freeAccelerator:0,totalAccelerator:0,freeAcceleratorBoost:0,totalAcceleratorBoost:0,acceleratorPower:1.1,acceleratorEffect:new m(1),acceleratorEffectDisplay:new m(1),generatorPower:new m(1),freeMultiplier:0,totalMultiplier:0,multiplierPower:2,multiplierEffect:new m(1),challengeOneLog:3,freeMultiplierBoost:0,totalMultiplierBoost:0,globalCoinMultiplier:new m(1),totalCoinOwned:0,prestigeMultiplier:new m(1),buildingPower:1,reincarnationMultiplier:new m(1),coinOneMulti:new m(1),coinTwoMulti:new m(1),coinThreeMulti:new m(1),coinFourMulti:new m(1),coinFiveMulti:new m(1),globalCrystalMultiplier:new m(1),globalMythosMultiplier:new m(.01),grandmasterMultiplier:new m(1),atomsMultiplier:new m(1),mythosBuildingPower:1,challengeThreeMultiplier:new m(1),totalMythosOwned:0,prestigePointGain:new m(0),challengeFivePower:1/3,transcendPointGain:new m(0),reincarnationPointGain:new m(0),produceFirst:new m(0),produceSecond:new m(0),produceThird:new m(0),produceFourth:new m(0),produceFifth:new m(0),produceTotal:new m(0),produceFirstDiamonds:new m(0),produceSecondDiamonds:new m(0),produceThirdDiamonds:new m(0),produceFourthDiamonds:new m(0),produceFifthDiamonds:new m(0),produceDiamonds:new m(0),produceFirstMythos:new m(0),produceSecondMythos:new m(0),produceThirdMythos:new m(0),produceFourthMythos:new m(0),produceFifthMythos:new m(0),produceMythos:new m(0),produceFirstParticles:new m(0),produceSecondParticles:new m(0),produceThirdParticles:new m(0),produceFourthParticles:new m(0),produceFifthParticles:new m(0),produceParticles:new m(0),producePerSecond:new m(0),producePerSecondDiamonds:new m(0),producePerSecondMythos:new m(0),producePerSecondParticles:new m(0),uFourteenMulti:new m(1),uFifteenMulti:new m(1),tuSevenMulti:1,currentTab:0,researchfiller1:"Hover over the grid to get details about researches!",researchfiller2:"Level: ",ordinals:["first","second","third","fourth","fifth","sixth","seventh","eighth","ninth","tenth","eleventh","twelfth","thirteenth","fourteenth","fifteenth","sixteenth","seventeenth","eighteenth","nineteenth","twentieth"],cardinals:["one","two","three","four","five","six","seven","eight","nine","ten","eleven","twelve","thirteen","fourteen","fifteen","sixteen","seventeen","eighteen","nineteen","twenty","twentyone","twentytwo","twentythree","twentyfour","twentyfive","twentysix","twentyseven","twentyeight","twentynine","thirty","thirtyone","thirtytwo","thirtythree","thirtyfour"],challengeBaseRequirements:[10,20,60,100,200,125,500,7500,2e8,35e8],prestigeamount:1,taxdivisor:new m("1"),taxdivisorcheck:new m("1"),runemultiplierincrease:{one:1,two:1,three:1,four:1,five:1},mythosupgrade13:new m("1"),mythosupgrade14:new m("1"),mythosupgrade15:new m("1"),challengefocus:0,maxexponent:1e4,effectiveLevelMult:1,optimalOfferingTimer:600,optimalObtainiumTimer:3600,runeSum:0,globalAntMult:new m("1"),antMultiplier:new m("1"),antOneProduce:new m("1"),antTwoProduce:new m("1"),antThreeProduce:new m("1"),antFourProduce:new m("1"),antFiveProduce:new m("1"),antSixProduce:new m("1"),antSevenProduce:new m("1"),antEightProduce:new m("1"),antCostGrowth:[1e41,3,10,100,1e4,1e8,1e16,1e32],antUpgradeBaseCost:[100,100,1e3,1e3,1e5,1e6,1e8,1e11,1e15,1e20,1e40,1e100],antUpgradeCostIncreases:[10,10,10,10,100,100,100,100,1e3,1e3,1e3,1e100],bonusant1:0,bonusant2:0,bonusant3:0,bonusant4:0,bonusant5:0,bonusant6:0,bonusant7:0,bonusant8:0,bonusant9:0,bonusant10:0,bonusant11:0,bonusant12:0,rune1level:1,rune2level:1,rune3level:1,rune4level:1,rune5level:1,rune1Talisman:0,rune2Talisman:0,rune3Talisman:0,rune4Talisman:0,rune5Talisman:0,talisman1Effect:[null,0,0,0,0,0],talisman2Effect:[null,0,0,0,0,0],talisman3Effect:[null,0,0,0,0,0],talisman4Effect:[null,0,0,0,0,0],talisman5Effect:[null,0,0,0,0,0],talisman6Effect:[null,0,0,0,0,0],talisman7Effect:[null,0,0,0,0,0],talisman6Power:0,talisman7Quarks:0,runescreen:"runes",settingscreen:"settings",talismanResourceObtainiumCosts:[1e13,1e14,1e16,1e18,1e20,1e22,1e24],talismanResourceOfferingCosts:[100,1e4,1e5,1e6,1e7,1e8,1e9],talismanLevelCostMultiplier:[1,4,1e4,1e8,1e13,10,100],talismanPositiveModifier:[null,.75,1.5,2.25,3,3.75,4.5],talismanNegativeModifier:[null,0,0,0,0,0,0],commonTalismanEnhanceCost:[null,0,3e3,1e3,0,0,0,0],uncommonTalismanEnchanceCost:[null,0,1e4,3e3,1e3,0,0,0],rareTalismanEnchanceCost:[null,0,1e5,2e4,2e3,500,0,0],epicTalismanEnhanceCost:[null,0,2e6,2e5,2e4,2e3,1e3,0],legendaryTalismanEnchanceCost:[null,0,4e7,2e6,1e5,2e4,2500,200],mythicalTalismanEnchanceCost:[null,0,0,0,0,0,0,0],talismanRespec:1,obtainiumGain:0,mirrorTalismanStats:[null,1,1,1,1,1],antELO:0,effectiveELO:0,timeWarp:!1,blessingMultiplier:1,spiritMultiplier:1,runeBlessings:[0,0,0,0,0,0],runeSpirits:[0,0,0,0,0,0],effectiveRuneBlessingPower:[0,0,0,0,0,0],effectiveRuneSpiritPower:[0,0,0,0,0,0],blessingBaseCost:1e6,spiritBaseCost:1e20,triggerChallenge:0,prevReductionValue:-1,buildingSubTab:"coin",blessingbase:[null,1/500,1/5e3,1/2e3,1/750,1/200,1/1e4,1/5e3,1/10,1/1e4,1/1e3],blessingDRPower:[null,1/3,1/3,2/3,1/2,2/3,2,1/3,1/3,1/16,1/16],giftbase:[1/1e3,1/1e3,1/1e3,1/1e3,1/1e3,1/1e3,1/1e3,1/1e3,1/1e3,1/1e3],giftDRPower:[1/6,1/6,1/3,1/4,1/3,1,1/6,1/6,1/32,1/32],benedictionbase:[null,1/1e3,1/1e3,1/1e3,1/1e3,1/1e3,1/1e3,1/1e3,1/1e3,1/1e3,1/1e3],benedictionDRPower:[null,1/12,1/12,1/6,1/8,1/6,1/2,1/12,1/12,1/64,1/64],platonicCubeBase:[2/4e6,1.5/4e6,1/4e6,1/8e4,1/1e4,1/1e5,1/1e4,1/1e4],platonicDRPower:[1/5,1/5,1/5,1/5,1/16,1/16,1/4,1/8],cubeBonusMultiplier:[null,1,1,1,1,1,1,1,1,1,1],tesseractBonusMultiplier:[null,1,1,1,1,1,1,1,1,1,1],hypercubeBonusMultiplier:[null,1,1,1,1,1,1,1,1,1,1],platonicBonusMultiplier:[1,1,1,1,1,1,1,1],autoOfferingCounter:0,researchOrderByCost:[],viscosityPower:[1,.87,.8,.75,.7,.6,.54,.45,.39,.33,.3,.2,.1,.05,0,0,0],lazinessMultiplier:[1,1/3,1/10,1/40,1/200,1/1e5,1/1e7,1/1e10,1/1e13,1/1e16,1/1e20,1/1e25,1/1e35,1/1e50,1/1e65,1/1e80,1/1e100],hyperchallengedMultiplier:[1,1.2,1.5,1.7,3,5,8,13,21,34,55,100,400,1600,7777,18888,88888],illiteracyPower:[1,.8,.7,.6,.5,.3,.2,.15,.1,.06,.04,.02,.01,.005,0,0,0],deflationMultiplier:[1,.3,.1,.03,.01,1/1e6,1/1e8,1/1e10,1/1e12,1/1e15,1/1e18,1/1e25,1/1e35,1/1e50,1/1e77,0,0],extinctionMultiplier:[1,.92,.86,.8,.74,.65,.55,.5,.45,.4,.35,.3,.1,0,0,0,0],droughtMultiplier:[1,5,25,200,1e4,1e7,1e11,1e16,1e22,1e30,1e40,1e55,1e80,1e120,1e177,1e200,1e250],financialcollapsePower:[1,.9,.7,.6,.5,.37,.3,.23,.18,.15,.12,.09,.03,.01,.007,7e-4,7e-5],corruptionPointMultipliers:[1,3,4,5,6,7,7.75,8.5,9.25,10,10.75,11.5,12.25,13,16,20,25,33,35],ascendBuildingProduction:{first:new m("0"),second:new m("0"),third:new m("0"),fourth:new m("0"),fifth:new m("0")},freeUpgradeAccelerator:0,freeUpgradeMultiplier:0,acceleratorMultiplier:1,multiplierMultiplier:1,constUpgradeCosts:[null,1,13,17,237,316,4216,5623,74989,1e10,1e24],globalConstantMult:new m("1"),autoTalismanTimer:0,autoChallengeTimerIncrement:0,corruptionTrigger:1,challenge15Rewards:{cube1:1,ascensions:1,coinExponent:1,taxes:1,obtainium:1,offering:1,accelerator:1,multiplier:1,runeExp:1,runeBonus:1,cube2:1,transcendChallengeReduction:1,reincarnationChallengeReduction:1,antSpeed:1,bonusAntLevel:1,cube3:1,talismanBonus:1,globalSpeed:1,blessingBonus:1,constantBonus:1,cube4:1,spiritBonus:1,score:1,quarks:1,hepteractUnlocked:0,cube5:1,powder:1,exponent:1,freeOrbs:0,ascensionSpeed:1},autoResetTimers:{prestige:0,transcension:0,reincarnation:0,ascension:0},timeMultiplier:1,upgradeMultiplier:1,historyCountMax:20,isEvent:!1,shopEnhanceVision:!1,eventClicked:!1,ambrosiaTimer:0,TIME_PER_AMBROSIA:600,ambrosiaCurrStats:{ambrosiaAdditiveLuckMult:1,ambrosiaLuck:100,ambrosiaBlueberries:0,ambrosiaGenerationSpeed:1},currentSingChallenge:void 0},qh=G({},i);var r2={antspecies1:"Inceptus Formicidae",antspecies2:"Fortunae Formicidae",antspecies3:"Tributum Formicidae",antspecies4:"Celeritas Formicidae",antspecies5:"Multa Formicidae",antspecies6:"Sacrificium Formicidae",antspecies7:"Hic Formicidae",antspecies8:"Experientia Formicidae",antspecies9:"Praemoenio Formicidae",antspecies10:"Scientia Formicidae",antspecies11:"Phylacterium Formicidae",antspecies12:"Mortuus Est Formicidae"},Hd=()=>e.currentChallenge.ascension!==15?1e5+nr(499e5,(e.antUpgrades[1]+i.bonusant2)/5e3*500/499):1e-4*(1e5+nr(499e5,(e.antUpgrades[1]+i.bonusant2)/5e3*500/499)),n2=[()=>d(m.pow(1.12+1/1e3*e.researches[101],e.antUpgrades[1-1]+i.bonusant1),2),()=>d(Hd()),()=>d(.005+.995*Math.pow(.99,e.antUpgrades[3-1]+i.bonusant3),4),()=>d(100*(nr(20,(e.antUpgrades[4-1]+i.bonusant4)/1e3*20/19)-1),3),()=>d(100*(nr(40,(e.antUpgrades[5-1]+i.bonusant5)/1e3*40/39)-1),3),()=>d(1+Math.pow(e.antUpgrades[6-1]+i.bonusant6,.66),4),()=>d(Math.min(9999999,3*e.antUpgrades[7-1]+3*i.bonusant7),0,!0),()=>d(nr(999,1/1e4*Math.pow(e.antUpgrades[8-1]+i.bonusant8,1.1)),3),()=>d(1*Math.min(1e7,e.antUpgrades[9-1]+i.bonusant9),0,!0),()=>d(1+2*Math.pow((e.antUpgrades[10-1]+i.bonusant10)/50,.75),4),()=>d(1+2*(1-Math.pow(2,-(e.antUpgrades[11-1]+i.bonusant11)/125)),4),()=>d(Bt(2,e.antUpgrades[12-1]+i.bonusant12,69),4)],jh,Vh=t=>{cs(jh),jh=rr(()=>Fd(t),50)},Fd=t=>{if(i.currentTab!==6)return;let r=l("anttierdescription"),n=l("antprice"),a=l("antquantity"),s=l("generateant"),o="ants.costGalacticCrumbs",c="first",p;switch(r.textContent=u.t(`ants.descriptions.${t}`),t){case 1:o="ants.costParticles",c="first",p=d(i.antOneProduce,5);break;case 2:c="second",p=d(i.antTwoProduce,5);break;case 3:c="third",p=d(i.antThreeProduce,5);break;case 4:c="fourth",p=d(i.antFourProduce,5);break;case 5:c="fifth",p=d(i.antFiveProduce,5);break;case 6:c="sixth",p=d(i.antSixProduce,5);break;case 7:c="seventh",p=d(i.antSevenProduce,5);break;case 8:c="eighth",p=d(i.antEightProduce,5);break}s.textContent=u.t(`ants.generates.${t}`,{x:p}),n.textContent=u.t(o,{x:d(e[`${c}CostAnts`])}),a.textContent=u.t("ants.owned",{x:d(e[`${c}OwnedAnts`]),y:d(e[`${c}GeneratedAnts`],2)})},Pi=(t,r,n)=>(--r,t.times(m.pow(i.antCostGrowth[n-1],r)).add(1*r)),ho=(t,r,n)=>(--r,t.times(m.pow(i.antUpgradeCostIncreases[n-1],r))),Qd=(t,r,n)=>{let a=ba(e.antSacrificePoints);r=new m(r);let s=n===1?"reincarnationPoints":"antPoints",o=`${t}OwnedAnts`,c=e[o]+Ie(e[o]),p=c,f=Pi(r,p,n);for(;e[s].gte(f);)p=p*4,f=Pi(r,p,n);let g=Math.floor(p/8);for(;g>=Ie(p);)Pi(r,p-g,n).lte(e[s])?g=Math.floor(g/2):p=p-Math.max(Ie(p),g);e.antMax||c<p&&(p=c);let h=Math.max(p-6-Ie(p),c),b=Pi(r,h,n);for(;h<=p&&e[s].gte(b);)e[s]=e[s].sub(b),e[o]=h,h=h+Ie(h),b=Pi(r,h,n),e[`${t}CostAnts`]=b;e.reincarnationPoints.lt(0)&&(e.reincarnationPoints=new m("0")),e.antPoints.lt(0)&&(e.antPoints=new m("0")),ma();let y=[2,6,20,100,500,6666,77777];for(let C=0;C<y.length;C++)e.achievements[176+C]===0&&a>y[C]&&e[`${i.ordinals[C+1]}OwnedAnts`]>0&&F(176+C);e.firstOwnedAnts>69e6&&(e.firstOwnedAnts=69e6)},qd=(t,r,n)=>{if(e.currentChallenge.ascension!==11){t=new m(t);let a=e.antUpgrades[n-1]+Ie(e.antUpgrades[n-1]),s=a,o=ho(t,s,n);for(;e.antPoints.gte(o);)s=s*4,o=ho(t,s,n);let c=Math.floor(s/8);for(;c>=Ie(s);)ho(t,s-c,n).lte(e.antPoints)?c=Math.floor(c/2):s=s-Math.max(Ie(s),c);e.antMax||a<s&&(s=a);let p=Math.max(s-6-Ie(s),a),f=ho(t,p,n);for(;p<=s&&e.antPoints.gte(f);)e.antPoints=e.antPoints.sub(f),e.antUpgrades[n-1]=p,p=p+Ie(p),f=ho(t,p,n);er(),at(),ma(),r||jd(n),e.antUpgrades[12-1]===1&&n===12&&Ve()}},jd=t=>{let r=l("antspecies"),n=l("antlevelbonus"),a=l("antupgradedescription"),s=l("antupgradecost"),o=l("antupgradeeffect"),c=r2[`antspecies${t}`],p=u.t(`ants.upgrades.${t}`),f=i[`bonusant${t}`],g=e.currentChallenge.ascension===11?999:0;r.childNodes[0].textContent=`${c} Level ${d(e.antUpgrades[t-1])}`,n.textContent=` [+${d(Math.min(e.antUpgrades[t-1]+g,f))}]`,a.textContent=p,s.textContent=u.t("ants.costGalacticCrumbs",{x:d(m.pow(i.antUpgradeCostIncreases[t-1],e.antUpgrades[t-1]*i.extinctionMultiplier[e.usedCorruptions[10]]).times(i.antUpgradeBaseCost[t-1]))}),o.textContent=u.t(`ants.rewards.${t}`,{x:n2[t-1]()})},ba=t=>{let r=Math.pow(1+t/5e3,2);return r*=1+.2*Math.log(1+t)/Math.log(10),e.achievements[174]>0&&(r*=1+.4*Math.log(1+t)/Math.log(10)),Math.min(1e300,r)},Im=()=>{let t=Vd();l("antSacrificeSummary").style.display="block",l("ELO").innerHTML=u.t("ants.yourAntELO",{x:d(i.antELO,2),y:d(i.effectiveELO,2,!1)}),l("SacrificeMultiplier").innerHTML=u.t("ants.antSacMultiplier",{y:d(ba(e.antSacrificePoints),3,!1),x:d(ba(e.antSacrificePoints+t.antSacrificePoints),3,!1)}),l("SacrificeUpgradeMultiplier").innerHTML=u.t("ants.upgradeMultiplier",{x:d(i.upgradeMultiplier,3,!0)}),l("SacrificeTimeMultiplier").innerHTML=u.t("ants.timeMultiplier",{x:d(i.timeMultiplier,3,!0)}),l("antSacrificeOffering").textContent=`+${d(t.offerings)}`,l("antSacrificeObtainium").textContent=`+${d(t.obtainium)}`,e.challengecompletions[9]>0&&(l("antSacrificeTalismanShard").textContent=u.t("ants.elo",{x:d(t.talismanShards),y:500}),l("antSacrificeCommonFragment").textContent=u.t("ants.elo",{x:d(t.commonFragments),y:750}),l("antSacrificeUncommonFragment").textContent=u.t("ants.elo",{x:d(t.uncommonFragments),y:1e3}),l("antSacrificeRareFragment").textContent=u.t("ants.elo",{x:d(t.rareFragments),y:1500}),l("antSacrificeEpicFragment").textContent=u.t("ants.elo",{x:d(t.epicFragments),y:2e3}),l("antSacrificeLegendaryFragment").textContent=u.t("ants.elo",{x:d(t.legendaryFragments),y:3e3}),l("antSacrificeMythicalFragment").textContent=u.t("ants.elo",{x:d(t.mythicalFragments),y:5e3}))},uo=async(t=!1)=>{let r=!0;if(e.antPoints.gte("1e40")&&(!t&&e.toggles[32]&&(r=await Ne(u.t("ants.autoReset"))),r)){let n=e.antSacrificePoints,a=Vd();e.antSacrificePoints+=a.antSacrificePoints,e.runeshards+=a.offerings,e.currentChallenge.ascension!==14&&(e.researchPoints+=a.obtainium);let s={date:Date.now(),seconds:e.antSacrificeTimer,kind:"antsacrifice",offerings:a.offerings,obtainium:a.obtainium,antSacrificePointsBefore:n,antSacrificePointsAfter:e.antSacrificePoints,baseELO:i.antELO,effectiveELO:i.effectiveELO,crumbs:e.antPoints.toString(),crumbsPerSecond:i.antOneProduce.toString()};if(e.challengecompletions[9]>0&&(e.talismanShards=Math.min(1e300,e.talismanShards+a.talismanShards),e.commonFragments=Math.min(1e300,e.commonFragments+a.commonFragments),e.uncommonFragments=Math.min(1e300,e.uncommonFragments+a.uncommonFragments),e.rareFragments=Math.min(1e300,e.rareFragments+a.rareFragments),e.epicFragments=Math.min(1e300,e.epicFragments+a.epicFragments),e.legendaryFragments=Math.min(1e300,e.legendaryFragments+a.legendaryFragments),e.mythicalFragments=Math.min(1e300,e.mythicalFragments+a.mythicalFragments)),Md(),e.antSacrificeTimer=0,e.antSacrificeTimerReal=0,fr(),e.autoResearch>0&&e.autoResearchToggle){let o=e.autoResearch===200?.01:0;dn(e.autoResearch,!0,o)}ma(),Ht.emit("historyAdd","ants",s)}e.mythicalFragments>=1e11&&e.currentChallenge.ascension===14&&e.achievements[248]<1&&F(248)},Wh=()=>{let t=(o,c)=>e.antPoints.gte(ho(new m(i.antUpgradeBaseCost[o-1]),e.antUpgrades[o-1]+1,o).times(c)),r=[176,176,177,178,178,179,180,180,181,182,182,145],n=["100","100","1000","1000","1e5","1e6","1e8","1e11","1e15","1e20","1e40","1e100"];if(e.currentChallenge.ascension!==11)for(let o=1;o<=r.length;o++)(o===12?e.researches[r[o-1]]:e.achievements[r[o-1]])&&t(o,2)&&qd(n[o-1],!0,o);let a=[173,176,177,178,179,180,181,182],s=["1e700","3","100","10000","1e12","1e36","1e100","1e300"];for(let o=1;o<=a.length;o++){let c=o===1?e.reincarnationPoints:e.antPoints,p=o===1?1:2;e.achievements[a[o-1]]&&c.gte(e[`${i.ordinals[o-1]}CostAnts`].times(p))&&Qd(i.ordinals[o-1],s[o-1],o)}};function zh(t){var r;for(let n=0;n<227;n++)r=t[n]&2147483648|t[n+1]&2147483647,t[n]=t[n+397]^r>>>1^(r&1)*2567483615;for(let n=227;n<623;n++)r=t[n]&2147483648|t[n+1]&2147483647,t[n]=t[n-227]^r>>>1^(r&1)*2567483615;return r=t[623]&2147483648|t[0]&2147483647,t[623]=t[396]^r>>>1^(r&1)*2567483615,t}function a2(t){for(var r=Kh(19650218),n=t.length,a=1,s=0,o=624>n?624:n;o;o--){let c=r[a-1]^r[a-1]>>>30;r[a]=(r[a]^(((c&4294901760)>>>16)*1664525<<16)+(c&65535)*1664525)+t[s]+s,a++,s++,a>=624&&(r[0]=r[623],a=1),s>=n&&(s=0)}for(o=623;o;o--){let c=r[a-1]^r[a-1]>>>30;r[a]=(r[a]^(((c&4294901760)>>>16)*1566083941<<16)+(c&65535)*1566083941)-a,a++,a>=624&&(r[0]=r[623],a=1)}return r[0]=2147483648,r}function Kh(t){var r=new Array(624);r[0]=t;for(let n=1;n<624;n++){let a=r[n-1]^r[n-1]>>>30;r[n]=(((a&4294901760)>>>16)*1812433253<<16)+(a&65535)*1812433253+n}return r}function s2(t=Date.now()){var r;return Array.isArray(t)?r=a2(t):r=Kh(t),zh(r)}function Xh(t){var r=s2(t),n=0,a=()=>{let o;return n>=624&&(r=zh(r),n=0),o=r[n++],o^=o>>>11,o^=o<<7&2636928640,o^=o<<15&4022730752,o^=o>>>18,o>>>0},s={genrand_int32:()=>a(),genrand_int31:()=>a()>>>1,genrand_real1:()=>a()*(1/4294967295),genrand_real2:()=>a()*(1/4294967296),genrand_real3:()=>(a()+.5)*(1/4294967296),genrand_res53:()=>{let o=a()>>>5,c=a()>>>6;return(o*67108864+c)*(1/9007199254740992)},randomNumber:()=>a(),random31Bit:()=>s.genrand_int31(),randomInclusive:()=>s.genrand_real1(),random:()=>s.genrand_real2(),randomExclusive:()=>s.genrand_real3(),random53Bit:()=>s.genrand_res53()};return s}var Cs=t=>Xh(e.seed[t]++).random(),Wd=(t,r,n)=>Math.floor(Cs(t)*(n-r+1)+r),ya={PromoCodes:0,Ambrosia:1};var Xe=(t,r=0)=>{let n=t==="ascension"||t==="quarks"||t==="goldenQuarks"||t==="singularity"||t==="octeracts"||t==="autoPotion"||t==="ambrosia"?1:ot().mult;switch(t){case"prestige":{e.prestigecounter+=r*n;break}case"transcension":{e.transcendcounter+=r*n;break}case"reincarnation":{e.reincarnationcounter+=r*n;break}case"ascension":{let a=e.singularityUpgrades.oneMind.getEffect().bonus?10:en();e.ascensionCounter+=r*n*a,e.ascensionCounterReal+=r*n;break}case"singularity":{e.ascensionCounterRealReal+=r,e.singularityCounter+=r*n,e.insideSingularityChallenge?e.singChallengeTimer+=r*n:e.singChallengeTimer=0;break}case"quarks":{let a=Jt().maxTime;e.quarkstimer+=r*n,e.quarkstimer=e.quarkstimer>a?a:e.quarkstimer;break}case"goldenQuarks":{if(+e.singularityUpgrades.goldenQuarks3.getEffect().bonus==0)return;e.goldenQuarksTimer+=r*n,e.goldenQuarksTimer=e.goldenQuarksTimer>3600*168?3600*168:e.goldenQuarksTimer;break}case"octeracts":{if(e.singularityUpgrades.octeractUnlock.getEffect().bonus)e.octeractTimer+=r*n;else return;if(e.octeractTimer>=1){let a=e.octeractTimer-e.octeractTimer%1;e.octeractTimer%=1;let s=bn();if(e.wowOcteracts+=a*s,e.totalWowOcteracts+=a*s,e.highestSingularityCount>=160){let o=[160,173,185,194,204,210,219,229,240,249],c=1e-6,p=0;for(let f of o)e.highestSingularityCount>=f&&(p+=1);for(let f=0;f<a;f++){let g=e.quarksThisSingularity*c*p;e.goldenQuarks+=g*pr(!0),e.quarksThisSingularity-=g}}rc()}break}case"autoPotion":{if(e.highestSingularityCount<6)return;{let a=e.toggles[42]&&e.shopUpgrades.offeringPotion>0,s=e.toggles[43]&&e.shopUpgrades.obtainiumPotion>0;e.autoPotionTimer+=r*n,e.autoPotionTimerObtainium+=r*n;let o=180*Math.pow(1.03,-e.highestSingularityCount)/+e.octeractUpgrades.octeractAutoPotionSpeed.getEffect().bonus,c=a?Math.min(1,o)/20:o,p=s?Math.min(1,o)/20:o;if(e.autoPotionTimer>=c){let f=(e.autoPotionTimer-e.autoPotionTimer%c)/c;e.autoPotionTimer%=c,_n("offeringPotion",!0,f,a)}if(e.autoPotionTimerObtainium>=p){let f=(e.autoPotionTimerObtainium-e.autoPotionTimerObtainium%p)/p;e.autoPotionTimerObtainium%=p,_n("obtainiumPotion",!0,f,s)}}break}case"ambrosia":{if(i.ambrosiaCurrStats.ambrosiaGenerationSpeed===0||(i.ambrosiaTimer+=r*n,i.ambrosiaTimer<.125))break;let s=i.ambrosiaCurrStats.ambrosiaLuck,o=i.ambrosiaCurrStats.ambrosiaGenerationSpeed;e.blueberryTime+=Math.floor(8*i.ambrosiaTimer)/8*o,e.ultimateProgress+=Math.floor(8*i.ambrosiaTimer)/8*Math.min(o,Math.pow(1e3*o,1/2))*.02,i.ambrosiaTimer%=.125;let c=eo(),p=1/2+(3/5-1/2)*+(e.singularityChallenges.noAmbrosiaUpgrades.completions>=15)+(2/3-3/5)*+(e.singularityChallenges.noAmbrosiaUpgrades.completions>=19)+(3/4-2/3)*+(e.singularityChallenges.noAmbrosiaUpgrades.completions>=20);for(;e.blueberryTime>=c;){let f=Cs(ya.Ambrosia),g=Math.floor(s/100),h=f<s/100-Math.floor(s/100)?1:0,b=e.singularityChallenges.noAmbrosiaUpgrades.rewards.bonusAmbrosia?1:0,y=g+h+b;e.ambrosia+=y,e.lifetimeAmbrosia+=y,e.blueberryTime-=c,c=eo();let C=c/i.ambrosiaCurrStats.ambrosiaGenerationSpeed;i.ambrosiaTimer+=Math.min(C*p,y*.2*e.shopUpgrades.shopAmbrosiaAccelerator),c=eo()}e.ultimateProgress>1e6&&(e.ultimatePixels+=Math.floor(e.ultimateProgress/1e6),e.ultimateProgress-=1e6*Math.floor(e.ultimateProgress/1e6)),Js()}}},Jr=(t,r)=>{let n=t==="runeSacrifice"||t==="addOfferings"?1:ot().mult;switch(t){case"addObtainium":{if(e.currentChallenge.ascension===14)break;Zr();let a=pi();e.researchPoints=Math.min(1e300,e.researchPoints+a*r*n),i.currentTab===5&&ec();break}case"addOfferings":i.autoOfferingCounter+=r,e.runeshards=Math.min(1e300,e.runeshards+Math.floor(i.autoOfferingCounter)),i.autoOfferingCounter%=1;break;case"runeSacrifice":if(e.sacrificeTimer+=r,e.sacrificeTimer>=1&&isFinite(e.runeshards)&&e.runeshards>0){if(e.highestSingularityCount>=15){let a=4;e.toggles[36]&&(co("Blessings",100/a,!0),a--),e.toggles[37]&&(co("Spirits",100/a,!0),a--)}if(e.autoBuyFragment&&e.highestSingularityCount>=40&&e.cubeUpgrades[51]>0&&Nl(),e.cubeUpgrades[20]===1){let a=e.highestSingularityCount>=50?7:e.highestSingularityCount>=30?6:5,s=a-Ig(a);if(s>0){let o=Math.floor(e.runeshards/s/2);for(let c=0;c<a;c++)!jo(c+1)||e.runelevels[c]>=Mt(c+1)||ja(c+1,!0,o)}}else{let a=e.autoSacrifice;ja(a,!0,0)}e.sacrificeTimer%=1}break;case"antSacrifice":{e.antSacrificeTimer+=r*n,e.antSacrificeTimerReal+=r,(e.autoAntSacrificeMode===2?e.antSacrificeTimerReal:e.antSacrificeTimer)>=e.autoAntSacTimer&&e.antSacrificeTimerReal>.1&&e.researches[124]===1&&e.autoAntSacrifice&&e.antPoints.gte("1e40")&&uo(!0);break}}};var o2=new Intl.DateTimeFormat("EN-GB",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",hour12:!1,minute:"2-digit",second:"2-digit"}),i2=new Intl.DateTimeFormat("EN-GB",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",hour12:!0,minute:"2-digit",second:"2-digit"}),l2=36e5,wt=(t="default",r=!1)=>{let a=(r?i2:o2).formatToParts(new Date).filter(p=>p.type!=="literal").map(p=>({[p.type]:p.value})),s=Object.assign({},...a),o=r?` ${s.dayPeriod.toUpperCase()}`:"",c=["sun","mon","tue","wed","thu","fri","sat"];switch(t){case"default":return`${s.year}-${s.month}-${s.day} ${s.hour}_${s.minute}_${s.second}${o}`;case"short":return`${s.year}${s.month}${s.day}${s.hour}${s.minute}${s.second}`;case"year":return`${s.year}`;case"month":return`${s.month}`;case"day":return`${s.day}`;case"hour":return`${s.hour}`;case"minute":return`${s.minute}`;case"second":return`${s.second}`;case"period":return`${s.dayPeriod.toUpperCase()}`;case"weekday":return`${c[new Date().getUTCDay()]}`;default:return t}},Jh=t=>{let r=t.value.slice(0,100);e.saveString=r===""?T.saveString:$o(r),l("saveStringInput").value=e.saveString},c2=()=>{var t,r;return(r=(t=/[\d?=.]+/.exec(yr))==null?void 0:t[0])!=null?r:yr},Oi=()=>{let r=e.saveString.replace(/\$(.*?)\$/g,(n,a)=>{switch(a){case"VERSION":return`v${yr}`;case"TIME":return wt();case"TIME12":return wt(void 0,!0);case"SING":return`Singularity ${e.singularityCount}`;case"SINGS":return`${e.singularityCount}`;case"VER":return c2();case"TIMES":return wt("short");case"YEAR":return wt("year");case"Y":return wt("year");case"MONTH":return wt("month");case"M":return wt("month");case"DAY":return wt("day");case"D":return wt("day");case"HOUR":return wt("hour");case"H":return wt("hour");case"H12":return wt("hour",!0);case"MINUTE":return wt("minute");case"MI":return wt("minute");case"SECOND":return wt("second");case"S":return wt("second");case"PERIOD":return wt("period",!0);case"P":return wt("period",!0);case"WEEKDAY":return wt("weekday");case"W":return wt("weekday");case"DATE":return`${Date.now()}`;case"DATES":return`${Math.floor(Date.now()/1e3)}`;case"QUARK":return`${Math.floor(Number(e.worlds))}`;case"QUARKS":return d(Number(e.worlds));case"GQ":return`${Math.floor(e.goldenQuarks)}`;case"GQS":return d(e.goldenQuarks);case"STAGE":return ud(0);default:return`${a}`}});return $o(r)},Kd=async(t,r)=>{if(Pn("saveType").checked)try{await navigator.clipboard.writeText(t),l("exportinfo").textContent=u.t("importexport.copiedSave")}catch(a){let s=document.createElement("textarea");s.setAttribute("style","top: 0; left: 0; position: fixed;"),s.setAttribute("data-clipboard-text",t),document.body.appendChild(s),s.focus(),s.select();let o=new Zh.default(s),c=()=>{o.destroy(),document.body.removeChild(s)};o.on("success",()=>{l("exportinfo").textContent=u.t("importexport.copiedSave"),c()}),o.on("error",()=>{l("exportinfo").textContent=u.t("importexport.exportFailed"),B(u.t("importexport.unableCopySave")).finally(c)})}else{let a=document.createElement("a");a.setAttribute("href",`data:text/plain;charset=utf-8,${t}`),a.setAttribute("download",r),a.setAttribute("id","downloadSave"),document.body.appendChild(a),a.click(),document.body.removeChild(a),l("exportinfo").textContent=u.t("importexport.copiedFile")}setTimeout(()=>l("exportinfo").textContent="",15e3)},e0=async(t=!0)=>{var s;if(e.offlinetick=Date.now(),t){e.lastExportedSave=Date.now();let o=Jt(),c=1;c*=1+vr()/100,c*=e.highestSingularityCount>=100?1+e.highestSingularityCount/50:1,+e.singularityUpgrades.goldenQuarks3.getEffect().bonus>0&&(e.goldenQuarks+=Math.floor(e.goldenQuarksTimer/(3600/+e.singularityUpgrades.goldenQuarks3.getEffect().bonus))*c,e.goldenQuarksTimer=e.goldenQuarksTimer%(3600/+e.singularityUpgrades.goldenQuarks3.getEffect().bonus)),o.gain>=1&&(e.worlds.add(o.gain),e.quarkstimer=e.quarkstimer%(3600/o.perHour))}if(!await Ir())return;let n=(s=await zd.default.getItem("Synergysave2"))!=null?s:localStorage.getItem("Synergysave2"),a=typeof n=="string"?n:await(n==null?void 0:n.text());if(a===void 0)return B("How?");await Kd(a,Oi()),setTimeout(()=>l("exportinfo").textContent="",15e3)},t0=async()=>{await B(u.t("importexport.reloadDeletePrompt")),await Xd(!0)},Xd=async(t=!0)=>{if(!t){let n=window.crypto.getRandomValues(new Uint16Array(1))[0]%16,a=window.crypto.getRandomValues(new Uint16Array(1))[0]%16,s=await je(u.t("importexport.resetPrompt",{a:n,b:a,sum:n+a}));if(s===null||Number(s)!==n+a)return B(u.t("importexport.wrongAnswer"))}let r=Ks.safeParse(T);xn(0),Be(0,{page:0}),Be(3,{page:0}),Be(4,{page:0}),Be(7,{page:0}),Be(8,{page:0}),Be(9,{page:0}),Be(10,{page:0}),await us(Ns(JSON.stringify(r.data)),!0)},Zd=async(t,r)=>{let n=t.target,a=n.files[0],s="";if(typeof Blob.prototype.text=="function")s=await a.text();else{let o=new FileReader;o.readAsText(a),s=await new Promise(p=>{o.addEventListener("load",()=>p(o.result.toString()))})}return n.value="",f2(a.lastModified),r(s)},us=async(t,r=!1)=>{if(typeof t!="string")return B(u.t("importexport.unableImport"));let n=Yh.default.decompressFromBase64(t),a=JSON.parse(n||atob(t));if(a.exporttest==="YES!"||a.exporttest===!0||a.exporttest===!1&&!1||a.exporttest==="NO!"&&!1){let s=Ns(JSON.stringify(a));if(s===null)return B(u.t("importexport.unableImport"));Ei.canSave=!1;let o=new Blob([s],{type:"text/plain"});localStorage.setItem("Synergysave2",s),await zd.default.setItem("Synergysave2",o),await Yd(r),Ei.canSave=!0;return}else return B(u.t("importexport.loadTestInLive"))},Ui=t=>{let r=l("promocodeinfo"),n=`'${t}': `,a=0;switch(t){case"daily":e.dailyCodeUsed?n+=u.t("importexport.daily0Uses"):n+=u.t("importexport.daily1Uses");break;case"add":a=da(),a===0?n+=u.t("importexport.add0Uses",{x:0,y:d(Jl(),0)}):a!==1?n+=u.t("importexport.addUses",{x:a}):n+=u.t("importexport.add1Uses",{x:a});break;case"time":a=n0(),a===0?n+=u.t("importexport.add0Uses",{x:0,y:d(u2(),0)}):n+=u.t("importexport.timeMultiplier",{x:a,y:d(a0(),2,!0)});break;default:n=""}r.textContent=n},r0=async()=>{let t=await je(u.t("importexport.promocodePrompt"));jn(t)},jn=async(t,r)=>{let n=l("promocodeinfo");if(t===null)return B(u.t("importexport.comeBackSoon"));if(t==="23andme"&&!e.codes.get(48)&&i.isEvent)return e.dailyCodeUsed?(e.codes.set(48,!0),e.quarkstimer=Jt().maxTime,e.goldenQuarksTimer=3600*24,Xe("ascension",8*3600),e.dailyCodeUsed=!1,(e.challenge15Exponent>=1e15||e.highestSingularityCount>0)&&(e.hepteractCrafts.quark.CAP*=2,e.hepteractCrafts.quark.BAL+=Math.min(1e13,e.hepteractCrafts.quark.CAP/2)),e.highestSingularityCount>0&&(e.singularityUpgrades.goldenQuarks1.freeLevels+=1+Math.floor(e.highestSingularityCount/10),e.singularityUpgrades.goldenQuarks2.freeLevels+=1+Math.floor(e.highestSingularityCount/10),e.singularityUpgrades.goldenQuarks3.freeLevels+=1+Math.floor(e.highestSingularityCount/10),e.singularityUpgrades.octeractUnlock.getEffect().bonus&&(e.octeractUpgrades.octeractImprovedQuarkHept.freeLevels+=.05)),B(`Not sponsored by the company! Your Quark timer(s) have been replenished and you have been given 8 real life hours of Ascension progress! Your daily code has also been reset for you.
                      ${e.challenge15Exponent>=1e15||e.highestSingularityCount>0?"Derpsmith also hacked your save to expand Quark Hepteract for free, and (to a limit) automatically filled the extra amount! What a generous, handsome gigachad.":""}
                      ${e.highestSingularityCount>0?"You were also given free levels of GQ1-3!":""} 
                      ${e.singularityUpgrades.octeractUnlock.getEffect().bonus?"Finally, you were given a tiny amount of free Octeract Quark Hepteract Improver upgrade!":""}`)):B("This event code gives you another usage of code 'daily'. Please use that code and try this event code again.");if(t==="synergism2021"&&!e.codes.get(1))e.codes.set(1,!0),e.runeshards+=25,e.worlds.add(50),n.textContent=u.t("importexport.promocodes.synergism2021");else if(t===":unsmith:"&&e.achievements[243]<1)F(243),n.textContent=u.t("importexport.promocodes.unsmith");else if(t===":antismith:"&&e.achievements[244]<1)F(244),n.textContent=u.t("importexport.promocodes.antismith");else if(t==="Khafra"&&!e.codes.get(26)){e.codes.set(26,!0);let s=Math.floor(Cs(ya.PromoCodes)*(400-100+1)+100);e.worlds.add(s),n.textContent=u.t("importexport.promocodes.khafra",{x:e.worlds.applyBonus(s)})}else if(t==="alonso bribe"&&!e.codes.get(47)){let s=e.hepteractCrafts.quark;return s.UNLOCKED?s.computeActualCap()>=1e300?B(u.t("importexport.promocodes.bribe.overCapacity")):(e.codes.set(47,!0),s.CAP=Math.min(1e300,s.CAP*2),B(u.t("importexport.promocodes.bribe.thanks"))):B(u.t("importexport.promocodes.bribe.notUnlocked"))}else if(t.toLowerCase()==="daily"&&!e.dailyCodeUsed){e.dailyCodeUsed=!0;let s=u.t("importexport.promocodes.daily.message"),o=p2(),c=1+Math.min(49,e.highestSingularityCount),p=e.worlds.applyBonus(o.quarks*c);if(p>1e5&&(p=Math.pow(1e5,.75)*Math.pow(p,.25)),e.worlds.add(p,!1),e.goldenQuarks+=o.goldenQuarks,s+=`
${d(p,0,!0)} Quarks`,o.goldenQuarks>0&&(s+=`
${d(o.goldenQuarks,0,!0)} Golden Quarks`),await B(s),e.highestSingularityCount>0){let f={goldenQuarks3:{value:.2,pdf:y=>0<=y&&y<=1},goldenQuarks2:{value:.2,pdf:y=>1<=y&&y<=3},goldenQuarks1:{value:.2,pdf:y=>3<=y&&y<=10},singCubes3:{value:.25,pdf:y=>10<y&&y<=15},singObtainium3:{value:.25,pdf:y=>15<y&&y<=20},singOfferings3:{value:.25,pdf:y=>20<y&&y<=25},singCubes2:{value:.5,pdf:y=>25<y&&y<=80},singObtainium2:{value:.5,pdf:y=>80<y&&y<=140},singOfferings2:{value:.5,pdf:y=>140<y&&y<=200},singCubes1:{value:1,pdf:y=>200<y&&y<=400},singObtainium1:{value:1,pdf:y=>400<y&&y<=600},singOfferings1:{value:1,pdf:y=>600<y&&y<=800},ascensions:{value:1,pdf:y=>800<y&&y<=1e3}},g=3*Math.sqrt(e.highestSingularityCount);g+=+e.octeractUpgrades.octeractImprovedDaily.getEffect().bonus,g+=e.shopUpgrades.shopImprovedDaily2,g+=e.shopUpgrades.shopImprovedDaily3,g+=e.shopUpgrades.shopImprovedDaily4,g+=+e.singularityUpgrades.platonicPhi.getEffect().bonus*Math.min(50,e.shopUpgrades.shopSingularitySpeedup?100*e.singularityCounter/(3600*24):5*e.singularityCounter/(3600*24)),g+=+e.octeractUpgrades.octeractImprovedDaily3.getEffect().bonus,g+=+e.singularityChallenges.sadisticPrequel.rewards.extraFree,g*=+e.octeractUpgrades.octeractImprovedDaily2.getEffect().bonus,g*=1+ +e.octeractUpgrades.octeractImprovedDaily3.getEffect().bonus/200,g*=1+ +e.singularityChallenges.sadisticPrequel.rewards.freeUpgradeMult,e.highestSingularityCount>=200&&(g*=2),g*=_e.FREE_UPGRADE_PROMOCODE_BUFF,g=Math.floor(g);let h=Object.keys(e.singularityUpgrades).filter(y=>y in f);s=u.t("importexport.promocodes.daily.message2");let b={};for(let y=0;y<g;y++){let C=1e3*Cs(ya.PromoCodes);for(let x of h)f[x].pdf(C)&&(e.singularityUpgrades[x].freeLevels+=f[x].value,b[x]?b[x]+=f[x].value:b[x]=f[x].value)}if(e.highestSingularityCount>=20&&(e.singularityUpgrades.goldenQuarks1.freeLevels+=.2,b.goldenQuarks1?b.goldenQuarks1+=.2:b.goldenQuarks1=.2,e.singularityUpgrades.goldenQuarks2.freeLevels+=.2,b.goldenQuarks2?b.goldenQuarks2+=.2:b.goldenQuarks2=.2,e.singularityUpgrades.goldenQuarks3.freeLevels+=1,b.goldenQuarks3?b.goldenQuarks3+=1:b.goldenQuarks3=1),e.highestSingularityCount>=200&&e.highestSingularityCount<205){let y=Math.max(e.octeractUpgrades.octeractGain.level/100,Math.pow(e.octeractUpgrades.octeractGain.level*e.octeractUpgrades.octeractGain.freeLevels/1e3,.5));e.octeractUpgrades.octeractGain.freeLevels+=y,b.octeractGain=y}else if(e.highestSingularityCount>=205){let y=Math.max(e.octeractUpgrades.octeractGain.level/100,Math.pow(e.octeractUpgrades.octeractGain.level*e.octeractUpgrades.octeractGain.freeLevels/640,.5)),C=Math.max(e.octeractUpgrades.octeractGain2.level/100,Math.pow(Math.pow(e.octeractUpgrades.octeractGain2.level,2)*e.octeractUpgrades.octeractGain2.freeLevels/125e3,.333));e.octeractUpgrades.octeractGain.freeLevels+=y,e.octeractUpgrades.octeractGain2.freeLevels+=C,b.octeractGain=y,b.octeractGain2=C}for(let y of Object.keys(b))s+=d2(y,b[y]);await B(s)}return}else if(t.toLowerCase()==="add"){let s=da(),o=si().total,c=d(Jl(),0),p=ds().time;if(s<1){n.textContent=u.t("importexport.noAddCodes",{x:c});return}let f=null;if(r?f=r.toString():f=await je(u.t("importexport.useXAdds",{x:s}),s.toString()),f===null)return B(u.t("importexport.cancelAdd"));let g=Number(f);if(Number.isNaN(g)||!Number.isInteger(g)||g===0||g<0&&-g>=s)return B(u.t("general.validation.invalidNumber"));let h=dd(),b=g>0?Math.min(s,g):s+g,y=Math.floor(h.quarks*b),[C,x]=window.crypto.getRandomValues(new Uint8Array(2)),D=Math.max(Date.now()-(o-b)*p,e.rngCode+p*b),$=Math.floor((Date.now()-D)/p),L=Math.floor((p-(Date.now()-D-p*$))/1e3),E=b*h.ascensionTimer,H=e.shopUpgrades.calculator3>0?u.t("importexport.promocodes.add.calculator3",{x:d(E)}):"",I=b*h.gqTimer,N=e.shopUpgrades.calculator5>0?u.t("importexport.promocodes.add.calculator5",{x:d(I)}):"",k=b*h.octeractTime,A=e.shopUpgrades.calculator6>0?u.t("importexport.promocodes.add.calculator6",{x:d(k)}):"",Q=b*h.blueberryTime,J=e.shopUpgrades.calculator7>0?u.t("importexport.promocodes.add.calculator7",{x:d(Q,2,!0)}):"",M=e.highestSingularityCount>=150?u.t("importexport.promocodes.add.freeLevel",{x:d(.01*b,2),y:d(.05*b,2)}):"";if(e.shopUpgrades.calculator===Te.calculator.maxLevel)if(e.worlds.add(y),Xe("ascension",E),e.goldenQuarksTimer+=I,Xe("octeracts",k),Xe("ambrosia",Q),e.highestSingularityCount>=150&&(e.singularityUpgrades.goldenQuarks1.freeLevels+=.01*b,e.singularityUpgrades.goldenQuarks3.freeLevels+=.05*b),e.rngCode=D,r){Ui("add");return}else return B(u.t("importexport.promocodes.add.calculatorMaxed",{a:C,b:x,c:C+x,d:e.worlds.toString(y),e:H,f:N,g:A,h:M,i:J,j:$,k:L.toLocaleString()}));let j={w:e.worlds.toString(y),x:C,y:x,z:C+x},ae=e.shopUpgrades.calculator>0?u.t("importexport.promocodes.add.calculatorSolution",j):u.t("importexport.promocodes.add.calculatorPrompt",j),ge=await je(ae);if(ge===null)return B(u.t("importexport.promocodes.add.cancelled"));e.rngCode=D,C+x===+ge?(e.worlds.add(y),Xe("ascension",E),e.goldenQuarksTimer+=I,Xe("octeracts",k),Xe("ambrosia",Q),await B(u.t("importexport.promocodes.add.reward",{a:e.worlds.toString(y),b:H,c:N,d:A,e:$,f:L.toLocaleString(navigator.language)}))):await B(u.t("importexport.promocodes.add.wrong",{w:ge,x:C+x,y:$,z:L.toLocaleString(navigator.language)}))}else if(t==="sub"){let s=1+window.crypto.getRandomValues(new Uint16Array(1))[0]%16,o=Number(e.worlds);await B(u.t("importexport.promocodes.sub.subbed",{x:s})),o<s&&await B(u.t("importexport.promocodes.sub.gave",{x:s-o,y:s})),e.worlds.sub(o<s?s-o:s)}else if(t==="gamble"){if(typeof e.skillCode=="number"&&(Date.now()-e.skillCode)/1e3<3600)return n.textContent=u.t("importexport.promocodes.gamble.wait");if(!await Ne(u.t("importexport.promocodes.gamble.prompt")))return n.textContent=u.t("importexport.promocodes.gamble.cancelled");let o=Number(await je(u.t("importexport.promocodes.gamble.betPrompt")));if(Number.isNaN(o)||o<=0)return n.textContent=u.t("general.validation.zeroOrLess");if(o>1e4)return n.textContent=u.t("importexport.promocodes.gamble.cheaters");if(Number(e.worlds)<o)return n.textContent=u.t("general.validation.moreThanPlayerHas");if(Wd(ya.PromoCodes,1,6)===1){let p=o*.25;return e.worlds.add(p,!1),e.skillCode=Date.now(),n.textContent=u.t("importexport.promocodes.gamble.won",{x:p})}e.worlds.sub(o),n.textContent=u.t("importexport.promocodes.gamble.lost",{x:o})}else if(t==="time"){if(n0()===0)return B(u.t("importexport.promocodes.time.wait"));let o=a0(),c=Cs(ya.PromoCodes)*15e3,p=Date.now();if(await Ne(u.t("importexport.promocodes.time.confirm",{x:d(2500+125*e.cubeUpgrades[61],0,!0),y:d(o,2,!0)}))){let g=Math.abs(Date.now()-(p+c));if(e.promoCodeTiming.time=Date.now(),g<=2500+125*e.cubeUpgrades[61]){let h=Math.floor(Math.min(1e3,125+25*e.highestSingularityCount)*(1+e.cubeUpgrades[61]/50)),b=e.worlds.applyBonus(h),y=0;b>66666&&(b=Math.pow(b,.35)*Math.pow(66666,.65)),e.visitedAmbrosiaSubtab&&(y=1800*o),e.worlds.add(b*o,!1),i.ambrosiaTimer+=y;let C=u.t("importexport.promocodes.time.won",{x:d(b*o,0,!0)}),x=y>0?u.t("importexport.promocodes.time.ambrosia",{blueberryTime:y}):"";return B(C+x)}else return B(u.t("importexport.promocodes.time.lost"))}}else if(t==="spoiler"){let s=bn();return s>1?B(u.t("importexport.promocodes.spoiler.moreThan1",{x:d(s,2,!0)})):B(u.t("importexport.promocodes.spoiler.one",{x:d(1/s,2,!0)}))}else n.textContent=u.t("importexport.promocodes.invalid");await Ir()&&(Ht.emit("promocode",t),setTimeout(()=>n.textContent="",15e3))},Sc=()=>{let t=[10,16,25,36,49,64,81,100,121,144,169,196,225,235,240],r=0;for(let n=0;n<t.length&&e.highestSingularityCount>=t[n];n++)r+=1;return 1+r/5},si=()=>{let t=Math.floor(e.shopUpgrades.calculator5/10);e.shopUpgrades.calculator5===Te.calculator5.maxLevel&&(t+=6);let r=[24,2*e.shopUpgrades.calculator2,e.shopUpgrades.calculator4===Te.calculator4.maxLevel?32:0,t,e.shopUpgrades.calculator6===Te.calculator6.maxLevel?24:0,e.shopUpgrades.calculator7===Te.calculator7.maxLevel?48:0],n=xe(r);return n*=_e.ADD_CODE_CAP_BUFF,r.push(Sc()),n*=Sc(),{list:r,total:Math.ceil(n)}},ds=()=>{let t=[l2,1-.04*e.shopUpgrades.calculator4,1-Math.min(.6,(e.highestSingularityCount>=125?e.highestSingularityCount/800:0)+(e.highestSingularityCount>=200?e.highestSingularityCount/800:0)),e.runelevels[6]>0?.8:1,1/Sc()];return{list:t,time:Oe(t)}},da=()=>{let t=si().total,r=ds().time;return Math.floor(Math.min(t,(Date.now()-e.rngCode)/r))},Jl=()=>{let t=Math.floor(ds().time+e.rngCode-Date.now())/1e3;if(t>0)return t;if(da()===si().total)return 0;{let n=Date.now()-e.rngCode-ds().time*da();return Math.floor(ds().time-n)/1e3}},dd=()=>{let t=Sc(),r=1+.14*e.shopUpgrades.calculator;r*=e.shopUpgrades.calculator2===Te.calculator2.maxLevel?1.25:1,r/=t;let n=Math.max(.4+.02*e.shopUpgrades.calculator3,2/5+Wd(ya.PromoCodes,0,127)/640),a=.4+.02*e.shopUpgrades.calculator3,s=.6,o=r*Jt().perHour,c=e.singularityUpgrades.expertPack.level>0?1.2:1,p=60*e.shopUpgrades.calculator3*c/t,f=6*e.shopUpgrades.calculator5/t,g=e.shopUpgrades.calculator6/t,h=e.shopUpgrades.calculator7/t;return{quarks:n*o,minQuarks:a*o,maxQuarks:s*o,ascensionTimer:p,gqTimer:f,octeractTime:g,blueberryTime:h}},n0=()=>(Date.now()-e.promoCodeTiming.time)/1e3<900?0:1,u2=()=>900-(Date.now()-e.promoCodeTiming.time)/1e3,a0=()=>Math.min(24,(Date.now()-e.promoCodeTiming.time)/(1e3*3600)),d2=(t,r)=>{let n=t in te?u.t(`singularity.data.${t}.name`):u.t(`octeract.data.${t}.name`);return`
+${d(r,0,!0)} extra levels of '${n}'`},p2=()=>{let t=0,r=0,n=e.ascensionCount>0,a=e.highestSingularityCount>0;return(e.reincarnationCount>0||n||a)&&(t+=20),(e.challengecompletions[6]>0||n||a)&&(t+=20),(e.challengecompletions[7]>0||n||a)&&(t+=30),(e.challengecompletions[8]>0||n||a)&&(t+=30),(e.challengecompletions[9]>0||n||a)&&(t+=40),(e.challengecompletions[10]>0||n||a)&&(t+=60),(n||a)&&(t+=50),(e.challengecompletions[11]>0||a)&&(t+=50),(e.challengecompletions[12]>0||a)&&(t+=50),(e.challengecompletions[13]>0||a)&&(t+=50),(e.challengecompletions[14]>0||a)&&(t+=100),e.researches[200]===i.researchMaxLevels[200]&&(t+=250),e.cubeUpgrades[50]===1e5&&(t+=250),e.platonicUpgrades[5]>0&&(t+=250),e.platonicUpgrades[10]>0&&(t+=500),e.platonicUpgrades[15]>0&&(t+=750),e.challenge15Exponent>1e18&&(t+=Math.floor(1e3*(Math.log10(e.challenge15Exponent)-18))),e.platonicUpgrades[20]>0&&(t+=2500),t*=1+.05*e.shopUpgrades.shopImprovedDaily,t=Math.floor(t),a&&(r+=2+3*e.highestSingularityCount,r*=1+.2*e.shopUpgrades.shopImprovedDaily2,r*=1+.15*e.shopUpgrades.shopImprovedDaily3,r*=1+e.shopUpgrades.shopImprovedDaily4),{quarks:t,goldenQuarks:r}},f2=t=>{let r=localStorage.getItem("firstPlayed"),n=new Date(t);if(r===null){localStorage.setItem("firstPlayed",n.toISOString());return}new Date(r).getTime()>n.getTime()&&(e.firstPlayed=n.toISOString(),localStorage.setItem("firstPlayed",e.firstPlayed))};var dt=class extends Zn{constructor(n,a){var c,p,f,g;let s=u.t(`ambrosia.data.${a}.name`),o=u.t(`ambrosia.data.${a}.description`);super(fe(G({},n),{name:s,description:o}));this.ambrosiaInvested=0;this.blueberriesInvested=0;this.blueberryCost=n.blueberryCost,this.costFormula=n.costFormula,this.rewards=n.rewards,this.ambrosiaInvested=(c=n.ambrosiaInvested)!=null?c:0,this.blueberriesInvested=(p=n.blueberriesInvested)!=null?p:0,this.preRequisites=(f=n.prerequisites)!=null?f:void 0,this.cacheUpdates=(g=n.cacheUpdates)!=null?g:void 0}getCostTNL(){return this.level===this.maxLevel?0:this.costFormula(this.level,this.costPerLevel)}async buyLevel(n){let a=0,s=1,o=e.ambrosia;if(!this.checkPrerequisites())return B(u.t("ambrosia.prereqNotMetAlert"));if(n.shiftKey){s=1e6;let c=Number(await je(u.t("ambrosia.ambrosiaBuyPrompt",{amount:d(e.ambrosia,0,!0)})));if(isNaN(c)||!isFinite(c)||!Number.isInteger(c))return B(u.t("general.validation.finite"));if(c===-1)o=e.ambrosia;else{if(c<=0)return B(u.t("octeract.buyLevel.cancelPurchase"));o=c}o=Math.min(e.ambrosia,o)}if(this.maxLevel>0&&(s=Math.min(s,this.maxLevel-this.level)),s===0)return B(u.t("octeract.buyLevel.alreadyMax"));for(;s>0;){let c=this.getCostTNL();if(e.ambrosia<c||o<c)break;if(this.level===0){if(i.ambrosiaCurrStats.ambrosiaBlueberries-e.spentBlueberries<this.blueberryCost)return B(u.t("ambrosia.notEnoughBlueberries"));e.spentBlueberries+=this.blueberryCost,this.blueberriesInvested=this.blueberryCost}e.ambrosia-=c,o-=c,this.ambrosiaInvested+=c,this.level+=1,a+=1,s-=1}if(a===0)return B(u.t("octeract.buyLevel.cannotAfford"));if(a>1)return B(`${u.t("octeract.buyLevel.multiBuy",{n:d(a)})}`);this.updateUpgradeHTML(),this.updateCaches()}toString(){let n=this.getCostTNL(),a=this.maxLevel===-1?"":`/${d(this.maxLevel,0,!0)}`,s=this.maxLevel===this.level,o=s?"plum":"white",c=this.freeLevels>0?`<span style="color: orange"> [+${d(this.freeLevels,1,!0)}]</span>`:"";this.freeLevels>this.level&&(c=`${c}<span style="color: var(--maroon-text-color)">${u.t("general.softCapped")}</span>`);let p=n<=e.ambrosia,f=s?`<span style="color: plum"> ${u.t("general.maxed")}</span>`:p?`<span style="color: var(--green-text-color)"> ${u.t("general.affordable")}</span>`:`<span style="color: yellow"> ${u.t("octeract.buyLevel.cannotAfford")}</span>`,g=u.t("ambrosia.prerequisite");if(this.preRequisites!==void 0){for(let[h,b]of Object.entries(this.preRequisites)){let y=h,C=e.blueberryUpgrades[y].level>=b?"green":"red",x=e.blueberryUpgrades[y].level>=b?"":u.t("ambrosia.prereqNotMet");g=`${g}<span style="color:${C}"> ${e.blueberryUpgrades[y].name} lv.${b} ${x}</span> |`}g=g.slice(0,-1)}return`<span style="color: gold">${this.name}</span>
                ${g}
                <span style="color: lightblue">${this.description}</span>
                <span style="color: ${o}"> ${u.t("general.level")} ${d(this.level,0,!0)}${a}${c}</span>
                <span style="color: gold">${this.rewardDesc}</span>
                ${u.t("octeract.toString.costNextLevel")}: <span style="color:orange">${d(n,2,!0,!0,!0)}</span> ${u.t("ambrosia.ambrosia")} ${f}
                ${u.t("ambrosia.blueberryCost")} <span style="color:blue">${this.blueberryCost}</span>
                ${u.t("general.spent")} ${u.t("ambrosia.ambrosia")}: <span style="color:orange">${d(this.ambrosiaInvested,2,!0,!0,!0)}</span>`}updateUpgradeHTML(){l("singularityAmbrosiaMultiline").innerHTML=this.toString(),Js()}checkPrerequisites(){if(this.preRequisites!==void 0)for(let[n,a]of Object.entries(this.preRequisites)){let s=n;if(e.blueberryUpgrades[s].level<a)return!1}return!0}updateCaches(){if(this.cacheUpdates!==void 0)for(let n of this.cacheUpdates)n()}refund(){e.ambrosia+=this.ambrosiaInvested,this.ambrosiaInvested=0,this.level=0,e.spentBlueberries-=this.blueberriesInvested,this.blueberriesInvested=0}get rewardDesc(){let n=e.singularityChallenges.noAmbrosiaUpgrades.enabled||e.singularityChallenges.sadisticPrequel.enabled?0:this.level;return"desc"in this.rewards(0)?String(this.rewards(n).desc):"Contact Platonic or Khafra if you see this (should never occur!)"}get bonus(){let n=e.singularityChallenges.noAmbrosiaUpgrades.enabled||e.singularityChallenges.sadisticPrequel.enabled?0:this.level;return this.rewards(n)}},et={ambrosiaTutorial:{maxLevel:10,costPerLevel:1,blueberryCost:0,costFormula:(t,r)=>r*(Math.pow(t+1,2)-Math.pow(t,2)),rewards:t=>{let r=1+.05*t,n=1+.01*t;return{quarks:n,cubes:r,desc:String(u.t("ambrosia.data.ambrosiaTutorial.effect",{cubeAmount:d(100*(r-1),0,!0),quarkAmount:d(100*(n-1),0,!0)}))}}},ambrosiaQuarks1:{maxLevel:100,costPerLevel:1,blueberryCost:0,costFormula:(t,r)=>r*(Math.pow(t+1,3)-Math.pow(t,3)),rewards:t=>{let r=1+.01*t;return{quarks:r,desc:String(u.t("ambrosia.data.ambrosiaQuarks1.effect",{amount:d(100*(r-1),0,!0)}))}},prerequisites:{ambrosiaTutorial:10}},ambrosiaCubes1:{maxLevel:100,costPerLevel:1,blueberryCost:0,costFormula:(t,r)=>r*(Math.pow(t+1,3)-Math.pow(t,3)),rewards:t=>{let r=(1+.05*t)*Math.pow(1.1,Math.floor(t/10));return{cubes:r,desc:String(u.t("ambrosia.data.ambrosiaCubes1.effect",{amount:d(100*(r-1),2,!0)}))}},prerequisites:{ambrosiaTutorial:10}},ambrosiaLuck1:{maxLevel:100,costPerLevel:1,blueberryCost:0,costFormula:(t,r)=>r*(Math.pow(t+1,3)-Math.pow(t,3)),rewards:t=>{let r=2*t+12*Math.floor(t/10);return{ambrosiaLuck:r,desc:String(u.t("ambrosia.data.ambrosiaLuck1.effect",{amount:d(r)}))}},prerequisites:{ambrosiaTutorial:10},cacheUpdates:[()=>{i.ambrosiaCurrStats.ambrosiaLuck=nt().value}]},ambrosiaQuarkCube1:{maxLevel:25,costPerLevel:250,blueberryCost:1,costFormula:(t,r)=>r*(Math.pow(t+1,3)-Math.pow(t,3)),rewards:t=>{let n=1+5e-4*t*Math.floor(Math.pow(Math.log10(Number(e.worlds)+1)+1,2));return{cubes:n,desc:String(u.t("ambrosia.data.ambrosiaQuarkCube1.effect",{amount:d(100*(n-1),2,!0)}))}},prerequisites:{ambrosiaCubes1:30,ambrosiaQuarks1:20}},ambrosiaLuckCube1:{maxLevel:25,costPerLevel:250,blueberryCost:1,costFormula:(t,r)=>r*(Math.pow(t+1,3)-Math.pow(t,3)),rewards:t=>{let n=1+2e-4*t*i.ambrosiaCurrStats.ambrosiaLuck;return{cubes:n,desc:String(u.t("ambrosia.data.ambrosiaLuckCube1.effect",{amount:d(100*(n-1),2,!0)}))}},prerequisites:{ambrosiaCubes1:30,ambrosiaLuck1:20}},ambrosiaCubeQuark1:{maxLevel:25,costPerLevel:500,blueberryCost:1,costFormula:(t,r)=>r*(Math.pow(t+1,3)-Math.pow(t,3)),rewards:t=>{let n=1+1e-4*t*(Math.floor(Math.log10(Number(e.wowCubes)+1))+Math.floor(Math.log10(Number(e.wowTesseracts)+1))+Math.floor(Math.log10(Number(e.wowHypercubes)+1))+Math.floor(Math.log10(Number(e.wowPlatonicCubes)+1))+Math.floor(Math.log10(e.wowAbyssals+1))+Math.floor(Math.log10(e.wowOcteracts+1))+6);return{quarks:n,desc:String(u.t("ambrosia.data.ambrosiaCubeQuark1.effect",{amount:d(100*(n-1),2,!0)}))}},prerequisites:{ambrosiaQuarks1:30,ambrosiaCubes1:20}},ambrosiaLuckQuark1:{maxLevel:25,costPerLevel:500,blueberryCost:1,costFormula:(t,r)=>r*(Math.pow(t+1,3)-Math.pow(t,3)),rewards:t=>{let r=1e-4*t,n=Math.min(i.ambrosiaCurrStats.ambrosiaLuck,Math.pow(1e3,.5)*Math.pow(i.ambrosiaCurrStats.ambrosiaLuck,.5)),a=1+r*n;return{quarks:a,desc:String(u.t("ambrosia.data.ambrosiaLuckQuark1.effect",{amount:d(100*(a-1),2,!0)}))}},prerequisites:{ambrosiaQuarks1:30,ambrosiaLuck1:20}},ambrosiaCubeLuck1:{maxLevel:25,costPerLevel:100,blueberryCost:1,costFormula:(t,r)=>r*(Math.pow(t+1,3)-Math.pow(t,3)),rewards:t=>{let n=.02*t*(Math.floor(Math.log10(Number(e.wowCubes)+1))+Math.floor(Math.log10(Number(e.wowTesseracts)+1))+Math.floor(Math.log10(Number(e.wowHypercubes)+1))+Math.floor(Math.log10(Number(e.wowPlatonicCubes)+1))+Math.floor(Math.log10(e.wowAbyssals+1))+Math.floor(Math.log10(e.wowOcteracts+1))+6);return{ambrosiaLuck:n,desc:String(u.t("ambrosia.data.ambrosiaCubeLuck1.effect",{amount:d(n,2,!0)}))}},prerequisites:{ambrosiaLuck1:30,ambrosiaCubes1:20},cacheUpdates:[()=>{i.ambrosiaCurrStats.ambrosiaLuck=nt().value}]},ambrosiaQuarkLuck1:{maxLevel:25,costPerLevel:100,blueberryCost:1,costFormula:(t,r)=>r*(Math.pow(t+1,3)-Math.pow(t,3)),rewards:t=>{let n=.02*t*Math.floor(Math.pow(Math.log10(Number(e.worlds)+1)+1,2));return{ambrosiaLuck:n,desc:String(u.t("ambrosia.data.ambrosiaQuarkLuck1.effect",{amount:d(n,2,!0)}))}},prerequisites:{ambrosiaLuck1:30,ambrosiaQuarks1:20},cacheUpdates:[()=>{i.ambrosiaCurrStats.ambrosiaLuck=nt().value}]},ambrosiaQuarks2:{maxLevel:100,costPerLevel:500,blueberryCost:1,costFormula:(t,r)=>r*(Math.pow(t+1,2)-Math.pow(t,2)),rewards:t=>{let r=1+(.01+Math.floor(e.blueberryUpgrades.ambrosiaQuarks1.level/10)/1e3)*t;return{quarks:r,desc:String(u.t("ambrosia.data.ambrosiaQuarks2.effect",{amount:d(100*(r-1),0,!0)}))}},prerequisites:{ambrosiaQuarks1:40}},ambrosiaCubes2:{maxLevel:100,costPerLevel:500,blueberryCost:1,costFormula:(t,r)=>r*(Math.pow(t+1,2)-Math.pow(t,2)),rewards:t=>{let r=(1+(.06+6*(Math.floor(e.blueberryUpgrades.ambrosiaCubes1.level/10)/1e3))*t)*Math.pow(1.13,Math.floor(t/10));return{cubes:r,desc:String(u.t("ambrosia.data.ambrosiaCubes2.effect",{amount:d(100*(r-1),2,!0)}))}},prerequisites:{ambrosiaCubes1:40}},ambrosiaLuck2:{maxLevel:100,costPerLevel:250,blueberryCost:1,costFormula:(t,r)=>r*(Math.pow(t+1,2)-Math.pow(t,2)),rewards:t=>{let r=(3+.3*Math.floor(e.blueberryUpgrades.ambrosiaLuck1.level/10))*t+40*Math.floor(t/10);return{ambrosiaLuck:r,desc:String(u.t("ambrosia.data.ambrosiaLuck2.effect",{amount:d(r,1,!0)}))}},prerequisites:{ambrosiaLuck1:40},cacheUpdates:[()=>{i.ambrosiaCurrStats.ambrosiaLuck=nt().value}]},ambrosiaPatreon:{maxLevel:1,costPerLevel:1,blueberryCost:0,costFormula:(t,r)=>r*(Math.pow(t+1,2)-Math.pow(t,2)),rewards:t=>{let r=1+t*vr()/100;return{blueberryGeneration:r,desc:String(u.t("ambrosia.data.ambrosiaPatreon.effect",{amount:d(100*(r-1),0,!0)}))}},cacheUpdates:[()=>{i.ambrosiaCurrStats.ambrosiaGenerationSpeed=rt().value}]},ambrosiaObtainium1:{maxLevel:2,costPerLevel:5e4,blueberryCost:1,costFormula:(t,r)=>r*Math.pow(25,t),rewards:t=>{let r=i.ambrosiaCurrStats.ambrosiaLuck;return{luckMult:t,obtainiumMult:t*r,desc:String(u.t("ambrosia.data.ambrosiaObtainium1.effect",{amount:d(t*r/10,1,!0)}))}}},ambrosiaOffering1:{maxLevel:2,costPerLevel:5e4,blueberryCost:1,costFormula:(t,r)=>r*Math.pow(25,t),rewards:t=>{let r=i.ambrosiaCurrStats.ambrosiaLuck;return{luckMult:t,offeringMult:t*r,desc:String(u.t("ambrosia.data.ambrosiaOffering1.effect",{amount:d(t*r/10,1,!0)}))}}},ambrosiaHyperflux:{maxLevel:7,costPerLevel:33333,blueberryCost:3,costFormula:(t,r)=>(r+33333*Math.min(4,t))*Math.max(1,Math.pow(3,t-4)),rewards:t=>{let r=t;return{hyperFlux:Math.pow(1+1/100*r,e.platonicUpgrades[19]),desc:String(u.t("ambrosia.data.ambrosiaHyperflux.effect",{amount:d(100*(Math.pow(1+r/100,e.platonicUpgrades[19])-1))}))}}}},Tc=()=>{let t=8+_e.AMBROSIA_LOADOUT_SLOT_QOL;na(t<=16,"Yeah. Nice try.");for(let r=1;r<=16;r++){let n=l(`blueberryLoadout${r}`);r<=t?n.style.display="flex":n.style.display="none"}},Jd=async(t=!0)=>{for(let r of Object.keys(e.blueberryUpgrades)){let n=r;e.blueberryUpgrades[n].refund(),e.blueberryUpgrades[n].updateCaches()}if(t)return B(u.t("ambrosia.refund"))},g2=t=>{var f;if(Object.keys(t).length===0)return!1;let r=e.lifetimeAmbrosia,n=i.ambrosiaCurrStats.ambrosiaBlueberries,a=0,s=0,o=!0,c=!0,p=!0;for(let[g,h]of Object.entries(t)){let b=g;if(h<0||!Number.isFinite(h)||!Number.isInteger(h)||Number.isNaN(h)||e.blueberryUpgrades[b]===void 0)return!1;let y=Math.min(e.blueberryUpgrades[b].maxLevel,h),C=e.blueberryUpgrades[b].preRequisites;if(C!==void 0&&h>0)for(let[x,D]of Object.entries(C))((f=t[x])!=null?f:-1)<D&&(o=!1);if(y>0&&(s+=e.blueberryUpgrades[b].blueberryCost),y>0){let x=e.blueberryUpgrades[b].costFormula,D=e.blueberryUpgrades[b].costPerLevel,$=0;for(let L=0;L<h;L++)$+=x(L,D);a+=$}}return c=r>=a,p=n>=s,o&&c&&p},s0=()=>Object.fromEntries(Object.entries(e.blueberryUpgrades).map(([t,r])=>[t,r.level])),m2=t=>Object.fromEntries(Object.entries(t).map(([r,n])=>[r,Math.min(n,e.blueberryUpgrades[r].maxLevel)])),o0=()=>{let t=s0(),r=JSON.stringify(t),n=`BBTree-${Oi()}`;Kd(r,n)},i0=async t=>{if(!g2(t)){B(u.t("ambrosia.importTree.failure"));return}await Jd(!1);let n=m2(t);for(let[a,s]of Object.entries(n)){let o=a,{costFormula:c,costPerLevel:p,blueberryCost:f}=e.blueberryUpgrades[o];if(s>0){e.blueberryUpgrades[o].blueberriesInvested=f,e.spentBlueberries+=f;let g=0;for(let h=0;h<s;h++)g+=c(h,p);e.ambrosia-=g,e.blueberryUpgrades[o].ambrosiaInvested=g,e.blueberryUpgrades[o].level=s,e.blueberryUpgrades[o].updateCaches()}}B(u.t("ambrosia.importTree.success"))},l0=async t=>{if(typeof t!="string")return B(u.t("importexport.unableImport"));try{let r=JSON.parse(t);await i0(r),kc(0,r)}catch(r){return B(u.t("ambrosia.importTree.error"))}},c0=async(t,r)=>{e.blueberryLoadoutMode==="saveTree"&&await h2(t,r),e.blueberryLoadoutMode==="loadTree"&&await i0(r)},ep=()=>{var r,n;let t=Object.keys(et);for(let a of Object.keys(e.blueberryLoadouts)){let s=Number.parseInt(a,10),o=e.blueberryLoadouts[s],c=`bbPurchasedLoadout${s}`;for(let p of t)o[p]?(r=l(p).parentElement)==null||r.classList.add(c):(n=l(p).parentElement)==null||n.classList.remove(c)}},h2=async(t,r)=>{Object.keys(r).length>0&&!await Ne(u.t("ambrosia.loadouts.confirmation"))||(e.blueberryLoadouts[t]=s0(),kc(t,e.blueberryLoadouts[t]),ep())},kc=(t,r)=>{let n="";for(let[s,o]of Object.entries(r)){if(!o)continue;let c=s,p=e.blueberryUpgrades[c].name;n=`${n}<span style="color:orange">${p}</span> <span style="color:yellow">lv${o}</span> | `}Object.keys(r).length===0&&(n=u.t("ambrosia.loadouts.none"));let a=`${u.t("ambrosia.loadouts.loadout")} ${t}`;t===0&&(a=u.t("ambrosia.loadouts.imported")),l("singularityAmbrosiaMultiline").innerHTML=` ${a}
  ${n}`},u0=()=>{let r=Object.keys(e.blueberryLoadouts).length;if(r<16)for(let n=r+1;n<=16;n++)e.blueberryLoadouts[n]={}};var Lc={INSTANT_UNLOCK_1:0,INSTANT_UNLOCK_2:0,CUBE_BUFF:0,AMBROSIA_LUCK_BUFF:0,AMBROSIA_GENERATION_BUFF:0,GOLDEN_QUARK_BUFF:0,FREE_UPGRADE_PROMOCODE_BUFF:0,CORRUPTION_LOADOUT_SLOT_QOL:0,AMBROSIA_LOADOUT_SLOT_QOL:0,AUTO_POTION_FREE_POTIONS_QOL:0,OFFLINE_TIMER_CAP_BUFF:0,ADD_CODE_CAP_BUFF:0},_e={INSTANT_UNLOCK_1:0,INSTANT_UNLOCK_2:0,CUBE_BUFF:1,AMBROSIA_LUCK_BUFF:0,AMBROSIA_GENERATION_BUFF:1,GOLDEN_QUARK_BUFF:1,FREE_UPGRADE_PROMOCODE_BUFF:1,CORRUPTION_LOADOUT_SLOT_QOL:0,AMBROSIA_LOADOUT_SLOT_QOL:0,AUTO_POTION_FREE_POTIONS_QOL:0,OFFLINE_TIMER_CAP_BUFF:1,ADD_CODE_CAP_BUFF:1},d0=async()=>{let r=await(await fetch("https://synergism.cc/stripe/upgrades")).json();for(let n of Object.keys(Lc))Lc[n]=0,tp(n,0);for(let n of r.playerUpgrades)Lc[n.internalName]=n.level,tp(n.internalName,n.level)},Nh=async(t,r)=>{Lc[t]=r,tp(t,r)},tp=(t,r)=>{switch(t){case"INSTANT_UNLOCK_1":_e.INSTANT_UNLOCK_1=r>0?1:0;break;case"INSTANT_UNLOCK_2":_e.INSTANT_UNLOCK_2=r>0?1:0;break;case"CUBE_BUFF":_e.CUBE_BUFF=1+r*.06;break;case"AMBROSIA_LUCK_BUFF":_e.AMBROSIA_LUCK_BUFF=r*20;break;case"AMBROSIA_GENERATION_BUFF":_e.AMBROSIA_GENERATION_BUFF=1+r*.05;break;case"GOLDEN_QUARK_BUFF":_e.GOLDEN_QUARK_BUFF=1+r*.04;break;case"FREE_UPGRADE_PROMOCODE_BUFF":_e.FREE_UPGRADE_PROMOCODE_BUFF=1+r*.02;break;case"CORRUPTION_LOADOUT_SLOT_QOL":_e.CORRUPTION_LOADOUT_SLOT_QOL=r,Ac(),Bi();break;case"AMBROSIA_LOADOUT_SLOT_QOL":_e.AMBROSIA_LOADOUT_SLOT_QOL=r,Tc();break;case"AUTO_POTION_FREE_POTIONS_QOL":_e.AUTO_POTION_FREE_POTIONS_QOL=r>0?1:0;break;case"OFFLINE_TIMER_CAP_BUFF":_e.OFFLINE_TIMER_CAP_BUFF=1+r;break;case"ADD_CODE_CAP_BUFF":_e.ADD_CODE_CAP_BUFF=1+r;break}},Gd=(t,r)=>{switch(t){case"INSTANT_UNLOCK_1":return String(u.t("pseudoCoins.upgradeEffects.INSTANT_UNLOCK_1",{descriptor:r>0?"":"NOT",amount:10*r}));case"INSTANT_UNLOCK_2":return String(u.t("pseudoCoins.upgradeEffects.INSTANT_UNLOCK_2",{descriptor:r>0?"":"NOT",amount:6*r}));case"CUBE_BUFF":return String(u.t("pseudoCoins.upgradeEffects.CUBE_BUFF",{amount:d(1+.06*r,2,!0)}));case"AMBROSIA_LUCK_BUFF":return String(u.t("pseudoCoins.upgradeEffects.AMBROSIA_LUCK_BUFF",{amount:20*r}));case"AMBROSIA_GENERATION_BUFF":return String(u.t("pseudoCoins.upgradeEffects.AMBROSIA_GENERATION_BUFF",{amount:d(1+.05*r,2,!0)}));case"GOLDEN_QUARK_BUFF":return String(u.t("pseudoCoins.upgradeEffects.GOLDEN_QUARK_BUFF",{amount:d(1+.04*r,2,!0)}));case"FREE_UPGRADE_PROMOCODE_BUFF":return String(u.t("pseudoCoins.upgradeEffects.FREE_UPGRADE_PROMOCODE_BUFF",{amount:d(1+.02*r,2,!0)}));case"CORRUPTION_LOADOUT_SLOT_QOL":return String(u.t("pseudoCoins.upgradeEffects.CORRUPTION_LOADOUT_SLOT_QOL",{amount:r}));case"AMBROSIA_LOADOUT_SLOT_QOL":return String(u.t("pseudoCoins.upgradeEffects.AMBROSIA_LOADOUT_SLOT_QOL",{amount:r}));case"AUTO_POTION_FREE_POTIONS_QOL":return String(u.t("pseudoCoins.upgradeEffects.AUTO_POTION_FREE_POTIONS_QOL",{descriptor:r>0?"":"NOT"}));case"OFFLINE_TIMER_CAP_BUFF":return String(u.t("pseudoCoins.upgradeEffects.OFFLINE_TIMER_CAP_BUFF",{amount:r+1}));case"ADD_CODE_CAP_BUFF":return String(u.t("pseudoCoins.upgradeEffects.ADD_CODE_CAP_BUFF",{amount:r+1}))}},_h=t=>{switch(t){case"INSTANT_UNLOCK_1":return{cost:"Cost: 400 PseudoCoins",effect:"Effect: +10 Levels"};case"INSTANT_UNLOCK_2":return{cost:"Cost: 600 PseudoCoins",effect:"Effect: +6 Levels"};case"CUBE_BUFF":return{cost:"Cost: 100/150/200/250/300 PseudoCoins",effect:"Effect: 1.06/1.12/1.18/1.24/1.30x Cubes"};case"AMBROSIA_LUCK_BUFF":return{cost:"Cost: 100/150/200/250/300 PseudoCoins",effect:"Effect: 20/40/60/80/100 Ambrosia Luck"};case"AMBROSIA_GENERATION_BUFF":return{cost:"Cost: 100/150/200/250/300 PseudoCoins",effect:"Effect: 1.05/1.10/1.15/1.20/1.25x Ambrosia Generation"};case"GOLDEN_QUARK_BUFF":return{cost:"Cost: 100/150/200/250/300 PseudoCoins",effect:"Effect: 1.04/1.08/1.12/1.16/1.20x Golden Quarks"};case"FREE_UPGRADE_PROMOCODE_BUFF":return{cost:"Cost: 100/150/200/250/300 PseudoCoins",effect:"Effect: 1.02/1.04/1.06/1.08/1.10x Free Upgrade Promocodes"};case"CORRUPTION_LOADOUT_SLOT_QOL":return{cost:"Cost: 125/per PseudoCoins",effect:"Effect: +1 Loadout Slot per level"};case"AMBROSIA_LOADOUT_SLOT_QOL":return{cost:"Cost: 125/per PseudoCoins",effect:"Effect: +1 Loadout Slot per level"};case"AUTO_POTION_FREE_POTIONS_QOL":return{cost:"Cost: 500 PseudoCoins",effect:"Effect: Auto Potion gives free potions"};case"OFFLINE_TIMER_CAP_BUFF":return{cost:"Cost: 400/600 PseudoCoins",effect:"Effect: 2x/3x Offline Time Cap"};case"ADD_CODE_CAP_BUFF":return{cost:"Cost: 400/600 PseudoCoins",effect:"Effect: 2x/3x Add Code Cap"}}};var fs=()=>{let t=0;return e.challengecompletions[11]>0&&(t+=5),e.challengecompletions[12]>0&&(t+=2),e.challengecompletions[13]>0&&(t+=2),e.challengecompletions[14]>0&&(t+=2),e.platonicUpgrades[5]>0&&(t+=1),e.platonicUpgrades[10]>0&&(t+=1),e.singularityUpgrades.platonicTau.getEffect().bonus&&(t=Math.max(13,t)),e.singularityUpgrades.corruptionFourteen.getEffect().bonus&&(t+=1),t+=+e.octeractUpgrades.octeractCorruption.getEffect().bonus,t},ps=t=>{l("corruptionDetails").style.visibility!=="visible"&&(l("corruptionDetails").style.visibility="visible"),l("corruptionSelectedPic").style.visibility!=="visible"&&(l("corruptionSelectedPic").style.visibility="visible"),i.corruptionTrigger=t;let r=t===2&&e.usedCorruptions[t]>=10?1+.04*e.platonicUpgrades[17]+2*Math.min(1,e.platonicUpgrades[17]):1,n=t===2&&e.prototypeCorruptions[t]>=10?1+.04*e.platonicUpgrades[17]+2*Math.min(1,e.platonicUpgrades[17]):1,a=e.singularityUpgrades.corruptionFifteen.level>0?1:0;a+=+e.singularityChallenges.oneChallengeCap.rewards.freeCorruptionLevel;let s=a>0?`[+${a}]`:"",o=[i.viscosityPower,i.lazinessMultiplier,i.hyperchallengedMultiplier,i.illiteracyPower,i.deflationMultiplier,i.extinctionMultiplier,i.droughtMultiplier,i.financialcollapsePower,[0]],c=["/CorruptViscocity.png","/CorruptSpatialDilation.png","/CorruptHyperchallenged.png","/CorruptScientificIlliteracy.png","/CorruptDeflation.png","/CorruptExtinction.png","/CorruptDrought.png","/CorruptFinancialCollapse.png"],p={name:u.t("corruptions.exitCorruption.name"),description:u.t("corruptions.exitCorruption.description"),current:u.t("corruptions.exitCorruption.current"),planned:u.t("corruptions.exitCorruption.planned"),multiplier:u.t("corruptions.exitCorruption.multiplier"),spiritContribution:"",image:`Pictures/${ze[e.iconSet][0]}/CorruptExit.png`};t<10&&(p={name:u.t(`corruptions.names.${t-1}`),description:u.t(`corruptions.descriptions.${t-1}`),current:u.t(`corruptions.currentLevel.${t-1}`,{level:d(e.usedCorruptions[t])+s,effect:d(o[t-2][e.usedCorruptions[t]],3)}),planned:u.t(`corruptions.prototypeLevel.${t-1}`,{level:d(e.prototypeCorruptions[t])+s,effect:d(o[t-2][e.prototypeCorruptions[t]],3)}),multiplier:u.t("corruptions.scoreMultiplier",{curr:d(Math.pow(i.corruptionPointMultipliers[e.usedCorruptions[t]+a],r),1),next:d(Math.pow(i.corruptionPointMultipliers[e.prototypeCorruptions[t]+a],n),1)}),spiritContribution:u.t("corruptions.spiritEffect",{curr:d(4*Math.pow(e.usedCorruptions[t]+a,2),1),next:d(4*Math.pow(e.prototypeCorruptions[t]+a,2),1)}),image:`Pictures/${ze[e.iconSet][0]}${c[t-2]}`}),l("corruptionName").textContent=p.name,l("corruptionDescription").textContent=p.description,l("corruptionLevelCurrent").textContent=p.current,l("corruptionLevelPlanned").textContent=p.planned,l("corruptionMultiplierContribution").textContent=p.multiplier,l("corruptionSpiritContribution").textContent=p.spiritContribution,l("corruptionSelectedPic").setAttribute("src",p.image),t<10&&(l(`corrCurrent${t}`).textContent=d(e.usedCorruptions[t]),l(`corrNext${t}`).textContent=d(e.prototypeCorruptions[t]))},so=()=>{for(let t=2;t<=9;t++){let r=l(`corrCurrent${t}`),n=l(`corrNext${t}`);r.textContent=d(e.usedCorruptions[t]),n.textContent=d(e.prototypeCorruptions[t])}},p0=()=>{let t=document.getElementsByClassName("corruptionStatRow");for(let r=0;r<t.length;r++){let n=t[r];for(let p=n.children.length-1;p>=1;p--)n.children[p].remove();let a=document.createElement("p");a.className="corrDesc";let s=document.createTextNode(u.t("corruptions.current"));a.appendChild(s);let o=document.createElement("span");o.id=`corrCurrent${r+2}`,o.textContent=`${e.usedCorruptions[r+2]}`,a.appendChild(o),s=document.createTextNode(u.t("corruptions.next")),a.appendChild(s),o=document.createElement("span"),o.id=`corrNext${r+2}`,o.textContent=`${e.prototypeCorruptions[r+2]}`,a.appendChild(o),n.appendChild(a);let c;c=document.createElement("button"),c.className="corrBtn corruptionMax",c.textContent=`+${u.t("corruptions.max")}`,c.addEventListener("click",()=>Gn(r+2,99)),n.appendChild(c),c=document.createElement("button"),c.className="corrBtn corruptionUp",c.textContent="+1",c.addEventListener("click",()=>Gn(r+2,1)),n.appendChild(c),c=document.createElement("button"),c.className="corrBtn corruptionDown",c.textContent="-1",c.addEventListener("click",()=>Gn(r+2,-1)),n.appendChild(c),c=document.createElement("button"),c.className="corrBtn corruptionReset",c.textContent=`-${u.t("corruptions.max")}`,c.addEventListener("click",()=>Gn(r+2,-99)),n.appendChild(c),n.addEventListener("click",()=>ps(r+2))}},Ac=()=>{let r=Pn("corruptionLoadoutTable");for(let a=r.rows.length-1;a>=1;a--)r.deleteRow(a);let n=8+_e.CORRUPTION_LOADOUT_SLOT_QOL;for(let a=0;a<n+1;a++){let s=r.insertRow();for(let o=0;o<=8;o++){let c=s.insertCell();c.className=`test${o}`,o===0?a===0?(c.textContent=u.t("corruptions.loadoutTable.next"),c.addEventListener("click",()=>void v2()),c.classList.add("corrLoadoutName"),c.title=u.t("corruptions.loadoutTable.firstRowTitle")):c.title=u.t("corruptions.loadoutTable.otherRowTitle",{value:a}):o<=8&&(a===0?c.textContent=e.prototypeCorruptions[o+1].toString():c.textContent=e.corruptionLoadouts[a][o+1].toString())}if(a===0){let o=s.insertCell(),c=document.createElement("button");c.className="corrImport",c.textContent=u.t("corruptions.loadoutTable.import"),c.addEventListener("click",()=>void b2()),o.appendChild(c),o.title=u.t("corruptions.importLoadoutInTextFormat"),o=s.insertCell(),c=document.createElement("button"),c.className="corrLoad",c.textContent=u.t("corruptions.loadoutTable.zero"),c.addEventListener("click",()=>bo(!1,a)),o.appendChild(c),o.title=u.t("corruptions.loadoutTable.zeroTitle")}else{let o=s.insertCell(),c=document.createElement("button");c.className="corrSave",c.textContent=u.t("corruptions.loadoutTable.save"),c.addEventListener("click",()=>bo(!0,a)),o.appendChild(c),o.title=u.t("corruptions.loadoutTable.saveTitle"),o=s.insertCell(),c=document.createElement("button"),c.className="corrLoad",c.textContent=u.t("corruptions.loadoutTable.load"),c.addEventListener("click",()=>bo(!1,a)),o.appendChild(c)}}},gs=(t=0)=>{let r=Pn("corruptionLoadoutTable").rows[t+1].cells;for(let n=1;n<r.length&&!(n>8);n++)r[n].textContent=(t===0?e.prototypeCorruptions[n+1]:e.corruptionLoadouts[t][n+1]).toString()},bo=(t=!0,r=1)=>{t?(e.corruptionLoadouts[r]=Array.from(e.prototypeCorruptions),gs(r)):(r===0?e.prototypeCorruptions=[0,0,0,0,0,0,0,0,0,0,0,0,0]:e.prototypeCorruptions=Array.from(e.corruptionLoadouts[r]),gs(),so())},rp=t=>{if(t.includes("/")&&t.split("/").length===13){let r=t.split("/").map(n=>Number(n));for(let n of r)if(!Number.isInteger(n)||Number.isNaN(n)||n<0||n>fs())return!1;return e.prototypeCorruptions=r,gs(),so(),!0}return!1};async function b2(){let t=await je(u.t("corruptions.importCorruptionsPrompt.import"));rp(`0/0/${t}/0/0/0`)||B(u.t("corruptions.importCorruptionsPrompt.importError"))}async function y2(t=0){let n=/^[\x00-\xFF]*$/,a=await je(u.t("corruptions.corruptionLoadoutName.loadoutPrompt",{loadNum:t+1,maxChars:9}));if(a){if(a.length>9)return B(u.t("corruptions.corruptionLoadoutName.errors.exceedsCharacterLimit"));if(n.test(a)){if(e.corruptionLoadoutNames[t]=a,Bi(),a==="crazy")return B(u.t("corruptions.corruptionLoadoutName.errors.crazyJoke"))}else return B(u.t("corruptions.corruptionLoadoutName.errors.regexError"))}else return B(u.t("corruptions.corruptionLoadoutName.errors.noName"))}var Bi=()=>{let t=Pn("corruptionLoadoutTable").rows,r=8+_e.CORRUPTION_LOADOUT_SLOT_QOL;for(let n=0;n<r;n++){let a=t[n+2].cells;a[0].textContent.length===0&&(a[0].addEventListener("click",()=>void y2(n)),a[0].classList.add("corrLoadoutName")),a[0].textContent=`${e.corruptionLoadoutNames[n]}:`}},v2=async()=>{let t=e.prototypeCorruptions.slice(2,10).join("/");"clipboard"in navigator?await navigator.clipboard.writeText(t).catch(r=>B(u.t("corruptions.loadoutExport.saveErrorNavigator",{message:r.message}))):B(u.t("corruptions.loadoutExport.saveErrorNavigator",{message:t}))},f0=()=>{let r=Object.keys(e.corruptionLoadouts).length;if(r<16)for(let n=r+1;n<=16;n++)e.corruptionLoadouts[n]=Array(13).fill(0),e.corruptionLoadoutNames.push(`Loadout ${n}`)},g0=()=>{let t=l("corruptionCleanseConfirm");t.style.visibility="visible",setTimeout(()=>t.style.visibility="hidden",1e4)},m0=()=>{let t=document.getElementsByClassName("corruptionStatRow");for(let o=0;o<t.length;o++)t[o].style.display="none";let r=document.getElementsByClassName("chal11Corruption"),n=document.getElementsByClassName("chal12Corruption"),a=document.getElementsByClassName("chal13Corruption"),s=document.getElementsByClassName("chal14Corruption");if(e.challengecompletions[11]>0||e.singularityUpgrades.platonicTau.getEffect().bonus)for(let o=0;o<r.length;o++)r[o].style.display="flex";if(e.challengecompletions[12]>0||e.singularityUpgrades.platonicTau.getEffect().bonus)for(let o=0;o<n.length;o++)n[o].style.display="flex";if(e.challengecompletions[13]>0||e.singularityUpgrades.platonicTau.getEffect().bonus)for(let o=0;o<a.length;o++)a[o].style.display="flex";if(e.challengecompletions[14]>0||e.singularityUpgrades.platonicTau.getEffect().bonus)for(let o=0;o<s.length;o++)s[o].style.display="flex"};function pc(t){switch(t){case 2:return 11;case 3:return 14;case 4:return 14;case 5:return 13;case 6:return 12;case 7:return 12;case 8:return 11;case 9:return 13;default:return 0}}var Ve=()=>{let t=document.getElementsByClassName("coinunlock1");for(let O=0;O<t.length;O++)t[O].style.display=e.unlocks.coinone?"block":"none";let r=document.getElementsByClassName("coinunlock2");for(let O=0;O<r.length;O++)r[O].style.display=e.unlocks.cointwo?"block":"none";let n=document.getElementsByClassName("coinunlock3");for(let O=0;O<n.length;O++)n[O].style.display=e.unlocks.cointhree?"block":"none";let a=document.getElementsByClassName("coinunlock4");for(let O=0;O<a.length;O++)a[O].style.display=e.unlocks.coinfour?"block":"none";let s=document.getElementsByClassName("prestigeunlock");for(let O=0;O<s.length;O++)s[O].parentElement.classList.contains("offlineStats")?s[O].style.display=e.unlocks.prestige?"flex":"none":s[O].style.display=e.unlocks.prestige?"block":"none";let o=document.getElementsByClassName("generationunlock");for(let O=0;O<o.length;O++)o[O].style.display=e.unlocks.generation?"block":"none";let c=document.getElementsByClassName("transcendunlock");for(let O=0;O<c.length;O++)c[O].parentElement.classList.contains("offlineStats")?c[O].style.display=e.unlocks.transcend?"flex":"none":c[O].style.display=e.unlocks.transcend?"block":"none";let p=document.getElementsByClassName("reincarnationunlock");for(let O=0;O<p.length;O++)p[O].parentElement.classList.contains("offlineStats")?p[O].style.display=e.unlocks.reincarnate?"flex":"none":p[O].style.display=e.unlocks.reincarnate?"block":"none";let f=document.getElementsByClassName("auto");for(let O=0;O<f.length;O++)f[O].style.display="none";let g=document.getElementsByClassName("reinrow1");for(let O=0;O<g.length;O++)e.researches[47]===1?g[O].style.display="block":g[O].style.display="none";let h=document.getElementsByClassName("reinrow2");for(let O=0;O<h.length;O++)e.researches[48]===1?h[O].style.display="block":h[O].style.display="none";let b=document.getElementsByClassName("reinrow3");for(let O=0;O<b.length;O++)e.researches[49]===1?b[O].style.display="block":b[O].style.display="none";let y=document.getElementsByClassName("reinrow4");for(let O=0;O<y.length;O++)e.researches[50]===1?y[O].style.display="block":y[O].style.display="none";let C=document.getElementsByClassName("chal6");for(let O=0;O<C.length;O++)e.achievements[113]===1?C[O].style.display="block":C[O].style.display="none";let x=document.getElementsByClassName("chal7");for(let O=0;O<x.length;O++)e.achievements[120]===1?x[O].style.display="block":x[O].style.display="none";let D=document.getElementsByClassName("chal7x10");for(let O=0;O<D.length;O++)e.achievements[124]===1?D[O].style.display="block":D[O].style.display="none";let $=document.getElementsByClassName("chal8");for(let O=0;O<$.length;O++)$[O].parentElement.classList.contains("offlineStats")?$[O].style.display=e.achievements[127]===1?"flex":"none":$[O].style.display=e.achievements[127]===1?"block":"none";let L=document.getElementsByClassName("chal9");for(let O=0;O<L.length;O++)e.achievements[134]===1?L[O].style.display="block":L[O].style.display="none";let E=document.getElementsByClassName("chal9x1");for(let O=0;O<E.length;O++)e.highestchallengecompletions[9]>0?E[O].style.display="block":E[O].style.display="none";let H=document.getElementsByClassName("chal10");for(let O=0;O<H.length;O++)e.achievements[141]===1?H[O].style.display="block":H[O].style.display="none";let I=document.getElementsByClassName("ascendunlock");for(let O=0;O<I.length;O++)I[O].parentElement.classList.contains("offlineStats")?I[O].style.display=e.ascensionCount>0?"flex":"none":I[O].style.display=e.ascensionCount>0?"block":"none";let N=document.getElementsByClassName("chal11");for(let O=0;O<N.length;O++)e.challengecompletions[11]>0?N[O].style.display="block":N[O].style.display="none";let k=document.getElementsByClassName("chal12");for(let O=0;O<k.length;O++)e.challengecompletions[12]>0?k[O].style.display="block":k[O].style.display="none";let A=document.getElementsByClassName("chal13");for(let O=0;O<A.length;O++)e.challengecompletions[13]>0?A[O].style.display="block":A[O].style.display="none";let Q=document.getElementsByClassName("chal14");for(let O=0;O<Q.length;O++)e.challengecompletions[14]>0?Q[O].style.display="block":Q[O].style.display="none";let J=document.getElementsByClassName("ascendunlockib");for(let O=0;O<J.length;O++)J[O].style.display=e.ascensionCount>0?"inline-block":"none";let M=document.getElementsByClassName("prestigeunlockib");for(let O=0;O<M.length;O++)M[O].style.display=e.unlocks.prestige?"inline-block":"none";let j=document.getElementsByClassName("research150");for(let O=0;O<j.length;O++)j[O].style.display=e.researches[150]>0?"block":"none";let ae=document.getElementsByClassName("cubeUpgrade10");for(let O=0;O<ae.length;O++)ae[O].style.display=e.cubeUpgrades[10]>0?"flex":"none";let ge=document.getElementsByClassName("cubeUpgrade19");for(let O=0;O<ge.length;O++)ge[O].style.display=e.cubeUpgrades[19]>0?"block":"none";let Je=document.getElementsByClassName("sacrificeAnts");for(let O of Array.from(Je))O.style.display=e.achievements[173]===1?"block":"none";let ut=document.getElementsByClassName("hepteracts");for(let O of Array.from(ut))O.style.display=e.challenge15Exponent>=1e15?"block":"none";let ht=document.getElementsByClassName("singularity");for(let O of Array.from(ht)){let St=Number(O.getAttribute("count"))||1;O.style.display=e.highestSingularityCount>=St?"block":"none"}let Ot=document.getElementsByClassName("isEvent");for(let O of Array.from(Ot))O.style.display=i.isEvent?"block":"none";hd();let xt=l("corruptionHepteracts");xt.style.display=e.achievements[255]>0?"block":"none";let Nt=document.getElementsByClassName("assortedCookies1"),ve=document.getElementsByClassName("assortedCookies2"),ue=document.getElementsByClassName("assortedCookies3"),le=document.getElementsByClassName("assortedCookies4");for(let O of Array.from(Nt))O.style.display=e.singularityUpgrades.cookies.getEffect().bonus?"block":"none";for(let O of Array.from(ve))O.style.display=e.singularityUpgrades.cookies2.getEffect().bonus?"block":"none";for(let O of Array.from(ue))O.style.display=e.singularityUpgrades.cookies3.getEffect().bonus?"block":"none";for(let O of Array.from(le))O.style.display=e.singularityUpgrades.cookies4.getEffect().bonus?"block":"none";let be=document.getElementsByClassName("goldenQuark3Upg");for(let O of Array.from(be))O.style.display=e.singularityUpgrades.goldenQuarks3.getEffect().bonus>0?"block":"none";e.upgrades[89]===1?(l("transcendautotoggle").style.display="block",l("transcendamount").style.display="block",l("autotranscend").style.display="block"):(l("transcendautotoggle").style.display="none",l("transcendamount").style.display="none",l("autotranscend").style.display="none"),e.achievements[38]===1?(l("rune2area").style.display="flex",l("runeshowpower2").style.display="block"):(l("rune2area").style.display="none",l("runeshowpower2").style.display="none"),e.achievements[43]===1?(l("prestigeautotoggle").style.display="block",l("prestigeamount").style.display="block",l("autoprestige").style.display="block"):(l("prestigeautotoggle").style.display="none",l("prestigeamount").style.display="none",l("autoprestige").style.display="none"),e.achievements[44]===1?(l("rune3area").style.display="flex",l("runeshowpower3").style.display="block"):(l("rune3area").style.display="none",l("runeshowpower3").style.display="none"),e.achievements[102]===1?(l("rune4area").style.display="flex",l("runeshowpower4").style.display="block"):(l("rune4area").style.display="none",l("runeshowpower4").style.display="none"),e.achievements[119]===1?l("talisman1area").style.display="flex":l("talisman1area").style.display="none",e.achievements[126]===1?l("talisman2area").style.display="flex":l("talisman2area").style.display="none",e.achievements[133]===1?l("talisman3area").style.display="flex":l("talisman3area").style.display="none",e.achievements[134]===1?(l("toggleRuneSubTab2").style.display="block",l("toggleRuneSubTab3").style.display="block"):(l("toggleRuneSubTab2").style.display="none",l("toggleRuneSubTab3").style.display="none"),e.achievements[140]===1?l("talisman4area").style.display="flex":l("talisman4area").style.display="none",e.achievements[147]===1?l("talisman5area").style.display="flex":l("talisman5area").style.display="none",e.achievements[173]===1?l("sacrificeAnts").style.display="block":l("sacrificeAnts").style.display="none",e.researches[39]>0?l("reincarnationCrystalInfo").style.display="block":l("reincarnationCrystalInfo").style.display="none",e.researches[40]>0?l("reincarnationMythosInfo").style.display="block":l("reincarnationMythosInfo").style.display="none",e.researches[46]>0?l("reincarnateautomation").style.display="block":l("reincarnateautomation").style.display="none",e.researches[82]>0?(l("rune5area").style.display="flex",l("runeshowpower5").style.display="block"):(l("rune5area").style.display="none",l("runeshowpower5").style.display="none"),e.researches[124]>0?(l("antSacrificeButtons").style.display="flex",l("autoAntSacrifice").style.display="block"):(l("antSacrificeButtons").style.display="none",l("autoAntSacrifice").style.display="none"),e.researches[124]>0||e.highestSingularityCount>0?l("toggleAutoSacrificeAnt").style.display="block":l("toggleAutoSacrificeAnt").style.display="none",e.researches[130]>0?l("toggleautofortify").style.display="block":l("toggleautofortify").style.display="none",e.researches[135]>0?l("toggleautoenhance").style.display="block":l("toggleautoenhance").style.display="none";for(let O=1;O<=5;O++)e.researches[190]>0?l(`tesseractAutoToggle${O}`).style.display="block":l(`tesseractAutoToggle${O}`).style.display="none";e.researches[190]>0?l("tesseractautobuytoggle").style.display="block":l("tesseractautobuytoggle").style.display="none",e.researches[190]>0?l("tesseractautobuymode").style.display="block":l("tesseractautobuymode").style.display="none",e.researches[190]>0?l("tesseractAmount").style.display="block":l("tesseractAmount").style.display="none",e.researches[190]>0?l("autotessbuyeramount").style.display="block":l("autotessbuyeramount").style.display="none",e.antUpgrades[11]>0||e.ascensionCount>0?l("talisman6area").style.display="flex":l("talisman6area").style.display="none",e.shopUpgrades.offeringAuto>0?l("toggleautosacrifice").style.display="block":l("toggleautosacrifice").style.display="none",e.cubeUpgrades[51]>0&&e.highestSingularityCount>=40?l("toggleautoBuyFragments").style.display="block":l("toggleautoBuyFragments").style.display="none",e.shopUpgrades.obtainiumAuto>0?l("toggleautoresearch").style.display="block":l("toggleautoresearch").style.display="none",l("toggleautoresearchmode").style.display=e.shopUpgrades.obtainiumAuto>0&&or()?"block":"none",Pc()?l("talisman7area").style.display="flex":l("talisman7area").style.display="none",e.cubeUpgrades[8]>0?l("reincarnateAutoUpgrade").style.display="block":l("reincarnateAutoUpgrade").style.display="none",Va()?(l("rune6area").style.display="flex",l("runeshowpower6").style.display="block"):(l("rune6area").style.display="none",l("runeshowpower6").style.display="none"),e.platonicUpgrades[20]>0?(l("rune7area").style.display="flex",l("runeshowpower7").style.display="block"):(l("rune7area").style.display="none",l("runeshowpower7").style.display="none"),e.highestSingularityCount>0?l("saveOffToggle").style.display="block":l("saveOffToggle").style.display="none",e.highestSingularityCount>=35?(l("openCubes").style.display="block",l("cubeOpensInput").style.display="block",l("openTesseracts").style.display="block",l("tesseractsOpensInput").style.display="block",l("openHypercubes").style.display="block",l("hypercubesOpensInput").style.display="block",l("openPlatonicCube").style.display="block",l("platonicCubeOpensInput").style.display="block"):(l("openCubes").style.display="none",l("cubeOpensInput").style.display="none",l("openTesseracts").style.display="none",l("tesseractsOpensInput").style.display="none",l("openHypercubes").style.display="none",l("hypercubesOpensInput").style.display="none",l("openPlatonicCube").style.display="none",l("platonicCubeOpensInput").style.display="none"),e.highestSingularityCount>=50&&e.singularityCount<e.highestSingularityCount||e.highestSingularityCount>=150?l("toggleAutoCubeUpgrades").style.display="block":l("toggleAutoCubeUpgrades").style.display="none",e.highestSingularityCount>=100&&e.singularityCount<e.highestSingularityCount||e.highestSingularityCount>=200?l("toggleAutoPlatonicUpgrades").style.display="block":l("toggleAutoPlatonicUpgrades").style.display="none",e.highestSingularityCount>0&&e.ascensionCount>0?l("settingpic6").style.display="block":l("settingpic6").style.display="none",e.highestSingularityCount>0&&e.challenge15Exponent>=1e15?l("heptnotificationpic").style.display="block":l("heptnotificationpic").style.display="none",l("warpAuto").style.display=e.shopUpgrades.autoWarp>0?"":"none";let me=document.getElementsByClassName("octeracts");for(let O of Array.from(me))O.style.display=e.singularityUpgrades.octeractUnlock.getEffect().bonus?"block":"none";let ke=document.getElementsByClassName("singChallenges");for(let O of Array.from(ke))O.style.display=e.highestSingularityCount>=25?"block":"none";l("toggleSingularitySubTab4").style.display=e.singularityChallenges.noSingularityUpgrades.completions>=1?"block":"none",l("challengesTabsToggle").style.display=e.highestSingularityCount>=25?"flex":"none",e.runelevels[6]>0||e.highestSingularityCount>0?l("singularitybtn").style.display="block":l("singularitybtn").style.display="none",e.highestSingularityCount>0&&e.ascensionCount>=1?l("totalQuarkCountStatisticSing").style.display="block":l("totalQuarkCountStatisticSing").style.display="none",l("ascensionStats").style.visibility=e.achievements[197]>0||e.highestSingularityCount>0?"visible":"hidden",l("ascHyperStats").style.display=e.challengecompletions[13]>0?"":"none",l("ascPlatonicStats").style.display=e.challengecompletions[14]>0?"":"none",l("ascHepteractStats").style.display=e.achievements[255]>0?"":"none";let Ye={toggle1:e.upgrades[81]===1,toggle2:e.upgrades[82]===1,toggle3:e.upgrades[83]===1,toggle4:e.upgrades[84]===1,toggle5:e.upgrades[85]===1,toggle6:e.upgrades[86]===1,toggle7:e.upgrades[87]===1,toggle8:e.upgrades[88]===1,toggle10:e.achievements[78]===1,toggle11:e.achievements[85]===1,toggle12:e.achievements[92]===1,toggle13:e.achievements[99]===1,toggle14:e.achievements[106]===1,toggle15:e.achievements[43]===1,toggle16:e.upgrades[94]===1,toggle17:e.upgrades[95]===1,toggle18:e.upgrades[96]===1,toggle19:e.upgrades[97]===1,toggle20:e.upgrades[98]===1,toggle21:e.upgrades[89]===1,toggle22:e.cubeUpgrades[7]===1,toggle23:e.cubeUpgrades[7]===1,toggle24:e.cubeUpgrades[7]===1,toggle25:e.cubeUpgrades[7]===1,toggle26:e.cubeUpgrades[7]===1,toggle27:e.researches[46]===1,coinAutoUpgrade:e.upgrades[91]===1,prestigeAutoUpgrade:e.upgrades[92]===1,transcendAutoUpgrade:e.upgrades[99]===1,generatorsAutoUpgrade:e.upgrades[90]===1,toggle9:e.unlocks.prestige,toggle28:e.prestigeCount>.5||e.reincarnationCount>.5,toggle29:e.transcendCount>.5||e.reincarnationCount>.5,toggle30:e.reincarnationCount>.5,toggle31:e.ascensionCount>0,toggle32:e.achievements[173]>0,toggle33:e.highestSingularityCount>0&&e.ascensionCount>0,toggle34:e.unlocks.coinfour,toggle35:e.challenge15Exponent>=1e15&&e.highestSingularityCount>0,toggle36:e.highestSingularityCount>=15,toggle37:e.highestSingularityCount>=15,toggle38:e.highestSingularityCount>0,toggle39:e.unlocks.prestige,toggle40:e.unlocks.prestige,toggle41:e.challengecompletions[11]>0,toggle42:e.highestSingularityCount>=6,toggle43:e.highestSingularityCount>=6};Object.keys(Ye).forEach(O=>{let St=l(O);if(St===null){console.error(`Automation unlock failed to find element with ID '${O}'.`);return}St.style.display=Ye[O]?"block":"none"}),m0()},Qh=()=>{var r,n;l("buildings").style.display="none",l("buildingstab").style.backgroundColor="",l("upgrades").style.display="none",l("upgradestab").style.backgroundColor="",l("settings").style.display="none",l("statistics").style.display="none",l("achievementstab").style.backgroundColor="",l("achievementstab").style.color="white",l("runes").style.display="none",l("runestab").style.backgroundColor="",l("challenges").style.display="none",l("challengetab").style.backgroundColor="",l("research").style.display="none",l("researchtab").style.backgroundColor="",l("shop").style.display="none",l("shoptab").style.backgroundColor="",l("ants").style.display="none",l("anttab").style.backgroundColor="",l("cubetab").style.backgroundColor="",l("traitstab").style.backgroundColor="",l("cubes").style.display="none",l("traits").style.display="none",l("singularity").style.display="none",l("singularitytab").style.backgroundColor="",l("event").style.display="none",l("eventtab").style.backgroundColor="",(r=document.getElementById("pseudoCoins"))==null||r.style.setProperty("display","none"),l("pseudoCoinstab").style.backgroundColor="";let t=l("settingstab");if(t.style.backgroundColor="",t.style.borderColor="white",i.currentTab===0&&(l("buildingstab").style.backgroundColor="orange",l("buildings").style.display="block"),i.currentTab===1&&(l("upgrades").style.display="block",l("upgradestab").style.backgroundColor="orange",l("upgradedescription").textContent=u.t("upgrades.hoverOverUpgrade")),i.currentTab===10){l("settings").style.display="block";let a=l("settingstab");a.style.backgroundColor="orange",a.style.borderColor="gold"}i.currentTab===2?(l("statistics").style.display="block",l("achievementstab").style.backgroundColor="white",l("achievementstab").style.color="black",l("achievementprogress").textContent=u.t("achievements.totalPoints",{x:d(e.achievementPoints),y:d(va),z:(100*e.achievementPoints/va).toPrecision(4)})):i.currentTab===3&&(l("runes").style.display="block",l("runestab").style.backgroundColor="blue",l("runeshowlevelup").textContent=u.t("runes.hover"),l("researchrunebonus").textContent=u.t("runes.thanksResearches",{percent:d(100*i.effectiveLevelMult-100,4,!0)}),tr(1,!1),tr(2,!1),tr(3,!1),tr(4,!1),tr(5,!1),tr(6,!1),tr(7,!1)),i.currentTab===4&&(l("challenges").style.display="block",l("challengetab").style.backgroundColor="purple"),i.currentTab===5&&(l("research").style.display="block",l("researchtab").style.backgroundColor="green"),i.currentTab===11&&(l("shop").style.display="block",l("shoptab").style.backgroundColor="limegreen"),i.currentTab===6&&(l("ants").style.display="block",l("anttab").style.backgroundColor="brown"),i.currentTab===7&&(l("cubes").style.display="flex",l("cubetab").style.backgroundColor="white"),i.currentTab===8&&(l("traits").style.display="flex",l("traitstab").style.backgroundColor="white"),i.currentTab===9&&(l("singularity").style.display="block",l("singularitytab").style.backgroundColor="lightgoldenrodyellow",Tu(),Lu()),i.currentTab===12&&(l("event").style.display="block",l("eventtab").style.backgroundColor="gold"),i.currentTab===13&&(Cc(),(n=document.getElementById("pseudoCoins"))==null||n.style.setProperty("display","unset"),l("pseudoCoinstab").style.backgroundColor="orange")},C2={[0]:Sm,[1]:Tm,[2]:km,[3]:Lm,[4]:Am,[5]:ec,[10]:Om,[11]:hd,[6]:Pm,[7]:tc,[8]:Em,[9]:Um,[12]:Bm,[13]:Rm},op=()=>{let t=["coins","runeshards","prestigePoints","transcendPoints","transcendShards","reincarnationPoints","worlds","researchPoints"],r=["coinDisplay","offeringDisplay","diamondDisplay","mythosDisplay","mythosshardDisplay","particlesDisplay","quarkDisplay","obtainiumDisplay"];for(let n=0;n<t.length;n++){let a=d(e[`${t[n]}`]),s=l(`${r[n]}`);s.textContent!==a&&(s.textContent=a)}w2(),C2[i.currentTab]()},h0=()=>{if(l("prestigebtn").style.backgroundColor=e.toggles[15]&&e.achievements[43]===1?"green":"",l("transcendbtn").style.backgroundColor=e.toggles[21]&&e.upgrades[89]>.5&&e.currentChallenge.transcension===0?"green":"",l("reincarnatebtn").style.backgroundColor=e.toggles[27]&&e.researches[46]>.5&&e.currentChallenge.transcension===0&&e.currentChallenge.reincarnation===0?"green":"",l("acceleratorboostbtn").style.backgroundColor=e.toggles[8]&&e.upgrades[88]>.5?"green":"",l("challengebtn").style.backgroundColor=e.currentChallenge.transcension===0?"":"purple",l("reincarnatechallengebtn").style.backgroundColor=e.currentChallenge.reincarnation===0?"":"purple",l("ascendChallengeBtn").style.backgroundColor=e.currentChallenge.ascension===0?"":"purple",l("ascendbtn").style.backgroundColor=e.autoAscend&&e.challengecompletions[11]>0&&e.cubeUpgrades[10]>0?"green":"",l("singularitybtn").style.filter=e.runelevels[6]>0?"":"contrast(1.25) sepia(1) grayscale(0.25)",e.toggles[33]&&e.highestSingularityCount===0&&(e.toggles[28]&&!e.unlocks.prestige&&(l("prestigebtn").style.boxShadow=e.coinsThisPrestige.gte(1e16)?"cyan 0px 0px 10px 2px":""),e.toggles[29]&&!e.unlocks.transcend&&(l("transcendbtn").style.boxShadow=e.coinsThisTranscension.gte(1e100)?"plum 0px 0px 10px 2px":""),e.toggles[30]&&!e.unlocks.reincarnate&&(l("reincarnatebtn").style.boxShadow=e.transcendShards.gte(1e300)?"greenyellow 0px 0px 10px 2px":""),e.toggles[31]&&e.ascensionCount===0&&(l("ascendbtn").style.boxShadow=e.challengecompletions[10]>0?"orange 0px 0px 10px 2px":"")),i.currentTab===0&&i.buildingSubTab==="coin"){let t=l("buycoin1"),r=l("buycoin2"),n=l("buycoin3"),a=l("buycoin4"),s=l("buycoin5"),o=l("buyaccelerator"),c=l("buymultiplier"),p=l("buyacceleratorboost");(!e.toggles[1]||e.upgrades[81]===0)&&e.coins.gte(e.firstCostCoin)?t.classList.add("buildingPurchaseBtnAvailable"):t.classList.remove("buildingPurchaseBtnAvailable"),(!e.toggles[2]||e.upgrades[82]===0)&&e.coins.gte(e.secondCostCoin)?r.classList.add("buildingPurchaseBtnAvailable"):r.classList.remove("buildingPurchaseBtnAvailable"),(!e.toggles[3]||e.upgrades[83]===0)&&e.coins.gte(e.thirdCostCoin)?n.classList.add("buildingPurchaseBtnAvailable"):n.classList.remove("buildingPurchaseBtnAvailable"),(!e.toggles[4]||e.upgrades[84]===0)&&e.coins.gte(e.fourthCostCoin)?a.classList.add("buildingPurchaseBtnAvailable"):a.classList.remove("buildingPurchaseBtnAvailable"),(!e.toggles[5]||e.upgrades[85]===0)&&e.coins.gte(e.fifthCostCoin)?s.classList.add("buildingPurchaseBtnAvailable"):s.classList.remove("buildingPurchaseBtnAvailable"),(!e.toggles[6]||e.upgrades[86]===0)&&e.coins.gte(e.acceleratorCost)?o.classList.add("buildingPurchaseBtnAvailable"):o.classList.remove("buildingPurchaseBtnAvailable"),(!e.toggles[7]||e.upgrades[87]===0)&&e.coins.gte(e.multiplierCost)?c.classList.add("buildingPurchaseBtnAvailable"):c.classList.remove("buildingPurchaseBtnAvailable"),(!e.toggles[8]||e.upgrades[88]===0)&&e.prestigePoints.gte(e.acceleratorBoostCost)?p.classList.add("buildingPurchaseBtnAvailable"):p.classList.remove("buildingPurchaseBtnAvailable")}if(i.currentTab===0&&i.buildingSubTab==="diamond"){let t=l("buydiamond1"),r=l("buydiamond2"),n=l("buydiamond3"),a=l("buydiamond4"),s=l("buydiamond5"),o=l("buycrystalupgrade1"),c=l("buycrystalupgrade2"),p=l("buycrystalupgrade3"),f=l("buycrystalupgrade4"),g=l("buycrystalupgrade5");(!e.toggles[10]||e.achievements[78]===0)&&e.prestigePoints.gte(e.firstCostDiamonds)?t.classList.add("buildingPurchaseBtnAvailable"):t.classList.remove("buildingPurchaseBtnAvailable"),(!e.toggles[11]||e.achievements[85]===0)&&e.prestigePoints.gte(e.secondCostDiamonds)?r.classList.add("buildingPurchaseBtnAvailable"):r.classList.remove("buildingPurchaseBtnAvailable"),(!e.toggles[12]||e.achievements[92]===0)&&e.prestigePoints.gte(e.thirdCostDiamonds)?n.classList.add("buildingPurchaseBtnAvailable"):n.classList.remove("buildingPurchaseBtnAvailable"),(!e.toggles[13]||e.achievements[99]===0)&&e.prestigePoints.gte(e.fourthCostDiamonds)?a.classList.add("buildingPurchaseBtnAvailable"):a.classList.remove("buildingPurchaseBtnAvailable"),(!e.toggles[14]||e.achievements[106]===0)&&e.prestigePoints.gte(e.fifthCostDiamonds)?s.classList.add("buildingPurchaseBtnAvailable"):s.classList.remove("buildingPurchaseBtnAvailable");let h=0;h+=Math.floor(i.rune3level/16*i.effectiveLevelMult)*100/100,e.upgrades[73]===1&&e.currentChallenge.reincarnation!==0&&(h+=10),e.achievements[79]<1?e.prestigeShards.gte(m.pow(10,i.crystalUpgradesCost[0]+i.crystalUpgradeCostIncrement[0]*Math.floor(Math.pow(e.crystalUpgrades[0]+.5-h,2)/2)))?o.style.backgroundColor="purple":o.style.backgroundColor="":o.style.backgroundColor="green",e.achievements[86]<1?e.prestigeShards.gte(m.pow(10,i.crystalUpgradesCost[1]+i.crystalUpgradeCostIncrement[1]*Math.floor(Math.pow(e.crystalUpgrades[1]+.5-h,2)/2)))?c.style.backgroundColor="purple":c.style.backgroundColor="":c.style.backgroundColor="green",e.achievements[93]<1?e.prestigeShards.gte(m.pow(10,i.crystalUpgradesCost[2]+i.crystalUpgradeCostIncrement[2]*Math.floor(Math.pow(e.crystalUpgrades[2]+.5-h,2)/2)))?p.style.backgroundColor="purple":p.style.backgroundColor="":p.style.backgroundColor="green",e.achievements[100]<1?e.prestigeShards.gte(m.pow(10,i.crystalUpgradesCost[3]+i.crystalUpgradeCostIncrement[3]*Math.floor(Math.pow(e.crystalUpgrades[3]+.5-h,2)/2)))?f.style.backgroundColor="purple":f.style.backgroundColor="":f.style.backgroundColor="green",e.achievements[107]<1?e.prestigeShards.gte(m.pow(10,i.crystalUpgradesCost[4]+i.crystalUpgradeCostIncrement[4]*Math.floor(Math.pow(e.crystalUpgrades[4]+.5-h,2)/2)))?g.style.backgroundColor="purple":g.style.backgroundColor="":g.style.backgroundColor="green"}if(i.currentTab===3){if(i.runescreen==="runes")for(let t=1;t<=7;t++)e.runeshards>.5?l(`activaterune${t}`).classList.add("runeButtonAvailable"):l(`activaterune${t}`).classList.remove("runeButtonAvailable");if(i.runescreen==="talismans"){let t=l("buyTalismanItem1"),r=l("buyTalismanItem2"),n=l("buyTalismanItem3"),a=l("buyTalismanItem4"),s=l("buyTalismanItem5"),o=l("buyTalismanItem6"),c=l("buyTalismanItem7"),p=[t,r,n,a,s,o,c];for(let f=0;f<p.length;f++)e.researchPoints>i.talismanResourceObtainiumCosts[f]&&e.runeshards>i.talismanResourceOfferingCosts[f]?p[f].classList.add("talisminBtnAvailable"):p[f].classList.remove("talisminBtnAvailable")}}if(i.currentTab===0&&i.buildingSubTab==="mythos")for(let t=1;t<=5;t++){let r=e.toggles[t+15],n=e[`${i.ordinals[t-1]}CostMythos`];(!r||!e.upgrades[93+t])&&e.transcendPoints.gte(n)?l(`buymythos${t}`).classList.add("buildingPurchaseBtnAvailable"):l(`buymythos${t}`).classList.remove("buildingPurchaseBtnAvailable")}if(i.currentTab===0&&i.buildingSubTab==="particle")for(let t=1;t<=5;t++){let r=e[`${i.ordinals[t-1]}CostParticles`];e.reincarnationPoints.gte(r)?l(`buyparticles${t}`).classList.add("buildingPurchaseBtnAvailable"):l(`buyparticles${t}`).classList.remove("buildingPurchaseBtnAvailable")}if(i.currentTab===0&&i.buildingSubTab==="tesseract"){for(let t=1;t<=5;t++){let r=e[`ascendBuilding${t}`].cost;Number(e.wowTesseracts)>=r?l(`buyTesseracts${t}`).classList.add("buildingPurchaseBtnAvailable"):l(`buyTesseracts${t}`).classList.remove("buildingPurchaseBtnAvailable")}for(let t=1;t<=8;t++)e.researches[175]>=1?(l(`buyConstantUpgrade${t}`).classList.remove("constUpgradeAvailable"),l(`buyConstantUpgrade${t}`).classList.add("constUpgradeAuto")):(l(`buyConstantUpgrade${t}`).classList.remove("constUpgradeAuto"),e.ascendShards.gte(m.pow(10,e.constantUpgrades[t]).times(i.constUpgradeCosts[t]))?l(`buyConstantUpgrade${t}`).classList.add("constUpgradeAvailable"):l(`buyConstantUpgrade${t}`).classList.remove("constUpgradeAvailable"));for(let t=9;t<=10;t++)e.researches[175]>=1||e.constantUpgrades[t]>=1?(l(`buyConstantUpgrade${t}`).classList.remove("constUpgradeAvailable"),l(`buyConstantUpgrade${t}`).classList.add("constUpgradeAuto")):(l(`buyConstantUpgrade${t}`).classList.remove("constUpgradeAuto"),e.ascendShards.gte(m.pow(10,e.constantUpgrades[t]).times(i.constUpgradeCosts[t]))?l(`buyConstantUpgrade${t}`).classList.add("constUpgradeAvailable"):l(`buyConstantUpgrade${t}`).classList.remove("constUpgradeAvailable"))}if(i.currentTab===6){e.reincarnationPoints.gte(e.firstCostAnts)?l("anttier1").classList.add("antTierBtnAvailable"):l("anttier1").classList.remove("antTierBtnAvailable");for(let t=2;t<=8;t++){let r=e[`${i.ordinals[t-1]}CostAnts`];e.antPoints.gte(r)?l(`anttier${t}`).classList.add("antTierBtnAvailable"):l(`anttier${t}`).classList.remove("antTierBtnAvailable")}for(let t=1;t<=12;t++)e.antPoints.gte(m.pow(i.antUpgradeCostIncreases[t-1],e.antUpgrades[t-1]*i.extinctionMultiplier[e.usedCorruptions[10]]).times(i.antUpgradeBaseCost[t-1]))?l(`antUpgrade${t}`).classList.add("antUpgradeBtnAvailable"):l(`antUpgrade${t}`).classList.remove("antUpgradeBtnAvailable")}},Wr=()=>{for(let t=1;t<=15;t++){let r=l(`challenge${t}`);r.classList.remove("challengeActive"),e.currentChallenge.transcension===t&&r.classList.add("challengeActive"),e.currentChallenge.reincarnation===t&&r.classList.add("challengeActive"),e.currentChallenge.ascension===t&&r.classList.add("challengeActive")}e.retrychallenges?l("retryChallenge").textContent=u.t("challenges.retryChallengesOn"):l("retryChallenge").textContent=u.t("challenges.retryChallengesOff");for(let t=1;t<=15;t++)tn(t)},tn=t=>{let r=l(`challenge${t}level`),n=lt(t);t===15?r.textContent=d(e.challenge15Exponent,0,!0):r.textContent=`${e.challengecompletions[t]}/${n}`},b0=()=>{for(let n=1;n<=280;n++)l(`ach${n}`).style.backgroundColor="";let t=document.getElementsByClassName("purpleach"),r=document.getElementsByClassName("redach");for(let n=0;n<t.length;n++)t[n].style.backgroundColor="purple";for(let n=0;n<r.length;n++)r[n].style.backgroundColor="maroon";for(let n=1;n<e.achievements.length;n++)e.achievements[n]>.5&&F(n)},ic=()=>{let t=l("corrStatsBtn"),r=l("corrLoadoutsBtn");e.corruptionShowStats?(l("corruptionStats").style.display="flex",l("corruptionLoadouts").style.display="none",t.classList.add("subtab-active"),r.classList.remove("subtab-active")):(l("corruptionStats").style.display="none",l("corruptionLoadouts").style.display="flex",t.classList.remove("subtab-active"),r.classList.add("subtab-active"))},w2=()=>{let t=e.ascensionCounter;t===0&&(t=1);let[r,n,a,s,o]=vn().slice(4),c=e.singularityUpgrades.oneMind.getEffect().bonus,p={ascLen:dr(e.ascStatToggles[6]?e.ascensionCounter:e.ascensionCounterReal,0),ascCubes:d(r*(e.ascStatToggles[1]?1:1/t),2),ascTess:d(n*(e.ascStatToggles[2]?1:1/t),3),ascHyper:d(a*(e.ascStatToggles[3]?1:1/t),4),ascPlatonic:d(s*(e.ascStatToggles[4]?1:1/t),5),ascHepteract:d(o*(e.ascStatToggles[5]?1:1/t),3),ascC10:`${d(e.challengecompletions[10])}`,ascTimeAccel:`${d(ot().mult,3)}x`,ascAscensionTimeAccel:`${d(en(),3)}x${c?"*":""}`,ascSingularityCount:d(e.singularityCount),ascSingLen:dr(e.singularityCounter),ascSingChallengeLen:dr(e.singChallengeTimer)};for(let f in p){let g=l(f);g.textContent!==p[f]&&(g.textContent=p[f]),f==="ascSingChallengeLen"&&(e.singularityChallenges.limitedTime.enabled&&e.singChallengeTimer>600-20*e.singularityChallenges.limitedTime.completions?g.style.color="red":g.style.color="white")}},x2={[0]:"yellow",[1]:"yellow",[2]:"white",[3]:"cyan",[4]:"plum",[5]:"green",[6]:"brown",[7]:"purple",[8]:"orange",[10]:"white",[11]:"limegreen"},Mc=()=>{var n;let t=l("tabBorder"),r=(n=x2[i.currentTab])!=null?n:"yellow";t.style.backgroundColor=r},Ri,yo,sp=class{constructor(){qt(this,Ri,[]);qt(this,yo,!1)}enqueue(r){return new Promise((n,a)=>{he(this,Ri).push({action:r,resolve:n,reject:a}),this.dequeue()})}async dequeue(){if(he(this,yo))return!1;let r=he(this,Ri).shift();if(!r)return!1;try{Zt(this,yo,!0);let n=await r.action();r.resolve(n)}catch(n){r.reject(n)}finally{Zt(this,yo,!1),this.dequeue()}return!0}};Ri=new WeakMap,yo=new WeakMap;var ip=new sp,Ne=async t=>ip.enqueue(()=>{let r=l("confirmationBox"),n=l("confirmWrapper"),a=l("confirm"),s=l("transparentBG"),o=l("ok_confirm"),c=l("cancel_confirm");l("alertWrapper").style.display="none",l("promptWrapper").style.display="none",r.style.display="block",n.style.display="block",s.style.display="block",a.querySelector("p").textContent=t,a.focus();let p=Da(),f=({target:h})=>{let b=h;o.removeEventListener("click",f),c.removeEventListener("click",f),a.removeEventListener("keyup",g),r.style.display="none",n.style.display="none",s.style.display="none",p.resolve(b===o)},g=h=>h.key==="Enter"||h.key===" "?f({target:o}):h.key==="Escape"?f({target:c}):h.preventDefault();return o.addEventListener("click",f,{once:!0}),c.addEventListener("click",f,{once:!0}),a.addEventListener("keyup",g),p.promise}),B=t=>ip.enqueue(()=>{let r=l("confirmationBox"),n=l("alertWrapper"),a=l("transparentBG"),s=l("alert"),o=l("ok_alert");l("confirmWrapper").style.display="none",l("promptWrapper").style.display="none",r.style.display="block",n.style.display="block",a.style.display="block",s.querySelector("p").textContent=t,s.focus();let c=Da(),p=()=>{o.removeEventListener("click",p),s.removeEventListener("keyup",f),r.style.display="none",n.style.display="none",a.style.display="none",c.resolve()},f=g=>(g.key==="Enter"||g.key===" ")&&p();return o.addEventListener("click",p,{once:!0}),s.addEventListener("keyup",f),c.promise}),je=(t,r)=>ip.enqueue(()=>{let n=l("confirmationBox"),a=l("promptWrapper"),s=l("transparentBG"),o=l("prompt"),c=l("ok_prompt"),p=l("cancel_prompt");l("alertWrapper").style.display="none",l("confirmWrapper").style.display="none",n.style.display="block",a.style.display="block",s.style.display="block",o.querySelector("label").textContent=t,r&&(o.querySelector("input").placeholder=r),o.querySelector("input").focus();let f=Da(),g=({target:b})=>{let y=b,C=y.parentNode.querySelector("input");c.removeEventListener("click",g),p.removeEventListener("click",g),o.querySelector("input").removeEventListener("keyup",h),n.style.display="none",a.style.display="none",s.style.display="none",f.resolve(y.id===c.id?C.value||C.placeholder:null),C.value=C.textContent=C.placeholder="",o.querySelector("input").blur()},h=b=>b.key==="Enter"?g({target:c}):b.key==="Escape"?g({target:p}):b.preventDefault();return c.addEventListener("click",g,{once:!0}),p.addEventListener("click",g,{once:!0}),o.querySelector("input").addEventListener("keyup",h),f.promise}),np,ap,Nr=(t,r=3e4)=>{let n=l("notification"),a=document.querySelector("#notification > p"),s=l("notifx");a.textContent=t,n.style.display="block",n.classList.remove("slide-out"),n.classList.add("slide-in");let o=Da(),c=()=>{n.style.display="none",a.textContent="",ap=0},p=()=>{n.classList.add("slide-out"),n.classList.remove("slide-in"),np=0,s.removeEventListener("click",p),ap=setTimeout(c,1e3),o.resolve()};return s.addEventListener("click",p),clearTimeout(np),clearTimeout(ap),np=setTimeout(p,r),o.promise};var vo=[0,1,2,4,6,8,9,10,1,2,4,6,8,9,10,1,2,4,6,8,9,10,1,2,4,6,8,9,10,1,2,4,6,8,9,10,1,2,4,6,8,9,10,1,2,4,6,8,9,10,1,2,4,6,8,9,10,2,8,10,2,8,10,10,2,8,10,10,10,10,10,2,4,6,8,10,10,10,1,2,4,6,8,9,10,1,2,4,6,8,9,10,1,2,4,6,8,9,10,1,2,4,6,8,9,10,1,2,4,6,8,9,10,1,2,4,6,8,9,10,1,2,4,6,8,9,10,1,2,4,6,8,9,10,1,2,4,6,8,9,10,1,2,4,6,8,9,10,1,2,4,6,8,9,10,1,2,4,6,8,9,10,1,2,4,6,8,9,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,20,20,20,40,60,60,100,20,20,40,40,60,60,100,20,20,40,40,60,60,100,20,40,40,40,60,60,100,40,40,40,60,60,100,100,40,40,60,60,100,100,100,20,40,40,60,60,100,100,40,60,100,60,100,100,40,40,40,40,40,40,40,40,40,40,40,40,100,100,0,50,75,75,75,100,100,150,50,75,75,75,100,100,150,50,75,75,75,100,100,150,10,10,20,20,30,40,50],va=vo.reduce((t,r)=>t+r,0),M2=t=>{let r=vn(),n={118:d(Math.pow(.9925,e.challengecompletions[6]+e.challengecompletions[7]+e.challengecompletions[8]+e.challengecompletions[9]+e.challengecompletions[10]),4),169:d(m.log(e.antPoints.add(10),10),2),174:d(.4*m.log(e.antPoints.add(1),10),2),187:{x:d(Math.max(1,Math.log10(r[3]+1)-7),2),y:d(Math.min(100,e.ascensionCount/1e4),2)},188:d(Math.min(100,e.ascensionCount/5e4),2),189:d(Math.min(200,e.ascensionCount/25e5),2),193:d(m.log(e.ascendShards.add(1),10)/4,2),195:d(Math.min(25e3,m.log(e.ascendShards.add(1),10)/4),2),196:d(Math.min(2e3,m.log(e.ascendShards.add(1),10)/50),2),202:d(Math.min(200,e.ascensionCount/5e6),2),216:d(Math.min(200,e.ascensionCount/1e7),2),223:d(Math.min(200,e.ascensionCount/1337e4),2),240:d(Math.min(1.5,1+Math.max(2,Math.log10(ot().mult))/20),2),254:d(Math.min(15,Math.log10(r[3]+1)*.6),2,!0),255:d(Math.min(15,Math.log10(r[3]+1)*.6),2,!0),256:d(Math.min(15,Math.log10(r[3]+1)*.6),2,!0),257:d(Math.min(15,Math.log10(r[3]+1)*.6),2,!0),258:d(Math.min(15,Math.log10(r[3]+1)*.6),2,!0),262:d(Math.min(10,Math.log10(e.ascensionCount+1)),2),263:d(Math.min(10,Math.log10(e.ascensionCount+1)),2),264:d(Math.min(40,e.ascensionCount/2e11),2),265:d(Math.min(20,e.ascensionCount/8e12),2),266:d(Math.min(10,e.ascensionCount/1e14),2),267:d(Math.min(100,m.log(e.ascendShards.add(1),10)/1e3),2),270:d(Math.min(100,m.log(e.ascendShards.add(1),10)/1e4),2),271:d(Math.max(0,Math.min(1,(m.log(e.ascendShards.add(1),10)-1e5)/9e5)),2,!0)};if([3,4,5,6,7,10,11,12,13,14,17,18,19,20,21,24,25,26,27,28,31,32,33,34,35,36,37,38,43,44,45,46,47,50,51,52,53,57,58,59,60,61,62,71,72,73,74,75,76,77,78,79,80,82,84,85,86,87,89,91,92,93,94,96,98,99,100,101,102,103,105,106,107,108,110,112,115,117,119,122,124,126,127,128,129,131,132,133,134,135,136,137,140,141,147,171,172,173,176,177,178,179,180,181,182,197,198,199,200,201,204,205,206,207,208,209,211,212,213,214,215,218,219,220,221,222,250,251,253,259,260,261].includes(t)||t in n){let s=n[t],o=typeof s=="object"?s:{x:s};return u.t(`achievements.rewards.${t}`,o)}return""},S2=async t=>{if(e.highestSingularityCount===0&&(t===36||t===38||t===255))return B(u.t(`achievements.alerts.${t}`))},Ft=t=>{t===1&&(e.prestigenoaccelerator&&F(60),e.prestigenomultiplier&&F(57),e.prestigenocoinupgrades&&F(64),i.prestigePointGain.gte(1)&&F(36),i.prestigePointGain.gte(1e6)&&F(37),i.prestigePointGain.gte(1e100)&&F(38),i.prestigePointGain.gte("1e1000")&&F(39),i.prestigePointGain.gte("1e10000")&&F(40),i.prestigePointGain.gte("1e77777")&&F(41),i.prestigePointGain.gte("1e250000")&&F(42)),t===2&&(e.transcendnoaccelerator&&F(61),e.transcendnomultiplier&&F(58),e.transcendnocoinupgrades&&F(65),e.transcendnocoinorprestigeupgrades&&F(66),i.transcendPointGain.gte(1)&&F(43),i.transcendPointGain.gte(1e6)&&F(44),i.transcendPointGain.gte(1e50)&&F(45),i.transcendPointGain.gte(1e308)&&F(46),i.transcendPointGain.gte("1e1500")&&F(47),i.transcendPointGain.gte("1e25000")&&F(48),i.transcendPointGain.gte("1e100000")&&F(49)),t===3&&(e.reincarnatenoaccelerator&&F(62),e.reincarnatenomultiplier&&F(59),e.reincarnatenocoinupgrades&&F(67),e.reincarnatenocoinorprestigeupgrades&&F(68),e.reincarnatenocoinprestigeortranscendupgrades&&F(69),e.reincarnatenocoinprestigetranscendorgeneratorupgrades&&F(70),i.reincarnationPointGain.gte(1)&&F(50),i.reincarnationPointGain.gte(1e5)&&F(51),i.reincarnationPointGain.gte(1e30)&&F(52),i.reincarnationPointGain.gte(1e200)&&F(53),i.reincarnationPointGain.gte("1e1500")&&F(54),i.reincarnationPointGain.gte("1e5000")&&F(55),i.reincarnationPointGain.gte("1e7777")&&F(56))},T2=[[1,.5,78],[1,2.5,79],[1,4.5,80],[1,9.5,81],[1,19.5,82],[1,49.5,83],[1,74.5,84],[2,.5,85],[2,2.5,86],[2,4.5,87],[2,9.5,88],[2,19.5,89],[2,49.5,90],[2,74.5,91],[3,.5,92],[3,2.5,93],[3,4.5,94],[3,9.5,95],[3,19.5,96],[3,49.5,97],[3,74.5,98],[4,.5,99],[4,2.5,100],[4,4.5,101],[4,9.5,102],[4,19.5,103],[4,49.5,104],[4,74.5,105],[5,.5,106],[5,2.5,107],[5,4.5,108],[5,9.5,109],[5,19.5,110],[5,49.5,111],[5,74.5,112],[6,.5,113],[6,1.5,114],[6,2.5,115],[6,4.5,116],[6,9.5,117],[6,14.5,118],[6,24.5,119],[7,.5,120],[7,1.5,121],[7,2.5,122],[7,4.5,123],[7,9.5,124],[7,14.5,125],[7,24.5,126],[8,.5,127],[8,1.5,128],[8,2.5,129],[8,4.5,130],[8,9.5,131],[8,19.5,132],[8,24.5,133],[9,.5,134],[9,1.5,135],[9,2.5,136],[9,4.5,137],[9,9.5,138],[9,19.5,139],[9,24.5,140],[10,.5,141],[10,1.5,142],[10,2.5,143],[10,4.5,144],[10,9.5,145],[10,19.5,146],[10,24.5,147],[15,.5,252]],k2={1:["1e1000",75],2:["1e1000",76],3:["1e99999",77],5:["1e120000",63]},Rr=(t,r)=>{let n=xe(e.upgrades.slice(101,106));for(let[,a,s]of T2.filter(([o])=>o===t))e.challengecompletions[t]>a&&e.achievements[s]<1&&F(s);if([1,2,3,5].includes(t)&&!r){let[a,s]=k2[t];t===5?e.coinsThisTranscension.gte(a)&&e.acceleratorBought===0&&e.acceleratorBoostBought===0&&F(s):e.coinsThisTranscension.gte(a)&&n===0&&F(s)}if(t>=11&&t<=14){let a=[0,1,2,3,5,10,20,30];for(let s=1;s<=7;s++)e.challengecompletions[t]>=a[s]&&e.achievements[119+7*t+s]<1&&F(119+7*t+s)}e.challengecompletions[10]>=50&&t===11&&e.usedCorruptions[7]>=5&&e.achievements[247]<1&&F(247)},y0=[()=>e.firstOwnedCoin>=1&&e.achievements[1]<.5,()=>e.firstOwnedCoin>=10&&e.achievements[2]<.5,()=>e.firstOwnedCoin>=100&&e.achievements[3]<.5,()=>e.firstOwnedCoin>=1e3&&e.achievements[4]<.5,()=>e.firstOwnedCoin>=5e3&&e.achievements[5]<.5,()=>e.firstOwnedCoin>=1e4&&e.achievements[6]<.5,()=>e.firstOwnedCoin>=2e4&&e.achievements[7]<.5,()=>e.secondOwnedCoin>=1&&e.achievements[8]<.5,()=>e.secondOwnedCoin>=10&&e.achievements[9]<.5,()=>e.secondOwnedCoin>=100&&e.achievements[10]<.5,()=>e.secondOwnedCoin>=1e3&&e.achievements[11]<.5,()=>e.secondOwnedCoin>=5e3&&e.achievements[12]<.5,()=>e.secondOwnedCoin>=1e4&&e.achievements[13]<.5,()=>e.secondOwnedCoin>=2e4&&e.achievements[14]<.5,()=>e.thirdOwnedCoin>=1&&e.achievements[15]<.5,()=>e.thirdOwnedCoin>=10&&e.achievements[16]<.5,()=>e.thirdOwnedCoin>=100&&e.achievements[17]<.5,()=>e.thirdOwnedCoin>=1e3&&e.achievements[18]<.5,()=>e.thirdOwnedCoin>=5e3&&e.achievements[19]<.5,()=>e.thirdOwnedCoin>=1e4&&e.achievements[20]<.5,()=>e.thirdOwnedCoin>=2e4&&e.achievements[21]<.5,()=>e.fourthOwnedCoin>=1&&e.achievements[22]<.5,()=>e.fourthOwnedCoin>=10&&e.achievements[23]<.5,()=>e.fourthOwnedCoin>=100&&e.achievements[24]<.5,()=>e.fourthOwnedCoin>=1e3&&e.achievements[25]<.5,()=>e.fourthOwnedCoin>=5e3&&e.achievements[26]<.5,()=>e.fourthOwnedCoin>=1e4&&e.achievements[27]<.5,()=>e.fourthOwnedCoin>=2e4&&e.achievements[28]<.5,()=>e.fifthOwnedCoin>=1&&e.achievements[29]<.5,()=>e.fifthOwnedCoin>=10&&e.achievements[30]<.5,()=>e.fifthOwnedCoin>=66&&e.achievements[31]<.5,()=>e.fifthOwnedCoin>=666&&e.achievements[32]<.5,()=>e.fifthOwnedCoin>=6666&&e.achievements[33]<.5,()=>e.fifthOwnedCoin>=17777&&e.achievements[34]<.5,()=>e.fifthOwnedCoin>=42777&&e.achievements[35]<.5],v0=()=>{for(let t of y0)if(t()){let r=y0.indexOf(t)+1;F(r)}},ao=(t,r=0)=>{if(t===1){let n=[0,1,2,10,100,1e3,14142,141421,1414213,1e7,1e8,2e9,4e10,8e11,16e12,1e14];for(let a=1;a<=7;a++)e.ascensionCount>=n[a]&&e.achievements[182+a]<1&&F(182+a),e.ascensionCount>=n[a+8]&&e.achievements[259+a]<1&&F(259+a);e.ascensionCount>=n[8]&&e.achievements[240]<1&&F(240)}if(t===2){let n=[0,3.14,1e6,432e8,69e20,1509e30,1e66,"1.8e308","1e1000","1e5000","1e15000","1e50000","1e100000","1e300000","1e1000000"];for(let a=1;a<=7;a++)e.ascendShards.gte(n[a])&&e.achievements[189+a]<1&&F(189+a),e.ascendShards.gte(n[a+7])&&e.achievements[266+a]<1&&F(266+a)}if(t===3){let n=[0,1e5,1e6,1e7,1e8,1e9,5e9,25e9,1e12,1e14,1e17,2e18,4e19,1e21,1e23];for(let a=1;a<=7;a++)r>=n[a]&&e.achievements[224+a]<1&&F(224+a),r>=n[7+a]&&e.achievements[252+a]<1&&F(252+a)}},C0=t=>{let r=1;t>=183&&(r=5),t>=253&&(r=40);let n=e.worlds.applyBonus(1),a=r*n;return a>100&&(a=Math.pow(100,.6)*Math.pow(a,.4)),Math.floor(vo[t]*a)},w0=t=>{let r=u.t(`achievements.descriptions.${t}`,{number:`${t}`}),n=e.achievements[t]>.5?u.t("achievements.completed"):"",a=M2(t);l("achievementdescription").textContent=r+n,l("achievementreward").textContent=u.t("achievements.rewardGainMessage",{x:vo[t],y:d(C0(t),0,!0),z:a}),e.achievements[t]>.5?l("achievementdescription").style.color="gold":l("achievementdescription").style.color="white"},F=t=>{if(e.achievements[t]<1){if(e.toggles[34]){let r=u.t(`achievements.descriptions.${t}`,{number:`${t}`});Nr(u.t("achievements.notification",{m:r}))}S2(t),e.achievementPoints+=vo[t],e.worlds.add(C0(t),!1),l("achievementprogress").textContent=u.t("achievements.totalPoints",{x:d(e.achievementPoints),y:d(va),z:(100*e.achievementPoints/va).toPrecision(4)}),e.achievements[t]=1,Ve()}l(`ach${t}`).style.backgroundColor="Green",Ht.emit("achievement",t)};var Ii=class{constructor(){this.totalVal=0}initialize(){this.totalVal=0;for(let r of Object.keys(this.vals))this.updateVal(r,!0)}updateTotal(r,n,a=!1){a?this.totalVal+=n:this.totalVal+=n-r}flatten(){let r=Object.values(this.vals);return r.push(this.totalVal),r}},lp=class{constructor(){this.totalVal=1}initialize(){this.totalVal=1;for(let r of Object.keys(this.vals))this.updateVal(r,!0)}updateTotal(r,n,a=!1){if(a)this.totalVal*=n;else if(this.totalVal!==0&&n!==0)this.totalVal*=n/r;else if(n===0)this.totalVal=0;else{let s=this.flatten();s.pop(),this.totalVal=Oe(s)}}flatten(){let r=Object.values(this.vals);return r.push(this.totalVal),r}},Ec=class extends Ii{constructor(){super();this.reset()}reset(){this.vals={Base:1,Exalt1:0,SingularityPerk:0,ShopUpgrades:0,Exalt5:0,Event:0},this.totalVal=1}updateVal(n,a=!1){let s=this.vals[n];switch(n){case"Base":{this.vals[n]=1;break}case"Exalt1":{this.vals[n]=+e.singularityChallenges.noSingularityUpgrades.rewards.luckBonus;break}case"SingularityPerk":{this.vals[n]=bp();break}case"ShopUpgrades":{this.vals[n]=e.shopUpgrades.shopAmbrosiaLuckMultiplier4/100;break}case"Exalt5":{this.vals[n]=+e.singularityChallenges.noAmbrosiaUpgrades.rewards.luckBonus;break}case"Event":{this.vals[n]=i.isEvent?Ct(12):0;break}}let o=this.vals[n];this.updateTotal(s,o,a),e.caches.ambrosiaLuck.updateVal("Base")}},Oc=class extends Ii{constructor(){super();this.reset()}reset(){this.vals={Base:100,SingPerks:0,ShopUpgrades:0,SingularityBerries:0,OcteractBerries:0,BlueberryUpgrade1:0,BlueberryUpgrade2:0,BlueberryCubeLuck1:0,BlueberryQuarkLuck1:0,OneHundredThirtyOne:0,TwoHundredSixtyNine:0,ShopOcteractAmbrosiaLuck:0,Exalt5:0},this.totalVal=0,this.usedTotal=0}updateVal(n,a=!1){let s=this.vals[n];switch(n){case"Base":{this.vals[n]=100;break}case"SingPerks":{this.vals[n]=cp();break}case"ShopUpgrades":{this.vals[n]=dp();break}case"SingularityBerries":{this.vals[n]=fp();break}case"OcteractBerries":{this.vals[n]=mp();break}case"BlueberryUpgrade1":{this.vals[n]=+e.blueberryUpgrades.ambrosiaLuck1.bonus.ambrosiaLuck;break}case"BlueberryUpgrade2":{this.vals[n]=+e.blueberryUpgrades.ambrosiaLuck2.bonus.ambrosiaLuck;break}case"BlueberryCubeLuck1":{this.vals[n]=+e.blueberryUpgrades.ambrosiaCubeLuck1.bonus.ambrosiaLuck;break}case"BlueberryQuarkLuck1":{this.vals[n]=+e.blueberryUpgrades.ambrosiaQuarkLuck1.bonus.ambrosiaLuck;break}case"OneHundredThirtyOne":{this.vals[n]=e.highestSingularityCount>=131?131:0;break}case"TwoHundredSixtyNine":{this.vals[n]=e.highestSingularityCount>=269?269:0;break}case"ShopOcteractAmbrosiaLuck":{this.vals[n]=e.shopUpgrades.shopOcteractAmbrosiaLuck*(1+Math.floor(Math.log10(e.totalWowOcteracts+1)));break}case"Exalt5":{this.vals[n]=+e.singularityChallenges.noAmbrosiaUpgrades.rewards.additiveLuck;break}}let o=this.vals[n];this.updateTotal(s,o,a),this.usedTotal=Math.floor(this.totalVal*e.caches.ambrosiaLuckAdditiveMult.totalVal)}},Uc=class extends lp{constructor(){super();this.reset()}reset(){this.vals={DefaultVal:1,Blueberries:1,ShopUpgrades:1,SingularityBerries:1,OcteractBerries:1,BlueberryPatreon:1,Exalt2:1,Exalt5:1,CashGrabUltra:1,Event:1},this.totalVal=0}updateVal(n,a=!1){let s=this.vals[n];switch(n){case"DefaultVal":{this.vals[n]=1*+e.visitedAmbrosiaSubtab;break}case"Blueberries":{this.vals[n]=e.caches.blueberryInventory.totalVal;break}case"ShopUpgrades":{this.vals[n]=up();break}case"SingularityBerries":{this.vals[n]=pp();break}case"OcteractBerries":{this.vals[n]=gp();break}case"BlueberryPatreon":{this.vals[n]=+e.blueberryUpgrades.ambrosiaPatreon.bonus.blueberryGeneration;break}case"Exalt2":{this.vals[n]=+e.singularityChallenges.oneChallengeCap.rewards.blueberrySpeedMult;break}case"Exalt5":{this.vals[n]=+e.singularityChallenges.noAmbrosiaUpgrades.rewards.blueberrySpeedMult;break}case"Event":{this.vals[n]=i.isEvent?1+Ct(11):1;break}case"CashGrabUltra":{this.vals[n]=Yo();break}}let o=this.vals[n];this.updateTotal(s,o,a)}},Bc=class extends Ii{constructor(){super();this.reset()}reset(){this.vals={Exalt1:0,SingularityUpgrade:0,SingularityPerk:0,Exalt5:0},this.totalVal=0}updateVal(n,a=!1){let s=this.vals[n];switch(n){case"Exalt1":{this.vals[n]=+(e.singularityChallenges.noSingularityUpgrades.completions>0);break}case"SingularityUpgrade":{this.vals[n]=+e.singularityUpgrades.blueberries.getEffect().bonus;break}case"SingularityPerk":{this.vals[n]=hp();break}case"Exalt5":this.vals[n]=+e.singularityChallenges.noAmbrosiaUpgrades.rewards.blueberries}let o=this.vals[n];this.updateTotal(s,o,a),e.caches.ambrosiaGeneration.updateVal("Blueberries")}},Rc=()=>{i.ambrosiaCurrStats={ambrosiaAdditiveLuckMult:yn().value,ambrosiaLuck:nt().value,ambrosiaBlueberries:Ha().value,ambrosiaGenerationSpeed:rt().value}};var L2=.08,A2=1.2,P2=.15,E2=.125,O2=.125,U2=.125,M0=()=>{i.totalCoinOwned=e.firstOwnedCoin+e.secondOwnedCoin+e.thirdOwnedCoin+e.fourthOwnedCoin+e.fifthOwnedCoin},S0=()=>{let t=0;e.upgrades[26]>.5&&(t+=1),e.upgrades[31]>.5&&(t+=Math.floor(i.totalCoinOwned/2e3)*100/100),e.achievements[7]>.5&&(t+=Math.floor(e.firstOwnedCoin/2e3)),e.achievements[14]>.5&&(t+=Math.floor(e.secondOwnedCoin/2e3)),e.achievements[21]>.5&&(t+=Math.floor(e.thirdOwnedCoin/2e3)),e.achievements[28]>.5&&(t+=Math.floor(e.fourthOwnedCoin/2e3)),e.achievements[35]>.5&&(t+=Math.floor(e.fifthOwnedCoin/2e3)),t+=e.researches[93]*Math.floor(1/20*(i.rune1level+i.rune2level+i.rune3level+i.rune4level+i.rune5level)),t+=Math.floor((.01+i.rune1level)*i.effectiveLevelMult/20),t*=1+1/5*e.researches[3]*(1+1/2*z("ascension",e.challengecompletions[14])),t*=1+1/20*e.researches[16]+1/20*e.researches[17],t*=1+1/20*e.researches[88],t*=nr(20,(e.antUpgrades[4-1]+i.bonusant4)/1e3*20/19),t*=1+1/100*e.researches[127],t*=1+.8/100*e.researches[142],t*=1+.6/100*e.researches[157],t*=1+.4/100*e.researches[172],t*=1+.2/100*e.researches[187],t*=1+.01/100*e.researches[200],t*=1+.01/100*e.cubeUpgrades[50],t*=1+1/1e3*ct("acceleratorBoost"),e.upgrades[73]>.5&&e.currentChallenge.reincarnation!==0&&(t*=2),t=Math.min(1e100,Math.floor(t)),i.freeAcceleratorBoost=t,i.totalAcceleratorBoost=Math.floor(e.acceleratorBoostBought+i.freeAcceleratorBoost)*100/100},T0=()=>{i.acceleratorMultiplier=1,i.acceleratorMultiplier*=1+e.achievements[60]/100,i.acceleratorMultiplier*=1+e.achievements[61]/100,i.acceleratorMultiplier*=1+e.achievements[62]/100,i.acceleratorMultiplier*=1+1/5*e.researches[1]*(1+1/2*z("ascension",e.challengecompletions[14])),i.acceleratorMultiplier*=1+1/20*e.researches[6]+1/25*e.researches[7]+1/40*e.researches[8]+3/200*e.researches[9]+1/200*e.researches[10],i.acceleratorMultiplier*=1+1/20*e.researches[86],i.acceleratorMultiplier*=1+1/100*e.researches[126],i.acceleratorMultiplier*=1+.8/100*e.researches[141],i.acceleratorMultiplier*=1+.6/100*e.researches[156],i.acceleratorMultiplier*=1+.4/100*e.researches[171],i.acceleratorMultiplier*=1+.2/100*e.researches[186],i.acceleratorMultiplier*=1+.01/100*e.researches[200],i.acceleratorMultiplier*=1+.01/100*e.cubeUpgrades[50],i.acceleratorMultiplier*=Math.pow(1.01,e.upgrades[21]+e.upgrades[22]+e.upgrades[23]+e.upgrades[24]+e.upgrades[25]),(e.currentChallenge.transcension!==0||e.currentChallenge.reincarnation!==0)&&e.upgrades[50]>.5&&(i.acceleratorMultiplier*=1.25)},bd=()=>1/(1-xe([.05*e.achievements[80],.05*e.achievements[87],.05*e.achievements[94],.05*e.achievements[101],.05*e.achievements[108],.05*e.achievements[115],.075*e.achievements[122],.075*e.achievements[129],.05*e.upgrades[61],.25*Math.min(1,i.rune4level/400),.005*e.cubeUpgrades[2]]));function Vo(t,r=!1,n=e.runelevels[t],a=!1){let s=bd(),o=null;r?o=xe([1/100*e.highestchallengecompletions[3],1*e.upgrades[66]]):o=xe([1,Math.min(1,e.highestchallengecompletions[1]),.4/10*e.highestchallengecompletions[1],.6*e.researches[22],.3*e.researches[23],2*e.upgrades[61],e.upgrades[71]*n/25]);let c=Oe([1+e.researches[91]/20,1+e.researches[92]/20,nr(999,1/1e4*Math.pow(e.antUpgrades[8-1]+i.bonusant8,1.1)),i.cubeBonusMultiplier[4],1+e.ascensionCounter/1e3*e.cubeUpgrades[32],1+1/10*e.constantUpgrades[8],i.challenge15Rewards.runeExp]),p=1/Math.pow(i.droughtMultiplier[e.usedCorruptions[8]],1-1/2*e.platonicUpgrades[13]),f=[Oe([1+e.researches[78]/50,1+e.researches[111]/100,1+z("reincarnation",e.challengecompletions[7])/10,p]),Oe([1+e.researches[80]/50,1+e.researches[112]/100,1+z("reincarnation",e.challengecompletions[7])/10,p]),Oe([1+e.researches[79]/50,1+e.researches[113]/100,1+z("reincarnation",e.challengecompletions[8])/5,p]),Oe([1+e.researches[77]/50,1+e.researches[114]/100,1+z("reincarnation",e.challengecompletions[6])/10,p]),Oe([1+e.researches[83]/20,1+e.researches[115]/100,1+z("reincarnation",e.challengecompletions[9])/5,p]),Oe([1]),Oe([1])],g=[o,c,s,f[t]];return a?g:Math.min(1e200,Oe(g))}var B2=t=>Oe([Math.pow((t+1)/2,3),(3.5*t+100)/500,Math.max(1,(t-200)/9),Math.max(1,(t-400)/12),Math.max(1,(t-600)/15),Math.max(1,Math.pow(1.03,(t-800)/4))]),Ic=null,On=(t,r=e.runelevels[t])=>{Ic!=null||(Ic=Array.from({length:4e4+1},(a,s)=>B2(s)));let n=Ic[r];return t===5&&(n=Math.pow(100,r)),t===6&&(n=Math.pow(1e25,r)*(e.highestSingularityCount+1)),n*i.runeexpbase[t]},Mt=t=>{let r=1e3,n=20*(e.cubeUpgrades[16]+e.cubeUpgrades[37])+3*e.constantUpgrades[7]+80*z("ascension",e.challengecompletions[11])+200*z("ascension",e.challengecompletions[14])+Math.floor(.04*e.researches[200]+.04*e.cubeUpgrades[50]),a=[null,10*(e.researches[78]+e.researches[111])+n,10*(e.researches[80]+e.researches[112])+n,10*(e.researches[79]+e.researches[113])+n,10*(e.researches[77]+e.researches[114])+n,10*e.researches[115]+n,-901,-999];return r=a[t]>i.runeMaxLvl?i.runeMaxLvl:r+a[t],r},aa=()=>{let t=_e.INSTANT_UNLOCK_2?6:0,r=e.runelevels[5]+t;return r+Math.max(0,r-74)+Math.max(0,r-98)};function pn(t,r=!0,n=!1){if(t==="acceleratorBoost"||t==="ascension"||t==="ascensionChallenge")return 0;let a=0,s=0,o=0,c=0;(t==="reincarnation"||t==="reincarnationChallenge")&&(s+=3,e.achievements[52]>.5&&(s+=25*Math.min(e.reincarnationcounter/1800,1)),e.upgrades[62]>.5&&(s+=1/50*xe(e.challengecompletions)),s+=.6*e.researches[25],e.researches[95]===1&&(s+=4),s+=1/200*i.rune5level*i.effectiveLevelMult*(1+e.researches[85]/200),s*=1+Math.pow(m.log(e.reincarnationShards.add(1),10),2/3)/4,s*=Math.min(Math.pow(e.reincarnationcounter/10+1,2),1),e.reincarnationcounter>=5&&(s*=Math.max(1,e.reincarnationcounter/10))),(t==="transcension"||t==="transcensionChallenge"||t==="reincarnation"||t==="reincarnationChallenge")&&(o+=2,e.reincarnationCount>0&&(o+=2),e.achievements[44]>.5&&(o+=15*Math.min(e.transcendcounter/1800,1)),e.challengecompletions[2]>0&&(o+=1),o+=.2*e.researches[24],o+=1/200*i.rune5level*i.effectiveLevelMult*(1+e.researches[85]/200),o*=1+Math.pow(m.log(e.transcendShards.add(1),10),1/2)/5,o*=1+z("reincarnation",e.challengecompletions[8])/25,o*=Math.min(Math.pow(e.transcendcounter/10,2),1),e.transcendCount>=5&&(o*=Math.max(1,e.transcendcounter/10))),c+=1,(e.transcendCount>0||e.reincarnationCount>0)&&(c+=1),e.reincarnationCount>0&&(c+=2),e.achievements[37]>.5&&(c+=15*Math.min(e.prestigecounter/1800,1)),e.challengecompletions[2]>0&&(c+=1),c+=.2*e.researches[24],c+=1/200*i.rune5level*i.effectiveLevelMult*(1+e.researches[85]/200),c*=1+Math.pow(m.log(e.prestigeShards.add(1),10),1/2)/5,c*=1+z("reincarnation",e.challengecompletions[6])/50,c*=Math.min(Math.pow(e.prestigecounter/10,2),1),e.prestigeCount>=5&&(c*=Math.max(1,e.prestigecounter/10)),a=s+o+c;let p=[1+10*e.achievements[33]/100,1+15*e.achievements[34]/100,1+25*e.achievements[35]/100,1+20*e.upgrades[38]/100,1+e.upgrades[75]*2*Math.min(1,Math.pow(e.maxobtainium/3e7,.5)),1+1/50*e.shopUpgrades.offeringAuto,1+1/25*e.shopUpgrades.offeringEX,1+1/100*e.shopUpgrades.cashGrab,1+1/1e4*xe(e.challengecompletions)*e.researches[85],1+Math.pow(e.antUpgrades[6-1]+i.bonusant6,.66),i.cubeBonusMultiplier[3],1+.02*e.constantUpgrades[3],1+3e-4*e.talismanLevels[3-1]*e.researches[149]+4e-4*e.talismanLevels[3-1]*e.researches[179],1+.12*z("ascension",e.challengecompletions[12]),1+.01/100*e.researches[200],1+Math.min(1,e.ascensionCount/1e6)*e.achievements[187],1+.6*e.achievements[250]+1*e.achievements[251],1+.05*e.cubeUpgrades[46],1+.02/100*e.cubeUpgrades[50],1+e.platonicUpgrades[5],1+2.5*e.platonicUpgrades[10],1+5*e.platonicUpgrades[15],i.challenge15Rewards.offering,1+5*(e.singularityUpgrades.starterPack.getEffect().bonus?1:0),+e.singularityUpgrades.singOfferings1.getEffect().bonus,+e.singularityUpgrades.singOfferings2.getEffect().bonus,+e.singularityUpgrades.singOfferings3.getEffect().bonus,+e.singularityUpgrades.singCitadel.getEffect().bonus,+e.singularityUpgrades.singCitadel2.getEffect().bonus,1+e.cubeUpgrades[54]/100,+e.octeractUpgrades.octeractOfferings1.getEffect().bonus,1+.001*+e.blueberryUpgrades.ambrosiaOffering1.bonus.offeringMult,li(),$2(),1+Ct(8)];if(r)a*=Oe(p);else return p;if(n)return Oe(p);if(i.eventClicked&&i.isEvent&&(a*=1.05),a/=He("Offering"),e.currentChallenge.ascension===15&&(a*=1+7*e.cubeUpgrades[62]),a*=1+1/200*e.shopUpgrades.cashGrab2,a*=1+1/100*e.shopUpgrades.offeringEX2*e.singularityCount,a*=Math.pow(1.02,e.shopUpgrades.offeringEX3),a*=yd(),e.singularityChallenges.limitedTime.enabled){let g=e.singularityChallenges.limitedTime.completions,h=e.singChallengeTimer;a*=wp(g,h)}a=Math.min(1e300,a);let f=0;return t==="prestige"&&(f=a/(1+e.prestigecounter)),(t==="transcension"||t==="transcensionChallenge")&&(f=a/(1+e.transcendcounter)),(t==="reincarnation"||t==="reincarnationChallenge")&&(f=a/(1+e.reincarnationcounter)),f>e.offeringpersecond&&(e.offeringpersecond=f),a}var Zr=()=>{if(i.obtainiumGain=1,e.upgrades[69]>0&&(i.obtainiumGain*=Math.min(10,new m(m.pow(m.log(i.reincarnationPointGain.add(10),10),.5)).toNumber())),e.upgrades[72]>0&&(i.obtainiumGain*=Math.min(50,1+2*e.challengecompletions[6]+2*e.challengecompletions[7]+2*e.challengecompletions[8]+2*e.challengecompletions[9]+2*e.challengecompletions[10])),e.upgrades[74]>0&&(i.obtainiumGain*=1+4*Math.min(1,Math.pow(e.maxofferings/1e5,.5))),i.obtainiumGain*=1+e.researches[65]/5,i.obtainiumGain*=1+e.researches[76]/10,i.obtainiumGain*=1+e.researches[81]/10,i.obtainiumGain*=1+e.shopUpgrades.obtainiumAuto/50,i.obtainiumGain*=1+e.shopUpgrades.cashGrab/100,i.obtainiumGain*=1+1/25*e.shopUpgrades.obtainiumEX,i.obtainiumGain*=1+i.rune5level/200*i.effectiveLevelMult*(1+e.researches[84]/200*(1+1*i.effectiveRuneSpiritPower[5]*yt()/400)),i.obtainiumGain*=1+.01*e.achievements[84]+.03*e.achievements[91]+.05*e.achievements[98]+.07*e.achievements[105]+.09*e.achievements[112]+.11*e.achievements[119]+.13*e.achievements[126]+.15*e.achievements[133]+.17*e.achievements[140]+.19*e.achievements[147],i.obtainiumGain*=1+2*Math.pow((e.antUpgrades[10-1]+i.bonusant10)/50,2/3),i.obtainiumGain*=1+e.achievements[188]*Math.min(2,e.ascensionCount/5e6),i.obtainiumGain*=1+.6*e.achievements[250]+1*e.achievements[251],i.obtainiumGain*=i.cubeBonusMultiplier[5],i.obtainiumGain*=1+.04*e.constantUpgrades[4],i.obtainiumGain*=1+.1*e.cubeUpgrades[47],i.obtainiumGain*=1+.1*e.cubeUpgrades[3],i.obtainiumGain*=1+.5*z("ascension",e.challengecompletions[12]),i.obtainiumGain*=1+yt()/400*i.effectiveRuneSpiritPower[4],i.obtainiumGain*=1+.03*Math.log(e.uncommonFragments+1)/Math.log(4)*e.researches[144],i.obtainiumGain*=1+.02/100*e.cubeUpgrades[50],e.achievements[53]>0&&(i.obtainiumGain*=1+1/800*i.runeSum),e.achievements[128]&&(i.obtainiumGain*=1.5),e.achievements[129]&&(i.obtainiumGain*=1.25),e.achievements[51]>0&&(i.obtainiumGain+=4),e.reincarnationcounter>=2&&(i.obtainiumGain+=1*e.researches[63]),e.reincarnationcounter>=5&&(i.obtainiumGain+=2*e.researches[64]),i.obtainiumGain*=Math.min(1,Math.pow(e.reincarnationcounter/10,2)),e.reincarnationCount>=5&&(i.obtainiumGain*=Math.max(1,e.reincarnationcounter/10)),i.obtainiumGain*=Math.pow(m.log(e.transcendShards.add(1),10)/300,2),i.obtainiumGain=Math.pow(i.obtainiumGain,Math.min(1,i.illiteracyPower[e.usedCorruptions[5]]*(1+9/100*e.platonicUpgrades[9]*Math.min(100,Math.log10(e.researchPoints+10))))),i.obtainiumGain*=1+4/100*e.cubeUpgrades[42],i.obtainiumGain*=1+3/100*e.cubeUpgrades[43],i.obtainiumGain*=1+e.platonicUpgrades[5],i.obtainiumGain*=1+1.5*e.platonicUpgrades[9],i.obtainiumGain*=1+2.5*e.platonicUpgrades[10],i.obtainiumGain*=1+5*e.platonicUpgrades[15],i.obtainiumGain*=i.challenge15Rewards.obtainium,i.obtainiumGain*=1+5*(e.singularityUpgrades.starterPack.getEffect().bonus?1:0),i.obtainiumGain*=+e.singularityUpgrades.singObtainium1.getEffect().bonus,i.obtainiumGain*=+e.singularityUpgrades.singObtainium2.getEffect().bonus,i.obtainiumGain*=+e.singularityUpgrades.singObtainium3.getEffect().bonus,i.obtainiumGain*=1+e.cubeUpgrades[55]/100,i.obtainiumGain*=1+1/200*e.shopUpgrades.cashGrab2,i.obtainiumGain*=1+1/100*e.shopUpgrades.obtainiumEX2*e.singularityCount,i.obtainiumGain*=1+Ct(9),i.obtainiumGain*=+e.singularityUpgrades.singCitadel.getEffect().bonus,i.obtainiumGain*=+e.singularityUpgrades.singCitadel2.getEffect().bonus,i.obtainiumGain*=+e.octeractUpgrades.octeractObtainium1.getEffect().bonus,i.obtainiumGain*=Math.pow(1.02,e.shopUpgrades.obtainiumEX3),i.obtainiumGain*=oi(),i.eventClicked&&i.isEvent&&(i.obtainiumGain*=1.05),e.currentChallenge.ascension===15&&(i.obtainiumGain+=1,i.obtainiumGain*=1+7*e.cubeUpgrades[62]),i.obtainiumGain*=1+.001*+e.blueberryUpgrades.ambrosiaObtainium1.bonus.obtainiumMult,i.obtainiumGain*=md(),i.obtainiumGain*=li(),e.singularityChallenges.limitedTime.enabled){let t=e.singularityChallenges.limitedTime.completions,r=e.singChallengeTimer;i.obtainiumGain*=wp(t,r)}isFinite(i.obtainiumGain)||(i.obtainiumGain=1e300),i.obtainiumGain=Math.min(1e300,i.obtainiumGain),i.obtainiumGain/=He("Obtainium"),e.usedCorruptions[5]>=15&&(i.obtainiumGain=Math.pow(i.obtainiumGain,1/4)),e.usedCorruptions[5]>=16&&(i.obtainiumGain=Math.pow(i.obtainiumGain,1/3)),i.obtainiumGain=Math.max(1+e.singularityCount,i.obtainiumGain),e.currentChallenge.ascension===14&&(i.obtainiumGain=0),e.obtainiumpersecond=Math.min(1e300,i.obtainiumGain)/(.1+e.reincarnationcounter),e.maxobtainiumpersecond=Math.max(e.maxobtainiumpersecond,e.obtainiumpersecond)},pi=()=>.05*(10*e.researches[61]+2*e.researches[62])*e.maxobtainiumpersecond*(1+4*e.cubeUpgrades[3]/5),Sd=()=>{let t=0,r=0;if(e.achievements[135]===1&&(t+=.02),e.achievements[136]===1&&(t+=.02),t+=.02*(e.talismanRarity[4-1]-1),t+=3*e.researches[106]/100,t+=3*e.researches[107]/100,t+=3*e.researches[116]/200,t+=3*e.researches[117]/200,t+=i.cubeBonusMultiplier[9]-1,t+=4e-4*e.cubeUpgrades[50],r+=.06*e.researches[118],r+=4e-4*e.cubeUpgrades[50],e.highestSingularityCount>=7&&(t+=r,r=t),e.highestSingularityCount<7)for(let s=1;s<=5;s++)e.talismanOne[s]===1?i.talisman1Effect[s]=(i.talismanPositiveModifier[e.talismanRarity[1-1]]+t)*e.talismanLevels[1-1]*i.challenge15Rewards.talismanBonus:i.talisman1Effect[s]=(i.talismanNegativeModifier[e.talismanRarity[1-1]]-r)*e.talismanLevels[1-1]*-1*i.challenge15Rewards.talismanBonus,e.talismanTwo[s]===1?i.talisman2Effect[s]=(i.talismanPositiveModifier[e.talismanRarity[2-1]]+t)*e.talismanLevels[2-1]*i.challenge15Rewards.talismanBonus:i.talisman2Effect[s]=(i.talismanNegativeModifier[e.talismanRarity[2-1]]-r)*e.talismanLevels[2-1]*-1*i.challenge15Rewards.talismanBonus,e.talismanThree[s]===1?i.talisman3Effect[s]=(i.talismanPositiveModifier[e.talismanRarity[3-1]]+t)*e.talismanLevels[3-1]*i.challenge15Rewards.talismanBonus:i.talisman3Effect[s]=(i.talismanNegativeModifier[e.talismanRarity[3-1]]-r)*e.talismanLevels[3-1]*-1*i.challenge15Rewards.talismanBonus,e.talismanFour[s]===1?i.talisman4Effect[s]=(i.talismanPositiveModifier[e.talismanRarity[4-1]]+t)*e.talismanLevels[4-1]*i.challenge15Rewards.talismanBonus:i.talisman4Effect[s]=(i.talismanNegativeModifier[e.talismanRarity[4-1]]-r)*e.talismanLevels[4-1]*-1*i.challenge15Rewards.talismanBonus,e.talismanFive[s]===1?i.talisman5Effect[s]=(i.talismanPositiveModifier[e.talismanRarity[5-1]]+t)*e.talismanLevels[5-1]*i.challenge15Rewards.talismanBonus:i.talisman5Effect[s]=(i.talismanNegativeModifier[e.talismanRarity[5-1]]-r)*e.talismanLevels[5-1]*-1*i.challenge15Rewards.talismanBonus,e.talismanSix[s]===1?i.talisman6Effect[s]=(i.talismanPositiveModifier[e.talismanRarity[6-1]]+t)*e.talismanLevels[6-1]*i.challenge15Rewards.talismanBonus:i.talisman6Effect[s]=(i.talismanNegativeModifier[e.talismanRarity[6-1]]-r)*e.talismanLevels[6-1]*-1*i.challenge15Rewards.talismanBonus,e.talismanSeven[s]===1?i.talisman7Effect[s]=(i.talismanPositiveModifier[e.talismanRarity[7-1]]+t)*e.talismanLevels[7-1]*i.challenge15Rewards.talismanBonus:i.talisman7Effect[s]=(i.talismanNegativeModifier[e.talismanRarity[7-1]]-r)*e.talismanLevels[7-1]*-1*i.challenge15Rewards.talismanBonus;else for(let s=1;s<=5;s++)i.talisman1Effect[s]=(i.talismanPositiveModifier[e.talismanRarity[1-1]]+t)*e.talismanLevels[1-1]*i.challenge15Rewards.talismanBonus,i.talisman2Effect[s]=(i.talismanPositiveModifier[e.talismanRarity[2-1]]+t)*e.talismanLevels[2-1]*i.challenge15Rewards.talismanBonus,i.talisman3Effect[s]=(i.talismanPositiveModifier[e.talismanRarity[3-1]]+t)*e.talismanLevels[3-1]*i.challenge15Rewards.talismanBonus,i.talisman4Effect[s]=(i.talismanPositiveModifier[e.talismanRarity[4-1]]+t)*e.talismanLevels[4-1]*i.challenge15Rewards.talismanBonus,i.talisman5Effect[s]=(i.talismanPositiveModifier[e.talismanRarity[5-1]]+t)*e.talismanLevels[5-1]*i.challenge15Rewards.talismanBonus,i.talisman6Effect[s]=(i.talismanPositiveModifier[e.talismanRarity[6-1]]+t)*e.talismanLevels[6-1]*i.challenge15Rewards.talismanBonus,i.talisman7Effect[s]=(i.talismanPositiveModifier[e.talismanRarity[7-1]]+t)*e.talismanLevels[7-1]*i.challenge15Rewards.talismanBonus;let n=[i.talisman1Effect,i.talisman2Effect,i.talisman3Effect,i.talisman4Effect,i.talisman5Effect,i.talisman6Effect,i.talisman7Effect],a=[0,0,0,0,0,0];n.forEach(s=>{s.forEach((o,c)=>{a[c]+=o})}),[,i.rune1Talisman,i.rune2Talisman,i.rune3Talisman,i.rune4Talisman,i.rune5Talisman]=a,i.talisman6Power=0,i.talisman7Quarks=0,e.talismanRarity[1-1]===6&&(i.rune2Talisman+=400),e.talismanRarity[2-1]===6&&(i.rune1Talisman+=400),e.talismanRarity[3-1]===6&&(i.rune4Talisman+=400),e.talismanRarity[4-1]===6&&(i.rune3Talisman+=400),e.talismanRarity[5-1]===6&&(i.rune5Talisman+=400),e.talismanRarity[6-1]===6&&(i.talisman6Power=2.5),e.talismanRarity[7-1]===6&&(i.talisman7Quarks=2)},at=()=>{var t;if(Sd(),e.currentChallenge.reincarnation!==9){let r=(t=e.antUpgrades[8])!=null?t:0;i.rune1level=Math.max(1,e.runelevels[0]+Math.min(1e7,r+i.bonusant9)*1+i.rune1Talisman+7*e.constantUpgrades[7]),i.rune2level=Math.max(1,e.runelevels[1]+Math.min(1e7,r+i.bonusant9)*1+i.rune2Talisman+7*e.constantUpgrades[7]),i.rune3level=Math.max(1,e.runelevels[2]+Math.min(1e7,r+i.bonusant9)*1+i.rune3Talisman+7*e.constantUpgrades[7]),i.rune4level=Math.max(1,e.runelevels[3]+Math.min(1e7,r+i.bonusant9)*1+i.rune4Talisman+7*e.constantUpgrades[7]),i.rune5level=Math.max(1,e.runelevels[4]+Math.min(1e7,r+i.bonusant9)*1+i.rune5Talisman+7*e.constantUpgrades[7])}i.runeSum=xe([i.rune1level,i.rune2level,i.rune3level,i.rune4level,i.rune5level]),Ld()},Ld=()=>{i.blessingMultiplier=1,i.spiritMultiplier=1,i.blessingMultiplier*=1+6.9*e.researches[134]/100,i.blessingMultiplier*=1+(e.talismanRarity[3-1]-1)/10,i.blessingMultiplier*=1+.1*Math.log10(e.epicFragments+1)*e.researches[174],i.blessingMultiplier*=1+2*e.researches[194]/100,e.researches[160]>0&&(i.blessingMultiplier*=Math.pow(1.25,8)),i.spiritMultiplier*=1+8*e.researches[164]/100,e.researches[165]>0&&e.currentChallenge.ascension!==0&&(i.spiritMultiplier*=Math.pow(2,8)),i.spiritMultiplier*=1+.15*Math.log10(e.legendaryFragments+1)*e.researches[189],i.spiritMultiplier*=1+2*e.researches[194]/100,i.spiritMultiplier*=1+(e.talismanRarity[5-1]-1)/100;for(let t=1;t<=5;t++)i.runeBlessings[t]=i.blessingMultiplier*e.runelevels[t-1]*e.runeBlessingLevels[t],i.runeSpirits[t]=i.spiritMultiplier*e.runelevels[t-1]*e.runeSpiritLevels[t];for(let t=1;t<=5;t++)i.runeBlessings[t]<=1e30?i.effectiveRuneBlessingPower[t]=Math.pow(i.runeBlessings[t],1/8)/75*i.challenge15Rewards.blessingBonus:i.runeBlessings[t]>1e30&&(i.effectiveRuneBlessingPower[t]=Math.pow(10,5/2)*Math.pow(i.runeBlessings[t],1/24)/75*i.challenge15Rewards.blessingBonus),i.runeSpirits[t]<=1e25?i.effectiveRuneSpiritPower[t]=Math.pow(i.runeSpirits[t],1/8)/75*i.challenge15Rewards.spiritBonus:i.runeSpirits[t]>1e25&&(i.effectiveRuneSpiritPower[t]=Math.pow(10,25/12)*Math.pow(i.runeSpirits[t],1/24)/75*i.challenge15Rewards.spiritBonus)},er=()=>{let t=0;t+=2*(e.talismanRarity[6-1]-1),t+=z("reincarnation",e.challengecompletions[9]),t+=2*e.constantUpgrades[6],t+=12*z("ascension",e.challengecompletions[11]),t+=Math.floor(1/200*e.researches[200]),t*=i.challenge15Rewards.bonusAntLevel;let r=0,n=0;e.currentChallenge.ascension===11&&(r=999),e.currentChallenge.ascension===11&&(n=Math.floor((4*e.challengecompletions[8]+23*e.challengecompletions[9])*Math.max(0,1-e.challengecompletions[11]/10))),i.bonusant1=Math.min(e.antUpgrades[1-1]+r,4*e.researches[97]+t+e.researches[102]+2*e.researches[132]+n),i.bonusant2=Math.min(e.antUpgrades[2-1]+r,4*e.researches[97]+t+e.researches[102]+2*e.researches[132]+n),i.bonusant3=Math.min(e.antUpgrades[3-1]+r,4*e.researches[97]+t+e.researches[102]+2*e.researches[132]+n),i.bonusant4=Math.min(e.antUpgrades[4-1]+r,4*e.researches[97]+t+e.researches[102]+2*e.researches[132]+n),i.bonusant5=Math.min(e.antUpgrades[5-1]+r,4*e.researches[97]+t+e.researches[102]+2*e.researches[132]+n),i.bonusant6=Math.min(e.antUpgrades[6-1]+r,4*e.researches[97]+t+e.researches[102]+2*e.researches[132]+n),i.bonusant7=Math.min(e.antUpgrades[7-1]+r,4*e.researches[98]+t+e.researches[102]+2*e.researches[132]+n),i.bonusant8=Math.min(e.antUpgrades[8-1]+r,4*e.researches[98]+t+e.researches[102]+2*e.researches[132]+n),i.bonusant9=Math.min(e.antUpgrades[9-1]+r,4*e.researches[98]+t+e.researches[102]+2*e.researches[132]+n),i.bonusant10=Math.min(e.antUpgrades[10-1]+r,4*e.researches[98]+t+e.researches[102]+2*e.researches[132]+n),i.bonusant11=Math.min(e.antUpgrades[11-1]+r,4*e.researches[98]+t+e.researches[102]+2*e.researches[132]+n),i.bonusant12=Math.min(e.antUpgrades[12-1]+r,4*e.researches[98]+t+e.researches[102]+2*e.researches[132]+n)},ma=()=>{i.antELO=0,i.effectiveELO=0;let t=xe(e.antUpgrades);e.antPoints.gte("1e40")&&(i.antELO+=m.log(e.antPoints,10),i.antELO+=1/2*t,i.antELO+=1/10*e.firstOwnedAnts,i.antELO+=1/5*e.secondOwnedAnts,i.antELO+=1/3*e.thirdOwnedAnts,i.antELO+=1/2*e.fourthOwnedAnts,i.antELO+=e.fifthOwnedAnts,i.antELO+=2*e.sixthOwnedAnts,i.antELO+=4*e.seventhOwnedAnts,i.antELO+=8*e.eighthOwnedAnts,i.antELO+=666*e.researches[178],i.antELO*=1+.01*e.achievements[180]+.02*e.achievements[181]+.03*e.achievements[182],i.antELO*=1+e.researches[110]/100,i.antELO*=1+2.5*e.researches[148]/100,e.achievements[176]===1&&(i.antELO+=25),e.achievements[177]===1&&(i.antELO+=50),e.achievements[178]===1&&(i.antELO+=75),e.achievements[179]===1&&(i.antELO+=100),i.antELO+=25*e.researches[108],i.antELO+=25*e.researches[109],i.antELO+=40*e.researches[123],i.antELO+=100*z("reincarnation",e.challengecompletions[10]),i.antELO+=75*e.upgrades[80],i.antELO=1/10*Math.floor(10*i.antELO),i.effectiveELO+=.5*Math.min(3500,i.antELO),i.effectiveELO+=.1*Math.min(4e3,i.antELO),i.effectiveELO+=.1*Math.min(6e3,i.antELO),i.effectiveELO+=.1*Math.min(1e4,i.antELO),i.effectiveELO+=.2*i.antELO,i.effectiveELO+=i.cubeBonusMultiplier[8]-1,i.effectiveELO+=1*e.cubeUpgrades[50],i.effectiveELO*=1+.03*e.upgrades[124])},R2=()=>{i.timeMultiplier=Math.min(1,Math.pow(e.antSacrificeTimer/10,2)),e.achievements[177]===0&&(i.timeMultiplier*=Math.min(1e3,Math.max(1,e.antSacrificeTimer/10))),e.achievements[177]>0&&(i.timeMultiplier*=Math.max(1,e.antSacrificeTimer/10)),i.upgradeMultiplier=1,i.upgradeMultiplier*=1+2*(1-Math.pow(2,-(e.antUpgrades[11-1]+i.bonusant11)/125)),i.upgradeMultiplier*=1+e.researches[103]/20,i.upgradeMultiplier*=1+e.researches[104]/20,e.achievements[132]===1&&(i.upgradeMultiplier*=1.25),e.achievements[137]===1&&(i.upgradeMultiplier*=1.25),i.upgradeMultiplier*=1+20/3*i.effectiveRuneBlessingPower[3],i.upgradeMultiplier*=1+1/50*z("reincarnation",e.challengecompletions[10]),i.upgradeMultiplier*=1+1/50*e.researches[122],i.upgradeMultiplier*=1+3/100*e.researches[133],i.upgradeMultiplier*=1+2/100*e.researches[163],i.upgradeMultiplier*=1+1/100*e.researches[193],i.upgradeMultiplier*=1+1/10*e.upgrades[79],i.upgradeMultiplier*=1+1/4*e.upgrades[40],i.upgradeMultiplier*=i.cubeBonusMultiplier[7],i.upgradeMultiplier*=1+Ct(7),i.upgradeMultiplier=Math.min(1e300,i.upgradeMultiplier)},Vd=()=>{ma(),R2();let t=1e300,r=Math.min(t,i.timeMultiplier*i.upgradeMultiplier);return{antSacrificePoints:i.effectiveELO*r/85,offerings:Math.min(t,e.offeringpersecond*.15*i.effectiveELO*r/180),obtainium:Math.min(t,e.maxobtainiumpersecond*.24*i.effectiveELO*r/180),talismanShards:i.antELO>500?Math.min(t,Math.max(1,Math.floor(r/210*Math.pow(1/4*Math.max(0,i.effectiveELO-500),2)))):0,commonFragments:i.antELO>750?Math.min(t,Math.max(1,Math.floor(r/110*Math.pow(1/9*Math.max(0,i.effectiveELO-750),1.83)))):0,uncommonFragments:i.antELO>1e3?Math.min(t,Math.max(1,Math.floor(r/170*Math.pow(1/16*Math.max(0,i.effectiveELO-1e3),1.66)))):0,rareFragments:i.antELO>1500?Math.min(t,Math.max(1,Math.floor(r/200*Math.pow(1/25*Math.max(0,i.effectiveELO-1500),1.5)))):0,epicFragments:i.antELO>2e3?Math.min(t,Math.max(1,Math.floor(r/200*Math.pow(1/36*Math.max(0,i.effectiveELO-2e3),1.33)))):0,legendaryFragments:i.antELO>3e3?Math.min(t,Math.max(1,Math.floor(r/230*Math.pow(1/49*Math.max(0,i.effectiveELO-3e3),1.16)))):0,mythicalFragments:i.antELO>5e3?Math.min(t,Math.max(1,Math.floor(r/220*Math.pow(1/64*Math.max(0,i.effectiveELO-4150),1)))):0}},k0=async()=>{let t=await je(u.t("calculate.timePrompt")),r=Number(t);if(Number.isNaN(r)||r<=0)return B(u.t("calculate.timePromptError"));l("offlineContainer").style.display="flex",l("offlineBlur").style.display="",await yp(r)},yp=async(t=0)=>{mc(),i.timeWarp=!0;let r=(86400*3+7200*2*e.researches[31]+7200*2*e.researches[32])*_e.OFFLINE_TIMER_CAP_BUFF,n=Date.now(),a=Math.min(r,Math.max(t,(n-e.offlinetick)/1e3)),s=a/200,o=200;l("offlineTimer").textContent=u.t("calculate.offlineTimer",{value:d(a,0)}),Zs(e.buyTalismanShardPercent),fr();let c=e.offlinetick>0;e.offlinetick=e.offlinetick<15e11?Date.now():e.offlinetick,i.timeMultiplier=ot().mult,Zr();let p=pi(),f={prestige:a/Math.max(.01,e.fastestprestige),offering:Math.floor(a),transcension:a/Math.max(.01,e.fastesttranscend),reincarnation:a/Math.max(.01,e.fastestreincarnate),obtainium:a*p*i.timeMultiplier},g={prestige:a*i.timeMultiplier,transcension:a*i.timeMultiplier,reincarnation:a*i.timeMultiplier,ants:a*i.timeMultiplier,antsReal:a,ascension:e.ascensionCounter,quarks:Jt().gain};Rc(),Xe("ascension",a),Xe("quarks",a),Xe("goldenQuarks",a),Xe("singularity",a),Xe("octeracts",s),Xe("ambrosia",a),e.prestigeCount+=f.prestige,e.transcendCount+=f.transcension,e.reincarnationCount+=f.reincarnation,g.ascension=e.ascensionCounter-g.ascension,g.quarks=Jt().gain-g.quarks;let h=rr(()=>{i.timeMultiplier=ot().mult,Zr(),Xe("prestige",s),Xe("transcension",s),Xe("reincarnation",s),Xe("octeracts",s),Mp(s*i.timeMultiplier),e.researches[61]>0&&e.currentChallenge.ascension!==14&&Jr("addObtainium",s),e.achievements[173]>0&&Jr("antSacrifice",s),Jr("addOfferings",s),e.shopUpgrades.offeringAuto>0&&e.autoSacrificeToggle&&Jr("runeSacrifice",s),o%5===1&&bi(),o-=1,o<1&&(cs(h),i.timeWarp=!1)},0);if(l("offlinePrestigeCountNumber").textContent=d(f.prestige,0,!0),l("offlinePrestigeTimer").innerHTML=u.t("offlineProgress.currentPrestigeTimer",{value:d(g.prestige,2,!1)}),l("offlineOfferingCount").innerHTML=u.t("offlineProgress.offeringsGenerated",{value:d(f.offering,0,!0)}),l("offlineTranscensionCount").innerHTML=u.t("offlineProgress.transcensionCount",{value:d(f.transcension,0,!0)}),l("offlineTranscensionTimer").innerHTML=u.t("offlineProgress.currentTranscensionCounter",{value:d(g.transcension,2,!1)}),l("offlineReincarnationCount").innerHTML=u.t("offlineProgress.reincarnationCount",{value:d(f.reincarnation,0,!0)}),l("offlineReincarnationTimer").innerHTML=u.t("offlineProgress.currentReincarnationTimer",{value:d(g.reincarnation,2,!1)}),l("offlineObtainiumCount").innerHTML=u.t("offlineProgress.obtainiumGenerated",{value:d(f.obtainium,0,!0)}),l("offlineAntTimer").innerHTML=u.t("offlineProgress.ingameAntSacTimer",{value:d(g.ants,2,!1)}),l("offlineRealAntTimer").innerHTML=u.t("offlineProgress.realAntSacTimer",{value:d(g.antsReal,2,!0)}),l("offlineAscensionTimer").innerHTML=u.t("offlineProgress.currentAscensionTimer",{value:d(g.ascension,2,!0)}),l("offlineQuarkCount").innerHTML=u.t("offlineProgress.exportQuarks",{value:d(g.quarks,0,!0)}),l("progressbardescription").textContent=u.t("calculate.offlineEarnings"),e.offlinetick=n,!e.loadedNov13Vers){if(e.challengecompletions[14]>0||e.highestchallengecompletions[14]>0){let b=e.ascensionCount;Fe("ascensionChallenge"),e.ascensionCount=b+1}e.loadedNov13Vers=!0}if(await Ir(),fr(),Zr(),er(),at(),c){let b=l("notification");b.classList.add("slide-out"),b.classList.remove("slide-in"),document.body.classList.remove("scrollbar"),document.body.classList.add("loading"),l("exitOffline").style.visibility="hidden",l("offlineContainer").style.display="flex",l("transparentBG").style.display="block"}else Co()},Co=()=>{document.body.classList.remove("loading"),document.body.classList.add("scrollbar"),l("transparentBG").style.display="none",l("offlineContainer").style.display="none",l("offlineBlur").style.display="none",wi()},Bt=(t,r,n)=>1+(t-1)*(1-Math.pow(2,-r/n)),nr=(t,r)=>1+(t-1)*(1-Math.exp(-r)),sr=()=>{let t=[e.cubeBlessings.accelerator,e.cubeBlessings.multiplier,e.cubeBlessings.offering,e.cubeBlessings.runeExp,e.cubeBlessings.obtainium,e.cubeBlessings.antSpeed,e.cubeBlessings.antSacrifice,e.cubeBlessings.antELO,e.cubeBlessings.talismanBonus,e.cubeBlessings.globalSpeed],r=[e.cubeUpgrades[45]/100,e.cubeUpgrades[35]/100,e.cubeUpgrades[24]/100,e.cubeUpgrades[14]/100,e.cubeUpgrades[40]/100,e.cubeUpgrades[22]/40,e.cubeUpgrades[15]/100,e.cubeUpgrades[25]/100,e.cubeUpgrades[44]/100,e.cubeUpgrades[34]/100];for(let n=1;n<=10;n++){let a=1,s=1;t[n-1]>=1e3&&(a=i.blessingDRPower[n],s*=Math.pow(1e3,(1-i.blessingDRPower[n])*(1+r[n-1]))),n===6&&(a=2.25,s=1),i.cubeBonusMultiplier[n]=Math.min(1e300,1+s*i.blessingbase[n]*Math.pow(t[n-1],a*(1+r[n-1]))*i.tesseractBonusMultiplier[n])}at(),ma(),Zr()},fi=()=>{if(e.singularityChallenges.noOcteracts.enabled)return 1;if(e.totalWowOcteracts<1e3){let t=1+.002*e.totalWowOcteracts;return t>1.00001?t:1}else{let t=2+ +e.singularityChallenges.noOcteracts.rewards.octeractPow;return 3*Math.pow(Math.log10(e.totalWowOcteracts)-2,t)}},Dn=()=>{if(e.singularityChallenges.noOcteracts.enabled)return 1;if(e.totalWowOcteracts<1e3){let t=1+2e-4*e.totalWowOcteracts;return t>1.00001?t:1}else return 1.1+.1*(Math.log10(e.totalWowOcteracts)-2)},yd=()=>e.singularityChallenges.noOcteracts.rewards.offeringBonus?Math.pow(Dn(),1.5):1,oi=()=>e.singularityChallenges.noOcteracts.rewards.obtainiumBonus?Math.pow(Dn(),1.4):1,ua=()=>{let t=1;if(e.singularityChallenges.limitedTime.enabled){let a=e.singularityChallenges.limitedTime.completions,s=e.singChallengeTimer;t=wp(a,s)}let r=[_e.CUBE_BUFF,Math.pow(Math.min(1,e.ascensionCounter/10),2)*(1+(1/4*e.achievements[204]+1/4*e.achievements[211]+1/2*e.achievements[218])*Math.max(0,e.ascensionCounter/10-1)),1+6/100*e.achievements[250]+10/100*e.achievements[251],1+e.achievements[240]*Math.min(.5,Math.max(.1,1/20*Math.log10(ot().mult+.01))),i.challenge15Rewards.cube1*i.challenge15Rewards.cube2*i.challenge15Rewards.cube3*i.challenge15Rewards.cube4*i.challenge15Rewards.cube5,1+1/100*aa(),1+e.platonicUpgrades[10],Math.pow(1.01,e.platonicUpgrades[15]*e.challengecompletions[9]),Tl(),1+Ct(2),1/He("Cubes"),1+.75*e.shopUpgrades.seasonPassY/100,1+4*(e.singularityUpgrades.starterPack.getEffect().bonus?1:0),+e.singularityUpgrades.singCubes1.getEffect().bonus,+e.singularityUpgrades.singCubes2.getEffect().bonus,+e.singularityUpgrades.singCubes3.getEffect().bonus,1+e.shopUpgrades.seasonPassZ*e.singularityCount/100,1+1*e.cubeUpgrades[66]*(1-e.platonicUpgrades[15]),1+.25*+i.isEvent*e.cubeUpgrades[58],fi(),+e.singularityChallenges.noSingularityUpgrades.rewards.cubes,+e.singularityUpgrades.singCitadel.getEffect().bonus,+e.singularityUpgrades.singCitadel2.getEffect().bonus,1+ +e.singularityUpgrades.platonicDelta.getEffect().bonus*Math.min(9,e.shopUpgrades.shopSingularitySpeedup>0?e.singularityCounter*20/(3600*24):e.singularityCounter/(3600*24)),Math.pow(1.02,e.shopUpgrades.seasonPassInfinity),nc(),+e.blueberryUpgrades.ambrosiaTutorial.bonus.cubes,+e.blueberryUpgrades.ambrosiaCubes1.bonus.cubes,+e.blueberryUpgrades.ambrosiaLuckCube1.bonus.cubes,+e.blueberryUpgrades.ambrosiaQuarkCube1.bonus.cubes,+e.blueberryUpgrades.ambrosiaCubes2.bonus.cubes,+e.blueberryUpgrades.ambrosiaHyperflux.bonus.hyperFlux,+li(),+Rl(),+A0(),t],n=i.isEvent&&i.eventClicked?1.05:1;return{mult:Oe(r)*n,list:r}},Wl=(t=-1)=>{t<0&&(t=Wn().effectiveScore);let r=[Math.pow(t/3e3,1/4.1),ua().mult,1+2.25*e.shopUpgrades.seasonPass/100,(1+e.researches[119]/400)*(1+e.researches[120]/400)*(1+e.researches[137]/100)*(1+.9*e.researches[152]/100)*(1+.8*e.researches[167]/100)*(1+.7*e.researches[182]/100)*(1+.03/100*e.researches[192]*e.antUpgrades[12-1])*(1+.6*e.researches[197]/100),1+.004/100*e.researches[200],(1+e.cubeUpgrades[1]/6)*(1+e.cubeUpgrades[11]/11)*(1+.4*e.cubeUpgrades[30]),1+.01*m.log(e.ascendShards.add(1),4)*Math.min(1,e.constantUpgrades[10]),1+e.achievements[189]*Math.min(2,e.ascensionCount/25e7),1+e.achievements[193]*m.log(e.ascendShards.add(1),10)/400,1+Math.min(250,e.achievements[195]*m.log(e.ascendShards.add(1),10)/400),1+4/100*(e.achievements[198]+e.achievements[199]+e.achievements[200])+3/100*e.achievements[201],1+Math.min(.15,.6/100*Math.log10(t+1))*e.achievements[254],1+yt()/400*i.effectiveRuneSpiritPower[2],i.platonicBonusMultiplier[0],1+9e-5*xe(e.usedCorruptions)*e.platonicUpgrades[1],1+Math.pow(1.03,Math.log10(Math.max(1,e.wowAbyssals)))*e.cubeUpgrades[63]-e.cubeUpgrades[63]];return{list:r,mult:Oe(r)}},zl=(t=-1)=>{t<0&&(t=Wn().effectiveScore);let r=xe(e.usedCorruptions.slice(2,10)),n=[Math.pow(1+Math.max(0,t-1e5)/1e4,.35),ua().mult,1+2.25*e.shopUpgrades.seasonPass/100,1+.01*m.log(e.ascendShards.add(1),4)*Math.min(1,e.constantUpgrades[10]),1+.4*e.cubeUpgrades[30],1+1/200*e.cubeUpgrades[38]*r,1+Math.min(250,e.achievements[195]*m.log(e.ascendShards.add(1),10)/400),1+e.achievements[202]*Math.min(2,e.ascensionCount/5e8),1+4/100*(e.achievements[205]+e.achievements[206]+e.achievements[207])+3/100*e.achievements[208],1+Math.min(.15,.6/100*Math.log10(t+1))*e.achievements[255],i.platonicBonusMultiplier[1],1+18e-5*r*e.platonicUpgrades[2]];return{list:n,mult:Oe(n)}},Kl=(t=-1)=>{t<0&&(t=Wn().effectiveScore);let r=[Math.pow(1+Math.max(0,t-1e9)/1e8,.5),ua().mult,1+1.5*e.shopUpgrades.seasonPass2/100,1+4/100*(e.achievements[212]+e.achievements[213]+e.achievements[214])+3/100*e.achievements[215],1+e.achievements[216]*Math.min(2,e.ascensionCount/1e9),1+1/10*e.achievements[253],1+Math.min(.15,.6/100*Math.log10(t+1))*e.achievements[256],1+Math.min(2,e.ascensionCount/25e9)*e.achievements[265],i.platonicBonusMultiplier[2],1+54e-5*xe(e.usedCorruptions)*e.platonicUpgrades[3],1+.6/1e3*ct("hyperrealism")];return{list:r,mult:Oe(r)}},Xl=(t=-1)=>{t<0&&(t=Wn().effectiveScore);let r=[Math.pow(1+Math.max(0,t-2666e9)/2666e8,.75),ua().mult,1+1.5*e.shopUpgrades.seasonPass2/100,1+Math.min(20,e.achievements[196]*1/5e3*m.log(e.ascendShards.add(1),10)),1+4/100*(e.achievements[219]+e.achievements[220]+e.achievements[221])+3/100*e.achievements[222],1+e.achievements[223]*Math.min(2,e.ascensionCount/1337e6),1+Math.min(.15,.6/100*Math.log10(t+1))*e.achievements[257],i.platonicBonusMultiplier[3],1+1.2*e.platonicUpgrades[4]/50];return{list:r,mult:Oe(r)}},Zl=(t=-1)=>{t<0&&(t=Wn().effectiveScore);let r=[Math.pow(1+Math.max(0,t-1666e13)/333e14,.85),ua().mult,1+1.5*e.shopUpgrades.seasonPass3/100,1+Math.min(.15,.6/100*Math.log10(t+1))*e.achievements[258],1+Math.min(.4,e.ascensionCount/2e13)*e.achievements[264],1+Math.min(.2,e.ascensionCount/8e14)*e.achievements[265],Math.min(2,1+1/1e6*m.log(e.ascendShards.add(1),10)*e.achievements[270])];return{list:r,mult:Oe(r)}},L0=()=>{let t=xe(e.usedCorruptions.slice(2,10));return[_e.CUBE_BUFF,1+1.5*e.shopUpgrades.seasonPass3/100,1+.75*e.shopUpgrades.seasonPassY/100,1+e.shopUpgrades.seasonPassZ*e.singularityCount/100,1+e.shopUpgrades.seasonPassLost/1e3,1+ +(t>=14*8)*e.cubeUpgrades[70]/1e4,1+ +(t>=14*8)*+e.singularityUpgrades.divinePack.getEffect().bonus,+e.singularityUpgrades.singCubes1.getEffect().bonus,+e.singularityUpgrades.singCubes2.getEffect().bonus,+e.singularityUpgrades.singCubes3.getEffect().bonus,+e.singularityUpgrades.singOcteractGain.getEffect().bonus,+e.singularityUpgrades.singOcteractGain2.getEffect().bonus,+e.singularityUpgrades.singOcteractGain3.getEffect().bonus,+e.singularityUpgrades.singOcteractGain4.getEffect().bonus,+e.singularityUpgrades.singOcteractGain5.getEffect().bonus,1+vr()/100*+e.singularityUpgrades.singOcteractPatreonBonus.getEffect().bonus,1+.2*+e.octeractUpgrades.octeractStarter.getEffect().bonus,+e.octeractUpgrades.octeractGain.getEffect().bonus,+e.octeractUpgrades.octeractGain2.getEffect().bonus,D2(),Math.pow(1+ +e.octeractUpgrades.octeractAscensionsOcteractGain.getEffect().bonus,1+Math.floor(Math.log10(1+e.ascensionCount))),1+Ct(10),1+ +e.singularityUpgrades.platonicDelta.getEffect().bonus*Math.min(9,e.shopUpgrades.shopSingularitySpeedup>0?e.singularityCounter*20/(3600*24):e.singularityCounter/(3600*24)),+e.singularityChallenges.noSingularityUpgrades.rewards.cubes,Math.pow(1.02,e.shopUpgrades.seasonPassInfinity),nc(),+e.blueberryUpgrades.ambrosiaTutorial.bonus.cubes,+e.blueberryUpgrades.ambrosiaCubes1.bonus.cubes,+e.blueberryUpgrades.ambrosiaLuckCube1.bonus.cubes,+e.blueberryUpgrades.ambrosiaQuarkCube1.bonus.cubes,+e.blueberryUpgrades.ambrosiaCubes2.bonus.cubes,+Rl(),+A0()]},bn=()=>{let r=Wn().effectiveScore,n=r>=1e23?r/1e23:0,a=L0(),s=e.singularityUpgrades.oneMind.getEffect().bonus?Math.pow(10,1/2):Math.pow(en(),1/2),o=e.singularityUpgrades.oneMind.getEffect().bonus?Math.pow(en()/10,+e.octeractUpgrades.octeractOneMindImprover.getEffect().bonus):1,c=i.isEvent&&i.eventClicked?1.05:1;return 1/(24*3600*365*1e15)*n*Oe(a)*s*o*c},xm=(t=-1)=>{t<0&&(t=Wn().effectiveScore);let n=L0();n.unshift(t>=1e23?t/1e23:0);let a=en(),s=e.singularityUpgrades.oneMind.getEffect().bonus?Math.pow(10,1/2)*Math.pow(a/10,+e.octeractUpgrades.octeractOneMindImprover.getEffect().bonus):Math.pow(a,1/2);return n.push(s),{list:n,mult:Oe(n)}},ot=()=>{let t=[1+.0033333333333333335*Math.log10(e.maxobtainium+1)*e.upgrades[70],1+e.researches[121]/50,1+.015*e.researches[136],1+.012*e.researches[151],1+.009*e.researches[166],1+.006*e.researches[181],1+.003*e.researches[196],1+8*i.effectiveRuneBlessingPower[1],1+yt()/400*i.effectiveRuneSpiritPower[1],i.cubeBonusMultiplier[10],1+e.cubeUpgrades[18]/5,Bt(2,e.antUpgrades[11]+i.bonusant12,69),1+.1*(e.talismanRarity[1]-1),i.challenge15Rewards.globalSpeed,1+.01*e.cubeUpgrades[52]],r=[i.lazinessMultiplier[e.usedCorruptions[3]]],n=Oe(t)*r[0];if(n>100){let c=10*Math.sqrt(n)/n;r.push(c)}else r.push(1);if(n<1){let c=Math.pow(n,1-e.platonicUpgrades[7]/30)/n;r.push(c)}else r.push(1);r.push(1/He("Global Speed"));let a=[i.platonicBonusMultiplier[7],1+(e.singularityUpgrades.intermediatePack.getEffect().bonus?1:0),1+ +e.octeractUpgrades.octeractImprovedGlobalSpeed.getEffect().bonus*e.singularityCount,1+ +e.singularityChallenges.limitedTime.rewards.globalSpeed,Math.max(Math.pow(1.01,(e.singularityCount-200)*e.shopUpgrades.shopChronometerS),1)],s=Oe(t)*Oe(r)*Oe(a);return e.usedCorruptions[3]>=6&&e.achievements[241]<1&&F(241),s>3600&&e.achievements[242]<1&&F(242),{preList:t,drList:r,postList:a,mult:s}},I2=()=>{if(e.singularityChallenges.limitedAscensions.enabled){let t=e.ascensionCount-Math.max(0,20-e.singularityChallenges.limitedAscensions.completions);return t=Math.max(0,t),Math.pow(2,t)}else return 1},pd=()=>{let t=[1+.012*e.shopUpgrades.chronometer,1+.006*e.shopUpgrades.chronometer2,1+.015*e.shopUpgrades.chronometer3,1+6e-4*ct("chronos"),1+Math.min(.1,.01*Math.log10(e.ascensionCount+1))*e.achievements[262],1+Math.min(.1,.01*Math.log10(e.ascensionCount+1))*e.achievements[263],1+.002*xe(e.usedCorruptions)*e.platonicUpgrades[15],i.challenge15Rewards.ascensionSpeed,1+.0025*e.cubeUpgrades[59],1+.5*(e.singularityUpgrades.intermediatePack.getEffect().bonus?1:0),1+.001*e.singularityCount*e.shopUpgrades.chronometerZ,1+ +e.octeractUpgrades.octeractImprovedAscensionSpeed.getEffect().bonus*e.singularityCount,1+ +e.octeractUpgrades.octeractImprovedAscensionSpeed2.getEffect().bonus*e.singularityCount,1+Ct(4),e.singularityUpgrades.singAscensionSpeed2.level>0&&e.runelevels[6]<1?6:1,Math.pow(1.01,e.shopUpgrades.chronometerInfinity),1/I2(),Math.pow(1+ +e.singularityChallenges.limitedAscensions.rewards.ascensionSpeedMult,1+Math.max(0,Math.floor(Math.log10(e.ascensionCount)))),1+ +e.singularityChallenges.limitedTime.rewards.ascensionSpeed,Math.max(Math.pow(1.01,(e.singularityCount-200)*e.shopUpgrades.shopChronometerS),1)],r=Oe(t),n=e.singularityUpgrades.singAscensionSpeed.level>0?r>=1?1.03:.97:1;t.push(Math.pow(r,n)/r),t.push(1/He("Ascension Speed"));let a=Oe(t);return isFinite(a)||(a=0),{list:t,mult:a}},en=()=>pd().mult,fd=()=>{let t=1,r=[5,7,10,20,35,50,65,80,90,100,121,144,150,160,166,169,170,175,180,190,196,200,201,202,203,204,205,210,212,214,216,218,220,225,250,255,260,261,262];for(let n of r)e.highestSingularityCount>=n&&(t*=1.05);return e.highestSingularityCount>=200&&(t*=Math.pow((e.highestSingularityCount-179)/20,2)),t},ul=()=>{let t=1;return e.achievementPoints>0&&(t+=e.achievementPoints/25e3),e.achievements[250]>0&&(t+=.1),e.achievements[251]>0&&(t+=.1),e.platonicUpgrades[5]>0&&(t+=.2),e.platonicUpgrades[10]>0&&(t+=.25),e.platonicUpgrades[15]>0&&(t+=.3),e.challenge15Exponent>=1e11&&(t+=i.challenge15Rewards.quarks-1),Va()&&(t*=1.1+.15/75*aa()),e.challenge15Exponent>=1e15&&(t*=1+5/1e4*ct("quark")),e.overfluxPowder>0&&(t*=Ds()),e.achievements[266]>0&&(t*=1+Math.min(.1,e.ascensionCount/1e16)),e.singularityCount>0&&(t*=1+e.singularityCount/10),i.isEvent&&(t*=1+Ct(0)+Ct(13)),e.cubeUpgrades[53]>0&&(t*=1+.1*e.cubeUpgrades[53]/100),e.cubeUpgrades[68]>0&&(t*=1+1/1e4*e.cubeUpgrades[68]+.05*Math.floor(e.cubeUpgrades[68]/1e3)),t*=fd(),t*=+e.octeractUpgrades.octeractQuarkGain.getEffect().bonus,t*=1+.4*+e.octeractUpgrades.octeractStarter.getEffect().bonus,t*=1+1/1e4*Math.floor(e.octeractUpgrades.octeractQuarkGain.level/111)*e.octeractUpgrades.octeractQuarkGain2.level*Math.floor(1+Math.log10(Math.max(1,e.hepteractCrafts.quark.BAL))),t*=1+.02*e.singularityUpgrades.intermediatePack.level+.04*e.singularityUpgrades.advancedPack.level+.06*e.singularityUpgrades.expertPack.level+.08*e.singularityUpgrades.masterPack.level+.1*e.singularityUpgrades.divinePack.level,t*=1+ +e.singularityUpgrades.singQuarkImprover1.getEffect().bonus,t*=Dn(),t*=ii(),t*=+e.blueberryUpgrades.ambrosiaTutorial.bonus.quarks,t*=+e.blueberryUpgrades.ambrosiaQuarks1.bonus.quarks,t*=+e.blueberryUpgrades.ambrosiaCubeQuark1.bonus.quarks,t*=+e.blueberryUpgrades.ambrosiaLuckQuark1.bonus.quarks,t*=+e.blueberryUpgrades.ambrosiaQuarks2.bonus.quarks,t*=Jo(),t*=1+ +e.singularityChallenges.limitedTime.rewards.quarkMult,t*=1+ +e.singularityChallenges.sadisticPrequel.rewards.quarkMult,e.highestSingularityCount===0&&(t*=1.25),t},gd=(t=!1)=>{let r=2*e.singularityCount+10,n=e.singularityCount<10?200-10*e.singularityCount:0;e.singularityCount===0&&(n+=200);let a=1;e.highestSingularityCount>=200&&(a=3),e.highestSingularityCount>=208&&(a=5),e.highestSingularityCount>=221&&(a=8);let s=[_e.GOLDEN_QUARK_BUFF,1+Math.max(0,Math.log10(e.challenge15Exponent+1)-20)/2,1+vr()/100,+e.singularityUpgrades.goldenQuarks1.getEffect().bonus,1+.12*e.cubeUpgrades[69],+e.singularityChallenges.noSingularityUpgrades.rewards.goldenQuarks,1+Ct(1),1+Ga(),e.highestSingularityCount>=100?1+Math.min(1,e.highestSingularityCount/250):1,a];return s.push(t?1/1e5:((r+e.quarksThisSingularity/1e5)*Oe(s)+n)/Oe(s)),{list:s,mult:Oe(s)}},pr=(t=!1)=>gd(t).mult,yt=()=>{let t=400,r=e.singularityUpgrades.corruptionFifteen.getEffect().bonus?1:0;for(let n=1;n<=9;n++)t+=16*Math.pow(e.usedCorruptions[n]+r,2);return t},pa=(t,r,n,a=1e9)=>{let s=r*t*(1+t)/2,o=Math.min(t+a,Math.floor(-1/2+Math.sqrt(1/4+2*(n+s)/r))),c=r*o*(1+o)/2-s;return[o,c]},wr=(t,r,n,a,s)=>{let o=a/2;n=n||0;let c=r*(o*Math.pow(t,2)+t*(1-o));n+=c;let p=n/r,f=o>0?Math.max(0,Math.floor((o-1)/(2*o)+Math.pow(Math.pow(1-o,2)+4*o*p,1/2)/(2*o))):Math.floor(p);f=Math.min(f,s+t),f=Math.max(f,t);let g=r*(o*Math.pow(f,2)+f*(1-o))-c;return f===t&&(g=r*(1+2*o*t)),{levelCanBuy:f,cost:g}},x0=t=>t<0||!Number.isInteger(t)?-1:Math.pow(t*(t+1)/2,2),N2=(t,r,n,a)=>{if(t<0)throw new Error(String(u.t("calculate.quadraticImproperError")));let s=Math.pow(r,2)-4*t*n;if(s<0)throw new Error(String(u.t("calculate.quadraticDeterminantError")));if(s===0)return-r/(2*t);let o=-r+Math.sqrt(Math.pow(r,2)-4*t*n),c=-r-Math.sqrt(Math.pow(r,2)-4*t*n);return a?o/(2*t):c/(2*t)},vg=(t,r,n,a)=>{if(t>=a)return{levelCanBuy:a,cost:0};let s=r*x0(t),o=s+n;if(o<0)throw new Error(String(u.t("calculate.cubicSumNegativeError")));let c=Math.pow(o/r,.5),p=N2(1,1,-2*c,!0),f=Math.max(Math.min(a,Math.floor(p)),t),g=f===t?r*Math.pow(t+1,3):r*x0(f)-s;return{levelCanBuy:f,cost:g}},_2=()=>{let t=1;return t*=i.challenge15Rewards.score,t*=i.platonicBonusMultiplier[6],e.cubeUpgrades[21]>0&&(t*=1+.05*e.cubeUpgrades[21]),e.cubeUpgrades[31]>0&&(t*=1+.05*e.cubeUpgrades[31]),e.cubeUpgrades[41]>0&&(t*=1+.05*e.cubeUpgrades[41]),e.achievements[267]>0&&(t*=1+Math.min(1,1/1e5*m.log(e.ascendShards.add(1),10))),e.achievements[259]>0&&(t*=Math.max(1,Math.pow(1.01,Math.log2(e.hepteractCrafts.abyss.CAP)))),i.isEvent&&(t*=1+Ct(6)),t},Wn=()=>{let t=0,r=1,n=0,a=e.singularityUpgrades.corruptionFifteen.getEffect().bonus?1:0;a+=+e.singularityChallenges.oneChallengeCap.rewards.freeCorruptionLevel;let s=[0,8,10,12,15,20,60,80,120,180,300],o=[0,10,12,15,20,30,80,120,180,300,450],c=[0,20,30,50,100,200,250,300,400,500,750],p=[0,1e4,1e4,1e4,1e4,1e4,2e3,3e3,4e3,5e3,7500];s[1]+=e.cubeUpgrades[56],s[2]+=e.cubeUpgrades[56],s[3]+=e.cubeUpgrades[56];for(let h=1;h<=10;h++)t+=s[h]*e.highestchallengecompletions[h],h<=5&&e.highestchallengecompletions[h]>=75&&(t+=o[h]*(e.highestchallengecompletions[h]-75),e.highestchallengecompletions[h]>=750&&(t+=c[h]*(e.highestchallengecompletions[h]-750)),e.highestchallengecompletions[h]>=9e3&&(t+=p[h]*(e.highestchallengecompletions[h]-9e3))),h<=10&&h>5&&e.highestchallengecompletions[h]>=25&&(t+=o[h]*(e.highestchallengecompletions[h]-25),e.highestchallengecompletions[h]>=60&&(t+=c[h]*(e.highestchallengecompletions[h]-60)));t*=Math.pow(1.03+.005*e.cubeUpgrades[39]+.0025*(e.platonicUpgrades[5]+e.platonicUpgrades[10]),e.highestchallengecompletions[10]);let f=e.singularityUpgrades.advancedPack.getEffect().bonus?.33:0;f+=+e.singularityChallenges.oneChallengeCap.rewards.corrScoreIncrease;for(let h=2;h<10;h++){let b=h===2&&e.usedCorruptions[h]>=10?1+2*Math.min(1,e.platonicUpgrades[17])+.04*e.platonicUpgrades[17]:1;r*=Math.pow(i.corruptionPointMultipliers[e.usedCorruptions[h]+a],b)+f,e.usedCorruptions[h]>=14&&e.singularityUpgrades.masterPack.getEffect().bonus&&(r*=1.1)}let g=_2();return n=t*r*g,n>1e23&&(n=Math.pow(n,.5)*Math.pow(1e23,.5)),e.singularityUpgrades.expertPack.getEffect().bonus?n*=1.5:n*=1,{baseScore:t,corruptionMultiplier:r,bonusMultiplier:g,effectiveScore:n}},vn=()=>{let t=0,r=1,n=Wn(),a=n.baseScore,s=n.corruptionMultiplier,o=n.bonusMultiplier,c=n.effectiveScore;for(let x=1;x<=10;x++)r=x>=6?2:1,t+=r*e.highestchallengecompletions[x];let p=e.singularityUpgrades.oneMind.getEffect().bonus?en()/10:1,f=t;f*=Wl(c).mult,f*=p;let g=e.singularityUpgrades.platonicTau.getEffect().bonus?1.01:1;f=Math.pow(f,g);let h=1;c>=1e5&&(h+=.5),h*=zl(c).mult,h*=p;let b=c>=1e9?1:0;b*=Kl(c).mult,b*=p;let y=c>=2666e9?1:0;y*=Xl(c).mult,y*=p;let C=i.challenge15Rewards.hepteractUnlocked&&c>=1666e14&&e.achievements[255]>0?1:0;return C*=Zl(c).mult,C*=p,[t,Math.floor(a),s,Math.floor(c),Math.min(1e300,Math.floor(f)),Math.min(1e300,Math.max(e.singularityCount,Math.floor(h))),Math.min(1e300,Math.floor(b)),Math.min(1e300,Math.floor(y)),Math.min(1e300,Math.floor(C)),o]},ui=()=>{let t=1;if(e.singularityChallenges.limitedAscensions.enabled)return t;if(e.challengecompletions[10]>0&&e.achievements[197]===1){let{effectiveScore:r}=Wn();e.ascensionCounter>=10&&(e.achievements[188]>0&&(t+=99),t*=1+(e.ascensionCounter/10-1)*.2*(e.achievements[189]+e.achievements[202]+e.achievements[209]+e.achievements[216]+e.achievements[223])),t*=e.achievements[187]&&Math.floor(r)>1e8?Math.log10(Math.floor(r)+1)-1:1,t*=i.challenge15Rewards.ascensions,t*=e.achievements[260]>0?1.1:1,t*=e.achievements[261]>0?1.1:1,t*=e.platonicUpgrades[15]>0?2:1,t*=1+.02*e.platonicUpgrades[16],t*=1+.02*e.platonicUpgrades[16]*Math.min(1,e.overfluxPowder/1e5),t*=1+e.singularityCount/10,t*=+e.singularityUpgrades.ascensions.getEffect().bonus,t*=+e.octeractUpgrades.octeractAscensions.getEffect().bonus,t*=+e.octeractUpgrades.octeractAscensions2.getEffect().bonus,t*=e.singularityUpgrades.oneMind.getEffect().bonus?en()/10:1}return Math.floor(t)},Kr=()=>{let t=[.01,i.challenge15Rewards.powder,1+e.shopUpgrades.powderEX/50,1+e.achievements[256]/20,1+e.achievements[257]/20,1+.01*e.platonicUpgrades[16],1+Ct(3)];return{list:t,mult:Oe(t)}},ea=()=>(Bt(2,Math.pow(e.overfluxOrbs,.5),40)+Bt(1.5,Math.pow(e.overfluxOrbs,.5),160)+Bt(1.5,Math.pow(e.overfluxOrbs,.5),640)+Bt(1.15,+(e.highestSingularityCount>=1)*Math.pow(e.overfluxOrbs,.45),2560)+Bt(1.15,+(e.highestSingularityCount>=2)*Math.pow(e.overfluxOrbs,.4),1e4)+Bt(1.25,+(e.highestSingularityCount>=5)*Math.pow(e.overfluxOrbs,.35),4e4)+Bt(1.25,+(e.highestSingularityCount>=10)*Math.pow(e.overfluxOrbs,.32),16e4)+Bt(1.35,+(e.highestSingularityCount>=15)*Math.pow(e.overfluxOrbs,.27),64e4)+Bt(1.45,+(e.highestSingularityCount>=20)*Math.pow(e.overfluxOrbs,.24),2e6)+Bt(1.55,+(e.highestSingularityCount>=25)*Math.pow(e.overfluxOrbs,.21),1e7)+Bt(1.85,+(e.highestSingularityCount>=30)*Math.pow(e.overfluxOrbs,.18),4e7)+Bt(3,+(e.highestSingularityCount>=35)*Math.pow(e.overfluxOrbs,.15),1e8)-11)*(1+1/500*e.shopUpgrades.cubeToQuarkAll)*(e.autoWarpCheck?1+e.dailyPowderResetUses:1),Tl=()=>e.overfluxPowder>1e4?1+1/16*Math.pow(Math.log10(e.overfluxPowder),2):1+1/1e4*e.overfluxPowder,Ds=()=>e.overfluxPowder>1e4?1+1/40*Math.log10(e.overfluxPowder):1+1/1e5*e.overfluxPowder,cp=()=>{let t=0,r=[35,42,49,56,63,70,77],n=[135,142,149,156,163,170,177];for(let a of r)e.highestSingularityCount>=a&&(t+=5);for(let a of n)e.highestSingularityCount>=a&&(t+=6);return t},up=()=>{let t=[1+e.shopUpgrades.shopAmbrosiaGeneration1/100,1+e.shopUpgrades.shopAmbrosiaGeneration2/100,1+e.shopUpgrades.shopAmbrosiaGeneration3/100,1+e.shopUpgrades.shopAmbrosiaGeneration4/1e3];return Oe(t)},dp=()=>{let t=[2*e.shopUpgrades.shopAmbrosiaLuck1,2*e.shopUpgrades.shopAmbrosiaLuck2,2*e.shopUpgrades.shopAmbrosiaLuck3,.6*e.shopUpgrades.shopAmbrosiaLuck4];return xe(t)},pp=()=>{let t=[+e.singularityUpgrades.singAmbrosiaGeneration.getEffect().bonus,+e.singularityUpgrades.singAmbrosiaGeneration2.getEffect().bonus,+e.singularityUpgrades.singAmbrosiaGeneration3.getEffect().bonus,+e.singularityUpgrades.singAmbrosiaGeneration4.getEffect().bonus];return Oe(t)},fp=()=>{let t=[+e.singularityUpgrades.singAmbrosiaLuck.getEffect().bonus,+e.singularityUpgrades.singAmbrosiaLuck2.getEffect().bonus,+e.singularityUpgrades.singAmbrosiaLuck3.getEffect().bonus,+e.singularityUpgrades.singAmbrosiaLuck4.getEffect().bonus];return xe(t)},gp=()=>{let t=[+e.octeractUpgrades.octeractAmbrosiaGeneration.getEffect().bonus,+e.octeractUpgrades.octeractAmbrosiaGeneration2.getEffect().bonus,+e.octeractUpgrades.octeractAmbrosiaGeneration3.getEffect().bonus,+e.octeractUpgrades.octeractAmbrosiaGeneration4.getEffect().bonus];return Oe(t)},mp=()=>{let t=[+e.octeractUpgrades.octeractAmbrosiaLuck.getEffect().bonus,+e.octeractUpgrades.octeractAmbrosiaLuck2.getEffect().bonus,+e.octeractUpgrades.octeractAmbrosiaLuck3.getEffect().bonus,+e.octeractUpgrades.octeractAmbrosiaLuck4.getEffect().bonus];return xe(t)},eo=()=>{let t=i.TIME_PER_AMBROSIA;t+=Math.floor(e.lifetimeAmbrosia/30);let r=t,n=[5e3,25e3,75e3,25e4,5e5,1e6,2e6,4e6,1e7,2e7,4e7,1e8];for(let a of n)r>=a&&(t*=2);return t},hp=()=>{let t=0;return e.highestSingularityCount>=270?t=5:e.highestSingularityCount>=256?t=4:e.highestSingularityCount>=192?t=3:e.highestSingularityCount>=128?t=2:e.highestSingularityCount>=64&&(t=1),t},nc=()=>{let t=e.singularityChallenges.noAmbrosiaUpgrades.enabled?0:e.lifetimeAmbrosia,r=1;return r+=Math.min(1.5,Math.floor(t/66)/100),t>=1e4&&(r+=Math.min(1.5,Math.floor(t/666)/100)),t>=1e5&&(r+=Math.floor(t/6666)/100),r},ii=()=>{let t=e.singularityChallenges.noAmbrosiaUpgrades.enabled?0:e.lifetimeAmbrosia,r=1;return r+=Math.min(.3,Math.floor(t/1666)/100),t>=5e4&&(r+=Math.min(.3,Math.floor(t/16666)/100)),t>=5e5&&(r+=Math.floor(t/166666)/100),r},vp=t=>1+e.shopUpgrades.shopCashGrabUltra*t*Math.min(1,Math.pow(e.lifetimeAmbrosia/1e7,1/3)),Yo=()=>vp(P2),Rl=()=>vp(A2),Jo=()=>vp(L2),Cp=t=>1+t*Math.min(e.shopUpgrades.shopEXUltra,Math.floor(e.lifetimeAmbrosia/1e3)/125),$2=()=>Cp(E2),md=()=>Cp(O2),A0=()=>Cp(U2),li=()=>e.singularityChallenges.limitedAscensions.rewards.exaltBonus&&i.currentSingChallenge!==void 0?Math.pow(1.04,e.singularityChallenges[i.currentSingChallenge].completions):1,wp=(t,r)=>{let n=Math.max(0,r-600+20*t);return n===0?1:Math.pow(10+t,-n/60)},bp=()=>{let t=[100,150,200,225,250,255,260,265,269,272];for(let r=0;r<t.length;r++)if(e.highestSingularityCount<t[r])return r/100;return t.length/100},yn=()=>{let t=[1,+e.singularityChallenges.noSingularityUpgrades.rewards.luckBonus,bp(),e.shopUpgrades.shopAmbrosiaLuckMultiplier4/100,+e.singularityChallenges.noAmbrosiaUpgrades.rewards.luckBonus,i.isEvent?Ct(12):0];return{value:xe(t),array:t}},nt=()=>{let t=[100,_e.AMBROSIA_LUCK_BUFF,cp(),dp(),fp(),mp(),+e.blueberryUpgrades.ambrosiaLuck1.bonus.ambrosiaLuck,+e.blueberryUpgrades.ambrosiaLuck2.bonus.ambrosiaLuck,+e.blueberryUpgrades.ambrosiaCubeLuck1.bonus.ambrosiaLuck,+e.blueberryUpgrades.ambrosiaQuarkLuck1.bonus.ambrosiaLuck,e.highestSingularityCount>=131?131:0,e.highestSingularityCount>=269?269:0,e.shopUpgrades.shopOcteractAmbrosiaLuck*(1+Math.floor(Math.log10(e.totalWowOcteracts+1))),+e.singularityChallenges.noAmbrosiaUpgrades.rewards.additiveLuck,e.shopUpgrades.shopAmbrosiaUltra*ed()],r=yn().value;return{value:xe(t)*r,array:t.concat(r)}},Ha=()=>{let t=[+(e.singularityChallenges.noSingularityUpgrades.completions>0),+e.singularityUpgrades.blueberries.getEffect().bonus,hp(),+e.singularityChallenges.noAmbrosiaUpgrades.rewards.blueberries];return{value:xe(t),array:t}},rt=()=>{let t=[+e.visitedAmbrosiaSubtab,_e.AMBROSIA_GENERATION_BUFF,Ha().value,up(),pp(),gp(),+e.blueberryUpgrades.ambrosiaPatreon.bonus.blueberryGeneration,+e.singularityChallenges.oneChallengeCap.rewards.blueberrySpeedMult,+e.singularityChallenges.noAmbrosiaUpgrades.rewards.blueberrySpeedMult,i.isEvent?1+Ct(11):1,Yo()];return{value:Oe(t),array:t}},xp=()=>{if(!e.dayCheck)return;let t=new Date(Vl()),r=new Date(t.getFullYear(),t.getMonth(),t.getDate()),n=t.getHours(),a=t.getMinutes(),s=t.getSeconds();e.dayTimer=60*60*24-60*60*n-60*a-s,r.getTime()-36e5>e.dayCheck.getTime()&&(e.dayCheck=r,Qo(!0),e.dailyPowderResetUses=1+e.shopUpgrades.extraWarp,e.dailyCodeUsed=!1,l("cubeQuarksOpenRequirement").style.display="block",e.challengecompletions[11]>0&&(l("tesseractQuarksOpenRequirement").style.display="block"),e.challengecompletions[13]>0&&(l("hypercubeQuarksOpenRequirement").style.display="block"),e.challengecompletions[14]>0&&(l("platonicCubeQuarksOpenRequirement").style.display="block"))},Qo=(t=!1)=>{e.cubeQuarkDaily=0,e.tesseractQuarkDaily=0,e.hypercubeQuarkDaily=0,e.platonicCubeQuarkDaily=0,e.cubeOpenedDaily=0,e.tesseractOpenedDaily=0,e.hypercubeOpenedDaily=0,e.platonicCubeOpenedDaily=0,t&&(e.overfluxPowder+=e.overfluxOrbs*Kr().mult,e.overfluxOrbs=i.challenge15Rewards.freeOrbs)},Ct=t=>i.isEvent?cd(t):0,D2=()=>{let t=0,r=[18,38,58,78,88,98,118,148,178,188,198,208,218,228,238,248];for(let n of r)e.highestSingularityCount>=n&&(t+=1);return 1+t*e.highestSingularityCount/100},Va=()=>e.shopUpgrades.infiniteAscent>0||_e.INSTANT_UNLOCK_2,Pc=()=>e.shopUpgrades.shopTalisman>0||_e.INSTANT_UNLOCK_1;var ed=()=>{let t=0;for(let r of Object.values(e.singularityChallenges))t+=r.completions;return t};var lt=t=>{let r=0;return t<=5?e.singularityChallenges.oneChallengeCap.enabled?1:(r=25,e.researches[105]>0?9001:(r+=5*e.researches[65+t],r)):t<=10&&t>5?e.singularityChallenges.oneChallengeCap.enabled?1:(r=40,r+=4*e.cubeUpgrades[29],r+=2*e.shopUpgrades.challengeExtension,e.platonicUpgrades[5]>0&&(r+=10),e.platonicUpgrades[10]>0&&(r+=10),e.platonicUpgrades[15]>0&&(r+=30),r+=2*+e.singularityUpgrades.singChallengeExtension.getEffect().bonus,r+=2*+e.singularityUpgrades.singChallengeExtension2.getEffect().bonus,r+=2*+e.singularityUpgrades.singChallengeExtension3.getEffect().bonus,r+=+e.singularityChallenges.oneChallengeCap.rewards.capIncrease,r+=+e.singularityChallenges.oneChallengeCap.rewards.reinCapIncrease2,r):t<=15&&t>10?t===15?0:e.singularityChallenges.oneChallengeCap.enabled?1:(r=30,e.platonicUpgrades[5]>0&&(r+=5),e.platonicUpgrades[10]>0&&(r+=5),e.platonicUpgrades[15]>0&&(r+=20),r+=+e.singularityUpgrades.singChallengeExtension.getEffect().bonus,r+=+e.singularityUpgrades.singChallengeExtension2.getEffect().bonus,r+=+e.singularityUpgrades.singChallengeExtension3.getEffect().bonus,r+=+e.singularityChallenges.oneChallengeCap.rewards.ascCapIncrease2,r):r},Pt=(t,r=!0)=>{let n=1;r&&(i.challengefocus=t,l("oneChallengeDetails").style.display="flex",l("startChallenge").style.display="block",l("retryChallenge").style.display="block",i.triggerChallenge=t);let a=lt(t);t<=5&&r&&(e.challengecompletions[t]>=100?l("completionSoftcap").innerHTML=u.t("challenges.perCompletionBonus",{x:100,y:d(z("transcend",e.challengecompletions[t]),2,!0)}):l("completionSoftcap").textContent=u.t("challenges.perCompletionBonusEmpty")),t>5&&t<=10&&(n=10,e.challengecompletions[t]>=25&&r?l("completionSoftcap").innerHTML=u.t("challenges.perCompletionBonus",{x:25,y:d(z("reincarnation",e.challengecompletions[t]),2,!0)}):l("completionSoftcap").textContent=u.t("challenges.perCompletionBonusEmpty")),t>10&&(e.challengecompletions[t]>=10?l("completionSoftcap").innerHTML=u.t("challenges.perCompletionBonus",{x:10,y:d(z("ascension",e.challengecompletions[t]),2,!0)}):l("completionSoftcap").textContent=u.t("challenges.perCompletionBonusEmpty"));let s="",o=l("challengeName"),c=l("challengeFlavor"),p=l("challengeRestrictions"),f=l("challengeGoal"),g=l("challengePer1").childNodes[0],h=l("challengePer2").childNodes[0],b=l("challengePer3").childNodes[0],y=l("challengeFirst1"),C=l("challengeQuarkBonus"),x=l("startChallenge"),D=l("challengeCurrent1"),$=l("challengeCurrent2"),L=l("challengeCurrent3");if(t===i.challengefocus){let Q=`${e.challengecompletions[t]}/${d(a)}`,J=t>=6&&t<=10||t===15,M=d(Kt(t,e.challengecompletions[t],J?t:0)),j="",ae="",ge="";switch(t){case 1:{j=ae=d(10*z("transcend",e.challengecompletions[1])),ge=d(.04*z("transcend",e.challengecompletions[1]),2,!0);break}case 2:{j=ae=d(5*z("transcend",e.challengecompletions[2]));break}case 3:{j=d(.04*e.challengecompletions[3],2,!0),ae=d(.5*z("transcend",e.challengecompletions[3]),2,!0),ge=d(.01*z("transcend",e.challengecompletions[3]),2,!0);break}case 4:{j=d(5*z("transcend",e.challengecompletions[4])),ae=d(2*z("transcend",e.challengecompletions[4])),ge=d(.5*z("transcend",e.challengecompletions[4]),2,!0);break}case 5:{j=d(.5+z("transcend",e.challengecompletions[5])/100,2,!0),ae=d(Math.pow(10,z("transcend",e.challengecompletions[5])));break}case 6:{j=d(Math.pow(.965,z("reincarnation",e.challengecompletions[6])),3,!0),ae=d(10*z("reincarnation",e.challengecompletions[6])),ge=d(2*z("reincarnation",e.challengecompletions[6]));break}case 7:{j=d(1+.04*z("reincarnation",e.challengecompletions[7]),2,!0),ae=ge=d(10*z("reincarnation",e.challengecompletions[7]));break}case 8:{j=d(.25*z("reincarnation",e.challengecompletions[8]),2,!0),ae=d(20*z("reincarnation",e.challengecompletions[8]),2,!0),ge=d(4*z("reincarnation",e.challengecompletions[8]),2,!0);break}case 9:{j=d(z("reincarnation",e.challengecompletions[9])),ae=d(Math.pow(1.1,z("reincarnation",e.challengecompletions[9])),2,!0),ge=d(20*z("reincarnation",e.challengecompletions[9]),2,!0);break}case 10:{j=d(100*z("reincarnation",e.challengecompletions[10])),ae=d(2*z("reincarnation",e.challengecompletions[10])),ge=d(10*z("reincarnation",e.challengecompletions[10]),2,!0);break}case 11:{j=d(12*z("ascension",e.challengecompletions[11])),ae=d(m.pow(1e5,z("ascension",e.challengecompletions[11]))),ge=d(80*z("ascension",e.challengecompletions[11]));break}case 12:{j=d(50*z("ascension",e.challengecompletions[12])),ae=d(12*z("ascension",e.challengecompletions[12])),ge=d(z("ascension",e.challengecompletions[12]));break}case 13:{j=d(100-100*Math.pow(.966,z("ascension",e.challengecompletions[13])),3,!0),ae=d(6*z("ascension",e.challengecompletions[13])),ge=d(3*z("ascension",e.challengecompletions[13]));break}case 14:{j=d(50*z("ascension",e.challengecompletions[14])),ae=d(1*e.challengecompletions[14]),ge=d(200*z("ascension",e.challengecompletions[14]));break}}o.textContent=u.t(`challenges.${t}.name`,{value:Q,completions:e.challengecompletions[t],max:a}),c.textContent=u.t(`challenges.${t}.flavor`),p.textContent=u.t(`challenges.${t}.restrictions`),f.textContent=u.t(`challenges.${t}.goal`,{value:M}),g.textContent=u.t(`challenges.${t}.per.1`),h.textContent=u.t(`challenges.${t}.per.2`),b.textContent=u.t(`challenges.${t}.per.3`),y.textContent=u.t(`challenges.${t}.first`),x.textContent=u.t(`challenges.${t}.start`),D.textContent=u.t(`challenges.${t}.current.1`,{value:j}),$.textContent=u.t(`challenges.${t}.current.2`,{value:ae}),L.textContent=u.t(`challenges.${t}.current.3`,{value:ge})}t===15&&i.challengefocus===15&&a===0&&(f.textContent=u.t("challenges.15.noGoal"));let E=[0,8,10,12,15,20,60,80,120,180,300],H=[0,10,12,15,20,30,80,120,180,300,450],I=[0,20,30,50,100,200,250,300,400,500,750],N=[0,1e4,1e4,1e4,1e4,1e4,2e3,3e3,4e3,5e3,7500],k=0;if(t<=5&&(e.highestchallengecompletions[t]>=9e3?k=N[t]:e.highestchallengecompletions[t]>=750?k=I[t]:e.highestchallengecompletions[t]>=75?k=H[t]:k=E[t]),t>5&&t<=10&&(e.highestchallengecompletions[t]>=60?k=I[t]:e.highestchallengecompletions[t]>=25?k=H[t]:k=E[t]),r&&(C.textContent=""),e.ascensionCount===0&&(s="Quarks",C.style.color="cyan"),e.challengecompletions[t]>=e.highestchallengecompletions[t]&&e.highestchallengecompletions[t]<a&&r&&e.ascensionCount<1&&(C.textContent=u.t(s?"challenges.firstTimeBonusQuarks":"challenges.firstTimeBonus",{x:Math.floor(n*e.highestchallengecompletions[t]/10+1+e.cubeUpgrades[1]+e.cubeUpgrades[11]+e.cubeUpgrades[21]+e.cubeUpgrades[31]+e.cubeUpgrades[41])})),e.challengecompletions[t]>=e.highestchallengecompletions[t]&&e.highestchallengecompletions[t]<a&&r&&e.ascensionCount>=1&&(C.textContent=u.t("challenges.ascensionBankAdd",{x:t>5?2:1,y:k})),e.challengecompletions[t]>=e.highestchallengecompletions[t]&&e.highestchallengecompletions[t]<10&&t>10&&(C.textContent=u.t("challenges.hypercubeOneTimeBonus")),r){let Q=l("toggleAutoChallengeIgnore");Q.style.display=t<=(_i()?15:10)&&e.researches[150]>0?"block":"none",Q.style.border=e.autoChallengeToggles[t]?"2px solid green":"2px solid red",t>=11&&t<=15?e.autoChallengeToggles[t]?Q.textContent=u.t("challenges.autoAscRunChalOn",{x:t}):Q.textContent=u.t("challenges.autoAscRunChalOff",{x:t}):e.autoChallengeToggles[t]?Q.textContent=u.t("challenges.autoRunChalOn",{x:t}):Q.textContent=u.t("challenges.autoRunChalOff",{x:t})}let A=l("toggleAutoChallengeStart");e.autoChallengeRunning?(A.textContent=u.t("challenges.autoChallengeSweepOn"),A.style.border="2px solid gold"):(A.textContent=u.t("challenges.autoChallengeSweepOff"),A.style.border="2px solid red")},lc=t=>{e.currentChallenge.reincarnation===9&&(i.rune1level=1,i.rune2level=1,i.rune3level=1,i.rune4level=1,i.rune5level=1,e.crystalUpgrades=[0,0,0,0,0,0,0,0]),i.prestigePointGain=new m("0"),typeof t=="number"&&(t>=6&&(i.transcendPointGain=new m("0")),t>=11&&(i.reincarnationPointGain=new m("0"))),at()},P0=()=>{l("retryChallenge").textContent=e.retrychallenges?u.t("challenges.retryChallengesOff"):u.t("challenges.retryChallengesOn"),e.retrychallenges=!e.retrychallenges},Sp=(t,r)=>{let n=.1;t>=6&&(n=1),e.ascensionCount===0&&e.worlds.add(1+Math.floor(r*n)*100/100),or()&&e.ascensionCount===0&&t>=6&&t<=10&&(e.roombaResearchIndex=0,e.autoResearch=i.researchOrderByCost[e.roombaResearchIndex])},Nc=(t,r,n=0)=>{let a=Math.max(1,i.hyperchallengedMultiplier[e.usedCorruptions[4]]/(1+e.platonicUpgrades[8]/2.5));switch(t==="ascension"&&(a=1),t){case"transcend":return a*=i.challenge15Rewards.transcendChallengeReduction,r>=75?a*=Math.pow(1+r,12)/Math.pow(75,8):a*=Math.pow(1+r,2),r>=1e3&&(a*=10*Math.pow(r/1e3,3)),r>=9e3&&(a*=1337),r>=9001&&(a*=r-8999),a;case"reincarnation":return r>=100&&(n===9||n===10)&&(a*=Math.pow(1.05,(r-100)*(1+(r-100)/20))),r>=90&&(n===6?a*=100:n===7?a*=50:n===8?a*=10:a*=4),r>=80&&(n===6?a*=50:n===7?a*=20:n===8?a*=4:a*=2),r>=70&&(n===6?a*=20:n===7?a*=10:n===8?a*=2:a*=1),r>=60&&(n===9||n===10)&&(a*=Math.pow(1e3,(r-60)*(1-.01*e.shopUpgrades.challengeTome-.01*e.shopUpgrades.challengeTome2)/10)),r>=25&&(a*=Math.pow(1+r,5)/625),r<25&&(a*=Math.min(Math.pow(1+r,2),Math.pow(1.3797,r))),a*=i.challenge15Rewards.reincarnationChallengeReduction,a;case"ascension":return n!==15?r>=10?a*=2*(1+r)-10:a*=1+r:a*=Math.pow(1e3,r),a}},z=(t,r)=>{let n=0;switch(t){case"transcend":return n+=Math.min(100,r),n+=1/20*(Math.min(1e3,Math.max(100,r))-100),n+=1/100*(Math.max(1e3,r)-1e3),n;case"reincarnation":return n+=Math.min(25,r),n+=1/2*(Math.min(75,Math.max(25,r))-25),n+=1/10*(Math.max(75,r)-75),n;case"ascension":return n+=Math.min(10,r),n+=1/2*(Math.max(10,r)-10),n}},Kt=(t,r,n=0)=>{let a=i.challengeBaseRequirements[t-1];if(t<=5)return m.pow(10,a*Nc("transcend",r,n));if(t<=10){let s=0;return t===10&&(s=1e8*(e.researches[140]+e.researches[155]+e.researches[170]+e.researches[185])+2e7*(e.shopUpgrades.challengeTome+e.shopUpgrades.challengeTome2)),m.pow(10,(a-s)*Nc("reincarnation",r,n))}else return t<=14?Nc("ascension",r,n):t===15?m.pow(10,1*Math.pow(10,30)*Nc("ascension",r,n)):0},E0=t=>{if(e.researches[150]===0||!e.autoChallengeRunning)return;i.autoChallengeTimerIncrement+=t;let r="none";if(e.currentChallenge.reincarnation!==0||e.currentChallenge.transcension!==0?r="exit":e.autoChallengeIndex===1?r="start":r="enter",_i()&&e.currentChallenge.ascension===15&&e.shopUpgrades.challenge15Auto===0&&(r==="start"||r==="enter")&&e.autoAscend&&e.challengecompletions[11]>0&&e.cubeUpgrades[10]>0&&e.autoAscendMode==="realAscensionTime"&&e.ascensionCounterRealReal>=Math.max(.1,e.autoAscendThreshold-5)){r="wait",Or("WAIT");return}if(i.autoChallengeTimerIncrement>=e.autoChallengeTimer.exit&&r==="exit"){let n=e.currentChallenge.reincarnation!==0?"reincarnation":"transcension";i.autoChallengeTimerIncrement=0;let a=e.autoChallengeIndex,s=Ni(a+1);n==="transcension"&&Qe("transcensionChallenge",void 0,!0),n==="reincarnation"&&Qe("reincarnationChallenge",void 0,!0),s<=10&&(s<a?(e.autoChallengeIndex=1,Or("START")):(e.autoChallengeIndex=s,Or("ENTER")));return}if(i.autoChallengeTimerIncrement>=e.autoChallengeTimer.start&&r==="start"||i.autoChallengeTimerIncrement>=e.autoChallengeTimer.enter&&r==="enter"){i.autoChallengeTimerIncrement=0;let n=e.autoChallengeIndex,a=Ni(n);if(a===11)return;e.autoChallengeIndex=a,Ur(e.autoChallengeIndex,!0),Or("EXIT");return}},Ni=(t,r=!1,n=1,a=10)=>{let s=t;for(let o=s;o<=a&&(!e.autoChallengeToggles[o]||!r&&o!==15&&e.highestchallengecompletions[o]>=lt(o));o++)s+=1;if(s>a){s=n;for(let o=s;o<=a&&(!e.autoChallengeToggles[o]||!r&&o!==15&&e.highestchallengecompletions[o]>=lt(o));o++)s+=1}return s},_i=()=>e.highestSingularityCount>=101&&e.shopUpgrades.instantChallenge2>0,ci=()=>{let t=[1+5e-4*ct("challenge"),1+.25*e.platonicUpgrades[15]];return Oe(t)};var Et=t=>d(typeof t=="string"?new m(t):t),$i=(t,r)=>typeof t=="string"?Et(t):typeof t=="number"&&e.historyShowPerSecond&&r.seconds!==0?t===0?"0.000/s":`${d(t/r.seconds,3,t<1e3)}/s`:d(t),G2={offerings:{img:"Offering.png",formatter:Et,imgTitle:"Offerings"},obtainium:{img:"Obtainium.png",formatter:Et,imgTitle:"Obtainium"},particles:{img:"Particle.png",formatter:Et,imgTitle:"Particles"},diamonds:{img:"Diamond.png",formatter:Et,imgTitle:"Diamonds"},mythos:{img:"Mythos.png",formatter:Et,imgTitle:"Mythos"},wowTesseracts:{img:"TinyWow4.png",formatter:$i,imgTitle:"Wow! Tesseracts"},wowHypercubes:{img:"TinyWow5.png",formatter:$i,imgTitle:"Wow! Hypercubes",onlyif:()=>e.challengecompletions[13]>0},wowCubes:{img:"TinyWow3.png",formatter:$i,imgTitle:"Wow! Cubes"},wowPlatonicCubes:{img:"TinyWow6.png",formatter:$i,imgTitle:"Platonic Cubes",onlyif:()=>e.challengecompletions[14]>0},wowHepteracts:{img:"TinyWow7.png",formatter:$i,imgTitle:"Hepteracts",onlyif:()=>e.achievements[255]>0},singularityCount:{img:"TinyS.png",formatter:Et,imgTitle:"Singularity Count",onlyif:()=>e.highestSingularityCount>0},quarks:{img:"Quark.png",formatter:Et,imgTitle:"Quarks",onlyif:()=>e.highestSingularityCount>0},goldenQuarks:{img:"GoldenQuark.png",formatter:Et,imgTitle:"Golden Quarks",onlyif:()=>e.highestSingularityCount>0},wowTribs:{img:"TinyWow3.png",formatter:Et,imgTitle:"Cube Tributes",onlyif:()=>e.highestSingularityCount>0},tessTribs:{img:"TinyWow4.png",formatter:Et,imgTitle:"Tesseract Gifts",onlyif:()=>e.highestSingularityCount>0},hyperTribs:{img:"TinyWow5.png",formatter:Et,imgTitle:"Hypercube Bendictions",onlyif:()=>e.highestSingularityCount>0},platTribs:{img:"TinyWow6.png",formatter:Et,imgTitle:"Platonics Opened",onlyif:()=>e.highestSingularityCount>0},octeracts:{img:"TinyWow8.png",formatter:Et,imgTitle:"Octeracts",onlyif:()=>e.singularityUpgrades.octeractUnlock.getEffect().bonus>0},c15Score:{img:"TinyChallenge15.png",formatter:Et,imgTitle:"C15 score",onlyif:()=>e.singularityCount>0},quarkHept:{img:"TinyQuarkHept.png",formatter:Et,imgTitle:"Quark Hept",onlyif:()=>e.singularityCount>0}},H2=["offerings","obtainium","particles","diamonds","mythos","wowCubes","wowTesseracts","wowHypercubes","wowPlatonicCubes","wowHepteracts","singularityCount","quarks","goldenQuarks","wowTribs","tessTribs","hyperTribs","platTribs","octeracts","c15Score","quarkHept"],F2={antsacrifice:{img:"SacrificeNoBorder.png"},prestige:{img:"TinyP.png"},transcend:{img:"TinyT.png"},reincarnate:{img:"TinyR.png"},ascend:{img:"TinyA.png"},singularity:{img:"TinyS.png"}},Tp={ants:"historyAntsTable",reset:"historyResetTable",ascend:"historyAscendTable",singularity:"historySingularityTable"},O0=["CorruptViscocity.png","CorruptSpatialDilation.png","CorruptHyperchallenged.png","CorruptScientificIlliteracy.png","CorruptDeflation.png","CorruptExtinction.png","CorruptDrought.png","CorruptFinancialCollapse.png"],Q2=["Viscosity [Accelerators and Multipliers]","Spacial Dilation [Time]","Hyperchallenged [Challenge Requirements]","Scientific Illiteracy [Obtainium]","Market Deflation [Diamonds]","Extinction [Ants]","Drought [Offering EXP]","Financial Recession [Coins]"],q2=t=>{let r;return(r=/e\+?(.+)/.exec(t))!==null?`e${r[1]}`:t},j2=(t,r)=>{for(;e.history[t].length>i.historyCountMax-1;)e.history[t].shift();e.history[t].push(r),V2(t,r)};Ht.on("historyAdd",j2);var V2=(t,r)=>{let n=U0(t,r),s=l(Tp[t]).querySelector("tbody");for(s.insertBefore(n,s.childNodes[0]);s.childNodes.length>i.historyCountMax;)s.removeChild(s.lastChild);if(t==="ascend"){let o=Array.from(n.getElementsByClassName("ascendHistoryLoadCorruptions"));for(let c of o)c.addEventListener("click",p=>B0(p.target))}},U0=(t,r)=>{let n=1,a=document.createElement("tr"),s="",o=F2[r.kind],c=new Date(r.date).toLocaleString();s+=`<td class="history-seconds" title="${c}"><img alt="${r.kind}" src="Pictures/${ze[e.iconSet][0]}/${o.img}">${dr(r.seconds,60)}</td>`;let p=[],f=r;H2.forEach(h=>{var b;if(Object.prototype.hasOwnProperty.call(r,h)){let y=G2[h];if(y.onlyif&&!y.onlyif(r))return;let C=(b=y.formatter)!=null?b:()=>{},x=`<img alt="${y.imgTitle}" src="Pictures/${ze[e.iconSet][0]}/${y.img}" title="${y.imgTitle}">${C(f[h],r)}`;p.push(x)}});let g=[];if(r.kind==="antsacrifice"){let h=ba(r.antSacrificePointsBefore),b=ba(r.antSacrificePointsAfter),y=b-h;g.push(`<span title="Ant Multiplier: ${d(h,3,!1)}--&gt;${d(b,3,!1)}"><img src="Pictures/${ze[e.iconSet][0]}/Multiplier.png" alt="Ant Multiplier">+${d(y,3,!1)}</span>`,`<span title="+${Et(r.crumbsPerSecond)} crumbs/s"><img src="Pictures/${ze[e.iconSet][0]}/TinyCrumbs.png" alt="Crumbs">${q2(Et(r.crumbs))}</span>`,`<span title="${d(r.baseELO)} base"><img src="Pictures/${ze[e.iconSet][0]}/TinyELO.png" alt="ELO">${d(r.effectiveELO)}</span>`)}else if(r.kind==="ascend"){g.push(`<img alt="C10" src="Pictures/${ze[e.iconSet][0]}/TinyChallenge10.png" title="Challenge 10 completions">${r.c10Completions}`);let h=z2(r);g.push(h[0]),g.push(h[1]),g.push(h[2])}return n+=p.length,s+=p.reduce((h,b)=>`${h}<td class="history-gain">${b}</td>`,""),s+=`<td class="history-filler" colspan="${7-n}"></td>`,s+=g.reduce((h,b)=>`${h}<td class="history-extra">${b}</td>`,""),s+=`<td class="history-filler" colspan="${4-g.length}"></td>`,a.innerHTML=s,a},W2=(t,r)=>{let n=r.querySelector("tbody");if(n.innerHTML="",e.history[t].length>0)for(let a=e.history[t].length-1;a>=0;--a){let s=U0(t,e.history[t][a]);n.appendChild(s)}if(t==="ascend"){let a=Array.from(document.getElementsByClassName("ascendHistoryLoadCorruptions"));for(let s of a)s.addEventListener("click",o=>B0(o.target))}};function B0(t){let r=t.getAttribute("data-corr");r&&(rp(r),Nr(u.t("corruptions.loadoutApplied"),5e3))}var kp=()=>{Object.keys(Tp).forEach(t=>W2(t,l(Tp[t])))},R0=()=>{e.historyShowPerSecond=!e.historyShowPerSecond,kp();let t=l("historyTogglePerSecondButton");e.historyShowPerSecond?t.textContent=u.t("history.perSecondOn"):t.textContent=u.t("history.perSecondOff"),t.style.borderColor=e.historyShowPerSecond?"green":"red"},z2=t=>{let r=`Score: ${d(t.corruptionScore,0,!1)}`,n="",a="",s=0;for(let o=0;o<O0.length;++o){let c=o+2;c in t.usedCorruptions&&t.usedCorruptions[c]!==0?n+=`<img alt="${s>0?"/":""}" src="Pictures/${ze[e.iconSet][0]}/${O0[o]}" title="${Q2[o]}">${t.usedCorruptions[c]}`:n+=`<span>${s>0?"/0":"0"}</span>`,s++}return n&&(a+=`<button class="corrLoad ascendHistoryLoadCorruptions" data-corr="${t.usedCorruptions.join("/")}">Load</button>`),t.currentChallenge!==void 0&&(r+=` / C${t.currentChallenge}`),[r,n,a]};var I0=Hr(iu());var N0=async()=>{let t="===== SUMMARY STATS =====",r=`Time Generated: ${new Date().toString()}`,n=`Version: ${yr}`,a=`-----+-----
`,s=`First Played: ${e.firstPlayed}
`,o=`===== RESOURCES =====
`;if(o=o+(e.reincarnationCount>0||e.highestSingularityCount>0?`Quarks: ${d(Number(e.worlds),0,!0)}
`:""),o=o+(e.highestSingularityCount>0?`Golden Quarks: ${d(e.goldenQuarks,2,!0)}
`:""),o=o+a,o=`${o}Coins: ${d(e.coins,2,!0)}
`,(e.prestigeCount>0||e.highestSingularityCount>0)&&(o=`${o}Diamonds: ${d(e.prestigePoints,2,!0)}
`,o=`${o}Crystals: ${d(e.prestigeShards,2,!0)}
`,o=`${o}Offerings: ${d(e.runeshards,0,!0)}
`),(e.transcendCount>0||e.highestSingularityCount>0)&&(o=`${o}Mythos: ${d(e.transcendPoints,2,!0)}
`,o=`${o}Mythos Shards: ${d(e.transcendShards,2,!0)}
`),(e.reincarnationCount>0||e.highestSingularityCount>0)&&(o=`${o}Particles: ${d(e.reincarnationPoints,2,!0)}
`,o=`${o}Atoms: ${d(e.reincarnationShards,2,!0)}
`,o=`${o}Obtainium: ${d(e.researchPoints,0,!0)}
`),e.ascensionCount>0||e.highestSingularityCount>0){let L=[null,e.cubeBlessings.accelerator,e.cubeBlessings.multiplier,e.cubeBlessings.offering,e.cubeBlessings.runeExp,e.cubeBlessings.obtainium,e.cubeBlessings.antSpeed,e.cubeBlessings.antSacrifice,e.cubeBlessings.antELO,e.cubeBlessings.talismanBonus,e.cubeBlessings.globalSpeed],E=[null,e.tesseractBlessings.accelerator,e.tesseractBlessings.multiplier,e.tesseractBlessings.offering,e.tesseractBlessings.runeExp,e.tesseractBlessings.obtainium,e.tesseractBlessings.antSpeed,e.tesseractBlessings.antSacrifice,e.tesseractBlessings.antELO,e.tesseractBlessings.talismanBonus,e.tesseractBlessings.globalSpeed],H=[null,e.hypercubeBlessings.accelerator,e.hypercubeBlessings.multiplier,e.hypercubeBlessings.offering,e.hypercubeBlessings.runeExp,e.hypercubeBlessings.obtainium,e.hypercubeBlessings.antSpeed,e.hypercubeBlessings.antSacrifice,e.hypercubeBlessings.antELO,e.hypercubeBlessings.talismanBonus,e.hypercubeBlessings.globalSpeed],I=[e.platonicBlessings.cubes,e.platonicBlessings.tesseracts,e.platonicBlessings.hypercubes,e.platonicBlessings.platonics,e.platonicBlessings.hypercubeBonus,e.platonicBlessings.taxes,e.platonicBlessings.scoreBonus,e.platonicBlessings.globalSpeed],N=d(xe(L.slice(1)),0,!0),k=d(xe(E.slice(1)),0,!0),A=d(xe(H.slice(1)),0,!0),Q=d(xe(I),0,!0);o=o+a,o=`${o}Wow! Cubes: ${d(Number(e.wowCubes),0,!0)} -+- Total Tributes: ${N}
`,o=`${o}Wow! Tesseracts: ${d(Number(e.wowTesseracts),0,!0)} -+- Total Gifts: ${k}
`,o=`${o}Wow! Hypercubes: ${d(Number(e.wowHypercubes),0,!0)} -+- Total Benedictions: ${A}
`,o=`${o}Wow! Platonic Cubes: ${d(Number(e.wowPlatonicCubes),0,!0)} -+- Total Plats Opened: ${Q}
`,o=`${o}Wow! Hepteracts: ${d(e.wowAbyssals,0,!0)}
`,e.singularityUpgrades.octeractUnlock.getEffect().bonus&&(o=`${o}Wow! Octeracts: ${d(e.wowOcteracts,0,!0)}
`)}let c="";e.singularityUpgrades.octeractUnlock.getEffect().bonus&&(c=`===== OCTERACTS =====
`,c=`${c}Current Octeracts: ${d(e.wowOcteracts,2,!0)}
`,c=`${c}Current Per Second: ${d(bn(),2,!0)}
`,c=`${c}Total Generated Octeracts: ${d(e.totalWowOcteracts,2,!0)}
`,c=`${c}Octeract Cube Bonus: ${d(100*(fi()-1),2,!0)}%
`,c=`${c}Octeract Quark Bonus: ${d(100*(Dn()-1),2,!0)}%
`);let p="";e.highestSingularityCount>0&&(p=`===== SINGULARITY =====
`,p=`${p}Current Singularity: ${e.singularityCount}
`,p=`${p}Highest Singularity Reached: ${e.highestSingularityCount}
`,p=`${p}Golden Quarks: ${d(e.goldenQuarks,2,!0)}
`,p=`${p}+Golden Quarks on Singularity: ${d(pr(),2,!0)}
`,p=`${p}Time in Singularity: ${Vr(e.singularityCounter)}
`,p=`${p}Effective Singularity [for penalties]: ${d(Do(),2,!0)}
`,p=`${p}Antiquity of Ant God Upgraded: ${e.runelevels[6]>0?"\u2714":"\u2716"}
`);let f="";(e.ascensionCount>0||e.highestSingularityCount>0)&&(f=`===== ASCENSION ===== 
`,f=`${f}Ascension Count: ${d(e.ascensionCount,0,!0)}
`,f=`${f}Ascension Timer: ${Vr(e.ascensionCounter)}
`,f=`${f}Real Life Ascension Timer: ${Vr(e.ascensionCounterReal)}
`,f=`${f}Truly Real Life Ascension Timer: ${Vr(e.ascensionCounterRealReal)}
`,f=`${f}Ascension Speed Multiplier: ${d(en(),2,!0)}
`,f=`${f}Challenge 11 Completions: ${e.challengecompletions[11]}/${lt(11)}
`,f=`${f}Challenge 12 Completions: ${e.challengecompletions[12]}/${lt(12)}
`,f=`${f}Challenge 13 Completions: ${e.challengecompletions[13]}/${lt(13)}
`,f=`${f}Challenge 14 Completions: ${e.challengecompletions[14]}/${lt(14)}
`,(e.highestchallengecompletions[14]>0||e.highestSingularityCount>0)&&(f=`${f}Challenge 15 Exponent: ${d(e.challenge15Exponent,2,!0)}
`,f=`${f}Research [8x25] MAXED: ${e.researches[200]===1e5?"\u2714":"\u2716"}
`,f=`${f}Cube [w5x10] MAXED: ${e.cubeUpgrades[50]===1e5?"\u2714":"\u2716"}
`,f=`${f}Platonic \u03B1: ${e.platonicUpgrades[5]>0?"\u2714":"\u2716"}
`,f=`${f}Platonic \u03B2: ${e.platonicUpgrades[10]>0?"\u2714":"\u2716"}
`,f=`${f}Platonic \u03A9: ${e.platonicUpgrades[15]>0?"\u2714":"\u2716"}
`),(e.challenge15Exponent>=1e15||e.highestSingularityCount>0)&&(f=`${f}----- HEPTERACTS -----
`,f=`${f}Chronos Hepteract: ${d(e.hepteractCrafts.chronos.BAL,0,!0)}/${d(e.hepteractCrafts.chronos.CAP,0,!0)}
`,f=`${f}Hyperreal Hepteract: ${d(e.hepteractCrafts.hyperrealism.BAL,0,!0)}/${d(e.hepteractCrafts.hyperrealism.CAP,0,!0)}
`,f=`${f}Quark Hepteract: ${d(e.hepteractCrafts.quark.BAL,0,!0)}/${d(e.hepteractCrafts.quark.CAP,0,!0)}
`,f=`${f}Challenge Hepteract: ${d(e.hepteractCrafts.challenge.BAL,0,!0)}/${d(e.hepteractCrafts.challenge.CAP,0,!0)}
`,f=`${f}Abyss Hepteract: ${d(e.hepteractCrafts.abyss.BAL,0,!0)}/${d(e.hepteractCrafts.abyss.CAP,0,!0)}
`,f=`${f}Accelerators Hepteract: ${d(e.hepteractCrafts.accelerator.BAL,0,!0)}/${d(e.hepteractCrafts.accelerator.CAP,0,!0)}
`,f=`${f}Accelerator Boosts Hepteract: ${d(e.hepteractCrafts.acceleratorBoost.BAL,0,!0)}/${d(e.hepteractCrafts.acceleratorBoost.CAP,0,!0)}
`,f=`${f}Multipliers Hepteract: ${d(e.hepteractCrafts.multiplier.BAL,0,!0)}/${d(e.hepteractCrafts.multiplier.CAP,0,!0)}
`,f=`${f}----- POWDER & ORBS -----
`,f=`${f}Orbs: ${d(e.overfluxOrbs,0,!0)}
`,f=`${f}Powder: ${d(e.overfluxPowder,2,!0)}
`));let g="";(e.reincarnationCount>0||e.highestSingularityCount>0)&&(g=`===== REINCARNATION =====
`,g=`${g}Reincarnation Count: ${d(e.reincarnationCount,0,!0)}
`,g=`${g}Reincarnation Timer: ${Vr(e.reincarnationcounter)}
`,g=`${g}Fastest Reincarnation: ${Vr(e.fastestreincarnate)}
`,g=`${g}Global Speed Multiplier: ${d(ot().mult,2,!0)}
`,g=`${g}Challenge 6 Completions: ${e.highestchallengecompletions[6]}/${lt(6)}
`,g=`${g}Challenge 7 Completions: ${e.highestchallengecompletions[7]}/${lt(7)}
`,g=`${g}Challenge 8 Completions: ${e.highestchallengecompletions[8]}/${lt(8)}
`,g=`${g}Challenge 9 Completions: ${e.highestchallengecompletions[9]}/${lt(9)}
`,g=`${g}Challenge 10 Completions: ${e.highestchallengecompletions[10]}/${lt(10)}
`);let h="";(e.transcendCount>0||e.highestSingularityCount>0)&&(h=`===== TRANSCENSION =====
`,h=`${h}Transcension Count: ${d(e.transcendCount,0,!0)}
`,h=`${h}Transcension Timer: ${Vr(e.transcendcounter)}
`,h=`${h}Fastest Transcension: ${Vr(e.fastesttranscend)}
`,h=`${h}Challenge 1 Completions: ${e.highestchallengecompletions[1]}/${lt(1)}
`,h=`${h}Challenge 2 Completions: ${e.highestchallengecompletions[2]}/${lt(2)}
`,h=`${h}Challenge 3 Completions: ${e.highestchallengecompletions[3]}/${lt(3)}
`,h=`${h}Challenge 4 Completions: ${e.highestchallengecompletions[4]}/${lt(4)}
`,h=`${h}Challenge 5 Completions: ${e.highestchallengecompletions[5]}/${lt(5)}
`);let b="";(e.prestigeCount>0||e.highestSingularityCount>0)&&(b=`===== PRESTIGE & RUNES =====
`,b=`${b}Prestige Count: ${d(e.prestigeCount,0,!0)}
`,b=`${b}Prestige Timer: ${Vr(e.prestigecounter)}
`,b=`${b}Fastest Prestige: ${Vr(e.fastestprestige)}
`,b=`${b+u.t("achievements.totalPoints",{x:d(e.achievementPoints),y:d(va),z:(100*e.achievementPoints/va).toPrecision(4)})}
`,b=`${b}Speed Rune: Level ${d(e.runelevels[0],0,!0)}/${d(Mt(1))} [Bonus: ${d(i.rune1level-e.runelevels[0],0,!0)}]
`,(e.achievements[38]>0||e.highestSingularityCount>0)&&(b=`${b}Duplication Rune: Level ${d(e.runelevels[1],0,!0)}/${d(Mt(2))} [Bonus: ${d(i.rune2level-e.runelevels[1],0,!0)}]
`),(e.achievements[44]>0||e.highestSingularityCount>0)&&(b=`${b}Prism Rune: Level ${d(e.runelevels[2],0,!0)}/${d(Mt(3))} [Bonus: ${d(i.rune3level-e.runelevels[2],0,!0)}]
`),(e.achievements[102]>0||e.highestSingularityCount>0)&&(b=`${b}Thrift Rune: Level ${d(e.runelevels[3],0,!0)}/${d(Mt(4))} [Bonus: ${d(i.rune4level-e.runelevels[3],0,!0)}]
`),(e.researches[82]>0||e.highestSingularityCount>0)&&(b=`${b}Superior Intellect: Level ${d(e.runelevels[4],0,!0)}/${d(Mt(5))} [Bonus: ${d(i.rune5level-e.runelevels[4],0,!0)}]
`),(Va()||e.highestSingularityCount>0)&&(b=`${b}Infinite Ascent: Level ${d(e.runelevels[5],0,!0)}/${d(Mt(6))}
`),(e.platonicUpgrades[20]>0||e.highestSingularityCount>0)&&(b=`${b}Antiquities: Level ${d(e.runelevels[6],0,!0)}/${d(Mt(7))}
`));let y=`
`;if(e.reincarnationCount>0||e.highestSingularityCount>0){y=`===== SHOP UPGRADES =====
 - [\u2605]: Upgrade is MAXED - 
 - [\u2714]: Upgrade is unlocked - 
 - [\u2716]: Upgrade is locked - 
`;let L=Object.keys(e.shopUpgrades),E=0,H=0,I=0,N=0;for(let k of L){let A=e.shopUpgrades[k],Q="";Te[k].type!=="consume"&&(E+=1,Xs(k)&&(H+=1),A===Te[k].maxLevel&&(I+=1)),N+=Te[k].price*A+Te[k].priceIncrease*A*(A-1)/2,Q=Q+(Xs(k)?A===Te[k].maxLevel?"[\u2605]":"[\u2714]":"[\u2716]"),Q=`${Q} ${is(k)}:`,Q=`${Q} ${Te[k].type!=="consume"?`Level ${A}/${Te[k].maxLevel}`:`${A}/${Te[k].maxLevel}`}`,Q=`${Q}
`,y=y+Q}y=y+a,y=`${y}Upgrades Unlocked: ${H}/${E}
`,y=`${y}Upgrades MAXED ${I}/${E}
`,y=`${y}Quarks Spent in Shop: ${d(N,0,!0)}
`,y=y+a}let C=`
`;if(e.highestSingularityCount>0){C=`===== SINGULARITY UPGRADES =====
 - [\u2605]: Upgrade is MAXED - 
 - [\u221E]: Upgrade is infinite - 
 - [\u2714]: Upgrade is unlocked - 
 - [\u2716]: Upgrade is locked - 
`;let L=Object.keys(e.singularityUpgrades),E=-1,H=0,I=0,N=0,k=0;for(let A of L){let Q="",J=e.singularityUpgrades[A];E+=1,J.maxLevel===-1&&(H+=1),J.level===J.maxLevel&&(N+=1),e.singularityCount>=J.minimumSingularity&&(I+=1),k+=J.goldenQuarksInvested;let M="[\u2716]";e.singularityCount>=J.minimumSingularity&&(J.maxLevel===-1?M="[\u221E]":J.level===J.maxLevel?M="[\u2605]":M="[\u2714]"),Q=Q+M,Q=`${Q} ${J.name}:`,Q=Q+(J.maxLevel===-1?` Level ${J.level}`:` Level ${J.level}/${J.maxLevel}`),Q=Q+(J.freeLevels>0?` [+${d(J.computeFreeLevelSoftcap(),2,!0)}]`:""),Q=Q+(J.freeLevels>0?` =+= Effective Level: ${d(J.actualTotalLevels(),2,!0)}`:""),Q=`${Q}
`,C=C+Q}C=C+a,C=`${C}Upgrades Unlocked: ${I}/${E}
`,C=`${C}Upgrades MAXED: ${N}/${E-H}
`,C=`${C}Golden Quarks Spent on Upgrades: ${d(k,0,!0)}
`,C=C+a}let x=`
`;if(e.singularityUpgrades.octeractUnlock.getEffect().bonus){x=`===== OCTERACT UPGRADES =====
 - [\u2605]: Upgrade is MAXED - 
 - [\u221E]: Upgrade is infinite - 
 - [ ]: Upgrade INCOMPLETE - 
`;let L=Object.keys(e.octeractUpgrades),E=0,H=0,I=0;for(let N of L){let k="",A=e.octeractUpgrades[N];A.maxLevel!==-1&&(E+=1),A.level===A.maxLevel&&(H+=1),I+=A.octeractsInvested;let Q="[ ]";A.maxLevel===-1?Q="[\u221E]":A.level===A.maxLevel&&(Q="[\u2605]"),k=k+Q,k=`${k+A.name}:`,k=k+(A.maxLevel===-1?` Level ${A.level}`:` Level ${A.level}/${A.maxLevel}`),k=k+(A.freeLevels>0?` [+${d(A.computeFreeLevelSoftcap(),2,!0)}]`:""),k=k+(A.freeLevels>0?` =+= Effective Level: ${d(A.actualTotalLevels(),2,!0)}`:""),k=`${k}
`,x=x+k}x=x+a,x=`${x}Upgrades MAXED: ${H}/${E}
`,x=`${x}Octeracts Spent on Upgrades: ${d(I,0,!0)}
`,x=x+a}let D=`${t}
${r}
${n}
${s}${o}${c}${p}${f}${g}${h}${b}${y}${C}${x}`;try{await navigator.clipboard.writeText(D)}catch(L){let E=document.createElement("textarea");E.setAttribute("style","top: 0; left: 0; position: fixed;"),E.setAttribute("data-clipboard-text",D),document.body.appendChild(E),E.focus(),E.select();let H=new I0.default(E),I=()=>{H.destroy(),document.body.removeChild(E)};H.on("success",()=>{document.getElementById("exportinfo").textContent="Copied save to clipboard!",I()}),H.on("error",()=>{B("Unable to write the save to clipboard.").finally(I)})}let $=document.createElement("a");return $.setAttribute("href",`data:text/plain;charset=utf-8,${encodeURIComponent(D)}`),$.setAttribute("download",`Statistics-${Oi()}`),$.setAttribute("id","downloadSave"),document.body.appendChild($),$.click(),document.body.removeChild($),B("Summary Stats saved to clipboard! We also gave you a file, for easy sharing, if that is available on your browser.")};var _0=()=>{let t=["null","first","second","third","fourth","fifth","sixth","seventh","eighth"];if(!1){let M=document.createElement("button"),j=document.createElement("button");M.textContent="Click here to warp time! [TESTING ONLY]",M.setAttribute("style","width: auto; height: 30px; border: 6px solid gold;"),M.addEventListener("click",()=>k0()),j.textContent="Click to force a new day! [TESTING ONLY]",j.setAttribute("style","width: auto; height: 30px; border: 6px solid orange;"),j.addEventListener("click",()=>Qo());let ae=l("actualConsumables");ae.appendChild(M),ae.appendChild(j)}l("exitOffline").addEventListener("click",()=>Co()),l("offlineContainer").addEventListener("dblclick",()=>Co()),l("ascCubeStats").addEventListener("click",()=>Cn(1)),l("ascTessStats").addEventListener("click",()=>Cn(2)),l("ascHyperStats").addEventListener("click",()=>Cn(3)),l("ascPlatonicStats").addEventListener("click",()=>Cn(4)),l("ascHepteractStats").addEventListener("click",()=>Cn(5)),l("ascTimeTakenStats").addEventListener("click",()=>Cn(6)),l("prestigebtn").addEventListener("mouseover",()=>Lt("prestige")),l("transcendbtn").addEventListener("mouseover",()=>Lt("transcension")),l("reincarnatebtn").addEventListener("mouseover",()=>Lt("reincarnation")),l("acceleratorboostbtn").addEventListener("mouseover",()=>Lt("acceleratorBoost")),l("challengebtn").addEventListener("mouseover",()=>Lt("transcensionChallenge")),l("reincarnatechallengebtn").addEventListener("mouseover",()=>Lt("reincarnationChallenge")),l("ascendChallengeBtn").addEventListener("mouseover",()=>Lt("ascensionChallenge")),l("ascendbtn").addEventListener("mouseover",()=>Lt("ascension")),l("singularitybtn").addEventListener("mouseover",()=>Lt("singularity"));for(let M of Array.from(document.getElementsByClassName("resetbtn")))M.addEventListener("mouseover",()=>{M.classList.add("hover")}),M.addEventListener("mouseout",()=>{M.classList.remove("hover"),e.currentChallenge.reincarnation?Lt("reincarnationChallenge"):e.currentChallenge.transcension&&Lt("transcensionChallenge")});l("prestigebtn").addEventListener("click",()=>Qe("prestige")),l("transcendbtn").addEventListener("click",()=>Qe("transcension")),l("reincarnatebtn").addEventListener("click",()=>Qe("reincarnation")),l("acceleratorboostbtn").addEventListener("click",()=>bs()),l("challengebtn").addEventListener("click",()=>Qe("transcensionChallenge",void 0,!0)),l("reincarnatechallengebtn").addEventListener("click",()=>Qe("reincarnationChallenge",void 0,!0)),l("ascendChallengeBtn").addEventListener("click",()=>Qe("ascensionChallenge")),l("ascendbtn").addEventListener("click",()=>Qe("ascension")),l("singularitybtn").addEventListener("click",()=>Qe("singularity"));let r=["Coin","Diamond","Mythos","Particle","Tesseract"];for(let M=0;M<r.length;M++)l(`switchTo${r[M]}Building`).addEventListener("click",()=>Be(0,{page:M}));let n=["coin","crystal","mythos","particle","tesseract","offering"],a=["one","ten","hundred","thousand","10k","100k"],s=[1,10,100,1e3,1e4,1e5];for(let M=0;M<a.length;M++)for(let j=0;j<n.length;j++)l(n[j]+a[M]).addEventListener("click",()=>_m(s[M],n[j]));l("buyaccelerator").addEventListener("click",()=>oo()),l("buymultiplier").addEventListener("click",()=>io()),l("buyacceleratorboost").addEventListener("click",()=>bs());let o=["coin","diamond","mythos"],c=["Coin","Diamonds","Mythos"];for(let M=0;M<3;M++)for(let j=1;j<=5;j++)l(`buy${o[M]}${j}`).addEventListener("click",()=>mh(t[j],c[M],M===0?j:j*(j+1)/2));for(let M=1;M<=5;M++)l(`buycrystalupgrade${M}`).addEventListener("mouseover",()=>xl(M)),l(`buycrystalupgrade${M}`).addEventListener("click",()=>gr(M));for(let M=0;M<5;M++)l(`buyparticles${M+1}`).addEventListener("click",()=>qn(M+1));for(let M=0;M<5;M++)l(`buyTesseracts${M+1}`).addEventListener("click",()=>ms(M+1)),l(`tesseractAutoToggle${M+1}`).addEventListener("click",()=>nh(M+1));for(let M=0;M<10;M++)l(`buyConstantUpgrade${M+1}`).addEventListener("mouseover",()=>_u(M+1)),l(`buyConstantUpgrade${M+1}`).addEventListener("click",()=>Fo(M+1));document.querySelectorAll(".auto[toggleid]").forEach(M=>M.addEventListener("click",()=>Nm(M))),l("prestigeautotoggle").addEventListener("click",()=>gi(1)),l("transcendautotoggle").addEventListener("click",()=>gi(2)),l("reincarnateautotoggle").addEventListener("click",()=>gi(3)),l("tesseractautobuymode").addEventListener("click",()=>gi(4)),l("prestigeamount").addEventListener("blur",()=>Br(1)),l("transcendamount").addEventListener("blur",()=>Br(2)),l("reincarnationamount").addEventListener("blur",()=>Br(3)),l("ascensionAmount").addEventListener("blur",()=>Br(4)),l("autoAntSacrificeAmount").addEventListener("blur",()=>Br(5)),l("tesseractautobuytoggle").addEventListener("click",()=>$m()),l("tesseractAmount").addEventListener("blur",()=>uc()),l("cubeOpensInput").addEventListener("blur",()=>wn(1)),l("tesseractsOpensInput").addEventListener("blur",()=>wn(2)),l("hypercubesOpensInput").addEventListener("blur",()=>wn(3)),l("platonicCubeOpensInput").addEventListener("blur",()=>wn(4)),l("openCubes").addEventListener("click",()=>hi(1)),l("openTesseracts").addEventListener("click",()=>hi(2)),l("openHypercubes").addEventListener("click",()=>hi(3)),l("openPlatonicCube").addEventListener("click",()=>hi(4));for(let M=1;M<=125;M++)l(`upg${M}`).addEventListener("mouseover",()=>bg(M));for(let M=1;M<=125;M++)l(`upg${M}`).addEventListener("click",()=>Fa(M,!1));for(let M=1;M<=6;M++)l(`upgrades${M}`).addEventListener("click",()=>Go(M,!1));l("coinAutoUpgrade").addEventListener("click",()=>fa("coin")),l("prestigeAutoUpgrade").addEventListener("click",()=>fa("prestige")),l("transcendAutoUpgrade").addEventListener("click",()=>fa("transcend")),l("generatorsAutoUpgrade").addEventListener("click",()=>fa("generators")),l("reincarnateAutoUpgrade").addEventListener("click",()=>fa("reincarnate"));for(let M=1;M<=vo.length-1;M++)l(`ach${M}`).addEventListener("mouseover",()=>w0(M));l("toggleautosacrifice").addEventListener("click",()=>Cd(0));for(let M=0;M<4;M++)l(`toggleRuneSubTab${M+1}`).addEventListener("click",()=>Be(3,{page:M}));for(let M=0;M<7;M++)l(`rune${M+1}`).addEventListener("mouseover",()=>tr(M+1)),l(`rune${M+1}`).addEventListener("click",()=>Cd(M+1)),l(`activaterune${M+1}`).addEventListener("mouseover",()=>tr(M+1)),l(`activaterune${M+1}`).addEventListener("click",()=>ja(M+1));let f=[10,25,50,100],g=["Ten","TwentyFive","Fifty","Hundred"];for(let M=0;M<f.length;M++)l(`talisman${g[M]}`).addEventListener("click",()=>Zs(f[M]));l("toggleautoBuyFragments").addEventListener("click",()=>Fm()),l("toggleautoenhance").addEventListener("click",()=>Wm()),l("toggleautofortify").addEventListener("click",()=>Vm());let h=["shard","commonFragment","uncommonFragment","rareFragment","epicFragment","legendaryFragment","mythicalFragment"];for(let M=0;M<h.length;M++)l(`buyTalismanItem${M+1}`).addEventListener("mouseover",()=>Il(h[M])),l(`buyTalismanItem${M+1}`).addEventListener("click",()=>rd(h[M]));l("buyTalismanAll").addEventListener("mouseover",()=>Il(null)),l("buyTalismanAll").addEventListener("click",()=>Nl());for(let M=0;M<7;M++)l(`talisman${M+1}`).addEventListener("click",()=>_l(M)),l(`leveluptalisman${M+1}`).addEventListener("mouseover",()=>nd(M)),l(`leveluptalisman${M+1}`).addEventListener("click",()=>$l(M)),l(`enhancetalisman${M+1}`).addEventListener("mouseover",()=>ad(M)),l(`enhancetalisman${M+1}`).addEventListener("click",()=>Dl(M)),l(`respectalisman${M+1}`).addEventListener("click",()=>sd(M));l("respecAllTalismans").addEventListener("click",()=>sd(7)),l("confirmTalismanRespec").addEventListener("click",()=>Yg(i.talismanRespec)),l("cancelTalismanRespec").addEventListener("click",()=>Jg(i.talismanRespec));for(let M=0;M<5;M++)l(`talismanRespecButton${M+1}`).addEventListener("click",()=>Zg(M+1));for(let M=0;M<5;M++)l(`runeBlessingPurchase${M+1}`).addEventListener("click",()=>lo("Blessings",M+1)),l(`runeSpiritPurchase${M+1}`).addEventListener("click",()=>lo("Spirits",M+1));l("buyRuneBlessingInput").addEventListener("blur",()=>no(1)),l("buyRuneSpiritInput").addEventListener("blur",()=>no(2)),l("buyAllBlessings").addEventListener("click",()=>co("Blessings")),l("buyAllSpirits").addEventListener("click",()=>co("Spirits"));for(let M=0;M<15;M++)l(`challenge${M+1}`).addEventListener("click",()=>Pt(M+1)),l(`challenge${M+1}`).addEventListener("dblclick",()=>{Pt(M+1),Ur(i.triggerChallenge,!1)});l("startChallenge").addEventListener("click",()=>Ur(i.triggerChallenge,!1)),l("retryChallenge").addEventListener("click",()=>P0()),l("toggleAutoChallengeIgnore").addEventListener("click",()=>rh(i.triggerChallenge)),l("toggleAutoChallengeStart").addEventListener("click",()=>mi()),l("startAutoChallengeTimerInput").addEventListener("input",()=>ga(1)),l("exitAutoChallengeTimerInput").addEventListener("input",()=>ga(2)),l("enterAutoChallengeTimerInput").addEventListener("input",()=>ga(3));for(let M=0;M<2;M++)l(`toggleChallengesSubTab${M+1}`).addEventListener("click",()=>Be(4,{page:M}));for(let M=1;M<200;M++)l(`res${M}`).addEventListener("click",()=>dn(M)),l(`res${M}`).addEventListener("mouseover",()=>wl(M));l("res200").addEventListener("click",()=>dn(200,!1,.01)),l("res200").addEventListener("mouseover",()=>wl(200,!1,.01)),l("toggleresearchbuy").addEventListener("click",()=>Dm()),l("toggleautoresearch").addEventListener("click",()=>Gm()),l("toggleautoresearchmode").addEventListener("click",()=>Hm());let b=["null","1e700","3","100","10000","1e12","1e36","1e100","1e300"];for(let M=1;M<=8;M++)l(`anttier${M}`).addEventListener("mouseover",()=>Fd(M)),l(`anttier${M}`).addEventListener("mouseover",()=>Vh(M)),l(`anttier${M}`).addEventListener("click",()=>Qd(t[M],b[M],M));let y=["null","100","100","1000","1000","1e5","1e6","1e8","1e11","1e15","1e20","1e40","1e100"];for(let M=1;M<=12;M++)l(`antUpgrade${M}`).addEventListener("mouseover",()=>jd(M)),l(`antUpgrade${M}`).addEventListener("click",()=>qd(y[M],!1,M));l("antSacrifice").addEventListener("click",()=>uo()),l("toggleAntMax").addEventListener("click",()=>ac()),l("toggleAutoSacrificeAnt").addEventListener("click",()=>to(0)),l("autoSacrificeAntMode").addEventListener("click",()=>to(1));for(let M=0;M<7;M++)l(`switchCubeSubTab${M+1}`).addEventListener("click",()=>Be(7,{page:M}));for(let M=1;M<e.cubeUpgrades.length;M++)l(`cubeUpg${M}`).addEventListener("mouseover",()=>Du(M)),l(`cubeUpg${M}`).addEventListener("click",()=>Hu(M));l("toggleCubeBuy").addEventListener("click",()=>eh()),l("toggleAutoCubeUpgrades").addEventListener("click",()=>sc()),l("open1Cube").addEventListener("click",()=>e.wowCubes.open(1,!1)),l("open20Cube").addEventListener("click",()=>e.wowCubes.open(Math.floor(Number(e.wowCubes)/10),!1)),l("open1000Cube").addEventListener("click",()=>e.wowCubes.open(Math.floor(Number(e.wowCubes)/2),!1)),l("openCustomCube").addEventListener("click",()=>e.wowCubes.openCustom()),l("openMostCube").addEventListener("click",()=>e.wowCubes.open(0,!0)),l("open1Tesseract").addEventListener("click",()=>e.wowTesseracts.open(1,!1)),l("open20Tesseract").addEventListener("click",()=>e.wowTesseracts.open(Math.floor(Number(e.wowTesseracts)/10),!1)),l("open1000Tesseract").addEventListener("click",()=>e.wowTesseracts.open(Math.floor(Number(e.wowTesseracts)/2),!1)),l("openCustomTesseract").addEventListener("click",()=>e.wowTesseracts.openCustom()),l("openMostTesseract").addEventListener("click",()=>e.wowTesseracts.open(1,!0)),l("open1Hypercube").addEventListener("click",()=>e.wowHypercubes.open(1,!1)),l("open20Hypercube").addEventListener("click",()=>e.wowHypercubes.open(Math.floor(Number(e.wowHypercubes)/10),!1)),l("open1000Hypercube").addEventListener("click",()=>e.wowHypercubes.open(Math.floor(Number(e.wowHypercubes)/2),!1)),l("openCustomHypercube").addEventListener("click",()=>e.wowHypercubes.openCustom()),l("openMostHypercube").addEventListener("click",()=>e.wowHypercubes.open(1,!0)),l("open1PlatonicCube").addEventListener("click",()=>e.wowPlatonicCubes.open(1,!1)),l("open40kPlatonicCube").addEventListener("click",()=>e.wowPlatonicCubes.open(Math.floor(Number(e.wowPlatonicCubes)/10),!1)),l("open1mPlatonicCube").addEventListener("click",()=>e.wowPlatonicCubes.open(Math.floor(Number(e.wowPlatonicCubes)/2),!1)),l("openCustomPlatonicCube").addEventListener("click",()=>e.wowPlatonicCubes.openCustom()),l("openMostPlatonicCube").addEventListener("click",()=>e.wowPlatonicCubes.open(1,!0)),l("saveOffToggle").addEventListener("click",()=>zm());let C=document.getElementsByClassName("platonicUpgradeImage");for(let M=0;M<C.length;M++)C[M].addEventListener("mouseover",()=>ju(M+1)),C[M].addEventListener("click",()=>Vu(M+1));l("toggleAutoPlatonicUpgrades").addEventListener("click",()=>oc()),l("chronosHepteract").addEventListener("mouseover",()=>En("chronos")),l("hyperrealismHepteract").addEventListener("mouseover",()=>En("hyperrealism")),l("quarkHepteract").addEventListener("mouseover",()=>En("quark")),l("challengeHepteract").addEventListener("mouseover",()=>En("challenge")),l("abyssHepteract").addEventListener("mouseover",()=>En("abyss")),l("acceleratorHepteract").addEventListener("mouseover",()=>En("accelerator")),l("acceleratorBoostHepteract").addEventListener("mouseover",()=>En("acceleratorBoost")),l("multiplierHepteract").addEventListener("mouseover",()=>En("multiplier")),l("chronosHepteractCraft").addEventListener("click",()=>e.hepteractCrafts.chronos.craft()),l("hyperrealismHepteractCraft").addEventListener("click",()=>e.hepteractCrafts.hyperrealism.craft()),l("quarkHepteractCraft").addEventListener("click",()=>e.hepteractCrafts.quark.craft()),l("challengeHepteractCraft").addEventListener("click",()=>e.hepteractCrafts.challenge.craft()),l("abyssHepteractCraft").addEventListener("click",()=>e.hepteractCrafts.abyss.craft()),l("acceleratorHepteractCraft").addEventListener("click",()=>e.hepteractCrafts.accelerator.craft()),l("acceleratorBoostHepteractCraft").addEventListener("click",()=>e.hepteractCrafts.acceleratorBoost.craft()),l("multiplierHepteractCraft").addEventListener("click",()=>e.hepteractCrafts.multiplier.craft()),l("chronosHepteractCraftMax").addEventListener("click",()=>e.hepteractCrafts.chronos.craft(!0)),l("hyperrealismHepteractCraftMax").addEventListener("click",()=>e.hepteractCrafts.hyperrealism.craft(!0)),l("quarkHepteractCraftMax").addEventListener("click",()=>e.hepteractCrafts.quark.craft(!0)),l("challengeHepteractCraftMax").addEventListener("click",()=>e.hepteractCrafts.challenge.craft(!0)),l("abyssHepteractCraftMax").addEventListener("click",()=>e.hepteractCrafts.abyss.craft(!0)),l("acceleratorHepteractCraftMax").addEventListener("click",()=>e.hepteractCrafts.accelerator.craft(!0)),l("acceleratorBoostHepteractCraftMax").addEventListener("click",()=>e.hepteractCrafts.acceleratorBoost.craft(!0)),l("multiplierHepteractCraftMax").addEventListener("click",()=>e.hepteractCrafts.multiplier.craft(!0)),l("chronosHepteractCap").addEventListener("click",()=>e.hepteractCrafts.chronos.expand()),l("hyperrealismHepteractCap").addEventListener("click",()=>e.hepteractCrafts.hyperrealism.expand()),l("quarkHepteractCap").addEventListener("click",()=>e.hepteractCrafts.quark.expand()),l("challengeHepteractCap").addEventListener("click",()=>e.hepteractCrafts.challenge.expand()),l("abyssHepteractCap").addEventListener("click",()=>e.hepteractCrafts.abyss.expand()),l("acceleratorHepteractCap").addEventListener("click",()=>e.hepteractCrafts.accelerator.expand()),l("acceleratorBoostHepteractCap").addEventListener("click",()=>e.hepteractCrafts.acceleratorBoost.expand()),l("multiplierHepteractCap").addEventListener("click",()=>e.hepteractCrafts.multiplier.expand()),l("chronosHepteractAuto").addEventListener("click",()=>e.hepteractCrafts.chronos.toggleAutomatic()),l("hyperrealismHepteractAuto").addEventListener("click",()=>e.hepteractCrafts.hyperrealism.toggleAutomatic()),l("quarkHepteractAuto").addEventListener("click",()=>e.hepteractCrafts.quark.toggleAutomatic()),l("challengeHepteractAuto").addEventListener("click",()=>e.hepteractCrafts.challenge.toggleAutomatic()),l("abyssHepteractAuto").addEventListener("click",()=>e.hepteractCrafts.abyss.toggleAutomatic()),l("acceleratorHepteractAuto").addEventListener("click",()=>e.hepteractCrafts.accelerator.toggleAutomatic()),l("acceleratorBoostHepteractAuto").addEventListener("click",()=>e.hepteractCrafts.acceleratorBoost.toggleAutomatic()),l("multiplierHepteractAuto").addEventListener("click",()=>e.hepteractCrafts.multiplier.toggleAutomatic()),l("hepteractToQuark").addEventListener("mouseover",()=>xg()),l("hepteractToQuarkTrade").addEventListener("click",()=>Fu()),l("hepteractToQuarkTradeMax").addEventListener("click",()=>Fu(!0)),l("hepteractToQuarkTradeAuto").addEventListener("click",()=>kl()),l("overfluxPowder").addEventListener("mouseover",()=>Mg()),l("powderDayWarp").addEventListener("click",()=>Qu(!1)),l("warpAuto").addEventListener("click",()=>Qu(!0)),l("hepteractAutoPercentageButton").addEventListener("click",()=>sh()),l("corrStatsBtn").addEventListener("click",()=>Be(8,{page:0})),l("corrLoadoutsBtn").addEventListener("click",()=>Be(8,{page:1})),l("corruptionDisplays").addEventListener("click",()=>ps(10)),l("corruptionCleanse").addEventListener("click",()=>g0()),l("corruptionCleanseConfirm").addEventListener("click",()=>Gn(10,999)),l("ascensionAutoEnable").addEventListener("click",()=>ro(0)),l("ascensionAutoToggle").addEventListener("click",()=>ro(1));let x=Array.from(document.querySelectorAll('[id^="switchSettingSubTab"]'));for(let M of x)M.addEventListener("click",()=>Be(10,{page:x.indexOf(M)}));let D=Array.from(document.querySelectorAll("button.statsNerds"));for(let M of D)M.addEventListener("click",j=>Cm(j.target));l("summaryGeneration").addEventListener("click",()=>N0()),l("exportgame").addEventListener("click",()=>e0()),l("saveStringInput").addEventListener("blur",M=>Jh(M.target)),l("savegame").addEventListener("click",()=>Ir(!0)),l("deleteGame").addEventListener("click",()=>Xd(!1)),l("preloadDeleteGame").addEventListener("click",()=>t0()),l("promocodes").addEventListener("click",()=>r0()),l("addCodeBox").addEventListener("mouseover",()=>Ui("add")),l("addCode").addEventListener("click",()=>jn("add")),l("addCodeAll").addEventListener("click",()=>jn("add",da())),l("addCodeOne").addEventListener("click",()=>jn("add",1)),l("dailyCode").addEventListener("click",()=>jn("daily")),l("dailyCode").addEventListener("mouseover",()=>Ui("daily")),l("timeCode").addEventListener("click",()=>jn("time")),l("timeCode").addEventListener("mouseover",()=>Ui("time")),l("historyTogglePerSecondButton").addEventListener("click",()=>R0()),l("resetHotkeys").addEventListener("click",()=>vh()),l("notation").addEventListener("click",()=>em()),l("iconSet").addEventListener("click",()=>Fl(e.iconSet+1)),l("resetShopUpgrades").addEventListener("click",()=>Bl()),l("toggleConfirmShop").addEventListener("click",()=>Zm()),l("toggleBuyMaxShop").addEventListener("click",M=>Ym(M)),l("toggleHideShop").addEventListener("click",()=>Jm()),l("offeringPotions").addEventListener("mouseover",()=>Ar("offeringPotion")),l("offeringpotionowned").addEventListener("mouseover",()=>Ar("offeringPotion")),l("buyofferingpotion").addEventListener("mouseover",()=>Ar("offeringPotion")),l("useofferingpotion").addEventListener("mouseover",()=>Ar("offeringPotion")),l("buyofferingpotion").addEventListener("click",()=>Ul("offeringPotion")),l("useofferingpotion").addEventListener("click",()=>_n("offeringPotion")),l("toggle42").addEventListener("click",()=>{e.autoPotionTimer=0}),l("obtainiumPotions").addEventListener("mouseover",()=>Ar("obtainiumPotion")),l("obtainiumpotionowned").addEventListener("mouseover",()=>Ar("obtainiumPotion")),l("buyobtainiumpotion").addEventListener("mouseover",()=>Ar("obtainiumPotion")),l("useobtainiumpotion").addEventListener("mouseover",()=>Ar("obtainiumPotion")),l("buyobtainiumpotion").addEventListener("click",()=>Ul("obtainiumPotion")),l("useobtainiumpotion").addEventListener("click",()=>_n("obtainiumPotion")),l("toggle43").addEventListener("click",()=>{e.autoPotionTimerObtainium=0});let $=Object.keys(e.shopUpgrades);for(let M of $)Te[M].type==="upgrade"&&(l(`${M}`).addEventListener("mouseover",()=>Ar(M)),l(`${M}Level`).addEventListener("mouseover",()=>Ar(M)),l(`${M}Button`).addEventListener("mouseover",()=>Ar(M)),l(`${M}Button`).addEventListener("click",()=>Ul(M)));l("buySingularityQuarksButton").addEventListener("click",()=>ug());let L=Object.keys(e.singularityUpgrades);for(let M of L)M!=="offeringAutomatic"&&(l(`${String(M)}`).addEventListener("mouseover",()=>e.singularityUpgrades[`${String(M)}`].updateUpgradeHTML()),l(`${String(M)}`).addEventListener("click",j=>e.singularityUpgrades[`${String(M)}`].buyLevel(j)));l("actualSingularityUpgradeContainer").addEventListener("mouseover",()=>di(!0)),l("actualSingularityUpgradeContainer").addEventListener("mouseout",()=>di(!1));let E=l("singularityPerksIcon"),H=l("singularityPerksText"),I=l("singularityPerksDesc");for(let M of ku){let j=document.createElement("span");j.innerHTML=`<img src="Pictures/${ze[e.iconSet][0]}/perk${M.ID}.png">${M.name()}`,j.id=M.ID,j.classList.add("oldPerk"),j.style.display="none",l("singularityPerksGrid").append(j),l(M.ID).addEventListener("mouseover",()=>{let ae=Au(M,e.highestSingularityCount),ge=u.t("singularity.perks.levelInfo",{level:ae.level,singularity:ae.singularity});E.src=`Pictures/${ze[e.iconSet][0]}/perk${M.ID}.png`,H.innerHTML=ge,I.innerHTML=M.description(e.highestSingularityCount,M.levels)})}let N=Object.keys(e.octeractUpgrades);for(let M of N)l(`${String(M)}`).addEventListener("mouseover",()=>e.octeractUpgrades[`${String(M)}`].updateUpgradeHTML()),l(`${String(M)}`).addEventListener("click",j=>e.octeractUpgrades[`${String(M)}`].buyLevel(j));l("octeractUpgradeContainer").addEventListener("mouseover",()=>di(!0)),l("octeractUpgradeContainer").addEventListener("mouseout",()=>di(!1));let k=Object.keys(e.singularityChallenges);for(let M of k)l(`${String(M)}`).addEventListener("mouseover",()=>e.singularityChallenges[`${String(M)}`].updateChallengeHTML()),l(`${String(M)}`).addEventListener("click",()=>e.singularityChallenges[`${String(M)}`].challengeEntryHandler());let A=Object.keys(e.blueberryUpgrades);for(let M of A)l(`${String(M)}`).addEventListener("mouseover",()=>e.blueberryUpgrades[`${String(M)}`].updateUpgradeHTML()),l(`${String(M)}`).addEventListener("click",j=>e.blueberryUpgrades[`${String(M)}`].buyLevel(j));let Q=Array.from(document.querySelectorAll('[id^="blueberryLoadout"]')),J=l("blueberryUpgradeContainer");for(let M=0;M<Q.length;M++){let j=M+1,ae=Q[M];ae.addEventListener("mouseover",()=>{var ge;kc(j,(ge=e.blueberryLoadouts[j])!=null?ge:{ambrosiaTutorial:0}),J.classList.add(`hoveredBlueberryLoadout${j}`)}),ae.addEventListener("mouseout",()=>{J.classList.remove(`hoveredBlueberryLoadout${j}`)}),ae.addEventListener("click",()=>{var ge;return c0(j,(ge=e.blueberryLoadouts[j])!=null?ge:{ambrosiaTutorial:0})})}l("blueberryToggleMode").addEventListener("click",()=>oh()),l("getBlueberries").addEventListener("click",()=>o0()),l("refundBlueberries").addEventListener("click",()=>Jd()),l("importBlueberries").addEventListener("change",async M=>Zd(M,l0));for(let M=0;M<4;M++)l(`toggleSingularitySubTab${M+1}`).addEventListener("click",()=>Be(9,{page:M}));l("unsmith").addEventListener("click",()=>vm()),l("importfile").addEventListener("change",async M=>Zd(M,us));for(let M=1;M<=5;M++)l(`switchTheme${M}`).addEventListener("click",()=>Hl(!1,M,!0));l("saveType").addEventListener("click",async M=>{let j=M.target;if(!j.checked){localStorage.removeItem("copyToClipboard"),M.stopPropagation();return}M.preventDefault(),await Ne(u.t("save.saveToClipboard"))?(j.checked=!j.checked,localStorage.setItem("copyToClipboard","")):localStorage.removeItem("copyToClipboard")}),window.addEventListener("error",rm,{capture:!0})};var $0=()=>{let t=1,r=new m(0),n=new m(0);i.produceFirst=e.firstGeneratedCoin.add(e.firstOwnedCoin).times(i.globalCoinMultiplier).times(i.coinOneMulti).times(e.firstProduceCoin),i.produceSecond=e.secondGeneratedCoin.add(e.secondOwnedCoin).times(i.globalCoinMultiplier).times(i.coinTwoMulti).times(e.secondProduceCoin),i.produceThird=e.thirdGeneratedCoin.add(e.thirdOwnedCoin).times(i.globalCoinMultiplier).times(i.coinThreeMulti).times(e.thirdProduceCoin),i.produceFourth=e.fourthGeneratedCoin.add(e.fourthOwnedCoin).times(i.globalCoinMultiplier).times(i.coinFourMulti).times(e.fourthProduceCoin),i.produceFifth=e.fifthGeneratedCoin.add(e.fifthOwnedCoin).times(i.globalCoinMultiplier).times(i.coinFiveMulti).times(e.fifthProduceCoin),i.produceTotal=i.produceFirst.add(i.produceSecond).add(i.produceThird).add(i.produceFourth).add(i.produceFifth),i.produceFirst.lte(1e-4)&&(i.produceFirst=new m(0)),i.produceSecond.lte(1e-4)&&(i.produceSecond=new m(0)),i.produceThird.lte(1e-4)&&(i.produceThird=new m(0)),i.produceFourth.lte(1e-4)&&(i.produceFourth=new m(0)),i.produceFifth.lte(1e-4)&&(i.produceFifth=new m(0)),i.producePerSecond=i.produceTotal.times(40),e.currentChallenge.reincarnation===6&&(t=3*Math.pow(1+e.challengecompletions[6]/25,2)),e.currentChallenge.reincarnation===9&&(t=.005),e.currentChallenge.ascension===15&&(t=5e-6);let a=Math.max(0,xe(e.challengecompletions)-e.challengecompletions[11]-e.challengecompletions[12]-e.challengecompletions[13]-e.challengecompletions[14]-e.challengecompletions[15]-3*e.cubeUpgrades[49]-(e.singularityCount>=15?4:0)-(e.singularityCount>=20?1:0));e.currentChallenge.ascension===13&&(t*=700*(1+1/6*e.challengecompletions[13]),t*=Math.pow(1.05,a)),e.challengecompletions[6]>0&&(t/=1.075);let s=1;s*=t,s*=1-1/20*e.researches[51]-1/40*e.researches[52]-1/80*e.researches[53]-1/160*e.researches[54]-1/320*e.researches[55],s*=1-.05/1800*(e.achievements[45]+e.achievements[46]+2*e.achievements[47])*Math.min(e.prestigecounter,1800),s*=Math.pow(.965,z("reincarnation",e.challengecompletions[6])),s*=.001+.999*Math.pow(6,-(i.rune2level*i.effectiveLevelMult)/1e3),s*=.01+.99*Math.pow(4,Math.min(0,(400-i.rune4level)/1100)),s*=1-.04*e.achievements[82]-.04*e.achievements[89]-.04*e.achievements[96]-.04*e.achievements[103]-.04*e.achievements[110]-.0566*e.achievements[117]-.0566*e.achievements[124]-.0566*e.achievements[131],s*=Math.pow(.9925,e.achievements[118]*(e.challengecompletions[6]+e.challengecompletions[7]+e.challengecompletions[8]+e.challengecompletions[9]+e.challengecompletions[10])),s*=.005+.995*Math.pow(.99,e.antUpgrades[2]+i.bonusant3),s*=1/Math.pow(1+m.log(e.ascendShards.add(1),10),1+.2/60*e.challengecompletions[10]*e.upgrades[125]+.1*e.platonicUpgrades[5]+.2*e.platonicUpgrades[10]+(i.platonicBonusMultiplier[5]-1)),s*=1-.1*(e.talismanRarity[1-1]-1),s*=Math.pow(.98,3/5*Math.log(1+e.rareFragments)/Math.log(10)*e.researches[159]),s*=Math.pow(.966,z("ascension",e.challengecompletions[13])),s*=1-.666*e.researches[200]/1e5,s*=1-.666*e.cubeUpgrades[50]/1e5,s*=i.challenge15Rewards.taxes,e.upgrades[121]>0&&(s*=.5),s<1e-300&&(s=1e-300),i.maxexponent=Math.floor(275/(m.log(1.01,10)*s))-1;let o=Math.min(i.maxexponent,Math.floor(m.log(i.produceTotal.add(1),10)));e.currentChallenge.ascension===13&&i.maxexponent<=99999&&e.achievements[249]<1&&a>=1&&F(249),o>=1&&(r=m.pow(o,2).div(550)),n=m.pow(i.maxexponent,2).div(550),i.taxdivisor=m.pow(1.01,m.mul(r,s)),i.taxdivisorcheck=m.pow(1.01,m.mul(n,s))};var Di=Hr(ll());var D0={type:"postProcessor",name:"ColorText",process:t=>t.includes("<<")?t.replace(/<<(.*?)\|(.*?)>>/g,'<span style="color:$1">$2</span>'):t};var Lp={en:{name:"English",flag:"\u{1F1FA}\u{1F1F8}"},zh:{name:"Chinese",flag:"\u{1F1E8}\u{1F1F3}"},fr:{name:"French",flag:"\u{1F3F3}\uFE0F"},de:{name:"German",flag:"\u{1F1E9}\u{1F1EA}"},pl:{name:"Polish",flag:"\u{1F1F5}\u{1F1F1}"},es:{name:"Spanish",flag:"\u{1F1EA}\u{1F1F8}"},ru:{name:"Russian",flag:"\u{1F1F7}\u{1F1FA}"}},_c=new Map,G0=async()=>{var s;let t={},r=(s=localStorage.getItem("language"))!=null?s:"en",a=await(await fetch(`./translations/${r}.json`)).json();if(_c.set(r,{translation:a}),t[r]={translation:a},r!=="en"){let c=await(await fetch("./translations/en.json")).json();_c.set("en",{translation:c}),t.en={translation:c}}await u.use(D0).init({lng:r,fallbackLng:"en",debug:!ln,resources:t,postProcess:["ColorText"],returnEmptyString:!1,interpolation:{escapeValue:!1}}),X2(),Z2()};function K2(t,r,n){let a=document.createElement("button");a.id=`language_${t}`,a.className="language-select",a.addEventListener("click",async()=>{if(!_c.has(t)){let f=await(await fetch(`./translations/${t}.json`)).json();_c.set(t,{translation:f}),u.addResourceBundle(t,"translation",f)}await u.changeLanguage(t),localStorage.setItem("language",t),await Ne(u.t("general.languageChange"))&&location.reload()});let s=document.createElement("span");s.className="lang-flag",s.textContent=n,a.appendChild(s);let o=document.createElement("span");return o.className="lang-name",o.textContent=r,a.appendChild(o),a}function X2(){let t=l("languageOptions");for(let r in Lp){let n=K2(r,Lp[r].name,Lp[r].flag);t.appendChild(n)}}function Z2(){let t=document.querySelectorAll("*[i18n]");for(let r of Array.from(t)){let n=r.getAttribute("i18n"),a=u.t(n);a.includes("<span")?r.innerHTML=a:r.textContent=a}}var e={firstPlayed:new Date().toISOString(),worlds:new Jn(0),coins:new m("1e2"),coinsThisPrestige:new m("1e2"),coinsThisTranscension:new m("1e2"),coinsThisReincarnation:new m("1e2"),coinsTotal:new m("100"),firstOwnedCoin:0,firstGeneratedCoin:new m("0"),firstCostCoin:new m("100"),firstProduceCoin:.25,secondOwnedCoin:0,secondGeneratedCoin:new m("0"),secondCostCoin:new m("1e3"),secondProduceCoin:2.5,thirdOwnedCoin:0,thirdGeneratedCoin:new m("0"),thirdCostCoin:new m("2e4"),thirdProduceCoin:25,fourthOwnedCoin:0,fourthGeneratedCoin:new m("0"),fourthCostCoin:new m("4e5"),fourthProduceCoin:250,fifthOwnedCoin:0,fifthGeneratedCoin:new m("0"),fifthCostCoin:new m("8e6"),fifthProduceCoin:2500,firstOwnedDiamonds:0,firstGeneratedDiamonds:new m("0"),firstCostDiamonds:new m("100"),firstProduceDiamonds:.05,secondOwnedDiamonds:0,secondGeneratedDiamonds:new m("0"),secondCostDiamonds:new m("1e5"),secondProduceDiamonds:5e-4,thirdOwnedDiamonds:0,thirdGeneratedDiamonds:new m("0"),thirdCostDiamonds:new m("1e15"),thirdProduceDiamonds:5e-5,fourthOwnedDiamonds:0,fourthGeneratedDiamonds:new m("0"),fourthCostDiamonds:new m("1e40"),fourthProduceDiamonds:5e-6,fifthOwnedDiamonds:0,fifthGeneratedDiamonds:new m("0"),fifthCostDiamonds:new m("1e100"),fifthProduceDiamonds:5e-6,firstOwnedMythos:0,firstGeneratedMythos:new m("0"),firstCostMythos:new m("1"),firstProduceMythos:1,secondOwnedMythos:0,secondGeneratedMythos:new m("0"),secondCostMythos:new m("100"),secondProduceMythos:.01,thirdOwnedMythos:0,thirdGeneratedMythos:new m("0"),thirdCostMythos:new m("1e4"),thirdProduceMythos:.001,fourthOwnedMythos:0,fourthGeneratedMythos:new m("0"),fourthCostMythos:new m("1e8"),fourthProduceMythos:2e-4,fifthOwnedMythos:0,fifthGeneratedMythos:new m("0"),fifthCostMythos:new m("1e16"),fifthProduceMythos:4e-5,firstOwnedParticles:0,firstGeneratedParticles:new m("0"),firstCostParticles:new m("1"),firstProduceParticles:.25,secondOwnedParticles:0,secondGeneratedParticles:new m("0"),secondCostParticles:new m("100"),secondProduceParticles:.2,thirdOwnedParticles:0,thirdGeneratedParticles:new m("0"),thirdCostParticles:new m("1e4"),thirdProduceParticles:.15,fourthOwnedParticles:0,fourthGeneratedParticles:new m("0"),fourthCostParticles:new m("1e8"),fourthProduceParticles:.1,fifthOwnedParticles:0,fifthGeneratedParticles:new m("0"),fifthCostParticles:new m("1e16"),fifthProduceParticles:.5,firstOwnedAnts:0,firstGeneratedAnts:new m("0"),firstCostAnts:new m("1e700"),firstProduceAnts:1e-4,secondOwnedAnts:0,secondGeneratedAnts:new m("0"),secondCostAnts:new m("3"),secondProduceAnts:5e-5,thirdOwnedAnts:0,thirdGeneratedAnts:new m("0"),thirdCostAnts:new m("100"),thirdProduceAnts:2e-5,fourthOwnedAnts:0,fourthGeneratedAnts:new m("0"),fourthCostAnts:new m("1e4"),fourthProduceAnts:1e-5,fifthOwnedAnts:0,fifthGeneratedAnts:new m("0"),fifthCostAnts:new m("1e12"),fifthProduceAnts:5e-6,sixthOwnedAnts:0,sixthGeneratedAnts:new m("0"),sixthCostAnts:new m("1e36"),sixthProduceAnts:2e-6,seventhOwnedAnts:0,seventhGeneratedAnts:new m("0"),seventhCostAnts:new m("1e100"),seventhProduceAnts:1e-6,eighthOwnedAnts:0,eighthGeneratedAnts:new m("0"),eighthCostAnts:new m("1e300"),eighthProduceAnts:1e-8,ascendBuilding1:{cost:1,owned:0,generated:new m("0"),multiplier:.01},ascendBuilding2:{cost:10,owned:0,generated:new m("0"),multiplier:.01},ascendBuilding3:{cost:100,owned:0,generated:new m("0"),multiplier:.01},ascendBuilding4:{cost:1e3,owned:0,generated:new m("0"),multiplier:.01},ascendBuilding5:{cost:1e4,owned:0,generated:new m("0"),multiplier:.01},multiplierCost:new m("1e4"),multiplierBought:0,acceleratorCost:new m("500"),acceleratorBought:0,acceleratorBoostBought:0,acceleratorBoostCost:new m("1e3"),upgrades:Array(141).fill(0),prestigeCount:0,transcendCount:0,reincarnationCount:0,prestigePoints:new m("0"),transcendPoints:new m("0"),reincarnationPoints:new m("0"),prestigeShards:new m("0"),transcendShards:new m("0"),reincarnationShards:new m("0"),toggles:{1:!1,2:!1,3:!1,4:!1,5:!1,6:!1,7:!1,8:!1,9:!1,10:!1,11:!1,12:!1,13:!1,14:!1,15:!1,16:!1,17:!1,18:!1,19:!1,20:!1,21:!1,22:!1,23:!1,24:!1,25:!1,26:!1,27:!1,28:!0,29:!0,30:!0,31:!0,32:!0,33:!0,34:!0,35:!0,36:!1,37:!1,38:!1,39:!0,40:!0,41:!0,42:!1,43:!1},challengecompletions:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],highestchallengecompletions:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],challenge15Exponent:0,highestChallenge15Exponent:0,retrychallenges:!1,currentChallenge:{transcension:0,reincarnation:0,ascension:0},researchPoints:0,obtainiumtimer:0,obtainiumpersecond:0,maxobtainiumpersecond:0,maxobtainium:0,researches:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],unlocks:{coinone:!1,cointwo:!1,cointhree:!1,coinfour:!1,prestige:!1,generation:!1,transcend:!1,reincarnate:!1,rrow1:!1,rrow2:!1,rrow3:!1,rrow4:!1},achievements:Array(281).fill(0),achievementPoints:0,prestigenomultiplier:!0,prestigenoaccelerator:!0,transcendnomultiplier:!0,transcendnoaccelerator:!0,reincarnatenomultiplier:!0,reincarnatenoaccelerator:!0,prestigenocoinupgrades:!0,transcendnocoinupgrades:!0,transcendnocoinorprestigeupgrades:!0,reincarnatenocoinupgrades:!0,reincarnatenocoinorprestigeupgrades:!0,reincarnatenocoinprestigeortranscendupgrades:!0,reincarnatenocoinprestigetranscendorgeneratorupgrades:!0,crystalUpgrades:[0,0,0,0,0,0,0,0],crystalUpgradesCost:[7,15,20,40,100,200,500,1e3],runelevels:[1,1,1,1,1,0,0],runeexp:[0,0,0,0,0,0,0],runeshards:0,maxofferings:0,offeringpersecond:0,prestigecounter:0,transcendcounter:0,reincarnationcounter:0,offlinetick:0,prestigeamount:0,transcendamount:0,reincarnationamount:0,fastestprestige:9999999999,fastesttranscend:99999999999,fastestreincarnate:999999999999,resettoggle1:1,resettoggle2:1,resettoggle3:1,resettoggle4:1,tesseractAutoBuyerToggle:0,tesseractAutoBuyerAmount:0,coinbuyamount:1,crystalbuyamount:1,mythosbuyamount:1,particlebuyamount:1,offeringbuyamount:1,tesseractbuyamount:1,shoptoggles:{coin:!0,prestige:!0,transcend:!0,generators:!0,reincarnate:!0},tabnumber:1,subtabNumber:0,codes:new Map(Array.from({length:48},(t,r)=>[r+1,!1])),loaded1009:!0,loaded1009hotfix1:!0,loaded10091:!0,loaded1010:!0,loaded10101:!0,shopUpgrades:{offeringPotion:1,obtainiumPotion:1,offeringEX:0,offeringAuto:0,obtainiumEX:0,obtainiumAuto:0,instantChallenge:0,antSpeed:0,cashGrab:0,shopTalisman:0,seasonPass:0,challengeExtension:0,challengeTome:0,cubeToQuark:0,tesseractToQuark:0,hypercubeToQuark:0,seasonPass2:0,seasonPass3:0,chronometer:0,infiniteAscent:0,calculator:0,calculator2:0,calculator3:0,calculator4:0,calculator5:0,calculator6:0,calculator7:0,constantEX:0,powderEX:0,chronometer2:0,chronometer3:0,seasonPassY:0,seasonPassZ:0,challengeTome2:0,instantChallenge2:0,cashGrab2:0,chronometerZ:0,cubeToQuarkAll:0,offeringEX2:0,obtainiumEX2:0,seasonPassLost:0,powderAuto:0,challenge15Auto:0,extraWarp:0,autoWarp:0,improveQuarkHept:0,improveQuarkHept2:0,improveQuarkHept3:0,improveQuarkHept4:0,shopImprovedDaily:0,shopImprovedDaily2:0,shopImprovedDaily3:0,shopImprovedDaily4:0,offeringEX3:0,obtainiumEX3:0,improveQuarkHept5:0,seasonPassInfinity:0,chronometerInfinity:0,shopSingularityPenaltyDebuff:0,shopAmbrosiaLuckMultiplier4:0,shopOcteractAmbrosiaLuck:0,shopAmbrosiaGeneration1:0,shopAmbrosiaGeneration2:0,shopAmbrosiaGeneration3:0,shopAmbrosiaGeneration4:0,shopAmbrosiaLuck1:0,shopAmbrosiaLuck2:0,shopAmbrosiaLuck3:0,shopAmbrosiaLuck4:0,shopCashGrabUltra:0,shopAmbrosiaAccelerator:0,shopEXUltra:0,shopChronometerS:0,shopAmbrosiaUltra:0,shopSingularitySpeedup:0,shopSingularityPotency:0,shopSadisticRune:0},shopBuyMaxToggle:!1,shopHideToggle:!1,shopConfirmationToggle:!0,autoPotionTimer:0,autoPotionTimerObtainium:0,autoSacrificeToggle:!1,autoBuyFragment:!1,autoFortifyToggle:!1,autoEnhanceToggle:!1,autoResearchToggle:!1,researchBuyMaxToggle:!1,autoResearchMode:"manual",autoResearch:0,autoSacrifice:0,sacrificeTimer:0,quarkstimer:9e4,goldenQuarksTimer:9e4,antPoints:new m("1"),antUpgrades:[0,0,0,0,0,0,0,0,0,0,0,0],antSacrificePoints:0,antSacrificeTimer:900,antSacrificeTimerReal:900,talismanLevels:[0,0,0,0,0,0,0],talismanRarity:[1,1,1,1,1,1,1],talismanOne:[null,-1,1,1,1,-1],talismanTwo:[null,1,1,-1,-1,1],talismanThree:[null,1,-1,1,1,-1],talismanFour:[null,-1,-1,1,1,1],talismanFive:[null,1,1,-1,-1,1],talismanSix:[null,1,1,1,-1,-1],talismanSeven:[null,-1,1,-1,1,1],talismanShards:0,commonFragments:0,uncommonFragments:0,rareFragments:0,epicFragments:0,legendaryFragments:0,mythicalFragments:0,buyTalismanShardPercent:10,autoAntSacrifice:!1,autoAntSacTimer:900,autoAntSacrificeMode:0,antMax:!1,ascensionCount:0,ascensionCounter:0,ascensionCounterReal:0,ascensionCounterRealReal:0,cubeUpgrades:[null,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],cubeUpgradesBuyMaxToggle:!1,autoCubeUpgradesToggle:!1,autoPlatonicUpgradesToggle:!1,platonicUpgrades:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],wowCubes:new Cr(0),wowTesseracts:new Ba(0),wowHypercubes:new Ra(0),wowPlatonicCubes:new Ia(0),saveOfferingToggle:!1,wowAbyssals:0,wowOcteracts:0,totalWowOcteracts:0,cubeBlessings:{accelerator:0,multiplier:0,offering:0,runeExp:0,obtainium:0,antSpeed:0,antSacrifice:0,antELO:0,talismanBonus:0,globalSpeed:0},tesseractBlessings:{accelerator:0,multiplier:0,offering:0,runeExp:0,obtainium:0,antSpeed:0,antSacrifice:0,antELO:0,talismanBonus:0,globalSpeed:0},hypercubeBlessings:{accelerator:0,multiplier:0,offering:0,runeExp:0,obtainium:0,antSpeed:0,antSacrifice:0,antELO:0,talismanBonus:0,globalSpeed:0},platonicBlessings:{cubes:0,tesseracts:0,hypercubes:0,platonics:0,hypercubeBonus:0,taxes:0,scoreBonus:0,globalSpeed:0},hepteractCrafts:{chronos:Tg,hyperrealism:kg,quark:Lg,challenge:Ag,abyss:Pg,accelerator:Eg,acceleratorBoost:Og,multiplier:Ug},ascendShards:new m("0"),autoAscend:!1,autoAscendMode:"c10Completions",autoAscendThreshold:1,autoOpenCubes:!1,openCubes:0,autoOpenTesseracts:!1,openTesseracts:0,autoOpenHypercubes:!1,openHypercubes:0,autoOpenPlatonicsCubes:!1,openPlatonicsCubes:0,roombaResearchIndex:0,ascStatToggles:{1:!1,2:!1,3:!1,4:!1,5:!1,6:!1},prototypeCorruptions:[0,0,0,0,0,0,0,0,0,0,0,0,0],usedCorruptions:[0,0,0,0,0,0,0,0,0,0,0,0,0],corruptionLoadouts:{1:[0,0,0,0,0,0,0,0,0,0,0,0,0],2:[0,0,0,0,0,0,0,0,0,0,0,0,0],3:[0,0,0,0,0,0,0,0,0,0,0,0,0],4:[0,0,0,0,0,0,0,0,0,0,0,0,0],5:[0,0,0,0,0,0,0,0,0,0,0,0,0],6:[0,0,0,0,0,0,0,0,0,0,0,0,0],7:[0,0,0,0,0,0,0,0,0,0,0,0,0],8:[0,0,0,0,0,0,0,0,0,0,0,0,0],9:[0,0,0,0,0,0,0,0,0,0,0,0,0],10:[0,0,0,0,0,0,0,0,0,0,0,0,0],11:[0,0,0,0,0,0,0,0,0,0,0,0,0],12:[0,0,0,0,0,0,0,0,0,0,0,0,0],13:[0,0,0,0,0,0,0,0,0,0,0,0,0],14:[0,0,0,0,0,0,0,0,0,0,0,0,0],15:[0,0,0,0,0,0,0,0,0,0,0,0,0],16:[0,0,0,0,0,0,0,0,0,0,0,0,0]},corruptionLoadoutNames:["Loadout 1","Loadout 2","Loadout 3","Loadout 4","Loadout 5","Loadout 6","Loadout 7","Loadout 8","Loadout 9","Loadout 10","Loadout 11","Loadout 12","Loadout 13","Loadout 14","Loadout 15","Loadout 16"],corruptionShowStats:!0,constantUpgrades:[null,0,0,0,0,0,0,0,0,0,0],history:{ants:[],ascend:[],reset:[],singularity:[]},historyShowPerSecond:!1,autoChallengeRunning:!1,autoChallengeIndex:1,autoChallengeToggles:[!1,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!1,!1,!1,!1,!1],autoChallengeStartExponent:10,autoChallengeTimer:{start:10,exit:2,enter:2},runeBlessingLevels:[0,0,0,0,0,0],runeSpiritLevels:[0,0,0,0,0,0],runeBlessingBuyAmount:0,runeSpiritBuyAmount:0,autoTesseracts:[!1,!1,!1,!1,!1,!1],saveString:"Synergism-$VERSION$-$TIME$.txt",exporttest:!!1,dayCheck:null,dayTimer:0,cubeOpenedDaily:0,cubeQuarkDaily:0,tesseractOpenedDaily:0,tesseractQuarkDaily:0,hypercubeOpenedDaily:0,hypercubeQuarkDaily:0,platonicCubeOpenedDaily:0,platonicCubeQuarkDaily:0,overfluxOrbs:0,overfluxOrbsAutoBuy:!1,overfluxPowder:0,dailyPowderResetUses:1,autoWarpCheck:!1,loadedOct4Hotfix:!1,loadedNov13Vers:!0,loadedDec16Vers:!0,loadedV253:!0,loadedV255:!0,loadedV297Hotfix1:!0,loadedV2927Hotfix1:!0,loadedV2930Hotfix1:!0,loadedV2931Hotfix1:!0,loadedV21003Hotfix1:!0,loadedV21007Hotfix1:!0,version:yr,rngCode:0,promoCodeTiming:{time:0},singularityCount:0,highestSingularityCount:0,singularityCounter:0,goldenQuarks:0,quarksThisSingularity:0,totalQuarksEver:0,hotkeys:{},theme:"Dark Mode",iconSet:0,notation:"Default",singularityUpgrades:{goldenQuarks1:new oe(te.goldenQuarks1,"goldenQuarks1"),goldenQuarks2:new oe(te.goldenQuarks2,"goldenQuarks2"),goldenQuarks3:new oe(te.goldenQuarks3,"goldenQuarks3"),starterPack:new oe(te.starterPack,"starterPack"),wowPass:new oe(te.wowPass,"wowPass"),cookies:new oe(te.cookies,"cookies"),cookies2:new oe(te.cookies2,"cookies2"),cookies3:new oe(te.cookies3,"cookies3"),cookies4:new oe(te.cookies4,"cookies4"),cookies5:new oe(te.cookies5,"cookies5"),ascensions:new oe(te.ascensions,"ascensions"),corruptionFourteen:new oe(te.corruptionFourteen,"corruptionFourteen"),corruptionFifteen:new oe(te.corruptionFifteen,"corruptionFifteen"),singOfferings1:new oe(te.singOfferings1,"singOfferings1"),singOfferings2:new oe(te.singOfferings2,"singOfferings2"),singOfferings3:new oe(te.singOfferings3,"singOfferings3"),singObtainium1:new oe(te.singObtainium1,"singObtainium1"),singObtainium2:new oe(te.singObtainium2,"singObtainium2"),singObtainium3:new oe(te.singObtainium3,"singObtainium3"),singCubes1:new oe(te.singCubes1,"singCubes1"),singCubes2:new oe(te.singCubes2,"singCubes2"),singCubes3:new oe(te.singCubes3,"singCubes3"),singCitadel:new oe(te.singCitadel,"singCitadel"),singCitadel2:new oe(te.singCitadel2,"singCitadel2"),octeractUnlock:new oe(te.octeractUnlock,"octeractUnlock"),singOcteractPatreonBonus:new oe(te.singOcteractPatreonBonus,"singOcteractPatreonBonus"),intermediatePack:new oe(te.intermediatePack,"intermediatePack"),advancedPack:new oe(te.advancedPack,"advancedPack"),expertPack:new oe(te.expertPack,"expertPack"),masterPack:new oe(te.masterPack,"masterPack"),divinePack:new oe(te.divinePack,"divinePack"),wowPass2:new oe(te.wowPass2,"wowPass2"),potionBuff:new oe(te.potionBuff,"potionBuff"),potionBuff2:new oe(te.potionBuff2,"potionBuff2"),potionBuff3:new oe(te.potionBuff3,"potionBuff3"),singChallengeExtension:new oe(te.singChallengeExtension,"singChallengeExtension"),singChallengeExtension2:new oe(te.singChallengeExtension2,"singChallengeExtension2"),singChallengeExtension3:new oe(te.singChallengeExtension3,"singChallengeExtension3"),singQuarkImprover1:new oe(te.singQuarkImprover1,"singQuarkImprover1"),singQuarkHepteract:new oe(te.singQuarkHepteract,"singQuarkHepteract"),singQuarkHepteract2:new oe(te.singQuarkHepteract2,"singQuarkHepteract2"),singQuarkHepteract3:new oe(te.singQuarkHepteract3,"singQuarkHepteract3"),singOcteractGain:new oe(te.singOcteractGain,"singOcteractGain"),singOcteractGain2:new oe(te.singOcteractGain2,"singOcteractGain2"),singOcteractGain3:new oe(te.singOcteractGain3,"singOcteractGain3"),singOcteractGain4:new oe(te.singOcteractGain4,"singOcteractGain4"),singOcteractGain5:new oe(te.singOcteractGain5,"singOcteractGain5"),wowPass3:new oe(te.wowPass3,"wowPass3"),ultimatePen:new oe(te.ultimatePen,"ultimatePen"),platonicTau:new oe(te.platonicTau,"platonicTau"),platonicAlpha:new oe(te.platonicAlpha,"platonicAlpha"),platonicDelta:new oe(te.platonicDelta,"platonicDelta"),platonicPhi:new oe(te.platonicPhi,"platonicPhi"),singFastForward:new oe(te.singFastForward,"singFastForward"),singFastForward2:new oe(te.singFastForward2,"singFastForward2"),singAscensionSpeed:new oe(te.singAscensionSpeed,"singAscensionSpeed"),singAscensionSpeed2:new oe(te.singAscensionSpeed2,"singAscensionSpeed2"),oneMind:new oe(te.oneMind,"oneMind"),wowPass4:new oe(te.wowPass4,"wowPass4"),offeringAutomatic:new oe(te.offeringAutomatic,"offeringAutomatic"),blueberries:new oe(te.blueberries,"blueberries"),singAmbrosiaLuck:new oe(te.singAmbrosiaLuck,"singAmbrosiaLuck"),singAmbrosiaLuck2:new oe(te.singAmbrosiaLuck2,"singAmbrosiaLuck2"),singAmbrosiaLuck3:new oe(te.singAmbrosiaLuck3,"singAmbrosiaLuck3"),singAmbrosiaLuck4:new oe(te.singAmbrosiaLuck4,"singAmbrosiaLuck4"),singAmbrosiaGeneration:new oe(te.singAmbrosiaGeneration,"singAmbrosiaGeneration"),singAmbrosiaGeneration2:new oe(te.singAmbrosiaGeneration2,"singAmbrosiaGeneration2"),singAmbrosiaGeneration3:new oe(te.singAmbrosiaGeneration3,"singAmbrosiaGeneration3"),singAmbrosiaGeneration4:new oe(te.singAmbrosiaGeneration4,"singAmbrosiaGeneration4")},octeractUpgrades:{octeractStarter:new Ee(Me.octeractStarter,"octeractStarter"),octeractGain:new Ee(Me.octeractGain,"octeractGain"),octeractGain2:new Ee(Me.octeractGain2,"octeractGain2"),octeractQuarkGain:new Ee(Me.octeractQuarkGain,"octeractQuarkGain"),octeractQuarkGain2:new Ee(Me.octeractQuarkGain2,"octeractQuarkGain2"),octeractCorruption:new Ee(Me.octeractCorruption,"octeractCorruption"),octeractGQCostReduce:new Ee(Me.octeractGQCostReduce,"octeractGQCostReduce"),octeractExportQuarks:new Ee(Me.octeractExportQuarks,"octeractExportQuarks"),octeractImprovedDaily:new Ee(Me.octeractImprovedDaily,"octeractImprovedDaily"),octeractImprovedDaily2:new Ee(Me.octeractImprovedDaily2,"octeractImprovedDaily2"),octeractImprovedDaily3:new Ee(Me.octeractImprovedDaily3,"octeractImprovedDaily3"),octeractImprovedQuarkHept:new Ee(Me.octeractImprovedQuarkHept,"octeractImprovedQuarkHept"),octeractImprovedGlobalSpeed:new Ee(Me.octeractImprovedGlobalSpeed,"octeractImprovedGlobalSpeed"),octeractImprovedAscensionSpeed:new Ee(Me.octeractImprovedAscensionSpeed,"octeractImprovedAscensionSpeed"),octeractImprovedAscensionSpeed2:new Ee(Me.octeractImprovedAscensionSpeed2,"octeractImprovedAscensionSpeed2"),octeractImprovedFree:new Ee(Me.octeractImprovedFree,"octeractImprovedFree"),octeractImprovedFree2:new Ee(Me.octeractImprovedFree2,"octeractImprovedFree2"),octeractImprovedFree3:new Ee(Me.octeractImprovedFree3,"octeractImprovedFree3"),octeractImprovedFree4:new Ee(Me.octeractImprovedFree4,"octeractImprovedFree4"),octeractSingUpgradeCap:new Ee(Me.octeractSingUpgradeCap,"octeractSingUpgradeCap"),octeractOfferings1:new Ee(Me.octeractOfferings1,"octeractOfferings1"),octeractObtainium1:new Ee(Me.octeractObtainium1,"octeractObtainium1"),octeractAscensions:new Ee(Me.octeractAscensions,"octeractAscensions"),octeractAscensions2:new Ee(Me.octeractAscensions2,"octeractAscensions2"),octeractAscensionsOcteractGain:new Ee(Me.octeractAscensionsOcteractGain,"octeractAscensionsOcteractGain"),octeractFastForward:new Ee(Me.octeractFastForward,"octeractFastForward"),octeractAutoPotionSpeed:new Ee(Me.octeractAutoPotionSpeed,"octeractAutoPotionSpeed"),octeractAutoPotionEfficiency:new Ee(Me.octeractAutoPotionEfficiency,"octeractAutoPotionEfficiency"),octeractOneMindImprover:new Ee(Me.octeractOneMindImprover,"octeractOneMindImprover"),octeractAmbrosiaLuck:new Ee(Me.octeractAmbrosiaLuck,"octeractAmbrosiaLuck"),octeractAmbrosiaLuck2:new Ee(Me.octeractAmbrosiaLuck2,"octeractAmbrosiaLuck2"),octeractAmbrosiaLuck3:new Ee(Me.octeractAmbrosiaLuck3,"octeractAmbrosiaLuck3"),octeractAmbrosiaLuck4:new Ee(Me.octeractAmbrosiaLuck4,"octeractAmbrosiaLuck4"),octeractAmbrosiaGeneration:new Ee(Me.octeractAmbrosiaGeneration,"octeractAmbrosiaGeneration"),octeractAmbrosiaGeneration2:new Ee(Me.octeractAmbrosiaGeneration2,"octeractAmbrosiaGeneration2"),octeractAmbrosiaGeneration3:new Ee(Me.octeractAmbrosiaGeneration3,"octeractAmbrosiaGeneration3"),octeractAmbrosiaGeneration4:new Ee(Me.octeractAmbrosiaGeneration4,"octeractAmbrosiaGeneration4")},dailyCodeUsed:!1,hepteractAutoCraftPercentage:50,octeractTimer:0,insideSingularityChallenge:!1,singularityChallenges:{noSingularityUpgrades:new kr(vt.noSingularityUpgrades,"noSingularityUpgrades"),oneChallengeCap:new kr(vt.oneChallengeCap,"oneChallengeCap"),noOcteracts:new kr(vt.noOcteracts,"noOcteracts"),limitedAscensions:new kr(vt.limitedAscensions,"limitedAscensions"),noAmbrosiaUpgrades:new kr(vt.noAmbrosiaUpgrades,"noAmbrosiaUpgrades"),limitedTime:new kr(vt.limitedTime,"limitedTime"),sadisticPrequel:new kr(vt.sadisticPrequel,"sadisticPrequel")},ambrosia:0,lifetimeAmbrosia:0,ambrosiaRNG:0,blueberryTime:0,visitedAmbrosiaSubtab:!1,spentBlueberries:0,blueberryUpgrades:{ambrosiaTutorial:new dt(et.ambrosiaTutorial,"ambrosiaTutorial"),ambrosiaQuarks1:new dt(et.ambrosiaQuarks1,"ambrosiaQuarks1"),ambrosiaCubes1:new dt(et.ambrosiaCubes1,"ambrosiaQuarks1"),ambrosiaLuck1:new dt(et.ambrosiaLuck1,"ambrosiaLuck1"),ambrosiaCubeQuark1:new dt(et.ambrosiaCubeQuark1,"ambrosiaCubeQuark1"),ambrosiaLuckQuark1:new dt(et.ambrosiaLuckQuark1,"ambrosiaLuckQuark1"),ambrosiaLuckCube1:new dt(et.ambrosiaLuckCube1,"ambrosiaLuckCube1"),ambrosiaQuarkCube1:new dt(et.ambrosiaQuarkCube1,"ambrosiaQuarkCube1"),ambrosiaCubeLuck1:new dt(et.ambrosiaCubeLuck1,"ambrosiaCubeLuck1"),ambrosiaQuarkLuck1:new dt(et.ambrosiaQuarkLuck1,"ambrosiaQuarkLuck1"),ambrosiaQuarks2:new dt(et.ambrosiaQuarks2,"ambrosiaQuarks2"),ambrosiaCubes2:new dt(et.ambrosiaCubes2,"ambrosiaQuarks2"),ambrosiaLuck2:new dt(et.ambrosiaLuck2,"ambrosiaLuck2"),ambrosiaPatreon:new dt(et.ambrosiaPatreon,"ambrosiaPatreon"),ambrosiaObtainium1:new dt(et.ambrosiaObtainium1,"ambrosiaObtainium1"),ambrosiaOffering1:new dt(et.ambrosiaOffering1,"ambrosiaOffering1"),ambrosiaHyperflux:new dt(et.ambrosiaHyperflux,"ambrosiaHyperflux")},blueberryLoadouts:{1:{},2:{},3:{},4:{},5:{},6:{},7:{},8:{},9:{},10:{},11:{},12:{},13:{},14:{},15:{},16:{}},blueberryLoadoutMode:"saveTree",ultimateProgress:0,ultimatePixels:0,singChallengeTimer:0,caches:{ambrosiaLuckAdditiveMult:new Ec,ambrosiaLuck:new Oc,ambrosiaGeneration:new Uc,blueberryInventory:new Bc},lastExportedSave:0,seed:Array.from({length:2},()=>Date.now())},T=Object.assign({},e,{codes:new Map(Array.from({length:48},(t,r)=>[r+1,!1]))}),Ei={canSave:!0},Ir=async t=>{e.offlinetick=Date.now(),e.loaded1009=!0,e.loaded1009hotfix1=!0;let r=Ks.parse(e),n=Ns(JSON.stringify(r));if(n!==null){let a=new Blob([n],{type:"text/plain"});if(!Ei.canSave)return!1;localStorage.setItem("Synergysave2",n),await Di.default.setItem("Synergysave2",a)}else return await B(u.t("testing.errorSaving")),!1;if(t){let a=l("saveinfo");a.textContent=u.t("testing.gameSaved"),ri(()=>a.textContent="",4e3)}return!0},Y2=async()=>{var p,f,g,h;let t=(p=await Di.default.getItem("Synergysave2"))!=null?p:localStorage.getItem("Synergysave2"),r=typeof t=="string"?t:await(t==null?void 0:t.text()),n=r?JSON.parse(atob(r)):null;if((!1||!ln)&&(Object.defineProperties(window,{player:{value:e},G:{value:i},Decimal:{value:m},i18n:{value:u}}),n&&!1&&(n.exporttest=!1)),Object.assign(i,G({},qh)),n){if((n.exporttest===!1||n.exporttest==="NO!")&&!!1)return B(u.t("testing.saveInLive2"));let b=e.codes.size,y=Object.keys(n).filter(A=>A.includes("offerpromo"));y.length>0&&y.forEach(A=>{let Q=n[A],J=+A.replace(/[^\d]/g,"");e.codes.set(J,!!Q)});let C=Ol.safeParse(n);if(C.success)Object.assign(e,C.data);else{console.log(C.error),console.log(n),id();return}if(ep(),e.lastExportedSave=(f=n.lastExportedSave)!=null?f:0,n.offerpromo24used!==void 0&&e.codes.set(25,!1),e.codes.size<b)for(let A=e.codes.size+1;A<=b;A++)e.codes.has(A)||e.codes.set(A,!1);if(e.codes.size<b)for(let A=e.codes.size+1;A<=b;A++)e.codes.has(A)||e.codes.set(A,!1);if(e.insideSingularityChallenge){let A=Object.keys(e.singularityChallenges);for(let Q=0;Q<A.length;Q++)if(e.singularityChallenges[A[Q]].enabled){i.currentSingChallenge=vt[A[Q]].HTMLTag;break}}if("rngCode"in n||(e.rngCode=0),(n.loaded1009===void 0||!n.loaded1009)&&(e.loaded1009=!1),(n.loaded1009hotfix1===void 0||!n.loaded1009hotfix1)&&(e.loaded1009hotfix1=!1),n.loaded10091===void 0&&(e.loaded10091=!1),n.loaded1010===void 0&&(e.loaded1010=!1),n.loaded10101===void 0&&(e.loaded10101=!1),typeof e.researches[76]>"u"&&(e.codes.set(13,!1),e.researches.push(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0),e.achievements.push(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0),e.maxofferings=e.runeshards,e.maxobtainium=e.researchPoints,e.researchPoints+=51200*e.researches[50],e.researches[50]=0),e.maxofferings=e.maxofferings||0,e.maxobtainium=e.maxobtainium||0,e.runeshards=e.runeshards||0,e.researchPoints=e.researchPoints||0,(!n.loaded1009||n.loaded1009hotfix1===null||((g=n.shopUpgrades)==null?void 0:g.offeringPotion)===void 0)&&(e.firstOwnedParticles=0,e.secondOwnedParticles=0,e.thirdOwnedParticles=0,e.fourthOwnedParticles=0,e.fifthOwnedParticles=0,e.firstCostParticles=new m("1"),e.secondCostParticles=new m("1e2"),e.thirdCostParticles=new m("1e4"),e.fourthCostParticles=new m("1e8"),e.fifthCostParticles=new m("1e16"),e.autoSacrificeToggle=!1,e.autoResearchToggle=!1,e.autoResearchMode="manual",e.autoResearch=0,e.autoSacrifice=0,e.sacrificeTimer=0,e.loaded1009=!0,e.codes.set(18,!1)),n.loaded1009hotfix1||(e.loaded1009hotfix1=!0,e.codes.set(19,!0),e.firstOwnedParticles=0,e.secondOwnedParticles=0,e.thirdOwnedParticles=0,e.fourthOwnedParticles=0,e.fifthOwnedParticles=0,e.firstCostParticles=new m("1"),e.secondCostParticles=new m("1e2"),e.thirdCostParticles=new m("1e4"),e.fourthCostParticles=new m("1e8"),e.fifthCostParticles=new m("1e16")),(n.loaded10091===void 0||!n.loaded10091||e.researches[86]>100||e.researches[87]>100||e.researches[88]>100||e.researches[89]>100||e.researches[90]>10)&&(e.loaded10091=!0,e.researchPoints+=75e7*e.researches[82],e.researchPoints+=2e8*e.researches[83],e.researchPoints+=45e8*e.researches[84],e.researchPoints+=25e6*e.researches[86],e.researchPoints+=75e6*e.researches[87],e.researchPoints+=3e8*e.researches[88],e.researchPoints+=1e9*e.researches[89],e.researchPoints+=25e6*e.researches[90],e.researchPoints+=1e8*e.researches[91],e.researchPoints+=2e9*e.researches[92],e.researchPoints+=9e9*e.researches[93],e.researchPoints+=725e8*e.researches[94],e.researches[86]=0,e.researches[87]=0,e.researches[88]=0,e.researches[89]=0,e.researches[90]=0,e.researches[91]=0,e.researches[92]=0),(((h=n.achievements)==null?void 0:h[169])===void 0||typeof e.achievements[169]>"u"||n.loaded1010===void 0||n.loaded1010===!1)&&(e.loaded1010=!0,e.codes.set(21,!1),e.firstOwnedAnts=0,e.firstGeneratedAnts=new m("0"),e.firstCostAnts=new m("1e700"),e.firstProduceAnts=1e-4,e.secondOwnedAnts=0,e.secondGeneratedAnts=new m("0"),e.secondCostAnts=new m("3"),e.secondProduceAnts=5e-5,e.thirdOwnedAnts=0,e.thirdGeneratedAnts=new m("0"),e.thirdCostAnts=new m("100"),e.thirdProduceAnts=2e-5,e.fourthOwnedAnts=0,e.fourthGeneratedAnts=new m("0"),e.fourthCostAnts=new m("1e4"),e.fourthProduceAnts=1e-5,e.fifthOwnedAnts=0,e.fifthGeneratedAnts=new m("0"),e.fifthCostAnts=new m("1e12"),e.fifthProduceAnts=5e-6,e.sixthOwnedAnts=0,e.sixthGeneratedAnts=new m("0"),e.sixthCostAnts=new m("1e36"),e.sixthProduceAnts=2e-6,e.seventhOwnedAnts=0,e.seventhGeneratedAnts=new m("0"),e.seventhCostAnts=new m("1e100"),e.seventhProduceAnts=1e-6,e.eighthOwnedAnts=0,e.eighthGeneratedAnts=new m("0"),e.eighthCostAnts=new m("1e300"),e.eighthProduceAnts=1e-8,e.achievements.push(0,0,0,0,0,0,0,0,0,0,0,0,0,0),e.antPoints=new m("1"),e.upgrades[38]=0,e.upgrades[39]=0,e.upgrades[40]=0,e.upgrades[76]=0,e.upgrades[77]=0,e.upgrades[78]=0,e.upgrades[79]=0,e.upgrades[80]=0,e.antUpgrades=[0,0,0,0,0,0,0,0,0,0,0,0],e.unlocks.rrow4=!1,e.researchPoints+=3e7*e.researches[50],e.researchPoints+=2e9*e.researches[96],e.researchPoints+=5e9*e.researches[97],e.researchPoints+=3e10*e.researches[98],e.researches[50]=0,e.researches[96]=0,e.researches[97]=0,e.researches[98]=0,e.researches.push(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0),e.talismanLevels=[0,0,0,0,0,0,0],e.talismanRarity=[1,1,1,1,1,1,1],e.talismanShards=0,e.commonFragments=0,e.uncommonFragments=0,e.rareFragments=0,e.epicFragments=0,e.legendaryFragments=0,e.mythicalFragments=0,e.buyTalismanShardPercent=10,e.talismanOne=[null,-1,1,1,1,-1],e.talismanTwo=[null,1,1,-1,-1,1],e.talismanThree=[null,1,-1,1,1,-1],e.talismanFour=[null,-1,-1,1,1,1],e.talismanFive=[null,1,1,-1,-1,1],e.talismanSix=[null,1,1,1,-1,-1],e.talismanSeven=[null,-1,1,-1,1,1],e.antSacrificePoints=0,e.antSacrificeTimer=0,e.obtainiumpersecond=0,e.maxobtainiumpersecond=0),n.loaded10101===void 0||n.loaded10101===!1){e.loaded10101=!0;let A=[0,31,32,61,62,63,64,76,77,78,79,80,81,98,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,125],Q=[0,2,20,5,10,80,5e3,1e7,1e7,2e7,3e7,4e7,2e8,3e10,1e11,1e12,2e11,1e12,2e10,2e11,1e12,2e13,5e13,1e14,2e14,5e14,1e15,2e15,1e16,1e15,1e16,1e14,1e15,1e15,1e20];for(let J=1;J<A.length;J++)e.researchPoints+=e.researches[A[J]]*Q[J],e.researches[A[J]]=0;e.autoAntSacrifice=!1,e.antMax=!1}e.firstOwnedAnts<1&&e.firstCostAnts.gte("1e1200")&&(e.firstCostAnts=new m("1e700"),e.firstOwnedAnts=0),e.ascensionCount===0&&(e.prestigeCount>0&&(e.ascensionCounter=86400*90),e.singularityCount===0&&(e.cubeUpgrades=[...T.cubeUpgrades]),e.wowCubes=new Cr(0),e.wowTesseracts=new Ba(0),e.wowHypercubes=new Ra(0),e.wowPlatonicCubes=new Ia(0),e.cubeBlessings={accelerator:0,multiplier:0,offering:0,runeExp:0,obtainium:0,antSpeed:0,antSacrifice:0,antELO:0,talismanBonus:0,globalSpeed:0}),e.transcendCount<0&&(e.transcendCount=0),e.reincarnationCount<0&&(e.reincarnationCount=0),e.runeshards<0&&(e.runeshards=0),e.researchPoints<0&&(e.researchPoints=0),e.resettoggle1===0&&(e.resettoggle1=1,e.resettoggle2=1,e.resettoggle3=1,e.resettoggle4=1),e.tesseractAutoBuyerToggle===0&&(e.tesseractAutoBuyerToggle=1),e.reincarnationCount<.5&&e.unlocks.rrow4&&(e.unlocks={coinone:!1,cointwo:!1,cointhree:!1,coinfour:!1,prestige:!1,generation:!1,transcend:!1,reincarnate:!1,rrow1:!1,rrow2:!1,rrow3:!1,rrow4:!1}),Number.isInteger(e.ascendBuilding1.cost)||(e.ascendBuilding1.cost=1,e.ascendBuilding1.owned=0,e.ascendBuilding2.cost=10,e.ascendBuilding2.owned=0,e.ascendBuilding3.cost=100,e.ascendBuilding3.owned=0,e.ascendBuilding4.cost=1e3,e.ascendBuilding4.owned=0,e.ascendBuilding5.cost=1e4,e.ascendBuilding5.owned=0),e.dayCheck||(e.dayCheck=new Date),typeof e.dayCheck=="string"&&(e.dayCheck=new Date(e.dayCheck),isNaN(e.dayCheck.getTime())&&(e.dayCheck=new Date));let x=Yn;isNaN(x.getTime())?e.dayCheck.getTime()<16540092e5&&(e.dayCheck=new Date("06/01/2022 00:00:00")):(x=new Date(x.getFullYear(),x.getMonth(),x.getDate()-1),e.dayCheck.getTime()<x.getTime()&&(e.dayCheck=x)),e.dayCheck=new Date(e.dayCheck.getFullYear(),e.dayCheck.getMonth(),e.dayCheck.getDate());let D=fs();e.usedCorruptions=e.usedCorruptions.map((A,Q)=>Q>=2&&Q<=9?Math.min(D*(e.challengecompletions[pc(Q)]>0?1:0),A):A);for(let A=1;A<=5;A++){let Q=`ascendBuilding${A}`;e[Q].generated=new m(e[Q].generated)}for(;typeof e.achievements[252]>"u";)e.achievements.push(0);for(;typeof e.researches[200]>"u";)e.researches.push(0);for(;typeof e.upgrades[140]>"u";)e.upgrades.push(0);(e.saveString===""||e.saveString==="Synergism-v1011Test.txt")&&(e.saveString=e.singularityCount===0?"Synergism-$VERSION$-$TIME$.txt":"Synergism-$VERSION$-$TIME$-$SING$.txt"),l("saveStringInput").value=$o(e.saveString);for(let A=1;A<126;A++)ir(A,!0);for(let A=1;A<=200;A++)_s(A);for(let A=1;A<e.cubeUpgrades.length;A++)qa(A);let $=document.querySelectorAll('img[id^="platUpg"]');for(let A=1;A<=$.length;A++)qo(A);let L=["coin","crystal","mythos","particle","offering","tesseract"];e.coinbuyamount!==1&&e.coinbuyamount!==10&&e.coinbuyamount!==100&&e.coinbuyamount!==1e3&&(e.coinbuyamount=1),e.crystalbuyamount!==1&&e.crystalbuyamount!==10&&e.crystalbuyamount!==100&&e.crystalbuyamount!==1e3&&(e.crystalbuyamount=1),e.mythosbuyamount!==1&&e.mythosbuyamount!==10&&e.mythosbuyamount!==100&&e.mythosbuyamount!==1e3&&(e.mythosbuyamount=1),e.particlebuyamount!==1&&e.particlebuyamount!==10&&e.particlebuyamount!==100&&e.particlebuyamount!==1e3&&(e.particlebuyamount=1),e.offeringbuyamount!==1&&e.offeringbuyamount!==10&&e.offeringbuyamount!==100&&e.offeringbuyamount!==1e3&&(e.offeringbuyamount=1),e.tesseractbuyamount!==1&&e.tesseractbuyamount!==10&&e.tesseractbuyamount!==100&&e.tesseractbuyamount!==1e3&&(e.tesseractbuyamount=1);for(let A=0;A<=5;A++){for(let j=0;j<4;j++){let ae="";j===0&&(ae="one"),j===1&&(ae="ten"),j===2&&(ae="hundred"),j===3&&(ae="thousand");let ge=`${L[A]}${ae}`;l(ge).style.backgroundColor=""}let Q="",J=e[`${L[A]}buyamount`];J===1&&(Q="one"),J===10&&(Q="ten"),J===100&&(Q="hundred"),J===1e3&&(Q="thousand");let M=`${L[A]}${Q}`;l(M).style.backgroundColor="green"}let E=[];for(let A=0;A<i.researchBaseCosts.length;A++)E.push(i.researchBaseCosts[A]);i.researchOrderByCost=cg(E),e.roombaResearchIndex=0,fa(),lc(),Wr(),Ve(),vd(),e.currentChallenge.transcension>0?Pt(e.currentChallenge.transcension):e.currentChallenge.reincarnation>0?Pt(e.currentChallenge.reincarnation):e.currentChallenge.ascension>0?Pt(e.currentChallenge.ascension):Pt(1),so(),f0(),u0();let H=1+8+_e.CORRUPTION_LOADOUT_SLOT_QOL;for(let A=0;A<H;A++)gs(A);ic(),Bi(),Tc(),l("researchrunebonus").textContent=u.t("runes.thanksResearches",{percent:d(100*i.effectiveLevelMult-100,4,!0)}),l("talismanlevelup").style.display="none",l("talismanrespec").style.display="none",l("antSacrificeSummary").style.display="none",Yl(),cl(),Oa(),Ua(),sr(),Ut(0),Ut(1),Ut(2),Ut(3),Ut(4),Ut(5),Ut(6);for(let A in e.ascStatToggles)Cn(+A),Cn(+A);let I=/e\+/,N=e.autoChallengeTimer.start,k=Number(l("startAutoChallengeTimerInput").value);switch((k!==N||isNaN(k+N))&&(l("startAutoChallengeTimerInput").value=`${e.autoChallengeTimer.start||T.autoChallengeTimer.start}`.replace(I,"e"),ga(1)),l("startTimerValue").innerHTML=u.t("challenges.timeStartSweep",{time:d(e.autoChallengeTimer.start,2,!0)}),N=e.autoChallengeTimer.exit,k=Number(l("exitAutoChallengeTimerInput").value),(k!==N||isNaN(k+N))&&(l("exitAutoChallengeTimerInput").value=`${e.autoChallengeTimer.exit||T.autoChallengeTimer.exit}`.replace(I,"e"),ga(2)),l("exitTimerValue").innerHTML=u.t("challenges.timeExitChallenge",{time:d(e.autoChallengeTimer.exit,2,!0)}),N=e.autoChallengeTimer.enter,k=Number(l("enterAutoChallengeTimerInput").value),(k!==N||isNaN(k+N))&&(l("enterAutoChallengeTimerInput").value=`${e.autoChallengeTimer.enter||T.autoChallengeTimer.enter}`.replace(I,"e"),ga(3)),l("enterTimerValue").innerHTML=u.t("challenges.timeEnterChallenge",{time:d(e.autoChallengeTimer.enter,2,!0)}),N=e.prestigeamount,k=Number(l("prestigeamount").value),(k!==N||isNaN(k+N))&&(l("prestigeamount").value=`${e.prestigeamount||T.prestigeamount}`.replace(I,"e"),Br(1)),N=e.transcendamount,k=Number(l("transcendamount").value),(k!==N||isNaN(k+N))&&(l("transcendamount").value=`${e.transcendamount||T.transcendamount}`.replace(I,"e"),Br(2)),N=e.reincarnationamount,k=Number(l("reincarnationamount").value),(k!==N||isNaN(k+N))&&(l("reincarnationamount").value=`${e.reincarnationamount||T.reincarnationamount}`.replace(I,"e"),Br(3)),N=e.autoAscendThreshold,k=Number(l("ascensionAmount").value),(k!==N||isNaN(k+N))&&(l("ascensionAmount").value=`${e.autoAscendThreshold||T.autoAscendThreshold}`.replace(I,"e"),Br(4)),N=e.autoAntSacTimer,k=Number(l("autoAntSacrificeAmount").value),(k!==N||isNaN(k+N))&&(l("autoAntSacrificeAmount").value=`${e.autoAntSacTimer||T.autoAntSacTimer}`.replace(I,"e"),Br(5)),N=e.tesseractAutoBuyerAmount,k=Number(l("tesseractAmount").value),(k!==N||isNaN(k+N))&&(l("tesseractAmount").value=`${e.tesseractAutoBuyerAmount||T.tesseractAutoBuyerAmount}`.replace(I,"e"),uc()),N=e.openCubes,k=Number(l("cubeOpensInput").value),(k!==N||isNaN(k+N))&&(l("cubeOpensInput").value=`${e.openCubes||T.openCubes}`.replace(I,"e"),wn(1)),N=e.openTesseracts,k=Number(l("tesseractsOpensInput").value),(k!==N||isNaN(k+N))&&(l("tesseractsOpensInput").value=`${e.openTesseracts||T.openTesseracts}`.replace(I,"e"),wn(2)),N=e.openHypercubes,k=Number(l("hypercubesOpensInput").value),(k!==N||isNaN(k+N))&&(l("hypercubesOpensInput").value=`${e.openHypercubes||T.openHypercubes}`.replace(I,"e"),wn(3)),N=e.openPlatonicsCubes,k=Number(l("platonicCubeOpensInput").value),(k!==N||isNaN(k+N))&&(l("platonicCubeOpensInput").value=`${e.openPlatonicsCubes||T.openPlatonicsCubes}`.replace(I,"e"),wn(4)),N=e.runeBlessingBuyAmount,k=Number(l("buyRuneBlessingInput").value),(k!==N||isNaN(k+N))&&(l("buyRuneBlessingInput").value=`${e.runeBlessingBuyAmount||T.runeBlessingBuyAmount}`.replace(I,"e"),no(1)),l("buyRuneBlessingToggle").innerHTML=u.t("runes.blessings.buyUpTo",{amount:d(e.runeBlessingBuyAmount)}),N=e.runeSpiritBuyAmount,k=Number(l("buyRuneSpiritInput").value),(k!==N||isNaN(k+N))&&(l("buyRuneSpiritInput").value=`${e.runeSpiritBuyAmount||T.runeSpiritBuyAmount}`.replace(I,"e"),no(2)),l("buyRuneSpiritToggleValue").innerHTML=u.t("runes.spirits.buyUpTo",{amount:d(e.runeSpiritBuyAmount,0,!0)}),e.resettoggle1===1&&(l("prestigeautotoggle").textContent=u.t("toggles.modeAmount")),e.resettoggle2===1&&(l("transcendautotoggle").textContent=u.t("toggles.modeAmount")),e.resettoggle3===1&&(l("reincarnateautotoggle").textContent=u.t("toggles.modeAmount")),e.resettoggle4===1&&(l("tesseractautobuymode").textContent=u.t("toggles.modeAmount")),e.resettoggle1===2&&(l("prestigeautotoggle").textContent=u.t("toggles.modeTime")),e.resettoggle2===2&&(l("transcendautotoggle").textContent=u.t("toggles.modeTime")),e.resettoggle3===2&&(l("reincarnateautotoggle").textContent=u.t("toggles.modeTime")),e.resettoggle4===2&&(l("tesseractautobuymode").textContent=u.t("toggles.modePercentage")),e.tesseractAutoBuyerToggle===1&&(l("tesseractautobuytoggle").textContent=u.t("runes.talismans.autoBuyOn"),l("tesseractautobuytoggle").style.border="2px solid green"),e.tesseractAutoBuyerToggle===2&&(l("tesseractautobuytoggle").textContent=u.t("runes.talismans.autoBuyOff"),l("tesseractautobuytoggle").style.border="2px solid red"),e.autoOpenCubes?(l("openCubes").textContent=u.t("wowCubes.autoOn",{percent:d(e.openCubes,0)}),l("openCubes").style.border="1px solid green",l("cubeOpensInput").style.border="1px solid green"):(l("openCubes").textContent=u.t("wowCubes.autoOff"),l("openCubes").style.border="1px solid red",l("cubeOpensInput").style.border="1px solid red"),e.autoOpenTesseracts?(l("openTesseracts").textContent=u.t("wowCubes.autoOn",{percent:d(e.openTesseracts,0)}),l("openTesseracts").style.border="1px solid green",l("tesseractsOpensInput").style.border="1px solid green"):(l("openTesseracts").textContent=u.t("wowCubes.autoOff"),l("openTesseracts").style.border="1px solid red",l("tesseractsOpensInput").style.border="1px solid red"),e.autoOpenHypercubes?(l("openHypercubes").textContent=u.t("wowCubes.autoOn",{percent:d(e.openHypercubes,0)}),l("openHypercubes").style.border="1px solid green",l("hypercubesOpensInput").style.border="1px solid green"):(l("openHypercubes").textContent=u.t("wowCubes.autoOff"),l("openHypercubes").style.border="1px solid red",l("hypercubesOpensInput").style.border="1px solid red"),e.autoOpenPlatonicsCubes?(l("openPlatonicCube").textContent=u.t("wowCubes.autoOn",{percent:d(e.openPlatonicsCubes,0)}),l("openPlatonicCube").style.border="1px solid green",l("platonicCubeOpensInput").style.border="1px solid green"):(l("openPlatonicCube").textContent=u.t("wowCubes.autoOff"),l("openPlatonicCube").style.border="1px solid red",l("platonicCubeOpensInput").style.border="1px solid red"),e.autoResearchToggle?l("toggleautoresearch").textContent=u.t("researches.automaticOn"):l("toggleautoresearch").textContent=u.t("researches.automaticOff"),e.autoResearchMode==="cheapest"?l("toggleautoresearchmode").textContent=u.t("researches.autoModeCheapest"):l("toggleautoresearchmode").textContent=u.t("researches.autoModeManual"),e.autoSacrificeToggle?(l("toggleautosacrifice").textContent=u.t("runes.blessings.autoRuneOn"),l("toggleautosacrifice").style.border="2px solid green"):(l("toggleautosacrifice").textContent=u.t("runes.blessings.autoRuneOff"),l("toggleautosacrifice").style.border="2px solid red"),e.autoBuyFragment?(l("toggleautoBuyFragments").textContent=u.t("runes.talismans.autoBuyOn"),l("toggleautoBuyFragments").style.border="2px solid white",l("toggleautoBuyFragments").style.color="orange"):(l("toggleautoBuyFragments").textContent=u.t("runes.talismans.autoBuyOff"),l("toggleautoBuyFragments").style.border="2px solid orange",l("toggleautoBuyFragments").style.color="white"),e.autoFortifyToggle?(l("toggleautofortify").textContent=u.t("runes.autoFortifyOn"),l("toggleautofortify").style.border="2px solid green"):(l("toggleautofortify").textContent=u.t("runes.autoFortifyOff"),l("toggleautofortify").style.border="2px solid red"),e.autoEnhanceToggle?(l("toggleautoenhance").textContent=u.t("runes.autoEnhanceOn"),l("toggleautoenhance").style.border="2px solid green"):(l("toggleautoenhance").textContent=u.t("runes.autoEnhanceOff"),l("toggleautoenhance").style.border="2px solid red"),e.saveOfferingToggle=!1,l("saveOffToggle").textContent=u.t("toggles.saveOfferingsOff"),l("saveOffToggle").style.color="white",e.autoAscend?(l("ascensionAutoEnable").textContent=u.t("corruptions.autoAscend.on"),l("ascensionAutoEnable").style.border="2px solid green"):(l("ascensionAutoEnable").textContent=u.t("corruptions.autoAscend.off"),l("ascensionAutoEnable").style.border="2px solid red"),e.shopConfirmationToggle?l("toggleConfirmShop").textContent=u.t("shop.shopConfirmationOn"):l("toggleConfirmShop").textContent=u.t("shop.shopConfirmationOff"),e.shopBuyMaxToggle){case!1:l("toggleBuyMaxShopText").textContent=u.t("shop.buy1");break;case"TEN":l("toggleBuyMaxShopText").textContent=u.t("shop.buy10");break;case!0:l("toggleBuyMaxShopText").textContent=u.t("shop.buyMax");break;case"ANY":l("toggleBuyMaxShopText").textContent=u.t("shop.buyAny")}e.shopHideToggle?l("toggleHideShop").textContent=u.t("shop.hideMaxedOn"):l("toggleHideShop").textContent=u.t("shop.hideMaxedOff"),e.researchBuyMaxToggle?l("toggleresearchbuy").textContent=u.t("researches.upgradeMax"):l("toggleresearchbuy").textContent=u.t("researches.upgradeOne"),e.cubeUpgradesBuyMaxToggle?l("toggleCubeBuy").textContent=u.t("toggles.upgradeMaxIfPossible"):l("toggleCubeBuy").textContent=u.t("toggles.upgradeOneLevelWow"),sc(!1),oc(!1);for(let A=1;A<=2;A++)ac(),to(0),to(1);for(let A=1;A<=2;A++)ro(0),ro(1);l("historyTogglePerSecondButton").textContent=`Per second: ${e.historyShowPerSecond?"ON":"OFF"}`,l("historyTogglePerSecondButton").style.borderColor=e.historyShowPerSecond?"green":"red",e.autoResearchToggle&&or()&&e.autoResearchMode==="cheapest"&&(e.autoResearch=i.researchOrderByCost[e.roombaResearchIndex]),e.autoResearch=Math.min(200,e.autoResearch),e.autoSacrifice=Math.min(5,e.autoSacrifice),e.researches[61]===0&&(l("automaticobtainium").textContent=u.t("main.buyResearch3x11")),e.autoSacrificeToggle&&e.autoSacrifice>.5&&(l(`rune${e.autoSacrifice}`).style.backgroundColor="orange"),e.autoWarpCheck?(l("warpAuto").textContent=u.t("general.autoOnColon"),l("warpAuto").style.border="2px solid green"):(l("warpAuto").textContent=u.t("general.autoOffColon"),l("warpAuto").style.border="2px solid red"),l("autoHepteractPercentage").textContent=u.t("wowCubes.hepteractForge.autoSetting",{x:`${e.hepteractAutoCraftPercentage}`}),l("hepteractToQuarkTradeAuto").textContent=e.overfluxOrbsAutoBuy?u.t("general.autoOnColon"):u.t("general.autoOffColon"),l("hepteractToQuarkTradeAuto").style.border=`2px solid ${e.overfluxOrbsAutoBuy?"green":"red"}`,kl(!0,!0),l("blueberryToggleMode").innerHTML=e.blueberryLoadoutMode==="saveTree"?u.t("ambrosia.loadouts.save"):u.t("ambrosia.loadouts.load"),Zs(e.buyTalismanShardPercent),fr(),Zr(),er(),at(),kp(),ch(),xd()}b0(),e.currentChallenge.reincarnation?Lt("reincarnationChallenge"):e.currentChallenge.transcension&&Lt("transcensionChallenge");let a=new Date,s=a.getHours(),o=a.getMinutes(),c=a.getSeconds();e.dayTimer=60*60*24-(c+60*o+60*60*s)},H0=["","K","M","B","T","Qa","Qt","Sx","Sp","Oc","No","Dc","UDc","DDc","TDc","QaDc","QtDc","SxDc","SpDc","OcDc","NoDc","Vg","UVg","DVg","TVg","QaVg","QtVg","SxVg","SpVg","OcVg","NoVg","Tg","UTg","DTg","TTg","QaTg","QtTg","SxTg","SpTg","OTg","NTg","Qd","UQd","DQd","TQd","QaQd","QtQd","SxQd","SpQd","OcQd","NoQd","Qi","UQi","DQi","TQi","QaQi","QtQi","SxQi","SpQi","OQi","NQi","Se","USe","DSe","TSe","QaSe","QtSe","SxSe","SpSe","OcSe","NoSe","St","USt","DSt","TSt","QaSt","QtSt","SxSt","SpSt","OcSt","NoSt","Ocg","UOcg","DOcg","TOcg","QaOcg","QtOcg","SxOcg","SpOcg","OcOcg","NoOcg","Nono","UNono","DNono","TNono","QaNono","QtNono","SxNono","SpNono","OcNono","NoNono","Ce"],J2=typeof Intl.NumberFormat.prototype.formatToParts=="function",$c=J2?Intl.NumberFormat().formatToParts(1000.1).filter(t=>t.type==="decimal"||t.type==="group"):null,[{value:ew},{value:tw}]=($c==null?void 0:$c.length)!==2?[{value:","},{value:"."}]:$c,Ap={minimumFractionDigits:2,maximumFractionDigits:2},Pp=(t,r=3)=>{let n=1,a="",s=t.split(".");for(let o=s[0].length-1;o>=0;o--)n++===r&&o!==0?(n=1,a=ew+t[o]+a):a=t[o]+a;return typeof s[1]<"u"&&(a+=tw+s[1]),a|0,a},d=(t,r=0,n=!1,a=!0,s=!1)=>{if(t==null)return"0 [null]";if(typeof t=="object"&&Symbol.toPrimitive in t&&(t=Number(t)),!(t instanceof m)&&typeof t!="number"||isNaN(t))return isNaN(t)?"0 [NaN]":"0 [und.]";if(typeof t=="number"&&e.notation==="Default"&&t<(s?1e-15:.001)&&t>0)return t.toExponential(r);let o,c;if(vl(t))o=t.e,c=t.mantissa;else if(typeof t=="number"){if(t===0)return"0";o=Math.floor(Math.log10(Math.abs(t))),c=t/Math.pow(10,o)}if(c>9.9999999&&(c=1,++o),c<1&&c>.9999999&&(c=1),o<-15)return"0";if(e.notation==="Pure Engineering"){let p=o%3<0?3+o%3:o%3;o=o-p,c=c*Math.pow(10,p)}if(e.notation==="Pure Scientific"||e.notation==="Pure Engineering"){if(o>=1e6)return Number.isFinite(o)?`E${d(o,3)}`:"Infinity";if(r=o===2&&r>2?2:r,o>=6||o<0){r=r<2?2:r;let f=(Math.floor(c*Math.pow(10,r))/Math.pow(10,r)).toLocaleString(void 0,Ap),g=Pp(o.toString());return`${f}e${g}`}return c=c*Math.pow(10,o),c-Math.floor(c)>.9999999&&(c=Math.ceil(c)),`${(Math.floor(c*Math.pow(10,r))/Math.pow(10,r)).toLocaleString(void 0,{minimumFractionDigits:r,maximumFractionDigits:r})}`}if(o<0&&!vl(t)&&s)return o<=-15?`${d(c,r,n)} / ${Math.pow(10,-o-15)}Qa`:o<=-12?`${d(c,r,n)} / ${Math.pow(10,-o-12)}T`:o<=-9?`${d(c,r,n)} / ${Math.pow(10,-o-9)}B`:o<=-6?`${d(c,r,n)} / ${Math.pow(10,-o-6)}M`:o<=-3?`${d(c,r,n)} / ${Math.pow(10,-o-3)}K`:`${d(c,r,n)} / ${Math.pow(10,-o)}`;if(o<6||n&&o<7){let p=c*Math.pow(10,o),f;return p-Math.floor(p)>.9999999&&(p=Math.ceil(p)),(o<2||n&&o<3)&&r>0?f=p.toFixed(o===2&&r>2?2:r):(p=Math.floor(p),f=p.toString()),Pp(f)}else if(o<1e6){let p=(Math.floor(c*100)/100).toLocaleString(void 0,Ap),f=Pp(o.toString());return`${p}e${f}`}else if(o>=1e6){if(!Number.isFinite(o))return"Infinity";let p=!1&&a?"":(Math.floor(c*100)/100).toLocaleString(void 0,Ap),f=Math.ceil(Math.log10(o)),g=(f-1)%3+1,h=o/Math.pow(10,f-g);h===1e3&&(h=1,g=1);let b=h.toLocaleString(void 0,{minimumFractionDigits:4-g,maximumFractionDigits:4-g}),y=Math.floor(Math.log10(o)/3);return typeof H0[y]=="string"?`${p}e${b}${H0[y]}`:`e${o.toExponential(2)}`}else return"0 [und.]"},dr=(t,r)=>(t>=86400?`${d(Math.floor(t/86400))}d`:"")+(t>=3600?`${d(Math.floor(t/3600)%24)}h`:"")+(t>=60?`${d(Math.floor(t/60)%60)}m`:"")+(t>=864e4?"":`${d(Math.floor(t)%60)+(r&&t<r?`.${Math.floor(t%1*1e3).toString().padStart(3,"0")}`:"")}s`),Ad=()=>{let t=0;i.totalAccelerator=e.acceleratorBought,i.costDivisor=1,e.upgrades[8]!==0&&(t+=Math.floor(e.multiplierBought/7)),e.upgrades[21]!==0&&(t+=5),e.upgrades[22]!==0&&(t+=4),e.upgrades[23]!==0&&(t+=3),e.upgrades[24]!==0&&(t+=2),e.upgrades[25]!==0&&(t+=1),e.upgrades[27]!==0&&(t+=Math.min(250,Math.floor(m.log(e.coins.add(1),1e3)))+Math.min(1750,Math.max(0,Math.floor(m.log(e.coins.add(1),1e15))-50))),e.upgrades[29]!==0&&(t+=Math.floor(Math.min(2e3,(e.firstOwnedCoin+e.secondOwnedCoin+e.thirdOwnedCoin+e.fourthOwnedCoin+e.fifthOwnedCoin)/80))),e.upgrades[32]!==0&&(t+=Math.min(500,Math.floor(m.log(e.prestigePoints.add(1),1e25)))),e.upgrades[45]!==0&&(t+=Math.min(2500,Math.floor(m.log(e.transcendShards.add(1),10)))),e.achievements[5]!==0&&(t+=Math.floor(e.firstOwnedCoin/500)),e.achievements[12]!==0&&(t+=Math.floor(e.secondOwnedCoin/500)),e.achievements[19]!==0&&(t+=Math.floor(e.thirdOwnedCoin/500)),e.achievements[26]!==0&&(t+=Math.floor(e.fourthOwnedCoin/500)),e.achievements[33]!==0&&(t+=Math.floor(e.fifthOwnedCoin/500)),e.achievements[60]!==0&&(t+=2),e.achievements[61]!==0&&(t+=2),e.achievements[62]!==0&&(t+=2),t+=5*z("transcend",e.challengecompletions[2]),i.freeUpgradeAccelerator=t,t+=i.totalAcceleratorBoost*(4+2*e.researches[18]+2*e.researches[19]+3*e.researches[20]+i.cubeBonusMultiplier[1]),e.unlocks.prestige&&(t+=Math.floor(Math.pow(i.rune1level*i.effectiveLevelMult/4,1.25)),t*=1+i.rune1level*1/400*i.effectiveLevelMult),T0(),t*=i.acceleratorMultiplier,t=Math.pow(t,Math.min(1,(1+e.platonicUpgrades[6]/30)*i.viscosityPower[e.usedCorruptions[2]])),t+=2e3*ct("accelerator"),t*=i.challenge15Rewards.accelerator,t*=1+3/1e4*ct("accelerator"),t=Math.floor(Math.min(1e100,t)),e.usedCorruptions[2]>=15&&(t=Math.pow(t,.2)),e.usedCorruptions[2]>=16&&(t=1),i.freeAccelerator=t,i.totalAccelerator+=i.freeAccelerator,i.tuSevenMulti=1,e.upgrades[46]>.5&&(i.tuSevenMulti=1.05),i.acceleratorPower=Math.pow(1.1+i.tuSevenMulti*(i.totalAcceleratorBoost/100)*(1+z("transcend",e.challengecompletions[2])/20),1+.04*z("reincarnation",e.challengecompletions[7])),i.acceleratorPower+=1/200*Math.floor(z("transcend",e.challengecompletions[2])/2)*100/100;for(let r=1;r<=5;r++)e.achievements[7*r-4]>0&&(i.acceleratorPower+=5e-4*r);e.currentChallenge.reincarnation!==7&&e.currentChallenge.reincarnation!==10&&(e.currentChallenge.transcension===1&&(i.acceleratorPower*=25/(50+e.challengecompletions[1]),i.acceleratorPower+=.55,i.acceleratorPower=Math.max(1,i.acceleratorPower)),e.currentChallenge.transcension===2&&(i.acceleratorPower=1),e.currentChallenge.transcension===3&&(i.acceleratorPower=1.05+2*i.tuSevenMulti*(i.totalAcceleratorBoost/300)*(1+z("transcend",e.challengecompletions[2])/20))),i.acceleratorPower=Math.min(1e300,i.acceleratorPower),e.currentChallenge.reincarnation===7&&(i.acceleratorPower=1),e.currentChallenge.reincarnation===10&&(i.acceleratorPower=1),e.currentChallenge.transcension!==1&&(i.acceleratorEffect=m.pow(i.acceleratorPower,i.totalAccelerator)),e.currentChallenge.transcension===1&&(i.acceleratorEffect=m.pow(i.acceleratorPower,i.totalAccelerator+i.totalMultiplier)),i.acceleratorEffectDisplay=new m(i.acceleratorPower*100-100),e.currentChallenge.reincarnation===10&&(i.acceleratorEffect=new m(1)),i.generatorPower=new m(1),e.upgrades[11]>.5&&e.currentChallenge.reincarnation!==7&&(i.generatorPower=m.pow(1.02,i.totalAccelerator))},Pd=()=>{let t=0;e.upgrades[7]>0&&(t+=Math.min(4,1+Math.floor(m.log(e.fifthOwnedCoin+1,10)))),e.upgrades[9]>0&&(t+=Math.floor(e.acceleratorBought/10)),e.upgrades[21]>0&&(t+=1),e.upgrades[22]>0&&(t+=1),e.upgrades[23]>0&&(t+=1),e.upgrades[24]>0&&(t+=1),e.upgrades[25]>0&&(t+=1),e.upgrades[28]>0&&(t+=Math.min(1e3,Math.floor((e.firstOwnedCoin+e.secondOwnedCoin+e.thirdOwnedCoin+e.fourthOwnedCoin+e.fifthOwnedCoin)/160))),e.upgrades[30]>0&&(t+=Math.min(75,Math.floor(m.log(e.coins.add(1),1e10)))+Math.min(925,Math.floor(m.log(e.coins.add(1),1e30)))),e.upgrades[33]>0&&(t+=i.totalAcceleratorBoost),e.upgrades[49]>0&&(t+=Math.min(50,Math.floor(m.log(e.transcendPoints.add(1),1e10)))),e.upgrades[68]>0&&(t+=Math.min(2500,Math.floor(m.log(i.taxdivisor,10)*1/1e3))),e.challengecompletions[1]>0&&(t+=1),e.achievements[6]>.5&&(t+=Math.floor(e.firstOwnedCoin/1e3)),e.achievements[13]>.5&&(t+=Math.floor(e.secondOwnedCoin/1e3)),e.achievements[20]>.5&&(t+=Math.floor(e.thirdOwnedCoin/1e3)),e.achievements[27]>.5&&(t+=Math.floor(e.fourthOwnedCoin/1e3)),e.achievements[34]>.5&&(t+=Math.floor(e.fifthOwnedCoin/1e3)),e.achievements[57]>.5&&(t+=1),e.achievements[58]>.5&&(t+=1),e.achievements[59]>.5&&(t+=1),t+=20*e.researches[94]*Math.floor((i.rune1level+i.rune2level+i.rune3level+i.rune4level+i.rune5level)/8),i.freeUpgradeMultiplier=Math.min(1e100,t),e.achievements[38]>.5&&(t+=Math.floor(Math.floor(i.rune2level/10*i.effectiveLevelMult)*Math.floor(1+i.rune2level/10*i.effectiveLevelMult)/2)*100/100),t*=1+e.achievements[57]/100,t*=1+e.achievements[58]/100,t*=1+e.achievements[59]/100,t*=Math.pow(1.01,e.upgrades[21]+e.upgrades[22]+e.upgrades[23]+e.upgrades[24]+e.upgrades[25]),t*=1+.03*e.upgrades[34]+.02*e.upgrades[35],t*=1+1/5*e.researches[2]*(1+1/2*z("ascension",e.challengecompletions[14])),t*=1+1/20*e.researches[11]+1/25*e.researches[12]+1/40*e.researches[13]+3/200*e.researches[14]+1/200*e.researches[15],t*=1+i.rune2level/400*i.effectiveLevelMult,t*=1+1/20*e.researches[87],t*=1+1/100*e.researches[128],t*=1+.8/100*e.researches[143],t*=1+.6/100*e.researches[158],t*=1+.4/100*e.researches[173],t*=1+.2/100*e.researches[188],t*=1+.01/100*e.researches[200],t*=1+.01/100*e.cubeUpgrades[50],t*=nr(40,(e.antUpgrades[4]+i.bonusant5)/1e3*40/39),t*=i.cubeBonusMultiplier[2],(e.currentChallenge.transcension!==0||e.currentChallenge.reincarnation!==0)&&e.upgrades[50]>.5&&(t*=1.25),t=Math.pow(t,Math.min(1,(1+e.platonicUpgrades[6]/30)*i.viscosityPower[e.usedCorruptions[2]])),t+=1e3*ct("multiplier"),t*=i.challenge15Rewards.multiplier,t*=1+3/1e4*ct("multiplier"),t=Math.floor(Math.min(1e100,t)),e.usedCorruptions[2]>=15&&(t=Math.pow(t,.2)),e.usedCorruptions[2]>=16&&(t=1),i.freeMultiplier=t,i.totalMultiplier=i.freeMultiplier+e.multiplierBought,i.challengeOneLog=3;let r=0,n=0;r+=m.log(e.transcendShards.add(1),3),r*=1+11*e.researches[33]/100,r*=1+11*e.researches[34]/100,r*=1+11*e.researches[35]/100,r*=1+e.researches[89]/5,r*=1+10*i.effectiveRuneBlessingPower[2],n+=Math.floor(.1*r*z("transcend",e.challengecompletions[1])),n+=z("transcend",e.challengecompletions[1])*10,i.freeMultiplierBoost=n,i.totalMultiplierBoost=Math.pow(Math.floor(r)+n,1+z("reincarnation",e.challengecompletions[7])*.04);let a=1;e.challengecompletions[7]>.5&&(a=1.25),i.multiplierPower=2+.005*i.totalMultiplierBoost*a,e.currentChallenge.reincarnation!==7&&e.currentChallenge.reincarnation!==10&&(e.currentChallenge.transcension===1&&(i.multiplierPower=1),e.currentChallenge.transcension===2&&(i.multiplierPower=1.25+.0012*(r+n)*a)),i.multiplierPower=Math.min(1e300,i.multiplierPower),e.currentChallenge.reincarnation===7&&(i.multiplierPower=1),e.currentChallenge.reincarnation===10&&(i.multiplierPower=1),i.multiplierEffect=m.pow(i.multiplierPower,i.totalMultiplier)},rw=()=>{let t=new m(1),r=new m(1),n=1/3;n+=Math.min(10+.05*e.researches[129]*Math.log(e.commonFragments+1)/Math.log(4)+20*yt()/400*i.effectiveRuneSpiritPower[3],.05*e.crystalUpgrades[3]),n+=.04*z("transcend",e.challengecompletions[3]),n+=.08*e.researches[28],n+=.08*e.researches[29],n+=.04*e.researches[30],n+=8*e.cubeUpgrades[17],i.prestigeMultiplier=m.pow(e.prestigeShards,n).add(1);let a=1;e.currentChallenge.reincarnation===7&&(a=.05),e.currentChallenge.reincarnation===8&&(a=0),i.buildingPower=1+(1-Math.pow(2,-1/160))*a*m.log(e.reincarnationShards.add(1),10)*(1+1/20*e.researches[36]+1/40*e.researches[37]+1/40*e.researches[38])+(a+.2)*.25/1.2*z("reincarnation",e.challengecompletions[8]),i.buildingPower=Math.pow(i.buildingPower,1+e.cubeUpgrades[12]*.09),i.buildingPower=Math.pow(i.buildingPower,1+e.cubeUpgrades[36]*.05),i.reincarnationMultiplier=m.pow(i.buildingPower,i.totalCoinOwned),i.antMultiplier=m.pow(m.max(1,e.antPoints),Hd()),t=t.times(i.multiplierEffect),t=t.times(i.acceleratorEffect),t=t.times(i.prestigeMultiplier),t=t.times(i.reincarnationMultiplier),t=t.times(i.antMultiplier);let s=new m(i.totalCoinOwned+1).times(m.min(1e30,m.pow(1.008,i.totalCoinOwned)));e.highestSingularityCount>0&&(t=t.times(Math.pow(e.goldenQuarks+1,1.5)*Math.pow(e.highestSingularityCount+1,2))),e.upgrades[6]>.5&&(t=t.times(s)),e.upgrades[12]>.5&&(t=t.times(m.min(1e4,m.pow(1.01,e.prestigeCount)))),e.upgrades[20]>.5&&(t=t.times(m.pow(i.totalCoinOwned/4+1,10))),e.upgrades[41]>.5&&(t=t.times(m.min(1e30,m.pow(e.transcendPoints.add(1),1/2)))),e.upgrades[43]>.5&&(t=t.times(m.min(1e30,m.pow(1.01,e.transcendCount)))),e.upgrades[48]>.5&&(t=t.times(m.pow(i.totalMultiplier*i.totalAccelerator/1e3+1,8))),e.currentChallenge.reincarnation===6&&(t=t.dividedBy(1e250)),e.currentChallenge.reincarnation===7&&(t=t.dividedBy("1e1250")),e.currentChallenge.reincarnation===9&&(t=t.dividedBy("1e2000000")),e.currentChallenge.reincarnation===10&&(t=t.dividedBy("1e12500000")),r=m.pow(t,1+.001*e.researches[17]);let o=m.pow(r,1+.025*e.upgrades[123]);e.currentChallenge.ascension===15&&e.platonicUpgrades[5]>0&&(o=m.pow(o,1.1)),e.currentChallenge.ascension===15&&e.platonicUpgrades[14]>0&&(o=m.pow(o,1+1/20*e.usedCorruptions[9]*m.log(e.coins.add(1),10)/(1e7+m.log(e.coins.add(1),10)))),e.currentChallenge.ascension===15&&e.platonicUpgrades[15]>0&&(o=m.pow(o,1.1)),o=m.pow(o,i.challenge15Rewards.coinExponent),i.globalCoinMultiplier=o,i.globalCoinMultiplier=m.pow(i.globalCoinMultiplier,i.financialcollapsePower[e.usedCorruptions[9]]),i.coinOneMulti=new m(1),e.upgrades[1]>.5&&(i.coinOneMulti=i.coinOneMulti.times(s)),e.upgrades[10]>.5&&(i.coinOneMulti=i.coinOneMulti.times(m.pow(2,Math.min(50,e.secondOwnedCoin/15)))),e.upgrades[56]>.5&&(i.coinOneMulti=i.coinOneMulti.times("1e5000")),i.coinTwoMulti=new m(1),e.upgrades[2]>.5&&(i.coinTwoMulti=i.coinTwoMulti.times(s)),e.upgrades[13]>.5&&(i.coinTwoMulti=i.coinTwoMulti.times(m.min(1e50,m.pow(e.firstGeneratedMythos.add(e.firstOwnedMythos).add(1),4/3).times(1e10)))),e.upgrades[19]>.5&&(i.coinTwoMulti=i.coinTwoMulti.times(m.min(1e200,e.transcendPoints.times(1e30).add(1)))),e.upgrades[57]>.5&&(i.coinTwoMulti=i.coinTwoMulti.times("1e7500")),i.coinThreeMulti=new m(1),e.upgrades[3]>.5&&(i.coinThreeMulti=i.coinThreeMulti.times(s)),e.upgrades[18]>.5&&(i.coinThreeMulti=i.coinThreeMulti.times(m.min(1e125,e.transcendShards.add(1)))),e.upgrades[58]>.5&&(i.coinThreeMulti=i.coinThreeMulti.times("1e15000")),i.coinFourMulti=new m(1),e.upgrades[4]>.5&&(i.coinFourMulti=i.coinFourMulti.times(s)),e.upgrades[17]>.5&&(i.coinFourMulti=i.coinFourMulti.times(1e100)),e.upgrades[59]>.5&&(i.coinFourMulti=i.coinFourMulti.times("1e25000")),i.coinFiveMulti=new m(1),e.upgrades[5]>.5&&(i.coinFiveMulti=i.coinFiveMulti.times(s)),e.upgrades[60]>.5&&(i.coinFiveMulti=i.coinFiveMulti.times("1e35000")),i.globalCrystalMultiplier=new m(1),e.achievements[36]>.5&&(i.globalCrystalMultiplier=i.globalCrystalMultiplier.times(2)),e.achievements[37]>.5&&e.prestigePoints.gte(10)&&(i.globalCrystalMultiplier=i.globalCrystalMultiplier.times(m.log(e.prestigePoints.add(1),10))),e.achievements[44]>.5&&(i.globalCrystalMultiplier=i.globalCrystalMultiplier.times(m.pow(i.rune3level/2*i.effectiveLevelMult,2).times(m.pow(2,i.rune3level*i.effectiveLevelMult/2-8)).add(1))),e.upgrades[36]>.5&&(i.globalCrystalMultiplier=i.globalCrystalMultiplier.times(m.min("1e5000",m.pow(e.prestigePoints,1/500)))),e.upgrades[63]>.5&&(i.globalCrystalMultiplier=i.globalCrystalMultiplier.times(m.min("1e6000",m.pow(e.reincarnationPoints.add(1),6)))),e.researches[39]>.5&&(i.globalCrystalMultiplier=i.globalCrystalMultiplier.times(m.pow(i.reincarnationMultiplier,1/50))),i.globalCrystalMultiplier=i.globalCrystalMultiplier.times(m.min(m.pow(10,50+2*e.crystalUpgrades[0]),m.pow(1.05,e.achievementPoints*e.crystalUpgrades[0]))),i.globalCrystalMultiplier=i.globalCrystalMultiplier.times(m.min(m.pow(10,100+5*e.crystalUpgrades[1]),m.pow(m.log(e.coins.add(1),10),e.crystalUpgrades[1]/3))),i.globalCrystalMultiplier=i.globalCrystalMultiplier.times(m.pow(1+Math.min(.12+.88*e.upgrades[122]+.001*e.researches[129]*Math.log(e.commonFragments+1)/Math.log(4),.001*e.crystalUpgrades[2]),e.firstOwnedDiamonds+e.secondOwnedDiamonds+e.thirdOwnedDiamonds+e.fourthOwnedDiamonds+e.fifthOwnedDiamonds)),i.globalCrystalMultiplier=i.globalCrystalMultiplier.times(m.pow(1.01,(e.challengecompletions[1]+e.challengecompletions[2]+e.challengecompletions[3]+e.challengecompletions[4]+e.challengecompletions[5])*e.crystalUpgrades[4])),i.globalCrystalMultiplier=i.globalCrystalMultiplier.times(m.pow(10,z("transcend",e.challengecompletions[5]))),i.globalCrystalMultiplier=i.globalCrystalMultiplier.times(m.pow(1e4,e.researches[5]*(1+1/2*z("ascension",e.challengecompletions[14])))),i.globalCrystalMultiplier=i.globalCrystalMultiplier.times(m.pow(2.5,e.researches[26])),i.globalCrystalMultiplier=i.globalCrystalMultiplier.times(m.pow(2.5,e.researches[27])),i.globalMythosMultiplier=new m(1),e.upgrades[37]>.5&&(i.globalMythosMultiplier=i.globalMythosMultiplier.times(m.pow(m.log(e.prestigePoints.add(10),10),2))),e.upgrades[42]>.5&&(i.globalMythosMultiplier=i.globalMythosMultiplier.times(m.min(1e50,m.pow(e.prestigePoints.add(1),1/50).dividedBy(2.5).add(1)))),e.upgrades[47]>.5&&(i.globalMythosMultiplier=i.globalMythosMultiplier.times(m.pow(1.05,e.achievementPoints)).times(e.achievementPoints+1)),e.upgrades[51]>.5&&(i.globalMythosMultiplier=i.globalMythosMultiplier.times(m.pow(i.totalAcceleratorBoost,2))),e.upgrades[52]>.5&&(i.globalMythosMultiplier=i.globalMythosMultiplier.times(m.pow(i.globalMythosMultiplier,.025))),e.upgrades[64]>.5&&(i.globalMythosMultiplier=i.globalMythosMultiplier.times(m.pow(e.reincarnationPoints.add(1),2))),e.researches[40]>.5&&(i.globalMythosMultiplier=i.globalMythosMultiplier.times(m.pow(i.reincarnationMultiplier,1/250))),i.grandmasterMultiplier=new m(1),i.totalMythosOwned=e.firstOwnedMythos+e.secondOwnedMythos+e.thirdOwnedMythos+e.fourthOwnedMythos+e.fifthOwnedMythos,i.mythosBuildingPower=1+z("transcend",e.challengecompletions[3])/200,i.challengeThreeMultiplier=m.pow(i.mythosBuildingPower,i.totalMythosOwned),i.grandmasterMultiplier=i.grandmasterMultiplier.times(i.challengeThreeMultiplier),i.mythosupgrade13=new m(1),i.mythosupgrade14=new m(1),i.mythosupgrade15=new m(1),e.upgrades[53]===1&&(i.mythosupgrade13=i.mythosupgrade13.times(m.min("1e1250",m.pow(i.acceleratorEffect,1/125)))),e.upgrades[54]===1&&(i.mythosupgrade14=i.mythosupgrade14.times(m.min("1e2000",m.pow(i.multiplierEffect,1/180)))),e.upgrades[55]===1&&(i.mythosupgrade15=i.mythosupgrade15.times(m.pow("1e1000",Math.min(1e3,i.buildingPower-1)))),i.globalConstantMult=new m("1"),i.globalConstantMult=i.globalConstantMult.times(m.pow(1.05+.01*e.achievements[270]+.001*e.platonicUpgrades[18],e.constantUpgrades[1])),i.globalConstantMult=i.globalConstantMult.times(m.pow(1+.001*Math.min(100+10*e.achievements[270]+10*e.shopUpgrades.constantEX+1e3*(i.challenge15Rewards.exponent-1)+3*e.platonicUpgrades[18],e.constantUpgrades[2]),Nu())),i.globalConstantMult=i.globalConstantMult.times(1+2/100*e.researches[139]),i.globalConstantMult=i.globalConstantMult.times(1+3/100*e.researches[154]),i.globalConstantMult=i.globalConstantMult.times(1+4/100*e.researches[169]),i.globalConstantMult=i.globalConstantMult.times(1+5/100*e.researches[184]),i.globalConstantMult=i.globalConstantMult.times(1+10/100*e.researches[199]),i.globalConstantMult=i.globalConstantMult.times(i.challenge15Rewards.constantBonus),e.platonicUpgrades[5]>0&&(i.globalConstantMult=i.globalConstantMult.times(2)),e.platonicUpgrades[10]>0&&(i.globalConstantMult=i.globalConstantMult.times(10)),e.platonicUpgrades[15]>0&&(i.globalConstantMult=i.globalConstantMult.times(1e250)),i.globalConstantMult=i.globalConstantMult.times(m.pow(e.overfluxPowder+1,10*e.platonicUpgrades[16]))},Mp=t=>{if(M0(),S0(),Ad(),Pd(),rw(),$0(),i.produceTotal.gte(.001)){let o=m.min(i.produceTotal.dividedBy(i.taxdivisor),m.pow(10,i.maxexponent-m.log(i.taxdivisorcheck,10))).times(t/.025);e.coins=e.coins.add(o),e.coinsThisPrestige=e.coinsThisPrestige.add(o),e.coinsThisTranscension=e.coinsThisTranscension.add(o),e.coinsThisReincarnation=e.coinsThisReincarnation.add(o),e.coinsTotal=e.coinsTotal.add(o)}sw(),e.upgrades[93]===1&&e.coinsThisPrestige.gte(1e16)&&(e.prestigePoints=e.prestigePoints.add(m.floor(i.prestigePointGain.dividedBy(4e3).times(t/.025)))),e.upgrades[100]===1&&e.coinsThisTranscension.gte(1e100)&&(e.transcendPoints=e.transcendPoints.add(m.floor(i.transcendPointGain.dividedBy(4e3).times(t/.025)))),e.cubeUpgrades[28]>0&&e.transcendShards.gte(1e300)&&(e.reincarnationPoints=e.reincarnationPoints.add(m.floor(i.reincarnationPointGain.dividedBy(4e3).times(t/.025)))),i.produceFirstDiamonds=e.firstGeneratedDiamonds.add(e.firstOwnedDiamonds).times(e.firstProduceDiamonds).times(i.globalCrystalMultiplier),i.produceSecondDiamonds=e.secondGeneratedDiamonds.add(e.secondOwnedDiamonds).times(e.secondProduceDiamonds).times(i.globalCrystalMultiplier),i.produceThirdDiamonds=e.thirdGeneratedDiamonds.add(e.thirdOwnedDiamonds).times(e.thirdProduceDiamonds).times(i.globalCrystalMultiplier),i.produceFourthDiamonds=e.fourthGeneratedDiamonds.add(e.fourthOwnedDiamonds).times(e.fourthProduceDiamonds).times(i.globalCrystalMultiplier),i.produceFifthDiamonds=e.fifthGeneratedDiamonds.add(e.fifthOwnedDiamonds).times(e.fifthProduceDiamonds).times(i.globalCrystalMultiplier),e.fourthGeneratedDiamonds=e.fourthGeneratedDiamonds.add(i.produceFifthDiamonds.times(t/.025)),e.thirdGeneratedDiamonds=e.thirdGeneratedDiamonds.add(i.produceFourthDiamonds.times(t/.025)),e.secondGeneratedDiamonds=e.secondGeneratedDiamonds.add(i.produceThirdDiamonds.times(t/.025)),e.firstGeneratedDiamonds=e.firstGeneratedDiamonds.add(i.produceSecondDiamonds.times(t/.025)),i.produceDiamonds=i.produceFirstDiamonds,e.currentChallenge.transcension!==3&&e.currentChallenge.reincarnation!==10&&(e.prestigeShards=e.prestigeShards.add(i.produceDiamonds.times(t/.025))),i.produceFifthMythos=e.fifthGeneratedMythos.add(e.fifthOwnedMythos).times(e.fifthProduceMythos).times(i.globalMythosMultiplier).times(i.grandmasterMultiplier).times(i.mythosupgrade15),i.produceFourthMythos=e.fourthGeneratedMythos.add(e.fourthOwnedMythos).times(e.fourthProduceMythos).times(i.globalMythosMultiplier),i.produceThirdMythos=e.thirdGeneratedMythos.add(e.thirdOwnedMythos).times(e.thirdProduceMythos).times(i.globalMythosMultiplier).times(i.mythosupgrade14),i.produceSecondMythos=e.secondGeneratedMythos.add(e.secondOwnedMythos).times(e.secondProduceMythos).times(i.globalMythosMultiplier),i.produceFirstMythos=e.firstGeneratedMythos.add(e.firstOwnedMythos).times(e.firstProduceMythos).times(i.globalMythosMultiplier).times(i.mythosupgrade13),e.fourthGeneratedMythos=e.fourthGeneratedMythos.add(i.produceFifthMythos.times(t/.025)),e.thirdGeneratedMythos=e.thirdGeneratedMythos.add(i.produceFourthMythos.times(t/.025)),e.secondGeneratedMythos=e.secondGeneratedMythos.add(i.produceThirdMythos.times(t/.025)),e.firstGeneratedMythos=e.firstGeneratedMythos.add(i.produceSecondMythos.times(t/.025)),i.produceMythos=new m("0"),i.produceMythos=e.firstGeneratedMythos.add(e.firstOwnedMythos).times(e.firstProduceMythos).times(i.globalMythosMultiplier).times(i.mythosupgrade13),i.producePerSecondMythos=i.produceMythos.times(40);let r=new m("1");e.upgrades[67]>.5&&(r=r.times(m.pow(1.03,e.firstOwnedParticles+e.secondOwnedParticles+e.thirdOwnedParticles+e.fourthOwnedParticles+e.fifthOwnedParticles))),i.produceFifthParticles=e.fifthGeneratedParticles.add(e.fifthOwnedParticles).times(e.fifthProduceParticles),i.produceFourthParticles=e.fourthGeneratedParticles.add(e.fourthOwnedParticles).times(e.fourthProduceParticles),i.produceThirdParticles=e.thirdGeneratedParticles.add(e.thirdOwnedParticles).times(e.thirdProduceParticles),i.produceSecondParticles=e.secondGeneratedParticles.add(e.secondOwnedParticles).times(e.secondProduceParticles),i.produceFirstParticles=e.firstGeneratedParticles.add(e.firstOwnedParticles).times(e.firstProduceParticles).times(r),e.fourthGeneratedParticles=e.fourthGeneratedParticles.add(i.produceFifthParticles.times(t/.025)),e.thirdGeneratedParticles=e.thirdGeneratedParticles.add(i.produceFourthParticles.times(t/.025)),e.secondGeneratedParticles=e.secondGeneratedParticles.add(i.produceThirdParticles.times(t/.025)),e.firstGeneratedParticles=e.firstGeneratedParticles.add(i.produceSecondParticles.times(t/.025)),i.produceParticles=new m("0"),i.produceParticles=e.firstGeneratedParticles.add(e.firstOwnedParticles).times(e.firstProduceParticles).times(r),i.producePerSecondParticles=i.produceParticles.times(40),e.currentChallenge.transcension!==3&&e.currentChallenge.reincarnation!==10&&(e.transcendShards=e.transcendShards.add(i.produceMythos.times(t/.025))),e.currentChallenge.reincarnation!==10&&(e.reincarnationShards=e.reincarnationShards.add(i.produceParticles.times(t/.025))),aw(t);for(let o=1;o<=5;o++)if(i.ascendBuildingProduction[i.ordinals[5-o]]=e[`ascendBuilding${6-o}`].generated.add(e[`ascendBuilding${6-o}`].owned).times(e[`ascendBuilding${o}`].multiplier).times(i.globalConstantMult),o!==5){let c=5-o;e[`ascendBuilding${c}`].generated=e[`ascendBuilding${c}`].generated.add(i.ascendBuildingProduction[i.ordinals[c]].times(t))}e.ascendShards=e.ascendShards.add(i.ascendBuildingProduction.first.times(t)),e.ascensionCount>0&&ao(2),e.researches[71]>.5&&e.challengecompletions[1]<Math.min(e.highestchallengecompletions[1],25+5*e.researches[66]+925*e.researches[105])&&e.coins.gte(m.pow(10,1.25*i.challengeBaseRequirements[0]*Math.pow(1+e.challengecompletions[1],2)))&&(e.challengecompletions[1]+=1,Rr(1,!0),tn(1)),e.researches[72]>.5&&e.challengecompletions[2]<Math.min(e.highestchallengecompletions[2],25+5*e.researches[67]+925*e.researches[105])&&e.coins.gte(m.pow(10,1.6*i.challengeBaseRequirements[1]*Math.pow(1+e.challengecompletions[2],2)))&&(e.challengecompletions[2]+=1,Rr(2,!0),tn(2)),e.researches[73]>.5&&e.challengecompletions[3]<Math.min(e.highestchallengecompletions[3],25+5*e.researches[68]+925*e.researches[105])&&e.coins.gte(m.pow(10,1.7*i.challengeBaseRequirements[2]*Math.pow(1+e.challengecompletions[3],2)))&&(e.challengecompletions[3]+=1,Rr(3,!0),tn(3)),e.researches[74]>.5&&e.challengecompletions[4]<Math.min(e.highestchallengecompletions[4],25+5*e.researches[69]+925*e.researches[105])&&e.coins.gte(m.pow(10,1.45*i.challengeBaseRequirements[3]*Math.pow(1+e.challengecompletions[4],2)))&&(e.challengecompletions[4]+=1,Rr(4,!0),tn(4)),e.researches[75]>.5&&e.challengecompletions[5]<Math.min(e.highestchallengecompletions[5],25+5*e.researches[70]+925*e.researches[105])&&e.coins.gte(m.pow(10,2*i.challengeBaseRequirements[4]*Math.pow(1+e.challengecompletions[5],2)))&&(e.challengecompletions[5]+=1,Rr(5,!0),tn(5));let n=e.currentChallenge.transcension,a=e.currentChallenge.reincarnation,s=e.currentChallenge.ascension;n!==0&&e.coinsThisTranscension.gte(Kt(n,e.challengecompletions[n],n))&&(Qe("transcensionChallenge",!1),i.autoChallengeTimerIncrement=0),a<9&&a!==0&&e.transcendShards.gte(Kt(a,e.challengecompletions[a],a))&&(Qe("reincarnationChallenge",!1),i.autoChallengeTimerIncrement=0),a>=9&&e.coins.gte(Kt(a,e.challengecompletions[a],a))&&(Qe("reincarnationChallenge",!1),i.autoChallengeTimerIncrement=0),s!==0&&s<15&&e.challengecompletions[10]>=Kt(s,e.challengecompletions[s],s)&&(Qe("ascensionChallenge",!1),Rr(s,!0)),s===15&&e.coins.gte(Kt(s,e.challengecompletions[s],s))&&Qe("ascensionChallenge",!1)},nw=()=>{i.globalAntMult=new m(10),i.globalAntMult=i.globalAntMult.times(5),i.globalAntMult=i.globalAntMult.times(1+1/2500*Math.pow(i.rune5level*i.effectiveLevelMult*(1+e.researches[84]/200*(1+1*i.effectiveRuneSpiritPower[5]*yt()/400)),2)),e.upgrades[76]===1&&(i.globalAntMult=i.globalAntMult.times(5)),i.globalAntMult=i.globalAntMult.times(m.pow(1+e.upgrades[77]/250+e.researches[96]/5e3+e.cubeUpgrades[65]/250,e.firstOwnedAnts+e.secondOwnedAnts+e.thirdOwnedAnts+e.fourthOwnedAnts+e.fifthOwnedAnts+e.sixthOwnedAnts+e.seventhOwnedAnts+e.eighthOwnedAnts)),i.globalAntMult=i.globalAntMult.times(1+e.upgrades[78]*.005*Math.pow(Math.log10(e.maxofferings+1),2)),i.globalAntMult=i.globalAntMult.times(m.pow(1.11+e.researches[101]/1e3+e.researches[162]/1e4,e.antUpgrades[0]+i.bonusant1)),i.globalAntMult=i.globalAntMult.times(ba(e.antSacrificePoints)),i.globalAntMult=i.globalAntMult.times(m.pow(Math.max(1,e.researchPoints),i.effectiveRuneBlessingPower[5])),i.globalAntMult=i.globalAntMult.times(m.pow(1+i.runeSum/100,i.talisman6Power)),i.globalAntMult=i.globalAntMult.times(m.pow(1.1,z("reincarnation",e.challengecompletions[9]))),i.globalAntMult=i.globalAntMult.times(i.cubeBonusMultiplier[6]),e.achievements[169]===1&&(i.globalAntMult=i.globalAntMult.times(m.log(e.antPoints.add(10),10))),e.achievements[171]===1&&(i.globalAntMult=i.globalAntMult.times(1.16666)),e.achievements[172]===1&&(i.globalAntMult=i.globalAntMult.times(1+2*(1-Math.pow(2,-Math.min(1,e.reincarnationcounter/7200))))),e.upgrades[39]===1&&(i.globalAntMult=i.globalAntMult.times(1.6)),i.globalAntMult=i.globalAntMult.times(m.pow(1+.1*m.log(e.ascendShards.add(1),10),e.constantUpgrades[5])),i.globalAntMult=i.globalAntMult.times(m.pow(1e5,z("ascension",e.challengecompletions[11]))),e.researches[147]>0&&(i.globalAntMult=i.globalAntMult.times(m.log(e.antPoints.add(10),10))),e.researches[177]>0&&(i.globalAntMult=i.globalAntMult.times(m.pow(m.log(e.antPoints.add(10),10),e.researches[177]))),e.currentChallenge.ascension===12&&(i.globalAntMult=m.pow(i.globalAntMult,.5)),e.currentChallenge.ascension===13&&(i.globalAntMult=m.pow(i.globalAntMult,.23)),e.currentChallenge.ascension===14&&(i.globalAntMult=m.pow(i.globalAntMult,.2)),e.currentChallenge.ascension!==15?i.globalAntMult=m.pow(i.globalAntMult,1-.9/90*Math.min(99,xe(e.usedCorruptions))):i.globalAntMult=m.pow(i.globalAntMult,.01),i.globalAntMult=m.pow(i.globalAntMult,i.extinctionMultiplier[e.usedCorruptions[7]]),i.globalAntMult=i.globalAntMult.times(i.challenge15Rewards.antSpeed),i.globalAntMult=i.globalAntMult.times(m.pow(1.2,e.shopUpgrades.antSpeed)),e.platonicUpgrades[12]>0&&(i.globalAntMult=i.globalAntMult.times(m.pow(1+1/100*e.platonicUpgrades[12],xe(e.highestchallengecompletions)))),e.currentChallenge.ascension===15&&e.platonicUpgrades[10]>0&&(i.globalAntMult=m.pow(i.globalAntMult,1.25)),e.achievements[274]>0&&(i.globalAntMult=i.globalAntMult.times(4.44)),e.usedCorruptions[7]>=14&&(i.globalAntMult=m.pow(i.globalAntMult,.02)),e.usedCorruptions[7]>=15&&(i.globalAntMult=m.pow(i.globalAntMult,.02)),e.usedCorruptions[7]>=16&&(i.globalAntMult=m.pow(i.globalAntMult,.02)),e.octeractUpgrades.octeractStarter.getEffect().bonus&&(i.globalAntMult=i.globalAntMult.times(1e5)),e.highestSingularityCount>=30&&(i.globalAntMult=i.globalAntMult.times(1e3)),e.highestSingularityCount>=70&&(i.globalAntMult=i.globalAntMult.times(1e3)),e.highestSingularityCount>=100&&(i.globalAntMult=i.globalAntMult.times(1e6))},aw=t=>{nw(),i.antEightProduce=e.eighthGeneratedAnts.add(e.eighthOwnedAnts).times(e.eighthProduceAnts).times(i.globalAntMult),i.antSevenProduce=e.seventhGeneratedAnts.add(e.seventhOwnedAnts).times(e.seventhProduceAnts).times(i.globalAntMult),i.antSixProduce=e.sixthGeneratedAnts.add(e.sixthOwnedAnts).times(e.sixthProduceAnts).times(i.globalAntMult),i.antFiveProduce=e.fifthGeneratedAnts.add(e.fifthOwnedAnts).times(e.fifthProduceAnts).times(i.globalAntMult),i.antFourProduce=e.fourthGeneratedAnts.add(e.fourthOwnedAnts).times(e.fourthProduceAnts).times(i.globalAntMult),i.antThreeProduce=e.thirdGeneratedAnts.add(e.thirdOwnedAnts).times(e.thirdProduceAnts).times(i.globalAntMult),i.antTwoProduce=e.secondGeneratedAnts.add(e.secondOwnedAnts).times(e.secondProduceAnts).times(i.globalAntMult),i.antOneProduce=e.firstGeneratedAnts.add(e.firstOwnedAnts).times(e.firstProduceAnts).times(i.globalAntMult),e.seventhGeneratedAnts=e.seventhGeneratedAnts.add(i.antEightProduce.times(t/1)),e.sixthGeneratedAnts=e.sixthGeneratedAnts.add(i.antSevenProduce.times(t/1)),e.fifthGeneratedAnts=e.fifthGeneratedAnts.add(i.antSixProduce.times(t/1)),e.fourthGeneratedAnts=e.fourthGeneratedAnts.add(i.antFiveProduce.times(t/1)),e.thirdGeneratedAnts=e.thirdGeneratedAnts.add(i.antFourProduce.times(t/1)),e.secondGeneratedAnts=e.secondGeneratedAnts.add(i.antThreeProduce.times(t/1)),e.firstGeneratedAnts=e.firstGeneratedAnts.add(i.antTwoProduce.times(t/1)),e.antPoints=e.antPoints.add(i.antOneProduce.times(t/1))},sw=()=>{let t=.5+z("transcend",e.challengecompletions[5])/100,r=.03;e.currentChallenge.transcension===5&&(t=.01/(1+e.challengecompletions[5]),r=.001),e.currentChallenge.reincarnation===10&&(t=1e-4/(1+e.challengecompletions[10]),r=.001),t*=i.deflationMultiplier[e.usedCorruptions[6]],i.prestigePointGain=m.floor(m.pow(e.coinsThisPrestige.dividedBy(1e12),t)),e.upgrades[16]>.5&&e.currentChallenge.transcension!==5&&e.currentChallenge.reincarnation!==10&&(i.prestigePointGain=i.prestigePointGain.times(m.min(m.pow(10,1e33),m.pow(i.acceleratorEffect,1/3*i.deflationMultiplier[e.usedCorruptions[6]])))),i.transcendPointGain=m.floor(m.pow(e.coinsThisTranscension.dividedBy(1e100),r)),e.upgrades[44]>.5&&e.currentChallenge.transcension!==5&&e.currentChallenge.reincarnation!==10&&(i.transcendPointGain=i.transcendPointGain.times(m.min(1e6,m.pow(1.01,e.transcendCount)))),i.reincarnationPointGain=m.floor(m.pow(e.transcendShards.dividedBy(1e300),.01)),e.currentChallenge.reincarnation!==0&&(i.reincarnationPointGain=m.pow(i.reincarnationPointGain,.01)),e.achievements[50]===1&&(i.reincarnationPointGain=i.reincarnationPointGain.times(2)),e.upgrades[65]>.5&&(i.reincarnationPointGain=i.reincarnationPointGain.times(5)),e.currentChallenge.ascension===12&&(i.reincarnationPointGain=new m("0"))},Qe=async(t,r=!0,n=!1)=>{if(t==="prestige"&&(e.coinsThisPrestige.gte(1e16)||i.prestigePointGain.gte(100))&&(r?Dc("prestige"):(Ft(1),Fe("prestige"))),t==="transcension"&&(e.coinsThisTranscension.gte(1e100)||i.transcendPointGain.gte(.5))&&e.currentChallenge.transcension===0&&(r&&Dc("transcend"),r||(Ft(2),Fe("transcension"))),t==="transcensionChallenge"&&e.currentChallenge.transcension!==0){let a=e.currentChallenge.transcension,s=lt(a),o=c=>e.coinsThisTranscension.gte(Kt(a,c,a));if(o(e.challengecompletions[a])&&e.challengecompletions[a]<s){let c=1;e.shopUpgrades.instantChallenge>0&&(c=10),e.shopUpgrades.instantChallenge2>0&&(c+=e.highestSingularityCount),e.currentChallenge.ascension===13&&(c=1);let p=0,f=e.challengecompletions[a];for(;p<c;)o(f)&&f<s&&f++,p++;e.challengecompletions[a]=f,Pt(a,!1),tn(a)}if(e.challengecompletions[a]>e.highestchallengecompletions[a]){for(;e.challengecompletions[a]>e.highestchallengecompletions[a];)e.highestchallengecompletions[a]+=1,Sp(a,e.highestchallengecompletions[a]);sr()}Rr(a),(!e.retrychallenges||r||e.autoChallengeRunning&&e.challengecompletions[a]>=s)&&(Or("ENTER"),e.currentChallenge.transcension=0,Wr()),(e.shopUpgrades.instantChallenge===0||n)&&(Fe("transcensionChallenge",!1,"leaveChallenge"),e.transcendCount-=1)}if(t==="reincarnation"&&i.reincarnationPointGain.gt(.5)&&e.currentChallenge.transcension===0&&e.currentChallenge.reincarnation===0&&(r&&Dc("reincarnate"),r||(Ft(3),Fe("reincarnation"))),t==="reincarnationChallenge"&&e.currentChallenge.reincarnation!==0){let a=e.currentChallenge.reincarnation,s=lt(a),o=c=>a<=8?e.transcendShards.gte(Kt(a,c,a)):e.coins.gte(Kt(a,c,a));if(o(e.challengecompletions[a])&&e.challengecompletions[a]<s){let c=1;e.shopUpgrades.instantChallenge>0&&(c=10),e.shopUpgrades.instantChallenge2>0&&(c+=e.highestSingularityCount),e.currentChallenge.ascension===13&&(c=1);let p=0,f=e.challengecompletions[a];for(;p<c;)o(f)&&f<s&&f++,p++;e.challengecompletions[a]=f,Pt(a,!1),tn(a)}if(e.challengecompletions[a]>e.highestchallengecompletions[a]){for(;e.challengecompletions[a]>e.highestchallengecompletions[a];)e.highestchallengecompletions[a]+=1,Sp(a,e.highestchallengecompletions[a]);Oa(),Ua(),sr()}if(Rr(a),!e.retrychallenges||r||e.autoChallengeRunning&&e.challengecompletions[a]>=s){if(Or("ENTER"),e.currentChallenge.reincarnation=0,e.shopUpgrades.instantChallenge>0)for(let c=1;c<=5;c++)e.challengecompletions[c]=e.highestchallengecompletions[c];Wr(),at(),er()}(e.shopUpgrades.instantChallenge===0||n)&&(Fe("reincarnationChallenge",!1,"leaveChallenge"),e.reincarnationCount-=1)}if(t==="ascension"&&e.achievements[141]>0&&(!e.toggles[31]||e.challengecompletions[10]>0)&&r&&Dc("ascend"),t==="ascensionChallenge"&&e.currentChallenge.ascension!==0){let a=!0;if(r&&(e.challengecompletions[11]===0||e.toggles[31])&&(a=await Ne(u.t("main.exitAscensionChallenge"))),!a)return;let s=e.currentChallenge.ascension,o=lt(s);if(s!==0&&s<15&&(e.challengecompletions[10]>=Kt(s,e.challengecompletions[s],s)&&e.challengecompletions[s]<o&&(e.challengecompletions[s]+=1,tn(s),Pt(s,!1)),Rr(s,!0)),s===15){let c=ci();e.coins.gte(Kt(s,e.challengecompletions[s],s))&&e.challengecompletions[s]<o&&(e.challengecompletions[s]+=1,tn(s),Pt(s,!1)),(r||n||e.shopUpgrades.challenge15Auto>0)&&e.usedCorruptions.slice(2,10).every(p=>p===11)&&e.coins.gte(m.pow(10,e.challenge15Exponent/c))&&(e.challenge15Exponent=m.log(e.coins.add(1),10)*c,Yl())}e.challengecompletions[s]>e.highestchallengecompletions[s]&&(e.highestchallengecompletions[s]+=1,e.wowHypercubes.add(1),e.highestchallengecompletions[s]>=o&&(n=!0)),(!e.retrychallenges||r||n)&&(!r&&(_i()||!e.autoChallengeRunning)&&e.autoAscend&&e.challengecompletions[11]>0&&e.cubeUpgrades[10]>0||(e.currentChallenge.ascension=0,Wr())),(e.shopUpgrades.instantChallenge2===0&&s!==15||r)&&Fe("ascensionChallenge",!1)}if(t==="singularity"){if(e.runelevels[6]===0)return B(u.t("main.noAntiquity"));let a=300;if(e.insideSingularityChallenge)return B(u.t("main.insideSingularityChallenge"));if(e.singularityCount>=a)return B(u.t("main.gameBeat"));let s=!1,o=e.singularityCount+1+Ga();return!e.toggles[33]&&e.singularityCount>0?s=await Ne(u.t("main.singularityConfirm0",{x:d(o),y:d(pr(),2,!0)})):(await B(u.t("main.singularityMessage1",{x:d(e.singularityCount)})),await B(u.t("main.singularityMessage2")),await B(u.t("main.singularityMessage3")),await B(u.t("main.singularityMessage4",{x:d(o),y:d(pr(),2,!0),z:d(vr())})),await B(u.t("main.singularityMessage5")),s=await Ne(u.t("main.singularityConfirm1")),s&&(s=await Ne(u.t("main.singularityConfirm2"))),s&&(s=await Ne(u.t("main.singularityConfirm3")))),s?(await zs(),await Ir(),B(u.t("main.welcomeToSingularity",{x:d(e.singularityCount)}))):B(u.t("main.singularityCancelled"))}},Dc=async t=>{t==="prestige"&&(e.toggles[28]?await Ne(u.t("main.prestigePrompt"))&&(Ft(1),Fe("prestige")):(Ft(1),Fe("prestige"))),t==="transcend"&&(e.toggles[29]?await Ne(u.t("main.transcendPrompt"))&&(Ft(2),Fe("transcension")):(Ft(2),Fe("transcension"))),t==="reincarnate"&&e.currentChallenge.ascension!==12&&(e.toggles[30]?await Ne(u.t("main.reincarnatePrompt"))&&(Ft(3),Fe("reincarnation")):(Ft(3),Fe("reincarnation"))),t==="ascend"&&(!e.toggles[31]||await Ne(u.t("main.ascendPrompt")))&&Fe("ascension")},Td=()=>{i.effectiveLevelMult=1,i.effectiveLevelMult*=1+e.researches[4]/10*(1+1/2*z("ascension",e.challengecompletions[14])),i.effectiveLevelMult*=1+e.researches[21]/100,i.effectiveLevelMult*=1+e.researches[90]/100,i.effectiveLevelMult*=1+e.researches[131]/200,i.effectiveLevelMult*=1+e.researches[161]/200*3/5,i.effectiveLevelMult*=1+e.researches[176]/200*2/5,i.effectiveLevelMult*=1+e.researches[191]/200*1/5,i.effectiveLevelMult*=1+e.researches[146]/200*4/5,i.effectiveLevelMult*=1+.01*Math.log(e.talismanShards+1)/Math.log(4)*Math.min(1,e.constantUpgrades[9]),i.effectiveLevelMult*=i.challenge15Rewards.runeBonus},bi=()=>{i.uFourteenMulti=new m(1),i.uFifteenMulti=new m(1),e.upgrades[14]>.5&&(i.uFourteenMulti=m.pow(1.15,i.freeAccelerator)),e.upgrades[15]>.5&&(i.uFifteenMulti=m.pow(1.15,i.freeAccelerator)),!e.unlocks.coinone&&e.coins.gte(500)&&(e.unlocks.coinone=!0,Ve()),!e.unlocks.cointwo&&e.coins.gte(1e4)&&(e.unlocks.cointwo=!0,Ve()),!e.unlocks.cointhree&&e.coins.gte(1e5)&&(e.unlocks.cointhree=!0,Ve()),!e.unlocks.coinfour&&e.coins.gte(4e6)&&(e.unlocks.coinfour=!0,Ve()),e.achievements[169]===0&&e.antPoints.gte(3)&&F(169),e.achievements[170]===0&&e.antPoints.gte(1e5)&&F(170),e.achievements[171]===0&&e.antPoints.gte(666666666)&&F(171),e.achievements[172]===0&&e.antPoints.gte(1e20)&&F(172),e.achievements[173]===0&&e.antPoints.gte(1e40)&&F(173),e.achievements[174]===0&&e.antPoints.gte("1e500")&&F(174),e.achievements[175]===0&&e.antPoints.gte("1e2500")&&F(175),e.researches[200]>=1e5&&e.achievements[250]<1&&F(250),e.cubeUpgrades[50]>=1e5&&e.achievements[251]<1&&F(251),gg(),e.toggles[1]&&e.upgrades[81]===1&&e.coins.gte(e.firstCostCoin)&&Rt(1,"Coin"),e.toggles[2]&&e.upgrades[82]===1&&e.coins.gte(e.secondCostCoin)&&Rt(2,"Coin"),e.toggles[3]&&e.upgrades[83]===1&&e.coins.gte(e.thirdCostCoin)&&Rt(3,"Coin"),e.toggles[4]&&e.upgrades[84]===1&&e.coins.gte(e.fourthCostCoin)&&Rt(4,"Coin"),e.toggles[5]&&e.upgrades[85]===1&&e.coins.gte(e.fifthCostCoin)&&Rt(5,"Coin"),e.toggles[6]&&e.upgrades[86]===1&&e.coins.gte(e.acceleratorCost)&&oo(!0),e.toggles[7]&&e.upgrades[87]===1&&e.coins.gte(e.multiplierCost)&&io(!0),e.toggles[8]&&e.upgrades[88]===1&&e.prestigePoints.gte(e.acceleratorBoostCost)&&bs(!0),e.toggles[10]&&e.achievements[78]===1&&e.prestigePoints.gte(e.firstCostDiamonds)&&Rt(1,"Diamonds"),e.toggles[11]&&e.achievements[85]===1&&e.prestigePoints.gte(e.secondCostDiamonds)&&Rt(2,"Diamonds"),e.toggles[12]&&e.achievements[92]===1&&e.prestigePoints.gte(e.thirdCostDiamonds)&&Rt(3,"Diamonds"),e.toggles[13]&&e.achievements[99]===1&&e.prestigePoints.gte(e.fourthCostDiamonds)&&Rt(4,"Diamonds"),e.toggles[14]&&e.achievements[106]===1&&e.prestigePoints.gte(e.fifthCostDiamonds)&&Rt(5,"Diamonds"),Td();let t=0;if(t+=Math.floor(i.rune3level/16*i.effectiveLevelMult)*100/100,e.upgrades[73]>.5&&e.currentChallenge.reincarnation!==0&&(t+=10),e.achievements[79]>.5&&e.prestigeShards.gte(m.pow(10,i.crystalUpgradesCost[0]+i.crystalUpgradeCostIncrement[0]*Math.floor(Math.pow(e.crystalUpgrades[0]-.5-t,2)/2)))&&gr(1,!0),e.achievements[86]>.5&&e.prestigeShards.gte(m.pow(10,i.crystalUpgradesCost[1]+i.crystalUpgradeCostIncrement[1]*Math.floor(Math.pow(e.crystalUpgrades[1]-.5-t,2)/2)))&&gr(2,!0),e.achievements[93]>.5&&e.prestigeShards.gte(m.pow(10,i.crystalUpgradesCost[2]+i.crystalUpgradeCostIncrement[2]*Math.floor(Math.pow(e.crystalUpgrades[2]-.5-t,2)/2)))&&gr(3,!0),e.achievements[100]>.5&&e.prestigeShards.gte(m.pow(10,i.crystalUpgradesCost[3]+i.crystalUpgradeCostIncrement[3]*Math.floor(Math.pow(e.crystalUpgrades[3]-.5-t,2)/2)))&&gr(4,!0),e.achievements[107]>.5&&e.prestigeShards.gte(m.pow(10,i.crystalUpgradesCost[4]+i.crystalUpgradeCostIncrement[4]*Math.floor(Math.pow(e.crystalUpgrades[4]-.5-t,2)/2)))&&gr(5,!0),e.toggles[16]&&e.upgrades[94]===1&&e.transcendPoints.gte(e.firstCostMythos)&&Rt(1,"Mythos"),e.toggles[17]&&e.upgrades[95]===1&&e.transcendPoints.gte(e.secondCostMythos)&&Rt(2,"Mythos"),e.toggles[18]&&e.upgrades[96]===1&&e.transcendPoints.gte(e.thirdCostMythos)&&Rt(3,"Mythos"),e.toggles[19]&&e.upgrades[97]===1&&e.transcendPoints.gte(e.fourthCostMythos)&&Rt(4,"Mythos"),e.toggles[20]&&e.upgrades[98]===1&&e.transcendPoints.gte(e.fifthCostMythos)&&Rt(5,"Mythos"),e.toggles[22]&&e.cubeUpgrades[7]===1&&e.reincarnationPoints.gte(e.firstCostParticles)&&qn(1,!0),e.toggles[23]&&e.cubeUpgrades[7]===1&&e.reincarnationPoints.gte(e.secondCostParticles)&&qn(2,!0),e.toggles[24]&&e.cubeUpgrades[7]===1&&e.reincarnationPoints.gte(e.thirdCostParticles)&&qn(3,!0),e.toggles[25]&&e.cubeUpgrades[7]===1&&e.reincarnationPoints.gte(e.fourthCostParticles)&&qn(4,!0),e.toggles[26]&&e.cubeUpgrades[7]===1&&e.reincarnationPoints.gte(e.fifthCostParticles)&&qn(5,!0),e.researches[175]>0)for(let c=1;c<=10;c++)e.ascendShards.gte(Ho(c).pop())&&Fo(c,!0);if(e.researches[190]>0&&e.tesseractAutoBuyerToggle===1&&e.resettoggle4<2){let c=[null,null,null,null,null];for(let g=1;g<=5;g++)e.autoTesseracts[g]&&(c[g-1]=e[`ascendBuilding${g}`].owned);let p=Number(e.wowTesseracts)-e.tesseractAutoBuyerAmount,f=dc(c,p);for(let g=5;g>=1;g--){let h=c[g-1],b=f[g-1];h!==null&&b!==null&&b!==h&&ms(g,b-h)}}if(e.researches[130]>0||e.researches[135]>0){let c=[e.achievements[119]>0,e.achievements[126]>0,e.achievements[133]>0,e.achievements[140]>0,e.achievements[147]>0,e.antUpgrades[11]>0||e.ascensionCount>0,Pc()],p=!1;if(e.autoEnhanceToggle&&e.researches[135]>0)for(let f=0;f<c.length;++f)c[f]&&e.talismanRarity[f]<6&&(p=Dl(f,!0)||p);if(e.autoFortifyToggle&&e.researches[130]>0)for(let f=0;f<c.length;++f){let g=ei(f);c[f]&&e.talismanLevels[f]<g&&(p=$l(f,!0)||p)}p&&(fr(),at())}e.upgrades[101]>.5&&(e.fourthGeneratedCoin=e.fourthGeneratedCoin.add(e.fifthGeneratedCoin.add(e.fifthOwnedCoin).times(i.uFifteenMulti).times(i.generatorPower))),e.upgrades[102]>.5&&(e.thirdGeneratedCoin=e.thirdGeneratedCoin.add(e.fourthGeneratedCoin.add(e.fourthOwnedCoin).times(i.uFourteenMulti).times(i.generatorPower))),e.upgrades[103]>.5&&(e.secondGeneratedCoin=e.secondGeneratedCoin.add(e.thirdGeneratedCoin.add(e.thirdOwnedCoin).times(i.generatorPower))),e.upgrades[104]>.5&&(e.firstGeneratedCoin=e.firstGeneratedCoin.add(e.secondGeneratedCoin.add(e.secondOwnedCoin).times(i.generatorPower))),e.upgrades[105]>.5&&(e.fifthGeneratedCoin=e.fifthGeneratedCoin.add(e.firstOwnedCoin));let r=1;r+=1/100*(e.achievements[71]+e.achievements[72]+e.achievements[73]+e.achievements[74]+e.achievements[75]+e.achievements[76]+e.achievements[77]);let n=0;e.upgrades[106]>.5&&(n+=.1),e.upgrades[107]>.5&&(n+=.15),e.upgrades[108]>.5&&(n+=.25),e.upgrades[109]>.5&&(n+=.25),e.upgrades[110]>.5&&(n+=.25),n*=r;let a=0;if(e.upgrades[111]>.5&&(a+=.08),e.upgrades[112]>.5&&(a+=.08),e.upgrades[113]>.5&&(a+=.08),e.upgrades[114]>.5&&(a+=.08),e.upgrades[115]>.5&&(a+=.08),a*=r,t=0,e.upgrades[116]>.5&&(t+=.05),e.upgrades[117]>.5&&(t+=.05),e.upgrades[118]>.5&&(t+=.05),e.upgrades[119]>.5&&(t+=.05),e.upgrades[120]>.5&&(t+=.05),t*=r,n!==0&&(e.fifthGeneratedCoin=e.fifthGeneratedCoin.add(m.pow(e.firstGeneratedDiamonds.add(e.firstOwnedDiamonds).add(1),n))),a!==0&&(e.fifthGeneratedDiamonds=e.fifthGeneratedDiamonds.add(m.pow(e.firstGeneratedMythos.add(e.firstOwnedMythos).add(1),a))),t!==0&&(e.fifthGeneratedMythos=e.fifthGeneratedMythos.add(m.pow(e.firstGeneratedParticles.add(e.firstOwnedParticles).add(1),t))),e.runeshards>e.maxofferings&&(e.maxofferings=e.runeshards),e.researchPoints>e.maxobtainium&&(e.maxobtainium=e.researchPoints),isNaN(e.runeshards)&&(e.runeshards=0),e.runeshards>1e300&&(e.runeshards=1e300),isNaN(e.researchPoints)&&(e.researchPoints=0),e.researchPoints>1e300&&(e.researchPoints=1e300),i.optimalOfferingTimer=600+30*e.researches[85]+.4*i.rune5level+120*e.shopUpgrades.offeringEX,i.optimalObtainiumTimer=3600+120*e.shopUpgrades.obtainiumEX,Wh(),e.autoAscend&&e.challengecompletions[11]>0&&e.cubeUpgrades[10]>0&&e.currentChallenge.reincarnation!==10){let c=!1;if(e.autoAscendMode==="c10Completions"&&e.challengecompletions[10]>=Math.max(1,e.autoAscendThreshold)&&(c=!0),e.autoAscendMode==="realAscensionTime"&&e.ascensionCounterRealReal>=Math.max(.1,e.autoAscendThreshold)&&(c=!0),c&&e.challengecompletions[10]>0)if(_i()&&e.currentChallenge.ascension!==0&&e.retrychallenges&&e.researches[150]===1&&e.autoChallengeRunning){let p=Ni(e.currentChallenge.ascension+1,!1,11,15);p<=15&&e.currentChallenge.ascension!==p?(Qe("ascensionChallenge",!1,!0),e.currentChallenge.ascension=p,Fe("ascensionChallenge",!1)):(p=Ni(e.currentChallenge.ascension+1,!0,11,15),Qe("ascensionChallenge",!1,!0),e.currentChallenge.ascension=p<=15?p:0,Fe("ascensionChallenge",!1))}else e.currentChallenge.ascension!==0?(Qe("ascensionChallenge",!1,!0),Fe("ascensionChallenge",!1)):Fe("ascension",!1)}let s=null;if(e.researches[175]>0)for(let c=1;c<=10;c++)s=Ho(c),e.ascendShards.gte(s[1])&&Fo(c,!0);let o=fc();if(o!==i.prevReductionValue){i.prevReductionValue=o;let c=["Coin","Diamonds","Mythos"];for(let p=0;p<c.length;++p){let f=c[p];for(let g=0;g<5;++g){let h=i.ordinals[g];e[`${h}Cost${f}`]=fh(g+1,f,e[`${h}Owned${f}`]+1,o)}}for(let p=0;p<=4;p++){let f=[1,100,1e4,1e8,1e16],g=i.ordinals[p],h=e[`${g}OwnedParticles`]+1;e[`${g}CostParticles`]=new m(m.pow(2,h-1).times(m.pow(1.001,Math.max(0,h-325e3)*Math.max(0,h-325e3+1)/2))).times(f[p])}}if(e.shopUpgrades.challenge15Auto>0&&e.currentChallenge.ascension===15&&e.usedCorruptions.slice(2,10).every(c=>c===11)){let c=ci();e.coins.gte(m.pow(10,e.challenge15Exponent/c))&&(e.challenge15Exponent=m.log(e.coins.add(1),10)*c,Yl())}},ow=()=>{bi(),op()},iw=()=>{h0(),v0()},lw=()=>{rr(Ir,5e3),rr(iw,200),rr(ow,50),i.timeWarp||Co()},Ep=0,cw=()=>{Ep=performance.now(),rr(fw,5)},F0=5,uw=20,Gc=0,dw=new Date,pw=performance.now(),Vl=()=>dw.getTime()+(performance.now()-pw),fw=()=>{let r=performance.now()-Ep;Gc+=(r-Gc)/uw;let n;for(;r>5;)n=F0,n+=Gc>16?Math.min(3600*1e3,Gc-F0):0,n=Math.min(r,n),gw(n/1e3),Ep+=n,r-=n},gw=t=>{if(!i.timeWarp){let r=ot().mult;if(Mp(t*r),Xe("prestige",t),Xe("transcension",t),Xe("reincarnation",t),Xe("ascension",t),Xe("quarks",t),Xe("goldenQuarks",t),Xe("octeracts",t),Xe("singularity",t),Xe("autoPotion",t),Xe("ambrosia",t),e.shopUpgrades.offeringAuto>0&&e.autoSacrificeToggle&&Jr("runeSacrifice",t),e.achievements[173]===1&&Jr("antSacrifice",t),e.researches[61]===1?Jr("addObtainium",t):Zr(),e.autoResearchToggle&&e.autoResearch>0&&e.autoResearch<=pg(e)&&(or()||e.autoResearchMode==="manual")){let n=0,a=1+e.challengecompletions[14];for(;n<a&&e.autoResearch>0;){{let s=e.autoResearch===200?.01:0;if(!dn(e.autoResearch,!0,s))break}n++}}}if(e.highestchallengecompletions[3]>0&&Jr("addOfferings",t/2),e.cubeUpgrades[2]>0&&Jr("addOfferings",t*e.cubeUpgrades[2]),E0(t),(e.resettoggle1===1||e.resettoggle1===0)&&e.toggles[15]&&e.achievements[43]===1&&i.prestigePointGain.gte(e.prestigePoints.times(m.pow(10,e.prestigeamount)))&&e.coinsThisPrestige.gte(1e16)&&(Ft(1),Fe("prestige",!0)),e.resettoggle1===2){i.autoResetTimers.prestige+=t;let r=Math.max(.01,e.prestigeamount);e.toggles[15]&&e.achievements[43]===1&&i.autoResetTimers.prestige>=r&&e.coinsThisPrestige.gte(1e16)&&(Ft(1),Fe("prestige",!0))}if((e.resettoggle2===1||e.resettoggle2===0)&&e.toggles[21]&&e.upgrades[89]===1&&i.transcendPointGain.gte(e.transcendPoints.times(m.pow(10,e.transcendamount)))&&e.coinsThisTranscension.gte(1e100)&&e.currentChallenge.transcension===0&&(Ft(2),Fe("transcension",!0)),e.resettoggle2===2){i.autoResetTimers.transcension+=t;let r=Math.max(.01,e.transcendamount);e.toggles[21]&&e.upgrades[89]===1&&i.autoResetTimers.transcension>=r&&e.coinsThisTranscension.gte(1e100)&&e.currentChallenge.transcension===0&&(Ft(2),Fe("transcension",!0))}if(e.currentChallenge.ascension!==12){if(i.autoResetTimers.reincarnation+=t,e.resettoggle3===2){let r=Math.max(.01,e.reincarnationamount);e.toggles[27]&&e.researches[46]>.5&&e.transcendShards.gte("1e300")&&i.autoResetTimers.reincarnation>=r&&e.currentChallenge.transcension===0&&e.currentChallenge.reincarnation===0&&(Ft(3),Fe("reincarnation",!0))}(e.resettoggle3===1||e.resettoggle3===0)&&e.toggles[27]&&e.researches[46]>.5&&i.reincarnationPointGain.gte(e.reincarnationPoints.add(1).times(m.pow(10,e.reincarnationamount)))&&e.transcendShards.gte(1e300)&&e.currentChallenge.transcension===0&&e.currentChallenge.reincarnation===0&&(Ft(3),Fe("reincarnation",!0))}pn("reincarnation")},Ch=(t,r)=>{if(!e.toggles[40])return;let a={coin:"Coin",diamond:"Diamonds",mythos:"Mythos",particle:"Particles",tesseract:"Tesseracts"}[i.buildingSubTab];if(t.shiftKey){let s=Number(r)-1;r==="BACKQUOTE"&&(s=-1),e.challengecompletions[11]>0&&!isNaN(s)&&(s>=0&&s<e.corruptionLoadoutNames.length?(e.toggles[41]&&Nr(u.t("main.corruptionLoadoutApplied",{x:s+1,y:e.corruptionLoadoutNames[s]}),5e3),bo(!1,s+1)):(e.toggles[41]&&Nr(u.t("main.allCorruptionsZero"),5e3),bo(!1,0)),t.preventDefault());return}switch(r){case"1":case"2":case"3":case"4":case"5":{let s=Number(r);i.currentTab===0&&(a==="Particles"?qn(s):a==="Tesseracts"?ms(s):Rt(s,a)),i.currentTab===1&&Go(s,!1),i.currentTab===3&&(i.runescreen==="runes"&&ja(s),i.runescreen==="blessings"&&lo("Blessings",s),i.runescreen==="spirits"&&lo("Spirits",s)),i.currentTab===4&&(Ur(s),Pt(s));break}case"6":i.currentTab===1&&Go(6,!1),i.currentTab===0&&i.buildingSubTab==="diamond"&&gr(1),i.currentTab===4&&e.reincarnationCount>0&&(Ur(6),Pt(6));break;case"7":i.currentTab===0&&i.buildingSubTab==="diamond"&&gr(2),i.currentTab===4&&e.achievements[113]===1&&(Ur(7),Pt(7));break;case"8":i.currentTab===0&&i.buildingSubTab==="diamond"&&gr(3),i.currentTab===4&&e.achievements[120]===1&&(Ur(8),Pt(8));break;case"9":i.currentTab===0&&i.buildingSubTab==="diamond"&&gr(4),i.currentTab===4&&e.achievements[127]===1&&(Ur(9),Pt(9));break;case"0":i.currentTab===0&&i.buildingSubTab==="diamond"&&gr(5),i.currentTab===4&&e.achievements[134]===1&&(Ur(10),Pt(10));break}},mw=()=>{let t=l("exitOffline");t.style.visibility="visible",ri(()=>t.focus(),100)},Yd=async(t=!1)=>{var o,c,p;id();let r=ri(()=>l("preloadDeleteGame").style.display="block",1e4);mc(),await new Promise(f=>{ri(f,0)});let n=(o=await Di.default.getItem("Synergysave2"))!=null?o:localStorage.getItem("Synergysave2"),a=typeof n=="string"?n:await(n==null?void 0:n.text());if(a){let f=Q0.default.decompressFromBase64(a);if(f!==""){if(!f)return B(u.t("save.loadFailed"));let h=Ns(f);if(h===null)return B(u.t("save.loadFailed"));localStorage.clear();let b=new Blob([h],{type:"text/plain"});localStorage.setItem("Synergysave2",h),await Di.default.setItem("Synergysave2",b),await B(u.t("main.transferredFromLZ"))}await Y2()}if(!t)await yp();else if(e.singularityChallenges.limitedTime.rewards.preserveQuarks||e.worlds.reset(),Ei.canSave&&!await Ir())return;if(Hl(!0),tm(),Fl(),vd(),op(),cw(),hw()?(xn(10),B(u.t("general.exportYourGame"))):xn(0),Be(0,{page:0}),Be(3,{page:0}),Be(4,{page:0}),Be(7,{page:0}),Be(8,{page:0}),Be(9,{page:0}),Be(10,{page:0}),xp(),rr(xp,3e4),lw(),Mc(),ld().catch(()=>{}).finally(()=>{rr(()=>ld().catch(f=>{console.error(f)}),1e3*60*5)}),mw(),od(r),rr(Rc,15e3),localStorage.getItem("pleaseStar")===null&&(B(u.t("main.starRepo")),localStorage.setItem("pleaseStar","")),typeof((c=navigator.storage)==null?void 0:c.persist)=="function"&&typeof((p=navigator.storage)==null?void 0:p.persisted)=="function"){let f=await navigator.storage.persisted();f?console.log(`Storage is persistent! (persistent = ${f})`):await navigator.storage.persist()&&B(u.t("main.dataPersistent"))}let s=l("saveType");s.checked=localStorage.getItem("copyToClipboard")!==null};function hw(){return Date.now()-e.lastExportedSave>864e5*3}window.addEventListener("load",async()=>{await G0(),bm().catch(console.error);try{await d0()}catch(n){if(console.error(n),!await Ne("PseudoCoin bonuses weren't fetched, if you have purchased upgrades they will not take effect. Press OK to continue to the game without upgrades."))return}let t=l("versionnumber"),r=n=>`${n}`.padStart(2,"0");if(t instanceof HTMLElement){let n=isNaN(Yn.getTime())?"":` [Last Update: ${r(Yn.getHours())}:${r(Yn.getMinutes())} UTC ${r(Yn.getDate())}-${Yn.toLocaleString("en-us",{month:"short"})}-${Yn.getFullYear()}].`;t.textContent=`You're ${!1?"testing":"playing"} v${yr} - The Alternate Reality${n} ${!1?u.t("testing.saveInLive"):""}`}document.title=`Synergism v${yr}`,_0(),Yd(),p0(),Ac()});window.addEventListener("unload",()=>{window.scrollTo(0,0)});})();
/*! Bundled license information:

clipboard/dist/clipboard.js:
  (*!
   * clipboard.js v2.0.11
   * https://clipboardjs.com/
   *
   * Licensed MIT © Zeno Rocha
   *)

localforage/dist/localforage.js:
  (*!
      localForage -- Offline Storage, Improved
      Version 1.10.0
      https://localforage.github.io/localForage
      (c) 2013-2017 Mozilla, Apache License 2.0
  *)

@ungap/custom-elements/index.js:
  (*! (c) Andrea Giammarchi @webreflection ISC *)
  (*! (c) Andrea Giammarchi - ISC *)
*/
