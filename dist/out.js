(()=>{var ig=Object.create;var ys=Object.defineProperty,lg=Object.defineProperties,cg=Object.getOwnPropertyDescriptor,ug=Object.getOwnPropertyDescriptors,pg=Object.getOwnPropertyNames,yl=Object.getOwnPropertySymbols,gg=Object.getPrototypeOf,vl=Object.prototype.hasOwnProperty,dg=Object.prototype.propertyIsEnumerable;var bl=(t,n,r)=>n in t?ys(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r,We=(t,n)=>{for(var r in n||(n={}))vl.call(n,r)&&bl(t,r,n[r]);if(yl)for(var r of yl(n))dg.call(n,r)&&bl(t,r,n[r]);return t},Ha=(t,n)=>lg(t,ug(n));var jr=(t=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(t,{get:(n,r)=>(typeof require!="undefined"?require:n)[r]}):t)(function(t){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+t+'" is not supported')});var pr=(t,n)=>()=>(n||t((n={exports:{}}).exports,n),n.exports);var fg=(t,n,r,a)=>{if(n&&typeof n=="object"||typeof n=="function")for(let o of pg(n))!vl.call(t,o)&&o!==r&&ys(t,o,{get:()=>n[o],enumerable:!(a=cg(n,o))||a.enumerable});return t};var sn=(t,n,r)=>(r=t!=null?ig(gg(t)):{},fg(n||!t||!t.__esModule?ys(r,"default",{value:t,enumerable:!0}):r,t));var wl=pr((i0,Cl)=>{"use strict";Cl.exports=function(t,n,r){if(t==null||n==null)return t;var a=String(t),o=typeof n=="number"?n:parseInt(n,10);if(isNaN(o)||!isFinite(o))return a;var l=a.length;if(l>=o)return a;var c=r==null?"":String(r);c===""&&(c=" ");for(var g=o-l;c.length<g;)c+=c;var d=c.length>g?c.substr(0,g):c;return a+d}});var bs=pr((c0,Fa)=>{var xl=function(){var t=String.fromCharCode,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",a={};function o(c,g){if(!a[c]){a[c]={};for(var d=0;d<c.length;d++)a[c][c.charAt(d)]=d}return a[c][g]}var l={compressToBase64:function(c){if(c==null)return"";var g=l._compress(c,6,function(d){return n.charAt(d)});switch(g.length%4){default:case 0:return g;case 1:return g+"===";case 2:return g+"==";case 3:return g+"="}},decompressFromBase64:function(c){return c==null?"":c==""?null:l._decompress(c.length,32,function(g){return o(n,c.charAt(g))})},compressToUTF16:function(c){return c==null?"":l._compress(c,15,function(g){return t(g+32)})+" "},decompressFromUTF16:function(c){return c==null?"":c==""?null:l._decompress(c.length,16384,function(g){return c.charCodeAt(g)-32})},compressToUint8Array:function(c){for(var g=l.compress(c),d=new Uint8Array(g.length*2),m=0,h=g.length;m<h;m++){var y=g.charCodeAt(m);d[m*2]=y>>>8,d[m*2+1]=y%256}return d},decompressFromUint8Array:function(c){if(c==null)return l.decompress(c);for(var g=new Array(c.length/2),d=0,m=g.length;d<m;d++)g[d]=c[d*2]*256+c[d*2+1];var h=[];return g.forEach(function(y){h.push(t(y))}),l.decompress(h.join(""))},compressToEncodedURIComponent:function(c){return c==null?"":l._compress(c,6,function(g){return r.charAt(g)})},decompressFromEncodedURIComponent:function(c){return c==null?"":c==""?null:(c=c.replace(/ /g,"+"),l._decompress(c.length,32,function(g){return o(r,c.charAt(g))}))},compress:function(c){return l._compress(c,16,function(g){return t(g)})},_compress:function(c,g,d){if(c==null)return"";var m,h,y={},b={},w="",S="",k="",B=2,N=3,I=2,$=[],O=0,v=0,M;for(M=0;M<c.length;M+=1)if(w=c.charAt(M),Object.prototype.hasOwnProperty.call(y,w)||(y[w]=N++,b[w]=!0),S=k+w,Object.prototype.hasOwnProperty.call(y,S))k=S;else{if(Object.prototype.hasOwnProperty.call(b,k)){if(k.charCodeAt(0)<256){for(m=0;m<I;m++)O=O<<1,v==g-1?(v=0,$.push(d(O)),O=0):v++;for(h=k.charCodeAt(0),m=0;m<8;m++)O=O<<1|h&1,v==g-1?(v=0,$.push(d(O)),O=0):v++,h=h>>1}else{for(h=1,m=0;m<I;m++)O=O<<1|h,v==g-1?(v=0,$.push(d(O)),O=0):v++,h=0;for(h=k.charCodeAt(0),m=0;m<16;m++)O=O<<1|h&1,v==g-1?(v=0,$.push(d(O)),O=0):v++,h=h>>1}B--,B==0&&(B=Math.pow(2,I),I++),delete b[k]}else for(h=y[k],m=0;m<I;m++)O=O<<1|h&1,v==g-1?(v=0,$.push(d(O)),O=0):v++,h=h>>1;B--,B==0&&(B=Math.pow(2,I),I++),y[S]=N++,k=String(w)}if(k!==""){if(Object.prototype.hasOwnProperty.call(b,k)){if(k.charCodeAt(0)<256){for(m=0;m<I;m++)O=O<<1,v==g-1?(v=0,$.push(d(O)),O=0):v++;for(h=k.charCodeAt(0),m=0;m<8;m++)O=O<<1|h&1,v==g-1?(v=0,$.push(d(O)),O=0):v++,h=h>>1}else{for(h=1,m=0;m<I;m++)O=O<<1|h,v==g-1?(v=0,$.push(d(O)),O=0):v++,h=0;for(h=k.charCodeAt(0),m=0;m<16;m++)O=O<<1|h&1,v==g-1?(v=0,$.push(d(O)),O=0):v++,h=h>>1}B--,B==0&&(B=Math.pow(2,I),I++),delete b[k]}else for(h=y[k],m=0;m<I;m++)O=O<<1|h&1,v==g-1?(v=0,$.push(d(O)),O=0):v++,h=h>>1;B--,B==0&&(B=Math.pow(2,I),I++)}for(h=2,m=0;m<I;m++)O=O<<1|h&1,v==g-1?(v=0,$.push(d(O)),O=0):v++,h=h>>1;for(;;)if(O=O<<1,v==g-1){$.push(d(O));break}else v++;return $.join("")},decompress:function(c){return c==null?"":c==""?null:l._decompress(c.length,32768,function(g){return c.charCodeAt(g)})},_decompress:function(c,g,d){var m=[],h,y=4,b=4,w=3,S="",k=[],B,N,I,$,O,v,M,A={val:d(0),position:g,index:1};for(B=0;B<3;B+=1)m[B]=B;for(I=0,O=Math.pow(2,2),v=1;v!=O;)$=A.val&A.position,A.position>>=1,A.position==0&&(A.position=g,A.val=d(A.index++)),I|=($>0?1:0)*v,v<<=1;switch(h=I){case 0:for(I=0,O=Math.pow(2,8),v=1;v!=O;)$=A.val&A.position,A.position>>=1,A.position==0&&(A.position=g,A.val=d(A.index++)),I|=($>0?1:0)*v,v<<=1;M=t(I);break;case 1:for(I=0,O=Math.pow(2,16),v=1;v!=O;)$=A.val&A.position,A.position>>=1,A.position==0&&(A.position=g,A.val=d(A.index++)),I|=($>0?1:0)*v,v<<=1;M=t(I);break;case 2:return""}for(m[3]=M,N=M,k.push(M);;){if(A.index>c)return"";for(I=0,O=Math.pow(2,w),v=1;v!=O;)$=A.val&A.position,A.position>>=1,A.position==0&&(A.position=g,A.val=d(A.index++)),I|=($>0?1:0)*v,v<<=1;switch(M=I){case 0:for(I=0,O=Math.pow(2,8),v=1;v!=O;)$=A.val&A.position,A.position>>=1,A.position==0&&(A.position=g,A.val=d(A.index++)),I|=($>0?1:0)*v,v<<=1;m[b++]=t(I),M=b-1,y--;break;case 1:for(I=0,O=Math.pow(2,16),v=1;v!=O;)$=A.val&A.position,A.position>>=1,A.position==0&&(A.position=g,A.val=d(A.index++)),I|=($>0?1:0)*v,v<<=1;m[b++]=t(I),M=b-1,y--;break;case 2:return k.join("")}if(y==0&&(y=Math.pow(2,w),w++),m[M])S=m[M];else if(M===b)S=N+N.charAt(0);else return null;k.push(S),m[b++]=N+S.charAt(0),y--,N=S,y==0&&(y=Math.pow(2,w),w++)}}};return l}();typeof define=="function"&&define.amd?define(function(){return xl}):typeof Fa<"u"&&Fa!=null&&(Fa.exports=xl)});var Ll=pr((y0,vs)=>{"use strict";var xg=Object.prototype.hasOwnProperty,tt="~";function Xr(){}Object.create&&(Xr.prototype=Object.create(null),new Xr().__proto__||(tt=!1));function Mg(t,n,r){this.fn=t,this.context=n,this.once=r||!1}function Pl(t,n,r,a,o){if(typeof r!="function")throw new TypeError("The listener must be a function");var l=new Mg(r,a||t,o),c=tt?tt+n:n;return t._events[c]?t._events[c].fn?t._events[c]=[t._events[c],l]:t._events[c].push(l):(t._events[c]=l,t._eventsCount++),t}function _a(t,n){--t._eventsCount===0?t._events=new Xr:delete t._events[n]}function Xe(){this._events=new Xr,this._eventsCount=0}Xe.prototype.eventNames=function(){var n=[],r,a;if(this._eventsCount===0)return n;for(a in r=this._events)xg.call(r,a)&&n.push(tt?a.slice(1):a);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(r)):n};Xe.prototype.listeners=function(n){var r=tt?tt+n:n,a=this._events[r];if(!a)return[];if(a.fn)return[a.fn];for(var o=0,l=a.length,c=new Array(l);o<l;o++)c[o]=a[o].fn;return c};Xe.prototype.listenerCount=function(n){var r=tt?tt+n:n,a=this._events[r];return a?a.fn?1:a.length:0};Xe.prototype.emit=function(n,r,a,o,l,c){var g=tt?tt+n:n;if(!this._events[g])return!1;var d=this._events[g],m=arguments.length,h,y;if(d.fn){switch(d.once&&this.removeListener(n,d.fn,void 0,!0),m){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,r),!0;case 3:return d.fn.call(d.context,r,a),!0;case 4:return d.fn.call(d.context,r,a,o),!0;case 5:return d.fn.call(d.context,r,a,o,l),!0;case 6:return d.fn.call(d.context,r,a,o,l,c),!0}for(y=1,h=new Array(m-1);y<m;y++)h[y-1]=arguments[y];d.fn.apply(d.context,h)}else{var b=d.length,w;for(y=0;y<b;y++)switch(d[y].once&&this.removeListener(n,d[y].fn,void 0,!0),m){case 1:d[y].fn.call(d[y].context);break;case 2:d[y].fn.call(d[y].context,r);break;case 3:d[y].fn.call(d[y].context,r,a);break;case 4:d[y].fn.call(d[y].context,r,a,o);break;default:if(!h)for(w=1,h=new Array(m-1);w<m;w++)h[w-1]=arguments[w];d[y].fn.apply(d[y].context,h)}}return!0};Xe.prototype.on=function(n,r,a){return Pl(this,n,r,a,!1)};Xe.prototype.once=function(n,r,a){return Pl(this,n,r,a,!0)};Xe.prototype.removeListener=function(n,r,a,o){var l=tt?tt+n:n;if(!this._events[l])return this;if(!r)return _a(this,l),this;var c=this._events[l];if(c.fn)c.fn===r&&(!o||c.once)&&(!a||c.context===a)&&_a(this,l);else{for(var g=0,d=[],m=c.length;g<m;g++)(c[g].fn!==r||o&&!c[g].once||a&&c[g].context!==a)&&d.push(c[g]);d.length?this._events[l]=d.length===1?d[0]:d:_a(this,l)}return this};Xe.prototype.removeAllListeners=function(n){var r;return n?(r=tt?tt+n:n,this._events[r]&&_a(this,r)):(this._events=new Xr,this._eventsCount=0),this};Xe.prototype.off=Xe.prototype.removeListener;Xe.prototype.addListener=Xe.prototype.on;Xe.prefixed=tt;Xe.EventEmitter=Xe;typeof vs<"u"&&(vs.exports=Xe)});var Oc=pr((yo,Ac)=>{(function(t,n){typeof yo=="object"&&typeof Ac<"u"?n(yo):typeof define=="function"&&define.amd?define(["exports"],n):(t=typeof globalThis<"u"?globalThis:t||self,n(t.fastUniqueNumbers={}))})(yo,function(t){"use strict";var n=function(b){return function(w){var S=b(w);return w.add(S),S}},r=function(b){return function(w,S){return b.set(w,S),S}},a=Number.MAX_SAFE_INTEGER===void 0?9007199254740991:Number.MAX_SAFE_INTEGER,o=536870912,l=o*2,c=function(b,w){return function(S){var k=w.get(S),B=k===void 0?S.size:k<l?k+1:0;if(!S.has(B))return b(S,B);if(S.size<o){for(;S.has(B);)B=Math.floor(Math.random()*l);return b(S,B)}if(S.size>a)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;S.has(B);)B=Math.floor(Math.random()*a);return b(S,B)}},g=new WeakMap,d=r(g),m=c(d,g),h=n(m);t.addUniqueNumber=h,t.generateUniqueNumber=m,Object.defineProperty(t,"__esModule",{value:!0})})});var bi=pr((uu,yi)=>{(function(t){if(typeof uu=="object"&&typeof yi<"u")yi.exports=t();else if(typeof define=="function"&&define.amd)define([],t);else{var n;typeof window<"u"?n=window:typeof global<"u"?n=global:typeof self<"u"?n=self:n=this,n.localforage=t()}})(function(){var t,n,r;return function a(o,l,c){function g(h,y){if(!l[h]){if(!o[h]){var b=typeof jr=="function"&&jr;if(!y&&b)return b(h,!0);if(d)return d(h,!0);var w=new Error("Cannot find module '"+h+"'");throw w.code="MODULE_NOT_FOUND",w}var S=l[h]={exports:{}};o[h][0].call(S.exports,function(k){var B=o[h][1][k];return g(B||k)},S,S.exports,a,o,l,c)}return l[h].exports}for(var d=typeof jr=="function"&&jr,m=0;m<c.length;m++)g(c[m]);return g}({1:[function(a,o,l){(function(c){"use strict";var g=c.MutationObserver||c.WebKitMutationObserver,d;if(g){var m=0,h=new g(k),y=c.document.createTextNode("");h.observe(y,{characterData:!0}),d=function(){y.data=m=++m%2}}else if(!c.setImmediate&&typeof c.MessageChannel<"u"){var b=new c.MessageChannel;b.port1.onmessage=k,d=function(){b.port2.postMessage(0)}}else"document"in c&&"onreadystatechange"in c.document.createElement("script")?d=function(){var N=c.document.createElement("script");N.onreadystatechange=function(){k(),N.onreadystatechange=null,N.parentNode.removeChild(N),N=null},c.document.documentElement.appendChild(N)}:d=function(){setTimeout(k,0)};var w,S=[];function k(){w=!0;for(var N,I,$=S.length;$;){for(I=S,S=[],N=-1;++N<$;)I[N]();$=S.length}w=!1}o.exports=B;function B(N){S.push(N)===1&&!w&&d()}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(a,o,l){"use strict";var c=a(1);function g(){}var d={},m=["REJECTED"],h=["FULFILLED"],y=["PENDING"];o.exports=b;function b(M){if(typeof M!="function")throw new TypeError("resolver must be a function");this.state=y,this.queue=[],this.outcome=void 0,M!==g&&B(this,M)}b.prototype.catch=function(M){return this.then(null,M)},b.prototype.then=function(M,A){if(typeof M!="function"&&this.state===h||typeof A!="function"&&this.state===m)return this;var F=new this.constructor(g);if(this.state!==y){var Y=this.state===h?M:A;S(F,Y,this.outcome)}else this.queue.push(new w(F,M,A));return F};function w(M,A,F){this.promise=M,typeof A=="function"&&(this.onFulfilled=A,this.callFulfilled=this.otherCallFulfilled),typeof F=="function"&&(this.onRejected=F,this.callRejected=this.otherCallRejected)}w.prototype.callFulfilled=function(M){d.resolve(this.promise,M)},w.prototype.otherCallFulfilled=function(M){S(this.promise,this.onFulfilled,M)},w.prototype.callRejected=function(M){d.reject(this.promise,M)},w.prototype.otherCallRejected=function(M){S(this.promise,this.onRejected,M)};function S(M,A,F){c(function(){var Y;try{Y=A(F)}catch(oe){return d.reject(M,oe)}Y===M?d.reject(M,new TypeError("Cannot resolve promise with itself")):d.resolve(M,Y)})}d.resolve=function(M,A){var F=N(k,A);if(F.status==="error")return d.reject(M,F.value);var Y=F.value;if(Y)B(M,Y);else{M.state=h,M.outcome=A;for(var oe=-1,te=M.queue.length;++oe<te;)M.queue[oe].callFulfilled(A)}return M},d.reject=function(M,A){M.state=m,M.outcome=A;for(var F=-1,Y=M.queue.length;++F<Y;)M.queue[F].callRejected(A);return M};function k(M){var A=M&&M.then;if(M&&(typeof M=="object"||typeof M=="function")&&typeof A=="function")return function(){A.apply(M,arguments)}}function B(M,A){var F=!1;function Y(ye){F||(F=!0,d.reject(M,ye))}function oe(ye){F||(F=!0,d.resolve(M,ye))}function te(){A(oe,Y)}var ue=N(te);ue.status==="error"&&Y(ue.value)}function N(M,A){var F={};try{F.value=M(A),F.status="success"}catch(Y){F.status="error",F.value=Y}return F}b.resolve=I;function I(M){return M instanceof this?M:d.resolve(new this(g),M)}b.reject=$;function $(M){var A=new this(g);return d.reject(A,M)}b.all=O;function O(M){var A=this;if(Object.prototype.toString.call(M)!=="[object Array]")return this.reject(new TypeError("must be an array"));var F=M.length,Y=!1;if(!F)return this.resolve([]);for(var oe=new Array(F),te=0,ue=-1,ye=new this(g);++ue<F;)Re(M[ue],ue);return ye;function Re(wt,Ve){A.resolve(wt).then(Je,function(pt){Y||(Y=!0,d.reject(ye,pt))});function Je(pt){oe[Ve]=pt,++te===F&&!Y&&(Y=!0,d.resolve(ye,oe))}}}b.race=v;function v(M){var A=this;if(Object.prototype.toString.call(M)!=="[object Array]")return this.reject(new TypeError("must be an array"));var F=M.length,Y=!1;if(!F)return this.resolve([]);for(var oe=-1,te=new this(g);++oe<F;)ue(M[oe]);return te;function ue(ye){A.resolve(ye).then(function(Re){Y||(Y=!0,d.resolve(te,Re))},function(Re){Y||(Y=!0,d.reject(te,Re))})}}},{"1":1}],3:[function(a,o,l){(function(c){"use strict";typeof c.Promise!="function"&&(c.Promise=a(2))}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"2":2}],4:[function(a,o,l){"use strict";var c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C};function g(C,T){if(!(C instanceof T))throw new TypeError("Cannot call a class as a function")}function d(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch(C){return}}var m=d();function h(){try{if(!m||!m.open)return!1;var C=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),T=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!C||T)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch(x){return!1}}function y(C,T){C=C||[],T=T||{};try{return new Blob(C,T)}catch(L){if(L.name!=="TypeError")throw L;for(var x=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,E=new x,U=0;U<C.length;U+=1)E.append(C[U]);return E.getBlob(T.type)}}typeof Promise>"u"&&a(3);var b=Promise;function w(C,T){T&&C.then(function(x){T(null,x)},function(x){T(x)})}function S(C,T,x){typeof T=="function"&&C.then(T),typeof x=="function"&&C.catch(x)}function k(C){return typeof C!="string"&&(console.warn(C+" used as a key, but it is not a string."),C=String(C)),C}function B(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var N="local-forage-detect-blob-support",I=void 0,$={},O=Object.prototype.toString,v="readonly",M="readwrite";function A(C){for(var T=C.length,x=new ArrayBuffer(T),E=new Uint8Array(x),U=0;U<T;U++)E[U]=C.charCodeAt(U);return x}function F(C){return new b(function(T){var x=C.transaction(N,M),E=y([""]);x.objectStore(N).put(E,"key"),x.onabort=function(U){U.preventDefault(),U.stopPropagation(),T(!1)},x.oncomplete=function(){var U=navigator.userAgent.match(/Chrome\/(\d+)/),L=navigator.userAgent.match(/Edge\//);T(L||!U||parseInt(U[1],10)>=43)}}).catch(function(){return!1})}function Y(C){return typeof I=="boolean"?b.resolve(I):F(C).then(function(T){return I=T,I})}function oe(C){var T=$[C.name],x={};x.promise=new b(function(E,U){x.resolve=E,x.reject=U}),T.deferredOperations.push(x),T.dbReady?T.dbReady=T.dbReady.then(function(){return x.promise}):T.dbReady=x.promise}function te(C){var T=$[C.name],x=T.deferredOperations.pop();if(x)return x.resolve(),x.promise}function ue(C,T){var x=$[C.name],E=x.deferredOperations.pop();if(E)return E.reject(T),E.promise}function ye(C,T){return new b(function(x,E){if($[C.name]=$[C.name]||re(),C.db)if(T)oe(C),C.db.close();else return x(C.db);var U=[C.name];T&&U.push(C.version);var L=m.open.apply(m,U);T&&(L.onupgradeneeded=function(Q){var _=L.result;try{_.createObjectStore(C.storeName),Q.oldVersion<=1&&_.createObjectStore(N)}catch(V){if(V.name==="ConstraintError")console.warn('The database "'+C.name+'" has been upgraded from version '+Q.oldVersion+" to version "+Q.newVersion+', but the storage "'+C.storeName+'" already exists.');else throw V}}),L.onerror=function(Q){Q.preventDefault(),E(L.error)},L.onsuccess=function(){var Q=L.result;Q.onversionchange=function(_){_.target.close()},x(Q),te(C)}})}function Re(C){return ye(C,!1)}function wt(C){return ye(C,!0)}function Ve(C,T){if(!C.db)return!0;var x=!C.db.objectStoreNames.contains(C.storeName),E=C.version<C.db.version,U=C.version>C.db.version;if(E&&(C.version!==T&&console.warn('The database "'+C.name+`" can't be downgraded from version `+C.db.version+" to version "+C.version+"."),C.version=C.db.version),U||x){if(x){var L=C.db.version+1;L>C.version&&(C.version=L)}return!0}return!1}function Je(C){return new b(function(T,x){var E=new FileReader;E.onerror=x,E.onloadend=function(U){var L=btoa(U.target.result||"");T({__local_forage_encoded_blob:!0,data:L,type:C.type})},E.readAsBinaryString(C)})}function pt(C){var T=A(atob(C.data));return y([T],{type:C.type})}function Yt(C){return C&&C.__local_forage_encoded_blob}function se(C){var T=this,x=T._initReady().then(function(){var E=$[T._dbInfo.name];if(E&&E.dbReady)return E.dbReady});return S(x,C,C),x}function J(C){oe(C);for(var T=$[C.name],x=T.forages,E=0;E<x.length;E++){var U=x[E];U._dbInfo.db&&(U._dbInfo.db.close(),U._dbInfo.db=null)}return C.db=null,Re(C).then(function(L){return C.db=L,Ve(C)?wt(C):L}).then(function(L){C.db=T.db=L;for(var Q=0;Q<x.length;Q++)x[Q]._dbInfo.db=L}).catch(function(L){throw ue(C,L),L})}function z(C,T,x,E){E===void 0&&(E=1);try{var U=C.db.transaction(C.storeName,T);x(null,U)}catch(L){if(E>0&&(!C.db||L.name==="InvalidStateError"||L.name==="NotFoundError"))return b.resolve().then(function(){if(!C.db||L.name==="NotFoundError"&&!C.db.objectStoreNames.contains(C.storeName)&&C.version<=C.db.version)return C.db&&(C.version=C.db.version+1),wt(C)}).then(function(){return J(C).then(function(){z(C,T,x,E-1)})}).catch(x);x(L)}}function re(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function ne(C){var T=this,x={db:null};if(C)for(var E in C)x[E]=C[E];var U=$[x.name];U||(U=re(),$[x.name]=U),U.forages.push(T),T._initReady||(T._initReady=T.ready,T.ready=se);var L=[];function Q(){return b.resolve()}for(var _=0;_<U.forages.length;_++){var V=U.forages[_];V!==T&&L.push(V._initReady().catch(Q))}var W=U.forages.slice(0);return b.all(L).then(function(){return x.db=U.db,Re(x)}).then(function(X){return x.db=X,Ve(x,T._defaultConfig.version)?wt(x):X}).then(function(X){x.db=U.db=X,T._dbInfo=x;for(var ee=0;ee<W.length;ee++){var pe=W[ee];pe!==T&&(pe._dbInfo.db=x.db,pe._dbInfo.version=x.version)}})}function ie(C,T){var x=this;C=k(C);var E=new b(function(U,L){x.ready().then(function(){z(x._dbInfo,v,function(Q,_){if(Q)return L(Q);try{var V=_.objectStore(x._dbInfo.storeName),W=V.get(C);W.onsuccess=function(){var X=W.result;X===void 0&&(X=null),Yt(X)&&(X=pt(X)),U(X)},W.onerror=function(){L(W.error)}}catch(X){L(X)}})}).catch(L)});return w(E,T),E}function P(C,T){var x=this,E=new b(function(U,L){x.ready().then(function(){z(x._dbInfo,v,function(Q,_){if(Q)return L(Q);try{var V=_.objectStore(x._dbInfo.storeName),W=V.openCursor(),X=1;W.onsuccess=function(){var ee=W.result;if(ee){var pe=ee.value;Yt(pe)&&(pe=pt(pe));var Ce=C(pe,ee.key,X++);Ce!==void 0?U(Ce):ee.continue()}else U()},W.onerror=function(){L(W.error)}}catch(ee){L(ee)}})}).catch(L)});return w(E,T),E}function Oe(C,T,x){var E=this;C=k(C);var U=new b(function(L,Q){var _;E.ready().then(function(){return _=E._dbInfo,O.call(T)==="[object Blob]"?Y(_.db).then(function(V){return V?T:Je(T)}):T}).then(function(V){z(E._dbInfo,M,function(W,X){if(W)return Q(W);try{var ee=X.objectStore(E._dbInfo.storeName);V===null&&(V=void 0);var pe=ee.put(V,C);X.oncomplete=function(){V===void 0&&(V=null),L(V)},X.onabort=X.onerror=function(){var Ce=pe.error?pe.error:pe.transaction.error;Q(Ce)}}catch(Ce){Q(Ce)}})}).catch(Q)});return w(U,x),U}function cr(C,T){var x=this;C=k(C);var E=new b(function(U,L){x.ready().then(function(){z(x._dbInfo,M,function(Q,_){if(Q)return L(Q);try{var V=_.objectStore(x._dbInfo.storeName),W=V.delete(C);_.oncomplete=function(){U()},_.onerror=function(){L(W.error)},_.onabort=function(){var X=W.error?W.error:W.transaction.error;L(X)}}catch(X){L(X)}})}).catch(L)});return w(E,T),E}function Ba(C){var T=this,x=new b(function(E,U){T.ready().then(function(){z(T._dbInfo,M,function(L,Q){if(L)return U(L);try{var _=Q.objectStore(T._dbInfo.storeName),V=_.clear();Q.oncomplete=function(){E()},Q.onabort=Q.onerror=function(){var W=V.error?V.error:V.transaction.error;U(W)}}catch(W){U(W)}})}).catch(U)});return w(x,C),x}function Fr(C){var T=this,x=new b(function(E,U){T.ready().then(function(){z(T._dbInfo,v,function(L,Q){if(L)return U(L);try{var _=Q.objectStore(T._dbInfo.storeName),V=_.count();V.onsuccess=function(){E(V.result)},V.onerror=function(){U(V.error)}}catch(W){U(W)}})}).catch(U)});return w(x,C),x}function wn(C,T){var x=this,E=new b(function(U,L){if(C<0){U(null);return}x.ready().then(function(){z(x._dbInfo,v,function(Q,_){if(Q)return L(Q);try{var V=_.objectStore(x._dbInfo.storeName),W=!1,X=V.openKeyCursor();X.onsuccess=function(){var ee=X.result;if(!ee){U(null);return}C===0||W?U(ee.key):(W=!0,ee.advance(C))},X.onerror=function(){L(X.error)}}catch(ee){L(ee)}})}).catch(L)});return w(E,T),E}function Qr(C){var T=this,x=new b(function(E,U){T.ready().then(function(){z(T._dbInfo,v,function(L,Q){if(L)return U(L);try{var _=Q.objectStore(T._dbInfo.storeName),V=_.openKeyCursor(),W=[];V.onsuccess=function(){var X=V.result;if(!X){E(W);return}W.push(X.key),X.continue()},V.onerror=function(){U(V.error)}}catch(X){U(X)}})}).catch(U)});return w(x,C),x}function Ra(C,T){T=B.apply(this,arguments);var x=this.config();C=typeof C!="function"&&C||{},C.name||(C.name=C.name||x.name,C.storeName=C.storeName||x.storeName);var E=this,U;if(!C.name)U=b.reject("Invalid arguments");else{var L=C.name===x.name&&E._dbInfo.db,Q=L?b.resolve(E._dbInfo.db):Re(C).then(function(_){var V=$[C.name],W=V.forages;V.db=_;for(var X=0;X<W.length;X++)W[X]._dbInfo.db=_;return _});C.storeName?U=Q.then(function(_){if(!!_.objectStoreNames.contains(C.storeName)){var V=_.version+1;oe(C);var W=$[C.name],X=W.forages;_.close();for(var ee=0;ee<X.length;ee++){var pe=X[ee];pe._dbInfo.db=null,pe._dbInfo.version=V}var Ce=new b(function(xe,Ie){var Ue=m.open(C.name,V);Ue.onerror=function(xt){var qr=Ue.result;qr.close(),Ie(xt)},Ue.onupgradeneeded=function(){var xt=Ue.result;xt.deleteObjectStore(C.storeName)},Ue.onsuccess=function(){var xt=Ue.result;xt.close(),xe(xt)}});return Ce.then(function(xe){W.db=xe;for(var Ie=0;Ie<X.length;Ie++){var Ue=X[Ie];Ue._dbInfo.db=xe,te(Ue._dbInfo)}}).catch(function(xe){throw(ue(C,xe)||b.resolve()).catch(function(){}),xe})}}):U=Q.then(function(_){oe(C);var V=$[C.name],W=V.forages;_.close();for(var X=0;X<W.length;X++){var ee=W[X];ee._dbInfo.db=null}var pe=new b(function(Ce,xe){var Ie=m.deleteDatabase(C.name);Ie.onerror=function(){var Ue=Ie.result;Ue&&Ue.close(),xe(Ie.error)},Ie.onblocked=function(){console.warn('dropInstance blocked for database "'+C.name+'" until all open connections are closed')},Ie.onsuccess=function(){var Ue=Ie.result;Ue&&Ue.close(),Ce(Ue)}});return pe.then(function(Ce){V.db=Ce;for(var xe=0;xe<W.length;xe++){var Ie=W[xe];te(Ie._dbInfo)}}).catch(function(Ce){throw(ue(C,Ce)||b.resolve()).catch(function(){}),Ce})})}return w(U,T),U}var Ia={_driver:"asyncStorage",_initStorage:ne,_support:h(),iterate:P,getItem:ie,setItem:Oe,removeItem:cr,clear:Ba,length:Fr,key:wn,keys:Qr,dropInstance:Ra};function wp(){return typeof openDatabase=="function"}var xn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",xp="~~local_forage_type~",Zi=/^~~local_forage_type~([^~]+)~/,Na="__lfsc__:",ls=Na.length,cs="arbf",us="blob",Ji="si08",el="ui08",tl="uic8",nl="si16",rl="si32",al="ur16",ol="ui32",sl="fl32",il="fl64",ll=ls+cs.length,cl=Object.prototype.toString;function ul(C){var T=C.length*.75,x=C.length,E,U=0,L,Q,_,V;C[C.length-1]==="="&&(T--,C[C.length-2]==="="&&T--);var W=new ArrayBuffer(T),X=new Uint8Array(W);for(E=0;E<x;E+=4)L=xn.indexOf(C[E]),Q=xn.indexOf(C[E+1]),_=xn.indexOf(C[E+2]),V=xn.indexOf(C[E+3]),X[U++]=L<<2|Q>>4,X[U++]=(Q&15)<<4|_>>2,X[U++]=(_&3)<<6|V&63;return W}function ps(C){var T=new Uint8Array(C),x="",E;for(E=0;E<T.length;E+=3)x+=xn[T[E]>>2],x+=xn[(T[E]&3)<<4|T[E+1]>>4],x+=xn[(T[E+1]&15)<<2|T[E+2]>>6],x+=xn[T[E+2]&63];return T.length%3===2?x=x.substring(0,x.length-1)+"=":T.length%3===1&&(x=x.substring(0,x.length-2)+"=="),x}function Mp(C,T){var x="";if(C&&(x=cl.call(C)),C&&(x==="[object ArrayBuffer]"||C.buffer&&cl.call(C.buffer)==="[object ArrayBuffer]")){var E,U=Na;C instanceof ArrayBuffer?(E=C,U+=cs):(E=C.buffer,x==="[object Int8Array]"?U+=Ji:x==="[object Uint8Array]"?U+=el:x==="[object Uint8ClampedArray]"?U+=tl:x==="[object Int16Array]"?U+=nl:x==="[object Uint16Array]"?U+=al:x==="[object Int32Array]"?U+=rl:x==="[object Uint32Array]"?U+=ol:x==="[object Float32Array]"?U+=sl:x==="[object Float64Array]"?U+=il:T(new Error("Failed to get type for BinaryArray"))),T(U+ps(E))}else if(x==="[object Blob]"){var L=new FileReader;L.onload=function(){var Q=xp+C.type+"~"+ps(this.result);T(Na+us+Q)},L.readAsArrayBuffer(C)}else try{T(JSON.stringify(C))}catch(Q){console.error("Couldn't convert value into a JSON string: ",C),T(null,Q)}}function Sp(C){if(C.substring(0,ls)!==Na)return JSON.parse(C);var T=C.substring(ll),x=C.substring(ls,ll),E;if(x===us&&Zi.test(T)){var U=T.match(Zi);E=U[1],T=T.substring(U[0].length)}var L=ul(T);switch(x){case cs:return L;case us:return y([L],{type:E});case Ji:return new Int8Array(L);case el:return new Uint8Array(L);case tl:return new Uint8ClampedArray(L);case nl:return new Int16Array(L);case al:return new Uint16Array(L);case rl:return new Int32Array(L);case ol:return new Uint32Array(L);case sl:return new Float32Array(L);case il:return new Float64Array(L);default:throw new Error("Unkown type: "+x)}}var gs={serialize:Mp,deserialize:Sp,stringToBuffer:ul,bufferToString:ps};function pl(C,T,x,E){C.executeSql("CREATE TABLE IF NOT EXISTS "+T.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],x,E)}function Tp(C){var T=this,x={db:null};if(C)for(var E in C)x[E]=typeof C[E]!="string"?C[E].toString():C[E];var U=new b(function(L,Q){try{x.db=openDatabase(x.name,String(x.version),x.description,x.size)}catch(_){return Q(_)}x.db.transaction(function(_){pl(_,x,function(){T._dbInfo=x,L()},function(V,W){Q(W)})},Q)});return x.serializer=gs,U}function Mn(C,T,x,E,U,L){C.executeSql(x,E,U,function(Q,_){_.code===_.SYNTAX_ERR?Q.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[T.storeName],function(V,W){W.rows.length?L(V,_):pl(V,T,function(){V.executeSql(x,E,U,L)},L)},L):L(Q,_)},L)}function kp(C,T){var x=this;C=k(C);var E=new b(function(U,L){x.ready().then(function(){var Q=x._dbInfo;Q.db.transaction(function(_){Mn(_,Q,"SELECT * FROM "+Q.storeName+" WHERE key = ? LIMIT 1",[C],function(V,W){var X=W.rows.length?W.rows.item(0).value:null;X&&(X=Q.serializer.deserialize(X)),U(X)},function(V,W){L(W)})})}).catch(L)});return w(E,T),E}function Pp(C,T){var x=this,E=new b(function(U,L){x.ready().then(function(){var Q=x._dbInfo;Q.db.transaction(function(_){Mn(_,Q,"SELECT * FROM "+Q.storeName,[],function(V,W){for(var X=W.rows,ee=X.length,pe=0;pe<ee;pe++){var Ce=X.item(pe),xe=Ce.value;if(xe&&(xe=Q.serializer.deserialize(xe)),xe=C(xe,Ce.key,pe+1),xe!==void 0){U(xe);return}}U()},function(V,W){L(W)})})}).catch(L)});return w(E,T),E}function gl(C,T,x,E){var U=this;C=k(C);var L=new b(function(Q,_){U.ready().then(function(){T===void 0&&(T=null);var V=T,W=U._dbInfo;W.serializer.serialize(T,function(X,ee){ee?_(ee):W.db.transaction(function(pe){Mn(pe,W,"INSERT OR REPLACE INTO "+W.storeName+" (key, value) VALUES (?, ?)",[C,X],function(){Q(V)},function(Ce,xe){_(xe)})},function(pe){if(pe.code===pe.QUOTA_ERR){if(E>0){Q(gl.apply(U,[C,V,x,E-1]));return}_(pe)}})})}).catch(_)});return w(L,x),L}function Lp(C,T,x){return gl.apply(this,[C,T,x,1])}function Ep(C,T){var x=this;C=k(C);var E=new b(function(U,L){x.ready().then(function(){var Q=x._dbInfo;Q.db.transaction(function(_){Mn(_,Q,"DELETE FROM "+Q.storeName+" WHERE key = ?",[C],function(){U()},function(V,W){L(W)})})}).catch(L)});return w(E,T),E}function Ap(C){var T=this,x=new b(function(E,U){T.ready().then(function(){var L=T._dbInfo;L.db.transaction(function(Q){Mn(Q,L,"DELETE FROM "+L.storeName,[],function(){E()},function(_,V){U(V)})})}).catch(U)});return w(x,C),x}function Op(C){var T=this,x=new b(function(E,U){T.ready().then(function(){var L=T._dbInfo;L.db.transaction(function(Q){Mn(Q,L,"SELECT COUNT(key) as c FROM "+L.storeName,[],function(_,V){var W=V.rows.item(0).c;E(W)},function(_,V){U(V)})})}).catch(U)});return w(x,C),x}function Up(C,T){var x=this,E=new b(function(U,L){x.ready().then(function(){var Q=x._dbInfo;Q.db.transaction(function(_){Mn(_,Q,"SELECT key FROM "+Q.storeName+" WHERE id = ? LIMIT 1",[C+1],function(V,W){var X=W.rows.length?W.rows.item(0).key:null;U(X)},function(V,W){L(W)})})}).catch(L)});return w(E,T),E}function Bp(C){var T=this,x=new b(function(E,U){T.ready().then(function(){var L=T._dbInfo;L.db.transaction(function(Q){Mn(Q,L,"SELECT key FROM "+L.storeName,[],function(_,V){for(var W=[],X=0;X<V.rows.length;X++)W.push(V.rows.item(X).key);E(W)},function(_,V){U(V)})})}).catch(U)});return w(x,C),x}function Rp(C){return new b(function(T,x){C.transaction(function(E){E.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(U,L){for(var Q=[],_=0;_<L.rows.length;_++)Q.push(L.rows.item(_).name);T({db:C,storeNames:Q})},function(U,L){x(L)})},function(E){x(E)})})}function Ip(C,T){T=B.apply(this,arguments);var x=this.config();C=typeof C!="function"&&C||{},C.name||(C.name=C.name||x.name,C.storeName=C.storeName||x.storeName);var E=this,U;return C.name?U=new b(function(L){var Q;C.name===x.name?Q=E._dbInfo.db:Q=openDatabase(C.name,"","",0),C.storeName?L({db:Q,storeNames:[C.storeName]}):L(Rp(Q))}).then(function(L){return new b(function(Q,_){L.db.transaction(function(V){function W(Ce){return new b(function(xe,Ie){V.executeSql("DROP TABLE IF EXISTS "+Ce,[],function(){xe()},function(Ue,xt){Ie(xt)})})}for(var X=[],ee=0,pe=L.storeNames.length;ee<pe;ee++)X.push(W(L.storeNames[ee]));b.all(X).then(function(){Q()}).catch(function(Ce){_(Ce)})},function(V){_(V)})})}):U=b.reject("Invalid arguments"),w(U,T),U}var Np={_driver:"webSQLStorage",_initStorage:Tp,_support:wp(),iterate:Pp,getItem:kp,setItem:Lp,removeItem:Ep,clear:Ap,length:Op,key:Up,keys:Bp,dropInstance:Ip};function Dp(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch(C){return!1}}function dl(C,T){var x=C.name+"/";return C.storeName!==T.storeName&&(x+=C.storeName+"/"),x}function Hp(){var C="_localforage_support_test";try{return localStorage.setItem(C,!0),localStorage.removeItem(C),!1}catch(T){return!0}}function Gp(){return!Hp()||localStorage.length>0}function $p(C){var T=this,x={};if(C)for(var E in C)x[E]=C[E];return x.keyPrefix=dl(C,T._defaultConfig),Gp()?(T._dbInfo=x,x.serializer=gs,b.resolve()):b.reject()}function Fp(C){var T=this,x=T.ready().then(function(){for(var E=T._dbInfo.keyPrefix,U=localStorage.length-1;U>=0;U--){var L=localStorage.key(U);L.indexOf(E)===0&&localStorage.removeItem(L)}});return w(x,C),x}function Qp(C,T){var x=this;C=k(C);var E=x.ready().then(function(){var U=x._dbInfo,L=localStorage.getItem(U.keyPrefix+C);return L&&(L=U.serializer.deserialize(L)),L});return w(E,T),E}function _p(C,T){var x=this,E=x.ready().then(function(){for(var U=x._dbInfo,L=U.keyPrefix,Q=L.length,_=localStorage.length,V=1,W=0;W<_;W++){var X=localStorage.key(W);if(X.indexOf(L)===0){var ee=localStorage.getItem(X);if(ee&&(ee=U.serializer.deserialize(ee)),ee=C(ee,X.substring(Q),V++),ee!==void 0)return ee}}});return w(E,T),E}function qp(C,T){var x=this,E=x.ready().then(function(){var U=x._dbInfo,L;try{L=localStorage.key(C)}catch(Q){L=null}return L&&(L=L.substring(U.keyPrefix.length)),L});return w(E,T),E}function jp(C){var T=this,x=T.ready().then(function(){for(var E=T._dbInfo,U=localStorage.length,L=[],Q=0;Q<U;Q++){var _=localStorage.key(Q);_.indexOf(E.keyPrefix)===0&&L.push(_.substring(E.keyPrefix.length))}return L});return w(x,C),x}function Vp(C){var T=this,x=T.keys().then(function(E){return E.length});return w(x,C),x}function Wp(C,T){var x=this;C=k(C);var E=x.ready().then(function(){var U=x._dbInfo;localStorage.removeItem(U.keyPrefix+C)});return w(E,T),E}function Xp(C,T,x){var E=this;C=k(C);var U=E.ready().then(function(){T===void 0&&(T=null);var L=T;return new b(function(Q,_){var V=E._dbInfo;V.serializer.serialize(T,function(W,X){if(X)_(X);else try{localStorage.setItem(V.keyPrefix+C,W),Q(L)}catch(ee){(ee.name==="QuotaExceededError"||ee.name==="NS_ERROR_DOM_QUOTA_REACHED")&&_(ee),_(ee)}})})});return w(U,x),U}function Yp(C,T){if(T=B.apply(this,arguments),C=typeof C!="function"&&C||{},!C.name){var x=this.config();C.name=C.name||x.name,C.storeName=C.storeName||x.storeName}var E=this,U;return C.name?U=new b(function(L){C.storeName?L(dl(C,E._defaultConfig)):L(C.name+"/")}).then(function(L){for(var Q=localStorage.length-1;Q>=0;Q--){var _=localStorage.key(Q);_.indexOf(L)===0&&localStorage.removeItem(_)}}):U=b.reject("Invalid arguments"),w(U,T),U}var zp={_driver:"localStorageWrapper",_initStorage:$p,_support:Dp(),iterate:_p,getItem:Qp,setItem:Xp,removeItem:Wp,clear:Fp,length:Vp,key:qp,keys:jp,dropInstance:Yp},Kp=function(T,x){return T===x||typeof T=="number"&&typeof x=="number"&&isNaN(T)&&isNaN(x)},Zp=function(T,x){for(var E=T.length,U=0;U<E;){if(Kp(T[U],x))return!0;U++}return!1},fl=Array.isArray||function(C){return Object.prototype.toString.call(C)==="[object Array]"},_r={},ml={},ur={INDEXEDDB:Ia,WEBSQL:Np,LOCALSTORAGE:zp},Jp=[ur.INDEXEDDB._driver,ur.WEBSQL._driver,ur.LOCALSTORAGE._driver],Da=["dropInstance"],ds=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Da),eg={description:"",driver:Jp.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function tg(C,T){C[T]=function(){var x=arguments;return C.ready().then(function(){return C[T].apply(C,x)})}}function fs(){for(var C=1;C<arguments.length;C++){var T=arguments[C];if(T)for(var x in T)T.hasOwnProperty(x)&&(fl(T[x])?arguments[0][x]=T[x].slice():arguments[0][x]=T[x])}return arguments[0]}var ng=function(){function C(T){g(this,C);for(var x in ur)if(ur.hasOwnProperty(x)){var E=ur[x],U=E._driver;this[x]=U,_r[U]||this.defineDriver(E)}this._defaultConfig=fs({},eg),this._config=fs({},this._defaultConfig,T),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return C.prototype.config=function(x){if((typeof x>"u"?"undefined":c(x))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var E in x){if(E==="storeName"&&(x[E]=x[E].replace(/\W/g,"_")),E==="version"&&typeof x[E]!="number")return new Error("Database version must be a number.");this._config[E]=x[E]}return"driver"in x&&x.driver?this.setDriver(this._config.driver):!0}else return typeof x=="string"?this._config[x]:this._config},C.prototype.defineDriver=function(x,E,U){var L=new b(function(Q,_){try{var V=x._driver,W=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!x._driver){_(W);return}for(var X=ds.concat("_initStorage"),ee=0,pe=X.length;ee<pe;ee++){var Ce=X[ee],xe=!Zp(Da,Ce);if((xe||x[Ce])&&typeof x[Ce]!="function"){_(W);return}}var Ie=function(){for(var qr=function(og){return function(){var sg=new Error("Method "+og+" is not implemented by the current driver"),hl=b.reject(sg);return w(hl,arguments[arguments.length-1]),hl}},ms=0,ag=Da.length;ms<ag;ms++){var hs=Da[ms];x[hs]||(x[hs]=qr(hs))}};Ie();var Ue=function(qr){_r[V]&&console.info("Redefining LocalForage driver: "+V),_r[V]=x,ml[V]=qr,Q()};"_support"in x?x._support&&typeof x._support=="function"?x._support().then(Ue,_):Ue(!!x._support):Ue(!0)}catch(xt){_(xt)}});return S(L,E,U),L},C.prototype.driver=function(){return this._driver||null},C.prototype.getDriver=function(x,E,U){var L=_r[x]?b.resolve(_r[x]):b.reject(new Error("Driver not found."));return S(L,E,U),L},C.prototype.getSerializer=function(x){var E=b.resolve(gs);return S(E,x),E},C.prototype.ready=function(x){var E=this,U=E._driverSet.then(function(){return E._ready===null&&(E._ready=E._initDriver()),E._ready});return S(U,x,x),U},C.prototype.setDriver=function(x,E,U){var L=this;fl(x)||(x=[x]);var Q=this._getSupportedDrivers(x);function _(){L._config.driver=L.driver()}function V(ee){return L._extend(ee),_(),L._ready=L._initStorage(L._config),L._ready}function W(ee){return function(){var pe=0;function Ce(){for(;pe<ee.length;){var xe=ee[pe];return pe++,L._dbInfo=null,L._ready=null,L.getDriver(xe).then(V).catch(Ce)}_();var Ie=new Error("No available storage method found.");return L._driverSet=b.reject(Ie),L._driverSet}return Ce()}}var X=this._driverSet!==null?this._driverSet.catch(function(){return b.resolve()}):b.resolve();return this._driverSet=X.then(function(){var ee=Q[0];return L._dbInfo=null,L._ready=null,L.getDriver(ee).then(function(pe){L._driver=pe._driver,_(),L._wrapLibraryMethodsWithReady(),L._initDriver=W(Q)})}).catch(function(){_();var ee=new Error("No available storage method found.");return L._driverSet=b.reject(ee),L._driverSet}),S(this._driverSet,E,U),this._driverSet},C.prototype.supports=function(x){return!!ml[x]},C.prototype._extend=function(x){fs(this,x)},C.prototype._getSupportedDrivers=function(x){for(var E=[],U=0,L=x.length;U<L;U++){var Q=x[U];this.supports(Q)&&E.push(Q)}return E},C.prototype._wrapLibraryMethodsWithReady=function(){for(var x=0,E=ds.length;x<E;x++)tg(this,ds[x])},C.prototype.createInstance=function(x){return new C(x)},C}(),rg=new ng;o.exports=rg},{"3":3}]},{},[4])(4)})});var Mi=pr((ba,xi)=>{(function(n,r){typeof ba=="object"&&typeof xi=="object"?xi.exports=r():typeof define=="function"&&define.amd?define([],r):typeof ba=="object"?ba.ClipboardJS=r():n.ClipboardJS=r()})(ba,function(){return function(){var t={686:function(a,o,l){"use strict";l.d(o,{default:function(){return Yt}});var c=l(279),g=l.n(c),d=l(370),m=l.n(d),h=l(817),y=l.n(h);function b(se){try{return document.execCommand(se)}catch(J){return!1}}var w=function(J){var z=y()(J);return b("cut"),z},S=w;function k(se){var J=document.documentElement.getAttribute("dir")==="rtl",z=document.createElement("textarea");z.style.fontSize="12pt",z.style.border="0",z.style.padding="0",z.style.margin="0",z.style.position="absolute",z.style[J?"right":"left"]="-9999px";var re=window.pageYOffset||document.documentElement.scrollTop;return z.style.top="".concat(re,"px"),z.setAttribute("readonly",""),z.value=se,z}var B=function(J,z){var re=k(J);z.container.appendChild(re);var ne=y()(re);return b("copy"),re.remove(),ne},N=function(J){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body},re="";return typeof J=="string"?re=B(J,z):J instanceof HTMLInputElement&&!["text","search","url","tel","password"].includes(J==null?void 0:J.type)?re=B(J.value,z):(re=y()(J),b("copy")),re},I=N;function $(se){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?$=function(z){return typeof z}:$=function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z},$(se)}var O=function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},z=J.action,re=z===void 0?"copy":z,ne=J.container,ie=J.target,P=J.text;if(re!=="copy"&&re!=="cut")throw new Error('Invalid "action" value, use either "copy" or "cut"');if(ie!==void 0)if(ie&&$(ie)==="object"&&ie.nodeType===1){if(re==="copy"&&ie.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if(re==="cut"&&(ie.hasAttribute("readonly")||ie.hasAttribute("disabled")))throw new Error(`Invalid "target" attribute. You can't cut text from elements with "readonly" or "disabled" attributes`)}else throw new Error('Invalid "target" value, use a valid Element');if(P)return I(P,{container:ne});if(ie)return re==="cut"?S(ie):I(ie,{container:ne})},v=O;function M(se){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?M=function(z){return typeof z}:M=function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z},M(se)}function A(se,J){if(!(se instanceof J))throw new TypeError("Cannot call a class as a function")}function F(se,J){for(var z=0;z<J.length;z++){var re=J[z];re.enumerable=re.enumerable||!1,re.configurable=!0,"value"in re&&(re.writable=!0),Object.defineProperty(se,re.key,re)}}function Y(se,J,z){return J&&F(se.prototype,J),z&&F(se,z),se}function oe(se,J){if(typeof J!="function"&&J!==null)throw new TypeError("Super expression must either be null or a function");se.prototype=Object.create(J&&J.prototype,{constructor:{value:se,writable:!0,configurable:!0}}),J&&te(se,J)}function te(se,J){return te=Object.setPrototypeOf||function(re,ne){return re.__proto__=ne,re},te(se,J)}function ue(se){var J=wt();return function(){var re=Ve(se),ne;if(J){var ie=Ve(this).constructor;ne=Reflect.construct(re,arguments,ie)}else ne=re.apply(this,arguments);return ye(this,ne)}}function ye(se,J){return J&&(M(J)==="object"||typeof J=="function")?J:Re(se)}function Re(se){if(se===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return se}function wt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(se){return!1}}function Ve(se){return Ve=Object.setPrototypeOf?Object.getPrototypeOf:function(z){return z.__proto__||Object.getPrototypeOf(z)},Ve(se)}function Je(se,J){var z="data-clipboard-".concat(se);if(!!J.hasAttribute(z))return J.getAttribute(z)}var pt=function(se){oe(z,se);var J=ue(z);function z(re,ne){var ie;return A(this,z),ie=J.call(this),ie.resolveOptions(ne),ie.listenClick(re),ie}return Y(z,[{key:"resolveOptions",value:function(){var ne=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.action=typeof ne.action=="function"?ne.action:this.defaultAction,this.target=typeof ne.target=="function"?ne.target:this.defaultTarget,this.text=typeof ne.text=="function"?ne.text:this.defaultText,this.container=M(ne.container)==="object"?ne.container:document.body}},{key:"listenClick",value:function(ne){var ie=this;this.listener=m()(ne,"click",function(P){return ie.onClick(P)})}},{key:"onClick",value:function(ne){var ie=ne.delegateTarget||ne.currentTarget,P=this.action(ie)||"copy",Oe=v({action:P,container:this.container,target:this.target(ie),text:this.text(ie)});this.emit(Oe?"success":"error",{action:P,text:Oe,trigger:ie,clearSelection:function(){ie&&ie.focus(),window.getSelection().removeAllRanges()}})}},{key:"defaultAction",value:function(ne){return Je("action",ne)}},{key:"defaultTarget",value:function(ne){var ie=Je("target",ne);if(ie)return document.querySelector(ie)}},{key:"defaultText",value:function(ne){return Je("text",ne)}},{key:"destroy",value:function(){this.listener.destroy()}}],[{key:"copy",value:function(ne){var ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body};return I(ne,ie)}},{key:"cut",value:function(ne){return S(ne)}},{key:"isSupported",value:function(){var ne=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["copy","cut"],ie=typeof ne=="string"?[ne]:ne,P=!!document.queryCommandSupported;return ie.forEach(function(Oe){P=P&&!!document.queryCommandSupported(Oe)}),P}}]),z}(g()),Yt=pt},828:function(a){var o=9;if(typeof Element<"u"&&!Element.prototype.matches){var l=Element.prototype;l.matches=l.matchesSelector||l.mozMatchesSelector||l.msMatchesSelector||l.oMatchesSelector||l.webkitMatchesSelector}function c(g,d){for(;g&&g.nodeType!==o;){if(typeof g.matches=="function"&&g.matches(d))return g;g=g.parentNode}}a.exports=c},438:function(a,o,l){var c=l(828);function g(h,y,b,w,S){var k=m.apply(this,arguments);return h.addEventListener(b,k,S),{destroy:function(){h.removeEventListener(b,k,S)}}}function d(h,y,b,w,S){return typeof h.addEventListener=="function"?g.apply(null,arguments):typeof b=="function"?g.bind(null,document).apply(null,arguments):(typeof h=="string"&&(h=document.querySelectorAll(h)),Array.prototype.map.call(h,function(k){return g(k,y,b,w,S)}))}function m(h,y,b,w){return function(S){S.delegateTarget=c(S.target,y),S.delegateTarget&&w.call(h,S)}}a.exports=d},879:function(a,o){o.node=function(l){return l!==void 0&&l instanceof HTMLElement&&l.nodeType===1},o.nodeList=function(l){var c=Object.prototype.toString.call(l);return l!==void 0&&(c==="[object NodeList]"||c==="[object HTMLCollection]")&&"length"in l&&(l.length===0||o.node(l[0]))},o.string=function(l){return typeof l=="string"||l instanceof String},o.fn=function(l){var c=Object.prototype.toString.call(l);return c==="[object Function]"}},370:function(a,o,l){var c=l(879),g=l(438);function d(b,w,S){if(!b&&!w&&!S)throw new Error("Missing required arguments");if(!c.string(w))throw new TypeError("Second argument must be a String");if(!c.fn(S))throw new TypeError("Third argument must be a Function");if(c.node(b))return m(b,w,S);if(c.nodeList(b))return h(b,w,S);if(c.string(b))return y(b,w,S);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function m(b,w,S){return b.addEventListener(w,S),{destroy:function(){b.removeEventListener(w,S)}}}function h(b,w,S){return Array.prototype.forEach.call(b,function(k){k.addEventListener(w,S)}),{destroy:function(){Array.prototype.forEach.call(b,function(k){k.removeEventListener(w,S)})}}}function y(b,w,S){return g(document.body,b,w,S)}a.exports=d},817:function(a){function o(l){var c;if(l.nodeName==="SELECT")l.focus(),c=l.value;else if(l.nodeName==="INPUT"||l.nodeName==="TEXTAREA"){var g=l.hasAttribute("readonly");g||l.setAttribute("readonly",""),l.select(),l.setSelectionRange(0,l.value.length),g||l.removeAttribute("readonly"),c=l.value}else{l.hasAttribute("contenteditable")&&l.focus();var d=window.getSelection(),m=document.createRange();m.selectNodeContents(l),d.removeAllRanges(),d.addRange(m),c=d.toString()}return c}a.exports=o},279:function(a){function o(){}o.prototype={on:function(l,c,g){var d=this.e||(this.e={});return(d[l]||(d[l]=[])).push({fn:c,ctx:g}),this},once:function(l,c,g){var d=this;function m(){d.off(l,m),c.apply(g,arguments)}return m._=c,this.on(l,m,g)},emit:function(l){var c=[].slice.call(arguments,1),g=((this.e||(this.e={}))[l]||[]).slice(),d=0,m=g.length;for(d;d<m;d++)g[d].fn.apply(g[d].ctx,c);return this},off:function(l,c){var g=this.e||(this.e={}),d=g[l],m=[];if(d&&c)for(var h=0,y=d.length;h<y;h++)d[h].fn!==c&&d[h].fn._!==c&&m.push(d[h]);return m.length?g[l]=m:delete g[l],this}},a.exports=o,a.exports.TinyEmitter=o}},n={};function r(a){if(n[a])return n[a].exports;var o=n[a]={exports:{}};return t[a](o,o.exports,r),o.exports}return function(){r.n=function(a){var o=a&&a.__esModule?function(){return a.default}:function(){return a};return r.d(o,{a:o}),o}}(),function(){r.d=function(a,o){for(var l in o)r.o(o,l)&&!r.o(a,l)&&Object.defineProperty(a,l,{enumerable:!0,get:o[l]})}}(),function(){r.o=function(a,o){return Object.prototype.hasOwnProperty.call(a,o)}}(),r(686)}().default})});var $a=sn(wl()),zt=9e15,Ga=function(){for(var t=[],n=-323;n<=308;n++)t.push(Number("1e"+n));return function(r){return t[r+323]}}(),q=function(t){return t instanceof Sn?t:new Sn(t)},at=function(t,n){return new Sn().fromMantissaExponent(t,n)},Qn=function(t,n){return new Sn().fromMantissaExponent_noNormalize(t,n)};function mg(t,n,r,a){var o=n.mul(r.pow(a));return Sn.floor(t.div(o).mul(r.sub(1)).add(1).log10()/r.log10())}function hg(t,n,r,a){return n.mul(r.pow(a)).mul(Sn.sub(1,r.pow(t))).div(Sn.sub(1,r))}var Sn=function(){function t(n){this.mantissa=NaN,this.exponent=NaN,n===void 0?(this.m=0,this.e=0):n instanceof t?this.fromDecimal(n):typeof n=="number"?this.fromNumber(n):this.fromString(n)}return Object.defineProperty(t.prototype,"m",{get:function(){return this.mantissa},set:function(n){this.mantissa=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"e",{get:function(){return this.exponent},set:function(n){this.exponent=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"s",{get:function(){return this.sign()},set:function(n){if(n===0)return this.e=0,void(this.m=0);this.sgn()!==n&&(this.m=-this.m)},enumerable:!1,configurable:!0}),t.fromMantissaExponent=function(n,r){return new t().fromMantissaExponent(n,r)},t.fromMantissaExponent_noNormalize=function(n,r){return new t().fromMantissaExponent_noNormalize(n,r)},t.fromDecimal=function(n){return new t().fromDecimal(n)},t.fromNumber=function(n){return new t().fromNumber(n)},t.fromString=function(n){return new t().fromString(n)},t.fromValue=function(n){return new t().fromValue(n)},t.fromValue_noAlloc=function(n){return n instanceof t?n:new t(n)},t.abs=function(n){return q(n).abs()},t.neg=function(n){return q(n).neg()},t.negate=function(n){return q(n).neg()},t.negated=function(n){return q(n).neg()},t.sign=function(n){return q(n).sign()},t.sgn=function(n){return q(n).sign()},t.round=function(n){return q(n).round()},t.floor=function(n){return q(n).floor()},t.ceil=function(n){return q(n).ceil()},t.trunc=function(n){return q(n).trunc()},t.add=function(n,r){return q(n).add(r)},t.plus=function(n,r){return q(n).add(r)},t.sub=function(n,r){return q(n).sub(r)},t.subtract=function(n,r){return q(n).sub(r)},t.minus=function(n,r){return q(n).sub(r)},t.mul=function(n,r){return q(n).mul(r)},t.multiply=function(n,r){return q(n).mul(r)},t.times=function(n,r){return q(n).mul(r)},t.div=function(n,r){return q(n).div(r)},t.divide=function(n,r){return q(n).div(r)},t.recip=function(n){return q(n).recip()},t.reciprocal=function(n){return q(n).recip()},t.reciprocate=function(n){return q(n).reciprocate()},t.cmp=function(n,r){return q(n).cmp(r)},t.compare=function(n,r){return q(n).cmp(r)},t.eq=function(n,r){return q(n).eq(r)},t.equals=function(n,r){return q(n).eq(r)},t.neq=function(n,r){return q(n).neq(r)},t.notEquals=function(n,r){return q(n).notEquals(r)},t.lt=function(n,r){return q(n).lt(r)},t.lte=function(n,r){return q(n).lte(r)},t.gt=function(n,r){return q(n).gt(r)},t.gte=function(n,r){return q(n).gte(r)},t.max=function(n,r){return q(n).max(r)},t.min=function(n,r){return q(n).min(r)},t.clamp=function(n,r,a){return q(n).clamp(r,a)},t.clampMin=function(n,r){return q(n).clampMin(r)},t.clampMax=function(n,r){return q(n).clampMax(r)},t.cmp_tolerance=function(n,r,a){return q(n).cmp_tolerance(r,a)},t.compare_tolerance=function(n,r,a){return q(n).cmp_tolerance(r,a)},t.eq_tolerance=function(n,r,a){return q(n).eq_tolerance(r,a)},t.equals_tolerance=function(n,r,a){return q(n).eq_tolerance(r,a)},t.neq_tolerance=function(n,r,a){return q(n).neq_tolerance(r,a)},t.notEquals_tolerance=function(n,r,a){return q(n).notEquals_tolerance(r,a)},t.lt_tolerance=function(n,r,a){return q(n).lt_tolerance(r,a)},t.lte_tolerance=function(n,r,a){return q(n).lte_tolerance(r,a)},t.gt_tolerance=function(n,r,a){return q(n).gt_tolerance(r,a)},t.gte_tolerance=function(n,r,a){return q(n).gte_tolerance(r,a)},t.log10=function(n){return q(n).log10()},t.absLog10=function(n){return q(n).absLog10()},t.pLog10=function(n){return q(n).pLog10()},t.log=function(n,r){return q(n).log(r)},t.log2=function(n){return q(n).log2()},t.ln=function(n){return q(n).ln()},t.logarithm=function(n,r){return q(n).logarithm(r)},t.pow10=function(n){return Number.isInteger(n)?Qn(1,n):at(Math.pow(10,n%1),Math.trunc(n))},t.pow=function(n,r){return typeof n=="number"&&n===10&&typeof r=="number"&&Number.isInteger(r)?Qn(1,r):q(n).pow(r)},t.exp=function(n){return q(n).exp()},t.sqr=function(n){return q(n).sqr()},t.sqrt=function(n){return q(n).sqrt()},t.cube=function(n){return q(n).cube()},t.cbrt=function(n){return q(n).cbrt()},t.dp=function(n){return q(n).dp()},t.decimalPlaces=function(n){return q(n).dp()},t.affordGeometricSeries=function(n,r,a,o){return mg(q(n),q(r),q(a),o)},t.sumGeometricSeries=function(n,r,a,o){return hg(n,q(r),q(a),o)},t.affordArithmeticSeries=function(n,r,a,o){return function(l,c,g,d){var m=c.add(d.mul(g)).sub(g.div(2)),h=m.pow(2);return m.neg().add(h.add(g.mul(l).mul(2)).sqrt()).div(g).floor()}(q(n),q(r),q(a),q(o))},t.sumArithmeticSeries=function(n,r,a,o){return function(l,c,g,d){var m=c.add(d.mul(g));return l.div(2).mul(m.mul(2).plus(l.sub(1).mul(g)))}(q(n),q(r),q(a),q(o))},t.efficiencyOfPurchase=function(n,r,a){return function(o,l,c){return o.div(l).add(o.div(c))}(q(n),q(r),q(a))},t.randomDecimalForTesting=function(n){if(20*Math.random()<1)return Qn(0,0);var r=10*Math.random();10*Math.random()<1&&(r=Math.round(r)),r*=Math.sign(2*Math.random()-1);var a=Math.floor(Math.random()*n*2)-n;return at(r,a)},t.prototype.normalize=function(){if(this.m>=1&&this.m<10)return this;if(this.m===0)return this.m=0,this.e=0,this;var n=Math.floor(Math.log10(Math.abs(this.m)));return this.m=n===-324?10*this.m/1e-323:this.m/Ga(n),this.e+=n,this},t.prototype.fromMantissaExponent=function(n,r){return isFinite(n)&&isFinite(r)?(this.m=n,this.e=r,this.normalize(),this):(n=Number.NaN,r=Number.NaN,this)},t.prototype.fromMantissaExponent_noNormalize=function(n,r){return this.m=n,this.e=r,this},t.prototype.fromDecimal=function(n){return this.m=n.m,this.e=n.e,this},t.prototype.fromNumber=function(n){return isNaN(n)?(this.m=Number.NaN,this.e=Number.NaN):n===Number.POSITIVE_INFINITY?(this.m=1,this.e=zt):n===Number.NEGATIVE_INFINITY?(this.m=-1,this.e=zt):n===0?(this.m=0,this.e=0):(this.e=Math.floor(Math.log10(Math.abs(n))),this.m=this.e===-324?10*n/1e-323:n/Ga(this.e),this.normalize()),this},t.prototype.fromString=function(n){if(n.indexOf("e")!==-1){var r=n.split("e");this.m=parseFloat(r[0]),this.e=parseFloat(r[1]),this.normalize()}else if(n==="NaN")this.m=Number.NaN,this.e=Number.NaN;else if(this.fromNumber(parseFloat(n)),isNaN(this.m))throw Error("[DecimalError] Invalid argument: "+n);return this},t.prototype.fromValue=function(n){return n instanceof t?this.fromDecimal(n):typeof n=="number"?this.fromNumber(n):typeof n=="string"?this.fromString(n):(this.m=0,this.e=0,this)},t.prototype.toNumber=function(){if(!isFinite(this.e))return Number.NaN;if(this.e>308)return this.m>0?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY;if(this.e<-324)return 0;if(this.e===-324)return this.m>0?5e-324:-5e-324;var n=this.m*Ga(this.e);if(!isFinite(n)||this.e<0)return n;var r=Math.round(n);return Math.abs(r-n)<1e-10?r:n},t.prototype.mantissaWithDecimalPlaces=function(n){if(isNaN(this.m)||isNaN(this.e))return Number.NaN;if(this.m===0)return 0;var r=n+1,a=Math.ceil(Math.log10(Math.abs(this.m))),o=Math.round(this.m*Math.pow(10,r-a))*Math.pow(10,a-r);return parseFloat(o.toFixed(Math.max(r-a,0)))},t.prototype.toString=function(){return isNaN(this.m)||isNaN(this.e)?"NaN":this.e>=zt?this.m>0?"Infinity":"-Infinity":this.e<=-zt||this.m===0?"0":this.e<21&&this.e>-7?this.toNumber().toString():this.m+"e"+(this.e>=0?"+":"")+this.e},t.prototype.toExponential=function(n){if(isNaN(this.m)||isNaN(this.e))return"NaN";if(this.e>=zt)return this.m>0?"Infinity":"-Infinity";if(this.e<=-zt||this.m===0)return"0"+(n>0?(0,$a.default)(".",n+1,"0"):"")+"e+0";if(this.e>-324&&this.e<308)return this.toNumber().toExponential(n);isFinite(n)||(n=17);var r=n+1,a=Math.max(1,Math.ceil(Math.log10(Math.abs(this.m))));return(Math.round(this.m*Math.pow(10,r-a))*Math.pow(10,a-r)).toFixed(Math.max(r-a,0))+"e"+(this.e>=0?"+":"")+this.e},t.prototype.toFixed=function(n){return isNaN(this.m)||isNaN(this.e)?"NaN":this.e>=zt?this.m>0?"Infinity":"-Infinity":this.e<=-zt||this.m===0?"0"+(n>0?(0,$a.default)(".",n+1,"0"):""):this.e>=17?this.m.toString().replace(".","").padEnd(this.e+1,"0")+(n>0?(0,$a.default)(".",n+1,"0"):""):this.toNumber().toFixed(n)},t.prototype.toPrecision=function(n){return this.e<=-7?this.toExponential(n-1):n>this.e?this.toFixed(n-this.e-1):this.toExponential(n-1)},t.prototype.valueOf=function(){return this.toString()},t.prototype.toJSON=function(){return this.toString()},t.prototype.toStringWithDecimalPlaces=function(n){return this.toExponential(n)},t.prototype.abs=function(){return Qn(Math.abs(this.m),this.e)},t.prototype.neg=function(){return Qn(-this.m,this.e)},t.prototype.negate=function(){return this.neg()},t.prototype.negated=function(){return this.neg()},t.prototype.sign=function(){return Math.sign(this.m)},t.prototype.sgn=function(){return this.sign()},t.prototype.round=function(){return this.e<-1?new t(0):this.e<17?new t(Math.round(this.toNumber())):this},t.prototype.floor=function(){return this.e<-1?Math.sign(this.m)>=0?new t(0):new t(-1):this.e<17?new t(Math.floor(this.toNumber())):this},t.prototype.ceil=function(){return this.e<-1?Math.sign(this.m)>0?new t(1):new t(0):this.e<17?new t(Math.ceil(this.toNumber())):this},t.prototype.trunc=function(){return this.e<0?new t(0):this.e<17?new t(Math.trunc(this.toNumber())):this},t.prototype.add=function(n){var r,a,o=q(n);if(this.m===0)return o;if(o.m===0)return this;if(this.e>=o.e?(r=this,a=o):(r=o,a=this),r.e-a.e>17)return r;var l=Math.round(1e14*r.m+1e14*a.m*Ga(a.e-r.e));return at(l,r.e-14)},t.prototype.plus=function(n){return this.add(n)},t.prototype.sub=function(n){return this.add(q(n).neg())},t.prototype.subtract=function(n){return this.sub(n)},t.prototype.minus=function(n){return this.sub(n)},t.prototype.mul=function(n){if(typeof n=="number")return n<1e307&&n>-1e307?at(this.m*n,this.e):at(1e-307*this.m*n,this.e+307);var r=typeof n=="string"?new t(n):n;return at(this.m*r.m,this.e+r.e)},t.prototype.multiply=function(n){return this.mul(n)},t.prototype.times=function(n){return this.mul(n)},t.prototype.div=function(n){return this.mul(q(n).recip())},t.prototype.divide=function(n){return this.div(n)},t.prototype.divideBy=function(n){return this.div(n)},t.prototype.dividedBy=function(n){return this.div(n)},t.prototype.recip=function(){return at(1/this.m,-this.e)},t.prototype.reciprocal=function(){return this.recip()},t.prototype.reciprocate=function(){return this.recip()},t.prototype.cmp=function(n){var r=q(n);if(this.m===0){if(r.m===0)return 0;if(r.m<0)return 1;if(r.m>0)return-1}if(r.m===0){if(this.m<0)return-1;if(this.m>0)return 1}if(this.m>0)return r.m<0||this.e>r.e?1:this.e<r.e?-1:this.m>r.m?1:this.m<r.m?-1:0;if(this.m<0)return r.m>0||this.e>r.e?-1:this.e<r.e||this.m>r.m?1:this.m<r.m?-1:0;throw Error("Unreachable code")},t.prototype.compare=function(n){return this.cmp(n)},t.prototype.eq=function(n){var r=q(n);return this.e===r.e&&this.m===r.m},t.prototype.equals=function(n){return this.eq(n)},t.prototype.neq=function(n){return!this.eq(n)},t.prototype.notEquals=function(n){return this.neq(n)},t.prototype.lt=function(n){var r=q(n);return this.m===0?r.m>0:r.m===0?this.m<=0:this.e===r.e?this.m<r.m:this.m>0?r.m>0&&this.e<r.e:r.m>0||this.e>r.e},t.prototype.lte=function(n){return!this.gt(n)},t.prototype.gt=function(n){var r=q(n);return this.m===0?r.m<0:r.m===0?this.m>0:this.e===r.e?this.m>r.m:this.m>0?r.m<0||this.e>r.e:r.m<0&&this.e<r.e},t.prototype.gte=function(n){return!this.lt(n)},t.prototype.max=function(n){var r=q(n);return this.lt(r)?r:this},t.prototype.min=function(n){var r=q(n);return this.gt(r)?r:this},t.prototype.clamp=function(n,r){return this.max(n).min(r)},t.prototype.clampMin=function(n){return this.max(n)},t.prototype.clampMax=function(n){return this.min(n)},t.prototype.cmp_tolerance=function(n,r){var a=q(n);return this.eq_tolerance(a,r)?0:this.cmp(a)},t.prototype.compare_tolerance=function(n,r){return this.cmp_tolerance(n,r)},t.prototype.eq_tolerance=function(n,r){var a=q(n);return t.lte(this.sub(a).abs(),t.max(this.abs(),a.abs()).mul(r))},t.prototype.equals_tolerance=function(n,r){return this.eq_tolerance(n,r)},t.prototype.neq_tolerance=function(n,r){return!this.eq_tolerance(n,r)},t.prototype.notEquals_tolerance=function(n,r){return this.neq_tolerance(n,r)},t.prototype.lt_tolerance=function(n,r){var a=q(n);return!this.eq_tolerance(a,r)&&this.lt(a)},t.prototype.lte_tolerance=function(n,r){var a=q(n);return this.eq_tolerance(a,r)||this.lt(a)},t.prototype.gt_tolerance=function(n,r){var a=q(n);return!this.eq_tolerance(a,r)&&this.gt(a)},t.prototype.gte_tolerance=function(n,r){var a=q(n);return this.eq_tolerance(a,r)||this.gt(a)},t.prototype.log10=function(){return this.e+Math.log10(this.m)},t.prototype.absLog10=function(){return this.e+Math.log10(Math.abs(this.m))},t.prototype.pLog10=function(){return this.m<=0||this.e<0?0:this.log10()},t.prototype.log=function(n){return Math.LN10/Math.log(n)*this.log10()},t.prototype.log2=function(){return 3.321928094887362*this.log10()},t.prototype.ln=function(){return 2.302585092994045*this.log10()},t.prototype.logarithm=function(n){return this.log(n)},t.prototype.pow=function(n){var r,a=n instanceof t?n.toNumber():n,o=this.e*a;if(Number.isSafeInteger(o)&&(r=Math.pow(this.m,a),isFinite(r)&&r!==0))return at(r,o);var l=Math.trunc(o),c=o-l;if(r=Math.pow(10,a*Math.log10(this.m)+c),isFinite(r)&&r!==0)return at(r,l);var g=t.pow10(a*this.absLog10());return this.sign()===-1?Math.abs(a%2)===1?g.neg():Math.abs(a%2)===0?g:new t(Number.NaN):g},t.prototype.pow_base=function(n){return q(n).pow(this)},t.prototype.factorial=function(){var n=this.toNumber()+1;return t.pow(n/Math.E*Math.sqrt(n*Math.sinh(1/n)+1/(810*Math.pow(n,6))),n).mul(Math.sqrt(2*Math.PI/n))},t.prototype.exp=function(){var n=this.toNumber();return-706<n&&n<709?t.fromNumber(Math.exp(n)):t.pow(Math.E,n)},t.prototype.sqr=function(){return at(Math.pow(this.m,2),2*this.e)},t.prototype.sqrt=function(){return this.m<0?new t(Number.NaN):this.e%2!=0?at(3.16227766016838*Math.sqrt(this.m),Math.floor(this.e/2)):at(Math.sqrt(this.m),Math.floor(this.e/2))},t.prototype.cube=function(){return at(Math.pow(this.m,3),3*this.e)},t.prototype.cbrt=function(){var n=1,r=this.m;r<0&&(n=-1,r=-r);var a=n*Math.pow(r,1/3),o=this.e%3;return at(o===1||o===-1?2.154434690031883*a:o!==0?4.641588833612778*a:a,Math.floor(this.e/3))},t.prototype.sinh=function(){return this.exp().sub(this.negate().exp()).div(2)},t.prototype.cosh=function(){return this.exp().add(this.negate().exp()).div(2)},t.prototype.tanh=function(){return this.sinh().div(this.cosh())},t.prototype.asinh=function(){return t.ln(this.add(this.sqr().add(1).sqrt()))},t.prototype.acosh=function(){return t.ln(this.add(this.sqr().sub(1).sqrt()))},t.prototype.atanh=function(){return this.abs().gte(1)?Number.NaN:t.ln(this.add(1).div(new t(1).sub(this)))/2},t.prototype.ascensionPenalty=function(n){return n===0?this:this.pow(Math.pow(10,-n))},t.prototype.egg=function(){return this.add(9)},t.prototype.lessThanOrEqualTo=function(n){return this.cmp(n)<1},t.prototype.lessThan=function(n){return this.cmp(n)<0},t.prototype.greaterThanOrEqualTo=function(n){return this.cmp(n)>-1},t.prototype.greaterThan=function(n){return this.cmp(n)>0},t.prototype.decimalPlaces=function(){return this.dp()},t.prototype.dp=function(){if(!isFinite(this.mantissa))return NaN;if(this.exponent>=17)return 0;for(var n=this.mantissa,r=-this.exponent,a=1;Math.abs(Math.round(n*a)/a-n)>1e-10;)a*=10,r++;return r>0?r:0},Object.defineProperty(t,"MAX_VALUE",{get:function(){return yg},enumerable:!1,configurable:!0}),Object.defineProperty(t,"MIN_VALUE",{get:function(){return bg},enumerable:!1,configurable:!0}),Object.defineProperty(t,"NUMBER_MAX_VALUE",{get:function(){return vg},enumerable:!1,configurable:!0}),Object.defineProperty(t,"NUMBER_MIN_VALUE",{get:function(){return Cg},enumerable:!1,configurable:!0}),t}(),yg=Qn(1,zt),bg=Qn(1,-zt),vg=q(Number.MAX_VALUE),Cg=q(Number.MIN_VALUE),f=Sn;var Cp=sn(bs());var Ml=new Map,i=t=>{let n=Ml.get(t);if(n)return n;let r=document.getElementById(t);if(!r)throw new TypeError(`Element with id "${t}" was not found on page?`);return Ml.set(t,r),r};var Qa=t=>t instanceof f||typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"mantissa"in t&&"exponent"in t,ge=(t=0)=>t<=Number.MAX_SAFE_INTEGER?1:2**Math.floor(Math.log2(t)-52),le=t=>(t=Array.isArray(t)?t:Object.values(t),t.reduce((n,r)=>n+r,0)),fe=t=>t.reduce((n,r)=>n*r),Sl=t=>Array.from([...t.keys()]).sort((n,r)=>t[n]<t[r]?-1:+(t[r]<t[n])),ln=t=>i(t);var Tl=(t,n,r)=>{for(let a=0;a<r;a++)a in t||(t[a]=n);return t},et=(t,n,r)=>{let a=i(t);for(let o of n)a.classList.add(o);for(let o of r)a.classList.remove(o)},gr=t=>{try{return window.btoa(t)}catch(n){return console.error("An error occurred:",n),null}},Vr=t=>{let n="th";return t%10===1&&(n=t%100===11?"th":"st"),t%10===2&&(n=t%100===12?"th":"nd"),t%10===3&&(n=t%100===13?"th":"rd"),u(t,0,!0)+n},wg=t=>Object.entries({d:u(Math.floor(t/864e5),0,!0),h:Math.floor(t/36e5)%24,m:Math.floor(t/6e4)%60,s:Math.floor(t/1e3)%60}).filter(n=>n[1]>0).map(n=>`${n[1]}${n[0]}`).join(" ")||"0s",Dt=t=>wg(1e3*t),Wr=t=>{let n="";for(let r=0;r<t.length;r++)n+=t.charCodeAt(r)>255?"_":t[r];return n};var s={runediv:[1.5,2,3,5,8,1,1],runeexpbase:[1,4,9,16,1e3,1e75,1e256],runeMaxLvl:4e4,upgradeCosts:[0,6,7,8,10,12,20,25,30,35,45,55,75,110,150,200,250,500,750,1e3,1500,2,3,4,5,6,7,10,13,20,30,150,400,800,1600,3200,1e4,2e4,5e4,1e5,2e5,1,2,3,5,6,7,42,65,87,150,300,500,1e3,1500,2e3,3e3,6e3,12e3,25e3,75e3,0,1,2,2,3,5,6,10,15,22,30,37,45,52,60,1900,2500,3e3,7482,21397,3,6,9,12,15,20,30,6,8,8,10,13,60,1,2,4,8,16,25,40,12,16,20,30,50,500,1250,5e3,25e3,125e3,1500,7500,3e4,15e4,1e6,250,1e3,5e3,25e3,125e3,1e3,1e6,1e9,1e12,1e15],crystalUpgradesCost:[6,15,20,40,100,200,500,1e3],crystalUpgradeCostIncrement:[8,15,20,40,100,200,500,1e3],researchBaseCosts:[1e200,1,1,1,1,1,1,100,1e4,1e6,1e8,2,200,2e4,2e6,2e8,4e4,4e8,10,1e5,1e9,100,100,1e4,2e3,2e5,40,200,50,5e3,2e7,777,7777,5e4,5e5,5e6,2e3,2e6,2e9,1e5,1e9,1,1,5,25,125,2,5,320,1280,25e8,10,2e3,4e5,8e7,2e9,5,400,1e4,3e6,9e8,100,2500,100,2e3,2e5,1,20,3e3,4e5,5e7,10,40,160,1e3,1e4,4e9,7e9,1e10,12e9,15e9,1e12,1e13,3e12,2e13,2e13,2e14,6e14,2e15,6e15,2e16,1e16,2e16,2e17,4e17,1e18,1e13,1e14,1e15,7777e15,7777e17,1e16,3e16,1e17,3e17,1e20,1e18,3e18,1e19,3e19,1e20,1e20,2e20,4e20,8e20,1e21,2e21,4e21,8e21,2e22,4e22,32e20,2e23,4e23,1e21,7777e29,5e8,5e12,5e16,5e20,5e24,1e25,2e25,4e25,8e25,1e26,4e26,8e26,1e27,2e27,1e28,5e9,5e15,5e21,5e27,1e28,1e29,2e29,4e29,8e29,1e27,2e30,4e30,8e30,1e31,2e31,5e31,1e32,2e32,4e32,8e32,1e33,2e33,4e33,8e33,1e34,3e34,1e35,3e35,6e35,1e36,3e36,1e37,3e37,1e38,3e38,1e39,3e39,1e40,3e40,1e50,3e41,1e42,3e42,6e42,1e43,3e43,1e44,3e44,1e45,3e45,2e46,6e46,2e47,6e47,1e64,6e48,2e49,1e50,1e51,4e56],researchMaxLevels:[0,1,1,1,1,1,10,10,10,10,10,10,10,10,10,10,10,10,1,1,1,25,25,25,20,20,10,10,10,10,10,12,12,10,10,10,10,10,10,1,1,1,1,1,1,1,1,1,1,1,1,10,10,10,10,10,20,20,20,20,20,1,5,4,5,5,10,10,10,10,10,1,1,1,1,1,10,50,50,50,50,10,1,20,20,20,20,20,20,20,10,20,20,20,20,1,20,5,5,3,2,10,10,10,10,1,10,10,20,25,25,50,50,50,50,100,10,10,10,100,100,25,25,25,1,5,10,10,10,10,1,10,10,10,1,1,25,25,25,15,1,10,10,10,10,1,10,1,6,10,1,25,25,1,15,1,10,10,10,1,1,10,10,10,10,1,25,25,25,15,1,10,10,10,1,1,10,3,6,10,5,25,25,1,15,1,20,20,20,1,1,20,1,50,50,10,25,25,25,15,1e5],ticker:0,costDivisor:1,freeAccelerator:0,totalAccelerator:0,freeAcceleratorBoost:0,totalAcceleratorBoost:0,acceleratorPower:1.1,acceleratorEffect:new f(1),acceleratorEffectDisplay:new f(1),generatorPower:new f(1),freeMultiplier:0,totalMultiplier:0,multiplierPower:2,multiplierEffect:new f(1),challengeOneLog:3,freeMultiplierBoost:0,totalMultiplierBoost:0,globalCoinMultiplier:new f(1),totalCoinOwned:0,prestigeMultiplier:new f(1),buildingPower:1,reincarnationMultiplier:new f(1),coinOneMulti:new f(1),coinTwoMulti:new f(1),coinThreeMulti:new f(1),coinFourMulti:new f(1),coinFiveMulti:new f(1),globalCrystalMultiplier:new f(1),globalMythosMultiplier:new f(.01),grandmasterMultiplier:new f(1),atomsMultiplier:new f(1),mythosBuildingPower:1,challengeThreeMultiplier:new f(1),totalMythosOwned:0,prestigePointGain:new f(0),challengeFivePower:1/3,transcendPointGain:new f(0),reincarnationPointGain:new f(0),produceFirst:new f(0),produceSecond:new f(0),produceThird:new f(0),produceFourth:new f(0),produceFifth:new f(0),produceTotal:new f(0),produceFirstDiamonds:new f(0),produceSecondDiamonds:new f(0),produceThirdDiamonds:new f(0),produceFourthDiamonds:new f(0),produceFifthDiamonds:new f(0),produceDiamonds:new f(0),produceFirstMythos:new f(0),produceSecondMythos:new f(0),produceThirdMythos:new f(0),produceFourthMythos:new f(0),produceFifthMythos:new f(0),produceMythos:new f(0),produceFirstParticles:new f(0),produceSecondParticles:new f(0),produceThirdParticles:new f(0),produceFourthParticles:new f(0),produceFifthParticles:new f(0),produceParticles:new f(0),producePerSecond:new f(0),producePerSecondDiamonds:new f(0),producePerSecondMythos:new f(0),producePerSecondParticles:new f(0),uFourteenMulti:new f(1),uFifteenMulti:new f(1),tuSevenMulti:1,currentTab:"buildings",researchfiller1:"Hover over the grid to get details about researches!",researchfiller2:"Level: ",ordinals:["first","second","third","fourth","fifth","sixth","seventh","eighth","ninth","tenth","eleventh","twelfth","thirteenth","fourteenth","fifteenth","sixteenth","seventeenth","eighteenth","nineteenth","twentieth"],cardinals:["one","two","three","four","five","six","seven","eight","nine","ten","eleven","twelve","thirteen","fourteen","fifteen","sixteen","seventeen","eighteen","nineteen","twenty","twentyone","twentytwo","twentythree","twentyfour","twentyfive","twentysix","twentyseven","twentyeight","twentynine","thirty","thirtyone","thirtytwo","thirtythree","thirtyfour"],challengeBaseRequirements:[10,20,60,100,200,125,500,7500,2e8,35e8],prestigeamount:1,taxdivisor:new f("1"),taxdivisorcheck:new f("1"),runemultiplierincrease:{one:1,two:1,three:1,four:1,five:1},mythosupgrade13:new f("1"),mythosupgrade14:new f("1"),mythosupgrade15:new f("1"),challengefocus:0,maxexponent:1e4,effectiveLevelMult:1,optimalOfferingTimer:600,optimalObtainiumTimer:3600,runeSum:0,globalAntMult:new f("1"),antMultiplier:new f("1"),antOneProduce:new f("1"),antTwoProduce:new f("1"),antThreeProduce:new f("1"),antFourProduce:new f("1"),antFiveProduce:new f("1"),antSixProduce:new f("1"),antSevenProduce:new f("1"),antEightProduce:new f("1"),antCostGrowth:[1e41,3,10,100,1e4,1e8,1e16,1e32],antUpgradeBaseCost:[100,100,1e3,1e3,1e5,1e6,1e8,1e11,1e15,1e20,1e40,1e100],antUpgradeCostIncreases:[10,10,10,10,100,100,100,100,1e3,1e3,1e3,1e100],bonusant1:0,bonusant2:0,bonusant3:0,bonusant4:0,bonusant5:0,bonusant6:0,bonusant7:0,bonusant8:0,bonusant9:0,bonusant10:0,bonusant11:0,bonusant12:0,rune1level:1,rune2level:1,rune3level:1,rune4level:1,rune5level:1,rune1Talisman:0,rune2Talisman:0,rune3Talisman:0,rune4Talisman:0,rune5Talisman:0,talisman1Effect:[null,0,0,0,0,0],talisman2Effect:[null,0,0,0,0,0],talisman3Effect:[null,0,0,0,0,0],talisman4Effect:[null,0,0,0,0,0],talisman5Effect:[null,0,0,0,0,0],talisman6Effect:[null,0,0,0,0,0],talisman7Effect:[null,0,0,0,0,0],talisman6Power:0,talisman7Quarks:0,runescreen:"runes",settingscreen:"settings",singularityscreen:"shop",talismanResourceObtainiumCosts:[1e13,1e14,1e16,1e18,1e20,1e22,1e24],talismanResourceOfferingCosts:[100,1e4,1e5,1e6,1e7,1e8,1e9],talismanLevelCostMultiplier:[1,4,1e4,1e8,1e13,10,100],talismanPositiveModifier:[null,.75,1.5,2.25,3,3.75,4.5],talismanNegativeModifier:[null,0,0,0,0,0,0],commonTalismanEnhanceCost:[null,0,3e3,1e3,0,0,0,0],uncommonTalismanEnchanceCost:[null,0,1e4,3e3,1e3,0,0,0],rareTalismanEnchanceCost:[null,0,1e5,2e4,2e3,500,0,0],epicTalismanEnhanceCost:[null,0,2e6,2e5,2e4,2e3,1e3,0],legendaryTalismanEnchanceCost:[null,0,4e7,2e6,1e5,2e4,2500,200],mythicalTalismanEnchanceCost:[null,0,0,0,0,0,0,0],talismanRespec:1,obtainiumGain:0,mirrorTalismanStats:[null,1,1,1,1,1],antELO:0,effectiveELO:0,timeWarp:!1,blessingMultiplier:1,spiritMultiplier:1,runeBlessings:[0,0,0,0,0,0],runeSpirits:[0,0,0,0,0,0],effectiveRuneBlessingPower:[0,0,0,0,0,0],effectiveRuneSpiritPower:[0,0,0,0,0,0],blessingBaseCost:1e6,spiritBaseCost:1e20,triggerChallenge:0,prevReductionValue:-1,buildingSubTab:"coin",blessingbase:[null,1/500,1/5e3,1/2e3,1/750,1/200,1/1e4,1/5e3,1/10,1/1e4,1/1e3],blessingDRPower:[null,1/3,1/3,2/3,1/2,2/3,2,1/3,1/3,1/16,1/16],giftbase:[1/1e3,1/1e3,1/1e3,1/1e3,1/1e3,1/1e3,1/1e3,1/1e3,1/1e3,1/1e3],giftDRPower:[1/6,1/6,1/3,1/4,1/3,1,1/6,1/6,1/32,1/32],benedictionbase:[null,1/1e3,1/1e3,1/1e3,1/1e3,1/1e3,1/1e3,1/1e3,1/1e3,1/1e3,1/1e3],benedictionDRPower:[null,1/12,1/12,1/6,1/8,1/6,1/2,1/12,1/12,1/64,1/64],platonicCubeBase:[2/4e6,1.5/4e6,1/4e6,1/8e4,1/1e4,1/1e5,1/1e4,1/1e4],platonicDRPower:[1/5,1/5,1/5,1/5,1/16,1/16,1/4,1/8],cubeBonusMultiplier:[null,1,1,1,1,1,1,1,1,1,1],tesseractBonusMultiplier:[null,1,1,1,1,1,1,1,1,1,1],hypercubeBonusMultiplier:[null,1,1,1,1,1,1,1,1,1,1],platonicBonusMultiplier:[1,1,1,1,1,1,1,1],autoOfferingCounter:0,researchOrderByCost:[],viscosityPower:[1,.87,.8,.75,.7,.6,.54,.45,.39,.33,.3,.2,.1,.05,0,0,0],lazinessMultiplier:[1,1/3,1/10,1/40,1/200,1/1e5,1/1e7,1/1e10,1/1e13,1/1e16,1/1e20,1/1e25,1/1e35,1/1e50,1/1e65,1/1e80,1/1e100],hyperchallengedMultiplier:[1,1.2,1.5,1.7,3,5,8,13,21,34,55,100,400,1600,7777,18888,88888],illiteracyPower:[1,.8,.7,.6,.5,.3,.2,.15,.1,.06,.04,.02,.01,.005,0,0,0],deflationMultiplier:[1,.3,.1,.03,.01,1/1e6,1/1e8,1/1e10,1/1e12,1/1e15,1/1e18,1/1e25,1/1e35,1/1e50,1/1e77,0,0],extinctionMultiplier:[1,.92,.86,.8,.74,.65,.55,.5,.45,.4,.35,.3,.1,0,0,0,0],droughtMultiplier:[1,5,25,200,1e4,1e7,1e11,1e16,1e22,1e30,1e40,1e55,1e80,1e120,1e177,1e200,1e250],financialcollapsePower:[1,.9,.7,.6,.5,.37,.3,.23,.18,.15,.12,.09,.03,.01,.007,7e-4,7e-5],corruptionPointMultipliers:[1,3,4,5,6,7,7.75,8.5,9.25,10,10.75,11.5,12.25,13,16,20,25,33,35],ascendBuildingProduction:{first:new f("0"),second:new f("0"),third:new f("0"),fourth:new f("0"),fifth:new f("0")},freeUpgradeAccelerator:0,freeUpgradeMultiplier:0,acceleratorMultiplier:1,multiplierMultiplier:1,constUpgradeCosts:[null,1,13,17,237,316,4216,5623,74989,1e10,1e24],globalConstantMult:new f("1"),autoTalismanTimer:0,autoChallengeTimerIncrement:0,corruptionTrigger:1,challenge15Rewards:{cube1:1,ascensions:1,coinExponent:1,taxes:1,obtainium:1,offering:1,accelerator:1,multiplier:1,runeExp:1,runeBonus:1,cube2:1,transcendChallengeReduction:1,reincarnationChallengeReduction:1,antSpeed:1,bonusAntLevel:1,cube3:1,talismanBonus:1,globalSpeed:1,blessingBonus:1,constantBonus:1,cube4:1,spiritBonus:1,score:1,quarks:1,hepteractUnlocked:0,cube5:1,powder:1,exponent:1,freeOrbs:0,ascensionSpeed:1},autoResetTimers:{prestige:0,transcension:0,reincarnation:0,ascension:0},timeMultiplier:1,upgradeMultiplier:1,historyCountMax:20,isEvent:!1,shopEnhanceVision:!1},kl=We({},s);var El=sn(Ll()),Ye=new El.default;function ze(t){return ze=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ze(t)}function Mt(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function Cs(t,n){if(ze(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var a=r.call(t,n||"default");if(ze(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}function Yr(t){var n=Cs(t,"string");return ze(n)==="symbol"?n:String(n)}function Al(t,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,Yr(a.key),a)}}function St(t,n,r){return n&&Al(t.prototype,n),r&&Al(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ht(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zr(t,n){return zr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,o){return a.__proto__=o,a},zr(t,n)}function dr(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),n&&zr(t,n)}function _n(t,n){if(n&&(ze(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ht(t)}function Tt(t){return Tt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tt(t)}function Kt(t,n,r){return n=Yr(n),n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}function ws(t){if(Array.isArray(t))return t}function xs(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qa(t,n){(n==null||n>t.length)&&(n=t.length);for(var r=0,a=new Array(n);r<n;r++)a[r]=t[r];return a}function Ms(t,n){if(!!t){if(typeof t=="string")return qa(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qa(t,n)}}function Ss(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ts(t){return ws(t)||xs(t)||Ms(t)||Ss()}function Ol(t,n){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);n&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,a)}return r}function Ul(t){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?Ol(Object(r),!0).forEach(function(a){Kt(t,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ol(Object(r)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(r,a))})}return t}var Sg={type:"logger",log:function(n){this.output("log",n)},warn:function(n){this.output("warn",n)},error:function(n){this.output("error",n)},output:function(n,r){console&&console[n]&&console[n].apply(console,r)}},Tg=function(){function t(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Mt(this,t),this.init(n,r)}return St(t,[{key:"init",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=a.prefix||"i18next:",this.logger=r||Sg,this.options=a,this.debug=a.debug}},{key:"setDebug",value:function(r){this.debug=r}},{key:"log",value:function(){for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return this.forward(a,"log","",!0)}},{key:"warn",value:function(){for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return this.forward(a,"warn","",!0)}},{key:"error",value:function(){for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return this.forward(a,"error","")}},{key:"deprecate",value:function(){for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return this.forward(a,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(r,a,o,l){return l&&!this.debug?null:(typeof r[0]=="string"&&(r[0]="".concat(o).concat(this.prefix," ").concat(r[0])),this.logger[a](r))}},{key:"create",value:function(r){return new t(this.logger,Ul(Ul({},{prefix:"".concat(this.prefix,":").concat(r,":")}),this.options))}},{key:"clone",value:function(r){return r=r||this.options,r.prefix=r.prefix||this.prefix,new t(this.logger,r)}}]),t}(),Jt=new Tg,kn=function(){function t(){Mt(this,t),this.observers={}}return St(t,[{key:"on",value:function(r,a){var o=this;return r.split(" ").forEach(function(l){o.observers[l]=o.observers[l]||[],o.observers[l].push(a)}),this}},{key:"off",value:function(r,a){if(!!this.observers[r]){if(!a){delete this.observers[r];return}this.observers[r]=this.observers[r].filter(function(o){return o!==a})}}},{key:"emit",value:function(r){for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];if(this.observers[r]){var c=[].concat(this.observers[r]);c.forEach(function(d){d.apply(void 0,o)})}if(this.observers["*"]){var g=[].concat(this.observers["*"]);g.forEach(function(d){d.apply(d,[r].concat(o))})}}}]),t}();function Kr(){var t,n,r=new Promise(function(a,o){t=a,n=o});return r.resolve=t,r.reject=n,r}function Bl(t){return t==null?"":""+t}function kg(t,n,r){t.forEach(function(a){n[a]&&(r[a]=n[a])})}function Ps(t,n,r){function a(g){return g&&g.indexOf("###")>-1?g.replace(/###/g,"."):g}function o(){return!t||typeof t=="string"}for(var l=typeof n!="string"?[].concat(n):n.split(".");l.length>1;){if(o())return{};var c=a(l.shift());!t[c]&&r&&(t[c]=new r),Object.prototype.hasOwnProperty.call(t,c)?t=t[c]:t={}}return o()?{}:{obj:t,k:a(l.shift())}}function Rl(t,n,r){var a=Ps(t,n,Object),o=a.obj,l=a.k;o[l]=r}function Pg(t,n,r,a){var o=Ps(t,n,Object),l=o.obj,c=o.k;l[c]=l[c]||[],a&&(l[c]=l[c].concat(r)),a||l[c].push(r)}function Wa(t,n){var r=Ps(t,n),a=r.obj,o=r.k;if(!!a)return a[o]}function Il(t,n,r){var a=Wa(t,r);return a!==void 0?a:Wa(n,r)}function Yl(t,n,r){for(var a in n)a!=="__proto__"&&a!=="constructor"&&(a in t?typeof t[a]=="string"||t[a]instanceof String||typeof n[a]=="string"||n[a]instanceof String?r&&(t[a]=n[a]):Yl(t[a],n[a],r):t[a]=n[a]);return t}function fr(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var Lg={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function Eg(t){return typeof t=="string"?t.replace(/[&<>"'\/]/g,function(n){return Lg[n]}):t}var Ya=typeof window<"u"&&window.navigator&&typeof window.navigator.userAgentData>"u"&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,Ag=[" ",",","?","!",";"];function Og(t,n,r){n=n||"",r=r||"";var a=Ag.filter(function(g){return n.indexOf(g)<0&&r.indexOf(g)<0});if(a.length===0)return!0;var o=new RegExp("(".concat(a.map(function(g){return g==="?"?"\\?":g}).join("|"),")")),l=!o.test(t);if(!l){var c=t.indexOf(r);c>0&&!o.test(t.substring(0,c))&&(l=!0)}return l}function Nl(t,n){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);n&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,a)}return r}function ja(t){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?Nl(Object(r),!0).forEach(function(a){Kt(t,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Nl(Object(r)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(r,a))})}return t}function Ug(t){var n=Bg();return function(){var a=Tt(t),o;if(n){var l=Tt(this).constructor;o=Reflect.construct(a,arguments,l)}else o=a.apply(this,arguments);return _n(this,o)}}function Bg(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function zl(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!!t){if(t[n])return t[n];for(var a=n.split(r),o=t,l=0;l<a.length;++l){if(!o||typeof o[a[l]]=="string"&&l+1<a.length)return;if(o[a[l]]===void 0){for(var c=2,g=a.slice(l,l+c).join(r),d=o[g];d===void 0&&a.length>l+c;)c++,g=a.slice(l,l+c).join(r),d=o[g];if(d===void 0)return;if(d===null)return null;if(n.endsWith(g)){if(typeof d=="string")return d;if(g&&typeof d[g]=="string")return d[g]}var m=a.slice(l+c).join(r);return m?zl(d,m,r):void 0}o=o[a[l]]}return o}}var Rg=function(t){dr(r,t);var n=Ug(r);function r(a){var o,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};return Mt(this,r),o=n.call(this),Ya&&kn.call(Ht(o)),o.data=a||{},o.options=l,o.options.keySeparator===void 0&&(o.options.keySeparator="."),o.options.ignoreJSONStructure===void 0&&(o.options.ignoreJSONStructure=!0),o}return St(r,[{key:"addNamespaces",value:function(o){this.options.ns.indexOf(o)<0&&this.options.ns.push(o)}},{key:"removeNamespaces",value:function(o){var l=this.options.ns.indexOf(o);l>-1&&this.options.ns.splice(l,1)}},{key:"getResource",value:function(o,l,c){var g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},d=g.keySeparator!==void 0?g.keySeparator:this.options.keySeparator,m=g.ignoreJSONStructure!==void 0?g.ignoreJSONStructure:this.options.ignoreJSONStructure,h=[o,l];c&&typeof c!="string"&&(h=h.concat(c)),c&&typeof c=="string"&&(h=h.concat(d?c.split(d):c)),o.indexOf(".")>-1&&(h=o.split("."));var y=Wa(this.data,h);return y||!m||typeof c!="string"?y:zl(this.data&&this.data[o]&&this.data[o][l],c,d)}},{key:"addResource",value:function(o,l,c,g){var d=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},m=this.options.keySeparator;m===void 0&&(m=".");var h=[o,l];c&&(h=h.concat(m?c.split(m):c)),o.indexOf(".")>-1&&(h=o.split("."),g=l,l=h[1]),this.addNamespaces(l),Rl(this.data,h,g),d.silent||this.emit("added",o,l,c,g)}},{key:"addResources",value:function(o,l,c){var g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(var d in c)(typeof c[d]=="string"||Object.prototype.toString.apply(c[d])==="[object Array]")&&this.addResource(o,l,d,c[d],{silent:!0});g.silent||this.emit("added",o,l,c)}},{key:"addResourceBundle",value:function(o,l,c,g,d){var m=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},h=[o,l];o.indexOf(".")>-1&&(h=o.split("."),g=c,c=l,l=h[1]),this.addNamespaces(l);var y=Wa(this.data,h)||{};g?Yl(y,c,d):y=ja(ja({},y),c),Rl(this.data,h,y),m.silent||this.emit("added",o,l,c)}},{key:"removeResourceBundle",value:function(o,l){this.hasResourceBundle(o,l)&&delete this.data[o][l],this.removeNamespaces(l),this.emit("removed",o,l)}},{key:"hasResourceBundle",value:function(o,l){return this.getResource(o,l)!==void 0}},{key:"getResourceBundle",value:function(o,l){return l||(l=this.options.defaultNS),this.options.compatibilityAPI==="v1"?ja(ja({},{}),this.getResource(o,l)):this.getResource(o,l)}},{key:"getDataByLanguage",value:function(o){return this.data[o]}},{key:"hasLanguageSomeTranslations",value:function(o){var l=this.getDataByLanguage(o),c=l&&Object.keys(l)||[];return!!c.find(function(g){return l[g]&&Object.keys(l[g]).length>0})}},{key:"toJSON",value:function(){return this.data}}]),r}(kn),Kl={processors:{},addPostProcessor:function(n){this.processors[n.name]=n},handle:function(n,r,a,o,l){var c=this;return n.forEach(function(g){c.processors[g]&&(r=c.processors[g].process(r,a,o,l))}),r}};function Dl(t,n){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);n&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,a)}return r}function nt(t){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?Dl(Object(r),!0).forEach(function(a){Kt(t,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Dl(Object(r)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(r,a))})}return t}function Ig(t){var n=Ng();return function(){var a=Tt(t),o;if(n){var l=Tt(this).constructor;o=Reflect.construct(a,arguments,l)}else o=a.apply(this,arguments);return _n(this,o)}}function Ng(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var Hl={},Gl=function(t){dr(r,t);var n=Ig(r);function r(a){var o,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Mt(this,r),o=n.call(this),Ya&&kn.call(Ht(o)),kg(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],a,Ht(o)),o.options=l,o.options.keySeparator===void 0&&(o.options.keySeparator="."),o.logger=Jt.create("translator"),o}return St(r,[{key:"changeLanguage",value:function(o){o&&(this.language=o)}},{key:"exists",value:function(o){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(o==null)return!1;var c=this.resolve(o,l);return c&&c.res!==void 0}},{key:"extractFromKey",value:function(o,l){var c=l.nsSeparator!==void 0?l.nsSeparator:this.options.nsSeparator;c===void 0&&(c=":");var g=l.keySeparator!==void 0?l.keySeparator:this.options.keySeparator,d=l.ns||this.options.defaultNS||[],m=c&&o.indexOf(c)>-1,h=!this.options.userDefinedKeySeparator&&!l.keySeparator&&!this.options.userDefinedNsSeparator&&!l.nsSeparator&&!Og(o,c,g);if(m&&!h){var y=o.match(this.interpolator.nestingRegexp);if(y&&y.length>0)return{key:o,namespaces:d};var b=o.split(c);(c!==g||c===g&&this.options.ns.indexOf(b[0])>-1)&&(d=b.shift()),o=b.join(g)}return typeof d=="string"&&(d=[d]),{key:o,namespaces:d}}},{key:"translate",value:function(o,l,c){var g=this;if(ze(l)!=="object"&&this.options.overloadTranslationOptionHandler&&(l=this.options.overloadTranslationOptionHandler(arguments)),l||(l={}),o==null)return"";Array.isArray(o)||(o=[String(o)]);var d=l.returnDetails!==void 0?l.returnDetails:this.options.returnDetails,m=l.keySeparator!==void 0?l.keySeparator:this.options.keySeparator,h=this.extractFromKey(o[o.length-1],l),y=h.key,b=h.namespaces,w=b[b.length-1],S=l.lng||this.language,k=l.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(S&&S.toLowerCase()==="cimode"){if(k){var B=l.nsSeparator||this.options.nsSeparator;return d?(N.res="".concat(w).concat(B).concat(y),N):"".concat(w).concat(B).concat(y)}return d?(N.res=y,N):y}var N=this.resolve(o,l),I=N&&N.res,$=N&&N.usedKey||y,O=N&&N.exactUsedKey||y,v=Object.prototype.toString.apply(I),M=["[object Number]","[object Function]","[object RegExp]"],A=l.joinArrays!==void 0?l.joinArrays:this.options.joinArrays,F=!this.i18nFormat||this.i18nFormat.handleAsObject,Y=typeof I!="string"&&typeof I!="boolean"&&typeof I!="number";if(F&&I&&Y&&M.indexOf(v)<0&&!(typeof A=="string"&&v==="[object Array]")){if(!l.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var oe=this.options.returnedObjectHandler?this.options.returnedObjectHandler($,I,nt(nt({},l),{},{ns:b})):"key '".concat(y," (").concat(this.language,")' returned an object instead of string.");return d?(N.res=oe,N):oe}if(m){var te=v==="[object Array]",ue=te?[]:{},ye=te?O:$;for(var Re in I)if(Object.prototype.hasOwnProperty.call(I,Re)){var wt="".concat(ye).concat(m).concat(Re);ue[Re]=this.translate(wt,nt(nt({},l),{joinArrays:!1,ns:b})),ue[Re]===wt&&(ue[Re]=I[Re])}I=ue}}else if(F&&typeof A=="string"&&v==="[object Array]")I=I.join(A),I&&(I=this.extendTranslation(I,o,l,c));else{var Ve=!1,Je=!1,pt=l.count!==void 0&&typeof l.count!="string",Yt=r.hasDefaultValue(l),se=pt?this.pluralResolver.getSuffix(S,l.count,l):"",J=l["defaultValue".concat(se)]||l.defaultValue;!this.isValidLookup(I)&&Yt&&(Ve=!0,I=J),this.isValidLookup(I)||(Je=!0,I=y);var z=l.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,re=z&&Je?void 0:I,ne=Yt&&J!==I&&this.options.updateMissing;if(Je||Ve||ne){if(this.logger.log(ne?"updateKey":"missingKey",S,w,y,ne?J:I),m){var ie=this.resolve(y,nt(nt({},l),{},{keySeparator:!1}));ie&&ie.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var P=[],Oe=this.languageUtils.getFallbackCodes(this.options.fallbackLng,l.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Oe&&Oe[0])for(var cr=0;cr<Oe.length;cr++)P.push(Oe[cr]);else this.options.saveMissingTo==="all"?P=this.languageUtils.toResolveHierarchy(l.lng||this.language):P.push(l.lng||this.language);var Ba=function(wn,Qr,Ra){var Ia=Yt&&Ra!==I?Ra:re;g.options.missingKeyHandler?g.options.missingKeyHandler(wn,w,Qr,Ia,ne,l):g.backendConnector&&g.backendConnector.saveMissing&&g.backendConnector.saveMissing(wn,w,Qr,Ia,ne,l),g.emit("missingKey",wn,w,Qr,I)};this.options.saveMissing&&(this.options.saveMissingPlurals&&pt?P.forEach(function(Fr){g.pluralResolver.getSuffixes(Fr,l).forEach(function(wn){Ba([Fr],y+wn,l["defaultValue".concat(wn)]||J)})}):Ba(P,y,J))}I=this.extendTranslation(I,o,l,N,c),Je&&I===y&&this.options.appendNamespaceToMissingKey&&(I="".concat(w,":").concat(y)),(Je||Ve)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?I=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(w,":").concat(y):y,Ve?I:void 0):I=this.options.parseMissingKeyHandler(I))}return d?(N.res=I,N):I}},{key:"extendTranslation",value:function(o,l,c,g,d){var m=this;if(this.i18nFormat&&this.i18nFormat.parse)o=this.i18nFormat.parse(o,nt(nt({},this.options.interpolation.defaultVariables),c),g.usedLng,g.usedNS,g.usedKey,{resolved:g});else if(!c.skipInterpolation){c.interpolation&&this.interpolator.init(nt(nt({},c),{interpolation:nt(nt({},this.options.interpolation),c.interpolation)}));var h=typeof o=="string"&&(c&&c.interpolation&&c.interpolation.skipOnVariables!==void 0?c.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),y;if(h){var b=o.match(this.interpolator.nestingRegexp);y=b&&b.length}var w=c.replace&&typeof c.replace!="string"?c.replace:c;if(this.options.interpolation.defaultVariables&&(w=nt(nt({},this.options.interpolation.defaultVariables),w)),o=this.interpolator.interpolate(o,w,c.lng||this.language,c),h){var S=o.match(this.interpolator.nestingRegexp),k=S&&S.length;y<k&&(c.nest=!1)}c.nest!==!1&&(o=this.interpolator.nest(o,function(){for(var I=arguments.length,$=new Array(I),O=0;O<I;O++)$[O]=arguments[O];return d&&d[0]===$[0]&&!c.context?(m.logger.warn("It seems you are nesting recursively key: ".concat($[0]," in key: ").concat(l[0])),null):m.translate.apply(m,$.concat([l]))},c)),c.interpolation&&this.interpolator.reset()}var B=c.postProcess||this.options.postProcess,N=typeof B=="string"?[B]:B;return o!=null&&N&&N.length&&c.applyPostProcessor!==!1&&(o=Kl.handle(N,o,l,this.options&&this.options.postProcessPassResolved?nt({i18nResolved:g},c):c,this)),o}},{key:"resolve",value:function(o){var l=this,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},g,d,m,h,y;return typeof o=="string"&&(o=[o]),o.forEach(function(b){if(!l.isValidLookup(g)){var w=l.extractFromKey(b,c),S=w.key;d=S;var k=w.namespaces;l.options.fallbackNS&&(k=k.concat(l.options.fallbackNS));var B=c.count!==void 0&&typeof c.count!="string",N=B&&!c.ordinal&&c.count===0&&l.pluralResolver.shouldUseIntlApi(),I=c.context!==void 0&&(typeof c.context=="string"||typeof c.context=="number")&&c.context!=="",$=c.lngs?c.lngs:l.languageUtils.toResolveHierarchy(c.lng||l.language,c.fallbackLng);k.forEach(function(O){l.isValidLookup(g)||(y=O,!Hl["".concat($[0],"-").concat(O)]&&l.utils&&l.utils.hasLoadedNamespace&&!l.utils.hasLoadedNamespace(y)&&(Hl["".concat($[0],"-").concat(O)]=!0,l.logger.warn('key "'.concat(d,'" for languages "').concat($.join(", "),`" won't get resolved as namespace "`).concat(y,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),$.forEach(function(v){if(!l.isValidLookup(g)){h=v;var M=[S];if(l.i18nFormat&&l.i18nFormat.addLookupKeys)l.i18nFormat.addLookupKeys(M,S,v,O,c);else{var A;B&&(A=l.pluralResolver.getSuffix(v,c.count,c));var F="".concat(l.options.pluralSeparator,"zero");if(B&&(M.push(S+A),N&&M.push(S+F)),I){var Y="".concat(S).concat(l.options.contextSeparator).concat(c.context);M.push(Y),B&&(M.push(Y+A),N&&M.push(Y+F))}}for(var oe;oe=M.pop();)l.isValidLookup(g)||(m=oe,g=l.getResource(v,O,oe,c))}}))})}}),{res:g,usedKey:d,exactUsedKey:m,usedLng:h,usedNS:y}}},{key:"isValidLookup",value:function(o){return o!==void 0&&!(!this.options.returnNull&&o===null)&&!(!this.options.returnEmptyString&&o==="")}},{key:"getResource",value:function(o,l,c){var g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(o,l,c,g):this.resourceStore.getResource(o,l,c,g)}}],[{key:"hasDefaultValue",value:function(o){var l="defaultValue";for(var c in o)if(Object.prototype.hasOwnProperty.call(o,c)&&l===c.substring(0,l.length)&&o[c]!==void 0)return!0;return!1}}]),r}(kn);function ks(t){return t.charAt(0).toUpperCase()+t.slice(1)}var $l=function(){function t(n){Mt(this,t),this.options=n,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Jt.create("languageUtils")}return St(t,[{key:"getScriptPartFromCode",value:function(r){if(!r||r.indexOf("-")<0)return null;var a=r.split("-");return a.length===2||(a.pop(),a[a.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(a.join("-"))}},{key:"getLanguagePartFromCode",value:function(r){if(!r||r.indexOf("-")<0)return r;var a=r.split("-");return this.formatLanguageCode(a[0])}},{key:"formatLanguageCode",value:function(r){if(typeof r=="string"&&r.indexOf("-")>-1){var a=["hans","hant","latn","cyrl","cans","mong","arab"],o=r.split("-");return this.options.lowerCaseLng?o=o.map(function(l){return l.toLowerCase()}):o.length===2?(o[0]=o[0].toLowerCase(),o[1]=o[1].toUpperCase(),a.indexOf(o[1].toLowerCase())>-1&&(o[1]=ks(o[1].toLowerCase()))):o.length===3&&(o[0]=o[0].toLowerCase(),o[1].length===2&&(o[1]=o[1].toUpperCase()),o[0]!=="sgn"&&o[2].length===2&&(o[2]=o[2].toUpperCase()),a.indexOf(o[1].toLowerCase())>-1&&(o[1]=ks(o[1].toLowerCase())),a.indexOf(o[2].toLowerCase())>-1&&(o[2]=ks(o[2].toLowerCase()))),o.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?r.toLowerCase():r}},{key:"isSupportedCode",value:function(r){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(r=this.getLanguagePartFromCode(r)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(r)>-1}},{key:"getBestMatchFromCodes",value:function(r){var a=this;if(!r)return null;var o;return r.forEach(function(l){if(!o){var c=a.formatLanguageCode(l);(!a.options.supportedLngs||a.isSupportedCode(c))&&(o=c)}}),!o&&this.options.supportedLngs&&r.forEach(function(l){if(!o){var c=a.getLanguagePartFromCode(l);if(a.isSupportedCode(c))return o=c;o=a.options.supportedLngs.find(function(g){if(g.indexOf(c)===0)return g})}}),o||(o=this.getFallbackCodes(this.options.fallbackLng)[0]),o}},{key:"getFallbackCodes",value:function(r,a){if(!r)return[];if(typeof r=="function"&&(r=r(a)),typeof r=="string"&&(r=[r]),Object.prototype.toString.apply(r)==="[object Array]")return r;if(!a)return r.default||[];var o=r[a];return o||(o=r[this.getScriptPartFromCode(a)]),o||(o=r[this.formatLanguageCode(a)]),o||(o=r[this.getLanguagePartFromCode(a)]),o||(o=r.default),o||[]}},{key:"toResolveHierarchy",value:function(r,a){var o=this,l=this.getFallbackCodes(a||this.options.fallbackLng||[],r),c=[],g=function(m){!m||(o.isSupportedCode(m)?c.push(m):o.logger.warn("rejecting language code not found in supportedLngs: ".concat(m)))};return typeof r=="string"&&r.indexOf("-")>-1?(this.options.load!=="languageOnly"&&g(this.formatLanguageCode(r)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&g(this.getScriptPartFromCode(r)),this.options.load!=="currentOnly"&&g(this.getLanguagePartFromCode(r))):typeof r=="string"&&g(this.formatLanguageCode(r)),l.forEach(function(d){c.indexOf(d)<0&&g(o.formatLanguageCode(d))}),c}}]),t}(),Dg=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Hg={1:function(n){return Number(n>1)},2:function(n){return Number(n!=1)},3:function(n){return 0},4:function(n){return Number(n%10==1&&n%100!=11?0:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?1:2)},5:function(n){return Number(n==0?0:n==1?1:n==2?2:n%100>=3&&n%100<=10?3:n%100>=11?4:5)},6:function(n){return Number(n==1?0:n>=2&&n<=4?1:2)},7:function(n){return Number(n==1?0:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?1:2)},8:function(n){return Number(n==1?0:n==2?1:n!=8&&n!=11?2:3)},9:function(n){return Number(n>=2)},10:function(n){return Number(n==1?0:n==2?1:n<7?2:n<11?3:4)},11:function(n){return Number(n==1||n==11?0:n==2||n==12?1:n>2&&n<20?2:3)},12:function(n){return Number(n%10!=1||n%100==11)},13:function(n){return Number(n!==0)},14:function(n){return Number(n==1?0:n==2?1:n==3?2:3)},15:function(n){return Number(n%10==1&&n%100!=11?0:n%10>=2&&(n%100<10||n%100>=20)?1:2)},16:function(n){return Number(n%10==1&&n%100!=11?0:n!==0?1:2)},17:function(n){return Number(n==1||n%10==1&&n%100!=11?0:1)},18:function(n){return Number(n==0?0:n==1?1:2)},19:function(n){return Number(n==1?0:n==0||n%100>1&&n%100<11?1:n%100>10&&n%100<20?2:3)},20:function(n){return Number(n==1?0:n==0||n%100>0&&n%100<20?1:2)},21:function(n){return Number(n%100==1?1:n%100==2?2:n%100==3||n%100==4?3:0)},22:function(n){return Number(n==1?0:n==2?1:(n<0||n>10)&&n%10==0?2:3)}},Gg=["v1","v2","v3"],Fl={zero:0,one:1,two:2,few:3,many:4,other:5};function $g(){var t={};return Dg.forEach(function(n){n.lngs.forEach(function(r){t[r]={numbers:n.nr,plurals:Hg[n.fc]}})}),t}var Fg=function(){function t(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Mt(this,t),this.languageUtils=n,this.options=r,this.logger=Jt.create("pluralResolver"),(!this.options.compatibilityJSON||this.options.compatibilityJSON==="v4")&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=$g()}return St(t,[{key:"addRule",value:function(r,a){this.rules[r]=a}},{key:"getRule",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(r,{type:a.ordinal?"ordinal":"cardinal"})}catch(o){return}return this.rules[r]||this.rules[this.languageUtils.getLanguagePartFromCode(r)]}},{key:"needsPlural",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=this.getRule(r,a);return this.shouldUseIntlApi()?o&&o.resolvedOptions().pluralCategories.length>1:o&&o.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(r,a){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(r,o).map(function(l){return"".concat(a).concat(l)})}},{key:"getSuffixes",value:function(r){var a=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=this.getRule(r,o);return l?this.shouldUseIntlApi()?l.resolvedOptions().pluralCategories.sort(function(c,g){return Fl[c]-Fl[g]}).map(function(c){return"".concat(a.options.prepend).concat(c)}):l.numbers.map(function(c){return a.getSuffix(r,c,o)}):[]}},{key:"getSuffix",value:function(r,a){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},l=this.getRule(r,o);return l?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(l.select(a)):this.getSuffixRetroCompatible(l,a):(this.logger.warn("no plural rule found for: ".concat(r)),"")}},{key:"getSuffixRetroCompatible",value:function(r,a){var o=this,l=r.noAbs?r.plurals(a):r.plurals(Math.abs(a)),c=r.numbers[l];this.options.simplifyPluralSuffix&&r.numbers.length===2&&r.numbers[0]===1&&(c===2?c="plural":c===1&&(c=""));var g=function(){return o.options.prepend&&c.toString()?o.options.prepend+c.toString():c.toString()};return this.options.compatibilityJSON==="v1"?c===1?"":typeof c=="number"?"_plural_".concat(c.toString()):g():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&r.numbers.length===2&&r.numbers[0]===1?g():this.options.prepend&&l.toString()?this.options.prepend+l.toString():l.toString()}},{key:"shouldUseIntlApi",value:function(){return!Gg.includes(this.options.compatibilityJSON)}}]),t}();function Ql(t,n){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);n&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,a)}return r}function Gt(t){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?Ql(Object(r),!0).forEach(function(a){Kt(t,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ql(Object(r)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(r,a))})}return t}var Qg=function(){function t(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Mt(this,t),this.logger=Jt.create("interpolator"),this.options=n,this.format=n.interpolation&&n.interpolation.format||function(r){return r},this.init(n)}return St(t,[{key:"init",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};r.interpolation||(r.interpolation={escapeValue:!0});var a=r.interpolation;this.escape=a.escape!==void 0?a.escape:Eg,this.escapeValue=a.escapeValue!==void 0?a.escapeValue:!0,this.useRawValueToEscape=a.useRawValueToEscape!==void 0?a.useRawValueToEscape:!1,this.prefix=a.prefix?fr(a.prefix):a.prefixEscaped||"{{",this.suffix=a.suffix?fr(a.suffix):a.suffixEscaped||"}}",this.formatSeparator=a.formatSeparator?a.formatSeparator:a.formatSeparator||",",this.unescapePrefix=a.unescapeSuffix?"":a.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":a.unescapeSuffix||"",this.nestingPrefix=a.nestingPrefix?fr(a.nestingPrefix):a.nestingPrefixEscaped||fr("$t("),this.nestingSuffix=a.nestingSuffix?fr(a.nestingSuffix):a.nestingSuffixEscaped||fr(")"),this.nestingOptionsSeparator=a.nestingOptionsSeparator?a.nestingOptionsSeparator:a.nestingOptionsSeparator||",",this.maxReplaces=a.maxReplaces?a.maxReplaces:1e3,this.alwaysFormat=a.alwaysFormat!==void 0?a.alwaysFormat:!1,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var r="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(r,"g");var a="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(a,"g");var o="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(o,"g")}},{key:"interpolate",value:function(r,a,o,l){var c=this,g,d,m,h=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function y(B){return B.replace(/\$/g,"$$$$")}var b=function(N){if(N.indexOf(c.formatSeparator)<0){var I=Il(a,h,N);return c.alwaysFormat?c.format(I,void 0,o,Gt(Gt(Gt({},l),a),{},{interpolationkey:N})):I}var $=N.split(c.formatSeparator),O=$.shift().trim(),v=$.join(c.formatSeparator).trim();return c.format(Il(a,h,O),v,o,Gt(Gt(Gt({},l),a),{},{interpolationkey:O}))};this.resetRegExp();var w=l&&l.missingInterpolationHandler||this.options.missingInterpolationHandler,S=l&&l.interpolation&&l.interpolation.skipOnVariables!==void 0?l.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables,k=[{regex:this.regexpUnescape,safeValue:function(N){return y(N)}},{regex:this.regexp,safeValue:function(N){return c.escapeValue?y(c.escape(N)):y(N)}}];return k.forEach(function(B){for(m=0;g=B.regex.exec(r);){var N=g[1].trim();if(d=b(N),d===void 0)if(typeof w=="function"){var I=w(r,g,l);d=typeof I=="string"?I:""}else if(l&&l.hasOwnProperty(N))d="";else if(S){d=g[0];continue}else c.logger.warn("missed to pass in variable ".concat(N," for interpolating ").concat(r)),d="";else typeof d!="string"&&!c.useRawValueToEscape&&(d=Bl(d));var $=B.safeValue(d);if(r=r.replace(g[0],$),S?(B.regex.lastIndex+=d.length,B.regex.lastIndex-=g[0].length):B.regex.lastIndex=0,m++,m>=c.maxReplaces)break}}),r}},{key:"nest",value:function(r,a){var o=this,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},c,g,d;function m(w,S){var k=this.nestingOptionsSeparator;if(w.indexOf(k)<0)return w;var B=w.split(new RegExp("".concat(k,"[ ]*{"))),N="{".concat(B[1]);w=B[0],N=this.interpolate(N,d);var I=N.match(/'/g),$=N.match(/"/g);(I&&I.length%2===0&&!$||$.length%2!==0)&&(N=N.replace(/'/g,'"'));try{d=JSON.parse(N),S&&(d=Gt(Gt({},S),d))}catch(O){return this.logger.warn("failed parsing options string in nesting for key ".concat(w),O),"".concat(w).concat(k).concat(N)}return delete d.defaultValue,w}for(;c=this.nestingRegexp.exec(r);){var h=[];d=Gt({},l),d=d.replace&&typeof d.replace!="string"?d.replace:d,d.applyPostProcessor=!1,delete d.defaultValue;var y=!1;if(c[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(c[1])){var b=c[1].split(this.formatSeparator).map(function(w){return w.trim()});c[1]=b.shift(),h=b,y=!0}if(g=a(m.call(this,c[1].trim(),d),d),g&&c[0]===r&&typeof g!="string")return g;typeof g!="string"&&(g=Bl(g)),g||(this.logger.warn("missed to resolve ".concat(c[1]," for nesting ").concat(r)),g=""),y&&(g=h.reduce(function(w,S){return o.format(w,S,l.lng,Gt(Gt({},l),{},{interpolationkey:c[1].trim()}))},g.trim())),r=r.replace(c[0],g),this.regexp.lastIndex=0}return r}}]),t}();function _l(t,n){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);n&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,a)}return r}function Tn(t){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?_l(Object(r),!0).forEach(function(a){Kt(t,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_l(Object(r)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(r,a))})}return t}function _g(t){var n=t.toLowerCase().trim(),r={};if(t.indexOf("(")>-1){var a=t.split("(");n=a[0].toLowerCase().trim();var o=a[1].substring(0,a[1].length-1);if(n==="currency"&&o.indexOf(":")<0)r.currency||(r.currency=o.trim());else if(n==="relativetime"&&o.indexOf(":")<0)r.range||(r.range=o.trim());else{var l=o.split(";");l.forEach(function(c){if(!!c){var g=c.split(":"),d=Ts(g),m=d[0],h=d.slice(1),y=h.join(":").trim().replace(/^'+|'+$/g,"");r[m.trim()]||(r[m.trim()]=y),y==="false"&&(r[m.trim()]=!1),y==="true"&&(r[m.trim()]=!0),isNaN(y)||(r[m.trim()]=parseInt(y,10))}})}}return{formatName:n,formatOptions:r}}function mr(t){var n={};return function(a,o,l){var c=o+JSON.stringify(l),g=n[c];return g||(g=t(o,l),n[c]=g),g(a)}}var qg=function(){function t(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Mt(this,t),this.logger=Jt.create("formatter"),this.options=n,this.formats={number:mr(function(r,a){var o=new Intl.NumberFormat(r,a);return function(l){return o.format(l)}}),currency:mr(function(r,a){var o=new Intl.NumberFormat(r,Tn(Tn({},a),{},{style:"currency"}));return function(l){return o.format(l)}}),datetime:mr(function(r,a){var o=new Intl.DateTimeFormat(r,Tn({},a));return function(l){return o.format(l)}}),relativetime:mr(function(r,a){var o=new Intl.RelativeTimeFormat(r,Tn({},a));return function(l){return o.format(l,a.range||"day")}}),list:mr(function(r,a){var o=new Intl.ListFormat(r,Tn({},a));return function(l){return o.format(l)}})},this.init(n)}return St(t,[{key:"init",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}},o=a.interpolation;this.formatSeparator=o.formatSeparator?o.formatSeparator:o.formatSeparator||","}},{key:"add",value:function(r,a){this.formats[r.toLowerCase().trim()]=a}},{key:"addCached",value:function(r,a){this.formats[r.toLowerCase().trim()]=mr(a)}},{key:"format",value:function(r,a,o,l){var c=this,g=a.split(this.formatSeparator),d=g.reduce(function(m,h){var y=_g(h),b=y.formatName,w=y.formatOptions;if(c.formats[b]){var S=m;try{var k=l&&l.formatParams&&l.formatParams[l.interpolationkey]||{},B=k.locale||k.lng||l.locale||l.lng||o;S=c.formats[b](m,B,Tn(Tn(Tn({},w),l),k))}catch(N){c.logger.warn(N)}return S}else c.logger.warn("there was no format function for ".concat(b));return m},r);return d}}]),t}();function ql(t,n){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);n&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,a)}return r}function jl(t){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?ql(Object(r),!0).forEach(function(a){Kt(t,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ql(Object(r)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(r,a))})}return t}function jg(t){var n=Vg();return function(){var a=Tt(t),o;if(n){var l=Tt(this).constructor;o=Reflect.construct(a,arguments,l)}else o=a.apply(this,arguments);return _n(this,o)}}function Vg(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Wg(t,n){t.pending[n]!==void 0&&(delete t.pending[n],t.pendingCount--)}var Xg=function(t){dr(r,t);var n=jg(r);function r(a,o,l){var c,g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return Mt(this,r),c=n.call(this),Ya&&kn.call(Ht(c)),c.backend=a,c.store=o,c.services=l,c.languageUtils=l.languageUtils,c.options=g,c.logger=Jt.create("backendConnector"),c.waitingReads=[],c.maxParallelReads=g.maxParallelReads||10,c.readingCalls=0,c.maxRetries=g.maxRetries>=0?g.maxRetries:5,c.retryTimeout=g.retryTimeout>=1?g.retryTimeout:350,c.state={},c.queue=[],c.backend&&c.backend.init&&c.backend.init(l,g.backend,g),c}return St(r,[{key:"queueLoad",value:function(o,l,c,g){var d=this,m={},h={},y={},b={};return o.forEach(function(w){var S=!0;l.forEach(function(k){var B="".concat(w,"|").concat(k);!c.reload&&d.store.hasResourceBundle(w,k)?d.state[B]=2:d.state[B]<0||(d.state[B]===1?h[B]===void 0&&(h[B]=!0):(d.state[B]=1,S=!1,h[B]===void 0&&(h[B]=!0),m[B]===void 0&&(m[B]=!0),b[k]===void 0&&(b[k]=!0)))}),S||(y[w]=!0)}),(Object.keys(m).length||Object.keys(h).length)&&this.queue.push({pending:h,pendingCount:Object.keys(h).length,loaded:{},errors:[],callback:g}),{toLoad:Object.keys(m),pending:Object.keys(h),toLoadLanguages:Object.keys(y),toLoadNamespaces:Object.keys(b)}}},{key:"loaded",value:function(o,l,c){var g=o.split("|"),d=g[0],m=g[1];l&&this.emit("failedLoading",d,m,l),c&&this.store.addResourceBundle(d,m,c),this.state[o]=l?-1:2;var h={};this.queue.forEach(function(y){Pg(y.loaded,[d],m),Wg(y,o),l&&y.errors.push(l),y.pendingCount===0&&!y.done&&(Object.keys(y.loaded).forEach(function(b){h[b]||(h[b]={});var w=y.loaded[b];w.length&&w.forEach(function(S){h[b][S]===void 0&&(h[b][S]=!0)})}),y.done=!0,y.errors.length?y.callback(y.errors):y.callback())}),this.emit("loaded",h),this.queue=this.queue.filter(function(y){return!y.done})}},{key:"read",value:function(o,l,c){var g=this,d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,m=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,h=arguments.length>5?arguments[5]:void 0;if(!o.length)return h(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:o,ns:l,fcName:c,tried:d,wait:m,callback:h});return}this.readingCalls++;var y=function(k,B){if(g.readingCalls--,g.waitingReads.length>0){var N=g.waitingReads.shift();g.read(N.lng,N.ns,N.fcName,N.tried,N.wait,N.callback)}if(k&&B&&d<g.maxRetries){setTimeout(function(){g.read.call(g,o,l,c,d+1,m*2,h)},m);return}h(k,B)},b=this.backend[c].bind(this.backend);if(b.length===2){try{var w=b(o,l);w&&typeof w.then=="function"?w.then(function(S){return y(null,S)}).catch(y):y(null,w)}catch(S){y(S)}return}return b(o,l,y)}},{key:"prepareLoading",value:function(o,l){var c=this,g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},d=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),d&&d();typeof o=="string"&&(o=this.languageUtils.toResolveHierarchy(o)),typeof l=="string"&&(l=[l]);var m=this.queueLoad(o,l,g,d);if(!m.toLoad.length)return m.pending.length||d(),null;m.toLoad.forEach(function(h){c.loadOne(h)})}},{key:"load",value:function(o,l,c){this.prepareLoading(o,l,{},c)}},{key:"reload",value:function(o,l,c){this.prepareLoading(o,l,{reload:!0},c)}},{key:"loadOne",value:function(o){var l=this,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",g=o.split("|"),d=g[0],m=g[1];this.read(d,m,"read",void 0,void 0,function(h,y){h&&l.logger.warn("".concat(c,"loading namespace ").concat(m," for language ").concat(d," failed"),h),!h&&y&&l.logger.log("".concat(c,"loaded namespace ").concat(m," for language ").concat(d),y),l.loaded(o,h,y)})}},{key:"saveMissing",value:function(o,l,c,g,d){var m=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},h=arguments.length>6&&arguments[6]!==void 0?arguments[6]:function(){};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(l)){this.logger.warn('did not save key "'.concat(c,'" as the namespace "').concat(l,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(c==null||c==="")){if(this.backend&&this.backend.create){var y=jl(jl({},m),{},{isUpdate:d}),b=this.backend.create.bind(this.backend);if(b.length<6)try{var w;b.length===5?w=b(o,l,c,g,y):w=b(o,l,c,g),w&&typeof w.then=="function"?w.then(function(S){return h(null,S)}).catch(h):h(null,w)}catch(S){h(S)}else b(o,l,c,g,h,y)}!o||!o[0]||this.store.addResource(o[0],l,c,g)}}}]),r}(kn);function Vl(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(n){var r={};if(ze(n[1])==="object"&&(r=n[1]),typeof n[1]=="string"&&(r.defaultValue=n[1]),typeof n[2]=="string"&&(r.tDescription=n[2]),ze(n[2])==="object"||ze(n[3])==="object"){var a=n[3]||n[2];Object.keys(a).forEach(function(o){r[o]=a[o]})}return r},interpolation:{escapeValue:!0,format:function(n,r,a,o){return n},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function Wl(t){return typeof t.ns=="string"&&(t.ns=[t.ns]),typeof t.fallbackLng=="string"&&(t.fallbackLng=[t.fallbackLng]),typeof t.fallbackNS=="string"&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function Xl(t,n){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);n&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),r.push.apply(r,a)}return r}function Zt(t){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?Xl(Object(r),!0).forEach(function(a){Kt(t,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Xl(Object(r)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(r,a))})}return t}function Yg(t){var n=zg();return function(){var a=Tt(t),o;if(n){var l=Tt(this).constructor;o=Reflect.construct(a,arguments,l)}else o=a.apply(this,arguments);return _n(this,o)}}function zg(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Va(){}function Kg(t){var n=Object.getOwnPropertyNames(Object.getPrototypeOf(t));n.forEach(function(r){typeof t[r]=="function"&&(t[r]=t[r].bind(t))})}var Xa=function(t){dr(r,t);var n=Yg(r);function r(){var a,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=arguments.length>1?arguments[1]:void 0;if(Mt(this,r),a=n.call(this),Ya&&kn.call(Ht(a)),a.options=Wl(o),a.services={},a.logger=Jt,a.modules={external:[]},Kg(Ht(a)),l&&!a.isInitialized&&!o.isClone){if(!a.options.initImmediate)return a.init(o,l),_n(a,Ht(a));setTimeout(function(){a.init(o,l)},0)}return a}return St(r,[{key:"init",value:function(){var o=this,l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=arguments.length>1?arguments[1]:void 0;typeof l=="function"&&(c=l,l={}),!l.defaultNS&&l.defaultNS!==!1&&l.ns&&(typeof l.ns=="string"?l.defaultNS=l.ns:l.ns.indexOf("translation")<0&&(l.defaultNS=l.ns[0]));var g=Vl();this.options=Zt(Zt(Zt({},g),this.options),Wl(l)),this.options.compatibilityAPI!=="v1"&&(this.options.interpolation=Zt(Zt({},g.interpolation),this.options.interpolation)),l.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=l.keySeparator),l.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=l.nsSeparator);function d(N){return N?typeof N=="function"?new N:N:null}if(!this.options.isClone){this.modules.logger?Jt.init(d(this.modules.logger),this.options):Jt.init(null,this.options);var m;this.modules.formatter?m=this.modules.formatter:typeof Intl<"u"&&(m=qg);var h=new $l(this.options);this.store=new Rg(this.options.resources,this.options);var y=this.services;y.logger=Jt,y.resourceStore=this.store,y.languageUtils=h,y.pluralResolver=new Fg(h,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),m&&(!this.options.interpolation.format||this.options.interpolation.format===g.interpolation.format)&&(y.formatter=d(m),y.formatter.init(y,this.options),this.options.interpolation.format=y.formatter.format.bind(y.formatter)),y.interpolator=new Qg(this.options),y.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},y.backendConnector=new Xg(d(this.modules.backend),y.resourceStore,y,this.options),y.backendConnector.on("*",function(N){for(var I=arguments.length,$=new Array(I>1?I-1:0),O=1;O<I;O++)$[O-1]=arguments[O];o.emit.apply(o,[N].concat($))}),this.modules.languageDetector&&(y.languageDetector=d(this.modules.languageDetector),y.languageDetector.init&&y.languageDetector.init(y,this.options.detection,this.options)),this.modules.i18nFormat&&(y.i18nFormat=d(this.modules.i18nFormat),y.i18nFormat.init&&y.i18nFormat.init(this)),this.translator=new Gl(this.services,this.options),this.translator.on("*",function(N){for(var I=arguments.length,$=new Array(I>1?I-1:0),O=1;O<I;O++)$[O-1]=arguments[O];o.emit.apply(o,[N].concat($))}),this.modules.external.forEach(function(N){N.init&&N.init(o)})}if(this.format=this.options.interpolation.format,c||(c=Va),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var b=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);b.length>0&&b[0]!=="dev"&&(this.options.lng=b[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined");var w=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];w.forEach(function(N){o[N]=function(){var I;return(I=o.store)[N].apply(I,arguments)}});var S=["addResource","addResources","addResourceBundle","removeResourceBundle"];S.forEach(function(N){o[N]=function(){var I;return(I=o.store)[N].apply(I,arguments),o}});var k=Kr(),B=function(){var I=function(O,v){o.isInitialized&&!o.initializedStoreOnce&&o.logger.warn("init: i18next is already initialized. You should call init just once!"),o.isInitialized=!0,o.options.isClone||o.logger.log("initialized",o.options),o.emit("initialized",o.options),k.resolve(v),c(O,v)};if(o.languages&&o.options.compatibilityAPI!=="v1"&&!o.isInitialized)return I(null,o.t.bind(o));o.changeLanguage(o.options.lng,I)};return this.options.resources||!this.options.initImmediate?B():setTimeout(B,0),k}},{key:"loadResources",value:function(o){var l=this,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Va,g=c,d=typeof o=="string"?o:this.language;if(typeof o=="function"&&(g=o),!this.options.resources||this.options.partialBundledLanguages){if(d&&d.toLowerCase()==="cimode")return g();var m=[],h=function(w){if(!!w){var S=l.services.languageUtils.toResolveHierarchy(w);S.forEach(function(k){m.indexOf(k)<0&&m.push(k)})}};if(d)h(d);else{var y=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);y.forEach(function(b){return h(b)})}this.options.preload&&this.options.preload.forEach(function(b){return h(b)}),this.services.backendConnector.load(m,this.options.ns,function(b){!b&&!l.resolvedLanguage&&l.language&&l.setResolvedLanguage(l.language),g(b)})}else g(null)}},{key:"reloadResources",value:function(o,l,c){var g=Kr();return o||(o=this.languages),l||(l=this.options.ns),c||(c=Va),this.services.backendConnector.reload(o,l,function(d){g.resolve(),c(d)}),g}},{key:"use",value:function(o){if(!o)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!o.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return o.type==="backend"&&(this.modules.backend=o),(o.type==="logger"||o.log&&o.warn&&o.error)&&(this.modules.logger=o),o.type==="languageDetector"&&(this.modules.languageDetector=o),o.type==="i18nFormat"&&(this.modules.i18nFormat=o),o.type==="postProcessor"&&Kl.addPostProcessor(o),o.type==="formatter"&&(this.modules.formatter=o),o.type==="3rdParty"&&this.modules.external.push(o),this}},{key:"setResolvedLanguage",value:function(o){if(!(!o||!this.languages)&&!(["cimode","dev"].indexOf(o)>-1))for(var l=0;l<this.languages.length;l++){var c=this.languages[l];if(!(["cimode","dev"].indexOf(c)>-1)&&this.store.hasLanguageSomeTranslations(c)){this.resolvedLanguage=c;break}}}},{key:"changeLanguage",value:function(o,l){var c=this;this.isLanguageChangingTo=o;var g=Kr();this.emit("languageChanging",o);var d=function(b){c.language=b,c.languages=c.services.languageUtils.toResolveHierarchy(b),c.resolvedLanguage=void 0,c.setResolvedLanguage(b)},m=function(b,w){w?(d(w),c.translator.changeLanguage(w),c.isLanguageChangingTo=void 0,c.emit("languageChanged",w),c.logger.log("languageChanged",w)):c.isLanguageChangingTo=void 0,g.resolve(function(){return c.t.apply(c,arguments)}),l&&l(b,function(){return c.t.apply(c,arguments)})},h=function(b){!o&&!b&&c.services.languageDetector&&(b=[]);var w=typeof b=="string"?b:c.services.languageUtils.getBestMatchFromCodes(b);w&&(c.language||d(w),c.translator.language||c.translator.changeLanguage(w),c.services.languageDetector&&c.services.languageDetector.cacheUserLanguage&&c.services.languageDetector.cacheUserLanguage(w)),c.loadResources(w,function(S){m(S,w)})};return!o&&this.services.languageDetector&&!this.services.languageDetector.async?h(this.services.languageDetector.detect()):!o&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(h):this.services.languageDetector.detect(h):h(o),g}},{key:"getFixedT",value:function(o,l,c){var g=this,d=function m(h,y){var b;if(ze(y)!=="object"){for(var w=arguments.length,S=new Array(w>2?w-2:0),k=2;k<w;k++)S[k-2]=arguments[k];b=g.options.overloadTranslationOptionHandler([h,y].concat(S))}else b=Zt({},y);b.lng=b.lng||m.lng,b.lngs=b.lngs||m.lngs,b.ns=b.ns||m.ns,b.keyPrefix=b.keyPrefix||c||m.keyPrefix;var B=g.options.keySeparator||".",N;return b.keyPrefix&&Array.isArray(h)?N=h.map(function(I){return"".concat(b.keyPrefix).concat(B).concat(I)}):N=b.keyPrefix?"".concat(b.keyPrefix).concat(B).concat(h):h,g.t(N,b)};return typeof o=="string"?d.lng=o:d.lngs=o,d.ns=l,d.keyPrefix=c,d}},{key:"t",value:function(){var o;return this.translator&&(o=this.translator).translate.apply(o,arguments)}},{key:"exists",value:function(){var o;return this.translator&&(o=this.translator).exists.apply(o,arguments)}},{key:"setDefaultNamespace",value:function(o){this.options.defaultNS=o}},{key:"hasLoadedNamespace",value:function(o){var l=this,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var g=this.resolvedLanguage||this.languages[0],d=this.options?this.options.fallbackLng:!1,m=this.languages[this.languages.length-1];if(g.toLowerCase()==="cimode")return!0;var h=function(w,S){var k=l.services.backendConnector.state["".concat(w,"|").concat(S)];return k===-1||k===2};if(c.precheck){var y=c.precheck(this,h);if(y!==void 0)return y}return!!(this.hasResourceBundle(g,o)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||h(g,o)&&(!d||h(m,o)))}},{key:"loadNamespaces",value:function(o,l){var c=this,g=Kr();return this.options.ns?(typeof o=="string"&&(o=[o]),o.forEach(function(d){c.options.ns.indexOf(d)<0&&c.options.ns.push(d)}),this.loadResources(function(d){g.resolve(),l&&l(d)}),g):(l&&l(),Promise.resolve())}},{key:"loadLanguages",value:function(o,l){var c=Kr();typeof o=="string"&&(o=[o]);var g=this.options.preload||[],d=o.filter(function(m){return g.indexOf(m)<0});return d.length?(this.options.preload=g.concat(d),this.loadResources(function(m){c.resolve(),l&&l(m)}),c):(l&&l(),Promise.resolve())}},{key:"dir",value:function(o){if(o||(o=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!o)return"rtl";var l=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],c=this.services&&this.services.languageUtils||new $l(Vl());return l.indexOf(c.getLanguagePartFromCode(o))>-1||o.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var o=this,l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Va,g=Zt(Zt(Zt({},this.options),l),{isClone:!0}),d=new r(g);(l.debug!==void 0||l.prefix!==void 0)&&(d.logger=d.logger.clone(l));var m=["store","services","language"];return m.forEach(function(h){d[h]=o[h]}),d.services=Zt({},this.services),d.services.utils={hasLoadedNamespace:d.hasLoadedNamespace.bind(d)},d.translator=new Gl(d.services,d.options),d.translator.on("*",function(h){for(var y=arguments.length,b=new Array(y>1?y-1:0),w=1;w<y;w++)b[w-1]=arguments[w];d.emit.apply(d,[h].concat(b))}),d.init(g,c),d.translator.options=d.options,d.translator.backendConnector.services.utils={hasLoadedNamespace:d.hasLoadedNamespace.bind(d)},d}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),r}(kn);Kt(Xa,"createInstance",function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new Xa(t,n)});var p=Xa.createInstance();p.createInstance=Xa.createInstance;var am=p.createInstance,om=p.dir,sm=p.init,im=p.loadResources,lm=p.reloadResources,cm=p.use,um=p.changeLanguage,pm=p.getFixedT,gm=p.t,dm=p.exists,fm=p.setDefaultNamespace,mm=p.hasLoadedNamespace,hm=p.loadNamespaces,ym=p.loadLanguages;var hr=[0,1,2,4,6,8,9,10,1,2,4,6,8,9,10,1,2,4,6,8,9,10,1,2,4,6,8,9,10,1,2,4,6,8,9,10,1,2,4,6,8,9,10,1,2,4,6,8,9,10,1,2,4,6,8,9,10,2,8,10,2,8,10,10,2,8,10,10,10,10,10,2,4,6,8,10,10,10,1,2,4,6,8,9,10,1,2,4,6,8,9,10,1,2,4,6,8,9,10,1,2,4,6,8,9,10,1,2,4,6,8,9,10,1,2,4,6,8,9,10,1,2,4,6,8,9,10,1,2,4,6,8,9,10,1,2,4,6,8,9,10,1,2,4,6,8,9,10,1,2,4,6,8,9,10,1,2,4,6,8,9,10,1,2,4,6,8,9,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,20,20,20,40,60,60,100,20,20,40,40,60,60,100,20,20,40,40,60,60,100,20,40,40,40,60,60,100,40,40,40,60,60,100,100,40,40,60,60,100,100,100,20,40,40,60,60,100,100,40,60,100,60,100,100,40,40,40,40,40,40,40,40,40,40,40,40,100,100,0,50,75,75,75,100,100,150,50,75,75,75,100,100,150,50,75,75,75,100,100,150,10,10,20,20,30,40,50],Pn=hr.reduce((t,n)=>t+n,0),Zg=t=>{let n=en(),r={118:u(Math.pow(.9925,e.challengecompletions[6]+e.challengecompletions[7]+e.challengecompletions[8]+e.challengecompletions[9]+e.challengecompletions[10]),4),169:u(f.log(e.antPoints.add(10),10),2),174:u(.4*f.log(e.antPoints.add(1),10),2),187:{x:u(Math.max(1,Math.log10(n[3]+1)-7),2),y:u(Math.min(100,e.ascensionCount/1e4),2)},188:u(Math.min(100,e.ascensionCount/5e4),2),189:u(Math.min(200,e.ascensionCount/25e5),2),193:u(f.log(e.ascendShards.add(1),10)/4,2),195:u(Math.min(25e3,f.log(e.ascendShards.add(1),10)/4),2),196:u(Math.min(2e3,f.log(e.ascendShards.add(1),10)/50),2),202:u(Math.min(200,e.ascensionCount/5e6),2),216:u(Math.min(200,e.ascensionCount/1e7),2),223:u(Math.min(200,e.ascensionCount/1337e4),2),240:u(Math.min(1.5,1+Math.max(2,Math.log10(Le().mult))/20),2),254:u(Math.min(15,Math.log10(n[3]+1)*.6),2,!0),255:u(Math.min(15,Math.log10(n[3]+1)*.6),2,!0),256:u(Math.min(15,Math.log10(n[3]+1)*.6),2,!0),257:u(Math.min(15,Math.log10(n[3]+1)*.6),2,!0),258:u(Math.min(15,Math.log10(n[3]+1)*.6),2,!0),262:u(Math.min(10,Math.log10(e.ascensionCount+1)),2),263:u(Math.min(10,Math.log10(e.ascensionCount+1)),2),264:u(Math.min(40,e.ascensionCount/2e11),2),265:u(Math.min(20,e.ascensionCount/8e12),2),266:u(Math.min(10,e.ascensionCount/1e14),2),267:u(Math.min(100,f.log(e.ascendShards.add(1),10)/1e3),2),270:u(Math.min(100,f.log(e.ascendShards.add(1),10)/1e4),2),271:u(Math.max(0,Math.min(1,(f.log(e.ascendShards.add(1),10)-1e5)/9e5)),2,!0)};if([3,4,5,6,7,10,11,12,13,14,17,18,19,20,21,24,25,26,27,28,31,32,33,34,35,36,37,38,43,44,45,46,47,50,51,52,53,57,58,59,60,61,62,71,72,73,74,75,76,77,78,79,80,82,84,85,86,87,89,91,92,93,94,96,98,99,100,101,102,103,105,106,107,108,110,112,115,117,119,122,124,126,127,128,129,131,132,133,134,135,136,137,140,141,147,171,172,173,176,177,178,179,180,181,182,197,198,199,200,201,204,205,206,207,208,209,211,212,213,214,215,218,219,220,221,222,250,251,253,259,260,261,274,275,276,277,278,279,280].includes(t)||t in r){let o=r[t],l=typeof o=="object"?o:{x:o};return p.t(`achievements.rewards.${t}`,l)}return""},Jg=async t=>{if(e.highestSingularityCount===0&&(t===36||t==38||t===255))return R(p.t(`achievements.alerts.${t}`))},Ke=t=>{t===1&&(e.prestigenoaccelerator===!0&&H(60),e.prestigenomultiplier===!0&&H(57),e.prestigenocoinupgrades===!0&&H(64),s.prestigePointGain.gte(1)&&H(36),s.prestigePointGain.gte(1e6)&&H(37),s.prestigePointGain.gte(1e100)&&H(38),s.prestigePointGain.gte("1e1000")&&H(39),s.prestigePointGain.gte("1e10000")&&H(40),s.prestigePointGain.gte("1e77777")&&H(41),s.prestigePointGain.gte("1e250000")&&H(42)),t===2&&(e.transcendnoaccelerator===!0&&H(61),e.transcendnomultiplier===!0&&H(58),e.transcendnocoinupgrades===!0&&H(65),e.transcendnocoinorprestigeupgrades===!0&&H(66),s.transcendPointGain.gte(1)&&H(43),s.transcendPointGain.gte(1e6)&&H(44),s.transcendPointGain.gte(1e50)&&H(45),s.transcendPointGain.gte(1e308)&&H(46),s.transcendPointGain.gte("1e1500")&&H(47),s.transcendPointGain.gte("1e25000")&&H(48),s.transcendPointGain.gte("1e100000")&&H(49)),t===3&&(e.reincarnatenoaccelerator===!0&&H(62),e.reincarnatenomultiplier===!0&&H(59),e.reincarnatenocoinupgrades===!0&&H(67),e.reincarnatenocoinorprestigeupgrades===!0&&H(68),e.reincarnatenocoinprestigeortranscendupgrades===!0&&H(69),e.reincarnatenocoinprestigetranscendorgeneratorupgrades===!0&&H(70),s.reincarnationPointGain.gte(1)&&H(50),s.reincarnationPointGain.gte(1e5)&&H(51),s.reincarnationPointGain.gte(1e30)&&H(52),s.reincarnationPointGain.gte(1e200)&&H(53),s.reincarnationPointGain.gte("1e1500")&&H(54),s.reincarnationPointGain.gte("1e5000")&&H(55),s.reincarnationPointGain.gte("1e7777")&&H(56))},ed=[[1,.5,78],[1,2.5,79],[1,4.5,80],[1,9.5,81],[1,19.5,82],[1,49.5,83],[1,74.5,84],[2,.5,85],[2,2.5,86],[2,4.5,87],[2,9.5,88],[2,19.5,89],[2,49.5,90],[2,74.5,91],[3,.5,92],[3,2.5,93],[3,4.5,94],[3,9.5,95],[3,19.5,96],[3,49.5,97],[3,74.5,98],[4,.5,99],[4,2.5,100],[4,4.5,101],[4,9.5,102],[4,19.5,103],[4,49.5,104],[4,74.5,105],[5,.5,106],[5,2.5,107],[5,4.5,108],[5,9.5,109],[5,19.5,110],[5,49.5,111],[5,74.5,112],[6,.5,113],[6,1.5,114],[6,2.5,115],[6,4.5,116],[6,9.5,117],[6,14.5,118],[6,24.5,119],[7,.5,120],[7,1.5,121],[7,2.5,122],[7,4.5,123],[7,9.5,124],[7,14.5,125],[7,24.5,126],[8,.5,127],[8,1.5,128],[8,2.5,129],[8,4.5,130],[8,9.5,131],[8,19.5,132],[8,24.5,133],[9,.5,134],[9,1.5,135],[9,2.5,136],[9,4.5,137],[9,9.5,138],[9,19.5,139],[9,24.5,140],[10,.5,141],[10,1.5,142],[10,2.5,143],[10,4.5,144],[10,9.5,145],[10,19.5,146],[10,24.5,147],[15,.5,252]],td={1:["1e1000",75],2:["1e1000",76],3:["1e99999",77],5:["1e120000",63]},kt=(t,n)=>{let r=le(e.upgrades.slice(101,106));for(let[,a,o]of ed.filter(([l])=>l===t))e.challengecompletions[t]>a&&e.achievements[o]<1&&H(o);if([1,2,3,5].includes(t)&&!n){let[a,o]=td[t];t===5?e.coinsThisTranscension.gte(a)&&e.acceleratorBought===0&&e.acceleratorBoostBought===0&&H(o):e.coinsThisTranscension.gte(a)&&r===0&&H(o)}if(t>=11&&t<=14){let a=[0,1,2,3,5,10,20,30];for(let o=1;o<=7;o++)e.challengecompletions[t]>=a[o]&&e.achievements[119+7*t+o]<1&&H(119+7*t+o)}e.challengecompletions[10]>=50&&t===11&&e.usedCorruptions[7]>=5&&e.achievements[247]<1&&H(247)},Zl=[()=>e.firstOwnedCoin>=1&&e.achievements[1]<.5,()=>e.firstOwnedCoin>=10&&e.achievements[2]<.5,()=>e.firstOwnedCoin>=100&&e.achievements[3]<.5,()=>e.firstOwnedCoin>=1e3&&e.achievements[4]<.5,()=>e.firstOwnedCoin>=5e3&&e.achievements[5]<.5,()=>e.firstOwnedCoin>=1e4&&e.achievements[6]<.5,()=>e.firstOwnedCoin>=2e4&&e.achievements[7]<.5,()=>e.secondOwnedCoin>=1&&e.achievements[8]<.5,()=>e.secondOwnedCoin>=10&&e.achievements[9]<.5,()=>e.secondOwnedCoin>=100&&e.achievements[10]<.5,()=>e.secondOwnedCoin>=1e3&&e.achievements[11]<.5,()=>e.secondOwnedCoin>=5e3&&e.achievements[12]<.5,()=>e.secondOwnedCoin>=1e4&&e.achievements[13]<.5,()=>e.secondOwnedCoin>=2e4&&e.achievements[14]<.5,()=>e.thirdOwnedCoin>=1&&e.achievements[15]<.5,()=>e.thirdOwnedCoin>=10&&e.achievements[16]<.5,()=>e.thirdOwnedCoin>=100&&e.achievements[17]<.5,()=>e.thirdOwnedCoin>=1e3&&e.achievements[18]<.5,()=>e.thirdOwnedCoin>=5e3&&e.achievements[19]<.5,()=>e.thirdOwnedCoin>=1e4&&e.achievements[20]<.5,()=>e.thirdOwnedCoin>=2e4&&e.achievements[21]<.5,()=>e.fourthOwnedCoin>=1&&e.achievements[22]<.5,()=>e.fourthOwnedCoin>=10&&e.achievements[23]<.5,()=>e.fourthOwnedCoin>=100&&e.achievements[24]<.5,()=>e.fourthOwnedCoin>=1e3&&e.achievements[25]<.5,()=>e.fourthOwnedCoin>=5e3&&e.achievements[26]<.5,()=>e.fourthOwnedCoin>=1e4&&e.achievements[27]<.5,()=>e.fourthOwnedCoin>=2e4&&e.achievements[28]<.5,()=>e.fifthOwnedCoin>=1&&e.achievements[29]<.5,()=>e.fifthOwnedCoin>=10&&e.achievements[30]<.5,()=>e.fifthOwnedCoin>=66&&e.achievements[31]<.5,()=>e.fifthOwnedCoin>=666&&e.achievements[32]<.5,()=>e.fifthOwnedCoin>=6666&&e.achievements[33]<.5,()=>e.fifthOwnedCoin>=17777&&e.achievements[34]<.5,()=>e.fifthOwnedCoin>=42777&&e.achievements[35]<.5],Jl=()=>{for(let t of Zl)if(t()){let n=Zl.indexOf(t)+1;H(n)}},yr=(t,n=0)=>{if(t===1){let r=[0,1,2,10,100,1e3,14142,141421,1414213,1e7,1e8,2e9,4e10,8e11,16e12,1e14];for(let a=1;a<=7;a++)e.ascensionCount>=r[a]&&e.achievements[182+a]<1&&H(182+a),e.ascensionCount>=r[a+8]&&e.achievements[259+a]<1&&H(259+a);e.ascensionCount>=r[8]&&e.achievements[240]<1&&H(240)}if(t===2){let r=[0,3.14,1e6,432e8,69e20,1509e30,1e66,"1.8e308","1e1000","1e5000","1e15000","1e50000","1e100000","1e300000","1e1000000"];for(let a=1;a<=7;a++)e.ascendShards.gte(r[a])&&e.achievements[189+a]<1&&H(189+a),e.ascendShards.gte(r[a+7])&&e.achievements[266+a]<1&&H(266+a)}if(t===3){let r=[0,1e5,1e6,1e7,1e8,1e9,5e9,25e9,1e12,1e14,1e17,2e18,4e19,1e21,1e23];for(let a=1;a<=7;a++)n>=r[a]&&e.achievements[224+a]<1&&H(224+a),n>=r[7+a]&&e.achievements[252+a]<1&&H(252+a)}},ec=t=>{let n=1;t>=183&&(n=5),t>=253&&(n=40);let r=e.worlds.applyBonus(1),a=n*r;return a>100&&(a=Math.pow(100,.6)*Math.pow(a,.4)),Math.floor(hr[t]*a)},tc=t=>{let n=p.t(`achievements.descriptions.${t}`,{number:`${t}`}),r=e.achievements[t]>.5?p.t("achievements.completed"):"",a=Zg(t);i("achievementdescription").textContent=n+r,i("achievementreward").textContent=p.t("achievements.rewardGainMessage",{x:hr[t],y:u(ec(t),0,!0),z:a}),e.achievements[t]>.5?i("achievementdescription").style.color="gold":i("achievementdescription").style.color="white"},H=t=>{if(e.achievements[t]<1){if(e.toggles[34]){let n=p.t(`achievements.descriptions.${t}`,{number:`${t}`});qn(p.t("achievements.notification",{m:n}))}Jg(t),e.achievementPoints+=hr[t],e.worlds.add(ec(t),!1),i("achievementprogress").textContent=p.t("achievements.totalPoints",{x:u(e.achievementPoints),y:u(Pn),z:(100*e.achievementPoints/Pn).toPrecision(4)}),e.achievements[t]=1,Me()}i(`ach${t}`).style.backgroundColor="Green",Ye.emit("achievement",t)};var Ls={shard:{obtainium:1e13,offerings:100,name:"Talisman Shard"},commonFragment:{obtainium:1e14,offerings:1e4,name:"Common Fragment"},uncommonFragment:{obtainium:1e16,offerings:1e5,name:"Uncommon Fragment"},rareFragment:{obtainium:1e18,offerings:1e6,name:"Rare Fragment"},epicFragment:{obtainium:1e20,offerings:1e7,name:"Epic Fragment"},legendaryFragment:{obtainium:1e22,offerings:1e8,name:"Legendary Fragment"},mythicalFragment:{obtainium:1e24,offerings:1e9,name:"Mythical Fragment"}},Es=["One","Two","Three","Four","Five","Six","Seven"],Zr=t=>{let n=30*e.talismanRarity[t];return n+=6*j("ascension",e.challengecompletions[13]),n+=Math.floor(e.researches[200]/400),e.cubeUpgrades[67]>0&&t===3&&(n+=1337),n},nc=(t,n=e.buyTalismanShardPercent)=>{let r=Ls[t].obtainium,a=Ls[t].offerings,o=Math.max(1,Math.floor(e.researchPoints/r)),l=Math.max(1,Math.floor(e.runeshards/a)),c=Math.max(1,Math.floor(n/100*Math.min(o,l)));return{canBuy:r<=e.researchPoints&&a<=e.runeshards,buyAmount:c,obtainiumCost:r*c,offeringCost:a*c}},za=(t,n=e.buyTalismanShardPercent)=>{let r=i("talismanFragmentCost");if(t){let a=nc(t,n),o=Ls[t].name;r.textContent=p.t("runes.talismans.costToBuy",{name:o,buyAmount:u(a.buyAmount),obtainium:u(a.obtainiumCost),offerings:u(a.offeringCost)})}else r.textContent=p.t("runes.talismans.clickBuyEveryType")},br=(t=e.buyTalismanShardPercent)=>{i("talismanTen").style.backgroundColor="",i("talismanTwentyFive").style.backgroundColor="",i("talismanFifty").style.backgroundColor="",i("talismanHundred").style.backgroundColor="",e.buyTalismanShardPercent=t;let n="Ten";t===25&&(n="TwentyFive"),t===50&&(n="Fifty"),t===100&&(n="Hundred"),i(`talisman${n}`).style.backgroundColor="green"},gt=()=>{i("talismanShardInventory").textContent=u(e.talismanShards),i("commonFragmentInventory").textContent=u(e.commonFragments),i("uncommonFragmentInventory").textContent=u(e.uncommonFragments),i("rareFragmentInventory").textContent=u(e.rareFragments),i("epicFragmentInventory").textContent=u(e.epicFragments),i("legendaryFragmentInventory").textContent=u(e.legendaryFragments),i("mythicalFragmentInventory").textContent=u(e.mythicalFragments)},Ka=()=>{let t=["shard","commonFragment","uncommonFragment","rareFragment","epicFragment","legendaryFragment","mythicalFragment"];for(let n=t.length-1;n>=0;n--)As(t[n])},As=(t,n=e.buyTalismanShardPercent)=>{let r=nc(t,n);r.canBuy&&(t==="shard"?e.talismanShards+=r.buyAmount:e[`${t}s`]+=r.buyAmount,t==="mythicalFragment"&&e.mythicalFragments>=1e25&&e.achievements[239]<1&&H(239),e.researchPoints-=r.obtainiumCost,e.runeshards-=r.offeringCost,e.researchPoints<0&&(e.researchPoints=0),e.runeshards<0&&(e.runeshards=0)),za(t,n),gt()},Za=t=>{i("talismanlevelup").style.display="none",i("talismanEffect").style.display="block",i("talismanrespec").style.display="none";let n=i("talismanSummary"),r=i("talismanBonus"),a=i("talismanRune1Effect"),o=i("talismanRune2Effect"),l=i("talismanRune3Effect"),c=i("talismanRune4Effect"),g=i("talismanRune5Effect"),d=i("talismanMythicEffect");switch(t){case 0:n.textContent="=-=-=-= Exemption Talisman Effects =-=-=-=",r.textContent="Taxes -"+u(10*(e.talismanRarity[0]-1))+"%",a.textContent="Bonus Speed Rune Levels: "+u(s.talisman1Effect[1],2,!0),o.textContent="Bonus Duplication Rune Levels: "+u(s.talisman1Effect[2],2,!0),l.textContent="Bonus Prism Rune Levels: "+u(s.talisman1Effect[3],2,!0),c.textContent="Bonus Thrift Rune Levels: "+u(s.talisman1Effect[4],2,!0),g.textContent="Bonus SI Rune Levels: "+u(s.talisman1Effect[5],2,!0),d.textContent="Mythic Effect: +400 Duplication Rune Levels!";break;case 1:n.textContent="=-=-=-= Chronos Talisman Effects =-=-=-=",r.textContent="Gain +"+u(10*(e.talismanRarity[1]-1))+"% Global Speed Acceleration.",a.textContent="Bonus Speed Rune Levels: "+u(s.talisman2Effect[1],2,!0),o.textContent="Bonus Duplication Rune Levels: "+u(s.talisman2Effect[2],2,!0),l.textContent="Bonus Prism Rune Levels: "+u(s.talisman2Effect[3],2,!0),c.textContent="Bonus Thrift Rune Levels: "+u(s.talisman2Effect[4],2,!0),g.textContent="Bonus SI Rune Levels: "+u(s.talisman2Effect[5],2,!0),d.textContent="Mythic Effect: +400 Speed Rune Levels!";break;case 2:n.textContent="=-=-=-= Midas Talisman Effects =-=-=-=",r.textContent="Rune Blessing bonuses +"+u(10*(e.talismanRarity[2]-1))+"%",a.textContent="Bonus Speed Rune Levels: "+u(s.talisman3Effect[1],2,!0),o.textContent="Bonus Duplication Rune Levels: "+u(s.talisman3Effect[2],2,!0),l.textContent="Bonus Prism Rune Levels: "+u(s.talisman3Effect[3],2,!0),c.textContent="Bonus Thrift Rune Levels: "+u(s.talisman3Effect[4],2,!0),g.textContent="Bonus SI Rune Levels: "+u(s.talisman3Effect[5],2,!0),d.textContent="Mythic Effect: +400 Thrift Rune Levels!";break;case 3:n.textContent="=-=-=-= Metaphysics Talisman Effects =-=-=-=",r.textContent="Talismans' Bonus Rune Levels +"+u(.02*(e.talismanRarity[3]-1),2)+" per level",a.textContent="Bonus Speed Rune Levels: "+u(s.talisman4Effect[1],2,!0),o.textContent="Bonus Duplication Rune Levels: "+u(s.talisman4Effect[2],2,!0),l.textContent="Bonus Prism Rune Levels: "+u(s.talisman4Effect[3],2,!0),c.textContent="Bonus Thrift Rune Levels: "+u(s.talisman4Effect[4],2,!0),g.textContent="Bonus SI Rune Levels: "+u(s.talisman4Effect[5],2,!0),d.textContent="Mythic Effect: +400 Prism Rune Levels!";break;case 4:n.textContent="=-=-=-= Polymath Talisman Effects =-=-=-=",r.textContent="Rune Spirit Bonuses +"+u(1*(e.talismanRarity[4]-1))+"%",a.textContent="Bonus Speed Rune Levels: "+u(s.talisman5Effect[1],2,!0),o.textContent="Bonus Duplication Rune Levels: "+u(s.talisman5Effect[2],2,!0),l.textContent="Bonus Prism Rune Levels: "+u(s.talisman5Effect[3],2,!0),c.textContent="Bonus Thrift Rune Levels: "+u(s.talisman5Effect[4],2,!0),g.textContent="Bonus SI Rune Levels: "+u(s.talisman5Effect[5],2,!0),d.textContent="Mythic Effect: +400 SI Rune Levels!";break;case 5:n.textContent="=-=-=-= Mortuus Est Talisman Effects =-=-=-=",r.textContent="Bonus Ant Levels: +"+u(2*(e.talismanRarity[5]-1)),a.textContent="Bonus Speed Rune Levels: "+u(s.talisman6Effect[1],2,!0),o.textContent="Bonus Duplication Rune Levels: "+u(s.talisman6Effect[2],2,!0),l.textContent="Bonus Prism Rune Levels: "+u(s.talisman6Effect[3],2,!0),c.textContent="Bonus Thrift Rune Levels: "+u(s.talisman6Effect[4],2,!0),g.textContent="Bonus SI Rune Levels: "+u(s.talisman6Effect[5],2,!0),d.textContent="Mythic Effect: Gain ant speed based on your total rune level!";break;case 6:n.textContent="=-=-=-= Plastic Talisman Effects =-=-=-=",r.textContent="Gain 1x normal production (Joke)!",a.textContent="Bonus Speed Rune Levels: "+u(s.talisman7Effect[1],2,!0),o.textContent="Bonus Duplication Rune Levels: "+u(s.talisman7Effect[2],2,!0),l.textContent="Bonus Prism Rune Levels: "+u(s.talisman7Effect[3],2,!0),c.textContent="Bonus Thrift Rune Levels: "+u(s.talisman7Effect[4],2,!0),g.textContent="Bonus SI Rune Levels: "+u(s.talisman7Effect[5],2,!0),d.textContent="Mythic Effect: Gain 1x your normal quark values (Joke)!";break}e.talismanRarity[t]!==6&&(d.textContent="Get Max Enhance for a Mythical bonus effect!")},Os=t=>{i("talismanEffect").style.display="none",i("talismanlevelup").style.display="block",i("talismanrespec").style.display="none";let n=i("talismanShardCost"),r=i("talismanCommonFragmentCost"),a=i("talismanUncommonFragmentCost"),o=i("talismanRareFragmentCost"),l=i("talismanEpicFragmentCost"),c=i("talismanLegendaryFragmentCost"),g=i("talismanMythicalFragmentCost");i("talismanLevelUpSummary").textContent=p.t("runes.resourcesToLevelup"),i("talismanLevelUpSummary").style.color="silver";let d=s.talismanLevelCostMultiplier[t];e.talismanLevels[t]>=120&&(d*=(e.talismanLevels[t]-90)/30),e.talismanLevels[t]>=150&&(d*=(e.talismanLevels[t]-120)/30),e.talismanLevels[t]>=180&&(d*=(e.talismanLevels[t]-170)/10),n.textContent=u(d*Math.max(0,Math.floor(1+1/8*Math.pow(e.talismanLevels[t],3)))),r.textContent=u(d*Math.max(0,Math.floor(1+1/32*Math.pow(e.talismanLevels[t]-30,3)))),a.textContent=u(d*Math.max(0,Math.floor(1+1/384*Math.pow(e.talismanLevels[t]-60,3)))),o.textContent=u(d*Math.max(0,Math.floor(1+1/500*Math.pow(e.talismanLevels[t]-90,3)))),l.textContent=u(d*Math.max(0,Math.floor(1+1/375*Math.pow(e.talismanLevels[t]-120,3)))),c.textContent=u(d*Math.max(0,Math.floor(1+1/192*Math.pow(e.talismanLevels[t]-150,3)))),g.textContent=u(d*Math.max(0,Math.floor(1+1/1280*Math.pow(e.talismanLevels[t]-150,3))))},Us=t=>{i("talismanEffect").style.display="none",i("talismanlevelup").style.display="block",i("talismanrespec").style.display="none";let n=i("talismanShardCost"),r=i("talismanCommonFragmentCost"),a=i("talismanUncommonFragmentCost"),o=i("talismanRareFragmentCost"),l=i("talismanEpicFragmentCost"),c=i("talismanLegendaryFragmentCost"),g=i("talismanMythicalFragmentCost");i("talismanLevelUpSummary").textContent=p.t("runes.resourcesToEnhance"),i("talismanLevelUpSummary").style.color="gold";let d=[s.commonTalismanEnhanceCost,s.uncommonTalismanEnchanceCost,s.rareTalismanEnchanceCost,s.epicTalismanEnhanceCost,s.legendaryTalismanEnchanceCost,s.mythicalTalismanEnchanceCost],m=e.talismanRarity[t],h=d[m-1],y=s.talismanLevelCostMultiplier[t];n.textContent=u(y*h[1]),r.textContent=u(y*h[2]),a.textContent=u(y*h[3]),o.textContent=u(y*h[4]),l.textContent=u(y*h[5]),c.textContent=u(y*h[6]),g.textContent=u(y*h[7])},Bs=t=>{s.talismanRespec=t,i("talismanEffect").style.display="none",i("talismanlevelup").style.display="none",i("talismanrespec").style.display="block";let n=["Speed Rune","Duplication Rune","Prism Rune","Thrift Rune","SI Rune"],r=["Positive","Positive","Positive","Positive"];if(t<=6){for(let a=1;a<=5;a++)s.mirrorTalismanStats[a]=e[`talisman${Es[t]}`][a];i("confirmTalismanRespec").textContent="Confirm [-100,000 Offerings]"}if(t===7){for(let a=1;a<=5;a++)s.mirrorTalismanStats[a]=1;i("confirmTalismanRespec").textContent="Confirm ALL [-400,000 Offerings]"}for(let a=1;a<=5;a++)s.mirrorTalismanStats[a]===1?(i("talismanRespecButton"+a).style.border="2px solid limegreen",r[a-1]="Positive"):s.mirrorTalismanStats[a]===-1&&(i("talismanRespecButton"+a).style.border="2px solid crimson",r[a-1]="Negative"),i("talismanRespecButton"+a).textContent=n[a-1]+": "+r[a-1];i("confirmTalismanRespec").style.display="none"},rc=t=>{let n=[null,"Speed Rune","Duplication Rune","Prism Rune","Thrift Rune","SI Rune"],r=i("talismanRespecButton"+t);s.mirrorTalismanStats[t]===1?(s.mirrorTalismanStats[t]=-1,r.textContent=n[t]+": Negative",r.style.border="2px solid crimson"):(s.mirrorTalismanStats[t]=1,r.textContent=n[t]+": Positive",r.style.border="2px solid limegreen"),s.mirrorTalismanStats.reduce((o,l)=>o+l,0)===1?i("confirmTalismanRespec").style.display="block":i("confirmTalismanRespec").style.display="none"},ac=t=>{if(e.runeshards>=1e5&&t<7){for(let n=1;n<=5;n++)e[`talisman${Es[t]}`][n]=s.mirrorTalismanStats[n];e.runeshards-=1e5,i("confirmTalismanRespec").style.display="none",i("talismanrespec").style.display="none",i("talismanEffect").style.display="block",Za(t)}else if(e.runeshards>=4e5&&t===7){e.runeshards-=4e5;for(let n=0;n<7;n++)for(let r=1;r<=5;r++)e[`talisman${Es[n]}`][r]=s.mirrorTalismanStats[r];i("confirmTalismanRespec").style.display="none"}ke()},oc=t=>{i("talismanrespec").style.display="none",t<7&&(i("talismanEffect").style.display="block",Za(t))},Qe=t=>{let n=i("talisman"+(t+1)),r=i("talisman"+(t+1)+"level"),a=e.talismanRarity[t];a===1&&(n.style.border="4px solid white",r.style.color="white"),a===2&&(n.style.border="4px solid limegreen",r.style.color="limegreen"),a===3&&(n.style.border="4px solid lightblue",r.style.color="lightblue"),a===4&&(n.style.border="4px solid plum",r.style.color="plum"),a===5&&(n.style.border="4px solid orange",r.style.color="orange"),a===6&&(n.style.border="4px solid crimson",r.style.color="var(--crimson-text-color)")},Ja=(t,n=!1)=>{let r=1;e.ascensionCount>0&&(r=30),e.highestSingularityCount>0&&(r=180);let a=!1;for(let o=1;o<=r;o++){let l=0,c=s.talismanLevelCostMultiplier[t];if(e.talismanLevels[t]>=120&&(c*=(e.talismanLevels[t]-90)/30),e.talismanLevels[t]>=150&&(c*=(e.talismanLevels[t]-120)/30),e.talismanLevels[t]>=180&&(c*=(e.talismanLevels[t]-170)/10),e.talismanLevels[t]<Zr(t)&&(e.talismanShards>=c*Math.max(0,Math.floor(1+1/8*Math.pow(e.talismanLevels[t],3)))&&l++,e.commonFragments>=c*Math.max(0,Math.floor(1+1/32*Math.pow(e.talismanLevels[t]-30,3)))&&l++,e.uncommonFragments>=c*Math.max(0,Math.floor(1+1/384*Math.pow(e.talismanLevels[t]-60,3)))&&l++,e.rareFragments>=c*Math.max(0,Math.floor(1+1/500*Math.pow(e.talismanLevels[t]-90,3)))&&l++,e.epicFragments>=c*Math.max(0,Math.floor(1+1/375*Math.pow(e.talismanLevels[t]-120,3)))&&l++,e.legendaryFragments>=c*Math.max(0,Math.floor(1+1/192*Math.pow(e.talismanLevels[t]-150,3)))&&l++,e.mythicalFragments>=c*Math.max(0,Math.floor(1+1/1280*Math.pow(e.talismanLevels[t]-150,3)))&&l++),l===7)e.talismanShards-=c*Math.max(0,Math.floor(1+1/8*Math.pow(e.talismanLevels[t],3))),e.commonFragments-=c*Math.max(0,Math.floor(1+1/32*Math.pow(e.talismanLevels[t]-30,3))),e.uncommonFragments-=c*Math.max(0,Math.floor(1+1/384*Math.pow(e.talismanLevels[t]-60,3))),e.rareFragments-=c*Math.max(0,Math.floor(1+1/500*Math.pow(e.talismanLevels[t]-90,3))),e.epicFragments-=c*Math.max(0,Math.floor(1+1/375*Math.pow(e.talismanLevels[t]-120,3))),e.legendaryFragments-=c*Math.max(0,Math.floor(1+1/192*Math.pow(e.talismanLevels[t]-150,3))),e.mythicalFragments-=c*Math.max(0,Math.floor(1+1/1280*Math.pow(e.talismanLevels[t]-150,3))),e.talismanLevels[t]+=1,a=!0;else break}return!n&&a&&(Os(t),gt(),ke()),a},eo=(t,n=!1)=>{let r=0;if(e.talismanRarity[t]<6){let a=s.talismanLevelCostMultiplier[t],o=[s.commonTalismanEnhanceCost,s.uncommonTalismanEnchanceCost,s.rareTalismanEnchanceCost,s.epicTalismanEnhanceCost,s.legendaryTalismanEnchanceCost,s.mythicalTalismanEnchanceCost],l=e.talismanRarity[t]-1,c=o[l];if(e.commonFragments>=a*c[2]&&r++,e.uncommonFragments>=a*c[3]&&r++,e.rareFragments>=a*c[4]&&r++,e.epicFragments>=a*c[5]&&r++,e.legendaryFragments>=a*c[6]&&r++,e.mythicalFragments>=a*c[7]&&r++,r===6)return e.commonFragments-=a*c[2],e.uncommonFragments-=a*c[3],e.rareFragments-=a*c[4],e.epicFragments-=a*c[5],e.legendaryFragments-=a*c[6],e.mythicalFragments-=a*c[7],e.talismanRarity[t]+=1,Qe(t),n||(Us(t),gt(),ke()),!0}return!1};var ot=(t,n=!0)=>{let r=s.effectiveLevelMult,a=1+e.researches[84]/200*(1+1*s.effectiveRuneSpiritPower[5]*_e()/400),o=ea(t-1,!1,e.runelevels[t-1]),l;if(t===1?l={bonus:u(Math.floor(Math.pow(s.rune1level*r/4,1.25))),percent:u(s.rune1level/4*r,2,!0),boost:u(Math.floor(s.rune1level/20*r))}:t===2?l={mult1:u(Math.floor(s.rune2level*r/10)*Math.floor(1+s.rune2level*r/10)/2),mult2:u(r*s.rune2level/4,1,!0),tax:(99.9*(1-Math.pow(6,-(s.rune2level*r)/1e3))).toPrecision(4)}:t===3?l={mult:u(f.pow(s.rune3level*r/2,2).times(f.pow(2,s.rune3level*r/2-8)).add(1),3),gain:u(Math.floor(s.rune3level/16*r))}:t===4?l={delay:(s.rune4level/8*r).toPrecision(3),chance:Math.min(25,s.rune4level/16),tax:(99*(1-Math.pow(4,Math.min(0,(400-s.rune4level)/1100)))).toPrecision(4)}:t===5?l={gain:u(1+s.rune5level/200*r*a,2,!0),speed:u(1+Math.pow(s.rune5level*r*a,2)/2500),offerings:u(s.rune5level*r*a*.005,3,!0)}:t===6?l={percent1:u(10+15/75*jn(),1,!0),percent2:u(1*jn(),0,!0)}:t===7&&n&&(l={exp:u(1e256*(1+e.singularityCount))}),n&&(i("runeshowlevelup").textContent=p.t(`runes.levelup.${t}`,l)),i(`runeshowpower${t}`).textContent=p.t(`runes.power.${t}`,l),n){let c=lc(t-1,e.runelevels[t-1],e.offeringbuyamount),g=0,d=0;for(;d<c.length&&(g+c[d]<=e.runeshards||d===0);)g+=c[d],d++;let m=d===1?"once":`${d} times`;i("runeDisplayInfo").textContent=p.t("runes.perOfferingText",{exp:u(o),x:u(g),y:m})}},sc=t=>{e.runeshards=Math.min(1e300,e.runeshards+tn(t))},Jr=t=>[!1,!0,e.achievements[38]>.5,e.achievements[44]>.5,e.achievements[102]>.5,e.researches[82]>.5,e.shopUpgrades.infiniteAscent,e.platonicUpgrades[20]>0][t],ic=t=>{let n=0;for(let r=0;r<t;r++)(!Jr(r+1)||e.runelevels[r]>=Be(r+1))&&n++;return n},Vn=(t,n=!1,r=0)=>{let a=t-1,o=e.offeringbuyamount;n&&(o=Math.pow(2,e.shopUpgrades.offeringAuto)),n&&r>0&&(o=Math.min(1e4,Be(a+1)));let l=0;if(e.runeshards>0&&e.runelevels[a]<Be(a+1)&&Jr(a+1)){let c=0,g=Be(a+1),d=lc(a,e.runelevels[a],o),m=Math.min(e.runeshards,d.reduce((S,k)=>S+k,0));r>0&&(m=Math.min(e.runeshards,r));let h=ea(a,!1,e.runelevels[a],!0),y=e.upgrades[71]/25,b=h[0]-y*e.runelevels[a],w=h.slice(1,h.length).reduce((S,k)=>S*k,1);for(;m>0&&l<o&&e.runelevels[a]<g;){let S=cn(a,e.runelevels[a])-e.runeexp[a],k=(b+y*e.runelevels[a])*w,B=Math.min(m,Math.ceil(S/k));for(isNaN(B)&&(B=m),m-=B,e.runeshards-=B,e.runeexp[a]+=B*k,c+=B;e.runeexp[a]>=cn(a)&&e.runelevels[a]<g;)e.runelevels[a]+=1,l++}for(let S=0;S<5;++S)if(Jr(S+1))for(S!==a&&(e.runeexp[S]+=c*ea(S,!0));e.runeexp[S]>=cn(S)&&e.runelevels[S]<Be(S+1);)e.runelevels[S]+=1;ot(t)}ke(),(e.runeshards<0||!e.runeshards)&&(e.runeshards=0)},lc=(t,n,r)=>{let a=cn(t,n)-e.runeexp[t],o=Be(t+1),l=[],c=0,g=e.runeshards,d=0,m=ea(t,!1,n,!0),h=e.upgrades[71]/25,y=m[0]-h*n,b=m.slice(1,m.length).reduce((w,S)=>w*S,1);for(;d<r&&n+d<o&&c<g;){let w=(y+h*(n+d))*b,S=Math.ceil(a/w);c+=S,l.push(S),d+=1,a=cn(t,n+d)-cn(t,n+d-1)}return l};var Wn=()=>{let t=[e.tesseractBlessings.accelerator,e.tesseractBlessings.multiplier,e.tesseractBlessings.offering,e.tesseractBlessings.runeExp,e.tesseractBlessings.obtainium,e.tesseractBlessings.antSpeed,e.tesseractBlessings.antSacrifice,e.tesseractBlessings.antELO,e.tesseractBlessings.talismanBonus,e.tesseractBlessings.globalSpeed];for(let n=0;n<10;n++){let r=1,a=1;t[n]>=1e3&&n!==5&&(r=s.giftDRPower[n],a*=Math.pow(1e3,1-s.giftDRPower[n])),s.tesseractBonusMultiplier[n+1]=1+a*s.giftbase[n]*Math.pow(t[n],r)*s.hypercubeBonusMultiplier[n+1]}};var to=()=>{let t=1;return t+=Math.min(1e15,s.rune4level*s.effectiveLevelMult/160),t+=(e.researches[56]+e.researches[57]+e.researches[58]+e.researches[59]+e.researches[60])/200,t+=j("transcend",e.challengecompletions[4])/200,t+=Math.min(99999.9,3*(e.antUpgrades[7-1]+s.bonusant7)/100),t},un=t=>{--t;let n=500,r=new f(n);if(r=r.times(f.pow(4/s.costDivisor,t)),t>125+5*j("transcend",e.challengecompletions[4])){let o=t-125-5*j("transcend",e.challengecompletions[4]),l=new f(o).factorial(),c=f.pow(4,o);r=r.times(c.times(l))}if(t>2e3+5*j("transcend",e.challengecompletions[4])){let o=t-2e3-5*j("transcend",e.challengecompletions[4]),l=o*(o+1)/2;r=r.times(f.pow(2,l))}if(e.currentChallenge.transcension===4){let o=t*(t+1)/2;r=r.times(f.pow(10,o))}if(e.currentChallenge.reincarnation===8){let o=t*(t+1)/2;r=r.times(f.pow(1e50,o))}let a=Math.pow(10,15);if(t>a){let c=un(a).pow(Math.pow(t/a,1/.125)),g=c.exponent-Math.floor(c.exponent);return c.exponent=Math.floor(c.exponent),c.mantissa*=Math.pow(10,g),c.normalize(),f.max(r,c)}return r},vr=t=>{let n=e.acceleratorBought,r=Math.pow(10,15);if(n>=r){let h=f.log10(e.coins),y=f.log10(un(r)),b=Math.floor(r*Math.max(1,Math.pow(h/y,.125))),w=r;for(;b-w>.5;){let B=Math.floor(w+(b-w)/2);if(B===w||B===b)break;e.coins.gte(un(B))?w=B:b=B}let S=w,k=un(S);e.acceleratorBought=S,e.acceleratorCost=k;return}let a=n+ge(n),o=a,l=un(o);for(;e.coins.gte(l);)o=o*4,l=un(o);let c=Math.floor(o/8);for(;c>=ge(o);)un(o-c).lte(e.coins)?c=Math.floor(c/2):o=o-Math.max(ge(o),c);!t&&e.coinbuyamount!=="max"&&e.acceleratorBought+e.coinbuyamount<o&&(o=e.acceleratorBought+e.coinbuyamount);let g=Math.max(o-6-ge(o),a),d=un(g);for(;g<=o&&e.coins.gte(d);)if(g>=r&&(g=r),e.coins=e.coins.sub(d),e.acceleratorBought=g,g=g+ge(g),d=un(g),e.acceleratorCost=d,g>=r)return;e.prestigenoaccelerator=!1,e.transcendnoaccelerator=!1,e.reincarnatenoaccelerator=!1,Ns(),e.acceleratorBought>=5&&e.achievements[148]===0&&H(148),e.acceleratorBought>=25&&e.achievements[149]===0&&H(149),e.acceleratorBought>=100&&e.achievements[150]===0&&H(150),e.acceleratorBought>=666&&e.achievements[151]===0&&H(151),e.acceleratorBought>=2e3&&e.achievements[152]===0&&H(152),e.acceleratorBought>=12500&&e.achievements[153]===0&&H(153),e.acceleratorBought>=1e5&&e.achievements[154]===0&&H(154)},pn=t=>{--t;let n=1e4,r=new f(n);if(r=r.times(f.pow(10,t/s.costDivisor)),t>75+2*j("transcend",e.challengecompletions[4])){let o=t-75-2*j("transcend",e.challengecompletions[4]),l=new f(o).factorial(),c=f.pow(10,o);r=r.times(l.times(c))}if(t>2e3+2*j("transcend",e.challengecompletions[4])){let o=t-2e3-2*j("transcend",e.challengecompletions[4]),l=o*(o+1)/2;r=r.times(f.pow(2,l))}if(e.currentChallenge.transcension===4){let o=t*(t+1)/2;r=r.times(f.pow(10,o))}if(e.currentChallenge.reincarnation===8){let o=t*(t+1)/2;r=r.times(f.pow(1e50,o))}let a=Math.pow(10,15);if(t>a){let c=pn(a).pow(Math.pow(t/a,1/.125)),g=c.exponent-Math.floor(c.exponent);return c.exponent=Math.floor(c.exponent),c.mantissa*=Math.pow(10,g),c.normalize(),f.max(r,c)}return r},Cr=t=>{let n=e.multiplierBought,r=Math.pow(10,15);if(n>=r){let h=f.log10(e.coins),y=f.log10(pn(r)),b=Math.floor(r*Math.max(1,Math.pow(h/y,.125))),w=r;for(;b-w>.5;){let B=Math.floor(w+(b-w)/2);if(B===w||B===b)break;e.coins.gte(pn(B))?w=B:b=B}let S=w,k=pn(S);e.multiplierBought=S,e.multiplierCost=k;return}let a=n+ge(n),o=a,l=pn(o);for(;e.coins.gte(l);)o=o*4,l=pn(o);let c=Math.floor(o/8);for(;c>=ge(o);)pn(o-c).lte(e.coins)?c=Math.floor(c/2):o=o-Math.max(ge(o),c);!t&&e.coinbuyamount!=="max"&&e.multiplierBought+e.coinbuyamount<o&&(o=e.multiplierBought+e.coinbuyamount);let g=Math.max(o-6-ge(o),a),d=pn(g);for(;g<=o&&e.coins.gte(d);)if(g>=r&&(g=r),e.coins=e.coins.sub(d),e.multiplierBought=g,g=g+ge(g),d=pn(g),e.multiplierCost=d,g>=r)return;e.prestigenomultiplier=!1,e.transcendnomultiplier=!1,e.reincarnatenomultiplier=!1,Ds(),e.multiplierBought>=2&&e.achievements[155]===0&&H(155),e.multiplierBought>=20&&e.achievements[156]===0&&H(156),e.multiplierBought>=100&&e.achievements[157]===0&&H(157),e.multiplierBought>=500&&e.achievements[158]===0&&H(158),e.multiplierBought>=2e3&&e.achievements[159]===0&&H(159),e.multiplierBought>=12500&&e.achievements[160]===0&&H(160),e.multiplierBought>=1e5&&e.achievements[161]===0&&H(161)},nd=Math.log10(2*Math.PI),rd=Math.log10(Math.E),ta=t=>++t===0?0:(Math.log10(t*Math.sqrt(t*Math.sinh(1/t)+1/(810*Math.pow(t,6))))-rd)*t+(nd-Math.log10(t))/2,ad=Math.log10(9332621544394e145),od=188.582,na=function(){let t=[1.03,1.25],n=[1,2,3,4,5,6,10,15];for(let o of n)t.push(100+100*o),t.push(10+10*o);let r=1e3;for(let o=0;o<r;++o)t.push(1+o/2);let a={};for(let o of t)typeof a[o]>"u"&&(a[o]=Math.log10(o));return a}(),sd=[100,1e3,2e4,4e5,8e6],id=[100,1e5,1e15,1e40,1e100],uc=[1,100,1e4,1e8,1e16],$t=(t,n,r,a,o)=>{--n;let l=Math.pow(10,15),c=new f(t),g=a*n;n<od/a&&(c.mantissa+=n/Math.pow(10,c.exponent));let d=0,m=Math.floor(o*1e3);n>=o*1e3&&(++d,c.exponent-=ta(m),c.exponent+=(-3+Math.log10(1+a/2))*(n-m)),m=Math.floor(o*5e3),n>=o*5e3&&(++d,c.exponent-=ta(m),c.exponent+=(na[10+a*10]+1)*(n-m-1)+1),m=Math.floor(o*2e4),n>=o*2e4&&(d+=3,c.exponent-=ta(m)*3,c.exponent+=(na[100+100*a]+5)*(n-m)),m=Math.floor(o*25e4),n>=o*25e4&&(c.exponent+=Math.log10(1.03)*(n-m)*((n-m+1)/2)),c.exponent+=ta(n)*d;let h=0;e.currentChallenge.transcension===4&&(r==="Coin"||r==="Diamonds")&&(++h,n>=1e3-10*e.challengecompletions[4]&&(g+=n*(n+1)/2)),e.currentChallenge.reincarnation===10&&(r==="Coin"||r==="Diamonds")&&(++h,n>=o*25e3&&(g+=n*(n+1)/2)),c.exponent+=h*((ta(n+100)-ad+2*n)*(1.25+e.challengecompletions[4]/4)),c.exponent+=na[1.25]*g,m=Math.floor(o*1e3*e.challengecompletions[8]),e.currentChallenge.reincarnation===8&&(r==="Coin"||r==="Diamonds"||r==="Mythos")&&n>=1e3*e.challengecompletions[8]*o&&(c.exponent+=(na[2]*((n-m+1)/2)-na[1+e.challengecompletions[8]/2])*(n-m));let y=c.exponent-Math.floor(c.exponent);if(c.exponent=Math.floor(c.exponent),c.mantissa*=Math.pow(10,y),c.normalize(),n>l){let S=$t(t,l,r,a,o).pow(Math.pow(n/l,1/.125)),k=S.exponent-Math.floor(S.exponent);return S.exponent=Math.floor(S.exponent),S.mantissa*=Math.pow(10,k),S.normalize(),f.max(c,S)}return c},pc=(t,n)=>{let r=n==="Coin"?sd:n==="Diamonds"?id:uc,a=n==="Coin"?t:t*(t+1)/2;return[r[t-1],a]},gc=(t,n,r,a)=>{let[o,l]=pc(t,n);return $t(o,r,n,l,a!=null?a:to())},qe=(t,n)=>{let r=t-1,a=s.ordinals[r],[o,l]=pc(t,n),c=Math.pow(10,15),g=1e99,d=to(),m=dc[n][0],h=`${a}Owned${n}`,y=e[h];if(y>=c){let $=f.log10(e[m]),O=f.log10($t(o,c,n,l,d)),v=Math.floor(c*Math.max(1,Math.pow($/O,.125))),M=c;for(;v-M>.5;){let Y=Math.floor(M+(v-M)/2);if(Y===M||Y===v)break;e[m].gte($t(o,Y,n,l,d))?M=Y:v=Y}let A=M,F=$t(o,A,n,l,d);e[h]=A,e[`${a}Cost${n}`]=F;return}let b=y+ge(y),w=1,S=$t(o,y+w,n,l,d);if(S.exponent>=g||!e[m].gte(S))return;for(;S.exponent<g&&e[m].gte(S);)w=w*4,S=$t(o,y+w,n,l,d);let k=Math.floor(w/8);for(;k>=ge(w);)$t(o,y+w-k,n,l,d).lte(e[m])?k=Math.floor(k/2):w=w-Math.max(ge(w),k);if(y+w>=c){e[h]=c,e[`${a}Cost${n}`]=$t(o,c,n,l,d);return}let B=Math.max(y+w-6-ge(w),b),N=$t(o,B,n,l,d);for(;B<=y+w&&e[m].gte(N);)e[m]=e[m].sub(N),e[h]=B,B=B+ge(B),N=$t(o,B,n,l,d),e[`${a}Cost${n}`]=N},dc={Diamonds:["prestigePoints","crystal"],Mythos:["transcendPoints","mythos"],Particles:["reincarnationPoints","particle"],Coin:["coins","coin"]},fc=(t,n,r,a)=>{let[o,l]=dc[n],c=a?500:e[`${l}buyamount`],g=1;g+=s.rune4level*s.effectiveLevelMult/160,g+=(e.researches[56]+e.researches[57]+e.researches[58]+e.researches[59]+e.researches[60])/200,g+=j("transcend",e.challengecompletions[4])/200,g+=3*(s.bonusant7+e.antUpgrades[7-1])/100;let d=`${t}Cost${n}`,m=`${t}Owned${n}`;for(;e[o].gte(e[d])&&s.ticker<c&&e[m]<Number.MAX_SAFE_INTEGER;)e[o]=e[o].sub(e[d]),e[m]+=1,e[d]=e[d].times(f.pow(1.25,r)),e[d]=e[d].add(1),e[m]>=1e3*g&&(e[d]=e[d].times(e[m]).dividedBy(1e3).times(1+r/2)),e[m]>=5e3*g&&(e[d]=e[d].times(e[m]).times(10).times(10+r*10)),e[m]>=2e4*g&&(e[d]=e[d].times(f.pow(e[m],3)).times(1e5).times(100+r*100)),e[m]>=25e4*g&&(e[d]=e[d].times(f.pow(1.03,e[m]-25e4*g))),e.currentChallenge.transcension===4&&(n==="Coin"||n==="Diamonds")&&(e[d]=e[d].times(Math.pow(100*e[m]+1e4,1.25+1/4*e.challengecompletions[4])),e[m]>=1e3-10*e.challengecompletions[4]&&(e[d]=e[d].times(f.pow(1.25,e[m])))),e.currentChallenge.reincarnation===8&&(n==="Coin"||n==="Diamonds"||n==="Mythos")&&e[m]>=1e3*e.challengecompletions[8]*g&&(e[d]=e[d].times(f.pow(2,(e[m]-1e3*e.challengecompletions[8]*g)/(1+e.challengecompletions[8]/2)))),s.ticker+=1;s.ticker=0},Pt=(t,n,r)=>{let a=t;e[a].gte(f.pow(10,s.upgradeCosts[n]))&&e.upgrades[n]===0&&(e[a]=e[a].sub(f.pow(10,s.upgradeCosts[n])),e.upgrades[n]=1,ft(n,r)),t==="transcendPoints"&&(e.reincarnatenocoinprestigeortranscendupgrades=!1,e.reincarnatenocoinprestigetranscendorgeneratorupgrades=!1),t==="prestigePoints"&&(e.transcendnocoinorprestigeupgrades=!1,e.reincarnatenocoinorprestigeupgrades=!1,e.reincarnatenocoinprestigeortranscendupgrades=!1,e.reincarnatenocoinprestigetranscendorgeneratorupgrades=!1),t==="coins"&&(e.prestigenocoinupgrades=!1,e.transcendnocoinupgrades=!1,e.transcendnocoinorprestigeupgrades=!1,e.reincarnatenocoinupgrades=!1,e.reincarnatenocoinorprestigeupgrades=!1,e.reincarnatenocoinprestigeortranscendupgrades=!1,e.reincarnatenocoinprestigetranscendorgeneratorupgrades=!1)},ld=t=>{let n=t-1,r=f.log(e.prestigeShards.add(1),10);return Math.floor(Math.pow(Math.max(0,2*(r-s.crystalUpgradesCost[n])/s.crystalUpgradeCostIncrement[n]+1/4),1/2)+1/2)},dt=(t,n=!1)=>{let r=t-1,a=0;a+=Math.floor(s.rune3level/16*s.effectiveLevelMult)*100/100,e.upgrades[73]>.5&&e.currentChallenge.reincarnation!==0&&(a+=10);let o=ld(t);o+a>e.crystalUpgrades[r]&&(e.crystalUpgrades[r]=100/100*(o+a),o>0&&(e.prestigeShards=e.prestigeShards.sub(f.pow(10,s.crystalUpgradesCost[r]+s.crystalUpgradeCostIncrement[r]*(1/2*Math.pow(o-1/2,2)-1/8))),n||ro(t)))},Yn=t=>{let n=1;if(e.upgrades[46]===1&&(n=t?9999:e.coinbuyamount),e.upgrades[46]<1){for(;e.prestigePoints.gte(e.acceleratorBoostCost)&&s.ticker<n;)if(e.prestigePoints.gte(e.acceleratorBoostCost)&&(e.acceleratorBoostBought+=1,e.acceleratorBoostCost=e.acceleratorBoostCost.times(1e10).times(f.pow(10,e.acceleratorBoostBought)),e.acceleratorBoostBought>1e3*(1+2*s.effectiveRuneBlessingPower[4])&&(e.acceleratorBoostCost=e.acceleratorBoostCost.times(f.pow(10,Math.pow(e.acceleratorBoostBought-1e3*(1+2*s.effectiveRuneBlessingPower[4]),2)/(1+2*s.effectiveRuneBlessingPower[4])))),e.transcendnoaccelerator=!1,e.reincarnatenoaccelerator=!1,e.upgrades[46]<.5)){for(let r=21;r<41;r++)e.upgrades[r]=0;be("prestige"),e.prestigePoints=new f(0)}}else{let r=e.acceleratorBoostBought,a=Math.pow(10,15);if(r>=a){let y=f.log10(e.prestigePoints),b=f.log10(nn(a)),w=Math.floor(a*Math.max(1,Math.pow(y/b,.125))),S=a;for(;w-S>.5;){let N=Math.floor(S+(w-S)/2);if(N===S||N===w)break;e.prestigePoints.gte(nn(N))?S=N:w=N}let k=S,B=nn(k);e.acceleratorBoostBought=k,e.acceleratorBoostCost=B;return}let o=r+ge(r),l=1,c=nn(r+l);for(;e.prestigePoints.gte(c);)l*=4,c=nn(r+l);let g=Math.floor(l/8);for(;g>=ge(l);)nn(r+l-g).lte(e.prestigePoints)?g=Math.floor(g/2):l=l-Math.max(ge(l),g);let d=Math.max(r+l-6-ge(l),o),m=nn(e.acceleratorBoostBought);for(;d<=r+l&&e.prestigePoints.gte(nn(d));)if(e.prestigePoints=e.prestigePoints.sub(m),d>=a&&(d=a),e.acceleratorBoostBought=d,d=d+ge(d),m=nn(d),e.acceleratorBoostCost=m,e.transcendnoaccelerator=!1,e.reincarnatenoaccelerator=!1,d>=a)return}s.ticker=0,e.acceleratorBoostBought>=2&&e.achievements[162]===0&&H(162),e.acceleratorBoostBought>=10&&e.achievements[163]===0&&H(163),e.acceleratorBoostBought>=50&&e.achievements[164]===0&&H(164),e.acceleratorBoostBought>=200&&e.achievements[165]===0&&H(165),e.acceleratorBoostBought>=1e3&&e.achievements[166]===0&&H(166),e.acceleratorBoostBought>=5e3&&e.achievements[167]===0&&H(167),e.acceleratorBoostBought>=15e3&&e.achievements[168]===0&&H(168)},nn=(t=1)=>{t--;let n=Math.pow(10,15),r=new f(1e3),a=1+2*s.effectiveRuneBlessingPower[4],o=g=>g*(g+1)/2,l=g=>g*(g+1)*(2*g+1)/6,c=r;if(t>1e3*a?c=r.times(f.pow(10,10*t+o(t)+l(t-1e3*a)/a)):c=r.times(f.pow(10,10*t+o(t))),t>n){let m=nn(n).pow(Math.pow(t/n,1/.125)),h=m.exponent-Math.floor(m.exponent);return m.exponent=Math.floor(m.exponent),m.mantissa*=Math.pow(10,h),m.normalize(),f.max(c,m)}return c},gn=(t,n)=>{--n,t=new f(t);let r=t.times(f.pow(2,n)),a=e.currentChallenge.ascension!==15?325e3:1e3;n>a&&(r=r.times(f.pow(1.001,(n-a)*((n-a+1)/2))));let o=Math.pow(10,15);if(n>o){let g=gn(t,o).pow(Math.pow(n/o,1/.125)),d=g.exponent-Math.floor(g.exponent);return g.exponent=Math.floor(g.exponent),g.mantissa*=Math.pow(10,d),g.normalize(),f.max(r,g)}return r},dn=(t,n=!1)=>{let r=t-1,a=uc[r],o=s.ordinals[r],l=`${o}OwnedParticles`,c=e[l],g=Math.pow(10,15);if(c>=g){let k=f.log10(e.reincarnationPoints),B=f.log10(gn(a,g)),N=Math.floor(g*Math.max(1,Math.pow(k/B,.125))),I=g;for(;N-I>.5;){let v=Math.floor(I+(N-I)/2);if(v===I||v===N)break;e.reincarnationPoints.gte(gn(a,v))?I=v:N=v}let $=I,O=gn(a,$);e[l]=$,e[`${o}CostParticles`]=O;return}let d=c+ge(c),m=d,h=gn(a,m);for(;e.reincarnationPoints.gte(h);)m=m*4,h=gn(a,m);let y=Math.floor(m/8);for(;y>=ge(m);)gn(a,m-y).lte(e.reincarnationPoints)?y=Math.floor(y/2):m=m-Math.max(ge(m),y);n||e.particlebuyamount+c<m&&(m=c+e.particlebuyamount+ge(e[l]+e.particlebuyamount));let b=Math.max(m-6-ge(m),d),w=gn(a,b);for(;b<=m&&e.reincarnationPoints.gte(w);)e.reincarnationPoints=e.reincarnationPoints.sub(w),e[l]=b,b=b+ge(b),w=gn(a,b),e[`${o}CostParticles`]=w},Xn=[1,10,100,1e3,1e4],Rs=(t,n)=>{let r=t.map((o,l)=>{if(o===null)return null;let c=Math.ceil(Math.pow(n/Xn[l],1/3)-1);return Math.max(o,c)}),a=0;for(let o=0;o<t.length;o++){let l=t[o],c=r[o];l===null||c===null||(a+=Xn[o]*(Math.pow(c*(c+1)/2,2)-Math.pow(l*(l+1)/2,2)))}return[a,r]},no=(t,n)=>{let r=null;for(let m=0;m<t.length;m++){let h=t[m];if(h===null)continue;let y=Xn[m]*Math.pow(h+1,3);(r===null||y<r)&&(r=y)}if(r===null||r>n)return t;let a=r,o=a*2;for(;Rs(t,o)[0]<=n;)a=o,o*=2;for(;o-a>.5;){let m=a+(o-a)/2;if(m===a||m===o)break;Rs(t,m)[0]<=n?a=m:o=m}let[l,c]=Rs(t,a),g=n-l,d=c.map((m,h)=>m===null?null:Xn[h]*Math.pow(m+1,3));for(let m=1;m<=5;m++){let h=null;for(let y=0;y<d.length;y++){let b=d[y];b!==null&&(h===null||b<=h.price)&&(h={price:b,index:y})}if(h!==null&&h.price<=g)g-=h.price,c[h.index]++,d[h.index]=Xn[h.index]*Math.pow(c[h.index]+1,3);else break}return c},cd=(t,n,r=!0,a)=>{n!=null||(n=e.tesseractbuyamount),a!=null||(a=e[`ascendBuilding${t}`].owned);let o=Xn[t-1],l=o*Math.pow(a*(a+1)/2,2),c;if(r){let d=Math.floor(-.5+.5*Math.pow(1+8*Math.pow((Number(e.wowTesseracts)+l)/o,.5),.5));c=Math.min(d,a+n)}else c=a+n;let g=o*Math.pow(c*(c+1)/2,2)-l;return[c,g]},zn=(t,n=e.tesseractbuyamount)=>{let r=Xn[t-1],a=`ascendBuilding${t}`,[o,l]=cd(t,n);e[a].owned=o,e.wowTesseracts.sub(l),e[a].cost=r*Math.pow(1+o,3)},wr=(t,n)=>{if((t==="Spirits"?e.challengecompletions[12]>0:e.achievements[134]===1)&&isFinite(e.runeshards)&&e.runeshards>0){let a,o,l;t==="Spirits"?(a=s.spiritBaseCost,o=e.runeSpiritLevels[n],l=e.runeSpiritBuyAmount):(a=s.blessingBaseCost,o=e.runeBlessingLevels[n],l=e.runeBlessingBuyAmount);let[c,g]=Ln(o,a,e.runeshards,l);t==="Spirits"?e.runeSpiritLevels[n]=c:e.runeBlessingLevels[n]=c,e.runeshards-=g,e.runeshards<0&&(e.runeshards=0),mc(t,n)}},mc=(t,n)=>{if(n===1){let r=[0,1e5,1e8,1e11];for(let a=1;a<=3;a++)e.runeBlessingLevels[1]>=r[a]&&e.achievements[231+a]<1&&H(231+a),e.runeSpiritLevels[1]>=10*r[a]&&e.achievements[234+a]<1&&H(234+a);e.runeBlessingLevels[1]>=1e22&&e.achievements[245]<1&&H(245)}if(Is(),t==="Blessings"){let r=[0,8,10,6.66,2,1],a=n===5?1:0;i(`runeBlessingPower${n}Value1`).innerHTML=p.t("runes.blessings.blessingPower",{reward:p.t(`runes.blessings.rewards.${n-1}`),value:u(s.runeBlessings[n]),speed:u(1-a+r[n]*s.effectiveRuneBlessingPower[n],4,!0)})}else if(t==="Spirits"){let r=[0,1,1,20,1,100];r[n]*=_e()/400;let a=n===3?1:0;i(`runeSpiritPower${n}Value1`).innerHTML=p.t("runes.spirits.spiritPower",{reward:p.t(`runes.spirits.rewards.${n-1}`),value:u(s.runeSpirits[n]),speed:u(1-a+r[n]*s.effectiveRuneSpiritPower[n],4,!0)})}},xr=(t,n=100,r=!1)=>{if(t==="Spirits"?e.challengecompletions[12]>0:e.achievements[134]===1){let o=Math.floor(e.runeshards/100*n/5);for(let l=1;l<6;l++)if(isFinite(e.runeshards)&&e.runeshards>0){let c,g;t==="Spirits"?(c=s.spiritBaseCost,g=e.runeSpiritLevels[l]):(c=s.blessingBaseCost,g=e.runeBlessingLevels[l]);let[m,h]=Ln(g,c,o,1e300);m>g&&(!r||(m-g)*1e4>g)&&(t==="Spirits"?e.runeSpiritLevels[l]=m:e.runeBlessingLevels[l]=m,e.runeshards-=h,e.runeshards<0&&(e.runeshards=0),mc(t,l))}}};var Mr=(t,n)=>{t===1&&e.prestigePoints.gte(1e12)&&e.unlocks.generation===!1&&(e.unlocks.generation=!0);let r=100+t,a="transcendPoints";r<=110&&r>=106?a="coins":r<=115&&(a="prestigePoints");let o=f.pow(10,s.upgradeCosts[r]),l=Math.max(e.upgrades[101],e.upgrades[102],e.upgrades[103],e.upgrades[104],e.upgrades[105]);e.upgrades[r]===0&&e[a].gte(o)&&(l===0&&r>=102&&r<=105&&H(r-31),e[a]=e[a].sub(o),e.upgrades[r]=1,ft(r,n))},hc=(t,n)=>{let r=t+80,a="reincarnationPoints";r<=87?a="prestigePoints":r<=93&&(a="transcendPoints");let o=f.pow(10,s.upgradeCosts[r]);e.upgrades[r]===0&&e[a].gte(o)&&(e[a]=e[a].sub(o),e.upgrades[r]=1,ft(r,n))},yc=()=>{if(e.upgrades[90]>.5&&e.shoptoggles.generators===!0){for(let t=1;t<6;t++)e.upgrades[100+t]===0&&e.prestigePoints.gte(f.pow(10,s.upgradeCosts[100+t]))&&Mr(t,!0);for(let t=6;t<11;t++)e.upgrades[100+t]===0&&e.coins.gte(f.pow(10,s.upgradeCosts[100+t]))&&Mr(t,!0);for(let t=11;t<16;t++)e.upgrades[100+t]===0&&e.prestigePoints.gte(f.pow(10,s.upgradeCosts[100+t]))&&Mr(t,!0);for(let t=16;t<21;t++)e.upgrades[100+t]===0&&e.transcendPoints.gte(f.pow(10,s.upgradeCosts[100+t]))&&Mr(t,!0)}if(e.upgrades[91]>.5){for(let t=1;t<21;t++)e.upgrades[t]===0&&e.coins.gte(f.pow(10,s.upgradeCosts[t]))&&e.shoptoggles.coin===!0&&Pt("coins",t,!0);for(let t=121;t<=125;t++)e.upgrades[t]===0&&e.coins.gte(f.pow(10,s.upgradeCosts[t]))&&e.shoptoggles.coin===!0&&e.cubeUpgrades[19]>0&&Pt("coins",t,!0)}if(e.upgrades[92]>.5){for(let t=21;t<38;t++)e.upgrades[t]===0&&e.prestigePoints.gte(f.pow(10,s.upgradeCosts[t]))&&e.shoptoggles.prestige===!0&&Pt("prestigePoints",t,!0);e.upgrades[38]===0&&e.prestigePoints.gte(f.pow(10,5e4))&&e.shoptoggles.prestige===!0&&e.achievements[120]===1&&Pt("prestigePoints",38,!0),e.upgrades[39]===0&&e.prestigePoints.gte(f.pow(10,1e5))&&e.shoptoggles.prestige===!0&&e.achievements[127]===1&&Pt("prestigePoints",39,!0),e.upgrades[40]===0&&e.prestigePoints.gte(f.pow(10,2e5))&&e.shoptoggles.prestige===!0&&e.achievements[134]===1&&Pt("prestigePoints",40,!0)}if(e.upgrades[99]>.5)for(let t=41;t<61;t++)e.upgrades[t]===0&&e.transcendPoints.gte(f.pow(10,s.upgradeCosts[t]))&&e.shoptoggles.transcend===!0&&Pt("transcendPoints",t,!0);if(e.cubeUpgrades[8]>0)for(let t=61;t<=80;t++)e.upgrades[t]===0&&e.reincarnationPoints.gte(f.pow(10,s.upgradeCosts[t]))&&e.shoptoggles.reincarnate&&Pt("reincarnationPoints",t,!0);if(e.highestSingularityCount>=25)for(let t=81;t<=100;t++)e.upgrades[t]===0&&Kn(t,!0)};var Hs={3:()=>({max:u(100*(.12+.88*e.upgrades[122]+.001*e.researches[129]*Math.log(e.commonFragments+1)/Math.log(4)),2,!0)}),4:()=>({max:u(10+.05*e.researches[129]*Math.log(e.commonFragments+1)/Math.log(4)+20*_e()/400*s.effectiveRuneSpiritPower[3])})},Gs={1:()=>({level:u(5+e.achievements[270]+.1*e.platonicUpgrades[18],1,!0)}),2:()=>({max:u(10+e.achievements[270]+e.shopUpgrades.constantEX+100*(s.challenge15Rewards.exponent-1)+.3*e.platonicUpgrades[18],2,!0)})},$s=[()=>u((s.totalCoinOwned+1)*Math.min(1e30,Math.pow(1.008,s.totalCoinOwned)),2),()=>u((s.totalCoinOwned+1)*Math.min(1e30,Math.pow(1.008,s.totalCoinOwned)),2),()=>u((s.totalCoinOwned+1)*Math.min(1e30,Math.pow(1.008,s.totalCoinOwned)),2),()=>u((s.totalCoinOwned+1)*Math.min(1e30,Math.pow(1.008,s.totalCoinOwned)),2),()=>u((s.totalCoinOwned+1)*Math.min(1e30,Math.pow(1.008,s.totalCoinOwned)),2),()=>u((s.totalCoinOwned+1)*Math.min(1e30,Math.pow(1.008,s.totalCoinOwned)),2),()=>Math.min(4,1+Math.floor(f.log(e.fifthOwnedCoin+1,10))),()=>Math.floor(e.multiplierBought/7),()=>Math.floor(e.acceleratorBought/10),()=>u(f.pow(2,Math.min(50,e.secondOwnedCoin/15)),2),()=>u(f.pow(1.02,s.freeAccelerator),2),()=>u(f.min(1e4,f.pow(1.01,e.prestigeCount)),2),()=>u(f.min(1e50,f.pow(e.firstGeneratedMythos.add(e.firstOwnedMythos).add(1),4/3).times(1e10)),2),()=>u(f.pow(1.15,s.freeAccelerator),2),()=>u(f.pow(1.15,s.freeAccelerator),2),()=>u(f.pow(s.acceleratorEffect,1/3),2),()=>null,()=>u(f.min(1e125,e.transcendShards.add(1))),()=>u(f.min(1e200,e.transcendPoints.times(1e30).add(1))),()=>u(f.pow((s.totalCoinOwned+1)*Math.min(1e30,Math.pow(1.008,s.totalCoinOwned)),10),2),()=>({x:u(Math.floor(1+1/101*s.freeMultiplier)),y:u(Math.floor(5+1/101*s.freeAccelerator))}),()=>({x:u(Math.floor(1+1/101*s.freeMultiplier)),y:u(Math.floor(4+1/101*s.freeAccelerator))}),()=>({x:u(Math.floor(1+1/101*s.freeMultiplier)),y:u(Math.floor(3+1/101*s.freeAccelerator))}),()=>({x:u(Math.floor(1+1/101*s.freeMultiplier)),y:u(Math.floor(2+1/101*s.freeAccelerator))}),()=>({x:u(Math.floor(1+1/101*s.freeMultiplier)),y:u(Math.floor(1+1/101*s.freeAccelerator))}),()=>null,()=>u(Math.min(250,Math.floor(f.log(e.coins.add(1),1e3)))+Math.max(0,Math.min(1750,Math.floor(f.log(e.coins.add(1),1e15))-50))),()=>u(Math.min(1e3,Math.floor((e.firstOwnedCoin+e.secondOwnedCoin+e.thirdOwnedCoin+e.fourthOwnedCoin+e.fifthOwnedCoin)/160))),()=>u(Math.floor(Math.min(2e3,(e.firstOwnedCoin+e.secondOwnedCoin+e.thirdOwnedCoin+e.fourthOwnedCoin+e.fifthOwnedCoin)/80))),()=>u(Math.min(75,Math.floor(f.log(e.coins.add(1),1e10)))+Math.min(925,Math.floor(f.log(e.coins.add(1),1e30)))),()=>u(Math.floor(s.totalCoinOwned/2e3)),()=>u(Math.min(500,Math.floor(f.log(e.prestigePoints.add(1),1e25)))),()=>u(s.totalAcceleratorBoost),()=>u(Math.floor(3/103*s.freeMultiplier)),()=>u(Math.floor(2/102*s.freeMultiplier)),()=>u(f.min("1e5000",f.pow(e.prestigePoints,1/500)),2),()=>u(f.pow(f.log(e.prestigePoints.add(10),10),2),2),()=>null,()=>null,()=>null,()=>u(f.min(1e30,f.pow(e.transcendPoints.add(1),1/2))),()=>u(f.min(1e50,f.pow(e.prestigePoints.add(1),1/50).dividedBy(2.5).add(1)),2),()=>u(f.min(1e30,f.pow(1.01,e.transcendCount)),2),()=>u(f.min(1e6,f.pow(1.01,e.transcendCount)),2),()=>u(Math.min(2500,Math.floor(f.log(e.transcendShards.add(1),10)))),()=>null,()=>u(Math.pow(1.05,e.achievementPoints)*(e.achievementPoints+1),2),()=>u(Math.pow(Math.min(1e25,s.totalMultiplier*s.totalAccelerator)/1e3+1,8)),()=>u(Math.min(50,Math.floor(f.log(e.transcendPoints.add(1),1e10)))),()=>null,()=>u(Math.pow(s.totalAcceleratorBoost,2),2),()=>u(f.pow(s.globalMythosMultiplier,.025),2),()=>u(f.min("1e1250",f.pow(s.acceleratorEffect,1/125)),2),()=>u(f.min("1e2000",f.pow(s.multiplierEffect,1/180)),2),()=>u(f.pow("1e1000",Math.min(1e3,s.buildingPower-1)),2),()=>null,()=>null,()=>null,()=>null,()=>null,()=>null,()=>Math.floor(1/5*le(e.challengecompletions)),()=>u(f.min("1e6000",f.pow(e.reincarnationPoints.add(1),6))),()=>u(f.pow(e.reincarnationPoints.add(1),2)),()=>null,()=>null,()=>u(f.pow(1.03,e.firstOwnedParticles+e.secondOwnedParticles+e.thirdOwnedParticles+e.fourthOwnedParticles+e.fifthOwnedParticles),2),()=>u(Math.min(2500,Math.floor(1/1e3*f.log(s.taxdivisor,10)))),()=>{let t=f.pow(f.log(s.reincarnationPointGain.add(10),10),.5),n=f.pow(f.log(s.reincarnationPointGain.add(10),10),.5);return{x:u(Math.min(10,new f(t).toNumber()),2),y:u(Math.min(3,new f(n).toNumber()),2)}},()=>u(1/3*Math.log(e.maxobtainium+1)/Math.log(10),2,!0),()=>null,()=>Math.min(50,1+2*e.challengecompletions[6]+2*e.challengecompletions[7]+2*e.challengecompletions[8]+2*e.challengecompletions[9]+2*e.challengecompletions[10]),()=>null,()=>u(1+4*Math.min(1,Math.pow(e.maxofferings/1e5,.5)),2),()=>u(1+2*Math.min(1,Math.pow(e.maxobtainium/3e7,.5)),2),()=>null,()=>u(f.pow(1.004+4/1e5*e.researches[96],e.firstOwnedAnts+e.secondOwnedAnts+e.thirdOwnedAnts+e.fourthOwnedAnts+e.fifthOwnedAnts+e.sixthOwnedAnts+e.seventhOwnedAnts+e.eighthOwnedAnts),3),()=>u(1+.005*Math.pow(Math.log(e.maxofferings+1)/Math.log(10),2),2,!0),()=>null,()=>null,...Array.from({length:39},()=>()=>null),()=>null,()=>null,()=>null,()=>null,()=>u(.333*e.challengecompletions[10],0),()=>u(.333*e.challengecompletions[10],0)],ud=t=>{var o;let n=(o=$s[t-1])==null?void 0:o.call($s),r=typeof n,a=i("upgradeeffect");t>=81&&t<=119?a.textContent=p.t("upgrades.effects.81"):n==null?a.textContent=p.t(`upgrades.effects.${t}`):r==="string"||r==="number"?a.textContent=p.t(`upgrades.effects.${t}`,{x:n}):a.textContent=p.t(`upgrades.effects.${t}`,n)},vc=t=>{let n=p.t(`upgrades.descriptions.${t}`),r=e.upgrades[t]>.5?" BOUGHT!":"",a=i("upgradedescription");a.textContent=n+r,a.style.color=e.upgrades[t]>.5?"gold":"white",e.toggles[9]===!0&&Kn(t,!1);let o="",l="";(t<=20&&t>=1||t<=110&&t>=106||t<=125&&t>=121)&&(o="Coins",l="yellow"),(t<=40&&t>=21||t<=105&&t>=101||t<=115&&t>=111||t<=87&&t>=81)&&(o="Diamonds",l="cyan"),(t<=60&&t>=41||t<=120&&t>=116||t<=93&&t>=88)&&(o="Mythos",l="plum"),(t<=80&&t>=61||t<=100&&t>=94)&&(o="Particles",l="limegreen"),i("upgradecost").textContent="Cost: "+u(f.pow(10,s.upgradeCosts[t]))+" "+o,i("upgradecost").style.color=l,ud(t)},Kn=(t,n)=>{if(e.upgrades[t]!==0||t<=40&&t>=21&&!e.unlocks.prestige||t<=60&&t>=41&&!e.unlocks.transcend||t<=80&&t>=61&&!e.unlocks.reincarnate||t<=120&&t>=81&&!e.unlocks.prestige||i(`upg${t}`).style.display==="none")return;let r;t<=20&&t>=1&&(r="coins"),t<=40&&t>=21&&(r="prestigePoints"),t<=60&&t>=41&&(r="transcendPoints"),t<=80&&t>=61&&(r="reincarnationPoints"),t<=87&&t>=81&&(r="prestigePoints"),t<=93&&t>=88&&(r="transcendPoints"),t<=100&&t>=94&&(r="reincarnationPoints"),r&&t<=80&&t>=1&&Pt(r,t,n),r&&t<=100&&t>=81&&hc(t-80,n),t<=120&&t>=101&&Mr(t-100,n),t<=125&&t>=121&&Pt("coins",t,n)},ra=(t,n)=>{let r=0,a=0;if(t===1){r=121,a=125;for(let o=1;o<=20;o++)Kn(o,n)}t===2&&(r=21,a=40),t===3&&(r=41,a=60),t===4&&(r=101,a=120),t===5&&(r=81,a=100),t===6&&(r=61,a=80);for(let o=r;o<=a;o++)Kn(o,n)},bc={1:()=>`Crystal production x${u(f.min(f.pow(10,50+2*e.crystalUpgrades[0]),f.pow(1.05,e.achievementPoints*e.crystalUpgrades[0])),2,!0)}`,2:()=>`Crystal production x${u(f.min(f.pow(10,100+5*e.crystalUpgrades[1]),f.pow(f.log(e.coins.add(1),10),e.crystalUpgrades[1]/3)),2,!0)}`,3:()=>`Crystal production x${u(f.pow(1+Math.min(.12+.88*e.upgrades[122]+.001*e.researches[129]*Math.log(e.commonFragments+1)/Math.log(4),.001*e.crystalUpgrades[2]),e.firstOwnedDiamonds+e.secondOwnedDiamonds+e.thirdOwnedDiamonds+e.fourthOwnedDiamonds+e.fifthOwnedDiamonds),2,!0)}`,4:()=>`Coin production multiplier exponent +${u(Math.min(10+.05*e.researches[129]*Math.log(e.commonFragments+1)/Math.log(4)+20*_e()/400*s.effectiveRuneSpiritPower[3],.05*e.crystalUpgrades[3]),2,!0)}`,5:()=>`Crystal production x${u(f.pow(1.01,(e.challengecompletions[1]+e.challengecompletions[2]+e.challengecompletions[3]+e.challengecompletions[4]+e.challengecompletions[5])*e.crystalUpgrades[4]),2,!0)}`},pd=t=>{var n;return p.t(`upgrades.crystalUpgrades.${t}`,(n=Hs[t])==null?void 0:n.call(Hs))},gd=t=>p.t("buildings.crystalUpgrades.currentEffect",{effect:t in bc?bc[t]():""}),ro=t=>{let n=e.crystalUpgrades[t-1],r=(e.upgrades[73]>.5&&e.currentChallenge.reincarnation!==0?10:0)+Math.floor(s.rune3level*s.effectiveLevelMult/16)*100/100,a=f.pow(10,s.crystalUpgradesCost[t-1]+s.crystalUpgradeCostIncrement[t-1]*Math.floor(Math.pow(e.crystalUpgrades[t-1]+.5-r,2)/2));i("crystalupgradedescription").textContent=pd(t),i("crystalupgradeslevel1").innerHTML=p.t("buildings.crystalUpgrades.currentLevel",{amount:u(n,0,!0)}),i("crystalupgradescost1").innerHTML=p.t("buildings.crystalUpgrades.cost",{amount:u(a)}),i("crystalupgradeseffect1").innerHTML=gd(t)},ft=(t,n)=>{let r=i(`upg${t}`);e.upgrades[t]>.5?r.style.backgroundColor="green":r.style.backgroundColor="";let a=p.t(`upgrades.descriptions.${t}`),o=e.upgrades[t]>.5?" BOUGHT!":"";e.upgrades[t]>.5&&(n||(i("upgradedescription").textContent=a+o,i("upgradedescription").style.color="gold")),n||Me()},Qs=()=>{let t=e.ascendBuilding1.owned+e.ascendBuilding2.owned+e.ascendBuilding3.owned+e.ascendBuilding4.owned+e.ascendBuilding5.owned;return t>1e5?Math.pow(1e5,.5)*Math.pow(t,.5):t},Fs={1:()=>`Tesseract building production x${u(f.pow(1.05+.01*e.achievements[270]+.001*e.platonicUpgrades[18],e.constantUpgrades[1]),2,!0)}`,2:()=>`Tesseract building production x${u(f.pow(1+.001*Math.min(100+10*e.achievements[270]+10*e.shopUpgrades.constantEX+3*e.platonicUpgrades[18]+1e3*(s.challenge15Rewards.exponent-1),e.constantUpgrades[2]),Qs()),2,!0)}`,3:()=>`Offering gain x${u(1+.02*e.constantUpgrades[3],2,!0)}`,4:()=>`Obtainium gain x${u(1+.04*e.constantUpgrades[4],2,!0)}`,5:()=>`Ant Speed x${u(f.pow(1+.1*f.log(e.ascendShards.add(1),10),e.constantUpgrades[5]),2,!0)}`,6:()=>`+ ${u(2*e.constantUpgrades[6])} free Ant Levels`,7:()=>`+${u(7*e.constantUpgrades[7])} free Rune Levels, +${u(3*e.constantUpgrades[7])} to Rune Cap`,8:()=>`Rune EXP x${u(1+1/10*e.constantUpgrades[8],2,!0)}`,9:()=>`Runes effectiveness x${u(1+.01*Math.log(e.talismanShards+1)/Math.log(4)*Math.min(1,e.constantUpgrades[9]),4,!0)}`,10:()=>`Cubes/Tesseracts on Ascension x${u(1+.01*f.log(e.ascendShards.add(1),4)*Math.min(1,e.constantUpgrades[10]),4,!0)}`},dd=t=>{var n;return p.t(`upgrades.constantUpgrades.${t}`,(n=Gs[t])==null?void 0:n.call(Gs))},fd=t=>{var n;return(n=Fs[t])==null?void 0:n.call(Fs)},aa=t=>{let n=Math.max(0,Math.floor(1+f.log(f.max(.01,e.ascendShards),10)-Math.log(s.constUpgradeCosts[t])/Math.log(10))),r;return n>e.constantUpgrades[t]?r=f.pow(10,n-1).times(s.constUpgradeCosts[t]):r=f.pow(10,e.constantUpgrades[t]).times(s.constUpgradeCosts[t]),[Math.max(1,n-e.constantUpgrades[t]),r]},_s=t=>{let[n,r]=aa(t);i("constUpgradeDescription").textContent=dd(t),i("constUpgradeLevel2").textContent=u(e.constantUpgrades[t]),i("constUpgradeCost2").textContent=u(r)+" [+"+u(n)+" LVL]",i("constUpgradeEffect2").textContent=fd(t)},oa=(t,n=!1)=>{let[r,a]=aa(t);e.ascendShards.gte(a)&&(e.constantUpgrades[t]+=r,e.researches[175]===0&&(e.ascendShards=e.ascendShards.sub(a)),n||_s(t)),st(),ke()};var Sr=class{constructor(n){this.level=0;this.freeLevels=0;this.toggleBuy=1;var r,a,o,l;this.name=n.name,this.description=n.description,this.level=(r=n.level)!=null?r:0,this.freeLevels=(a=n.freeLevels)!=null?a:0,this.maxLevel=n.maxLevel,this.costPerLevel=n.costPerLevel,this.toggleBuy=(o=n.toggleBuy)!=null?o:1,this.effect=(l=n.effect)!=null?l:function(c){return{bonus:c,desc:"WIP not implemented"}}}async changeToggle(){let n=await Se(p.t("dynamicUpgrades.validation.setPurchaseAmount",{x:this.name})),r=Number(n);if(n===null)return R(p.t("dynamicUpgrades.validation.toggleKept",{x:u(this.toggleBuy)}));if(!Number.isInteger(n))return R(p.t("general.validation.fraction"));if(r<-1)return R(p.t("dynamicUpgrades.validation.onlyNegativeOne"));if(r===0)return R(p.t("dynamicUpgrades.validation.notZero"));this.toggleBuy=r;let a=r===-1?p.t("dynamicUpgrades.toggleMax"):p.t("dynamicUpgrades.toggle",{x:u(this.toggleBuy)});return R(a)}getEffect(){let n=this.level+Math.min(this.level,this.freeLevels)+Math.sqrt(Math.max(0,this.freeLevels-this.level));return this.effect(n)}};var qs=()=>{let t=e.singularityCount,n=t>36?p.t("singularity.penalties.platonicCosts",{multiplier:u(we("Platonic Costs",t),2,!0)}):'<span class="grayText">???????? ??????? ????? ??? ?????????? ?? ???</span> <span class="redText">(37)</span>',r=t>50?p.t("singularity.penalties.hepteractCosts",{multiplier:u(we("Hepteract Costs",t),2,!0)}):'<span class="grayText">????????? ????? ????? ??? ?????????? ?? ???</span> <span class="redText">(51)</span>',a=md(t)+`<br>${p.t("singularity.penalties.globalSpeed",{divisor:u(we("Global Speed",t),2,!0)})}
                 ${p.t("singularity.penalties.ascensionSpeed",{divisor:u(we("Ascension Speed",t),2,!0)})}
                 ${p.t("singularity.penalties.offeringGain",{divisor:u(we("Offering",t),2,!0)})}
                 ${p.t("singularity.penalties.obtainiumGain",{divisor:u(we("Obtainium",t),2,!0)})}
                 ${p.t("singularity.penalties.cubeGain",{divisor:u(we("Cubes",t),2,!0)})}
                 ${p.t("singularity.penalties.researchCosts",{multiplier:u(we("Researches",t),2,!0)})}
                 ${p.t("singularity.penalties.cubeUpgradeCosts",{multiplier:u(we("Cube Upgrades",t),2,!0)})}
                 ${n}
                 ${r}
                 ${t>=230?p.t("singularity.penalties.penaltySmooth"):p.t("singularity.penalties.penaltyRough",{num:u(Cd(e.singularityCount),0,!0)})}
                 ${e.runelevels[6]>0?p.t("singularity.penalties.antiquitiesBought"):p.t("singularity.penalties.antiquitiesNotBought")}`;i("singularityPenaltiesMultiline").innerHTML=a};function md(t){return`${p.t("general.youAreInThe")} <span style="color: gold">${Vr(t)} Singularity</span>`}var G=class extends Sr{constructor(r,a){var c,g,d,m,h;let o=p.t(`singularity.data.${a}.name`),l=p.t(`singularity.data.${a}.description`);super(Ha(We({},r),{name:o,description:l}));this.goldenQuarksInvested=0;this.goldenQuarksInvested=(c=r.goldenQuarksInvested)!=null?c:0,this.minimumSingularity=(g=r.minimumSingularity)!=null?g:0,this.canExceedCap=(d=r.canExceedCap)!=null?d:!1,this.specialCostForm=(m=r.specialCostForm)!=null?m:"Default",this.qualityOfLife=(h=r.qualityOfLife)!=null?h:!1}toString(){let r=this.getCostTNL(),a=this.maxLevel===-1?"":`/${u(this.computeMaxLevel(),0,!0)}`,o=this.computeMaxLevel()===this.level?"plum":"white",l=e.highestSingularityCount<this.minimumSingularity?"var(--crimson-text-color)":"var(--green-text-color)",c=this.minimumSingularity>0?`${p.t("general.minimum")} Singularity: ${this.minimumSingularity}`:p.t("singularity.toString.noMinimum"),g=this.freeLevels>0?`<span style="color: orange"> [+${u(this.freeLevels,2,!0)}]</span>`:"";return this.freeLevels>this.level&&(g=g+`<span style="color: var(--maroon-text-color)"> ${p.t("general.softCapped")}</span>`),`<span style="color: gold">${this.name}</span>
                <span style="color: lightblue">${this.description}</span>
                <span style="color: ${l}">${c}</span>
                <span style="color: ${o}"> ${p.t("general.level")} ${u(this.level,0,!0)}${a}${g}</span>
                <span style="color: gold">${this.getEffect().desc}</span>
                ${p.t("singularity.toString.costNextLevel")}: ${u(r,0,!0)} Golden Quarks.
                ${p.t("general.spent")} Quarks: ${u(this.goldenQuarksInvested,0,!0)}`}updateUpgradeHTML(){i("testingMultiline").innerHTML=this.toString()}getCostTNL(){let r=1;return this.computeMaxLevel()>this.maxLevel&&this.level>=this.maxLevel&&(r*=Math.pow(4,this.level-this.maxLevel+1)),this.specialCostForm==="Exponential2"?this.costPerLevel*Math.sqrt(r)*Math.pow(2,this.level):this.specialCostForm==="Cubic"?this.costPerLevel*r*(Math.pow(this.level+1,3)-Math.pow(this.level,3)):this.specialCostForm==="Quadratic"?this.costPerLevel*r*(Math.pow(this.level+1,2)-Math.pow(this.level,2)):(r*=this.maxLevel===-1&&this.level>=100?this.level/50:1,r*=this.maxLevel===-1&&this.level>=400?this.level/100:1,this.computeMaxLevel()===this.level?0:Math.ceil(this.costPerLevel*(1+this.level)*r))}async buyLevel(r){let a=0,o=1,l=e.goldenQuarks;if(r.shiftKey){o=1e5;let c=Number(await Se(p.t("singularity.goldenQuarks.spendPrompt",{gq:u(e.goldenQuarks,0,!0)})));if(isNaN(c)||!isFinite(c)||!Number.isInteger(c))return R(p.t("general.validation.finite"));if(c===-1)l=e.goldenQuarks;else{if(c<=0)return R(p.t("general.validation.zeroOrLess"));l=c}l=Math.min(e.goldenQuarks,l)}if(this.maxLevel>0&&(o=Math.min(o,this.computeMaxLevel()-this.level)),o===0)return R(p.t("singularity.goldenQuarks.hasUpgrade"));if(e.highestSingularityCount<this.minimumSingularity)return R(p.t("singularity.goldenQuarks.notHighEnoughLevel"));for(;o>0;){let c=this.getCostTNL();if(e.goldenQuarks<c||l<c)break;e.goldenQuarks-=c,l-=c,this.goldenQuarksInvested+=c,this.level+=1,a+=1,o-=1,this.name===e.singularityUpgrades.oneMind.name&&(e.ascensionCounter=0,e.ascensionCounterReal=0,e.ascensionCounterRealReal=0,R(p.t("singularity.goldenQuarks.ascensionReset"))),this.name===e.singularityUpgrades.singCitadel2.name&&(e.singularityUpgrades.singCitadel.freeLevels=e.singularityUpgrades.singCitadel2.level)}if(a===0)return R(p.t("general.validation.moreThanPlayerHas"));a>1&&R(p.t("singularity.goldenQuarks.multiBuyPurchased",{levels:u(a)})),this.updateUpgradeHTML(),qs(),js(),Me()}computeFreeLevelSoftcap(){return Math.min(this.level,this.freeLevels)+Math.sqrt(Math.max(0,this.freeLevels-this.level))}computeMaxLevel(){if(this.canExceedCap){let r=this.maxLevel,a=[50,60,75,100,125,150,175,200,225,250];for(let o=0;o<a.length&&e.highestSingularityCount>=a[o];o++)r+=1;return r+=+e.octeractUpgrades.octeractSingUpgradeCap.getEffect().bonus,r}else return this.maxLevel}actualTotalLevels(){if(e.singularityChallenges.noSingularityUpgrades.enabled&&!this.qualityOfLife||e.singularityChallenges.limitedAscensions.enabled&&this.name===e.singularityUpgrades.platonicDelta.name)return 0;let r=this.computeFreeLevelSoftcap(),a=this.level+r,o=0;if(e.octeractUpgrades.octeractImprovedFree.getEffect().bonus){let l=.6;l+=+e.octeractUpgrades.octeractImprovedFree2.getEffect().bonus,l+=+e.octeractUpgrades.octeractImprovedFree3.getEffect().bonus,l+=+e.octeractUpgrades.octeractImprovedFree4.getEffect().bonus,o=Math.pow(this.level*r,l)}return Math.max(a,o)}getEffect(){return this.effect(this.actualTotalLevels())}refund(){e.goldenQuarks+=this.goldenQuarksInvested,this.level=0,this.goldenQuarksInvested=0}},D={goldenQuarks1:{maxLevel:15,costPerLevel:12,canExceedCap:!0,effect:t=>({bonus:1+.1*t,get desc(){return p.t("singularity.data.goldenQuarks1.effect",{n:u(10*t,0,!0)})}}),qualityOfLife:!0},goldenQuarks2:{maxLevel:75,costPerLevel:60,canExceedCap:!0,effect:t=>({bonus:t>250?1/Math.log2(t/62.5):1-Math.min(.5,t/500),get desc(){return p.t("singularity.data.goldenQuarks2.effect",{n:t>250?u(100-100/Math.log2(t/62.5),2,!0):u(Math.min(50,t/5),2,!0)})}}),qualityOfLife:!0},goldenQuarks3:{maxLevel:1e3,costPerLevel:1e3,effect:t=>({bonus:t*(t+1)/2,get desc(){return p.t("singularity.data.goldenQuarks3.effect",{n:u(t*(t+1)/2)})}})},starterPack:{maxLevel:1,costPerLevel:10,effect:t=>({bonus:t>0,get desc(){return p.t(`singularity.data.starterPack.effect${t>0?"Have":"HaveNot"}`)}})},wowPass:{maxLevel:1,costPerLevel:350,effect:t=>({bonus:t>0,get desc(){return p.t(`singularity.data.wowPass.effect${t>0?"Have":"HaveNot"}`)}}),qualityOfLife:!0},cookies:{maxLevel:1,costPerLevel:100,effect:t=>({bonus:t>0,get desc(){return p.t(`singularity.data.cookies.effect${t>0?"Have":"HaveNot"}`)}}),qualityOfLife:!0},cookies2:{maxLevel:1,costPerLevel:500,effect:t=>({bonus:t>0,get desc(){return p.t(`singularity.data.cookies2.effect${t>0?"Have":"HaveNot"}`)}}),qualityOfLife:!0},cookies3:{maxLevel:1,costPerLevel:24999,effect:t=>({bonus:t>0,get desc(){return p.t(`singularity.data.cookies3.effect${t>0?"Have":"HaveNot"}`)}}),qualityOfLife:!0},cookies4:{maxLevel:1,costPerLevel:499999,effect:t=>({bonus:t>0,get desc(){return p.t(`singularity.data.cookies4.effect${t>0?"Have":"HaveNot"}`)}}),qualityOfLife:!0},cookies5:{maxLevel:1,costPerLevel:166e13,minimumSingularity:215,effect:t=>({bonus:t>0,get desc(){return p.t(`singularity.data.cookies5.effect${t>0?"Have":"HaveNot"}`)}}),qualityOfLife:!0},ascensions:{maxLevel:-1,costPerLevel:5,effect:t=>({bonus:(1+2*t/100)*(1+Math.floor(t/10)/100),get desc(){return p.t("singularity.data.goldenQuarks1.effect",{n:u((100+2*t)*(1+Math.floor(t/10)/100)-100,1,!0)})}})},corruptionFourteen:{maxLevel:1,costPerLevel:1e3,effect:t=>({bonus:t>0,get desc(){return p.t(`singularity.data.corruptionFourteen.effect${t>0?"Have":"HaveNot"}`,{m:t>0?":)":":("})}})},corruptionFifteen:{maxLevel:1,costPerLevel:4e4,effect:t=>({bonus:t>0,get desc(){return p.t(`singularity.data.corruptionFifteen.effect${t>0?"Have":"HaveNot"}`,{m:t>0?":)":":("})}})},singOfferings1:{maxLevel:-1,costPerLevel:1,effect:t=>({bonus:1+.02*t,get desc(){return p.t("singularity.data.singOfferings1.effect",{n:u(2*t,0,!0)})}})},singOfferings2:{maxLevel:25,costPerLevel:25,canExceedCap:!0,effect:t=>({bonus:1+.08*t,get desc(){return p.t("singularity.data.singOfferings2.effect",{n:u(8*t,0,!0)})}})},singOfferings3:{maxLevel:40,costPerLevel:500,canExceedCap:!0,effect:t=>({bonus:1+.04*t,get desc(){return p.t("singularity.data.singOfferings3.effect",{n:u(4*t,0,!0)})}})},singObtainium1:{maxLevel:-1,costPerLevel:1,effect:t=>({bonus:1+.02*t,get desc(){return p.t("singularity.data.singObtainium1.effect",{n:u(2*t,0,!0)})}})},singObtainium2:{maxLevel:25,costPerLevel:25,canExceedCap:!0,effect:t=>({bonus:1+.08*t,get desc(){return p.t("singularity.data.singObtainium2.effect",{n:u(8*t,0,!0)})}})},singObtainium3:{maxLevel:40,costPerLevel:500,canExceedCap:!0,effect:t=>({bonus:1+.04*t,get desc(){return p.t("singularity.data.singObtainium3.effect",{n:u(4*t,0,!0)})}})},singCubes1:{maxLevel:-1,costPerLevel:1,effect:t=>({bonus:1+.02*t,get desc(){return p.t("singularity.data.singCubes1.effect",{n:u(2*t,0,!0)})}})},singCubes2:{maxLevel:25,costPerLevel:25,canExceedCap:!0,effect:t=>({bonus:1+.08*t,get desc(){return p.t("singularity.data.singCubes2.effect",{n:u(8*t,0,!0)})}})},singCubes3:{maxLevel:40,costPerLevel:500,canExceedCap:!0,effect:t=>({bonus:1+.04*t,get desc(){return p.t("singularity.data.singCubes3.effect",{n:u(4*t,0,!0)})}})},singCitadel:{maxLevel:-1,costPerLevel:5e5,minimumSingularity:100,effect:t=>({bonus:(1+.02*t)*(1+Math.floor(t/10)/100),get desc(){return p.t("singularity.data.singCubes2.effect",{n:u(100*((1+.02*t)*(1+Math.floor(t/10)/100)-1))})}})},singCitadel2:{maxLevel:100,costPerLevel:1e14,minimumSingularity:210,specialCostForm:"Quadratic",effect:t=>({bonus:(1+.02*t)*(1+Math.floor(t/10)/100),get desc(){return p.t("singularity.data.singCubes3.effect",{n:u(100*((1+.02*t)*(1+Math.floor(t/10)/100)-1))})}})},octeractUnlock:{maxLevel:1,costPerLevel:8888,minimumSingularity:8,effect:t=>({bonus:t>0,get desc(){return p.t(`singularity.data.octeractUnlock.effect${t>0?"Have":"HaveNot"}`)}}),qualityOfLife:!0},singOcteractPatreonBonus:{maxLevel:1,costPerLevel:9999,minimumSingularity:12,effect:t=>({bonus:t>0,get desc(){return p.t("singularity.data.singOcteractPatreonBonus.effect",{n:t})}})},offeringAutomatic:{maxLevel:-1,costPerLevel:1e14,minimumSingularity:222,effect:t=>({bonus:t,get desc(){return p.t("singularity.data.offeringAutomatic.effect",{n:t})}})},intermediatePack:{maxLevel:1,costPerLevel:1,minimumSingularity:4,effect:t=>({bonus:t>0,get desc(){return p.t(`singularity.data.intermediatePack.effect${t>0?"Have":"HaveNot"}`)}})},advancedPack:{maxLevel:1,costPerLevel:200,minimumSingularity:9,effect:t=>({bonus:t>0,get desc(){return p.t(`singularity.data.advancedPack.effect${t>0?"Have":"HaveNot"}`)}})},expertPack:{maxLevel:1,costPerLevel:800,minimumSingularity:16,effect:t=>({bonus:t>0,get desc(){return p.t(`singularity.data.expertPack.effect${t>0?"Have":"HaveNot"}`)}})},masterPack:{maxLevel:1,costPerLevel:3200,minimumSingularity:25,effect:t=>({bonus:t>0,get desc(){return p.t(`singularity.data.masterPack.effect${t>0?"Have":"HaveNot"}`)}})},divinePack:{maxLevel:1,costPerLevel:12800,minimumSingularity:36,effect:t=>({bonus:t>0,get desc(){return p.t(`singularity.data.divinePack.effect${t>0?"Have":"HaveNot"}`)}})},wowPass2:{maxLevel:1,costPerLevel:19999,minimumSingularity:11,effect:t=>({bonus:t>0,get desc(){return p.t(`singularity.data.wowPass2.effect${t>0?"Have":"HaveNot"}`)}}),qualityOfLife:!0},wowPass3:{maxLevel:1,costPerLevel:3e7-1,minimumSingularity:83,effect:t=>({bonus:t>0,get desc(){return p.t(`singularity.data.wowPass3.effect${t>0?"Have":"HaveNot"}`)}}),qualityOfLife:!0},potionBuff:{maxLevel:10,costPerLevel:999,minimumSingularity:4,canExceedCap:!0,effect:t=>({bonus:Math.max(1,10*Math.pow(t,2)),get desc(){return p.t("singularity.data.potionBuff.effect",{n:u(Math.max(1,10*Math.pow(t,2)),0,!0)})}})},potionBuff2:{maxLevel:10,costPerLevel:1e8,minimumSingularity:121,canExceedCap:!0,effect:t=>({bonus:Math.max(1,2*t),get desc(){return p.t("singularity.data.potionBuff2.effect",{n:u(Math.max(1,2*t),0,!0)})}})},potionBuff3:{maxLevel:10,costPerLevel:1e12,minimumSingularity:196,canExceedCap:!0,effect:t=>({bonus:Math.max(1,1+.5*t),get desc(){return p.t("singularity.data.potionBuff3.effect",{n:u(Math.max(1,1+.5*t),2,!0)})}})},singChallengeExtension:{maxLevel:4,costPerLevel:999,minimumSingularity:11,effect:t=>({bonus:t,get desc(){return p.t("singularity.data.singChallengeExtension.effect",{n:2*t,m:t})}})},singChallengeExtension2:{maxLevel:3,costPerLevel:29999,minimumSingularity:26,effect:t=>({bonus:t,get desc(){return p.t("singularity.data.singChallengeExtension2.effect",{n:2*t,m:t})}})},singChallengeExtension3:{maxLevel:3,costPerLevel:749999,minimumSingularity:51,effect:t=>({bonus:t,get desc(){return p.t("singularity.data.singChallengeExtension3.effect",{n:2*t,m:t})}})},singQuarkImprover1:{maxLevel:30,costPerLevel:1,minimumSingularity:177,canExceedCap:!0,specialCostForm:"Exponential2",effect:t=>({bonus:t/200,get desc(){return p.t("singularity.data.singQuarkImprover1.effect",{n:u(t/2,2,!0)})}}),qualityOfLife:!0},singQuarkHepteract:{maxLevel:1,costPerLevel:14999,minimumSingularity:5,effect:t=>({bonus:t/100,get desc(){return p.t("singularity.data.singQuarkHepteract.effect",{n:u(2*t,2,!0)})}}),qualityOfLife:!0},singQuarkHepteract2:{maxLevel:1,costPerLevel:449999,minimumSingularity:30,effect:t=>({bonus:t/100,get desc(){return p.t("singularity.data.singQuarkHepteract2.effect",{n:u(2*t,2,!0)})}}),qualityOfLife:!0},singQuarkHepteract3:{maxLevel:1,costPerLevel:1337e4,minimumSingularity:61,effect:t=>({bonus:t/100,get desc(){return p.t("singularity.data.singQuarkHepteract3.effect",{n:u(2*t,2,!0)})}}),qualityOfLife:!0},singOcteractGain:{maxLevel:-1,costPerLevel:2e4,minimumSingularity:36,effect:t=>({bonus:1+.01*t,get desc(){return p.t("singularity.data.singOcteractGain.effect",{n:u(t,2,!0)})}})},singOcteractGain2:{maxLevel:25,costPerLevel:4e4,minimumSingularity:36,canExceedCap:!0,effect:t=>({bonus:1+.04*t,get desc(){return p.t("singularity.data.singOcteractGain2.effect",{n:u(4*t,0,!0)})}})},singOcteractGain3:{maxLevel:50,costPerLevel:25e4,minimumSingularity:55,canExceedCap:!0,effect:t=>({bonus:1+.02*t,get desc(){return p.t("singularity.data.singOcteractGain3.effect",{n:u(2*t,2,!0)})}})},singOcteractGain4:{maxLevel:100,costPerLevel:75e4,minimumSingularity:77,canExceedCap:!0,effect:t=>({bonus:1+.01*t,get desc(){return p.t("singularity.data.singOcteractGain4.effect",{n:u(t,0,!0)})}})},singOcteractGain5:{maxLevel:200,costPerLevel:7777777,minimumSingularity:100,canExceedCap:!0,effect:t=>({bonus:1+.005*t,get desc(){return p.t("singularity.data.singOcteractGain5.effect",{n:u(t/2,1,!0)})}})},platonicTau:{maxLevel:1,costPerLevel:1e5,minimumSingularity:29,effect:t=>({bonus:t>0,get desc(){return p.t(`singularity.data.platonicTau.effect${t?"Have":"HaveNot"}`)}}),qualityOfLife:!0},platonicAlpha:{maxLevel:1,costPerLevel:2e7,minimumSingularity:70,effect:t=>({bonus:t>0,get desc(){return p.t(`singularity.data.platonicAlpha.effect${t?"Have":"HaveNot"}`)}}),qualityOfLife:!0},platonicDelta:{maxLevel:1,costPerLevel:5e9,minimumSingularity:111,effect:t=>({bonus:t>0,get desc(){return p.t(`singularity.data.platonicDelta.effect${t?"Have":"HaveNot"}`)}})},platonicPhi:{maxLevel:1,costPerLevel:2e11,minimumSingularity:152,effect:t=>({bonus:t>0,get desc(){return p.t(`singularity.data.platonicPhi.effect${t?"Have":"HaveNot"}`)}}),qualityOfLife:!0},singFastForward:{maxLevel:1,costPerLevel:7e6-1,minimumSingularity:50,effect:t=>({bonus:t>0,get desc(){return p.t(`singularity.data.singFastForward.effect${t?"Have":"HaveNot"}`)}}),qualityOfLife:!0},singFastForward2:{maxLevel:1,costPerLevel:1e11-1,minimumSingularity:150,effect:t=>({bonus:t>0,get desc(){return p.t(`singularity.data.singFastForward2.effect${t?"Have":"HaveNot"}`)}}),qualityOfLife:!0},singAscensionSpeed:{maxLevel:1,costPerLevel:1e10,minimumSingularity:130,effect:t=>({bonus:t,get desc(){return p.t("singularity.data.singAscensionSpeed.effect",{n:u(1+.03*t,2,!0),m:u(1-.03*t,2,!0)})}})},singAscensionSpeed2:{maxLevel:1,costPerLevel:1e12,minimumSingularity:150,effect:t=>({bonus:t,get desc(){return p.t("singularity.data.singAscensionSpeed2.effect")}})},WIP:{maxLevel:100,costPerLevel:1e300,minimumSingularity:251,effect:t=>({bonus:t,get desc(){return p.t("singularity.data.WIP.effect")}})},ultimatePen:{maxLevel:1,costPerLevel:222e20,minimumSingularity:300,effect:t=>({bonus:t>0,get desc(){return p.t("singularity.data.ultimatePen.effect",{n:t?"":"NOT",m:t>0?" However, the pen just ran out of ink. How will you get more?":""})}})},oneMind:{maxLevel:1,costPerLevel:166e11,minimumSingularity:166,effect:t=>({bonus:t>0,get desc(){return p.t(`singularity.data.oneMind.effect${t?"Have":"HaveNot"}`)}}),qualityOfLife:!0},wowPass4:{maxLevel:1,costPerLevel:66666666666,minimumSingularity:150,effect:t=>({bonus:t>0,get desc(){return p.t(`singularity.data.wowPass4.effect${t?"Have":"HaveNot"}`)}}),qualityOfLife:!0},blueberries:{maxLevel:-1,costPerLevel:1e16,minimumSingularity:222,effect:t=>({bonus:t,get desc(){return p.t("singularity.data.blueberries.effect",{n:t})}}),specialCostForm:"Exponential2"}};var hd=[{name:()=>p.t("singularity.perkNames.xyz"),levels:[1,20,200],description:(t,n)=>t>=n[2]?p.t("singularity.perks.xyz.hasLevel2"):t>=n[1]?p.t("singularity.perks.xyz.hasLevel1"):p.t("singularity.perks.xyz.default")},{name:()=>p.t("singularity.perkNames.unlimitedGrowth"),levels:[1],description:()=>p.t("singularity.perks.unlimitedGrowth",{amount:u(10*e.singularityCount)})},{name:()=>p.t("singularity.perkNames.goldenCoins"),levels:[1],description:()=>p.t("singularity.perks.goldenCoins")},{name:()=>p.t("singularity.perkNames.hepteractAutocraft"),levels:[1],description:()=>p.t("singularity.perks.hepteractAutocraft")},{name:()=>p.t("singularity.perkNames.generousOrbs"),levels:[1,2,5,10,15,20,25,30,35],description:(t,n)=>{let r={8:700,7:500,6:415,5:360,4:315,3:280,2:255,1:230};for(let a=8;a>0;a--)if(t>=n[a])return p.t("singularity.perks.generousOrbs",{amount:r[a]});return p.t("singularity.perks.generousOrbs",{amount:"215"})}},{name:()=>p.t("singularity.perkNames.researchDummies"),levels:[1,11],description:(t,n)=>t>=n[1]?p.t("singularity.perks.researchDummies.hasLevel1"):p.t("singularity.perks.researchDummies.otherwise")},{name:()=>p.t("singularity.perkNames.superStart"),levels:[2,3,4,7,15],description:(t,n)=>t>=n[4]?p.t("singularity.perks.superStart.hasLevel4"):t>=n[3]?p.t("singularity.perks.superStart.hasLevel3"):t>=n[2]?p.t("singularity.perks.superStart.hasLevel2"):t>=n[1]?p.t("singularity.perks.superStart.hasLevel1"):p.t("singularity.perks.superStart.default")},{name:()=>p.t("singularity.perkNames.notSoChallenging"),levels:[4,7,10,15,20],description:(t,n)=>t>=n[4]?p.t("singularity.perks.notSoChallenging.hasLevel4"):t>=n[3]?p.t("singularity.perks.notSoChallenging.hasLevel3"):t>=n[2]?p.t("singularity.perks.notSoChallenging.hasLevel2"):t>=n[1]?p.t("singularity.perks.notSoChallenging.hasLevel1"):p.t("singularity.perks.notSoChallenging.default")},{name:()=>p.t("singularity.perkNames.automationUpgrades"),levels:[5,10,15,25,30,100],description:(t,n)=>t>=n[5]?p.t("singularity.perks.automationUpgrades.hasLevel5"):t>=n[4]?p.t("singularity.perks.automationUpgrades.hasLevel4"):t>=n[3]?p.t("singularity.perks.automationUpgrades.hasLevel3"):t>=n[2]?p.t("singularity.perks.automationUpgrades.hasLevel2"):t>=n[1]?p.t("singularity.perks.automationUpgrades.hasLevel1"):p.t("singularity.perks.automationUpgrades.default")},{name:()=>p.t("singularity.perkNames.evenMoreQuarks"),levels:[5,20,35,50,65,80,90,100,121,144,150,160,166,169,170,175,180,190,196,200,200,201,202,203,204,205,210,212,214,216,218,220,225,250],description:(t,n)=>{for(let r=n.length-1;r>=0;r--)if(t>=n[r])return p.t("singularity.perks.evenMoreQuarks.m",{stack:r+1,inc:u(100*(Math.pow(1.05,r+1)-1),2)});return p.t("singularity.perks.evenMoreQuarks.bug")}},{name:()=>p.t("singularity.perkNames.shopSpecialOffer"),levels:[5,20,51],description:(t,n)=>t>=n[2]?p.t("singularity.perks.shopSpecialOffer.hasLevel2"):t>=n[1]?p.t("singularity.perks.shopSpecialOffer.hasLevel1"):p.t("singularity.perks.shopSpecialOffer.default")},{name:()=>p.t("singularity.perkNames.potionAutogenerator"),levels:[6],description:()=>p.t("singularity.perks.potionAutogenerator")},{name:()=>p.t("singularity.perkNames.respecBeGone"),levels:[7],description:()=>p.t("singularity.perks.respecBeGone")},{name:()=>p.t("singularity.perkNames.forTheLoveOfTheAntGod"),levels:[10,15,25],description:(t,n)=>t>=n[2]?p.t("singularity.perks.forTheLoveOfTheAntGod.hasLevel2"):t>=n[1]?p.t("singularity.perks.forTheLoveOfTheAntGod.hasLevel1"):p.t("singularity.perks.forTheLoveOfTheAntGod.default")},{name:()=>p.t("singularity.perkNames.itAllAddsUp"),levels:[10,16,25,36,49,64,81,100,121,144,169,196,225,235,240],description:(t,n)=>{for(let r=n.length-1;r>=0;r--)if(t>=n[r])return p.t("singularity.perks.itAllAddsUp",{div:u(1+(r+1)/5,2,!0),div2:u(1+(r+1)/5,2,!0),cap:u(1+(r+1)/5,2,!0)});return p.t("singularity.perks.evenMoreQuarks.bug")}},{name:()=>p.t("singularity.perkNames.automagicalRunes"),levels:[15,30,40,50],description:(t,n)=>t>=n[3]?p.t("singularity.perks.automagicalRunes.hasLevel3"):t>=n[2]?p.t("singularity.perks.automagicalRunes.hasLevel2"):t>=n[1]?p.t("singularity.perks.automagicalRunes.hasLevel1"):p.t("singularity.perks.automagicalRunes.default")},{name:()=>p.t("singularity.perkNames.exaltedAchievements"),levels:[25],description:()=>p.t("singularity.perks.exaltedAchievements")},{name:()=>p.t("singularity.perkNames.derpSmithsCornucopia"),levels:[18,38,58,78,88,98,118,148,178,188,198,208,218,228,238,248],description:(t,n)=>{let r=0;for(let a of n)t>=a&&(r+=1);return p.t("singularity.perks.derpSmithsCornucopia",{counter:r})}},{name:()=>p.t("singularity.perkNames.coolQOLCubes"),levels:[25,35],description:(t,n)=>t>=n[1]?p.t("singularity.perks.coolQOLCubes.hasLevel1"):p.t("singularity.perks.coolQOLCubes.default")},{name:()=>p.t("singularity.perkNames.eternalAscensions"),levels:[25,101],description:(t,n)=>t>=n[1]?p.t("singularity.perks.eternalAscensions.hasLevel1"):p.t("singularity.perks.eternalAscensions.default")},{name:()=>p.t("singularity.perkNames.antGodsCornucopia"),levels:[30,70,100],description:(t,n)=>t>=n[2]?p.t("singularity.perks.antGodsCornucopia.hasLevel2"):t>=n[1]?p.t("singularity.perks.antGodsCornucopia.hasLevel1"):p.t("singularity.perks.antGodsCornucopia.default")},{name:()=>p.t("singularity.perkNames.overclocked"),levels:[50,60,75,100,125,150,175,200,225,250],description:(t,n)=>{for(let r=n.length-1;r>=0;r--)if(t>=n[r])return p.t("singularity.perks.overclocked",{i:r+1});return p.t("singularity.perks.evenMoreQuarks.bug")}},{name:()=>p.t("singularity.perkNames.wowCubeAutomatedShipping"),levels:[50,150],description:(t,n)=>t>=n[1]?p.t("singularity.perks.wowCubeAutomatedShipping.hasLevel1"):p.t("singularity.perks.wowCubeAutomatedShipping.default")},{name:()=>p.t("singularity.perkNames.goldenRevolution"),levels:[100],description:()=>p.t("singularity.perks.goldenRevolution",{current:u(Math.min(100,.4*e.singularityCount),1)})},{name:()=>p.t("singularity.perkNames.goldenRevolutionII"),levels:[100],description:()=>p.t("singularity.perks.goldenRevolutionII",{current:u(Math.min(50,.2*e.singularityCount),1)})},{name:()=>p.t("singularity.perkNames.goldenRevolutionIII"),levels:[100],description:()=>p.t("singularity.perks.goldenRevolutionIII",{current:u(Math.min(500,2*e.singularityCount))})},{name:()=>p.t("singularity.perkNames.platonicClones"),levels:[100,200],description:(t,n)=>t>=n[1]?p.t("singularity.perks.platonicClones.hasLevel1"):p.t("singularity.perks.platonicClones.default")},{name:()=>p.t("singularity.perkNames.platSigma"),levels:[125,200],description:(t,n)=>{let r=0;for(let a of n)t>=a&&(r+=.125);return p.t("singularity.perks.platSigma",{counter:r,current:u(Math.min(50,r*e.singularityCount),1)})}},{name:()=>p.t("singularity.perkNames.midasMilleniumAgedGold"),levels:[150],description:()=>p.t("singularity.perks.midasMilleniumAgedGold")},{name:()=>p.t("singularity.perkNames.goldenRevolution4"),levels:[160,173,185,194,204,210,219,229,240,249],description:(t,n)=>{let a=0;for(let o of n)t>=o&&(a+=1);return p.t("singularity.perks.goldenRevolution4",{gq:u(1e6/a,0,!0)})}},{name:()=>p.t("singularity.perkNames.octeractMetagenesis"),levels:[200,205],description:(t,n)=>t>=n[1]?p.t("singularity.perks.octeractMetagenesis.hasLevel1"):p.t("singularity.perks.octeractMetagenesis.default")},{name:()=>p.t("singularity.perkNames.immaculateAlchemy"),levels:[200,208,221],description:(t,n)=>t>=n[2]?p.t("singularity.perks.immaculateAlchemy.hasLevel2"):t>=n[1]?p.t("singularity.perks.immaculateAlchemy.hasLevel1"):p.t("singularity.perks.immaculateAlchemy.default")},{name:()=>p.t("singularity.perkNames.skrauQ"),levels:[200],description:()=>{let t=Math.pow((e.singularityCount-179)/20,2);return p.t("singularity.perks.skrauQ",{amt:t})}}],js=()=>{let t=e.highestSingularityCount,n=p.t("singularity.perks.update",{ord:Vr(t),extra:bd(t),interpolation:{escapeValue:!1}});i("singularityPerksMultiline").innerHTML=n},yd=(t,n)=>{for(let r=t.levels.length-1;r>=0;r--)if(n>=t.levels[r])return{level:r+1,singularity:t.levels[r],next:r<t.levels.length-1?t.levels[r+1]:null};return{level:0,singularity:t.levels[0],next:t.levels[0]}},bd=t=>{let n="",r=[],a=[],o=null;for(let c of hd){let g=yd(c,t);if(g.level>0)r.push({name:c.name(),description:c.description(t,c.levels),currentLevel:g.level,lastUpgraded:g.singularity,nextUpgrade:g.next,acquired:c.levels[0]}),g.next&&a.push(g.next);else{o=g.singularity;break}}r=r.sort((c,g)=>c.acquired==g.acquired&&c.lastUpgraded==g.lastUpgraded?0:c.lastUpgraded>g.lastUpgraded||c.lastUpgraded==g.lastUpgraded&&c.acquired>g.acquired?-1:1);for(let c of r)n+="<br/>"+vd(c,t);n+="<br/>",o&&(n+=`<br/>${p.t("singularity.perks.unlockedIn",{sing:o})}`);let l=a.reduce((c,g)=>Math.min(c,+g),1/0);return l<1/0&&(n+=`<br/>${p.t("singularity.perks.improvedIn",{sing:l})}`),n};function vd(t,n){let r=Zn(),a=n-t.lastUpgraded<=r,o=t.currentLevel>1?` - ${p.t("general.level")} `+t.currentLevel:"";return`<span${a?' class="newPerk"':""} title="${t.description}">${t.name}${o}</span>`}var Zn=()=>{let t=0;return t+=+e.singularityUpgrades.singFastForward.getEffect().bonus,t+=+e.singularityUpgrades.singFastForward2.getEffect().bonus,t+=+e.octeractUpgrades.octeractFastForward.getEffect().bonus,t=Math.max(0,Math.min(t,200-e.singularityCount-1)),e.insideSingularityChallenge?0:e.highestSingularityCount!==e.singularityCount&&e.singularityCount+t+1>=e.highestSingularityCount?Math.max(0,Math.min(t,e.highestSingularityCount-e.singularityCount-1)):t},Vs=()=>{let n=1e4;n*=1-.1*Math.min(1,e.achievementPoints/1e4),n*=1-.3*e.cubeUpgrades[60]/1e4,n*=+e.singularityUpgrades.goldenQuarks2.getEffect().bonus,n*=+e.octeractUpgrades.octeractGQCostReduce.getEffect().bonus,n*=e.highestSingularityCount>=100?1-.5*e.highestSingularityCount/250:1;let r=1;return e.highestSingularityCount>=200&&(r=3),e.highestSingularityCount>=208&&(r=5),e.highestSingularityCount>=221&&(r=8),n/=r,n=1e4-n,{cost:1e4-n,costReduction:n}};async function Cc(){let t=Vs(),n=Math.floor(+e.worlds/t.cost),r=null;if(n===0)return R(p.t("singularity.goldenQuarks.poor"));let a=await Se(p.t("singularity.goldenQuarks.buyPrompt",{cost:u(t.cost,0,!0),discount:u(t.costReduction,0,!0),max:u(n,0,!0)}));if(a===null)return R(p.t("general.cancelled"));if(r=Number(a),Number.isNaN(r)||!Number.isFinite(r))return R(p.t("general.validation.finite"));if(r<=0&&r!=-1)return R(p.t("general.validation.zeroOrLess"));if(r>n)return R(p.t("general.validation.goldenQuarksTooMany"));if(!Number.isInteger(r))return R(p.t("general.validation.fraction"));let o;return r===-1?(o=n*t.cost,e.worlds.sub(o),e.goldenQuarks+=n):(o=r*t.cost,e.worlds.sub(o),e.goldenQuarks+=r),R(p.t("singularity.goldenQuarks.transaction",{spent:u(n,0,!0),cost:u(o,0,!0)}))}var sa=(t=e.singularityCount)=>{let n=t;return n*=Math.min(4.75,.75*t/10+1),e.insideSingularityChallenge&&e.singularityChallenges.noOcteracts.enabled&&(n*=Math.pow(e.singularityChallenges.noOcteracts.completions+1,3)),t>10&&(n*=1.5,n*=Math.min(4,1.25*t/10-.25)),t>25&&(n*=2.5,n*=Math.min(6,1.5*t/25-.5)),t>36&&(n*=4,n*=Math.min(5,t/18-1),n*=Math.pow(1.1,Math.min(t-36,64))),t>50&&(n*=5,n*=Math.min(8,2*t/50-1),n*=Math.pow(1.1,Math.min(t-50,50))),t>100&&(n*=2,n*=t/25,n*=Math.pow(1.1,t-100)),t>150&&(n*=2,n*=Math.pow(1.05,t-150)),t>200&&(n*=1.5,n*=Math.pow(1.275,t-200)),t>215&&(n*=1.25,n*=Math.pow(1.2,t-215)),t>230&&(n*=2),n},Cd=(t=e.singularityCount)=>{let n=[11,26,37,51,101,151,201,216,230],r=0;r+=e.shopUpgrades.shopSingularityPenaltyDebuff;for(let a of n)if(a+r>t)return a+r;return-1},we=(t,n=e.singularityCount)=>{if(n===0||e.runelevels[6]>0)return 1;let r=n;r-=e.shopUpgrades.shopSingularityPenaltyDebuff;let a=sa(r);return t==="Offering"?Math.sqrt(Math.min(a,sa(150))+1):t==="Global Speed"?1+Math.sqrt(a)/4:t==="Obtainium"?Math.sqrt(Math.min(a,sa(150))+1):t==="Researches"?1+Math.sqrt(a)/2:t==="Ascension Speed"?n<150?1+Math.sqrt(a)/5:1+Math.pow(a,.75)/1e4:t==="Cubes"?e.singularityCount<150?1+Math.sqrt(a)/4:1+Math.pow(a,.75)/1e3:t==="Platonic Costs"?n>36?1+Math.pow(a,3/10)/12:1:t==="Hepteract Costs"?n>50?1+Math.pow(a,11/50)/25:1:Math.cbrt(a+1)};var wc=(t,n=1,r=0)=>(n=Math.min(s.researchMaxLevels[t]-e.researches[t],n),Et(e.researches[t],s.researchBaseCosts[t]*we("Researches"),e.researchPoints,r,n)),wd=(t,n)=>{if(mt()&&n&&e.autoResearchMode==="cheapest"){for(e.autoResearch=s.researchOrderByCost[e.roombaResearchIndex],Xs(e.autoResearch)&&(i(`res${e.autoResearch||1}`).classList.remove("researchRoomba"),e.roombaResearchIndex=Math.min(s.researchOrderByCost.length-1,e.roombaResearchIndex+1));!Ws(e.autoResearch)&&e.autoResearch<200&&e.autoResearch>=76;)e.roombaResearchIndex+=1,e.autoResearch=s.researchOrderByCost[e.roombaResearchIndex];if(Ws(e.autoResearch)){let r=Math.max(s.researchOrderByCost[e.roombaResearchIndex],1),a=i("res"+r);e.researches[e.autoResearch]<s.researchMaxLevels[e.autoResearch]&&a.classList.add("researchRoomba")}return}else if(!n&&(!mt()||e.autoResearchMode==="manual")){i(`res${e.autoResearch||1}`).classList.remove("researchRoomba"),i(`res${t}`).classList.add("researchRoomba"),e.autoResearch=t,e.researches[t]>=s.researchMaxLevels[t]?et(`res${e.autoResearch}`,["researchMaxed"],["researchPurchased","researchUnpurchased"]):e.researches[t]>=1?et(`res${e.autoResearch}`,["researchPurchased"],["researchUnpurchased","researchMaxed"]):et(`res${e.autoResearch}`,["researchUnpurchased"],["researchPurchased","researchMaxed"]);return}else return},mt=()=>e.cubeUpgrades[9]===1||e.highestSingularityCount>10,Lt=(t,n=!1,r=0,a=!1)=>{var g,d,m,h;let o=e.researchBuyMaxToggle||n||a?1e5:1,l=wc(t,o,r),c=e.researchPoints>=l.cost;return c&&Ws(t)&&!Xs(t)&&(e.researches[t]=l.levelCanBuy,e.researchPoints-=l.cost,Xs(t)&&i(`res${e.autoResearch||1}`).classList.remove("researchRoomba"),s.researchfiller2="Level: "+e.researches[t]+"/"+s.researchMaxLevels[t],ao(t,n,r),(g=e.unlocks).rrow1||(g.rrow1=!0),(d=e.unlocks).rrow2||(d.rrow2=!0),(m=e.unlocks).rrow3||(m.rrow3=!0),(h=e.unlocks).rrow4||(h.rrow4=!0),t>=47&&t<=50&&Me(),(t>=66&&t<=70||t===105)&&Ft(),ke(),st()),e.autoResearchToggle&&wd(t,n),c},xc=(t=e)=>{let n=t.ascensionCount>0?140:125,r=t.challengecompletions[11]>0?15:0,a=t.challengecompletions[12]>0?15:0,o=t.challengecompletions[13]>0?15:0,l=t.challengecompletions[14]>0?15:0;return n+r+a+o+l},Ws=t=>{let n=(o=>l=>o+=l)(0),r=[3*25,5,20,10,15,15,15,15,15,15].map(n),a=[50,124,127,134,141,183,197,204,211,218];for(let o=0;o<r.length;o++){if(o===3&&(t===121||t===124||t===150))return e.achievements[a[o]]>0;if(t<=r[o])return e.achievements[a[o]]>0}return!1},Xs=t=>s.researchMaxLevels[t]<=e.researches[t],ao=(t,n=!1,r=0)=>{let a=e.researchBuyMaxToggle||n?1e5:1,o=p.t(`researches.descriptions.${t}`),l="res"+t;e.toggles[38]===!0&&e.singularityCount>0&&Lt(t,!1,t===200?.01:0,!0);let c=wc(t,a,r),g=p.t("researches.cost",{x:u(c.cost,0,!1),y:u(c.levelCanBuy-e.researches[t],0,!0)});e.researches[t]===s.researchMaxLevels[t]?(i("researchcost").style.color="Gold",i("researchinfo3").style.color="plum",et(l,["researchMaxed"],["researchAvailable","researchPurchased","researchPurchasedAvailable"]),g+=p.t("researches.maxed")):(i("researchcost").style.color="limegreen",i("researchinfo3").style.color="white",e.researches[t]>0?et(l,["researchPurchased","researchPurchasedAvailable"],["researchAvailable","researchMaxed","researchUnpurchased"]):et(l,["researchAvailable"],["researchPurchased","researchMaxed","researchUnpurchased"])),e.researchPoints<c.cost&&e.researches[t]<s.researchMaxLevels[t]&&(i("researchcost").style.color="var(--crimson-text-color)",et(l,[],["researchMaxed","researchAvailable","researchPurchasedAvailable"])),i("researchinfo2").textContent=o,i("researchcost").textContent=g,i("researchinfo3").textContent=p.t("researches.level",{x:e.researches[t],y:s.researchMaxLevels[t]})},Tr=t=>{e.researches[t]>s.researchMaxLevels[t]&&(e.researchPoints+=(e.researches[t]-s.researchMaxLevels[t])*s.researchBaseCosts[t],e.researches[t]=s.researchMaxLevels[t]);let n=`res${t}`;e.researches[t]>.5&&e.researches[t]<s.researchMaxLevels[t]?et(n,["researchPurchased"],["researchUnpurchased","researchMaxed"]):e.researches[t]>.5&&e.researches[t]>=s.researchMaxLevels[t]?et(n,["researchMaxed"],["researchUnpurchased","researchPurchased"]):et(n,["researchUnpurchased"],["researchPurchased","researchMaxed"])};var Jn=()=>{let t=Object.keys(e.hypercubeBlessings);for(let n of t){let r=e.hypercubeBlessings[n],a=t.indexOf(n)+1,o=1,l=1;r>=1e3&&(o=s.benedictionDRPower[a],l*=Math.pow(1e3,1-s.benedictionDRPower[a])),s.hypercubeBonusMultiplier[a]=1+l*s.benedictionbase[a]*Math.pow(r,o)*s.platonicBonusMultiplier[4]}};var io=(t=!1,n=1,r=!1)=>{var l;let a=i("theme"),o=document.body;r?(localStorage.setItem("theme",`${n}`),o.style.setProperty("--transition","750ms"),o.style.setProperty("--transition-extra","600ms")):n=Number((l=localStorage.getItem("theme"))!=null?l:1),t?n===4&&i("logo").setAttribute("src","Pictures/logoLight.png"):(o.style.removeProperty("--header-color"),o.style.removeProperty("--bg-color"),o.style.removeProperty("--alert-color"),o.style.removeProperty("--history-lines"),o.style.removeProperty("--text-color"),o.style.removeProperty("--green-text-color"),o.style.removeProperty("--lightseagreen-text-color"),o.style.removeProperty("--crimson-text-color"),o.style.removeProperty("--red-text-color"),o.style.removeProperty("--maroon-text-color"),o.style.removeProperty("--orchid-text-color"),o.style.removeProperty("--darkorchid-text-color"),o.style.removeProperty("--darkcyan-text-color"),o.style.removeProperty("--gray-text-color"),o.style.removeProperty("--orangered-text-color"),o.style.removeProperty("--box-color"),o.style.removeProperty("--boxmain-bordercolor"),o.style.removeProperty("--button-color"),o.style.removeProperty("--hover-color"),o.style.removeProperty("--blackbtn-color"),o.style.removeProperty("--purplebtn-color"),o.style.removeProperty("--purplehover-color"),o.style.removeProperty("--buttonbuy-color"),o.style.removeProperty("--buildings-canbuy-color"),o.style.removeProperty("--buildings-hover-color"),o.style.removeProperty("--blessings-canbuy-color"),o.style.removeProperty("--blessings-hover-color"),o.style.removeProperty("--tab-color"),o.style.removeProperty("--singtab-color"),o.style.removeProperty("--hoversing-color"),o.style.removeProperty("--shoptab-color"),o.style.removeProperty("--hovershop-color"),o.style.removeProperty("--hepteract-bar-empty"),o.style.removeProperty("--hepteract-bar-red"),o.style.removeProperty("--hepteract-bar-yellow"),o.style.removeProperty("--hepteract-bar-green"),o.classList.remove("textOutline"),i("actualPotionShop").style.backgroundColor="",i("actualPotionShop").style.borderColor="",i("themeBox").style.backgroundColor="",i("themeBox").style.borderColor="",i("c15Rewards").style.backgroundColor="",i("c15Rewards").style.borderColor="",i("platonicUpgradeDescriptions").style.backgroundColor="",i("platonicUpgradeDescriptions").style.borderColor="",i("platonicUpgradePics").style.backgroundColor="",i("platonicUpgradePics").style.borderColor="",i("actualShop").style.backgroundColor="",i("actualShop").style.borderColor="",i("corruptionStatsLoadouts").style.backgroundColor="",i("corruptionStatsLoadouts").style.borderColor="",i("heptGrid").style.backgroundColor="",i("heptGrid").style.borderColor="",i("exportgame").style.backgroundColor="",i("importFileButton").style.backgroundColor="",i("switchTheme2").style.borderColor="darkslategray",i("bonussummation").style.color="orangered",i("corruptionDescription").style.color="darkviolet",i("versionnumber").style.color="fuchsia",i("singularitytab").style.color="red",i("traitstab").style.color="red",i("cubetab").style.color="red",i("ascTimeAccel").style.color="royalblue",i("buildinghotkeys").style.color="lightgray",i("buildinghotkeys2").style.color="lightgray",i("antspecies").style.color="royalblue",i("achievementcolorcode2").style.color="purple",i("corruptionTesseracts").style.color="darkviolet",i("antwelcome").style.color="lightslategrey",i("confirmationToggleTitle").style.color="pink",i("specialActionsTitle").style.color="pink",i("themesTitle").style.color="pink",i("notationTitle").style.color="pink",i("hepteractWelcome").style.color="pink",i("confirmationdisclaimer").style.color="plum",i("cube6Bonus").style.color="brown",i("tesseract6Bonus").style.color="brown",i("hypercube6Bonus").style.color="brown",i("runeshowpower5").style.color="tomato",i("hypercubeWelcome").style.color="#ff004c",i("hypercubeInventory").style.color="#ff004c",i("hypercubeBlessingsTotal").style.color="#ff004c"),n===1?(localStorage.removeItem("theme"),a.textContent="Dark Mode"):n===2?(o.style.setProperty("--header-color","black"),o.style.setProperty("--bg-color","#0c0c0f"),o.style.setProperty("--alert-color","#040406"),o.style.setProperty("--history-lines","#1b1b22"),o.style.setProperty("--box-color","#060606"),o.style.setProperty("--boxmain-bordercolor","#d487d4"),o.style.setProperty("--button-color","#040406"),o.style.setProperty("--hover-color","#1b1b22"),o.style.setProperty("--purplebtn-color","#6f006f"),o.style.setProperty("--buttonbuy-color","#040406"),o.style.setProperty("--buildings-canbuy-color","#2c2c44"),o.style.setProperty("--buildings-hover-color","#3a3a58"),o.style.setProperty("--blessings-canbuy-color","#262639"),o.style.setProperty("--blessings-hover-color","#33334e"),o.style.setProperty("--tab-color","black"),o.style.setProperty("--singtab-color","#002"),o.style.setProperty("--hoversing-color","#00007d"),o.style.setProperty("--shoptab-color","#6f006f"),o.style.setProperty("--hepteract-bar-empty","#3a3a58"),o.style.setProperty("--hepteract-bar-red","darkred"),o.style.setProperty("--hepteract-bar-yellow","#997a00"),o.style.setProperty("--hepteract-bar-green","darkgreen"),i("corruptionStatsLoadouts").style.borderColor="#dd8f00",i("actualPotionShop").style.borderColor="#dd0",i("exportgame").style.backgroundColor="black",i("importFileButton").style.backgroundColor="black",a.textContent="Darker Mode"):n===3?(o.style.setProperty("--header-color","#18171c"),o.style.setProperty("--bg-color","#1c1b22"),o.style.setProperty("--alert-color","#141319"),o.style.setProperty("--history-lines","#083a3a"),o.style.setProperty("--box-color","#141319"),o.style.setProperty("--boxmain-bordercolor","#dda0dd"),o.style.setProperty("--button-color","#101828"),o.style.setProperty("--hover-color","#006"),o.style.setProperty("--blackbtn-color","#101828"),o.style.setProperty("--buttonbuy-color","#0b111c"),o.style.setProperty("--buildings-canbuy-color","#2d4471"),o.style.setProperty("--buildings-hover-color","#3c5a95"),o.style.setProperty("--blessings-canbuy-color","#1e2e4d"),o.style.setProperty("--blessings-hover-color","#2d4471"),o.style.setProperty("--tab-color","#101828"),o.style.setProperty("--hoversing-color","#005"),o.style.setProperty("--hepteract-bar-empty","#535064"),i("corruptionStatsLoadouts").style.borderColor="#ffa500",i("actualPotionShop").style.borderColor="#dd0",i("actualShop").style.backgroundColor="#0c0c0f",i("actualShop").style.borderColor="#d487d4",i("platonicUpgradePics").style.backgroundColor="#0c0c0f",o.style.setProperty("--maroon-text-color","#a90000"),a.textContent="Lighter Dark Mode"):n===4?(o.classList.add("textOutline"),o.style.setProperty("--header-color","#736e8d"),o.style.setProperty("--bg-color","#7c7891"),o.style.setProperty("--alert-color","#646175"),o.style.setProperty("--history-lines","#156e71"),o.style.setProperty("--box-color","#646175"),o.style.setProperty("--boxmain-bordercolor","#d894d8"),o.style.setProperty("--button-color","#136062"),o.style.setProperty("--hover-color","#187c7f"),o.style.setProperty("--blackbtn-color","#105254"),o.style.setProperty("--buttonbuy-color","#4c495a"),o.style.setProperty("--buildings-canbuy-color","#9794a8"),o.style.setProperty("--buildings-hover-color","#b2b0bf"),o.style.setProperty("--blessings-canbuy-color","#6c687f"),o.style.setProperty("--blessings-hover-color","#7c7990"),o.style.setProperty("--tab-color","#105254"),o.style.setProperty("--singtab-color","#00d"),o.style.setProperty("--hoversing-color","#1052B6"),o.style.setProperty("--hepteract-bar-empty","#858199"),o.style.setProperty("--hepteract-bar-red","#ea1741"),o.style.setProperty("--hepteract-bar-yellow","#cc0"),o.style.setProperty("--hepteract-bar-green","limegreen"),i("corruptionStatsLoadouts").style.borderColor="#dd8f00",i("actualPotionShop").style.borderColor="#dd0",i("switchTheme2").style.borderColor="#284242",o.style.setProperty("--green-text-color","limegreen"),o.style.setProperty("--red-text-color","#f55"),o.style.setProperty("--maroon-text-color","#ff5656"),o.style.setProperty("--crimson-text-color","#f7617d"),o.style.setProperty("--orchid-text-color","#dd7dda"),o.style.setProperty("--darkorchid-text-color","#cf9ee8"),o.style.setProperty("--darkcyan-text-color","turquoise"),o.style.setProperty("--lightseagreen-text-color","limegreen"),o.style.setProperty("--orangered-text-color","#f74"),o.style.setProperty("--gray-text-color","#a5a5a5"),i("achievementcolorcode2").style.color="#dc7dff",i("corruptionDescription").style.color="#d272ff",i("corruptionTesseracts").style.color="#d272ff",i("antwelcome").style.color="#b1b1b1",i("versionnumber").style.color="#ff5aff",i("singularitytab").style.color="#ff5252",i("traitstab").style.color="#ff5252",i("cubetab").style.color="#ff5252",i("antspecies").style.color="#8da9ff",i("ascTimeAccel").style.color="#97b0ff",i("cube6Bonus").style.color="#a5a5a5",i("tesseract6Bonus").style.color="#a5a5a5",i("hypercube6Bonus").style.color="#a5a5a5",i("hypercubeWelcome").style.color="#f58",i("hypercubeInventory").style.color="#f58",i("hypercubeBlessingsTotal").style.color="#f58",i("runeshowpower5").style.color="#ff7158",a.textContent="Light Mode"):n===5&&(o.style.setProperty("--header-color","#0a0a11"),o.style.setProperty("--bg-color","#131319"),o.style.setProperty("--alert-color","#2a1035"),o.style.setProperty("--history-lines","#012d1c"),o.style.setProperty("--text-color","#ac47ff"),o.style.setProperty("--maroon-text-color","#c30000"),o.style.setProperty("--crimson-text-color","#eb0000"),o.style.setProperty("--orchid-text-color","#fd59f7"),o.style.setProperty("--darkorchid-text-color","#c205ff"),o.style.setProperty("--gray-text-color","#8f8f8f"),o.style.setProperty("--box-color","#000000"),o.style.setProperty("--boxmain-bordercolor","#b341e0"),o.style.setProperty("--button-color","#21003f"),o.style.setProperty("--hover-color","#00056a"),o.style.setProperty("--blackbtn-color","#28002a"),o.style.setProperty("--purplebtn-color","#5800a0"),o.style.setProperty("--purplehover-color","#680927"),o.style.setProperty("--buttonbuy-color","#005e00"),o.style.setProperty("--buildings-canbuy-color","#a00"),o.style.setProperty("--buildings-hover-color","#e00"),o.style.setProperty("--blessings-canbuy-color","#004d00"),o.style.setProperty("--blessings-hover-color","#800"),o.style.setProperty("--tab-color","#1a0030"),o.style.setProperty("--singtab-color","#000230"),o.style.setProperty("--hoversing-color","#000463"),o.style.setProperty("--shoptab-color","#5800a0"),o.style.setProperty("--hovershop-color","#7400d3"),o.style.setProperty("--hepteract-bar-empty","#4a4a60"),o.style.setProperty("--hepteract-bar-red","#c90000"),o.style.setProperty("--hepteract-bar-yellow","#919100"),o.style.setProperty("--hepteract-bar-green","#007f3b"),i("themeBox").style.backgroundColor="#0a0a11",i("themeBox").style.borderColor="#3c006d",i("c15Rewards").style.backgroundColor="#2e001b",i("c15Rewards").style.borderColor="#186e83",i("platonicUpgradeDescriptions").style.backgroundColor="#2e001b",i("platonicUpgradeDescriptions").style.borderColor="#186e83",i("platonicUpgradePics").style.backgroundColor="#720505",i("platonicUpgradePics").style.borderColor="#410303",i("actualPotionShop").style.backgroundColor="#01192c",i("actualPotionShop").style.borderColor="#04d481",i("actualShop").style.backgroundColor="#11111b",i("actualShop").style.borderColor="#038ba8",i("corruptionStatsLoadouts").style.backgroundColor="#0a0a11",i("corruptionStatsLoadouts").style.borderColor="#04d481",i("heptGrid").style.backgroundColor="#11111b",i("heptGrid").style.borderColor="#9b7306",i("achievementcolorcode2").style.color="#ef00e4",i("corruptionDescription").style.color="#c205ff",i("corruptionTesseracts").style.color="#c205ff",i("antwelcome").style.color="darkgrey",i("confirmationToggleTitle").style.color="#eb0000",i("specialActionsTitle").style.color="#eb0000",i("themesTitle").style.color="#eb0000",i("notationTitle").style.color="#eb0000",i("hepteractWelcome").style.color="#ac47ff",i("confirmationdisclaimer").style.color="#bb68ff",i("antspecies").style.color="#184ff3",i("bonussummation").style.color="#eb0000",i("buildinghotkeys").style.color="#838383",i("buildinghotkeys2").style.color="#838383",a.textContent="Dracula Mode"),r&&setTimeout(()=>{o.style.removeProperty("--transition"),o.style.removeProperty("--transition-extra")},750)},so=(t=!0)=>{let n=i("notation"),r=n.textContent;switch(r){case"Pure Scientific":n.textContent=p.t("settings.notation.pureEngineering");break;case"Pure Engineering":n.textContent=p.t("settings.notation.default");break;default:n.textContent=p.t("settings.notation.pureScientific")}t===!0&&(e.notation=r!=null?r:"Default")},Mc=()=>{let t=e.notation,n=10,r=i("notation");for(let a=0;a<n;a++){let o=r.textContent;if(o!==null&&t.toUpperCase()!==o.toUpperCase())so(!1);else return}t="DEFAULT";for(let a=0;a<n;a++){let o=r.textContent;if(o!==null&&t!==o.toUpperCase())so(!1);else return}},Te=[["Legacy",-1],["Default",0],["Simplified",1],["Monotonous",1]],oo=new RegExp("Default|Simplified|Monotonous|Legacy"),lo=(t=e.iconSet)=>{(t>Te.length-1||t<0)&&(t=0),e.iconSet=t,Array.from(document.getElementsByTagName("img")).forEach(function(n){n.src=n.src.replace(oo,Te[e.iconSet][0])}),i("iconSet").textContent=p.t(`settings.iconSets.${Te[e.iconSet][0].toLowerCase()}`)};function Sc(t){if(!t.target||!(t.target instanceof HTMLImageElement))return;let n=t.target,r=Te[e.iconSet][0],a=Te[e.iconSet][1],o="Legacy";a>=0&&a<Te.length-1&&(o=Te[a][0]),n.src.includes("Legacy")||!oo.exec(n.src)?n.src="./Pictures/MISSINGIMAGE.png":n.src.includes(r)?n.src=n.src.replace(oo,o):n.src=n.src.replace(oo,"Legacy")}var tr=()=>{let t=0;return e.challengecompletions[11]>0&&(t+=5),e.challengecompletions[12]>0&&(t+=2),e.challengecompletions[13]>0&&(t+=2),e.challengecompletions[14]>0&&(t+=2),e.platonicUpgrades[5]>0&&(t+=1),e.platonicUpgrades[10]>0&&(t+=1),e.singularityUpgrades.platonicTau.getEffect().bonus&&(t=Math.max(13,t)),e.singularityUpgrades.corruptionFourteen.getEffect().bonus&&(t+=1),t+=+e.octeractUpgrades.octeractCorruption.getEffect().bonus,t},nr=t=>{i("corruptionDetails").style.visibility!=="visible"&&(i("corruptionDetails").style.visibility="visible"),i("corruptionSelectedPic").style.visibility!=="visible"&&(i("corruptionSelectedPic").style.visibility="visible"),s.corruptionTrigger=t;let n=t===2&&e.usedCorruptions[t]>=10?1+.04*e.platonicUpgrades[17]+2*Math.min(1,e.platonicUpgrades[17]):1,r=t===2&&e.prototypeCorruptions[t]>=10?1+.04*e.platonicUpgrades[17]+2*Math.min(1,e.platonicUpgrades[17]):1,a=e.singularityUpgrades.corruptionFifteen.level>0?1:0;a+=+e.singularityChallenges.oneChallengeCap.rewards.freeCorruptionLevel;let o=a>0?`[+${a}]`:"",l=[s.viscosityPower,s.lazinessMultiplier,s.hyperchallengedMultiplier,s.illiteracyPower,s.deflationMultiplier,s.extinctionMultiplier,s.droughtMultiplier,s.financialcollapsePower,[0]],c=["/CorruptViscocity.png","/CorruptSpatialDilation.png","/CorruptHyperchallenged.png","/CorruptScientificIlliteracy.png","/CorruptDeflation.png","/CorruptExtinction.png","/CorruptDrought.png","/CorruptFinancialCollapse.png"],g={name:p.t("corruptions.exitCorruption.name"),description:p.t("corruptions.exitCorruption.description"),current:p.t("corruptions.exitCorruption.current"),planned:p.t("corruptions.exitCorruption.planned"),multiplier:p.t("corruptions.exitCorruption.multiplier"),spiritContribution:"",image:`Pictures/${Te[e.iconSet][0]}/CorruptExit.png`};t<10&&(g={name:p.t(`corruptions.names.${t-1}`),description:p.t(`corruptions.descriptions.${t-1}`),current:p.t(`corruptions.currentLevel.${t-1}`,{level:u(e.usedCorruptions[t])+o,effect:u(l[t-2][e.usedCorruptions[t]],3)}),planned:p.t(`corruptions.prototypeLevel.${t-1}`,{level:u(e.prototypeCorruptions[t])+o,effect:u(l[t-2][e.prototypeCorruptions[t]],3)}),multiplier:p.t("corruptions.scoreMultiplier",{curr:u(Math.pow(s.corruptionPointMultipliers[e.usedCorruptions[t]+a],n),1),next:u(Math.pow(s.corruptionPointMultipliers[e.prototypeCorruptions[t]+a],r),1)}),spiritContribution:p.t("corruptions.spiritEffect",{curr:u(4*Math.pow(e.usedCorruptions[t]+a,2),1),next:u(4*Math.pow(e.prototypeCorruptions[t]+a,2),1)}),image:`Pictures/${Te[e.iconSet][0]}${c[t-2]}`}),i("corruptionName").textContent=g.name,i("corruptionDescription").textContent=g.description,i("corruptionLevelCurrent").textContent=g.current,i("corruptionLevelPlanned").textContent=g.planned,i("corruptionMultiplierContribution").textContent=g.multiplier,i("corruptionSpiritContribution").textContent=g.spiritContribution,i("corruptionSelectedPic").setAttribute("src",g.image),t<10&&(i(`corrCurrent${t}`).textContent=u(e.usedCorruptions[t]),i(`corrNext${t}`).textContent=u(e.prototypeCorruptions[t]))},Pr=()=>{for(let t=2;t<=9;t++){let n=i(`corrCurrent${t}`),r=i(`corrNext${t}`);n.textContent=u(e.usedCorruptions[t]),r.textContent=u(e.prototypeCorruptions[t])}},Tc=()=>{let t=document.getElementsByClassName("corruptionStatRow");for(let n=0;n<t.length;n++){let r=t[n];for(let g=r.children.length-1;g>=1;g--)r.children[g].remove();let a=document.createElement("p");a.className="corrDesc";let o=document.createTextNode(p.t("corruptions.current"));a.appendChild(o);let l=document.createElement("span");l.id=`corrCurrent${n+2}`,l.textContent=`${e.usedCorruptions[n+2]}`,a.appendChild(l),o=document.createTextNode(p.t("corruptions.next")),a.appendChild(o),l=document.createElement("span"),l.id=`corrNext${n+2}`,l.textContent=`${e.prototypeCorruptions[n+2]}`,a.appendChild(l),r.appendChild(a);let c;c=document.createElement("button"),c.className="corrBtn corruptionMax",c.textContent=`+${p.t("corruptions.max")}`,c.addEventListener("click",()=>fn(n+2,99)),r.appendChild(c),c=document.createElement("button"),c.className="corrBtn corruptionUp",c.textContent="+1",c.addEventListener("click",()=>fn(n+2,1)),r.appendChild(c),c=document.createElement("button"),c.className="corrBtn corruptionDown",c.textContent="-1",c.addEventListener("click",()=>fn(n+2,-1)),r.appendChild(c),c=document.createElement("button"),c.className="corrBtn corruptionReset",c.textContent=`-${p.t("corruptions.max")}`,c.addEventListener("click",()=>fn(n+2,-99)),r.appendChild(c),r.addEventListener("click",()=>nr(n+2))}},kc=()=>{let n=ln("corruptionLoadoutTable");for(let r=n.rows.length-1;r>=1;r--)n.deleteRow(r);for(let r=0;r<Object.keys(e.corruptionLoadouts).length+1;r++){let a=n.insertRow();for(let o=0;o<=8;o++){let l=a.insertCell();l.className=`test${o}`,o===0?r===0?(l.textContent=p.t("corruptions.loadoutTable.next"),l.addEventListener("click",()=>void Sd()),l.classList.add("corrLoadoutName"),l.title=p.t("corruptions.loadoutTable.firstRowTitle")):l.title=p.t("corruptions.loadoutTable.otherRowTitle",{value:r}):o<=8&&(r===0?l.textContent=e.prototypeCorruptions[o+1].toString():l.textContent=e.corruptionLoadouts[r][o+1].toString())}if(r===0){let o=a.insertCell(),l=document.createElement("button");l.className="corrImport",l.textContent=p.t("corruptions.loadoutTable.import"),l.addEventListener("click",()=>void xd()),o.appendChild(l),o.title=p.t("corruptions.importLoadoutInTextFormat"),o=a.insertCell(),l=document.createElement("button"),l.className="corrLoad",l.textContent=p.t("corruptions.loadoutTable.zero"),l.addEventListener("click",()=>kr(!1,r)),o.appendChild(l),o.title=p.t("corruptions.loadoutTable.zeroTitle")}else{let o=a.insertCell(),l=document.createElement("button");l.className="corrSave",l.textContent=p.t("corruptions.loadoutTable.save"),l.addEventListener("click",()=>kr(!0,r)),o.appendChild(l),o.title=p.t("corruptions.loadoutTable.saveTitle"),o=a.insertCell(),l=document.createElement("button"),l.className="corrLoad",l.textContent=p.t("corruptions.loadoutTable.load"),l.addEventListener("click",()=>kr(!1,r)),o.appendChild(l)}}},er=(t=0)=>{let n=ln("corruptionLoadoutTable").rows[t+1].cells;for(let r=1;r<n.length&&!(r>8);r++)n[r].textContent=(t===0?e.prototypeCorruptions[r+1]:e.corruptionLoadouts[t][r+1]).toString()},kr=(t=!0,n=1)=>{t?(e.corruptionLoadouts[n]=Array.from(e.prototypeCorruptions),er(n)):(n===0?e.prototypeCorruptions=[0,0,0,0,0,0,0,0,0,0,0,0,0]:e.prototypeCorruptions=Array.from(e.corruptionLoadouts[n]),er(),Pr())},Ys=t=>{if(t&&t.indexOf("/")>-1&&t.split("/").length===13){let n=t.split("/").map(r=>Number(r));for(let r of n)if(!Number.isInteger(r)||Number.isNaN(r)||r<0||r>tr())return!1;return e.prototypeCorruptions=n,er(),Pr(),!0}return!1};async function xd(){let t=await Se(p.t("corruptions.importCorruptionsPrompt.import"));Ys("0/0/"+t+"/0/0/0")||R(p.t("corruptions.importCorruptionsPrompt.importError"))}async function Md(t=0){let r=/^[\x00-\xFF]*$/,a=await Se(p.t("corruptions.corruptionLoadoutName.loadoutPrompt",{loadNum:t+1,maxChars:9}));if(a){if(a.length>9)return R(p.t("corruptions.corruptionLoadoutName.errors.exceedsCharacterLimit"));if(r.test(a)){if(e.corruptionLoadoutNames[t]=a,zs(),a==="crazy")return R(p.t("corruptions.loadoutPrompt.errors.crazyJoke"))}else return R(p.t("corruptions.corruptionLoadoutName.errors.regexError"))}else return R(p.t("corruptions.corruptionLoadoutName.errors.noName"))}var zs=()=>{let t=ln("corruptionLoadoutTable").rows;for(let n=0;n<Object.keys(e.corruptionLoadouts).length;n++){let r=t[n+2].cells;r[0].textContent.length===0&&(r[0].addEventListener("click",()=>void Md(n)),r[0].classList.add("corrLoadoutName")),r[0].textContent=`${e.corruptionLoadoutNames[n]}:`}},Sd=async()=>{let t=e.prototypeCorruptions.slice(2,10).join("/");"clipboard"in navigator?await navigator.clipboard.writeText(t).catch(n=>R(p.t("corruptions.loadoutExport.saveErrorNavigator",{message:n.message}))):R(p.t("corruptions.loadoutExport.saveErrorNavigator",{message:t}))},Pc=()=>{let t=i("corruptionCleanseConfirm");t.style.visibility="visible",setTimeout(()=>t.style.visibility="hidden",1e4)},Lc=()=>{let t=document.getElementsByClassName("corruptionStatRow");for(let l=0;l<t.length;l++)t[l].style.display="none";let n=document.getElementsByClassName("chal11Corruption"),r=document.getElementsByClassName("chal12Corruption"),a=document.getElementsByClassName("chal13Corruption"),o=document.getElementsByClassName("chal14Corruption");if(e.challengecompletions[11]>0||e.singularityUpgrades.platonicTau.getEffect().bonus)for(let l=0;l<n.length;l++)n[l].style.display="flex";if(e.challengecompletions[12]>0||e.singularityUpgrades.platonicTau.getEffect().bonus)for(let l=0;l<r.length;l++)r[l].style.display="flex";if(e.challengecompletions[13]>0||e.singularityUpgrades.platonicTau.getEffect().bonus)for(let l=0;l<a.length;l++)a[l].style.display="flex";if(e.challengecompletions[14]>0||e.singularityUpgrades.platonicTau.getEffect().bonus)for(let l=0;l<o.length;l++)o[l].style.display="flex"};function co(t){switch(t){case 2:return 11;case 3:return 14;case 4:return 14;case 5:return 13;case 6:return 12;case 7:return 12;case 8:return 11;case 9:return 13;default:return 0}}var uo=()=>{let t=Object.values(e.platonicBlessings),n=[4e6,4e6,4e6,8e4,1e4,1e4,1e4,1e4];for(let r=0;r<t.length;r++){let a=1,o=1,l=t[r];r===5&&(l=Math.min(l,1e20)),r===6&&l>=1e20&&(l=Math.pow(l,.5)*1e10),t[r]>=n[r]&&(a=s.platonicDRPower[r],o*=Math.pow(n[r],1-s.platonicDRPower[r])),s.platonicBonusMultiplier[r]=1+o*s.platonicCubeBase[r]*Math.pow(l,a)}};var Td=async()=>{if(navigator.onLine===!1||document.visibilityState==="hidden")return null;try{return(await(await fetch("https://synergism-quarks.khafra.workers.dev/")).json()).bonus}catch(t){console.log(`workers.dev: ${t.message}`)}try{let n=await(await fetch("https://api.github.com/gists/44be6ad2dcf0d44d6a29dffe1d66a84a",{headers:{Accept:"application/vnd.github.v3+json"}})).json();return Number(n.files["SynergismQuarkBoost.txt"].content)}catch(t){console.log(`GitHub Gist: ${t.message}`)}return null},it=()=>{let t=9e4;e.researches[195]>0&&(t+=18e3*e.researches[195]);let n=5,r=[99,100,125,180,195];for(let g of r)n+=e.researches[g];n*=+e.octeractUpgrades.octeractExportQuarks.getEffect().bonus;let a=n,o=Math.floor(a*t/3600),l=Math.floor(e.quarkstimer*a/3600),c=En();return{maxTime:t,perHour:a,capacity:o,gain:l,cubeMult:c}},kd,po=class{constructor({bonus:n,quarks:r}){this.BONUS=0;this.QUARKS=0;this[kd]=n=>n==="number"?this.QUARKS:null;this.QUARKS=r,n?this.BONUS=n:this.getBonus(),po.interval===null&&(po.interval=setInterval(this.getBonus.bind(this),60*1e3*5))}applyBonus(n){let r=go();return n*(1+this.BONUS/100)*r}add(n,r=!0){return this.QUARKS+=r?this.applyBonus(n):n,e.quarksThisSingularity+=r?this.applyBonus(n):n,this}sub(n){return this.QUARKS-=n,this.QUARKS<0&&(this.QUARKS=0),this}async getBonus(){let n=i("currentBonus");if(localStorage.getItem("quarkBonus")!==null){let{bonus:a,fetched:o}=JSON.parse(localStorage.getItem("quarkBonus"));if(Date.now()-o<60*1e3*15)return n.textContent=`Generous patrons give you a bonus of ${a}% more Quarks!`,this.BONUS=a}else if(navigator.onLine){if(document.hidden)return n.textContent="Current Bonus: N/A% (unfocused)!"}else return n.textContent="Current Bonus: N/A% (offline)!";let r=await Td();if(r!==null){{if(Number.isNaN(r)||typeof r!="number")return R("No bonus could be applied, a network error occurred! [Invalid Bonus] :(");if(Number.isFinite(r)){if(r<0)return R("No bonus could be applied, an error occurred. [Zero] :(")}else return R("No bonus could be applied, an error occurred. [Infinity] :(")}n.textContent=`Generous patrons give you a bonus of ${r}% more Quarks!`,localStorage.setItem("quarkBonus",JSON.stringify({bonus:r,fetched:Date.now()})),this.BONUS=r}}toString(n){return u(Math.floor(this.applyBonus(n)),0,!0)}},mn=po;kd=Symbol.toPrimitive,mn.interval=null;var Lr={accelerator:{weight:4,pdf:t=>0<=t&&t<=20},multiplier:{weight:4,pdf:t=>20<t&&t<=40},offering:{weight:2,pdf:t=>40<t&&t<=50},runeExp:{weight:2,pdf:t=>50<t&&t<=60},obtainium:{weight:2,pdf:t=>60<t&&t<=70},antSpeed:{weight:2,pdf:t=>70<t&&t<=80},antSacrifice:{weight:1,pdf:t=>80<t&&t<=85},antELO:{weight:1,pdf:t=>85<t&&t<=90},talismanBonus:{weight:1,pdf:t=>90<t&&t<=95},globalSpeed:{weight:1,pdf:t=>95<t&&t<=100}},Ks={cubes:{weight:13200,pdf:t=>0<=t&&t<=33},tesseracts:{weight:13200,pdf:t=>33<t&&t<=66},hypercubes:{weight:13200,pdf:t=>66<t&&t<=99},platonics:{weight:396,pdf:t=>99<t&&t<=99.99},hypercubeBonus:{weight:1,pdf:t=>99.99<t&&t<=99.9925},taxes:{weight:1,pdf:t=>99.9925<t&&t<=99.995},scoreBonus:{weight:1,pdf:t=>99.995<t&&t<=99.9975},globalSpeed:{weight:1,pdf:t=>99.9975<t&&t<=100}},An=class{constructor(n,r=0){this.key=n,this.value=r}async openCustom(){let n=e[this.key],r=await Se(p.t("cubes.howManyCubesOpen",{x:u(n,0,!0)}));if(r===null)return R(p.t("cubes.noCubesOpened"));let a=r.endsWith("%"),o=r.startsWith("-")?a?100+Number(r.slice(0,-1)):n.value+Number(r):Number(a?r.slice(0,-1):r);return Number.isNaN(o)||!Number.isFinite(o)||!Number.isInteger(o)?R(p.t("general.validation.finiteInt")):n.value<o?R(p.t("cubes.validation.notEnough")):o<=0?R(p.t("cubes.validation.negative")):a&&o>100?R(p.t("cubes.validation.invalidPercent",{x:o})):a?this.open(Math.floor(n.value*(o/100)),o===100):this.open(o,o===n.value)}checkQuarkGain(n,r,a){if(a<1)return 0;let o=r*it().cubeMult;return Math.floor(e.worlds.applyBonus(Math.log10(a)*n*o))}checkCubesToNextQuark(n,r,a,o){let l=r*it().cubeMult;return Math.ceil(Math.pow(10,(a+1)/e.worlds.applyBonus(l*n))-o)}add(n){return this.value=Math.min(1e300,this.value+n),this}sub(n){return this.value=Math.max(0,this.value-n),this}[Symbol.toPrimitive](n){switch(n){case"string":return this.value.toString();case"number":return this.value;default:return null}}},ht=class extends An{constructor(n=Number(e.wowCubes)){super("wowCubes",n)}open(n,r=!1){let a=r?Number(this):Math.min(Number(this),n);n===1&&e.cubeBlessings.accelerator>=2e11&&e.achievements[246]<1&&H(246),this.sub(a),e.cubeOpenedDaily+=a;let o=e.shopUpgrades.cubeToQuark?1.5:1,l=Number(this.checkQuarkGain(5,o,e.cubeOpenedDaily)),c=Math.max(0,l-e.cubeQuarkDaily);e.cubeQuarkDaily+=c,e.worlds.add(c,!1),a*=1+e.researches[138]/1e3,a*=1+.8*e.researches[168]/1e3,a*=1+.6*e.researches[198]/1e3,a=Math.floor(a);let g=a%20,d=Math.floor(a/20);d>0&&e.cubeUpgrades[13]===1&&(g+=d),d>0&&e.cubeUpgrades[23]===1&&(g+=d),d>0&&e.cubeUpgrades[33]===1&&(g+=d),d+=100/100*Math.floor(g/20),g=g%20;let m=Object.keys(e.cubeBlessings);for(let h of m)e.cubeBlessings[h]+=Lr[h].weight*d*(1+Math.floor(j("ascension",e.challengecompletions[12])));for(let h=0;h<g;h++){let y=100*Math.random();for(let b of m)Lr[b].pdf(y)&&(e.cubeBlessings[b]+=1+Math.floor(j("ascension",e.challengecompletions[12])))}yt()}},On=class extends An{constructor(n=Number(e.wowTesseracts)){super("wowTesseracts",n)}open(n,r=!1){let a=r?Number(this):Math.min(Number(this),n);e.wowTesseracts.sub(a),e.tesseractOpenedDaily+=a;let o=e.shopUpgrades.tesseractToQuark?1.5:1,l=Number(this.checkQuarkGain(7,o,e.tesseractOpenedDaily)),c=Math.max(0,l-e.tesseractQuarkDaily);e.tesseractQuarkDaily+=c,e.worlds.add(c,!1);let g=a%20,d=Math.floor(a/20);for(let h in e.tesseractBlessings)e.tesseractBlessings[h]+=Lr[h].weight*d;for(let h=0;h<g;h++){let y=100*Math.random();for(let b in e.tesseractBlessings)Lr[b].pdf(y)&&(e.tesseractBlessings[b]+=1)}Wn();let m=Math.floor(12*a*e.researches[153]);e.wowCubes.add(m),e.wowCubes.open(m,!1)}},Un=class extends An{constructor(n=Number(e.wowHypercubes)){super("wowHypercubes",n)}open(n,r=!1){let a=r?Number(this):Math.min(Number(this),n);e.wowHypercubes.sub(a),e.hypercubeOpenedDaily+=a;let o=e.shopUpgrades.hypercubeToQuark?1.5:1,l=this.checkQuarkGain(10,o,e.hypercubeOpenedDaily),c=Math.max(0,l-e.hypercubeQuarkDaily);e.hypercubeQuarkDaily+=c,e.worlds.add(c,!1);let g=a%20,d=Math.floor(a/20);for(let h in e.hypercubeBlessings)e.hypercubeBlessings[h]+=Lr[h].weight*d;for(let h=0;h<g;h++){let y=100*Math.random();for(let b in e.hypercubeBlessings)Lr[b].pdf(y)&&(e.hypercubeBlessings[b]+=1)}Jn();let m=Math.floor(100*a*e.researches[153]);e.wowTesseracts.add(m),e.wowTesseracts.open(m,!1)}},Bn=class extends An{constructor(n=Number(e.wowPlatonicCubes)){super("wowPlatonicCubes",n)}open(n,r=!1){let a=r?Number(this):Math.min(Number(this),n);e.wowPlatonicCubes.sub(a),e.platonicCubeOpenedDaily+=a;let o=1.5,l=this.checkQuarkGain(15,o,e.platonicCubeOpenedDaily),c=Math.max(0,l-e.platonicCubeQuarkDaily);e.platonicCubeQuarkDaily+=c,e.worlds.add(c,!1);let g=a%4e4,d=Math.floor(a/4e4);for(let b in e.platonicBlessings)e.platonicBlessings[b]+=Ks[b].weight*d,Ks[b].weight===1&&e.cubeUpgrades[64]>0&&(e.platonicBlessings[b]+=d);let m=["hypercubeBonus","taxes","scoreBonus","globalSpeed"];for(let b=0;b<m.length;b++){let w=Math.random();g/4e4>=w&&g!==0&&(e.platonicBlessings[m[b]]+=1,g-=1)}let h=[Math.floor(33*g/100),Math.floor(33*g/100),Math.floor(33*g/100),Math.floor(396*g/4e4)],y=["cubes","tesseracts","hypercubes","platonics"];for(let b=0;b<y.length;b++)e.platonicBlessings[y[b]]+=h[b],g-=h[b];for(let b=0;b<g;b++){let w=100*Math.random();for(let S in e.platonicBlessings)Ks[S].pdf(w)&&(e.platonicBlessings[S]+=1)}if(uo(),e.achievements[271]>0){let b=Math.floor(a*Math.max(0,Math.min(1,(f.log(e.ascendShards.add(1),10)-1e5)/9e5)));e.wowHypercubes.add(b),e.wowHypercubes.open(b,!1)}}};var At="2.10.5: Febuary 23, 2023: Birth Event!";var Rn=new Date(Date.UTC(2023,2,27,1,8,37)),fo=!0;var gu=sn(bs());var ae={offeringPotion:{price:100,priceIncrease:0,maxLevel:999999999,type:"consume",refundable:!1,refundMinimumLevel:0,tier:"Reincarnation"},obtainiumPotion:{tier:"Reincarnation",price:100,priceIncrease:0,maxLevel:999999999,type:"consume",refundable:!1,refundMinimumLevel:0},offeringEX:{tier:"Reincarnation",price:150,priceIncrease:10,maxLevel:100,type:"upgrade",refundable:!0,refundMinimumLevel:0},offeringAuto:{tier:"Reincarnation",price:150,priceIncrease:10,maxLevel:100,type:"upgrade",refundable:!0,refundMinimumLevel:1},obtainiumEX:{tier:"Reincarnation",price:150,priceIncrease:10,maxLevel:100,type:"upgrade",refundable:!0,refundMinimumLevel:0},obtainiumAuto:{tier:"Reincarnation",price:150,priceIncrease:10,maxLevel:100,type:"upgrade",refundable:!0,refundMinimumLevel:1},instantChallenge:{tier:"Reincarnation",price:300,priceIncrease:99999,maxLevel:1,type:"upgrade",refundable:!1,refundMinimumLevel:0},antSpeed:{tier:"Reincarnation",price:200,priceIncrease:25,maxLevel:100,type:"upgrade",refundable:!0,refundMinimumLevel:0},cashGrab:{tier:"Reincarnation",price:100,priceIncrease:40,maxLevel:100,type:"upgrade",refundable:!0,refundMinimumLevel:0},shopTalisman:{tier:"Reincarnation",price:1500,priceIncrease:99999,maxLevel:1,type:"upgrade",refundable:!1,refundMinimumLevel:0},seasonPass:{tier:"Ascension",price:500,priceIncrease:75,maxLevel:100,type:"upgrade",refundable:!0,refundMinimumLevel:0},challengeExtension:{tier:"Ascension",price:500,priceIncrease:250,maxLevel:5,type:"upgrade",refundable:!1,refundMinimumLevel:0},challengeTome:{tier:"Ascension",price:500,priceIncrease:250,maxLevel:15,type:"upgrade",refundable:!1,refundMinimumLevel:0},cubeToQuark:{tier:"Ascension",price:2e3,priceIncrease:99999,maxLevel:1,type:"upgrade",refundable:!1,refundMinimumLevel:0},tesseractToQuark:{tier:"Ascension",price:3500,priceIncrease:99999,maxLevel:1,type:"upgrade",refundable:!1,refundMinimumLevel:0},hypercubeToQuark:{tier:"Ascension",price:5e3,priceIncrease:99999,maxLevel:1,type:"upgrade",refundable:!1,refundMinimumLevel:0},seasonPass2:{tier:"Ascension",price:2500,priceIncrease:250,maxLevel:100,type:"upgrade",refundable:!0,refundMinimumLevel:0},seasonPass3:{tier:"Ascension",price:5e3,priceIncrease:500,maxLevel:100,type:"upgrade",refundable:!0,refundMinimumLevel:0},chronometer:{tier:"Ascension",price:2e3,priceIncrease:500,maxLevel:100,type:"upgrade",refundable:!0,refundMinimumLevel:0},infiniteAscent:{tier:"Ascension",price:5e4,priceIncrease:9999999,maxLevel:1,type:"upgrade",refundable:!1,refundMinimumLevel:0},calculator:{tier:"Reincarnation",price:1e3,priceIncrease:500,maxLevel:5,type:"upgrade",refundable:!1,refundMinimumLevel:1},calculator2:{tier:"Ascension",price:3e3,priceIncrease:1e3,maxLevel:12,type:"upgrade",refundable:!1,refundMinimumLevel:0},calculator3:{tier:"Ascension",price:1e4,priceIncrease:2e3,maxLevel:10,type:"upgrade",refundable:!1,refundMinimumLevel:0},calculator4:{tier:"Singularity",price:1e7,priceIncrease:1e6,maxLevel:10,type:"upgrade",refundable:!1,refundMinimumLevel:0},calculator5:{tier:"SingularityVol2",price:1e8,priceIncrease:1e8,maxLevel:100,type:"upgrade",refundable:!1,refundMinimumLevel:0},calculator6:{tier:"SingularityVol3",price:1e11,priceIncrease:2e10,maxLevel:100,type:"upgrade",refundable:!1,refundMinimumLevel:0},constantEX:{tier:"Ascension",price:1e5,priceIncrease:899999,maxLevel:2,type:"upgrade",refundable:!1,refundMinimumLevel:0},powderEX:{tier:"Ascension",price:1e3,priceIncrease:750,maxLevel:50,type:"upgrade",refundable:!1,refundMinimumLevel:0},chronometer2:{tier:"Ascension",price:5e3,priceIncrease:1500,maxLevel:100,type:"upgrade",refundable:!0,refundMinimumLevel:0},chronometer3:{tier:"Singularity",price:250,priceIncrease:250,maxLevel:1e3,type:"upgrade",refundable:!1,refundMinimumLevel:0},seasonPassY:{tier:"Ascension",price:1e4,priceIncrease:1500,maxLevel:100,type:"upgrade",refundable:!0,refundMinimumLevel:0},seasonPassZ:{tier:"Singularity",price:250,priceIncrease:250,maxLevel:1e3,type:"upgrade",refundable:!1,refundMinimumLevel:0},challengeTome2:{tier:"Singularity",price:1e6,priceIncrease:1e6,maxLevel:5,type:"upgrade",refundable:!1,refundMinimumLevel:0},instantChallenge2:{tier:"Singularity",price:2e7,priceIncrease:0,maxLevel:1,type:"upgrade",refundable:!1,refundMinimumLevel:0},cubeToQuarkAll:{tier:"SingularityVol2",price:2222222,priceIncrease:0,maxLevel:100,type:"upgrade",refundable:!1,refundMinimumLevel:0},cashGrab2:{tier:"SingularityVol2",price:5e3,priceIncrease:5e3,maxLevel:1e3,type:"upgrade",refundable:!1,refundMinimumLevel:0},chronometerZ:{tier:"SingularityVol2",price:12500,priceIncrease:12500,maxLevel:1e3,type:"upgrade",refundable:!1,refundMinimumLevel:0},offeringEX2:{tier:"SingularityVol2",price:1e4,priceIncrease:1e4,maxLevel:1e3,type:"upgrade",refundable:!1,refundMinimumLevel:0},obtainiumEX2:{tier:"SingularityVol2",price:1e4,priceIncrease:1e4,maxLevel:1e3,type:"upgrade",refundable:!1,refundMinimumLevel:0},powderAuto:{tier:"SingularityVol2",price:5e6,priceIncrease:0,maxLevel:100,type:"upgrade",refundable:!1,refundMinimumLevel:0},seasonPassLost:{tier:"SingularityVol2",price:1e6,priceIncrease:25e3,maxLevel:1e3,type:"upgrade",refundable:!1,refundMinimumLevel:0},challenge15Auto:{tier:"SingularityVol3",price:5e11,priceIncrease:0,maxLevel:1,type:"upgrade",refundable:!1,refundMinimumLevel:0},extraWarp:{tier:"SingularityVol3",price:125e9,priceIncrease:0,maxLevel:1,type:"upgrade",refundable:!1,refundMinimumLevel:0},autoWarp:{tier:"SingularityVol3",price:5e11,priceIncrease:0,maxLevel:1,type:"upgrade",refundable:!1,refundMinimumLevel:0},improveQuarkHept:{tier:"Ascension",price:2e5-1,priceIncrease:0,maxLevel:1,type:"upgrade",refundable:!1,refundMinimumLevel:0},improveQuarkHept2:{tier:"Singularity",price:2e7-1,priceIncrease:0,maxLevel:1,type:"upgrade",refundable:!1,refundMinimumLevel:0},improveQuarkHept3:{tier:"SingularityVol2",price:2e9-1,priceIncrease:0,maxLevel:1,type:"upgrade",refundable:!1,refundMinimumLevel:0},improveQuarkHept4:{tier:"SingularityVol3",price:2e11-1,priceIncrease:0,maxLevel:1,type:"upgrade",refundable:!1,refundMinimumLevel:0},shopImprovedDaily:{tier:"Ascension",price:5e3,priceIncrease:2500,maxLevel:20,type:"upgrade",refundable:!1,refundMinimumLevel:0},shopImprovedDaily2:{tier:"Singularity",price:5e5,priceIncrease:5e5,maxLevel:10,type:"upgrade",refundable:!1,refundMinimumLevel:0},shopImprovedDaily3:{tier:"SingularityVol2",price:5e6,priceIncrease:125e5,maxLevel:15,type:"upgrade",refundable:!1,refundMinimumLevel:0},shopImprovedDaily4:{tier:"SingularityVol3",price:5e9,priceIncrease:5e9,maxLevel:25,type:"upgrade",refundable:!1,refundMinimumLevel:0},offeringEX3:{tier:"SingularityVol3",price:1,priceIncrease:125e10,maxLevel:1e3,type:"upgrade",refundable:!1,refundMinimumLevel:0},obtainiumEX3:{tier:"SingularityVol3",price:1,priceIncrease:125e10,maxLevel:1e3,type:"upgrade",refundable:!1,refundMinimumLevel:0},improveQuarkHept5:{tier:"SingularityVol4",price:1,priceIncrease:25e12,maxLevel:100,type:"upgrade",refundable:!1,refundMinimumLevel:0},chronometerInfinity:{tier:"SingularityVol4",price:1,priceIncrease:125e10,maxLevel:1e3,type:"upgrade",refundable:!1,refundMinimumLevel:0},seasonPassInfinity:{tier:"SingularityVol4",price:1,priceIncrease:125e10,maxLevel:1e3,type:"upgrade",refundable:!1,refundMinimumLevel:0},shopSingularityPenaltyDebuff:{tier:"Exalt",price:1e17,priceIncrease:999e17,maxLevel:2,type:"upgrade",refundable:!1,refundMinimumLevel:0}},ar=t=>{if(ae[t].type==="consume"||ae[t].maxLevel===1)return ae[t].price;{let n=e.shopUpgrades[t];return ae[t].price+ae[t].priceIncrease*n}},Ot=t=>{let n=i("quarkdescription"),r=i("quarkeffect"),a=i("quarkRefundable");switch(n.textContent=p.t(`shop.upgradeDescriptions.${t}`),ae[t].refundable?a.textContent="This item is refundable! Will be set to level "+ae[t].refundMinimumLevel+" when refunded.":a.textContent=p.t("shop.cannotRefund"),t){case"offeringPotion":r.innerHTML=p.t("shop.upgradeEffects.offeringPotion",{amount:u(7200*e.offeringpersecond*Le().mult*+e.singularityUpgrades.potionBuff.getEffect().bonus,0,!0)});break;case"obtainiumPotion":r.innerHTML=p.t("shop.upgradeEffects.obtainiumPotion",{amount:u(7200*e.maxobtainiumpersecond*Le().mult*+e.singularityUpgrades.potionBuff.getEffect().bonus,0,!0)});break;case"offeringEX":r.innerHTML=p.t("shop.upgradeEffects.offeringEX",{amount:u(4*e.shopUpgrades.offeringEX,2,!0)});break;case"offeringAuto":r.innerHTML=p.t("shop.upgradeEffects.offeringAuto",{amount1:u(Math.pow(2,1+e.shopUpgrades.offeringAuto)),amount2:u(2*e.shopUpgrades.offeringAuto,2)});break;case"obtainiumEX":r.innerHTML=p.t("shop.upgradeEffects.obtainiumEX",{amount:u(4*e.shopUpgrades.obtainiumEX,2,!0)});break;case"obtainiumAuto":r.innerHTML=p.t("shop.upgradeEffects.obtainiumAuto",{amount:u(e.shopUpgrades.obtainiumAuto*2,2)});break;case"instantChallenge":r.innerHTML=p.t("shop.upgradeEffects.instantChallenge");break;case"antSpeed":r.innerHTML=p.t("shop.upgradeEffects.antSpeed",{amount:u(Math.pow(1.2,e.shopUpgrades.antSpeed),2)});break;case"cashGrab":r.innerHTML=p.t("shop.upgradeEffects.cashGrab",{amount:u(e.shopUpgrades.cashGrab,2)});break;case"shopTalisman":r.innerHTML=p.t("shop.upgradeEffects.shopTalisman");break;case"seasonPass":r.innerHTML=p.t("shop.upgradeEffects.seasonPass",{amount:u(2.25*e.shopUpgrades.seasonPass)});break;case"challengeExtension":r.innerHTML=p.t("shop.upgradeEffects.challengeExtension",{amount:u(2*e.shopUpgrades.challengeExtension)});break;case"challengeTome":r.innerHTML=p.t("shop.upgradeEffects.challengeTome",{amount1:u(20*e.shopUpgrades.challengeTome),amount2:u(1-(e.shopUpgrades.challengeTome+e.shopUpgrades.challengeTome2)/100,2,!0)});break;case"cubeToQuark":r.innerHTML=p.t("shop.upgradeEffects.cubeToQuark");break;case"tesseractToQuark":r.innerHTML=p.t("shop.upgradeEffects.tesseractToQuark");break;case"hypercubeToQuark":r.innerHTML=p.t("shop.upgradeEffects.hypercubeToQuark");break;case"seasonPass2":r.innerHTML=p.t("shop.upgradeEffects.seasonPass2",{amount:u(1.5*e.shopUpgrades.seasonPass2)});break;case"seasonPass3":r.innerHTML=p.t("shop.upgradeEffects.seasonPass3",{amount:u(1.5*e.shopUpgrades.seasonPass3)});break;case"chronometer":r.innerHTML=p.t("shop.upgradeEffects.chronometer",{amount:u(1.2*e.shopUpgrades.chronometer)});break;case"infiniteAscent":r.innerHTML=p.t("shop.upgradeEffects.infiniteAscent");break;case"calculator":r.innerHTML=p.t("shop.upgradeEffects.calculator",{amount1:u(14*e.shopUpgrades.calculator),bool1:e.shopUpgrades.calculator>0,bool2:e.shopUpgrades.calculator===ae.calculator.maxLevel});break;case"calculator2":r.innerHTML=p.t("shop.upgradeEffects.calculator2",{amount1:u(2*e.shopUpgrades.calculator2),amount2:u(e.shopUpgrades.calculator2===ae.calculator2.maxLevel?25:0)});break;case"calculator3":r.innerHTML=p.t("shop.upgradeEffects.calculator3",{amount1:u(10*e.shopUpgrades.calculator3),amount2:u(60*e.shopUpgrades.calculator3)});break;case"calculator4":r.innerHTML=p.t("shop.upgradeEffects.calculator4",{amount1:u(2*e.shopUpgrades.calculator4),amount2:e.shopUpgrades.calculator4==10?32:0});break;case"calculator5":r.innerHTML=p.t("shop.upgradeEffects.calculator5",{amount1:u(6*e.shopUpgrades.calculator5),amount2:Math.floor(e.shopUpgrades.calculator5/10)+(e.shopUpgrades.calculator4===ae.calculator5.maxLevel?6:0)});break;case"calculator6":r.innerHTML=p.t("shop.upgradeEffects.calculator6",{amount1:u(e.shopUpgrades.calculator6),amount2:e.shopUpgrades.calculator6===ae.calculator6.maxLevel?24:0});break;case"constantEX":r.innerHTML=p.t("shop.upgradeEffects.constantEX",{amount:u(e.shopUpgrades.constantEX,0,!0)});break;case"powderEX":r.innerHTML=p.t("shop.upgradeEffects.powderEX",{amount:u(2*e.shopUpgrades.powderEX)});break;case"chronometer2":r.innerHTML=p.t("shop.upgradeEffects.chronometer2",{amount:u(.6*e.shopUpgrades.chronometer2,1)});break;case"chronometer3":r.innerHTML=p.t("shop.upgradeEffects.chronometer3",{amount:u(1.5*e.shopUpgrades.chronometer3,1)});break;case"seasonPassY":r.innerHTML=p.t("shop.upgradeEffects.seasonPassY",{amount:u(.75*e.shopUpgrades.seasonPassY,2)});break;case"seasonPassZ":r.innerHTML=p.t("shop.upgradeEffects.seasonPassZ",{amount:u(1*e.shopUpgrades.seasonPassZ*e.singularityCount,0,!0)});break;case"challengeTome2":r.innerHTML=p.t("shop.upgradeEffects.challengeTome2",{amount1:20*e.shopUpgrades.challengeTome2,amount2:u(1-(e.shopUpgrades.challengeTome+e.shopUpgrades.challengeTome2)/100,2,!0)});break;case"instantChallenge2":r.innerHTML=p.t("shop.upgradeEffects.instantChallenge2",{amount:u(e.shopUpgrades.instantChallenge2*e.singularityCount,0)});break;case"cashGrab2":r.innerHTML=p.t("shop.upgradeEffects.cashGrab2",{amount:u(.5*e.shopUpgrades.cashGrab2,1)});break;case"cubeToQuarkAll":r.innerHTML=p.t("shop.upgradeEffects.cubeToQuarkAll",{amount:u(.2*e.shopUpgrades.cubeToQuarkAll,2)});break;case"chronometerZ":r.innerHTML=p.t("shop.upgradeEffects.chronometerZ",{amount:u(.1*e.singularityCount*e.shopUpgrades.chronometerZ,2)});break;case"offeringEX2":r.innerHTML=p.t("shop.upgradeEffects.offeringEX2",{amount:u(1*e.singularityCount*e.shopUpgrades.offeringEX2,2)});break;case"obtainiumEX2":r.innerHTML=p.t("shop.upgradeEffects.obtainiumEX2",{amount:u(1*e.singularityCount*e.shopUpgrades.obtainiumEX2,2)});break;case"powderAuto":r.innerHTML=p.t("shop.upgradeEffects.powderAuto",{amount:u(100/(Math.max(1,e.shopUpgrades.powderAuto)*Qt().mult),2,!0)});break;case"seasonPassLost":r.innerHTML=p.t("shop.upgradeEffects.seasonPassLost",{amount:u(.1*e.shopUpgrades.seasonPassLost,2)});break;case"challenge15Auto":r.innerHTML=p.t("shop.upgradeEffects.challenge15Auto");break;case"extraWarp":r.innerHTML=p.t("shop.upgradeEffects.extraWarp",{amount:e.shopUpgrades.extraWarp});break;case"autoWarp":r.innerHTML=p.t("shop.upgradeEffects.autoWarp");break;case"improveQuarkHept":r.innerHTML=p.t("shop.upgradeEffects.improveQuarkHept",{amount:2*e.shopUpgrades.improveQuarkHept});break;case"improveQuarkHept2":r.innerHTML=p.t("shop.upgradeEffects.improveQuarkHept2",{amount:2*e.shopUpgrades.improveQuarkHept2});break;case"improveQuarkHept3":r.innerHTML=p.t("shop.upgradeEffects.improveQuarkHept3",{amount:2*e.shopUpgrades.improveQuarkHept3});break;case"improveQuarkHept4":r.innerHTML=p.t("shop.upgradeEffects.improveQuarkHept4",{amount:2*e.shopUpgrades.improveQuarkHept4});break;case"shopImprovedDaily":r.innerHTML=p.t("shop.upgradeEffects.shopImprovedDaily",{amount:u(5*e.shopUpgrades.shopImprovedDaily)});break;case"shopImprovedDaily2":r.innerHTML=p.t("shop.upgradeEffects.shopImprovedDaily2",{amount1:e.shopUpgrades.shopImprovedDaily2,amount2:e.shopUpgrades.shopImprovedDaily2*20});break;case"shopImprovedDaily3":r.innerHTML=p.t("shop.upgradeEffects.shopImprovedDaily3",{amount1:e.shopUpgrades.shopImprovedDaily3,amount2:e.shopUpgrades.shopImprovedDaily3*15});break;case"shopImprovedDaily4":r.innerHTML=p.t("shop.upgradeEffects.shopImprovedDaily4",{amount1:e.shopUpgrades.shopImprovedDaily4,amount2:e.shopUpgrades.shopImprovedDaily4*100});break;case"offeringEX3":r.innerHTML=p.t("shop.upgradeEffects.offeringEX3",{amount:u(100*(Math.pow(1.02,e.shopUpgrades.offeringEX3)-1),2,!0)});break;case"obtainiumEX3":r.innerHTML=p.t("shop.upgradeEffects.obtainiumEX3",{amount:u(100*(Math.pow(1.02,e.shopUpgrades.obtainiumEX3)-1),2,!0)});break;case"improveQuarkHept5":r.innerHTML=p.t("shop.upgradeEffects.improveQuarkHept5",{amount:u(e.shopUpgrades.improveQuarkHept5/25,2,!0)});break;case"seasonPassInfinity":r.innerHTML=p.t("shop.upgradeEffects.seasonPassInfinity",{amount:u(100*(Math.pow(1.02,e.shopUpgrades.seasonPassInfinity)-1),2,!0)});break;case"chronometerInfinity":r.innerHTML=p.t("shop.upgradeEffects.chronometerInfinity",{amount:u(100*(Math.pow(1.01,e.shopUpgrades.chronometerInfinity)-1),2,!0)});break;case"shopSingularityPenaltyDebuff":r.innerHTML=p.t("shop.upgradeEffects.shopSingularityPenaltyDebuff",{amount1:u(e.singularityCount),amount2:u(e.singularityCount-e.shopUpgrades.shopSingularityPenaltyDebuff)})}},rr=t=>({offeringPotion:"Offering Potion",obtainiumPotion:"Obtainium Potion",offeringEX:"Offering EX",offeringAuto:"Offering Auto",obtainiumEX:"Obtainium EX",obtainiumAuto:"Obtainium Auto",instantChallenge:"Instant Challenge Completions",antSpeed:"Ant Speed",cashGrab:"Cash Grab",shopTalisman:"the Plastic talisman",seasonPass:"Season Pass",challengeExtension:"Reincarnation Challenge EX",challengeTome:"Challenge 10 Requirement Reduce",cubeToQuark:"Cube Quarks +50%",tesseractToQuark:"Tesseract Quarks +50%",hypercubeToQuark:"Hypercube Quarks +50%",seasonPass2:"Season Pass 2",seasonPass3:"Season Pass 3",chronometer:"Chronometer 1",infiniteAscent:"Infinite Ascent",calculator:"PL-AT calculator",calculator2:"PL-AT X calculator",calculator3:"PL-AT \u03A9 calculator",calculator4:"PL-AT \u03B4 calculator",calculator5:"PL-AT \u0393 calculator",calculator6:"QUAAA-T calculator",constantEX:"Constant EX",powderEX:"Powder EX",chronometer2:"Chronometer 2",chronometer3:"Chronometer 3",seasonPassY:"Season Pass Y",seasonPassZ:"Season Pass Z",challengeTome2:"Challenge 10 Requirement Reduction 2",instantChallenge2:"Instant Challenge Completions 2",cubeToQuarkAll:"Quark Gain Cube Improvement 2",cashGrab2:"Cash Grab 2",chronometerZ:"Chronometer Z",obtainiumEX2:"Obtainium EX 2",offeringEX2:"Offering EX 2",powderAuto:"Automated Powder",seasonPassLost:"Season Pass LOST",challenge15Auto:"Challenge 15 Automation",extraWarp:"Extra Warp",autoWarp:"a quack powered Warps?",improveQuarkHept:"Quark Hepteract 1",improveQuarkHept2:"Quark Hepteract 2",improveQuarkHept3:"Quark Hepteract 3",improveQuarkHept4:"Quack Hepteract 4",shopImprovedDaily:"Improved Daily Code 1",shopImprovedDaily2:"Improved Daily Code 2",shopImprovedDaily3:"Improved Daily Code 3",shopImprovedDaily4:"Improved Daily Code 4",offeringEX3:"The final Offering Upgrade",obtainiumEX3:"The final Obtainium Upgrade",improveQuarkHept5:"The final Quark Hepteract Improver",chronometerInfinity:"The final Chronometer",seasonPassInfinity:"The final Season pass",shopSingularityPenaltyDebuff:"A Singularity Tenderizer"})[t],mo=async t=>{let n=ae[t];if(e.shopUpgrades[t]>=n.maxLevel)return e.shopConfirmationToggle?R(`You can't purchase ${rr(t)} because you are already at the maximum ${n.type==="upgrade"?"level":"capacity"}!`):null;if(Number(e.worlds)<ar(t))return e.shopConfirmationToggle?R(`You can't purchase ${rr(t)} because you don't have enough Quarks!`):null;if(!Er(t))return R(`You do not have the right to purchase ${rr(t)}!`);let r,a=n.maxLevel-e.shopUpgrades[t],o,l;switch(e.shopBuyMaxToggle){case!1:o=1,l=ar(t);break;case"TEN":r=Et(e.shopUpgrades[t],n.price,+e.worlds,n.priceIncrease/n.price,Math.min(10,a)),o=r.levelCanBuy-e.shopUpgrades[t],l=r.cost;break;default:r=Et(e.shopUpgrades[t],n.price,+e.worlds,n.priceIncrease/n.price,a),o=r.levelCanBuy-e.shopUpgrades[t],l=r.cost}let c=n.maxLevel===1,g=o.toLocaleString()+(n.type==="upgrade"?" level":" vial")+(o===1?"":"s"),d=n.refundable?"":`

\u26A0\uFE0F !! No Refunds !! \u26A0\uFE0F`,m=n.type==="consume"?`

Type -1 in Buy: ANY to buy equal amounts of both Potions.`:"";if(e.shopBuyMaxToggle==="ANY"&&!c){let y=await Se(`You can afford to purchase up to ${g} of ${rr(t)} for ${l.toLocaleString()} Quarks. How many would you like to buy?${m+d}`),b;if(Number(y)===-1&&n.type==="consume"){let S=t==="offeringPotion"?"obtainiumPotion":"offeringPotion",k=Math.max(+e.worlds/2,+e.worlds-l),B=Et(e.shopUpgrades[S],ae[S].price,k,ae[S].priceIncrease/ae[S].price,ae[S].maxLevel-e.shopUpgrades[S]);e.worlds.sub(B.cost),e.shopUpgrades[S]=B.levelCanBuy,b=o}else{if(b=Math.floor(Number(y)),b===0)return;if(Number.isNaN(b)||!Number.isFinite(b)||b<0)return R("Amount must be a finite, positive integer.")}let w=Et(e.shopUpgrades[t],n.price,+e.worlds,n.priceIncrease/n.price,Math.min(b,o));e.worlds.sub(w.cost),e.shopUpgrades[t]=w.levelCanBuy,Me();return}let h=!0;(e.shopConfirmationToggle||!n.refundable&&e.shopBuyMaxToggle!==!1)&&(h=await me(`You are about to ${c?"unlock":`purchase ${g} of`} ${rr(t)} for ${l.toLocaleString()} Quarks. Press 'OK' to finalize purchase.${m+d}`)),h&&(e.worlds.sub(l),e.shopUpgrades[t]+=o,Me())};var hn=async(t,n=!1,r=1,a=!0)=>{if(e.shopConfirmationToggle&&!n?await me("Would you like to use some of this potion?"):!0){let l=+e.singularityUpgrades.potionBuff.getEffect().bonus*+e.singularityUpgrades.potionBuff2.getEffect().bonus*+e.singularityUpgrades.potionBuff3.getEffect().bonus*+e.octeractUpgrades.octeractAutoPotionEfficiency.getEffect().bonus*r;t==="offeringPotion"?(e.shopUpgrades.offeringPotion>=r||!a)&&(e.shopUpgrades.offeringPotion-=a?r:0,e.runeshards+=Math.floor(7200*e.offeringpersecond*Le().mult*l),e.runeshards=Math.min(1e300,e.runeshards)):t==="obtainiumPotion"&&(e.shopUpgrades.obtainiumPotion>=r||!a)&&(e.shopUpgrades.obtainiumPotion-=a?r:0,e.researchPoints+=Math.floor(7200*e.maxobtainiumpersecond*Le().mult*l),e.researchPoints=Math.min(1e300,e.researchPoints))}},ho=async(t=!1)=>{let n=!1;if(t||(n=e.shopConfirmationToggle?await me("This will fully refund most of your permanent upgrades for an upfront cost of 15 Quarks. Would you like to do this?"):!0),n||t){let r=e.quarksThisSingularity,a=!1;for(let o in ae){let l=o,c=ae[l];if(c.refundable&&e.shopUpgrades[l]>c.refundMinimumLevel){a=!0;let g=c.price*c.refundMinimumLevel+c.priceIncrease*c.refundMinimumLevel*(c.refundMinimumLevel-1)/2;e.worlds.add(c.price*e.shopUpgrades[l]+c.priceIncrease*e.shopUpgrades[l]*(e.shopUpgrades[l]-1)/2-g,!1),e.shopUpgrades[l]=c.refundMinimumLevel}}a?e.worlds.sub(15):!t&&e.shopConfirmationToggle&&R("Nothing to Refund!"),e.quarksThisSingularity=r}},Ec=t=>!(t in ae)||!(t in e.shopUpgrades)?0:ae[t].price*e.shopUpgrades[t]+ae[t].priceIncrease*(e.shopUpgrades[t]-1)*e.shopUpgrades[t]/2,Er=t=>{switch(t){case"offeringPotion":return!0;case"obtainiumPotion":return!0;case"offeringEX":return e.reincarnationCount>0||e.highestSingularityCount>0;case"offeringAuto":return e.reincarnationCount>0||e.highestSingularityCount>0;case"obtainiumEX":return e.reincarnationCount>0||e.highestSingularityCount>0;case"obtainiumAuto":return e.reincarnationCount>0||e.highestSingularityCount>0;case"instantChallenge":return e.reincarnationCount>0||e.highestSingularityCount>0;case"antSpeed":return e.highestchallengecompletions[8]>0||e.ascensionCount>0||e.highestSingularityCount>0;case"cashGrab":return e.highestchallengecompletions[8]>0||e.ascensionCount>0||e.highestSingularityCount>0;case"shopTalisman":return e.highestchallengecompletions[9]>0||e.ascensionCount>0||e.highestSingularityCount>0;case"seasonPass":return e.ascensionCount>0||e.highestSingularityCount>0;case"challengeExtension":return e.ascensionCount>0||e.highestSingularityCount>0;case"challengeTome":return e.ascensionCount>0||e.highestSingularityCount>0;case"cubeToQuark":return e.ascensionCount>0||e.highestSingularityCount>0;case"tesseractToQuark":return e.highestchallengecompletions[11]>0||e.highestSingularityCount>0;case"hypercubeToQuark":return e.highestchallengecompletions[13]>0||e.highestSingularityCount>0;case"seasonPass2":return e.highestchallengecompletions[14]>0||e.highestSingularityCount>0;case"seasonPass3":return e.highestchallengecompletions[14]>0||e.highestSingularityCount>0;case"chronometer":return e.highestchallengecompletions[12]>0||e.highestSingularityCount>0;case"infiniteAscent":return e.highestchallengecompletions[14]>0||e.highestSingularityCount>0;case"calculator":return e.ascensionCount>0||e.highestSingularityCount>0;case"calculator2":return e.highestchallengecompletions[11]>0||e.highestSingularityCount>0;case"calculator3":return e.highestchallengecompletions[13]>0||e.highestSingularityCount>0;case"calculator4":return Boolean(e.singularityUpgrades.wowPass.getEffect().bonus);case"calculator5":return Boolean(e.singularityUpgrades.wowPass2.getEffect().bonus);case"calculator6":return Boolean(e.singularityUpgrades.wowPass3.getEffect().bonus);case"constantEX":return e.highestchallengecompletions[14]>0||e.highestSingularityCount>0;case"powderEX":return e.challenge15Exponent>=1e15||e.highestSingularityCount>0;case"chronometer2":return e.challenge15Exponent>=1e15||e.highestSingularityCount>0;case"chronometer3":return Boolean(e.singularityUpgrades.wowPass.getEffect().bonus);case"seasonPassY":return e.challenge15Exponent>=1e15||e.highestSingularityCount>0;case"seasonPassZ":return Boolean(e.singularityUpgrades.wowPass.getEffect().bonus);case"challengeTome2":return Boolean(e.singularityUpgrades.wowPass.getEffect().bonus);case"instantChallenge2":return Boolean(e.singularityUpgrades.wowPass.getEffect().bonus);case"cashGrab2":return Boolean(e.singularityUpgrades.wowPass2.getEffect().bonus);case"cubeToQuarkAll":return Boolean(e.singularityUpgrades.wowPass2.getEffect().bonus);case"chronometerZ":return Boolean(e.singularityUpgrades.wowPass2.getEffect().bonus);case"offeringEX2":return Boolean(e.singularityUpgrades.wowPass2.getEffect().bonus);case"obtainiumEX2":return Boolean(e.singularityUpgrades.wowPass2.getEffect().bonus);case"powderAuto":return Boolean(e.singularityUpgrades.wowPass2.getEffect().bonus);case"seasonPassLost":return Boolean(e.singularityUpgrades.wowPass2.getEffect().bonus);case"challenge15Auto":return Boolean(e.singularityUpgrades.wowPass3.getEffect().bonus);case"extraWarp":return Boolean(e.singularityUpgrades.wowPass3.getEffect().bonus);case"autoWarp":return Boolean(e.singularityUpgrades.wowPass3.getEffect().bonus);case"improveQuarkHept":return e.challenge15Exponent>=1e15||e.highestSingularityCount>0;case"improveQuarkHept2":return Boolean(e.singularityUpgrades.wowPass.getEffect().bonus);case"improveQuarkHept3":return Boolean(e.singularityUpgrades.wowPass2.getEffect().bonus);case"improveQuarkHept4":return Boolean(e.singularityUpgrades.wowPass3.getEffect().bonus);case"shopImprovedDaily":return e.highestchallengecompletions[14]>0||e.highestSingularityCount>0;case"shopImprovedDaily2":return Boolean(e.singularityUpgrades.wowPass.getEffect().bonus);case"shopImprovedDaily3":return Boolean(e.singularityUpgrades.wowPass2.getEffect().bonus);case"shopImprovedDaily4":return Boolean(e.singularityUpgrades.wowPass3.getEffect().bonus);case"offeringEX3":return Boolean(e.singularityUpgrades.wowPass4.getEffect().bonus);case"obtainiumEX3":return Boolean(e.singularityUpgrades.wowPass4.getEffect().bonus);case"improveQuarkHept5":return Boolean(e.singularityUpgrades.wowPass4.getEffect().bonus);case"chronometerInfinity":return Boolean(e.singularityUpgrades.wowPass4.getEffect().bonus);case"seasonPassInfinity":return Boolean(e.singularityUpgrades.wowPass4.getEffect().bonus);case"shopSingularityPenaltyDebuff":return Boolean(e.singularityChallenges.noSingularityUpgrades.rewards.shopUpgrade)}};var ia=sn(Oc());var Uc=t=>t.method!==void 0&&t.method==="call";var Bc=t=>t.error===null&&typeof t.id=="number";var Rc=t=>{let n=new Map([[0,()=>{}]]),r=new Map([[0,()=>{}]]),a=new Map,o=new Worker(t);return o.addEventListener("message",({data:m})=>{if(Uc(m)){let{params:{timerId:h,timerType:y}}=m;if(y==="interval"){let b=n.get(h);if(typeof b=="number"){let w=a.get(b);if(w===void 0||w.timerId!==h||w.timerType!==y)throw new Error("The timer is in an undefined state.")}else if(typeof b<"u")b();else throw new Error("The timer is in an undefined state.")}else if(y==="timeout"){let b=r.get(h);if(typeof b=="number"){let w=a.get(b);if(w===void 0||w.timerId!==h||w.timerType!==y)throw new Error("The timer is in an undefined state.")}else if(typeof b<"u")b(),r.delete(h);else throw new Error("The timer is in an undefined state.")}}else if(Bc(m)){let{id:h}=m,y=a.get(h);if(y===void 0)throw new Error("The timer is in an undefined state.");let{timerId:b,timerType:w}=y;a.delete(h),w==="interval"?n.delete(b):r.delete(b)}else{let{error:{message:h}}=m;throw new Error(h)}}),{clearInterval:m=>{let h=(0,ia.generateUniqueNumber)(a);a.set(h,{timerId:m,timerType:"interval"}),n.set(m,h),o.postMessage({id:h,method:"clear",params:{timerId:m,timerType:"interval"}})},clearTimeout:m=>{let h=(0,ia.generateUniqueNumber)(a);a.set(h,{timerId:m,timerType:"timeout"}),r.set(m,h),o.postMessage({id:h,method:"clear",params:{timerId:m,timerType:"timeout"}})},setInterval:(m,h)=>{let y=(0,ia.generateUniqueNumber)(n);return n.set(y,()=>{m(),typeof n.get(y)=="function"&&o.postMessage({id:null,method:"set",params:{delay:h,now:performance.now(),timerId:y,timerType:"interval"}})}),o.postMessage({id:null,method:"set",params:{delay:h,now:performance.now(),timerId:y,timerType:"interval"}}),y},setTimeout:(m,h)=>{let y=(0,ia.generateUniqueNumber)(r);return r.set(y,m),o.postMessage({id:null,method:"set",params:{delay:h,now:performance.now(),timerId:y,timerType:"timeout"}}),y}}};var la=null,Ic=(t,n)=>()=>{if(la!==null)return la;let r=new Blob([n],{type:"application/javascript; charset=utf-8"}),a=URL.createObjectURL(r);return la=t(a),la.setTimeout(()=>URL.revokeObjectURL(a),0),la};var Nc=`(()=>{"use strict";const e=new Map,t=new Map,r=(e,t)=>{let r,o;const i=performance.now();r=i,o=e-Math.max(0,i-t);return{expected:r+o,remainingDelay:o}},o=(e,t,r,i)=>{const s=performance.now();s>r?postMessage({id:null,method:"call",params:{timerId:t,timerType:i}}):e.set(t,setTimeout(o,r-s,e,t,r,i))};addEventListener("message",(i=>{let{data:s}=i;try{if("clear"===s.method){const{id:r,params:{timerId:o,timerType:i}}=s;if("interval"===i)(t=>{const r=e.get(t);if(void 0===r)throw new Error('There is no interval scheduled with the given id "'.concat(t,'".'));clearTimeout(r),e.delete(t)})(o),postMessage({error:null,id:r});else{if("timeout"!==i)throw new Error('The given type "'.concat(i,'" is not supported'));(e=>{const r=t.get(e);if(void 0===r)throw new Error('There is no timeout scheduled with the given id "'.concat(e,'".'));clearTimeout(r),t.delete(e)})(o),postMessage({error:null,id:r})}}else{if("set"!==s.method)throw new Error('The given method "'.concat(s.method,'" is not supported'));{const{params:{delay:i,now:n,timerId:a,timerType:d}}=s;if("interval"===d)((t,i,s)=>{const{expected:n,remainingDelay:a}=r(t,s);e.set(i,setTimeout(o,a,e,i,n,"interval"))})(i,a,n);else{if("timeout"!==d)throw new Error('The given type "'.concat(d,'" is not supported'));((e,i,s)=>{const{expected:n,remainingDelay:a}=r(e,s);t.set(i,setTimeout(o,a,t,i,n,"timeout"))})(i,a,n)}}}}catch(e){postMessage({error:{message:e.message},id:s.id,result:null})}}))})();`;var bo=Ic(Rc,Nc),Dc=t=>bo().clearInterval(t),Hc=t=>bo().clearTimeout(t),Gc=(t,n)=>bo().setInterval(t,n),$c=(t,n)=>bo().setTimeout(t,n);var yn=[],bt=(t,n)=>{let r=Gc(t,n);return yn.push({id:r,type:"interval"}),r},or=t=>{for(let n of yn)if(n.type==="interval"&&n.id===t){Dc(t),yn.splice(yn.indexOf(n),1);return}},ca=(t,n)=>{let r=$c(t,n);return yn.push({id:r,type:"timeout"}),r},Zs=t=>{for(let n of yn)if(n.type==="timeout"&&n.id===t){Hc(t),yn.splice(yn.indexOf(n),1);return}},Fc=()=>{for(let{id:t,type:n}of yn)n==="interval"?or(t):Zs(t)};var Ld={antspecies1:"Inceptus Formicidae",antspecies2:"Fortunae Formicidae",antspecies3:"Tributum Formicidae",antspecies4:"Celeritas Formicidae",antspecies5:"Multa Formicidae",antspecies6:"Sacrificium Formicidae",antspecies7:"Hic Formicidae",antspecies8:"Experientia Formicidae",antspecies9:"Praemoenio Formicidae",antspecies10:"Scientia Formicidae",antspecies11:"Phylacterium Formicidae",antspecies12:"Mortuus Est Formicidae"},Js=()=>e.currentChallenge.ascension!==15?1e5+lt(499e5,(e.antUpgrades[1]+s.bonusant2)/5e3*500/499):1e-4*(1e5+lt(499e5,(e.antUpgrades[1]+s.bonusant2)/5e3*500/499)),Ed=[()=>u(f.pow(1.12+1/1e3*e.researches[101],e.antUpgrades[1-1]+s.bonusant1),2),()=>u(Js()),()=>u(.005+.995*Math.pow(.99,e.antUpgrades[3-1]+s.bonusant3),4),()=>u(100*(lt(20,(e.antUpgrades[4-1]+s.bonusant4)/1e3*20/19)-1),3),()=>u(100*(lt(40,(e.antUpgrades[5-1]+s.bonusant5)/1e3*40/39)-1),3),()=>u(1+Math.pow(e.antUpgrades[6-1]+s.bonusant6,.66),4),()=>u(Math.min(9999999,3*e.antUpgrades[7-1]+3*s.bonusant7),0,!0),()=>u(lt(999,1/1e4*Math.pow(e.antUpgrades[8-1]+s.bonusant8,1.1)),3),()=>u(1*Math.min(1e7,e.antUpgrades[9-1]+s.bonusant9),0,!0),()=>u(1+2*Math.pow((e.antUpgrades[10-1]+s.bonusant10)/50,.75),4),()=>u(1+2*(1-Math.pow(2,-(e.antUpgrades[11-1]+s.bonusant11)/125)),4),()=>u(je(2,e.antUpgrades[12-1]+s.bonusant12,69),4)],Qc,_c=t=>{or(Qc),Qc=bt(()=>ei(t),50)},ei=t=>{if(s.currentTab!=="ants")return;let n=i("anttierdescription"),r=i("antprice"),a=i("antquantity"),o=i("generateant"),l="ants.costGalacticCrumbs",c="first",g;switch(n.textContent=p.t(`ants.descriptions.${t}`),t){case 1:l="ants.costParticles",c="first",g=u(s.antOneProduce,5);break;case 2:c="second",g=u(s.antTwoProduce,5);break;case 3:c="third",g=u(s.antThreeProduce,5);break;case 4:c="fourth",g=u(s.antFourProduce,5);break;case 5:c="fifth",g=u(s.antFiveProduce,5);break;case 6:c="sixth",g=u(s.antSixProduce,5);break;case 7:c="seventh",g=u(s.antSevenProduce,5);break;case 8:c="eighth",g=u(s.antEightProduce,5);break}o.textContent=p.t(`ants.generates.${t}`,{x:g}),r.textContent=p.t(l,{x:u(e[`${c}CostAnts`])}),a.textContent=p.t("ants.owned",{x:u(e[`${c}OwnedAnts`]),y:u(e[`${c}GeneratedAnts`],2)})},ua=(t,n,r)=>(--n,t.times(f.pow(s.antCostGrowth[r-1],n)).add(1*n)),Ar=(t,n,r)=>(--n,t.times(f.pow(s.antUpgradeCostIncreases[r-1],n))),ti=(t,n,r)=>{let a=In(e.antSacrificePoints);n=new f(n);let o=r===1?"reincarnationPoints":"antPoints",l=`${t}OwnedAnts`,c=e[l]+ge(e[l]),g=c,d=ua(n,g,r);for(;e[o].gte(d);)g=g*4,d=ua(n,g,r);let m=Math.floor(g/8);for(;m>=ge(g);)ua(n,g-m,r).lte(e[o])?m=Math.floor(m/2):g=g-Math.max(ge(g),m);e.antMax||c<g&&(g=c);let h=Math.max(g-6-ge(g),c),y=ua(n,h,r);for(;h<=g&&e[o].gte(y);)e[o]=e[o].sub(y),e[l]=h,h=h+ge(h),y=ua(n,h,r),e[`${t}CostAnts`]=y;e.reincarnationPoints.lt(0)&&(e.reincarnationPoints=new f("0")),e.antPoints.lt(0)&&(e.antPoints=new f("0")),Nn();let b=[2,6,20,100,500,6666,77777];for(let w=0;w<b.length;w++)e.achievements[176+w]===0&&a>b[w]&&e[`${s.ordinals[w+1]}OwnedAnts`]>0&&H(176+w);e.firstOwnedAnts>69e6&&(e.firstOwnedAnts=69e6)},ni=(t,n,r)=>{if(e.currentChallenge.ascension!==11){t=new f(t);let a=e.antUpgrades[r-1]+ge(e.antUpgrades[r-1]),o=a,l=Ar(t,o,r);for(;e.antPoints.gte(l);)o=o*4,l=Ar(t,o,r);let c=Math.floor(o/8);for(;c>=ge(o);)Ar(t,o-c,r).lte(e.antPoints)?c=Math.floor(c/2):o=o-Math.max(ge(o),c);e.antMax||a<o&&(o=a);let g=Math.max(o-6-ge(o),a),d=Ar(t,g,r);for(;g<=o&&e.antPoints.gte(d);)e.antPoints=e.antPoints.sub(d),e.antUpgrades[r-1]=g,g=g+ge(g),d=Ar(t,g,r);st(),ke(),Nn(),n||ri(r),e.antUpgrades[12-1]===1&&r===12&&Me()}},ri=t=>{let n=i("antspecies"),r=i("antlevelbonus"),a=i("antupgradedescription"),o=i("antupgradecost"),l=i("antupgradeeffect"),c=Ld["antspecies"+t],g=p.t(`ants.upgrades.${t}`),d=s[`bonusant${t}`],m=e.currentChallenge.ascension===11?999:0;n.childNodes[0].textContent=c+" Level "+u(e.antUpgrades[t-1]),r.textContent=" [+"+u(Math.min(e.antUpgrades[t-1]+m,d))+"]",a.textContent=g,o.textContent=p.t("ants.costGalacticCrumbs",{x:u(f.pow(s.antUpgradeCostIncreases[t-1],e.antUpgrades[t-1]*s.extinctionMultiplier[e.usedCorruptions[10]]).times(s.antUpgradeBaseCost[t-1]))}),l.textContent=p.t(`ants.rewards.${t}`,{x:Ed[t-1]()})},In=t=>{let n=Math.pow(1+t/5e3,2);return n*=1+.2*Math.log(1+t)/Math.log(10),e.achievements[174]>0&&(n*=1+.4*Math.log(1+t)/Math.log(10)),Math.min(1e300,n)},qc=()=>{let t=oi();i("antSacrificeSummary").style.display="block",i("ELO").innerHTML=p.t("ants.yourAntELO",{x:u(s.antELO,2),y:u(s.effectiveELO,2,!1)}),i("SacrificeMultiplier").innerHTML=p.t("ants.antSacMultiplier",{y:u(In(e.antSacrificePoints),3,!1),x:u(In(e.antSacrificePoints+t.antSacrificePoints),3,!1)}),i("SacrificeUpgradeMultiplier").innerHTML=p.t("ants.upgradeMultiplier",{x:u(s.upgradeMultiplier,3,!0)}),i("SacrificeTimeMultiplier").innerHTML=p.t("ants.timeMultiplier",{x:u(s.timeMultiplier,3,!0)}),i("antSacrificeOffering").textContent="+"+u(t.offerings),i("antSacrificeObtainium").textContent="+"+u(t.obtainium),e.challengecompletions[9]>0&&(i("antSacrificeTalismanShard").textContent=p.t("ants.elo",{x:u(t.talismanShards),y:500}),i("antSacrificeCommonFragment").textContent=p.t("ants.elo",{x:u(t.commonFragments),y:750}),i("antSacrificeUncommonFragment").textContent=p.t("ants.elo",{x:u(t.uncommonFragments),y:1e3}),i("antSacrificeRareFragment").textContent=p.t("ants.elo",{x:u(t.rareFragments),y:1500}),i("antSacrificeEpicFragment").textContent=p.t("ants.elo",{x:u(t.epicFragments),y:2e3}),i("antSacrificeLegendaryFragment").textContent=p.t("ants.elo",{x:u(t.legendaryFragments),y:3e3}),i("antSacrificeMythicalFragment").textContent=p.t("ants.elo",{x:u(t.mythicalFragments),y:5e3}))},Or=async(t=!1)=>{let n=!0;if(e.antPoints.gte("1e40")&&(!t&&e.toggles[32]&&(n=await me(p.t("ants.autoReset"))),n)){let r=e.antSacrificePoints,a=oi();e.antSacrificePoints+=a.antSacrificePoints,e.runeshards+=a.offerings,e.currentChallenge.ascension!==14&&(e.researchPoints+=a.obtainium);let o={date:Date.now(),seconds:e.antSacrificeTimer,kind:"antsacrifice",offerings:a.offerings,obtainium:a.obtainium,antSacrificePointsBefore:r,antSacrificePointsAfter:e.antSacrificePoints,baseELO:s.antELO,effectiveELO:s.effectiveELO,crumbs:e.antPoints.toString(),crumbsPerSecond:s.antOneProduce.toString()};if(e.challengecompletions[9]>0&&(e.talismanShards=Math.min(1e300,e.talismanShards+a.talismanShards),e.commonFragments=Math.min(1e300,e.commonFragments+a.commonFragments),e.uncommonFragments=Math.min(1e300,e.uncommonFragments+a.uncommonFragments),e.rareFragments=Math.min(1e300,e.rareFragments+a.rareFragments),e.epicFragments=Math.min(1e300,e.epicFragments+a.epicFragments),e.legendaryFragments=Math.min(1e300,e.legendaryFragments+a.legendaryFragments),e.mythicalFragments=Math.min(1e300,e.mythicalFragments+a.mythicalFragments)),ai(),e.antSacrificeTimer=0,e.antSacrificeTimerReal=0,gt(),e.autoResearch>0&&e.autoResearchToggle){let l=e.autoResearch===200?.01:0;Lt(e.autoResearch,!0,l)}Nn(),Ye.emit("historyAdd","ants",o)}e.mythicalFragments>=1e11&&e.currentChallenge.ascension===14&&e.achievements[248]<1&&H(248)},jc=()=>{let t=(l,c)=>e.antPoints.gte(Ar(new f(s.antUpgradeBaseCost[l-1]),e.antUpgrades[l-1]+1,l).times(c)),n=[176,176,177,178,178,179,180,180,181,182,182,145],r=["100","100","1000","1000","1e5","1e6","1e8","1e11","1e15","1e20","1e40","1e100"];if(e.currentChallenge.ascension!==11)for(let l=1;l<=n.length;l++)(l===12?e.researches[n[l-1]]:e.achievements[n[l-1]])&&t(l,2)&&ni(r[l-1],!0,l);let a=[173,176,177,178,179,180,181,182],o=["1e700","3","100","10000","1e12","1e36","1e100","1e300"];for(let l=1;l<=a.length;l++){let c=l===1?e.reincarnationPoints:e.antPoints,g=l===1?1:2;e.achievements[a[l-1]]&&c.gte(e[`${s.ordinals[l-1]}CostAnts`].times(g))&&ti(s.ordinals[l-1],o[l-1],l)}};var Vc=["chronos","hyperrealism","quark","challenge","abyss","accelerator","acceleratorBoost","multiplier"],_t=class{constructor(n){this.UNLOCKED=!1;this.BAL=0;this.CAP=0;this.BASE_CAP=0;this.HEPTERACT_CONVERSION=0;this.AUTO=!1;this.DISCOUNT=0;this.unlock=n=>this.UNLOCKED===!0?this:(this.UNLOCKED=!0,e.highestSingularityCount<5?R(p.t("hepteracts.unlockedCraft",{x:n})):this);this.computeActualCap=()=>{let n=1;return n*=e.singularityChallenges.limitedAscensions.rewards.hepteractCap?2:1,this.CAP*n};this.craft=async(n=!1)=>{let r=null,a=this.computeActualCap(),o=we("Hepteract Costs");if(!this.UNLOCKED)return R(p.t("hepteracts.notUnlocked"));if(a-this.BAL<=0&&e.toggles[35])return R(p.t("hepteracts.reachedCapacity",{x:u(a,0,!0)}));(isNaN(e.wowAbyssals)||!isFinite(e.wowAbyssals)||e.wowAbyssals<0)&&(e.wowAbyssals=0);let l=Math.floor(e.wowAbyssals/(this.HEPTERACT_CONVERSION*o)*1/(1-this.DISCOUNT)),c=[];for(let m in this.OTHER_CONVERSIONS)m==="worlds"?c.push(Math.floor(e[m]/this.OTHER_CONVERSIONS[m])*1/(1-this.DISCOUNT)):c.push(Math.floor(e[m]/(o*this.OTHER_CONVERSIONS[m]))*1/(1-this.DISCOUNT));let g=Math.min(...c),d=Math.min(g,l,a,a-this.BAL);if(isNaN(d)||!isFinite(d))return R(p.t("hepteracts.executionFailed"));if(n)r=a;else{let m=await Se(p.t("hepteracts.craft",{x:u(d,0,!0),y:Math.floor(d/a*1e4)/100}));if(m===null)return e.toggles[35]?R(p.t("hepteracts.cancelled")):void 0;r=Number(m)}if(isNaN(r)||!isFinite(r)||!Number.isInteger(r))return R(p.t("general.validation.finite"));if(r<=0)return R(p.t("general.validation.zeroOrLess"));if(d=Math.min(g,l,r,a-this.BAL),n&&e.toggles[35]&&!await me(p.t("hepteracts.craftMax",{x:u(d,0,!0),y:Math.floor(d/a*1e4)/100})))return R(p.t("hepteracts.cancelled"));this.BAL=Math.min(a,this.BAL+d),e.wowAbyssals-=d*this.HEPTERACT_CONVERSION*o,e.wowAbyssals<0&&(e.wowAbyssals=0);for(let m in this.OTHER_CONVERSIONS)typeof e[m]=="number"&&(e[m]-=d*o*this.OTHER_CONVERSIONS[m]),e[m]<0?e[m]=0:e[m]instanceof An?e[m].sub(d*o*this.OTHER_CONVERSIONS[m]):m=="worlds"&&e.worlds.sub(d*this.OTHER_CONVERSIONS[m]);if(e.toggles[35])return n?R(p.t("hepteracts.craftedHepteractsMax",{x:u(d,0,!0)})):R(p.t("hepteracts.craftedHepteracts",{x:u(d,0,!0)}))};this.expand=async()=>{let r=this.BAL,a=this.computeActualCap(),o=this.CAP;if(!this.UNLOCKED)return R(p.t("hepteracts.notUnlocked"));if(this.BAL<this.CAP)return e.toggles[35]?R(p.t("hepteracts.notEnough")):void 0;if(!await me(p.t("hepteracts.expandPrompt",{x:u(this.CAP),y:u(a),z:u(a*2),a:u(2,2,!0)})))return this;if(this.BAL!==r||this.CAP!==o)return e.toggles[35]?R(p.t("hepteracts.doubleSpent")):void 0;if(this.BAL-=this.CAP,this.BAL=Math.max(0,this.BAL),this.CAP=Math.min(1e300,this.CAP*2),e.toggles[35])return R(p.t("hepteracts.expandedInventory",{x:u(a*2,0,!0)}))};var r,a,o,l,c;this.BASE_CAP=n.BASE_CAP,this.HEPTERACT_CONVERSION=n.HEPTERACT_CONVERSION,this.OTHER_CONVERSIONS=n.OTHER_CONVERSIONS,this.HTML_STRING=n.HTML_STRING,this.UNLOCKED=(r=n.UNLOCKED)!=null?r:!1,this.BAL=(a=n.BAL)!=null?a:0,this.CAP=(o=n.CAP)!=null?o:this.BASE_CAP,this.DISCOUNT=(l=n.DISCOUNT)!=null?l:0,this.AUTO=(c=n.AUTO)!=null?c:!1,this.toggleAutomatic(this.AUTO)}spend(n){return this.UNLOCKED?(this.BAL-=n,this):this}addDiscount(n){return this.DISCOUNT+n>1-Number.EPSILON?(this.DISCOUNT=1-Number.EPSILON,this):(this.DISCOUNT+=n,this)}toggleAutomatic(n){let r=i(`${this.HTML_STRING}HepteractAuto`);return this.AUTO=n!=null?n:!this.AUTO,r.textContent=this.AUTO?p.t("general.autoOnColon"):p.t("general.autoOffColon"),r.style.border=`2px solid ${this.AUTO?"green":"red"}`,this}autoCraft(n){let a=we("Hepteract Costs"),o=this.computeActualCap(),l=Math.floor(n/(a*this.HEPTERACT_CONVERSION)*1/(1-this.DISCOUNT)),c=[];for(let y in this.OTHER_CONVERSIONS)y=="worlds"&&c.push(Math.floor(e[y]/this.OTHER_CONVERSIONS[y])*1/(1-this.DISCOUNT));let g=Math.min(...c),d=Math.min(g,l),m=0,h=Math.min(o-this.BAL,d);for(this.BAL+=h,m+=h,d-=h;this.BAL>=o&&d>=this.CAP;)this.BAL-=this.CAP,this.CAP*=2,o*=2,h=Math.min(o-this.BAL,d),this.BAL+=h,m+=h,d-=h;for(let y in this.OTHER_CONVERSIONS)y=="worlds"&&e.worlds.sub(m*this.OTHER_CONVERSIONS[y]);return e.wowAbyssals-=m*a*this.HEPTERACT_CONVERSION,e.wowAbyssals<0&&(e.wowAbyssals=0),this}get amount(){return this.BAL}get capacity(){return this.CAP}get discount(){return this.DISCOUNT}},vo={chronos:{LIMIT:1e3,DR:1/6},hyperrealism:{LIMIT:1e3,DR:.33},quark:{LIMIT:1e3,DR:.5},challenge:{LIMIT:1e3,DR:1/6},abyss:{LIMIT:1,DR:0},accelerator:{LIMIT:1e3,DR:.2},acceleratorBoost:{LIMIT:1e3,DR:.2},multiplier:{LIMIT:1e3,DR:.2}},Wc=t=>new _t(t),Ae=t=>{let n=Math.min(e.hepteractCrafts[t].BAL,vo[t].LIMIT),r=0;if(t==="chronos"&&(r+=1/750*e.platonicUpgrades[19]),t==="quark"){r+=+e.singularityUpgrades.singQuarkHepteract.getEffect().bonus,r+=+e.singularityUpgrades.singQuarkHepteract2.getEffect().bonus,r+=+e.singularityUpgrades.singQuarkHepteract3.getEffect().bonus,r+=+e.octeractUpgrades.octeractImprovedQuarkHept.getEffect().bonus,r+=e.shopUpgrades.improveQuarkHept/100,r+=e.shopUpgrades.improveQuarkHept2/100,r+=e.shopUpgrades.improveQuarkHept3/100,r+=e.shopUpgrades.improveQuarkHept4/100,r+=e.shopUpgrades.improveQuarkHept5/5e3;let a=e.hepteractCrafts[t].BAL;if(1e3<a&&a<=1e3*Math.pow(2,10))return n*Math.pow(a/1e3,1/2+r);if(1e3*Math.pow(2,10)<a&&a<=1e3*Math.pow(2,18))return n*Math.pow(Math.pow(2,10),1/2+r)*Math.pow(a/(1e3*Math.pow(2,10)),1/4+r/2);if(1e3*Math.pow(2,18)<a&&a<=1e3*Math.pow(2,44))return n*Math.pow(Math.pow(2,10),1/2+r)*Math.pow(Math.pow(2,8),1/4+r/2)*Math.pow(a/(1e3*Math.pow(2,18)),1/6+r/3);if(1e3*Math.pow(2,44)<a)return n*Math.pow(Math.pow(2,10),1/2+r)*Math.pow(Math.pow(2,8),1/4+r/2)*Math.pow(Math.pow(2,26),1/6+r/3)*Math.pow(a/(1e3*Math.pow(2,44)),1/12+r/6)}return e.hepteractCrafts[t].BAL>vo[t].LIMIT&&(n*=Math.pow(e.hepteractCrafts[t].BAL/vo[t].LIMIT,vo[t].DR+r)),n},bn=t=>{i("hepteractUnlockedText").style.display="block",i("hepteractCurrentEffectText").style.display="block",i("hepteractBalanceText").style.display="block",i("powderDayWarpText").style.display="none",i("hepteractCostText").style.display="block";let n=i("hepteractUnlockedText"),r=i("hepteractEffectText"),a=i("hepteractCurrentEffectText"),o=i("hepteractBalanceText"),l=i("hepteractCostText"),c=i("hepteractBonusCapacity"),g=we("Hepteract Costs"),d=e.hepteractCrafts[t].computeActualCap()/e.hepteractCrafts[t].CAP;c.textContent=e.hepteractCrafts[t].computeActualCap()/e.hepteractCrafts[t].CAP>1?`Hepteract capacities are currently multiplied by ${d}. Expansions cost what they would if this multiplier were 1.`:"";let m,h;switch(t){case"chronos":m={x:u(Ae("chronos")*6/100,2,!0)},h=u(1e115*g,0,!1);break;case"hyperrealism":m={x:u(Ae("hyperrealism")*6/100,2,!0)},h=u(1e80*g,0,!0);break;case"quark":m={x:u(Ae("quark")*5/100,2,!0)},h="100";break;case"challenge":m={x:u(Ae("challenge")*5/100,2,!0)},h={y:u(1e11*g),z:u(1e22*g)};break;case"abyss":h=u(69*g);break;case"accelerator":m={x:u(2e3*Ae("accelerator"),2,!0),y:u(Ae("accelerator")*3/100,2,!0)},h=u(1e14*g);break;case"acceleratorBoost":m={x:u(Ae("acceleratorBoost")/10,2,!0)},h=u(1e10*g);break;case"multiplier":m={x:u(1e3*Ae("multiplier"),2,!0),y:u(Ae("multiplier")*3/100,2,!0)},h=u(1e130*g);break}r.textContent=p.t(`wowCubes.hepteractForge.descriptions.${t}.effect`),a.textContent=p.t(`wowCubes.hepteractForge.descriptions.${t}.currentEffect`,m),o.textContent=p.t("wowCubes.hepteractForge.inventory",{x:u(e.hepteractCrafts[t].BAL,0,!0),y:u(e.hepteractCrafts[t].computeActualCap(),0,!0)});let y=typeof h=="string"?{y:h}:h;l.textContent=p.t(`wowCubes.hepteractForge.descriptions.${t}.oneCost`,We({x:u(e.hepteractCrafts[t].HEPTERACT_CONVERSION*g,0,!0)},y)),n.textContent=e.hepteractCrafts[t].UNLOCKED?p.t("wowCubes.hepteractForge.unlocked"):p.t("wowCubes.hepteractForge.locked")},Xc=()=>{i("hepteractUnlockedText").style.display="none",i("powderDayWarpText").style.display="none",i("hepteractCostText").style.display="block",i("hepteractCurrentEffectText").textContent=p.t("hepteracts.orbEffect",{x:u(100*(-1+En()),2,!0)}),i("hepteractBalanceText").textContent=p.t("hepteracts.orbsPurchasedToday",{x:u(e.overfluxOrbs,0,!0)}),i("hepteractEffectText").textContent=p.t("hepteracts.amalgamate"),i("hepteractCostText").textContent=p.t("hepteracts.cost250k")},si=async t=>{let n=Math.floor(e.wowAbyssals/25e4),r;if(t){if(e.toggles[35]&&!await me(p.t("hepteracts.craftMaxOrbs",{x:u(n,0,!0)})))return R(p.t("hepteracts.cancelled"));r=n}else{let d=await Se(p.t("hepteracts.hepteractInput",{x:u(n,0,!0)}));if(d===null)return e.toggles[35]?R(p.t("hepteracts.cancelled")):void 0;if(r=Number(d),isNaN(r)||!isFinite(r)||!Number.isInteger(r)||r<=0)return R(p.t("general.validation.invalidNumber"))}let a=Math.min(n,Math.floor(r)),o=En();e.overfluxOrbs+=a,e.wowAbyssals-=25e4*a;let l=En();e.wowAbyssals<0&&(e.wowAbyssals=0);let c=e.shopUpgrades.powderAuto*Qt().mult*a/100;e.overfluxPowder+=c;let g=c>0?p.t("hepteracts.gainedPowder",{x:u(c,2,!0)}):"";if(e.toggles[35])return R(p.t("hepteracts.purchasedOrbs",{x:u(a,0,!0),y:u(100*(l-o),2,!0),z:g}))},wo=(t,n=!1)=>{let r=i("hepteractToQuarkTradeAuto");n||(e.overfluxOrbsAutoBuy=t!=null?t:!e.overfluxOrbsAutoBuy),r.textContent=e.overfluxOrbsAutoBuy?p.t("general.autoOnColon"):p.t("general.autoOffColon"),r.style.border=`2px solid ${e.overfluxOrbsAutoBuy?"green":"red"}`},Yc=()=>{let t;e.platonicUpgrades[16]>0?t=p.t("hepteracts.allCubeGainExtended",{x:u(100*(Co()-1),2,!0),y:u(100*(Ur()-1),3,!0),z:u(2*e.platonicUpgrades[16]*Math.min(1,e.overfluxPowder/1e5),2,!0),a:u(f.pow(e.overfluxPowder+1,10*e.platonicUpgrades[16]))}):t=p.t("hepteracts.allCubeGain",{x:u(100*(Co()-1),2,!0),y:u(100*(Ur()-1),3,!0)}),i("hepteractUnlockedText").style.display="none",i("hepteractCurrentEffectText").textContent=p.t("hepteracts.powderEffect",{x:t}),i("hepteractBalanceText").textContent=p.t("hepteracts.powderLumps",{x:u(e.overfluxPowder,2,!0)}),i("hepteractEffectText").textContent=p.t("hepteracts.expiredOrbs",{x:u(1/Qt().mult,1,!0)}),i("hepteractCostText").style.display="none",i("powderDayWarpText").style.display="block",i("powderDayWarpText").textContent=p.t("hepteracts.dayWarpsRemaining",{x:e.dailyPowderResetUses})},ii=async t=>{if(t)if(e.autoWarpCheck){if(await me(p.t("hepteracts.useAllWarpsPrompt")))return i("warpAuto").textContent=p.t("general.autoOffColon"),i("warpAuto").style.border="2px solid red",e.autoWarpCheck=!1,e.dailyPowderResetUses=0,R(p.t("hepteracts.machineCooldown"));if(e.toggles[35])return R(p.t("hepteracts.machineDidNotConsume"))}else{if(await me(p.t("hepteracts.boostQuarksPrompt")))return i("warpAuto").textContent=p.t("general.autoOnColon"),i("warpAuto").style.border="2px solid green",e.autoWarpCheck=!0,e.dailyPowderResetUses===0?R(p.t("hepteracts.machineOverdrive")):R(p.t("hepteracts.machineInOverdrive"));if(e.toggles[35])return R(p.t("hepteracts.machineUsualContinue"))}else{if(e.autoWarpCheck)return R(p.t("hepteracts.warpImpossible"));if(e.dailyPowderResetUses<=0)return R(p.t("hepteracts.machineCooldown"));if(e.overfluxPowder<25)return R(p.t("hepteracts.atleastPowder"));if(await me(p.t("hepteracts.stumbleMachine"))){if(e.overfluxPowder-=25,e.dailyPowderResetUses-=1,pa(),e.toggles[35])return R(p.t("hepteracts.useMachine"))}else if(e.toggles[35])return R(p.t("hepteracts.walkAwayMachine"))}},zc=()=>{let t=[];for(let n of Object.keys(e.hepteractCrafts)){let r=n;e.hepteractCrafts[r].AUTO&&e.hepteractCrafts[r].UNLOCKED&&t.push(e.hepteractCrafts[r])}return t},xo=new _t({BASE_CAP:1e3,HEPTERACT_CONVERSION:1e4,OTHER_CONVERSIONS:{researchPoints:1e115},HTML_STRING:"chronos",UNLOCKED:!0}),Mo=new _t({BASE_CAP:1e3,HEPTERACT_CONVERSION:1e4,OTHER_CONVERSIONS:{runeshards:1e80},HTML_STRING:"hyperrealism",UNLOCKED:!0}),So=new _t({BASE_CAP:1e3,HEPTERACT_CONVERSION:1e4,OTHER_CONVERSIONS:{worlds:100},HTML_STRING:"quark",UNLOCKED:!0}),To=new _t({BASE_CAP:1e3,HEPTERACT_CONVERSION:5e4,OTHER_CONVERSIONS:{wowPlatonicCubes:1e11,wowCubes:1e22},HTML_STRING:"challenge"}),ko=new _t({BASE_CAP:1,HEPTERACT_CONVERSION:1e8,OTHER_CONVERSIONS:{wowCubes:69},HTML_STRING:"abyss"}),Po=new _t({BASE_CAP:1e3,HEPTERACT_CONVERSION:1e5,OTHER_CONVERSIONS:{wowTesseracts:1e14},HTML_STRING:"accelerator"}),Lo=new _t({BASE_CAP:1e3,HEPTERACT_CONVERSION:2e5,OTHER_CONVERSIONS:{wowHypercubes:1e10},HTML_STRING:"acceleratorBoost"}),Eo=new _t({BASE_CAP:1e3,HEPTERACT_CONVERSION:3e5,OTHER_CONVERSIONS:{researchPoints:1e130},HTML_STRING:"multiplier"});var Ad=new Map([["kMisc","miscStats"],["kFreeAccel","acceleratorStats"],["kFreeMult","multiplierStats"],["kOfferingMult","offeringMultiplierStats"],["kGlobalCubeMult","globalCubeMultiplierStats"],["kQuarkMult","globalQuarkMultiplierStats"],["kGSpeedMult","globalSpeedMultiplierStats"],["kCubeMult","cubeMultiplierStats"],["kTessMult","tesseractMultiplierStats"],["kHypercubeMult","hypercubeMultiplierStats"],["kPlatMult","platonicMultiplierStats"],["kHeptMult","hepteractMultiplierStats"],["kOrbPowderMult","powderMultiplierStats"],["kOctMult","octeractMultiplierStats"],["kASCMult","ascensionSpeedMultiplierStats"],["kGQMult","goldenQuarkMultiplierStats"],["kAddStats","addCodeStats"]]),Kc=t=>{for(let n of Array.from(t.parentElement.children)){let r=i(Ad.get(n.id));n.id!==t.id?(n.style.backgroundColor="",r.style.display="none",r.classList.remove("activeStats")):(n.style.backgroundColor="crimson",r.style.display="block",r.classList.add("activeStats"))}},Zc=()=>{let t=document.getElementsByClassName("activeStats");for(let n=0;n<t.length;n++)switch(t[n].id){case"miscStats":Od();break;case"acceleratorStats":Ud();break;case"multiplierStats":Bd();break;case"offeringMultiplierStats":Dd();break;case"globalQuarkMultiplierStats":Rd();break;case"globalSpeedMultiplierStats":Id();break;case"powderMultiplierStats":Hd();break;case"ascensionSpeedMultiplierStats":Gd();break;case"goldenQuarkMultiplierStats":$d();break;case"addCodeStats":Fd();break;default:Nd();break}},Od=()=>{i("sMisc1").textContent=u(e.prestigeCount,0,!0),i("sMisc2").textContent=u(1e3*e.fastestprestige)+"ms",i("sMisc3").textContent=u(e.maxofferings),i("sMisc4").textContent=u(s.runeSum),i("sMisc5").textContent=u(e.transcendCount,0,!0),i("sMisc6").textContent=u(1e3*e.fastesttranscend)+"ms",i("sMisc7").textContent=u(e.reincarnationCount,0,!0),i("sMisc8").textContent=u(1e3*e.fastestreincarnate)+"ms",i("sMisc9").textContent=u(e.maxobtainium),i("sMisc10").textContent=u(e.maxobtainiumpersecond,2,!0),i("sMisc11").textContent=u(e.obtainiumpersecond,2,!0),i("sMisc12").textContent=u(e.ascensionCount,0,!0),i("sMisc13").textContent=u(e.quarksThisSingularity,0,!0),i("sMisc14").textContent=u(e.totalQuarksEver+e.quarksThisSingularity,0,!0),i("sMisc15").textContent=Ut(e.quarkstimer)+" / "+Ut(9e4+18e3*e.researches[195]),i("sMisc16").textContent=li(0)},Ud=()=>{i("sA1").textContent="+"+u(s.freeUpgradeAccelerator,0,!1),i("sA2").textContent="+"+u(s.totalAcceleratorBoost*(4+2*e.researches[18]+2*e.researches[19]+3*e.researches[20]+s.cubeBonusMultiplier[1]),0,!1),i("sA3").textContent="+"+u(Math.floor(Math.pow(s.rune1level*s.effectiveLevelMult/10,1.1)),0,!0),i("sA4").textContent="x"+u(1+s.rune1level*1/200*s.effectiveLevelMult,3,!0),i("sA5").textContent="x"+u(Math.pow(1.01,e.upgrades[21]+e.upgrades[22]+e.upgrades[23]+e.upgrades[24]+e.upgrades[25]),3,!0),i("sA6").textContent="x"+u(Math.pow(1.01,e.achievements[60]+e.achievements[61]+e.achievements[62]),3,!0),i("sA7").textContent="x"+u(1+1/5*e.researches[1],3,!0),i("sA8").textContent="x"+u(1+1/20*e.researches[6]+1/25*e.researches[7]+1/40*e.researches[8]+3/200*e.researches[9]+1/200*e.researches[10],3,!0),i("sA9").textContent="x"+u(1+1/20*e.researches[86],3,!0),i("sA10").textContent="x"+u((e.currentChallenge.transcension!==0||e.currentChallenge.reincarnation!==0)&&e.upgrades[50]>.5?1.25:1,3,!0),i("sA11").textContent="^"+u(Math.min(1,(1+e.platonicUpgrades[6]/30)*s.viscosityPower[e.usedCorruptions[2]]),3,!0),i("sA12").textContent=u(s.freeAccelerator,0,!0)},Bd=()=>{i("sM1").textContent="+"+u(s.freeUpgradeMultiplier,0,!0),i("sM2").textContent="+"+u(Math.floor(Math.floor(s.rune2level/10*s.effectiveLevelMult)*Math.floor(10+s.rune2level/10*s.effectiveLevelMult)/2)*100/100,0,!0),i("sM3").textContent="x"+u(1+s.rune2level/200*s.effectiveLevelMult,3,!0),i("sM4").textContent="x"+u(Math.pow(1.01,e.upgrades[21]+e.upgrades[22]+e.upgrades[23]+e.upgrades[24]+e.upgrades[25])*(1+e.upgrades[34]*3/100)*(1+e.upgrades[34]*(2/103)),3,!0),i("sM5").textContent="x"+u(Math.pow(1.01,e.achievements[57]+e.achievements[58]+e.achievements[59]),3,!0),i("sM6").textContent="x"+u(1+1/5*e.researches[2],3,!0),i("sM7").textContent="x"+u(1+1/20*e.researches[11]+1/25*e.researches[12]+1/40*e.researches[13]+3/200*e.researches[14]+1/200*e.researches[15],3,!0),i("sM8").textContent="x"+u(1+1/20*e.researches[87],3,!0),i("sM9").textContent="x"+u(lt(40,(e.antUpgrades[4]+s.bonusant5)/1e3*40/39),2,!0),i("sM10").textContent="x"+u(s.cubeBonusMultiplier[2],3,!0),i("sM11").textContent="x"+u((e.currentChallenge.transcension!==0||e.currentChallenge.reincarnation!==0)&&e.upgrades[50]>.5?1.25:1,3,!0),i("sM12").textContent="^"+u(Math.min(1,(1+e.platonicUpgrades[6]/30)*s.viscosityPower[e.usedCorruptions[2]]),3,!0),i("sM13").textContent=u(s.freeMultiplier,3,!0)},Rd=()=>{i("sGQM1").textContent="x"+u(1,3,!0),i("sGQM2").textContent="+"+u(e.achievementPoints/25e3,3,!0),i("sGQM3").textContent="+"+u(e.achievements[250]>0?.1:0,3,!0),i("sGQM4").textContent="+"+u(e.achievements[251]>0?.1:0,3,!0),i("sGQM5").textContent="+"+u(e.platonicUpgrades[5]>0?.1:0,3,!0),i("sGQM6").textContent="+"+u(e.platonicUpgrades[10]>0?.15:0,3,!0),i("sGQM7").textContent="+"+u(e.platonicUpgrades[15]>0?.2:0,3,!0),i("sGQM8").textContent="+"+u(s.challenge15Rewards.quarks-1,3,!0),i("sGQM9").textContent="x"+u(e.worlds.applyBonus(1/go()),3,!0),i("sGQM10").textContent="x"+u(s.isEvent?1+ct("Quarks")+ct("One Mind"):1,3,!0),i("sGQM11").textContent="x"+u(1.1+.15/75*jn(),3,!0),i("sGQM12").textContent="x"+u(e.challenge15Exponent>=1e15?1+5/1e4*Ae("quark"):1,3,!0),i("sGQM13").textContent="x"+u(Ur(),3,!0),i("sGQM14").textContent="x"+u(1+e.achievements[266]*Math.min(.1,e.ascensionCount/1e16),3,!0),i("sGQM15").textContent="x"+u(1+e.singularityCount/10,3,!0),i("sGQM16").textContent="x"+u(pi(),3,!0),i("sGQM17").textContent="x"+u(1+.1*e.cubeUpgrades[53]/100,3,!0),i("sGQM18").textContent="x"+u(1+1/1e4*e.cubeUpgrades[68]+.05*Math.floor(e.cubeUpgrades[68]/1e3),3,!0),i("sGQM19").textContent="x"+u(1+.02*e.singularityUpgrades.intermediatePack.level+.04*e.singularityUpgrades.advancedPack.level+.06*e.singularityUpgrades.expertPack.level+.08*e.singularityUpgrades.masterPack.level+.1*e.singularityUpgrades.divinePack.level,3,!0),i("sGQM20").textContent="x"+u(1+.25*+e.octeractUpgrades.octeractStarter.getEffect().bonus,3,!0),i("sGQM21").textContent="x"+u(+e.octeractUpgrades.octeractQuarkGain.getEffect().bonus,3,!0),i("sGQM22").textContent="x"+u(vn(),3,!0),i("sGQM23").textContent="x"+u(1+ +e.singularityUpgrades.singQuarkImprover1.getEffect().bonus,3,!0),i("sGQM24").textContent="x"+u(1+1/1e4*Math.floor(e.octeractUpgrades.octeractQuarkGain.level/199)*e.octeractUpgrades.octeractQuarkGain2.level*Math.floor(1+Math.log10(Math.max(1,e.hepteractCrafts.quark.BAL))),3,!0),i("sGQMT").textContent="x"+u(e.worlds.applyBonus(1),3,!0)},Id=()=>{let t=Le(),n=t.preList;for(let o=0;o<n.length;o++)i(`sGSMa${o+1}`).textContent=`x${u(n[o],3,!0)}`;let r=t.drList;for(let o=0;o<r.length;o++)i(`sGSMb${o+1}`).textContent=`x${u(r[o],3,!0)}`;let a=t.postList;for(let o=0;o<a.length;o++)i(`sGSMc${o+1}`).textContent=`x${u(a[o],3,!0)}`;i("sGSMT").textContent=u(t.mult,3)},Nd=()=>{let t=Dn().list,n={1:{acc:2,desc:"Ascension Time Multiplier:"},2:{acc:2,desc:"Sun and Moon Achievements:"},3:{acc:2,desc:"Speed Achievement:"},4:{acc:2,desc:"Challenge 15 All Cube Bonus:"},5:{acc:2,desc:"Rune 6 - Infinite Ascent:"},6:{acc:2,desc:"Platonic Beta:"},7:{acc:2,desc:"Platonic Omega:"},8:{acc:2,desc:"Overflux Powder:"},9:{acc:2,desc:"Event:"},10:{acc:2,desc:"Singularity Factor:"},11:{acc:2,desc:"Wow Pass Y"},12:{acc:2,desc:"Starter Pack:"},13:{acc:2,desc:"Cube Flame [GQ]:"},14:{acc:2,desc:"Cube Blaze [GQ]:"},15:{acc:2,desc:"Cube Inferno [GQ]:"},16:{acc:2,desc:"Wow Pass Z:"},17:{acc:2,desc:"Cookie Upgrade 16:"},18:{acc:2,desc:"Cookie Upgrade 8:"},19:{acc:2,desc:"Total Octeract Bonus:"},20:{acc:2,desc:"No Singularity Upgrades Challenge:"},21:{acc:2,desc:"Citadel [GQ]"},22:{acc:2,desc:"Citadel 2 [GQ]"},23:{acc:4,desc:"Platonic DELTA"},24:{acc:2,desc:"Wow Pass \u221E"}};for(let k=0;k<t.length;k++){let B=i(`statGCM${k+1}`);B.childNodes[0].textContent=n[k+1].desc,i(`sGCM${k+1}`).textContent=`x${u(t[k],n[k+1].acc,!0)}`}i("sGCMT").textContent=`x${u(Dn().mult,3)}`;let r=Ao().list,a={1:{acc:2,desc:"Ascension Score Multiplier:"},2:{acc:2,desc:"Global Cube Multiplier:"},3:{acc:2,desc:"Season Pass 1:"},4:{acc:2,desc:"Researches (Except 8x25):"},5:{acc:2,desc:"Research 8x25:"},6:{acc:2,desc:"Cube Upgrades:"},7:{acc:2,desc:"Constant Upgrade 10:"},8:{acc:2,desc:"Achievement 189 Bonus:"},9:{acc:2,desc:"Achievement 193 Bonus:"},10:{acc:2,desc:"Achievement 195 Bonus:"},11:{acc:2,desc:"Achievement 198-201 Bonus:"},12:{acc:2,desc:"Achievement 254 Bonus:"},13:{acc:2,desc:"Spirit Power:"},14:{acc:2,desc:"Platonic Cubes:"},15:{acc:2,desc:"Platonic 1x1:"},16:{acc:2,desc:"Cookie Upgrade 13:"}};for(let k=0;k<r.length;k++){let B=i(`statCM${k+1}`);B.childNodes[0].textContent=a[k+1].desc,i(`sCM${k+1}`).textContent=`x${u(r[k],a[k+1].acc,!0)}`}i("sCMT").textContent=`x${u(Ao().mult,3)}`;let o=Oo().list,l={1:{acc:2,desc:"Ascension Score Multiplier:"},2:{acc:2,desc:"Global Cube Multiplier:"},3:{acc:2,desc:"Season Pass 1:"},4:{acc:2,desc:"Constant Upgrade 10:"},5:{acc:2,desc:"Cube Upgrade 3x10:"},6:{acc:2,desc:"Cube Upgrade 4x8:"},7:{acc:2,desc:"Achievement 195 Bonus:"},8:{acc:2,desc:"Achievement 202 Bonus:"},9:{acc:2,desc:"Achievement 205-208 Bonus:"},10:{acc:2,desc:"Achievement 255 Bonus:"},11:{acc:2,desc:"Platonic Cubes:"},12:{acc:2,desc:"Platonic 1x2:"}};for(let k=0;k<o.length;k++){let B=i(`statTeM${k+1}`);B.childNodes[0].textContent=l[k+1].desc,i(`sTeM${k+1}`).textContent=`x${u(o[k],l[k+1].acc,!0)}`}i("sTeMT").textContent=`x${u(Oo().mult,3)}`;let c=Uo().list,g={1:{acc:2,desc:"Ascension Score Multiplier:"},2:{acc:2,desc:"Global Cube Multiplier:"},3:{acc:2,desc:"Season Pass 2:"},4:{acc:2,desc:"Achievement 212-215 Bonus:"},5:{acc:2,desc:"Achievement 216 Bonus:"},6:{acc:2,desc:"Achievement 253 Bonus:"},7:{acc:2,desc:"Achievement 256 Bonus:"},8:{acc:2,desc:"Achievement 265 Bonus:"},9:{acc:2,desc:"Platonic Cubes:"},10:{acc:2,desc:"Platonic 1x3:"},11:{acc:2,desc:"Hyperreal Hepteract Bonus:"}};for(let k=0;k<c.length;k++){let B=i(`statHyM${k+1}`);B.childNodes[0].textContent=g[k+1].desc,i(`sHyM${k+1}`).textContent=`x${u(c[k],g[k+1].acc,!0)}`}i("sHyMT").textContent=`x${u(Uo().mult,3)}`;let d=Bo().list,m={1:{acc:2,desc:"Ascension Score Multiplier:"},2:{acc:2,desc:"Global Cube Multiplier:"},3:{acc:2,desc:"Season Pass 2:"},4:{acc:2,desc:"Achievement 196 Bonus:"},5:{acc:2,desc:"Achievement 219-222 Bonus:"},6:{acc:2,desc:"Achievement 223 Bonus:"},7:{acc:2,desc:"Achievement 257 Bonus:"},8:{acc:2,desc:"Platonic Cubes:"},9:{acc:2,desc:"Platonic 1x4:"}};for(let k=0;k<d.length;k++){let B=i(`statPlM${k+1}`);B.childNodes[0].textContent=m[k+1].desc,i(`sPlM${k+1}`).textContent=`x${u(d[k],m[k+1].acc,!0)}`}i("sPlMT").textContent=`x${u(Bo().mult,3)}`;let h=Ro().list,y={1:{acc:2,desc:"Ascension Score Multiplier:"},2:{acc:2,desc:"Global Cube Multiplier:"},3:{acc:2,desc:"Season Pass 3:"},4:{acc:2,desc:"Achievement 258 Bonus:"},5:{acc:2,desc:"Achievement 264 Bonus:"},6:{acc:2,desc:"Achievement 265 Bonus:"},7:{acc:2,desc:"Achievement 270 Bonus:"}};for(let k=0;k<h.length;k++){let B=i(`statHeM${k+1}`);B.childNodes[0].textContent=y[k+1].desc,i(`sHeM${k+1}`).textContent=`x${u(h[k],y[k+1].acc,!0)}`}i("sHeMT").textContent=`x${u(Ro().mult,3)}`;let b=Jc(),w=e.singularityUpgrades.oneMind.getEffect().bonus?"One Mind Multiplier":"Ascension Speed Multiplier",S={1:{acc:2,desc:"Ascension Score Multiplier:"},2:{acc:2,desc:"Season Pass 3:"},3:{acc:2,desc:"Season Pass Y:"},4:{acc:2,desc:"Season Pass Z:"},5:{acc:2,desc:"Season Pass Lost:"},6:{acc:2,desc:"Cookie Upgrade 20:"},7:{acc:2,desc:"Divine Pack:"},8:{acc:2,desc:"Cube Flame:"},9:{acc:2,desc:"Cube Blaze:"},10:{acc:2,desc:"Cube Inferno:"},11:{acc:2,desc:"Octeract Absinthe"},12:{acc:2,desc:"Pieces of Eight"},13:{acc:2,desc:"Obelisk Shaped Like an Octagon"},14:{acc:2,desc:"Octahedral Synthesis"},15:{acc:2,desc:"Eighth Wonder of the World"},16:{acc:2,desc:"Platonic is a fat sellout"},17:{acc:2,desc:"Octeracts for Dummies"},18:{acc:2,desc:"Octeract Cogenesis"},19:{acc:2,desc:"Octeract Trigenesis"},20:{acc:2,desc:"Singularity Factor"},21:{acc:2,desc:"Digital Octeract Accumulator"},22:{acc:2,desc:"Event Buff"},23:{acc:2,desc:"Platonic DELTA"},24:{acc:2,desc:"No Singularity Upgrades Challenge"},25:{acc:2,desc:"Wow Pass \u221E"},26:{acc:2,desc:w}};for(let k=0;k<b.list.length;k++){let B=i(`statOcM${k+1}`);B.childNodes[0].textContent=S[k+1].desc,i(`sOcM${k+1}`).textContent=`x${u(b.list[k],S[k+1].acc,!0)}`}i("sOcMT").textContent=`x${u(b.mult,3)}`},Dd=()=>{let t=tn("prestige",!1),n={1:{acc:3,desc:"Alchemy Achievement 5:"},2:{acc:3,desc:"Alchemy Achievement 6:"},3:{acc:3,desc:"Alchemy Achievement 7:"},4:{acc:3,desc:"Diamond Upgrade 4x3:"},5:{acc:3,desc:"Particle Upgrade 3x5:"},6:{acc:3,desc:"Auto Offering Shop Upgrade:"},7:{acc:3,desc:"Offering EX Shop Upgrade:"},8:{acc:3,desc:"Cash Grab Shop Upgrade:"},9:{acc:3,desc:"Research 4x10:"},10:{acc:3,desc:"Sacrificium Formicidae:"},11:{acc:3,desc:"Plutus Cube Tribute:"},12:{acc:3,desc:"Constant Upgrade 3:"},13:{acc:3,desc:"Research 6x24,8x4:"},14:{acc:3,desc:"Challenge 12:"},15:{acc:3,desc:"Research 8x25:"},16:{acc:3,desc:"Ascension Count Achievement:"},17:{acc:3,desc:"Sun and Moon Achievements:"},18:{acc:3,desc:"Cube Upgrade 5x6:"},19:{acc:3,desc:"Cube Upgrade 5x10:"},20:{acc:3,desc:"Platonic ALPHA:"},21:{acc:3,desc:"Platonic BETA:"},22:{acc:3,desc:"Platonic OMEGA:"},23:{acc:3,desc:"Challenge 15:"},24:{acc:3,desc:"Starter Pack:"},25:{acc:3,desc:"Offering Charge [GQ]:"},26:{acc:3,desc:"Offering Storm [GQ]:"},27:{acc:3,desc:"Offering Tempest [GQ]:"},28:{acc:3,desc:"Citadel [GQ]"},29:{acc:3,desc:"Citadel 2 [GQ]"},30:{acc:3,desc:"Cube Upgrade Cx4:"},31:{acc:3,desc:"Offering Electrolosis [OC]:"},32:{acc:3,desc:"Event:"}};for(let r=0;r<t.length;r++){let a=i(`statOff${r+1}`);a.childNodes[0].textContent=n[r+1].desc,i(`sOff${r+1}`).textContent=`x${u(t[r],n[r+1].acc,!0)}`}i("sOffT").textContent=`x${u(tn("prestige",!0,!0),3)}`},Hd=()=>{let t=Qt().list,n={1:{acc:2,desc:"Base:"},2:{acc:2,desc:"Challenge 15 Bonus:"},3:{acc:2,desc:"Powder EX:"},4:{acc:2,desc:"Achievement 256:"},5:{acc:2,desc:"Achievement 257:"},6:{acc:2,desc:"Platonic Upgrade 16 [4x1]:"},7:{acc:2,desc:"Event:"}};for(let r=0;r<t.length;r++){let a=i(`statPoM${r+1}`);a.childNodes[0].textContent=n[r+1].desc,i(`sPoM${r+1}`).textContent=`x${u(t[r],n[r+1].acc,!0)}`}i("sPoMT").textContent=`x${u(Qt().mult,3)}`},Gd=()=>{let t=ui(),n={1:{acc:2,desc:"Chronometer:"},2:{acc:2,desc:"Chronometer 2:"},3:{acc:2,desc:"Chronometer 3:"},4:{acc:2,desc:"Chronos Hepteract:"},5:{acc:2,desc:"Achievement 262 Bonus:"},6:{acc:2,desc:"Achievement 263 Bonus:"},7:{acc:2,desc:"Platonic Omega:"},8:{acc:2,desc:"Challenge 15 Reward:"},9:{acc:2,desc:"Cookie Upgrade 9:"},10:{acc:2,desc:"Intermediate Pack:"},11:{acc:2,desc:"Chronometer Z:"},12:{acc:2,desc:"Abstract Photokinetics:"},13:{acc:2,desc:"Abstract Exokinetics:"},14:{acc:2,desc:"Event:"},15:{acc:2,desc:"Ascension Speedup 2 [GQ]:"},16:{acc:2,desc:"Chronometer INF:"},17:{acc:2,desc:"Limited Ascensions Penalty:"},18:{acc:2,desc:"Limited Ascensions Reward:"},19:{acc:2,desc:"Ascension Speedup [GQ]:"},20:{acc:2,desc:"Singularity Penalty:"}};for(let r=0;r<t.list.length;r++){let a=i(`statASM${r+1}`);a.childNodes[0].textContent=n[r+1].desc,i(`sASM${r+1}`).textContent=`x${u(t.list[r],n[r+1].acc,!0)}`}i("sASMT").textContent=`x${u(t.mult,3)}`},$d=()=>{let t=gi(),n={1:{acc:2,desc:"Challenge 15 Exponent:"},2:{acc:2,desc:"Patreon Bonus:"},3:{acc:2,desc:"Golden Quarks I:"},4:{acc:2,desc:"Cookie Upgrade 19:"},5:{acc:2,desc:"No Singularity Upgrades:"},6:{acc:2,desc:"Event:"},7:{acc:2,desc:"Singularity Fast Forwards:"},8:{acc:2,desc:"Golden Revolution II:"},9:{acc:2,desc:"Immaculate Alchemy:"},10:{acc:2,desc:"Total Quarks Coefficient:"}};for(let r=0;r<t.list.length;r++){let a=i(`statGQMS${r+1}`);a.childNodes[0].textContent=n[r+1].desc,i(`sGQMS${r+1}`).textContent=`x${u(t.list[r],n[r+1].acc,!0)}`}i("sGQMST").textContent=`x${u(t.mult,3)}`},Fd=()=>{let t=sr(),n=ga(),r=Br(),a=Io(),o={1:{acc:0,desc:"Base:"},2:{acc:2,desc:"PL-AT \u03B4 calculator:"},3:{acc:2,desc:"PL-AT \u03A3 sing perk:"},4:{acc:2,desc:"Ascension of Ant God:"},5:{acc:2,desc:"Singularity factor:"}};t.list[0]/=1e3;for(let d=0;d<t.list.length;d++){let m=i(`stat+time${d+1}`);m.childNodes[0].textContent=o[d+1].desc,d==0?i(`s+time${d+1}`).textContent=`${u(t.list[d],o[d+1].acc,!0)} sec`:i(`s+time${d+1}`).textContent=`x${u(t.list[d],o[d+1].acc,!0)}`}i("s+timeT").textContent=`${u(t.time/1e3,1)} sec`,r!=n.total?i("s+next").textContent=`+1 in ${u(a,1)} sec`:i("s+next").textContent="";let l={1:{acc:0,desc:"Base:"},2:{acc:0,desc:"PL-AT X:"},3:{acc:0,desc:"PL-AT \u03B4:"},4:{acc:0,desc:"PL-AT \u0393:"},5:{acc:0,desc:"PL-AT _:"},6:{acc:3,desc:"Singularity factor:"}};for(let d=0;d<n.list.length;d++){let m=i(`stat+cap${d+1}`);m.childNodes[0].textContent=l[d+1].desc;let h=d==0?"":d==5?"x":"+";i(`s+cap${d+1}`).textContent=`${h}${u(n.list[d],l[d+1].acc,!0)}`}i("s+capT").textContent=`${u(r,0)} / ${u(n.total,0)}`;let c=ci(),g=e.worlds.applyBonus(1);i("stat+eff1").childNodes[0].textContent="Quarks: ",Math.abs(c.maxQuarks-c.minQuarks)>=.5?i("s+eff1").textContent=`+${u(g*c.minQuarks,3)} ~ ${u(g*c.maxQuarks,3)}`:i("s+eff1").textContent=`+${u(g*c.quarks,3)}`,i("stat+eff2").childNodes[0].textContent="PL-AT X - bonus ascension time: ",i("s+eff2").textContent=`+${u(c.ascensionTimer,2)} sec`,i("stat+eff3").childNodes[0].textContent="PL-AT \u0393 - bonus GQ export time: ",i("s+eff3").textContent=`+${u(c.gqTimer,2)} sec`,i("stat+eff4").childNodes[0].textContent="PL-AT _ - bonus octeract time: ",i("s+eff4").textContent=`+${u(c.octeractTime,2)} sec`},Hn=()=>{let t=[750,1500,3e3,5e3,7500,7500,1e4,1e4,2e4,4e4,6e4,1e5,1e5,2e5,5e5,1e6,3e6,1e7,3e7,1e8,5e8,2e9,1e10,1e11,1e15,2e15,4e15,7e15,1e16,2e16,333e14,333e14,333e14,2e17,15e17],n=Object.keys(s.challenge15Rewards),r=e.challenge15Exponent;for(let a in s.challenge15Rewards)s.challenge15Rewards[a]=1;s.challenge15Rewards.freeOrbs=0,r>=t[0]&&(s.challenge15Rewards[n[0]]=1+1/50*Math.log(r/175)/Math.log(2)),r>=t[1]&&(s.challenge15Rewards[n[1]]=1+1/20*Math.log(r/375)/Math.log(2)),r>=t[2]&&(s.challenge15Rewards[n[2]]=1+1/150*Math.log(r/750)/Math.log(2)),r>=t[3]&&(s.challenge15Rewards[n[3]]=Math.pow(.98,Math.log(r/1250)/Math.log(2))),r>=t[4]&&(s.challenge15Rewards[n[4]]=1+1/5*Math.pow(r/7500,.75)),r>=t[5]&&(s.challenge15Rewards[n[5]]=1+1/5*Math.pow(r/7500,.75)),r>=t[6]&&(s.challenge15Rewards[n[6]]=1+1/20*Math.log(r/2500)/Math.log(2)),r>=t[7]&&(s.challenge15Rewards[n[7]]=1+1/20*Math.log(r/2500)/Math.log(2)),r>=t[8]&&(s.challenge15Rewards[n[8]]=1+Math.pow(r/2e4,1.5)),r>=t[9]&&(s.challenge15Rewards[n[9]]=1+1/33*Math.log(r/1e4)/Math.log(2)),r>=t[10]&&(s.challenge15Rewards[n[10]]=1+1/100*Math.log(r/15e3)/Math.log(2)),r>=t[11]&&(s.challenge15Rewards[n[11]]=Math.pow(.98,Math.log(r/25e3)/Math.log(2))),r>=t[12]&&(s.challenge15Rewards[n[12]]=Math.pow(.98,Math.log(r/25e3)/Math.log(2))),r>=t[13]&&(s.challenge15Rewards[n[13]]=Math.pow(1+Math.log(r/2e5)/Math.log(2),4)),r>=t[14]&&(s.challenge15Rewards[n[14]]=1+1/20*Math.log(r/15e4)/Math.log(2)),r>=t[15]&&(s.challenge15Rewards[n[15]]=1+1/150*Math.log(r/25e4)/Math.log(2)),r>=t[16]&&(s.challenge15Rewards[n[16]]=1+1/20*Math.log(r/75e4)/Math.log(2)),r>=t[17]&&(s.challenge15Rewards[n[17]]=1+1/20*Math.log(r/25e5)/Math.log(2)),r>=t[18]&&(s.challenge15Rewards[n[18]]=1+1/5*Math.pow(r/3e7,1/4)),r>=t[19]&&(s.challenge15Rewards[n[19]]=1+1/5*Math.pow(r/1e8,2/3)),r>=t[20]&&(s.challenge15Rewards[n[20]]=1+1/200*Math.log(r/125e6)/Math.log(2)),r>=t[21]&&(s.challenge15Rewards[n[21]]=1+1/5*Math.pow(r/2e9,1/4)),r>=t[22]&&(s.challenge15Rewards[n[22]]=1+1/4*Math.pow(r/1e10,1/4),r>=1e20&&(s.challenge15Rewards[n[22]]=1+1/4*Math.pow(r/1e10,1/8)*Math.pow(1e10,1/8))),r>=t[23]&&(s.challenge15Rewards[n[23]]=1+1/100*Math.log(r*32/1e11)/Math.log(2)),r>=t[24]&&(s.challenge15Rewards[n[24]]=2),r>=t[25]&&e.hepteractCrafts.challenge.unlock("the Hepteract of Challenge"),r>=t[26]&&(s.challenge15Rewards[n[25]]=1+1/300*Math.log2(r/(4e15/1024))),r>=t[27]&&(s.challenge15Rewards[n[26]]=1+1/50*Math.log2(r/(7e15/32))),r>=t[28]&&e.hepteractCrafts.abyss.unlock("the Hepteract of the Abyss"),r>=t[29]&&(s.challenge15Rewards[n[27]]=je(1.05,r,1e18)),r>=t[30]&&e.hepteractCrafts.accelerator.unlock("the Hepteract of Way Too Many Accelerators"),r>=t[31]&&e.hepteractCrafts.acceleratorBoost.unlock("the Hepteract of Way Too Many Accelerator Boosts"),r>=t[32]&&e.hepteractCrafts.multiplier.unlock("the Hepteract of Way Too Many Multipliers"),r>=t[33]&&(s.challenge15Rewards.freeOrbs=Math.floor(200*Math.pow(r/2e17,.5))),r>=t[34]&&(s.challenge15Rewards.ascensionSpeed=1+5/100+2*Math.log2(r/15e17)/100),Qd()},Qd=()=>{i("c15Reward0Num").textContent=u(e.challenge15Exponent,3,!0),i("c15RequiredExponentNum").textContent=u(f.pow(10,e.challenge15Exponent/da()),0,!0);let t=[750,1500,3e3,5e3,7500,7500,1e4,1e4,2e4,4e4,6e4,1e5,1e5,2e5,5e5,1e6,3e6,1e7,3e7,1e8,5e8,2e9,1e10,1e11,1e15,2e15,4e15,7e15,1e16,2e16,333e14,333e14,333e14,2e17,15e17],n={0:!0,1:!0,2:!0,3:!0,4:!0,5:!0,6:!0,7:!0,8:!0,9:!0,10:!0,11:!0,12:!0,13:!0,14:!0,15:!0,16:!0,17:!0,18:!0,19:!0,20:!0,21:!0,22:!0,23:!0,24:!1,25:!1,26:!0,27:!0,28:!1,29:!0,30:!1,31:!1,32:!1,33:!0,34:!0},r=Object.values(s.challenge15Rewards),a="None",o=0;for(let l=0;l<t.length;l++)a==="None"&&e.challenge15Exponent<t[l]&&(a=t[l]),e.challenge15Exponent>=t[l]&&(i("c15Reward"+(l+1)+"Num").textContent=n[l]?u(100*r[l-o]-100,2,!0):"Unlocked!",!n[l]&&l!==24&&(o+=1),l===33&&(i("c15Reward34Num").textContent=u(r[l-o],0,!0))),i("c15Reward"+(l+1)).style.display=e.challenge15Exponent>=t[l]?"block":"none",i("c15RewardList").textContent=typeof a=="string"?"You have unlocked all reward types from Challenge 15!":"Next reward type requires "+u(a,0,!0)+" exponent."},_d=()=>[{stage:0,tier:1,name:"start",unlocked:!0,reset:!0},{stage:1,tier:1,name:"start-prestige",unlocked:e.unlocks.prestige===!0,reset:e.unlocks.prestige},{stage:2,tier:2,name:"prestige-transcend",unlocked:e.unlocks.transcend===!0,reset:e.unlocks.transcend},{stage:3,tier:3,name:"transcend-reincarnate",unlocked:e.unlocks.reincarnate===!0,reset:e.unlocks.reincarnate},{stage:4,tier:4,name:"reincarnate-ant",unlocked:e.firstOwnedAnts!==0,reset:e.unlocks.reincarnate},{stage:5,tier:4,name:"ant-sacrifice",unlocked:e.achievements[173]===1,reset:e.unlocks.reincarnate},{stage:6,tier:4,name:"sacrifice-ascension",unlocked:e.achievements[183]===1,reset:e.unlocks.reincarnate},{stage:7,tier:5,name:"ascension-challenge10",unlocked:e.ascensionCount>1,reset:e.achievements[183]===1},{stage:8,tier:5,name:"challenge10-challenge11",unlocked:e.achievements[197]===1,reset:e.achievements[183]===1},{stage:9,tier:5,name:"challenge11-challenge12",unlocked:e.achievements[204]===1,reset:e.achievements[183]===1},{stage:10,tier:5,name:"challenge12-challenge13",unlocked:e.achievements[211]===1,reset:e.achievements[183]===1},{stage:11,tier:5,name:"challenge13-challenge14",unlocked:e.achievements[218]===1,reset:e.achievements[183]===1},{stage:12,tier:5,name:"challenge14-w5x10max",unlocked:e.cubeUpgrades[50]>=1e5,reset:e.achievements[183]===1},{stage:13,tier:5,name:"w5x10max-alpha",unlocked:e.platonicUpgrades[5]>0,reset:e.achievements[183]===1},{stage:14,tier:5,name:"alpha-p2x1x10",unlocked:e.platonicUpgrades[6]>=10,reset:e.achievements[183]===1},{stage:15,tier:5,name:"p2x1x10-p3x1",unlocked:e.platonicUpgrades[11]>0,reset:e.achievements[183]===1},{stage:16,tier:5,name:"p3x1-beta",unlocked:e.platonicUpgrades[10]>0,reset:e.achievements[183]===1},{stage:17,tier:5,name:"beta-1e15-expo",unlocked:e.challenge15Exponent>=1e15,reset:e.achievements[183]===1},{stage:18,tier:5,name:"1e15-expo-omega",unlocked:e.platonicUpgrades[15]>0,reset:e.achievements[183]===1},{stage:19,tier:5,name:"omega-singularity",unlocked:e.singularityCount>0&&e.runelevels[6]>0,reset:e.achievements[183]===1},{stage:20,tier:6,name:"singularity-liquidation",unlocked:e.singularityUpgrades.wowPass2.level>0,reset:e.highestSingularityCount>0},{stage:21,tier:6,name:"liquidation-onemind",unlocked:e.singularityUpgrades.oneMind.level>0,reset:e.highestSingularityCount>0},{stage:22,tier:6,name:"onemind-bbshards",unlocked:e.singularityUpgrades.offeringAutomatic.level>0,reset:e.highestSingularityCount>0},{stage:23,tier:6,name:"bbshards-pen",unlocked:e.singularityUpgrades.ultimatePen.level>0,reset:e.highestSingularityCount>0},{stage:24,tier:6,name:"pen",unlocked:!1,reset:e.highestSingularityCount>0}],li=(t=e.singularityCount>0?5:0)=>{let n=_d();for(let a=0;a<n.length;a++){let o=n[a];if(t<o.tier&&(o.reset===!1||o.unlocked===!1))return o.name}return n[0].name};var tu=()=>{if(s.currentTab==="buildings"){if(s.buildingSubTab==="coin"){let t=["produceFirst","produceSecond","produceThird","produceFourth","produceFifth"],n=[null,"workers","investments","printers","coinMints","alchemies"],r=new f(s.produceTotal);r.equals(0)&&(r=new f(1));for(let o=1;o<=5;o++){let l=s[t[o-1]],c=s.ordinals[o-1];i(`buildtext${2*o-1}`).textContent=p.t(`buildings.names.${n[o]}`,{amount:u(e[`${c}OwnedCoin`],0,!0),gain:u(e[`${c}GeneratedCoin`])}),i("buycoin"+o).textContent=p.t("buildings.costCoins",{coins:u(e[`${c}CostCoin`])});let g=f.fromMantissaExponent(l.mantissa/r.mantissa,l.exponent-r.exponent).times(100);i("buildtext"+2*o).textContent=p.t("buildings.coinsPerSecond",{coins:u(l.dividedBy(s.taxdivisor).times(40),2),percent:u(g,3)})}i("buildtext11").textContent=p.t("buildings.names.accelerators",{amount:u(e.acceleratorBought,0,!0),gain:u(s.freeAccelerator,0,!0)}),i("buildtext12").textContent=p.t("buildings.acceleratorPower",{power:u((s.acceleratorPower-1)*100,2),mult:u(s.acceleratorEffect,2)}),i("buildtext13").textContent=p.t("buildings.names.multipliers",{amount:u(e.multiplierBought,0,!0),gain:u(s.freeMultiplier,0,!0)}),i("buildtext14").textContent=p.t("buildings.multiplierPower",{power:u(s.multiplierPower,2),mult:u(s.multiplierEffect,2)}),i("buildtext15").textContent=p.t("buildings.names.acceleratorBoost",{amount:u(e.acceleratorBoostBought,0,!0),gain:u(s.freeAcceleratorBoost,0,!1)}),i("buildtext16").textContent=p.t("buildings.acceleratorBoost",{amount:u(s.tuSevenMulti*(1+e.researches[16]/50)*(1+j("transcend",e.challengecompletions[2])/100),2)}),i("buyaccelerator").textContent=p.t("buildings.costCoins",{coins:u(e.acceleratorCost)}),i("buymultiplier").textContent=p.t("buildings.costCoins",{coins:u(e.multiplierCost)}),i("buyacceleratorboost").textContent=p.t("buildings.costDiamonds",{diamonds:u(e.acceleratorBoostCost)});let a="";e.reincarnationCount>.5&&(a=p.t("buildings.taxWarning",{gain:u(f.pow(10,s.maxexponent-f.log(s.taxdivisorcheck,10)))})),i("taxinfo").textContent=p.t("buildings.excessiveWealth",{div:u(s.taxdivisor,2),warning:a})}else if(s.buildingSubTab==="diamond"){let t=["produceFirstDiamonds","produceSecondDiamonds","produceThirdDiamonds","produceFourthDiamonds","produceFifthDiamonds"],n=["refineries","coalPlants","coalRigs","pickaxes","pandorasBoxes"],r=["crystal","ref","plants","rigs","pickaxes"];i("prestigeshardinfo").textContent=p.t("buildings.crystalMult",{crystals:u(e.prestigeShards,2),gain:u(s.prestigeMultiplier,2)});for(let a=1;a<=5;a++){let o=s[t[a-1]],l=s.ordinals[a-1];i("prestigetext"+(2*a-1)).textContent=p.t(`buildings.names.${n[a-1]}`,{amount:u(e[`${l}OwnedDiamonds`],0,!0),gain:u(e[`${l}GeneratedDiamonds`],2)}),i("prestigetext"+2*a).textContent=p.t(`buildings.per.${r[a-1]}`,{amount:u(o.times(40),2)}),i("buydiamond"+a).textContent=p.t("buildings.costDiamonds",{diamonds:u(e[`${l}CostDiamonds`],2)})}if(e.resettoggle1===1||e.resettoggle1===0){let a=f.pow(10,f.log(s.prestigePointGain.add(1),10)-f.log(e.prestigePoints.sub(1),10));i("autoprestige").textContent=p.t("buildings.autoPrestige",{name:"Diamonds",action:"Prestige",factor:u(f.pow(10,e.prestigeamount)),mult:u(a)})}else e.resettoggle1===2&&(i("autoprestige").textContent=p.t("buildings.autoReincarnate",{name:"Prestige",amount:e.prestigeamount,timer:u(s.autoResetTimers.prestige,1)}))}else if(s.buildingSubTab==="mythos"){let t=["produceFirstMythos","produceSecondMythos","produceThirdMythos","produceFourthMythos","produceFifthMythos"],n=["augments","enchantments","wizards","oracles","grandmasters"],r=["shards","augments","enchantments","wizards","oracles"];i("transcendshardinfo").textContent=p.t("buildings.mythosYouHave",{shards:u(e.transcendShards,2),mult:u(s.totalMultiplierBoost,0,!0)});for(let a=1;a<=5;a++){let o=s[t[a-1]],l=s.ordinals[a-1];i("transcendtext"+(2*a-1)).textContent=p.t(`buildings.names.${n[a-1]}`,{amount:u(e[`${l}OwnedMythos`],0,!0),gain:u(e[`${l}GeneratedMythos`],2)}),i("transcendtext"+2*a).textContent=p.t(`buildings.per.${r[a-1]}`,{amount:u(o.times(40),2)}),i(`buymythos${a}`).textContent=p.t("buildings.costMythos",{mythos:u(e[`${l}CostMythos`],2)})}(e.resettoggle2===1||e.resettoggle2===0)&&(i("autotranscend").textContent=p.t("buildings.autoPrestige",{name:"Mythos",action:"Prestige",factor:u(f.pow(10,e.transcendamount)),mult:u(f.pow(10,f.log(s.transcendPointGain.add(1),10)-f.log(e.transcendPoints.add(1),10)),2)})),e.resettoggle2===2&&(i("autotranscend").textContent="Transcend when the autotimer is at least "+e.transcendamount+" real-life seconds. [Toggle number above]. Current timer: "+u(s.autoResetTimers.transcension,1)+"s.")}else if(s.buildingSubTab==="particle"){let t=["FirstParticles","SecondParticles","ThirdParticles","FourthParticles","FifthParticles"],n=["protons","elements","pulsars","quasars","galacticNuclei"],r=["atoms","protons","elements","pulsars","quasars"];for(let a=1;a<=5;a++){let o=s.ordinals[a-1],l=s[`produce${t[a-1]}`];i(`reincarnationtext${a}`).textContent=p.t(`buildings.names.${n[a-1]}`,{amount:u(e[`${o}OwnedParticles`],0,!0),gain:u(e[`${o}GeneratedParticles`],2)}),i(`reincarnationtext${a+5}`).textContent=p.t(`buildings.per.${r[a-1]}`,{amount:u(l.times(40),2)}),i(`buyparticles${a}`).textContent=p.t("buildings.costParticles",{particles:u(e[`${o}CostParticles`],2)})}i("reincarnationshardinfo").textContent=p.t("buildings.atomsYouHave",{atoms:u(e.reincarnationShards,2),power:u(s.buildingPower,4),mult:u(s.reincarnationMultiplier)}),i("reincarnationCrystalInfo").textContent=p.t("buildings.thanksR2x14",{mult:u(f.pow(s.reincarnationMultiplier,1/50),3,!1)}),i("reincarnationMythosInfo").textContent=p.t("buildings.thanksR2x15",{mult:u(f.pow(s.reincarnationMultiplier,1/250),3,!1)}),e.resettoggle3===1||e.resettoggle3===0?i("autoreincarnate").textContent=p.t("buildings.autoPrestige",{name:"Particles",action:"Reincarnate",factor:u(f.pow(10,e.reincarnationamount)),mult:u(f.pow(10,f.log(s.reincarnationPointGain.add(1),10)-f.log(e.reincarnationPoints.add(1),10)),2)}):e.resettoggle3===2&&(i("autoreincarnate").textContent=p.t("buildings.autoReincarnate",{name:"Reincarnate",amount:e.reincarnationamount,timer:u(s.autoResetTimers.reincarnation,1)}))}else if(s.buildingSubTab==="tesseract"){let t=["dot","vector","threeSpace","bentTime","hilbertSpace"],n=["constant","dot","vector","threeSpace","bentTime"];for(let r=1;r<=5;r++){let a=`ascendBuilding${r}`;i("ascendText"+r).textContent=p.t(`buildings.names.${t[r-1]}`,{amount:u(e[a].owned,0,!0),gain:u(e[a].generated,2)}),i("ascendText"+(5+r)).textContent=p.t(`buildings.per.${n[r-1]}`,{amount:u(s.ascendBuildingProduction[s.ordinals[r-1]],2)}),i("buyTesseracts"+r).textContent=p.t("buildings.costTesseracts",{tesseracts:u(e[a].cost,0)})}i("tesseractInfo").textContent=p.t("buildings.tesseractsYouHave",{tesseracts:u(e.wowTesseracts)}),i("ascendShardInfo").textContent=p.t("buildings.constantYouHave",{const:u(e.ascendShards,2),amount:u(Math.pow(f.log(e.ascendShards.add(1),10)+1,1+.2/60*e.challengecompletions[10]*e.upgrades[125]+.1*e.platonicUpgrades[5]+.2*e.platonicUpgrades[10]+(s.platonicBonusMultiplier[5]-1)),4,!0)}),e.resettoggle4===1||e.resettoggle4===0?i("autotessbuyeramount").textContent=p.t("buildings.autoTesseract",{tesseracts:u(e.tesseractAutoBuyerAmount)}):e.resettoggle4===2&&(i("autotessbuyeramount").textContent=p.t("buildings.autoAscensionTesseract",{percent:u(Math.min(100,e.tesseractAutoBuyerAmount))}))}}},nu=()=>{},ru=()=>{},au=()=>{if(s.currentTab==="runes"){if(s.runescreen==="runes"){let t=["rune1Talisman","rune2Talisman","rune3Talisman","rune4Talisman","rune5Talisman"];i("offeringCount").textContent=p.t("runes.offeringsYouHave",{offerings:u(e.runeshards,0,!0)});for(let a=1;a<=7;a++){let o=s[t[a-1]];a>5&&(o=0);let l=e.runelevels[a-1],c=Be(a);i(`rune${a}level`).childNodes[0].textContent=p.t("cubes.cubeMetadata.level",{value1:u(l),value2:u(c)}),l<c?i(`rune${a}exp`).textContent=p.t("runes.TNL",{EXP:u(cn(a-1)-e.runeexp[a-1],2)}):i(`rune${a}exp`).textContent=p.t("runes.maxLevel"),a<=5?i(`bonusrune${a}`).textContent=p.t("runes.bonusAmount",{x:u(7*e.constantUpgrades[7]+Math.min(1e7,e.antUpgrades[8]+s.bonusant9)+o)}):i(`bonusrune${a}`).textContent=p.t("runes.bonusNope"),ot(a,!1)}let n=fi(),r=le([1*n,Math.min(1,e.highestchallengecompletions[1]),.4/10*e.highestchallengecompletions[1],.6*e.researches[22],.3*e.researches[23],2*e.upgrades[61]]);i("offeringExperienceValue").textContent=p.t("runes.gainExp",{amount:u(r,2,!0)}),i("offeringRecycleInfo").textContent=p.t("runes.recycleChance",{percent:u((1-1/n)*100,2,!0),mult:u(n,2,!0)})}if(s.runescreen==="talismans")for(let t=0;t<7;t++){let n=Zr(t);i(`talisman${t+1}level`).textContent=(e.ascensionCount>0?"":"Level ")+u(e.talismanLevels[t])+"/"+u(n)}if(s.runescreen==="blessings"){let t=[0,8,10,6.66,2,1],n=0;for(let r=1;r<=5;r++){i(`runeBlessingLevel${r}Value`).innerHTML=p.t("runes.blessings.blessingLevel",{amount:u(e.runeBlessingLevels[r])}),i(`runeBlessingPower${r}Value1`).innerHTML=p.t("runes.blessings.blessingPower",{reward:p.t(`runes.blessings.rewards.${r-1}`),value:u(s.runeBlessings[r]),speed:u(1-n+t[r]*s.effectiveRuneBlessingPower[r],4,!0)});let a=Ln(e.runeBlessingLevels[r],s.blessingBaseCost,e.runeshards,e.runeBlessingBuyAmount)[0]-e.runeBlessingLevels[r];a>0?i(`runeBlessingPurchase${r}`).classList.add("runeButtonsAvailable"):i(`runeBlessingPurchase${r}`).classList.remove("runeButtonsAvailable"),i(`runeBlessingPurchase${r}`).innerHTML=p.t("runes.blessings.increaseLevel",{amount:u(Math.max(1,a)),offerings:u(Math.max(s.blessingBaseCost*(1+e.runeBlessingLevels[r]),Ln(e.runeBlessingLevels[r],s.blessingBaseCost,e.runeshards,e.runeBlessingBuyAmount)[1]))}),r===5&&(n=1)}}if(s.runescreen==="spirits"){let t=[0,1,1,20,1,100],n=[0,0,0,1,0,0];for(let r=1;r<=5;r++){t[r]*=_e()/400,i(`runeSpiritLevel${r}Value`).innerHTML=p.t("runes.spirits.spiritLevel",{amount:u(e.runeSpiritLevels[r])}),i(`runeSpiritPower${r}Value1`).innerHTML=p.t("runes.spirits.spiritPower",{reward:p.t(`runes.spirits.rewards.${r-1}`),value:u(s.runeSpirits[r]),speed:u(1-n[r]+t[r]*s.effectiveRuneSpiritPower[r],4,!0)});let a=Ln(e.runeSpiritLevels[r],s.spiritBaseCost,e.runeshards,e.runeSpiritBuyAmount)[0]-e.runeSpiritLevels[r];a>0?i(`runeSpiritPurchase${r}`).classList.add("runeButtonsAvailable"):i(`runeSpiritPurchase${r}`).classList.remove("runeButtonsAvailable"),i(`runeSpiritPurchase${r}`).innerHTML=p.t("runes.blessings.increaseLevel",{amount:u(Math.max(1,a)),offerings:u(Math.max(s.spiritBaseCost*(1+e.runeSpiritLevels[r]),Ln(e.runeSpiritLevels[r],s.spiritBaseCost,e.runeshards,e.runeSpiritBuyAmount)[1]))})}}}},ou=()=>{s.currentTab==="challenges"&&e.researches[150]>0&&(i("autoIncrementerAmount").innerHTML=p.t("challenges.autoTimer",{time:u(s.autoChallengeTimerIncrement,2)}))},No=()=>{s.currentTab==="researches"&&e.researches[61]>0&&(i("automaticobtainium").textContent=p.t("researches.thanksToResearches",{x:u(ha()*Le().mult,3,!0)}))},su=()=>{if(s.currentTab!=="ants")return;i("crumbcount").textContent=p.t("ants.youHaveGalacticCrumbs",{x:u(e.antPoints,2),y:u(s.antOneProduce,2),z:u(f.pow(f.max(1,e.antPoints),1e5+lt(499e5,(e.antUpgrades[1]+s.bonusant2)/5e3*500/499)))});let t=e.autoAntSacrificeMode===2?p.t("ants.modeRealTime"):p.t("ants.modeInGameTime"),n=e.autoAntSacrificeMode===2?e.antSacrificeTimerReal:e.antSacrificeTimer;i("autoAntSacrifice").textContent=p.t("ants.sacrificeWhenTimer",{x:e.autoAntSacTimer,y:t,z:u(n,2)}),e.achievements[173]===1&&(i("antSacrificeTimer").textContent=Ut(e.antSacrificeTimer),qc())},Do=()=>{if(s.currentTab!=="cubes")return;let t=e.shopUpgrades.cubeToQuark?1.5:1,n=e.shopUpgrades.tesseractToQuark?1.5:1,r=e.shopUpgrades.hypercubeToQuark?1.5:1,a=1.5,o={cube:Number(e.wowCubes.checkCubesToNextQuark(5,t,e.cubeQuarkDaily,e.cubeOpenedDaily)),tesseract:Number(e.wowTesseracts.checkCubesToNextQuark(7,n,e.tesseractQuarkDaily,e.tesseractOpenedDaily)),hypercube:Number(e.wowHypercubes.checkCubesToNextQuark(10,r,e.hypercubeQuarkDaily,e.hypercubeOpenedDaily)),platonicCube:Number(e.wowPlatonicCubes.checkCubesToNextQuark(15,a,e.platonicCubeQuarkDaily,e.platonicCubeOpenedDaily))},l=Object.keys(o);for(let g of l)i(`${g}QuarksToday`).innerHTML=p.t(`wowCubes.quarks.${g}QuarksToday`,{amount:u(e[`${g}QuarkDaily`])}),i(`${g}QuarksOpenToday`).innerHTML=p.t(`wowCubes.quarks.${g}QuarksOpenToday`,{amount:u(e[`${g}OpenedDaily`])}),i(`${g}QuarksOpenRequirement`).innerHTML=p.t(`wowCubes.quarks.${g}QuarksOpenRequirement`,{amount:u(Math.max(1,o[g]))}),i(`${g}QuarksOpenRequirement`).style.color=Math.max(1,o[g])===1?"gold":"white";let c;switch(e.subtabNumber){case 0:{e.autoOpenCubes&&(i("openCubes").textContent=p.t("wowCubes.autoOn",{percent:u(e.openCubes,0)})),i("cubeQuantity").innerHTML=p.t("wowCubes.cubes.inventory",{amount:u(e.wowCubes,0,!0)});let g=[null,e.cubeBlessings.accelerator,e.cubeBlessings.multiplier,e.cubeBlessings.offering,e.cubeBlessings.runeExp,e.cubeBlessings.obtainium,e.cubeBlessings.antSpeed,e.cubeBlessings.antSacrifice,e.cubeBlessings.antELO,e.cubeBlessings.talismanBonus,e.cubeBlessings.globalSpeed];c=[null,2,2,2,2,2,2,2,1,4,3];for(let d=1;d<=10;d++){let m=0;g[d]>=1e3&&d!==6&&(m+=2);let h=d===1||d===8||d===9?1:100;i(`cube${d}Bonus`).innerHTML=p.t(`wowCubes.cubes.items.${d}`,{amount:u(g[d],0,!0),bonus:u(h*(s.cubeBonusMultiplier[d]-1),c[d]+m,!0)})}i("cubeBlessingsTotal").innerHTML=p.t("wowCubes.cubes.total",{amount:u(le(g.slice(1)),0,!0)});break}case 1:{e.autoOpenTesseracts&&(i("openTesseracts").textContent=p.t("wowCubes.autoOn",{percent:u(e.openTesseracts,0)})),i("tesseractQuantity").innerHTML=p.t("wowCubes.tesseracts.inventory",{amount:u(e.wowTesseracts,0,!0)});let g=[null,e.tesseractBlessings.accelerator,e.tesseractBlessings.multiplier,e.tesseractBlessings.offering,e.tesseractBlessings.runeExp,e.tesseractBlessings.obtainium,e.tesseractBlessings.antSpeed,e.tesseractBlessings.antSacrifice,e.tesseractBlessings.antELO,e.tesseractBlessings.talismanBonus,e.tesseractBlessings.globalSpeed];c=[null,2,2,2,2,2,2,2,2,2,2];for(let d=1;d<=10;d++){let m=0;g[d]>=1e3&&d!==6&&(m+=2),i(`tesseract${d}Bonus`).innerHTML=p.t(`wowCubes.tesseracts.items.${d}`,{amount:u(g[d],0,!0),bonus:u(100*(s.tesseractBonusMultiplier[d]-1),c[d]+m,!0)})}i("tesseractBlessingsTotal").innerHTML=p.t("wowCubes.tesseracts.total",{amount:u(le(g.slice(1)),0,!0)});break}case 2:{e.autoOpenHypercubes&&(i("openHypercubes").textContent=p.t("wowCubes.autoOn",{percent:u(e.openHypercubes,0)})),i("hypercubeQuantity").innerHTML=p.t("wowCubes.hypercubes.inventory",{amount:u(e.wowHypercubes,0,!0)});let g=[null,e.hypercubeBlessings.accelerator,e.hypercubeBlessings.multiplier,e.hypercubeBlessings.offering,e.hypercubeBlessings.runeExp,e.hypercubeBlessings.obtainium,e.hypercubeBlessings.antSpeed,e.hypercubeBlessings.antSacrifice,e.hypercubeBlessings.antELO,e.hypercubeBlessings.talismanBonus,e.hypercubeBlessings.globalSpeed];c=[null,2,2,2,2,2,2,2,2,2,2];for(let d=1;d<=10;d++){let m=0;g[d]>=1e3&&(m+=2),i(`hypercube${d}Bonus`).innerHTML=p.t(`wowCubes.hypercubes.items.${d}`,{amount:u(g[d],0,!0),bonus:u(100*(s.hypercubeBonusMultiplier[d]-1),c[d]+m,!0)})}i("hypercubeBlessingsTotal").innerHTML=p.t("wowCubes.hypercubes.total",{amount:u(le(g.slice(1)),0,!0)});break}case 3:{e.autoOpenPlatonicsCubes&&(i("openPlatonicCube").textContent=p.t("wowCubes.autoOn",{percent:u(e.openPlatonicsCubes,0)})),i("platonicQuantity").innerHTML=p.t("wowCubes.platonics.inventory",{amount:u(e.wowPlatonicCubes,0,!0)});let g=[e.platonicBlessings.cubes,e.platonicBlessings.tesseracts,e.platonicBlessings.hypercubes,e.platonicBlessings.platonics,e.platonicBlessings.hypercubeBonus,e.platonicBlessings.taxes,e.platonicBlessings.scoreBonus,e.platonicBlessings.globalSpeed],d=[4e6,4e6,4e6,8e4,1e4,1e4,1e4,1e4];c=[5,5,5,5,2,3,3,2];for(let m=0;m<g.length;m++){let h=0;g[m]>=d[m]&&(h+=1),i(`platonicCube${m+1}Bonus`).innerHTML=p.t(`wowCubes.platonics.items.${m+1}`,{amount:u(g[m],0,!0),bonus:u(100*(s.platonicBonusMultiplier[m]-1),c[m]+h,!0)})}i("platonicBlessingsTotal").innerHTML=p.t("wowCubes.platonics.total",{amount:u(le(g),0,!0)});break}case 4:i("cubeAmount2").textContent=`You have ${u(e.wowCubes,0,!0)} Wow! Cubes =)`;break;case 5:break;case 6:i("hepteractQuantity").innerHTML=p.t("wowCubes.hepteractForge.youPossessHepteracts",{x:u(e.wowAbyssals,0,!0)}),Vc.forEach(g=>{qd(g)}),i("heptGridOrbBalance").textContent=u(e.overfluxOrbs),i("heptGridOrbEffect").textContent=u(100*(-1+En()),2,!0)+"%",i("heptGridPowderBalance").textContent=u(e.overfluxPowder),i("heptGridPowderWarps").textContent=u(e.dailyPowderResetUses);break;default:break}},qd=t=>{let n=t+"ProgressBarText",r=t+"ProgressBar",a=i(n),o=i(r);if(!e.hepteractCrafts[t].UNLOCKED)a.textContent="LOCKED",o.style.width="100%",o.style.backgroundColor="var(--hepteract-bar-red)";else{let c=e.hepteractCrafts[t].BAL,g=e.hepteractCrafts[t].computeActualCap(),d=Math.round(c/g*100),m="";d<34?m="var(--hepteract-bar-red)":d>=34&&d<68?m="var(--hepteract-bar-yellow)":m="var(--hepteract-bar-green)",a.textContent=u(c)+" / "+u(g),o.style.width=d+"%",o.style.backgroundColor=m}},iu=()=>{if(s.currentTab!=="traits")return;let t=en(),n=fa();i("autoAscend").innerHTML=e.autoAscendMode==="c10Completions"?p.t("corruptions.autoAscend.c10Completions",{input:u(e.autoAscendThreshold),completions:u(e.challengecompletions[10])}):p.t("corruptions.autoAscend.realTime",{input:u(e.autoAscendThreshold),time:u(e.ascensionCounterRealReal)}),i("corruptionBank").innerHTML=p.t("corruptions.corruptionBank",{number:u(t[0],0,!0)}),i("corruptionScore").innerHTML=p.t("corruptions.corruptionScore",{ascScore:u(t[1],1,!0),corrMult:u(t[2],1,!0),bonusMult:u(t[9],2,!0),totalScore:u(t[3],1,!0)}),i("corruptionCubes").innerHTML=p.t("corruptions.corruptionCubes",{cubeAmount:u(t[4],0,!0)}),i("corruptionTesseracts").innerHTML=p.t("corruptions.corruptionTesseracts",{tesseractAmount:u(t[5],0,!0)}),i("corruptionHypercubes").innerHTML=p.t("corruptions.corruptionHypercubes",{hypercubeAmount:u(t[6],0,!0)}),i("corruptionPlatonicCubes").innerHTML=p.t("corruptions.corruptionPlatonics",{platonicAmount:u(t[7],0,!0)}),i("corruptionHepteracts").innerHTML=p.t("corruptions.corruptionHepteracts",{hepteractAmount:u(t[8],0,!0)}),i("corruptionAntExponent").innerHTML=p.t("corruptions.antExponent",{exponent:u((1-.9/90*le(e.usedCorruptions))*s.extinctionMultiplier[e.usedCorruptions[7]],3)}),i("corruptionSpiritBonus").innerHTML=p.t("corruptions.spiritBonus",{multiplier:u(_e()/400,2,!0)}),i("corruptionAscensionCount").style.display=n>1?"block":"none",n>1&&(i("corruptionAscensionCount").innerHTML=p.t("corruptions.ascensionCount",{ascCount:u(fa())}))},lu=()=>{if(s.currentTab==="settings"){if(e.subtabNumber===0){i("saveString").textContent=p.t("settings.currently",{x:e.saveString.replace("$VERSION$","v"+At)});let t=it(),n=t.gain,r=t.capacity,a=1;a*=1+e.worlds.BONUS/100,a*=e.highestSingularityCount>=100?1+e.highestSingularityCount/50:1,i("quarktimerdisplay").textContent=p.t("settings.exportQuark",{x:u(3600/t.perHour-e.quarkstimer%(3600.00001/t.perHour),2),y:e.worlds.toString(1)}),i("quarktimeramount").textContent=p.t("settings.quarksOnExport",{x:e.worlds.toString(n),y:e.worlds.toString(r)}),i("goldenQuarkTimerDisplay").textContent=p.t("settings.exportGoldenQuark",{x:u(3600/Math.max(1,+e.singularityUpgrades.goldenQuarks3.getEffect().bonus)-e.goldenQuarksTimer%(3600.00001/Math.max(1,+e.singularityUpgrades.goldenQuarks3.getEffect().bonus))),y:u(a,2,!0)}),i("goldenQuarkTimerAmount").textContent=p.t("settings.goldenQuarksOnExport",{x:u(Math.floor(e.goldenQuarksTimer*+e.singularityUpgrades.goldenQuarks3.getEffect().bonus/3600)*a,2),y:u(Math.floor(168*+e.singularityUpgrades.goldenQuarks3.getEffect().bonus*a))})}e.subtabNumber===3&&Zc()}},cu=()=>{if(s.currentTab==="singularity"){if(e.subtabNumber===0){i("goldenQuarkamount").textContent=p.t("singularity.goldenQuarkAmount",{goldenQuarks:u(e.goldenQuarks,0,!0)});let t=Object.keys(e.singularityUpgrades),n=s.shopEnhanceVision;for(let r of t){if(r==="offeringAutomatic")continue;let a=e.singularityUpgrades[r],o=i(`${String(r)}`);a.maxLevel!==-1&&a.level>=a.computeMaxLevel()?o.style.filter=n?"brightness(.9)":"none":a.getCostTNL()>e.goldenQuarks||e.singularityCount<a.minimumSingularity?o.style.filter=n?"grayscale(.9) brightness(.8)":"none":(a.maxLevel===-1||a.level<a.computeMaxLevel())&&(a.freeLevels>a.level?o.style.filter=n?"blur(1px) invert(.9) saturate(200)":"none":o.style.filter=n?"invert(.9) brightness(1.1)":"none")}}if(e.subtabNumber===3){let t=Object.keys(e.octeractUpgrades),n=s.shopEnhanceVision;for(let r of t){let a=e.octeractUpgrades[r],o=i(`${String(r)}`);a.maxLevel!==-1&&a.level>=a.maxLevel?o.style.filter=n?"brightness(.9)":"none":a.getCostTNL()>e.wowOcteracts?o.style.filter=n?"grayscale(.9) brightness(.8)":"none":(a.maxLevel===-1||a.level<a.maxLevel)&&(a.freeLevels>a.level?o.style.filter=n?"blur(2px) invert(.9) saturate(200)":"none":o.style.filter=n?"invert(.9) brightness(1.1)":"none")}}}},ma=t=>{s.shopEnhanceVision=t},Ho=()=>{if(s.currentTab!=="singularity")return;i("octeractAmount").innerHTML=p.t("octeract.amount",{octeracts:u(e.wowOcteracts,2,!0,!0,!0)});let t=rn();i("secondsPerOcteract").style.display=t<1?"block":"none",i("secondsPerOcteract").innerHTML=p.t("octeract.secondsPerOcteract",{seconds:u(1/t,2,!0)}),i("octeractPerSeconds").style.display=t>=1?"block":"none",i("octeractPerSeconds").innerHTML=p.t("octeract.octeractsPerSecond",{octeracts:u(t,2,!0)});let n=(ya()-1)*100,r=(vn()-1)*100,a=(mi()-1)*100,o=(hi()-1)*100;i("totalOcteractAmount").innerHTML=p.t("octeract.totalGenerated",{octeracts:u(e.totalWowOcteracts,2,!0,!0,!0)}),i("totalOcteractCubeBonus").style.display=n>=.001?"block":"none",i("totalOcteractQuarkBonus").style.display=r>=.001?"block":"none",i("totalOcteractOfferingBonus").style.display=a>=.001?"block":"none",i("totalOcteractObtainiumBonus").style.display=o>=.001?"block":"none",i("totalOcteractCubeBonus").innerHTML=p.t("octeract.generatedCubeBonus",{cubeBonus:u(n,3,!0)}),i("totalOcteractQuarkBonus").innerHTML=p.t("octeract.generatedQuarkBonus",{quarkBonus:u(r,3,!0)}),i("totalOcteractOfferingBonus").innerHTML=p.t("octeract.generatedOfferingBonus",{offeringBonus:u(a,3,!0)}),i("totalOcteractObtainiumBonus").innerHTML=p.t("octeract.generatedObtainiumBonus",{obtainiumBonus:u(o,3,!0)})},di=()=>{if(s.currentTab!=="shop")return;i("quarkamount").textContent=p.t("shop.youHaveQuarks",{x:u(e.worlds,0,!0)}),i("offeringpotionowned").textContent=u(e.shopUpgrades.offeringPotion,0,!0),i("obtainiumpotionowned").textContent=u(e.shopUpgrades.obtainiumPotion,0,!0);let t=Object.keys(e.shopUpgrades);for(let n of t){let r=ae[n];if(r.type==="consume"){let a=Math.min(Math.floor(Number(e.worlds)/ar(n)),r.maxLevel-e.shopUpgrades[n]),o=i(`buy${n.toLowerCase()}`);switch(e.shopBuyMaxToggle){case!1:o.textContent="BUY: 100 Quarks Each";break;case"TEN":o.textContent=`+${Math.min(10,a)} for ${u(ar(n)*Math.min(10,a),0,!0)} Quarks`;break;default:o.textContent=`+${a} for ${u(ar(n)*a)} Quarks`}}if(r.type==="upgrade"){if(e.shopHideToggle&&e.shopUpgrades[n]>=r.maxLevel&&!r.refundable){i(`${n}Hide`).style.display="none";continue}else i(`${n}Hide`).style.display=Er(n)?"block":"none";r.maxLevel===1?i(`${n}Level`).textContent=e.shopUpgrades[n]>=r.maxLevel?"Bought!":"Not Bought!":i(`${n}Level`).textContent=(e.highestSingularityCount>0||e.ascensionCount>0?"":"Level ")+u(e.shopUpgrades[n])+"/"+u(r.maxLevel);let a=r.maxLevel-e.shopUpgrades[n],o;switch(e.shopBuyMaxToggle){case!1:i(`${n}Button`).textContent=e.shopUpgrades[n]>=r.maxLevel?p.t("shop.maxed"):p.t("shop.upgradeFor",{x:u(ar(n))});break;case"TEN":o=Et(e.shopUpgrades[n],r.price,+e.worlds,r.priceIncrease/r.price,Math.min(10,a)),i(`${n}Button`).textContent=e.shopUpgrades[n]>=r.maxLevel?p.t("shop.maxed"):p.t("shop.plusForQuarks",{x:u(o.levelCanBuy-e.shopUpgrades[n],0,!0),y:u(o.cost)});break;default:o=Et(e.shopUpgrades[n],r.price,+e.worlds,r.priceIncrease/r.price,a),i(`${n}Button`).textContent=e.shopUpgrades[n]>=r.maxLevel?p.t("shop.maxed"):p.t("shop.plusForQuarks",{x:u(o.levelCanBuy-e.shopUpgrades[n],0,!0),y:u(o.cost)})}}}i("buySingularityQuarksAmount").textContent=`${e.goldenQuarks<1e3?"Owned: ":""}${u(e.goldenQuarks)}`,i("buySingularityQuarksButton").textContent=`Buy! ${u(Vs().cost)} Quarks Each`};var Pe=(t,n=0)=>{let r=t==="ascension"||t==="quarks"||t==="goldenQuarks"||t==="singularity"||t==="octeracts"||t==="autoPotion"?1:Le().mult;switch(t){case"prestige":{e.prestigecounter+=n*r;break}case"transcension":{e.transcendcounter+=n*r;break}case"reincarnation":{e.reincarnationcounter+=n*r;break}case"ascension":{let a=e.singularityUpgrades.oneMind.getEffect().bonus?10:Vt();e.ascensionCounter+=n*r*a,e.ascensionCounterReal+=n*r;break}case"singularity":{e.ascensionCounterRealReal+=n,e.singularityCounter+=n*r;break}case"quarks":{let a=it().maxTime;e.quarkstimer+=n*r,e.quarkstimer=e.quarkstimer>a?a:e.quarkstimer;break}case"goldenQuarks":{if(+e.singularityUpgrades.goldenQuarks3.getEffect().bonus==0)return;e.goldenQuarksTimer+=n*r,e.goldenQuarksTimer=e.goldenQuarksTimer>3600*168?3600*168:e.goldenQuarksTimer;break}case"octeracts":{if(e.singularityUpgrades.octeractUnlock.getEffect().bonus)e.octeractTimer+=n*r;else return;if(e.octeractTimer>=1){let a=e.octeractTimer-e.octeractTimer%1;e.octeractTimer%=1;let o=rn();if(e.wowOcteracts+=a*o,e.totalWowOcteracts+=a*o,e.highestSingularityCount>=160){let l=[160,173,185,194,204,210,219,229,240,249],c=1e-6,g=0;for(let d of l)e.highestSingularityCount>=d&&(g+=1);for(let d=0;d<a;d++){let m=e.quarksThisSingularity*c*g;e.goldenQuarks+=m*vt(!0),e.quarksThisSingularity-=m}}Ho()}break}case"autoPotion":{if(e.highestSingularityCount<6)return;{let a=e.toggles[42]&&e.shopUpgrades.offeringPotion>0,o=e.toggles[43]&&e.shopUpgrades.obtainiumPotion>0;e.autoPotionTimer+=n*r,e.autoPotionTimerObtainium+=n*r;let l=180*Math.pow(1.03,-e.highestSingularityCount)/+e.octeractUpgrades.octeractAutoPotionSpeed.getEffect().bonus,c=a?Math.min(1,l)/20:l,g=o?Math.min(1,l)/20:l;if(e.autoPotionTimer>=c){let d=(e.autoPotionTimer-e.autoPotionTimer%c)/c;e.autoPotionTimer%=c,hn("offeringPotion",!0,d,a)}if(e.autoPotionTimerObtainium>=g){let d=(e.autoPotionTimerObtainium-e.autoPotionTimerObtainium%g)/g;e.autoPotionTimerObtainium%=g,hn("obtainiumPotion",!0,d,o)}}break}}},qt=(t,n)=>{let r=t==="runeSacrifice"||t==="addOfferings"?1:Le().mult;switch(t){case"addObtainium":{if(e.currentChallenge.ascension===14)break;jt();let a=ha();e.researchPoints=Math.min(1e300,e.researchPoints+a*n*r),s.currentTab==="researches"&&No();break}case"addOfferings":s.autoOfferingCounter+=n,e.runeshards=Math.min(1e300,e.runeshards+Math.floor(s.autoOfferingCounter)),s.autoOfferingCounter%=1;break;case"runeSacrifice":if(e.sacrificeTimer+=n,e.sacrificeTimer>=1&&isFinite(e.runeshards)&&e.runeshards>0){if(e.highestSingularityCount>=15){let a=4;e.toggles[36]===!0&&(xr("Blessings",100/a,!0),a--),e.toggles[37]===!0&&(xr("Spirits",100/a,!0),a--)}if(e.autoBuyFragment&&e.highestSingularityCount>=40&&e.cubeUpgrades[51]>0&&Ka(),e.cubeUpgrades[20]===1){let a=e.highestSingularityCount>=50?7:e.highestSingularityCount>=30?6:5,o=a-ic(a);if(o>0){let l=Math.floor(e.runeshards/o/2);for(let c=0;c<a;c++)!Jr(c+1)||e.runelevels[c]>=Be(c+1)||Vn(c+1,!0,l)}}else{let a=e.autoSacrifice;Vn(a,!0,0)}e.sacrificeTimer%=1}break;case"antSacrifice":{e.antSacrificeTimer+=n*r,e.antSacrificeTimerReal+=n,(e.autoAntSacrificeMode===2?e.antSacrificeTimerReal:e.antSacrificeTimer)>=e.autoAntSacTimer&&e.antSacrificeTimerReal>.1&&e.researches[124]===1&&e.autoAntSacrifice&&e.antPoints.gte("1e40")&&Or(!0);break}}};var Si=sn(bi());var $o={default:{name:"Game Modified",color:"white",url:"",everyYear:!0,start:"1/1/2001 00:00:00",end:"12/31/2099 23:59:59",notice:0,event:!1,buffs:{quark:-.2,goldenQuark:0,cubes:0,powderConversion:0,ascensionSpeed:0,globalSpeed:0,ascensionScore:0,antSacrifice:0,offering:0,obtainium:0}},last:{name:"Platonic's Feelin' 22",color:"gold",url:"https://youtu.be/NypS89VNgI8?t=345",everyYear:!1,start:"02/22/2022 00:00:00",end:"02/26/2023 23:59:59",notice:20,event:!0,buffs:{quark:1,globalSpeed:.22,ascensionSpeed:.22,antSacrifice:.22,offering:.22,obtainium:.22,octeract:.22,powderConversion:.22,goldenQuark:.22,oneMind:.022}},khafra:{name:"Thanks for Boosting the Discord",color:"var(--green-text-color)",url:"https://www.youtube.com/watch?v=iYYRH4apXDo",everyYear:!1,start:"12/07/2022 00:00:00",end:"12/08/2022 23:59:59",notice:20,event:!0,buffs:{quark:.2,globalSpeed:0,ascensionSpeed:0,antSacrifice:0,offering:0,obtainium:0,octeract:0,powderConversion:0,goldenQuark:0,oneMind:0}}},Wt=$o.default,vi=()=>Wt,Ci=()=>{if(!e.dayCheck)return;let t=new Date(Fo()),n,r;Wt=$o.default;for(let l in $o){let c=$o[l];if(c.name!=="default"&&c.event===!0){if(n=new Date(c.start),r=new Date(c.end),c.everyYear===!0){let g=t.getFullYear();if(n=new Date(c.start),r=new Date(c.end),n.setFullYear(g),r.setFullYear(g),n.getTime()>r.getTime()&&r.setFullYear(g+1),t.getTime()>=n.getTime()-31536e6&&t.getTime()<=r.getTime()-31536e6&&(n.setFullYear(n.getFullYear()-1),r.setFullYear(r.getFullYear()-1)),t.getTime()>=r.getTime()+864e5)continue}else if(t.getTime()>=r.getTime()+864e5)continue;if(t.getTime()>=n.getTime()-c.notice*864e5&&t.getTime()<=r.getTime()&&(Wt=c,t.getTime()>=n.getTime()&&t.getTime()<=r.getTime()))break}}let a=i("happyHolidays"),o=i("eventBuffs");if(Wt.event===!0){if(n=new Date(Wt.start),r=new Date(Wt.end),Wt.everyYear===!0){let c=t.getFullYear();n.setFullYear(c),r.setFullYear(c),n.getTime()>r.getTime()&&r.setFullYear(c+1),t.getTime()>=n.getTime()-31536e6&&t.getTime()<=r.getTime()-31536e6&&(n.setFullYear(n.getFullYear()-1),r.setFullYear(r.getFullYear()-1))}s.isEvent=t.getTime()>=n.getTime()&&t.getTime()<=r.getTime();let l="";for(let c=0;c<Go.length;c++){let g=wi(Go[c]);g!==0&&(Go[c]==="One Mind"&&e.singularityUpgrades.oneMind.level>0?l+=`<span style="color: gold">${g>=0?"+":"-"}${Math.round(Math.abs(g)*100)}% ${pu[c]}</span> ,`:(Go[c]!=="One Mind"||e.singularityUpgrades.oneMind.level===0)&&(l+=`${g>=0?"+":"-"}${Math.round(Math.abs(g)*100)}% ${pu[c]}, `))}l.length>2&&(l=l.substring(0,l.length-2),l+="!"),i("eventCurrent").textContent=s.isEvent?p.t("settings.events.activeUntil",{x:r}):p.t("settings.events.starts",{x:n}),o.innerHTML=s.isEvent?"Current Buffs: "+l:"",a.innerHTML=Wt.name,a.style.color=Wt.color,a.href=Wt.url.length>0?Wt.url:"#"}else s.isEvent=!1,i("eventCurrent").innerHTML=p.t("settings.events.inactive"),o.textContent=(t.getTime()>=e.dayCheck.getTime(),""),o.style.color="var(--red-text-color)",a.innerHTML="",a.href=""},Go=["Quarks","Golden Quarks","Cubes","Powder Conversion","Ascension Speed","Global Speed","Ascension Score","Ant Sacrifice","Offering","Obtainium","Octeract","One Mind"],pu=["Quarks","Golden Quarks","Cubes from all type","Powder Conversion","Ascension Speed","Global Speed","Ascension Score","Ant Sacrifice rewards","Offering","Obtainium","Eight Dimensional Hypercubes","One Mind Quark Bonus"],wi=t=>{let n=vi();switch(t){case"Quarks":return n.buffs.quark||0;case"Golden Quarks":return n.buffs.goldenQuark||0;case"Cubes":return n.buffs.cubes||0;case"Powder Conversion":return n.buffs.powderConversion||0;case"Ascension Speed":return n.buffs.ascensionSpeed||0;case"Global Speed":return n.buffs.globalSpeed||0;case"Ascension Score":return n.buffs.ascensionScore||0;case"Ant Sacrifice":return n.buffs.antSacrifice||0;case"Offering":return n.buffs.offering||0;case"Obtainium":return n.buffs.obtainium||0;case"Octeract":return n.buffs.octeract||0;case"One Mind":return e.singularityUpgrades.oneMind.level>0&&n.buffs.oneMind||0;default:return 0}};var du=sn(Mi());var jd=new Intl.DateTimeFormat("EN-GB",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",hour12:!1,minute:"2-digit",second:"2-digit"}),Vd=new Intl.DateTimeFormat("EN-GB",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",hour12:!0,minute:"2-digit",second:"2-digit"}),Wd=36e5,Ne=(t="default",n=!1)=>{let a=(n?Vd:jd).formatToParts(new Date).filter(g=>g.type!=="literal").map(g=>({[g.type]:g.value})),o=Object.assign({},...a),l=n?` ${o.dayPeriod.toUpperCase()}`:"",c=["sun","mon","tue","wed","thu","fri","sat"];switch(t){case"default":return`${o.year}-${o.month}-${o.day} ${o.hour}_${o.minute}_${o.second}${l}`;case"short":return`${o.year}${o.month}${o.day}${o.hour}${o.minute}${o.second}`;case"year":return`${o.year}`;case"month":return`${o.month}`;case"day":return`${o.day}`;case"hour":return`${o.hour}`;case"minute":return`${o.minute}`;case"second":return`${o.second}`;case"period":return`${o.dayPeriod.toUpperCase()}`;case"weekday":return`${c[new Date().getUTCDay()]}`;default:return t}},fu=t=>{let n=t.value.slice(0,100);e.saveString=n===""?ce.saveString:Wr(n),i("saveStringInput").value=e.saveString},Xd=()=>{var t,n;return(n=(t=/[\d?=.]+/.exec(At))==null?void 0:t[0])!=null?n:At},Ti=()=>{let n=e.saveString.replace(/\$(.*?)\$/g,(r,a)=>{switch(a){case"VERSION":return`v${At}`;case"TIME":return Ne();case"TIME12":return Ne(void 0,!0);case"SING":return"Singularity "+e.singularityCount;case"SINGS":return""+e.singularityCount;case"VER":return Xd();case"TIMES":return Ne("short");case"YEAR":return Ne("year");case"Y":return Ne("year");case"MONTH":return Ne("month");case"M":return Ne("month");case"DAY":return Ne("day");case"D":return Ne("day");case"HOUR":return Ne("hour");case"H":return Ne("hour");case"H12":return Ne("hour",!0);case"MINUTE":return Ne("minute");case"MI":return Ne("minute");case"SECOND":return Ne("second");case"S":return Ne("second");case"PERIOD":return Ne("period",!0);case"P":return Ne("period",!0);case"WEEKDAY":return Ne("weekday");case"W":return Ne("weekday");case"DATE":return""+Date.now();case"DATES":return""+Math.floor(Date.now()/1e3);case"QUARK":return""+Math.floor(Number(e.worlds));case"QUARKS":return u(Number(e.worlds));case"GQ":return""+Math.floor(e.goldenQuarks);case"GQS":return u(e.goldenQuarks);case"STAGE":return li(0);default:return`${a}`}});return Wr(n)},mu=async()=>{var c;e.offlinetick=Date.now();let t=it(),n=1;if(n*=1+e.worlds.BONUS/100,n*=e.highestSingularityCount>=100?1+e.highestSingularityCount/50:1,+e.singularityUpgrades.goldenQuarks3.getEffect().bonus>0&&(e.goldenQuarks+=Math.floor(e.goldenQuarksTimer/(3600/+e.singularityUpgrades.goldenQuarks3.getEffect().bonus))*n,e.goldenQuarksTimer=e.goldenQuarksTimer%(3600/+e.singularityUpgrades.goldenQuarks3.getEffect().bonus)),t.gain>=1&&(e.worlds.add(t.gain),e.quarkstimer=e.quarkstimer%(3600/t.perHour)),!await Bt())return;let a=ln("saveType").checked,o=(c=await Si.default.getItem("Synergysave2"))!=null?c:localStorage.getItem("Synergysave2"),l=typeof o=="string"?o:await(o==null?void 0:o.text());if(l===void 0)return R("How?");if(a)try{await navigator.clipboard.writeText(l),i("exportinfo").textContent=p.t("importexport.copiedSave")}catch(g){let d=document.createElement("textarea");d.setAttribute("style","top: 0; left: 0; position: fixed;"),d.setAttribute("data-clipboard-text",l),document.body.appendChild(d),d.focus(),d.select();let m=new du.default(d),h=()=>{m.destroy(),document.body.removeChild(d)};m.on("success",()=>{i("exportinfo").textContent=p.t("importexport.copiedSave"),h()}),m.on("error",()=>{i("exportinfo").textContent=p.t("importexport.exportFailed"),R(p.t("importexport.unableCopySave")).finally(h)})}else{let g=document.createElement("a");g.setAttribute("href","data:text/plain;charset=utf-8,"+l),g.setAttribute("download",Ti()),g.setAttribute("id","downloadSave"),document.body.appendChild(g),g.click(),document.body.removeChild(g),i("exportinfo").textContent=p.t("importexport.copiedFile")}setTimeout(()=>i("exportinfo").textContent="",15e3)},hu=async()=>{await R(p.t("importexport.reloadDeletePrompt")),await ki()},ki=async()=>{let t=window.crypto.getRandomValues(new Uint16Array(1))[0]%16,n=window.crypto.getRandomValues(new Uint16Array(1))[0]%16,r=await Se(p.t("importexport.resetPrompt",{a:t,b:n,sum:t+n}));if(r===null||Number(r)!==t+n)return R(p.t("importexport.wrongAnswer"));let a=Object.assign({},ce,{codes:Array.from(ce.codes)});De("buildings"),ve(1,0),ve(4,0),ve(8,0),ve(9,0),ve(10,0),ve(-1,0),await Ca(gr(JSON.stringify(a)),!0)},Ca=async(t,n=!1)=>{if(typeof t!="string")return R(p.t("importexport.unableImport"));let r=gu.default.decompressFromBase64(t),a=r?JSON.parse(r):JSON.parse(atob(t));if(a.exporttest==="YES!"||a.exporttest===!0||a.exporttest===!1&&!1||a.exporttest==="NO!"&&!1){let o=gr(JSON.stringify(a));if(o===null)return R(p.t("importexport.unableImport"));va.canSave=!1;let l=new Blob([o],{type:"text/plain"});await Si.default.setItem("Synergysave2",l),localStorage.setItem("saveScumIsCheating",Date.now().toString()),await Pi(n),va.canSave=!0;return}else return R(p.t("importexport.loadTestInLive"))},Rr=async t=>{let n=i("promocodeinfo"),r=`'${t}': `,a=0;switch(t){case"daily":e.dailyCodeUsed?r+=p.t("importexport.daily0Uses"):r+=p.t("importexport.daily1Uses");break;case"add":a=Br(),a===0?r+=p.t("importexport.add0Uses",{x:0,y:u(Io(),0)}):a!==1?r+=p.t("importexport.addUses",{x:a}):r+=p.t("importexport.add1Uses",{x:a});break;case"time":a=bu(),a===0?r+=p.t("importexport.add0Uses",{x:0,y:u(Yd(),0)}):r+=p.t("importexport.timeMultiplier",{x:a,y:u(vu(),2,!0)});break;default:r=""}n.textContent=r},yu=async()=>{let t=await Se(p.t("importexport.promocodePrompt"));Gn(t)},Gn=async(t,n)=>{let r=i("promocodeinfo");if(t===null)return R(p.t("importexport.comeBackSoon"));if(t==="derpderp"&&!e.codes.get(45)&&s.isEvent&&vi().name==="Derpmas 2022: Gift of Gamebreak!")return e.dailyCodeUsed?(e.codes.set(45,!0),e.quarkstimer=it().maxTime,e.goldenQuarksTimer=3600*24,Pe("ascension",4*3600),e.dailyCodeUsed=!1,(e.challenge15Exponent>=1e15||e.highestSingularityCount>0)&&(e.hepteractCrafts.quark.CAP*=2,e.hepteractCrafts.quark.BAL+=Math.min(1e13,e.hepteractCrafts.quark.CAP/2)),e.highestSingularityCount>0&&(e.singularityUpgrades.goldenQuarks1.freeLevels+=1+Math.floor(e.highestSingularityCount/25),e.singularityUpgrades.goldenQuarks2.freeLevels+=1+Math.floor(e.highestSingularityCount/25),e.singularityUpgrades.goldenQuarks3.freeLevels+=1+Math.floor(e.highestSingularityCount/25),e.singularityUpgrades.octeractUnlock.getEffect().bonus&&(e.octeractUpgrades.octeractAscensionsOcteractGain.freeLevels+=.2)),R(`Happy New Year 2023!!!! Your Quark timer(s) have been replenished and you have been given 4 real life hours of Ascension progress! Your daily code has also been reset for you.
                      ${e.challenge15Exponent>=1e15||e.highestSingularityCount>0?"Derpsmith also hacked your save to expand Quark Hepteract for free, and (to a limit) automatically filled the extra amount! What a generous, handsome fella.":""}
                      ${e.highestSingularityCount>0?"You were also given free levels of GQ1-3!":""} 
                      ${e.singularityUpgrades.octeractUnlock.getEffect().bonus?"Finally, you were given free levels of Octeract Accumulator!":""}`)):R("This event code gives you another usage of code 'daily'. Please use that code and try this event code again.");if(t==="synergism2021"&&!e.codes.get(1))e.codes.set(1,!0),e.runeshards+=25,e.worlds.add(50),r.textContent=p.t("importexport.promocodes.synergism2021");else if(t===":unsmith:"&&e.achievements[243]<1)H(243),r.textContent=p.t("importexport.promocodes.unsmith");else if(t===":antismith:"&&e.achievements[244]<1)H(244),r.textContent=p.t("importexport.promocodes.antismith");else if(t==="Khafra"&&!e.codes.get(26)){e.codes.set(26,!0);let o=Math.floor(Math.random()*(400-100+1)+100);e.worlds.add(o),r.textContent=p.t("importexport.promocodes.khafra",{x:e.worlds.applyBonus(o)})}else if(t.toLowerCase()==="daily"&&!e.dailyCodeUsed){e.dailyCodeUsed=!0;let o=p.t("importexport.promocodes.daily.message"),l=Kd(),c=1+Math.min(49,e.highestSingularityCount),g=e.worlds.applyBonus(l.quarks*c);if(g>1e5&&(g=Math.pow(1e5,.75)*Math.pow(g,.25)),e.worlds.add(g,!1),e.goldenQuarks+=l.goldenQuarks,o+=`
${u(g,0,!0)} Quarks`,l.goldenQuarks>0&&(o+=`
${u(l.goldenQuarks,0,!0)} Golden Quarks`),await R(o),e.highestSingularityCount>0){let d={goldenQuarks3:{value:.2,pdf:b=>0<=b&&b<=1},goldenQuarks2:{value:.2,pdf:b=>1<=b&&b<=3},goldenQuarks1:{value:.2,pdf:b=>3<=b&&b<=10},singCubes3:{value:.25,pdf:b=>10<b&&b<=15},singObtainium3:{value:.25,pdf:b=>15<b&&b<=20},singOfferings3:{value:.25,pdf:b=>20<b&&b<=25},singCubes2:{value:.5,pdf:b=>25<b&&b<=80},singObtainium2:{value:.5,pdf:b=>80<b&&b<=140},singOfferings2:{value:.5,pdf:b=>140<b&&b<=200},singCubes1:{value:1,pdf:b=>200<b&&b<=400},singObtainium1:{value:1,pdf:b=>400<b&&b<=600},singOfferings1:{value:1,pdf:b=>600<b&&b<=800},ascensions:{value:1,pdf:b=>800<b&&b<=1e3}},m=3*Math.sqrt(e.highestSingularityCount);m+=+e.octeractUpgrades.octeractImprovedDaily.getEffect().bonus,m+=e.shopUpgrades.shopImprovedDaily2,m+=e.shopUpgrades.shopImprovedDaily3,m+=e.shopUpgrades.shopImprovedDaily4,m+=+e.singularityUpgrades.platonicPhi.getEffect().bonus*Math.min(50,5*e.singularityCounter/(3600*24)),m+=+e.octeractUpgrades.octeractImprovedDaily3.getEffect().bonus,m*=+e.octeractUpgrades.octeractImprovedDaily2.getEffect().bonus,m*=1+ +e.octeractUpgrades.octeractImprovedDaily3.getEffect().bonus/200,e.highestSingularityCount>=200&&(m*=2),m=Math.floor(m);let h=Object.keys(e.singularityUpgrades).filter(b=>b in d);o=p.t("importexport.promocodes.daily.message2");let y={};for(let b=0;b<m;b++){let w=1e3*Math.random();for(let S of h)d[S].pdf(w)&&(e.singularityUpgrades[S].freeLevels+=d[S].value,y[S]?y[S]+=d[S].value:y[S]=d[S].value)}e.highestSingularityCount>=20&&(e.singularityUpgrades.goldenQuarks1.freeLevels+=.2,y.goldenQuarks1?y.goldenQuarks1+=.2:y.goldenQuarks1=.2,e.singularityUpgrades.goldenQuarks2.freeLevels+=.2,y.goldenQuarks2?y.goldenQuarks2+=.2:y.goldenQuarks2=.2,e.singularityUpgrades.goldenQuarks3.freeLevels+=1,y.goldenQuarks3?y.goldenQuarks3+=1:y.goldenQuarks3=1),e.highestSingularityCount>=200&&(e.octeractUpgrades.octeractGain.freeLevels+=e.octeractUpgrades.octeractGain.level/100,y.octeractGain=e.octeractUpgrades.octeractGain.level/100),e.highestSingularityCount>=205&&(e.octeractUpgrades.octeractGain2.freeLevels+=e.octeractUpgrades.octeractGain2.level/100,y.octeractGain2=e.octeractUpgrades.octeractGain2.level/100);for(let b of Object.keys(y))o+=zd(b,y[b]);await R(o)}return}else if(t.toLowerCase()==="add"){let o=Br(),l=ga().total,c=u(Io(),0),g=sr().time;if(o<1){r.textContent=p.t("importexport.noAddCodes",{x:c});return}let d=null;if(n?d=n.toString():d=await Se(p.t("importexport.useXAdds",{x:o})),d===null)return R(p.t("importexport.cancelAdd"));let m=Number(d);if(Number.isNaN(m)||!Number.isInteger(m)||m<=0)return R(p.t("general.validation.invalidNumber"));let h=ci(),y=Math.min(o,m),b=Math.floor(h.quarks*y),[w,S]=window.crypto.getRandomValues(new Uint8Array(2)),k=Math.max(Date.now()-(l-y)*g,e.rngCode+g*y),B=Math.floor((Date.now()-k)/g),N=Math.floor((g-(Date.now()-k-g*B))/1e3),I=y*h.ascensionTimer,$=e.shopUpgrades.calculator3>0?p.t("importexport.promocodes.add.calculator3",{x:u(I)}):"",O=y*h.gqTimer,v=e.shopUpgrades.calculator5>0?p.t("importexport.promocodes.add.calculator5",{x:u(O)}):"",M=y*h.octeractTime,A=e.shopUpgrades.calculator6>0?p.t("importexport.promocodes.add.calculator6",{x:u(M)}):"",F=e.highestSingularityCount>=150?p.t("importexport.promocodes.add.freeLevel",{x:u(.01*y,2),y:u(.05*y,2)}):"";if(e.shopUpgrades.calculator===ae.calculator.maxLevel)if(e.worlds.add(b),Pe("ascension",I),e.goldenQuarksTimer+=O,Pe("octeracts",M),e.highestSingularityCount>=150&&(e.singularityUpgrades.goldenQuarks1.freeLevels+=.01*y,e.singularityUpgrades.goldenQuarks3.freeLevels+=.05*y),e.rngCode=k,n){Rr("add");return}else return R(p.t("importexport.promocodes.add.calculatorMaxed",{a:w,b:S,c:w+S,d:e.worlds.toString(b),e:$,f:v,g:A,h:F,i:B,j:N.toLocaleString()}));let Y={w:e.worlds.toString(b),x:w,y:S,z:w+S},oe=e.shopUpgrades.calculator>0?p.t("importexport.promocodes.add.calculatorSolution",Y):p.t("importexport.promocodes.add.calculatorPrompt",Y),te=await Se(oe);if(te===null)return R(p.t("importexport.promocodes.add.cancelled"));e.rngCode=k,w+S===+te?(e.worlds.add(b),Pe("ascension",I),e.goldenQuarksTimer+=O,Pe("octeracts",M),await R(p.t("importexport.promocodes.add.reward",{a:e.worlds.toString(b),b:$,c:v,d:A,e:B,f:N.toLocaleString(navigator.language)}))):await R(p.t("importexport.promocodes.add.wrong",{w:te,x:w+S,y:B,z:N.toLocaleString(navigator.language)}))}else if(t==="sub"){let o=1+window.crypto.getRandomValues(new Uint16Array(1))[0]%16,l=Number(e.worlds);await R(p.t("importexport.promocodes.sub.subbed",{x:o})),l<o&&await R(p.t("importexport.promocodes.sub.gave",{x:o-l,y:o})),e.worlds.sub(l<o?o-l:o)}else if(t==="gamble"){if((typeof e.skillCode=="number"||typeof localStorage.getItem("saveScumIsCheating")=="string")&&((Date.now()-e.skillCode)/1e3<3600||(Date.now()-Number(localStorage.getItem("saveScumIsCheating")))/1e3<3600))return r.textContent=p.t("importexport.promocodes.gamble.wait");if(!await me(p.t("importexport.promocodes.gamble.confirm")))return r.textContent=p.t("importexport.promocodes.gamble.cancelled");let l=Number(await Se(p.t("importexport.promocodes.gamble.betPrompt")));if(Number.isNaN(l)||l<=0)return r.textContent=p.t("general.validation.zeroOrLess");if(l>1e4)return r.textContent=p.t("importexport.promocodes.gamble.cheaters");if(Number(e.worlds)<l)return r.textContent=p.t("general.validation.moreThanPlayerHas");if(localStorage.setItem("saveScumIsCheating",Date.now().toString()),window.crypto.getRandomValues(new Uint8Array(1))[0]%6+1===1){let g=l*.25;return e.worlds.add(g,!1),e.skillCode=Date.now(),r.textContent=p.t("importexport.promocodes.gamble.won",{x:g})}e.worlds.sub(l),r.textContent=p.t("importexport.promocodes.gamble.lost",{x:l})}else if(t==="time"){if(bu()===0)return R(p.t("importexport.promocodes.time.wait"));let l=vu(),c=Math.random()*15e3,g=Date.now();if(await me(p.t("importexport.promocodes.time.confirm",{x:u(2500+125*e.cubeUpgrades[61],0,!0),y:u(l,2,!0)}))){let m=Math.abs(Date.now()-(g+c));if(e.promoCodeTiming.time=Date.now(),m<=2500+125*e.cubeUpgrades[61]){let h=Math.floor(Math.min(1e3,125+25*e.highestSingularityCount)*(1+e.cubeUpgrades[61]/50)),y=e.worlds.applyBonus(h);return y>66666&&(y=Math.pow(y,.35)*Math.pow(66666,.65)),e.worlds.add(y*l,!1),R(p.t("importexport.promocodes.time.won",{x:u(y*l,0,!0)}))}else return R(p.t("importexport.promocodes.time.lost"))}}else if(t==="spoiler"){let o=rn();return o>1?R(p.t("importexport.promocodes.spoiler.moreThan1",{x:u(o,2,!0)})):R(p.t("importexport.promocodes.spoiler.one",{x:u(1/o,2,!0)}))}else r.textContent=p.t("importexport.promocodes.invalid");!await Bt()||(Ye.emit("promocode",t),setTimeout(()=>r.textContent="",15e3))},Qo=()=>{let t=[10,16,25,36,49,64,81,100,121,144,169,196,225,235,240],n=0;for(let r=0;r<t.length&&e.highestSingularityCount>=t[r];r++){n+=1;continue}return 1+n/5},ga=()=>{let t=Math.floor(e.shopUpgrades.calculator5/10);e.shopUpgrades.calculator5===ae.calculator5.maxLevel&&(t+=6);let n=[24,2*e.shopUpgrades.calculator2,e.shopUpgrades.calculator4===ae.calculator4.maxLevel?32:0,t,e.shopUpgrades.calculator6===ae.calculator6.maxLevel?24:0],r=le(n);return n.push(Qo()),r*=Qo(),{list:n,total:Math.ceil(r)}},sr=()=>{let t=[Wd,1-.04*e.shopUpgrades.calculator4,1-Math.min(.6,(e.highestSingularityCount>=125?e.highestSingularityCount/800:0)+(e.highestSingularityCount>=200?e.highestSingularityCount/800:0)),e.runelevels[6]>0?.8:1,1/Qo()];return{list:t,time:fe(t)}},Br=()=>{let t=ga().total,n=sr().time;return Math.floor(Math.min(t,(Date.now()-e.rngCode)/n))},Io=()=>{let t=Math.floor(sr().time+e.rngCode-Date.now())/1e3;if(t>0)return t;if(Br()==ga().total)return 0;{let r=Date.now()-e.rngCode-sr().time*Br();return Math.floor(sr().time-r)/1e3}},ci=()=>{let t=Qo(),n=1+.14*e.shopUpgrades.calculator;n*=e.shopUpgrades.calculator2===ae.calculator2.maxLevel?1.25:1,n/=t;let r=Math.max(.4+.02*e.shopUpgrades.calculator3,2/5+window.crypto.getRandomValues(new Uint16Array(2))[0]%128/640),a=.4+.02*e.shopUpgrades.calculator3,o=.6,l=n*it().perHour,c=e.singularityUpgrades.expertPack.level>0?1.2:1,g=60*e.shopUpgrades.calculator3*c/t,d=6*e.shopUpgrades.calculator5/t,m=e.shopUpgrades.calculator6/t;return{quarks:r*l,minQuarks:a*l,maxQuarks:o*l,ascensionTimer:g,gqTimer:d,octeractTime:m}},bu=()=>(Date.now()-e.promoCodeTiming.time)/1e3<900?0:1,Yd=()=>900-(Date.now()-e.promoCodeTiming.time)/1e3,vu=()=>Math.min(24,(Date.now()-e.promoCodeTiming.time)/(1e3*3600)),zd=(t,n)=>{let r=t in D?p.t(`singularity.data.${t}.name`):p.t(`octeract.data.${t}.name`);return`
+${n} extra levels of '${r}'`},Kd=()=>{let t=0,n=0,r=e.ascensionCount>0,a=e.highestSingularityCount>0;return(e.reincarnationCount>0||r||a)&&(t+=20),(e.challengecompletions[6]>0||r||a)&&(t+=20),(e.challengecompletions[7]>0||r||a)&&(t+=30),(e.challengecompletions[8]>0||r||a)&&(t+=30),(e.challengecompletions[9]>0||r||a)&&(t+=40),(e.challengecompletions[10]>0||r||a)&&(t+=60),(r||a)&&(t+=50),(e.challengecompletions[11]>0||a)&&(t+=50),(e.challengecompletions[12]>0||a)&&(t+=50),(e.challengecompletions[13]>0||a)&&(t+=50),(e.challengecompletions[14]>0||a)&&(t+=100),e.researches[200]===s.researchMaxLevels[200]&&(t+=250),e.cubeUpgrades[50]===1e5&&(t+=250),e.platonicUpgrades[5]>0&&(t+=250),e.platonicUpgrades[10]>0&&(t+=500),e.platonicUpgrades[15]>0&&(t+=750),e.challenge15Exponent>1e18&&(t+=Math.floor(1e3*(Math.log10(e.challenge15Exponent)-18))),e.platonicUpgrades[20]>0&&(t+=2500),t*=1+.05*e.shopUpgrades.shopImprovedDaily,t=Math.floor(t),a&&(n+=2+3*e.highestSingularityCount,n*=1+.2*e.shopUpgrades.shopImprovedDaily2,n*=1+.15*e.shopUpgrades.shopImprovedDaily3,n*=1+e.shopUpgrades.shopImprovedDaily4),{quarks:t,goldenQuarks:n}},Cu=t=>{let n=localStorage.getItem("firstPlayed"),r=new Date(t);if(n===null){localStorage.setItem("firstPlayed",r.toISOString());return}new Date(n).getTime()>r.getTime()&&(e.firstPlayed=r.toISOString(),localStorage.setItem("firstPlayed",e.firstPlayed))};var Zd=[4,5,6,7,8,9,10,20,26,27,48,49],Jd=[41,42,43,44,45,46,47,48,49,50,61,71,72,73,74,75,124,130,135,145,150,175,190],Li=[200,200,200,500,500,500,500,500,2e3,4e4,5e3,1e3,1e4,2e4,4e4,1e4,4e3,1e4,5e4,12500,5e4,3e4,3e4,4e4,2e5,4e5,1e5,177777,1e5,1e6,5e5,3e5,2e6,4e6,2e6,4e6,1e6,2e7,5e7,1e7,5e6,1e7,1e8,4e7,2e7,4e7,5e7,1e8,5e8,1e8,1,1e4,1e8,1e12,1e16,10,1e5,1e9,1e13,1e17,100,1e6,1e10,1e14,1e18,1e20,1e30,1e40,1e50,1e60],ef=[3,10,5,1,1,1,1,1,1,1,3,10,1,10,10,10,5,1,1,1,5,10,1,10,10,10,1,1,5,1,5,1,1,10,10,10,10,1,1,10,5,10,10,10,10,20,20,1,1,1e5,1,900,100,900,900,20,1,1,400,1e4,100,1,1,1,1,1,1,1e3,1,1e5],_o=(t,n)=>{let r=t===50?.01:0,a=t>50,o=ir(t),l=n?1e5:1,c=e.cubeUpgrades[t];l=Math.min(o-c,l);let g=t<=50?we("Cube Upgrades"):1,d;return a?(l=n?o:Math.min(o,c+1),d=xu(c,Li[t-1],Number(e.wowCubes),l)):d=Et(c,Li[t-1]*g,Number(e.wowCubes),r,l),d},ir=t=>{let n=ef[t-1];return e.cubeUpgrades[57]>0&&t<50&&t%10===1&&(n+=1),n},Ei=(t,n=e.cubeUpgradesBuyMaxToggle)=>{let r=_o(t,n),a=i("cubeUpgradeName"),o=i("cubeUpgradeDescription"),l=i("cubeUpgradeCost"),c=i("cubeUpgradeLevel"),g=ir(t);a.textContent=p.t(`cubes.upgradeNames.${t}`),o.textContent=p.t(`cubes.upgradeDescriptions.${t}`),l.textContent=p.t("cubes.cubeMetadata.cost",{value1:u(r.cost,0,!0),value2:u(r.levelCanBuy-e.cubeUpgrades[t],0,!0)}),l.style.color="var(--green-text-color)",c.textContent=p.t("cubes.cubeMetadata.level",{value1:u(e.cubeUpgrades[t],0,!0),value2:u(g,0,!0)}),c.style.color="white",Number(e.wowCubes)<r.cost&&(l.style.color="var(--crimson-text-color)"),e.cubeUpgrades[t]===g&&(l.style.color="gold",l.textContent=p.t("cubes.cubeMetadata.maxLevel"),c.style.color="plum")},lr=t=>{let n=i("cubeUpg"+t),r=ir(t),a=e.cubeUpgrades[t];a>r&&(e.wowCubes.add((a-r)*Li[t-1]),e.cubeUpgrades[t]=r),e.cubeUpgrades[t]===0&&(n.style.backgroundColor=""),a>0&&a<r&&(n.style.backgroundColor="purple"),e.cubeUpgrades[t]===r&&(n.style.backgroundColor="green")},Ai=()=>{for(let t of Zd){let n=ir(t);e.cubeUpgrades[t]=n,lr(t)}yt();for(let t of Jd)e.researches[t]=s.researchMaxLevels[t],Tr(t)},Oi=(t,n=e.cubeUpgradesBuyMaxToggle,r=!1)=>{if(t>50&&t<=55&&!e.singularityUpgrades.cookies.getEffect().bonus||t>55&&t<=60&&!e.singularityUpgrades.cookies2.getEffect().bonus||t>60&&t<=65&&!e.singularityUpgrades.cookies3.getEffect().bonus||t>65&&t<=70&&!e.singularityUpgrades.cookies4.getEffect().bonus||t>70&&!e.singularityUpgrades.cookies5.getEffect().bonus)return;let a=_o(t,n),o=ir(t);if(Number(e.wowCubes)>=a.cost&&e.cubeUpgrades[t]<o)e.wowCubes.sub(100/100*a.cost),e.cubeUpgrades[t]=a.levelCanBuy;else return;if(t===4&&e.cubeUpgrades[4]>0)for(let l=94;l<=98;l++)e.upgrades[l]=1,ft(l,!0);if(t===5&&e.cubeUpgrades[5]>0&&(e.upgrades[99]=1,ft(99,!0)),t===6&&e.cubeUpgrades[6]>0&&(e.upgrades[100]=1,ft(100,!0)),t===51&&e.cubeUpgrades[51]>0&&Ai(),t===57&&e.cubeUpgrades[57]>0)for(let l=1;l<e.cubeUpgrades.length;l++)lr(l);r===!1&&(Ei(t),Me(),yt()),lr(t)},wu=()=>{if(e.autoCubeUpgradesToggle&&(e.highestSingularityCount>=50&&e.insideSingularityChallenge||e.highestSingularityCount>=150)){let t=[];for(let n=1;n<e.cubeUpgrades.length;n++){let r=ir(n);if(e.cubeUpgrades[n]<r){let a=_o(n,!0);t.push([n,a.cost,a.levelCanBuy])}}if(t.length>0){let n=!1;t.sort((r,a)=>r[1]-a[1]);for(let r of t){let a=ir(r[0]),o=_o(r[0],!0);Number(e.wowCubes)>=o.cost&&e.cubeUpgrades[r[0]]<a&&(e.cubeUpgradesBuyMaxToggle===!0||a===o.levelCanBuy)&&(Oi(r[0],!0,!0),n=!0)}n===!0&&(Me(),yt())}}};var tf=["+0.0090% Cubes per Corruption level per level!","+0.018% Tesseracts per Corruption level per level!","+0.054% Hypercubes per Corruption level per level!","Gain +2.4% Platonic Cubes per level! It is that simple.","C10 Exponent: 1.035 --> 1.0375, Constant tax exponent +0.10, 2x faster Constant production, +10% Quarks, +10 Reincarnation Challenge Cap, +5 Ascension Challenge Cap, 2x Obtainium and Offerings, ^1.10 coin gain in C15, as well +1 Corruption Cap Level!","Multiplies Viscosity exponent by (1 + level/30), capacity of ^1 on Multipliers and Accelerators.","Raises speed below 1x to the power of ^(1 - level/30).","Divides Hyperchallenged by (1 + 0.4 * level), with a minimum 1x Challenge requirement multiplier!","Raise Obtainium to the power of (1+(0.09*log10(Obtainium owned))) and add another x2.5 multiplier (Uncorruptable), up until 1e100 Obtainium!","C10 Exponent: 1.0375 --> 1.04, Constant tax exponent +0.20, 10x faster Constant production, +15% Quarks, +10 Reincarnation Challenge Cap, +5 Ascension Challenge Cap, 3.5x Obtainium and Offerings, 2x All Cubes, ^1.25 ant exponent in C15, +1 Corruption Cap Level again!","With this upgrade, you will gain diamonds equal to particle gain on Reincarnation while using Market Deflation 11 or higher! Does not work with Cube upgrade [3x8]!","Gain (1 + lvl/100)x Ant multiplier per Challenge completion, ignoring corruptions to Ants.","Effect of Drought is raised to the power of 0.5.","Reduce the effect of Financial Recession in Challenge 15, multiplying the coin exponent by 1.55.","You begin to find the start of the abyss. Coin Exponent +0.10 in Challenge 15, Challenge 15 Score +25%, Ascension Speed +0.2% per Corruption Level (Max: 20%), +1% all Cube types per C9 Completion (Multiplicative), +20% Quarks, 1e250x Tesseract Building Multiplier, 2x Ascension Count, +30 Reincarnation Challenge Cap, +20 Ascension Challenge Cap, 6x Offerings and Obtainium (Uncorruptable)! Talk about a deep dive.","Increase powder conversion rate by 1% per level, gain +2% Ascension count per level and gain up to 2% more Ascension count per level based on powder, up to 100,000. This will also multiply Tesseract Building production by (Powder + 1)^(10 * level), uncapped.","If Viscosity Corruption is set to level 10 or higher, score multiplier is raised by an exponent. That exponent is 3 + 0.04 per level of this upgrade.","Raise the base percentage of Constant Upgrade 1 by 0.1% and increase the base percentage cap of Constant Upgrade 2 by 0.3% per level!","The diminishing return power on Chronos Hepteract changes from 0.166 to (0.166 + 0.00133 * level) [Max of 0.2333].","You know, maybe some things should be left unbought."],he={1:{obtainium:1e70,offerings:1e45,cubes:1e13,tesseracts:1e6,hypercubes:1e5,platonics:1e4,abyssals:0,maxLevel:125},2:{obtainium:3e70,offerings:2e45,cubes:1e11,tesseracts:1e8,hypercubes:1e5,platonics:1e4,abyssals:0,maxLevel:125},3:{obtainium:1e71,offerings:4e45,cubes:1e11,tesseracts:1e6,hypercubes:1e7,platonics:1e4,abyssals:0,maxLevel:125},4:{obtainium:4e71,offerings:1e46,cubes:1e12,tesseracts:1e7,hypercubes:1e6,platonics:1e6,abyssals:0,maxLevel:125},5:{obtainium:1e80,offerings:1e60,cubes:1e14,tesseracts:1e9,hypercubes:1e8,platonics:1e7,abyssals:0,maxLevel:1},6:{obtainium:1e82,offerings:1e61,cubes:1e15,tesseracts:1e9,hypercubes:1e8,platonics:1e7,abyssals:0,maxLevel:10},7:{obtainium:1e84,offerings:3e62,cubes:2e15,tesseracts:2e9,hypercubes:2e8,platonics:15e6,abyssals:0,maxLevel:15},8:{obtainium:1e87,offerings:1e64,cubes:4e15,tesseracts:4e9,hypercubes:4e8,platonics:3e7,abyssals:0,maxLevel:5},9:{obtainium:1e90,offerings:1e66,cubes:1e16,tesseracts:1e10,hypercubes:1e9,platonics:5e7,abyssals:0,maxLevel:1},10:{obtainium:1e93,offerings:1e68,cubes:1e18,tesseracts:1e12,hypercubes:1e11,platonics:1e9,abyssals:0,maxLevel:1},11:{obtainium:2e96,offerings:1e70,cubes:2e17,tesseracts:2e11,hypercubes:2e10,platonics:2e8,abyssals:0,maxLevel:1},12:{obtainium:1e100,offerings:1e72,cubes:1e18,tesseracts:1e12,hypercubes:1e11,platonics:1e9,abyssals:0,maxLevel:10},13:{obtainium:2e104,offerings:1e74,cubes:2e19,tesseracts:4e12,hypercubes:4e11,platonics:4e9,abyssals:0,maxLevel:1},14:{obtainium:1e108,offerings:1e77,cubes:4e20,tesseracts:1e13,hypercubes:1e12,platonics:1e10,abyssals:0,maxLevel:1},15:{obtainium:1e115,offerings:1e80,cubes:1e23,tesseracts:1e15,hypercubes:1e14,platonics:1e12,abyssals:1,maxLevel:1},16:{obtainium:1e140,offerings:1e110,cubes:0,tesseracts:0,hypercubes:25e14,platonics:0,abyssals:0,maxLevel:100,priceMult:10},17:{obtainium:1e145,offerings:1e113,cubes:0,tesseracts:0,hypercubes:1e19,platonics:0,abyssals:2,maxLevel:20,priceMult:10},18:{obtainium:1e150,offerings:1e116,cubes:0,tesseracts:0,hypercubes:1e19,platonics:0,abyssals:8,maxLevel:40,priceMult:500},19:{obtainium:1e160,offerings:1e121,cubes:0,tesseracts:0,hypercubes:1e21,platonics:0,abyssals:128,maxLevel:50,priceMult:200},20:{obtainium:1e180,offerings:1e130,cubes:1e45,tesseracts:1e28,hypercubes:1e25,platonics:1e25,abyssals:Math.pow(2,31)-1,maxLevel:1}},Ui=(t,n=!1)=>{let r=0,a=["obtainium","offerings","cubes","tesseracts","hypercubes","platonics","abyssals"],o=["researchPoints","runeshards","wowCubes","wowTesseracts","wowHypercubes","wowPlatonicCubes","wowAbyssals"],l={obtainium:!1,offerings:!1,cubes:!1,tesseracts:!1,hypercubes:!1,platonics:!1,abyssals:!1,canBuy:!1},c=1;he[t].priceMult&&(c=Math.pow(he[t].priceMult,Math.pow(e.platonicUpgrades[t]/(he[t].maxLevel-1),1.25))),c*=we("Platonic Costs");for(let g=0;g<a.length-1;g++)(n===!0&&(a[g]==="obtainium"||a[g]==="offerings")||Math.floor(he[t][a[g]]*c)<=e[o[g]])&&(r++,l[a[g]]=!0);return(e.hepteractCrafts.abyss.BAL>=Math.floor(he[t].abyssals*c)||he[t].abyssals===0)&&(r++,l.abyssals=!0),r===a.length&&e.platonicUpgrades[t]<he[t].maxLevel&&(l.canBuy=!0),l},Bi=t=>{let n="";e.platonicUpgrades[t]===he[t].maxLevel&&(n=" [MAX]");let r=Ui(t),a=1;he[t].priceMult&&(a=Math.pow(he[t].priceMult,Math.pow(e.platonicUpgrades[t]/(he[t].maxLevel-1),1.25))),a*=we("Platonic Costs"),i("platonicUpgradeDescription").textContent=tf[t-1],i("platonicUpgradeLevel").textContent="Level: "+u(e.platonicUpgrades[t])+"/"+u(he[t].maxLevel)+n,i("platonicOfferingCost").textContent=u(e.runeshards)+"/"+u(he[t].offerings*a)+" Offerings",i("platonicObtainiumCost").textContent=u(e.researchPoints)+"/"+u(he[t].obtainium*a)+" Obtainium",i("platonicCubeCost").textContent=u(e.wowCubes)+"/"+u(he[t].cubes*a)+" Wow! Cubes",i("platonicTesseractCost").textContent=u(e.wowTesseracts)+"/"+u(he[t].tesseracts*a)+" Wow! Tesseracts",i("platonicHypercubeCost").textContent=u(e.wowHypercubes)+"/"+u(he[t].hypercubes*a)+" Wow! Hypercubes",i("platonicPlatonicCost").textContent=u(e.wowPlatonicCubes)+"/"+u(he[t].platonics*a)+" Platonic! Cubes",i("platonicHepteractCost").textContent=u(e.hepteractCrafts.abyss.BAL)+"/"+u(Math.floor(he[t].abyssals*a),0,!0)+" Hepteracts of the Abyss",r.offerings?i("platonicOfferingCost").style.color="lime":i("platonicOfferingCost").style.color="var(--crimson-text-color)",r.obtainium?i("platonicObtainiumCost").style.color="lime":i("platonicObtainiumCost").style.color="var(--crimson-text-color)",r.cubes?i("platonicCubeCost").style.color="lime":i("platonicCubeCost").style.color="var(--crimson-text-color)",r.tesseracts?i("platonicTesseractCost").style.color="lime":i("platonicTesseractCost").style.color="var(--crimson-text-color)",r.hypercubes?i("platonicHypercubeCost").style.color="lime":i("platonicHypercubeCost").style.color="var(--crimson-text-color)",r.platonics?i("platonicPlatonicCost").style.color="lime":i("platonicPlatonicCost").style.color="var(--crimson-text-color)",r.abyssals?i("platonicHepteractCost").style.color="lime":i("platonicHepteractCost").style.color="var(--crimson-text-color)",e.platonicUpgrades[t]<he[t].maxLevel&&(i("platonicUpgradeLevel").style.color="cyan",r.canBuy?(i("platonicCanBuy").style.color="gold",i("platonicCanBuy").textContent="===Affordable! Click to buy!==="):(i("platonicCanBuy").style.color="var(--crimson-text-color)",i("platonicCanBuy").textContent="===You cannot afford this!===")),e.platonicUpgrades[t]===he[t].maxLevel&&(i("platonicUpgradeLevel").style.color="gold",i("platonicCanBuy").style.color="var(--orchid-text-color)",i("platonicCanBuy").textContent="===Maxed===")},wa=t=>{let n=i(`platUpg${t}`),r=he[t].maxLevel;e.platonicUpgrades[t]===0?n.style.backgroundColor="":e.platonicUpgrades[t]>0&&e.platonicUpgrades[t]<r?n.style.backgroundColor="purple":e.platonicUpgrades[t]===r&&(n.style.backgroundColor="green")},Ri=(t,n=!1)=>{for(;t>0;){let r=Ui(t,n),a=1;if(he[t].priceMult&&(a=Math.pow(he[t].priceMult,Math.pow(e.platonicUpgrades[t]/(he[t].maxLevel-1),1.25))),a*=we("Platonic Costs"),r.canBuy)e.platonicUpgrades[t]+=1,n||(e.researchPoints-=Math.floor(he[t].obtainium*a),e.runeshards-=Math.floor(he[t].offerings*a)),e.wowCubes.sub(Math.floor(he[t].cubes*a)),e.wowTesseracts.sub(Math.floor(he[t].tesseracts*a)),e.wowHypercubes.sub(Math.floor(he[t].hypercubes*a)),e.wowPlatonicCubes.sub(Math.floor(he[t].platonics*a)),e.hepteractCrafts.abyss.spend(Math.floor(he[t].abyssals*a)),Ye.emit("boughtPlatonicUpgrade",he[t]),t===20&&!n&&e.singularityCount===0&&R("While I strongly recommended you not to buy this, you did it anyway. For that, you have unlocked the rune of Grandiloquence, for you are a richass.");else break;if(e.platonicUpgrades[t]===he[t].maxLevel||e.singularityCount===0)break}Bi(t),wa(t),Me()},Mu=()=>{if(e.autoPlatonicUpgradesToggle===!0&&(e.highestSingularityCount>=100&&e.insideSingularityChallenge||e.highestSingularityCount>=200))for(let t=1;t<e.platonicUpgrades.length;t++)e.platonicUpgrades[t]<he[t].maxLevel&&Ui(t,!0).canBuy&&Ri(t,!0)};var Su,He=t=>{or(Su),Su=bt(()=>nf(t),50)},nf=t=>{i("resetofferings1").style.display="block";let n=e.currentChallenge.transcension,r=e.currentChallenge.reincarnation,a=tn(t),o=ln("resetofferings1"),l=i("resetofferings2"),c=ln("resetcurrency1"),g=i("resetobtainium"),d=i("resetobtainium2"),m=i("resetinfo"),h=i("resetcurrency2");switch(t=="reincarnation"?(g.style.display="block",d.textContent=u(Math.floor(s.obtainiumGain))):(g.style.display="none",d.textContent=""),t=="ascensionChallenge"||t=="ascension"||t=="singularity"?o.style.display=l.style.display="none":o.style.display=l.style.display="block",t){case"prestige":c.src.endsWith("Pictures/"+Te[e.iconSet][0]+"/Diamond.png")||(c.src="Pictures/"+Te[e.iconSet][0]+"/Diamond.png"),c.style.display="block",h.textContent="+"+u(s.prestigePointGain),m.textContent="Coins, Coin Producers, Coin Upgrades, and Crystals are reset, but in return you gain diamonds and a few Offerings. Required: "+u(e.coinsThisPrestige)+"/1e16 Coins || TIME SPENT: "+u(e.prestigecounter)+" Seconds.",m.style.color="turquoise";break;case"transcension":c.src.endsWith("Pictures/"+Te[e.iconSet][0]+"/Mythos.png")||(c.src="Pictures/"+Te[e.iconSet][0]+"/Mythos.png"),c.style.display="block",h.textContent="+"+u(s.transcendPointGain),m.textContent="Reset all Coin and Diamond Upgrades/Features, Crystal Upgrades & Producers, for Mythos/Offerings. Required: "+u(e.coinsThisTranscension)+"/1e100 Coins || TIME SPENT: "+u(e.transcendcounter)+" Seconds.",m.style.color="var(--orchid-text-color)";break;case"reincarnation":c.src.endsWith("Pictures/"+Te[e.iconSet][0]+"/Particle.png")||(c.src="Pictures/"+Te[e.iconSet][0]+"/Particle.png"),c.style.display="block",h.textContent="+"+u(s.reincarnationPointGain),m.textContent="Reset ALL previous reset tiers, but you will gain Particles, Obtainium and Offerings! Required: "+u(e.transcendShards)+"/1e300 Mythos Shards || TIME SPENT: "+u(e.reincarnationcounter)+" Seconds.",m.style.color="limegreen";break;case"acceleratorBoost":c.src.endsWith("Pictures/"+Te[e.iconSet][0]+"/Diamond.png")||(c.src="Pictures/"+Te[e.iconSet][0]+"/Diamond.png"),c.style.display="block",h.textContent="-"+u(e.acceleratorBoostCost),m.textContent="Reset Coin Producers/Upgrades, Crystals and Diamonds in order to increase the power of your Accelerators. Required: "+u(e.prestigePoints)+"/"+u(e.acceleratorBoostCost)+" Diamonds.",m.style.color="cyan";break;case"transcensionChallenge":c.style.display="none",h.textContent="",n!==0?(m.style.color="aquamarine",m.textContent="Are you tired of being in your Challenge or stuck? Click to leave Challenge "+n+". Progress: "+u(e.coinsThisTranscension)+"/"+u(rt(n,e.challengecompletions[n]))+" Coins. TIME SPENT: "+u(e.transcendcounter)+" Seconds."):(m.style.color="var(--crimson-text-color)",m.textContent="You're not in a Transcension Challenge right now. Get in one before you can leave it, duh!");break;case"reincarnationChallenge":if(c.style.display="none",h.textContent="",r!==0){let y=r>=9?"coins":"transcendShards",b=r>=9?" Coins":" Mythos Shards";m.style.color="silver",m.textContent="Are you done or tired of being in your Challenge? Click to leave Challenge "+r+". Progress: "+u(e[y])+"/"+u(rt(r,e.challengecompletions[r],r))+b+". TIME SPENT: "+u(e.reincarnationcounter)+" Seconds."}else m.style.color="var(--crimson-text-color)",m.textContent="You're not in a Reincarnation Challenge right now. How could you leave what you are not in?";break;case"ascensionChallenge":c.style.display="none",h.textContent="",m.textContent="Click this if you're in an Ascension Challenge and want to leave. You get it already!",m.style.color="gold";break;case"ascension":c.style.display="none",h.textContent="",m.textContent="Ascend, C-10 is required! +"+u(en()[4],0,!0)+" Wow! Cubes for doing it! Time: "+u(e.ascensionCounter,0,!1)+" Seconds. (Real-time "+u(e.ascensionCounterRealReal,0,!1)+" Seconds)",m.style.color="gold";break;case"singularity":c.style.display="none",h.textContent="",m.textContent="Are you willing to give up your laurels for a greater Challenge? The Ant God bribes you with "+u(vt(),2,!0)+" Golden Quarks. Time: "+u(e.singularityCounter,0,!1)+" Seconds.",m.style.color="lightgoldenrodyellow"}i("resetofferings2").textContent="+"+u(a)},Rt=t=>{let n=null;t===1?(n=parseFloat(i("prestigeamount").value)||0,e.prestigeamount=Math.max(n,0)):t===2?(n=parseFloat(i("transcendamount").value)||0,e.transcendamount=Math.max(n,0)):t===3?(n=parseFloat(i("reincarnationamount").value)||0,e.reincarnationamount=Math.max(n,0)):t===4?(n=Math.floor(parseFloat(i("ascensionAmount").value))||1,e.autoAscendThreshold=Math.max(n,1)):t===5&&(n=parseFloat(i("autoAntSacrificeAmount").value)||0,e.autoAntSacTimer=Math.max(n,0))},jo=()=>{let t=Math.floor(parseFloat(i("tesseractAmount").value))||0;e.tesseractAutoBuyerAmount=Math.max(t,0)},an=t=>{let n=null;t===1?(n=Number(i("cubeOpensInput").value)||0,e.openCubes=Math.max(Math.min(n,100),0)):t===2?(n=Number(i("tesseractsOpensInput").value)||0,e.openTesseracts=Math.max(Math.min(n,100),0)):t===3?(n=Number(i("hypercubesOpensInput").value)||0,e.openHypercubes=Math.max(Math.min(n,100),0)):t===4&&(n=Number(i("platonicCubeOpensInput").value)||0,e.openPlatonicsCubes=Math.max(Math.min(n,100),0))},rf=(t,n="unknown")=>{let r=tn(t),a=["enterChallenge","leaveChallenge"].includes(n);if(t==="prestige"){let o={seconds:e.prestigecounter,date:Date.now(),offerings:r,kind:"prestige",diamonds:s.prestigePointGain.toString()};Ye.emit("historyAdd","reset",o)}else if(t==="transcension"||t==="transcensionChallenge"){let o={seconds:e.transcendcounter,date:Date.now(),offerings:r,kind:"transcend",mythos:s.transcendPointGain.toString()};Ye.emit("historyAdd","reset",o)}else if(t==="reincarnation"||t==="reincarnationChallenge"){if(!a||s.reincarnationPointGain.gte(e.reincarnationPoints.div(10))){let o={seconds:e.reincarnationcounter,date:Date.now(),offerings:r,kind:"reincarnate",particles:s.reincarnationPointGain.toString(),obtainium:s.obtainiumGain};Ye.emit("historyAdd","reset",o)}}else if((t==="ascension"||t==="ascensionChallenge")&&e.challengecompletions[10]>0){let o=en(),l={seconds:e.ascensionCounter,date:Date.now(),c10Completions:e.challengecompletions[10],usedCorruptions:e.usedCorruptions.slice(0),corruptionScore:o[3],wowCubes:o[4],wowTesseracts:o[5],wowHypercubes:o[6],wowPlatonicCubes:o[7],wowHepteracts:o[8],kind:"ascend"};n!=="enterChallenge"&&e.currentChallenge.ascension!==0&&(l.currentChallenge=e.currentChallenge.ascension),Ye.emit("historyAdd","ascend",l)}},be=(t,n=!1,r="unknown")=>{if(rf(t,r),sc(t),qo(1),e.coins=new f("102"),e.coinsThisPrestige=new f("100"),e.firstOwnedCoin=0,e.firstGeneratedCoin=new f("0"),e.firstCostCoin=new f("100"),e.secondOwnedCoin=0,e.secondGeneratedCoin=new f("0"),e.secondCostCoin=new f("1e3"),e.thirdOwnedCoin=0,e.thirdGeneratedCoin=new f("0"),e.thirdCostCoin=new f("2e4"),e.fourthOwnedCoin=0,e.fourthGeneratedCoin=new f("0"),e.fourthCostCoin=new f("4e5"),e.fifthOwnedCoin=0,e.fifthGeneratedCoin=new f("0"),e.fifthCostCoin=new f("8e6"),e.firstGeneratedDiamonds=new f("0"),e.secondGeneratedDiamonds=new f("0"),e.thirdGeneratedDiamonds=new f("0"),e.fourthGeneratedDiamonds=new f("0"),e.fifthGeneratedDiamonds=new f("0"),e.multiplierCost=new f("1e4"),e.multiplierBought=0,e.acceleratorCost=new f("500"),e.acceleratorBought=0,e.prestigeCount+=1,e.prestigePoints=e.prestigePoints.add(s.prestigePointGain),e.prestigeShards=new f("0"),e.prestigenoaccelerator=!0,e.prestigenomultiplier=!0,e.prestigenocoinupgrades=!0,e.highestSingularityCount===0&&(t==="prestige"&&e.unlocks.prestige===!1&&(i("prestigebtn").style.boxShadow=""),t==="transcension"&&e.unlocks.transcend===!1&&(i("transcendbtn").style.boxShadow=""),t==="reincarnation"&&e.unlocks.reincarnate===!1&&(i("reincarnatebtn").style.boxShadow=""),t==="ascension"&&e.ascensionCount===0&&(i("ascendbtn").style.boxShadow="")),e.unlocks.prestige=!0,e.prestigecounter<e.fastestprestige&&(e.fastestprestige=e.prestigecounter),s.prestigePointGain=new f("0"),e.prestigecounter=0,s.autoResetTimers.prestige=0,s.generatorPower=new f(1),["transcension","transcensionChallenge","reincarnation","reincarnationChallenge","ascension","ascensionChallenge"].includes(t)&&(qo(2),e.coinsThisTranscension=new f("100"),e.firstOwnedDiamonds=0,e.firstCostDiamonds=new f("100"),e.secondOwnedDiamonds=0,e.secondCostDiamonds=new f("1e5"),e.thirdOwnedDiamonds=0,e.thirdCostDiamonds=new f("1e15"),e.fourthOwnedDiamonds=0,e.fourthCostDiamonds=new f("1e40"),e.fifthOwnedDiamonds=0,e.fifthCostDiamonds=new f("1e100"),e.firstGeneratedMythos=new f("0"),e.secondGeneratedMythos=new f("0"),e.thirdGeneratedMythos=new f("0"),e.fourthGeneratedMythos=new f("0"),e.fifthGeneratedMythos=new f("0"),e.acceleratorBoostBought=0,e.acceleratorBoostCost=new f("1e3"),e.transcendCount+=1,e.prestigePoints=new f("0"),e.transcendPoints=e.transcendPoints.add(s.transcendPointGain),e.transcendShards=new f("0"),e.transcendnocoinupgrades=!0,e.transcendnocoinorprestigeupgrades=!0,e.transcendnoaccelerator=!0,e.transcendnomultiplier=!0,s.transcendPointGain=new f("0"),e.achievements[78]>.5&&(e.firstOwnedDiamonds+=1),e.achievements[85]>.5&&(e.secondOwnedDiamonds+=1),e.achievements[92]>.5&&(e.thirdOwnedDiamonds+=1),e.achievements[99]>.5&&(e.fourthOwnedDiamonds+=1),e.achievements[106]>.5&&(e.fifthOwnedDiamonds+=1),e.achievements[4]>.5&&(e.upgrades[81]=1),e.achievements[11]>.5&&(e.upgrades[82]=1),e.achievements[18]>.5&&(e.upgrades[83]=1),e.achievements[25]>.5&&(e.upgrades[84]=1),e.achievements[32]>.5&&(e.upgrades[85]=1),e.achievements[80]>.5&&(e.upgrades[87]=1),e.transcendcounter<e.fastesttranscend&&e.currentChallenge.transcension===0&&(e.fastesttranscend=e.transcendcounter),e.transcendcounter=0,s.autoResetTimers.transcension=0),(t=="reincarnation"||t=="reincarnationChallenge")&&e.usedCorruptions[6]>10&&e.platonicUpgrades[11]>0&&(e.prestigePoints=e.prestigePoints.add(s.reincarnationPointGain)),t==="reincarnation"||t==="reincarnationChallenge"||t==="ascension"||t==="ascensionChallenge"||t=="singularity"){e.ascensionCount>0&&e.achievements[183]<1&&yr(1),e.researchPoints=Math.min(1e300,e.researchPoints+Math.floor(s.obtainiumGain));let o=s.obtainiumGain/(1+e.reincarnationcounter);if(o>e.obtainiumpersecond&&(e.obtainiumpersecond=o),e.currentChallenge.transcension=0,qo(3),e.coinsThisReincarnation=new f("100"),e.firstOwnedMythos=0,e.firstCostMythos=new f("1"),e.secondOwnedMythos=0,e.secondCostMythos=new f("1e2"),e.thirdOwnedMythos=0,e.thirdCostMythos=new f("1e4"),e.fourthOwnedMythos=0,e.fourthCostMythos=new f("1e8"),e.fifthOwnedMythos=0,e.fifthCostMythos=new f("1e16"),e.firstGeneratedParticles=new f("0"),e.secondGeneratedParticles=new f("0"),e.thirdGeneratedParticles=new f("0"),e.fourthGeneratedParticles=new f("0"),e.fifthGeneratedParticles=new f("0"),e.reincarnationCount+=1,e.transcendPoints=new f("0"),e.reincarnationPoints=e.reincarnationPoints.add(s.reincarnationPointGain),e.reincarnationShards=new f("0"),e.challengecompletions[1]=0,e.challengecompletions[2]=0,e.challengecompletions[3]=0,e.challengecompletions[4]=0,e.challengecompletions[5]=0,s.reincarnationPointGain=new f("0"),e.shopUpgrades.instantChallenge>0&&e.currentChallenge.reincarnation===0&&(e.challengecompletions[1]=e.highestchallengecompletions[1],e.challengecompletions[2]=e.highestchallengecompletions[2],e.challengecompletions[3]=e.highestchallengecompletions[3],e.challengecompletions[4]=e.highestchallengecompletions[4],e.challengecompletions[5]=e.highestchallengecompletions[5]),e.reincarnatenocoinupgrades=!0,e.reincarnatenocoinorprestigeupgrades=!0,e.reincarnatenocoinprestigeortranscendupgrades=!0,e.reincarnatenocoinprestigetranscendorgeneratorupgrades=!0,e.reincarnatenoaccelerator=!0,e.reincarnatenomultiplier=!0,e.reincarnationcounter<e.fastestreincarnate&&e.currentChallenge.reincarnation===0&&(e.fastestreincarnate=e.reincarnationcounter),yt(),e.reincarnationcounter=0,s.autoResetTimers.reincarnation=0,e.autoResearchToggle&&e.autoResearch>.5){let l=e.autoResearch===200?.01:0;Lt(e.autoResearch,!0,l)}ke(),st()}if(t==="ascension"||t==="ascensionChallenge"||t==="singularity"){let o=en();e.challengecompletions[10]>0&&yr(3,o[3]),e.currentChallenge.transcension=0,e.currentChallenge.reincarnation=0,t==="ascensionChallenge"&&e.currentChallenge.ascension>10&&e.highestSingularityCount>=2&&e.autoChallengeToggles[10]?e.autoChallengeIndex=10:e.autoChallengeIndex=1,It("START"),s.autoChallengeTimerIncrement=0,af(),ai(),of(),e.reincarnationPoints=new f("0"),e.reincarnationShards=new f("0"),e.obtainiumpersecond=0,e.maxobtainiumpersecond=0,e.offeringpersecond=0,e.antSacrificePoints=0,e.antSacrificeTimer=0,e.antSacrificeTimerReal=0,e.antUpgrades[12-1]=0;for(let c=61;c<=80;c++)e.upgrades[c]=0;for(let c=94;c<=100;c++)e.upgrades[c]=0;e.firstOwnedParticles=0,e.secondOwnedParticles=0,e.thirdOwnedParticles=0,e.fourthOwnedParticles=0,e.fifthOwnedParticles=0,e.firstCostParticles=new f("1"),e.secondCostParticles=new f("100"),e.thirdCostParticles=new f("1e4"),e.fourthCostParticles=new f("1e8"),e.fifthCostParticles=new f("1e16"),e.runeexp=[0,0,0,0,0,e.runeexp[5],e.runeexp[6]],e.runelevels=[0,0,0,0,0,e.runelevels[5],e.runelevels[6]],e.runeshards=0,e.crystalUpgrades=[0,0,0,0,0,0,0,0],e.runelevels[0]=3*e.cubeUpgrades[26],e.runelevels[1]=3*e.cubeUpgrades[26],e.runelevels[2]=3*e.cubeUpgrades[26],e.runelevels[3]=3*e.cubeUpgrades[26],e.runelevels[4]=3*e.cubeUpgrades[26],e.cubeUpgrades[27]===1&&(e.firstOwnedParticles=1,e.secondOwnedParticles=1,e.thirdOwnedParticles=1,e.fourthOwnedParticles=1,e.fifthOwnedParticles=1),e.challengecompletions[10]>0&&e.ascensionCounter>0&&(e.ascensionCount+=fa(),isFinite(o[4])&&isFinite(o[5])&&isFinite(o[6])&&isFinite(o[7])&&isFinite(o[8])&&(e.wowCubes.add(o[4]),e.wowTesseracts.add(o[5]),e.wowHypercubes.add(o[6]),e.wowPlatonicCubes.add(o[7]),e.wowAbyssals=Math.min(1e300,e.wowAbyssals+o[8])));for(let c=1;c<=10;c++)e.challengecompletions[c]=0,e.highestchallengecompletions[c]=0;e.challengecompletions[6]=e.highestchallengecompletions[6]=e.cubeUpgrades[49],e.challengecompletions[7]=e.highestchallengecompletions[7]=e.cubeUpgrades[49],e.challengecompletions[8]=e.highestchallengecompletions[8]=e.cubeUpgrades[49],i(`res${e.autoResearch||1}`).classList.remove("researchRoomba"),e.roombaResearchIndex=0,e.autoResearch=1;for(let c=1;c<=200;c++){let g=`res${c}`;e.researches[c]>.5&&e.researches[c]<s.researchMaxLevels[c]?et(g,["researchPurchased"],["researchAvailable","researchMaxed","researchPurchasedAvailable","researchUnpurchased"]):e.researches[c]>.5&&e.researches[c]>=s.researchMaxLevels[c]?et(g,["researchMaxed"],["researchAvailable","researchPurchased","researchPurchasedAvailable","researchUnpurchased"]):et(g,["researchUnpurchased"],["researchAvailable","researchPurchased","researchPurchasedAvailable","researchMaxed"])}st(),ke(),Nn(),Ni(),jt(),yr(1),e.ascensionCounter=0,e.ascensionCounterReal=0,e.ascensionCounterRealReal=0,gt(),Qe(0),Qe(1),Qe(2),Qe(3),Qe(4),Qe(5),Qe(6),yt(),Wn(),Jn(),e.cubeUpgrades[4]===1&&(e.upgrades[94]=1,e.upgrades[95]=1,e.upgrades[96]=1,e.upgrades[97]=1,e.upgrades[98]=1),e.cubeUpgrades[5]===1&&(e.upgrades[99]=1),e.cubeUpgrades[6]===1&&(e.upgrades[100]=1);for(let c=61;c<=80;c++)i(`upg${c}`).style.backgroundColor="";for(let c=94;c<=100;c++)e.upgrades[c]===0&&(i(`upg${c}`).style.backgroundColor="");let l=tr();if(e.usedCorruptions=e.prototypeCorruptions.map((c,g)=>g>=2&&g<=9?Math.min(l*(e.challengecompletions[co(g)]>0||e.singularityUpgrades.platonicTau.getEffect().bonus?1:0),c):c),e.usedCorruptions[1]=0,e.prototypeCorruptions[1]=0,e.currentChallenge.ascension===15&&(t==="ascension"||t==="ascensionChallenge")){e.usedCorruptions[0]=0,e.prototypeCorruptions[0]=0;for(let c=2;c<=9;c++)e.usedCorruptions[c]=11}Pr(),ku(!1)}if(t==="ascension"||t==="ascensionChallenge"){let o=zc(),l=o.length+(e.overfluxOrbsAutoBuy?1:0);if(e.highestSingularityCount>=1&&l>0){let c=Math.floor(e.wowAbyssals/l*(e.hepteractAutoCraftPercentage/100));for(let g of o)g.autoCraft(c);if(e.overfluxOrbsAutoBuy){let g=Math.floor(c/25e4);e.wowAbyssals-25e4*g>=0&&(e.overfluxOrbs+=g,e.overfluxPowder+=e.shopUpgrades.powderAuto*Qt().mult*g/100,e.wowAbyssals-=25e4*g),e.wowAbyssals<0&&(e.wowAbyssals=0)}}if(e.researches[190]>0&&e.tesseractAutoBuyerToggle===1&&e.resettoggle4===2){let c=[null,null,null,null,null];for(let h=1;h<=5;h++)e.autoTesseracts[h]&&(c[h-1]=e[`ascendBuilding${h}`].owned);let g=100-Math.min(100,e.tesseractAutoBuyerAmount),d=Number(e.wowTesseracts)*g/100,m=no(c,d);for(let h=5;h>=1;h--){let y=c[h-1],b=m[h-1];y!==null&&b!==null&&b!==y&&zn(h,b-y)}}Mu(),wu(),e.highestSingularityCount>=35&&(e.autoOpenCubes&&e.openCubes!==0&&e.cubeUpgrades[51]>0&&e.wowCubes.open(Math.floor(Number(e.wowCubes)*e.openCubes/100),!1),e.autoOpenTesseracts&&e.openTesseracts!==0&&e.challengecompletions[11]>0&&(e.tesseractAutoBuyerToggle!==1||e.resettoggle4===2)&&e.wowTesseracts.open(Math.floor(Number(e.wowTesseracts)*e.openTesseracts/100),!1),e.autoOpenHypercubes&&e.openHypercubes!==0&&e.challengecompletions[13]>0&&e.wowHypercubes.open(Math.floor(Number(e.wowHypercubes)*e.openHypercubes/100),!1),e.autoOpenPlatonicsCubes&&e.openPlatonicsCubes!==0&&e.challengecompletions[14]>0&&e.wowPlatonicCubes.open(Math.floor(Number(e.wowPlatonicCubes)*e.openPlatonicsCubes/100),!1))}if(e.unlocks.prestige=!0,(t=="transcension"||t=="transcensionChallenge")&&(e.unlocks.transcend=!0),(t=="reincarnation"||t=="reincarnationChallenge")&&(e.unlocks.reincarnate=!0),t==="singularity"){e.unlocks.coinone=!1,e.unlocks.cointwo=!1,e.unlocks.cointhree=!1,e.unlocks.coinfour=!1,e.unlocks.generation=!1,e.unlocks.prestige=!1,e.unlocks.transcend=!1,e.unlocks.reincarnate=!1,e.unlocks.rrow1=!1,e.unlocks.rrow2=!1,e.unlocks.rrow3=!1,e.unlocks.rrow4=!1,e.ascendBuilding1.owned=0,e.ascendBuilding1.generated=new f("0"),e.ascendBuilding2.owned=0,e.ascendBuilding2.generated=new f("0"),e.ascendBuilding3.owned=0,e.ascendBuilding3.generated=new f("0"),e.ascendBuilding4.owned=0,e.ascendBuilding4.generated=new f("0"),e.ascendBuilding5.owned=0,e.ascendBuilding5.generated=new f("0"),e.constantUpgrades=[null,0,0,0,0,0,0,0,0,0,0],e.wowCubes=new ht(0),e.wowTesseracts=new ht(0),e.wowHypercubes=new ht(0),e.wowTesseracts=new ht(0),e.wowAbyssals=0;for(let o=1;o<=50;o++)e.cubeUpgrades[o]=0}n||Me(),(t==="transcensionChallenge"||t==="reincarnationChallenge"||t==="ascensionChallenge")&&Ft(),xa()},Tu=()=>{e.highestSingularityCount>=1&&H(274),e.highestSingularityCount>=2&&H(275),e.highestSingularityCount>=3&&H(276),e.highestSingularityCount>=4&&H(277),e.highestSingularityCount>=5&&H(278),e.highestSingularityCount>=7&&H(279),e.highestSingularityCount>=10&&H(280)},ku=(t=!0)=>{if(e.achievements[275]>0){t&&(e.prestigeCount=1,e.transcendCount=1),e.transcendPoints=new f("1001"),e.unlocks.coinone=!0,e.unlocks.cointwo=!0,e.unlocks.cointhree=!0,e.unlocks.coinfour=!0,e.unlocks.prestige=!0,e.unlocks.generation=!0,e.unlocks.transcend=!0;for(let o=0;o<5;o++)H(4+7*o);H(36),H(43)}if(e.achievements[276]>0){e.currentChallenge.ascension!==12&&(t&&(e.reincarnationCount=1),e.reincarnationPoints=new f("10")),e.unlocks.reincarnate=!0,e.unlocks.rrow1=!0,e.researches[47]=1;for(let o=0;o<2;o++)for(let l=0;l<5;l++)H(78+o+7*l);for(let o=0;o<7;o++)H(57+o),H(64+o),H(71+o);H(37),H(38),H(44),H(50),H(80),H(87)}e.achievements[277]>0&&(e.currentChallenge.ascension!==14&&(e.researchPoints=Math.floor(500*we("Offering")*we("Researches"))),e.currentChallenge.ascension!==12&&(e.reincarnationPoints=new f("1e16")),e.challengecompletions[6]=1,e.highestchallengecompletions[6]=1,H(113));let n=["offeringAuto","offeringEX","obtainiumAuto","obtainiumEX","antSpeed","cashGrab"];if(e.achievements[278]>0&&t){for(let o of n)e.shopUpgrades[o]=10;e.cubeUpgrades[7]=1}if(e.achievements[279]>0&&(e.challengecompletions[7]=1,e.highestchallengecompletions[7]=1,H(120),e.currentChallenge.ascension!==12&&(e.reincarnationPoints=new f("1e100"))),e.achievements[280]>0){H(124),H(127),e.challengecompletions[8]=1,e.highestchallengecompletions[8]=1,e.cubeUpgrades[8]=1,e.cubeUpgrades[4]=1,e.cubeUpgrades[5]=1,e.cubeUpgrades[6]=1,e.firstOwnedAnts=1;for(let o=0;o<7;o++)H(176+o)}if(e.highestSingularityCount>10&&(e.cubeUpgrades[9]=1),e.highestSingularityCount>=15&&(e.challengecompletions[8]=5,e.highestchallengecompletions[8]=5,e.currentChallenge.ascension!==12&&(e.reincarnationPoints=new f("2.22e2222")),e.fifthOwnedAnts=1,e.cubeUpgrades[20]=1),e.highestSingularityCount>=20){let o=["offeringAuto","offeringEX","obtainiumAuto","obtainiumEX","antSpeed","cashGrab"];e.challengecompletions[9]=1,e.highestchallengecompletions[9]=1,H(134),e.antPoints=new f("1e100"),e.antUpgrades[11]=1;for(let l of o)e.shopUpgrades[l]=ae[l].maxLevel}if(e.highestSingularityCount>=25&&(e.eighthOwnedAnts=1),e.highestSingularityCount>=30&&(e.researches[130]=1,e.researches[135]=1,e.researches[145]=1),e.highestSingularityCount>=101&&t&&(e.cubeUpgrades[51]=1,Ai()),e.singularityUpgrades.platonicAlpha.getEffect().bonus&&e.platonicUpgrades[5]===0&&(e.platonicUpgrades[5]=1,wa(5)),t)for(let o=1;o<=15;o++)kt(o);if(qo(3),t)for(let o=1;o<e.cubeUpgrades.length;o++)lr(o);for(let o=1;o<e.researches.length;o++)e.researches[o]>0&&Tr(o);Ii(),Me()},Ii=()=>{let t=e.achievements[278]>0,n=["offeringAuto","offeringEX","obtainiumAuto","obtainiumEX","antSpeed","cashGrab"];for(let c of n)ae[c].refundMinimumLevel=t?10:c.endsWith("Auto")?1:0;let r=e.highestSingularityCount>=20,a=["offeringAuto","offeringEX","obtainiumAuto","obtainiumEX","antSpeed","cashGrab"];for(let c of a)ae[c].refundable=!r;let o=e.highestSingularityCount>=51,l=["seasonPass","seasonPass2","seasonPass3","seasonPassY","chronometer","chronometer2"];for(let c of l)ae[c].refundable=!o},Ir=async(t=-1)=>{var c,g,d,m;if(e.runelevels[6]===0&&t===-1)return R("You nearly triggered a double singularity bug! Oh no! Luckily, our staff prevented this from happening.");if(t===-1){let h=Object.values(e.cubeBlessings),y=Object.values(e.tesseractBlessings),b=Object.values(e.hypercubeBlessings),w=Object.values(e.platonicBlessings),S={seconds:e.singularityCounter,date:Date.now(),singularityCount:e.singularityCount,quarks:e.quarksThisSingularity,c15Score:e.challenge15Exponent,goldenQuarks:vt(),wowTribs:le(h),tessTribs:le(y),hyperTribs:le(b),platTribs:le(w),octeracts:e.totalWowOcteracts,quarkHept:e.hepteractCrafts.quark.BAL,kind:"singularity"};Ye.emit("historyAdd","singularity",S)}if(e.runelevels[6]=0,e.goldenQuarks+=vt(),t===-1){let h=1+Zn();e.singularityCount+=h,e.singularityCount>=e.highestSingularityCount&&(e.highestSingularityCount=e.singularityCount,e.highestSingularityCount===5&&(e.singularityUpgrades.goldenQuarks3.freeLevels+=1),e.highestSingularityCount===10&&(e.singularityUpgrades.goldenQuarks3.freeLevels+=2))}else e.singularityCount=t;e.totalQuarksEver+=e.quarksThisSingularity,await ho(!0);let n=Object.assign({},ce,{codes:Array.from(ce.codes)});De("buildings"),ve(1,0),ve(4,0),ve(8,0),ve(9,0),ve(10,0),ve(-1,0),n.history.singularity=e.history.singularity,n.totalQuarksEver=e.totalQuarksEver,n.singularityCount=e.singularityCount,n.highestSingularityCount=e.highestSingularityCount,n.goldenQuarks=e.goldenQuarks,n.shopUpgrades=e.shopUpgrades,n.worlds=new mn({quarks:0,bonus:0}),n.singularityUpgrades=e.singularityUpgrades,n.octeractUpgrades=e.octeractUpgrades,n.autoChallengeToggles=e.autoChallengeToggles,n.autoChallengeTimer=e.autoChallengeTimer,n.saveString=e.saveString,n.corruptionLoadouts=e.corruptionLoadouts,n.corruptionLoadoutNames=e.corruptionLoadoutNames,n.corruptionShowStats=e.corruptionShowStats,n.toggles=e.toggles,n.retrychallenges=e.retrychallenges,n.resettoggle1=e.resettoggle1,n.resettoggle2=e.resettoggle2,n.resettoggle3=e.resettoggle3,n.resettoggle4=e.resettoggle4,n.coinbuyamount=e.coinbuyamount,n.crystalbuyamount=e.crystalbuyamount,n.mythosbuyamount=e.mythosbuyamount,n.particlebuyamount=e.particlebuyamount,n.offeringbuyamount=e.offeringbuyamount,n.tesseractbuyamount=e.tesseractbuyamount,n.shoptoggles=e.shoptoggles,n.autoSacrificeToggle=e.autoSacrificeToggle,n.autoBuyFragment=e.autoBuyFragment,n.autoFortifyToggle=e.autoFortifyToggle,n.autoEnhanceToggle=e.autoEnhanceToggle,n.autoResearchToggle=e.autoResearchToggle,n.autoResearchMode=e.autoResearchMode,n.dailyCodeUsed=e.dailyCodeUsed,n.runeBlessingBuyAmount=e.runeBlessingBuyAmount,n.runeSpiritBuyAmount=e.runeSpiritBuyAmount,n.prestigeamount=e.prestigeamount,n.transcendamount=e.transcendamount,n.reincarnationamount=e.reincarnationamount,n.talismanOne=e.talismanOne,n.talismanTwo=e.talismanTwo,n.talismanThree=e.talismanThree,n.talismanFour=e.talismanFour,n.talismanFive=e.talismanFive,n.talismanSix=e.talismanSix,n.talismanSeven=e.talismanSeven,n.buyTalismanShardPercent=e.buyTalismanShardPercent,n.antMax=e.antMax,n.autoAntSacrifice=e.autoAntSacrifice,n.autoAntSacrificeMode=e.autoAntSacrificeMode,n.autoAntSacTimer=e.autoAntSacTimer,n.autoAscend=e.autoAscend,n.autoAscendMode=e.autoAscendMode,n.autoAscendThreshold=e.autoAscendThreshold,n.autoResearch=0,n.autoTesseracts=e.autoTesseracts,n.tesseractAutoBuyerToggle=e.tesseractAutoBuyerToggle,n.tesseractAutoBuyerAmount=e.tesseractAutoBuyerAmount,n.autoOpenCubes=e.autoOpenCubes,n.openCubes=e.openCubes,n.autoOpenTesseracts=e.autoOpenTesseracts,n.openTesseracts=e.openTesseracts,n.autoOpenHypercubes=e.autoOpenHypercubes,n.openHypercubes=e.openHypercubes,n.autoOpenPlatonicsCubes=e.autoOpenPlatonicsCubes,n.openPlatonicsCubes=e.openPlatonicsCubes,n.historyShowPerSecond=e.historyShowPerSecond,n.exporttest=e.exporttest,n.dayTimer=e.dayTimer,n.dayCheck=e.dayCheck,n.ascStatToggles=e.ascStatToggles,n.hepteractAutoCraftPercentage=e.hepteractAutoCraftPercentage,n.autoWarpCheck=e.autoWarpCheck,n.shopBuyMaxToggle=e.shopBuyMaxToggle,n.shopHideToggle=e.shopHideToggle,n.shopConfirmationToggle=e.shopConfirmationToggle,n.researchBuyMaxToggle=e.researchBuyMaxToggle,n.cubeUpgradesBuyMaxToggle=e.cubeUpgradesBuyMaxToggle,n.wowOcteracts=e.wowOcteracts,n.totalWowOcteracts=e.totalWowOcteracts,n.overfluxOrbsAutoBuy=e.overfluxOrbsAutoBuy,n.hotkeys=e.hotkeys,n.theme=e.theme,n.notation=e.notation,n.firstPlayed=e.firstPlayed,n.autoCubeUpgradesToggle=e.autoCubeUpgradesToggle,n.autoPlatonicUpgradesToggle=e.autoPlatonicUpgradesToggle,n.insideSingularityChallenge=e.insideSingularityChallenge,n.singularityChallenges=e.singularityChallenges,n.iconSet=e.iconSet,n.hepteractCrafts.quark=e.hepteractCrafts.quark;for(let h of Object.keys(e.hepteractCrafts))if(h!=="quark"){let y=h;n.hepteractCrafts[y].AUTO=e.hepteractCrafts[y].AUTO}let r=(c=e.codes.get(42))!=null?c:!1,a=(g=e.codes.get(43))!=null?g:!1,o=(d=e.codes.get(44))!=null?d:!1,l=(m=e.codes.get(45))!=null?m:!1;await Ca(btoa(JSON.stringify(n)),!0),e.codes.set(39,!0),e.codes.set(40,!0),e.codes.set(41,!0),e.codes.set(42,r),e.codes.set(43,a),e.codes.set(44,o),e.codes.set(45,l),ku(),e.rngCode=Date.now(),Bt()},qo=t=>{if(t>2.5){for(let n=41;n<61;n++)n!==46&&(e.upgrades[n]=0);e.researches[41]===0&&(e.upgrades[46]=0),e.researches[41]<.5&&(e.upgrades[88]=0),e.achievements[50]===0&&(e.upgrades[89]=0),e.researches[42]<.5&&(e.upgrades[90]=0),e.researches[43]<.5&&(e.upgrades[91]=0),e.researches[44]<.5&&(e.upgrades[92]=0),e.researches[45]<.5&&(e.upgrades[93]=0),e.upgrades[116]=0,e.upgrades[117]=0,e.upgrades[118]=0,e.upgrades[119]=0,e.upgrades[120]=0}for(let n=1;n<=20;n++)e.upgrades[n]=0;for(let n=121,r=106;n<=125;n++,r++)e.upgrades[n]=0,e.upgrades[r]=0;if(t>1.5&&(e.achievements[4]<.5&&(e.upgrades[81]=0),e.achievements[11]<.5&&(e.upgrades[82]=0),e.achievements[18]<.5&&(e.upgrades[83]=0),e.achievements[25]<.5&&(e.upgrades[84]=0),e.achievements[32]<.5&&(e.upgrades[85]=0),e.achievements[87]<.5&&(e.upgrades[86]=0),e.achievements[80]<.5&&(e.upgrades[87]=0),e.upgrades[101]=0,e.upgrades[102]=0,e.upgrades[103]=0,e.upgrades[104]=0,e.upgrades[105]=0),t>1.5){for(let n=21;n<41;n++)e.upgrades[n]=0;e.upgrades[111]=0,e.upgrades[112]=0,e.upgrades[113]=0,e.upgrades[114]=0,e.upgrades[115]=0}if(t>1.5){e.crystalUpgrades=[0,0,0,0,0,0,0,0],e.crystalUpgradesCost=[7,15,20,40,100,200,500,1e3];let n=0;n+=Math.floor(s.rune3level*s.effectiveLevelMult/16)*100/100,e.upgrades[73]>.5&&e.currentChallenge.reincarnation!==0&&(n+=10),e.crystalUpgrades=[n,n,n,n,n,n,n,n]}e.achievements[87]>.5&&(e.upgrades[86]=1);for(let n=1;n<=125;n++)ft(n,!0)},ai=()=>{e.firstOwnedAnts=0,e.secondOwnedAnts=0,e.thirdOwnedAnts=0,e.fourthOwnedAnts=0,e.fifthOwnedAnts=0,e.sixthOwnedAnts=0,e.seventhOwnedAnts=0,e.eighthOwnedAnts=0,e.firstGeneratedAnts=new f("0"),e.secondGeneratedAnts=new f("0"),e.thirdGeneratedAnts=new f("0"),e.fourthGeneratedAnts=new f("0"),e.fifthGeneratedAnts=new f("0"),e.sixthGeneratedAnts=new f("0"),e.seventhGeneratedAnts=new f("0"),e.eighthGeneratedAnts=new f("0"),e.firstCostAnts=new f("1e700"),e.secondCostAnts=new f("3"),e.thirdCostAnts=new f("100"),e.fourthCostAnts=new f("1e4"),e.fifthCostAnts=new f("1e12"),e.sixthCostAnts=new f("1e36"),e.seventhCostAnts=new f("1e100"),e.eighthCostAnts=new f("1e300"),e.cubeUpgrades[48]>0&&(e.firstOwnedAnts=1,e.firstCostAnts=new f("1e741"));let t=e.antUpgrades[12-1];e.antUpgrades=[0,0,0,0,0,0,0,0,0,0,0,t],e.antPoints=new f("1"),e.currentChallenge.ascension===12&&(e.antPoints=new f("7")),st(),ke()},af=()=>{e.researchPoints=0;let t=[6,7,8,9,10,11,12,13,14,15,16,17,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,51,52,53,54,55,56,57,58,59,60,62,63,64,65,66,67,68,69,70,76,81,85,86,87,88,89,90,91,92,93,94,96,97,98,101,102,103,104,106,107,108,109,110,116,117,118,121,122,123,126,127,128,129,131,132,133,134,136,137,139,141,142,143,144,146,147,148,149,151,152,154,156,157,158,159,161,162,163,164,166,167,169,171,172,173,174,176,177,178,179,181,182,184,186,187,188,189,191,192,193,194,196,197,199];e.highestSingularityCount<25&&t.push(138,153,168,183,198);for(let n of t)e.researches[n]=0},of=()=>{e.talismanLevels=[0,0,0,0,0,0,0],e.talismanRarity=[1,1,1,1,1,1,1],e.talismanShards=0,e.commonFragments=0,e.uncommonFragments=0,e.rareFragments=0,e.epicFragments=0,e.legendaryFragments=0,e.mythicalFragments=0};var Vo=new Map([["A",["Buy Accelerators",()=>vr(),!1]],["B",["Boost Accelerator",()=>Yn(),!1]],["C",["Auto Challenge",()=>{Pu()},!1]],["E",["Exit T / R Challenge",()=>{e.autoChallengeRunning?Pu():Lu()},!1]],["M",["Multipliers",()=>Cr(),!1]],["N",["No (Cancel)",()=>Di(!1),!0]],["P",["Reset Prestige",()=>de("prestige"),!1]],["R",["Reset Reincarnate",()=>de("reincarnation"),!1]],["S",["Sacrifice Ants",()=>Or(),!1]],["T",["Reset Transcend",()=>de("transcension"),!1]],["Y",["Yes (OK)",()=>Di(!0),!0]],["ARROWLEFT",["Back a tab",()=>Ma(-1),!1]],["ARROWRIGHT",["Next tab",()=>Ma(1),!1]],["ARROWUP",["Back a subtab",()=>Ma(-1,!1),!1]],["ARROWDOWN",["Next subtab",()=>Ma(1,!1),!1]],["SHIFT+A",["Reset Ascend",()=>de("ascension"),!1]],["SHIFT+C",["Cleanse Corruptions",()=>fn(10,999),!1]],["SHIFT+D",["Spec. Action Add x1",()=>Gn("add",1),!1]],["SHIFT+E",["Exit Asc. Challenge",()=>de("ascensionChallenge"),!1]],["SHIFT+O",["Use Off. Potion",()=>hn("offeringPotion"),!1]],["SHIFT+P",["Use Obt. Potion",()=>hn("obtainiumPotion"),!1]],["SHIFT+S",["Reset Singularity",()=>de("singularity"),!1]]]),Hi=!1,Ge=new Map(Vo),Pu=()=>{e.researches[150]>0&&(Ta(),e.autoChallengeRunning||Lu())},Lu=()=>{e.currentChallenge.reincarnation!==0&&de("reincarnationChallenge",void 0,!0),e.currentChallenge.transcension!==0&&de("transcensionChallenge",void 0,!0)},sf=t=>{var o;if(!Hi||e.toggles[39]===!1)return;if(((o=document.activeElement)==null?void 0:o.localName)==="input")return t.stopPropagation();Au(t,t.code.replace(/^(Digit|Numpad)/,"").toUpperCase());let n="";t.ctrlKey&&(n+="CTRL+"),t.shiftKey&&(n+="SHIFT+"),t.altKey&&(n+="ALT+");let r=n+t.key.toUpperCase();if(r==="TAB"&&t.preventDefault(),r!=="ENTER"&&i("transparentBG").style.display==="block"&&Ge.has(r)&&Ge.get(r)[2]!==!0)return;let a="";Ge.has(r)&&(a=""+Ge.get(r)[0],Ge.get(r)[1](),t.preventDefault()),s.currentTab==="settings"&&e.subtabNumber===6&&(i("lastHotkey").textContent=r,i("lastHotkeyName").textContent=a)},lf=(t,n)=>{let r=document.createElement("div");r.classList.add("hotkeyItem");let a=document.createElement("span");a.id="actualHotkey",a.textContent=t,a.addEventListener("click",async l=>{var y,b,w;let c=l.target,g=c.textContent.toUpperCase(),d=(w=(y=Ge.get(g))==null?void 0:y[0])!=null?w:(b=c.nextSibling)==null?void 0:b.textContent,m=await Se(`
        Enter the new key you want to activate ${d} with.

        MDN has a list of values for "special keys" if you would like to use one:
        https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/key/Key_Values

        You can also prefix your hotkey with [Ctrl,Shift,Alt]+<key>
        `);if(typeof m!="string")return;let h=m.toUpperCase();if(m.length===0)return void R("You didn't enter anything, canceled!");if(!isNaN(Number(m)))return void R("Number keys are currently unavailable!");if(Ge.has(h)||g===h)return void R("That key is already binded to an action, use another key instead!");if(Ge.has(g)){let S=Ge.get(g);Ge.set(h,S),Ge.delete(g);let k=Object.keys(e.hotkeys);e.hotkeys[k.length]=[g,h],c.textContent=h,Sa()}else return void R(`No hotkey is triggered by ${g}!`)});let o=document.createElement("p");return o.id="hotKeyDesc",o.textContent=n,r.appendChild(a),r.appendChild(o),r},Wo=()=>Hi=!1,Sa=()=>{cf();let t=document.querySelector(".hotkeys");for(let n of Array.from(t.children))t.removeChild(n);for(let[n,[r]]of[...Ge.entries()]){let a=lf(n,r);t.appendChild(a)}Hi=!0},cf=()=>{Ge=new Map(Vo);for(let t in e.hotkeys){let n=e.hotkeys[t][0],r=e.hotkeys[t][1];if(Ge.has(n)){let a=Ge.get(n);Ge.set(r,a),Ge.delete(n)}else delete e.hotkeys[t]}},Eu=async()=>{if(Sa(),Object.keys(e.hotkeys).length===0)return await R("You haven't changed the hotkey");let n="",r=new Map(Vo);for(let o in e.hotkeys){let l=e.hotkeys[o][0],c=e.hotkeys[o][1];if(r.has(l)){let g=r.get(l);n+=`	${l}[${g[0]}] to ${c}, `,r.set(c,g),r.delete(l)}}await me(`Are you sure you want to default all the changed hotkeys?
Below is a history of hotkeys you have changed

${n}`)&&(Ge=new Map(Vo),e.hotkeys={},Sa())};document.addEventListener("keydown",sf);var Uu=()=>{s.totalCoinOwned=e.firstOwnedCoin+e.secondOwnedCoin+e.thirdOwnedCoin+e.fourthOwnedCoin+e.fifthOwnedCoin},Bu=()=>{let t=0;e.upgrades[26]>.5&&(t+=1),e.upgrades[31]>.5&&(t+=Math.floor(s.totalCoinOwned/2e3)*100/100),e.achievements[7]>.5&&(t+=Math.floor(e.firstOwnedCoin/2e3)),e.achievements[14]>.5&&(t+=Math.floor(e.secondOwnedCoin/2e3)),e.achievements[21]>.5&&(t+=Math.floor(e.thirdOwnedCoin/2e3)),e.achievements[28]>.5&&(t+=Math.floor(e.fourthOwnedCoin/2e3)),e.achievements[35]>.5&&(t+=Math.floor(e.fifthOwnedCoin/2e3)),t+=e.researches[93]*Math.floor(1/20*(s.rune1level+s.rune2level+s.rune3level+s.rune4level+s.rune5level)),t+=Math.floor((.01+s.rune1level)*s.effectiveLevelMult/20),t*=1+1/5*e.researches[3]*(1+1/2*j("ascension",e.challengecompletions[14])),t*=1+1/20*e.researches[16]+1/20*e.researches[17],t*=1+1/20*e.researches[88],t*=lt(20,(e.antUpgrades[4-1]+s.bonusant4)/1e3*20/19),t*=1+1/100*e.researches[127],t*=1+.8/100*e.researches[142],t*=1+.6/100*e.researches[157],t*=1+.4/100*e.researches[172],t*=1+.2/100*e.researches[187],t*=1+.01/100*e.researches[200],t*=1+.01/100*e.cubeUpgrades[50],t*=1+1/1e3*Ae("acceleratorBoost"),e.upgrades[73]>.5&&e.currentChallenge.reincarnation!==0&&(t*=2),t=Math.min(1e100,Math.floor(t)),s.freeAcceleratorBoost=t,s.totalAcceleratorBoost=Math.floor(e.acceleratorBoostBought+s.freeAcceleratorBoost)*100/100},Ru=()=>{s.acceleratorMultiplier=1,s.acceleratorMultiplier*=1+e.achievements[60]/100,s.acceleratorMultiplier*=1+e.achievements[61]/100,s.acceleratorMultiplier*=1+e.achievements[62]/100,s.acceleratorMultiplier*=1+1/5*e.researches[1]*(1+1/2*j("ascension",e.challengecompletions[14])),s.acceleratorMultiplier*=1+1/20*e.researches[6]+1/25*e.researches[7]+1/40*e.researches[8]+3/200*e.researches[9]+1/200*e.researches[10],s.acceleratorMultiplier*=1+1/20*e.researches[86],s.acceleratorMultiplier*=1+1/100*e.researches[126],s.acceleratorMultiplier*=1+.8/100*e.researches[141],s.acceleratorMultiplier*=1+.6/100*e.researches[156],s.acceleratorMultiplier*=1+.4/100*e.researches[171],s.acceleratorMultiplier*=1+.2/100*e.researches[186],s.acceleratorMultiplier*=1+.01/100*e.researches[200],s.acceleratorMultiplier*=1+.01/100*e.cubeUpgrades[50],s.acceleratorMultiplier*=Math.pow(1.01,e.upgrades[21]+e.upgrades[22]+e.upgrades[23]+e.upgrades[24]+e.upgrades[25]),(e.currentChallenge.transcension!==0||e.currentChallenge.reincarnation!==0)&&e.upgrades[50]>.5&&(s.acceleratorMultiplier*=1.25)},fi=()=>{let t=le([.05*e.achievements[80],.05*e.achievements[87],.05*e.achievements[94],.05*e.achievements[101],.05*e.achievements[108],.05*e.achievements[115],.075*e.achievements[122],.075*e.achievements[129],.05*e.upgrades[61],.25*Math.min(1,s.rune4level/400),.005*e.cubeUpgrades[2]]);return 1/(1-t)};function ea(t,n=!1,r=e.runelevels[t],a=!1){let o=fi(),l=null;n?l=le([1/100*e.highestchallengecompletions[3],1*e.upgrades[66]]):l=le([1,Math.min(1,e.highestchallengecompletions[1]),.4/10*e.highestchallengecompletions[1],.6*e.researches[22],.3*e.researches[23],2*e.upgrades[61],e.upgrades[71]*r/25]);let c=fe([1+e.researches[91]/20,1+e.researches[92]/20,lt(999,1/1e4*Math.pow(e.antUpgrades[8-1]+s.bonusant8,1.1)),s.cubeBonusMultiplier[4],1+e.ascensionCounter/1e3*e.cubeUpgrades[32],1+1/10*e.constantUpgrades[8],s.challenge15Rewards.runeExp]),g=1/Math.pow(s.droughtMultiplier[e.usedCorruptions[8]],1-1/2*e.platonicUpgrades[13]),d=[fe([1+e.researches[78]/50,1+e.researches[111]/100,1+j("reincarnation",e.challengecompletions[7])/10,g]),fe([1+e.researches[80]/50,1+e.researches[112]/100,1+j("reincarnation",e.challengecompletions[7])/10,g]),fe([1+e.researches[79]/50,1+e.researches[113]/100,1+j("reincarnation",e.challengecompletions[8])/5,g]),fe([1+e.researches[77]/50,1+e.researches[114]/100,1+j("reincarnation",e.challengecompletions[6])/10,g]),fe([1+e.researches[83]/20,1+e.researches[115]/100,1+j("reincarnation",e.challengecompletions[9])/5,g]),fe([1]),fe([1])],m=[l,c,o,d[t]];return a?m:Math.min(1e200,fe(m))}var uf=t=>fe([Math.pow((t+1)/2,3),(3.5*t+100)/500,Math.max(1,(t-200)/9),Math.max(1,(t-400)/12),Math.max(1,(t-600)/15),Math.max(1,Math.pow(1.03,(t-800)/4))]),Xo=null,cn=(t,n=e.runelevels[t])=>{Xo!=null||(Xo=Array.from({length:4e4},(a,o)=>uf(o)));let r=Xo[n];return t===5&&(r=Math.pow(100,n)),t===6&&(r=Math.pow(1e25,n)*(e.highestSingularityCount+1)),r*s.runeexpbase[t]},Be=t=>{let n=1e3,r=20*(e.cubeUpgrades[16]+e.cubeUpgrades[37])+3*e.constantUpgrades[7]+80*j("ascension",e.challengecompletions[11])+200*j("ascension",e.challengecompletions[14])+Math.floor(.04*e.researches[200]+.04*e.cubeUpgrades[50]),a=[null,10*(e.researches[78]+e.researches[111])+r,10*(e.researches[80]+e.researches[112])+r,10*(e.researches[79]+e.researches[113])+r,10*(e.researches[77]+e.researches[114])+r,10*e.researches[115]+r,-901,-999];return n=a[t]>s.runeMaxLvl?s.runeMaxLvl:n+a[t],n},jn=()=>e.runelevels[5]+Math.max(0,e.runelevels[5]-74)+Math.max(0,e.runelevels[5]-98);function tn(t,n=!0,r=!1){if(t=="acceleratorBoost"||t=="ascension"||t=="ascensionChallenge")return 0;let a=0,o=0,l=0,c=0;(t=="reincarnation"||t=="reincarnationChallenge")&&(o+=3,e.achievements[52]>.5&&(o+=25*Math.min(e.reincarnationcounter/1800,1)),e.upgrades[62]>.5&&(o+=1/50*le(e.challengecompletions)),o+=.6*e.researches[25],e.researches[95]===1&&(o+=4),o+=1/200*s.rune5level*s.effectiveLevelMult*(1+e.researches[85]/200),o*=1+Math.pow(f.log(e.reincarnationShards.add(1),10),2/3)/4,o*=Math.min(Math.pow(e.reincarnationcounter/10+1,2),1),e.reincarnationcounter>=5&&(o*=Math.max(1,e.reincarnationcounter/10))),(t=="transcension"||t=="transcensionChallenge"||t=="reincarnation"||t=="reincarnationChallenge")&&(l+=2,e.reincarnationCount>0&&(l+=2),e.achievements[44]>.5&&(l+=15*Math.min(e.transcendcounter/1800,1)),e.challengecompletions[2]>0&&(l+=1),l+=.2*e.researches[24],l+=1/200*s.rune5level*s.effectiveLevelMult*(1+e.researches[85]/200),l*=1+Math.pow(f.log(e.transcendShards.add(1),10),1/2)/5,l*=1+j("reincarnation",e.challengecompletions[8])/25,l*=Math.min(Math.pow(e.transcendcounter/10,2),1),e.transcendCount>=5&&(l*=Math.max(1,e.transcendcounter/10))),c+=1,(e.transcendCount>0||e.reincarnationCount>0)&&(c+=1),e.reincarnationCount>0&&(c+=2),e.achievements[37]>.5&&(c+=15*Math.min(e.prestigecounter/1800,1)),e.challengecompletions[2]>0&&(c+=1),c+=.2*e.researches[24],c+=1/200*s.rune5level*s.effectiveLevelMult*(1+e.researches[85]/200),c*=1+Math.pow(f.log(e.prestigeShards.add(1),10),1/2)/5,c*=1+j("reincarnation",e.challengecompletions[6])/50,c*=Math.min(Math.pow(e.prestigecounter/10,2),1),e.prestigeCount>=5&&(c*=Math.max(1,e.prestigecounter/10)),a=o+l+c;let g=[1+10*e.achievements[33]/100,1+15*e.achievements[34]/100,1+25*e.achievements[35]/100,1+20*e.upgrades[38]/100,1+e.upgrades[75]*2*Math.min(1,Math.pow(e.maxobtainium/3e7,.5)),1+1/50*e.shopUpgrades.offeringAuto,1+1/25*e.shopUpgrades.offeringEX,1+1/100*e.shopUpgrades.cashGrab,1+1/1e4*le(e.challengecompletions)*e.researches[85],1+Math.pow(e.antUpgrades[6-1]+s.bonusant6,.66),s.cubeBonusMultiplier[3],1+.02*e.constantUpgrades[3],1+3e-4*e.talismanLevels[3-1]*e.researches[149]+4e-4*e.talismanLevels[3-1]*e.researches[179],1+.12*j("ascension",e.challengecompletions[12]),1+.01/100*e.researches[200],1+Math.min(1,e.ascensionCount/1e6)*e.achievements[187],1+.6*e.achievements[250]+1*e.achievements[251],1+.05*e.cubeUpgrades[46],1+.02/100*e.cubeUpgrades[50],1+e.platonicUpgrades[5],1+2.5*e.platonicUpgrades[10],1+5*e.platonicUpgrades[15],s.challenge15Rewards.offering,1+5*(e.singularityUpgrades.starterPack.getEffect().bonus?1:0),+e.singularityUpgrades.singOfferings1.getEffect().bonus,+e.singularityUpgrades.singOfferings2.getEffect().bonus,+e.singularityUpgrades.singOfferings3.getEffect().bonus,+e.singularityUpgrades.singCitadel.getEffect().bonus,+e.singularityUpgrades.singCitadel2.getEffect().bonus,1+e.cubeUpgrades[54]/100,+e.octeractUpgrades.octeractOfferings1.getEffect().bonus,1+ct("Offering")];if(n)a*=fe(g);else return g;if(r)return fe(g);a/=we("Offering"),a=Math.floor(a)*100/100,e.currentChallenge.ascension===15&&(a*=1+7*e.cubeUpgrades[62]),a*=1+1/200*e.shopUpgrades.cashGrab2,a*=1+1/100*e.shopUpgrades.offeringEX2*e.singularityCount,a*=Math.pow(1.02,e.shopUpgrades.offeringEX3),a*=mi(),a=Math.min(1e300,a);let d=0;return t==="prestige"&&(d=a/(1+e.prestigecounter)),(t==="transcension"||t=="transcensionChallenge")&&(d=a/(1+e.transcendcounter)),(t==="reincarnation"||t=="reincarnationChallenge")&&(d=a/(1+e.reincarnationcounter)),d>e.offeringpersecond&&(e.offeringpersecond=d),a}var jt=()=>{s.obtainiumGain=1,e.upgrades[69]>0&&(s.obtainiumGain*=Math.min(10,new f(f.pow(f.log(s.reincarnationPointGain.add(10),10),.5)).toNumber())),e.upgrades[72]>0&&(s.obtainiumGain*=Math.min(50,1+2*e.challengecompletions[6]+2*e.challengecompletions[7]+2*e.challengecompletions[8]+2*e.challengecompletions[9]+2*e.challengecompletions[10])),e.upgrades[74]>0&&(s.obtainiumGain*=1+4*Math.min(1,Math.pow(e.maxofferings/1e5,.5))),s.obtainiumGain*=1+e.researches[65]/5,s.obtainiumGain*=1+e.researches[76]/10,s.obtainiumGain*=1+e.researches[81]/10,s.obtainiumGain*=1+e.shopUpgrades.obtainiumAuto/50,s.obtainiumGain*=1+e.shopUpgrades.cashGrab/100,s.obtainiumGain*=1+s.rune5level/200*s.effectiveLevelMult*(1+e.researches[84]/200*(1+1*s.effectiveRuneSpiritPower[5]*_e()/400)),s.obtainiumGain*=1+.01*e.achievements[84]+.03*e.achievements[91]+.05*e.achievements[98]+.07*e.achievements[105]+.09*e.achievements[112]+.11*e.achievements[119]+.13*e.achievements[126]+.15*e.achievements[133]+.17*e.achievements[140]+.19*e.achievements[147],s.obtainiumGain*=1+2*Math.pow((e.antUpgrades[10-1]+s.bonusant10)/50,2/3),s.obtainiumGain*=1+e.achievements[188]*Math.min(2,e.ascensionCount/5e6),s.obtainiumGain*=1+.6*e.achievements[250]+1*e.achievements[251],s.obtainiumGain*=s.cubeBonusMultiplier[5],s.obtainiumGain*=1+.04*e.constantUpgrades[4],s.obtainiumGain*=1+.1*e.cubeUpgrades[47],s.obtainiumGain*=1+.1*e.cubeUpgrades[3],s.obtainiumGain*=1+.5*j("ascension",e.challengecompletions[12]),s.obtainiumGain*=1+_e()/400*s.effectiveRuneSpiritPower[4],s.obtainiumGain*=1+.03*Math.log(e.uncommonFragments+1)/Math.log(4)*e.researches[144],s.obtainiumGain*=1+.02/100*e.cubeUpgrades[50],e.achievements[53]>0&&(s.obtainiumGain*=1+1/800*s.runeSum),e.achievements[128]&&(s.obtainiumGain*=1.5),e.achievements[129]&&(s.obtainiumGain*=1.25),e.achievements[51]>0&&(s.obtainiumGain+=4),e.reincarnationcounter>=2&&(s.obtainiumGain+=1*e.researches[63]),e.reincarnationcounter>=5&&(s.obtainiumGain+=2*e.researches[64]),s.obtainiumGain*=Math.min(1,Math.pow(e.reincarnationcounter/10,2)),s.obtainiumGain*=1+1/25*e.shopUpgrades.obtainiumEX,e.reincarnationCount>=5&&(s.obtainiumGain*=Math.max(1,e.reincarnationcounter/10)),s.obtainiumGain*=Math.pow(f.log(e.transcendShards.add(1),10)/300,2),s.obtainiumGain=Math.pow(s.obtainiumGain,Math.min(1,s.illiteracyPower[e.usedCorruptions[5]]*(1+9/100*e.platonicUpgrades[9]*Math.min(100,Math.log10(e.researchPoints+10))))),s.obtainiumGain*=1+4/100*e.cubeUpgrades[42],s.obtainiumGain*=1+3/100*e.cubeUpgrades[43],s.obtainiumGain*=1+e.platonicUpgrades[5],s.obtainiumGain*=1+1.5*e.platonicUpgrades[9],s.obtainiumGain*=1+2.5*e.platonicUpgrades[10],s.obtainiumGain*=1+5*e.platonicUpgrades[15],s.obtainiumGain*=s.challenge15Rewards.obtainium,s.obtainiumGain*=1+5*(e.singularityUpgrades.starterPack.getEffect().bonus?1:0),s.obtainiumGain*=+e.singularityUpgrades.singObtainium1.getEffect().bonus,s.obtainiumGain*=+e.singularityUpgrades.singObtainium2.getEffect().bonus,s.obtainiumGain*=+e.singularityUpgrades.singObtainium3.getEffect().bonus,s.obtainiumGain*=1+e.cubeUpgrades[55]/100,s.obtainiumGain*=1+1/200*e.shopUpgrades.cashGrab2,s.obtainiumGain*=1+1/100*e.shopUpgrades.obtainiumEX2*e.singularityCount,s.obtainiumGain*=1+ct("Obtainium"),s.obtainiumGain*=+e.singularityUpgrades.singCitadel.getEffect().bonus,s.obtainiumGain*=+e.singularityUpgrades.singCitadel2.getEffect().bonus,s.obtainiumGain*=+e.octeractUpgrades.octeractObtainium1.getEffect().bonus,s.obtainiumGain*=Math.pow(1.02,e.shopUpgrades.obtainiumEX3),s.obtainiumGain*=hi(),e.currentChallenge.ascension===15&&(s.obtainiumGain+=1,s.obtainiumGain*=1+7*e.cubeUpgrades[62]),isFinite(s.obtainiumGain)||(s.obtainiumGain=1e300),s.obtainiumGain=Math.min(1e300,s.obtainiumGain),s.obtainiumGain/=we("Obtainium"),e.usedCorruptions[5]>=15&&(s.obtainiumGain=Math.pow(s.obtainiumGain,1/4)),e.usedCorruptions[5]>=16&&(s.obtainiumGain=Math.pow(s.obtainiumGain,1/3)),s.obtainiumGain=Math.max(1+e.singularityCount,s.obtainiumGain),e.currentChallenge.ascension===14&&(s.obtainiumGain=0),e.obtainiumpersecond=Math.min(1e300,s.obtainiumGain)/(.1+e.reincarnationcounter),e.maxobtainiumpersecond=Math.max(e.maxobtainiumpersecond,e.obtainiumpersecond)},ha=()=>.05*(10*e.researches[61]+2*e.researches[62])*e.maxobtainiumpersecond*(1+4*e.cubeUpgrades[3]/5),Ni=()=>{let t=0,n=0;if(e.achievements[135]===1&&(t+=.02),e.achievements[136]===1&&(t+=.02),t+=.02*(e.talismanRarity[4-1]-1),t+=3*e.researches[106]/100,t+=3*e.researches[107]/100,t+=3*e.researches[116]/200,t+=3*e.researches[117]/200,t+=s.cubeBonusMultiplier[9]-1,t+=4e-4*e.cubeUpgrades[50],n+=.06*e.researches[118],n+=4e-4*e.cubeUpgrades[50],e.highestSingularityCount>=7&&(t+=n,n=t),e.highestSingularityCount<7)for(let o=1;o<=5;o++)e.talismanOne[o]===1?s.talisman1Effect[o]=(s.talismanPositiveModifier[e.talismanRarity[1-1]]+t)*e.talismanLevels[1-1]*s.challenge15Rewards.talismanBonus:s.talisman1Effect[o]=(s.talismanNegativeModifier[e.talismanRarity[1-1]]-n)*e.talismanLevels[1-1]*-1*s.challenge15Rewards.talismanBonus,e.talismanTwo[o]===1?s.talisman2Effect[o]=(s.talismanPositiveModifier[e.talismanRarity[2-1]]+t)*e.talismanLevels[2-1]*s.challenge15Rewards.talismanBonus:s.talisman2Effect[o]=(s.talismanNegativeModifier[e.talismanRarity[2-1]]-n)*e.talismanLevels[2-1]*-1*s.challenge15Rewards.talismanBonus,e.talismanThree[o]===1?s.talisman3Effect[o]=(s.talismanPositiveModifier[e.talismanRarity[3-1]]+t)*e.talismanLevels[3-1]*s.challenge15Rewards.talismanBonus:s.talisman3Effect[o]=(s.talismanNegativeModifier[e.talismanRarity[3-1]]-n)*e.talismanLevels[3-1]*-1*s.challenge15Rewards.talismanBonus,e.talismanFour[o]===1?s.talisman4Effect[o]=(s.talismanPositiveModifier[e.talismanRarity[4-1]]+t)*e.talismanLevels[4-1]*s.challenge15Rewards.talismanBonus:s.talisman4Effect[o]=(s.talismanNegativeModifier[e.talismanRarity[4-1]]-n)*e.talismanLevels[4-1]*-1*s.challenge15Rewards.talismanBonus,e.talismanFive[o]===1?s.talisman5Effect[o]=(s.talismanPositiveModifier[e.talismanRarity[5-1]]+t)*e.talismanLevels[5-1]*s.challenge15Rewards.talismanBonus:s.talisman5Effect[o]=(s.talismanNegativeModifier[e.talismanRarity[5-1]]-n)*e.talismanLevels[5-1]*-1*s.challenge15Rewards.talismanBonus,e.talismanSix[o]===1?s.talisman6Effect[o]=(s.talismanPositiveModifier[e.talismanRarity[6-1]]+t)*e.talismanLevels[6-1]*s.challenge15Rewards.talismanBonus:s.talisman6Effect[o]=(s.talismanNegativeModifier[e.talismanRarity[6-1]]-n)*e.talismanLevels[6-1]*-1*s.challenge15Rewards.talismanBonus,e.talismanSeven[o]===1?s.talisman7Effect[o]=(s.talismanPositiveModifier[e.talismanRarity[7-1]]+t)*e.talismanLevels[7-1]*s.challenge15Rewards.talismanBonus:s.talisman7Effect[o]=(s.talismanNegativeModifier[e.talismanRarity[7-1]]-n)*e.talismanLevels[7-1]*-1*s.challenge15Rewards.talismanBonus;else for(let o=1;o<=5;o++)s.talisman1Effect[o]=(s.talismanPositiveModifier[e.talismanRarity[1-1]]+t)*e.talismanLevels[1-1]*s.challenge15Rewards.talismanBonus,s.talisman2Effect[o]=(s.talismanPositiveModifier[e.talismanRarity[2-1]]+t)*e.talismanLevels[2-1]*s.challenge15Rewards.talismanBonus,s.talisman3Effect[o]=(s.talismanPositiveModifier[e.talismanRarity[3-1]]+t)*e.talismanLevels[3-1]*s.challenge15Rewards.talismanBonus,s.talisman4Effect[o]=(s.talismanPositiveModifier[e.talismanRarity[4-1]]+t)*e.talismanLevels[4-1]*s.challenge15Rewards.talismanBonus,s.talisman5Effect[o]=(s.talismanPositiveModifier[e.talismanRarity[5-1]]+t)*e.talismanLevels[5-1]*s.challenge15Rewards.talismanBonus,s.talisman6Effect[o]=(s.talismanPositiveModifier[e.talismanRarity[6-1]]+t)*e.talismanLevels[6-1]*s.challenge15Rewards.talismanBonus,s.talisman7Effect[o]=(s.talismanPositiveModifier[e.talismanRarity[7-1]]+t)*e.talismanLevels[7-1]*s.challenge15Rewards.talismanBonus;let r=[s.talisman1Effect,s.talisman2Effect,s.talisman3Effect,s.talisman4Effect,s.talisman5Effect,s.talisman6Effect,s.talisman7Effect],a=[0,0,0,0,0,0];r.forEach(o=>{o.forEach((l,c)=>{a[c]+=l})}),[,s.rune1Talisman,s.rune2Talisman,s.rune3Talisman,s.rune4Talisman,s.rune5Talisman]=a,s.talisman6Power=0,s.talisman7Quarks=0,e.talismanRarity[1-1]===6&&(s.rune2Talisman+=400),e.talismanRarity[2-1]===6&&(s.rune1Talisman+=400),e.talismanRarity[3-1]===6&&(s.rune4Talisman+=400),e.talismanRarity[4-1]===6&&(s.rune3Talisman+=400),e.talismanRarity[5-1]===6&&(s.rune5Talisman+=400),e.talismanRarity[6-1]===6&&(s.talisman6Power=2.5),e.talismanRarity[7-1]===6&&(s.talisman7Quarks=2)},ke=()=>{var t;if(Ni(),e.currentChallenge.reincarnation!==9){let n=(t=e.antUpgrades[8])!=null?t:0;s.rune1level=Math.max(1,e.runelevels[0]+Math.min(1e7,n+s.bonusant9)*1+s.rune1Talisman+7*e.constantUpgrades[7]),s.rune2level=Math.max(1,e.runelevels[1]+Math.min(1e7,n+s.bonusant9)*1+s.rune2Talisman+7*e.constantUpgrades[7]),s.rune3level=Math.max(1,e.runelevels[2]+Math.min(1e7,n+s.bonusant9)*1+s.rune3Talisman+7*e.constantUpgrades[7]),s.rune4level=Math.max(1,e.runelevels[3]+Math.min(1e7,n+s.bonusant9)*1+s.rune4Talisman+7*e.constantUpgrades[7]),s.rune5level=Math.max(1,e.runelevels[4]+Math.min(1e7,n+s.bonusant9)*1+s.rune5Talisman+7*e.constantUpgrades[7])}s.runeSum=le([s.rune1level,s.rune2level,s.rune3level,s.rune4level,s.rune5level]),Is()},Is=()=>{s.blessingMultiplier=1,s.spiritMultiplier=1,s.blessingMultiplier*=1+6.9*e.researches[134]/100,s.blessingMultiplier*=1+(e.talismanRarity[3-1]-1)/10,s.blessingMultiplier*=1+.1*Math.log10(e.epicFragments+1)*e.researches[174],s.blessingMultiplier*=1+2*e.researches[194]/100,e.researches[160]>0&&(s.blessingMultiplier*=Math.pow(1.25,8)),s.spiritMultiplier*=1+8*e.researches[164]/100,e.researches[165]>0&&e.currentChallenge.ascension!==0&&(s.spiritMultiplier*=Math.pow(2,8)),s.spiritMultiplier*=1+.15*Math.log10(e.legendaryFragments+1)*e.researches[189],s.spiritMultiplier*=1+2*e.researches[194]/100,s.spiritMultiplier*=1+(e.talismanRarity[5-1]-1)/100;for(let t=1;t<=5;t++)s.runeBlessings[t]=s.blessingMultiplier*e.runelevels[t-1]*e.runeBlessingLevels[t],s.runeSpirits[t]=s.spiritMultiplier*e.runelevels[t-1]*e.runeSpiritLevels[t];for(let t=1;t<=5;t++)s.runeBlessings[t]<=1e30?s.effectiveRuneBlessingPower[t]=Math.pow(s.runeBlessings[t],1/8)/75*s.challenge15Rewards.blessingBonus:s.runeBlessings[t]>1e30&&(s.effectiveRuneBlessingPower[t]=Math.pow(10,5/2)*Math.pow(s.runeBlessings[t],1/24)/75*s.challenge15Rewards.blessingBonus),s.runeSpirits[t]<=1e25?s.effectiveRuneSpiritPower[t]=Math.pow(s.runeSpirits[t],1/8)/75*s.challenge15Rewards.spiritBonus:s.runeSpirits[t]>1e25&&(s.effectiveRuneSpiritPower[t]=Math.pow(10,25/12)*Math.pow(s.runeSpirits[t],1/24)/75*s.challenge15Rewards.spiritBonus)},st=()=>{let t=0;t+=2*(e.talismanRarity[6-1]-1),t+=j("reincarnation",e.challengecompletions[9]),t+=2*e.constantUpgrades[6],t+=12*j("ascension",e.challengecompletions[11]),t+=Math.floor(1/200*e.researches[200]),t*=s.challenge15Rewards.bonusAntLevel;let n=0,r=0;e.currentChallenge.ascension===11&&(n=999),e.currentChallenge.ascension===11&&(r=Math.floor((4*e.challengecompletions[8]+23*e.challengecompletions[9])*Math.max(0,1-e.challengecompletions[11]/10))),s.bonusant1=Math.min(e.antUpgrades[1-1]+n,4*e.researches[97]+t+e.researches[102]+2*e.researches[132]+r),s.bonusant2=Math.min(e.antUpgrades[2-1]+n,4*e.researches[97]+t+e.researches[102]+2*e.researches[132]+r),s.bonusant3=Math.min(e.antUpgrades[3-1]+n,4*e.researches[97]+t+e.researches[102]+2*e.researches[132]+r),s.bonusant4=Math.min(e.antUpgrades[4-1]+n,4*e.researches[97]+t+e.researches[102]+2*e.researches[132]+r),s.bonusant5=Math.min(e.antUpgrades[5-1]+n,4*e.researches[97]+t+e.researches[102]+2*e.researches[132]+r),s.bonusant6=Math.min(e.antUpgrades[6-1]+n,4*e.researches[97]+t+e.researches[102]+2*e.researches[132]+r),s.bonusant7=Math.min(e.antUpgrades[7-1]+n,4*e.researches[98]+t+e.researches[102]+2*e.researches[132]+r),s.bonusant8=Math.min(e.antUpgrades[8-1]+n,4*e.researches[98]+t+e.researches[102]+2*e.researches[132]+r),s.bonusant9=Math.min(e.antUpgrades[9-1]+n,4*e.researches[98]+t+e.researches[102]+2*e.researches[132]+r),s.bonusant10=Math.min(e.antUpgrades[10-1]+n,4*e.researches[98]+t+e.researches[102]+2*e.researches[132]+r),s.bonusant11=Math.min(e.antUpgrades[11-1]+n,4*e.researches[98]+t+e.researches[102]+2*e.researches[132]+r),s.bonusant12=Math.min(e.antUpgrades[12-1]+n,4*e.researches[98]+t+e.researches[102]+2*e.researches[132]+r)},Nn=()=>{s.antELO=0,s.effectiveELO=0;let t=le(e.antUpgrades);e.antPoints.gte("1e40")&&(s.antELO+=f.log(e.antPoints,10),s.antELO+=1/2*t,s.antELO+=1/10*e.firstOwnedAnts,s.antELO+=1/5*e.secondOwnedAnts,s.antELO+=1/3*e.thirdOwnedAnts,s.antELO+=1/2*e.fourthOwnedAnts,s.antELO+=e.fifthOwnedAnts,s.antELO+=2*e.sixthOwnedAnts,s.antELO+=4*e.seventhOwnedAnts,s.antELO+=8*e.eighthOwnedAnts,s.antELO+=666*e.researches[178],s.antELO*=1+.01*e.achievements[180]+.02*e.achievements[181]+.03*e.achievements[182],s.antELO*=1+e.researches[110]/100,s.antELO*=1+2.5*e.researches[148]/100,e.achievements[176]===1&&(s.antELO+=25),e.achievements[177]===1&&(s.antELO+=50),e.achievements[178]===1&&(s.antELO+=75),e.achievements[179]===1&&(s.antELO+=100),s.antELO+=25*e.researches[108],s.antELO+=25*e.researches[109],s.antELO+=40*e.researches[123],s.antELO+=100*j("reincarnation",e.challengecompletions[10]),s.antELO+=75*e.upgrades[80],s.antELO=1/10*Math.floor(10*s.antELO),s.effectiveELO+=.5*Math.min(3500,s.antELO),s.effectiveELO+=.1*Math.min(4e3,s.antELO),s.effectiveELO+=.1*Math.min(6e3,s.antELO),s.effectiveELO+=.1*Math.min(1e4,s.antELO),s.effectiveELO+=.2*s.antELO,s.effectiveELO+=s.cubeBonusMultiplier[8]-1,s.effectiveELO+=1*e.cubeUpgrades[50],s.effectiveELO*=1+.03*e.upgrades[124])},pf=()=>{s.timeMultiplier=Math.min(1,Math.pow(e.antSacrificeTimer/10,2)),e.achievements[177]===0&&(s.timeMultiplier*=Math.min(1e3,Math.max(1,e.antSacrificeTimer/10))),e.achievements[177]>0&&(s.timeMultiplier*=Math.max(1,e.antSacrificeTimer/10)),s.upgradeMultiplier=1,s.upgradeMultiplier*=1+2*(1-Math.pow(2,-(e.antUpgrades[11-1]+s.bonusant11)/125)),s.upgradeMultiplier*=1+e.researches[103]/20,s.upgradeMultiplier*=1+e.researches[104]/20,e.achievements[132]===1&&(s.upgradeMultiplier*=1.25),e.achievements[137]===1&&(s.upgradeMultiplier*=1.25),s.upgradeMultiplier*=1+20/3*s.effectiveRuneBlessingPower[3],s.upgradeMultiplier*=1+1/50*j("reincarnation",e.challengecompletions[10]),s.upgradeMultiplier*=1+1/50*e.researches[122],s.upgradeMultiplier*=1+3/100*e.researches[133],s.upgradeMultiplier*=1+2/100*e.researches[163],s.upgradeMultiplier*=1+1/100*e.researches[193],s.upgradeMultiplier*=1+1/10*e.upgrades[79],s.upgradeMultiplier*=1+1/4*e.upgrades[40],s.upgradeMultiplier*=s.cubeBonusMultiplier[7],s.upgradeMultiplier*=1+ct("Ant Sacrifice"),s.upgradeMultiplier=Math.min(1e300,s.upgradeMultiplier)},oi=()=>{Nn(),pf();let t=1e300,n=Math.min(t,s.timeMultiplier*s.upgradeMultiplier);return{antSacrificePoints:s.effectiveELO*n/85,offerings:Math.min(t,e.offeringpersecond*.15*s.effectiveELO*n/180),obtainium:Math.min(t,e.maxobtainiumpersecond*.24*s.effectiveELO*n/180),talismanShards:s.antELO>500?Math.min(t,Math.max(1,Math.floor(n/210*Math.pow(1/4*Math.max(0,s.effectiveELO-500),2)))):0,commonFragments:s.antELO>750?Math.min(t,Math.max(1,Math.floor(n/110*Math.pow(1/9*Math.max(0,s.effectiveELO-750),1.83)))):0,uncommonFragments:s.antELO>1e3?Math.min(t,Math.max(1,Math.floor(n/170*Math.pow(1/16*Math.max(0,s.effectiveELO-1e3),1.66)))):0,rareFragments:s.antELO>1500?Math.min(t,Math.max(1,Math.floor(n/200*Math.pow(1/25*Math.max(0,s.effectiveELO-1500),1.5)))):0,epicFragments:s.antELO>2e3?Math.min(t,Math.max(1,Math.floor(n/200*Math.pow(1/36*Math.max(0,s.effectiveELO-2e3),1.33)))):0,legendaryFragments:s.antELO>3e3?Math.min(t,Math.max(1,Math.floor(n/230*Math.pow(1/49*Math.max(0,s.effectiveELO-3e3),1.16)))):0,mythicalFragments:s.antELO>5e3?Math.min(t,Math.max(1,Math.floor(n/220*Math.pow(1/64*Math.max(0,s.effectiveELO-4150),1)))):0}},Iu=async()=>{let t=await Se(p.t("calculate.timePrompt")),n=Number(t);if(Number.isNaN(n)||n<=0)return R(p.t("calculate.timePromptError"));i("offlineContainer").style.display="flex",i("offlineBlur").style.display="",await Gi(n)},Gi=async(t=0)=>{Wo(),s.timeWarp=!0;let n=86400*3+7200*2*e.researches[31]+7200*2*e.researches[32],r=Date.now(),a=Math.min(n,Math.max(t,(r-e.offlinetick)/1e3)),o=a/200,l=200;i("offlineTimer").textContent=p.t("calculate.offlineTimer",{value:u(a,0)}),br(e.buyTalismanShardPercent),gt();let c=e.offlinetick>0;e.offlinetick=e.offlinetick<15e11?Date.now():e.offlinetick,s.timeMultiplier=Le().mult,jt();let g=ha(),d={prestige:a/Math.max(.01,e.fastestprestige),offering:Math.floor(a),transcension:a/Math.max(.01,e.fastesttranscend),reincarnation:a/Math.max(.01,e.fastestreincarnate),obtainium:a*g*s.timeMultiplier},m={prestige:a*s.timeMultiplier,transcension:a*s.timeMultiplier,reincarnation:a*s.timeMultiplier,ants:a*s.timeMultiplier,antsReal:a,ascension:e.ascensionCounter,quarks:it().gain};Pe("ascension",a),Pe("quarks",a),Pe("goldenQuarks",a),Pe("singularity",a),Pe("octeracts",o),e.prestigeCount+=d.prestige,e.transcendCount+=d.transcension,e.reincarnationCount+=d.reincarnation,m.ascension=e.ascensionCounter-m.ascension,m.quarks=it().gain-m.quarks;let h=bt(()=>{s.timeMultiplier=Le().mult,jt(),Pe("prestige",o),Pe("transcension",o),Pe("reincarnation",o),Pe("octeracts",o),Fi(o*s.timeMultiplier),e.researches[61]>0&&e.currentChallenge.ascension!==14&&qt("addObtainium",o),e.achievements[173]>0&&qt("antSacrifice",o),qt("addOfferings",o),e.shopUpgrades.offeringAuto>0&&e.autoSacrificeToggle&&qt("runeSacrifice",o),l%5===1&&xa(),l-=1,l<1&&(or(h),s.timeWarp=!1)},0);if(i("offlinePrestigeCountNumber").textContent=u(d.prestige,0,!0),i("offlinePrestigeTimer").innerHTML=p.t("offlineProgress.currentPrestigeTimer",{value:u(m.prestige,2,!1)}),i("offlineOfferingCount").innerHTML=p.t("offlineProgress.offeringsGenerated",{value:u(d.offering,0,!0)}),i("offlineTranscensionCount").innerHTML=p.t("offlineProgress.transcensionCount",{value:u(d.transcension,0,!0)}),i("offlineTranscensionTimer").innerHTML=p.t("offlineProgress.currentTranscensionCounter",{value:u(m.transcension,2,!1)}),i("offlineReincarnationCount").innerHTML=p.t("offlineProgress.reincarnationCount",{value:u(d.reincarnation,0,!0)}),i("offlineReincarnationTimer").innerHTML=p.t("offlineProgress.currentReincarnationTimer",{value:u(m.reincarnation,2,!1)}),i("offlineObtainiumCount").innerHTML=p.t("offlineProgress.obtainiumGenerated",{value:u(d.obtainium,0,!0)}),i("offlineAntTimer").innerHTML=p.t("offlineProgress.ingameAntSacTimer",{value:u(m.ants,2,!1)}),i("offlineRealAntTimer").innerHTML=p.t("offlineProgress.realAntSacTimer",{value:u(m.antsReal,2,!0)}),i("offlineAscensionTimer").innerHTML=p.t("offlineProgress.currentAscensionTimer",{value:u(m.ascension,2,!0)}),i("offlineQuarkCount").innerHTML=p.t("offlineProgress.exportQuarks",{value:u(m.quarks,0,!0)}),i("progressbardescription").textContent=p.t("calculate.offlineEarnings"),e.offlinetick=r,!e.loadedNov13Vers){if(e.challengecompletions[14]>0||e.highestchallengecompletions[14]>0){let y=e.ascensionCount;be("ascensionChallenge"),e.ascensionCount=y+1}e.loadedNov13Vers=!0}if(await Bt(),gt(),jt(),st(),ke(),c){let y=i("notification");y.classList.add("slide-out"),y.classList.remove("slide-in"),document.body.classList.remove("scrollbar"),document.body.classList.add("loading"),i("exitOffline").style.visibility="hidden",i("offlineContainer").style.display="flex",i("transparentBG").style.display="block"}else Nr()},Nr=()=>{document.body.classList.remove("loading"),document.body.classList.add("scrollbar"),i("transparentBG").style.display="none",i("offlineContainer").style.display="none",i("offlineBlur").style.display="none",Sa()},je=(t,n,r)=>1+(t-1)*(1-Math.pow(2,-n/r)),lt=(t,n)=>1+(t-1)*(1-Math.exp(-n)),yt=()=>{let t=[e.cubeBlessings.accelerator,e.cubeBlessings.multiplier,e.cubeBlessings.offering,e.cubeBlessings.runeExp,e.cubeBlessings.obtainium,e.cubeBlessings.antSpeed,e.cubeBlessings.antSacrifice,e.cubeBlessings.antELO,e.cubeBlessings.talismanBonus,e.cubeBlessings.globalSpeed],n=[e.cubeUpgrades[45]/100,e.cubeUpgrades[35]/100,e.cubeUpgrades[24]/100,e.cubeUpgrades[14]/100,e.cubeUpgrades[40]/100,e.cubeUpgrades[22]/40,e.cubeUpgrades[15]/100,e.cubeUpgrades[25]/100,e.cubeUpgrades[44]/100,e.cubeUpgrades[34]/100];for(let r=1;r<=10;r++){let a=1,o=1;t[r-1]>=1e3&&(a=s.blessingDRPower[r],o*=Math.pow(1e3,(1-s.blessingDRPower[r])*(1+n[r-1]))),r===6&&(a=2.25,o=1),s.cubeBonusMultiplier[r]=Math.min(1e300,1+o*s.blessingbase[r]*Math.pow(t[r-1],a*(1+n[r-1]))*s.tesseractBonusMultiplier[r])}ke(),Nn(),jt()},ya=()=>{if(e.singularityChallenges.noOcteracts.enabled)return 1;if(e.totalWowOcteracts<1e3){let t=1+.002*e.totalWowOcteracts;return t>1.00001?t:1}else{let t=2+ +e.singularityChallenges.noOcteracts.rewards.octeractPow;return 3*Math.pow(Math.log10(e.totalWowOcteracts)-2,t)}},vn=()=>{if(e.singularityChallenges.noOcteracts.enabled)return 1;if(e.totalWowOcteracts<1e3){let t=1+2e-4*e.totalWowOcteracts;return t>1.00001?t:1}else return 1.1+.1*(Math.log10(e.totalWowOcteracts)-2)},mi=()=>e.singularityChallenges.noOcteracts.rewards.offeringBonus?Math.pow(vn(),1.5):1,hi=()=>e.singularityChallenges.noOcteracts.rewards.obtainiumBonus?Math.pow(vn(),1.4):1,Dn=()=>{let t=[Math.pow(Math.min(1,e.ascensionCounter/10),2)*(1+(.25*e.achievements[204]+.25*e.achievements[211]+.5*e.achievements[218])*Math.max(0,e.ascensionCounter/10-1)),1+.06*e.achievements[250]+.1*e.achievements[251],1+e.achievements[240]*Math.min(.5,Math.max(.1,.05*Math.log10(Le().mult+.01))),s.challenge15Rewards.cube1*s.challenge15Rewards.cube2*s.challenge15Rewards.cube3*s.challenge15Rewards.cube4*s.challenge15Rewards.cube5,1+.01*jn(),1+e.platonicUpgrades[10],Math.pow(1.01,e.platonicUpgrades[15]*e.challengecompletions[9]),Co(),1+ct("Cubes"),1/we("Cubes"),1+.75*e.shopUpgrades.seasonPassY/100,1+4*(e.singularityUpgrades.starterPack.getEffect().bonus?1:0),+e.singularityUpgrades.singCubes1.getEffect().bonus,+e.singularityUpgrades.singCubes2.getEffect().bonus,+e.singularityUpgrades.singCubes3.getEffect().bonus,1+e.shopUpgrades.seasonPassZ*e.singularityCount/100,1+1*e.cubeUpgrades[66]*(1-e.platonicUpgrades[15]),1+.25*+s.isEvent*e.cubeUpgrades[58],ya(),+e.singularityChallenges.noSingularityUpgrades.rewards.cubes,+e.singularityUpgrades.singCitadel.getEffect().bonus,+e.singularityUpgrades.singCitadel2.getEffect().bonus,1+ +e.singularityUpgrades.platonicDelta.getEffect().bonus*Math.min(9,e.singularityCounter/86400),Math.pow(1.02,e.shopUpgrades.seasonPassInfinity)];return{mult:fe(t),list:t}},Ao=(t=-1)=>{t<0&&(t=Cn().effectiveScore);let n=[Math.pow(t/3e3,1/4.1),Dn().mult,1+2.25*e.shopUpgrades.seasonPass/100,(1+e.researches[119]/400)*(1+e.researches[120]/400)*(1+e.researches[137]/100)*(1+.9*e.researches[152]/100)*(1+.8*e.researches[167]/100)*(1+.7*e.researches[182]/100)*(1+.03/100*e.researches[192]*e.antUpgrades[12-1])*(1+.6*e.researches[197]/100),1+.004/100*e.researches[200],(1+e.cubeUpgrades[1]/6)*(1+e.cubeUpgrades[11]/11)*(1+.4*e.cubeUpgrades[30]),1+.01*f.log(e.ascendShards.add(1),4)*Math.min(1,e.constantUpgrades[10]),1+e.achievements[189]*Math.min(2,e.ascensionCount/25e7),1+e.achievements[193]*f.log(e.ascendShards.add(1),10)/400,1+Math.min(250,e.achievements[195]*f.log(e.ascendShards.add(1),10)/400),1+4/100*(e.achievements[198]+e.achievements[199]+e.achievements[200])+3/100*e.achievements[201],1+Math.min(.15,.6/100*Math.log10(t+1))*e.achievements[254],1+_e()/400*s.effectiveRuneSpiritPower[2],s.platonicBonusMultiplier[0],1+9e-5*le(e.usedCorruptions)*e.platonicUpgrades[1],1+Math.pow(1.03,Math.log10(Math.max(1,e.wowAbyssals)))*e.cubeUpgrades[63]-e.cubeUpgrades[63]];return{list:n,mult:fe(n)}},Oo=(t=-1)=>{t<0&&(t=Cn().effectiveScore);let n=le(e.usedCorruptions.slice(2,10)),r=[Math.pow(1+Math.max(0,t-1e5)/1e4,.35),Dn().mult,1+2.25*e.shopUpgrades.seasonPass/100,1+.01*f.log(e.ascendShards.add(1),4)*Math.min(1,e.constantUpgrades[10]),1+.4*e.cubeUpgrades[30],1+1/200*e.cubeUpgrades[38]*n,1+Math.min(250,e.achievements[195]*f.log(e.ascendShards.add(1),10)/400),1+e.achievements[202]*Math.min(2,e.ascensionCount/5e8),1+4/100*(e.achievements[205]+e.achievements[206]+e.achievements[207])+3/100*e.achievements[208],1+Math.min(.15,.6/100*Math.log10(t+1))*e.achievements[255],s.platonicBonusMultiplier[1],1+18e-5*n*e.platonicUpgrades[2]];return{list:r,mult:fe(r)}},Uo=(t=-1)=>{t<0&&(t=Cn().effectiveScore);let n=[Math.pow(1+Math.max(0,t-1e9)/1e8,.5),Dn().mult,1+1.5*e.shopUpgrades.seasonPass2/100,1+4/100*(e.achievements[212]+e.achievements[213]+e.achievements[214])+3/100*e.achievements[215],1+e.achievements[216]*Math.min(2,e.ascensionCount/1e9),1+1/10*e.achievements[253],1+Math.min(.15,.6/100*Math.log10(t+1))*e.achievements[256],1+Math.min(2,e.ascensionCount/25e9)*e.achievements[265],s.platonicBonusMultiplier[2],1+54e-5*le(e.usedCorruptions)*e.platonicUpgrades[3],1+.6/1e3*Ae("hyperrealism")];return{list:n,mult:fe(n)}},Bo=(t=-1)=>{t<0&&(t=Cn().effectiveScore);let n=[Math.pow(1+Math.max(0,t-2666e9)/2666e8,.75),Dn().mult,1+1.5*e.shopUpgrades.seasonPass2/100,1+Math.min(20,e.achievements[196]*1/5e3*f.log(e.ascendShards.add(1),10)),1+4/100*(e.achievements[219]+e.achievements[220]+e.achievements[221])+3/100*e.achievements[222],1+e.achievements[223]*Math.min(2,e.ascensionCount/1337e6),1+Math.min(.15,.6/100*Math.log10(t+1))*e.achievements[257],s.platonicBonusMultiplier[3],1+1.2*e.platonicUpgrades[4]/50];return{list:n,mult:fe(n)}},Ro=(t=-1)=>{t<0&&(t=Cn().effectiveScore);let n=[Math.pow(1+Math.max(0,t-1666e13)/333e14,.85),Dn().mult,1+1.5*e.shopUpgrades.seasonPass3/100,1+Math.min(.15,.6/100*Math.log10(t+1))*e.achievements[258],1+Math.min(.4,e.ascensionCount/2e13)*e.achievements[264],1+Math.min(.2,e.ascensionCount/8e14)*e.achievements[265],Math.min(2,1+1/1e6*f.log(e.ascendShards.add(1),10)*e.achievements[270])];return{list:n,mult:fe(n)}},Nu=()=>{let t=le(e.usedCorruptions.slice(2,10));return[1+1.5*e.shopUpgrades.seasonPass3/100,1+.75*e.shopUpgrades.seasonPassY/100,1+e.shopUpgrades.seasonPassZ*e.singularityCount/100,1+e.shopUpgrades.seasonPassLost/1e3,1+ +(t>=14*8)*e.cubeUpgrades[70]/1e4,1+ +(t>=14*8)*+e.singularityUpgrades.divinePack.getEffect().bonus,+e.singularityUpgrades.singCubes1.getEffect().bonus,+e.singularityUpgrades.singCubes2.getEffect().bonus,+e.singularityUpgrades.singCubes3.getEffect().bonus,+e.singularityUpgrades.singOcteractGain.getEffect().bonus,+e.singularityUpgrades.singOcteractGain2.getEffect().bonus,+e.singularityUpgrades.singOcteractGain3.getEffect().bonus,+e.singularityUpgrades.singOcteractGain4.getEffect().bonus,+e.singularityUpgrades.singOcteractGain5.getEffect().bonus,1+e.worlds.BONUS/100*+e.singularityUpgrades.singOcteractPatreonBonus.getEffect().bonus,1+.2*+e.octeractUpgrades.octeractStarter.getEffect().bonus,+e.octeractUpgrades.octeractGain.getEffect().bonus,+e.octeractUpgrades.octeractGain2.getEffect().bonus,mf(),Math.pow(1+ +e.octeractUpgrades.octeractAscensionsOcteractGain.getEffect().bonus,1+Math.floor(Math.log10(1+e.ascensionCount))),1+ct("Octeract"),1+ +e.singularityUpgrades.platonicDelta.getEffect().bonus*Math.min(9,e.singularityCounter/(3600*24)),+e.singularityChallenges.noSingularityUpgrades.rewards.cubes,Math.pow(1.02,e.shopUpgrades.seasonPassInfinity)]},rn=()=>{let n=Cn().effectiveScore,r=n>=1e23?n/1e23:0,a=Nu(),o=e.singularityUpgrades.oneMind.getEffect().bonus?Math.pow(10,1/2):Math.pow(Vt(),1/2),l=e.singularityUpgrades.oneMind.getEffect().bonus?Math.pow(Vt()/10,+e.octeractUpgrades.octeractOneMindImprover.getEffect().bonus):1;return 1/(24*3600*365*1e15)*r*fe(a)*o*l},Jc=(t=-1)=>{t<0&&(t=Cn().effectiveScore);let r=Nu();r.unshift(t>=1e23?t/1e23:0);let a=Vt(),o=e.singularityUpgrades.oneMind.getEffect().bonus?Math.pow(10,1/2)*Math.pow(a/10,+e.octeractUpgrades.octeractOneMindImprover.getEffect().bonus):Math.pow(a,1/2);return r.push(o),{list:r,mult:fe(r)}},Le=()=>{let t=[1+.0033333333333333335*Math.log10(e.maxobtainium+1)*e.upgrades[70],1+e.researches[121]/50,1+.015*e.researches[136],1+.012*e.researches[151],1+.009*e.researches[166],1+.006*e.researches[181],1+.003*e.researches[196],1+8*s.effectiveRuneBlessingPower[1],1+_e()/400*s.effectiveRuneSpiritPower[1],s.cubeBonusMultiplier[10],1+e.cubeUpgrades[18]/5,je(2,e.antUpgrades[11]+s.bonusant12,69),1+.1*(e.talismanRarity[1]-1),s.challenge15Rewards.globalSpeed,1+.01*e.cubeUpgrades[52]],n=[s.lazinessMultiplier[e.usedCorruptions[3]]],r=fe(t)*n[0];if(r>100){let c=10*Math.sqrt(r)/r;n.push(c)}else n.push(1);if(r<1){let c=Math.pow(r,1-e.platonicUpgrades[7]/30)/r;n.push(c)}else n.push(1);n.push(1/we("Global Speed"));let a=[s.platonicBonusMultiplier[7],1+(e.singularityUpgrades.intermediatePack.getEffect().bonus?1:0),1+ +e.octeractUpgrades.octeractImprovedGlobalSpeed.getEffect().bonus*e.singularityCount],o=fe(t)*fe(n)*fe(a);return e.usedCorruptions[3]>=6&&e.achievements[241]<1&&H(241),o>3600&&e.achievements[242]<1&&H(242),{preList:t,drList:n,postList:a,mult:o}},gf=()=>{if(e.singularityChallenges.limitedAscensions.enabled){let t=e.ascensionCount-Math.max(0,20-e.singularityChallenges.limitedAscensions.completions);return t=Math.max(0,t),Math.pow(2,t)}else return 1},ui=()=>{let t=[1+.012*e.shopUpgrades.chronometer,1+.006*e.shopUpgrades.chronometer2,1+.015*e.shopUpgrades.chronometer3,1+6e-4*Ae("chronos"),1+Math.min(.1,.01*Math.log10(e.ascensionCount+1))*e.achievements[262],1+Math.min(.1,.01*Math.log10(e.ascensionCount+1))*e.achievements[263],1+.002*le(e.usedCorruptions)*e.platonicUpgrades[15],s.challenge15Rewards.ascensionSpeed,1+.0025*e.cubeUpgrades[59],1+.5*(e.singularityUpgrades.intermediatePack.getEffect().bonus?1:0),1+.001*e.singularityCount*e.shopUpgrades.chronometerZ,1+ +e.octeractUpgrades.octeractImprovedAscensionSpeed.getEffect().bonus*e.singularityCount,1+ +e.octeractUpgrades.octeractImprovedAscensionSpeed2.getEffect().bonus*e.singularityCount,1+ct("Ascension Speed"),e.singularityUpgrades.singAscensionSpeed2.level>0&&e.runelevels[6]<1?6:1,Math.pow(1.01,e.shopUpgrades.chronometerInfinity),1/gf(),Math.pow(1+ +e.singularityChallenges.limitedAscensions.rewards.ascensionSpeedMult,1+Math.max(0,Math.floor(Math.log10(e.ascensionCount))))],n=fe(t),r=e.singularityUpgrades.singAscensionSpeed.level>0?n>=1?1.03:.97:1;return t.push(Math.pow(n,r)/n),t.push(1/we("Ascension Speed")),{list:t,mult:fe(t)}},Vt=()=>ui().mult,pi=()=>{let t=1,n=[5,20,35,50,65,80,90,100,121,144,150,160,166,169,170,175,180,190,196,200,200,201,202,203,204,205,210,212,214,216,218,220,225,250];for(let r of n)e.highestSingularityCount>=r&&(t*=1.05);return e.highestSingularityCount>=200&&(t*=Math.pow((e.highestSingularityCount-179)/20,2)),t},go=()=>{let t=1;return e.achievementPoints>0&&(t+=e.achievementPoints/25e3),e.achievements[250]>0&&(t+=.1),e.achievements[251]>0&&(t+=.1),e.platonicUpgrades[5]>0&&(t+=.1),e.platonicUpgrades[10]>0&&(t+=.15),e.platonicUpgrades[15]>0&&(t+=.2),e.challenge15Exponent>=1e11&&(t+=s.challenge15Rewards.quarks-1),e.shopUpgrades.infiniteAscent&&(t*=1.1+.15/75*jn()),e.challenge15Exponent>=1e15&&(t*=1+5/1e4*Ae("quark")),e.overfluxPowder>0&&(t*=Ur()),e.achievements[266]>0&&(t*=1+Math.min(.1,e.ascensionCount/1e16)),e.singularityCount>0&&(t*=1+e.singularityCount/10),s.isEvent&&(t*=1+ct("Quarks")+ct("One Mind")),e.cubeUpgrades[53]>0&&(t*=1+.1*e.cubeUpgrades[53]/100),e.cubeUpgrades[68]>0&&(t*=1+1/1e4*e.cubeUpgrades[68]+.05*Math.floor(e.cubeUpgrades[68]/1e3)),t*=pi(),t*=+e.octeractUpgrades.octeractQuarkGain.getEffect().bonus,t*=1+.25*+e.octeractUpgrades.octeractStarter.getEffect().bonus,t*=1+1/1e4*Math.floor(e.octeractUpgrades.octeractQuarkGain.level/199)*e.octeractUpgrades.octeractQuarkGain2.level*Math.floor(1+Math.log10(Math.max(1,e.hepteractCrafts.quark.BAL))),t*=1+.02*e.singularityUpgrades.intermediatePack.level+.04*e.singularityUpgrades.advancedPack.level+.06*e.singularityUpgrades.expertPack.level+.08*e.singularityUpgrades.masterPack.level+.1*e.singularityUpgrades.divinePack.level,t*=1+ +e.singularityUpgrades.singQuarkImprover1.getEffect().bonus,t*=vn(),e.highestSingularityCount===0&&(t*=1.25),t},gi=(t=!1)=>{let n=2*e.singularityCount+10,r=e.singularityCount<10?200-10*e.singularityCount:0;e.singularityCount===0&&(r+=200);let a=1;e.highestSingularityCount>=200&&(a=3),e.highestSingularityCount>=208&&(a=5),e.highestSingularityCount>=221&&(a=8);let o=[1+Math.max(0,Math.log10(e.challenge15Exponent+1)-20)/2,1+e.worlds.BONUS/100,+e.singularityUpgrades.goldenQuarks1.getEffect().bonus,1+.12*e.cubeUpgrades[69],+e.singularityChallenges.noSingularityUpgrades.rewards.goldenQuarks,1+ct("Golden Quarks"),1+Zn(),e.highestSingularityCount>=100?1+Math.min(1,e.highestSingularityCount/250):1,a];return o.push(t===!0?1/1e5:((n+e.quarksThisSingularity/1e5)*fe(o)+r)/fe(o)),{list:o,mult:fe(o)}},vt=(t=!1)=>gi(t).mult,_e=()=>{let t=400,n=e.singularityUpgrades.corruptionFifteen.getEffect().bonus?1:0;for(let r=1;r<=9;r++)t+=16*Math.pow(e.usedCorruptions[r]+n,2);return t},Ln=(t,n,r,a=1e9)=>{let o=n*t*(1+t)/2,l=Math.min(t+a,Math.floor(-1/2+Math.sqrt(1/4+2*(r+o)/n))),c=n*l*(1+l)/2-o;return[l,c]},Et=(t,n,r,a,o)=>{let l=a/2;r=r||0;let c=n*(l*Math.pow(t,2)+t*(1-l));r+=c;let g=r/n,d=l>0?Math.max(0,Math.floor((l-1)/(2*l)+Math.pow(Math.pow(1-l,2)+4*l*g,1/2)/(2*l))):Math.floor(g);d=Math.min(d,o+t),d=Math.max(d,t);let m=n*(l*Math.pow(d,2)+d*(1-l))-c;return d==t&&(m=n*(1+2*l*t)),{levelCanBuy:d,cost:m}},Ou=t=>t<0||!Number.isInteger(t)?-1:Math.pow(t*(t+1)/2,2),df=(t,n,r,a)=>{if(t<0)throw new Error(String(p.t("calculate.quadraticImproperError")));let o=Math.pow(n,2)-4*t*r;if(o<0)throw new Error(String(p.t("calculate.quadraticDeterminantError")));if(o===0)return-n/(2*t);let l=-n+Math.sqrt(Math.pow(n,2)-4*t*r),c=-n-Math.sqrt(Math.pow(n,2)-4*t*r);return a?l/(2*t):c/(2*t)},xu=(t,n,r,a)=>{if(t>=a)return{levelCanBuy:a,cost:0};let o=n*Ou(t),l=o+r;if(l<0)throw new Error(String(p.t("calculate.cubicSumNegativeError")));let c=Math.pow(l/n,.5),g=df(1,1,-2*c,!0),d=Math.max(Math.min(a,Math.floor(g)),t),m=d===t?n*Math.pow(t+1,3):n*Ou(d)-o;return{levelCanBuy:d,cost:m}},ff=()=>{let t=1;return t*=s.challenge15Rewards.score,t*=s.platonicBonusMultiplier[6],e.cubeUpgrades[21]>0&&(t*=1+.05*e.cubeUpgrades[21]),e.cubeUpgrades[31]>0&&(t*=1+.05*e.cubeUpgrades[31]),e.cubeUpgrades[41]>0&&(t*=1+.05*e.cubeUpgrades[41]),e.achievements[267]>0&&(t*=1+Math.min(1,1/1e5*f.log(e.ascendShards.add(1),10))),e.achievements[259]>0&&(t*=Math.max(1,Math.pow(1.01,Math.log2(e.hepteractCrafts.abyss.CAP)))),s.isEvent&&(t*=1+ct("Ascension Score")),t},Cn=()=>{let t=0,n=1,r=0,a=e.singularityUpgrades.corruptionFifteen.getEffect().bonus?1:0;a+=+e.singularityChallenges.oneChallengeCap.rewards.freeCorruptionLevel;let o=[0,8,10,12,15,20,60,80,120,180,300],l=[0,10,12,15,20,30,80,120,180,300,450],c=[0,20,30,50,100,200,250,300,400,500,750],g=[0,1e4,1e4,1e4,1e4,1e4,2e3,3e3,4e3,5e3,7500];o[1]+=e.cubeUpgrades[56],o[2]+=e.cubeUpgrades[56],o[3]+=e.cubeUpgrades[56];for(let h=1;h<=10;h++)t+=o[h]*e.highestchallengecompletions[h],h<=5&&e.highestchallengecompletions[h]>=75&&(t+=l[h]*(e.highestchallengecompletions[h]-75),e.highestchallengecompletions[h]>=750&&(t+=c[h]*(e.highestchallengecompletions[h]-750)),e.highestchallengecompletions[h]>=9e3&&(t+=g[h]*(e.highestchallengecompletions[h]-9e3))),h<=10&&h>5&&e.highestchallengecompletions[h]>=25&&(t+=l[h]*(e.highestchallengecompletions[h]-25),e.highestchallengecompletions[h]>=60&&(t+=c[h]*(e.highestchallengecompletions[h]-60)));t*=Math.pow(1.03+.005*e.cubeUpgrades[39]+.0025*(e.platonicUpgrades[5]+e.platonicUpgrades[10]),e.highestchallengecompletions[10]);let d=e.singularityUpgrades.advancedPack.getEffect().bonus?.33:0;d+=+e.singularityChallenges.oneChallengeCap.rewards.corrScoreIncrease;for(let h=2;h<10;h++){let y=h===2&&e.usedCorruptions[h]>=10?1+2*Math.min(1,e.platonicUpgrades[17])+.04*e.platonicUpgrades[17]:1;n*=Math.pow(s.corruptionPointMultipliers[e.usedCorruptions[h]+a],y)+d,e.usedCorruptions[h]>=14&&e.singularityUpgrades.masterPack.getEffect().bonus&&(n*=1.1)}let m=ff();return r=t*n*m,r>1e23&&(r=Math.pow(r,.5)*Math.pow(1e23,.5)),e.singularityUpgrades.expertPack.getEffect().bonus?r*=1.5:r*=1,{baseScore:t,corruptionMultiplier:n,bonusMultiplier:m,effectiveScore:r}},en=()=>{let t=0,n=1,r=Cn(),a=r.baseScore,o=r.corruptionMultiplier,l=r.bonusMultiplier,c=r.effectiveScore;for(let S=1;S<=10;S++)n=S>=6?2:1,t+=n*e.highestchallengecompletions[S];let g=e.singularityUpgrades.oneMind.getEffect().bonus?Vt()/10:1,d=t;d*=Ao(c).mult,d*=g;let m=e.singularityUpgrades.platonicTau.getEffect().bonus?1.01:1;d=Math.pow(d,m);let h=1;c>=1e5&&(h+=.5),h*=Oo(c).mult,h*=g;let y=c>=1e9?1:0;y*=Uo(c).mult,y*=g;let b=c>=2666e9?1:0;b*=Bo(c).mult,b*=g;let w=s.challenge15Rewards.hepteractUnlocked&&c>=1666e14&&e.achievements[255]>0?1:0;return w*=Ro(c).mult,w*=g,[t,Math.floor(a),o,Math.floor(c),Math.floor(d),Math.max(e.singularityCount,Math.floor(h)),Math.floor(y),Math.floor(b),Math.floor(w),l]},fa=()=>{let t=1;if(e.singularityChallenges.limitedAscensions.enabled)return t;if(e.challengecompletions[10]>0&&e.achievements[197]===1){let{effectiveScore:n}=Cn();e.ascensionCounter>=10&&(e.achievements[188]>0&&(t+=99),t*=1+(e.ascensionCounter/10-1)*.2*(e.achievements[189]+e.achievements[202]+e.achievements[209]+e.achievements[216]+e.achievements[223])),t*=e.achievements[187]&&Math.floor(n)>1e8?Math.log10(Math.floor(n)+1)-1:1,t*=s.challenge15Rewards.ascensions,t*=e.achievements[260]>0?1.1:1,t*=e.achievements[261]>0?1.1:1,t*=e.platonicUpgrades[15]>0?2:1,t*=1+.02*e.platonicUpgrades[16],t*=1+.02*e.platonicUpgrades[16]*Math.min(1,e.overfluxPowder/1e5),t*=1+e.singularityCount/10,t*=+e.singularityUpgrades.ascensions.getEffect().bonus,t*=+e.octeractUpgrades.octeractAscensions.getEffect().bonus,t*=+e.octeractUpgrades.octeractAscensions2.getEffect().bonus,t*=e.singularityUpgrades.oneMind.getEffect().bonus?Vt()/10:1}return Math.floor(t)},Qt=()=>{let t=[.01,s.challenge15Rewards.powder,1+e.shopUpgrades.powderEX/50,1+e.achievements[256]/20,1+e.achievements[257]/20,1+.01*e.platonicUpgrades[16],1+ct("Powder Conversion")];return{list:t,mult:fe(t)}},En=()=>(je(2,Math.pow(e.overfluxOrbs,.5),40)+je(1.5,Math.pow(e.overfluxOrbs,.5),160)+je(1.5,Math.pow(e.overfluxOrbs,.5),640)+je(1.15,+(e.highestSingularityCount>=1)*Math.pow(e.overfluxOrbs,.45),2560)+je(1.15,+(e.highestSingularityCount>=2)*Math.pow(e.overfluxOrbs,.4),1e4)+je(1.25,+(e.highestSingularityCount>=5)*Math.pow(e.overfluxOrbs,.35),4e4)+je(1.25,+(e.highestSingularityCount>=10)*Math.pow(e.overfluxOrbs,.32),16e4)+je(1.35,+(e.highestSingularityCount>=15)*Math.pow(e.overfluxOrbs,.27),64e4)+je(1.45,+(e.highestSingularityCount>=20)*Math.pow(e.overfluxOrbs,.24),2e6)+je(1.55,+(e.highestSingularityCount>=25)*Math.pow(e.overfluxOrbs,.21),1e7)+je(1.85,+(e.highestSingularityCount>=30)*Math.pow(e.overfluxOrbs,.18),4e7)+je(3,+(e.highestSingularityCount>=35)*Math.pow(e.overfluxOrbs,.15),1e8)-11)*(1+1/500*e.shopUpgrades.cubeToQuarkAll)*(e.autoWarpCheck?1+e.dailyPowderResetUses:1),Co=()=>e.overfluxPowder>1e4?1+1/16*Math.pow(Math.log10(e.overfluxPowder),2):1+1/1e4*e.overfluxPowder,Ur=()=>e.overfluxPowder>1e4?1+1/40*Math.log10(e.overfluxPowder):1+1/1e5*e.overfluxPowder,$i=()=>{if(!e.dayCheck)return;let t=new Date(Fo()),n=new Date(t.getFullYear(),t.getMonth(),t.getDate()),r=t.getHours(),a=t.getMinutes(),o=t.getSeconds();e.dayTimer=60*60*24-60*60*r-60*a-o,n.getTime()-36e5>e.dayCheck.getTime()&&(e.dayCheck=n,pa(!0),e.dailyPowderResetUses=1+e.shopUpgrades.extraWarp,e.dailyCodeUsed=!1,i("cubeQuarksOpenRequirement").style.display="block",e.challengecompletions[11]>0&&(i("tesseractQuarksOpenRequirement").style.display="block"),e.challengecompletions[13]>0&&(i("hypercubeQuarksOpenRequirement").style.display="block"),e.challengecompletions[14]>0&&(i("platonicCubeQuarksOpenRequirement").style.display="block"))},pa=(t=!1)=>{e.cubeQuarkDaily=0,e.tesseractQuarkDaily=0,e.hypercubeQuarkDaily=0,e.platonicCubeQuarkDaily=0,e.cubeOpenedDaily=0,e.tesseractOpenedDaily=0,e.hypercubeOpenedDaily=0,e.platonicCubeOpenedDaily=0,t&&(e.overfluxPowder+=e.overfluxOrbs*Qt().mult,e.overfluxOrbs=s.challenge15Rewards.freeOrbs)},ct=t=>s.isEvent?wi(t):0,mf=()=>{let t=0,n=[18,38,58,78,88,98,118,148,178,188,198,208,218,228,238,248];for(let r of n)e.highestSingularityCount>=r&&(t+=1);return 1+t*e.highestSingularityCount/100};var Me=()=>{let t=document.getElementsByClassName("coinunlock1");for(let P=0;P<t.length;P++)t[P].style.display=e.unlocks.coinone?"block":"none";let n=document.getElementsByClassName("coinunlock2");for(let P=0;P<n.length;P++)n[P].style.display=e.unlocks.cointwo?"block":"none";let r=document.getElementsByClassName("coinunlock3");for(let P=0;P<r.length;P++)r[P].style.display=e.unlocks.cointhree?"block":"none";let a=document.getElementsByClassName("coinunlock4");for(let P=0;P<a.length;P++)a[P].style.display=e.unlocks.coinfour?"block":"none";let o=document.getElementsByClassName("prestigeunlock");for(let P=0;P<o.length;P++)o[P].parentElement.classList.contains("offlineStats")?o[P].style.display=e.unlocks.prestige?"flex":"none":o[P].style.display=e.unlocks.prestige?"block":"none";let l=document.getElementsByClassName("generationunlock");for(let P=0;P<l.length;P++)l[P].style.display=e.unlocks.generation?"block":"none";let c=document.getElementsByClassName("transcendunlock");for(let P=0;P<c.length;P++)c[P].parentElement.classList.contains("offlineStats")?c[P].style.display=e.unlocks.transcend?"flex":"none":c[P].style.display=e.unlocks.transcend?"block":"none";let g=document.getElementsByClassName("reincarnationunlock");for(let P=0;P<g.length;P++)g[P].parentElement.classList.contains("offlineStats")?g[P].style.display=e.unlocks.reincarnate?"flex":"none":g[P].style.display=e.unlocks.reincarnate?"block":"none";let d=document.getElementsByClassName("auto");for(let P=0;P<d.length;P++)d[P].style.display="none";let m=document.getElementsByClassName("reinrow1");for(let P=0;P<m.length;P++)e.researches[47]===1?m[P].style.display="block":m[P].style.display="none";let h=document.getElementsByClassName("reinrow2");for(let P=0;P<h.length;P++)e.researches[48]===1?h[P].style.display="block":h[P].style.display="none";let y=document.getElementsByClassName("reinrow3");for(let P=0;P<y.length;P++)e.researches[49]===1?y[P].style.display="block":y[P].style.display="none";let b=document.getElementsByClassName("reinrow4");for(let P=0;P<b.length;P++)e.researches[50]===1?b[P].style.display="block":b[P].style.display="none";let w=document.getElementsByClassName("chal6");for(let P=0;P<w.length;P++)e.achievements[113]===1?w[P].style.display="block":w[P].style.display="none";let S=document.getElementsByClassName("chal7");for(let P=0;P<S.length;P++)e.achievements[120]===1?S[P].style.display="block":S[P].style.display="none";let k=document.getElementsByClassName("chal7x10");for(let P=0;P<k.length;P++)e.achievements[124]===1?k[P].style.display="block":k[P].style.display="none";let B=document.getElementsByClassName("chal8");for(let P=0;P<B.length;P++)B[P].parentElement.classList.contains("offlineStats")?B[P].style.display=e.achievements[127]===1?"flex":"none":B[P].style.display=e.achievements[127]===1?"block":"none";let N=document.getElementsByClassName("chal9");for(let P=0;P<N.length;P++)e.achievements[134]===1?N[P].style.display="block":N[P].style.display="none";let I=document.getElementsByClassName("chal9x1");for(let P=0;P<I.length;P++)e.highestchallengecompletions[9]>0?I[P].style.display="block":I[P].style.display="none";let $=document.getElementsByClassName("chal10");for(let P=0;P<$.length;P++)e.achievements[141]===1?$[P].style.display="block":$[P].style.display="none";let O=document.getElementsByClassName("ascendunlock");for(let P=0;P<O.length;P++)O[P].parentElement.classList.contains("offlineStats")?O[P].style.display=e.ascensionCount>0?"flex":"none":O[P].style.display=e.ascensionCount>0?"block":"none";let v=document.getElementsByClassName("chal11");for(let P=0;P<v.length;P++)e.challengecompletions[11]>0?v[P].style.display="block":v[P].style.display="none";let M=document.getElementsByClassName("chal12");for(let P=0;P<M.length;P++)e.challengecompletions[12]>0?M[P].style.display="block":M[P].style.display="none";let A=document.getElementsByClassName("chal13");for(let P=0;P<A.length;P++)e.challengecompletions[13]>0?A[P].style.display="block":A[P].style.display="none";let F=document.getElementsByClassName("chal14");for(let P=0;P<F.length;P++)e.challengecompletions[14]>0?F[P].style.display="block":F[P].style.display="none";let Y=document.getElementsByClassName("ascendunlockib");for(let P=0;P<Y.length;P++)Y[P].style.display=e.ascensionCount>0?"inline-block":"none";let oe=document.getElementsByClassName("prestigeunlockib");for(let P=0;P<oe.length;P++)oe[P].style.display=e.unlocks.prestige?"inline-block":"none";let te=document.getElementsByClassName("research150");for(let P=0;P<te.length;P++)te[P].style.display=e.researches[150]>0?"block":"none";let ue=document.getElementsByClassName("cubeUpgrade10");for(let P=0;P<ue.length;P++)ue[P].style.display=e.cubeUpgrades[10]>0?"flex":"none";let ye=document.getElementsByClassName("cubeUpgrade19");for(let P=0;P<ye.length;P++)ye[P].style.display=e.cubeUpgrades[19]>0?"block":"none";let Re=document.getElementsByClassName("sacrificeAnts");for(let P of Array.from(Re))P.style.display=e.achievements[173]===1?"block":"none";let wt=document.getElementsByClassName("hepteracts");for(let P of Array.from(wt))P.style.display=e.challenge15Exponent>=1e15?"block":"none";let Ve=document.getElementsByClassName("singularity");for(let P of Array.from(Ve)){let Oe=Number(P.getAttribute("count"))||1;P.style.display=e.highestSingularityCount>=Oe?"block":"none"}di();let Je=i("corruptionHepteracts");Je.style.display=e.achievements[255]>0?"block":"none";let pt=document.getElementsByClassName("assortedCookies1"),Yt=document.getElementsByClassName("assortedCookies2"),se=document.getElementsByClassName("assortedCookies3"),J=document.getElementsByClassName("assortedCookies4");for(let P of Array.from(pt))P.style.display=e.singularityUpgrades.cookies.getEffect().bonus?"block":"none";for(let P of Array.from(Yt))P.style.display=e.singularityUpgrades.cookies2.getEffect().bonus?"block":"none";for(let P of Array.from(se))P.style.display=e.singularityUpgrades.cookies3.getEffect().bonus?"block":"none";for(let P of Array.from(J))P.style.display=e.singularityUpgrades.cookies4.getEffect().bonus?"block":"none";let z=document.getElementsByClassName("goldenQuark3Upg");for(let P of Array.from(z))P.style.display=e.singularityUpgrades.goldenQuarks3.getEffect().bonus>0?"block":"none";e.upgrades[89]===1?(i("transcendautotoggle").style.display="block",i("transcendamount").style.display="block",i("autotranscend").style.display="block"):(i("transcendautotoggle").style.display="none",i("transcendamount").style.display="none",i("autotranscend").style.display="none"),e.achievements[38]===1?(i("rune2area").style.display="flex",i("runeshowpower2").style.display="block"):(i("rune2area").style.display="none",i("runeshowpower2").style.display="none"),e.achievements[43]===1?(i("prestigeautotoggle").style.display="block",i("prestigeamount").style.display="block",i("autoprestige").style.display="block"):(i("prestigeautotoggle").style.display="none",i("prestigeamount").style.display="none",i("autoprestige").style.display="none"),e.achievements[44]===1?(i("rune3area").style.display="flex",i("runeshowpower3").style.display="block"):(i("rune3area").style.display="none",i("runeshowpower3").style.display="none"),e.achievements[102]===1?(i("rune4area").style.display="flex",i("runeshowpower4").style.display="block"):(i("rune4area").style.display="none",i("runeshowpower4").style.display="none"),e.achievements[119]===1?i("talisman1area").style.display="flex":i("talisman1area").style.display="none",e.achievements[126]===1?i("talisman2area").style.display="flex":i("talisman2area").style.display="none",e.achievements[133]===1?i("talisman3area").style.display="flex":i("talisman3area").style.display="none",e.achievements[134]===1?(i("toggleRuneSubTab2").style.display="block",i("toggleRuneSubTab3").style.display="block"):(i("toggleRuneSubTab2").style.display="none",i("toggleRuneSubTab3").style.display="none"),e.achievements[140]===1?i("talisman4area").style.display="flex":i("talisman4area").style.display="none",e.achievements[147]===1?i("talisman5area").style.display="flex":i("talisman5area").style.display="none",e.achievements[173]===1?i("sacrificeAnts").style.display="block":i("sacrificeAnts").style.display="none",e.researches[39]>0?i("reincarnationCrystalInfo").style.display="block":i("reincarnationCrystalInfo").style.display="none",e.researches[40]>0?i("reincarnationMythosInfo").style.display="block":i("reincarnationMythosInfo").style.display="none",e.researches[46]>0?i("reincarnateautomation").style.display="block":i("reincarnateautomation").style.display="none",e.researches[82]>0?(i("rune5area").style.display="flex",i("runeshowpower5").style.display="block"):(i("rune5area").style.display="none",i("runeshowpower5").style.display="none"),e.researches[124]>0?(i("antSacrificeButtons").style.display="flex",i("autoAntSacrifice").style.display="block"):(i("antSacrificeButtons").style.display="none",i("autoAntSacrifice").style.display="none"),e.researches[124]>0||e.highestSingularityCount>0?i("toggleAutoSacrificeAnt").style.display="block":i("toggleAutoSacrificeAnt").style.display="none",e.researches[130]>0?i("toggleautofortify").style.display="block":i("toggleautofortify").style.display="none",e.researches[135]>0?i("toggleautoenhance").style.display="block":i("toggleautoenhance").style.display="none";for(let P=1;P<=5;P++)e.researches[190]>0?i("tesseractAutoToggle"+P).style.display="block":i("tesseractAutoToggle"+P).style.display="none";e.researches[190]>0?i("tesseractautobuytoggle").style.display="block":i("tesseractautobuytoggle").style.display="none",e.researches[190]>0?i("tesseractautobuymode").style.display="block":i("tesseractautobuymode").style.display="none",e.researches[190]>0?i("tesseractAmount").style.display="block":i("tesseractAmount").style.display="none",e.researches[190]>0?i("autotessbuyeramount").style.display="block":i("autotessbuyeramount").style.display="none",e.antUpgrades[11]>0||e.ascensionCount>0?i("talisman6area").style.display="flex":i("talisman6area").style.display="none",e.shopUpgrades.offeringAuto>0?i("toggleautosacrifice").style.display="block":i("toggleautosacrifice").style.display="none",e.cubeUpgrades[51]>0&&e.highestSingularityCount>=40?i("toggleautoBuyFragments").style.display="block":i("toggleautoBuyFragments").style.display="none",e.shopUpgrades.obtainiumAuto>0?i("toggleautoresearch").style.display="block":i("toggleautoresearch").style.display="none",i("toggleautoresearchmode").style.display=e.shopUpgrades.obtainiumAuto>0&&mt()?"block":"none",e.shopUpgrades.shopTalisman>0?i("talisman7area").style.display="flex":i("talisman7area").style.display="none",e.cubeUpgrades[8]>0?i("reincarnateAutoUpgrade").style.display="block":i("reincarnateAutoUpgrade").style.display="none",e.shopUpgrades.infiniteAscent?(i("rune6area").style.display="flex",i("runeshowpower6").style.display="block"):(i("rune6area").style.display="none",i("runeshowpower6").style.display="none"),e.platonicUpgrades[20]>0?(i("rune7area").style.display="flex",i("runeshowpower7").style.display="block"):(i("rune7area").style.display="none",i("runeshowpower7").style.display="none"),e.highestSingularityCount>0?i("singularitytab").style.display="block":i("singularitytab").style.display="none",e.highestSingularityCount>0?i("saveOffToggle").style.display="block":i("saveOffToggle").style.display="none",e.highestSingularityCount>=35?(i("openCubes").style.display="block",i("cubeOpensInput").style.display="block",i("openTesseracts").style.display="block",i("tesseractsOpensInput").style.display="block",i("openHypercubes").style.display="block",i("hypercubesOpensInput").style.display="block",i("openPlatonicCube").style.display="block",i("platonicCubeOpensInput").style.display="block"):(i("openCubes").style.display="none",i("cubeOpensInput").style.display="none",i("openTesseracts").style.display="none",i("tesseractsOpensInput").style.display="none",i("openHypercubes").style.display="none",i("hypercubesOpensInput").style.display="none",i("openPlatonicCube").style.display="none",i("platonicCubeOpensInput").style.display="none"),e.highestSingularityCount>=50&&e.singularityCount<e.highestSingularityCount||e.highestSingularityCount>=150?i("toggleAutoCubeUpgrades").style.display="block":i("toggleAutoCubeUpgrades").style.display="none",e.highestSingularityCount>=100&&e.singularityCount<e.highestSingularityCount||e.highestSingularityCount>=200?i("toggleAutoPlatonicUpgrades").style.display="block":i("toggleAutoPlatonicUpgrades").style.display="none",e.highestSingularityCount>0&&e.ascensionCount>0?i("settingpic6").style.display="block":i("settingpic6").style.display="none",e.highestSingularityCount>0&&e.challenge15Exponent>=1e15?i("heptnotificationpic").style.display="block":i("heptnotificationpic").style.display="none",i("warpAuto").style.display=e.shopUpgrades.autoWarp>0?"":"none",(e.unlocks.reincarnate||e.highestSingularityCount>0)&&(i("shoptab").style.display="block");let re=document.getElementsByClassName("octeracts");for(let P of Array.from(re))P.style.display=e.singularityUpgrades.octeractUnlock.getEffect().bonus?"block":"none";let ne=document.getElementsByClassName("singChallenges");for(let P of Array.from(ne))P.style.display=e.highestSingularityCount>=25?"block":"none";e.runelevels[6]>0||e.highestSingularityCount>0?i("singularitybtn").style.display="block":i("singularitybtn").style.display="none",e.highestSingularityCount>0&&e.ascensionCount>=1?i("totalQuarkCountStatisticSing").style.display="block":i("totalQuarkCountStatisticSing").style.display="none",i("ascensionStats").style.visibility=e.achievements[197]>0||e.highestSingularityCount>0?"visible":"hidden",i("ascHyperStats").style.display=e.challengecompletions[13]>0?"":"none",i("ascPlatonicStats").style.display=e.challengecompletions[14]>0?"":"none",i("ascHepteractStats").style.display=e.achievements[255]>0?"":"none";let ie={toggle1:e.upgrades[81]===1,toggle2:e.upgrades[82]===1,toggle3:e.upgrades[83]===1,toggle4:e.upgrades[84]===1,toggle5:e.upgrades[85]===1,toggle6:e.upgrades[86]===1,toggle7:e.upgrades[87]===1,toggle8:e.upgrades[88]===1,toggle10:e.achievements[78]===1,toggle11:e.achievements[85]===1,toggle12:e.achievements[92]===1,toggle13:e.achievements[99]===1,toggle14:e.achievements[106]===1,toggle15:e.achievements[43]===1,toggle16:e.upgrades[94]===1,toggle17:e.upgrades[95]===1,toggle18:e.upgrades[96]===1,toggle19:e.upgrades[97]===1,toggle20:e.upgrades[98]===1,toggle21:e.upgrades[89]===1,toggle22:e.cubeUpgrades[7]===1,toggle23:e.cubeUpgrades[7]===1,toggle24:e.cubeUpgrades[7]===1,toggle25:e.cubeUpgrades[7]===1,toggle26:e.cubeUpgrades[7]===1,toggle27:e.researches[46]===1,coinAutoUpgrade:e.upgrades[91]===1,prestigeAutoUpgrade:e.upgrades[92]===1,transcendAutoUpgrade:e.upgrades[99]===1,generatorsAutoUpgrade:e.upgrades[90]===1,toggle9:e.unlocks.prestige,toggle28:e.prestigeCount>.5||e.reincarnationCount>.5,toggle29:e.transcendCount>.5||e.reincarnationCount>.5,toggle30:e.reincarnationCount>.5,toggle31:e.ascensionCount>0,toggle32:e.achievements[173]>0,toggle33:e.highestSingularityCount>0&&e.ascensionCount>0,toggle34:e.unlocks.coinfour,toggle35:e.challenge15Exponent>=1e15&&e.highestSingularityCount>0,toggle36:e.highestSingularityCount>=15,toggle37:e.highestSingularityCount>=15,toggle38:e.highestSingularityCount>0,toggle39:e.unlocks.prestige,toggle40:e.unlocks.prestige,toggle41:e.challengecompletions[11]>0,toggle42:e.highestSingularityCount>=6,toggle43:e.highestSingularityCount>=6};Object.keys(ie).forEach(P=>{let Oe=i(P);if(Oe===null){console.error(`Automation unlock failed to find element with ID '${P}'.`);return}Oe.style.display=ie[P]?"block":"none"}),Lc()},Hu=()=>{i("buildings").style.display="none",i("buildingstab").style.backgroundColor="",i("upgrades").style.display="none",i("upgradestab").style.backgroundColor="",i("settings").style.display="none",i("statistics").style.display="none",i("achievementstab").style.backgroundColor="",i("achievementstab").style.color="white",i("runes").style.display="none",i("runestab").style.backgroundColor="",i("challenges").style.display="none",i("challengetab").style.backgroundColor="",i("research").style.display="none",i("researchtab").style.backgroundColor="",i("shop").style.display="none",i("shoptab").style.backgroundColor="",i("ants").style.display="none",i("anttab").style.backgroundColor="",i("cubetab").style.backgroundColor="",i("traitstab").style.backgroundColor="",i("cubes").style.display="none",i("traits").style.display="none",i("singularity").style.display="none",i("singularitytab").style.backgroundColor="";let t=i("settingstab");if(t.style.backgroundColor="",t.style.borderColor="white",s.currentTab==="buildings"&&(i("buildingstab").style.backgroundColor="orange",i("buildings").style.display="block"),s.currentTab==="upgrades"&&(i("upgrades").style.display="block",i("upgradestab").style.backgroundColor="orange",i("upgradedescription").textContent=p.t("upgrades.hoverOverUpgrade")),s.currentTab==="settings"){i("settings").style.display="block";let n=i("settingstab");n.style.backgroundColor="orange",n.style.borderColor="gold"}s.currentTab==="achievements"?(i("statistics").style.display="block",i("achievementstab").style.backgroundColor="white",i("achievementstab").style.color="black",i("achievementprogress").textContent=p.t("achievements.totalPoints",{x:u(e.achievementPoints),y:u(Pn),z:(100*e.achievementPoints/Pn).toPrecision(4)})):s.currentTab==="runes"&&(i("runes").style.display="block",i("runestab").style.backgroundColor="blue",i("runeshowlevelup").textContent=p.t("runes.hover"),i("researchrunebonus").textContent=p.t("runes.thanksResearches",{percent:u(100*s.effectiveLevelMult-100,4,!0)}),ot(1,!1),ot(2,!1),ot(3,!1),ot(4,!1),ot(5,!1),ot(6,!1),ot(7,!1)),s.currentTab==="challenges"&&(i("challenges").style.display="block",i("challengetab").style.backgroundColor="purple"),s.currentTab==="researches"&&(i("research").style.display="block",i("researchtab").style.backgroundColor="green"),s.currentTab==="shop"&&(i("shop").style.display="block",i("shoptab").style.backgroundColor="limegreen"),s.currentTab==="ants"&&(i("ants").style.display="block",i("anttab").style.backgroundColor="brown"),s.currentTab==="cubes"&&(i("cubes").style.display="flex",i("cubetab").style.backgroundColor="white"),s.currentTab==="traits"&&(i("traits").style.display="flex",i("traitstab").style.backgroundColor="white"),s.currentTab==="singularity"&&(i("singularity").style.display="block",i("singularitytab").style.backgroundColor="lightgoldenrodyellow",qs(),js())},hf={buildings:tu,upgrades:nu,achievements:ru,runes:au,challenges:ou,researches:No,settings:lu,shop:di,ants:su,cubes:Do,traits:iu,singularity:cu},Qi=()=>{let t=["coins","runeshards","prestigePoints","transcendPoints","transcendShards","reincarnationPoints","worlds","researchPoints"],n=["coinDisplay","offeringDisplay","diamondDisplay","mythosDisplay","mythosshardDisplay","particlesDisplay","quarkDisplay","obtainiumDisplay"];for(let r=0;r<t.length;r++){let a=u(e[`${t[r]}`]),o=i(`${n[r]}`);o.textContent!==a&&(o.textContent=a)}yf(),hf[s.currentTab]()},Gu=()=>{if(i("prestigebtn").style.backgroundColor=e.toggles[15]&&e.achievements[43]===1?"green":"",i("transcendbtn").style.backgroundColor=e.toggles[21]&&e.upgrades[89]>.5&&e.currentChallenge.transcension===0?"green":"",i("reincarnatebtn").style.backgroundColor=e.toggles[27]&&e.researches[46]>.5&&e.currentChallenge.transcension===0&&e.currentChallenge.reincarnation===0?"green":"",i("acceleratorboostbtn").style.backgroundColor=e.toggles[8]&&e.upgrades[88]>.5?"green":"",i("challengebtn").style.backgroundColor=e.currentChallenge.transcension===0?"":"purple",i("reincarnatechallengebtn").style.backgroundColor=e.currentChallenge.reincarnation===0?"":"purple",i("ascendChallengeBtn").style.backgroundColor=e.currentChallenge.ascension===0?"":"purple",i("ascendbtn").style.backgroundColor=e.autoAscend&&e.challengecompletions[11]>0&&e.cubeUpgrades[10]>0?"green":"",i("singularitybtn").style.filter=e.runelevels[6]>0?"":"contrast(1.25) sepia(1) grayscale(0.25)",e.toggles[33]===!0&&e.highestSingularityCount===0&&(e.toggles[28]===!0&&e.unlocks.prestige===!1&&(i("prestigebtn").style.boxShadow=e.coinsThisPrestige.gte(1e16)?"cyan 0px 0px 10px 2px":""),e.toggles[29]===!0&&e.unlocks.transcend===!1&&(i("transcendbtn").style.boxShadow=e.coinsThisTranscension.gte(1e100)?"plum 0px 0px 10px 2px":""),e.toggles[30]===!0&&e.unlocks.reincarnate===!1&&(i("reincarnatebtn").style.boxShadow=e.transcendShards.gte(1e300)?"greenyellow 0px 0px 10px 2px":""),e.toggles[31]===!0&&e.ascensionCount===0&&(i("ascendbtn").style.boxShadow=e.challengecompletions[10]>0?"orange 0px 0px 10px 2px":"")),s.currentTab==="buildings"&&s.buildingSubTab==="coin"){let t=i("buycoin1"),n=i("buycoin2"),r=i("buycoin3"),a=i("buycoin4"),o=i("buycoin5"),l=i("buyaccelerator"),c=i("buymultiplier"),g=i("buyacceleratorboost");(!e.toggles[1]||e.upgrades[81]===0)&&e.coins.gte(e.firstCostCoin)?t.classList.add("buildingPurchaseBtnAvailable"):t.classList.remove("buildingPurchaseBtnAvailable"),(!e.toggles[2]||e.upgrades[82]===0)&&e.coins.gte(e.secondCostCoin)?n.classList.add("buildingPurchaseBtnAvailable"):n.classList.remove("buildingPurchaseBtnAvailable"),(!e.toggles[3]||e.upgrades[83]===0)&&e.coins.gte(e.thirdCostCoin)?r.classList.add("buildingPurchaseBtnAvailable"):r.classList.remove("buildingPurchaseBtnAvailable"),(!e.toggles[4]||e.upgrades[84]===0)&&e.coins.gte(e.fourthCostCoin)?a.classList.add("buildingPurchaseBtnAvailable"):a.classList.remove("buildingPurchaseBtnAvailable"),(!e.toggles[5]||e.upgrades[85]===0)&&e.coins.gte(e.fifthCostCoin)?o.classList.add("buildingPurchaseBtnAvailable"):o.classList.remove("buildingPurchaseBtnAvailable"),(!e.toggles[6]||e.upgrades[86]===0)&&e.coins.gte(e.acceleratorCost)?l.classList.add("buildingPurchaseBtnAvailable"):l.classList.remove("buildingPurchaseBtnAvailable"),(!e.toggles[7]||e.upgrades[87]===0)&&e.coins.gte(e.multiplierCost)?c.classList.add("buildingPurchaseBtnAvailable"):c.classList.remove("buildingPurchaseBtnAvailable"),(!e.toggles[8]||e.upgrades[88]===0)&&e.prestigePoints.gte(e.acceleratorBoostCost)?g.classList.add("buildingPurchaseBtnAvailable"):g.classList.remove("buildingPurchaseBtnAvailable")}if(s.currentTab==="buildings"&&s.buildingSubTab==="diamond"){let t=i("buydiamond1"),n=i("buydiamond2"),r=i("buydiamond3"),a=i("buydiamond4"),o=i("buydiamond5"),l=i("buycrystalupgrade1"),c=i("buycrystalupgrade2"),g=i("buycrystalupgrade3"),d=i("buycrystalupgrade4"),m=i("buycrystalupgrade5");(!e.toggles[10]||e.achievements[78]===0)&&e.prestigePoints.gte(e.firstCostDiamonds)?t.classList.add("buildingPurchaseBtnAvailable"):t.classList.remove("buildingPurchaseBtnAvailable"),(!e.toggles[11]||e.achievements[85]===0)&&e.prestigePoints.gte(e.secondCostDiamonds)?n.classList.add("buildingPurchaseBtnAvailable"):n.classList.remove("buildingPurchaseBtnAvailable"),(!e.toggles[12]||e.achievements[92]===0)&&e.prestigePoints.gte(e.thirdCostDiamonds)?r.classList.add("buildingPurchaseBtnAvailable"):r.classList.remove("buildingPurchaseBtnAvailable"),(!e.toggles[13]||e.achievements[99]===0)&&e.prestigePoints.gte(e.fourthCostDiamonds)?a.classList.add("buildingPurchaseBtnAvailable"):a.classList.remove("buildingPurchaseBtnAvailable"),(!e.toggles[14]||e.achievements[106]===0)&&e.prestigePoints.gte(e.fifthCostDiamonds)?o.classList.add("buildingPurchaseBtnAvailable"):o.classList.remove("buildingPurchaseBtnAvailable");let h=0;h+=Math.floor(s.rune3level/16*s.effectiveLevelMult)*100/100,e.upgrades[73]===1&&e.currentChallenge.reincarnation!==0&&(h+=10),e.achievements[79]<1&&e.prestigeShards.gte(f.pow(10,s.crystalUpgradesCost[0]+s.crystalUpgradeCostIncrement[0]*Math.floor(Math.pow(e.crystalUpgrades[0]+.5-h,2)/2)))?l.style.backgroundColor="purple":l.style.backgroundColor="",e.achievements[86]<1&&e.prestigeShards.gte(f.pow(10,s.crystalUpgradesCost[1]+s.crystalUpgradeCostIncrement[1]*Math.floor(Math.pow(e.crystalUpgrades[1]+.5-h,2)/2)))?c.style.backgroundColor="purple":c.style.backgroundColor="",e.achievements[93]<1&&e.prestigeShards.gte(f.pow(10,s.crystalUpgradesCost[2]+s.crystalUpgradeCostIncrement[2]*Math.floor(Math.pow(e.crystalUpgrades[2]+.5-h,2)/2)))?g.style.backgroundColor="purple":g.style.backgroundColor="",e.achievements[100]<1&&e.prestigeShards.gte(f.pow(10,s.crystalUpgradesCost[3]+s.crystalUpgradeCostIncrement[3]*Math.floor(Math.pow(e.crystalUpgrades[3]+.5-h,2)/2)))?d.style.backgroundColor="purple":d.style.backgroundColor="",e.achievements[107]<1&&e.prestigeShards.gte(f.pow(10,s.crystalUpgradesCost[4]+s.crystalUpgradeCostIncrement[4]*Math.floor(Math.pow(e.crystalUpgrades[4]+.5-h,2)/2)))?m.style.backgroundColor="purple":m.style.backgroundColor=""}if(s.currentTab==="runes"){if(s.runescreen==="runes")for(let t=1;t<=7;t++)e.runeshards>.5?i(`activaterune${t}`).classList.add("runeButtonAvailable"):i(`activaterune${t}`).classList.remove("runeButtonAvailable");if(s.runescreen==="talismans"){let t=i("buyTalismanItem1"),n=i("buyTalismanItem2"),r=i("buyTalismanItem3"),a=i("buyTalismanItem4"),o=i("buyTalismanItem5"),l=i("buyTalismanItem6"),c=i("buyTalismanItem7"),g=[t,n,r,a,o,l,c];for(let d=0;d<g.length;d++)e.researchPoints>s.talismanResourceObtainiumCosts[d]&&e.runeshards>s.talismanResourceOfferingCosts[d]?g[d].classList.add("talisminBtnAvailable"):g[d].classList.remove("talisminBtnAvailable")}}if(s.currentTab==="buildings"&&s.buildingSubTab==="mythos")for(let t=1;t<=5;t++){let n=e.toggles[t+15],r=e[`${s.ordinals[t-1]}CostMythos`];(!n||!e.upgrades[93+t])&&e.transcendPoints.gte(r)?i(`buymythos${t}`).classList.add("buildingPurchaseBtnAvailable"):i(`buymythos${t}`).classList.remove("buildingPurchaseBtnAvailable")}if(s.currentTab==="buildings"&&s.buildingSubTab==="particle")for(let t=1;t<=5;t++){let n=e[`${s.ordinals[t-1]}CostParticles`];e.reincarnationPoints.gte(n)?i(`buyparticles${t}`).classList.add("buildingPurchaseBtnAvailable"):i(`buyparticles${t}`).classList.remove("buildingPurchaseBtnAvailable")}if(s.currentTab==="buildings"&&s.buildingSubTab==="tesseract"){for(let t=1;t<=5;t++){let n=e[`ascendBuilding${t}`].cost;Number(e.wowTesseracts)>=n?i(`buyTesseracts${t}`).classList.add("buildingPurchaseBtnAvailable"):i(`buyTesseracts${t}`).classList.remove("buildingPurchaseBtnAvailable")}for(let t=1;t<=8;t++)e.ascendShards.gte(f.pow(10,e.constantUpgrades[t]).times(s.constUpgradeCosts[t]))?i(`buyConstantUpgrade${t}`).classList.add("constUpgradeAvailable"):i(`buyConstantUpgrade${t}`).classList.remove("constUpgradeAvailable");for(let t=9;t<=10;t++)e.constantUpgrades[t]>=1?(i(`buyConstantUpgrade${t}`).classList.add("constUpgradeSingle"),i(`buyConstantUpgrade${t}`).classList.remove("constUpgradeSingleAvailable")):e.ascendShards.gte(f.pow(10,e.constantUpgrades[t]).times(s.constUpgradeCosts[t]))?i(`buyConstantUpgrade${t}`).classList.add("constUpgradeSingleAvailable"):(i(`buyConstantUpgrade${t}`).classList.remove("constUpgradeSingleAvailable"),i(`buyConstantUpgrade${t}`).classList.remove("constUpgradeSingle"))}if(s.currentTab==="ants"){e.reincarnationPoints.gte(e.firstCostAnts)?i("anttier1").classList.add("antTierBtnAvailable"):i("anttier1").classList.remove("antTierBtnAvailable");for(let t=2;t<=8;t++){let n=e[`${s.ordinals[t-1]}CostAnts`];e.antPoints.gte(n)?i(`anttier${t}`).classList.add("antTierBtnAvailable"):i(`anttier${t}`).classList.remove("antTierBtnAvailable")}for(let t=1;t<=12;t++)e.antPoints.gte(f.pow(s.antUpgradeCostIncreases[t-1],e.antUpgrades[t-1]*s.extinctionMultiplier[e.usedCorruptions[10]]).times(s.antUpgradeBaseCost[t-1]))?i(`antUpgrade${t}`).classList.add("antUpgradeBtnAvailable"):i(`antUpgrade${t}`).classList.remove("antUpgradeBtnAvailable")}},Ft=()=>{for(let t=1;t<=15;t++){let n=i(`challenge${t}`);n.classList.remove("challengeActive"),e.currentChallenge.transcension===t&&n.classList.add("challengeActive"),e.currentChallenge.reincarnation===t&&n.classList.add("challengeActive"),e.currentChallenge.ascension===t&&n.classList.add("challengeActive")}e.retrychallenges?i("retryChallenge").textContent=p.t("challenges.retryChallengesOn"):i("retryChallenge").textContent=p.t("challenges.retryChallengesOff");for(let t=1;t<=15;t++)Xt(t)},Xt=t=>{let n=i("challenge"+t+"level"),r=Ee(t);t===15?n.textContent=u(e.challenge15Exponent,0,!0):n.textContent=`${e.challengecompletions[t]}/${r}`},$u=()=>{for(let r=1;r<=280;r++)i("ach"+r).style.backgroundColor="";let t=document.getElementsByClassName("purpleach"),n=document.getElementsByClassName("redach");for(let r=0;r<t.length;r++)t[r].style.backgroundColor="purple";for(let r=0;r<n.length;r++)n[r].style.backgroundColor="maroon";for(let r=1;r<e.achievements.length;r++)e.achievements[r]>.5&&H(r)},Ko=()=>{e.corruptionShowStats?(i("corruptionStats").style.display="flex",i("corruptionLoadouts").style.display="none",i("corrStatsBtn").style.borderColor="dodgerblue",i("corrLoadoutsBtn").style.borderColor="white"):(i("corruptionStats").style.display="none",i("corruptionLoadouts").style.display="flex",i("corrStatsBtn").style.borderColor="white",i("corrLoadoutsBtn").style.borderColor="dodgerblue")},yf=()=>{let t=e.ascensionCounter,[n,r,a,o,l]=en().slice(4),c=e.singularityUpgrades.oneMind.getEffect().bonus,g={ascLen:Ut(e.ascStatToggles[6]?e.ascensionCounter:e.ascensionCounterReal,0),ascCubes:u(n*(e.ascStatToggles[1]?1:1/t),2),ascTess:u(r*(e.ascStatToggles[2]?1:1/t),3),ascHyper:u(a*(e.ascStatToggles[3]?1:1/t),4),ascPlatonic:u(o*(e.ascStatToggles[4]?1:1/t),5),ascHepteract:u(l*(e.ascStatToggles[5]?1:1/t),3),ascC10:`${u(e.challengecompletions[10])}`,ascTimeAccel:`${u(Le().mult,3)}x`,ascAscensionTimeAccel:`${u(Vt(),3)}x${c?"*":""}`,ascSingularityCount:u(e.singularityCount),ascSingLen:Ut(e.singularityCounter)};for(let d in g){let m=i(d);m.textContent!==g[d]&&(m.textContent=g[d])}},Du={buildings:"yellow",upgrades:"yellow",achievements:"white",runes:"cyan",challenges:"plum",researches:"green",ants:"brown",cubes:"purple",traits:"orange",settings:"white",shop:"limegreen"},Dr=()=>{let t=i("tabBorder"),n=s.currentTab in Du?Du[s.currentTab]:"yellow";t.style.backgroundColor=n},bf=(t,n)=>{let r=i("confirmationBox"),a=i("confirmWrapper"),o=i("confirm"),l=i("transparentBG"),c=i("ok_confirm"),g=i("cancel_confirm");i("alertWrapper").style.display="none",i("promptWrapper").style.display="none",r.style.display="block",a.style.display="block",l.style.display="block",o.querySelector("p").textContent=t,o.focus();let d=({target:h})=>{let y=h;c.removeEventListener("click",d),g.removeEventListener("click",d),o.removeEventListener("keyup",m),r.style.display="none",a.style.display="none",l.style.display="none",n(y===c)},m=h=>h.key==="Enter"||h.key===" "?d({target:c}):h.key==="Escape"?d({target:g}):h.preventDefault();c.addEventListener("click",d),g.addEventListener("click",d),o.addEventListener("keyup",m)},vf=(t,n)=>{let r=i("confirmationBox"),a=i("alertWrapper"),o=i("transparentBG"),l=i("alert"),c=i("ok_alert");i("confirmWrapper").style.display="none",i("promptWrapper").style.display="none",r.style.display="block",a.style.display="block",o.style.display="block",l.querySelector("p").textContent=t,l.focus();let g=()=>{c.removeEventListener("click",g),l.removeEventListener("keyup",d),r.style.display="none",a.style.display="none",o.style.display="none",n(void 0)},d=m=>(m.key==="Enter"||m.key===" ")&&g();c.addEventListener("click",g),l.addEventListener("keyup",d)},Cf=(t,n)=>{let r=i("confirmationBox"),a=i("promptWrapper"),o=i("transparentBG"),l=i("prompt"),c=i("ok_prompt"),g=i("cancel_prompt");i("alertWrapper").style.display="none",i("confirmWrapper").style.display="none",r.style.display="block",a.style.display="block",o.style.display="block",l.querySelector("label").textContent=t,l.querySelector("input").focus();let d=({target:h})=>{let y=h,b=y.parentNode.querySelector("input");c.removeEventListener("click",d),g.removeEventListener("click",d),l.querySelector("input").removeEventListener("keyup",m),r.style.display="none",a.style.display="none",o.style.display="none",y.id===c.id?n(b.value):n(null),b.value=b.textContent="",l.querySelector("input").blur()},m=h=>h.key==="Enter"?d({target:c}):h.key==="Escape"?d({target:g}):h.preventDefault();c.addEventListener("click",d),g.addEventListener("click",d),l.querySelector("input").addEventListener("keyup",m)},Yo,zo,wf=(t,n=3e4,r)=>{let a=i("notification"),o=document.querySelector("#notification > p"),l=i("notifx");o.textContent=t,a.style.display="block",a.classList.remove("slide-out"),a.classList.add("slide-in");let c=()=>{a.style.display="none",o.textContent="",zo=0},g=()=>{a.classList.add("slide-out"),a.classList.remove("slide-in"),Yo=0,l.removeEventListener("click",g),zo=setTimeout(c,1e3),r()};l.addEventListener("click",g),Yo>0&&clearTimeout(Yo),zo>0&&clearTimeout(zo),Yo=setTimeout(g,n)},R=t=>new Promise(n=>vf(t,n)),Se=t=>new Promise(n=>Cf(t,n)),me=t=>new Promise(n=>bf(t,n)),qn=(t,n)=>new Promise(r=>wf(t,n,r));var xf={settings:-1,shop:0,buildings:1,upgrades:2,achievements:3,runes:4,challenges:5,researches:6,ants:7,cubes:8,traits:9,singularity:10},De=t=>{s.currentTab=t,e.tabnumber=xf[t],Me(),Hu();let n=document.activeElement;n!==null&&n.blur();let r=Zo(e.tabnumber).subTabList;if(e.tabnumber!==-1)for(let a=0;a<r.length;a++){let o=r[a].buttonID;if(o){let l=i(o);if(l!==null){if(l.style.backgroundColor==="crimson"){e.subtabNumber=a;break}if(e.tabnumber===9&&l.style.borderColor==="dodgerblue"){e.subtabNumber=a;break}}}}else{let a=document.querySelectorAll('[id^="switchSettingSubTab"]');for(let o=0;o<a.length;o++)if(a[o].classList.contains("buttonActive")){e.subtabNumber=o;break}}ve(e.tabnumber,e.subtabNumber)},Fu=t=>{let n=t.getAttribute("toggleId")||1;e.toggles[+n]===!0?e.toggles[+n]=!1:e.toggles[+n]=!0;let r=t.getAttribute("format");if(r==="$"||r==="[$]"){let a=e.toggles[+n]?p.t("general.on"):p.t("general.off");t.textContent=r==="[$]"?`[${a}]`:a}else if(r==="Auto Catalyze: $"){let a=e.toggles[+n]?p.t("shop.autoCatalyzeOn"):p.t("shop.autoCatalyzeOff");t.textContent=a}else if(r==="Hover-to-Buy [$]"){let a=e.toggles[+n]?p.t("researches.hoverToBuyOn"):p.t("researches.hoverToBuyOff");t.textContent=a}else if(r==="Auto: $"){let a=e.toggles[+n]?p.t("general.autoOnColon"):p.t("general.autoOffColon");t.textContent=a}else if(r){let a=r.replace("$",e.toggles[+n]?"ON":"OFF");t.textContent=a}else t.textContent=e.toggles[+n]?p.t("general.autoOnBracket"):p.t("general.autoOffBracket");t.style.border="2px solid "+(e.toggles[+n]?"green":"red")},Nt=(t,n=!1)=>{t<=5&&((e.currentChallenge.ascension!==15||e.ascensionCounter>=2)&&(e.currentChallenge.transcension=t,be("transcensionChallenge",!1,"enterChallenge"),e.transcendCount-=1),!e.currentChallenge.reincarnation&&!document.querySelector(".resetbtn.hover")&&He("transcensionChallenge")),t>=6&&t<11&&((e.currentChallenge.ascension!==15||e.ascensionCounter>=2)&&(e.currentChallenge.reincarnation=t,be("reincarnationChallenge",!1,"enterChallenge"),e.reincarnationCount-=1),document.querySelector(".resetbtn.hover")||He("reincarnationChallenge")),t>=11&&(!n&&e.toggles[31]===!1||e.challengecompletions[10]>0||e.currentChallenge.transcension===0&&e.currentChallenge.reincarnation===0&&e.currentChallenge.ascension===0)&&(e.currentChallenge.ascension===15&&de("ascensionChallenge",!1,!0),e.currentChallenge.ascension=t,be("ascensionChallenge",!1,"enterChallenge")),Ft(),ns(t),t<=10&&!n&&e.autoChallengeRunning&&Ta(),e.currentChallenge.transcension!==0&&e.currentChallenge.reincarnation!==0&&e.currentChallenge.ascension!==0&&e.achievements[238]<1&&H(238)},Qu=(t,n)=>{e[`${n}buyamount`]=t;let r=["one","ten","hundred","thousand","10k","100k"][t.toString().length-1];i(`${n}${r}`).style.backgroundColor="Green",t!==1&&(i(`${n}one`).style.backgroundColor=""),t!==10&&(i(`${n}ten`).style.backgroundColor=""),t!==100&&(i(`${n}hundred`).style.backgroundColor=""),t!==1e3&&(i(`${n}thousand`).style.backgroundColor=""),t!==1e4&&(i(`${n}10k`).style.backgroundColor=""),t!==1e5&&(i(`${n}100k`).style.backgroundColor="")},$n=t=>{if(t)e.shoptoggles[t]=!e.shoptoggles[t],i(`${t}AutoUpgrade`).style.borderColor=e.shoptoggles[t]?"green":"red",e.shoptoggles[t]?i(`${t}AutoUpgrade`).textContent=p.t("general.autoOnColon"):i(`${t}AutoUpgrade`).textContent=p.t("general.autoOffColon");else{let n=Object.keys(e.shoptoggles);for(let r of n){let a=e.shoptoggles[r]?"green":"red";e.shoptoggles[r]?i(`${r}AutoUpgrade`).textContent=p.t("general.autoOnColon"):i(`${r}AutoUpgrade`).textContent=p.t("general.autoOffColon"),i(`${r}AutoUpgrade`).style.borderColor=a}}};function ka(t){let n={"-1":{tabName:"settings",unlocked:!0},0:{tabName:"shop",unlocked:e.unlocks.reincarnate||e.highestSingularityCount>0},1:{tabName:"buildings",unlocked:!0},2:{tabName:"upgrades",unlocked:!0},3:{tabName:"achievements",unlocked:e.unlocks.coinfour},4:{tabName:"runes",unlocked:e.unlocks.prestige},5:{tabName:"challenges",unlocked:e.unlocks.transcend},6:{tabName:"researches",unlocked:e.unlocks.reincarnate},7:{tabName:"ants",unlocked:e.achievements[127]>0},8:{tabName:"cubes",unlocked:e.achievements[141]>0},9:{tabName:"traits",unlocked:e.challengecompletions[11]>0},10:{tabName:"singularity",unlocked:e.highestSingularityCount>0}};return typeof t>"u"?n:n[t]}var Zo=t=>({"-1":{tabSwitcher:kf,subTabList:[{subTabID:"settingsubtab",unlocked:!0},{subTabID:"languagesubtab",unlocked:!0},{subTabID:"creditssubtab",unlocked:!0},{subTabID:"statisticsSubTab",unlocked:!0},{subTabID:"resetHistorySubTab",unlocked:e.unlocks.prestige},{subTabID:"ascendHistorySubTab",unlocked:e.ascensionCount>0},{subTabID:"singularityHistorySubTab",unlocked:e.highestSingularityCount>0},{subTabID:"hotkeys",unlocked:!0}]},0:{subTabList:[]},1:{tabSwitcher:Mf,subTabList:[{subTabID:"coin",unlocked:!0,buttonID:"switchToCoinBuilding"},{subTabID:"diamond",unlocked:e.unlocks.prestige,buttonID:"switchToDiamondBuilding"},{subTabID:"mythos",unlocked:e.unlocks.transcend,buttonID:"switchToMythosBuilding"},{subTabID:"particle",unlocked:e.unlocks.reincarnate,buttonID:"switchToParticleBuilding"},{subTabID:"tesseract",unlocked:e.achievements[183]>0,buttonID:"switchToTesseractBuilding"}]},2:{subTabList:[]},3:{subTabList:[]},4:{tabSwitcher:Sf,subTabList:[{subTabID:1,unlocked:e.unlocks.prestige,buttonID:"toggleRuneSubTab1"},{subTabID:2,unlocked:e.achievements[134]>0,buttonID:"toggleRuneSubTab2"},{subTabID:3,unlocked:e.achievements[134]>0,buttonID:"toggleRuneSubTab3"},{subTabID:4,unlocked:e.achievements[204]>0,buttonID:"toggleRuneSubTab4"}]},5:{subTabList:[]},6:{subTabList:[]},7:{subTabList:[]},8:{tabSwitcher:Pf,subTabList:[{subTabID:1,unlocked:e.achievements[141]>0,buttonID:"switchCubeSubTab1"},{subTabID:2,unlocked:e.achievements[197]>0,buttonID:"switchCubeSubTab2"},{subTabID:3,unlocked:e.achievements[211]>0,buttonID:"switchCubeSubTab3"},{subTabID:4,unlocked:e.achievements[218]>0,buttonID:"switchCubeSubTab4"},{subTabID:5,unlocked:e.achievements[141]>0,buttonID:"switchCubeSubTab5"},{subTabID:6,unlocked:e.achievements[218]>0,buttonID:"switchCubeSubTab6"},{subTabID:7,unlocked:e.challenge15Exponent>=1e15,buttonID:"switchCubeSubTab7"}]},9:{tabSwitcher:Lf,subTabList:[{subTabID:!0,unlocked:e.achievements[141]>0,buttonID:"corrStatsBtn"},{subTabID:!1,unlocked:e.achievements[141]>0,buttonID:"corrLoadoutsBtn"}]},10:{tabSwitcher:Tf,subTabList:[{subTabID:1,unlocked:e.highestSingularityCount>0,buttonID:"toggleSingularitySubTab1"},{subTabID:2,unlocked:e.highestSingularityCount>0,buttonID:"toggleSingularitySubTab2"},{subTabID:3,unlocked:e.highestSingularityCount>0,buttonID:"toggleSingularitySubTab3"},{subTabID:4,unlocked:Boolean(e.singularityUpgrades.octeractUnlock.getEffect().bonus),buttonID:"toggleSingularitySubTab4"},{subTabID:5,unlocked:e.highestSingularityCount>=25,buttonID:"toggleSingularitySubTab5"}]}})[t],Ma=(t=1,n=!0)=>{if(n){e.tabnumber+=t;let r=Object.keys(ka()).reduce((l,c)=>Math.max(l,+c),-1/0),a=Object.keys(ka()).reduce((l,c)=>Math.min(l,+c),1/0),o=()=>{e.tabnumber===r+1&&(e.tabnumber=a),e.tabnumber===a-1&&(e.tabnumber=r)};for(o();!ka(e.tabnumber).unlocked;)e.tabnumber+=t,o();De(ka(e.tabnumber).tabName)}else{let r=Zo(e.tabnumber).subTabList;if(r.length===0)return;e.subtabNumber+=t;let a=()=>{let o=r.length;e.subtabNumber=(e.subtabNumber+o)%o};for(a();!r[e.subtabNumber].unlocked;)e.subtabNumber+=t,a();ve(e.tabnumber,e.subtabNumber)}Dr()},ve=(t=1,n=0)=>{var a,o;let r=Zo(t);if(ka(t).unlocked&&r.subTabList.length>0){let l=document.activeElement;l!==null&&l.blur();let c=r.subTabList[n];if(t===-1){let g=i("settings").getElementsByClassName("subtabSwitcher")[0].children[n];c.unlocked&&(e.subtabNumber=n,(a=r.tabSwitcher)==null||a.call(r,c.subTabID,g))}else c.unlocked&&(e.subtabNumber=n,(o=r.tabSwitcher)==null||o.call(r,c.subTabID))}},Pa=t=>{t===1?e.resettoggle1===1||e.resettoggle1===0?(e.resettoggle1=2,i("prestigeautotoggle").textContent=p.t("toggles.modeTime")):(e.resettoggle1=1,i("prestigeautotoggle").textContent=p.t("toggles.modeAmount")):t===2?e.resettoggle2===1||e.resettoggle2===0?(e.resettoggle2=2,i("transcendautotoggle").textContent=p.t("toggles.modeTime")):(e.resettoggle2=1,i("transcendautotoggle").textContent=p.t("toggles.modeAmount")):t===3?e.resettoggle3===1||e.resettoggle3===0?(e.resettoggle3=2,i("reincarnateautotoggle").textContent=p.t("toggles.modeTime")):(e.resettoggle3=1,i("reincarnateautotoggle").textContent=p.t("toggles.modeAmount")):t===4&&(e.resettoggle4===1||e.resettoggle4===0?(e.resettoggle4=2,i("tesseractautobuymode").textContent=p.t("main.modePercentage")):(e.resettoggle4=1,i("tesseractautobuymode").textContent=p.t("toggles.modeAmount")))},_u=()=>{e.tesseractAutoBuyerToggle===1||e.tesseractAutoBuyerToggle===0?(e.tesseractAutoBuyerToggle=2,i("tesseractautobuytoggle").textContent=p.t("runes.talismans.autoBuyOff"),i("tesseractautobuytoggle").style.border="2px solid red"):(e.tesseractAutoBuyerToggle=1,i("tesseractautobuytoggle").textContent=p.t("runes.talismans.autoBuyOn"),i("tesseractautobuytoggle").style.border="2px solid green")},_i=()=>{let t=Array.from(document.querySelectorAll(".auto[toggleid]"));for(let r of t){let a=r.getAttribute("format"),o=r.getAttribute("toggleId")||1;if(a==="$"){let l=e.toggles[+o]?p.t("general.on"):p.t("general.off");r.textContent=l}else if(a==="Auto Catalyze: $"){let l=e.toggles[+o]?p.t("shop.autoCatalyzeOn"):p.t("shop.autoCatalyzeOff");r.textContent=l}else if(a==="Hover-to-Buy [$]"){let l=e.toggles[+o]?p.t("researches.hoverToBuyOn"):p.t("researches.hoverToBuyOff");r.textContent=l}else if(a==="Auto: $"){let l=e.toggles[+o]?p.t("general.autoOnColon"):p.t("general.autoOffColon");r.textContent=l}else if(a){let l=a.replace("$",e.toggles[+o]?"ON":"OFF");r.textContent=l}else r.textContent=e.toggles[+o]?p.t("general.autoOnBracket"):p.t("general.autoOffBracket");r.style.border="2px solid "+(e.toggles[+o]?"green":"red")}let n=Array.from(document.querySelectorAll('*[id^="tesseractAutoToggle"]'));for(let r=0;r<n.length;r++){let a=n[r];e.autoTesseracts[r+1]?(a.textContent=p.t("general.autoOnBracket"),a.style.border="2px solid green"):(a.textContent=p.t("general.autoOffBracket"),a.style.border="2px solid red")}},qu=()=>{e.researchBuyMaxToggle?(e.researchBuyMaxToggle=!1,i("toggleresearchbuy").textContent=p.t("researches.upgradeOne")):(e.researchBuyMaxToggle=!0,i("toggleresearchbuy").textContent=p.t("researches.upgradeMax"))},ju=()=>{let t=i("toggleautoresearch");e.autoResearchToggle||e.shopUpgrades.obtainiumAuto<1?(e.autoResearchToggle=!1,t.textContent=p.t("researches.automaticOff"),i(`res${e.autoResearch||1}`).classList.remove("researchRoomba"),e.autoResearch=0):(e.autoResearchToggle=!0,t.textContent=p.t("researches.automaticOn")),e.autoResearchToggle&&mt()&&e.autoResearchMode==="cheapest"&&(e.autoResearch=s.researchOrderByCost[e.roombaResearchIndex])},Vu=()=>{let t=i("toggleautoresearchmode");e.autoResearchMode==="cheapest"||!mt()?(e.autoResearchMode="manual",t.textContent=p.t("researches.autoModeManual")):(e.autoResearchMode="cheapest",t.textContent=p.t("researches.autoModeCheapest")),i(`res${e.autoResearch||1}`).classList.remove("researchRoomba"),e.autoResearchToggle&&mt()&&e.autoResearchMode==="cheapest"&&(e.autoResearch=s.researchOrderByCost[e.roombaResearchIndex])},qi=t=>{let n=i("toggleautosacrifice");t===0?e.autoSacrificeToggle?(e.autoSacrificeToggle=!1,n.textContent=p.t("runes.blessings.autoRuneOff"),n.style.border="2px solid red",e.autoSacrifice=0):(e.autoSacrificeToggle=!0,e.saveOfferingToggle=!1,n.textContent=p.t("runes.blessings.autoRuneOn"),n.style.border="2px solid green",i("saveOffToggle").textContent=p.t("toggles.saveOfferingsOff"),i("saveOffToggle").style.color="white"):e.autoSacrificeToggle&&e.shopUpgrades.offeringAuto>.5&&(e.autoSacrifice===t?e.autoSacrifice=0:e.autoSacrifice=t);for(let r=1;r<=5;r++)i("rune"+r).style.backgroundColor=e.autoSacrifice===r?"orange":"";ke()},Wu=()=>{let t=i("toggleautoBuyFragments");e.autoBuyFragment?(t.textContent=p.t("runes.talismans.autoBuyOff"),t.style.border="2px solid orange",t.style.color="white"):(t.textContent=p.t("runes.talismans.autoBuyOn"),t.style.border="2px solid white",t.style.color="orange"),e.autoBuyFragment=!e.autoBuyFragment},Mf=t=>{s.buildingSubTab=t;let n={coin:{screen:"coinBuildings",button:"switchToCoinBuilding",subtabNumber:0},diamond:{screen:"prestige",button:"switchToDiamondBuilding",subtabNumber:1},mythos:{screen:"transcension",button:"switchToMythosBuilding",subtabNumber:2},particle:{screen:"reincarnation",button:"switchToParticleBuilding",subtabNumber:3},tesseract:{screen:"ascension",button:"switchToTesseractBuilding",subtabNumber:4}};for(let r in n)i(n[r].screen).style.display="none",i(n[r].button).style.backgroundColor="";i(n[s.buildingSubTab].screen).style.display="flex",i(n[s.buildingSubTab].button).style.backgroundColor="crimson",e.subtabNumber=n[s.buildingSubTab].subtabNumber},Sf=t=>{let n=["runes","talismans","blessings","spirits"];s.runescreen=n[t-1];for(let r=1;r<=4;r++){let a=i("toggleRuneSubTab"+r),o=i("runeContainer"+r);r===t?(a.style.border="2px solid gold",a.style.backgroundColor="crimson",o.style.display="flex"):(a.style.border="2px solid silver",a.style.backgroundColor="",o.style.display="none")}e.subtabNumber=t-1},Xu=()=>{let t=i("toggleautofortify");e.autoFortifyToggle?(t.textContent=p.t("runes.autoFortifyOff"),t.style.border="2px solid red"):(t.textContent=p.t("runes.autoFortifyOn"),t.style.border="2px solid green"),e.autoFortifyToggle=!e.autoFortifyToggle},Yu=()=>{let t=i("toggleautoenhance");e.autoEnhanceToggle?(t.textContent=p.t("runes.autoEnhanceOff"),t.style.border="2px solid red"):(t.textContent=p.t("runes.autoEnhanceOn"),t.style.border="2px solid green"),e.autoEnhanceToggle=!e.autoEnhanceToggle},zu=()=>{let t=i("saveOffToggle"),n=i("toggleautosacrifice");e.saveOfferingToggle?(e.autoSacrificeToggle=!0,t.textContent=p.t("toggles.saveOfferingsOff"),t.style.color="white",n.textContent="Auto Runes: ON",n.style.border="2px solid green"):(e.autoSacrificeToggle=!1,t.textContent=p.t("toggles.saveOfferingsOn"),t.style.color="yellow",n.textContent="Auto Runes: OFF",n.style.border="2px solid red"),e.saveOfferingToggle=!e.saveOfferingToggle},Tf=t=>{let n=["shop","penalties","perks","octeracts","challenges"];s.singularityscreen=n[t-1];for(let r=1;r<=5;r++){let a=i("toggleSingularitySubTab"+r),o=i("singularityContainer"+r);r===t?(a.style.backgroundColor="crimson",o.style.display="block"):(a.style.backgroundColor="",o.style.display="none")}e.subtabNumber=t-1,e.subtabNumber===3&&Ho()},kf=async(t,n)=>{let r=i(t);if(r.classList.contains("subtabActive"))return;if(n.parentNode.querySelectorAll(".buttonActive").forEach(o=>o.classList.remove("buttonActive")),n.classList.add("buttonActive"),r.parentNode.querySelectorAll(".subtabActive").forEach(o=>o.classList.remove("subtabActive")),r.classList.add("subtabActive"),t==="creditssubtab"){let o=i("creditList"),l=i("artistList");if(o.childElementCount>0||l.childElementCount>0)return;if(!navigator.onLine||document.hidden)return;try{let g=await(await fetch("https://api.github.com/repos/pseudo-corp/SynergismOfficial/contributors",{headers:{Accept:"application/vnd.github.v3+json"}})).json();for(let d of g){let m=document.createElement("div");m.classList.add("credit");let h=new Image(32,32);h.src=d.avatar_url,h.alt=d.login;let y=document.createElement("a");y.href=`https://github.com/Pseudo-Corp/SynergismOfficial/commits?author=${d.login}`,y.textContent=d.login,y.target="_blank",y.rel="noopener noreferrer nofollow",m.appendChild(h),m.appendChild(y),o.appendChild(m)}}catch(c){let g=c;o.appendChild(document.createTextNode(g.toString()))}try{let g=await(await fetch("https://api.github.com/gists/01917ff476d25a141c5bad38340cd756",{headers:{Accept:"application/vnd.github.v3+json"}})).json(),d=JSON.parse(g.files["synergism_artists.json"].content);for(let m of d){let h=document.createElement("p");h.textContent=m,l.appendChild(h)}}catch(c){let g=c;o.appendChild(document.createTextNode(g.toString()))}}},Ku=()=>{let t=i("toggleConfirmShop");t.textContent=e.shopConfirmationToggle?p.t("shop.shopConfirmationOff"):p.t("shop.shopConfirmationOn"),e.shopConfirmationToggle=!e.shopConfirmationToggle},Zu=t=>{let n=i("toggleBuyMaxShopText");if(t.shiftKey){n.textContent=p.t("shop.buyAny"),e.shopBuyMaxToggle="ANY";return}switch(e.shopBuyMaxToggle){case!1:n.innerHTML=p.t("shop.buy10"),e.shopBuyMaxToggle="TEN";break;case"TEN":n.innerHTML=p.t("shop.buyMax"),e.shopBuyMaxToggle=!0;break;default:n.innerHTML=p.t("shop.buy1"),e.shopBuyMaxToggle=!1}},Ju=()=>{let t=i("toggleHideShop");t.textContent=e.shopHideToggle?p.t("shop.hideMaxedOff"):p.t("shop.hideMaxedOn"),e.shopHideToggle=!e.shopHideToggle},Jo=()=>{let t=i("toggleAntMax");t.textContent=e.antMax?p.t("general.buyMaxOn"):p.t("general.buyMaxOff"),e.antMax=!e.antMax},Hr=(t=0)=>{if(t===0){let n=i("toggleAutoSacrificeAnt");e.autoAntSacrifice?(e.autoAntSacrifice=!1,n.textContent=p.t("ants.autoSacrificeOff")):(e.autoAntSacrifice=!0,n.textContent=p.t("ants.autoSacrificeOn"))}else if(t===1){let n=i("autoSacrificeAntMode");e.autoAntSacrificeMode===1||e.autoAntSacrificeMode===0?(e.autoAntSacrificeMode=2,n.textContent=p.t("ants.modeRealTime")):(e.autoAntSacrificeMode=1,n.textContent=p.t("ants.modeInGameTime"))}},ep=()=>{let t=i("toggleCubeBuy");e.cubeUpgradesBuyMaxToggle?(e.cubeUpgradesBuyMaxToggle=!1,t.textContent=p.t("toggles.upgradeOneLevelWow")):(e.cubeUpgradesBuyMaxToggle=!0,t.textContent=p.t("toggles.upgradeMaxIfPossible"))},es=(t=!0)=>{t&&(e.autoCubeUpgradesToggle=!e.autoCubeUpgradesToggle);let n=i("toggleAutoCubeUpgrades");e.autoCubeUpgradesToggle?(n.textContent=p.t("toggles.autoUpgradeOn"),n.style.border="2px solid green"):(n.textContent=p.t("toggles.autoUpgradeOff"),n.style.border="2px solid red")},ts=(t=!0)=>{t&&(e.autoPlatonicUpgradesToggle=!e.autoPlatonicUpgradesToggle);let n=i("toggleAutoPlatonicUpgrades");e.autoPlatonicUpgradesToggle?(n.textContent=p.t("toggles.autoUpgradeOn"),n.style.border="2px solid green"):(n.textContent=p.t("toggles.autoUpgradeOff"),n.style.border="2px solid red")},Pf=t=>{let n=Zo(8).subTabList.length;for(let r=1;r<=n;r++){let a=i(`cubeTab${r}`);a.style.display==="flex"&&r!==t&&(a.style.display="none"),a.style.display==="none"&&r===t&&(a.style.display="flex",e.subtabNumber=r-1),i("switchCubeSubTab"+r).style.backgroundColor=t===r?"crimson":""}Do()},Fn=t=>{switch(t){case 1:{let n=parseFloat(i("startAutoChallengeTimerInput").value)||0;e.autoChallengeTimer.start=Math.max(n,0),i("startTimerValue").innerHTML=p.t("challenges.timeStartSweep",{time:u(e.autoChallengeTimer.start,2,!0)});return}case 2:{let n=parseFloat(i("exitAutoChallengeTimerInput").value)||0;e.autoChallengeTimer.exit=Math.max(n,0),i("exitTimerValue").innerHTML=p.t("challenges.timeExitChallenge",{time:u(e.autoChallengeTimer.exit,2,!0)});return}case 3:{let n=parseFloat(i("enterAutoChallengeTimerInput").value)||0;e.autoChallengeTimer.enter=Math.max(n,0),i("enterTimerValue").innerHTML=p.t("challenges.timeEnterChallenge",{time:u(e.autoChallengeTimer.enter,2,!0)});return}}},tp=t=>{if(t<=15){e.autoChallengeToggles[t]=!e.autoChallengeToggles[t];let n=i("toggleAutoChallengeIgnore");n.style.border=e.autoChallengeToggles[t]?"2px solid green":"2px solid red",t>=11&&t<=15?e.autoChallengeToggles[t]?n.textContent=p.t("challenges.autoAscRunChalOn",{x:t}):n.textContent=p.t("challenges.autoAscRunChalOff",{x:t}):e.autoChallengeToggles[t]?n.textContent=p.t("challenges.autoRunChalOn",{x:t}):n.textContent=p.t("challenges.autoRunChalOff",{x:t})}},Ta=()=>{let t=i("toggleAutoChallengeStart");e.autoChallengeRunning?(t.style.border="2px solid red",t.textContent=p.t("challenges.autoChallengeSweepOff"),s.autoChallengeTimerIncrement=0,It("OFF")):(t.style.border="2px solid gold",t.textContent=p.t("challenges.autoChallengeSweepOn"),It("START"),s.autoChallengeTimerIncrement=0),e.autoChallengeRunning=!e.autoChallengeRunning},It=t=>{let n=i("autoChallengeType");n.textContent=p.t(`challenges.mode${t[0]+t.slice(1).toLowerCase()}`)},Gr=(t=0)=>{if(t===0){let n=i("ascensionAutoEnable");e.autoAscend?(n.style.border="2px solid red",n.textContent=p.t("corruptions.autoAscend.off")):(n.style.border="2px solid green",n.textContent=p.t("corruptions.autoAscend.on")),e.autoAscend=!e.autoAscend}else if(t===1&&e.highestSingularityCount>=25){let n=i("ascensionAutoToggle");e.autoAscendMode==="c10Completions"?(e.autoAscendMode="realAscensionTime",n.textContent=p.t("corruptions.autoAscend.modeRealTime")):(e.autoAscendMode="c10Completions",n.textContent=p.t("corruptions.autoAscend.modeCompletions"))}},La=t=>{if(e.highestSingularityCount>=35){if(t===1){let n=i("openCubes"),r=i("cubeOpensInput");e.autoOpenCubes?(n.textContent=p.t("wowCubes.autoOff"),n.style.border="1px solid red",r.style.border="1px solid red"):(n.textContent=p.t("wowCubes.autoOn",{percent:u(e.openCubes,0)}),n.style.border="1px solid green",r.style.border="1px solid green"),e.autoOpenCubes=!e.autoOpenCubes}else if(t===2){let n=i("openTesseracts"),r=i("tesseractsOpensInput");e.autoOpenTesseracts?(n.textContent=p.t("wowCubes.autoOff"),n.style.border="1px solid red",r.style.border="1px solid red"):(n.textContent=p.t("wowCubes.autoOn",{percent:u(e.openTesseracts,0)}),n.style.border="1px solid green",r.style.border="1px solid green"),e.autoOpenTesseracts=!e.autoOpenTesseracts}else if(t===3){let n=i("openHypercubes"),r=i("hypercubesOpensInput");e.autoOpenHypercubes?(n.textContent=p.t("wowCubes.autoOff"),n.style.border="1px solid red",r.style.border="1px solid red"):(n.textContent=p.t("wowCubes.autoOn",{percent:u(e.openHypercubes,0)}),n.style.border="1px solid green",r.style.border="1px solid green"),e.autoOpenHypercubes=!e.autoOpenHypercubes}else if(t===4){let n=i("openPlatonicCube"),r=i("platonicCubeOpensInput");e.autoOpenPlatonicsCubes?(n.textContent=p.t("wowCubes.autoOff"),n.style.border="1px solid red",r.style.border="1px solid red"):(n.textContent=p.t("wowCubes.autoOn",{percent:u(e.openPlatonicsCubes,0)}),n.style.border="1px solid green",r.style.border="1px solid green"),e.autoOpenPlatonicsCubes=!e.autoOpenPlatonicsCubes}}},$r=t=>{switch(t){case 1:{let n=Math.floor(parseFloat(i("buyRuneBlessingInput").value))||1;e.runeBlessingBuyAmount=Math.max(n,1),i("buyRuneBlessingToggle").innerHTML=p.t("runes.blessings.buyUpTo",{amount:u(e.runeBlessingBuyAmount)});return}case 2:{let n=Math.floor(parseFloat(i("buyRuneSpiritInput").value))||1;e.runeSpiritBuyAmount=Math.max(n,1),i("buyRuneSpiritToggleValue").innerHTML=p.t("runes.spirits.buyUpTo",{amount:u(e.runeSpiritBuyAmount)});return}}},np=t=>{let n=i("tesseractAutoToggle"+t);e.autoTesseracts[t]?(n.textContent=p.t("general.autoOffBracket"),n.style.border="2px solid red"):(n.textContent=p.t("general.autoOnBracket"),n.style.border="2px solid green"),e.autoTesseracts[t]=!e.autoTesseracts[t]},fn=(t,n)=>{let r=e.prototypeCorruptions[t],a=tr();if(n>0&&r<a&&0<t&&t<=9&&(e.prototypeCorruptions[t]+=Math.min(a-r,n)),n<0&&r>0&&0<t&&t<=9&&(e.prototypeCorruptions[t]-=Math.min(r,-n)),e.prototypeCorruptions[t]=Math.min(a,Math.max(0,e.prototypeCorruptions[t])),n===999&&e.currentChallenge.ascension!==15){for(let o=0;o<=9;o++)e.usedCorruptions[o]=0,e.prototypeCorruptions[o]=0,o>1&&nr(o);nr(s.corruptionTrigger),i("corruptionCleanseConfirm").style.visibility="hidden",e.currentChallenge.ascension===15&&de("ascensionChallenge",!1,!0)}nr(t),er()},Lf=t=>{e.corruptionShowStats=t,Ko()},on=t=>{let n=i(`unit${t}`);if(n===null){console.log(t,"platonic needs to fix");return}n.textContent=e.ascStatToggles[t]?"/s":"",t===6&&(n.textContent=""),e.ascStatToggles[t]=!e.ascStatToggles[t]},rp=async()=>{let t=await Se(p.t("wowCubes.hepteractForge.autoCraftPercentagePrompt"));if(t===null)return e.toggles[35]?R(p.t("toggles.percentKeptAt",{x:e.hepteractAutoCraftPercentage})):void 0;let n=t.endsWith("%"),r=Number(n?t.slice(0,-1):t);if(Number.isNaN(r)||!Number.isFinite(r)||!Number.isInteger(r))return R(p.t("general.validation.finiteInt"));if(r<0||r>100)return R(p.t("toggles.percentBetweenInclusive",{x:0,y:100}));if(r===e.hepteractAutoCraftPercentage&&e.toggles[35])return R(p.t("toggles.percentKeptAt",{x:e.hepteractAutoCraftPercentage}));if(e.hepteractAutoCraftPercentage=r,i("autoHepteractPercentage").textContent=p.t("wowCubes.hepteractForge.autoSetting",{x:`${e.hepteractAutoCraftPercentage}`}),e.toggles[35])return R(p.t("toggles.onAscensionHepteractsCraft",{x:e.hepteractAutoCraftPercentage}))},Di=(t=!0)=>{i("alertWrapper").style.display==="block"&&i("ok_alert").click(),(i("confirmWrapper").style.display==="block"||i("promptWrapper").style.display==="block")&&(t?i("ok_confirm").click():i("cancel_confirm").click())};var Ee=t=>{let n=0;return t<=5?e.singularityChallenges.oneChallengeCap.enabled?1:(n=25,e.researches[105]>0?9001:(n+=5*e.researches[65+t],n)):t<=10&&t>5?e.singularityChallenges.oneChallengeCap.enabled?1:(n=40,n+=4*e.cubeUpgrades[29],n+=2*e.shopUpgrades.challengeExtension,e.platonicUpgrades[5]>0&&(n+=10),e.platonicUpgrades[10]>0&&(n+=10),e.platonicUpgrades[15]>0&&(n+=30),n+=2*+e.singularityUpgrades.singChallengeExtension.getEffect().bonus,n+=2*+e.singularityUpgrades.singChallengeExtension2.getEffect().bonus,n+=2*+e.singularityUpgrades.singChallengeExtension3.getEffect().bonus,n+=+e.singularityChallenges.oneChallengeCap.rewards.capIncrease,n):t<=15&&t>10?t===15?0:e.singularityChallenges.oneChallengeCap.enabled?1:(n=30,e.platonicUpgrades[5]>0&&(n+=5),e.platonicUpgrades[10]>0&&(n+=5),e.platonicUpgrades[15]>0&&(n+=20),n+=+e.singularityUpgrades.singChallengeExtension.getEffect().bonus,n+=+e.singularityUpgrades.singChallengeExtension2.getEffect().bonus,n+=+e.singularityUpgrades.singChallengeExtension3.getEffect().bonus,n):n},$e=(t,n=!0)=>{let r=1;n&&(s.challengefocus=t,i("oneChallengeDetails").style.display="flex",i("startChallenge").style.display="block",i("retryChallenge").style.display="block",s.triggerChallenge=t);let a=Ee(t);t<=5&&n&&(e.challengecompletions[t]>=100?i("completionSoftcap").innerHTML=p.t("challenges.perCompletionBonus",{x:100,y:u(j("transcend",e.challengecompletions[t]),2,!0)}):i("completionSoftcap").textContent=p.t("challenges.perCompletionBonusEmpty")),t>5&&t<=10&&(r=10,e.challengecompletions[t]>=25&&n?i("completionSoftcap").innerHTML=p.t("challenges.perCompletionBonus",{x:25,y:u(j("reincarnation",e.challengecompletions[t]),2,!0)}):i("completionSoftcap").textContent=p.t("challenges.perCompletionBonusEmpty")),t>10&&(e.challengecompletions[t]>=10?i("completionSoftcap").innerHTML=p.t("challenges.perCompletionBonus",{x:10,y:u(j("ascension",e.challengecompletions[t]),2,!0)}):i("completionSoftcap").textContent=p.t("challenges.perCompletionBonusEmpty"));let o="",l=i("challengeName"),c=i("challengeFlavor"),g=i("challengeRestrictions"),d=i("challengeGoal"),m=i("challengePer1").childNodes[0],h=i("challengePer2").childNodes[0],y=i("challengePer3").childNodes[0],b=i("challengeFirst1"),w=i("challengeQuarkBonus"),S=i("startChallenge"),k=i("challengeCurrent1"),B=i("challengeCurrent2"),N=i("challengeCurrent3");if(t===s.challengefocus){let F=`${e.challengecompletions[t]}/${u(a)}`,Y=t>=6&&t<=10||t===15,oe=u(rt(t,e.challengecompletions[t],Y?t:0)),te="",ue="",ye="";switch(t){case 1:{te=ue=u(10*j("transcend",e.challengecompletions[1])),ye=u(.04*j("transcend",e.challengecompletions[1]),2,!0);break}case 2:{te=ue=u(5*j("transcend",e.challengecompletions[2]));break}case 3:{te=u(.04*e.challengecompletions[3],2,!0),ue=u(.5*j("transcend",e.challengecompletions[3]),2,!0),ye=u(.01*j("transcend",e.challengecompletions[3]),2,!0);break}case 4:{te=u(5*j("transcend",e.challengecompletions[4])),ue=u(2*j("transcend",e.challengecompletions[4])),ye=u(.5*j("transcend",e.challengecompletions[4]),2,!0);break}case 5:{te=u(.5+j("transcend",e.challengecompletions[5])/100,2,!0),ue=u(Math.pow(10,j("transcend",e.challengecompletions[5])));break}case 6:{te=u(Math.pow(.965,j("reincarnation",e.challengecompletions[6])),3,!0),ue=u(10*j("reincarnation",e.challengecompletions[6])),ye=u(2*j("reincarnation",e.challengecompletions[6]));break}case 7:{te=u(1+.04*j("reincarnation",e.challengecompletions[7]),2,!0),ue=ye=u(10*j("reincarnation",e.challengecompletions[7]));break}case 8:{te=u(.25*j("reincarnation",e.challengecompletions[8]),2,!0),ue=u(20*j("reincarnation",e.challengecompletions[8]),2,!0),ye=u(4*j("reincarnation",e.challengecompletions[8]),2,!0);break}case 9:{te=u(j("reincarnation",e.challengecompletions[9])),ue=u(Math.pow(1.1,j("reincarnation",e.challengecompletions[9])),2,!0),ye=u(20*j("reincarnation",e.challengecompletions[9]),2,!0);break}case 10:{te=u(100*j("reincarnation",e.challengecompletions[10])),ue=u(2*j("reincarnation",e.challengecompletions[10])),ye=u(10*j("reincarnation",e.challengecompletions[10]),2,!0);break}case 11:{te=u(12*j("ascension",e.challengecompletions[11])),ue=u(f.pow(1e5,j("ascension",e.challengecompletions[11]))),ye=u(80*j("ascension",e.challengecompletions[11]));break}case 12:{te=u(50*j("ascension",e.challengecompletions[12])),ue=u(12*j("ascension",e.challengecompletions[12])),ye=u(j("ascension",e.challengecompletions[12]));break}case 13:{te=u(100-100*Math.pow(.966,j("ascension",e.challengecompletions[13])),3,!0),ue=u(6*j("ascension",e.challengecompletions[13])),ye=u(3*j("ascension",e.challengecompletions[13]));break}case 14:{te=u(50*j("ascension",e.challengecompletions[14])),ue=u(1*e.challengecompletions[14]),ye=u(200*j("ascension",e.challengecompletions[14]));break}}l.textContent=p.t(`challenges.${t}.name`,{value:F,completions:e.challengecompletions[t],max:a}),c.textContent=p.t(`challenges.${t}.flavor`),g.textContent=p.t(`challenges.${t}.restrictions`),d.textContent=p.t(`challenges.${t}.goal`,{value:oe}),m.textContent=p.t(`challenges.${t}.per.1`),h.textContent=p.t(`challenges.${t}.per.2`),y.textContent=p.t(`challenges.${t}.per.3`),b.textContent=p.t(`challenges.${t}.first`),S.textContent=p.t(`challenges.${t}.start`),k.textContent=p.t(`challenges.${t}.current.1`,{value:te}),B.textContent=p.t(`challenges.${t}.current.2`,{value:ue}),N.textContent=p.t(`challenges.${t}.current.3`,{value:ye})}t===15&&s.challengefocus===15&&a===0&&(d.textContent=p.t("challenges.15.noGoal"));let I=[0,8,10,12,15,20,60,80,120,180,300],$=[0,10,12,15,20,30,80,120,180,300,450],O=[0,20,30,50,100,200,250,300,400,500,750],v=[0,1e4,1e4,1e4,1e4,1e4,2e3,3e3,4e3,5e3,7500],M=0;if(t<=5&&(e.highestchallengecompletions[t]>=9e3?M=v[t]:e.highestchallengecompletions[t]>=750?M=O[t]:e.highestchallengecompletions[t]>=75?M=$[t]:M=I[t]),t>5&&t<=10&&(e.highestchallengecompletions[t]>=60?M=O[t]:e.highestchallengecompletions[t]>=25?M=$[t]:M=I[t]),n&&(w.textContent=""),e.ascensionCount===0&&(o="Quarks",w.style.color="cyan"),e.challengecompletions[t]>=e.highestchallengecompletions[t]&&e.highestchallengecompletions[t]<a&&n&&e.ascensionCount<1&&(w.textContent=p.t(o?"challenges.firstTimeBonusQuarks":"challenges.firstTimeBonus",{x:Math.floor(r*e.highestchallengecompletions[t]/10+1+e.cubeUpgrades[1]+e.cubeUpgrades[11]+e.cubeUpgrades[21]+e.cubeUpgrades[31]+e.cubeUpgrades[41])})),e.challengecompletions[t]>=e.highestchallengecompletions[t]&&e.highestchallengecompletions[t]<a&&n&&e.ascensionCount>=1&&(w.textContent=p.t("challenges.ascensionBankAdd",{x:t>5?2:1,y:M})),e.challengecompletions[t]>=e.highestchallengecompletions[t]&&e.highestchallengecompletions[t]<10&&t>10&&(w.textContent=p.t("challenges.hypercubeOneTimeBonus")),n){let F=i("toggleAutoChallengeIgnore");F.style.display=t<=(Aa()?15:10)&&e.researches[150]>0?"block":"none",F.style.border=e.autoChallengeToggles[t]?"2px solid green":"2px solid red",t>=11&&t<=15?e.autoChallengeToggles[t]?F.textContent=p.t("challenges.autoAscRunChalOn",{x:t}):F.textContent=p.t("challenges.autoAscRunChalOff",{x:t}):e.autoChallengeToggles[t]?F.textContent=p.t("challenges.autoRunChalOn",{x:t}):F.textContent=p.t("challenges.autoRunChalOff",{x:t})}let A=i("toggleAutoChallengeStart");e.autoChallengeRunning?(A.textContent=p.t("challenges.autoChallengeSweepOn"),A.style.border="2px solid gold"):(A.textContent=p.t("challenges.autoChallengeSweepOff"),A.style.border="2px solid red")},ns=t=>{e.currentChallenge.reincarnation===9&&(s.rune1level=1,s.rune2level=1,s.rune3level=1,s.rune4level=1,s.rune5level=1,e.crystalUpgrades=[0,0,0,0,0,0,0,0]),s.prestigePointGain=new f("0"),typeof t=="number"&&(t>=6&&(s.transcendPointGain=new f("0")),t>=11&&(s.reincarnationPointGain=new f("0"))),ke()},ap=()=>{i("retryChallenge").textContent=e.retrychallenges?p.t("challenges.retryChallengesOff"):p.t("challenges.retryChallengesOn"),e.retrychallenges=!e.retrychallenges},ji=(t,n)=>{let r=.1;t>=6&&(r=1),e.ascensionCount===0&&e.worlds.add(1+Math.floor(n*r)*100/100),mt()&&e.ascensionCount===0&&t>=6&&t<=10&&(e.roombaResearchIndex=0,e.autoResearch=s.researchOrderByCost[e.roombaResearchIndex])},rs=(t,n,r=0)=>{let a=Math.max(1,s.hyperchallengedMultiplier[e.usedCorruptions[4]]/(1+e.platonicUpgrades[8]/2.5));switch(t==="ascension"&&(a=1),t){case"transcend":return a*=s.challenge15Rewards.transcendChallengeReduction,n>=75?a*=Math.pow(1+n,12)/Math.pow(75,8):a*=Math.pow(1+n,2),n>=1e3&&(a*=10*Math.pow(n/1e3,3)),n>=9e3&&(a*=1337),n>=9001&&(a*=n-8999),a;case"reincarnation":return n>=100&&(r===9||r===10)&&(a*=Math.pow(1.05,(n-100)*(1+(n-100)/20))),n>=90&&(r===6?a*=100:r==7?a*=50:r==8?a*=10:a*=4),n>=80&&(r===6?a*=50:r===7?a*=20:r===8?a*=4:a*=2),n>=70&&(r===6?a*=20:r===7?a*=10:r===8?a*=2:a*=1),n>=60&&(r===9||r===10)&&(a*=Math.pow(1e3,(n-60)*(1-.01*e.shopUpgrades.challengeTome-.01*e.shopUpgrades.challengeTome2)/10)),n>=25&&(a*=Math.pow(1+n,5)/625),n<25&&(a*=Math.min(Math.pow(1+n,2),Math.pow(1.3797,n))),a*=s.challenge15Rewards.reincarnationChallengeReduction,a;case"ascension":return r!==15?n>=10?a*=2*(1+n)-10:a*=1+n:a*=Math.pow(1e3,n),a}},j=(t,n)=>{let r=0;switch(t){case"transcend":return r+=Math.min(100,n),r+=1/20*(Math.min(1e3,Math.max(100,n))-100),r+=1/100*(Math.max(1e3,n)-1e3),r;case"reincarnation":return r+=Math.min(25,n),r+=1/2*(Math.min(75,Math.max(25,n))-25),r+=1/10*(Math.max(75,n)-75),r;case"ascension":return r+=Math.min(10,n),r+=1/2*(Math.max(10,n)-10),r}},rt=(t,n,r=0)=>{let a=s.challengeBaseRequirements[t-1];if(t<=5)return f.pow(10,a*rs("transcend",n,r));if(t<=10){let o=0;return t===10&&(o=1e8*(e.researches[140]+e.researches[155]+e.researches[170]+e.researches[185])+2e7*(e.shopUpgrades.challengeTome+e.shopUpgrades.challengeTome2)),f.pow(10,(a-o)*rs("reincarnation",n,r))}else return t<=14?rs("ascension",n,r):t===15?f.pow(10,1*Math.pow(10,30)*rs("ascension",n,r)):0},op=t=>{if(e.researches[150]===0||!e.autoChallengeRunning)return;s.autoChallengeTimerIncrement+=t;let n="none";if(e.currentChallenge.reincarnation!==0||e.currentChallenge.transcension!==0?n="exit":e.autoChallengeIndex===1?n="start":n="enter",Aa()&&e.currentChallenge.ascension===15&&e.shopUpgrades.challenge15Auto===0&&(n==="start"||n==="enter")&&e.autoAscend&&e.challengecompletions[11]>0&&e.cubeUpgrades[10]>0&&e.autoAscendMode==="realAscensionTime"&&e.ascensionCounterRealReal>=Math.max(.1,e.autoAscendThreshold-5)){n="wait",It("WAIT");return}if(s.autoChallengeTimerIncrement>=e.autoChallengeTimer.exit&&n==="exit"){let r=e.currentChallenge.reincarnation!==0?"reincarnation":"transcension";s.autoChallengeTimerIncrement=0;let a=e.autoChallengeIndex,o=Ea(a+1);r==="transcension"&&de("transcensionChallenge",void 0,!0),r==="reincarnation"&&de("reincarnationChallenge",void 0,!0),o<=10&&(o<a?(e.autoChallengeIndex=1,It("START")):(e.autoChallengeIndex=o,It("ENTER")));return}if(s.autoChallengeTimerIncrement>=e.autoChallengeTimer.start&&n==="start"||s.autoChallengeTimerIncrement>=e.autoChallengeTimer.enter&&n==="enter"){s.autoChallengeTimerIncrement=0;let r=e.autoChallengeIndex,a=Ea(r);if(a===11)return;e.autoChallengeIndex=a,Nt(e.autoChallengeIndex,!0),It("EXIT");return}},Ea=(t,n=!1,r=1,a=10)=>{let o=t;for(let l=o;l<=a&&(!e.autoChallengeToggles[l]||n===!1&&l!==15&&e.highestchallengecompletions[l]>=Ee(l));l++)o+=1;if(o>a){o=r;for(let l=o;l<=a&&(!e.autoChallengeToggles[l]||n===!1&&l!==15&&e.highestchallengecompletions[l]>=Ee(l));l++)o+=1}return o},Aa=()=>e.highestSingularityCount>=101&&e.shopUpgrades.instantChallenge2>0,da=()=>{let t=[1+5e-4*Ae("challenge"),1+.25*e.platonicUpgrades[15]];return fe(t)};var Fe=t=>u(typeof t=="string"?new f(t):t),Oa=(t,n)=>typeof t=="string"?Fe(t):typeof t=="number"&&e.historyShowPerSecond&&n.seconds!==0?t===0?"0.000/s":u(t/n.seconds,3,t<1e3)+"/s":u(t),Ef={offerings:{img:"Offering.png",formatter:Fe,imgTitle:"Offerings"},obtainium:{img:"Obtainium.png",formatter:Fe,imgTitle:"Obtainium"},particles:{img:"Particle.png",formatter:Fe,imgTitle:"Particles"},diamonds:{img:"Diamond.png",formatter:Fe,imgTitle:"Diamonds"},mythos:{img:"Mythos.png",formatter:Fe,imgTitle:"Mythos"},wowTesseracts:{img:"TinyWow4.png",formatter:Oa,imgTitle:"Wow! Tesseracts"},wowHypercubes:{img:"TinyWow5.png",formatter:Oa,imgTitle:"Wow! Hypercubes",onlyif:()=>e.challengecompletions[13]>0},wowCubes:{img:"TinyWow3.png",formatter:Oa,imgTitle:"Wow! Cubes"},wowPlatonicCubes:{img:"TinyWow6.png",formatter:Oa,imgTitle:"Platonic Cubes",onlyif:()=>e.challengecompletions[14]>0},wowHepteracts:{img:"TinyWow7.png",formatter:Oa,imgTitle:"Hepteracts",onlyif:()=>e.achievements[255]>0},singularityCount:{img:"TinyS.png",formatter:Fe,imgTitle:"Singularity Count",onlyif:()=>e.highestSingularityCount>0},quarks:{img:"Quark.png",formatter:Fe,imgTitle:"Quarks",onlyif:()=>e.highestSingularityCount>0},goldenQuarks:{img:"GoldenQuark.png",formatter:Fe,imgTitle:"Golden Quarks",onlyif:()=>e.highestSingularityCount>0},wowTribs:{img:"TinyWow3.png",formatter:Fe,imgTitle:"Cube Tributes",onlyif:()=>e.highestSingularityCount>0},tessTribs:{img:"TinyWow4.png",formatter:Fe,imgTitle:"Tesseract Gifts",onlyif:()=>e.highestSingularityCount>0},hyperTribs:{img:"TinyWow5.png",formatter:Fe,imgTitle:"Hypercube Bendictions",onlyif:()=>e.highestSingularityCount>0},platTribs:{img:"TinyWow6.png",formatter:Fe,imgTitle:"Platonics Opened",onlyif:()=>e.highestSingularityCount>0},octeracts:{img:"TinyWow8.png",formatter:Fe,imgTitle:"Octeracts",onlyif:()=>e.singularityUpgrades.octeractUnlock.getEffect().bonus>0},c15Score:{img:"TinyChallenge15.png",formatter:Fe,imgTitle:"C15 score",onlyif:()=>e.singularityCount>0},quarkHept:{img:"TinyQuarkHept.png",formatter:Fe,imgTitle:"Quark Hept",onlyif:()=>e.singularityCount>0}},Af=["offerings","obtainium","particles","diamonds","mythos","wowCubes","wowTesseracts","wowHypercubes","wowPlatonicCubes","wowHepteracts","singularityCount","quarks","goldenQuarks","wowTribs","tessTribs","hyperTribs","platTribs","octeracts","c15Score","quarkHept"],Of={antsacrifice:{img:"SacrificeNoBorder.png"},prestige:{img:"TinyP.png"},transcend:{img:"TinyT.png"},reincarnate:{img:"TinyR.png"},ascend:{img:"TinyA.png"},singularity:{img:"TinyS.png"}},Vi={ants:"historyAntsTable",reset:"historyResetTable",ascend:"historyAscendTable",singularity:"historySingularityTable"},sp=["CorruptViscocity.png","CorruptSpatialDilation.png","CorruptHyperchallenged.png","CorruptScientificIlliteracy.png","CorruptDeflation.png","CorruptExtinction.png","CorruptDrought.png","CorruptFinancialCollapse.png"],Uf=["Viscosity [Accelerators and Multipliers]","Spacial Dilation [Time]","Hyperchallenged [Challenge Requirements]","Scientific Illiteracy [Obtainium]","Market Deflation [Diamonds]","Extinction [Ants]","Drought [Offering EXP]","Financial Recession [Coins]"],Bf=t=>{let n;return(n=/e\+?(.+)/.exec(t))!==null?`e${n[1]}`:t},Rf=(t,n)=>{for(;e.history[t].length>s.historyCountMax-1;)e.history[t].shift();e.history[t].push(n),If(t,n)};Ye.on("historyAdd",Rf);var If=(t,n)=>{let r=ip(t,n),o=i(Vi[t]).querySelector("tbody");for(o.insertBefore(r,o.childNodes[0]);o.childNodes.length>s.historyCountMax;)o.removeChild(o.lastChild);if(t==="ascend"){let l=Array.from(r.getElementsByClassName("ascendHistoryLoadCorruptions"));for(let c of l)c.addEventListener("click",g=>lp(g.target))}},ip=(t,n)=>{let r=1,a=document.createElement("tr"),o="",l=Of[n.kind];o+=`<td class="history-seconds" title="${new Date(n.date).toLocaleString()}"><img alt="${n.kind}" src="Pictures/${Te[e.iconSet][0]}/${l.img}">${Ut(n.seconds,60)}</td>`;let g=[],d=n;Af.forEach(h=>{if(Object.prototype.hasOwnProperty.call(n,h)){let y=Ef[h];if(y.onlyif&&!y.onlyif(n))return;let b=y.formatter||(()=>{}),w=`<img alt="${y.imgTitle}" src="Pictures/${Te[e.iconSet][0]}/${y.img}" title="${y.imgTitle}">${b(d[h],n)}`;g.push(w)}});let m=[];if(n.kind==="antsacrifice"){let h=In(n.antSacrificePointsBefore),y=In(n.antSacrificePointsAfter),b=y-h;m.push(`<span title="Ant Multiplier: ${u(h,3,!1)}--&gt;${u(y,3,!1)}"><img src="Pictures/${Te[e.iconSet][0]}/Multiplier.png" alt="Ant Multiplier">+${u(b,3,!1)}</span>`,`<span title="+${Fe(n.crumbsPerSecond)} crumbs/s"><img src="Pictures/${Te[e.iconSet][0]}/TinyCrumbs.png" alt="Crumbs">${Bf(Fe(n.crumbs))}</span>`,`<span title="${u(n.baseELO)} base"><img src="Pictures/${Te[e.iconSet][0]}/TinyELO.png" alt="ELO">${u(n.effectiveELO)}</span>`)}else if(n.kind==="ascend"){m.push(`<img alt="C10" src="Pictures/${Te[e.iconSet][0]}/TinyChallenge10.png" title="Challenge 10 completions">${n.c10Completions}`);let h=Df(n);m.push(h[0]),m.push(h[1]),m.push(h[2])}return r+=g.length,o+=g.reduce((h,y)=>`${h}<td class="history-gain">${y}</td>`,""),o+=`<td class="history-filler" colspan="${7-r}"></td>`,o+=m.reduce((h,y)=>`${h}<td class="history-extra">${y}</td>`,""),o+=`<td class="history-filler" colspan="${4-m.length}"></td>`,a.innerHTML=o,a},Nf=(t,n)=>{let r=n.querySelector("tbody");if(r.innerHTML="",e.history[t].length>0)for(let a=e.history[t].length-1;a>=0;--a){let o=ip(t,e.history[t][a]);r.appendChild(o)}if(t==="ascend"){let a=Array.from(document.getElementsByClassName("ascendHistoryLoadCorruptions"));for(let o of a)o.addEventListener("click",l=>lp(l.target))}};function lp(t){let n=t.getAttribute("data-corr");n&&(Ys(n),qn(p.t("corruptions.loadoutApplied"),5e3))}var Wi=()=>{Object.keys(Vi).forEach(t=>Nf(t,i(Vi[t])))},cp=()=>{e.historyShowPerSecond=!e.historyShowPerSecond,Wi();let t=i("historyTogglePerSecondButton");e.historyShowPerSecond?t.textContent=p.t("history.perSecondOn"):t.textContent=p.t("history.perSecondOff"),t.style.borderColor=e.historyShowPerSecond?"green":"red"},Df=t=>{let n="Score: "+u(t.corruptionScore,0,!1),r="",a="",o=0;for(let l=0;l<sp.length;++l){let c=l+2;c in t.usedCorruptions&&t.usedCorruptions[c]!==0?r+=`<img alt="${o>0?"/":""}" src="Pictures/${Te[e.iconSet][0]}/${sp[l]}" title="${Uf[l]}">${t.usedCorruptions[c]}`:r+=`<span>${o>0?"/0":"0"}</span>`,o++}return r&&(a+=`<button class="corrLoad ascendHistoryLoadCorruptions" data-corr="${t.usedCorruptions.join("/")}">Load</button>`),t.currentChallenge!==void 0&&(n+=` / C${t.currentChallenge}`),[n,r,a]};var up=()=>{let t=1,n=new f(0),r=new f(0);s.produceFirst=e.firstGeneratedCoin.add(e.firstOwnedCoin).times(s.globalCoinMultiplier).times(s.coinOneMulti).times(e.firstProduceCoin),s.produceSecond=e.secondGeneratedCoin.add(e.secondOwnedCoin).times(s.globalCoinMultiplier).times(s.coinTwoMulti).times(e.secondProduceCoin),s.produceThird=e.thirdGeneratedCoin.add(e.thirdOwnedCoin).times(s.globalCoinMultiplier).times(s.coinThreeMulti).times(e.thirdProduceCoin),s.produceFourth=e.fourthGeneratedCoin.add(e.fourthOwnedCoin).times(s.globalCoinMultiplier).times(s.coinFourMulti).times(e.fourthProduceCoin),s.produceFifth=e.fifthGeneratedCoin.add(e.fifthOwnedCoin).times(s.globalCoinMultiplier).times(s.coinFiveMulti).times(e.fifthProduceCoin),s.produceTotal=s.produceFirst.add(s.produceSecond).add(s.produceThird).add(s.produceFourth).add(s.produceFifth),s.produceFirst.lte(1e-4)&&(s.produceFirst=new f(0)),s.produceSecond.lte(1e-4)&&(s.produceSecond=new f(0)),s.produceThird.lte(1e-4)&&(s.produceThird=new f(0)),s.produceFourth.lte(1e-4)&&(s.produceFourth=new f(0)),s.produceFifth.lte(1e-4)&&(s.produceFifth=new f(0)),s.producePerSecond=s.produceTotal.times(40),e.currentChallenge.reincarnation===6&&(t=3*Math.pow(1+e.challengecompletions[6]/25,2)),e.currentChallenge.reincarnation===9&&(t=.005),e.currentChallenge.ascension===15&&(t=5e-6);let a=Math.max(0,le(e.challengecompletions)-e.challengecompletions[11]-e.challengecompletions[12]-e.challengecompletions[13]-e.challengecompletions[14]-e.challengecompletions[15]-3*e.cubeUpgrades[49]-(e.singularityCount>=15?4:0)-(e.singularityCount>=20?1:0));e.currentChallenge.ascension===13&&(t*=700*(1+1/6*e.challengecompletions[13]),t*=Math.pow(1.05,a)),e.challengecompletions[6]>0&&(t/=1.075);let o=1;o*=t,o*=1-1/20*e.researches[51]-1/40*e.researches[52]-1/80*e.researches[53]-1/160*e.researches[54]-1/320*e.researches[55],o*=1-.05/1800*(e.achievements[45]+e.achievements[46]+2*e.achievements[47])*Math.min(e.prestigecounter,1800),o*=Math.pow(.965,j("reincarnation",e.challengecompletions[6])),o*=.001+.999*Math.pow(6,-(s.rune2level*s.effectiveLevelMult)/1e3),o*=.01+.99*Math.pow(4,Math.min(0,(400-s.rune4level)/1100)),o*=1-.04*e.achievements[82]-.04*e.achievements[89]-.04*e.achievements[96]-.04*e.achievements[103]-.04*e.achievements[110]-.0566*e.achievements[117]-.0566*e.achievements[124]-.0566*e.achievements[131],o*=Math.pow(.9925,e.achievements[118]*(e.challengecompletions[6]+e.challengecompletions[7]+e.challengecompletions[8]+e.challengecompletions[9]+e.challengecompletions[10])),o*=.005+.995*Math.pow(.99,e.antUpgrades[2]+s.bonusant3),o*=1/Math.pow(1+f.log(e.ascendShards.add(1),10),1+.2/60*e.challengecompletions[10]*e.upgrades[125]+.1*e.platonicUpgrades[5]+.2*e.platonicUpgrades[10]+(s.platonicBonusMultiplier[5]-1)),o*=1-.1*(e.talismanRarity[1-1]-1),o*=Math.pow(.98,3/5*Math.log(1+e.rareFragments)/Math.log(10)*e.researches[159]),o*=Math.pow(.966,j("ascension",e.challengecompletions[13])),o*=1-.666*e.researches[200]/1e5,o*=1-.666*e.cubeUpgrades[50]/1e5,o*=s.challenge15Rewards.taxes,e.upgrades[121]>0&&(o*=.5),o<1e-300&&(o=1e-300),s.maxexponent=Math.floor(275/(f.log(1.01,10)*o))-1;let l=Math.min(s.maxexponent,Math.floor(f.log(s.produceTotal.add(1),10)));e.currentChallenge.ascension===13&&s.maxexponent<=99999&&e.achievements[249]<1&&a>=1&&H(249),l>=1&&(n=f.pow(l,2).div(550)),r=f.pow(s.maxexponent,2).div(550),s.taxdivisor=f.pow(1.01,f.mul(n,o)),s.taxdivisorcheck=f.pow(1.01,f.mul(r,o))};var pp=sn(Mi());var gp=async()=>{let t="===== SUMMARY STATS =====",n=`Time Generated: ${new Date().toString()}`,r=`Version: ${At}`,a=`-----+-----
`,o=`First Played: ${e.firstPlayed}
`,l=`===== RESOURCES =====
`;if(l=l+(e.reincarnationCount>0||e.highestSingularityCount>0?`Quarks: ${u(Number(e.worlds),0,!0)}
`:""),l=l+(e.highestSingularityCount>0?`Golden Quarks: ${u(e.goldenQuarks,2,!0)}
`:""),l=l+a,l=l+`Coins: ${u(e.coins,2,!0)}
`,(e.prestigeCount>0||e.highestSingularityCount>0)&&(l=l+`Diamonds: ${u(e.prestigePoints,2,!0)}
`,l=l+`Crystals: ${u(e.prestigeShards,2,!0)}
`,l=l+`Offerings: ${u(e.runeshards,0,!0)}
`),(e.transcendCount>0||e.highestSingularityCount>0)&&(l=l+`Mythos: ${u(e.transcendPoints,2,!0)}
`,l=l+`Mythos Shards: ${u(e.transcendShards,2,!0)}
`),(e.reincarnationCount>0||e.highestSingularityCount>0)&&(l=l+`Particles: ${u(e.reincarnationPoints,2,!0)}
`,l=l+`Atoms: ${u(e.reincarnationShards,2,!0)}
`,l=l+`Obtainium: ${u(e.researchPoints,0,!0)}
`),e.ascensionCount>0||e.highestSingularityCount>0){let N=[null,e.cubeBlessings.accelerator,e.cubeBlessings.multiplier,e.cubeBlessings.offering,e.cubeBlessings.runeExp,e.cubeBlessings.obtainium,e.cubeBlessings.antSpeed,e.cubeBlessings.antSacrifice,e.cubeBlessings.antELO,e.cubeBlessings.talismanBonus,e.cubeBlessings.globalSpeed],I=[null,e.tesseractBlessings.accelerator,e.tesseractBlessings.multiplier,e.tesseractBlessings.offering,e.tesseractBlessings.runeExp,e.tesseractBlessings.obtainium,e.tesseractBlessings.antSpeed,e.tesseractBlessings.antSacrifice,e.tesseractBlessings.antELO,e.tesseractBlessings.talismanBonus,e.tesseractBlessings.globalSpeed],$=[null,e.hypercubeBlessings.accelerator,e.hypercubeBlessings.multiplier,e.hypercubeBlessings.offering,e.hypercubeBlessings.runeExp,e.hypercubeBlessings.obtainium,e.hypercubeBlessings.antSpeed,e.hypercubeBlessings.antSacrifice,e.hypercubeBlessings.antELO,e.hypercubeBlessings.talismanBonus,e.hypercubeBlessings.globalSpeed],O=[e.platonicBlessings.cubes,e.platonicBlessings.tesseracts,e.platonicBlessings.hypercubes,e.platonicBlessings.platonics,e.platonicBlessings.hypercubeBonus,e.platonicBlessings.taxes,e.platonicBlessings.scoreBonus,e.platonicBlessings.globalSpeed],v=u(le(N.slice(1)),0,!0),M=u(le(I.slice(1)),0,!0),A=u(le($.slice(1)),0,!0),F=u(le(O),0,!0);l=l+a,l=l+`Wow! Cubes: ${u(Number(e.wowCubes),0,!0)} -+- Total Tributes: ${v}
`,l=l+`Wow! Tesseracts: ${u(Number(e.wowTesseracts),0,!0)} -+- Total Gifts: ${M}
`,l=l+`Wow! Hypercubes: ${u(Number(e.wowHypercubes),0,!0)} -+- Total Benedictions: ${A}
`,l=l+`Wow! Platonic Cubes: ${u(Number(e.wowPlatonicCubes),0,!0)} -+- Total Plats Opened: ${F}
`,l=l+`Wow! Hepteracts: ${u(e.wowAbyssals,0,!0)}
`,e.singularityUpgrades.octeractUnlock.getEffect().bonus&&(l=l+`Wow! Octeracts: ${u(e.wowOcteracts,0,!0)}
`)}let c="";e.singularityUpgrades.octeractUnlock.getEffect().bonus&&(c=`===== OCTERACTS =====
`,c=c+`Current Octeracts: ${u(e.wowOcteracts,2,!0)}
`,c=c+`Current Per Second: ${u(rn(),2,!0)}
`,c=c+`Total Generated Octeracts: ${u(e.totalWowOcteracts,2,!0)}
`,c=c+`Octeract Cube Bonus: ${u(100*(ya()-1),2,!0)}%
`,c=c+`Octeract Quark Bonus: ${u(100*(vn()-1),2,!0)}%
`);let g="";e.highestSingularityCount>0&&(g=`===== SINGULARITY =====
`,g=g+`Current Singularity: ${e.singularityCount}
`,g=g+`Highest Singularity Reached: ${e.highestSingularityCount}
`,g=g+`Golden Quarks: ${u(e.goldenQuarks,2,!0)}
`,g=g+`+Golden Quarks on Singularity: ${u(vt(),2,!0)}
`,g=g+`Time in Singularity: ${Dt(e.singularityCounter)}
`,g=g+`Effective Singularity [for penalties]: ${u(sa(),2,!0)}
`,g=g+`Antiquity of Ant God Upgraded: ${e.runelevels[6]>0?"\u2714":"\u2716"}
`);let d="";(e.ascensionCount>0||e.highestSingularityCount>0)&&(d=`===== ASCENSION ===== 
`,d=d+`Ascension Count: ${u(e.ascensionCount,0,!0)}
`,d=d+`Ascension Timer: ${Dt(e.ascensionCounter)}
`,d=d+`Real Life Ascension Timer: ${Dt(e.ascensionCounterReal)}
`,d=d+`Truly Real Life Ascension Timer: ${Dt(e.ascensionCounterRealReal)}
`,d=d+`Ascension Speed Multiplier: ${u(Vt(),2,!0)}
`,d=d+`Challenge 11 Completions: ${e.challengecompletions[11]}/${Ee(11)}
`,d=d+`Challenge 12 Completions: ${e.challengecompletions[12]}/${Ee(12)}
`,d=d+`Challenge 13 Completions: ${e.challengecompletions[13]}/${Ee(13)}
`,d=d+`Challenge 14 Completions: ${e.challengecompletions[14]}/${Ee(14)}
`,(e.highestchallengecompletions[14]>0||e.highestSingularityCount>0)&&(d=d+`Challenge 15 Exponent: ${u(e.challenge15Exponent,2,!0)}
`,d=d+`Research [8x25] MAXED: ${e.researches[200]===1e5?"\u2714":"\u2716"}
`,d=d+`Cube [w5x10] MAXED: ${e.cubeUpgrades[50]===1e5?"\u2714":"\u2716"}
`,d=d+`Platonic \u03B1: ${e.platonicUpgrades[5]>0?"\u2714":"\u2716"}
`,d=d+`Platonic \u03B2: ${e.platonicUpgrades[10]>0?"\u2714":"\u2716"}
`,d=d+`Platonic \u03A9: ${e.platonicUpgrades[15]>0?"\u2714":"\u2716"}
`),(e.challenge15Exponent>=1e15||e.highestSingularityCount>0)&&(d=d+`----- HEPTERACTS -----
`,d=d+`Chronos Hepteract: ${u(e.hepteractCrafts.chronos.BAL,0,!0)}/${u(e.hepteractCrafts.chronos.CAP,0,!0)}
`,d=d+`Hyperreal Hepteract: ${u(e.hepteractCrafts.hyperrealism.BAL,0,!0)}/${u(e.hepteractCrafts.hyperrealism.CAP,0,!0)}
`,d=d+`Quark Hepteract: ${u(e.hepteractCrafts.quark.BAL,0,!0)}/${u(e.hepteractCrafts.quark.CAP,0,!0)}
`,d=d+`Challenge Hepteract: ${u(e.hepteractCrafts.challenge.BAL,0,!0)}/${u(e.hepteractCrafts.challenge.CAP,0,!0)}
`,d=d+`Abyss Hepteract: ${u(e.hepteractCrafts.abyss.BAL,0,!0)}/${u(e.hepteractCrafts.abyss.CAP,0,!0)}
`,d=d+`Accelerators Hepteract: ${u(e.hepteractCrafts.accelerator.BAL,0,!0)}/${u(e.hepteractCrafts.accelerator.CAP,0,!0)}
`,d=d+`Accelerator Boosts Hepteract: ${u(e.hepteractCrafts.acceleratorBoost.BAL,0,!0)}/${u(e.hepteractCrafts.acceleratorBoost.CAP,0,!0)}
`,d=d+`Multipliers Hepteract: ${u(e.hepteractCrafts.multiplier.BAL,0,!0)}/${u(e.hepteractCrafts.multiplier.CAP,0,!0)}
`,d=d+`----- POWDER & ORBS -----
`,d=d+`Orbs: ${u(e.overfluxOrbs,0,!0)}
`,d=d+`Powder: ${u(e.overfluxPowder,2,!0)}
`));let m="";(e.reincarnationCount>0||e.highestSingularityCount>0)&&(m=`===== REINCARNATION =====
`,m=m+`Reincarnation Count: ${u(e.reincarnationCount,0,!0)}
`,m=m+`Reincarnation Timer: ${Dt(e.reincarnationcounter)}
`,m=m+`Fastest Reincarnation: ${Dt(e.fastestreincarnate)}
`,m=m+`Global Speed Multiplier: ${u(Le().mult,2,!0)}
`,m=m+`Challenge 6 Completions: ${e.highestchallengecompletions[6]}/${Ee(6)}
`,m=m+`Challenge 7 Completions: ${e.highestchallengecompletions[7]}/${Ee(7)}
`,m=m+`Challenge 8 Completions: ${e.highestchallengecompletions[8]}/${Ee(8)}
`,m=m+`Challenge 9 Completions: ${e.highestchallengecompletions[9]}/${Ee(9)}
`,m=m+`Challenge 10 Completions: ${e.highestchallengecompletions[10]}/${Ee(10)}
`);let h="";(e.transcendCount>0||e.highestSingularityCount>0)&&(h=`===== TRANSCENSION =====
`,h=h+`Transcension Count: ${u(e.transcendCount,0,!0)}
`,h=h+`Transcension Timer: ${Dt(e.transcendcounter)}
`,h=h+`Fastest Transcension: ${Dt(e.fastesttranscend)}
`,h=h+`Challenge 1 Completions: ${e.highestchallengecompletions[1]}/${Ee(1)}
`,h=h+`Challenge 2 Completions: ${e.highestchallengecompletions[2]}/${Ee(2)}
`,h=h+`Challenge 3 Completions: ${e.highestchallengecompletions[3]}/${Ee(3)}
`,h=h+`Challenge 4 Completions: ${e.highestchallengecompletions[4]}/${Ee(4)}
`,h=h+`Challenge 5 Completions: ${e.highestchallengecompletions[5]}/${Ee(5)}
`);let y="";(e.prestigeCount>0||e.highestSingularityCount>0)&&(y=`===== PRESTIGE & RUNES =====
`,y=y+`Prestige Count: ${u(e.prestigeCount,0,!0)}
`,y=y+`Prestige Timer: ${Dt(e.prestigecounter)}
`,y=y+`Fastest Prestige: ${Dt(e.fastestprestige)}
`,y=y+p.t("achievements.totalPoints",{x:u(e.achievementPoints),y:u(Pn),z:(100*e.achievementPoints/Pn).toPrecision(4)})+`
`,y=y+`Speed Rune: Level ${u(e.runelevels[0],0,!0)}/${u(Be(1))} [Bonus: ${u(s.rune1level-e.runelevels[0],0,!0)}]
`,(e.achievements[38]>0||e.highestSingularityCount>0)&&(y=y+`Duplication Rune: Level ${u(e.runelevels[1],0,!0)}/${u(Be(2))} [Bonus: ${u(s.rune2level-e.runelevels[1],0,!0)}]
`),(e.achievements[44]>0||e.highestSingularityCount>0)&&(y=y+`Prism Rune: Level ${u(e.runelevels[2],0,!0)}/${u(Be(3))} [Bonus: ${u(s.rune3level-e.runelevels[2],0,!0)}]
`),(e.achievements[102]>0||e.highestSingularityCount>0)&&(y=y+`Thrift Rune: Level ${u(e.runelevels[3],0,!0)}/${u(Be(4))} [Bonus: ${u(s.rune4level-e.runelevels[3],0,!0)}]
`),(e.researches[82]>0||e.highestSingularityCount>0)&&(y=y+`Superior Intellect: Level ${u(e.runelevels[4],0,!0)}/${u(Be(5))} [Bonus: ${u(s.rune5level-e.runelevels[4],0,!0)}]
`),(e.shopUpgrades.infiniteAscent>0||e.highestSingularityCount>0)&&(y=y+`Infinite Ascent: Level ${u(e.runelevels[5],0,!0)}/${u(Be(6))}
`),(e.platonicUpgrades[20]>0||e.highestSingularityCount>0)&&(y=y+`Antiquities: Level ${u(e.runelevels[6],0,!0)}/${u(Be(7))}
`));let b=`
`;if(e.reincarnationCount>0||e.highestSingularityCount>0){b=`===== SHOP UPGRADES =====
 - [\u2605]: Upgrade is MAXED - 
 - [\u2714]: Upgrade is unlocked - 
 - [\u2716]: Upgrade is locked - 
`;let N=Object.keys(e.shopUpgrades),I=0,$=0,O=0,v=0;for(let M of N){let A=e.shopUpgrades[M],F="";ae[M].type!=="consume"&&(I+=1,Er(M)&&($+=1),A===ae[M].maxLevel&&(O+=1)),v+=ae[M].price*A+ae[M].priceIncrease*A*(A-1)/2,F=F+(Er(M)?A===ae[M].maxLevel?"[\u2605]":"[\u2714]":"[\u2716]"),F=F+` ${rr(M)}:`,F=F+` ${ae[M].type!=="consume"?`Level ${A}/${ae[M].maxLevel}`:`${A}/${ae[M].maxLevel}`}`,F=F+`
`,b=b+F}b=b+a,b=b+`Upgrades Unlocked: ${$}/${I}
`,b=b+`Upgrades MAXED ${O}/${I}
`,b=b+`Quarks Spent in Shop: ${u(v,0,!0)}
`,b=b+a}let w=`
`;if(e.highestSingularityCount>0){w=`===== SINGULARITY UPGRADES =====
 - [\u2605]: Upgrade is MAXED - 
 - [\u221E]: Upgrade is infinite - 
 - [\u2714]: Upgrade is unlocked - 
 - [\u2716]: Upgrade is locked - 
`;let N=Object.keys(e.singularityUpgrades),I=-1,$=0,O=0,v=0,M=0;for(let A of N){let F="",Y=e.singularityUpgrades[A];I+=1,Y.maxLevel===-1&&($+=1),Y.level===Y.maxLevel&&(v+=1),e.singularityCount>=Y.minimumSingularity&&(O+=1),M+=Y.goldenQuarksInvested;let oe="[\u2716]";e.singularityCount>=Y.minimumSingularity&&(Y.maxLevel===-1?oe="[\u221E]":Y.level===Y.maxLevel?oe="[\u2605]":oe="[\u2714]"),F=F+oe,F=F+` ${Y.name}:`,F=F+(Y.maxLevel===-1?` Level ${Y.level}`:` Level ${Y.level}/${Y.maxLevel}`),F=F+(Y.freeLevels>0?` [+${u(Y.computeFreeLevelSoftcap(),2,!0)}]`:""),F=F+(Y.freeLevels>0?` =+= Effective Level: ${u(Y.actualTotalLevels(),2,!0)}`:""),F=F+`
`,w=w+F}w=w+a,w=w+`Upgrades Unlocked: ${O}/${I}
`,w=w+`Upgrades MAXED: ${v}/${I-$}
`,w=w+`Golden Quarks Spent on Upgrades: ${u(M,0,!0)}
`,w=w+a}let S=`
`;if(e.singularityUpgrades.octeractUnlock.getEffect().bonus){S=`===== OCTERACT UPGRADES =====
 - [\u2605]: Upgrade is MAXED - 
 - [\u221E]: Upgrade is infinite - 
 - [ ]: Upgrade INCOMPLETE - 
`;let N=Object.keys(e.octeractUpgrades),I=0,$=0,O=0;for(let v of N){let M="",A=e.octeractUpgrades[v];A.maxLevel!==-1&&(I+=1),A.level===A.maxLevel&&($+=1),O+=A.octeractsInvested;let F="[ ]";A.maxLevel===-1?F="[\u221E]":A.level===A.maxLevel&&(F="[\u2605]"),M=M+F,M=M+A.name+":",M=M+(A.maxLevel===-1?` Level ${A.level}`:` Level ${A.level}/${A.maxLevel}`),M=M+(A.freeLevels>0?` [+${u(A.computeFreeLevelSoftcap(),2,!0)}]`:""),M=M+(A.freeLevels>0?` =+= Effective Level: ${u(A.actualTotalLevels(),2,!0)}`:""),M=M+`
`,S=S+M}S=S+a,S=S+`Upgrades MAXED: ${$}/${I}
`,S=S+`Octeracts Spent on Upgrades: ${u(O,0,!0)}
`,S=S+a}let k=t+`
`+n+`
`+r+`
`+o+l+c+g+d+m+h+y+b+w+S;try{await navigator.clipboard.writeText(k)}catch(N){let I=document.createElement("textarea");I.setAttribute("style","top: 0; left: 0; position: fixed;"),I.setAttribute("data-clipboard-text",k),document.body.appendChild(I),I.focus(),I.select();let $=new pp.default(I),O=()=>{$.destroy(),document.body.removeChild(I)};$.on("success",()=>{document.getElementById("exportinfo").textContent="Copied save to clipboard!",O()}),$.on("error",()=>{R("Unable to write the save to clipboard.").finally(O)})}let B=document.createElement("a");return B.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(k)),B.setAttribute("download",`Statistics-${Ti()}`),B.setAttribute("id","downloadSave"),document.body.appendChild(B),B.click(),document.body.removeChild(B),R("Summary Stats saved to clipboard! We also gave you a file, for easy sharing, if that is available on your browser.")};var dp=()=>{let t=["null","first","second","third","fourth","fifth","sixth","seventh","eighth"];if(!1){let v=document.createElement("button"),M=document.createElement("button");v.textContent="Click here to warp time! [TESTING ONLY]",v.setAttribute("style","width: auto; height: 30px; border: 6px solid gold;"),v.addEventListener("click",()=>Iu()),M.textContent="Click to force a new day! [TESTING ONLY]",M.setAttribute("style","width: auto; height: 30px; border: 6px solid orange;"),M.addEventListener("click",()=>pa());let A=i("actualConsumables");A.appendChild(v),A.appendChild(M)}i("exitOffline").addEventListener("click",()=>Nr()),i("offlineContainer").addEventListener("dblclick",()=>Nr()),i("ascCubeStats").addEventListener("click",()=>on(1)),i("ascTessStats").addEventListener("click",()=>on(2)),i("ascHyperStats").addEventListener("click",()=>on(3)),i("ascPlatonicStats").addEventListener("click",()=>on(4)),i("ascHepteractStats").addEventListener("click",()=>on(5)),i("ascTimeTakenStats").addEventListener("click",()=>on(6)),i("prestigebtn").addEventListener("mouseover",()=>He("prestige")),i("transcendbtn").addEventListener("mouseover",()=>He("transcension")),i("reincarnatebtn").addEventListener("mouseover",()=>He("reincarnation")),i("acceleratorboostbtn").addEventListener("mouseover",()=>He("acceleratorBoost")),i("challengebtn").addEventListener("mouseover",()=>He("transcensionChallenge")),i("reincarnatechallengebtn").addEventListener("mouseover",()=>He("reincarnationChallenge")),i("ascendChallengeBtn").addEventListener("mouseover",()=>He("ascensionChallenge")),i("ascendbtn").addEventListener("mouseover",()=>He("ascension")),i("singularitybtn").addEventListener("mouseover",()=>He("singularity"));for(let v of Array.from(document.getElementsByClassName("resetbtn")))v.addEventListener("mouseover",()=>{v.classList.add("hover")}),v.addEventListener("mouseout",()=>{v.classList.remove("hover"),e.currentChallenge.reincarnation?He("reincarnationChallenge"):e.currentChallenge.transcension&&He("transcensionChallenge")});i("prestigebtn").addEventListener("click",()=>de("prestige")),i("transcendbtn").addEventListener("click",()=>de("transcension")),i("reincarnatebtn").addEventListener("click",()=>de("reincarnation")),i("acceleratorboostbtn").addEventListener("click",()=>Yn()),i("challengebtn").addEventListener("click",()=>de("transcensionChallenge",void 0,!0)),i("reincarnatechallengebtn").addEventListener("click",()=>de("reincarnationChallenge",void 0,!0)),i("ascendChallengeBtn").addEventListener("click",()=>de("ascensionChallenge")),i("ascendbtn").addEventListener("click",()=>de("ascension")),i("singularitybtn").addEventListener("click",()=>de("singularity")),i("buildingstab").addEventListener("click",()=>De("buildings")),i("upgradestab").addEventListener("click",()=>De("upgrades")),i("settingstab").addEventListener("click",()=>De("settings")),i("achievementstab").addEventListener("click",()=>De("achievements")),i("runestab").addEventListener("click",()=>De("runes")),i("challengetab").addEventListener("click",()=>De("challenges")),i("researchtab").addEventListener("click",()=>De("researches")),i("shoptab").addEventListener("click",()=>De("shop")),i("anttab").addEventListener("click",()=>De("ants")),i("cubetab").addEventListener("click",()=>De("cubes")),i("traitstab").addEventListener("click",()=>De("traits")),i("singularitytab").addEventListener("click",()=>De("singularity"));let n=["Coin","Diamond","Mythos","Particle","Tesseract"];for(let v=0;v<n.length;v++)i(`switchTo${n[v]}Building`).addEventListener("click",()=>ve(1,v));let r=["coin","crystal","mythos","particle","tesseract","offering"],a=["one","ten","hundred","thousand","10k","100k"],o=[1,10,100,1e3,1e4,1e5];for(let v=0;v<a.length;v++)for(let M=0;M<r.length;M++)i(r[M]+a[v]).addEventListener("click",()=>Qu(o[v],r[M]));i("buyaccelerator").addEventListener("click",()=>vr()),i("buymultiplier").addEventListener("click",()=>Cr()),i("buyacceleratorboost").addEventListener("click",()=>Yn());let l=["coin","diamond","mythos"],c=["Coin","Diamonds","Mythos"];for(let v=0;v<3;v++)for(let M=1;M<=5;M++)i(`buy${l[v]}${M}`).addEventListener("click",()=>fc(t[M],c[v],v===0?M:M*(M+1)/2));for(let v=1;v<=5;v++)i(`buycrystalupgrade${v}`).addEventListener("mouseover",()=>ro(v)),i(`buycrystalupgrade${v}`).addEventListener("click",()=>dt(v));for(let v=0;v<5;v++)i(`buyparticles${v+1}`).addEventListener("click",()=>dn(v+1));for(let v=0;v<5;v++)i(`buyTesseracts${v+1}`).addEventListener("click",()=>zn(v+1)),i(`tesseractAutoToggle${v+1}`).addEventListener("click",()=>np(v+1));for(let v=0;v<10;v++)i(`buyConstantUpgrade${v+1}`).addEventListener("mouseover",()=>_s(v+1)),i(`buyConstantUpgrade${v+1}`).addEventListener("click",()=>oa(v+1));document.querySelectorAll(".auto[toggleid]").forEach(v=>v.addEventListener("click",()=>Fu(v))),i("prestigeautotoggle").addEventListener("click",()=>Pa(1)),i("transcendautotoggle").addEventListener("click",()=>Pa(2)),i("reincarnateautotoggle").addEventListener("click",()=>Pa(3)),i("tesseractautobuymode").addEventListener("click",()=>Pa(4)),i("prestigeamount").addEventListener("blur",()=>Rt(1)),i("transcendamount").addEventListener("blur",()=>Rt(2)),i("reincarnationamount").addEventListener("blur",()=>Rt(3)),i("ascensionAmount").addEventListener("blur",()=>Rt(4)),i("autoAntSacrificeAmount").addEventListener("blur",()=>Rt(5)),i("tesseractautobuytoggle").addEventListener("click",()=>_u()),i("tesseractAmount").addEventListener("blur",()=>jo()),i("cubeOpensInput").addEventListener("blur",()=>an(1)),i("tesseractsOpensInput").addEventListener("blur",()=>an(2)),i("hypercubesOpensInput").addEventListener("blur",()=>an(3)),i("platonicCubeOpensInput").addEventListener("blur",()=>an(4)),i("openCubes").addEventListener("click",()=>La(1)),i("openTesseracts").addEventListener("click",()=>La(2)),i("openHypercubes").addEventListener("click",()=>La(3)),i("openPlatonicCube").addEventListener("click",()=>La(4));for(let v=1;v<=125;v++)i(`upg${v}`).addEventListener("mouseover",()=>vc(v));for(let v=1;v<=125;v++)i(`upg${v}`).addEventListener("click",()=>Kn(v,!1));for(let v=1;v<=6;v++)i(`upgrades${v}`).addEventListener("click",()=>ra(v,!1));i("coinAutoUpgrade").addEventListener("click",()=>$n("coin")),i("prestigeAutoUpgrade").addEventListener("click",()=>$n("prestige")),i("transcendAutoUpgrade").addEventListener("click",()=>$n("transcend")),i("generatorsAutoUpgrade").addEventListener("click",()=>$n("generators")),i("reincarnateAutoUpgrade").addEventListener("click",()=>$n("reincarnate"));for(let v=1;v<=hr.length-1;v++)i(`ach${v}`).addEventListener("mouseover",()=>tc(v));i("toggleautosacrifice").addEventListener("click",()=>qi(0));for(let v=0;v<4;v++)i(`toggleRuneSubTab${v+1}`).addEventListener("click",()=>ve(4,v));for(let v=0;v<7;v++)i(`rune${v+1}`).addEventListener("mouseover",()=>ot(v+1)),i(`rune${v+1}`).addEventListener("click",()=>qi(v+1)),i(`activaterune${v+1}`).addEventListener("mouseover",()=>ot(v+1)),i(`activaterune${v+1}`).addEventListener("click",()=>Vn(v+1));let d=[10,25,50,100],m=["Ten","TwentyFive","Fifty","Hundred"];for(let v=0;v<d.length;v++)i(`talisman${m[v]}`).addEventListener("click",()=>br(d[v]));i("toggleautoBuyFragments").addEventListener("click",()=>Wu()),i("toggleautoenhance").addEventListener("click",()=>Yu()),i("toggleautofortify").addEventListener("click",()=>Xu());let h=["shard","commonFragment","uncommonFragment","rareFragment","epicFragment","legendaryFragment","mythicalFragment"];for(let v=0;v<h.length;v++)i(`buyTalismanItem${v+1}`).addEventListener("mouseover",()=>za(h[v])),i(`buyTalismanItem${v+1}`).addEventListener("click",()=>As(h[v]));i("buyTalismanAll").addEventListener("mouseover",()=>za(null)),i("buyTalismanAll").addEventListener("click",()=>Ka());for(let v=0;v<7;v++)i(`talisman${v+1}`).addEventListener("click",()=>Za(v)),i(`leveluptalisman${v+1}`).addEventListener("mouseover",()=>Os(v)),i(`leveluptalisman${v+1}`).addEventListener("click",()=>Ja(v)),i(`enhancetalisman${v+1}`).addEventListener("mouseover",()=>Us(v)),i(`enhancetalisman${v+1}`).addEventListener("click",()=>eo(v)),i(`respectalisman${v+1}`).addEventListener("click",()=>Bs(v));i("respecAllTalismans").addEventListener("click",()=>Bs(7)),i("confirmTalismanRespec").addEventListener("click",()=>ac(s.talismanRespec)),i("cancelTalismanRespec").addEventListener("click",()=>oc(s.talismanRespec));for(let v=0;v<5;v++)i(`talismanRespecButton${v+1}`).addEventListener("click",()=>rc(v+1));for(let v=0;v<5;v++)i(`runeBlessingPurchase${v+1}`).addEventListener("click",()=>wr("Blessings",v+1)),i(`runeSpiritPurchase${v+1}`).addEventListener("click",()=>wr("Spirits",v+1));i("buyRuneBlessingInput").addEventListener("blur",()=>$r(1)),i("buyRuneSpiritInput").addEventListener("blur",()=>$r(2)),i("buyAllBlessings").addEventListener("click",()=>xr("Blessings")),i("buyAllSpirits").addEventListener("click",()=>xr("Spirits"));for(let v=0;v<15;v++)i(`challenge${v+1}`).addEventListener("click",()=>$e(v+1)),i(`challenge${v+1}`).addEventListener("dblclick",()=>{$e(v+1),Nt(s.triggerChallenge,!1)});i("startChallenge").addEventListener("click",()=>Nt(s.triggerChallenge,!1)),i("retryChallenge").addEventListener("click",()=>ap()),i("toggleAutoChallengeIgnore").addEventListener("click",()=>tp(s.triggerChallenge)),i("toggleAutoChallengeStart").addEventListener("click",()=>Ta()),i("startAutoChallengeTimerInput").addEventListener("input",()=>Fn(1)),i("exitAutoChallengeTimerInput").addEventListener("input",()=>Fn(2)),i("enterAutoChallengeTimerInput").addEventListener("input",()=>Fn(3));for(let v=1;v<200;v++)i(`res${v}`).addEventListener("click",()=>Lt(v)),i(`res${v}`).addEventListener("mouseover",()=>ao(v));i("res200").addEventListener("click",()=>Lt(200,!1,.01)),i("res200").addEventListener("mouseover",()=>ao(200,!1,.01)),i("toggleresearchbuy").addEventListener("click",()=>qu()),i("toggleautoresearch").addEventListener("click",()=>ju()),i("toggleautoresearchmode").addEventListener("click",()=>Vu());let y=["null","1e700","3","100","10000","1e12","1e36","1e100","1e300"];for(let v=1;v<=8;v++)i(`anttier${v}`).addEventListener("mouseover",()=>ei(v)),i(`anttier${v}`).addEventListener("mouseover",()=>_c(v)),i(`anttier${v}`).addEventListener("click",()=>ti(t[v],y[v],v));let b=["null","100","100","1000","1000","1e5","1e6","1e8","1e11","1e15","1e20","1e40","1e100"];for(let v=1;v<=12;v++)i(`antUpgrade${v}`).addEventListener("mouseover",()=>ri(v)),i(`antUpgrade${v}`).addEventListener("click",()=>ni(b[v],!1,v));i("antSacrifice").addEventListener("click",()=>Or()),i("toggleAntMax").addEventListener("click",()=>Jo()),i("toggleAutoSacrificeAnt").addEventListener("click",()=>Hr(0)),i("autoSacrificeAntMode").addEventListener("click",()=>Hr(1));for(let v=0;v<7;v++)i(`switchCubeSubTab${v+1}`).addEventListener("click",()=>ve(8,v));for(let v=1;v<e.cubeUpgrades.length;v++)i(`cubeUpg${v}`).addEventListener("mouseover",()=>Ei(v)),i(`cubeUpg${v}`).addEventListener("click",()=>Oi(v));i("toggleCubeBuy").addEventListener("click",()=>ep()),i("toggleAutoCubeUpgrades").addEventListener("click",()=>es()),i("open1Cube").addEventListener("click",()=>e.wowCubes.open(1,!1)),i("open20Cube").addEventListener("click",()=>e.wowCubes.open(Math.floor(Number(e.wowCubes)/10),!1)),i("open1000Cube").addEventListener("click",()=>e.wowCubes.open(Math.floor(Number(e.wowCubes)/2),!1)),i("openCustomCube").addEventListener("click",()=>e.wowCubes.openCustom()),i("openMostCube").addEventListener("click",()=>e.wowCubes.open(0,!0)),i("open1Tesseract").addEventListener("click",()=>e.wowTesseracts.open(1,!1)),i("open20Tesseract").addEventListener("click",()=>e.wowTesseracts.open(Math.floor(Number(e.wowTesseracts)/10),!1)),i("open1000Tesseract").addEventListener("click",()=>e.wowTesseracts.open(Math.floor(Number(e.wowTesseracts)/2),!1)),i("openCustomTesseract").addEventListener("click",()=>e.wowTesseracts.openCustom()),i("openMostTesseract").addEventListener("click",()=>e.wowTesseracts.open(1,!0)),i("open1Hypercube").addEventListener("click",()=>e.wowHypercubes.open(1,!1)),i("open20Hypercube").addEventListener("click",()=>e.wowHypercubes.open(Math.floor(Number(e.wowHypercubes)/10),!1)),i("open1000Hypercube").addEventListener("click",()=>e.wowHypercubes.open(Math.floor(Number(e.wowHypercubes)/2),!1)),i("openCustomHypercube").addEventListener("click",()=>e.wowHypercubes.openCustom()),i("openMostHypercube").addEventListener("click",()=>e.wowHypercubes.open(1,!0)),i("open1PlatonicCube").addEventListener("click",()=>e.wowPlatonicCubes.open(1,!1)),i("open40kPlatonicCube").addEventListener("click",()=>e.wowPlatonicCubes.open(Math.floor(Number(e.wowPlatonicCubes)/10),!1)),i("open1mPlatonicCube").addEventListener("click",()=>e.wowPlatonicCubes.open(Math.floor(Number(e.wowPlatonicCubes)/2),!1)),i("openCustomPlatonicCube").addEventListener("click",()=>e.wowPlatonicCubes.openCustom()),i("openMostPlatonicCube").addEventListener("click",()=>e.wowPlatonicCubes.open(1,!0)),i("saveOffToggle").addEventListener("click",()=>zu());let w=document.getElementsByClassName("platonicUpgradeImage");for(let v=0;v<w.length;v++)w[v].addEventListener("mouseover",()=>Bi(v+1)),w[v].addEventListener("click",()=>Ri(v+1));i("toggleAutoPlatonicUpgrades").addEventListener("click",()=>ts()),i("chronosHepteract").addEventListener("mouseover",()=>bn("chronos")),i("hyperrealismHepteract").addEventListener("mouseover",()=>bn("hyperrealism")),i("quarkHepteract").addEventListener("mouseover",()=>bn("quark")),i("challengeHepteract").addEventListener("mouseover",()=>bn("challenge")),i("abyssHepteract").addEventListener("mouseover",()=>bn("abyss")),i("acceleratorHepteract").addEventListener("mouseover",()=>bn("accelerator")),i("acceleratorBoostHepteract").addEventListener("mouseover",()=>bn("acceleratorBoost")),i("multiplierHepteract").addEventListener("mouseover",()=>bn("multiplier")),i("chronosHepteractCraft").addEventListener("click",()=>e.hepteractCrafts.chronos.craft()),i("hyperrealismHepteractCraft").addEventListener("click",()=>e.hepteractCrafts.hyperrealism.craft()),i("quarkHepteractCraft").addEventListener("click",()=>e.hepteractCrafts.quark.craft()),i("challengeHepteractCraft").addEventListener("click",()=>e.hepteractCrafts.challenge.craft()),i("abyssHepteractCraft").addEventListener("click",()=>e.hepteractCrafts.abyss.craft()),i("acceleratorHepteractCraft").addEventListener("click",()=>e.hepteractCrafts.accelerator.craft()),i("acceleratorBoostHepteractCraft").addEventListener("click",()=>e.hepteractCrafts.acceleratorBoost.craft()),i("multiplierHepteractCraft").addEventListener("click",()=>e.hepteractCrafts.multiplier.craft()),i("chronosHepteractCraftMax").addEventListener("click",()=>e.hepteractCrafts.chronos.craft(!0)),i("hyperrealismHepteractCraftMax").addEventListener("click",()=>e.hepteractCrafts.hyperrealism.craft(!0)),i("quarkHepteractCraftMax").addEventListener("click",()=>e.hepteractCrafts.quark.craft(!0)),i("challengeHepteractCraftMax").addEventListener("click",()=>e.hepteractCrafts.challenge.craft(!0)),i("abyssHepteractCraftMax").addEventListener("click",()=>e.hepteractCrafts.abyss.craft(!0)),i("acceleratorHepteractCraftMax").addEventListener("click",()=>e.hepteractCrafts.accelerator.craft(!0)),i("acceleratorBoostHepteractCraftMax").addEventListener("click",()=>e.hepteractCrafts.acceleratorBoost.craft(!0)),i("multiplierHepteractCraftMax").addEventListener("click",()=>e.hepteractCrafts.multiplier.craft(!0)),i("chronosHepteractCap").addEventListener("click",()=>e.hepteractCrafts.chronos.expand()),i("hyperrealismHepteractCap").addEventListener("click",()=>e.hepteractCrafts.hyperrealism.expand()),i("quarkHepteractCap").addEventListener("click",()=>e.hepteractCrafts.quark.expand()),i("challengeHepteractCap").addEventListener("click",()=>e.hepteractCrafts.challenge.expand()),i("abyssHepteractCap").addEventListener("click",()=>e.hepteractCrafts.abyss.expand()),i("acceleratorHepteractCap").addEventListener("click",()=>e.hepteractCrafts.accelerator.expand()),i("acceleratorBoostHepteractCap").addEventListener("click",()=>e.hepteractCrafts.acceleratorBoost.expand()),i("multiplierHepteractCap").addEventListener("click",()=>e.hepteractCrafts.multiplier.expand()),i("chronosHepteractAuto").addEventListener("click",()=>e.hepteractCrafts.chronos.toggleAutomatic()),i("hyperrealismHepteractAuto").addEventListener("click",()=>e.hepteractCrafts.hyperrealism.toggleAutomatic()),i("quarkHepteractAuto").addEventListener("click",()=>e.hepteractCrafts.quark.toggleAutomatic()),i("challengeHepteractAuto").addEventListener("click",()=>e.hepteractCrafts.challenge.toggleAutomatic()),i("abyssHepteractAuto").addEventListener("click",()=>e.hepteractCrafts.abyss.toggleAutomatic()),i("acceleratorHepteractAuto").addEventListener("click",()=>e.hepteractCrafts.accelerator.toggleAutomatic()),i("acceleratorBoostHepteractAuto").addEventListener("click",()=>e.hepteractCrafts.acceleratorBoost.toggleAutomatic()),i("multiplierHepteractAuto").addEventListener("click",()=>e.hepteractCrafts.multiplier.toggleAutomatic()),i("hepteractToQuark").addEventListener("mouseover",()=>Xc()),i("hepteractToQuarkTrade").addEventListener("click",()=>si()),i("hepteractToQuarkTradeMax").addEventListener("click",()=>si(!0)),i("hepteractToQuarkTradeAuto").addEventListener("click",()=>wo()),i("overfluxPowder").addEventListener("mouseover",()=>Yc()),i("powderDayWarp").addEventListener("click",()=>ii(!1)),i("warpAuto").addEventListener("click",()=>ii(!0)),i("hepteractAutoPercentageButton").addEventListener("click",()=>rp()),i("corrStatsBtn").addEventListener("click",()=>ve(9,0)),i("corrLoadoutsBtn").addEventListener("click",()=>ve(9,1)),i("corruptionDisplays").addEventListener("click",()=>nr(10)),i("corruptionCleanse").addEventListener("click",()=>Pc()),i("corruptionCleanseConfirm").addEventListener("click",()=>fn(10,999)),i("ascensionAutoEnable").addEventListener("click",()=>Gr(0)),i("ascensionAutoToggle").addEventListener("click",()=>Gr(1));let S=Array.from(document.querySelectorAll('[id^="switchSettingSubTab"]'));for(let v of S)v.addEventListener("click",()=>ve(-1,S.indexOf(v)));let k=Array.from(document.querySelectorAll("button.statsNerds"));for(let v of k)v.addEventListener("click",M=>Kc(M.target));i("summaryGeneration").addEventListener("click",()=>gp()),i("exportgame").addEventListener("click",()=>mu()),i("saveStringInput").addEventListener("blur",v=>fu(v.target)),i("savegame").addEventListener("click",()=>Bt(!0)),i("deleteGame").addEventListener("click",()=>ki()),i("preloadDeleteGame").addEventListener("click",()=>hu()),i("promocodes").addEventListener("click",()=>yu()),i("addCode").addEventListener("click",()=>Gn("add")),i("addCode").addEventListener("mouseover",()=>Rr("add")),i("addCodeOne").addEventListener("click",()=>Gn("add",1)),i("addCodeOne").addEventListener("mouseover",()=>Rr("add")),i("dailyCode").addEventListener("click",()=>Gn("daily")),i("dailyCode").addEventListener("mouseover",()=>Rr("daily")),i("timeCode").addEventListener("click",()=>Gn("time")),i("timeCode").addEventListener("mouseover",()=>Rr("time")),i("historyTogglePerSecondButton").addEventListener("click",()=>cp()),i("resetHotkeys").addEventListener("click",()=>Eu()),i("notation").addEventListener("click",()=>so()),i("iconSet").addEventListener("click",()=>lo(e.iconSet+1)),i("resetShopUpgrades").addEventListener("click",()=>ho()),i("toggleConfirmShop").addEventListener("click",()=>Ku()),i("toggleBuyMaxShop").addEventListener("click",v=>Zu(v)),i("toggleHideShop").addEventListener("click",()=>Ju()),i("offeringPotions").addEventListener("mouseover",()=>Ot("offeringPotion")),i("offeringpotionowned").addEventListener("mouseover",()=>Ot("offeringPotion")),i("buyofferingpotion").addEventListener("mouseover",()=>Ot("offeringPotion")),i("useofferingpotion").addEventListener("mouseover",()=>Ot("offeringPotion")),i("buyofferingpotion").addEventListener("click",()=>mo("offeringPotion")),i("useofferingpotion").addEventListener("click",()=>hn("offeringPotion")),i("toggle42").addEventListener("click",()=>{e.autoPotionTimer=0}),i("obtainiumPotions").addEventListener("mouseover",()=>Ot("obtainiumPotion")),i("obtainiumpotionowned").addEventListener("mouseover",()=>Ot("obtainiumPotion")),i("buyobtainiumpotion").addEventListener("mouseover",()=>Ot("obtainiumPotion")),i("useobtainiumpotion").addEventListener("mouseover",()=>Ot("obtainiumPotion")),i("buyobtainiumpotion").addEventListener("click",()=>mo("obtainiumPotion")),i("useobtainiumpotion").addEventListener("click",()=>hn("obtainiumPotion")),i("toggle43").addEventListener("click",()=>{e.autoPotionTimerObtainium=0});let B=Object.keys(e.shopUpgrades);for(let v of B)ae[v].type==="upgrade"&&(i(`${v}`).addEventListener("mouseover",()=>Ot(v)),i(`${v}Level`).addEventListener("mouseover",()=>Ot(v)),i(`${v}Button`).addEventListener("mouseover",()=>Ot(v)),i(`${v}Button`).addEventListener("click",()=>mo(v)));i("buySingularityQuarksButton").addEventListener("click",()=>Cc());let N=Object.keys(e.singularityUpgrades);for(let v of N)v!=="offeringAutomatic"&&(i(`${String(v)}`).addEventListener("mouseover",()=>e.singularityUpgrades[`${String(v)}`].updateUpgradeHTML()),i(`${String(v)}`).addEventListener("click",M=>e.singularityUpgrades[`${String(v)}`].buyLevel(M)));i("actualSingularityUpgradeContainer").addEventListener("mouseover",()=>ma(!0)),i("actualSingularityUpgradeContainer").addEventListener("mouseout",()=>ma(!1));let I=Object.keys(e.octeractUpgrades);for(let v of I)i(`${String(v)}`).addEventListener("mouseover",()=>e.octeractUpgrades[`${String(v)}`].updateUpgradeHTML()),i(`${String(v)}`).addEventListener("click",M=>e.octeractUpgrades[`${String(v)}`].buyLevel(M));i("octeractUpgradeContainer").addEventListener("mouseover",()=>ma(!0)),i("octeractUpgradeContainer").addEventListener("mouseout",()=>ma(!1));let $=Object.keys(e.singularityChallenges);for(let v of $)i(`${String(v)}`).addEventListener("mouseover",()=>e.singularityChallenges[`${String(v)}`].updateChallengeHTML()),i(`${String(v)}`).addEventListener("click",()=>e.singularityChallenges[`${String(v)}`].challengeEntryHandler());for(let v=0;v<5;v++)i(`toggleSingularitySubTab${v+1}`).addEventListener("click",()=>ve(10,v));document.querySelectorAll("#tabrow > button").forEach(v=>v.addEventListener("click",()=>Dr())),i("importfile").addEventListener("change",async v=>{let M=v.target,A=M.files[0],F="";if(typeof Blob.prototype.text=="function")F=await A.text();else{let Y=new FileReader;Y.readAsText(A),F=await new Promise(te=>{Y.addEventListener("load",()=>te(Y.result.toString()))})}return M.value="",Cu(A.lastModified),Ca(F)});for(let v=1;v<=5;v++)i(`switchTheme${v}`).addEventListener("click",()=>io(!1,v,!0));i("saveType").addEventListener("click",async v=>{let M=v.target;if(!M.checked){localStorage.removeItem("copyToClipboard"),v.stopPropagation();return}v.preventDefault(),await me(p.t("save.saveToClipboard"))?(M.checked=!M.checked,localStorage.setItem("copyToClipboard","")):localStorage.removeItem("copyToClipboard")}),window.addEventListener("error",Sc,{capture:!0})};var Z=class extends Sr{constructor(r,a){var c,g;let o=p.t(`octeract.data.${a}.name`),l=p.t(`octeract.data.${a}.description`);super(Ha(We({},r),{name:o,description:l}));this.octeractsInvested=0;this.costFormula=r.costFormula,this.octeractsInvested=(c=r.octeractsInvested)!=null?c:0,this.qualityOfLife=(g=r.qualityOfLife)!=null?g:!1}getCostTNL(){return this.level===this.maxLevel?0:this.costFormula(this.level,this.costPerLevel)}async buyLevel(r){let a=0,o=1,l=e.wowOcteracts;if(r.shiftKey){o=1e6;let c=Number(await Se(`${p.t("octeract.buyLevel.buyPrompt",{n:u(e.wowOcteracts,0,!0)})}`));if(isNaN(c)||!isFinite(c)||!Number.isInteger(c))return R(p.t("general.validation.finite"));if(c===-1)l=e.wowOcteracts;else{if(c<=0)return R(p.t("octeract.buyLevel.cancelPurchase"));l=c}l=Math.min(e.wowOcteracts,l)}if(this.maxLevel>0&&(o=Math.min(o,this.maxLevel-this.level)),o===0)return R(p.t("octeract.buyLevel.alreadyMax"));for(;o>0;){let c=this.getCostTNL();if(e.wowOcteracts<c||l<c)break;e.wowOcteracts-=c,l-=c,this.octeractsInvested+=c,this.level+=1,a+=1,o-=1}if(a===0)return R(p.t("octeract.buyLevel.cannotAfford"));if(a>1)return R(`${p.t("octeract.buyLevel.multiBuy",{n:u(a)})}`);this.updateUpgradeHTML()}toString(){let r=this.getCostTNL(),a=this.maxLevel===-1?"":`/${u(this.maxLevel,0,!0)}`,o=this.maxLevel===this.level,l=o?"plum":"white",c=this.freeLevels>0?`<span style="color: orange"> [+${u(this.freeLevels,1,!0)}]</span>`:"";this.freeLevels>this.level&&(c=c+`<span style="color: var(--maroon-text-color)">${p.t("general.softCapped")}</span>`);let g=r<=e.wowOcteracts,d="";if(!o&&!g){let h=rn();d=h>0?Ut((r-e.wowOcteracts)/h):`${p.t("general.infinity")}`}let m=o?`<span style="color: plum"> ${p.t("general.maxed")}</span>`:g?`<span style="color: var(--green-text-color)"> ${p.t("general.affordable")}</span>`:`<span style="color: yellow"> ${p.t("octeract.toString.becomeAffordable",{n:d})}</span>`;return`<span style="color: gold">${this.name}</span>
                <span style="color: lightblue">${this.description}</span>
                <span style="color: ${l}"> ${p.t("general.level")} ${u(this.level,0,!0)}${a}${c}</span>
                <span style="color: gold">${this.getEffect().desc}</span>
                ${p.t("octeract.toString.costNextLevel")} ${u(r,2,!0,!0,!0)} Octeracts${m}
                ${p.t("general.spent")} Octeracts: ${u(this.octeractsInvested,2,!0,!0,!0)}`}updateUpgradeHTML(){i("singularityOcteractsMultiline").innerHTML=this.toString(),i("octeractAmount").innerHTML=p.t("octeract.amount",{octeracts:u(e.wowOcteracts,2,!0,!0,!0)})}computeFreeLevelSoftcap(){return Math.min(this.level,this.freeLevels)+Math.sqrt(Math.max(0,this.freeLevels-this.level))}actualTotalLevels(){if(e.singularityChallenges.noOcteracts.enabled&&!this.qualityOfLife)return 0;let r=this.computeFreeLevelSoftcap();return this.level+r}getEffect(){return this.effect(this.actualTotalLevels())}refund(){e.wowOcteracts+=this.octeractsInvested,this.level=0,this.octeractsInvested=0}},K={octeractStarter:{costFormula:(t,n)=>n*(t+1),maxLevel:1,costPerLevel:1e-15,effect:t=>({bonus:t>0,get desc(){return p.t("octeract.data.octeractStarter.effect",{n:t>0?"":"not"})}})},octeractGain:{costFormula:(t,n)=>n*(Math.pow(t+1,6)-Math.pow(t,6)),maxLevel:1e8,costPerLevel:1e-8,effect:t=>({bonus:1+.01*t,get desc(){return p.t("octeract.data.octeractGain.effect",{n:u(t,0,!0)})}})},octeractGain2:{costFormula:(t,n)=>n*Math.pow(10,Math.pow(t,.5)/3),maxLevel:-1,costPerLevel:1e10,effect:t=>({bonus:1+.01*t,get desc(){return p.t("octeract.data.octeractGain2.effect",{n:u(t,0,!0)})}})},octeractQuarkGain:{costFormula:(t,n)=>t<1e3?n*(Math.pow(t+1,7)-Math.pow(t,7)):n*(Math.pow(1001,7)-Math.pow(1e3,7))*Math.pow(10,t/1e3),maxLevel:19900,costPerLevel:1e-7,effect:t=>({bonus:1+.01*t,get desc(){return p.t("octeract.data.octeractQuarkGain.effect",{n:u(t,0,!0)})}})},octeractQuarkGain2:{costFormula:(t,n)=>n*Math.pow(1e26,t),maxLevel:3,costPerLevel:1e22,effect:t=>({bonus:t>0,get desc(){return p.t("octeract.data.octeractQuarkGain2.effect",{n:t>0?"":"NOT"})}})},octeractCorruption:{costFormula:(t,n)=>n*Math.pow(10,t*10),maxLevel:2,costPerLevel:10,effect:t=>({bonus:t,get desc(){return p.t("octeract.data.octeractCorruption.effect",{n:t})}})},octeractGQCostReduce:{costFormula:(t,n)=>n*Math.pow(2,t),maxLevel:50,costPerLevel:1e-9,effect:t=>({bonus:1-t/100,get desc(){return p.t("octeract.data.octeractGQCostReduce.effect",{n:t})}})},octeractExportQuarks:{costFormula:(t,n)=>n*Math.pow(t+1,3),maxLevel:100,costPerLevel:1,effect:t=>({bonus:4*t/10+1,get desc(){return p.t("octeract.data.octeractExportQuarks.effect",{n:u(40*t,0,!0)})}})},octeractImprovedDaily:{costFormula:(t,n)=>n*Math.pow(1.6,t),maxLevel:50,costPerLevel:.001,effect:t=>({bonus:t,get desc(){return p.t("octeract.data.octeractImprovedDaily.effect",{n:t})}}),qualityOfLife:!0},octeractImprovedDaily2:{costFormula:(t,n)=>n*Math.pow(2,t),maxLevel:50,costPerLevel:.01,effect:t=>({bonus:1+.01*t,get desc(){return p.t("octeract.data.octeractImprovedDaily2.effect",{n:t})}}),qualityOfLife:!0},octeractImprovedDaily3:{costFormula:(t,n)=>n*Math.pow(20,t),maxLevel:-1,costPerLevel:1e20,effect:t=>({bonus:t,get desc(){return p.t("octeract.data.octeractImprovedDaily3.effect",{n:`${t} +${.5*t}%`})}}),qualityOfLife:!0},octeractImprovedQuarkHept:{costFormula:(t,n)=>n*Math.pow(1e6,t),maxLevel:3,costPerLevel:1/10,effect:t=>({bonus:t/100,get desc(){return p.t("octeract.data.octeractImprovedQuarkHept.effect",{n:u(t/100,2,!0)})}})},octeractImprovedGlobalSpeed:{costFormula:(t,n)=>n*Math.pow(t+1,3),maxLevel:1e3,costPerLevel:1e-5,effect:t=>({bonus:t/100,get desc(){return p.t("octeract.data.octeractImprovedGlobalSpeed.effect",{n:u(t,0,!0)})}})},octeractImprovedAscensionSpeed:{costFormula:(t,n)=>n*Math.pow(1e9,t/100),maxLevel:100,costPerLevel:100,effect:t=>({bonus:t/2e3,get desc(){return p.t("octeract.data.octeractImprovedAscensionSpeed.effect",{n:u(t/20,2,!0)})}})},octeractImprovedAscensionSpeed2:{costFormula:(t,n)=>n*Math.pow(1e12,t/250),maxLevel:250,costPerLevel:1e5,effect:t=>({bonus:t/2e3,get desc(){return p.t("octeract.data.octeractImprovedAscensionSpeed2.effect",{n:u(t/50,2,!0)})}})},octeractImprovedFree:{costFormula:(t,n)=>n*Math.pow(t+1,3),maxLevel:1,costPerLevel:100,effect:t=>({bonus:t>0,get desc(){return p.t("octeract.data.octeractImprovedFree.effect",{n:t>0?"":"NOT"})}})},octeractImprovedFree2:{costFormula:(t,n)=>n*Math.pow(t+1,3),maxLevel:1,costPerLevel:1e7,effect:t=>({bonus:.05*t,get desc(){return p.t("octeract.data.octeractImprovedFree2.effect",{n:u(t/20,2,!0)})}})},octeractImprovedFree3:{costFormula:(t,n)=>n*Math.pow(t+1,3),maxLevel:1,costPerLevel:1e17,effect:t=>({bonus:.05*t,get desc(){return p.t("octeract.data.octeractImprovedFree3.effect",{n:u(t/20,2,!0)})}})},octeractImprovedFree4:{costFormula:(t,n)=>n*Math.pow(1e20,t/40),maxLevel:40,costPerLevel:1e20,effect:t=>({bonus:.001*t+(t>0?.01:0),get desc(){return p.t("octeract.data.octeractImprovedFree4.effect",{n:u(.001*t+(t>0?.01:0),3,!0)})}})},octeractSingUpgradeCap:{costFormula:(t,n)=>n*Math.pow(1e3,t),maxLevel:10,costPerLevel:1e10,effect:t=>({bonus:t,get desc(){return p.t("octeract.data.octeractSingUpgradeCap.effect",{n:t})}}),qualityOfLife:!0},octeractOfferings1:{costFormula:(t,n)=>t<25?n*Math.pow(t+1,5):n*1e15*Math.pow(10,t/25-1),maxLevel:-1,costPerLevel:1e-15,effect:t=>({bonus:1+.01*t,get desc(){return p.t("octeract.data.octeractOfferings1.effect",{n:u(t)})}})},octeractObtainium1:{costFormula:(t,n)=>t<25?n*Math.pow(t+1,5):n*1e15*Math.pow(10,t/25-1),maxLevel:-1,costPerLevel:1e-15,effect:t=>({bonus:1+.01*t,get desc(){return p.t("octeract.data.octeractObtainium1.effect",{n:u(t)})}})},octeractAscensions:{costFormula:(t,n)=>n*Math.pow(t+1,3),maxLevel:1e6,costPerLevel:1,effect:t=>({bonus:(1+t/100)*(1+2*Math.floor(t/10)/100),get desc(){return p.t("octeract.data.octeractAscensions.effect",{n:u((100+t)*(1+2*Math.floor(t/10)/100)-100,1,!0)})}})},octeractAscensions2:{costFormula:(t,n)=>n*Math.pow(10,Math.pow(t,.5)/3),maxLevel:-1,costPerLevel:1e12,effect:t=>({bonus:(1+t/100)*(1+2*Math.floor(t/10)/100),get desc(){return p.t("octeract.data.octeractAscensions2.effect",{n:u((100+t)*(1+2*Math.floor(t/10)/100)-100,1,!0)})}})},octeractAscensionsOcteractGain:{costFormula:(t,n)=>n*Math.pow(40,t),maxLevel:-1,costPerLevel:1e3,effect:t=>({bonus:t/100,get desc(){return p.t("octeract.data.octeractAscensionsOcteractGain.effect",{n:u(t,1,!0)})}})},octeractFastForward:{costFormula:(t,n)=>n*Math.pow(1e8,t),maxLevel:2,costPerLevel:1e8,effect:t=>({bonus:t,get desc(){return p.t("octeract.data.octeractFastForward.effect",{n100:100*t,n:t})}})},octeractAutoPotionSpeed:{costFormula:(t,n)=>n*Math.pow(10,t),maxLevel:-1,costPerLevel:1e-10,effect:t=>({bonus:1+4*t/100,get desc(){return p.t("octeract.data.octeractAutoPotionSpeed.effect",{n:4*t})}})},octeractAutoPotionEfficiency:{costFormula:(t,n)=>n*Math.pow(10,t),maxLevel:100,costPerLevel:1e-10*Math.pow(10,.5),effect:t=>({bonus:1+2*t/100,get desc(){return p.t("octeract.data.octeractAutoPotionEfficiency.effect",{n:2*t})}})},octeractOneMindImprover:{costFormula:(t,n)=>n*Math.pow(1e5,t),maxLevel:10,costPerLevel:1e25,effect:t=>({bonus:.55+t/150,get desc(){return p.t("octeract.data.octeractOneMindImprover.effect",{n:u(.55+t/150,3,!0)})}}),qualityOfLife:!0},octeractAmbrosiaLuck:{costFormula:(t,n)=>{let r=t+1;return n*(Math.pow(10,r)-Math.pow(10,r-1))},maxLevel:-1,costPerLevel:1e60/9,effect:t=>({bonus:t,get desc(){return p.t("octeract.data.octeractAmbrosiaLuck.effect",{n:u(t)})}})}};var Ct=class{constructor(n,r){var c,g,d;let a=p.t(`singularityChallenge.data.${r}.name`),o=p.t(`singularityChallenge.data.${r}.description`),l=p.t(`singularityChallenge.data.${r}.rewardDescription`);this.name=a,this.description=o,this.rewardDescription=l,this.baseReq=n.baseReq,this.completions=(c=n.completions)!=null?c:0,this.maxCompletions=n.maxCompletions,this.unlockSingularity=n.unlockSingularity,this.HTMLTag=n.HTMLTag,this.highestSingularityCompleted=(g=n.highestSingularityCompleted)!=null?g:0,this.enabled=(d=n.enabled)!=null?d:!1,this.singularityRequirement=n.singularityRequirement,this.effect=n.effect,this.updateIconHTML(),this.updateChallengeCompletions()}computeSingularityRquirement(){return this.singularityRequirement(this.baseReq,this.completions)}updateChallengeCompletions(){let n=0;for(;this.singularityRequirement(this.baseReq,n)<=this.highestSingularityCompleted;)n+=1;this.completions=Math.min(this.maxCompletions,n)}challengeEntryHandler(){return this.enabled?this.exitChallenge(e.runelevels[6]>0):this.enableChallenge()}async enableChallenge(){if(e.highestSingularityCount<this.unlockSingularity)return R(p.t("singularityChallenge.enterChallenge.lowSingularity"));if(!await me(p.t("singularityChallenge.enterChallenge.confirmation",{name:this.name})))return R(p.t("singularityChallenge.enterChallenge.decline"));if(e.insideSingularityChallenge)return R(p.t("singularityChallenge.acceptFailure"));{let r=this.computeSingularityRquirement(),a=e.singularityCounter,o=e.quarkstimer,l=e.goldenQuarksTimer,c=vt(),g=e.goldenQuarks;return this.enabled=!0,e.insideSingularityChallenge=!0,await Ir(r),e.singularityCounter=a,e.goldenQuarks=g+c,e.quarkstimer=o,e.goldenQuarksTimer=l,this.updateChallengeHTML(),R(p.t("singularityChallenge.acceptSuccess",{name:this.name,tier:this.completions+1,singReq:this.computeSingularityRquirement()}))}}async exitChallenge(n){if(!n){let c=e.runelevels[6]===0?p.t("singularityChallenge.exitChallenge.incompleteWarning"):"";if(!await me(p.t("singularityChallenge.exitChallenge.confirmation",{name:this.name,tier:this.completions+1,warning:c})))return R(p.t("singularityChallenge.exitChallenge.decline"))}this.enabled=!1,e.insideSingularityChallenge=!1;let r=e.highestSingularityCount,a=e.singularityCounter,o=e.quarkstimer,l=e.goldenQuarksTimer;return this.updateIconHTML(),n?(this.highestSingularityCompleted=e.singularityCount,this.updateChallengeCompletions(),await Ir(r),e.singularityCounter=a,R(p.t("singularityChallenge.exitChallenge.acceptSuccess",{tier:Vr(this.completions),name:this.name}))):(await Ir(r),e.singularityCounter=a,e.quarkstimer=o,e.goldenQuarksTimer=l,R(p.t("singularityChallenge.exitChallenge.acceptFailure")))}toString(){let n=this.completions===this.maxCompletions?"var(--orchid-text-color)":"white",r=this.enabled?`<span style="color: var(--red-text-color)">${p.t("general.enabled")}</span>`:"";return`<span style="color: gold">${this.name}</span> ${r}
                <span style="color: lightblue">${this.description}</span>
                <span style="color: pink">${p.t("singularityChallenge.toString.canEnter",{unlockSing:this.unlockSingularity,highestSing:e.highestSingularityCount})}</span>
                ${p.t("singularityChallenge.toString.tiersCompleted")}: <span style="color: ${n}">${this.completions}/${this.maxCompletions}</span>
                <span style="color: gold">${p.t("singularityChallenge.toString.currentTierSingularity")} <span style="color: var(--orchid-text-color)">${this.singularityRequirement(this.baseReq,this.completions)}</span></span>
                <span>${this.rewardDescription}</span>`}updateChallengeHTML(){i("singularityChallengesMultiline").innerHTML=this.toString()}updateIconHTML(){let n=this.enabled?"orchid":"";i(`${this.HTMLTag}`).style.backgroundColor=n}get rewards(){return this.effect(this.completions)}},Ze={noSingularityUpgrades:{baseReq:1,maxCompletions:30,unlockSingularity:25,HTMLTag:"noSingularityUpgrades",singularityRequirement:(t,n)=>t+8*n,effect:t=>({cubes:1+.5*t,goldenQuarks:1+.12*+(t>0),shopUpgrade:t>=20})},oneChallengeCap:{baseReq:10,maxCompletions:25,unlockSingularity:40,HTMLTag:"oneChallengeCap",singularityRequirement:(t,n)=>t+11*n,effect:t=>({corrScoreIncrease:.03*t,capIncrease:3*+(t>0),freeCorruptionLevel:t>=20})},noOcteracts:{baseReq:75,maxCompletions:10,unlockSingularity:100,HTMLTag:"noOcteracts",singularityRequirement:(t,n)=>t+13*n,effect:t=>({octeractPow:.02*t,offeringBonus:t>0,obtainiumBonus:t===10})},limitedAscensions:{baseReq:10,maxCompletions:25,unlockSingularity:50,HTMLTag:"limitedAscensions",singularityRequirement:(t,n)=>t+10*n,effect:t=>({ascensionSpeedMult:.1*t/100,hepteractCap:t>0,calculatorUnlock:t>=25})}};var fp=t=>{var l,c,g,d,m,h;if(((l=t.currentChallenge)==null?void 0:l.transcension)===void 0&&(e.currentChallenge={transcension:0,reincarnation:0,ascension:0}),(c=t.shopUpgrades)!=null||(t.shopUpgrades=We({},ce.shopUpgrades)),(g=t.ascStatToggles)!=null||(t.ascStatToggles=We({},ce.ascStatToggles)),typeof t.promoCodeTiming=="object"&&t.promoCodeTiming!=null)for(let y of Object.keys(t.promoCodeTiming)){let b=y;e.promoCodeTiming[b]=t.promoCodeTiming[b]}else e.promoCodeTiming.time=Date.now()-60*1e3*15;!Array.isArray(t.challengecompletions)&&t.challengecompletions!=null&&(e.challengecompletions=Object.values(t.challengecompletions),Tl(e.challengecompletions,0,ce.challengecompletions.length)),Array.isArray(t.highestchallengecompletions)||(e.highestchallengecompletions=Object.values(t.highestchallengecompletions)),t.wowCubes===void 0&&(e.wowCubes=new ht,e.wowTesseracts=new On(0),e.wowHypercubes=new Un(0),e.cubeUpgrades=[null,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),((d=t.shoptoggles)==null?void 0:d.reincarnate)===void 0&&(e.shoptoggles.reincarnate=!0),t.ascendBuilding1===void 0&&(e.ascendBuilding1={cost:1,owned:0,generated:new f("0"),multiplier:.01},e.ascendBuilding2={cost:10,owned:0,generated:new f("0"),multiplier:.01},e.ascendBuilding3={cost:100,owned:0,generated:new f("0"),multiplier:.01},e.ascendBuilding4={cost:1e3,owned:0,generated:new f("0"),multiplier:.01},e.ascendBuilding5={cost:1e4,owned:0,generated:new f("0"),multiplier:.01}),t.tesseractbuyamount===void 0&&(e.tesseractbuyamount=1),t.tesseractBlessings===void 0&&(e.tesseractBlessings={accelerator:0,multiplier:0,offering:0,runeExp:0,obtainium:0,antSpeed:0,antSacrifice:0,antELO:0,talismanBonus:0,globalSpeed:0},e.hypercubeBlessings={accelerator:0,multiplier:0,offering:0,runeExp:0,obtainium:0,antSpeed:0,antSacrifice:0,antELO:0,talismanBonus:0,globalSpeed:0}),t.prototypeCorruptions===void 0&&(e.prototypeCorruptions=[0,0,0,0,0,0,0,0,0,0,0,0,0],e.usedCorruptions=[0,0,0,0,0,0,0,0,0,0,0,0,0]),t.constantUpgrades===void 0&&(e.ascendShards=new f("0"),e.constantUpgrades=[null,0,0,0,0,0,0,0,0,0,0]),t.roombaResearchIndex===void 0&&(e.roombaResearchIndex=0),t.history===void 0&&(e.history={ants:[],ascend:[],reset:[],singularity:[]}),t.autoChallengeRunning===void 0&&(e.autoChallengeRunning=!1,e.autoChallengeIndex=1,e.autoChallengeToggles=[!1,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!1,!1,!1,!1,!1],e.autoChallengeStartExponent=10,e.autoChallengeTimer={start:10,exit:2,enter:2}),t.autoAscend===void 0&&(e.autoAscend=!1,e.autoAscendMode="c10Completions",e.autoAscendThreshold=1),t.runeBlessingLevels===void 0&&(e.runeBlessingLevels=[0,0,0,0,0,0],e.runeSpiritLevels=[0,0,0,0,0,0],e.runeBlessingBuyAmount=0,e.runeSpiritBuyAmount=0),t.autoBuyFragment===void 0&&(e.autoBuyFragment=!1,e.saveOfferingToggle=!1),t.autoTesseracts===void 0&&(e.autoTesseracts=[!1,!1,!1,!1,!1,!1]),t.autoOpenCubes===void 0&&(e.autoOpenCubes=!1,e.openCubes=0),t.autoOpenTesseracts===void 0&&(e.autoOpenTesseracts=!1,e.openTesseracts=0),t.autoOpenHypercubes===void 0&&(e.autoOpenHypercubes=!1,e.openHypercubes=0),t.autoOpenPlatonicsCubes===void 0&&(e.autoOpenPlatonicsCubes=!1,e.openPlatonicsCubes=0),(e.prototypeCorruptions[0]===null||e.prototypeCorruptions[0]===void 0)&&(e.usedCorruptions=[0,0,0,0,0,0,0,0,0,0,0,0,0],e.prototypeCorruptions=[0,0,0,0,0,0,0,0,0,0,0,0,0]),e.corruptionLoadouts===void 0&&(e.corruptionLoadouts=We({},ce.corruptionLoadouts),e.corruptionShowStats=!0);let n=Object.keys(ce.corruptionLoadouts);for(let y of n.map(b=>Number(b)))e.corruptionLoadouts[y]===void 0&&(e.corruptionLoadouts[y]=ce.corruptionLoadouts[y]);if(e.corruptionLoadoutNames.length<ce.corruptionLoadoutNames.length){let y=ce.corruptionLoadoutNames.slice(e.corruptionLoadoutNames.length);e.corruptionLoadoutNames.push(...y)}for(let y=0;y<=4;y++)e.runelevels[y]>Be(y+1)&&(e.runelevels[y]=0);if(t.shopUpgrades.challengeExtension===void 0&&(e.shopUpgrades.challengeExtension=0,e.shopUpgrades.challengeTome=0,e.shopUpgrades.seasonPass=0,e.shopUpgrades.cubeToQuark=0,e.shopUpgrades.tesseractToQuark=0,e.shopUpgrades.hypercubeToQuark=0),t.cubeUpgrades==null||t.cubeUpgrades[19]===0||e.cubeUpgrades[19]===0)for(let y=121;y<=125;y++)e.upgrades[y]=0;Object.assign(e.toggles,t.toggles);for(let y in ce.toggles)e.toggles[y]===void 0&&(e.toggles[y]=ce.toggles[y]);if(t.dayCheck===void 0&&(e.dayCheck=null,e.dayTimer=0,e.cubeQuarkDaily=0,e.tesseractQuarkDaily=0,e.hypercubeQuarkDaily=0,e.cubeOpenedDaily=0,e.tesseractOpenedDaily=0,e.hypercubeOpenedDaily=0),e.singularityUpgrades={goldenQuarks1:new G(D.goldenQuarks1,"goldenQuarks1"),goldenQuarks2:new G(D.goldenQuarks2,"goldenQuarks2"),goldenQuarks3:new G(D.goldenQuarks3,"goldenQuarks3"),starterPack:new G(D.starterPack,"starterPack"),wowPass:new G(D.wowPass,"wowPass"),cookies:new G(D.cookies,"cookies"),cookies2:new G(D.cookies2,"cookies2"),cookies3:new G(D.cookies3,"cookies3"),cookies4:new G(D.cookies4,"cookies4"),cookies5:new G(D.cookies5,"cookies5"),ascensions:new G(D.ascensions,"ascensions"),corruptionFourteen:new G(D.corruptionFourteen,"corruptionFourteen"),corruptionFifteen:new G(D.corruptionFifteen,"corruptionFifteen"),singOfferings1:new G(D.singOfferings1,"singOfferings1"),singOfferings2:new G(D.singOfferings2,"singOfferings2"),singOfferings3:new G(D.singOfferings3,"singOfferings3"),singObtainium1:new G(D.singObtainium1,"singObtainium1"),singObtainium2:new G(D.singObtainium2,"singObtainium2"),singObtainium3:new G(D.singObtainium3,"singObtainium3"),singCubes1:new G(D.singCubes1,"singCubes1"),singCubes2:new G(D.singCubes2,"singCubes2"),singCubes3:new G(D.singCubes3,"singCubes3"),singCitadel:new G(D.singCitadel,"singCitadel"),singCitadel2:new G(D.singCitadel2,"singCitadel2"),octeractUnlock:new G(D.octeractUnlock,"octeractUnlock"),singOcteractPatreonBonus:new G(D.singOcteractPatreonBonus,"singOcteractPatreonBonus"),intermediatePack:new G(D.intermediatePack,"intermediatePack"),advancedPack:new G(D.advancedPack,"advancedPack"),expertPack:new G(D.expertPack,"expertPack"),masterPack:new G(D.masterPack,"masterPack"),divinePack:new G(D.divinePack,"divinePack"),wowPass2:new G(D.wowPass2,"wowPass2"),potionBuff:new G(D.potionBuff,"potionBuff"),potionBuff2:new G(D.potionBuff2,"potionBuff2"),potionBuff3:new G(D.potionBuff3,"potionBuff3"),singChallengeExtension:new G(D.singChallengeExtension,"singChallengeExtension"),singChallengeExtension2:new G(D.singChallengeExtension2,"singChallengeExtension2"),singChallengeExtension3:new G(D.singChallengeExtension3,"singChallengeExtension3"),singQuarkImprover1:new G(D.singQuarkImprover1,"singQuarkImprover1"),singQuarkHepteract:new G(D.singQuarkHepteract,"singQuarkHepteract"),singQuarkHepteract2:new G(D.singQuarkHepteract2,"singQuarkHepteract2"),singQuarkHepteract3:new G(D.singQuarkHepteract3,"singQuarkHepteract3"),singOcteractGain:new G(D.singOcteractGain,"singOcteractGain"),singOcteractGain2:new G(D.singOcteractGain2,"singOcteractGain2"),singOcteractGain3:new G(D.singOcteractGain3,"singOcteractGain3"),singOcteractGain4:new G(D.singOcteractGain4,"singOcteractGain4"),singOcteractGain5:new G(D.singOcteractGain5,"singOcteractGain5"),wowPass3:new G(D.wowPass3,"wowPass3"),ultimatePen:new G(D.ultimatePen,"ultimatePen"),platonicTau:new G(D.platonicTau,"platonicTau"),platonicAlpha:new G(D.platonicAlpha,"platonicAlpha"),platonicDelta:new G(D.platonicDelta,"platonicDelta"),platonicPhi:new G(D.platonicPhi,"platonicPhi"),singFastForward:new G(D.singFastForward,"singFastForward"),singFastForward2:new G(D.singFastForward2,"singFastForward2"),singAscensionSpeed:new G(D.singAscensionSpeed,"singAscensionSpeed"),singAscensionSpeed2:new G(D.singAscensionSpeed2,"singAscensionSpeed2"),oneMind:new G(D.oneMind,"oneMind"),wowPass4:new G(D.wowPass4,"wowPass4"),offeringAutomatic:new G(D.offeringAutomatic,"offeringAutomatic"),blueberries:new G(D.blueberries,"blueberries")},e.octeractUpgrades={octeractStarter:new Z(K.octeractStarter,"octeractStarter"),octeractGain:new Z(K.octeractGain,"octeractGain"),octeractGain2:new Z(K.octeractGain2,"octeractGain2"),octeractQuarkGain:new Z(K.octeractQuarkGain,"octeractQuarkGain"),octeractQuarkGain2:new Z(K.octeractQuarkGain2,"octeractQuarkGain2"),octeractCorruption:new Z(K.octeractCorruption,"octeractCorruption"),octeractGQCostReduce:new Z(K.octeractGQCostReduce,"octeractGQCostReduce"),octeractExportQuarks:new Z(K.octeractExportQuarks,"octeractExportQuarks"),octeractImprovedDaily:new Z(K.octeractImprovedDaily,"octeractImprovedDaily"),octeractImprovedDaily2:new Z(K.octeractImprovedDaily2,"octeractImprovedDaily2"),octeractImprovedDaily3:new Z(K.octeractImprovedDaily3,"octeractImprovedDaily3"),octeractImprovedQuarkHept:new Z(K.octeractImprovedQuarkHept,"octeractImprovedQuarkHept"),octeractImprovedGlobalSpeed:new Z(K.octeractImprovedGlobalSpeed,"octeractImprovedGlobalSpeed"),octeractImprovedAscensionSpeed:new Z(K.octeractImprovedAscensionSpeed,"octeractImprovedAscensionSpeed"),octeractImprovedAscensionSpeed2:new Z(K.octeractImprovedAscensionSpeed2,"octeractImprovedAscensionSpeed2"),octeractImprovedFree:new Z(K.octeractImprovedFree,"octeractImprovedFree"),octeractImprovedFree2:new Z(K.octeractImprovedFree2,"octeractImprovedFree2"),octeractImprovedFree3:new Z(K.octeractImprovedFree3,"octeractImprovedFree3"),octeractImprovedFree4:new Z(K.octeractImprovedFree4,"octeractImprovedFree4"),octeractSingUpgradeCap:new Z(K.octeractSingUpgradeCap,"octeractSingUpgradeCap"),octeractOfferings1:new Z(K.octeractOfferings1,"octeractOfferings1"),octeractObtainium1:new Z(K.octeractObtainium1,"octeractObtainium1"),octeractAscensions:new Z(K.octeractAscensions,"octeractAscensions"),octeractAscensions2:new Z(K.octeractAscensions2,"octeractAscensions2"),octeractAscensionsOcteractGain:new Z(K.octeractAscensionsOcteractGain,"octeractAscensionsOcteractGain"),octeractFastForward:new Z(K.octeractFastForward,"octeractFastForward"),octeractAutoPotionSpeed:new Z(K.octeractAutoPotionSpeed,"octeractAutoPotionSpeed"),octeractAutoPotionEfficiency:new Z(K.octeractAutoPotionEfficiency,"octeractAutoPotionEfficiency"),octeractOneMindImprover:new Z(K.octeractOneMindImprover,"octeractOneMindImprover"),octeractAmbrosiaLuck:new Z(K.octeractAmbrosiaLuck,"octeractAmbrosiaLuck")},e.singularityChallenges={noSingularityUpgrades:new Ct(Ze.noSingularityUpgrades,"noSingularityUpgrades"),oneChallengeCap:new Ct(Ze.oneChallengeCap,"oneChallengeCap"),noOcteracts:new Ct(Ze.noOcteracts,"noOcteracts"),limitedAscensions:new Ct(Ze.limitedAscensions,"limitedAscensions")},(t.loadedOct4Hotfix===void 0||e.loadedOct4Hotfix===!1)&&(e.loadedOct4Hotfix=!0,e.researches.length>200&&(e.researchPoints+=e.researches[200]*1e56,e.researches[200]=0,Lt(200,!0,.01),e.researchPoints+=e.researches[195]*1e60,e.worlds.add(250*e.researches[195]),e.researches[195]=0,e.wowCubes.add(e.cubeUpgrades[50]*5e10),e.cubeUpgrades[50]=0)),(e.ascStatToggles===void 0||t.ascStatToggles===void 0)&&(e.ascStatToggles={1:!1,2:!1,3:!1,4:!1}),(e.ascStatToggles[4]===void 0||!("ascStatToggles"in t)||t.ascStatToggles[4]===void 0)&&(e.ascStatToggles[4]=!1),(e.usedCorruptions[0]>0||Array.isArray(t.usedCorruptions)&&t.usedCorruptions[0]>0)&&(e.prototypeCorruptions[0]=0,e.usedCorruptions[0]=0),e.antSacrificeTimerReal===void 0&&(e.antSacrificeTimerReal=e.antSacrificeTimer/Le().mult),(e.subtabNumber===void 0||t.subtabNumber===void 0)&&(e.subtabNumber=0),t.wowPlatonicCubes===void 0&&(e.wowPlatonicCubes=new Bn(0),e.wowAbyssals=0),t.platonicBlessings===void 0){let y=e.ascensionCount;e.currentChallenge.ascension!==0&&e.currentChallenge.ascension!==15&&de("ascensionChallenge",!1,!0),e.currentChallenge.ascension===15&&(de("ascensionChallenge",!1,!0),e.challenge15Exponent=0,Hn()),e.ascensionCount=y,e.challengecompletions[15]=0,e.highestchallengecompletions[15]=0,e.platonicBlessings={cubes:0,tesseracts:0,hypercubes:0,platonics:0,hypercubeBonus:0,taxes:0,scoreBonus:0,globalSpeed:0},e.platonicUpgrades=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e.challenge15Exponent=0,e.loadedNov13Vers=!1}if(e.researches.some(y=>typeof y!="number"))for(let y=0;y<200;y++)e.researches[y+1]=e.researches[y+1]||0;(t.loadedDec16Vers===!1||t.loadedDec16Vers===void 0)&&(e.currentChallenge.ascension===15&&(de("ascensionChallenge",!1,!0),e.challenge15Exponent=0,Hn()),e.challenge15Exponent=0,Hn(),e.loadedDec16Vers=!0),typeof t.exporttest=="string"?e.exporttest=!!1:e.exporttest=!!t.exporttest;let r=t.shopUpgrades;if(r&&"offeringTimerLevel"in r){e.shopUpgrades={offeringPotion:r.offeringPotion,obtainiumPotion:r.obtainiumPotion,offeringEX:0,offeringAuto:Math.min(1,Number(r.offeringAutoLevel)),obtainiumEX:0,obtainiumAuto:Math.min(1,Number(r.obtainiumAutoLevel)),instantChallenge:Number(r.instantChallengeBought),antSpeed:0,cashGrab:0,shopTalisman:Number(r.talismanBought),seasonPass:0,challengeExtension:r.challengeExtension,challengeTome:0,cubeToQuark:Number(r.cubeToQuarkBought),tesseractToQuark:Number(r.tesseractToQuarkBought),hypercubeToQuark:Number(r.hypercubeToQuarkBought),seasonPass2:0,seasonPass3:0,chronometer:0,infiniteAscent:0,calculator:0,calculator2:0,calculator3:0,calculator4:0,calculator5:0,calculator6:0,constantEX:0,powderEX:0,chronometer2:0,chronometer3:0,seasonPassY:0,seasonPassZ:0,challengeTome2:0,instantChallenge2:0,cashGrab2:0,cubeToQuarkAll:0,obtainiumEX2:0,offeringEX2:0,powderAuto:0,chronometerZ:0,seasonPassLost:0,challenge15Auto:0,extraWarp:0,autoWarp:0,improveQuarkHept:0,improveQuarkHept2:0,improveQuarkHept3:0,improveQuarkHept4:0,shopImprovedDaily:0,shopImprovedDaily2:0,shopImprovedDaily3:0,shopImprovedDaily4:0,offeringEX3:0,obtainiumEX3:0,improveQuarkHept5:0,seasonPassInfinity:0,chronometerInfinity:0,shopSingularityPenaltyDebuff:0},e.worlds.add(150*r.offeringTimerLevel+25/2*(r.offeringTimerLevel-1)*r.offeringTimerLevel,!1),e.worlds.add(150*r.obtainiumTimerLevel+25/2*(r.obtainiumTimerLevel-1)*r.obtainiumTimerLevel,!1),e.worlds.add(150*r.offeringAutoLevel+25/2*(r.offeringAutoLevel-1)*r.offeringAutoLevel-150*Math.min(1,r.offeringAutoLevel),!1),e.worlds.add(150*r.obtainiumAutoLevel+25/2*(r.obtainiumAutoLevel-1)*r.obtainiumAutoLevel-150*Math.min(1,r.obtainiumAutoLevel),!1),e.worlds.add(100*r.cashGrabLevel+100/2*(r.cashGrabLevel-1)*r.cashGrabLevel,!1),e.worlds.add(200*r.antSpeedLevel+80/2*(r.antSpeedLevel-1)*r.antSpeedLevel,!1);let y=(m=r.challenge10Tomes)!=null?m:r.challengeTome;e.worlds.add(500*y+250/2*(y-1)*y,!1),e.worlds.add(typeof r.seasonPass=="number"?500*r.seasonPass+250/2*(r.seasonPass-1)*r.seasonPass:500*r.seasonPassLevel+250/2*(r.seasonPassLevel-1)*r.seasonPassLevel,!1)}if(e.shopUpgrades.seasonPass2===void 0&&(e.shopUpgrades.seasonPass2=0,e.shopUpgrades.seasonPass3=0,e.shopUpgrades.chronometer=0,e.shopUpgrades.infiniteAscent=0),e.runeexp[5]===void 0&&(e.runeexp[5]=e.runeexp[6]=0,e.runelevels[5]=e.runelevels[6]=0),e.hepteractCrafts={chronos:xo,hyperrealism:Mo,quark:So,challenge:To,abyss:ko,accelerator:Po,acceleratorBoost:Lo,multiplier:Eo},t.hepteractCrafts!=null)for(let y in ce.hepteractCrafts){let b=y;t.hepteractCrafts[b]&&(e.hepteractCrafts[b]=Wc(We(We({},e.hepteractCrafts[b]),t.hepteractCrafts[b])))}for(t.platonicCubeOpenedDaily===void 0&&(e.platonicCubeOpenedDaily=0,e.platonicCubeQuarkDaily=0),t.shopUpgrades.calculator===void 0&&(e.shopUpgrades.calculator=0,e.shopUpgrades.calculator2=0,e.shopUpgrades.calculator3=0,e.shopUpgrades.constantEX=0);e.achievements[280]===void 0;)e.achievements.push(0);for(t.overfluxOrbs===void 0&&(e.overfluxOrbs=0),t.overfluxOrbsAutoBuy===void 0&&(e.overfluxOrbsAutoBuy=!1),t.overfluxPowder===void 0&&(e.overfluxPowder=0,e.shopUpgrades.powderEX=0,e.dailyPowderResetUses=1),t.ascStatToggles[5]===void 0&&(e.ascStatToggles[5]=!1);e.platonicUpgrades[20]===void 0;)e.platonicUpgrades.push(0);if(t.loadedV253===void 0&&(e.loadedV253=!0,e.worlds.add(1e4*e.shopUpgrades.calculator+1e4/2*(e.shopUpgrades.calculator-1)*e.shopUpgrades.calculator,!1),e.worlds.add(1e4*e.shopUpgrades.calculator2+5e3/2*(e.shopUpgrades.calculator2-1)*e.shopUpgrades.calculator2,!1),e.worlds.add(25e3*e.shopUpgrades.calculator3+25e3/2*(e.shopUpgrades.calculator3-1)*e.shopUpgrades.calculator3,!1),e.shopUpgrades.calculator=0,e.shopUpgrades.calculator2=0,e.shopUpgrades.calculator3=0,e.wowAbyssals+=1e8*e.platonicUpgrades[16],R(p.t("general.updateAlerts.june282021"))),t.loadedV255===void 0&&(e.loadedV255=!0,e.worlds.add(1e3*e.shopUpgrades.powderEX+1e3/2*(e.shopUpgrades.powderEX-1)*e.shopUpgrades.powderEX,!1),e.shopUpgrades.powderEX=0,R(p.t("general.updateAlerts.july22021")),e.firstCostAnts=new f("1e700"),e.firstOwnedAnts=0),t.autoResearchMode===void 0&&(e.autoResearchMode="manual"),t.singularityCount===void 0){e.singularityCount=0,e.goldenQuarks=0,e.quarksThisSingularity=0,e.quarksThisSingularity+=+e.worlds;let y=Object.keys(e.shopUpgrades);for(let b of y)e.quarksThisSingularity+=Ec(b)}t.totalQuarksEver===void 0&&(e.totalQuarksEver=0),t.hotkeys===void 0&&(e.hotkeys={},e.theme="Dark Mode",e.notation="Default");let a=Object.keys(ce.shopUpgrades);for(let y of a)e.shopUpgrades[y]===void 0&&(e.shopUpgrades[y]=0),e.shopUpgrades[y]>ae[y].maxLevel&&(e.shopUpgrades[y]=ae[y].maxLevel);if(t.singularityUpgrades!=null)for(let y in ce.singularityUpgrades){let b=y,w;if(t.singularityUpgrades[b]){let{level:S,goldenQuarksInvested:k,toggleBuy:B,freeLevels:N}=t.singularityUpgrades[b];w={maxLevel:D[b].maxLevel,costPerLevel:D[b].costPerLevel,level:S,goldenQuarksInvested:k,toggleBuy:B,freeLevels:N,minimumSingularity:D[b].minimumSingularity,effect:D[b].effect,canExceedCap:D[b].canExceedCap,specialCostForm:D[b].specialCostForm,qualityOfLife:D[b].qualityOfLife},e.singularityUpgrades[b]=new G(w,b.toString()),e.singularityUpgrades[b].minimumSingularity>e.highestSingularityCount&&e.singularityUpgrades[b].refund();let I=e.singularityUpgrades[b].level*(e.singularityUpgrades[b].level+1)*e.singularityUpgrades[b].costPerLevel/2;e.singularityUpgrades[b].maxLevel!==-1&&e.singularityUpgrades[b].level<=e.singularityUpgrades[b].maxLevel&&e.singularityUpgrades[b].goldenQuarksInvested!==I&&e.singularityUpgrades[b].specialCostForm==="Default"&&e.singularityUpgrades[b].refund()}else e.singularityUpgrades[b].name=`[NEW!] ${e.singularityUpgrades[b].name}`}if(t.octeractUpgrades!=null)for(let y in ce.octeractUpgrades){let b=y,w;if(t.octeractUpgrades[b]){let{level:S,octeractsInvested:k,toggleBuy:B,freeLevels:N}=t.octeractUpgrades[b];w={maxLevel:K[b].maxLevel,costPerLevel:K[b].costPerLevel,level:S,octeractsInvested:k,toggleBuy:B,effect:K[b].effect,costFormula:K[b].costFormula,freeLevels:N,qualityOfLife:K[b].qualityOfLife},e.octeractUpgrades[b]=new Z(w,b.toString()),e.octeractUpgrades[b].maxLevel!==-1&&e.octeractUpgrades[b].level>e.octeractUpgrades[b].maxLevel&&e.octeractUpgrades[b].refund()}else e.octeractUpgrades[b].name=`[NEW!] ${e.octeractUpgrades[b].name}`}if(t.singularityChallenges!=null)for(let y in ce.singularityChallenges){let b=y,w;if(t.singularityChallenges[b]){if(t.loadedV2927Hotfix1===void 0&&b==="noSingularityUpgrades"){let N=t.singularityChallenges[b].completions;N>0&&(t.singularityChallenges[b].highestSingularityCompleted=4*N-3)}let{completions:S,highestSingularityCompleted:k,enabled:B}=t.singularityChallenges[b];w={baseReq:Ze[b].baseReq,completions:S,maxCompletions:Ze[b].maxCompletions,unlockSingularity:Ze[b].unlockSingularity,HTMLTag:Ze[b].HTMLTag,highestSingularityCompleted:k,enabled:B,singularityRequirement:Ze[b].singularityRequirement,effect:Ze[b].effect},e.singularityChallenges[b]=new Ct(w,b.toString())}}for(;e.cubeUpgrades.length<71;)e.cubeUpgrades.push(0);t.dailyCodeUsed===void 0&&(e.dailyCodeUsed=!1),(e.usedCorruptions[1]>0||e.prototypeCorruptions[1]>0)&&(e.usedCorruptions[1]=0,e.prototypeCorruptions[1]=0),(t.goldenQuarksTimer===void 0||e.goldenQuarksTimer===void 0)&&(e.goldenQuarksTimer=9e4),t.hepteractAutoCraftPercentage===void 0&&(e.hepteractAutoCraftPercentage=50),(t.autoWarpCheck===void 0||e.shopUpgrades.autoWarp===0)&&(e.autoWarpCheck=!1),t.loadedV297Hotfix1===void 0&&(e.loadedV297Hotfix1=!0,e.singularityUpgrades.singCubes1.refund(),e.singularityUpgrades.singObtainium1.refund(),e.singularityUpgrades.singOfferings1.refund(),e.singularityUpgrades.ascensions.refund(),e.codes.get(40)&&e.singularityCount>0&&(e.singularityUpgrades.singCubes1.freeLevels+=5,e.singularityUpgrades.singOfferings1.freeLevels+=5,e.singularityUpgrades.singObtainium1.freeLevels+=5,e.singularityUpgrades.ascensions.freeLevels+=5),e.singularityCount>0?R(p.t("general.updateAlerts.v297hotfix1Sing")):R(p.t("general.updateAlerts.v297hotfix1NoSing"))),t.shopBuyMaxToggle===void 0&&(e.shopBuyMaxToggle=!1,e.shopConfirmationToggle=!0),t.wowOcteracts===void 0&&(e.wowOcteracts=0,e.octeractTimer=0),t.shopHideToggle===void 0&&(e.shopHideToggle=!1),t.researchBuyMaxToggle===void 0&&(e.researchBuyMaxToggle=!1),t.cubeUpgradesBuyMaxToggle===void 0&&(e.cubeUpgradesBuyMaxToggle=!1),t.ascensionCounterRealReal===void 0&&(e.ascensionCounterRealReal=0),t.totalWowOcteracts===void 0&&(e.totalWowOcteracts=0),t.highestSingularityCount===void 0&&(e.highestSingularityCount=e.singularityCount,e.singularityCount>0&&(e.goldenQuarks+=200,e.goldenQuarks+=100*Math.min(10,e.singularityCount),e.singularityCount>=5&&(e.singularityUpgrades.goldenQuarks3.freeLevels+=1),e.singularityCount>=10&&(e.singularityUpgrades.goldenQuarks3.freeLevels+=2))),t.autoPotionTimer===void 0&&(e.autoPotionTimer=0),t.autoPotionTimerObtainium===void 0&&(e.autoPotionTimerObtainium=0),t.insideSingularityChallenge===void 0&&(e.insideSingularityChallenge=!1),t.loadedV2930Hotfix1===void 0&&(e.singularityCount>230&&(e.singularityCount=230),e.highestSingularityCount>230&&(e.highestSingularityCount=230,R(p.t("general.updateAlerts.sing230Balancing"))),e.loadedV2930Hotfix1=!0),t.loadedV2931Hotfix1===void 0&&(e.loadedV2931Hotfix1=!0,e.shopUpgrades.obtainiumEX3=Math.min(1e3,e.shopUpgrades.obtainiumEX3*2),e.shopUpgrades.offeringEX3=Math.min(1e3,e.shopUpgrades.offeringEX3*2),e.shopUpgrades.seasonPassInfinity=Math.min(1e3,e.shopUpgrades.seasonPassInfinity*2),e.shopUpgrades.chronometerInfinity=Math.min(1e3,e.shopUpgrades.chronometerInfinity*2),e.shopUpgrades.improveQuarkHept5=Math.min(100,e.shopUpgrades.improveQuarkHept5*2),e.singularityUpgrades.offeringAutomatic.refund(),R(p.t("general.updateAlerts.december22xxxx"))),t.loadedV21003Hotfix1===void 0&&(e.loadedV21003Hotfix1=!0,e.singularityUpgrades.blueberries.refund(),R(p.t("general.updateAlerts.january42023")));let o=localStorage.getItem("firstPlayed");t.firstPlayed==null?e.firstPlayed=o!=null?o:new Date().toISOString():(h=t.firstPlayed)!=null&&h.includes("Before")?e.firstPlayed=o!=null?o:new Date().toISOString():e.firstPlayed=o!=null?o:t.firstPlayed,t.autoCubeUpgradesToggle===void 0&&(e.autoCubeUpgradesToggle=!1,e.autoPlatonicUpgradesToggle=!1)};var Ua=sn(bi());var mp={type:"postProcessor",name:"ColorText",process:t=>t.includes("<<")?t.replace(/<<(.*?)\|(.*?)>>/g,'<span style="color:$1">$2</span>'):t};var Xi={en:{name:"English",flag:"\u{1F1FA}\u{1F1F8}"},zh:{name:"Chinese",flag:"\u{1F1E8}\u{1F1F3}"},fr:{name:"French",flag:"\u{1F3F3}\uFE0F"},de:{name:"German",flag:"\u{1F1E9}\u{1F1EA}"},pl:{name:"Polish",flag:"\u{1F1F5}\u{1F1F1}"},es:{name:"Spanish",flag:"\u{1F1EA}\u{1F1F8}"},pt_BR:{name:"Brazilian Portuguese",flag:"\u{1F1E7}\u{1F1F7}"}},as=new Map,hp=async()=>{var o;let t={},n=(o=localStorage.getItem("language"))!=null?o:"en",a=await(await fetch(`./translations/${n}.json`)).json();if(as.set(n,{translation:a}),t[n]={translation:a},n!=="en"){let c=await(await fetch("./translations/en.json")).json();as.set("en",{translation:c}),t.en={translation:c}}await p.use(mp).init({lng:n,fallbackLng:"en",debug:!fo,resources:t,postProcess:["ColorText"],returnEmptyString:!1}),Gf(),$f()};function Hf(t,n,r){let a=document.createElement("button");a.id=`language_${t}`,a.className="language-select",a.addEventListener("click",async()=>{if(!as.has(t)){let d=await(await fetch(`./translations/${t}.json`)).json();as.set(t,{translation:d}),p.addResourceBundle(t,"translation",d)}await p.changeLanguage(t),localStorage.setItem("language",t),await me(p.t("general.languageChange"))&&location.reload()});let o=document.createElement("span");o.className="lang-flag",o.textContent=r,a.appendChild(o);let l=document.createElement("span");return l.className="lang-name",l.textContent=n,a.appendChild(l),a}function Gf(){let t=i("languageOptions");for(let n in Xi){let r=Hf(n,Xi[n].name,Xi[n].flag);t.appendChild(r)}}function $f(){let t=document.querySelectorAll("*[i18n]");for(let n of Array.from(t)){let r=n.getAttribute("i18n"),a=p.t(r);a.includes("<span")?n.innerHTML=a:n.textContent=a}}var e={firstPlayed:new Date().toISOString(),worlds:new mn({quarks:0,bonus:0}),coins:new f("1e2"),coinsThisPrestige:new f("1e2"),coinsThisTranscension:new f("1e2"),coinsThisReincarnation:new f("1e2"),coinsTotal:new f("100"),firstOwnedCoin:0,firstGeneratedCoin:new f("0"),firstCostCoin:new f("100"),firstProduceCoin:.25,secondOwnedCoin:0,secondGeneratedCoin:new f("0"),secondCostCoin:new f("1e3"),secondProduceCoin:2.5,thirdOwnedCoin:0,thirdGeneratedCoin:new f("0"),thirdCostCoin:new f("2e4"),thirdProduceCoin:25,fourthOwnedCoin:0,fourthGeneratedCoin:new f("0"),fourthCostCoin:new f("4e5"),fourthProduceCoin:250,fifthOwnedCoin:0,fifthGeneratedCoin:new f("0"),fifthCostCoin:new f("8e6"),fifthProduceCoin:2500,firstOwnedDiamonds:0,firstGeneratedDiamonds:new f("0"),firstCostDiamonds:new f("100"),firstProduceDiamonds:.05,secondOwnedDiamonds:0,secondGeneratedDiamonds:new f("0"),secondCostDiamonds:new f("1e5"),secondProduceDiamonds:5e-4,thirdOwnedDiamonds:0,thirdGeneratedDiamonds:new f("0"),thirdCostDiamonds:new f("1e15"),thirdProduceDiamonds:5e-5,fourthOwnedDiamonds:0,fourthGeneratedDiamonds:new f("0"),fourthCostDiamonds:new f("1e40"),fourthProduceDiamonds:5e-6,fifthOwnedDiamonds:0,fifthGeneratedDiamonds:new f("0"),fifthCostDiamonds:new f("1e100"),fifthProduceDiamonds:5e-6,firstOwnedMythos:0,firstGeneratedMythos:new f("0"),firstCostMythos:new f("1"),firstProduceMythos:1,secondOwnedMythos:0,secondGeneratedMythos:new f("0"),secondCostMythos:new f("100"),secondProduceMythos:.01,thirdOwnedMythos:0,thirdGeneratedMythos:new f("0"),thirdCostMythos:new f("1e4"),thirdProduceMythos:.001,fourthOwnedMythos:0,fourthGeneratedMythos:new f("0"),fourthCostMythos:new f("1e8"),fourthProduceMythos:2e-4,fifthOwnedMythos:0,fifthGeneratedMythos:new f("0"),fifthCostMythos:new f("1e16"),fifthProduceMythos:4e-5,firstOwnedParticles:0,firstGeneratedParticles:new f("0"),firstCostParticles:new f("1"),firstProduceParticles:.25,secondOwnedParticles:0,secondGeneratedParticles:new f("0"),secondCostParticles:new f("100"),secondProduceParticles:.2,thirdOwnedParticles:0,thirdGeneratedParticles:new f("0"),thirdCostParticles:new f("1e4"),thirdProduceParticles:.15,fourthOwnedParticles:0,fourthGeneratedParticles:new f("0"),fourthCostParticles:new f("1e8"),fourthProduceParticles:.1,fifthOwnedParticles:0,fifthGeneratedParticles:new f("0"),fifthCostParticles:new f("1e16"),fifthProduceParticles:.5,firstOwnedAnts:0,firstGeneratedAnts:new f("0"),firstCostAnts:new f("1e700"),firstProduceAnts:1e-4,secondOwnedAnts:0,secondGeneratedAnts:new f("0"),secondCostAnts:new f("3"),secondProduceAnts:5e-5,thirdOwnedAnts:0,thirdGeneratedAnts:new f("0"),thirdCostAnts:new f("100"),thirdProduceAnts:2e-5,fourthOwnedAnts:0,fourthGeneratedAnts:new f("0"),fourthCostAnts:new f("1e4"),fourthProduceAnts:1e-5,fifthOwnedAnts:0,fifthGeneratedAnts:new f("0"),fifthCostAnts:new f("1e12"),fifthProduceAnts:5e-6,sixthOwnedAnts:0,sixthGeneratedAnts:new f("0"),sixthCostAnts:new f("1e36"),sixthProduceAnts:2e-6,seventhOwnedAnts:0,seventhGeneratedAnts:new f("0"),seventhCostAnts:new f("1e100"),seventhProduceAnts:1e-6,eighthOwnedAnts:0,eighthGeneratedAnts:new f("0"),eighthCostAnts:new f("1e300"),eighthProduceAnts:1e-8,ascendBuilding1:{cost:1,owned:0,generated:new f("0"),multiplier:.01},ascendBuilding2:{cost:10,owned:0,generated:new f("0"),multiplier:.01},ascendBuilding3:{cost:100,owned:0,generated:new f("0"),multiplier:.01},ascendBuilding4:{cost:1e3,owned:0,generated:new f("0"),multiplier:.01},ascendBuilding5:{cost:1e4,owned:0,generated:new f("0"),multiplier:.01},multiplierCost:new f("1e4"),multiplierBought:0,acceleratorCost:new f("500"),acceleratorBought:0,acceleratorBoostBought:0,acceleratorBoostCost:new f("1e3"),upgrades:Array(141).fill(0),prestigeCount:0,transcendCount:0,reincarnationCount:0,prestigePoints:new f("0"),transcendPoints:new f("0"),reincarnationPoints:new f("0"),prestigeShards:new f("0"),transcendShards:new f("0"),reincarnationShards:new f("0"),toggles:{1:!1,2:!1,3:!1,4:!1,5:!1,6:!1,7:!1,8:!1,9:!1,10:!1,11:!1,12:!1,13:!1,14:!1,15:!1,16:!1,17:!1,18:!1,19:!1,20:!1,21:!1,22:!1,23:!1,24:!1,25:!1,26:!1,27:!1,28:!0,29:!0,30:!0,31:!0,32:!0,33:!0,34:!0,35:!0,36:!1,37:!1,38:!1,39:!0,40:!0,41:!0,42:!1,43:!1},challengecompletions:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],highestchallengecompletions:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],challenge15Exponent:0,highestChallenge15Exponent:0,retrychallenges:!1,currentChallenge:{transcension:0,reincarnation:0,ascension:0},researchPoints:0,obtainiumtimer:0,obtainiumpersecond:0,maxobtainiumpersecond:0,maxobtainium:0,researches:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],unlocks:{coinone:!1,cointwo:!1,cointhree:!1,coinfour:!1,prestige:!1,generation:!1,transcend:!1,reincarnate:!1,rrow1:!1,rrow2:!1,rrow3:!1,rrow4:!1},achievements:Array(281).fill(0),achievementPoints:0,prestigenomultiplier:!0,prestigenoaccelerator:!0,transcendnomultiplier:!0,transcendnoaccelerator:!0,reincarnatenomultiplier:!0,reincarnatenoaccelerator:!0,prestigenocoinupgrades:!0,transcendnocoinupgrades:!0,transcendnocoinorprestigeupgrades:!0,reincarnatenocoinupgrades:!0,reincarnatenocoinorprestigeupgrades:!0,reincarnatenocoinprestigeortranscendupgrades:!0,reincarnatenocoinprestigetranscendorgeneratorupgrades:!0,crystalUpgrades:[0,0,0,0,0,0,0,0],crystalUpgradesCost:[7,15,20,40,100,200,500,1e3],runelevels:[1,1,1,1,1,0,0],runeexp:[0,0,0,0,0,0,0],runeshards:0,maxofferings:0,offeringpersecond:0,prestigecounter:0,transcendcounter:0,reincarnationcounter:0,offlinetick:0,prestigeamount:0,transcendamount:0,reincarnationamount:0,fastestprestige:9999999999,fastesttranscend:99999999999,fastestreincarnate:999999999999,resettoggle1:1,resettoggle2:1,resettoggle3:1,resettoggle4:1,tesseractAutoBuyerToggle:0,tesseractAutoBuyerAmount:0,coinbuyamount:1,crystalbuyamount:1,mythosbuyamount:1,particlebuyamount:1,offeringbuyamount:1,tesseractbuyamount:1,shoptoggles:{coin:!0,prestige:!0,transcend:!0,generators:!0,reincarnate:!0},tabnumber:1,subtabNumber:0,codes:new Map(Array.from({length:40},(t,n)=>[n+1,!1])),loaded1009:!0,loaded1009hotfix1:!0,loaded10091:!0,loaded1010:!0,loaded10101:!0,shopUpgrades:{offeringPotion:1,obtainiumPotion:1,offeringEX:0,offeringAuto:0,obtainiumEX:0,obtainiumAuto:0,instantChallenge:0,antSpeed:0,cashGrab:0,shopTalisman:0,seasonPass:0,challengeExtension:0,challengeTome:0,cubeToQuark:0,tesseractToQuark:0,hypercubeToQuark:0,seasonPass2:0,seasonPass3:0,chronometer:0,infiniteAscent:0,calculator:0,calculator2:0,calculator3:0,calculator4:0,calculator5:0,calculator6:0,constantEX:0,powderEX:0,chronometer2:0,chronometer3:0,seasonPassY:0,seasonPassZ:0,challengeTome2:0,instantChallenge2:0,cashGrab2:0,chronometerZ:0,cubeToQuarkAll:0,offeringEX2:0,obtainiumEX2:0,seasonPassLost:0,powderAuto:0,challenge15Auto:0,extraWarp:0,autoWarp:0,improveQuarkHept:0,improveQuarkHept2:0,improveQuarkHept3:0,improveQuarkHept4:0,shopImprovedDaily:0,shopImprovedDaily2:0,shopImprovedDaily3:0,shopImprovedDaily4:0,offeringEX3:0,obtainiumEX3:0,improveQuarkHept5:0,seasonPassInfinity:0,chronometerInfinity:0,shopSingularityPenaltyDebuff:0},shopBuyMaxToggle:!1,shopHideToggle:!1,shopConfirmationToggle:!0,autoPotionTimer:0,autoPotionTimerObtainium:0,autoSacrificeToggle:!1,autoBuyFragment:!1,autoFortifyToggle:!1,autoEnhanceToggle:!1,autoResearchToggle:!1,researchBuyMaxToggle:!1,autoResearchMode:"manual",autoResearch:0,autoSacrifice:0,sacrificeTimer:0,quarkstimer:9e4,goldenQuarksTimer:9e4,antPoints:new f("1"),antUpgrades:[0,0,0,0,0,0,0,0,0,0,0,0],antSacrificePoints:0,antSacrificeTimer:900,antSacrificeTimerReal:900,talismanLevels:[0,0,0,0,0,0,0],talismanRarity:[1,1,1,1,1,1,1],talismanOne:[null,-1,1,1,1,-1],talismanTwo:[null,1,1,-1,-1,1],talismanThree:[null,1,-1,1,1,-1],talismanFour:[null,-1,-1,1,1,1],talismanFive:[null,1,1,-1,-1,1],talismanSix:[null,1,1,1,-1,-1],talismanSeven:[null,-1,1,-1,1,1],talismanShards:0,commonFragments:0,uncommonFragments:0,rareFragments:0,epicFragments:0,legendaryFragments:0,mythicalFragments:0,buyTalismanShardPercent:10,autoAntSacrifice:!1,autoAntSacTimer:900,autoAntSacrificeMode:0,antMax:!1,ascensionCount:0,ascensionCounter:0,ascensionCounterReal:0,ascensionCounterRealReal:0,cubeUpgrades:[null,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],cubeUpgradesBuyMaxToggle:!1,autoCubeUpgradesToggle:!1,autoPlatonicUpgradesToggle:!1,platonicUpgrades:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],wowCubes:new ht(0),wowTesseracts:new On(0),wowHypercubes:new Un(0),wowPlatonicCubes:new Bn(0),saveOfferingToggle:!1,wowAbyssals:0,wowOcteracts:0,totalWowOcteracts:0,cubeBlessings:{accelerator:0,multiplier:0,offering:0,runeExp:0,obtainium:0,antSpeed:0,antSacrifice:0,antELO:0,talismanBonus:0,globalSpeed:0},tesseractBlessings:{accelerator:0,multiplier:0,offering:0,runeExp:0,obtainium:0,antSpeed:0,antSacrifice:0,antELO:0,talismanBonus:0,globalSpeed:0},hypercubeBlessings:{accelerator:0,multiplier:0,offering:0,runeExp:0,obtainium:0,antSpeed:0,antSacrifice:0,antELO:0,talismanBonus:0,globalSpeed:0},platonicBlessings:{cubes:0,tesseracts:0,hypercubes:0,platonics:0,hypercubeBonus:0,taxes:0,scoreBonus:0,globalSpeed:0},hepteractCrafts:{chronos:xo,hyperrealism:Mo,quark:So,challenge:To,abyss:ko,accelerator:Po,acceleratorBoost:Lo,multiplier:Eo},ascendShards:new f("0"),autoAscend:!1,autoAscendMode:"c10Completions",autoAscendThreshold:1,autoOpenCubes:!1,openCubes:0,autoOpenTesseracts:!1,openTesseracts:0,autoOpenHypercubes:!1,openHypercubes:0,autoOpenPlatonicsCubes:!1,openPlatonicsCubes:0,roombaResearchIndex:0,ascStatToggles:{1:!1,2:!1,3:!1,4:!1,5:!1,6:!1},prototypeCorruptions:[0,0,0,0,0,0,0,0,0,0,0,0,0],usedCorruptions:[0,0,0,0,0,0,0,0,0,0,0,0,0],corruptionLoadouts:{1:[0,0,0,0,0,0,0,0,0,0,0,0,0],2:[0,0,0,0,0,0,0,0,0,0,0,0,0],3:[0,0,0,0,0,0,0,0,0,0,0,0,0],4:[0,0,0,0,0,0,0,0,0,0,0,0,0],5:[0,0,0,0,0,0,0,0,0,0,0,0,0],6:[0,0,0,0,0,0,0,0,0,0,0,0,0],7:[0,0,0,0,0,0,0,0,0,0,0,0,0],8:[0,0,0,0,0,0,0,0,0,0,0,0,0]},corruptionLoadoutNames:["Loadout 1","Loadout 2","Loadout 3","Loadout 4","Loadout 5","Loadout 6","Loadout 7","Loadout 8"],corruptionShowStats:!0,constantUpgrades:[null,0,0,0,0,0,0,0,0,0,0],history:{ants:[],ascend:[],reset:[],singularity:[]},historyShowPerSecond:!1,autoChallengeRunning:!1,autoChallengeIndex:1,autoChallengeToggles:[!1,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!1,!1,!1,!1,!1],autoChallengeStartExponent:10,autoChallengeTimer:{start:10,exit:2,enter:2},runeBlessingLevels:[0,0,0,0,0,0],runeSpiritLevels:[0,0,0,0,0,0],runeBlessingBuyAmount:0,runeSpiritBuyAmount:0,autoTesseracts:[!1,!1,!1,!1,!1,!1],saveString:"Synergism-$VERSION$-$TIME$.txt",exporttest:!!1,dayCheck:null,dayTimer:0,cubeOpenedDaily:0,cubeQuarkDaily:0,tesseractOpenedDaily:0,tesseractQuarkDaily:0,hypercubeOpenedDaily:0,hypercubeQuarkDaily:0,platonicCubeOpenedDaily:0,platonicCubeQuarkDaily:0,overfluxOrbs:0,overfluxOrbsAutoBuy:!1,overfluxPowder:0,dailyPowderResetUses:1,autoWarpCheck:!1,loadedOct4Hotfix:!1,loadedNov13Vers:!0,loadedDec16Vers:!0,loadedV253:!0,loadedV255:!0,loadedV297Hotfix1:!0,loadedV2927Hotfix1:!0,loadedV2930Hotfix1:!0,loadedV2931Hotfix1:!0,loadedV21003Hotfix1:!0,version:At,rngCode:0,promoCodeTiming:{time:0},singularityCount:0,highestSingularityCount:0,singularityCounter:0,goldenQuarks:0,quarksThisSingularity:0,totalQuarksEver:0,hotkeys:{},theme:"Dark Mode",iconSet:0,notation:"Default",singularityUpgrades:{goldenQuarks1:new G(D.goldenQuarks1,"goldenQuarks1"),goldenQuarks2:new G(D.goldenQuarks2,"goldenQuarks2"),goldenQuarks3:new G(D.goldenQuarks3,"goldenQuarks3"),starterPack:new G(D.starterPack,"starterPack"),wowPass:new G(D.wowPass,"wowPass"),cookies:new G(D.cookies,"cookies"),cookies2:new G(D.cookies2,"cookies2"),cookies3:new G(D.cookies3,"cookies3"),cookies4:new G(D.cookies4,"cookies4"),cookies5:new G(D.cookies5,"cookies5"),ascensions:new G(D.ascensions,"ascensions"),corruptionFourteen:new G(D.corruptionFourteen,"corruptionFourteen"),corruptionFifteen:new G(D.corruptionFifteen,"corruptionFifteen"),singOfferings1:new G(D.singOfferings1,"singOfferings1"),singOfferings2:new G(D.singOfferings2,"singOfferings2"),singOfferings3:new G(D.singOfferings3,"singOfferings3"),singObtainium1:new G(D.singObtainium1,"singObtainium1"),singObtainium2:new G(D.singObtainium2,"singObtainium2"),singObtainium3:new G(D.singObtainium3,"singObtainium3"),singCubes1:new G(D.singCubes1,"singCubes1"),singCubes2:new G(D.singCubes2,"singCubes2"),singCubes3:new G(D.singCubes3,"singCubes3"),singCitadel:new G(D.singCitadel,"singCitadel"),singCitadel2:new G(D.singCitadel2,"singCitadel2"),octeractUnlock:new G(D.octeractUnlock,"octeractUnlock"),singOcteractPatreonBonus:new G(D.singOcteractPatreonBonus,"singOcteractPatreonBonus"),intermediatePack:new G(D.intermediatePack,"intermediatePack"),advancedPack:new G(D.advancedPack,"advancedPack"),expertPack:new G(D.expertPack,"expertPack"),masterPack:new G(D.masterPack,"masterPack"),divinePack:new G(D.divinePack,"divinePack"),wowPass2:new G(D.wowPass2,"wowPass2"),potionBuff:new G(D.potionBuff,"potionBuff"),potionBuff2:new G(D.potionBuff2,"potionBuff2"),potionBuff3:new G(D.potionBuff3,"potionBuff3"),singChallengeExtension:new G(D.singChallengeExtension,"singChallengeExtension"),singChallengeExtension2:new G(D.singChallengeExtension2,"singChallengeExtension2"),singChallengeExtension3:new G(D.singChallengeExtension3,"singChallengeExtension3"),singQuarkImprover1:new G(D.singQuarkImprover1,"singQuarkImprover1"),singQuarkHepteract:new G(D.singQuarkHepteract,"singQuarkHepteract"),singQuarkHepteract2:new G(D.singQuarkHepteract2,"singQuarkHepteract2"),singQuarkHepteract3:new G(D.singQuarkHepteract3,"singQuarkHepteract3"),singOcteractGain:new G(D.singOcteractGain,"singOcteractGain"),singOcteractGain2:new G(D.singOcteractGain2,"singOcteractGain2"),singOcteractGain3:new G(D.singOcteractGain3,"singOcteractGain3"),singOcteractGain4:new G(D.singOcteractGain4,"singOcteractGain4"),singOcteractGain5:new G(D.singOcteractGain5,"singOcteractGain5"),wowPass3:new G(D.wowPass3,"wowPass3"),ultimatePen:new G(D.ultimatePen,"ultimatePen"),platonicTau:new G(D.platonicTau,"platonicTau"),platonicAlpha:new G(D.platonicAlpha,"platonicAlpha"),platonicDelta:new G(D.platonicDelta,"platonicDelta"),platonicPhi:new G(D.platonicPhi,"platonicPhi"),singFastForward:new G(D.singFastForward,"singFastForward"),singFastForward2:new G(D.singFastForward2,"singFastForward2"),singAscensionSpeed:new G(D.singAscensionSpeed,"singAscensionSpeed"),singAscensionSpeed2:new G(D.singAscensionSpeed2,"singAscensionSpeed2"),oneMind:new G(D.oneMind,"oneMind"),wowPass4:new G(D.wowPass4,"wowPass4"),offeringAutomatic:new G(D.offeringAutomatic,"offeringAutomatic"),blueberries:new G(D.blueberries,"blueberries")},octeractUpgrades:{octeractStarter:new Z(K.octeractStarter,"octeractStarter"),octeractGain:new Z(K.octeractGain,"octeractGain"),octeractGain2:new Z(K.octeractGain2,"octeractGain2"),octeractQuarkGain:new Z(K.octeractQuarkGain,"octeractQuarkGain"),octeractQuarkGain2:new Z(K.octeractQuarkGain2,"octeractQuarkGain2"),octeractCorruption:new Z(K.octeractCorruption,"octeractCorruption"),octeractGQCostReduce:new Z(K.octeractGQCostReduce,"octeractGQCostReduce"),octeractExportQuarks:new Z(K.octeractExportQuarks,"octeractExportQuarks"),octeractImprovedDaily:new Z(K.octeractImprovedDaily,"octeractImprovedDaily"),octeractImprovedDaily2:new Z(K.octeractImprovedDaily2,"octeractImprovedDaily2"),octeractImprovedDaily3:new Z(K.octeractImprovedDaily3,"octeractImprovedDaily3"),octeractImprovedQuarkHept:new Z(K.octeractImprovedQuarkHept,"octeractImprovedQuarkHept"),octeractImprovedGlobalSpeed:new Z(K.octeractImprovedGlobalSpeed,"octeractImprovedGlobalSpeed"),octeractImprovedAscensionSpeed:new Z(K.octeractImprovedAscensionSpeed,"octeractImprovedAscensionSpeed"),octeractImprovedAscensionSpeed2:new Z(K.octeractImprovedAscensionSpeed2,"octeractImprovedAscensionSpeed2"),octeractImprovedFree:new Z(K.octeractImprovedFree,"octeractImprovedFree"),octeractImprovedFree2:new Z(K.octeractImprovedFree2,"octeractImprovedFree2"),octeractImprovedFree3:new Z(K.octeractImprovedFree3,"octeractImprovedFree3"),octeractImprovedFree4:new Z(K.octeractImprovedFree4,"octeractImprovedFree4"),octeractSingUpgradeCap:new Z(K.octeractSingUpgradeCap,"octeractSingUpgradeCap"),octeractOfferings1:new Z(K.octeractOfferings1,"octeractOfferings1"),octeractObtainium1:new Z(K.octeractObtainium1,"octeractObtainium1"),octeractAscensions:new Z(K.octeractAscensions,"octeractAscensions"),octeractAscensions2:new Z(K.octeractAscensions2,"octeractAscensions2"),octeractAscensionsOcteractGain:new Z(K.octeractAscensionsOcteractGain,"octeractAscensionsOcteractGain"),octeractFastForward:new Z(K.octeractFastForward,"octeractFastForward"),octeractAutoPotionSpeed:new Z(K.octeractAutoPotionSpeed,"octeractAutoPotionSpeed"),octeractAutoPotionEfficiency:new Z(K.octeractAutoPotionEfficiency,"octeractAutoPotionEfficiency"),octeractOneMindImprover:new Z(K.octeractOneMindImprover,"octeractOneMindImprover"),octeractAmbrosiaLuck:new Z(K.octeractAmbrosiaLuck,"octeractAmbrosiaLuck")},dailyCodeUsed:!1,hepteractAutoCraftPercentage:50,octeractTimer:0,insideSingularityChallenge:!1,singularityChallenges:{noSingularityUpgrades:new Ct(Ze.noSingularityUpgrades,"noSingularityUpgrades"),oneChallengeCap:new Ct(Ze.oneChallengeCap,"oneChallengeCap"),noOcteracts:new Ct(Ze.noOcteracts,"noOcteracts"),limitedAscensions:new Ct(Ze.limitedAscensions,"limitedAscensions")}},ce=Object.assign({},e,{codes:new Map(Array.from({length:44},(t,n)=>[n+1,!1]))}),va={canSave:!0},Bt=async t=>{e.offlinetick=Date.now(),e.loaded1009=!0,e.loaded1009hotfix1=!0;let n=Object.assign({},e,{codes:Array.from(e.codes),worlds:Number(e.worlds),wowCubes:Number(e.wowCubes),wowTesseracts:Number(e.wowTesseracts),wowHypercubes:Number(e.wowHypercubes),wowPlatonicCubes:Number(e.wowPlatonicCubes),singularityUpgrades:Object.fromEntries(Object.entries(e.singularityUpgrades).map(([a,o])=>[a,{level:o.level,goldenQuarksInvested:o.goldenQuarksInvested,toggleBuy:o.toggleBuy,freeLevels:o.freeLevels}])),octeractUpgrades:Object.fromEntries(Object.entries(e.octeractUpgrades).map(([a,o])=>[a,{level:o.level,goldenQuarksInvested:o.octeractsInvested,toggleBuy:o.toggleBuy,freeLevels:o.freeLevels}])),singularityChallenges:Object.fromEntries(Object.entries(e.singularityChallenges).map(([a,o])=>[a,{completions:o.completions,highestSingularityCompleted:o.highestSingularityCompleted,enabled:o.enabled}]))}),r=gr(JSON.stringify(n));if(r!==null){let a=new Blob([r],{type:"text/plain"});if(!va.canSave)return!1;await Ua.default.setItem("Synergysave2",a)}else return await R(p.t("testing.errorSaving")),!1;if(t){let a=i("saveinfo");a.textContent=p.t("testing.gameSaved"),ca(()=>a.textContent="",4e3)}return!0},yp=new Map([["worlds",t=>new mn({quarks:Number(t.worlds)||0})],["wowCubes",t=>new ht(Number(t.wowCubes)||0)],["wowTesseracts",t=>new On(Number(t.wowTesseracts)||0)],["wowHypercubes",t=>new Un(Number(t.wowHypercubes)||0)],["wowPlatonicCubes",t=>new Bn(Number(t.wowPlatonicCubes)||0)]]),Ff=async()=>{var g,d,m;let t=(g=await Ua.default.getItem("Synergysave2"))!=null?g:localStorage.getItem("Synergysave2"),n=typeof t=="string"?t:await(t==null?void 0:t.text()),r=n?JSON.parse(atob(n)):null;if((!1||fo===!1)&&(Object.defineProperties(window,{player:{value:e},G:{value:s},Decimal:{value:f},i18n:{value:p}}),r&&!1&&(r.exporttest=!1)),Object.assign(s,We({},kl)),r){if((r.exporttest===!1||r.exporttest==="NO!")&&!!1)return R(p.t("testing.saveInLive2"));let h=Array.from({length:24},(M,A)=>"offerpromo"+(A+1)+"used"),y=e.codes.size,b=Object.keys(r).filter(M=>M.includes("offerpromo"));if(b.length>0&&b.forEach(M=>{let A=r[M],F=+M.replace(/[^\d]/g,"");e.codes.set(F,Boolean(A))}),Object.keys(r).forEach(M=>{let A=M;if(A in e){if(yp.has(A))return e[A]=yp.get(A)(r);if(Qa(e[A]))return e[A]=new f(r[A]);if(A==="codes"){let F=r[A];if(F!=null)return e.codes=new Map(F)}else{if(h.includes(A))return;if(Array.isArray(r[A])){let F=r[A];if(e[A].length<F.length)return e[A]=F.slice(F.length-e[A].length)}}}else return;return e[A]=r[A]}),r.offerpromo24used!==void 0&&e.codes.set(25,!1),e.codes.size<y)for(let M=e.codes.size+1;M<=y;M++)e.codes.has(M)||e.codes.set(M,!1);if(e.codes.size<y)for(let M=e.codes.size+1;M<=y;M++)e.codes.has(M)||e.codes.set(M,!1);if("rngCode"in r||(e.rngCode=0),(r.loaded1009===void 0||!r.loaded1009)&&(e.loaded1009=!1),(r.loaded1009hotfix1===void 0||!r.loaded1009hotfix1)&&(e.loaded1009hotfix1=!1),r.loaded10091===void 0&&(e.loaded10091=!1),r.loaded1010===void 0&&(e.loaded1010=!1),r.loaded10101===void 0&&(e.loaded10101=!1),r.shopUpgrades===void 0&&(e.shopUpgrades=Object.assign({},ce.shopUpgrades)),typeof e.researches[76]>"u"&&(e.codes.set(13,!1),e.researches.push(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0),e.achievements.push(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0),e.maxofferings=e.runeshards,e.maxobtainium=e.researchPoints,e.researchPoints+=51200*e.researches[50],e.researches[50]=0),e.maxofferings=e.maxofferings||0,e.maxobtainium=e.maxobtainium||0,e.runeshards=e.runeshards||0,e.researchPoints=e.researchPoints||0,(!r.loaded1009||r.loaded1009hotfix1===null||((d=r.shopUpgrades)==null?void 0:d.offeringPotion)===void 0)&&(e.firstOwnedParticles=0,e.secondOwnedParticles=0,e.thirdOwnedParticles=0,e.fourthOwnedParticles=0,e.fifthOwnedParticles=0,e.firstCostParticles=new f("1"),e.secondCostParticles=new f("1e2"),e.thirdCostParticles=new f("1e4"),e.fourthCostParticles=new f("1e8"),e.fifthCostParticles=new f("1e16"),e.autoSacrificeToggle=!1,e.autoResearchToggle=!1,e.autoResearchMode="manual",e.autoResearch=0,e.autoSacrifice=0,e.sacrificeTimer=0,e.loaded1009=!0,e.codes.set(18,!1)),r.loaded1009hotfix1||(e.loaded1009hotfix1=!0,e.codes.set(19,!0),e.firstOwnedParticles=0,e.secondOwnedParticles=0,e.thirdOwnedParticles=0,e.fourthOwnedParticles=0,e.fifthOwnedParticles=0,e.firstCostParticles=new f("1"),e.secondCostParticles=new f("1e2"),e.thirdCostParticles=new f("1e4"),e.fourthCostParticles=new f("1e8"),e.fifthCostParticles=new f("1e16")),(r.loaded10091===void 0||!r.loaded10091||e.researches[86]>100||e.researches[87]>100||e.researches[88]>100||e.researches[89]>100||e.researches[90]>10)&&(e.loaded10091=!0,e.researchPoints+=75e7*e.researches[82],e.researchPoints+=2e8*e.researches[83],e.researchPoints+=45e8*e.researches[84],e.researchPoints+=25e6*e.researches[86],e.researchPoints+=75e6*e.researches[87],e.researchPoints+=3e8*e.researches[88],e.researchPoints+=1e9*e.researches[89],e.researchPoints+=25e6*e.researches[90],e.researchPoints+=1e8*e.researches[91],e.researchPoints+=2e9*e.researches[92],e.researchPoints+=9e9*e.researches[93],e.researchPoints+=725e8*e.researches[94],e.researches[86]=0,e.researches[87]=0,e.researches[88]=0,e.researches[89]=0,e.researches[90]=0,e.researches[91]=0,e.researches[92]=0),(((m=r.achievements)==null?void 0:m[169])===void 0||typeof e.achievements[169]>"u"||r.loaded1010===void 0||r.loaded1010===!1)&&(e.loaded1010=!0,e.codes.set(21,!1),e.firstOwnedAnts=0,e.firstGeneratedAnts=new f("0"),e.firstCostAnts=new f("1e700"),e.firstProduceAnts=1e-4,e.secondOwnedAnts=0,e.secondGeneratedAnts=new f("0"),e.secondCostAnts=new f("3"),e.secondProduceAnts=5e-5,e.thirdOwnedAnts=0,e.thirdGeneratedAnts=new f("0"),e.thirdCostAnts=new f("100"),e.thirdProduceAnts=2e-5,e.fourthOwnedAnts=0,e.fourthGeneratedAnts=new f("0"),e.fourthCostAnts=new f("1e4"),e.fourthProduceAnts=1e-5,e.fifthOwnedAnts=0,e.fifthGeneratedAnts=new f("0"),e.fifthCostAnts=new f("1e12"),e.fifthProduceAnts=5e-6,e.sixthOwnedAnts=0,e.sixthGeneratedAnts=new f("0"),e.sixthCostAnts=new f("1e36"),e.sixthProduceAnts=2e-6,e.seventhOwnedAnts=0,e.seventhGeneratedAnts=new f("0"),e.seventhCostAnts=new f("1e100"),e.seventhProduceAnts=1e-6,e.eighthOwnedAnts=0,e.eighthGeneratedAnts=new f("0"),e.eighthCostAnts=new f("1e300"),e.eighthProduceAnts=1e-8,e.achievements.push(0,0,0,0,0,0,0,0,0,0,0,0,0,0),e.antPoints=new f("1"),e.upgrades[38]=0,e.upgrades[39]=0,e.upgrades[40]=0,e.upgrades[76]=0,e.upgrades[77]=0,e.upgrades[78]=0,e.upgrades[79]=0,e.upgrades[80]=0,e.antUpgrades=[0,0,0,0,0,0,0,0,0,0,0,0],e.unlocks.rrow4=!1,e.researchPoints+=3e7*e.researches[50],e.researchPoints+=2e9*e.researches[96],e.researchPoints+=5e9*e.researches[97],e.researchPoints+=3e10*e.researches[98],e.researches[50]=0,e.researches[96]=0,e.researches[97]=0,e.researches[98]=0,e.researches.push(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0),e.talismanLevels=[0,0,0,0,0,0,0],e.talismanRarity=[1,1,1,1,1,1,1],e.talismanShards=0,e.commonFragments=0,e.uncommonFragments=0,e.rareFragments=0,e.epicFragments=0,e.legendaryFragments=0,e.mythicalFragments=0,e.buyTalismanShardPercent=10,e.talismanOne=[null,-1,1,1,1,-1],e.talismanTwo=[null,1,1,-1,-1,1],e.talismanThree=[null,1,-1,1,1,-1],e.talismanFour=[null,-1,-1,1,1,1],e.talismanFive=[null,1,1,-1,-1,1],e.talismanSix=[null,1,1,1,-1,-1],e.talismanSeven=[null,-1,1,-1,1,1],e.antSacrificePoints=0,e.antSacrificeTimer=0,e.obtainiumpersecond=0,e.maxobtainiumpersecond=0),r.loaded10101===void 0||r.loaded10101===!1){e.loaded10101=!0;let M=[0,31,32,61,62,63,64,76,77,78,79,80,81,98,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,125],A=[0,2,20,5,10,80,5e3,1e7,1e7,2e7,3e7,4e7,2e8,3e10,1e11,1e12,2e11,1e12,2e10,2e11,1e12,2e13,5e13,1e14,2e14,5e14,1e15,2e15,1e16,1e15,1e16,1e14,1e15,1e15,1e20];for(let F=1;F<M.length;F++)e.researchPoints+=e.researches[M[F]]*A[F],e.researches[M[F]]=0;e.autoAntSacrifice=!1,e.antMax=!1}if(e.firstOwnedAnts<1&&e.firstCostAnts.gte("1e1200")&&(e.firstCostAnts=new f("1e700"),e.firstOwnedAnts=0),fp(r),(r.ascensionCount===void 0||e.ascensionCount===0)&&(e.ascensionCount=0,e.ascensionCounter===0&&e.prestigeCount>0&&(e.ascensionCounter=86400*90),e.singularityCount===0&&(e.cubeUpgrades=[...ce.cubeUpgrades]),e.wowCubes=new ht(0),e.wowTesseracts=new On(0),e.wowHypercubes=new Un(0),e.wowPlatonicCubes=new Bn(0),e.cubeBlessings={accelerator:0,multiplier:0,offering:0,runeExp:0,obtainium:0,antSpeed:0,antSacrifice:0,antELO:0,talismanBonus:0,globalSpeed:0}),r.autoAntSacTimer==null&&(e.autoAntSacTimer=900),r.autoAntSacrificeMode===void 0&&(e.autoAntSacrificeMode=0),e.transcendCount<0&&(e.transcendCount=0),e.reincarnationCount<0&&(e.reincarnationCount=0),e.runeshards<0&&(e.runeshards=0),e.researchPoints<0&&(e.researchPoints=0),e.resettoggle1===0&&(e.resettoggle1=1,e.resettoggle2=1,e.resettoggle3=1,e.resettoggle4=1),e.tesseractAutoBuyerToggle===0&&(e.tesseractAutoBuyerToggle=1),e.reincarnationCount<.5&&e.unlocks.rrow4===!0&&(e.unlocks={coinone:!1,cointwo:!1,cointhree:!1,coinfour:!1,prestige:!1,generation:!1,transcend:!1,reincarnate:!1,rrow1:!1,rrow2:!1,rrow3:!1,rrow4:!1}),r.history===void 0)e.history={ants:[],ascend:[],reset:[],singularity:[]};else{let M=Object.keys(ce.history);for(let A of M)A in e.history||(e.history[A]=[])}r.historyShowPerSecond===void 0&&(e.historyShowPerSecond=!1),Number.isInteger(e.ascendBuilding1.cost)||(e.ascendBuilding1.cost=1,e.ascendBuilding1.owned=0,e.ascendBuilding2.cost=10,e.ascendBuilding2.owned=0,e.ascendBuilding3.cost=100,e.ascendBuilding3.owned=0,e.ascendBuilding4.cost=1e3,e.ascendBuilding4.owned=0,e.ascendBuilding5.cost=1e4,e.ascendBuilding5.owned=0),e.dayCheck||(e.dayCheck=new Date),typeof e.dayCheck=="string"&&(e.dayCheck=new Date(e.dayCheck),isNaN(e.dayCheck.getTime())&&(e.dayCheck=new Date));let w=Rn;isNaN(w.getTime())?e.dayCheck.getTime()<16540092e5&&(e.dayCheck=new Date("06/01/2022 00:00:00")):(w=new Date(w.getFullYear(),w.getMonth(),w.getDate()-1),e.dayCheck.getTime()<w.getTime()&&(e.dayCheck=w)),e.dayCheck=new Date(e.dayCheck.getFullYear(),e.dayCheck.getMonth(),e.dayCheck.getDate());let S=tr();e.usedCorruptions=e.usedCorruptions.map((M,A)=>A>=2&&A<=9?Math.min(S*(e.challengecompletions[co(A)]>0?1:0),M):M);for(let M=1;M<=5;M++){let A=`ascendBuilding${M}`;e[A].generated=new f(e[A].generated)}for(;typeof e.achievements[252]>"u";)e.achievements.push(0);for(;typeof e.researches[200]>"u";)e.researches.push(0);for(;typeof e.upgrades[140]>"u";)e.upgrades.push(0);(e.saveString===""||e.saveString==="Synergism-v1011Test.txt")&&(e.saveString=e.singularityCount===0?"Synergism-$VERSION$-$TIME$.txt":"Synergism-$VERSION$-$TIME$-$SING$.txt"),i("saveStringInput").value=Wr(e.saveString);for(let M=1;M<126;M++)ft(M,!0);for(let M=1;M<=200;M++)Tr(M);for(let M=1;M<e.cubeUpgrades.length;M++)lr(M);let k=document.querySelectorAll('img[id^="platUpg"]');for(let M=1;M<=k.length;M++)wa(M);let B=["coin","crystal","mythos","particle","offering","tesseract"];e.coinbuyamount!==1&&e.coinbuyamount!==10&&e.coinbuyamount!==100&&e.coinbuyamount!==1e3&&(e.coinbuyamount=1),e.crystalbuyamount!==1&&e.crystalbuyamount!==10&&e.crystalbuyamount!==100&&e.crystalbuyamount!==1e3&&(e.crystalbuyamount=1),e.mythosbuyamount!==1&&e.mythosbuyamount!==10&&e.mythosbuyamount!==100&&e.mythosbuyamount!==1e3&&(e.mythosbuyamount=1),e.particlebuyamount!==1&&e.particlebuyamount!==10&&e.particlebuyamount!==100&&e.particlebuyamount!==1e3&&(e.particlebuyamount=1),e.offeringbuyamount!==1&&e.offeringbuyamount!==10&&e.offeringbuyamount!==100&&e.offeringbuyamount!==1e3&&(e.offeringbuyamount=1),e.tesseractbuyamount!==1&&e.tesseractbuyamount!==10&&e.tesseractbuyamount!==100&&e.tesseractbuyamount!==1e3&&(e.tesseractbuyamount=1);for(let M=0;M<=5;M++){for(let oe=0;oe<4;oe++){let te;oe===0&&(te="one"),oe===1&&(te="ten"),oe===2&&(te="hundred"),oe===3&&(te="thousand");let ue=B[M]+te;i(ue).style.backgroundColor=""}let A,F=e[`${B[M]}buyamount`];F===1&&(A="one"),F===10&&(A="ten"),F===100&&(A="hundred"),F===1e3&&(A="thousand");let Y=B[M]+A;i(Y).style.backgroundColor="green"}let N=[];for(let M=0;M<s.researchBaseCosts.length;M++)N.push(s.researchBaseCosts[M]);s.researchOrderByCost=Sl(N),e.roombaResearchIndex=0,$n(),ns(),Ft(),Me(),_i(),e.currentChallenge.transcension>0?$e(e.currentChallenge.transcension):e.currentChallenge.reincarnation>0?$e(e.currentChallenge.reincarnation):e.currentChallenge.ascension>0?$e(e.currentChallenge.ascension):$e(1),Pr();let I=Math.min(8,Object.keys(e.corruptionLoadouts).length)+1;for(let M=0;M<I;M++)er(M);Ko(),zs(),i("researchrunebonus").textContent=p.t("runes.thanksResearches",{percent:u(100*s.effectiveLevelMult-100,4,!0)}),i("talismanlevelup").style.display="none",i("talismanrespec").style.display="none",i("antSacrificeSummary").style.display="none",Hn(),uo(),Jn(),Wn(),yt(),Qe(0),Qe(1),Qe(2),Qe(3),Qe(4),Qe(5),Qe(6);for(let M in e.ascStatToggles)on(+M),on(+M);let $=/e\+/,O=e.autoChallengeTimer.start,v=Number(i("startAutoChallengeTimerInput").value);switch((v!==O||isNaN(v+O))&&(i("startAutoChallengeTimerInput").value=(""+(e.autoChallengeTimer.start||ce.autoChallengeTimer.start)).replace($,"e"),Fn(1)),i("startTimerValue").innerHTML=p.t("challenges.timeStartSweep",{time:u(e.autoChallengeTimer.start,2,!0)}),O=e.autoChallengeTimer.exit,v=Number(i("exitAutoChallengeTimerInput").value),(v!==O||isNaN(v+O))&&(i("exitAutoChallengeTimerInput").value=(""+(e.autoChallengeTimer.exit||ce.autoChallengeTimer.exit)).replace($,"e"),Fn(2)),i("exitTimerValue").innerHTML=p.t("challenges.timeExitChallenge",{time:u(e.autoChallengeTimer.exit,2,!0)}),O=e.autoChallengeTimer.enter,v=Number(i("enterAutoChallengeTimerInput").value),(v!==O||isNaN(v+O))&&(i("enterAutoChallengeTimerInput").value=(""+(e.autoChallengeTimer.enter||ce.autoChallengeTimer.enter)).replace($,"e"),Fn(3)),i("enterTimerValue").innerHTML=p.t("challenges.timeEnterChallenge",{time:u(e.autoChallengeTimer.enter,2,!0)}),O=e.prestigeamount,v=Number(i("prestigeamount").value),(v!==O||isNaN(v+O))&&(i("prestigeamount").value=(""+(e.prestigeamount||ce.prestigeamount)).replace($,"e"),Rt(1)),O=e.transcendamount,v=Number(i("transcendamount").value),(v!==O||isNaN(v+O))&&(i("transcendamount").value=(""+(e.transcendamount||ce.transcendamount)).replace($,"e"),Rt(2)),O=e.reincarnationamount,v=Number(i("reincarnationamount").value),(v!==O||isNaN(v+O))&&(i("reincarnationamount").value=(""+(e.reincarnationamount||ce.reincarnationamount)).replace($,"e"),Rt(3)),O=e.autoAscendThreshold,v=Number(i("ascensionAmount").value),(v!==O||isNaN(v+O))&&(i("ascensionAmount").value=(""+(e.autoAscendThreshold||ce.autoAscendThreshold)).replace($,"e"),Rt(4)),O=e.autoAntSacTimer,v=Number(i("autoAntSacrificeAmount").value),(v!==O||isNaN(v+O))&&(i("autoAntSacrificeAmount").value=(""+(e.autoAntSacTimer||ce.autoAntSacTimer)).replace($,"e"),Rt(5)),O=e.tesseractAutoBuyerAmount,v=Number(i("tesseractAmount").value),(v!==O||isNaN(v+O))&&(i("tesseractAmount").value=(""+(e.tesseractAutoBuyerAmount||ce.tesseractAutoBuyerAmount)).replace($,"e"),jo()),O=e.openCubes,v=Number(i("cubeOpensInput").value),(v!==O||isNaN(v+O))&&(i("cubeOpensInput").value=(""+(e.openCubes||ce.openCubes)).replace($,"e"),an(1)),O=e.openTesseracts,v=Number(i("tesseractsOpensInput").value),(v!==O||isNaN(v+O))&&(i("tesseractsOpensInput").value=(""+(e.openTesseracts||ce.openTesseracts)).replace($,"e"),an(2)),O=e.openHypercubes,v=Number(i("hypercubesOpensInput").value),(v!==O||isNaN(v+O))&&(i("hypercubesOpensInput").value=(""+(e.openHypercubes||ce.openHypercubes)).replace($,"e"),an(3)),O=e.openPlatonicsCubes,v=Number(i("platonicCubeOpensInput").value),(v!==O||isNaN(v+O))&&(i("platonicCubeOpensInput").value=(""+(e.openPlatonicsCubes||ce.openPlatonicsCubes)).replace($,"e"),an(4)),O=e.runeBlessingBuyAmount,v=Number(i("buyRuneBlessingInput").value),(v!==O||isNaN(v+O))&&(i("buyRuneBlessingInput").value=(""+(e.runeBlessingBuyAmount||ce.runeBlessingBuyAmount)).replace($,"e"),$r(1)),i("buyRuneBlessingToggle").innerHTML=p.t("runes.blessings.buyUpTo",{amount:u(e.runeBlessingBuyAmount)}),O=e.runeSpiritBuyAmount,v=Number(i("buyRuneSpiritInput").value),(v!==O||isNaN(v+O))&&(i("buyRuneSpiritInput").value=(""+(e.runeSpiritBuyAmount||ce.runeSpiritBuyAmount)).replace($,"e"),$r(2)),i("buyRuneSpiritToggleValue").innerHTML=p.t("runes.spirits.buyUpTo",{amount:u(e.runeSpiritBuyAmount,0,!0)}),e.resettoggle1===1&&(i("prestigeautotoggle").textContent=p.t("toggles.modeAmount")),e.resettoggle2===1&&(i("transcendautotoggle").textContent=p.t("toggles.modeAmount")),e.resettoggle3===1&&(i("reincarnateautotoggle").textContent=p.t("toggles.modeAmount")),e.resettoggle4===1&&(i("tesseractautobuymode").textContent=p.t("toggles.modeAmount")),e.resettoggle1===2&&(i("prestigeautotoggle").textContent=p.t("toggles.modeTime")),e.resettoggle2===2&&(i("transcendautotoggle").textContent=p.t("toggles.modeTime")),e.resettoggle3===2&&(i("reincarnateautotoggle").textContent=p.t("toggles.modeTime")),e.resettoggle4===2&&(i("tesseractautobuymode").textContent=p.t("toggles.modePercentage")),e.tesseractAutoBuyerToggle===1&&(i("tesseractautobuytoggle").textContent=p.t("runes.talismans.autoBuyOn"),i("tesseractautobuytoggle").style.border="2px solid green"),e.tesseractAutoBuyerToggle===2&&(i("tesseractautobuytoggle").textContent=p.t("runes.talismans.autoBuyOff"),i("tesseractautobuytoggle").style.border="2px solid red"),e.autoOpenCubes?(i("openCubes").textContent=p.t("wowCubes.autoOn",{percent:u(e.openCubes,0)}),i("openCubes").style.border="1px solid green",i("cubeOpensInput").style.border="1px solid green"):(i("openCubes").textContent=p.t("wowCubes.autoOff"),i("openCubes").style.border="1px solid red",i("cubeOpensInput").style.border="1px solid red"),e.autoOpenTesseracts?(i("openTesseracts").textContent=p.t("wowCubes.autoOn",{percent:u(e.openTesseracts,0)}),i("openTesseracts").style.border="1px solid green",i("tesseractsOpensInput").style.border="1px solid green"):(i("openTesseracts").textContent=p.t("wowCubes.autoOff"),i("openTesseracts").style.border="1px solid red",i("tesseractsOpensInput").style.border="1px solid red"),e.autoOpenHypercubes?(i("openHypercubes").textContent=p.t("wowCubes.autoOn",{percent:u(e.openHypercubes,0)}),i("openHypercubes").style.border="1px solid green",i("hypercubesOpensInput").style.border="1px solid green"):(i("openHypercubes").textContent=p.t("wowCubes.autoOff"),i("openHypercubes").style.border="1px solid red",i("hypercubesOpensInput").style.border="1px solid red"),e.autoOpenPlatonicsCubes?(i("openPlatonicCube").textContent=p.t("wowCubes.autoOn",{percent:u(e.openPlatonicsCubes,0)}),i("openPlatonicCube").style.border="1px solid green",i("platonicCubeOpensInput").style.border="1px solid green"):(i("openPlatonicCube").textContent=p.t("wowCubes.autoOff"),i("openPlatonicCube").style.border="1px solid red",i("platonicCubeOpensInput").style.border="1px solid red"),e.autoResearchToggle?i("toggleautoresearch").textContent=p.t("researches.automaticOn"):i("toggleautoresearch").textContent=p.t("researches.automaticOff"),e.autoResearchMode==="cheapest"?i("toggleautoresearchmode").textContent=p.t("researches.autoModeCheapest"):i("toggleautoresearchmode").textContent=p.t("researches.autoModeManual"),e.autoSacrificeToggle?(i("toggleautosacrifice").textContent=p.t("runes.blessings.autoRuneOn"),i("toggleautosacrifice").style.border="2px solid green"):(i("toggleautosacrifice").textContent=p.t("runes.blessings.autoRuneOff"),i("toggleautosacrifice").style.border="2px solid red"),e.autoBuyFragment?(i("toggleautoBuyFragments").textContent=p.t("runes.talismans.autoBuyOn"),i("toggleautoBuyFragments").style.border="2px solid white",i("toggleautoBuyFragments").style.color="orange"):(i("toggleautoBuyFragments").textContent=p.t("runes.talismans.autoBuyOff"),i("toggleautoBuyFragments").style.border="2px solid orange",i("toggleautoBuyFragments").style.color="white"),e.autoFortifyToggle?(i("toggleautofortify").textContent=p.t("runes.autoFortifyOn"),i("toggleautofortify").style.border="2px solid green"):(i("toggleautofortify").textContent=p.t("runes.autoFortifyOff"),i("toggleautofortify").style.border="2px solid red"),e.autoEnhanceToggle?(i("toggleautoenhance").textContent=p.t("runes.autoEnhanceOn"),i("toggleautoenhance").style.border="2px solid green"):(i("toggleautoenhance").textContent=p.t("runes.autoEnhanceOff"),i("toggleautoenhance").style.border="2px solid red"),e.saveOfferingToggle=!1,i("saveOffToggle").textContent=p.t("toggles.saveOfferingsOff"),i("saveOffToggle").style.color="white",e.autoAscend?(i("ascensionAutoEnable").textContent=p.t("corruptions.autoAscend.on"),i("ascensionAutoEnable").style.border="2px solid green"):(i("ascensionAutoEnable").textContent=p.t("corruptions.autoAscend.off"),i("ascensionAutoEnable").style.border="2px solid red"),e.shopConfirmationToggle?i("toggleConfirmShop").textContent=p.t("shop.shopConfirmationOn"):i("toggleConfirmShop").textContent=p.t("shop.shopConfirmationOff"),e.shopBuyMaxToggle){case!1:i("toggleBuyMaxShopText").textContent=p.t("shop.buy1");break;case"TEN":i("toggleBuyMaxShopText").textContent=p.t("shop.buy10");break;case!0:i("toggleBuyMaxShopText").textContent=p.t("shop.buyMax");break;case"ANY":i("toggleBuyMaxShopText").textContent=p.t("shop.buyAny")}e.shopHideToggle?i("toggleHideShop").textContent=p.t("shop.hideMaxedOn"):i("toggleHideShop").textContent=p.t("shop.hideMaxedOff"),e.researchBuyMaxToggle?i("toggleresearchbuy").textContent=p.t("researches.upgradeMax"):i("toggleresearchbuy").textContent=p.t("researches.upgradeOne"),e.cubeUpgradesBuyMaxToggle?i("toggleCubeBuy").textContent=p.t("toggles.upgradeMaxIfPossible"):i("toggleCubeBuy").textContent=p.t("toggles.upgradeOneLevelWow"),es(!1),ts(!1);for(let M=1;M<=2;M++)Jo(),Hr(0),Hr(1);for(let M=1;M<=2;M++)Gr(0),Gr(1);i("historyTogglePerSecondButton").textContent="Per second: "+(e.historyShowPerSecond?"ON":"OFF"),i("historyTogglePerSecondButton").style.borderColor=e.historyShowPerSecond?"green":"red",e.autoResearchToggle&&mt()&&e.autoResearchMode==="cheapest"&&(e.autoResearch=s.researchOrderByCost[e.roombaResearchIndex]),e.autoResearch=Math.min(200,e.autoResearch),e.autoSacrifice=Math.min(5,e.autoSacrifice),e.researches[61]===0&&(i("automaticobtainium").textContent=p.t("main.buyResearch3x11")),e.autoSacrificeToggle&&e.autoSacrifice>.5&&(i("rune"+e.autoSacrifice).style.backgroundColor="orange"),e.autoWarpCheck?(i("warpAuto").textContent=p.t("general.autoOnColon"),i("warpAuto").style.border="2px solid green"):(i("warpAuto").textContent=p.t("general.autoOffColon"),i("warpAuto").style.border="2px solid red"),i("autoHepteractPercentage").textContent=p.t("wowCubes.hepteractForge.autoSetting",{x:`${e.hepteractAutoCraftPercentage}`}),i("hepteractToQuarkTradeAuto").textContent=e.overfluxOrbsAutoBuy?p.t("general.autoOnColon"):p.t("general.autoOffColon"),i("hepteractToQuarkTradeAuto").style.border=`2px solid ${e.overfluxOrbsAutoBuy?"green":"red"}`,wo(!0,!0),br(e.buyTalismanShardPercent),gt(),jt(),st(),ke(),Wi(),Tu(),Ii()}$u(),e.currentChallenge.reincarnation?He("reincarnationChallenge"):e.currentChallenge.transcension&&He("transcensionChallenge");let a=new Date,o=a.getHours(),l=a.getMinutes(),c=a.getSeconds();e.dayTimer=60*60*24-(c+60*l+60*60*o)},bp=["","K","M","B","T","Qa","Qt","Sx","Sp","Oc","No","Dc","UDc","DDc","TDc","QaDc","QtDc","SxDc","SpDc","OcDc","NoDc","Vg","UVg","DVg","TVg","QaVg","QtVg","SxVg","SpVg","OcVg","NoVg","Tg","UTg","DTg","TTg","QaTg","QtTg","SxTg","SpTg","OTg","NTg","Qd","UQd","DQd","TQd","QaQd","QtQd","SxQd","SpQd","OcQd","NoQd","Qi","UQi","DQi","TQi","QaQi","QtQi","SxQi","SpQi","OQi","NQi","Se","USe","DSe","TSe","QaSe","QtSe","SxSe","SpSe","OcSe","NoSe","St","USt","DSt","TSt","QaSt","QtSt","SxSt","SpSt","OcSt","NoSt","Ocg","UOcg","DOcg","TOcg","QaOcg","QtOcg","SxOcg","SpOcg","OcOcg","NoOcg","Nono","UNono","DNono","TNono","QaNono","QtNono","SxNono","SpNono","OcNono","NoNono","Ce"],Qf=typeof Intl.NumberFormat.prototype.formatToParts=="function",os=Qf?Intl.NumberFormat().formatToParts(1000.1).filter(t=>t.type==="decimal"||t.type==="group"):null,[{value:_f},{value:qf}]=(os==null?void 0:os.length)!==2?[{value:","},{value:"."}]:os,Yi={minimumFractionDigits:2,maximumFractionDigits:2},zi=(t,n=3)=>{let r=1,a="",o=t.split(".");for(let l=o[0].length-1;l>=0;l--)r++===n&&l!==0?(r=1,a=_f+t[l]+a):a=t[l]+a;return typeof o[1]<"u"&&(a+=qf+o[1]),a|0,a},u=(t,n=0,r=!1,a=!0,o=!1)=>{if(t==null)return"0 [null]";if(typeof t=="object"&&Symbol.toPrimitive in t&&(t=Number(t)),!(t instanceof f)&&typeof t!="number"||isNaN(t))return isNaN(t)?"0 [NaN]":"0 [und.]";if(typeof t=="number"&&e.notation=="Default"&&t<(o?1e-15:.001)&&t>0)return t.toExponential(n);let l,c;if(Qa(t))l=t.e,c=t.mantissa;else if(typeof t=="number"){if(t===0)return"0";l=Math.floor(Math.log10(Math.abs(t))),c=t/Math.pow(10,l)}if(c>9.9999999&&(c=1,++l),c<1&&c>.9999999&&(c=1),l<-15)return"0";if(e.notation=="Pure Engineering"){let g=l%3<0?3+l%3:l%3;l=l-g,c=c*Math.pow(10,g)}if(e.notation=="Pure Scientific"||e.notation=="Pure Engineering"){if(l>=1e6)return Number.isFinite(l)?`E${u(l,3)}`:"Infinity";if(n=l===2&&n>2?2:n,l>=6||l<0){n=n<2?2:n;let d=(Math.floor(c*Math.pow(10,n))/Math.pow(10,n)).toLocaleString(void 0,Yi),m=zi(l.toString());return`${d}e${m}`}return`${(Math.floor(c*Math.pow(10,l)*Math.pow(10,n))/Math.pow(10,n)).toLocaleString(void 0,{minimumFractionDigits:n,maximumFractionDigits:n})}`}if(l<0&&!Qa(t)&&o)return l<=-15?`${u(c,n,r)} / ${Math.pow(10,-l-15)}Qa`:l<=-12?`${u(c,n,r)} / ${Math.pow(10,-l-12)}T`:l<=-9?`${u(c,n,r)} / ${Math.pow(10,-l-9)}B`:l<=-6?`${u(c,n,r)} / ${Math.pow(10,-l-6)}M`:l<=-3?`${u(c,n,r)} / ${Math.pow(10,-l-3)}K`:`${u(c,n,r)} / ${Math.pow(10,-l)}`;if(l<6||r&&l<7){let g=c*Math.pow(10,l),d;return g-Math.floor(g)>.9999999&&(g=Math.ceil(g)),(l<2||r&&l<3)&&n>0?d=g.toFixed(l===2&&n>2?2:n):(g=Math.floor(g),d=g.toString()),zi(d)}else if(l<1e6){let g=(Math.floor(c*100)/100).toLocaleString(void 0,Yi),d=zi(l.toString());return`${g}e${d}`}else if(l>=1e6){if(!Number.isFinite(l))return"Infinity";let g=!1&&a?"":(Math.floor(c*100)/100).toLocaleString(void 0,Yi),d=Math.ceil(Math.log10(l)),m=(d-1)%3+1,h=l/Math.pow(10,d-m);h===1e3&&(h=1,m=1);let y=h.toLocaleString(void 0,{minimumFractionDigits:4-m,maximumFractionDigits:4-m}),b=Math.floor(Math.log10(l)/3);return typeof bp[b]=="string"?`${g}e${y}${bp[b]}`:`e${l.toExponential(2)}`}else return"0 [und.]"},Ut=(t,n)=>(t>=86400?u(Math.floor(t/86400))+"d":"")+(t>=3600?u(Math.floor(t/3600)%24)+"h":"")+(t>=60?u(Math.floor(t/60)%60)+"m":"")+(t>=864e4?"":u(Math.floor(t)%60)+(n&&t<n?"."+Math.floor(t%1*1e3).toString().padStart(3,"0"):"")+"s"),Ns=()=>{let t=0;s.totalAccelerator=e.acceleratorBought,s.costDivisor=1,e.upgrades[8]!==0&&(t+=Math.floor(e.multiplierBought/7)),e.upgrades[21]!==0&&(t+=5),e.upgrades[22]!==0&&(t+=4),e.upgrades[23]!==0&&(t+=3),e.upgrades[24]!==0&&(t+=2),e.upgrades[25]!==0&&(t+=1),e.upgrades[27]!==0&&(t+=Math.min(250,Math.floor(f.log(e.coins.add(1),1e3)))+Math.min(1750,Math.max(0,Math.floor(f.log(e.coins.add(1),1e15))-50))),e.upgrades[29]!==0&&(t+=Math.floor(Math.min(2e3,(e.firstOwnedCoin+e.secondOwnedCoin+e.thirdOwnedCoin+e.fourthOwnedCoin+e.fifthOwnedCoin)/80))),e.upgrades[32]!==0&&(t+=Math.min(500,Math.floor(f.log(e.prestigePoints.add(1),1e25)))),e.upgrades[45]!==0&&(t+=Math.min(2500,Math.floor(f.log(e.transcendShards.add(1),10)))),e.achievements[5]!==0&&(t+=Math.floor(e.firstOwnedCoin/500)),e.achievements[12]!==0&&(t+=Math.floor(e.secondOwnedCoin/500)),e.achievements[19]!==0&&(t+=Math.floor(e.thirdOwnedCoin/500)),e.achievements[26]!==0&&(t+=Math.floor(e.fourthOwnedCoin/500)),e.achievements[33]!==0&&(t+=Math.floor(e.fifthOwnedCoin/500)),e.achievements[60]!==0&&(t+=2),e.achievements[61]!==0&&(t+=2),e.achievements[62]!==0&&(t+=2),t+=5*j("transcend",e.challengecompletions[2]),s.freeUpgradeAccelerator=t,t+=s.totalAcceleratorBoost*(4+2*e.researches[18]+2*e.researches[19]+3*e.researches[20]+s.cubeBonusMultiplier[1]),e.unlocks.prestige===!0&&(t+=Math.floor(Math.pow(s.rune1level*s.effectiveLevelMult/4,1.25)),t*=1+s.rune1level*1/400*s.effectiveLevelMult),Ru(),t*=s.acceleratorMultiplier,t=Math.pow(t,Math.min(1,(1+e.platonicUpgrades[6]/30)*s.viscosityPower[e.usedCorruptions[2]])),t+=2e3*Ae("accelerator"),t*=s.challenge15Rewards.accelerator,t*=1+3/1e4*Ae("accelerator"),t=Math.floor(Math.min(1e100,t)),e.usedCorruptions[2]>=15&&(t=Math.pow(t,.2)),e.usedCorruptions[2]>=16&&(t=1),s.freeAccelerator=t,s.totalAccelerator+=s.freeAccelerator,s.tuSevenMulti=1,e.upgrades[46]>.5&&(s.tuSevenMulti=1.05),s.acceleratorPower=Math.pow(1.1+s.tuSevenMulti*(s.totalAcceleratorBoost/100)*(1+j("transcend",e.challengecompletions[2])/20),1+.04*j("reincarnation",e.challengecompletions[7])),s.acceleratorPower+=1/200*Math.floor(j("transcend",e.challengecompletions[2])/2)*100/100;for(let n=1;n<=5;n++)e.achievements[7*n-4]>0&&(s.acceleratorPower+=5e-4*n);e.currentChallenge.reincarnation!==7&&e.currentChallenge.reincarnation!==10&&(e.currentChallenge.transcension===1&&(s.acceleratorPower*=25/(50+e.challengecompletions[1]),s.acceleratorPower+=.55,s.acceleratorPower=Math.max(1,s.acceleratorPower)),e.currentChallenge.transcension===2&&(s.acceleratorPower=1),e.currentChallenge.transcension===3&&(s.acceleratorPower=1.05+2*s.tuSevenMulti*(s.totalAcceleratorBoost/300)*(1+j("transcend",e.challengecompletions[2])/20))),s.acceleratorPower=Math.min(1e300,s.acceleratorPower),e.currentChallenge.reincarnation===7&&(s.acceleratorPower=1),e.currentChallenge.reincarnation===10&&(s.acceleratorPower=1),e.currentChallenge.transcension!==1&&(s.acceleratorEffect=f.pow(s.acceleratorPower,s.totalAccelerator)),e.currentChallenge.transcension===1&&(s.acceleratorEffect=f.pow(s.acceleratorPower,s.totalAccelerator+s.totalMultiplier)),s.acceleratorEffectDisplay=new f(s.acceleratorPower*100-100),e.currentChallenge.reincarnation===10&&(s.acceleratorEffect=new f(1)),s.generatorPower=new f(1),e.upgrades[11]>.5&&e.currentChallenge.reincarnation!==7&&(s.generatorPower=f.pow(1.02,s.totalAccelerator))},Ds=()=>{let t=0;e.upgrades[7]>0&&(t+=Math.min(4,1+Math.floor(f.log(e.fifthOwnedCoin+1,10)))),e.upgrades[9]>0&&(t+=Math.floor(e.acceleratorBought/10)),e.upgrades[21]>0&&(t+=1),e.upgrades[22]>0&&(t+=1),e.upgrades[23]>0&&(t+=1),e.upgrades[24]>0&&(t+=1),e.upgrades[25]>0&&(t+=1),e.upgrades[28]>0&&(t+=Math.min(1e3,Math.floor((e.firstOwnedCoin+e.secondOwnedCoin+e.thirdOwnedCoin+e.fourthOwnedCoin+e.fifthOwnedCoin)/160))),e.upgrades[30]>0&&(t+=Math.min(75,Math.floor(f.log(e.coins.add(1),1e10)))+Math.min(925,Math.floor(f.log(e.coins.add(1),1e30)))),e.upgrades[33]>0&&(t+=s.totalAcceleratorBoost),e.upgrades[49]>0&&(t+=Math.min(50,Math.floor(f.log(e.transcendPoints.add(1),1e10)))),e.upgrades[68]>0&&(t+=Math.min(2500,Math.floor(f.log(s.taxdivisor,10)*1/1e3))),e.challengecompletions[1]>0&&(t+=1),e.achievements[6]>.5&&(t+=Math.floor(e.firstOwnedCoin/1e3)),e.achievements[13]>.5&&(t+=Math.floor(e.secondOwnedCoin/1e3)),e.achievements[20]>.5&&(t+=Math.floor(e.thirdOwnedCoin/1e3)),e.achievements[27]>.5&&(t+=Math.floor(e.fourthOwnedCoin/1e3)),e.achievements[34]>.5&&(t+=Math.floor(e.fifthOwnedCoin/1e3)),e.achievements[57]>.5&&(t+=1),e.achievements[58]>.5&&(t+=1),e.achievements[59]>.5&&(t+=1),t+=20*e.researches[94]*Math.floor((s.rune1level+s.rune2level+s.rune3level+s.rune4level+s.rune5level)/8),s.freeUpgradeMultiplier=Math.min(1e100,t),e.achievements[38]>.5&&(t+=Math.floor(Math.floor(s.rune2level/10*s.effectiveLevelMult)*Math.floor(1+s.rune2level/10*s.effectiveLevelMult)/2)*100/100),t*=1+e.achievements[57]/100,t*=1+e.achievements[58]/100,t*=1+e.achievements[59]/100,t*=Math.pow(1.01,e.upgrades[21]+e.upgrades[22]+e.upgrades[23]+e.upgrades[24]+e.upgrades[25]),t*=1+.03*e.upgrades[34]+.02*e.upgrades[35],t*=1+1/5*e.researches[2]*(1+1/2*j("ascension",e.challengecompletions[14])),t*=1+1/20*e.researches[11]+1/25*e.researches[12]+1/40*e.researches[13]+3/200*e.researches[14]+1/200*e.researches[15],t*=1+s.rune2level/400*s.effectiveLevelMult,t*=1+1/20*e.researches[87],t*=1+1/100*e.researches[128],t*=1+.8/100*e.researches[143],t*=1+.6/100*e.researches[158],t*=1+.4/100*e.researches[173],t*=1+.2/100*e.researches[188],t*=1+.01/100*e.researches[200],t*=1+.01/100*e.cubeUpgrades[50],t*=lt(40,(e.antUpgrades[4]+s.bonusant5)/1e3*40/39),t*=s.cubeBonusMultiplier[2],(e.currentChallenge.transcension!==0||e.currentChallenge.reincarnation!==0)&&e.upgrades[50]>.5&&(t*=1.25),t=Math.pow(t,Math.min(1,(1+e.platonicUpgrades[6]/30)*s.viscosityPower[e.usedCorruptions[2]])),t+=1e3*Ae("multiplier"),t*=s.challenge15Rewards.multiplier,t*=1+3/1e4*Ae("multiplier"),t=Math.floor(Math.min(1e100,t)),e.usedCorruptions[2]>=15&&(t=Math.pow(t,.2)),e.usedCorruptions[2]>=16&&(t=1),s.freeMultiplier=t,s.totalMultiplier=s.freeMultiplier+e.multiplierBought,s.challengeOneLog=3;let n=0,r=0;n+=f.log(e.transcendShards.add(1),3),n*=1+11*e.researches[33]/100,n*=1+11*e.researches[34]/100,n*=1+11*e.researches[35]/100,n*=1+e.researches[89]/5,n*=1+10*s.effectiveRuneBlessingPower[2],r+=Math.floor(.1*n*j("transcend",e.challengecompletions[1])),r+=j("transcend",e.challengecompletions[1])*10,s.freeMultiplierBoost=r,s.totalMultiplierBoost=Math.pow(Math.floor(n)+r,1+j("reincarnation",e.challengecompletions[7])*.04);let a=1;e.challengecompletions[7]>.5&&(a=1.25),s.multiplierPower=2+.005*s.totalMultiplierBoost*a,e.currentChallenge.reincarnation!==7&&e.currentChallenge.reincarnation!==10&&(e.currentChallenge.transcension===1&&(s.multiplierPower=1),e.currentChallenge.transcension===2&&(s.multiplierPower=1.25+.0012*(n+r)*a)),s.multiplierPower=Math.min(1e300,s.multiplierPower),e.currentChallenge.reincarnation===7&&(s.multiplierPower=1),e.currentChallenge.reincarnation===10&&(s.multiplierPower=1),s.multiplierEffect=f.pow(s.multiplierPower,s.totalMultiplier)},jf=()=>{let t=new f(1),n=new f(1),r=1/3;r+=Math.min(10+.05*e.researches[129]*Math.log(e.commonFragments+1)/Math.log(4)+20*_e()/400*s.effectiveRuneSpiritPower[3],.05*e.crystalUpgrades[3]),r+=.04*j("transcend",e.challengecompletions[3]),r+=.08*e.researches[28],r+=.08*e.researches[29],r+=.04*e.researches[30],r+=8*e.cubeUpgrades[17],s.prestigeMultiplier=f.pow(e.prestigeShards,r).add(1);let a=1;e.currentChallenge.reincarnation===7&&(a=.05),e.currentChallenge.reincarnation===8&&(a=0),s.buildingPower=1+(1-Math.pow(2,-1/160))*a*f.log(e.reincarnationShards.add(1),10)*(1+1/20*e.researches[36]+1/40*e.researches[37]+1/40*e.researches[38])+(a+.2)*.25/1.2*j("reincarnation",e.challengecompletions[8]),s.buildingPower=Math.pow(s.buildingPower,1+e.cubeUpgrades[12]*.09),s.buildingPower=Math.pow(s.buildingPower,1+e.cubeUpgrades[36]*.05),s.reincarnationMultiplier=f.pow(s.buildingPower,s.totalCoinOwned),s.antMultiplier=f.pow(f.max(1,e.antPoints),Js()),t=t.times(s.multiplierEffect),t=t.times(s.acceleratorEffect),t=t.times(s.prestigeMultiplier),t=t.times(s.reincarnationMultiplier),t=t.times(s.antMultiplier);let o=new f(s.totalCoinOwned+1).times(f.min(1e30,f.pow(1.008,s.totalCoinOwned)));e.highestSingularityCount>0&&(t=t.times(Math.pow(e.goldenQuarks+1,1.5)*Math.pow(e.highestSingularityCount+1,2))),e.upgrades[6]>.5&&(t=t.times(o)),e.upgrades[12]>.5&&(t=t.times(f.min(1e4,f.pow(1.01,e.prestigeCount)))),e.upgrades[20]>.5&&(t=t.times(f.pow(s.totalCoinOwned/4+1,10))),e.upgrades[41]>.5&&(t=t.times(f.min(1e30,f.pow(e.transcendPoints.add(1),1/2)))),e.upgrades[43]>.5&&(t=t.times(f.min(1e30,f.pow(1.01,e.transcendCount)))),e.upgrades[48]>.5&&(t=t.times(f.pow(s.totalMultiplier*s.totalAccelerator/1e3+1,8))),e.currentChallenge.reincarnation===6&&(t=t.dividedBy(1e250)),e.currentChallenge.reincarnation===7&&(t=t.dividedBy("1e1250")),e.currentChallenge.reincarnation===9&&(t=t.dividedBy("1e2000000")),e.currentChallenge.reincarnation===10&&(t=t.dividedBy("1e12500000")),n=f.pow(t,1+.001*e.researches[17]);let l=f.pow(n,1+.025*e.upgrades[123]);e.currentChallenge.ascension===15&&e.platonicUpgrades[5]>0&&(l=f.pow(l,1.1)),e.currentChallenge.ascension===15&&e.platonicUpgrades[14]>0&&(l=f.pow(l,1+1/20*e.usedCorruptions[9]*f.log(e.coins.add(1),10)/(1e7+f.log(e.coins.add(1),10)))),e.currentChallenge.ascension===15&&e.platonicUpgrades[15]>0&&(l=f.pow(l,1.1)),l=f.pow(l,s.challenge15Rewards.coinExponent),s.globalCoinMultiplier=l,s.globalCoinMultiplier=f.pow(s.globalCoinMultiplier,s.financialcollapsePower[e.usedCorruptions[9]]),s.coinOneMulti=new f(1),e.upgrades[1]>.5&&(s.coinOneMulti=s.coinOneMulti.times(o)),e.upgrades[10]>.5&&(s.coinOneMulti=s.coinOneMulti.times(f.pow(2,Math.min(50,e.secondOwnedCoin/15)))),e.upgrades[56]>.5&&(s.coinOneMulti=s.coinOneMulti.times("1e5000")),s.coinTwoMulti=new f(1),e.upgrades[2]>.5&&(s.coinTwoMulti=s.coinTwoMulti.times(o)),e.upgrades[13]>.5&&(s.coinTwoMulti=s.coinTwoMulti.times(f.min(1e50,f.pow(e.firstGeneratedMythos.add(e.firstOwnedMythos).add(1),4/3).times(1e10)))),e.upgrades[19]>.5&&(s.coinTwoMulti=s.coinTwoMulti.times(f.min(1e200,e.transcendPoints.times(1e30).add(1)))),e.upgrades[57]>.5&&(s.coinTwoMulti=s.coinTwoMulti.times("1e7500")),s.coinThreeMulti=new f(1),e.upgrades[3]>.5&&(s.coinThreeMulti=s.coinThreeMulti.times(o)),e.upgrades[18]>.5&&(s.coinThreeMulti=s.coinThreeMulti.times(f.min(1e125,e.transcendShards.add(1)))),e.upgrades[58]>.5&&(s.coinThreeMulti=s.coinThreeMulti.times("1e15000")),s.coinFourMulti=new f(1),e.upgrades[4]>.5&&(s.coinFourMulti=s.coinFourMulti.times(o)),e.upgrades[17]>.5&&(s.coinFourMulti=s.coinFourMulti.times(1e100)),e.upgrades[59]>.5&&(s.coinFourMulti=s.coinFourMulti.times("1e25000")),s.coinFiveMulti=new f(1),e.upgrades[5]>.5&&(s.coinFiveMulti=s.coinFiveMulti.times(o)),e.upgrades[60]>.5&&(s.coinFiveMulti=s.coinFiveMulti.times("1e35000")),s.globalCrystalMultiplier=new f(1),e.achievements[36]>.5&&(s.globalCrystalMultiplier=s.globalCrystalMultiplier.times(2)),e.achievements[37]>.5&&e.prestigePoints.gte(10)&&(s.globalCrystalMultiplier=s.globalCrystalMultiplier.times(f.log(e.prestigePoints.add(1),10))),e.achievements[44]>.5&&(s.globalCrystalMultiplier=s.globalCrystalMultiplier.times(f.pow(s.rune3level/2*s.effectiveLevelMult,2).times(f.pow(2,s.rune3level*s.effectiveLevelMult/2-8)).add(1))),e.upgrades[36]>.5&&(s.globalCrystalMultiplier=s.globalCrystalMultiplier.times(f.min("1e5000",f.pow(e.prestigePoints,1/500)))),e.upgrades[63]>.5&&(s.globalCrystalMultiplier=s.globalCrystalMultiplier.times(f.min("1e6000",f.pow(e.reincarnationPoints.add(1),6)))),e.researches[39]>.5&&(s.globalCrystalMultiplier=s.globalCrystalMultiplier.times(f.pow(s.reincarnationMultiplier,1/50))),s.globalCrystalMultiplier=s.globalCrystalMultiplier.times(f.min(f.pow(10,50+2*e.crystalUpgrades[0]),f.pow(1.05,e.achievementPoints*e.crystalUpgrades[0]))),s.globalCrystalMultiplier=s.globalCrystalMultiplier.times(f.min(f.pow(10,100+5*e.crystalUpgrades[1]),f.pow(f.log(e.coins.add(1),10),e.crystalUpgrades[1]/3))),s.globalCrystalMultiplier=s.globalCrystalMultiplier.times(f.pow(1+Math.min(.12+.88*e.upgrades[122]+.001*e.researches[129]*Math.log(e.commonFragments+1)/Math.log(4),.001*e.crystalUpgrades[2]),e.firstOwnedDiamonds+e.secondOwnedDiamonds+e.thirdOwnedDiamonds+e.fourthOwnedDiamonds+e.fifthOwnedDiamonds)),s.globalCrystalMultiplier=s.globalCrystalMultiplier.times(f.pow(1.01,(e.challengecompletions[1]+e.challengecompletions[2]+e.challengecompletions[3]+e.challengecompletions[4]+e.challengecompletions[5])*e.crystalUpgrades[4])),s.globalCrystalMultiplier=s.globalCrystalMultiplier.times(f.pow(10,j("transcend",e.challengecompletions[5]))),s.globalCrystalMultiplier=s.globalCrystalMultiplier.times(f.pow(1e4,e.researches[5]*(1+1/2*j("ascension",e.challengecompletions[14])))),s.globalCrystalMultiplier=s.globalCrystalMultiplier.times(f.pow(2.5,e.researches[26])),s.globalCrystalMultiplier=s.globalCrystalMultiplier.times(f.pow(2.5,e.researches[27])),s.globalMythosMultiplier=new f(1),e.upgrades[37]>.5&&(s.globalMythosMultiplier=s.globalMythosMultiplier.times(f.pow(f.log(e.prestigePoints.add(10),10),2))),e.upgrades[42]>.5&&(s.globalMythosMultiplier=s.globalMythosMultiplier.times(f.min(1e50,f.pow(e.prestigePoints.add(1),1/50).dividedBy(2.5).add(1)))),e.upgrades[47]>.5&&(s.globalMythosMultiplier=s.globalMythosMultiplier.times(f.pow(1.05,e.achievementPoints)).times(e.achievementPoints+1)),e.upgrades[51]>.5&&(s.globalMythosMultiplier=s.globalMythosMultiplier.times(f.pow(s.totalAcceleratorBoost,2))),e.upgrades[52]>.5&&(s.globalMythosMultiplier=s.globalMythosMultiplier.times(f.pow(s.globalMythosMultiplier,.025))),e.upgrades[64]>.5&&(s.globalMythosMultiplier=s.globalMythosMultiplier.times(f.pow(e.reincarnationPoints.add(1),2))),e.researches[40]>.5&&(s.globalMythosMultiplier=s.globalMythosMultiplier.times(f.pow(s.reincarnationMultiplier,1/250))),s.grandmasterMultiplier=new f(1),s.totalMythosOwned=e.firstOwnedMythos+e.secondOwnedMythos+e.thirdOwnedMythos+e.fourthOwnedMythos+e.fifthOwnedMythos,s.mythosBuildingPower=1+j("transcend",e.challengecompletions[3])/200,s.challengeThreeMultiplier=f.pow(s.mythosBuildingPower,s.totalMythosOwned),s.grandmasterMultiplier=s.grandmasterMultiplier.times(s.challengeThreeMultiplier),s.mythosupgrade13=new f(1),s.mythosupgrade14=new f(1),s.mythosupgrade15=new f(1),e.upgrades[53]===1&&(s.mythosupgrade13=s.mythosupgrade13.times(f.min("1e1250",f.pow(s.acceleratorEffect,1/125)))),e.upgrades[54]===1&&(s.mythosupgrade14=s.mythosupgrade14.times(f.min("1e2000",f.pow(s.multiplierEffect,1/180)))),e.upgrades[55]===1&&(s.mythosupgrade15=s.mythosupgrade15.times(f.pow("1e1000",Math.min(1e3,s.buildingPower-1)))),s.globalConstantMult=new f("1"),s.globalConstantMult=s.globalConstantMult.times(f.pow(1.05+.01*e.achievements[270]+.001*e.platonicUpgrades[18],e.constantUpgrades[1])),s.globalConstantMult=s.globalConstantMult.times(f.pow(1+.001*Math.min(100+10*e.achievements[270]+10*e.shopUpgrades.constantEX+1e3*(s.challenge15Rewards.exponent-1)+3*e.platonicUpgrades[18],e.constantUpgrades[2]),Qs())),s.globalConstantMult=s.globalConstantMult.times(1+2/100*e.researches[139]),s.globalConstantMult=s.globalConstantMult.times(1+3/100*e.researches[154]),s.globalConstantMult=s.globalConstantMult.times(1+4/100*e.researches[169]),s.globalConstantMult=s.globalConstantMult.times(1+5/100*e.researches[184]),s.globalConstantMult=s.globalConstantMult.times(1+10/100*e.researches[199]),s.globalConstantMult=s.globalConstantMult.times(s.challenge15Rewards.constantBonus),e.platonicUpgrades[5]>0&&(s.globalConstantMult=s.globalConstantMult.times(2)),e.platonicUpgrades[10]>0&&(s.globalConstantMult=s.globalConstantMult.times(10)),e.platonicUpgrades[15]>0&&(s.globalConstantMult=s.globalConstantMult.times(1e250)),s.globalConstantMult=s.globalConstantMult.times(f.pow(e.overfluxPowder+1,10*e.platonicUpgrades[16]))},Fi=t=>{if(Uu(),Bu(),Ns(),Ds(),jf(),up(),s.produceTotal.gte(.001)){let l=f.min(s.produceTotal.dividedBy(s.taxdivisor),f.pow(10,s.maxexponent-f.log(s.taxdivisorcheck,10))).times(t/.025);e.coins=e.coins.add(l),e.coinsThisPrestige=e.coinsThisPrestige.add(l),e.coinsThisTranscension=e.coinsThisTranscension.add(l),e.coinsThisReincarnation=e.coinsThisReincarnation.add(l),e.coinsTotal=e.coinsTotal.add(l)}Xf(),e.upgrades[93]===1&&e.coinsThisPrestige.gte(1e16)&&(e.prestigePoints=e.prestigePoints.add(f.floor(s.prestigePointGain.dividedBy(4e3).times(t/.025)))),e.upgrades[100]===1&&e.coinsThisTranscension.gte(1e100)&&(e.transcendPoints=e.transcendPoints.add(f.floor(s.transcendPointGain.dividedBy(4e3).times(t/.025)))),e.cubeUpgrades[28]>0&&e.transcendShards.gte(1e300)&&(e.reincarnationPoints=e.reincarnationPoints.add(f.floor(s.reincarnationPointGain.dividedBy(4e3).times(t/.025)))),s.produceFirstDiamonds=e.firstGeneratedDiamonds.add(e.firstOwnedDiamonds).times(e.firstProduceDiamonds).times(s.globalCrystalMultiplier),s.produceSecondDiamonds=e.secondGeneratedDiamonds.add(e.secondOwnedDiamonds).times(e.secondProduceDiamonds).times(s.globalCrystalMultiplier),s.produceThirdDiamonds=e.thirdGeneratedDiamonds.add(e.thirdOwnedDiamonds).times(e.thirdProduceDiamonds).times(s.globalCrystalMultiplier),s.produceFourthDiamonds=e.fourthGeneratedDiamonds.add(e.fourthOwnedDiamonds).times(e.fourthProduceDiamonds).times(s.globalCrystalMultiplier),s.produceFifthDiamonds=e.fifthGeneratedDiamonds.add(e.fifthOwnedDiamonds).times(e.fifthProduceDiamonds).times(s.globalCrystalMultiplier),e.fourthGeneratedDiamonds=e.fourthGeneratedDiamonds.add(s.produceFifthDiamonds.times(t/.025)),e.thirdGeneratedDiamonds=e.thirdGeneratedDiamonds.add(s.produceFourthDiamonds.times(t/.025)),e.secondGeneratedDiamonds=e.secondGeneratedDiamonds.add(s.produceThirdDiamonds.times(t/.025)),e.firstGeneratedDiamonds=e.firstGeneratedDiamonds.add(s.produceSecondDiamonds.times(t/.025)),s.produceDiamonds=s.produceFirstDiamonds,e.currentChallenge.transcension!==3&&e.currentChallenge.reincarnation!==10&&(e.prestigeShards=e.prestigeShards.add(s.produceDiamonds.times(t/.025))),s.produceFifthMythos=e.fifthGeneratedMythos.add(e.fifthOwnedMythos).times(e.fifthProduceMythos).times(s.globalMythosMultiplier).times(s.grandmasterMultiplier).times(s.mythosupgrade15),s.produceFourthMythos=e.fourthGeneratedMythos.add(e.fourthOwnedMythos).times(e.fourthProduceMythos).times(s.globalMythosMultiplier),s.produceThirdMythos=e.thirdGeneratedMythos.add(e.thirdOwnedMythos).times(e.thirdProduceMythos).times(s.globalMythosMultiplier).times(s.mythosupgrade14),s.produceSecondMythos=e.secondGeneratedMythos.add(e.secondOwnedMythos).times(e.secondProduceMythos).times(s.globalMythosMultiplier),s.produceFirstMythos=e.firstGeneratedMythos.add(e.firstOwnedMythos).times(e.firstProduceMythos).times(s.globalMythosMultiplier).times(s.mythosupgrade13),e.fourthGeneratedMythos=e.fourthGeneratedMythos.add(s.produceFifthMythos.times(t/.025)),e.thirdGeneratedMythos=e.thirdGeneratedMythos.add(s.produceFourthMythos.times(t/.025)),e.secondGeneratedMythos=e.secondGeneratedMythos.add(s.produceThirdMythos.times(t/.025)),e.firstGeneratedMythos=e.firstGeneratedMythos.add(s.produceSecondMythos.times(t/.025)),s.produceMythos=new f("0"),s.produceMythos=e.firstGeneratedMythos.add(e.firstOwnedMythos).times(e.firstProduceMythos).times(s.globalMythosMultiplier).times(s.mythosupgrade13),s.producePerSecondMythos=s.produceMythos.times(40);let n=new f("1");e.upgrades[67]>.5&&(n=n.times(f.pow(1.03,e.firstOwnedParticles+e.secondOwnedParticles+e.thirdOwnedParticles+e.fourthOwnedParticles+e.fifthOwnedParticles))),s.produceFifthParticles=e.fifthGeneratedParticles.add(e.fifthOwnedParticles).times(e.fifthProduceParticles),s.produceFourthParticles=e.fourthGeneratedParticles.add(e.fourthOwnedParticles).times(e.fourthProduceParticles),s.produceThirdParticles=e.thirdGeneratedParticles.add(e.thirdOwnedParticles).times(e.thirdProduceParticles),s.produceSecondParticles=e.secondGeneratedParticles.add(e.secondOwnedParticles).times(e.secondProduceParticles),s.produceFirstParticles=e.firstGeneratedParticles.add(e.firstOwnedParticles).times(e.firstProduceParticles).times(n),e.fourthGeneratedParticles=e.fourthGeneratedParticles.add(s.produceFifthParticles.times(t/.025)),e.thirdGeneratedParticles=e.thirdGeneratedParticles.add(s.produceFourthParticles.times(t/.025)),e.secondGeneratedParticles=e.secondGeneratedParticles.add(s.produceThirdParticles.times(t/.025)),e.firstGeneratedParticles=e.firstGeneratedParticles.add(s.produceSecondParticles.times(t/.025)),s.produceParticles=new f("0"),s.produceParticles=e.firstGeneratedParticles.add(e.firstOwnedParticles).times(e.firstProduceParticles).times(n),s.producePerSecondParticles=s.produceParticles.times(40),e.currentChallenge.transcension!==3&&e.currentChallenge.reincarnation!==10&&(e.transcendShards=e.transcendShards.add(s.produceMythos.times(t/.025))),e.currentChallenge.reincarnation!==10&&(e.reincarnationShards=e.reincarnationShards.add(s.produceParticles.times(t/.025))),Wf(t);for(let l=1;l<=5;l++)if(s.ascendBuildingProduction[s.ordinals[5-l]]=e[`ascendBuilding${6-l}`].generated.add(e[`ascendBuilding${6-l}`].owned).times(e[`ascendBuilding${l}`].multiplier).times(s.globalConstantMult),l!==5){let c=5-l;e[`ascendBuilding${c}`].generated=e[`ascendBuilding${c}`].generated.add(s.ascendBuildingProduction[s.ordinals[c]].times(t))}e.ascendShards=e.ascendShards.add(s.ascendBuildingProduction.first.times(t)),e.ascensionCount>0&&yr(2),e.researches[71]>.5&&e.challengecompletions[1]<Math.min(e.highestchallengecompletions[1],25+5*e.researches[66]+925*e.researches[105])&&e.coins.gte(f.pow(10,1.25*s.challengeBaseRequirements[0]*Math.pow(1+e.challengecompletions[1],2)))&&(e.challengecompletions[1]+=1,kt(1,!0),Xt(1)),e.researches[72]>.5&&e.challengecompletions[2]<Math.min(e.highestchallengecompletions[2],25+5*e.researches[67]+925*e.researches[105])&&e.coins.gte(f.pow(10,1.6*s.challengeBaseRequirements[1]*Math.pow(1+e.challengecompletions[2],2)))&&(e.challengecompletions[2]+=1,kt(2,!0),Xt(2)),e.researches[73]>.5&&e.challengecompletions[3]<Math.min(e.highestchallengecompletions[3],25+5*e.researches[68]+925*e.researches[105])&&e.coins.gte(f.pow(10,1.7*s.challengeBaseRequirements[2]*Math.pow(1+e.challengecompletions[3],2)))&&(e.challengecompletions[3]+=1,kt(3,!0),Xt(3)),e.researches[74]>.5&&e.challengecompletions[4]<Math.min(e.highestchallengecompletions[4],25+5*e.researches[69]+925*e.researches[105])&&e.coins.gte(f.pow(10,1.45*s.challengeBaseRequirements[3]*Math.pow(1+e.challengecompletions[4],2)))&&(e.challengecompletions[4]+=1,kt(4,!0),Xt(4)),e.researches[75]>.5&&e.challengecompletions[5]<Math.min(e.highestchallengecompletions[5],25+5*e.researches[70]+925*e.researches[105])&&e.coins.gte(f.pow(10,2*s.challengeBaseRequirements[4]*Math.pow(1+e.challengecompletions[5],2)))&&(e.challengecompletions[5]+=1,kt(5,!0),Xt(5));let r=e.currentChallenge.transcension,a=e.currentChallenge.reincarnation,o=e.currentChallenge.ascension;r!==0&&e.coinsThisTranscension.gte(rt(r,e.challengecompletions[r],r))&&(de("transcensionChallenge",!1),s.autoChallengeTimerIncrement=0),a<9&&a!==0&&e.transcendShards.gte(rt(a,e.challengecompletions[a],a))&&(de("reincarnationChallenge",!1),s.autoChallengeTimerIncrement=0),a>=9&&e.coins.gte(rt(a,e.challengecompletions[a],a))&&(de("reincarnationChallenge",!1),s.autoChallengeTimerIncrement=0),o!==0&&o<15&&e.challengecompletions[10]>=rt(o,e.challengecompletions[o],o)&&(de("ascensionChallenge",!1),kt(o,!0)),o===15&&e.coins.gte(rt(o,e.challengecompletions[o],o))&&de("ascensionChallenge",!1)},Vf=()=>{s.globalAntMult=new f(10),s.globalAntMult=s.globalAntMult.times(5),s.globalAntMult=s.globalAntMult.times(1+1/2500*Math.pow(s.rune5level*s.effectiveLevelMult*(1+e.researches[84]/200*(1+1*s.effectiveRuneSpiritPower[5]*_e()/400)),2)),e.upgrades[76]===1&&(s.globalAntMult=s.globalAntMult.times(5)),s.globalAntMult=s.globalAntMult.times(f.pow(1+e.upgrades[77]/250+e.researches[96]/5e3+e.cubeUpgrades[65]/250,e.firstOwnedAnts+e.secondOwnedAnts+e.thirdOwnedAnts+e.fourthOwnedAnts+e.fifthOwnedAnts+e.sixthOwnedAnts+e.seventhOwnedAnts+e.eighthOwnedAnts)),s.globalAntMult=s.globalAntMult.times(1+e.upgrades[78]*.005*Math.pow(Math.log10(e.maxofferings+1),2)),s.globalAntMult=s.globalAntMult.times(f.pow(1.11+e.researches[101]/1e3+e.researches[162]/1e4,e.antUpgrades[0]+s.bonusant1)),s.globalAntMult=s.globalAntMult.times(In(e.antSacrificePoints)),s.globalAntMult=s.globalAntMult.times(f.pow(Math.max(1,e.researchPoints),s.effectiveRuneBlessingPower[5])),s.globalAntMult=s.globalAntMult.times(f.pow(1+s.runeSum/100,s.talisman6Power)),s.globalAntMult=s.globalAntMult.times(f.pow(1.1,j("reincarnation",e.challengecompletions[9]))),s.globalAntMult=s.globalAntMult.times(s.cubeBonusMultiplier[6]),e.achievements[169]===1&&(s.globalAntMult=s.globalAntMult.times(f.log(e.antPoints.add(10),10))),e.achievements[171]===1&&(s.globalAntMult=s.globalAntMult.times(1.16666)),e.achievements[172]===1&&(s.globalAntMult=s.globalAntMult.times(1+2*(1-Math.pow(2,-Math.min(1,e.reincarnationcounter/7200))))),e.upgrades[39]===1&&(s.globalAntMult=s.globalAntMult.times(1.6)),s.globalAntMult=s.globalAntMult.times(f.pow(1+.1*f.log(e.ascendShards.add(1),10),e.constantUpgrades[5])),s.globalAntMult=s.globalAntMult.times(f.pow(1e5,j("ascension",e.challengecompletions[11]))),e.researches[147]>0&&(s.globalAntMult=s.globalAntMult.times(f.log(e.antPoints.add(10),10))),e.researches[177]>0&&(s.globalAntMult=s.globalAntMult.times(f.pow(f.log(e.antPoints.add(10),10),e.researches[177]))),e.currentChallenge.ascension===12&&(s.globalAntMult=f.pow(s.globalAntMult,.5)),e.currentChallenge.ascension===13&&(s.globalAntMult=f.pow(s.globalAntMult,.23)),e.currentChallenge.ascension===14&&(s.globalAntMult=f.pow(s.globalAntMult,.2)),e.currentChallenge.ascension!==15?s.globalAntMult=f.pow(s.globalAntMult,1-.9/90*Math.min(99,le(e.usedCorruptions))):s.globalAntMult=f.pow(s.globalAntMult,.01),s.globalAntMult=f.pow(s.globalAntMult,s.extinctionMultiplier[e.usedCorruptions[7]]),s.globalAntMult=s.globalAntMult.times(s.challenge15Rewards.antSpeed),s.globalAntMult=s.globalAntMult.times(f.pow(1.2,e.shopUpgrades.antSpeed)),e.platonicUpgrades[12]>0&&(s.globalAntMult=s.globalAntMult.times(f.pow(1+1/100*e.platonicUpgrades[12],le(e.highestchallengecompletions)))),e.currentChallenge.ascension===15&&e.platonicUpgrades[10]>0&&(s.globalAntMult=f.pow(s.globalAntMult,1.25)),e.achievements[274]>0&&(s.globalAntMult=s.globalAntMult.times(4.44)),e.usedCorruptions[7]>=14&&(s.globalAntMult=f.pow(s.globalAntMult,.02)),e.usedCorruptions[7]>=15&&(s.globalAntMult=f.pow(s.globalAntMult,.02)),e.usedCorruptions[7]>=16&&(s.globalAntMult=f.pow(s.globalAntMult,.02)),e.octeractUpgrades.octeractStarter.getEffect().bonus&&(s.globalAntMult=s.globalAntMult.times(1e5)),e.highestSingularityCount>=30&&(s.globalAntMult=s.globalAntMult.times(1e3)),e.highestSingularityCount>=70&&(s.globalAntMult=s.globalAntMult.times(1e3)),e.highestSingularityCount>=100&&(s.globalAntMult=s.globalAntMult.times(1e6))},Wf=t=>{Vf(),s.antEightProduce=e.eighthGeneratedAnts.add(e.eighthOwnedAnts).times(e.eighthProduceAnts).times(s.globalAntMult),s.antSevenProduce=e.seventhGeneratedAnts.add(e.seventhOwnedAnts).times(e.seventhProduceAnts).times(s.globalAntMult),s.antSixProduce=e.sixthGeneratedAnts.add(e.sixthOwnedAnts).times(e.sixthProduceAnts).times(s.globalAntMult),s.antFiveProduce=e.fifthGeneratedAnts.add(e.fifthOwnedAnts).times(e.fifthProduceAnts).times(s.globalAntMult),s.antFourProduce=e.fourthGeneratedAnts.add(e.fourthOwnedAnts).times(e.fourthProduceAnts).times(s.globalAntMult),s.antThreeProduce=e.thirdGeneratedAnts.add(e.thirdOwnedAnts).times(e.thirdProduceAnts).times(s.globalAntMult),s.antTwoProduce=e.secondGeneratedAnts.add(e.secondOwnedAnts).times(e.secondProduceAnts).times(s.globalAntMult),s.antOneProduce=e.firstGeneratedAnts.add(e.firstOwnedAnts).times(e.firstProduceAnts).times(s.globalAntMult),e.seventhGeneratedAnts=e.seventhGeneratedAnts.add(s.antEightProduce.times(t/1)),e.sixthGeneratedAnts=e.sixthGeneratedAnts.add(s.antSevenProduce.times(t/1)),e.fifthGeneratedAnts=e.fifthGeneratedAnts.add(s.antSixProduce.times(t/1)),e.fourthGeneratedAnts=e.fourthGeneratedAnts.add(s.antFiveProduce.times(t/1)),e.thirdGeneratedAnts=e.thirdGeneratedAnts.add(s.antFourProduce.times(t/1)),e.secondGeneratedAnts=e.secondGeneratedAnts.add(s.antThreeProduce.times(t/1)),e.firstGeneratedAnts=e.firstGeneratedAnts.add(s.antTwoProduce.times(t/1)),e.antPoints=e.antPoints.add(s.antOneProduce.times(t/1))},Xf=()=>{let t=.5+j("transcend",e.challengecompletions[5])/100,n=.03;e.currentChallenge.transcension===5&&(t=.01/(1+e.challengecompletions[5]),n=.001),e.currentChallenge.reincarnation===10&&(t=1e-4/(1+e.challengecompletions[10]),n=.001),t*=s.deflationMultiplier[e.usedCorruptions[6]],s.prestigePointGain=f.floor(f.pow(e.coinsThisPrestige.dividedBy(1e12),t)),e.upgrades[16]>.5&&e.currentChallenge.transcension!==5&&e.currentChallenge.reincarnation!==10&&(s.prestigePointGain=s.prestigePointGain.times(f.min(f.pow(10,1e33),f.pow(s.acceleratorEffect,1/3*s.deflationMultiplier[e.usedCorruptions[6]])))),s.transcendPointGain=f.floor(f.pow(e.coinsThisTranscension.dividedBy(1e100),n)),e.upgrades[44]>.5&&e.currentChallenge.transcension!==5&&e.currentChallenge.reincarnation!==10&&(s.transcendPointGain=s.transcendPointGain.times(f.min(1e6,f.pow(1.01,e.transcendCount)))),s.reincarnationPointGain=f.floor(f.pow(e.transcendShards.dividedBy(1e300),.01)),e.currentChallenge.reincarnation!==0&&(s.reincarnationPointGain=f.pow(s.reincarnationPointGain,.01)),e.achievements[50]===1&&(s.reincarnationPointGain=s.reincarnationPointGain.times(2)),e.upgrades[65]>.5&&(s.reincarnationPointGain=s.reincarnationPointGain.times(5)),e.currentChallenge.ascension===12&&(s.reincarnationPointGain=new f("0"))},de=async(t,n=!0,r=!1)=>{if(t==="prestige"&&(e.coinsThisPrestige.gte(1e16)||s.prestigePointGain.gte(100))&&(n?ss("prestige"):(Ke(1),be("prestige"))),t==="transcension"&&(e.coinsThisTranscension.gte(1e100)||s.transcendPointGain.gte(.5))&&e.currentChallenge.transcension===0&&(n&&ss("transcend"),n||(Ke(2),be("transcension"))),t==="transcensionChallenge"&&e.currentChallenge.transcension!==0){let a=e.currentChallenge.transcension,o=Ee(a),l=c=>e.coinsThisTranscension.gte(rt(a,c,a));if(l(e.challengecompletions[a])&&e.challengecompletions[a]<o){let c=1;e.shopUpgrades.instantChallenge>0&&(c=10),e.shopUpgrades.instantChallenge2>0&&(c+=e.highestSingularityCount),e.currentChallenge.ascension===13&&(c=1);let g=0,d=e.challengecompletions[a];for(;g<c;)l(d)&&d<o&&d++,g++;e.challengecompletions[a]=d,$e(a,!1),Xt(a)}if(e.challengecompletions[a]>e.highestchallengecompletions[a]){for(;e.challengecompletions[a]>e.highestchallengecompletions[a];)e.highestchallengecompletions[a]+=1,ji(a,e.highestchallengecompletions[a]);yt()}kt(a),(!e.retrychallenges||n||e.autoChallengeRunning&&e.challengecompletions[a]>=o)&&(It("ENTER"),e.currentChallenge.transcension=0,Ft()),(e.shopUpgrades.instantChallenge===0||r)&&(be("transcensionChallenge",!1,"leaveChallenge"),e.transcendCount-=1)}if(t==="reincarnation"&&s.reincarnationPointGain.gt(.5)&&e.currentChallenge.transcension===0&&e.currentChallenge.reincarnation===0&&(n&&ss("reincarnate"),n||(Ke(3),be("reincarnation"))),t==="reincarnationChallenge"&&e.currentChallenge.reincarnation!==0){let a=e.currentChallenge.reincarnation,o=Ee(a),l=c=>a<=8?e.transcendShards.gte(rt(a,c,a)):e.coins.gte(rt(a,c,a));if(l(e.challengecompletions[a])&&e.challengecompletions[a]<o){let c=1;e.shopUpgrades.instantChallenge>0&&(c=10),e.shopUpgrades.instantChallenge2>0&&(c+=e.highestSingularityCount),e.currentChallenge.ascension===13&&(c=1);let g=0,d=e.challengecompletions[a];for(;g<c;)l(d)&&d<o&&d++,g++;e.challengecompletions[a]=d,$e(a,!1),Xt(a)}if(e.challengecompletions[a]>e.highestchallengecompletions[a]){for(;e.challengecompletions[a]>e.highestchallengecompletions[a];)e.highestchallengecompletions[a]+=1,ji(a,e.highestchallengecompletions[a]);Jn(),Wn(),yt()}if(kt(a),!e.retrychallenges||n||e.autoChallengeRunning&&e.challengecompletions[a]>=o){if(It("ENTER"),e.currentChallenge.reincarnation=0,e.shopUpgrades.instantChallenge>0)for(let c=1;c<=5;c++)e.challengecompletions[c]=e.highestchallengecompletions[c];Ft(),ke(),st()}(e.shopUpgrades.instantChallenge===0||r)&&(be("reincarnationChallenge",!1,"leaveChallenge"),e.reincarnationCount-=1)}if(t==="ascension"&&e.achievements[141]>0&&(e.toggles[31]===!1||e.challengecompletions[10]>0)&&n&&ss("ascend"),t==="ascensionChallenge"&&e.currentChallenge.ascension!==0){let a=!0;if(n&&(e.challengecompletions[11]===0||e.toggles[31])&&(a=await me(p.t("main.exitAscensionChallenge"))),!a)return;let o=e.currentChallenge.ascension,l=Ee(o);if(o!==0&&o<15&&(e.challengecompletions[10]>=rt(o,e.challengecompletions[o],o)&&e.challengecompletions[o]<l&&(e.challengecompletions[o]+=1,Xt(o),$e(o,!1)),kt(o,!0)),o===15){let c=da();e.coins.gte(rt(o,e.challengecompletions[o],o))&&e.challengecompletions[o]<l&&(e.challengecompletions[o]+=1,Xt(o),$e(o,!1)),(n||r||e.shopUpgrades.challenge15Auto>0)&&e.usedCorruptions.slice(2,10).every(g=>g===11)&&e.coins.gte(f.pow(10,e.challenge15Exponent/c))&&(e.challenge15Exponent=f.log(e.coins.add(1),10)*c,Hn())}e.challengecompletions[o]>e.highestchallengecompletions[o]&&(e.highestchallengecompletions[o]+=1,e.wowHypercubes.add(1),e.highestchallengecompletions[o]>=l&&(r=!0)),(!e.retrychallenges||n||r)&&(!n&&(Aa()||!e.autoChallengeRunning)&&e.autoAscend&&e.challengecompletions[11]>0&&e.cubeUpgrades[10]>0||(e.currentChallenge.ascension=0,Ft())),(e.shopUpgrades.instantChallenge2===0&&o!==15||n)&&be("ascensionChallenge",!1)}if(t==="singularity"){if(e.runelevels[6]===0)return R(p.t("main.noAntiquity"));let a=300;if(e.insideSingularityChallenge)return R(p.t("main.insideSingularityChallenge"));if(e.singularityCount>=a)return R(p.t("main.gameBeat"));let o=!1,l=e.singularityCount+1+Zn();return!e.toggles[33]&&e.singularityCount>0?o=await me(p.t("main.singularityConfirm0",{x:u(l),y:u(vt(),2,!0)})):(await R(p.t("main.singularityMessage1",{x:u(e.singularityCount)})),await R(p.t("main.singularityMessage2")),await R(p.t("main.singularityMessage3")),await R(p.t("main.singularityMessage4",{x:u(l),y:u(vt(),2,!0),z:u(e.worlds.BONUS)})),await R(p.t("main.singularityMessage5")),o=await me(p.t("main.singularityConfirm1")),o&&(o=await me(p.t("main.singularityConfirm2"))),o&&(o=await me(p.t("main.singularityConfirm3")))),o?(await Ir(),await Bt(),R(p.t("main.welcomeToSingularity",{x:u(e.singularityCount)}))):R(p.t("main.singularityCancelled"))}},ss=async t=>{t==="prestige"&&(e.toggles[28]===!0?await me(p.t("main.prestigePrompt"))===!0&&(Ke(1),be("prestige")):(Ke(1),be("prestige"))),t==="transcend"&&(e.toggles[29]===!0?await me(p.t("main.transcendPrompt"))===!0&&(Ke(2),be("transcension")):(Ke(2),be("transcension"))),t==="reincarnate"&&e.currentChallenge.ascension!==12&&(e.toggles[30]===!0?await me(p.t("main.reincarnatePrompt"))===!0&&(Ke(3),be("reincarnation")):(Ke(3),be("reincarnation"))),t==="ascend"&&(!e.toggles[31]||await me(p.t("main.ascendPrompt")))&&be("ascension")},xa=()=>{s.uFourteenMulti=new f(1),s.uFifteenMulti=new f(1),e.upgrades[14]>.5&&(s.uFourteenMulti=f.pow(1.15,s.freeAccelerator)),e.upgrades[15]>.5&&(s.uFifteenMulti=f.pow(1.15,s.freeAccelerator)),e.unlocks.coinone===!1&&e.coins.gte(500)&&(e.unlocks.coinone=!0,Me()),e.unlocks.cointwo===!1&&e.coins.gte(1e4)&&(e.unlocks.cointwo=!0,Me()),e.unlocks.cointhree===!1&&e.coins.gte(1e5)&&(e.unlocks.cointhree=!0,Me()),e.unlocks.coinfour===!1&&e.coins.gte(4e6)&&(e.unlocks.coinfour=!0,Me()),e.achievements[169]===0&&e.antPoints.gte(3)&&H(169),e.achievements[170]===0&&e.antPoints.gte(1e5)&&H(170),e.achievements[171]===0&&e.antPoints.gte(666666666)&&H(171),e.achievements[172]===0&&e.antPoints.gte(1e20)&&H(172),e.achievements[173]===0&&e.antPoints.gte(1e40)&&H(173),e.achievements[174]===0&&e.antPoints.gte("1e500")&&H(174),e.achievements[175]===0&&e.antPoints.gte("1e2500")&&H(175),e.researches[200]>=1e5&&e.achievements[250]<1&&H(250),e.cubeUpgrades[50]>=1e5&&e.achievements[251]<1&&H(251),yc(),e.toggles[1]===!0&&e.upgrades[81]===1&&e.coins.gte(e.firstCostCoin)&&qe(1,"Coin"),e.toggles[2]===!0&&e.upgrades[82]===1&&e.coins.gte(e.secondCostCoin)&&qe(2,"Coin"),e.toggles[3]===!0&&e.upgrades[83]===1&&e.coins.gte(e.thirdCostCoin)&&qe(3,"Coin"),e.toggles[4]===!0&&e.upgrades[84]===1&&e.coins.gte(e.fourthCostCoin)&&qe(4,"Coin"),e.toggles[5]===!0&&e.upgrades[85]===1&&e.coins.gte(e.fifthCostCoin)&&qe(5,"Coin"),e.toggles[6]===!0&&e.upgrades[86]===1&&e.coins.gte(e.acceleratorCost)&&vr(!0),e.toggles[7]===!0&&e.upgrades[87]===1&&e.coins.gte(e.multiplierCost)&&Cr(!0),e.toggles[8]===!0&&e.upgrades[88]===1&&e.prestigePoints.gte(e.acceleratorBoostCost)&&Yn(!0),e.toggles[10]===!0&&e.achievements[78]===1&&e.prestigePoints.gte(e.firstCostDiamonds)&&qe(1,"Diamonds"),e.toggles[11]===!0&&e.achievements[85]===1&&e.prestigePoints.gte(e.secondCostDiamonds)&&qe(2,"Diamonds"),e.toggles[12]===!0&&e.achievements[92]===1&&e.prestigePoints.gte(e.thirdCostDiamonds)&&qe(3,"Diamonds"),e.toggles[13]===!0&&e.achievements[99]===1&&e.prestigePoints.gte(e.fourthCostDiamonds)&&qe(4,"Diamonds"),e.toggles[14]===!0&&e.achievements[106]===1&&e.prestigePoints.gte(e.fifthCostDiamonds)&&qe(5,"Diamonds");let t=0;if(t+=Math.floor(s.rune3level/16*s.effectiveLevelMult)*100/100,e.upgrades[73]>.5&&e.currentChallenge.reincarnation!==0&&(t+=10),e.achievements[79]>.5&&e.prestigeShards.gte(f.pow(10,s.crystalUpgradesCost[0]+s.crystalUpgradeCostIncrement[0]*Math.floor(Math.pow(e.crystalUpgrades[0]-.5-t,2)/2)))&&dt(1,!0),e.achievements[86]>.5&&e.prestigeShards.gte(f.pow(10,s.crystalUpgradesCost[1]+s.crystalUpgradeCostIncrement[1]*Math.floor(Math.pow(e.crystalUpgrades[1]-.5-t,2)/2)))&&dt(2,!0),e.achievements[93]>.5&&e.prestigeShards.gte(f.pow(10,s.crystalUpgradesCost[2]+s.crystalUpgradeCostIncrement[2]*Math.floor(Math.pow(e.crystalUpgrades[2]-.5-t,2)/2)))&&dt(3,!0),e.achievements[100]>.5&&e.prestigeShards.gte(f.pow(10,s.crystalUpgradesCost[3]+s.crystalUpgradeCostIncrement[3]*Math.floor(Math.pow(e.crystalUpgrades[3]-.5-t,2)/2)))&&dt(4,!0),e.achievements[107]>.5&&e.prestigeShards.gte(f.pow(10,s.crystalUpgradesCost[4]+s.crystalUpgradeCostIncrement[4]*Math.floor(Math.pow(e.crystalUpgrades[4]-.5-t,2)/2)))&&dt(5,!0),e.toggles[16]===!0&&e.upgrades[94]===1&&e.transcendPoints.gte(e.firstCostMythos)&&qe(1,"Mythos"),e.toggles[17]===!0&&e.upgrades[95]===1&&e.transcendPoints.gte(e.secondCostMythos)&&qe(2,"Mythos"),e.toggles[18]===!0&&e.upgrades[96]===1&&e.transcendPoints.gte(e.thirdCostMythos)&&qe(3,"Mythos"),e.toggles[19]===!0&&e.upgrades[97]===1&&e.transcendPoints.gte(e.fourthCostMythos)&&qe(4,"Mythos"),e.toggles[20]===!0&&e.upgrades[98]===1&&e.transcendPoints.gte(e.fifthCostMythos)&&qe(5,"Mythos"),e.toggles[22]===!0&&e.cubeUpgrades[7]===1&&e.reincarnationPoints.gte(e.firstCostParticles)&&dn(1,!0),e.toggles[23]===!0&&e.cubeUpgrades[7]===1&&e.reincarnationPoints.gte(e.secondCostParticles)&&dn(2,!0),e.toggles[24]===!0&&e.cubeUpgrades[7]===1&&e.reincarnationPoints.gte(e.thirdCostParticles)&&dn(3,!0),e.toggles[25]===!0&&e.cubeUpgrades[7]===1&&e.reincarnationPoints.gte(e.fourthCostParticles)&&dn(4,!0),e.toggles[26]===!0&&e.cubeUpgrades[7]===1&&e.reincarnationPoints.gte(e.fifthCostParticles)&&dn(5,!0),e.researches[175]>0)for(let c=1;c<=10;c++)e.ascendShards.gte(aa(c).pop())&&oa(c,!0);if(e.researches[190]>0&&e.tesseractAutoBuyerToggle===1&&e.resettoggle4<2){let c=[null,null,null,null,null];for(let m=1;m<=5;m++)e.autoTesseracts[m]&&(c[m-1]=e[`ascendBuilding${m}`].owned);let g=Number(e.wowTesseracts)-e.tesseractAutoBuyerAmount,d=no(c,g);for(let m=5;m>=1;m--){let h=c[m-1],y=d[m-1];h!==null&&y!==null&&y!==h&&zn(m,y-h)}}if(e.researches[130]>0||e.researches[135]>0){let c=[e.achievements[119]>0,e.achievements[126]>0,e.achievements[133]>0,e.achievements[140]>0,e.achievements[147]>0,e.antUpgrades[11]>0||e.ascensionCount>0,e.shopUpgrades.shopTalisman>0],g=!1;if(e.autoEnhanceToggle&&e.researches[135]>0)for(let d=0;d<c.length;++d)c[d]&&e.talismanRarity[d]<6&&(g=eo(d,!0)||g);if(e.autoFortifyToggle&&e.researches[130]>0)for(let d=0;d<c.length;++d){let m=Zr(d);c[d]&&e.talismanLevels[d]<m&&(g=Ja(d,!0)||g)}g&&(gt(),ke())}e.upgrades[101]>.5&&(e.fourthGeneratedCoin=e.fourthGeneratedCoin.add(e.fifthGeneratedCoin.add(e.fifthOwnedCoin).times(s.uFifteenMulti).times(s.generatorPower))),e.upgrades[102]>.5&&(e.thirdGeneratedCoin=e.thirdGeneratedCoin.add(e.fourthGeneratedCoin.add(e.fourthOwnedCoin).times(s.uFourteenMulti).times(s.generatorPower))),e.upgrades[103]>.5&&(e.secondGeneratedCoin=e.secondGeneratedCoin.add(e.thirdGeneratedCoin.add(e.thirdOwnedCoin).times(s.generatorPower))),e.upgrades[104]>.5&&(e.firstGeneratedCoin=e.firstGeneratedCoin.add(e.secondGeneratedCoin.add(e.secondOwnedCoin).times(s.generatorPower))),e.upgrades[105]>.5&&(e.fifthGeneratedCoin=e.fifthGeneratedCoin.add(e.firstOwnedCoin));let n=1;n+=1/100*(e.achievements[71]+e.achievements[72]+e.achievements[73]+e.achievements[74]+e.achievements[75]+e.achievements[76]+e.achievements[77]);let r=0;e.upgrades[106]>.5&&(r+=.1),e.upgrades[107]>.5&&(r+=.15),e.upgrades[108]>.5&&(r+=.25),e.upgrades[109]>.5&&(r+=.25),e.upgrades[110]>.5&&(r+=.25),r*=n;let a=0;if(e.upgrades[111]>.5&&(a+=.08),e.upgrades[112]>.5&&(a+=.08),e.upgrades[113]>.5&&(a+=.08),e.upgrades[114]>.5&&(a+=.08),e.upgrades[115]>.5&&(a+=.08),a*=n,t=0,e.upgrades[116]>.5&&(t+=.05),e.upgrades[117]>.5&&(t+=.05),e.upgrades[118]>.5&&(t+=.05),e.upgrades[119]>.5&&(t+=.05),e.upgrades[120]>.5&&(t+=.05),t*=n,r!==0&&(e.fifthGeneratedCoin=e.fifthGeneratedCoin.add(f.pow(e.firstGeneratedDiamonds.add(e.firstOwnedDiamonds).add(1),r))),a!==0&&(e.fifthGeneratedDiamonds=e.fifthGeneratedDiamonds.add(f.pow(e.firstGeneratedMythos.add(e.firstOwnedMythos).add(1),a))),t!==0&&(e.fifthGeneratedMythos=e.fifthGeneratedMythos.add(f.pow(e.firstGeneratedParticles.add(e.firstOwnedParticles).add(1),t))),e.runeshards>e.maxofferings&&(e.maxofferings=e.runeshards),e.researchPoints>e.maxobtainium&&(e.maxobtainium=e.researchPoints),isNaN(e.runeshards)&&(e.runeshards=0),e.runeshards>1e300&&(e.runeshards=1e300),isNaN(e.researchPoints)&&(e.researchPoints=0),e.researchPoints>1e300&&(e.researchPoints=1e300),s.effectiveLevelMult=1,s.effectiveLevelMult*=1+e.researches[4]/10*(1+1/2*j("ascension",e.challengecompletions[14])),s.effectiveLevelMult*=1+e.researches[21]/100,s.effectiveLevelMult*=1+e.researches[90]/100,s.effectiveLevelMult*=1+e.researches[131]/200,s.effectiveLevelMult*=1+e.researches[161]/200*3/5,s.effectiveLevelMult*=1+e.researches[176]/200*2/5,s.effectiveLevelMult*=1+e.researches[191]/200*1/5,s.effectiveLevelMult*=1+e.researches[146]/200*4/5,s.effectiveLevelMult*=1+.01*Math.log(e.talismanShards+1)/Math.log(4)*Math.min(1,e.constantUpgrades[9]),s.effectiveLevelMult*=s.challenge15Rewards.runeBonus,s.optimalOfferingTimer=600+30*e.researches[85]+.4*s.rune5level+120*e.shopUpgrades.offeringEX,s.optimalObtainiumTimer=3600+120*e.shopUpgrades.obtainiumEX,jc(),e.autoAscend&&e.challengecompletions[11]>0&&e.cubeUpgrades[10]>0&&e.currentChallenge.reincarnation!==10){let c=!1;if(e.autoAscendMode==="c10Completions"&&e.challengecompletions[10]>=Math.max(1,e.autoAscendThreshold)&&(c=!0),e.autoAscendMode==="realAscensionTime"&&e.ascensionCounterRealReal>=Math.max(.1,e.autoAscendThreshold)&&(c=!0),c===!0&&e.challengecompletions[10]>0)if(Aa()&&e.currentChallenge.ascension!==0&&e.retrychallenges&&e.researches[150]===1&&e.autoChallengeRunning){let g=Ea(e.currentChallenge.ascension+1,!1,11,15);g<=15&&e.currentChallenge.ascension!==g?(de("ascensionChallenge",!1,!0),e.currentChallenge.ascension=g,be("ascensionChallenge",!1)):(g=Ea(e.currentChallenge.ascension+1,!0,11,15),de("ascensionChallenge",!1,!0),e.currentChallenge.ascension=g<=15?g:0,be("ascensionChallenge",!1))}else e.currentChallenge.ascension!==0?(de("ascensionChallenge",!1,!0),be("ascensionChallenge",!1)):be("ascension",!1)}let o=null;if(e.researches[175]>0)for(let c=1;c<=10;c++)o=aa(c),e.ascendShards.gte(o[1])&&oa(c,!0);let l=to();if(l!==s.prevReductionValue){s.prevReductionValue=l;let c=["Coin","Diamonds","Mythos"];for(let g=0;g<c.length;++g){let d=c[g];for(let m=0;m<5;++m){let h=s.ordinals[m];e[`${h}Cost${d}`]=gc(m+1,d,e[`${h}Owned${d}`]+1,l)}}for(let g=0;g<=4;g++){let d=[1,100,1e4,1e8,1e16],m=s.ordinals[g],h=e[`${m}OwnedParticles`]+1;e[`${m}CostParticles`]=new f(f.pow(2,h-1).times(f.pow(1.001,Math.max(0,h-325e3)*Math.max(0,h-325e3+1)/2))).times(d[g])}}if(e.shopUpgrades.challenge15Auto>0&&e.currentChallenge.ascension===15&&e.usedCorruptions.slice(2,10).every(c=>c===11)){let c=da();e.coins.gte(f.pow(10,e.challenge15Exponent/c))&&(e.challenge15Exponent=f.log(e.coins.add(1),10)*c,Hn())}},Yf=()=>{xa(),Qi()},zf=()=>{Gu(),Jl()},Kf=()=>{bt(Bt,5e3),bt(zf,200),bt(Yf,50),s.timeWarp||Nr()},Ki=0,Zf=()=>{Ki=performance.now(),bt(n0,5)},vp=5,Jf=20,is=0,e0=new Date,t0=performance.now(),Fo=()=>e0.getTime()+(performance.now()-t0),n0=()=>{let n=performance.now()-Ki;is+=(n-is)/Jf;let r;for(;n>5;)r=vp,r+=is>16?Math.min(3600*1e3,is-vp):0,r=Math.min(n,r),r0(r/1e3),Ki+=r,n-=r},r0=t=>{if(!s.timeWarp){let n=Le().mult;if(Fi(t*n),Pe("prestige",t),Pe("transcension",t),Pe("reincarnation",t),Pe("ascension",t),Pe("quarks",t),Pe("goldenQuarks",t),Pe("octeracts",t),Pe("singularity",t),Pe("autoPotion",t),e.shopUpgrades.offeringAuto>.5&&e.autoSacrificeToggle&&qt("runeSacrifice",t),e.achievements[173]===1&&qt("antSacrifice",t),e.researches[61]===1?qt("addObtainium",t):jt(),e.autoResearchToggle&&e.autoResearch>0&&e.autoResearch<=xc(e)&&(mt()||e.autoResearchMode==="manual")){let r=0,a=1+e.challengecompletions[14];for(;r<a&&e.autoResearch>0;){{let o=e.autoResearch===200?.01:0;if(!Lt(e.autoResearch,!0,o))break}r++}}}if(e.highestchallengecompletions[3]>0&&qt("addOfferings",t/2),e.cubeUpgrades[2]>0&&qt("addOfferings",t*e.cubeUpgrades[2]),op(t),(e.resettoggle1===1||e.resettoggle1===0)&&e.toggles[15]===!0&&e.achievements[43]===1&&s.prestigePointGain.gte(e.prestigePoints.times(f.pow(10,e.prestigeamount)))&&e.coinsThisPrestige.gte(1e16)&&(Ke(1),be("prestige",!0)),e.resettoggle1===2){s.autoResetTimers.prestige+=t;let n=Math.max(.01,e.prestigeamount);e.toggles[15]===!0&&e.achievements[43]===1&&s.autoResetTimers.prestige>=n&&e.coinsThisPrestige.gte(1e16)&&(Ke(1),be("prestige",!0))}if((e.resettoggle2===1||e.resettoggle2===0)&&e.toggles[21]===!0&&e.upgrades[89]===1&&s.transcendPointGain.gte(e.transcendPoints.times(f.pow(10,e.transcendamount)))&&e.coinsThisTranscension.gte(1e100)&&e.currentChallenge.transcension===0&&(Ke(2),be("transcension",!0)),e.resettoggle2===2){s.autoResetTimers.transcension+=t;let n=Math.max(.01,e.transcendamount);e.toggles[21]===!0&&e.upgrades[89]===1&&s.autoResetTimers.transcension>=n&&e.coinsThisTranscension.gte(1e100)&&e.currentChallenge.transcension===0&&(Ke(2),be("transcension",!0))}if(e.currentChallenge.ascension!==12){if(s.autoResetTimers.reincarnation+=t,e.resettoggle3===2){let n=Math.max(.01,e.reincarnationamount);e.toggles[27]===!0&&e.researches[46]>.5&&e.transcendShards.gte("1e300")&&s.autoResetTimers.reincarnation>=n&&e.currentChallenge.transcension===0&&e.currentChallenge.reincarnation===0&&(Ke(3),be("reincarnation",!0))}(e.resettoggle3===1||e.resettoggle3===0)&&e.toggles[27]===!0&&e.researches[46]>.5&&s.reincarnationPointGain.gte(e.reincarnationPoints.add(1).times(f.pow(10,e.reincarnationamount)))&&e.transcendShards.gte(1e300)&&e.currentChallenge.transcension===0&&e.currentChallenge.reincarnation===0&&(Ke(3),be("reincarnation",!0))}tn("reincarnation")},Au=(t,n)=>{if(e.toggles[40]===!1)return;let a={coin:"Coin",diamond:"Diamonds",mythos:"Mythos",particle:"Particles",tesseract:"Tesseracts"}[s.buildingSubTab];if(t.shiftKey){let o=Number(n)-1;n==="BACKQUOTE"&&(o=-1),e.challengecompletions[11]>0&&!isNaN(o)&&(o>=0&&o<e.corruptionLoadoutNames.length?(e.toggles[41]===!0&&qn(p.t("main.corruptionLoadoutApplied",{x:o+1,y:e.corruptionLoadoutNames[o]}),5e3),kr(!1,o+1)):(e.toggles[41]===!0&&qn(p.t("main.allCorruptionsZero"),5e3),kr(!1,0)),t.preventDefault());return}switch(n){case"1":case"2":case"3":case"4":case"5":{let o=Number(n);s.currentTab==="buildings"&&(a==="Particles"?dn(o):a==="Tesseracts"?zn(o):qe(o,a)),s.currentTab==="upgrades"&&ra(o,!1),s.currentTab==="runes"&&(s.runescreen==="runes"&&Vn(o),s.runescreen==="blessings"&&wr("Blessings",o),s.runescreen==="spirits"&&wr("Spirits",o)),s.currentTab==="challenges"&&(Nt(o),$e(o));break}case"6":s.currentTab==="upgrades"&&ra(6,!1),s.currentTab==="buildings"&&s.buildingSubTab==="diamond"&&dt(1),s.currentTab==="challenges"&&e.reincarnationCount>0&&(Nt(6),$e(6));break;case"7":s.currentTab==="buildings"&&s.buildingSubTab==="diamond"&&dt(2),s.currentTab==="challenges"&&e.achievements[113]===1&&(Nt(7),$e(7));break;case"8":s.currentTab==="buildings"&&s.buildingSubTab==="diamond"&&dt(3),s.currentTab==="challenges"&&e.achievements[120]===1&&(Nt(8),$e(8));break;case"9":s.currentTab==="buildings"&&s.buildingSubTab==="diamond"&&dt(4),s.currentTab==="challenges"&&e.achievements[127]===1&&(Nt(9),$e(9));break;case"0":s.currentTab==="buildings"&&s.buildingSubTab==="diamond"&&dt(5),s.currentTab==="challenges"&&e.achievements[134]===1&&(Nt(10),$e(10));break}},a0=()=>{let t=i("exitOffline");t.style.visibility="visible",ca(()=>t.focus(),100)},Pi=async(t=!1)=>{var l,c,g;Fc();let n=ca(()=>i("preloadDeleteGame").style.display="block",1e4);Wo(),await new Promise(d=>{ca(d,0)});let r=(l=await Ua.default.getItem("Synergysave2"))!=null?l:localStorage.getItem("Synergysave2"),a=typeof r=="string"?r:await(r==null?void 0:r.text());if(a){let d=Cp.default.decompressFromBase64(a);if(d!==""){if(!d)return R(p.t("save.loadFailed"));let h=gr(d);if(h===null)return R(p.t("save.loadFailed"));localStorage.clear();let y=new Blob([h],{type:"text/plain"});await Ua.default.setItem("Synergysave2",y),await R(p.t("main.transferredFromLZ"))}await Ff()}if(!t)await Gi();else if(e.worlds=new mn({bonus:0,quarks:0}),va.canSave&&!await Bt())return;if(io(!0),Mc(),lo(),_i(),Qi(),Zf(),De("buildings"),ve(1,0),ve(4,0),ve(8,0),ve(9,0),ve(10,0),ve(-1,0),$i(),bt($i,3e4),Kf(),Dr(),Ci(),bt(Ci,15e3),a0(),Zs(n),localStorage.getItem("pleaseStar")===null&&(R(p.t("main.starRepo")),localStorage.setItem("pleaseStar","")),typeof((c=navigator.storage)==null?void 0:c.persist)=="function"&&typeof((g=navigator.storage)==null?void 0:g.persisted)=="function"){let d=await navigator.storage.persisted();d?console.log(`Storage is persistent! (persistent = ${d})`):await navigator.storage.persist()&&R(p.t("main.dataPersistent"))}let o=i("saveType");o.checked=localStorage.getItem("copyToClipboard")!==null};window.addEventListener("load",async()=>{await hp();let t=i("versionnumber"),n=r=>`${r}`.padStart(2,"0");if(t instanceof HTMLElement){let r=isNaN(Rn.getTime())?"":` [Last Update: ${n(Rn.getHours())}:${n(Rn.getMinutes())} UTC ${n(Rn.getDate())}-${Rn.toLocaleString("en-us",{month:"short"})}-${Rn.getFullYear()}].`;t.textContent=`You're ${!1?"testing":"playing"} v${At} - The Alternate Reality`+r+` ${!1?p.t("testing.saveInLive"):""}`}document.title=`Synergism v${At}`,dp(),Pi(),Tc(),kc(),localStorage.getItem("playTestingVersion")||(localStorage.setItem("playTestingVersion","true"),R("Do you want to play the beta version that has localizations? If so, go to https://khafradev.github.io/SynergismOfficial! Saves can be imported to and from here without issues."))});window.addEventListener("unload",()=>{window.scrollTo(0,0)});})();
/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/
/*!
 * clipboard.js v2.0.11
 * https://clipboardjs.com/
 *
 * Licensed MIT  Zeno Rocha
 */
//# sourceMappingURL=out.js.map
