"use strict";(()=>{var kg=Object.create;var Ni=Object.defineProperty,Sg=Object.defineProperties,Tg=Object.getOwnPropertyDescriptor,Lg=Object.getOwnPropertyDescriptors,Pg=Object.getOwnPropertyNames,Ys=Object.getOwnPropertySymbols,Ag=Object.getPrototypeOf,$i=Object.prototype.hasOwnProperty,Bc=Object.prototype.propertyIsEnumerable;var Oc=(t,r,n)=>r in t?Ni(t,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[r]=n,ze=(t,r)=>{for(var n in r||(r={}))$i.call(r,n)&&Oc(t,n,r[n]);if(Ys)for(var n of Ys(r))Bc.call(r,n)&&Oc(t,n,r[n]);return t},en=(t,r)=>Sg(t,Lg(r));var Va=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(r,n)=>(typeof require<"u"?require:r)[n]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+t+'" is not supported')});var Rc=(t,r)=>{var n={};for(var s in t)$i.call(t,s)&&r.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&Ys)for(var s of Ys(t))r.indexOf(s)<0&&Bc.call(t,s)&&(n[s]=t[s]);return n};var oa=(t,r)=>()=>(r||t((r={exports:{}}).exports,r),r.exports);var Eg=(t,r,n,s)=>{if(r&&typeof r=="object"||typeof r=="function")for(let a of Pg(r))!$i.call(t,a)&&a!==n&&Ni(t,a,{get:()=>r[a],enumerable:!(s=Tg(r,a))||s.enumerable});return t};var Mr=(t,r,n)=>(n=t!=null?kg(Ag(t)):{},Eg(r||!t||!t.__esModule?Ni(n,"default",{value:t,enumerable:!0}):n,t));var Di=(t,r,n)=>{if(!r.has(t))throw TypeError("Cannot "+n)};var ye=(t,r,n)=>(Di(t,r,"read from private field"),n?n.call(t):r.get(t)),tn=(t,r,n)=>{if(r.has(t))throw TypeError("Cannot add the same private member more than once");r instanceof WeakSet?r.add(t):r.set(t,n)},$r=(t,r,n,s)=>(Di(t,r,"write to private field"),s?s.call(t,n):r.set(t,n),n);var Ic=(t,r,n)=>(Di(t,r,"access private method"),n);var $c=oa((I0,Nc)=>{"use strict";Nc.exports=function(t,r,n){if(t==null||r==null)return t;var s=String(t),a=typeof r=="number"?r:parseInt(r,10);if(isNaN(a)||!isFinite(a))return s;var l=s.length;if(l>=a)return s;var c=n==null?"":String(n);c===""&&(c=" ");for(var d=a-l;c.length<d;)c+=c;var g=c.length>d?c.substr(0,d):c;return s+g}});var Hi=oa(($0,eo)=>{var Gi=function(){var t=String.fromCharCode,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",s={};function a(c,d){if(!s[c]){s[c]={};for(var g=0;g<c.length;g++)s[c][c.charAt(g)]=g}return s[c][d]}var l={compressToBase64:function(c){if(c==null)return"";var d=l._compress(c,6,function(g){return r.charAt(g)});switch(d.length%4){default:case 0:return d;case 1:return d+"===";case 2:return d+"==";case 3:return d+"="}},decompressFromBase64:function(c){return c==null?"":c==""?null:l._decompress(c.length,32,function(d){return a(r,c.charAt(d))})},compressToUTF16:function(c){return c==null?"":l._compress(c,15,function(d){return t(d+32)})+" "},decompressFromUTF16:function(c){return c==null?"":c==""?null:l._decompress(c.length,16384,function(d){return c.charCodeAt(d)-32})},compressToUint8Array:function(c){for(var d=l.compress(c),g=new Uint8Array(d.length*2),m=0,h=d.length;m<h;m++){var b=d.charCodeAt(m);g[m*2]=b>>>8,g[m*2+1]=b%256}return g},decompressFromUint8Array:function(c){if(c==null)return l.decompress(c);for(var d=new Array(c.length/2),g=0,m=d.length;g<m;g++)d[g]=c[g*2]*256+c[g*2+1];var h=[];return d.forEach(function(b){h.push(t(b))}),l.decompress(h.join(""))},compressToEncodedURIComponent:function(c){return c==null?"":l._compress(c,6,function(d){return n.charAt(d)})},decompressFromEncodedURIComponent:function(c){return c==null?"":c==""?null:(c=c.replace(/ /g,"+"),l._decompress(c.length,32,function(d){return a(n,c.charAt(d))}))},compress:function(c){return l._compress(c,16,function(d){return t(d)})},_compress:function(c,d,g){if(c==null)return"";var m,h,b={},y={},v="",w="",k="",P=2,A=3,R=2,Q=[],$=0,I=0,S;for(S=0;S<c.length;S+=1)if(v=c.charAt(S),Object.prototype.hasOwnProperty.call(b,v)||(b[v]=A++,y[v]=!0),w=k+v,Object.prototype.hasOwnProperty.call(b,w))k=w;else{if(Object.prototype.hasOwnProperty.call(y,k)){if(k.charCodeAt(0)<256){for(m=0;m<R;m++)$=$<<1,I==d-1?(I=0,Q.push(g($)),$=0):I++;for(h=k.charCodeAt(0),m=0;m<8;m++)$=$<<1|h&1,I==d-1?(I=0,Q.push(g($)),$=0):I++,h=h>>1}else{for(h=1,m=0;m<R;m++)$=$<<1|h,I==d-1?(I=0,Q.push(g($)),$=0):I++,h=0;for(h=k.charCodeAt(0),m=0;m<16;m++)$=$<<1|h&1,I==d-1?(I=0,Q.push(g($)),$=0):I++,h=h>>1}P--,P==0&&(P=Math.pow(2,R),R++),delete y[k]}else for(h=b[k],m=0;m<R;m++)$=$<<1|h&1,I==d-1?(I=0,Q.push(g($)),$=0):I++,h=h>>1;P--,P==0&&(P=Math.pow(2,R),R++),b[w]=A++,k=String(v)}if(k!==""){if(Object.prototype.hasOwnProperty.call(y,k)){if(k.charCodeAt(0)<256){for(m=0;m<R;m++)$=$<<1,I==d-1?(I=0,Q.push(g($)),$=0):I++;for(h=k.charCodeAt(0),m=0;m<8;m++)$=$<<1|h&1,I==d-1?(I=0,Q.push(g($)),$=0):I++,h=h>>1}else{for(h=1,m=0;m<R;m++)$=$<<1|h,I==d-1?(I=0,Q.push(g($)),$=0):I++,h=0;for(h=k.charCodeAt(0),m=0;m<16;m++)$=$<<1|h&1,I==d-1?(I=0,Q.push(g($)),$=0):I++,h=h>>1}P--,P==0&&(P=Math.pow(2,R),R++),delete y[k]}else for(h=b[k],m=0;m<R;m++)$=$<<1|h&1,I==d-1?(I=0,Q.push(g($)),$=0):I++,h=h>>1;P--,P==0&&(P=Math.pow(2,R),R++)}for(h=2,m=0;m<R;m++)$=$<<1|h&1,I==d-1?(I=0,Q.push(g($)),$=0):I++,h=h>>1;for(;;)if($=$<<1,I==d-1){Q.push(g($));break}else I++;return Q.join("")},decompress:function(c){return c==null?"":c==""?null:l._decompress(c.length,32768,function(d){return c.charCodeAt(d)})},_decompress:function(c,d,g){var m=[],h,b=4,y=4,v=3,w="",k=[],P,A,R,Q,$,I,S,L={val:g(0),position:d,index:1};for(P=0;P<3;P+=1)m[P]=P;for(R=0,$=Math.pow(2,2),I=1;I!=$;)Q=L.val&L.position,L.position>>=1,L.position==0&&(L.position=d,L.val=g(L.index++)),R|=(Q>0?1:0)*I,I<<=1;switch(h=R){case 0:for(R=0,$=Math.pow(2,8),I=1;I!=$;)Q=L.val&L.position,L.position>>=1,L.position==0&&(L.position=d,L.val=g(L.index++)),R|=(Q>0?1:0)*I,I<<=1;S=t(R);break;case 1:for(R=0,$=Math.pow(2,16),I=1;I!=$;)Q=L.val&L.position,L.position>>=1,L.position==0&&(L.position=d,L.val=g(L.index++)),R|=(Q>0?1:0)*I,I<<=1;S=t(R);break;case 2:return""}for(m[3]=S,A=S,k.push(S);;){if(L.index>c)return"";for(R=0,$=Math.pow(2,v),I=1;I!=$;)Q=L.val&L.position,L.position>>=1,L.position==0&&(L.position=d,L.val=g(L.index++)),R|=(Q>0?1:0)*I,I<<=1;switch(S=R){case 0:for(R=0,$=Math.pow(2,8),I=1;I!=$;)Q=L.val&L.position,L.position>>=1,L.position==0&&(L.position=d,L.val=g(L.index++)),R|=(Q>0?1:0)*I,I<<=1;m[y++]=t(R),S=y-1,b--;break;case 1:for(R=0,$=Math.pow(2,16),I=1;I!=$;)Q=L.val&L.position,L.position>>=1,L.position==0&&(L.position=d,L.val=g(L.index++)),R|=(Q>0?1:0)*I,I<<=1;m[y++]=t(R),S=y-1,b--;break;case 2:return k.join("")}if(b==0&&(b=Math.pow(2,v),v++),m[S])w=m[S];else if(S===y)w=A+A.charAt(0);else return null;k.push(w),m[y++]=A+w.charAt(0),b--,A=w,b==0&&(b=Math.pow(2,v),v++)}}};return l}();typeof define=="function"&&define.amd?define(function(){return Gi}):typeof eo<"u"&&eo!=null?eo.exports=Gi:typeof angular<"u"&&angular!=null&&angular.module("LZString",[]).factory("LZString",function(){return Gi})});var iu=oa((Gh,Ki)=>{"use strict";var gf=Object.prototype.hasOwnProperty,Tt="~";function za(){}Object.create&&(za.prototype=Object.create(null),new za().__proto__||(Tt=!1));function ff(t,r,n){this.fn=t,this.context=r,this.once=n||!1}function ou(t,r,n,s,a){if(typeof n!="function")throw new TypeError("The listener must be a function");var l=new ff(n,s||t,a),c=Tt?Tt+r:r;return t._events[c]?t._events[c].fn?t._events[c]=[t._events[c],l]:t._events[c].push(l):(t._events[c]=l,t._eventsCount++),t}function lo(t,r){--t._eventsCount===0?t._events=new za:delete t._events[r]}function wt(){this._events=new za,this._eventsCount=0}wt.prototype.eventNames=function(){var r=[],n,s;if(this._eventsCount===0)return r;for(s in n=this._events)gf.call(n,s)&&r.push(Tt?s.slice(1):s);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(n)):r};wt.prototype.listeners=function(r){var n=Tt?Tt+r:r,s=this._events[n];if(!s)return[];if(s.fn)return[s.fn];for(var a=0,l=s.length,c=new Array(l);a<l;a++)c[a]=s[a].fn;return c};wt.prototype.listenerCount=function(r){var n=Tt?Tt+r:r,s=this._events[n];return s?s.fn?1:s.length:0};wt.prototype.emit=function(r,n,s,a,l,c){var d=Tt?Tt+r:r;if(!this._events[d])return!1;var g=this._events[d],m=arguments.length,h,b;if(g.fn){switch(g.once&&this.removeListener(r,g.fn,void 0,!0),m){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,n),!0;case 3:return g.fn.call(g.context,n,s),!0;case 4:return g.fn.call(g.context,n,s,a),!0;case 5:return g.fn.call(g.context,n,s,a,l),!0;case 6:return g.fn.call(g.context,n,s,a,l,c),!0}for(b=1,h=new Array(m-1);b<m;b++)h[b-1]=arguments[b];g.fn.apply(g.context,h)}else{var y=g.length,v;for(b=0;b<y;b++)switch(g[b].once&&this.removeListener(r,g[b].fn,void 0,!0),m){case 1:g[b].fn.call(g[b].context);break;case 2:g[b].fn.call(g[b].context,n);break;case 3:g[b].fn.call(g[b].context,n,s);break;case 4:g[b].fn.call(g[b].context,n,s,a);break;default:if(!h)for(v=1,h=new Array(m-1);v<m;v++)h[v-1]=arguments[v];g[b].fn.apply(g[b].context,h)}}return!0};wt.prototype.on=function(r,n,s){return ou(this,r,n,s,!1)};wt.prototype.once=function(r,n,s){return ou(this,r,n,s,!0)};wt.prototype.removeListener=function(r,n,s,a){var l=Tt?Tt+r:r;if(!this._events[l])return this;if(!n)return lo(this,l),this;var c=this._events[l];if(c.fn)c.fn===n&&(!a||c.once)&&(!s||c.context===s)&&lo(this,l);else{for(var d=0,g=[],m=c.length;d<m;d++)(c[d].fn!==n||a&&!c[d].once||s&&c[d].context!==s)&&g.push(c[d]);g.length?this._events[l]=g.length===1?g[0]:g:lo(this,l)}return this};wt.prototype.removeAllListeners=function(r){var n;return r?(n=Tt?Tt+r:r,this._events[n]&&lo(this,n)):(this._events=new za,this._eventsCount=0),this};wt.prototype.off=wt.prototype.removeListener;wt.prototype.addListener=wt.prototype.on;wt.prefixed=Tt;wt.EventEmitter=wt;typeof Ki<"u"&&(Ki.exports=wt)});var vl=oa((is,yl)=>{(function(r,n){typeof is=="object"&&typeof yl=="object"?yl.exports=n():typeof define=="function"&&define.amd?define([],n):typeof is=="object"?is.ClipboardJS=n():r.ClipboardJS=n()})(is,function(){return function(){var t={686:function(s,a,l){"use strict";l.d(a,{default:function(){return yt}});var c=l(279),d=l.n(c),g=l(370),m=l.n(g),h=l(817),b=l.n(h);function y(pe){try{return document.execCommand(pe)}catch(ae){return!1}}var v=function(ae){var ne=b()(ae);return y("cut"),ne},w=v;function k(pe){var ae=document.documentElement.getAttribute("dir")==="rtl",ne=document.createElement("textarea");ne.style.fontSize="12pt",ne.style.border="0",ne.style.padding="0",ne.style.margin="0",ne.style.position="absolute",ne.style[ae?"right":"left"]="-9999px";var le=window.pageYOffset||document.documentElement.scrollTop;return ne.style.top="".concat(le,"px"),ne.setAttribute("readonly",""),ne.value=pe,ne}var P=function(ae,ne){var le=k(ae);ne.container.appendChild(le);var ie=b()(le);return y("copy"),le.remove(),ie},A=function(ae){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body},le="";return typeof ae=="string"?le=P(ae,ne):ae instanceof HTMLInputElement&&!["text","search","url","tel","password"].includes(ae==null?void 0:ae.type)?le=P(ae.value,ne):(le=b()(ae),y("copy")),le},R=A;function Q(pe){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Q=function(ne){return typeof ne}:Q=function(ne){return ne&&typeof Symbol=="function"&&ne.constructor===Symbol&&ne!==Symbol.prototype?"symbol":typeof ne},Q(pe)}var $=function(){var ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ne=ae.action,le=ne===void 0?"copy":ne,ie=ae.container,he=ae.target,He=ae.text;if(le!=="copy"&&le!=="cut")throw new Error('Invalid "action" value, use either "copy" or "cut"');if(he!==void 0)if(he&&Q(he)==="object"&&he.nodeType===1){if(le==="copy"&&he.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if(le==="cut"&&(he.hasAttribute("readonly")||he.hasAttribute("disabled")))throw new Error(`Invalid "target" attribute. You can't cut text from elements with "readonly" or "disabled" attributes`)}else throw new Error('Invalid "target" value, use a valid Element');if(He)return R(He,{container:ie});if(he)return le==="cut"?w(he):R(he,{container:ie})},I=$;function S(pe){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?S=function(ne){return typeof ne}:S=function(ne){return ne&&typeof Symbol=="function"&&ne.constructor===Symbol&&ne!==Symbol.prototype?"symbol":typeof ne},S(pe)}function L(pe,ae){if(!(pe instanceof ae))throw new TypeError("Cannot call a class as a function")}function G(pe,ae){for(var ne=0;ne<ae.length;ne++){var le=ae[ne];le.enumerable=le.enumerable||!1,le.configurable=!0,"value"in le&&(le.writable=!0),Object.defineProperty(pe,le.key,le)}}function W(pe,ae,ne){return ae&&G(pe.prototype,ae),ne&&G(pe,ne),pe}function x(pe,ae){if(typeof ae!="function"&&ae!==null)throw new TypeError("Super expression must either be null or a function");pe.prototype=Object.create(ae&&ae.prototype,{constructor:{value:pe,writable:!0,configurable:!0}}),ae&&j(pe,ae)}function j(pe,ae){return j=Object.setPrototypeOf||function(le,ie){return le.__proto__=ie,le},j(pe,ae)}function se(pe){var ae=ut();return function(){var le=nt(pe),ie;if(ae){var he=nt(this).constructor;ie=Reflect.construct(le,arguments,he)}else ie=le.apply(this,arguments);return ce(this,ie)}}function ce(pe,ae){return ae&&(S(ae)==="object"||typeof ae=="function")?ae:Ve(pe)}function Ve(pe){if(pe===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return pe}function ut(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(pe){return!1}}function nt(pe){return nt=Object.setPrototypeOf?Object.getPrototypeOf:function(ne){return ne.__proto__||Object.getPrototypeOf(ne)},nt(pe)}function pt(pe,ae){var ne="data-clipboard-".concat(pe);if(ae.hasAttribute(ne))return ae.getAttribute(ne)}var rt=function(pe){x(ne,pe);var ae=se(ne);function ne(le,ie){var he;return L(this,ne),he=ae.call(this),he.resolveOptions(ie),he.listenClick(le),he}return W(ne,[{key:"resolveOptions",value:function(){var ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.action=typeof ie.action=="function"?ie.action:this.defaultAction,this.target=typeof ie.target=="function"?ie.target:this.defaultTarget,this.text=typeof ie.text=="function"?ie.text:this.defaultText,this.container=S(ie.container)==="object"?ie.container:document.body}},{key:"listenClick",value:function(ie){var he=this;this.listener=m()(ie,"click",function(He){return he.onClick(He)})}},{key:"onClick",value:function(ie){var he=ie.delegateTarget||ie.currentTarget,He=this.action(he)||"copy",E=I({action:He,container:this.container,target:this.target(he),text:this.text(he)});this.emit(E?"success":"error",{action:He,text:E,trigger:he,clearSelection:function(){he&&he.focus(),window.getSelection().removeAllRanges()}})}},{key:"defaultAction",value:function(ie){return pt("action",ie)}},{key:"defaultTarget",value:function(ie){var he=pt("target",ie);if(he)return document.querySelector(he)}},{key:"defaultText",value:function(ie){return pt("text",ie)}},{key:"destroy",value:function(){this.listener.destroy()}}],[{key:"copy",value:function(ie){var he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body};return R(ie,he)}},{key:"cut",value:function(ie){return w(ie)}},{key:"isSupported",value:function(){var ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["copy","cut"],he=typeof ie=="string"?[ie]:ie,He=!!document.queryCommandSupported;return he.forEach(function(E){He=He&&!!document.queryCommandSupported(E)}),He}}]),ne}(d()),yt=rt},828:function(s){var a=9;if(typeof Element<"u"&&!Element.prototype.matches){var l=Element.prototype;l.matches=l.matchesSelector||l.mozMatchesSelector||l.msMatchesSelector||l.oMatchesSelector||l.webkitMatchesSelector}function c(d,g){for(;d&&d.nodeType!==a;){if(typeof d.matches=="function"&&d.matches(g))return d;d=d.parentNode}}s.exports=c},438:function(s,a,l){var c=l(828);function d(h,b,y,v,w){var k=m.apply(this,arguments);return h.addEventListener(y,k,w),{destroy:function(){h.removeEventListener(y,k,w)}}}function g(h,b,y,v,w){return typeof h.addEventListener=="function"?d.apply(null,arguments):typeof y=="function"?d.bind(null,document).apply(null,arguments):(typeof h=="string"&&(h=document.querySelectorAll(h)),Array.prototype.map.call(h,function(k){return d(k,b,y,v,w)}))}function m(h,b,y,v){return function(w){w.delegateTarget=c(w.target,b),w.delegateTarget&&v.call(h,w)}}s.exports=g},879:function(s,a){a.node=function(l){return l!==void 0&&l instanceof HTMLElement&&l.nodeType===1},a.nodeList=function(l){var c=Object.prototype.toString.call(l);return l!==void 0&&(c==="[object NodeList]"||c==="[object HTMLCollection]")&&"length"in l&&(l.length===0||a.node(l[0]))},a.string=function(l){return typeof l=="string"||l instanceof String},a.fn=function(l){var c=Object.prototype.toString.call(l);return c==="[object Function]"}},370:function(s,a,l){var c=l(879),d=l(438);function g(y,v,w){if(!y&&!v&&!w)throw new Error("Missing required arguments");if(!c.string(v))throw new TypeError("Second argument must be a String");if(!c.fn(w))throw new TypeError("Third argument must be a Function");if(c.node(y))return m(y,v,w);if(c.nodeList(y))return h(y,v,w);if(c.string(y))return b(y,v,w);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function m(y,v,w){return y.addEventListener(v,w),{destroy:function(){y.removeEventListener(v,w)}}}function h(y,v,w){return Array.prototype.forEach.call(y,function(k){k.addEventListener(v,w)}),{destroy:function(){Array.prototype.forEach.call(y,function(k){k.removeEventListener(v,w)})}}}function b(y,v,w){return d(document.body,y,v,w)}s.exports=g},817:function(s){function a(l){var c;if(l.nodeName==="SELECT")l.focus(),c=l.value;else if(l.nodeName==="INPUT"||l.nodeName==="TEXTAREA"){var d=l.hasAttribute("readonly");d||l.setAttribute("readonly",""),l.select(),l.setSelectionRange(0,l.value.length),d||l.removeAttribute("readonly"),c=l.value}else{l.hasAttribute("contenteditable")&&l.focus();var g=window.getSelection(),m=document.createRange();m.selectNodeContents(l),g.removeAllRanges(),g.addRange(m),c=g.toString()}return c}s.exports=a},279:function(s){function a(){}a.prototype={on:function(l,c,d){var g=this.e||(this.e={});return(g[l]||(g[l]=[])).push({fn:c,ctx:d}),this},once:function(l,c,d){var g=this;function m(){g.off(l,m),c.apply(d,arguments)}return m._=c,this.on(l,m,d)},emit:function(l){var c=[].slice.call(arguments,1),d=((this.e||(this.e={}))[l]||[]).slice(),g=0,m=d.length;for(g;g<m;g++)d[g].fn.apply(d[g].ctx,c);return this},off:function(l,c){var d=this.e||(this.e={}),g=d[l],m=[];if(g&&c)for(var h=0,b=g.length;h<b;h++)g[h].fn!==c&&g[h].fn._!==c&&m.push(g[h]);return m.length?d[l]=m:delete d[l],this}},s.exports=a,s.exports.TinyEmitter=a}},r={};function n(s){if(r[s])return r[s].exports;var a=r[s]={exports:{}};return t[s](a,a.exports,n),a.exports}return function(){n.n=function(s){var a=s&&s.__esModule?function(){return s.default}:function(){return s};return n.d(a,{a}),a}}(),function(){n.d=function(s,a){for(var l in a)n.o(a,l)&&!n.o(s,l)&&Object.defineProperty(s,l,{enumerable:!0,get:a[l]})}}(),function(){n.o=function(s,a){return Object.prototype.hasOwnProperty.call(s,a)}}(),n(686)}().default})});var Bo=oa((Bu,Cl)=>{(function(t){if(typeof Bu=="object"&&typeof Cl<"u")Cl.exports=t();else if(typeof define=="function"&&define.amd)define([],t);else{var r;typeof window<"u"?r=window:typeof global<"u"?r=global:typeof self<"u"?r=self:r=this,r.localforage=t()}})(function(){var t,r,n;return function s(a,l,c){function d(h,b){if(!l[h]){if(!a[h]){var y=typeof Va=="function"&&Va;if(!b&&y)return y(h,!0);if(g)return g(h,!0);var v=new Error("Cannot find module '"+h+"'");throw v.code="MODULE_NOT_FOUND",v}var w=l[h]={exports:{}};a[h][0].call(w.exports,function(k){var P=a[h][1][k];return d(P||k)},w,w.exports,s,a,l,c)}return l[h].exports}for(var g=typeof Va=="function"&&Va,m=0;m<c.length;m++)d(c[m]);return d}({1:[function(s,a,l){(function(c){"use strict";var d=c.MutationObserver||c.WebKitMutationObserver,g;if(d){var m=0,h=new d(k),b=c.document.createTextNode("");h.observe(b,{characterData:!0}),g=function(){b.data=m=++m%2}}else if(!c.setImmediate&&typeof c.MessageChannel<"u"){var y=new c.MessageChannel;y.port1.onmessage=k,g=function(){y.port2.postMessage(0)}}else"document"in c&&"onreadystatechange"in c.document.createElement("script")?g=function(){var A=c.document.createElement("script");A.onreadystatechange=function(){k(),A.onreadystatechange=null,A.parentNode.removeChild(A),A=null},c.document.documentElement.appendChild(A)}:g=function(){setTimeout(k,0)};var v,w=[];function k(){v=!0;for(var A,R,Q=w.length;Q;){for(R=w,w=[],A=-1;++A<Q;)R[A]();Q=w.length}v=!1}a.exports=P;function P(A){w.push(A)===1&&!v&&g()}}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(s,a,l){"use strict";var c=s(1);function d(){}var g={},m=["REJECTED"],h=["FULFILLED"],b=["PENDING"];a.exports=y;function y(S){if(typeof S!="function")throw new TypeError("resolver must be a function");this.state=b,this.queue=[],this.outcome=void 0,S!==d&&P(this,S)}y.prototype.catch=function(S){return this.then(null,S)},y.prototype.then=function(S,L){if(typeof S!="function"&&this.state===h||typeof L!="function"&&this.state===m)return this;var G=new this.constructor(d);if(this.state!==b){var W=this.state===h?S:L;w(G,W,this.outcome)}else this.queue.push(new v(G,S,L));return G};function v(S,L,G){this.promise=S,typeof L=="function"&&(this.onFulfilled=L,this.callFulfilled=this.otherCallFulfilled),typeof G=="function"&&(this.onRejected=G,this.callRejected=this.otherCallRejected)}v.prototype.callFulfilled=function(S){g.resolve(this.promise,S)},v.prototype.otherCallFulfilled=function(S){w(this.promise,this.onFulfilled,S)},v.prototype.callRejected=function(S){g.reject(this.promise,S)},v.prototype.otherCallRejected=function(S){w(this.promise,this.onRejected,S)};function w(S,L,G){c(function(){var W;try{W=L(G)}catch(x){return g.reject(S,x)}W===S?g.reject(S,new TypeError("Cannot resolve promise with itself")):g.resolve(S,W)})}g.resolve=function(S,L){var G=A(k,L);if(G.status==="error")return g.reject(S,G.value);var W=G.value;if(W)P(S,W);else{S.state=h,S.outcome=L;for(var x=-1,j=S.queue.length;++x<j;)S.queue[x].callFulfilled(L)}return S},g.reject=function(S,L){S.state=m,S.outcome=L;for(var G=-1,W=S.queue.length;++G<W;)S.queue[G].callRejected(L);return S};function k(S){var L=S&&S.then;if(S&&(typeof S=="object"||typeof S=="function")&&typeof L=="function")return function(){L.apply(S,arguments)}}function P(S,L){var G=!1;function W(ce){G||(G=!0,g.reject(S,ce))}function x(ce){G||(G=!0,g.resolve(S,ce))}function j(){L(x,W)}var se=A(j);se.status==="error"&&W(se.value)}function A(S,L){var G={};try{G.value=S(L),G.status="success"}catch(W){G.status="error",G.value=W}return G}y.resolve=R;function R(S){return S instanceof this?S:g.resolve(new this(d),S)}y.reject=Q;function Q(S){var L=new this(d);return g.reject(L,S)}y.all=$;function $(S){var L=this;if(Object.prototype.toString.call(S)!=="[object Array]")return this.reject(new TypeError("must be an array"));var G=S.length,W=!1;if(!G)return this.resolve([]);for(var x=new Array(G),j=0,se=-1,ce=new this(d);++se<G;)Ve(S[se],se);return ce;function Ve(ut,nt){L.resolve(ut).then(pt,function(rt){W||(W=!0,g.reject(ce,rt))});function pt(rt){x[nt]=rt,++j===G&&!W&&(W=!0,g.resolve(ce,x))}}}y.race=I;function I(S){var L=this;if(Object.prototype.toString.call(S)!=="[object Array]")return this.reject(new TypeError("must be an array"));var G=S.length,W=!1;if(!G)return this.resolve([]);for(var x=-1,j=new this(d);++x<G;)se(S[x]);return j;function se(ce){L.resolve(ce).then(function(Ve){W||(W=!0,g.resolve(j,Ve))},function(Ve){W||(W=!0,g.reject(j,Ve))})}}},{1:1}],3:[function(s,a,l){(function(c){"use strict";typeof c.Promise!="function"&&(c.Promise=s(2))}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(s,a,l){"use strict";var c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C};function d(C,T){if(!(C instanceof T))throw new TypeError("Cannot call a class as a function")}function g(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch(C){return}}var m=g();function h(){try{if(!m||!m.open)return!1;var C=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),T=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!C||T)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch(M){return!1}}function b(C,T){C=C||[],T=T||{};try{return new Blob(C,T)}catch(U){if(U.name!=="TypeError")throw U;for(var M=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,B=new M,N=0;N<C.length;N+=1)B.append(C[N]);return B.getBlob(T.type)}}typeof Promise>"u"&&s(3);var y=Promise;function v(C,T){T&&C.then(function(M){T(null,M)},function(M){T(M)})}function w(C,T,M){typeof T=="function"&&C.then(T),typeof M=="function"&&C.catch(M)}function k(C){return typeof C!="string"&&(console.warn(C+" used as a key, but it is not a string."),C=String(C)),C}function P(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var A="local-forage-detect-blob-support",R=void 0,Q={},$=Object.prototype.toString,I="readonly",S="readwrite";function L(C){for(var T=C.length,M=new ArrayBuffer(T),B=new Uint8Array(M),N=0;N<T;N++)B[N]=C.charCodeAt(N);return M}function G(C){return new y(function(T){var M=C.transaction(A,S),B=b([""]);M.objectStore(A).put(B,"key"),M.onabort=function(N){N.preventDefault(),N.stopPropagation(),T(!1)},M.oncomplete=function(){var N=navigator.userAgent.match(/Chrome\/(\d+)/),U=navigator.userAgent.match(/Edge\//);T(U||!N||parseInt(N[1],10)>=43)}}).catch(function(){return!1})}function W(C){return typeof R=="boolean"?y.resolve(R):G(C).then(function(T){return R=T,R})}function x(C){var T=Q[C.name],M={};M.promise=new y(function(B,N){M.resolve=B,M.reject=N}),T.deferredOperations.push(M),T.dbReady?T.dbReady=T.dbReady.then(function(){return M.promise}):T.dbReady=M.promise}function j(C){var T=Q[C.name],M=T.deferredOperations.pop();if(M)return M.resolve(),M.promise}function se(C,T){var M=Q[C.name],B=M.deferredOperations.pop();if(B)return B.reject(T),B.promise}function ce(C,T){return new y(function(M,B){if(Q[C.name]=Q[C.name]||le(),C.db)if(T)x(C),C.db.close();else return M(C.db);var N=[C.name];T&&N.push(C.version);var U=m.open.apply(m,N);T&&(U.onupgradeneeded=function(_){var V=U.result;try{V.createObjectStore(C.storeName),_.oldVersion<=1&&V.createObjectStore(A)}catch(z){if(z.name==="ConstraintError")console.warn('The database "'+C.name+'" has been upgraded from version '+_.oldVersion+" to version "+_.newVersion+', but the storage "'+C.storeName+'" already exists.');else throw z}}),U.onerror=function(_){_.preventDefault(),B(U.error)},U.onsuccess=function(){var _=U.result;_.onversionchange=function(V){V.target.close()},M(_),j(C)}})}function Ve(C){return ce(C,!1)}function ut(C){return ce(C,!0)}function nt(C,T){if(!C.db)return!0;var M=!C.db.objectStoreNames.contains(C.storeName),B=C.version<C.db.version,N=C.version>C.db.version;if(B&&(C.version!==T&&console.warn('The database "'+C.name+`" can't be downgraded from version `+C.db.version+" to version "+C.version+"."),C.version=C.db.version),N||M){if(M){var U=C.db.version+1;U>C.version&&(C.version=U)}return!0}return!1}function pt(C){return new y(function(T,M){var B=new FileReader;B.onerror=M,B.onloadend=function(N){var U=btoa(N.target.result||"");T({__local_forage_encoded_blob:!0,data:U,type:C.type})},B.readAsBinaryString(C)})}function rt(C){var T=L(atob(C.data));return b([T],{type:C.type})}function yt(C){return C&&C.__local_forage_encoded_blob}function pe(C){var T=this,M=T._initReady().then(function(){var B=Q[T._dbInfo.name];if(B&&B.dbReady)return B.dbReady});return w(M,C,C),M}function ae(C){x(C);for(var T=Q[C.name],M=T.forages,B=0;B<M.length;B++){var N=M[B];N._dbInfo.db&&(N._dbInfo.db.close(),N._dbInfo.db=null)}return C.db=null,Ve(C).then(function(U){return C.db=U,nt(C)?ut(C):U}).then(function(U){C.db=T.db=U;for(var _=0;_<M.length;_++)M[_]._dbInfo.db=U}).catch(function(U){throw se(C,U),U})}function ne(C,T,M,B){B===void 0&&(B=1);try{var N=C.db.transaction(C.storeName,T);M(null,N)}catch(U){if(B>0&&(!C.db||U.name==="InvalidStateError"||U.name==="NotFoundError"))return y.resolve().then(function(){if(!C.db||U.name==="NotFoundError"&&!C.db.objectStoreNames.contains(C.storeName)&&C.version<=C.db.version)return C.db&&(C.version=C.db.version+1),ut(C)}).then(function(){return ae(C).then(function(){ne(C,T,M,B-1)})}).catch(M);M(U)}}function le(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function ie(C){var T=this,M={db:null};if(C)for(var B in C)M[B]=C[B];var N=Q[M.name];N||(N=le(),Q[M.name]=N),N.forages.push(T),T._initReady||(T._initReady=T.ready,T.ready=pe);var U=[];function _(){return y.resolve()}for(var V=0;V<N.forages.length;V++){var z=N.forages[V];z!==T&&U.push(z._initReady().catch(_))}var Y=N.forages.slice(0);return y.all(U).then(function(){return M.db=N.db,Ve(M)}).then(function(Z){return M.db=Z,nt(M,T._defaultConfig.version)?ut(M):Z}).then(function(Z){M.db=N.db=Z,T._dbInfo=M;for(var oe=0;oe<Y.length;oe++){var Me=Y[oe];Me!==T&&(Me._dbInfo.db=M.db,Me._dbInfo.version=M.version)}})}function he(C,T){var M=this;C=k(C);var B=new y(function(N,U){M.ready().then(function(){ne(M._dbInfo,I,function(_,V){if(_)return U(_);try{var z=V.objectStore(M._dbInfo.storeName),Y=z.get(C);Y.onsuccess=function(){var Z=Y.result;Z===void 0&&(Z=null),yt(Z)&&(Z=rt(Z)),N(Z)},Y.onerror=function(){U(Y.error)}}catch(Z){U(Z)}})}).catch(U)});return v(B,T),B}function He(C,T){var M=this,B=new y(function(N,U){M.ready().then(function(){ne(M._dbInfo,I,function(_,V){if(_)return U(_);try{var z=V.objectStore(M._dbInfo.storeName),Y=z.openCursor(),Z=1;Y.onsuccess=function(){var oe=Y.result;if(oe){var Me=oe.value;yt(Me)&&(Me=rt(Me));var Be=C(Me,oe.key,Z++);Be!==void 0?N(Be):oe.continue()}else N()},Y.onerror=function(){U(Y.error)}}catch(oe){U(oe)}})}).catch(U)});return v(B,T),B}function E(C,T,M){var B=this;C=k(C);var N=new y(function(U,_){var V;B.ready().then(function(){return V=B._dbInfo,$.call(T)==="[object Blob]"?W(V.db).then(function(z){return z?T:pt(T)}):T}).then(function(z){ne(B._dbInfo,S,function(Y,Z){if(Y)return _(Y);try{var oe=Z.objectStore(B._dbInfo.storeName);z===null&&(z=void 0);var Me=oe.put(z,C);Z.oncomplete=function(){z===void 0&&(z=null),U(z)},Z.onabort=Z.onerror=function(){var Be=Me.error?Me.error:Me.transaction.error;_(Be)}}catch(Be){_(Be)}})}).catch(_)});return v(N,M),N}function at(C,T){var M=this;C=k(C);var B=new y(function(N,U){M.ready().then(function(){ne(M._dbInfo,S,function(_,V){if(_)return U(_);try{var z=V.objectStore(M._dbInfo.storeName),Y=z.delete(C);V.oncomplete=function(){N()},V.onerror=function(){U(Y.error)},V.onabort=function(){var Z=Y.error?Y.error:Y.transaction.error;U(Z)}}catch(Z){U(Z)}})}).catch(U)});return v(B,T),B}function Jn(C){var T=this,M=new y(function(B,N){T.ready().then(function(){ne(T._dbInfo,S,function(U,_){if(U)return N(U);try{var V=_.objectStore(T._dbInfo.storeName),z=V.clear();_.oncomplete=function(){B()},_.onabort=_.onerror=function(){var Y=z.error?z.error:z.transaction.error;N(Y)}}catch(Y){N(Y)}})}).catch(N)});return v(M,C),M}function xn(C){var T=this,M=new y(function(B,N){T.ready().then(function(){ne(T._dbInfo,I,function(U,_){if(U)return N(U);try{var V=_.objectStore(T._dbInfo.storeName),z=V.count();z.onsuccess=function(){B(z.result)},z.onerror=function(){N(z.error)}}catch(Y){N(Y)}})}).catch(N)});return v(M,C),M}function Dt(C,T){var M=this,B=new y(function(N,U){if(C<0){N(null);return}M.ready().then(function(){ne(M._dbInfo,I,function(_,V){if(_)return U(_);try{var z=V.objectStore(M._dbInfo.storeName),Y=!1,Z=z.openKeyCursor();Z.onsuccess=function(){var oe=Z.result;if(!oe){N(null);return}C===0||Y?N(oe.key):(Y=!0,oe.advance(C))},Z.onerror=function(){U(Z.error)}}catch(oe){U(oe)}})}).catch(U)});return v(B,T),B}function Nr(C){var T=this,M=new y(function(B,N){T.ready().then(function(){ne(T._dbInfo,I,function(U,_){if(U)return N(U);try{var V=_.objectStore(T._dbInfo.storeName),z=V.openKeyCursor(),Y=[];z.onsuccess=function(){var Z=z.result;if(!Z){B(Y);return}Y.push(Z.key),Z.continue()},z.onerror=function(){N(z.error)}}catch(Z){N(Z)}})}).catch(N)});return v(M,C),M}function Mn(C,T){T=P.apply(this,arguments);var M=this.config();C=typeof C!="function"&&C||{},C.name||(C.name=C.name||M.name,C.storeName=C.storeName||M.storeName);var B=this,N;if(!C.name)N=y.reject("Invalid arguments");else{var U=C.name===M.name&&B._dbInfo.db,_=U?y.resolve(B._dbInfo.db):Ve(C).then(function(V){var z=Q[C.name],Y=z.forages;z.db=V;for(var Z=0;Z<Y.length;Z++)Y[Z]._dbInfo.db=V;return V});C.storeName?N=_.then(function(V){if(V.objectStoreNames.contains(C.storeName)){var z=V.version+1;x(C);var Y=Q[C.name],Z=Y.forages;V.close();for(var oe=0;oe<Z.length;oe++){var Me=Z[oe];Me._dbInfo.db=null,Me._dbInfo.version=z}var Be=new y(function(Ge,Ze){var Ke=m.open(C.name,z);Ke.onerror=function(Wt){var ja=Ke.result;ja.close(),Ze(Wt)},Ke.onupgradeneeded=function(){var Wt=Ke.result;Wt.deleteObjectStore(C.storeName)},Ke.onsuccess=function(){var Wt=Ke.result;Wt.close(),Ge(Wt)}});return Be.then(function(Ge){Y.db=Ge;for(var Ze=0;Ze<Z.length;Ze++){var Ke=Z[Ze];Ke._dbInfo.db=Ge,j(Ke._dbInfo)}}).catch(function(Ge){throw(se(C,Ge)||y.resolve()).catch(function(){}),Ge})}}):N=_.then(function(V){x(C);var z=Q[C.name],Y=z.forages;V.close();for(var Z=0;Z<Y.length;Z++){var oe=Y[Z];oe._dbInfo.db=null}var Me=new y(function(Be,Ge){var Ze=m.deleteDatabase(C.name);Ze.onerror=function(){var Ke=Ze.result;Ke&&Ke.close(),Ge(Ze.error)},Ze.onblocked=function(){console.warn('dropInstance blocked for database "'+C.name+'" until all open connections are closed')},Ze.onsuccess=function(){var Ke=Ze.result;Ke&&Ke.close(),Be(Ke)}});return Me.then(function(Be){z.db=Be;for(var Ge=0;Ge<Y.length;Ge++){var Ze=Y[Ge];j(Ze._dbInfo)}}).catch(function(Be){throw(se(C,Be)||y.resolve()).catch(function(){}),Be})})}return v(N,T),N}var kn={_driver:"asyncStorage",_initStorage:ie,_support:h(),iterate:He,getItem:he,setItem:E,removeItem:at,clear:Jn,length:xn,key:Dt,keys:Nr,dropInstance:Mn};function _s(){return typeof openDatabase=="function"}var lr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Li="~~local_forage_type~",qs=/^~~local_forage_type~([^~]+)~/,Sn="__lfsc__:",Et=Sn.length,ea="arbf",Da="blob",js="si08",Vs="ui08",Ws="uic8",Xs="si16",ta="si32",ra="ur16",Tn="ui32",Ln="fl32",Ga="fl64",Pn=Et+ea.length,Ha=Object.prototype.toString;function An(C){var T=C.length*.75,M=C.length,B,N=0,U,_,V,z;C[C.length-1]==="="&&(T--,C[C.length-2]==="="&&T--);var Y=new ArrayBuffer(T),Z=new Uint8Array(Y);for(B=0;B<M;B+=4)U=lr.indexOf(C[B]),_=lr.indexOf(C[B+1]),V=lr.indexOf(C[B+2]),z=lr.indexOf(C[B+3]),Z[N++]=U<<2|_>>4,Z[N++]=(_&15)<<4|V>>2,Z[N++]=(V&3)<<6|z&63;return Y}function na(C){var T=new Uint8Array(C),M="",B;for(B=0;B<T.length;B+=3)M+=lr[T[B]>>2],M+=lr[(T[B]&3)<<4|T[B+1]>>4],M+=lr[(T[B+1]&15)<<2|T[B+2]>>6],M+=lr[T[B+2]&63];return T.length%3===2?M=M.substring(0,M.length-1)+"=":T.length%3===1&&(M=M.substring(0,M.length-2)+"=="),M}function Pi(C,T){var M="";if(C&&(M=Ha.call(C)),C&&(M==="[object ArrayBuffer]"||C.buffer&&Ha.call(C.buffer)==="[object ArrayBuffer]")){var B,N=Sn;C instanceof ArrayBuffer?(B=C,N+=ea):(B=C.buffer,M==="[object Int8Array]"?N+=js:M==="[object Uint8Array]"?N+=Vs:M==="[object Uint8ClampedArray]"?N+=Ws:M==="[object Int16Array]"?N+=Xs:M==="[object Uint16Array]"?N+=ra:M==="[object Int32Array]"?N+=ta:M==="[object Uint32Array]"?N+=Tn:M==="[object Float32Array]"?N+=Ln:M==="[object Float64Array]"?N+=Ga:T(new Error("Failed to get type for BinaryArray"))),T(N+na(B))}else if(M==="[object Blob]"){var U=new FileReader;U.onload=function(){var _=Li+C.type+"~"+na(this.result);T(Sn+Da+_)},U.readAsArrayBuffer(C)}else try{T(JSON.stringify(C))}catch(_){console.error("Couldn't convert value into a JSON string: ",C),T(null,_)}}function Ai(C){if(C.substring(0,Et)!==Sn)return JSON.parse(C);var T=C.substring(Pn),M=C.substring(Et,Pn),B;if(M===Da&&qs.test(T)){var N=T.match(qs);B=N[1],T=T.substring(N[0].length)}var U=An(T);switch(M){case ea:return U;case Da:return b([U],{type:B});case js:return new Int8Array(U);case Vs:return new Uint8Array(U);case Ws:return new Uint8ClampedArray(U);case Xs:return new Int16Array(U);case ra:return new Uint16Array(U);case ta:return new Int32Array(U);case Tn:return new Uint32Array(U);case Ln:return new Float32Array(U);case Ga:return new Float64Array(U);default:throw new Error("Unkown type: "+M)}}var aa={serialize:Pi,deserialize:Ai,stringToBuffer:An,bufferToString:na};function Ks(C,T,M,B){C.executeSql("CREATE TABLE IF NOT EXISTS "+T.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],M,B)}function Ei(C){var T=this,M={db:null};if(C)for(var B in C)M[B]=typeof C[B]!="string"?C[B].toString():C[B];var N=new y(function(U,_){try{M.db=openDatabase(M.name,String(M.version),M.description,M.size)}catch(V){return _(V)}M.db.transaction(function(V){Ks(V,M,function(){T._dbInfo=M,U()},function(z,Y){_(Y)})},_)});return M.serializer=aa,N}function cr(C,T,M,B,N,U){C.executeSql(M,B,N,function(_,V){V.code===V.SYNTAX_ERR?_.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[T.storeName],function(z,Y){Y.rows.length?U(z,V):Ks(z,T,function(){z.executeSql(M,B,N,U)},U)},U):U(_,V)},U)}function Fa(C,T){var M=this;C=k(C);var B=new y(function(N,U){M.ready().then(function(){var _=M._dbInfo;_.db.transaction(function(V){cr(V,_,"SELECT * FROM "+_.storeName+" WHERE key = ? LIMIT 1",[C],function(z,Y){var Z=Y.rows.length?Y.rows.item(0).value:null;Z&&(Z=_.serializer.deserialize(Z)),N(Z)},function(z,Y){U(Y)})})}).catch(U)});return v(B,T),B}function Qa(C,T){var M=this,B=new y(function(N,U){M.ready().then(function(){var _=M._dbInfo;_.db.transaction(function(V){cr(V,_,"SELECT * FROM "+_.storeName,[],function(z,Y){for(var Z=Y.rows,oe=Z.length,Me=0;Me<oe;Me++){var Be=Z.item(Me),Ge=Be.value;if(Ge&&(Ge=_.serializer.deserialize(Ge)),Ge=C(Ge,Be.key,Me+1),Ge!==void 0){N(Ge);return}}N()},function(z,Y){U(Y)})})}).catch(U)});return v(B,T),B}function En(C,T,M,B){var N=this;C=k(C);var U=new y(function(_,V){N.ready().then(function(){T===void 0&&(T=null);var z=T,Y=N._dbInfo;Y.serializer.serialize(T,function(Z,oe){oe?V(oe):Y.db.transaction(function(Me){cr(Me,Y,"INSERT OR REPLACE INTO "+Y.storeName+" (key, value) VALUES (?, ?)",[C,Z],function(){_(z)},function(Be,Ge){V(Ge)})},function(Me){if(Me.code===Me.QUOTA_ERR){if(B>0){_(En.apply(N,[C,z,M,B-1]));return}V(Me)}})})}).catch(V)});return v(U,M),U}function ee(C,T,M){return En.apply(this,[C,T,M,1])}function q(C,T){var M=this;C=k(C);var B=new y(function(N,U){M.ready().then(function(){var _=M._dbInfo;_.db.transaction(function(V){cr(V,_,"DELETE FROM "+_.storeName+" WHERE key = ?",[C],function(){N()},function(z,Y){U(Y)})})}).catch(U)});return v(B,T),B}function te(C){var T=this,M=new y(function(B,N){T.ready().then(function(){var U=T._dbInfo;U.db.transaction(function(_){cr(_,U,"DELETE FROM "+U.storeName,[],function(){B()},function(V,z){N(z)})})}).catch(N)});return v(M,C),M}function de(C){var T=this,M=new y(function(B,N){T.ready().then(function(){var U=T._dbInfo;U.db.transaction(function(_){cr(_,U,"SELECT COUNT(key) as c FROM "+U.storeName,[],function(V,z){var Y=z.rows.item(0).c;B(Y)},function(V,z){N(z)})})}).catch(N)});return v(M,C),M}function ge(C,T){var M=this,B=new y(function(N,U){M.ready().then(function(){var _=M._dbInfo;_.db.transaction(function(V){cr(V,_,"SELECT key FROM "+_.storeName+" WHERE id = ? LIMIT 1",[C+1],function(z,Y){var Z=Y.rows.length?Y.rows.item(0).key:null;N(Z)},function(z,Y){U(Y)})})}).catch(U)});return v(B,T),B}function Ee(C){var T=this,M=new y(function(B,N){T.ready().then(function(){var U=T._dbInfo;U.db.transaction(function(_){cr(_,U,"SELECT key FROM "+U.storeName,[],function(V,z){for(var Y=[],Z=0;Z<z.rows.length;Z++)Y.push(z.rows.item(Z).key);B(Y)},function(V,z){N(z)})})}).catch(N)});return v(M,C),M}function be(C){return new y(function(T,M){C.transaction(function(B){B.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(N,U){for(var _=[],V=0;V<U.rows.length;V++)_.push(U.rows.item(V).name);T({db:C,storeNames:_})},function(N,U){M(U)})},function(B){M(B)})})}function Pe(C,T){T=P.apply(this,arguments);var M=this.config();C=typeof C!="function"&&C||{},C.name||(C.name=C.name||M.name,C.storeName=C.storeName||M.storeName);var B=this,N;return C.name?N=new y(function(U){var _;C.name===M.name?_=B._dbInfo.db:_=openDatabase(C.name,"","",0),C.storeName?U({db:_,storeNames:[C.storeName]}):U(be(_))}).then(function(U){return new y(function(_,V){U.db.transaction(function(z){function Y(Be){return new y(function(Ge,Ze){z.executeSql("DROP TABLE IF EXISTS "+Be,[],function(){Ge()},function(Ke,Wt){Ze(Wt)})})}for(var Z=[],oe=0,Me=U.storeNames.length;oe<Me;oe++)Z.push(Y(U.storeNames[oe]));y.all(Z).then(function(){_()}).catch(function(Be){V(Be)})},function(z){V(z)})})}):N=y.reject("Invalid arguments"),v(N,T),N}var We={_driver:"webSQLStorage",_initStorage:Ei,_support:_s(),iterate:Qa,getItem:Fa,setItem:ee,removeItem:q,clear:te,length:de,key:ge,keys:Ee,dropInstance:Pe};function xr(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch(C){return!1}}function ur(C,T){var M=C.name+"/";return C.storeName!==T.storeName&&(M+=C.storeName+"/"),M}function vt(){var C="_localforage_support_test";try{return localStorage.setItem(C,!0),localStorage.removeItem(C),!1}catch(T){return!0}}function we(){return!vt()||localStorage.length>0}function _e(C){var T=this,M={};if(C)for(var B in C)M[B]=C[B];return M.keyPrefix=ur(C,T._defaultConfig),we()?(T._dbInfo=M,M.serializer=aa,y.resolve()):y.reject()}function Xe(C){var T=this,M=T.ready().then(function(){for(var B=T._dbInfo.keyPrefix,N=localStorage.length-1;N>=0;N--){var U=localStorage.key(N);U.indexOf(B)===0&&localStorage.removeItem(U)}});return v(M,C),M}function St(C,T){var M=this;C=k(C);var B=M.ready().then(function(){var N=M._dbInfo,U=localStorage.getItem(N.keyPrefix+C);return U&&(U=N.serializer.deserialize(U)),U});return v(B,T),B}function Jr(C,T){var M=this,B=M.ready().then(function(){for(var N=M._dbInfo,U=N.keyPrefix,_=U.length,V=localStorage.length,z=1,Y=0;Y<V;Y++){var Z=localStorage.key(Y);if(Z.indexOf(U)===0){var oe=localStorage.getItem(Z);if(oe&&(oe=N.serializer.deserialize(oe)),oe=C(oe,Z.substring(_),z++),oe!==void 0)return oe}}});return v(B,T),B}function st(C,T){var M=this,B=M.ready().then(function(){var N=M._dbInfo,U;try{U=localStorage.key(C)}catch(_){U=null}return U&&(U=U.substring(N.keyPrefix.length)),U});return v(B,T),B}function _a(C){var T=this,M=T.ready().then(function(){for(var B=T._dbInfo,N=localStorage.length,U=[],_=0;_<N;_++){var V=localStorage.key(_);V.indexOf(B.keyPrefix)===0&&U.push(V.substring(B.keyPrefix.length))}return U});return v(M,C),M}function Ui(C){var T=this,M=T.keys().then(function(B){return B.length});return v(M,C),M}function ug(C,T){var M=this;C=k(C);var B=M.ready().then(function(){var N=M._dbInfo;localStorage.removeItem(N.keyPrefix+C)});return v(B,T),B}function pg(C,T,M){var B=this;C=k(C);var N=B.ready().then(function(){T===void 0&&(T=null);var U=T;return new y(function(_,V){var z=B._dbInfo;z.serializer.serialize(T,function(Y,Z){if(Z)V(Z);else try{localStorage.setItem(z.keyPrefix+C,Y),_(U)}catch(oe){(oe.name==="QuotaExceededError"||oe.name==="NS_ERROR_DOM_QUOTA_REACHED")&&V(oe),V(oe)}})})});return v(N,M),N}function dg(C,T){if(T=P.apply(this,arguments),C=typeof C!="function"&&C||{},!C.name){var M=this.config();C.name=C.name||M.name,C.storeName=C.storeName||M.storeName}var B=this,N;return C.name?N=new y(function(U){C.storeName?U(ur(C,B._defaultConfig)):U(C.name+"/")}).then(function(U){for(var _=localStorage.length-1;_>=0;_--){var V=localStorage.key(_);V.indexOf(U)===0&&localStorage.removeItem(V)}}):N=y.reject("Invalid arguments"),v(N,T),N}var gg={_driver:"localStorageWrapper",_initStorage:_e,_support:xr(),iterate:Jr,getItem:St,setItem:pg,removeItem:ug,clear:Xe,length:Ui,key:st,keys:_a,dropInstance:dg},fg=function(T,M){return T===M||typeof T=="number"&&typeof M=="number"&&isNaN(T)&&isNaN(M)},mg=function(T,M){for(var B=T.length,N=0;N<B;){if(fg(T[N],M))return!0;N++}return!1},Ac=Array.isArray||function(C){return Object.prototype.toString.call(C)==="[object Array]"},qa={},Ec={},sa={INDEXEDDB:kn,WEBSQL:We,LOCALSTORAGE:gg},hg=[sa.INDEXEDDB._driver,sa.WEBSQL._driver,sa.LOCALSTORAGE._driver],zs=["dropInstance"],Oi=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(zs),bg={description:"",driver:hg.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function yg(C,T){C[T]=function(){var M=arguments;return C.ready().then(function(){return C[T].apply(C,M)})}}function Bi(){for(var C=1;C<arguments.length;C++){var T=arguments[C];if(T)for(var M in T)T.hasOwnProperty(M)&&(Ac(T[M])?arguments[0][M]=T[M].slice():arguments[0][M]=T[M])}return arguments[0]}var vg=function(){function C(T){d(this,C);for(var M in sa)if(sa.hasOwnProperty(M)){var B=sa[M],N=B._driver;this[M]=N,qa[N]||this.defineDriver(B)}this._defaultConfig=Bi({},bg),this._config=Bi({},this._defaultConfig,T),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return C.prototype.config=function(M){if((typeof M>"u"?"undefined":c(M))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var B in M){if(B==="storeName"&&(M[B]=M[B].replace(/\W/g,"_")),B==="version"&&typeof M[B]!="number")return new Error("Database version must be a number.");this._config[B]=M[B]}return"driver"in M&&M.driver?this.setDriver(this._config.driver):!0}else return typeof M=="string"?this._config[M]:this._config},C.prototype.defineDriver=function(M,B,N){var U=new y(function(_,V){try{var z=M._driver,Y=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!M._driver){V(Y);return}for(var Z=Oi.concat("_initStorage"),oe=0,Me=Z.length;oe<Me;oe++){var Be=Z[oe],Ge=!mg(zs,Be);if((Ge||M[Be])&&typeof M[Be]!="function"){V(Y);return}}var Ze=function(){for(var ja=function(xg){return function(){var Mg=new Error("Method "+xg+" is not implemented by the current driver"),Uc=y.reject(Mg);return v(Uc,arguments[arguments.length-1]),Uc}},Ri=0,wg=zs.length;Ri<wg;Ri++){var Ii=zs[Ri];M[Ii]||(M[Ii]=ja(Ii))}};Ze();var Ke=function(ja){qa[z]&&console.info("Redefining LocalForage driver: "+z),qa[z]=M,Ec[z]=ja,_()};"_support"in M?M._support&&typeof M._support=="function"?M._support().then(Ke,V):Ke(!!M._support):Ke(!0)}catch(Wt){V(Wt)}});return w(U,B,N),U},C.prototype.driver=function(){return this._driver||null},C.prototype.getDriver=function(M,B,N){var U=qa[M]?y.resolve(qa[M]):y.reject(new Error("Driver not found."));return w(U,B,N),U},C.prototype.getSerializer=function(M){var B=y.resolve(aa);return w(B,M),B},C.prototype.ready=function(M){var B=this,N=B._driverSet.then(function(){return B._ready===null&&(B._ready=B._initDriver()),B._ready});return w(N,M,M),N},C.prototype.setDriver=function(M,B,N){var U=this;Ac(M)||(M=[M]);var _=this._getSupportedDrivers(M);function V(){U._config.driver=U.driver()}function z(oe){return U._extend(oe),V(),U._ready=U._initStorage(U._config),U._ready}function Y(oe){return function(){var Me=0;function Be(){for(;Me<oe.length;){var Ge=oe[Me];return Me++,U._dbInfo=null,U._ready=null,U.getDriver(Ge).then(z).catch(Be)}V();var Ze=new Error("No available storage method found.");return U._driverSet=y.reject(Ze),U._driverSet}return Be()}}var Z=this._driverSet!==null?this._driverSet.catch(function(){return y.resolve()}):y.resolve();return this._driverSet=Z.then(function(){var oe=_[0];return U._dbInfo=null,U._ready=null,U.getDriver(oe).then(function(Me){U._driver=Me._driver,V(),U._wrapLibraryMethodsWithReady(),U._initDriver=Y(_)})}).catch(function(){V();var oe=new Error("No available storage method found.");return U._driverSet=y.reject(oe),U._driverSet}),w(this._driverSet,B,N),this._driverSet},C.prototype.supports=function(M){return!!Ec[M]},C.prototype._extend=function(M){Bi(this,M)},C.prototype._getSupportedDrivers=function(M){for(var B=[],N=0,U=M.length;N<U;N++){var _=M[N];this.supports(_)&&B.push(_)}return B},C.prototype._wrapLibraryMethodsWithReady=function(){for(var M=0,B=Oi.length;M<B;M++)yg(this,Oi[M])},C.prototype.createInstance=function(M){return new C(M)},C}(),Cg=new vg;a.exports=Cg},{3:3}]},{},[4])(4)})});var hp=oa((ni,mp)=>{(function(t,r){typeof ni=="object"&&typeof mp<"u"?r(ni):typeof define=="function"&&define.amd?define(["exports"],r):(t=typeof globalThis<"u"?globalThis:t||self,r(t.fastUniqueNumbers={}))})(ni,function(t){"use strict";var r=function(y){return function(v){var w=y(v);return v.add(w),w}},n=function(y){return function(v,w){return y.set(v,w),w}},s=Number.MAX_SAFE_INTEGER===void 0?9007199254740991:Number.MAX_SAFE_INTEGER,a=536870912,l=a*2,c=function(y,v){return function(w){var k=v.get(w),P=k===void 0?w.size:k<l?k+1:0;if(!w.has(P))return y(w,P);if(w.size<a){for(;w.has(P);)P=Math.floor(Math.random()*l);return y(w,P)}if(w.size>s)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;w.has(P);)P=Math.floor(Math.random()*s);return y(w,P)}},d=new WeakMap,g=n(d),m=c(g,d),h=r(m);t.addUniqueNumber=h,t.generateUniqueNumber=m})});(function(){"use strict";var t=function(ee,q){var te=function(Ee){for(var be=0,Pe=Ee.length;be<Pe;be++)de(Ee[be])},de=function(Ee){var be=Ee.target,Pe=Ee.attributeName,We=Ee.oldValue;be.attributeChangedCallback(Pe,We,be.getAttribute(Pe))};return function(ge,Ee){var be=ge.constructor.observedAttributes;return be&&ee(Ee).then(function(){new q(te).observe(ge,{attributes:!0,attributeOldValue:!0,attributeFilter:be});for(var Pe=0,We=be.length;Pe<We;Pe++)ge.hasAttribute(be[Pe])&&de({target:ge,attributeName:be[Pe],oldValue:null})}),ge}};function r(ee,q){if(ee){if(typeof ee=="string")return n(ee,q);var te=Object.prototype.toString.call(ee).slice(8,-1);if(te==="Object"&&ee.constructor&&(te=ee.constructor.name),te==="Map"||te==="Set")return Array.from(ee);if(te==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(te))return n(ee,q)}}function n(ee,q){(q==null||q>ee.length)&&(q=ee.length);for(var te=0,de=new Array(q);te<q;te++)de[te]=ee[te];return de}function s(ee,q){var te=typeof Symbol<"u"&&ee[Symbol.iterator]||ee["@@iterator"];if(!te){if(Array.isArray(ee)||(te=r(ee))||q&&ee&&typeof ee.length=="number"){te&&(ee=te);var de=0,ge=function(){};return{s:ge,n:function(){return de>=ee.length?{done:!0}:{done:!1,value:ee[de++]}},e:function(We){throw We},f:ge}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ee=!0,be=!1,Pe;return{s:function(){te=te.call(ee)},n:function(){var We=te.next();return Ee=We.done,We},e:function(We){be=!0,Pe=We},f:function(){try{!Ee&&te.return!=null&&te.return()}finally{if(be)throw Pe}}}}var a=!0,l=!1,c="querySelectorAll",d=function(q){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document,de=arguments.length>2&&arguments[2]!==void 0?arguments[2]:MutationObserver,ge=arguments.length>3&&arguments[3]!==void 0?arguments[3]:["*"],Ee=function We(xr,ur,vt,we,_e,Xe){var St=s(xr),Jr;try{for(St.s();!(Jr=St.n()).done;){var st=Jr.value;(Xe||c in st)&&(_e?vt.has(st)||(vt.add(st),we.delete(st),q(st,_e)):we.has(st)||(we.add(st),vt.delete(st),q(st,_e)),Xe||We(st[c](ur),ur,vt,we,_e,a))}}catch(_a){St.e(_a)}finally{St.f()}},be=new de(function(We){if(ge.length){var xr=ge.join(","),ur=new Set,vt=new Set,we=s(We),_e;try{for(we.s();!(_e=we.n()).done;){var Xe=_e.value,St=Xe.addedNodes,Jr=Xe.removedNodes;Ee(Jr,xr,ur,vt,l,l),Ee(St,xr,ur,vt,a,l)}}catch(st){we.e(st)}finally{we.f()}}}),Pe=be.observe;return(be.observe=function(We){return Pe.call(be,We,{subtree:a,childList:a})})(te),be},g="querySelectorAll",m=self,h=m.document,b=m.Element,y=m.MutationObserver,v=m.Set,w=m.WeakMap,k=function(q){return g in q},P=[].filter,A=function(ee){var q=new w,te=function(we){for(var _e=0,Xe=we.length;_e<Xe;_e++)q.delete(we[_e])},de=function(){for(var we=xr.takeRecords(),_e=0,Xe=we.length;_e<Xe;_e++)be(P.call(we[_e].removedNodes,k),!1),be(P.call(we[_e].addedNodes,k),!0)},ge=function(we){return we.matches||we.webkitMatchesSelector||we.msMatchesSelector},Ee=function(we,_e){var Xe;if(_e)for(var St,Jr=ge(we),st=0,_a=Pe.length;st<_a;st++)Jr.call(we,St=Pe[st])&&(q.has(we)||q.set(we,new v),Xe=q.get(we),Xe.has(St)||(Xe.add(St),ee.handle(we,_e,St)));else q.has(we)&&(Xe=q.get(we),q.delete(we),Xe.forEach(function(Ui){ee.handle(we,_e,Ui)}))},be=function(we){for(var _e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,Xe=0,St=we.length;Xe<St;Xe++)Ee(we[Xe],_e)},Pe=ee.query,We=ee.root||h,xr=d(Ee,We,y,Pe),ur=b.prototype.attachShadow;return ur&&(b.prototype.attachShadow=function(vt){var we=ur.call(this,vt);return xr.observe(we),we}),Pe.length&&be(We[g](Pe)),{drop:te,flush:de,observer:xr,parse:be}},R=self,Q=R.document,$=R.Map,I=R.MutationObserver,S=R.Object,L=R.Set,G=R.WeakMap,W=R.Element,x=R.HTMLElement,j=R.Node,se=R.Error,ce=R.TypeError,Ve=R.Reflect,ut=S.defineProperty,nt=S.keys,pt=S.getOwnPropertyNames,rt=S.setPrototypeOf,yt=!self.customElements,pe=function(q){for(var te=nt(q),de=[],ge=new L,Ee=te.length,be=0;be<Ee;be++){de[be]=q[te[be]];try{delete q[te[be]]}catch(Pe){ge.add(be)}}return function(){for(var Pe=0;Pe<Ee;Pe++)ge.has(Pe)||(q[te[Pe]]=de[Pe])}};if(yt){var ae=function(){var q=this.constructor;if(!le.has(q))throw new ce("Illegal constructor");var te=le.get(q);if(Dt)return Mn(Dt,te);var de=ne.call(Q,te);return Mn(rt(de,q.prototype),te)},ne=Q.createElement,le=new $,ie=new $,he=new $,He=new $,E=[],at=function(q,te,de){var ge=he.get(de);if(te&&!ge.isPrototypeOf(q)){var Ee=pe(q);Dt=rt(q,ge);try{new ge.constructor}finally{Dt=null,Ee()}}var be="".concat(te?"":"dis","connectedCallback");be in ge&&q[be]()},Jn=A({query:E,handle:at}),xn=Jn.parse,Dt=null,Nr=function(q){if(!ie.has(q)){var te,de=new Promise(function(ge){te=ge});ie.set(q,{$:de,_:te})}return ie.get(q).$},Mn=t(Nr,I);self.customElements={define:function(q,te){if(He.has(q))throw new se('the name "'.concat(q,'" has already been used with this registry'));le.set(te,q),he.set(q,te.prototype),He.set(q,te),E.push(q),Nr(q).then(function(){xn(Q.querySelectorAll(q))}),ie.get(q)._(te)},get:function(q){return He.get(q)},whenDefined:Nr},ut(ae.prototype=x.prototype,"constructor",{value:ae}),self.HTMLElement=ae,Q.createElement=function(ee,q){var te=q&&q.is,de=te?He.get(te):He.get(ee);return de?new de:ne.call(Q,ee)},"isConnected"in j.prototype||ut(j.prototype,"isConnected",{configurable:!0,get:function(){return!(this.ownerDocument.compareDocumentPosition(this)&this.DOCUMENT_POSITION_DISCONNECTED)}})}else if(yt=!self.customElements.get("extends-br"),yt)try{var kn=function ee(){return self.Reflect.construct(HTMLBRElement,[],ee)};kn.prototype=HTMLLIElement.prototype;var _s="extends-br";self.customElements.define("extends-br",kn,{extends:"br"}),yt=Q.createElement("br",{is:_s}).outerHTML.indexOf(_s)<0;var lr=self.customElements,Li=lr.get,qs=lr.whenDefined;self.customElements.whenDefined=function(ee){var q=this;return qs.call(this,ee).then(function(te){return te||Li.call(q,ee)})}}catch(ee){}if(yt){var Sn=function(q){var te=ta.get(q);aa(te.querySelectorAll(this),q.isConnected)},Et=self.customElements,ea=Q.createElement,Da=Et.define,js=Et.get,Vs=Et.upgrade,Ws=Ve||{construct:function(q){return q.call(this)}},Xs=Ws.construct,ta=new G,ra=new L,Tn=new $,Ln=new $,Ga=new $,Pn=new $,Ha=[],An=[],na=function(q){return Pn.get(q)||js.call(Et,q)},Pi=function(q,te,de){var ge=Ga.get(de);if(te&&!ge.isPrototypeOf(q)){var Ee=pe(q);En=rt(q,ge);try{new ge.constructor}finally{En=null,Ee()}}var be="".concat(te?"":"dis","connectedCallback");be in ge&&q[be]()},Ai=A({query:An,handle:Pi}),aa=Ai.parse,Ks=A({query:Ha,handle:function(q,te){ta.has(q)&&(te?ra.add(q):ra.delete(q),An.length&&Sn.call(An,q))}}),Ei=Ks.parse,cr=W.prototype.attachShadow;cr&&(W.prototype.attachShadow=function(ee){var q=cr.call(this,ee);return ta.set(this,q),q});var Fa=function(q){if(!Ln.has(q)){var te,de=new Promise(function(ge){te=ge});Ln.set(q,{$:de,_:te})}return Ln.get(q).$},Qa=t(Fa,I),En=null;pt(self).filter(function(ee){return/^HTML.*Element$/.test(ee)}).forEach(function(ee){var q=self[ee];function te(){var de=this.constructor;if(!Tn.has(de))throw new ce("Illegal constructor");var ge=Tn.get(de),Ee=ge.is,be=ge.tag;if(Ee){if(En)return Qa(En,Ee);var Pe=ea.call(Q,be);return Pe.setAttribute("is",Ee),Qa(rt(Pe,de.prototype),Ee)}else return Xs.call(this,q,[],de)}ut(te.prototype=q.prototype,"constructor",{value:te}),ut(self,ee,{value:te})}),Q.createElement=function(ee,q){var te=q&&q.is;if(te){var de=Pn.get(te);if(de&&Tn.get(de).tag===ee)return new de}var ge=ea.call(Q,ee);return te&&ge.setAttribute("is",te),ge},Et.get=na,Et.whenDefined=Fa,Et.upgrade=function(ee){var q=ee.getAttribute("is");if(q){var te=Pn.get(q);if(te){Qa(rt(ee,te.prototype),q);return}}Vs.call(Et,ee)},Et.define=function(ee,q,te){if(na(ee))throw new se("'".concat(ee,"' has already been defined as a custom element"));var de,ge=te&&te.extends;Tn.set(q,ge?{is:ee,tag:ge}:{is:"",tag:ee}),ge?(de="".concat(ge,'[is="').concat(ee,'"]'),Ga.set(de,q.prototype),Pn.set(ee,q),An.push(de)):(Da.apply(Et,arguments),Ha.push(de=ee)),Fa(ee).then(function(){ge?(aa(Q.querySelectorAll(de)),ra.forEach(Sn,[de])):Ei(Q.querySelectorAll(de))}),Ln.get(ee)._(q)}}})();var Js=Mr($c()),kr=9e15,Zs=function(){for(var t=[],r=-323;r<=308;r++)t.push(+("1e"+r));return function(n){return t[n+323]}}(),X=function(t){return t instanceof rn?t:new rn(t)},Ut=function(t,r){return new rn().fromMantissaExponent(t,r)},Un=function(t,r){return new rn().fromMantissaExponent_noNormalize(t,r)};function Ug(t,r,n,s){var a=r.mul(n.pow(s));return rn.floor(t.div(a).mul(n.sub(1)).add(1).log10()/n.log10())}function Og(t,r,n,s){return r.mul(n.pow(s)).mul(rn.sub(1,n.pow(t))).div(rn.sub(1,n))}var rn=function(){function t(r){this.mantissa=NaN,this.exponent=NaN,r===void 0?(this.m=0,this.e=0):r instanceof t?this.fromDecimal(r):typeof r=="number"?this.fromNumber(r):this.fromString(r)}return Object.defineProperty(t.prototype,"m",{get:function(){return this.mantissa},set:function(r){this.mantissa=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"e",{get:function(){return this.exponent},set:function(r){this.exponent=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"s",{get:function(){return this.sign()},set:function(r){if(r===0)return this.e=0,void(this.m=0);this.sgn()!==r&&(this.m=-this.m)},enumerable:!1,configurable:!0}),t.fromMantissaExponent=function(r,n){return new t().fromMantissaExponent(r,n)},t.fromMantissaExponent_noNormalize=function(r,n){return new t().fromMantissaExponent_noNormalize(r,n)},t.fromDecimal=function(r){return new t().fromDecimal(r)},t.fromNumber=function(r){return new t().fromNumber(r)},t.fromString=function(r){return new t().fromString(r)},t.fromValue=function(r){return new t().fromValue(r)},t.fromValue_noAlloc=function(r){return r instanceof t?r:new t(r)},t.abs=function(r){return X(r).abs()},t.neg=function(r){return X(r).neg()},t.negate=function(r){return X(r).neg()},t.negated=function(r){return X(r).neg()},t.sign=function(r){return X(r).sign()},t.sgn=function(r){return X(r).sign()},t.round=function(r){return X(r).round()},t.floor=function(r){return X(r).floor()},t.ceil=function(r){return X(r).ceil()},t.trunc=function(r){return X(r).trunc()},t.add=function(r,n){return X(r).add(n)},t.plus=function(r,n){return X(r).add(n)},t.sub=function(r,n){return X(r).sub(n)},t.subtract=function(r,n){return X(r).sub(n)},t.minus=function(r,n){return X(r).sub(n)},t.mul=function(r,n){return X(r).mul(n)},t.multiply=function(r,n){return X(r).mul(n)},t.times=function(r,n){return X(r).mul(n)},t.div=function(r,n){return X(r).div(n)},t.divide=function(r,n){return X(r).div(n)},t.recip=function(r){return X(r).recip()},t.reciprocal=function(r){return X(r).recip()},t.reciprocate=function(r){return X(r).reciprocate()},t.cmp=function(r,n){return X(r).cmp(n)},t.compare=function(r,n){return X(r).cmp(n)},t.eq=function(r,n){return X(r).eq(n)},t.equals=function(r,n){return X(r).eq(n)},t.neq=function(r,n){return X(r).neq(n)},t.notEquals=function(r,n){return X(r).notEquals(n)},t.lt=function(r,n){return X(r).lt(n)},t.lte=function(r,n){return X(r).lte(n)},t.gt=function(r,n){return X(r).gt(n)},t.gte=function(r,n){return X(r).gte(n)},t.max=function(r,n){return X(r).max(n)},t.min=function(r,n){return X(r).min(n)},t.clamp=function(r,n,s){return X(r).clamp(n,s)},t.clampMin=function(r,n){return X(r).clampMin(n)},t.clampMax=function(r,n){return X(r).clampMax(n)},t.cmp_tolerance=function(r,n,s){return X(r).cmp_tolerance(n,s)},t.compare_tolerance=function(r,n,s){return X(r).cmp_tolerance(n,s)},t.eq_tolerance=function(r,n,s){return X(r).eq_tolerance(n,s)},t.equals_tolerance=function(r,n,s){return X(r).eq_tolerance(n,s)},t.neq_tolerance=function(r,n,s){return X(r).neq_tolerance(n,s)},t.notEquals_tolerance=function(r,n,s){return X(r).notEquals_tolerance(n,s)},t.lt_tolerance=function(r,n,s){return X(r).lt_tolerance(n,s)},t.lte_tolerance=function(r,n,s){return X(r).lte_tolerance(n,s)},t.gt_tolerance=function(r,n,s){return X(r).gt_tolerance(n,s)},t.gte_tolerance=function(r,n,s){return X(r).gte_tolerance(n,s)},t.log10=function(r){return X(r).log10()},t.absLog10=function(r){return X(r).absLog10()},t.pLog10=function(r){return X(r).pLog10()},t.log=function(r,n){return X(r).log(n)},t.log2=function(r){return X(r).log2()},t.ln=function(r){return X(r).ln()},t.logarithm=function(r,n){return X(r).logarithm(n)},t.pow10=function(r){return Number.isInteger(r)?Un(1,r):Ut(Math.pow(10,r%1),Math.trunc(r))},t.pow=function(r,n){return typeof r=="number"&&r===10&&typeof n=="number"&&Number.isInteger(n)?Un(1,n):X(r).pow(n)},t.exp=function(r){return X(r).exp()},t.sqr=function(r){return X(r).sqr()},t.sqrt=function(r){return X(r).sqrt()},t.cube=function(r){return X(r).cube()},t.cbrt=function(r){return X(r).cbrt()},t.dp=function(r){return X(r).dp()},t.decimalPlaces=function(r){return X(r).dp()},t.affordGeometricSeries=function(r,n,s,a){return Ug(X(r),X(n),X(s),a)},t.sumGeometricSeries=function(r,n,s,a){return Og(r,X(n),X(s),a)},t.affordArithmeticSeries=function(r,n,s,a){return function(l,c,d,g){var m=c.add(g.mul(d)).sub(d.div(2)),h=m.pow(2);return m.neg().add(h.add(d.mul(l).mul(2)).sqrt()).div(d).floor()}(X(r),X(n),X(s),X(a))},t.sumArithmeticSeries=function(r,n,s,a){return function(l,c,d,g){var m=c.add(g.mul(d));return l.div(2).mul(m.mul(2).plus(l.sub(1).mul(d)))}(X(r),X(n),X(s),X(a))},t.efficiencyOfPurchase=function(r,n,s){return function(a,l,c){return a.div(l).add(a.div(c))}(X(r),X(n),X(s))},t.randomDecimalForTesting=function(r){if(20*Math.random()<1)return Un(0,0);var n=10*Math.random();10*Math.random()<1&&(n=Math.round(n)),n*=Math.sign(2*Math.random()-1);var s=Math.floor(Math.random()*r*2)-r;return Ut(n,s)},t.prototype.normalize=function(){if(this.m>=1&&this.m<10)return this;if(this.m===0)return this.m=0,this.e=0,this;var r=Math.floor(Math.log10(Math.abs(this.m)));return this.m=r===-324?10*this.m/1e-323:this.m/Zs(r),this.e+=r,this},t.prototype.fromMantissaExponent=function(r,n){return isFinite(r)&&isFinite(n)?(this.m=r,this.e=n,this.normalize(),this):(r=Number.NaN,n=Number.NaN,this)},t.prototype.fromMantissaExponent_noNormalize=function(r,n){return this.m=r,this.e=n,this},t.prototype.fromDecimal=function(r){return this.m=r.m,this.e=r.e,this},t.prototype.fromNumber=function(r){return isNaN(r)?(this.m=Number.NaN,this.e=Number.NaN):r===Number.POSITIVE_INFINITY?(this.m=1,this.e=kr):r===Number.NEGATIVE_INFINITY?(this.m=-1,this.e=kr):r===0?(this.m=0,this.e=0):(this.e=Math.floor(Math.log10(Math.abs(r))),this.m=this.e===-324?10*r/1e-323:r/Zs(this.e),this.normalize()),this},t.prototype.fromString=function(r){if(r.indexOf("e")!==-1){var n=r.split("e");this.m=parseFloat(n[0]),this.e=parseFloat(n[1]),this.normalize()}else if(r==="NaN")this.m=Number.NaN,this.e=Number.NaN;else if(this.fromNumber(parseFloat(r)),isNaN(this.m))throw Error("[DecimalError] Invalid argument: "+r);return this},t.prototype.fromValue=function(r){return r instanceof t?this.fromDecimal(r):typeof r=="number"?this.fromNumber(r):typeof r=="string"?this.fromString(r):(this.m=0,this.e=0,this)},t.prototype.toNumber=function(){if(!isFinite(this.e))return Number.NaN;if(this.e>308)return this.m>0?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY;if(this.e<-324)return 0;if(this.e===-324)return this.m>0?5e-324:-5e-324;var r=this.m*Zs(this.e);if(!isFinite(r)||this.e<0)return r;var n=Math.round(r);return Math.abs(n-r)<1e-10?n:r},t.prototype.mantissaWithDecimalPlaces=function(r){if(isNaN(this.m)||isNaN(this.e))return Number.NaN;if(this.m===0)return 0;var n=r+1,s=Math.ceil(Math.log10(Math.abs(this.m))),a=Math.round(this.m*Math.pow(10,n-s))*Math.pow(10,s-n);return parseFloat(a.toFixed(Math.max(n-s,0)))},t.prototype.toString=function(){return isNaN(this.m)||isNaN(this.e)?"NaN":this.e>=kr?this.m>0?"Infinity":"-Infinity":this.e<=-kr||this.m===0?"0":this.e<21&&this.e>-7?this.toNumber().toString():this.m+"e"+(this.e>=0?"+":"")+this.e},t.prototype.toExponential=function(r){if(isNaN(this.m)||isNaN(this.e))return"NaN";if(this.e>=kr)return this.m>0?"Infinity":"-Infinity";if(this.e<=-kr||this.m===0)return"0"+(r>0?(0,Js.default)(".",r+1,"0"):"")+"e+0";if(this.e>-324&&this.e<308)return this.toNumber().toExponential(r);isFinite(r)||(r=17);var n=r+1,s=Math.max(1,Math.ceil(Math.log10(Math.abs(this.m))));return(Math.round(this.m*Math.pow(10,n-s))*Math.pow(10,s-n)).toFixed(Math.max(n-s,0))+"e"+(this.e>=0?"+":"")+this.e},t.prototype.toFixed=function(r){return isNaN(this.m)||isNaN(this.e)?"NaN":this.e>=kr?this.m>0?"Infinity":"-Infinity":this.e<=-kr||this.m===0?"0"+(r>0?(0,Js.default)(".",r+1,"0"):""):this.e>=17?this.m.toString().replace(".","").padEnd(this.e+1,"0")+(r>0?(0,Js.default)(".",r+1,"0"):""):this.toNumber().toFixed(r)},t.prototype.toPrecision=function(r){return this.e<=-7?this.toExponential(r-1):r>this.e?this.toFixed(r-this.e-1):this.toExponential(r-1)},t.prototype.valueOf=function(){return this.toString()},t.prototype.toJSON=function(){return this.toString()},t.prototype.toStringWithDecimalPlaces=function(r){return this.toExponential(r)},t.prototype.abs=function(){return Un(Math.abs(this.m),this.e)},t.prototype.neg=function(){return Un(-this.m,this.e)},t.prototype.negate=function(){return this.neg()},t.prototype.negated=function(){return this.neg()},t.prototype.sign=function(){return Math.sign(this.m)},t.prototype.sgn=function(){return this.sign()},t.prototype.round=function(){return this.e<-1?new t(0):this.e<17?new t(Math.round(this.toNumber())):this},t.prototype.floor=function(){return this.e<-1?Math.sign(this.m)>=0?new t(0):new t(-1):this.e<17?new t(Math.floor(this.toNumber())):this},t.prototype.ceil=function(){return this.e<-1?Math.sign(this.m)>0?new t(1):new t(0):this.e<17?new t(Math.ceil(this.toNumber())):this},t.prototype.trunc=function(){return this.e<0?new t(0):this.e<17?new t(Math.trunc(this.toNumber())):this},t.prototype.add=function(r){var n,s,a=X(r);if(this.m===0)return a;if(a.m===0)return this;if(this.e>=a.e?(n=this,s=a):(n=a,s=this),n.e-s.e>17)return n;var l=Math.round(1e14*n.m+1e14*s.m*Zs(s.e-n.e));return Ut(l,n.e-14)},t.prototype.plus=function(r){return this.add(r)},t.prototype.sub=function(r){return this.add(X(r).neg())},t.prototype.subtract=function(r){return this.sub(r)},t.prototype.minus=function(r){return this.sub(r)},t.prototype.mul=function(r){if(typeof r=="number")return r<1e307&&r>-1e307?Ut(this.m*r,this.e):Ut(1e-307*this.m*r,this.e+307);var n=typeof r=="string"?new t(r):r;return Ut(this.m*n.m,this.e+n.e)},t.prototype.multiply=function(r){return this.mul(r)},t.prototype.times=function(r){return this.mul(r)},t.prototype.div=function(r){return this.mul(X(r).recip())},t.prototype.divide=function(r){return this.div(r)},t.prototype.divideBy=function(r){return this.div(r)},t.prototype.dividedBy=function(r){return this.div(r)},t.prototype.recip=function(){return Ut(1/this.m,-this.e)},t.prototype.reciprocal=function(){return this.recip()},t.prototype.reciprocate=function(){return this.recip()},t.prototype.cmp=function(r){var n=X(r);if(this.m===0){if(n.m===0)return 0;if(n.m<0)return 1;if(n.m>0)return-1}if(n.m===0){if(this.m<0)return-1;if(this.m>0)return 1}if(this.m>0)return n.m<0||this.e>n.e?1:this.e<n.e?-1:this.m>n.m?1:this.m<n.m?-1:0;if(this.m<0)return n.m>0||this.e>n.e?-1:this.e<n.e||this.m>n.m?1:this.m<n.m?-1:0;throw Error("Unreachable code")},t.prototype.compare=function(r){return this.cmp(r)},t.prototype.eq=function(r){var n=X(r);return this.e===n.e&&this.m===n.m},t.prototype.equals=function(r){return this.eq(r)},t.prototype.neq=function(r){return!this.eq(r)},t.prototype.notEquals=function(r){return this.neq(r)},t.prototype.lt=function(r){var n=X(r);return this.m===0?n.m>0:n.m===0?this.m<=0:this.e===n.e?this.m<n.m:this.m>0?n.m>0&&this.e<n.e:n.m>0||this.e>n.e},t.prototype.lte=function(r){return!this.gt(r)},t.prototype.gt=function(r){var n=X(r);return this.m===0?n.m<0:n.m===0?this.m>0:this.e===n.e?this.m>n.m:this.m>0?n.m<0||this.e>n.e:n.m<0&&this.e<n.e},t.prototype.gte=function(r){return!this.lt(r)},t.prototype.max=function(r){var n=X(r);return this.lt(n)?n:this},t.prototype.min=function(r){var n=X(r);return this.gt(n)?n:this},t.prototype.clamp=function(r,n){return this.max(r).min(n)},t.prototype.clampMin=function(r){return this.max(r)},t.prototype.clampMax=function(r){return this.min(r)},t.prototype.cmp_tolerance=function(r,n){var s=X(r);return this.eq_tolerance(s,n)?0:this.cmp(s)},t.prototype.compare_tolerance=function(r,n){return this.cmp_tolerance(r,n)},t.prototype.eq_tolerance=function(r,n){var s=X(r);return t.lte(this.sub(s).abs(),t.max(this.abs(),s.abs()).mul(n))},t.prototype.equals_tolerance=function(r,n){return this.eq_tolerance(r,n)},t.prototype.neq_tolerance=function(r,n){return!this.eq_tolerance(r,n)},t.prototype.notEquals_tolerance=function(r,n){return this.neq_tolerance(r,n)},t.prototype.lt_tolerance=function(r,n){var s=X(r);return!this.eq_tolerance(s,n)&&this.lt(s)},t.prototype.lte_tolerance=function(r,n){var s=X(r);return this.eq_tolerance(s,n)||this.lt(s)},t.prototype.gt_tolerance=function(r,n){var s=X(r);return!this.eq_tolerance(s,n)&&this.gt(s)},t.prototype.gte_tolerance=function(r,n){var s=X(r);return this.eq_tolerance(s,n)||this.gt(s)},t.prototype.log10=function(){return this.e+Math.log10(this.m)},t.prototype.absLog10=function(){return this.e+Math.log10(Math.abs(this.m))},t.prototype.pLog10=function(){return this.m<=0||this.e<0?0:this.log10()},t.prototype.log=function(r){return Math.LN10/Math.log(r)*this.log10()},t.prototype.log2=function(){return 3.321928094887362*this.log10()},t.prototype.ln=function(){return 2.302585092994045*this.log10()},t.prototype.logarithm=function(r){return this.log(r)},t.prototype.pow=function(r){var n,s=r instanceof t?r.toNumber():r,a=this.e*s;if(Number.isSafeInteger(a)&&(n=Math.pow(this.m,s),isFinite(n)&&n!==0))return Ut(n,a);var l=Math.trunc(a),c=a-l;if(n=Math.pow(10,s*Math.log10(this.m)+c),isFinite(n)&&n!==0)return Ut(n,l);var d=t.pow10(s*this.absLog10());return this.sign()===-1?Math.abs(s%2)===1?d.neg():Math.abs(s%2)===0?d:new t(Number.NaN):d},t.prototype.pow_base=function(r){return X(r).pow(this)},t.prototype.factorial=function(){var r=this.toNumber()+1;return t.pow(r/Math.E*Math.sqrt(r*Math.sinh(1/r)+1/(810*Math.pow(r,6))),r).mul(Math.sqrt(2*Math.PI/r))},t.prototype.exp=function(){var r=this.toNumber();return-706<r&&r<709?t.fromNumber(Math.exp(r)):t.pow(Math.E,r)},t.prototype.sqr=function(){return Ut(Math.pow(this.m,2),2*this.e)},t.prototype.sqrt=function(){return this.m<0?new t(Number.NaN):this.e%2!=0?Ut(3.16227766016838*Math.sqrt(this.m),Math.floor(this.e/2)):Ut(Math.sqrt(this.m),Math.floor(this.e/2))},t.prototype.cube=function(){return Ut(Math.pow(this.m,3),3*this.e)},t.prototype.cbrt=function(){var r=1,n=this.m;n<0&&(r=-1,n=-n);var s=r*Math.pow(n,1/3),a=this.e%3;return Ut(a===1||a===-1?2.154434690031883*s:a!==0?4.641588833612778*s:s,Math.floor(this.e/3))},t.prototype.sinh=function(){return this.exp().sub(this.negate().exp()).div(2)},t.prototype.cosh=function(){return this.exp().add(this.negate().exp()).div(2)},t.prototype.tanh=function(){return this.sinh().div(this.cosh())},t.prototype.asinh=function(){return t.ln(this.add(this.sqr().add(1).sqrt()))},t.prototype.acosh=function(){return t.ln(this.add(this.sqr().sub(1).sqrt()))},t.prototype.atanh=function(){return this.abs().gte(1)?Number.NaN:t.ln(this.add(1).div(new t(1).sub(this)))/2},t.prototype.ascensionPenalty=function(r){return r===0?this:this.pow(Math.pow(10,-r))},t.prototype.egg=function(){return this.add(9)},t.prototype.lessThanOrEqualTo=function(r){return this.cmp(r)<1},t.prototype.lessThan=function(r){return this.cmp(r)<0},t.prototype.greaterThanOrEqualTo=function(r){return this.cmp(r)>-1},t.prototype.greaterThan=function(r){return this.cmp(r)>0},t.prototype.decimalPlaces=function(){return this.dp()},t.prototype.dp=function(){if(!isFinite(this.mantissa))return NaN;if(this.exponent>=17)return 0;for(var r=this.mantissa,n=-this.exponent,s=1;Math.abs(Math.round(r*s)/s-r)>1e-10;)s*=10,n++;return n>0?n:0},Object.defineProperty(t,"MAX_VALUE",{get:function(){return Bg},enumerable:!1,configurable:!0}),Object.defineProperty(t,"MIN_VALUE",{get:function(){return Rg},enumerable:!1,configurable:!0}),Object.defineProperty(t,"NUMBER_MAX_VALUE",{get:function(){return Ig},enumerable:!1,configurable:!0}),Object.defineProperty(t,"NUMBER_MIN_VALUE",{get:function(){return Ng},enumerable:!1,configurable:!0}),t}(),Bg=Un(1,kr),Rg=Un(1,-kr),Ig=X(Number.MAX_VALUE),Ng=X(Number.MIN_VALUE),f=rn;var cg=Mr(Hi());function dt(t){"@babel/helpers - typeof";return dt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},dt(t)}function Xt(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function Fi(t,r){if(dt(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r||"default");if(dt(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function Wa(t){var r=Fi(t,"string");return dt(r)=="symbol"?r:r+""}function Dc(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,Wa(s.key),s)}}function Kt(t,r,n){return r&&Dc(t.prototype,r),n&&Dc(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function pr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xa(t,r){return Xa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},Xa(t,r)}function ia(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&Xa(t,r)}function On(t,r){if(r&&(dt(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pr(t)}function zt(t){return zt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zt(t)}function Sr(t,r,n){return r=Wa(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function Qi(t){if(Array.isArray(t))return t}function _i(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function to(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=t[n];return s}function qi(t,r){if(t){if(typeof t=="string")return to(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return to(t,r)}}function ji(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vi(t){return Qi(t)||_i(t)||qi(t)||ji()}function Gc(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function Hc(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?Gc(Object(n),!0).forEach(function(s){Sr(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gc(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}var $g={type:"logger",log:function(r){this.output("log",r)},warn:function(r){this.output("warn",r)},error:function(r){this.output("error",r)},output:function(r,n){console&&console[r]&&console[r].apply(console,n)}},Dg=function(){function t(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Xt(this,t),this.init(r,n)}return Kt(t,[{key:"init",value:function(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=s.prefix||"i18next:",this.logger=n||$g,this.options=s,this.debug=s.debug}},{key:"setDebug",value:function(n){this.debug=n}},{key:"log",value:function(){for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return this.forward(s,"log","",!0)}},{key:"warn",value:function(){for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return this.forward(s,"warn","",!0)}},{key:"error",value:function(){for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return this.forward(s,"error","")}},{key:"deprecate",value:function(){for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return this.forward(s,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(n,s,a,l){return l&&!this.debug?null:(typeof n[0]=="string"&&(n[0]="".concat(a).concat(this.prefix," ").concat(n[0])),this.logger[s](n))}},{key:"create",value:function(n){return new t(this.logger,Hc(Hc({},{prefix:"".concat(this.prefix,":").concat(n,":")}),this.options))}},{key:"clone",value:function(n){return n=n||this.options,n.prefix=n.prefix||this.prefix,new t(this.logger,n)}}]),t}(),Lr=new Dg,nn=function(){function t(){Xt(this,t),this.observers={}}return Kt(t,[{key:"on",value:function(n,s){var a=this;return n.split(" ").forEach(function(l){a.observers[l]=a.observers[l]||[],a.observers[l].push(s)}),this}},{key:"off",value:function(n,s){if(this.observers[n]){if(!s){delete this.observers[n];return}this.observers[n]=this.observers[n].filter(function(a){return a!==s})}}},{key:"emit",value:function(n){for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];if(this.observers[n]){var c=[].concat(this.observers[n]);c.forEach(function(g){g.apply(void 0,a)})}if(this.observers["*"]){var d=[].concat(this.observers["*"]);d.forEach(function(g){g.apply(g,[n].concat(a))})}}}]),t}();function Ka(){var t,r,n=new Promise(function(s,a){t=s,r=a});return n.resolve=t,n.reject=r,n}function Fc(t){return t==null?"":""+t}function Gg(t,r,n){t.forEach(function(s){r[s]&&(n[s]=r[s])})}function Xi(t,r,n){function s(d){return d&&d.indexOf("###")>-1?d.replace(/###/g,"."):d}function a(){return!t||typeof t=="string"}for(var l=typeof r!="string"?[].concat(r):r.split(".");l.length>1;){if(a())return{};var c=s(l.shift());!t[c]&&n&&(t[c]=new n),Object.prototype.hasOwnProperty.call(t,c)?t=t[c]:t={}}return a()?{}:{obj:t,k:s(l.shift())}}function Qc(t,r,n){var s=Xi(t,r,Object),a=s.obj,l=s.k;a[l]=n}function Hg(t,r,n,s){var a=Xi(t,r,Object),l=a.obj,c=a.k;l[c]=l[c]||[],s&&(l[c]=l[c].concat(n)),s||l[c].push(n)}function ao(t,r){var n=Xi(t,r),s=n.obj,a=n.k;if(s)return s[a]}function Fg(t,r,n){var s=ao(t,n);return s!==void 0?s:ao(r,n)}function nu(t,r,n){for(var s in r)s!=="__proto__"&&s!=="constructor"&&(s in t?typeof t[s]=="string"||t[s]instanceof String||typeof r[s]=="string"||r[s]instanceof String?n&&(t[s]=r[s]):nu(t[s],r[s],n):t[s]=r[s]);return t}function la(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var Qg={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function _g(t){return typeof t=="string"?t.replace(/[&<>"'\/]/g,function(r){return Qg[r]}):t}var io=typeof window<"u"&&window.navigator&&typeof window.navigator.userAgentData>"u"&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,qg=[" ",",","?","!",";"];function jg(t,r,n){r=r||"",n=n||"";var s=qg.filter(function(d){return r.indexOf(d)<0&&n.indexOf(d)<0});if(s.length===0)return!0;var a=new RegExp("(".concat(s.map(function(d){return d==="?"?"\\?":d}).join("|"),")")),l=!a.test(t);if(!l){var c=t.indexOf(n);c>0&&!a.test(t.substring(0,c))&&(l=!0)}return l}function so(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(t){if(t[r])return t[r];for(var s=r.split(n),a=t,l=0;l<s.length;++l){if(!a||typeof a[s[l]]=="string"&&l+1<s.length)return;if(a[s[l]]===void 0){for(var c=2,d=s.slice(l,l+c).join(n),g=a[d];g===void 0&&s.length>l+c;)c++,d=s.slice(l,l+c).join(n),g=a[d];if(g===void 0)return;if(g===null)return null;if(r.endsWith(d)){if(typeof g=="string")return g;if(d&&typeof g[d]=="string")return g[d]}var m=s.slice(l+c).join(n);return m?so(g,m,n):void 0}a=a[s[l]]}return a}}function _c(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function ro(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?_c(Object(n),!0).forEach(function(s){Sr(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_c(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function Vg(t){var r=Wg();return function(){var s=zt(t),a;if(r){var l=zt(this).constructor;a=Reflect.construct(s,arguments,l)}else a=s.apply(this,arguments);return On(this,a)}}function Wg(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var Xg=function(t){ia(n,t);var r=Vg(n);function n(s){var a,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};return Xt(this,n),a=r.call(this),io&&nn.call(pr(a)),a.data=s||{},a.options=l,a.options.keySeparator===void 0&&(a.options.keySeparator="."),a.options.ignoreJSONStructure===void 0&&(a.options.ignoreJSONStructure=!0),a}return Kt(n,[{key:"addNamespaces",value:function(a){this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}},{key:"removeNamespaces",value:function(a){var l=this.options.ns.indexOf(a);l>-1&&this.options.ns.splice(l,1)}},{key:"getResource",value:function(a,l,c){var d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},g=d.keySeparator!==void 0?d.keySeparator:this.options.keySeparator,m=d.ignoreJSONStructure!==void 0?d.ignoreJSONStructure:this.options.ignoreJSONStructure,h=[a,l];c&&typeof c!="string"&&(h=h.concat(c)),c&&typeof c=="string"&&(h=h.concat(g?c.split(g):c)),a.indexOf(".")>-1&&(h=a.split("."));var b=ao(this.data,h);return b||!m||typeof c!="string"?b:so(this.data&&this.data[a]&&this.data[a][l],c,g)}},{key:"addResource",value:function(a,l,c,d){var g=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},m=g.keySeparator!==void 0?g.keySeparator:this.options.keySeparator,h=[a,l];c&&(h=h.concat(m?c.split(m):c)),a.indexOf(".")>-1&&(h=a.split("."),d=l,l=h[1]),this.addNamespaces(l),Qc(this.data,h,d),g.silent||this.emit("added",a,l,c,d)}},{key:"addResources",value:function(a,l,c){var d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(var g in c)(typeof c[g]=="string"||Object.prototype.toString.apply(c[g])==="[object Array]")&&this.addResource(a,l,g,c[g],{silent:!0});d.silent||this.emit("added",a,l,c)}},{key:"addResourceBundle",value:function(a,l,c,d,g){var m=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},h=[a,l];a.indexOf(".")>-1&&(h=a.split("."),d=c,c=l,l=h[1]),this.addNamespaces(l);var b=ao(this.data,h)||{};d?nu(b,c,g):b=ro(ro({},b),c),Qc(this.data,h,b),m.silent||this.emit("added",a,l,c)}},{key:"removeResourceBundle",value:function(a,l){this.hasResourceBundle(a,l)&&delete this.data[a][l],this.removeNamespaces(l),this.emit("removed",a,l)}},{key:"hasResourceBundle",value:function(a,l){return this.getResource(a,l)!==void 0}},{key:"getResourceBundle",value:function(a,l){return l||(l=this.options.defaultNS),this.options.compatibilityAPI==="v1"?ro(ro({},{}),this.getResource(a,l)):this.getResource(a,l)}},{key:"getDataByLanguage",value:function(a){return this.data[a]}},{key:"hasLanguageSomeTranslations",value:function(a){var l=this.getDataByLanguage(a),c=l&&Object.keys(l)||[];return!!c.find(function(d){return l[d]&&Object.keys(l[d]).length>0})}},{key:"toJSON",value:function(){return this.data}}]),n}(nn),au={processors:{},addPostProcessor:function(r){this.processors[r.name]=r},handle:function(r,n,s,a,l){var c=this;return r.forEach(function(d){c.processors[d]&&(n=c.processors[d].process(n,s,a,l))}),n}};function qc(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function Ct(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?qc(Object(n),!0).forEach(function(s){Sr(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qc(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function Kg(t){var r=zg();return function(){var s=zt(t),a;if(r){var l=zt(this).constructor;a=Reflect.construct(s,arguments,l)}else a=s.apply(this,arguments);return On(this,a)}}function zg(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}var jc={},Vc=function(t){ia(n,t);var r=Kg(n);function n(s){var a,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Xt(this,n),a=r.call(this),io&&nn.call(pr(a)),Gg(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],s,pr(a)),a.options=l,a.options.keySeparator===void 0&&(a.options.keySeparator="."),a.logger=Lr.create("translator"),a}return Kt(n,[{key:"changeLanguage",value:function(a){a&&(this.language=a)}},{key:"exists",value:function(a){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(a==null)return!1;var c=this.resolve(a,l);return c&&c.res!==void 0}},{key:"extractFromKey",value:function(a,l){var c=l.nsSeparator!==void 0?l.nsSeparator:this.options.nsSeparator;c===void 0&&(c=":");var d=l.keySeparator!==void 0?l.keySeparator:this.options.keySeparator,g=l.ns||this.options.defaultNS||[],m=c&&a.indexOf(c)>-1,h=!this.options.userDefinedKeySeparator&&!l.keySeparator&&!this.options.userDefinedNsSeparator&&!l.nsSeparator&&!jg(a,c,d);if(m&&!h){var b=a.match(this.interpolator.nestingRegexp);if(b&&b.length>0)return{key:a,namespaces:g};var y=a.split(c);(c!==d||c===d&&this.options.ns.indexOf(y[0])>-1)&&(g=y.shift()),a=y.join(d)}return typeof g=="string"&&(g=[g]),{key:a,namespaces:g}}},{key:"translate",value:function(a,l,c){var d=this;if(dt(l)!=="object"&&this.options.overloadTranslationOptionHandler&&(l=this.options.overloadTranslationOptionHandler(arguments)),dt(l)==="object"&&(l=Ct({},l)),l||(l={}),a==null)return"";Array.isArray(a)||(a=[String(a)]);var g=l.returnDetails!==void 0?l.returnDetails:this.options.returnDetails,m=l.keySeparator!==void 0?l.keySeparator:this.options.keySeparator,h=this.extractFromKey(a[a.length-1],l),b=h.key,y=h.namespaces,v=y[y.length-1],w=l.lng||this.language,k=l.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(w&&w.toLowerCase()==="cimode"){if(k){var P=l.nsSeparator||this.options.nsSeparator;return g?{res:"".concat(v).concat(P).concat(b),usedKey:b,exactUsedKey:b,usedLng:w,usedNS:v}:"".concat(v).concat(P).concat(b)}return g?{res:b,usedKey:b,exactUsedKey:b,usedLng:w,usedNS:v}:b}var A=this.resolve(a,l),R=A&&A.res,Q=A&&A.usedKey||b,$=A&&A.exactUsedKey||b,I=Object.prototype.toString.apply(R),S=["[object Number]","[object Function]","[object RegExp]"],L=l.joinArrays!==void 0?l.joinArrays:this.options.joinArrays,G=!this.i18nFormat||this.i18nFormat.handleAsObject,W=typeof R!="string"&&typeof R!="boolean"&&typeof R!="number";if(G&&R&&W&&S.indexOf(I)<0&&!(typeof L=="string"&&I==="[object Array]")){if(!l.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var x=this.options.returnedObjectHandler?this.options.returnedObjectHandler(Q,R,Ct(Ct({},l),{},{ns:y})):"key '".concat(b," (").concat(this.language,")' returned an object instead of string.");return g?(A.res=x,A):x}if(m){var j=I==="[object Array]",se=j?[]:{},ce=j?$:Q;for(var Ve in R)if(Object.prototype.hasOwnProperty.call(R,Ve)){var ut="".concat(ce).concat(m).concat(Ve);se[Ve]=this.translate(ut,Ct(Ct({},l),{joinArrays:!1,ns:y})),se[Ve]===ut&&(se[Ve]=R[Ve])}R=se}}else if(G&&typeof L=="string"&&I==="[object Array]")R=R.join(L),R&&(R=this.extendTranslation(R,a,l,c));else{var nt=!1,pt=!1,rt=l.count!==void 0&&typeof l.count!="string",yt=n.hasDefaultValue(l),pe=rt?this.pluralResolver.getSuffix(w,l.count,l):"",ae=l["defaultValue".concat(pe)]||l.defaultValue;!this.isValidLookup(R)&&yt&&(nt=!0,R=ae),this.isValidLookup(R)||(pt=!0,R=b);var ne=l.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,le=ne&&pt?void 0:R,ie=yt&&ae!==R&&this.options.updateMissing;if(pt||nt||ie){if(this.logger.log(ie?"updateKey":"missingKey",w,v,b,ie?ae:R),m){var he=this.resolve(b,Ct(Ct({},l),{},{keySeparator:!1}));he&&he.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var He=[],E=this.languageUtils.getFallbackCodes(this.options.fallbackLng,l.lng||this.language);if(this.options.saveMissingTo==="fallback"&&E&&E[0])for(var at=0;at<E.length;at++)He.push(E[at]);else this.options.saveMissingTo==="all"?He=this.languageUtils.toResolveHierarchy(l.lng||this.language):He.push(l.lng||this.language);var Jn=function(Dt,Nr,Mn){var kn=yt&&Mn!==R?Mn:le;d.options.missingKeyHandler?d.options.missingKeyHandler(Dt,v,Nr,kn,ie,l):d.backendConnector&&d.backendConnector.saveMissing&&d.backendConnector.saveMissing(Dt,v,Nr,kn,ie,l),d.emit("missingKey",Dt,v,Nr,R)};this.options.saveMissing&&(this.options.saveMissingPlurals&&rt?He.forEach(function(xn){d.pluralResolver.getSuffixes(xn,l).forEach(function(Dt){Jn([xn],b+Dt,l["defaultValue".concat(Dt)]||ae)})}):Jn(He,b,ae))}R=this.extendTranslation(R,a,l,A,c),pt&&R===b&&this.options.appendNamespaceToMissingKey&&(R="".concat(v,":").concat(b)),(pt||nt)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?R=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(v,":").concat(b):b,nt?R:void 0):R=this.options.parseMissingKeyHandler(R))}return g?(A.res=R,A):R}},{key:"extendTranslation",value:function(a,l,c,d,g){var m=this;if(this.i18nFormat&&this.i18nFormat.parse)a=this.i18nFormat.parse(a,Ct(Ct({},this.options.interpolation.defaultVariables),c),d.usedLng,d.usedNS,d.usedKey,{resolved:d});else if(!c.skipInterpolation){c.interpolation&&this.interpolator.init(Ct(Ct({},c),{interpolation:Ct(Ct({},this.options.interpolation),c.interpolation)}));var h=typeof a=="string"&&(c&&c.interpolation&&c.interpolation.skipOnVariables!==void 0?c.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),b;if(h){var y=a.match(this.interpolator.nestingRegexp);b=y&&y.length}var v=c.replace&&typeof c.replace!="string"?c.replace:c;if(this.options.interpolation.defaultVariables&&(v=Ct(Ct({},this.options.interpolation.defaultVariables),v)),a=this.interpolator.interpolate(a,v,c.lng||this.language,c),h){var w=a.match(this.interpolator.nestingRegexp),k=w&&w.length;b<k&&(c.nest=!1)}!c.lng&&this.options.compatibilityAPI!=="v1"&&d&&d.res&&(c.lng=d.usedLng),c.nest!==!1&&(a=this.interpolator.nest(a,function(){for(var R=arguments.length,Q=new Array(R),$=0;$<R;$++)Q[$]=arguments[$];return g&&g[0]===Q[0]&&!c.context?(m.logger.warn("It seems you are nesting recursively key: ".concat(Q[0]," in key: ").concat(l[0])),null):m.translate.apply(m,Q.concat([l]))},c)),c.interpolation&&this.interpolator.reset()}var P=c.postProcess||this.options.postProcess,A=typeof P=="string"?[P]:P;return a!=null&&A&&A.length&&c.applyPostProcessor!==!1&&(a=au.handle(A,a,l,this.options&&this.options.postProcessPassResolved?Ct({i18nResolved:d},c):c,this)),a}},{key:"resolve",value:function(a){var l=this,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d,g,m,h,b;return typeof a=="string"&&(a=[a]),a.forEach(function(y){if(!l.isValidLookup(d)){var v=l.extractFromKey(y,c),w=v.key;g=w;var k=v.namespaces;l.options.fallbackNS&&(k=k.concat(l.options.fallbackNS));var P=c.count!==void 0&&typeof c.count!="string",A=P&&!c.ordinal&&c.count===0&&l.pluralResolver.shouldUseIntlApi(),R=c.context!==void 0&&(typeof c.context=="string"||typeof c.context=="number")&&c.context!=="",Q=c.lngs?c.lngs:l.languageUtils.toResolveHierarchy(c.lng||l.language,c.fallbackLng);k.forEach(function($){l.isValidLookup(d)||(b=$,!jc["".concat(Q[0],"-").concat($)]&&l.utils&&l.utils.hasLoadedNamespace&&!l.utils.hasLoadedNamespace(b)&&(jc["".concat(Q[0],"-").concat($)]=!0,l.logger.warn('key "'.concat(g,'" for languages "').concat(Q.join(", "),`" won't get resolved as namespace "`).concat(b,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),Q.forEach(function(I){if(!l.isValidLookup(d)){h=I;var S=[w];if(l.i18nFormat&&l.i18nFormat.addLookupKeys)l.i18nFormat.addLookupKeys(S,w,I,$,c);else{var L;P&&(L=l.pluralResolver.getSuffix(I,c.count,c));var G="".concat(l.options.pluralSeparator,"zero");if(P&&(S.push(w+L),A&&S.push(w+G)),R){var W="".concat(w).concat(l.options.contextSeparator).concat(c.context);S.push(W),P&&(S.push(W+L),A&&S.push(W+G))}}for(var x;x=S.pop();)l.isValidLookup(d)||(m=x,d=l.getResource(I,$,x,c))}}))})}}),{res:d,usedKey:g,exactUsedKey:m,usedLng:h,usedNS:b}}},{key:"isValidLookup",value:function(a){return a!==void 0&&!(!this.options.returnNull&&a===null)&&!(!this.options.returnEmptyString&&a==="")}},{key:"getResource",value:function(a,l,c){var d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(a,l,c,d):this.resourceStore.getResource(a,l,c,d)}}],[{key:"hasDefaultValue",value:function(a){var l="defaultValue";for(var c in a)if(Object.prototype.hasOwnProperty.call(a,c)&&l===c.substring(0,l.length)&&a[c]!==void 0)return!0;return!1}}]),n}(nn);function Wi(t){return t.charAt(0).toUpperCase()+t.slice(1)}var Wc=function(){function t(r){Xt(this,t),this.options=r,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Lr.create("languageUtils")}return Kt(t,[{key:"getScriptPartFromCode",value:function(n){if(!n||n.indexOf("-")<0)return null;var s=n.split("-");return s.length===2||(s.pop(),s[s.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(s.join("-"))}},{key:"getLanguagePartFromCode",value:function(n){if(!n||n.indexOf("-")<0)return n;var s=n.split("-");return this.formatLanguageCode(s[0])}},{key:"formatLanguageCode",value:function(n){if(typeof n=="string"&&n.indexOf("-")>-1){var s=["hans","hant","latn","cyrl","cans","mong","arab"],a=n.split("-");return this.options.lowerCaseLng?a=a.map(function(l){return l.toLowerCase()}):a.length===2?(a[0]=a[0].toLowerCase(),a[1]=a[1].toUpperCase(),s.indexOf(a[1].toLowerCase())>-1&&(a[1]=Wi(a[1].toLowerCase()))):a.length===3&&(a[0]=a[0].toLowerCase(),a[1].length===2&&(a[1]=a[1].toUpperCase()),a[0]!=="sgn"&&a[2].length===2&&(a[2]=a[2].toUpperCase()),s.indexOf(a[1].toLowerCase())>-1&&(a[1]=Wi(a[1].toLowerCase())),s.indexOf(a[2].toLowerCase())>-1&&(a[2]=Wi(a[2].toLowerCase()))),a.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?n.toLowerCase():n}},{key:"isSupportedCode",value:function(n){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(n=this.getLanguagePartFromCode(n)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(n)>-1}},{key:"getBestMatchFromCodes",value:function(n){var s=this;if(!n)return null;var a;return n.forEach(function(l){if(!a){var c=s.formatLanguageCode(l);(!s.options.supportedLngs||s.isSupportedCode(c))&&(a=c)}}),!a&&this.options.supportedLngs&&n.forEach(function(l){if(!a){var c=s.getLanguagePartFromCode(l);if(s.isSupportedCode(c))return a=c;a=s.options.supportedLngs.find(function(d){if(d===c)return d;if(!(d.indexOf("-")<0&&c.indexOf("-")<0)&&d.indexOf(c)===0)return d})}}),a||(a=this.getFallbackCodes(this.options.fallbackLng)[0]),a}},{key:"getFallbackCodes",value:function(n,s){if(!n)return[];if(typeof n=="function"&&(n=n(s)),typeof n=="string"&&(n=[n]),Object.prototype.toString.apply(n)==="[object Array]")return n;if(!s)return n.default||[];var a=n[s];return a||(a=n[this.getScriptPartFromCode(s)]),a||(a=n[this.formatLanguageCode(s)]),a||(a=n[this.getLanguagePartFromCode(s)]),a||(a=n.default),a||[]}},{key:"toResolveHierarchy",value:function(n,s){var a=this,l=this.getFallbackCodes(s||this.options.fallbackLng||[],n),c=[],d=function(m){m&&(a.isSupportedCode(m)?c.push(m):a.logger.warn("rejecting language code not found in supportedLngs: ".concat(m)))};return typeof n=="string"&&n.indexOf("-")>-1?(this.options.load!=="languageOnly"&&d(this.formatLanguageCode(n)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&d(this.getScriptPartFromCode(n)),this.options.load!=="currentOnly"&&d(this.getLanguagePartFromCode(n))):typeof n=="string"&&d(this.formatLanguageCode(n)),l.forEach(function(g){c.indexOf(g)<0&&d(a.formatLanguageCode(g))}),c}}]),t}(),Yg=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Zg={1:function(r){return+(r>1)},2:function(r){return+(r!=1)},3:function(r){return 0},4:function(r){return r%10==1&&r%100!=11?0:r%10>=2&&r%10<=4&&(r%100<10||r%100>=20)?1:2},5:function(r){return r==0?0:r==1?1:r==2?2:r%100>=3&&r%100<=10?3:r%100>=11?4:5},6:function(r){return r==1?0:r>=2&&r<=4?1:2},7:function(r){return r==1?0:r%10>=2&&r%10<=4&&(r%100<10||r%100>=20)?1:2},8:function(r){return r==1?0:r==2?1:r!=8&&r!=11?2:3},9:function(r){return+(r>=2)},10:function(r){return r==1?0:r==2?1:r<7?2:r<11?3:4},11:function(r){return r==1||r==11?0:r==2||r==12?1:r>2&&r<20?2:3},12:function(r){return+(r%10!=1||r%100==11)},13:function(r){return+(r!==0)},14:function(r){return r==1?0:r==2?1:r==3?2:3},15:function(r){return r%10==1&&r%100!=11?0:r%10>=2&&(r%100<10||r%100>=20)?1:2},16:function(r){return r%10==1&&r%100!=11?0:r!==0?1:2},17:function(r){return r==1||r%10==1&&r%100!=11?0:1},18:function(r){return r==0?0:r==1?1:2},19:function(r){return r==1?0:r==0||r%100>1&&r%100<11?1:r%100>10&&r%100<20?2:3},20:function(r){return r==1?0:r==0||r%100>0&&r%100<20?1:2},21:function(r){return r%100==1?1:r%100==2?2:r%100==3||r%100==4?3:0},22:function(r){return r==1?0:r==2?1:(r<0||r>10)&&r%10==0?2:3}},Jg=["v1","v2","v3"],Xc={zero:0,one:1,two:2,few:3,many:4,other:5};function ef(){var t={};return Yg.forEach(function(r){r.lngs.forEach(function(n){t[n]={numbers:r.nr,plurals:Zg[r.fc]}})}),t}var tf=function(){function t(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Xt(this,t),this.languageUtils=r,this.options=n,this.logger=Lr.create("pluralResolver"),(!this.options.compatibilityJSON||this.options.compatibilityJSON==="v4")&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=ef()}return Kt(t,[{key:"addRule",value:function(n,s){this.rules[n]=s}},{key:"getRule",value:function(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(n,{type:s.ordinal?"ordinal":"cardinal"})}catch(a){return}return this.rules[n]||this.rules[this.languageUtils.getLanguagePartFromCode(n)]}},{key:"needsPlural",value:function(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=this.getRule(n,s);return this.shouldUseIntlApi()?a&&a.resolvedOptions().pluralCategories.length>1:a&&a.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(n,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(n,a).map(function(l){return"".concat(s).concat(l)})}},{key:"getSuffixes",value:function(n){var s=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=this.getRule(n,a);return l?this.shouldUseIntlApi()?l.resolvedOptions().pluralCategories.sort(function(c,d){return Xc[c]-Xc[d]}).map(function(c){return"".concat(s.options.prepend).concat(c)}):l.numbers.map(function(c){return s.getSuffix(n,c,a)}):[]}},{key:"getSuffix",value:function(n,s){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},l=this.getRule(n,a);return l?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(l.select(s)):this.getSuffixRetroCompatible(l,s):(this.logger.warn("no plural rule found for: ".concat(n)),"")}},{key:"getSuffixRetroCompatible",value:function(n,s){var a=this,l=n.noAbs?n.plurals(s):n.plurals(Math.abs(s)),c=n.numbers[l];this.options.simplifyPluralSuffix&&n.numbers.length===2&&n.numbers[0]===1&&(c===2?c="plural":c===1&&(c=""));var d=function(){return a.options.prepend&&c.toString()?a.options.prepend+c.toString():c.toString()};return this.options.compatibilityJSON==="v1"?c===1?"":typeof c=="number"?"_plural_".concat(c.toString()):d():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&n.numbers.length===2&&n.numbers[0]===1?d():this.options.prepend&&l.toString()?this.options.prepend+l.toString():l.toString()}},{key:"shouldUseIntlApi",value:function(){return!Jg.includes(this.options.compatibilityJSON)}}]),t}();function Kc(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function dr(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?Kc(Object(n),!0).forEach(function(s){Sr(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kc(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function zc(t,r,n){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,l=Fg(t,r,n);return!l&&a&&typeof n=="string"&&(l=so(t,n,s),l===void 0&&(l=so(r,n,s))),l}var rf=function(){function t(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Xt(this,t),this.logger=Lr.create("interpolator"),this.options=r,this.format=r.interpolation&&r.interpolation.format||function(n){return n},this.init(r)}return Kt(t,[{key:"init",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};n.interpolation||(n.interpolation={escapeValue:!0});var s=n.interpolation;this.escape=s.escape!==void 0?s.escape:_g,this.escapeValue=s.escapeValue!==void 0?s.escapeValue:!0,this.useRawValueToEscape=s.useRawValueToEscape!==void 0?s.useRawValueToEscape:!1,this.prefix=s.prefix?la(s.prefix):s.prefixEscaped||"{{",this.suffix=s.suffix?la(s.suffix):s.suffixEscaped||"}}",this.formatSeparator=s.formatSeparator?s.formatSeparator:s.formatSeparator||",",this.unescapePrefix=s.unescapeSuffix?"":s.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":s.unescapeSuffix||"",this.nestingPrefix=s.nestingPrefix?la(s.nestingPrefix):s.nestingPrefixEscaped||la("$t("),this.nestingSuffix=s.nestingSuffix?la(s.nestingSuffix):s.nestingSuffixEscaped||la(")"),this.nestingOptionsSeparator=s.nestingOptionsSeparator?s.nestingOptionsSeparator:s.nestingOptionsSeparator||",",this.maxReplaces=s.maxReplaces?s.maxReplaces:1e3,this.alwaysFormat=s.alwaysFormat!==void 0?s.alwaysFormat:!1,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var n="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(n,"g");var s="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(s,"g");var a="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(a,"g")}},{key:"interpolate",value:function(n,s,a,l){var c=this,d,g,m,h=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function b(P){return P.replace(/\$/g,"$$$$")}var y=function(A){if(A.indexOf(c.formatSeparator)<0){var R=zc(s,h,A,c.options.keySeparator,c.options.ignoreJSONStructure);return c.alwaysFormat?c.format(R,void 0,a,dr(dr(dr({},l),s),{},{interpolationkey:A})):R}var Q=A.split(c.formatSeparator),$=Q.shift().trim(),I=Q.join(c.formatSeparator).trim();return c.format(zc(s,h,$,c.options.keySeparator,c.options.ignoreJSONStructure),I,a,dr(dr(dr({},l),s),{},{interpolationkey:$}))};this.resetRegExp();var v=l&&l.missingInterpolationHandler||this.options.missingInterpolationHandler,w=l&&l.interpolation&&l.interpolation.skipOnVariables!==void 0?l.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables,k=[{regex:this.regexpUnescape,safeValue:function(A){return b(A)}},{regex:this.regexp,safeValue:function(A){return c.escapeValue?b(c.escape(A)):b(A)}}];return k.forEach(function(P){for(m=0;d=P.regex.exec(n);){var A=d[1].trim();if(g=y(A),g===void 0)if(typeof v=="function"){var R=v(n,d,l);g=typeof R=="string"?R:""}else if(l&&Object.prototype.hasOwnProperty.call(l,A))g="";else if(w){g=d[0];continue}else c.logger.warn("missed to pass in variable ".concat(A," for interpolating ").concat(n)),g="";else typeof g!="string"&&!c.useRawValueToEscape&&(g=Fc(g));var Q=P.safeValue(g);if(n=n.replace(d[0],Q),w?(P.regex.lastIndex+=g.length,P.regex.lastIndex-=d[0].length):P.regex.lastIndex=0,m++,m>=c.maxReplaces)break}}),n}},{key:"nest",value:function(n,s){var a=this,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},c,d,g;function m(v,w){var k=this.nestingOptionsSeparator;if(v.indexOf(k)<0)return v;var P=v.split(new RegExp("".concat(k,"[ ]*{"))),A="{".concat(P[1]);v=P[0],A=this.interpolate(A,g);var R=A.match(/'/g),Q=A.match(/"/g);(R&&R.length%2===0&&!Q||Q.length%2!==0)&&(A=A.replace(/'/g,'"'));try{g=JSON.parse(A),w&&(g=dr(dr({},w),g))}catch($){return this.logger.warn("failed parsing options string in nesting for key ".concat(v),$),"".concat(v).concat(k).concat(A)}return delete g.defaultValue,v}for(;c=this.nestingRegexp.exec(n);){var h=[];g=dr({},l),g=g.replace&&typeof g.replace!="string"?g.replace:g,g.applyPostProcessor=!1,delete g.defaultValue;var b=!1;if(c[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(c[1])){var y=c[1].split(this.formatSeparator).map(function(v){return v.trim()});c[1]=y.shift(),h=y,b=!0}if(d=s(m.call(this,c[1].trim(),g),g),d&&c[0]===n&&typeof d!="string")return d;typeof d!="string"&&(d=Fc(d)),d||(this.logger.warn("missed to resolve ".concat(c[1]," for nesting ").concat(n)),d=""),b&&(d=h.reduce(function(v,w){return a.format(v,w,l.lng,dr(dr({},l),{},{interpolationkey:c[1].trim()}))},d.trim())),n=n.replace(c[0],d),this.regexp.lastIndex=0}return n}}]),t}();function Yc(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function Dr(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?Yc(Object(n),!0).forEach(function(s){Sr(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yc(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function nf(t){var r=t.toLowerCase().trim(),n={};if(t.indexOf("(")>-1){var s=t.split("(");r=s[0].toLowerCase().trim();var a=s[1].substring(0,s[1].length-1);if(r==="currency"&&a.indexOf(":")<0)n.currency||(n.currency=a.trim());else if(r==="relativetime"&&a.indexOf(":")<0)n.range||(n.range=a.trim());else{var l=a.split(";");l.forEach(function(c){if(c){var d=c.split(":"),g=Vi(d),m=g[0],h=g.slice(1),b=h.join(":").trim().replace(/^'+|'+$/g,"");n[m.trim()]||(n[m.trim()]=b),b==="false"&&(n[m.trim()]=!1),b==="true"&&(n[m.trim()]=!0),isNaN(b)||(n[m.trim()]=parseInt(b,10))}})}}return{formatName:r,formatOptions:n}}function ca(t){var r={};return function(s,a,l){var c=a+JSON.stringify(l),d=r[c];return d||(d=t(a,l),r[c]=d),d(s)}}var af=function(){function t(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Xt(this,t),this.logger=Lr.create("formatter"),this.options=r,this.formats={number:ca(function(n,s){var a=new Intl.NumberFormat(n,Dr({},s));return function(l){return a.format(l)}}),currency:ca(function(n,s){var a=new Intl.NumberFormat(n,Dr(Dr({},s),{},{style:"currency"}));return function(l){return a.format(l)}}),datetime:ca(function(n,s){var a=new Intl.DateTimeFormat(n,Dr({},s));return function(l){return a.format(l)}}),relativetime:ca(function(n,s){var a=new Intl.RelativeTimeFormat(n,Dr({},s));return function(l){return a.format(l,s.range||"day")}}),list:ca(function(n,s){var a=new Intl.ListFormat(n,Dr({},s));return function(l){return a.format(l)}})},this.init(r)}return Kt(t,[{key:"init",value:function(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}},a=s.interpolation;this.formatSeparator=a.formatSeparator?a.formatSeparator:a.formatSeparator||","}},{key:"add",value:function(n,s){this.formats[n.toLowerCase().trim()]=s}},{key:"addCached",value:function(n,s){this.formats[n.toLowerCase().trim()]=ca(s)}},{key:"format",value:function(n,s,a){var l=this,c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},d=s.split(this.formatSeparator),g=d.reduce(function(m,h){var b=nf(h),y=b.formatName,v=b.formatOptions;if(l.formats[y]){var w=m;try{var k=c&&c.formatParams&&c.formatParams[c.interpolationkey]||{},P=k.locale||k.lng||c.locale||c.lng||a;w=l.formats[y](m,P,Dr(Dr(Dr({},v),c),k))}catch(A){l.logger.warn(A)}return w}else l.logger.warn("there was no format function for ".concat(y));return m},n);return g}}]),t}();function Zc(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function Jc(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?Zc(Object(n),!0).forEach(function(s){Sr(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zc(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function sf(t){var r=of();return function(){var s=zt(t),a;if(r){var l=zt(this).constructor;a=Reflect.construct(s,arguments,l)}else a=s.apply(this,arguments);return On(this,a)}}function of(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function lf(t,r){t.pending[r]!==void 0&&(delete t.pending[r],t.pendingCount--)}var cf=function(t){ia(n,t);var r=sf(n);function n(s,a,l){var c,d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return Xt(this,n),c=r.call(this),io&&nn.call(pr(c)),c.backend=s,c.store=a,c.services=l,c.languageUtils=l.languageUtils,c.options=d,c.logger=Lr.create("backendConnector"),c.waitingReads=[],c.maxParallelReads=d.maxParallelReads||10,c.readingCalls=0,c.maxRetries=d.maxRetries>=0?d.maxRetries:5,c.retryTimeout=d.retryTimeout>=1?d.retryTimeout:350,c.state={},c.queue=[],c.backend&&c.backend.init&&c.backend.init(l,d.backend,d),c}return Kt(n,[{key:"queueLoad",value:function(a,l,c,d){var g=this,m={},h={},b={},y={};return a.forEach(function(v){var w=!0;l.forEach(function(k){var P="".concat(v,"|").concat(k);!c.reload&&g.store.hasResourceBundle(v,k)?g.state[P]=2:g.state[P]<0||(g.state[P]===1?h[P]===void 0&&(h[P]=!0):(g.state[P]=1,w=!1,h[P]===void 0&&(h[P]=!0),m[P]===void 0&&(m[P]=!0),y[k]===void 0&&(y[k]=!0)))}),w||(b[v]=!0)}),(Object.keys(m).length||Object.keys(h).length)&&this.queue.push({pending:h,pendingCount:Object.keys(h).length,loaded:{},errors:[],callback:d}),{toLoad:Object.keys(m),pending:Object.keys(h),toLoadLanguages:Object.keys(b),toLoadNamespaces:Object.keys(y)}}},{key:"loaded",value:function(a,l,c){var d=a.split("|"),g=d[0],m=d[1];l&&this.emit("failedLoading",g,m,l),c&&this.store.addResourceBundle(g,m,c),this.state[a]=l?-1:2;var h={};this.queue.forEach(function(b){Hg(b.loaded,[g],m),lf(b,a),l&&b.errors.push(l),b.pendingCount===0&&!b.done&&(Object.keys(b.loaded).forEach(function(y){h[y]||(h[y]={});var v=b.loaded[y];v.length&&v.forEach(function(w){h[y][w]===void 0&&(h[y][w]=!0)})}),b.done=!0,b.errors.length?b.callback(b.errors):b.callback())}),this.emit("loaded",h),this.queue=this.queue.filter(function(b){return!b.done})}},{key:"read",value:function(a,l,c){var d=this,g=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,m=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,h=arguments.length>5?arguments[5]:void 0;if(!a.length)return h(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:a,ns:l,fcName:c,tried:g,wait:m,callback:h});return}this.readingCalls++;var b=function(k,P){if(d.readingCalls--,d.waitingReads.length>0){var A=d.waitingReads.shift();d.read(A.lng,A.ns,A.fcName,A.tried,A.wait,A.callback)}if(k&&P&&g<d.maxRetries){setTimeout(function(){d.read.call(d,a,l,c,g+1,m*2,h)},m);return}h(k,P)},y=this.backend[c].bind(this.backend);if(y.length===2){try{var v=y(a,l);v&&typeof v.then=="function"?v.then(function(w){return b(null,w)}).catch(b):b(null,v)}catch(w){b(w)}return}return y(a,l,b)}},{key:"prepareLoading",value:function(a,l){var c=this,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},g=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),g&&g();typeof a=="string"&&(a=this.languageUtils.toResolveHierarchy(a)),typeof l=="string"&&(l=[l]);var m=this.queueLoad(a,l,d,g);if(!m.toLoad.length)return m.pending.length||g(),null;m.toLoad.forEach(function(h){c.loadOne(h)})}},{key:"load",value:function(a,l,c){this.prepareLoading(a,l,{},c)}},{key:"reload",value:function(a,l,c){this.prepareLoading(a,l,{reload:!0},c)}},{key:"loadOne",value:function(a){var l=this,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",d=a.split("|"),g=d[0],m=d[1];this.read(g,m,"read",void 0,void 0,function(h,b){h&&l.logger.warn("".concat(c,"loading namespace ").concat(m," for language ").concat(g," failed"),h),!h&&b&&l.logger.log("".concat(c,"loaded namespace ").concat(m," for language ").concat(g),b),l.loaded(a,h,b)})}},{key:"saveMissing",value:function(a,l,c,d,g){var m=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},h=arguments.length>6&&arguments[6]!==void 0?arguments[6]:function(){};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(l)){this.logger.warn('did not save key "'.concat(c,'" as the namespace "').concat(l,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(c==null||c==="")){if(this.backend&&this.backend.create){var b=Jc(Jc({},m),{},{isUpdate:g}),y=this.backend.create.bind(this.backend);if(y.length<6)try{var v;y.length===5?v=y(a,l,c,d,b):v=y(a,l,c,d),v&&typeof v.then=="function"?v.then(function(w){return h(null,w)}).catch(h):h(null,v)}catch(w){h(w)}else y(a,l,c,d,h,b)}!a||!a[0]||this.store.addResource(a[0],l,c,d)}}}]),n}(nn);function eu(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(r){var n={};if(dt(r[1])==="object"&&(n=r[1]),typeof r[1]=="string"&&(n.defaultValue=r[1]),typeof r[2]=="string"&&(n.tDescription=r[2]),dt(r[2])==="object"||dt(r[3])==="object"){var s=r[3]||r[2];Object.keys(s).forEach(function(a){n[a]=s[a]})}return n},interpolation:{escapeValue:!0,format:function(r,n,s,a){return r},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function tu(t){return typeof t.ns=="string"&&(t.ns=[t.ns]),typeof t.fallbackLng=="string"&&(t.fallbackLng=[t.fallbackLng]),typeof t.fallbackNS=="string"&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function ru(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function Tr(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?ru(Object(n),!0).forEach(function(s){Sr(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ru(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function uf(t){var r=pf();return function(){var s=zt(t),a;if(r){var l=zt(this).constructor;a=Reflect.construct(s,arguments,l)}else a=s.apply(this,arguments);return On(this,a)}}function pf(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function no(){}function df(t){var r=Object.getOwnPropertyNames(Object.getPrototypeOf(t));r.forEach(function(n){typeof t[n]=="function"&&(t[n]=t[n].bind(t))})}var oo=function(t){ia(n,t);var r=uf(n);function n(){var s,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=arguments.length>1?arguments[1]:void 0;if(Xt(this,n),s=r.call(this),io&&nn.call(pr(s)),s.options=tu(a),s.services={},s.logger=Lr,s.modules={external:[]},df(pr(s)),l&&!s.isInitialized&&!a.isClone){if(!s.options.initImmediate)return s.init(a,l),On(s,pr(s));setTimeout(function(){s.init(a,l)},0)}return s}return Kt(n,[{key:"init",value:function(){var a=this,l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=arguments.length>1?arguments[1]:void 0;typeof l=="function"&&(c=l,l={}),!l.defaultNS&&l.defaultNS!==!1&&l.ns&&(typeof l.ns=="string"?l.defaultNS=l.ns:l.ns.indexOf("translation")<0&&(l.defaultNS=l.ns[0]));var d=eu();this.options=Tr(Tr(Tr({},d),this.options),tu(l)),this.options.compatibilityAPI!=="v1"&&(this.options.interpolation=Tr(Tr({},d.interpolation),this.options.interpolation)),l.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=l.keySeparator),l.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=l.nsSeparator);function g(A){return A?typeof A=="function"?new A:A:null}if(!this.options.isClone){this.modules.logger?Lr.init(g(this.modules.logger),this.options):Lr.init(null,this.options);var m;this.modules.formatter?m=this.modules.formatter:typeof Intl<"u"&&(m=af);var h=new Wc(this.options);this.store=new Xg(this.options.resources,this.options);var b=this.services;b.logger=Lr,b.resourceStore=this.store,b.languageUtils=h,b.pluralResolver=new tf(h,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),m&&(!this.options.interpolation.format||this.options.interpolation.format===d.interpolation.format)&&(b.formatter=g(m),b.formatter.init(b,this.options),this.options.interpolation.format=b.formatter.format.bind(b.formatter)),b.interpolator=new rf(this.options),b.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},b.backendConnector=new cf(g(this.modules.backend),b.resourceStore,b,this.options),b.backendConnector.on("*",function(A){for(var R=arguments.length,Q=new Array(R>1?R-1:0),$=1;$<R;$++)Q[$-1]=arguments[$];a.emit.apply(a,[A].concat(Q))}),this.modules.languageDetector&&(b.languageDetector=g(this.modules.languageDetector),b.languageDetector.init&&b.languageDetector.init(b,this.options.detection,this.options)),this.modules.i18nFormat&&(b.i18nFormat=g(this.modules.i18nFormat),b.i18nFormat.init&&b.i18nFormat.init(this)),this.translator=new Vc(this.services,this.options),this.translator.on("*",function(A){for(var R=arguments.length,Q=new Array(R>1?R-1:0),$=1;$<R;$++)Q[$-1]=arguments[$];a.emit.apply(a,[A].concat(Q))}),this.modules.external.forEach(function(A){A.init&&A.init(a)})}if(this.format=this.options.interpolation.format,c||(c=no),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var y=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);y.length>0&&y[0]!=="dev"&&(this.options.lng=y[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined");var v=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];v.forEach(function(A){a[A]=function(){var R;return(R=a.store)[A].apply(R,arguments)}});var w=["addResource","addResources","addResourceBundle","removeResourceBundle"];w.forEach(function(A){a[A]=function(){var R;return(R=a.store)[A].apply(R,arguments),a}});var k=Ka(),P=function(){var R=function($,I){a.isInitialized&&!a.initializedStoreOnce&&a.logger.warn("init: i18next is already initialized. You should call init just once!"),a.isInitialized=!0,a.options.isClone||a.logger.log("initialized",a.options),a.emit("initialized",a.options),k.resolve(I),c($,I)};if(a.languages&&a.options.compatibilityAPI!=="v1"&&!a.isInitialized)return R(null,a.t.bind(a));a.changeLanguage(a.options.lng,R)};return this.options.resources||!this.options.initImmediate?P():setTimeout(P,0),k}},{key:"loadResources",value:function(a){var l=this,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:no,d=c,g=typeof a=="string"?a:this.language;if(typeof a=="function"&&(d=a),!this.options.resources||this.options.partialBundledLanguages){if(g&&g.toLowerCase()==="cimode")return d();var m=[],h=function(v){if(v){var w=l.services.languageUtils.toResolveHierarchy(v);w.forEach(function(k){m.indexOf(k)<0&&m.push(k)})}};if(g)h(g);else{var b=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);b.forEach(function(y){return h(y)})}this.options.preload&&this.options.preload.forEach(function(y){return h(y)}),this.services.backendConnector.load(m,this.options.ns,function(y){!y&&!l.resolvedLanguage&&l.language&&l.setResolvedLanguage(l.language),d(y)})}else d(null)}},{key:"reloadResources",value:function(a,l,c){var d=Ka();return a||(a=this.languages),l||(l=this.options.ns),c||(c=no),this.services.backendConnector.reload(a,l,function(g){d.resolve(),c(g)}),d}},{key:"use",value:function(a){if(!a)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!a.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return a.type==="backend"&&(this.modules.backend=a),(a.type==="logger"||a.log&&a.warn&&a.error)&&(this.modules.logger=a),a.type==="languageDetector"&&(this.modules.languageDetector=a),a.type==="i18nFormat"&&(this.modules.i18nFormat=a),a.type==="postProcessor"&&au.addPostProcessor(a),a.type==="formatter"&&(this.modules.formatter=a),a.type==="3rdParty"&&this.modules.external.push(a),this}},{key:"setResolvedLanguage",value:function(a){if(!(!a||!this.languages)&&!(["cimode","dev"].indexOf(a)>-1))for(var l=0;l<this.languages.length;l++){var c=this.languages[l];if(!(["cimode","dev"].indexOf(c)>-1)&&this.store.hasLanguageSomeTranslations(c)){this.resolvedLanguage=c;break}}}},{key:"changeLanguage",value:function(a,l){var c=this;this.isLanguageChangingTo=a;var d=Ka();this.emit("languageChanging",a);var g=function(y){c.language=y,c.languages=c.services.languageUtils.toResolveHierarchy(y),c.resolvedLanguage=void 0,c.setResolvedLanguage(y)},m=function(y,v){v?(g(v),c.translator.changeLanguage(v),c.isLanguageChangingTo=void 0,c.emit("languageChanged",v),c.logger.log("languageChanged",v)):c.isLanguageChangingTo=void 0,d.resolve(function(){return c.t.apply(c,arguments)}),l&&l(y,function(){return c.t.apply(c,arguments)})},h=function(y){!a&&!y&&c.services.languageDetector&&(y=[]);var v=typeof y=="string"?y:c.services.languageUtils.getBestMatchFromCodes(y);v&&(c.language||g(v),c.translator.language||c.translator.changeLanguage(v),c.services.languageDetector&&c.services.languageDetector.cacheUserLanguage&&c.services.languageDetector.cacheUserLanguage(v)),c.loadResources(v,function(w){m(w,v)})};return!a&&this.services.languageDetector&&!this.services.languageDetector.async?h(this.services.languageDetector.detect()):!a&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(h):this.services.languageDetector.detect(h):h(a),d}},{key:"getFixedT",value:function(a,l,c){var d=this,g=function m(h,b){var y;if(dt(b)!=="object"){for(var v=arguments.length,w=new Array(v>2?v-2:0),k=2;k<v;k++)w[k-2]=arguments[k];y=d.options.overloadTranslationOptionHandler([h,b].concat(w))}else y=Tr({},b);y.lng=y.lng||m.lng,y.lngs=y.lngs||m.lngs,y.ns=y.ns||m.ns,y.keyPrefix=y.keyPrefix||c||m.keyPrefix;var P=d.options.keySeparator||".",A;return y.keyPrefix&&Array.isArray(h)?A=h.map(function(R){return"".concat(y.keyPrefix).concat(P).concat(R)}):A=y.keyPrefix?"".concat(y.keyPrefix).concat(P).concat(h):h,d.t(A,y)};return typeof a=="string"?g.lng=a:g.lngs=a,g.ns=l,g.keyPrefix=c,g}},{key:"t",value:function(){var a;return this.translator&&(a=this.translator).translate.apply(a,arguments)}},{key:"exists",value:function(){var a;return this.translator&&(a=this.translator).exists.apply(a,arguments)}},{key:"setDefaultNamespace",value:function(a){this.options.defaultNS=a}},{key:"hasLoadedNamespace",value:function(a){var l=this,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var d=c.lng||this.resolvedLanguage||this.languages[0],g=this.options?this.options.fallbackLng:!1,m=this.languages[this.languages.length-1];if(d.toLowerCase()==="cimode")return!0;var h=function(v,w){var k=l.services.backendConnector.state["".concat(v,"|").concat(w)];return k===-1||k===2};if(c.precheck){var b=c.precheck(this,h);if(b!==void 0)return b}return!!(this.hasResourceBundle(d,a)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||h(d,a)&&(!g||h(m,a)))}},{key:"loadNamespaces",value:function(a,l){var c=this,d=Ka();return this.options.ns?(typeof a=="string"&&(a=[a]),a.forEach(function(g){c.options.ns.indexOf(g)<0&&c.options.ns.push(g)}),this.loadResources(function(g){d.resolve(),l&&l(g)}),d):(l&&l(),Promise.resolve())}},{key:"loadLanguages",value:function(a,l){var c=Ka();typeof a=="string"&&(a=[a]);var d=this.options.preload||[],g=a.filter(function(m){return d.indexOf(m)<0});return g.length?(this.options.preload=d.concat(g),this.loadResources(function(m){c.resolve(),l&&l(m)}),c):(l&&l(),Promise.resolve())}},{key:"dir",value:function(a){if(a||(a=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!a)return"rtl";var l=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],c=this.services&&this.services.languageUtils||new Wc(eu());return l.indexOf(c.getLanguagePartFromCode(a))>-1||a.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var a=this,l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:no,d=Tr(Tr(Tr({},this.options),l),{isClone:!0}),g=new n(d);(l.debug!==void 0||l.prefix!==void 0)&&(g.logger=g.logger.clone(l));var m=["store","services","language"];return m.forEach(function(h){g[h]=a[h]}),g.services=Tr({},this.services),g.services.utils={hasLoadedNamespace:g.hasLoadedNamespace.bind(g)},g.translator=new Vc(g.services,g.options),g.translator.on("*",function(h){for(var b=arguments.length,y=new Array(b>1?b-1:0),v=1;v<b;v++)y[v-1]=arguments[v];g.emit.apply(g,[h].concat(y))}),g.init(d,c),g.translator.options=g.options,g.translator.backendConnector.services.utils={hasLoadedNamespace:g.hasLoadedNamespace.bind(g)},g}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),n}(nn);Sr(oo,"createInstance",function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;return new oo(t,r)});var u=oo.createInstance();u.createInstance=oo.createInstance;var Mh=u.createInstance,kh=u.dir,Sh=u.init,Th=u.loadResources,Lh=u.reloadResources,Ph=u.use,Ah=u.changeLanguage,Eh=u.getFixedT,Uh=u.t,Oh=u.exists,Bh=u.setDefaultNamespace,Rh=u.hasLoadedNamespace,Ih=u.loadNamespaces,Nh=u.loadLanguages;var su=new Map,i=t=>{let r=su.get(t);if(r)return r;let n=document.getElementById(t);if(!n)throw new TypeError(`Element with id "${t}" was not found on page?`);return su.set(t,n),n};var lu=Mr(iu()),xt=new lu.default;var uo=(t=!1,r=1,n=!1)=>{var l;let s=i("theme"),a=document.body;n?(localStorage.setItem("theme",`${r}`),a.style.setProperty("--transition","750ms"),a.style.setProperty("--transition-extra","600ms")):r=Number((l=localStorage.getItem("theme"))!=null?l:1),t?r===4&&i("logo").setAttribute("src","Pictures/logoLight.png"):(a.style.removeProperty("--header-color"),a.style.removeProperty("--bg-color"),a.style.removeProperty("--alert-color"),a.style.removeProperty("--history-lines"),a.style.removeProperty("--text-color"),a.style.removeProperty("--green-text-color"),a.style.removeProperty("--lightseagreen-text-color"),a.style.removeProperty("--crimson-text-color"),a.style.removeProperty("--red-text-color"),a.style.removeProperty("--maroon-text-color"),a.style.removeProperty("--orchid-text-color"),a.style.removeProperty("--darkorchid-text-color"),a.style.removeProperty("--darkcyan-text-color"),a.style.removeProperty("--gray-text-color"),a.style.removeProperty("--orangered-text-color"),a.style.removeProperty("--box-color"),a.style.removeProperty("--boxmain-bordercolor"),a.style.removeProperty("--button-color"),a.style.removeProperty("--hover-color"),a.style.removeProperty("--blackbtn-color"),a.style.removeProperty("--purplebtn-color"),a.style.removeProperty("--purplehover-color"),a.style.removeProperty("--buttonbuy-color"),a.style.removeProperty("--buildings-canbuy-color"),a.style.removeProperty("--buildings-hover-color"),a.style.removeProperty("--blessings-canbuy-color"),a.style.removeProperty("--blessings-hover-color"),a.style.removeProperty("--tab-color"),a.style.removeProperty("--singtab-color"),a.style.removeProperty("--hoversing-color"),a.style.removeProperty("--shoptab-color"),a.style.removeProperty("--hovershop-color"),a.style.removeProperty("--hepteract-bar-empty"),a.style.removeProperty("--hepteract-bar-red"),a.style.removeProperty("--hepteract-bar-yellow"),a.style.removeProperty("--hepteract-bar-green"),a.classList.remove("textOutline"),i("actualPotionShop").style.backgroundColor="",i("actualPotionShop").style.borderColor="",i("themeBox").style.backgroundColor="",i("themeBox").style.borderColor="",i("c15Rewards").style.backgroundColor="",i("c15Rewards").style.borderColor="",i("platonicUpgradeDescriptions").style.backgroundColor="",i("platonicUpgradeDescriptions").style.borderColor="",i("platonicUpgradePics").style.backgroundColor="",i("platonicUpgradePics").style.borderColor="",i("actualShop").style.backgroundColor="",i("actualShop").style.borderColor="",i("corruptionStatsLoadouts").style.backgroundColor="",i("corruptionStatsLoadouts").style.borderColor="",i("heptGrid").style.backgroundColor="",i("heptGrid").style.borderColor="",i("exportgame").style.backgroundColor="",i("importFileButton").style.backgroundColor="",i("switchTheme2").style.borderColor="darkslategray",i("bonussummation").style.color="orangered",i("corruptionDescription").style.color="darkviolet",i("versionnumber").style.color="fuchsia",i("singularitytab").style.color="red",i("traitstab").style.color="red",i("cubetab").style.color="red",i("ascTimeAccel").style.color="royalblue",i("buildinghotkeys").style.color="lightgray",i("buildinghotkeys2").style.color="lightgray",i("antspecies").style.color="royalblue",i("achievementcolorcode2").style.color="purple",i("corruptionTesseracts").style.color="darkviolet",i("antwelcome").style.color="lightslategrey",i("confirmationToggleTitle").style.color="pink",i("specialActionsTitle").style.color="pink",i("themesTitle").style.color="pink",i("notationTitle").style.color="pink",i("hepteractWelcome").style.color="pink",i("confirmationdisclaimer").style.color="plum",i("cube6Bonus").style.color="brown",i("tesseract6Bonus").style.color="brown",i("hypercube6Bonus").style.color="brown",i("runeshowpower5").style.color="tomato",i("hypercubeWelcome").style.color="#ff004c",i("hypercubeQuantity").style.color="#ff004c",i("hypercubeBlessingsTotal").style.color="#ff004c"),r===1?(localStorage.removeItem("theme"),s.textContent="Dark Mode"):r===2?(a.style.setProperty("--header-color","black"),a.style.setProperty("--bg-color","#0c0c0f"),a.style.setProperty("--alert-color","#040406"),a.style.setProperty("--history-lines","#1b1b22"),a.style.setProperty("--box-color","#060606"),a.style.setProperty("--boxmain-bordercolor","#d487d4"),a.style.setProperty("--button-color","#040406"),a.style.setProperty("--hover-color","#1b1b22"),a.style.setProperty("--purplebtn-color","#6f006f"),a.style.setProperty("--buttonbuy-color","#040406"),a.style.setProperty("--buildings-canbuy-color","#2c2c44"),a.style.setProperty("--buildings-hover-color","#3a3a58"),a.style.setProperty("--blessings-canbuy-color","#262639"),a.style.setProperty("--blessings-hover-color","#33334e"),a.style.setProperty("--tab-color","black"),a.style.setProperty("--singtab-color","#002"),a.style.setProperty("--hoversing-color","#00007d"),a.style.setProperty("--shoptab-color","#6f006f"),a.style.setProperty("--hepteract-bar-empty","#3a3a58"),a.style.setProperty("--hepteract-bar-red","darkred"),a.style.setProperty("--hepteract-bar-yellow","#997a00"),a.style.setProperty("--hepteract-bar-green","darkgreen"),i("corruptionStatsLoadouts").style.borderColor="#dd8f00",i("actualPotionShop").style.borderColor="#dd0",i("exportgame").style.backgroundColor="black",i("importFileButton").style.backgroundColor="black",s.textContent="Darker Mode"):r===3?(a.style.setProperty("--header-color","#18171c"),a.style.setProperty("--bg-color","#1c1b22"),a.style.setProperty("--alert-color","#141319"),a.style.setProperty("--history-lines","#083a3a"),a.style.setProperty("--box-color","#141319"),a.style.setProperty("--boxmain-bordercolor","#dda0dd"),a.style.setProperty("--button-color","#101828"),a.style.setProperty("--hover-color","#006"),a.style.setProperty("--blackbtn-color","#101828"),a.style.setProperty("--buttonbuy-color","#0b111c"),a.style.setProperty("--buildings-canbuy-color","#2d4471"),a.style.setProperty("--buildings-hover-color","#3c5a95"),a.style.setProperty("--blessings-canbuy-color","#1e2e4d"),a.style.setProperty("--blessings-hover-color","#2d4471"),a.style.setProperty("--tab-color","#101828"),a.style.setProperty("--hoversing-color","#005"),a.style.setProperty("--hepteract-bar-empty","#535064"),i("corruptionStatsLoadouts").style.borderColor="#ffa500",i("actualPotionShop").style.borderColor="#dd0",i("actualShop").style.backgroundColor="#0c0c0f",i("actualShop").style.borderColor="#d487d4",i("platonicUpgradePics").style.backgroundColor="#0c0c0f",a.style.setProperty("--maroon-text-color","#a90000"),s.textContent="Lighter Dark Mode"):r===4?(a.classList.add("textOutline"),a.style.setProperty("--header-color","#736e8d"),a.style.setProperty("--bg-color","#7c7891"),a.style.setProperty("--alert-color","#646175"),a.style.setProperty("--history-lines","#156e71"),a.style.setProperty("--box-color","#646175"),a.style.setProperty("--boxmain-bordercolor","#d894d8"),a.style.setProperty("--button-color","#136062"),a.style.setProperty("--hover-color","#187c7f"),a.style.setProperty("--blackbtn-color","#105254"),a.style.setProperty("--buttonbuy-color","#4c495a"),a.style.setProperty("--buildings-canbuy-color","#9794a8"),a.style.setProperty("--buildings-hover-color","#b2b0bf"),a.style.setProperty("--blessings-canbuy-color","#6c687f"),a.style.setProperty("--blessings-hover-color","#7c7990"),a.style.setProperty("--tab-color","#105254"),a.style.setProperty("--singtab-color","#00d"),a.style.setProperty("--hoversing-color","#1052B6"),a.style.setProperty("--hepteract-bar-empty","#858199"),a.style.setProperty("--hepteract-bar-red","#ea1741"),a.style.setProperty("--hepteract-bar-yellow","#cc0"),a.style.setProperty("--hepteract-bar-green","limegreen"),i("corruptionStatsLoadouts").style.borderColor="#dd8f00",i("actualPotionShop").style.borderColor="#dd0",i("switchTheme2").style.borderColor="#284242",a.style.setProperty("--green-text-color","limegreen"),a.style.setProperty("--red-text-color","#f55"),a.style.setProperty("--maroon-text-color","#ff5656"),a.style.setProperty("--crimson-text-color","#f7617d"),a.style.setProperty("--orchid-text-color","#dd7dda"),a.style.setProperty("--darkorchid-text-color","#cf9ee8"),a.style.setProperty("--darkcyan-text-color","turquoise"),a.style.setProperty("--lightseagreen-text-color","limegreen"),a.style.setProperty("--orangered-text-color","#f74"),a.style.setProperty("--gray-text-color","#a5a5a5"),i("achievementcolorcode2").style.color="#dc7dff",i("corruptionDescription").style.color="#d272ff",i("corruptionTesseracts").style.color="#d272ff",i("antwelcome").style.color="#b1b1b1",i("versionnumber").style.color="#ff5aff",i("singularitytab").style.color="#ff5252",i("traitstab").style.color="#ff5252",i("cubetab").style.color="#ff5252",i("antspecies").style.color="#8da9ff",i("ascTimeAccel").style.color="#97b0ff",i("cube6Bonus").style.color="#a5a5a5",i("tesseract6Bonus").style.color="#a5a5a5",i("hypercube6Bonus").style.color="#a5a5a5",i("hypercubeWelcome").style.color="#f58",i("hypercubeQuantity").style.color="#f58",i("hypercubeBlessingsTotal").style.color="#f58",i("runeshowpower5").style.color="#ff7158",s.textContent="Light Mode"):r===5&&(a.style.setProperty("--header-color","#0a0a11"),a.style.setProperty("--bg-color","#131319"),a.style.setProperty("--alert-color","#2a1035"),a.style.setProperty("--history-lines","#012d1c"),a.style.setProperty("--text-color","#ac47ff"),a.style.setProperty("--maroon-text-color","#c30000"),a.style.setProperty("--crimson-text-color","#eb0000"),a.style.setProperty("--orchid-text-color","#fd59f7"),a.style.setProperty("--darkorchid-text-color","#c205ff"),a.style.setProperty("--gray-text-color","#8f8f8f"),a.style.setProperty("--box-color","#000000"),a.style.setProperty("--boxmain-bordercolor","#b341e0"),a.style.setProperty("--button-color","#21003f"),a.style.setProperty("--hover-color","#00056a"),a.style.setProperty("--blackbtn-color","#28002a"),a.style.setProperty("--purplebtn-color","#5800a0"),a.style.setProperty("--purplehover-color","#680927"),a.style.setProperty("--buttonbuy-color","#005e00"),a.style.setProperty("--buildings-canbuy-color","#a00"),a.style.setProperty("--buildings-hover-color","#e00"),a.style.setProperty("--blessings-canbuy-color","#004d00"),a.style.setProperty("--blessings-hover-color","#800"),a.style.setProperty("--tab-color","#1a0030"),a.style.setProperty("--singtab-color","#000230"),a.style.setProperty("--hoversing-color","#000463"),a.style.setProperty("--shoptab-color","#5800a0"),a.style.setProperty("--hovershop-color","#7400d3"),a.style.setProperty("--hepteract-bar-empty","#4a4a60"),a.style.setProperty("--hepteract-bar-red","#c90000"),a.style.setProperty("--hepteract-bar-yellow","#919100"),a.style.setProperty("--hepteract-bar-green","#007f3b"),i("themeBox").style.backgroundColor="#0a0a11",i("themeBox").style.borderColor="#3c006d",i("c15Rewards").style.backgroundColor="#2e001b",i("c15Rewards").style.borderColor="#186e83",i("platonicUpgradeDescriptions").style.backgroundColor="#2e001b",i("platonicUpgradeDescriptions").style.borderColor="#186e83",i("platonicUpgradePics").style.backgroundColor="#720505",i("platonicUpgradePics").style.borderColor="#410303",i("actualPotionShop").style.backgroundColor="#01192c",i("actualPotionShop").style.borderColor="#04d481",i("actualShop").style.backgroundColor="#11111b",i("actualShop").style.borderColor="#038ba8",i("corruptionStatsLoadouts").style.backgroundColor="#0a0a11",i("corruptionStatsLoadouts").style.borderColor="#04d481",i("heptGrid").style.backgroundColor="#11111b",i("heptGrid").style.borderColor="#9b7306",i("achievementcolorcode2").style.color="#ef00e4",i("corruptionDescription").style.color="#c205ff",i("corruptionTesseracts").style.color="#c205ff",i("antwelcome").style.color="darkgrey",i("confirmationToggleTitle").style.color="#eb0000",i("specialActionsTitle").style.color="#eb0000",i("themesTitle").style.color="#eb0000",i("notationTitle").style.color="#eb0000",i("hepteractWelcome").style.color="#ac47ff",i("confirmationdisclaimer").style.color="#bb68ff",i("antspecies").style.color="#184ff3",i("bonussummation").style.color="#eb0000",i("buildinghotkeys").style.color="#838383",i("buildinghotkeys2").style.color="#838383",s.textContent="Dracula Mode"),n&&setTimeout(()=>{a.style.removeProperty("--transition"),a.style.removeProperty("--transition-extra")},750)};var cu=(t=!0)=>{let r=i("notation"),n=e.notation,s;switch(n){case"Pure Scientific":r.textContent=u.t("settings.notation.pureEngineering"),s="Pure Engineering";break;case"Pure Engineering":r.textContent=u.t("settings.notation.default"),s="Default";break;default:r.textContent=u.t("settings.notation.pureScientific"),s="Pure Scientific"}t&&(e.notation=s)},uu=()=>{let t=i("notation");switch(e.notation){case"Pure Scientific":t.textContent=u.t("settings.notation.pureScientific");break;case"Pure Engineering":t.textContent=u.t("settings.notation.pureEngineering");break;default:t.textContent=u.t("settings.notation.default")}},Re=[["Legacy",-1],["Default",0],["Simplified",1],["Monotonous",1]],co=/Default|Simplified|Monotonous|Legacy/,po=(t=e.iconSet)=>{(t>Re.length-1||t<0)&&(t=0),e.iconSet=t,Array.from(document.getElementsByTagName("img")).forEach(r=>{r.src=r.src.replace(co,Re[e.iconSet][0])}),i("iconSet").textContent=u.t(`settings.iconSets.${Re[e.iconSet][0].toLowerCase()}`)};function pu(t){if(console.log("error: ",t.error),!t.target||!(t.target instanceof HTMLImageElement))return;let r=t.target,n=Re[e.iconSet][0],s=Re[e.iconSet][1],a="Legacy";s>=0&&s<Re.length-1&&(a=Re[s][0]),r.src.includes("Legacy")||!co.exec(r.src)?r.src="./Pictures/MISSINGIMAGE.png":r.src.includes(n)?r.src=r.src.replace(co,a):r.src=r.src.replace(co,"Legacy")}var an=class{constructor(r){this.level=0;this.freeLevels=0;this.toggleBuy=1;var n,s,a,l;this.name=r.name,this.description=r.description,this.level=(n=r.level)!=null?n:0,this.freeLevels=(s=r.freeLevels)!=null?s:0,this.maxLevel=r.maxLevel,this.costPerLevel=r.costPerLevel,this.toggleBuy=(a=r.toggleBuy)!=null?a:1,this.effect=(l=r.effect)!=null?l:c=>({bonus:c,desc:"WIP not implemented"})}async changeToggle(){let r=await Ue(u.t("dynamicUpgrades.validation.setPurchaseAmount",{x:this.name})),n=Number(r);if(r===null)return O(u.t("dynamicUpgrades.validation.toggleKept",{x:p(this.toggleBuy)}));if(!Number.isInteger(r))return O(u.t("general.validation.fraction"));if(n<-1)return O(u.t("dynamicUpgrades.validation.onlyNegativeOne"));if(n===0)return O(u.t("dynamicUpgrades.validation.notZero"));this.toggleBuy=n;let s=n===-1?u.t("dynamicUpgrades.toggleMax"):u.t("dynamicUpgrades.toggle",{x:p(this.toggleBuy)});return O(s)}getEffect(){let r=this.level+Math.min(this.level,this.freeLevels)+Math.sqrt(Math.max(0,this.freeLevels-this.level));return this.effect(r)}};var go=t=>t instanceof f||typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"mantissa"in t&&"exponent"in t,ke=(t=0)=>t<=Number.MAX_SAFE_INTEGER?1:2**Math.floor(Math.log2(t)-52),fe=t=>(t=Array.isArray(t)?t:Object.values(t),t.reduce((r,n)=>r+n,0)),Ce=t=>t.reduce((r,n)=>r*n),du=t=>Array.from([...t.keys()]).sort((r,n)=>t[r]<t[n]?-1:+(t[n]<t[r])),Gr=t=>i(t);var gu=(t,r,n)=>{for(let s=0;s<n;s++)s in t||(t[s]=r);return t},Lt=(t,r,n)=>{let s=i(t);for(let a of r)s.classList.add(a);for(let a of n)s.classList.remove(a)},ua=t=>{try{return window.btoa(t)}catch(r){return console.error("An error occurred:",r),null}},Ya=t=>{let r="th";return t%10===1&&(r=t%100===11?"th":"st"),t%10===2&&(r=t%100===12?"th":"nd"),t%10===3&&(r=t%100===13?"th":"rd"),p(t,0,!0)+r},mf=t=>Object.entries({d:Math.floor(t/864e5),h:Math.floor(t/36e5)%24,m:Math.floor(t/6e4)%60,s:Math.floor(t/1e3)%60}).filter(r=>r[1]>0).map(r=>`${r[1]}${r[0]}`).join(" ")||"0s",gr=t=>mf(1e3*t),Za=t=>{let r="";for(let n=0;n<t.length;n++){let s=t.charCodeAt(n);r+=s>255?"_":t[n]}return r};function fo(t){if(!t)throw new TypeError("assertion failed")}function mo(t,r,n){return t<r?n:t>n?r:t}var Ja=()=>{let t,r,n=new Promise((s,a)=>{t=s,r=a});return{resolve:t,reject:r,promise:n}};var zi=()=>{let t=e.singularityCount,r=t>36?u.t("singularity.penalties.platonicCosts",{multiplier:p(Ie("Platonic Costs",t),2,!0)}):'<span class="grayText">???????? ??????? ????? ??? ?????????? ?? ???</span> <span class="redText">(37)</span>',n=t>50?u.t("singularity.penalties.hepteractCosts",{multiplier:p(Ie("Hepteract Costs",t),2,!0)}):'<span class="grayText">????????? ????? ????? ??? ?????????? ?? ???</span> <span class="redText">(51)</span>',s=`${hf(t)}<br>${u.t("singularity.penalties.globalSpeed",{divisor:p(Ie("Global Speed",t),2,!0)})}
        ${u.t("singularity.penalties.ascensionSpeed",{divisor:p(Ie("Ascension Speed",t),2,!0)})}
        ${u.t("singularity.penalties.offeringGain",{divisor:p(Ie("Offering",t),2,!0)})}
        ${u.t("singularity.penalties.obtainiumGain",{divisor:p(Ie("Obtainium",t),2,!0)})}
        ${u.t("singularity.penalties.cubeGain",{divisor:p(Ie("Cubes",t),2,!0)})}
        ${u.t("singularity.penalties.researchCosts",{multiplier:p(Ie("Researches",t),2,!0)})}
        ${u.t("singularity.penalties.cubeUpgradeCosts",{multiplier:p(Ie("Cube Upgrades",t),2,!0)})}
        ${r}
        ${n}
        ${t>=270?u.t("singularity.penalties.penaltySmooth"):u.t("singularity.penalties.penaltyRough",{num:p(yf(e.singularityCount),0,!0)})}
        ${e.runelevels[6]>0?u.t("singularity.penalties.antiquitiesBought"):u.t("singularity.penalties.antiquitiesNotBought")}`;i("singularityPenaltiesMultiline").innerHTML=s};function hf(t){return u.t("general.youAreInThe",{number:Ya(t)})}var H=class extends an{constructor(n,s){var c,d,g,m,h,b;let a=u.t(`singularity.data.${s}.name`),l=u.t(`singularity.data.${s}.description`);super(en(ze({},n),{name:a,description:l}));this.goldenQuarksInvested=0;this.goldenQuarksInvested=(c=n.goldenQuarksInvested)!=null?c:0,this.minimumSingularity=(d=n.minimumSingularity)!=null?d:0,this.canExceedCap=(g=n.canExceedCap)!=null?g:!1,this.specialCostForm=(m=n.specialCostForm)!=null?m:"Default",this.qualityOfLife=(h=n.qualityOfLife)!=null?h:!1,this.cacheUpdates=(b=n.cacheUpdates)!=null?b:void 0}toString(){let n=this.getCostTNL(),s=this.maxLevel===-1?"":`/${p(this.computeMaxLevel(),0,!0)}`,a=this.computeMaxLevel()===this.level?"plum":"white",l=e.highestSingularityCount<this.minimumSingularity?"var(--crimson-text-color)":"var(--green-text-color)",c=this.minimumSingularity>0?`${u.t("general.minimum")} Singularity: ${this.minimumSingularity}`:u.t("singularity.toString.noMinimum"),d=this.freeLevels>0?`<span style="color: orange"> [+${p(this.freeLevels,2,!0)}]</span>`:"";return this.freeLevels>this.level&&(d=`${d}<span style="color: var(--maroon-text-color)"> ${u.t("general.softCapped")}</span>`),`<span style="color: gold">${this.name}</span>
                <span style="color: lightblue">${this.description}</span>
                <span style="color: ${l}">${c}</span>
                <span style="color: ${a}"> ${u.t("general.level")} ${p(this.level,0,!0)}${s}${d}</span>
                <span style="color: gold">${this.getEffect().desc}</span>
                ${u.t("singularity.toString.costNextLevel")}: ${p(n,0,!0)} Golden Quarks.
                ${u.t("general.spent")} Quarks: ${p(this.goldenQuarksInvested,0,!0)}`}updateUpgradeHTML(){i("testingMultiline").innerHTML=this.toString()}getCostTNL(){let n=1;return this.computeMaxLevel()>this.maxLevel&&this.level>=this.maxLevel&&(n*=Math.pow(4,this.level-this.maxLevel+1)),this.specialCostForm==="Exponential2"?this.costPerLevel*Math.sqrt(n)*Math.pow(2,this.level):this.specialCostForm==="Cubic"?this.costPerLevel*n*(Math.pow(this.level+1,3)-Math.pow(this.level,3)):this.specialCostForm==="Quadratic"?this.costPerLevel*n*(Math.pow(this.level+1,2)-Math.pow(this.level,2)):(n*=this.maxLevel===-1&&this.level>=100?this.level/50:1,n*=this.maxLevel===-1&&this.level>=400?this.level/100:1,this.computeMaxLevel()===this.level?0:Math.ceil(this.costPerLevel*(1+this.level)*n))}async buyLevel(n){let s=0,a=1,l=e.goldenQuarks;if(n.shiftKey){a=1e5;let c=Number(await Ue(u.t("singularity.goldenQuarks.spendPrompt",{gq:p(e.goldenQuarks,0,!0)})));if(isNaN(c)||!isFinite(c)||!Number.isInteger(c))return O(u.t("general.validation.finite"));if(c===-1)l=e.goldenQuarks;else{if(c<=0)return O(u.t("general.validation.zeroOrLess"));l=c}l=Math.min(e.goldenQuarks,l)}if(this.maxLevel>0&&(a=Math.min(a,this.computeMaxLevel()-this.level)),a===0)return O(u.t("singularity.goldenQuarks.hasUpgrade"));if(e.highestSingularityCount<this.minimumSingularity)return O(u.t("singularity.goldenQuarks.notHighEnoughLevel"));for(;a>0;){let c=this.getCostTNL();if(e.goldenQuarks<c||l<c)break;e.goldenQuarks-=c,l-=c,this.goldenQuarksInvested+=c,this.level+=1,s+=1,a-=1,this.name===e.singularityUpgrades.oneMind.name&&(e.ascensionCounter=0,e.ascensionCounterReal=0,e.ascensionCounterRealReal=0,O(u.t("singularity.goldenQuarks.ascensionReset"))),this.name===e.singularityUpgrades.singCitadel2.name&&(e.singularityUpgrades.singCitadel.freeLevels=e.singularityUpgrades.singCitadel2.level),this.name===e.singularityUpgrades.blueberries.name&&e.caches.ambrosiaGeneration.updateVal("SingularityBerries")}if(s===0)return O(u.t("general.validation.moreThanPlayerHas"));s>1&&O(u.t("singularity.goldenQuarks.multiBuyPurchased",{levels:p(s)})),this.updateUpgradeHTML(),this.updateCaches(),zi(),Zi(),Oe()}computeFreeLevelSoftcap(){return Math.min(this.level,this.freeLevels)+Math.sqrt(Math.max(0,this.freeLevels-this.level))}computeMaxLevel(){if(this.canExceedCap){let n=this.maxLevel,s=[50,60,75,100,125,150,175,200,225,250];for(let a of s)if(e.highestSingularityCount>=a)n+=1;else break;return n+=+e.octeractUpgrades.octeractSingUpgradeCap.getEffect().bonus,n}else return this.maxLevel}actualTotalLevels(){if(e.singularityChallenges.noSingularityUpgrades.enabled&&!this.qualityOfLife||e.singularityChallenges.limitedAscensions.enabled&&this.name===e.singularityUpgrades.platonicDelta.name)return 0;let n=this.computeFreeLevelSoftcap(),s=this.level+n,a=0;if(e.octeractUpgrades.octeractImprovedFree.getEffect().bonus){let l=.6;l+=+e.octeractUpgrades.octeractImprovedFree2.getEffect().bonus,l+=+e.octeractUpgrades.octeractImprovedFree3.getEffect().bonus,l+=+e.octeractUpgrades.octeractImprovedFree4.getEffect().bonus,a=Math.pow(this.level*n,l)}return Math.max(s,a)}getEffect(){return this.effect(this.actualTotalLevels())}updateCaches(){if(this.cacheUpdates!==void 0)for(let n of this.cacheUpdates)n()}refund(){e.goldenQuarks+=this.goldenQuarksInvested,this.level=0,this.goldenQuarksInvested=0}},D={goldenQuarks1:{maxLevel:15,costPerLevel:12,canExceedCap:!0,effect:t=>({bonus:1+.1*t,get desc(){return u.t("singularity.data.goldenQuarks1.effect",{n:p(10*t,0,!0)})}}),qualityOfLife:!0},goldenQuarks2:{maxLevel:75,costPerLevel:60,canExceedCap:!0,effect:t=>({bonus:t>250?1/Math.log2(t/62.5):1-Math.min(.5,t/500),get desc(){return u.t("singularity.data.goldenQuarks2.effect",{n:t>250?p(100-100/Math.log2(t/62.5),2,!0):p(Math.min(50,t/5),2,!0)})}}),qualityOfLife:!0},goldenQuarks3:{maxLevel:1e3,costPerLevel:1e3,effect:t=>({bonus:t*(t+1)/2,get desc(){return u.t("singularity.data.goldenQuarks3.effect",{n:p(t*(t+1)/2)})}})},starterPack:{maxLevel:1,costPerLevel:10,effect:t=>({bonus:t>0,get desc(){return u.t(`singularity.data.starterPack.effect${t>0?"Have":"HaveNot"}`)}})},wowPass:{maxLevel:1,costPerLevel:350,effect:t=>({bonus:t>0,get desc(){return u.t(`singularity.data.wowPass.effect${t>0?"Have":"HaveNot"}`)}}),qualityOfLife:!0},cookies:{maxLevel:1,costPerLevel:100,effect:t=>({bonus:t>0,get desc(){return u.t(`singularity.data.cookies.effect${t>0?"Have":"HaveNot"}`)}}),qualityOfLife:!0},cookies2:{maxLevel:1,costPerLevel:500,effect:t=>({bonus:t>0,get desc(){return u.t(`singularity.data.cookies2.effect${t>0?"Have":"HaveNot"}`)}}),qualityOfLife:!0},cookies3:{maxLevel:1,costPerLevel:24999,effect:t=>({bonus:t>0,get desc(){return u.t(`singularity.data.cookies3.effect${t>0?"Have":"HaveNot"}`)}}),qualityOfLife:!0},cookies4:{maxLevel:1,costPerLevel:499999,effect:t=>({bonus:t>0,get desc(){return u.t(`singularity.data.cookies4.effect${t>0?"Have":"HaveNot"}`)}}),qualityOfLife:!0},cookies5:{maxLevel:1,costPerLevel:166e13,minimumSingularity:209,effect:t=>({bonus:t>0,get desc(){return u.t(`singularity.data.cookies5.effect${t>0?"Have":"HaveNot"}`)}}),qualityOfLife:!0},ascensions:{maxLevel:-1,costPerLevel:5,effect:t=>({bonus:(1+2*t/100)*(1+Math.floor(t/10)/100),get desc(){return u.t("singularity.data.ascensions.effect",{n:p((100+2*t)*(1+Math.floor(t/10)/100)-100,1,!0)})}})},corruptionFourteen:{maxLevel:1,costPerLevel:1e3,effect:t=>({bonus:t>0,get desc(){return u.t(`singularity.data.corruptionFourteen.effect${t>0?"Have":"HaveNot"}`,{m:t>0?":)":":("})}})},corruptionFifteen:{maxLevel:1,costPerLevel:4e4,effect:t=>({bonus:t>0,get desc(){return u.t(`singularity.data.corruptionFifteen.effect${t>0?"Have":"HaveNot"}`,{m:t>0?":)":":("})}})},singOfferings1:{maxLevel:-1,costPerLevel:1,effect:t=>({bonus:1+.02*t,get desc(){return u.t("singularity.data.singOfferings1.effect",{n:p(2*t,0,!0)})}})},singOfferings2:{maxLevel:25,costPerLevel:25,canExceedCap:!0,effect:t=>({bonus:1+.08*t,get desc(){return u.t("singularity.data.singOfferings2.effect",{n:p(8*t,0,!0)})}})},singOfferings3:{maxLevel:40,costPerLevel:500,canExceedCap:!0,effect:t=>({bonus:1+.04*t,get desc(){return u.t("singularity.data.singOfferings3.effect",{n:p(4*t,0,!0)})}})},singObtainium1:{maxLevel:-1,costPerLevel:1,effect:t=>({bonus:1+.02*t,get desc(){return u.t("singularity.data.singObtainium1.effect",{n:p(2*t,0,!0)})}})},singObtainium2:{maxLevel:25,costPerLevel:25,canExceedCap:!0,effect:t=>({bonus:1+.08*t,get desc(){return u.t("singularity.data.singObtainium2.effect",{n:p(8*t,0,!0)})}})},singObtainium3:{maxLevel:40,costPerLevel:500,canExceedCap:!0,effect:t=>({bonus:1+.04*t,get desc(){return u.t("singularity.data.singObtainium3.effect",{n:p(4*t,0,!0)})}})},singCubes1:{maxLevel:-1,costPerLevel:1,effect:t=>({bonus:1+.01*t,get desc(){return u.t("singularity.data.singCubes1.effect",{n:p(1*t,0,!0)})}})},singCubes2:{maxLevel:25,costPerLevel:25,canExceedCap:!0,effect:t=>({bonus:1+.08*t,get desc(){return u.t("singularity.data.singCubes2.effect",{n:p(8*t,0,!0)})}})},singCubes3:{maxLevel:40,costPerLevel:500,canExceedCap:!0,effect:t=>({bonus:1+.04*t,get desc(){return u.t("singularity.data.singCubes3.effect",{n:p(4*t,0,!0)})}})},singCitadel:{maxLevel:-1,costPerLevel:5e5,minimumSingularity:100,effect:t=>({bonus:(1+.02*t)*(1+Math.floor(t/10)/100),get desc(){return u.t("singularity.data.singCubes2.effect",{n:p(100*((1+.02*t)*(1+Math.floor(t/10)/100)-1))})}})},singCitadel2:{maxLevel:100,costPerLevel:1e14,minimumSingularity:204,specialCostForm:"Quadratic",effect:t=>({bonus:(1+.02*t)*(1+Math.floor(t/10)/100),get desc(){return u.t("singularity.data.singCubes3.effect",{n:p(100*((1+.02*t)*(1+Math.floor(t/10)/100)-1))})}})},octeractUnlock:{maxLevel:1,costPerLevel:8888,minimumSingularity:8,effect:t=>({bonus:t>0,get desc(){return u.t(`singularity.data.octeractUnlock.effect${t>0?"Have":"HaveNot"}`)}}),qualityOfLife:!0},singOcteractPatreonBonus:{maxLevel:1,costPerLevel:9999,minimumSingularity:12,effect:t=>({bonus:t>0,get desc(){return u.t("singularity.data.singOcteractPatreonBonus.effect",{n:t})}})},offeringAutomatic:{maxLevel:-1,costPerLevel:1e14,minimumSingularity:222,effect:t=>({bonus:t,get desc(){return u.t("singularity.data.offeringAutomatic.effect",{n:t})}})},intermediatePack:{maxLevel:1,costPerLevel:1,minimumSingularity:4,effect:t=>({bonus:t>0,get desc(){return u.t(`singularity.data.intermediatePack.effect${t>0?"Have":"HaveNot"}`)}})},advancedPack:{maxLevel:1,costPerLevel:200,minimumSingularity:9,effect:t=>({bonus:t>0,get desc(){return u.t(`singularity.data.advancedPack.effect${t>0?"Have":"HaveNot"}`)}})},expertPack:{maxLevel:1,costPerLevel:800,minimumSingularity:16,effect:t=>({bonus:t>0,get desc(){return u.t(`singularity.data.expertPack.effect${t>0?"Have":"HaveNot"}`)}})},masterPack:{maxLevel:1,costPerLevel:3200,minimumSingularity:25,effect:t=>({bonus:t>0,get desc(){return u.t(`singularity.data.masterPack.effect${t>0?"Have":"HaveNot"}`)}})},divinePack:{maxLevel:1,costPerLevel:12800,minimumSingularity:36,effect:t=>({bonus:t>0,get desc(){return u.t(`singularity.data.divinePack.effect${t>0?"Have":"HaveNot"}`)}})},wowPass2:{maxLevel:1,costPerLevel:19999,minimumSingularity:11,effect:t=>({bonus:t>0,get desc(){return u.t(`singularity.data.wowPass2.effect${t>0?"Have":"HaveNot"}`)}}),qualityOfLife:!0},wowPass3:{maxLevel:1,costPerLevel:3e7-1,minimumSingularity:83,effect:t=>({bonus:t>0,get desc(){return u.t(`singularity.data.wowPass3.effect${t>0?"Have":"HaveNot"}`)}}),qualityOfLife:!0},potionBuff:{maxLevel:10,costPerLevel:999,minimumSingularity:4,canExceedCap:!0,effect:t=>({bonus:Math.max(1,10*Math.pow(t,2)),get desc(){return u.t("singularity.data.potionBuff.effect",{n:p(Math.max(1,10*Math.pow(t,2)),0,!0)})}})},potionBuff2:{maxLevel:10,costPerLevel:1e8,minimumSingularity:119,canExceedCap:!0,effect:t=>({bonus:Math.max(1,2*t),get desc(){return u.t("singularity.data.potionBuff2.effect",{n:p(Math.max(1,2*t),0,!0)})}})},potionBuff3:{maxLevel:10,costPerLevel:1e12,minimumSingularity:191,canExceedCap:!0,effect:t=>({bonus:Math.max(1,1+.5*t),get desc(){return u.t("singularity.data.potionBuff3.effect",{n:p(Math.max(1,1+.5*t),2,!0)})}})},singChallengeExtension:{maxLevel:4,costPerLevel:999,minimumSingularity:11,effect:t=>({bonus:t,get desc(){return u.t("singularity.data.singChallengeExtension.effect",{n:2*t,m:t})}})},singChallengeExtension2:{maxLevel:3,costPerLevel:29999,minimumSingularity:26,effect:t=>({bonus:t,get desc(){return u.t("singularity.data.singChallengeExtension2.effect",{n:2*t,m:t})}})},singChallengeExtension3:{maxLevel:3,costPerLevel:749999,minimumSingularity:51,effect:t=>({bonus:t,get desc(){return u.t("singularity.data.singChallengeExtension3.effect",{n:2*t,m:t})}})},singQuarkImprover1:{maxLevel:30,costPerLevel:1,minimumSingularity:173,canExceedCap:!0,specialCostForm:"Exponential2",effect:t=>({bonus:t/200,get desc(){return u.t("singularity.data.singQuarkImprover1.effect",{n:p(t/2,2,!0)})}}),qualityOfLife:!0},singQuarkHepteract:{maxLevel:1,costPerLevel:14999,minimumSingularity:5,effect:t=>({bonus:t/100,get desc(){return u.t("singularity.data.singQuarkHepteract.effect",{n:p(2*t,2,!0)})}}),qualityOfLife:!0},singQuarkHepteract2:{maxLevel:1,costPerLevel:449999,minimumSingularity:30,effect:t=>({bonus:t/100,get desc(){return u.t("singularity.data.singQuarkHepteract2.effect",{n:p(2*t,2,!0)})}}),qualityOfLife:!0},singQuarkHepteract3:{maxLevel:1,costPerLevel:1337e4,minimumSingularity:61,effect:t=>({bonus:t/100,get desc(){return u.t("singularity.data.singQuarkHepteract3.effect",{n:p(2*t,2,!0)})}}),qualityOfLife:!0},singOcteractGain:{maxLevel:-1,costPerLevel:2e4,minimumSingularity:36,effect:t=>({bonus:1+.0125*t,get desc(){return u.t("singularity.data.singOcteractGain.effect",{n:p(1.25*t,2,!0)})}})},singOcteractGain2:{maxLevel:25,costPerLevel:4e4,minimumSingularity:36,canExceedCap:!0,effect:t=>({bonus:1+.05*t,get desc(){return u.t("singularity.data.singOcteractGain2.effect",{n:p(5*t,0,!0)})}})},singOcteractGain3:{maxLevel:50,costPerLevel:25e4,minimumSingularity:55,canExceedCap:!0,effect:t=>({bonus:1+.025*t,get desc(){return u.t("singularity.data.singOcteractGain3.effect",{n:p(2.5*t,0,!0)})}})},singOcteractGain4:{maxLevel:100,costPerLevel:75e4,minimumSingularity:77,canExceedCap:!0,effect:t=>({bonus:1+.02*t,get desc(){return u.t("singularity.data.singOcteractGain4.effect",{n:p(2*t,0,!0)})}})},singOcteractGain5:{maxLevel:200,costPerLevel:7777777,minimumSingularity:100,canExceedCap:!0,effect:t=>({bonus:1+.01*t,get desc(){return u.t("singularity.data.singOcteractGain5.effect",{n:p(t,0,!0)})}})},platonicTau:{maxLevel:1,costPerLevel:1e5,minimumSingularity:29,effect:t=>({bonus:t>0,get desc(){return u.t(`singularity.data.platonicTau.effect${t?"Have":"HaveNot"}`)}}),qualityOfLife:!0},platonicAlpha:{maxLevel:1,costPerLevel:2e7,minimumSingularity:70,effect:t=>({bonus:t>0,get desc(){return u.t(`singularity.data.platonicAlpha.effect${t?"Have":"HaveNot"}`)}}),qualityOfLife:!0},platonicDelta:{maxLevel:1,costPerLevel:5e9,minimumSingularity:110,effect:t=>({bonus:t>0,get desc(){return u.t(`singularity.data.platonicDelta.effect${t?"Have":"HaveNot"}`)}})},platonicPhi:{maxLevel:1,costPerLevel:2e11,minimumSingularity:149,effect:t=>({bonus:t>0,get desc(){return u.t(`singularity.data.platonicPhi.effect${t?"Have":"HaveNot"}`)}}),qualityOfLife:!0},singFastForward:{maxLevel:1,costPerLevel:7e6-1,minimumSingularity:50,effect:t=>({bonus:t>0,get desc(){return u.t(`singularity.data.singFastForward.effect${t?"Have":"HaveNot"}`)}}),qualityOfLife:!0},singFastForward2:{maxLevel:1,costPerLevel:1e11-1,minimumSingularity:147,effect:t=>({bonus:t>0,get desc(){return u.t(`singularity.data.singFastForward2.effect${t?"Have":"HaveNot"}`)}}),qualityOfLife:!0},singAscensionSpeed:{maxLevel:1,costPerLevel:1e10,minimumSingularity:128,effect:t=>({bonus:t,get desc(){return u.t("singularity.data.singAscensionSpeed.effect",{n:p(1+.03*t,2,!0),m:p(1-.03*t,2,!0)})}})},singAscensionSpeed2:{maxLevel:1,costPerLevel:1e12,minimumSingularity:147,effect:t=>({bonus:t,get desc(){return u.t("singularity.data.singAscensionSpeed2.effect")}})},WIP:{maxLevel:100,costPerLevel:1e300,minimumSingularity:251,effect:t=>({bonus:t,get desc(){return u.t("singularity.data.WIP.effect")}})},ultimatePen:{maxLevel:1,costPerLevel:222e20,minimumSingularity:300,effect:t=>({bonus:t>0,get desc(){return u.t("singularity.data.ultimatePen.effect",{n:t?"":"NOT",m:t>0?" However, the pen just ran out of ink. How will you get more?":""})}})},oneMind:{maxLevel:1,costPerLevel:166e11,minimumSingularity:162,effect:t=>({bonus:t>0,get desc(){return u.t(`singularity.data.oneMind.effect${t?"Have":"HaveNot"}`)}}),qualityOfLife:!0},wowPass4:{maxLevel:1,costPerLevel:66666666666,minimumSingularity:147,effect:t=>({bonus:t>0,get desc(){return u.t(`singularity.data.wowPass4.effect${t?"Have":"HaveNot"}`)}}),qualityOfLife:!0},blueberries:{maxLevel:10,costPerLevel:1e16,minimumSingularity:215,effect:t=>({bonus:t,get desc(){return u.t("singularity.data.blueberries.effect",{n:t})}}),specialCostForm:"Exponential2",qualityOfLife:!0,cacheUpdates:[()=>e.caches.blueberryInventory.updateVal("SingularityUpgrade")]},singAmbrosiaLuck:{maxLevel:-1,costPerLevel:1e9,minimumSingularity:187,effect:t=>({bonus:4*t,get desc(){return u.t("singularity.data.singAmbrosiaLuck.effect",{n:p(4*t)})}}),specialCostForm:"Exponential2",qualityOfLife:!0,cacheUpdates:[()=>e.caches.ambrosiaLuck.updateVal("SingularityBerries")]},singAmbrosiaLuck2:{maxLevel:30,costPerLevel:4e5,minimumSingularity:50,effect:t=>({bonus:2*t,get desc(){return u.t("singularity.data.singAmbrosiaLuck2.effect",{n:p(2*t)})}}),qualityOfLife:!0,cacheUpdates:[()=>e.caches.ambrosiaLuck.updateVal("SingularityBerries")]},singAmbrosiaLuck3:{maxLevel:30,costPerLevel:2e8,minimumSingularity:119,effect:t=>({bonus:3*t,get desc(){return u.t("singularity.data.singAmbrosiaLuck3.effect",{n:p(3*t)})}}),qualityOfLife:!0,cacheUpdates:[()=>e.caches.ambrosiaLuck.updateVal("SingularityBerries")]},singAmbrosiaLuck4:{maxLevel:50,costPerLevel:1e19,minimumSingularity:256,effect:t=>({bonus:5*t,get desc(){return u.t("singularity.data.singAmbrosiaLuck4.effect",{n:p(5*t)})}}),qualityOfLife:!0,cacheUpdates:[()=>e.caches.ambrosiaLuck.updateVal("SingularityBerries")]},singAmbrosiaGeneration:{maxLevel:-1,costPerLevel:1e9,minimumSingularity:187,effect:t=>({bonus:1+t/100,get desc(){return u.t("singularity.data.singAmbrosiaGeneration.effect",{n:p(t)})}}),specialCostForm:"Exponential2",qualityOfLife:!0,cacheUpdates:[()=>e.caches.ambrosiaGeneration.updateVal("SingularityBerries")]},singAmbrosiaGeneration2:{maxLevel:20,costPerLevel:8e5,minimumSingularity:50,effect:t=>({bonus:1+t/100,get desc(){return u.t("singularity.data.singAmbrosiaGeneration2.effect",{n:p(t)})}}),qualityOfLife:!0,cacheUpdates:[()=>e.caches.ambrosiaGeneration.updateVal("SingularityBerries")]},singAmbrosiaGeneration3:{maxLevel:35,costPerLevel:3e8,minimumSingularity:119,effect:t=>({bonus:1+t/100,get desc(){return u.t("singularity.data.singAmbrosiaGeneration3.effect",{n:p(t)})}}),qualityOfLife:!0,cacheUpdates:[()=>e.caches.ambrosiaGeneration.updateVal("SingularityBerries")]},singAmbrosiaGeneration4:{maxLevel:50,costPerLevel:1e19,minimumSingularity:256,effect:t=>({bonus:1+2*t/100,get desc(){return u.t("singularity.data.singAmbrosiaGeneration4.effect",{n:p(2*t)})}}),qualityOfLife:!0,cacheUpdates:[()=>e.caches.ambrosiaGeneration.updateVal("SingularityBerries")]}};var Yi=[{name:()=>u.t("singularity.perkNames.welcometoSingularity"),levels:[1],description:()=>u.t("singularity.perks.welcometoSingularity"),ID:"welcometoSingularity"},{name:()=>u.t("singularity.perkNames.unlimitedGrowth"),levels:[1],description:()=>u.t("singularity.perks.unlimitedGrowth",{amount:p(10*e.singularityCount)}),ID:"unlimitedGrowth"},{name:()=>u.t("singularity.perkNames.goldenCoins"),levels:[1],description:()=>u.t("singularity.perks.goldenCoins",{amount:p(Math.pow(e.goldenQuarks+1,1.5)*Math.pow(e.highestSingularityCount+1,2),2)}),ID:"goldenCoins"},{name:()=>u.t("singularity.perkNames.xyz"),levels:[1,20,200],description:(t,r)=>t>=r[2]?u.t("singularity.perks.xyz.hasLevel2"):t>=r[1]?u.t("singularity.perks.xyz.hasLevel1"):u.t("singularity.perks.xyz.default"),ID:"xyz"},{name:()=>u.t("singularity.perkNames.generousOrbs"),levels:[1,2,5,10,15,20,25,30,35],description:(t,r)=>{let n={8:700,7:500,6:415,5:360,4:315,3:280,2:255,1:230};for(let s=8;s>0;s--)if(t>=r[s])return u.t("singularity.perks.generousOrbs",{amount:n[s]});return u.t("singularity.perks.generousOrbs",{amount:"215"})},ID:"generousOrbs"},{name:()=>u.t("singularity.perkNames.researchDummies"),levels:[1,11],description:(t,r)=>t>=r[1]?u.t("singularity.perks.researchDummies.hasLevel1"):u.t("singularity.perks.researchDummies.otherwise"),ID:"researchDummies"},{name:()=>u.t("singularity.perkNames.eternalAscensions"),levels:[1,25],description:(t,r)=>{let n=p(1+e.singularityCount/10,1);return t>=r[1]?u.t("singularity.perks.eternalAscensions.hasLevel1",{amount:n}):u.t("singularity.perks.eternalAscensions.default",{amount:n})},ID:"eternalAscensions"},{name:()=>u.t("singularity.perkNames.antGodsCornucopia"),levels:[1,30,70,100],description:(t,r)=>t>=r[3]?u.t("singularity.perks.antGodsCornucopia.hasLevel3"):t>=r[2]?u.t("singularity.perks.antGodsCornucopia.hasLevel2"):t>=r[1]?u.t("singularity.perks.antGodsCornucopia.hasLevel1"):u.t("singularity.perks.antGodsCornucopia.default"),ID:"antGodsCornucopia"},{name:()=>u.t("singularity.perkNames.sweepomatic"),levels:[2,101],description:(t,r)=>t>=r[1]?u.t("singularity.perks.sweepomatic.hasLevel1"):u.t("singularity.perks.sweepomatic.otherwise"),ID:"sweepomatic"},{name:()=>u.t("singularity.perkNames.superStart"),levels:[2,3,4,7,15],description:(t,r)=>t>=r[4]?u.t("singularity.perks.superStart.hasLevel4"):t>=r[3]?u.t("singularity.perks.superStart.hasLevel3"):t>=r[2]?u.t("singularity.perks.superStart.hasLevel2"):t>=r[1]?u.t("singularity.perks.superStart.hasLevel1"):u.t("singularity.perks.superStart.default"),ID:"superStart"},{name:()=>u.t("singularity.perkNames.notSoChallenging"),levels:[4,7,10,15,20],description:(t,r)=>t>=r[4]?u.t("singularity.perks.notSoChallenging.hasLevel4"):t>=r[3]?u.t("singularity.perks.notSoChallenging.hasLevel3"):t>=r[2]?u.t("singularity.perks.notSoChallenging.hasLevel2"):t>=r[1]?u.t("singularity.perks.notSoChallenging.hasLevel1"):u.t("singularity.perks.notSoChallenging.default"),ID:"notSoChallenging"},{name:()=>u.t("singularity.perkNames.automationUpgrades"),levels:[5,10,15,25,30,100],description:(t,r)=>t>=r[5]?u.t("singularity.perks.automationUpgrades.hasLevel5"):t>=r[4]?u.t("singularity.perks.automationUpgrades.hasLevel4"):t>=r[3]?u.t("singularity.perks.automationUpgrades.hasLevel3"):t>=r[2]?u.t("singularity.perks.automationUpgrades.hasLevel2"):t>=r[1]?u.t("singularity.perks.automationUpgrades.hasLevel1"):u.t("singularity.perks.automationUpgrades.default"),ID:"automationUpgrades"},{name:()=>u.t("singularity.perkNames.evenMoreQuarks"),levels:[5,7,10,20,35,50,65,80,90,100,121,144,150,160,166,169,170,175,180,190,196,200,201,202,203,204,205,210,212,214,216,218,220,225,250,255,260,261,262],description:(t,r)=>{for(let n=r.length-1;n>=0;n--)if(t>=r[n])return u.t("singularity.perks.evenMoreQuarks.m",{stack:n+1,inc:p(100*(Math.pow(1.05,n+1)-1),2)});return u.t("singularity.perks.evenMoreQuarks.bug")},ID:"evenMoreQuarks"},{name:()=>u.t("singularity.perkNames.shopSpecialOffer"),levels:[5,20,51],description:(t,r)=>t>=r[2]?u.t("singularity.perks.shopSpecialOffer.hasLevel2"):t>=r[1]?u.t("singularity.perks.shopSpecialOffer.hasLevel1"):u.t("singularity.perks.shopSpecialOffer.default"),ID:"shopSpecialOffer"},{name:()=>u.t("singularity.perkNames.potionAutogenerator"),levels:[6],description:()=>u.t("singularity.perks.potionAutogenerator"),ID:"potionAutogenerator"},{name:()=>u.t("singularity.perkNames.respecBeGone"),levels:[7],description:()=>u.t("singularity.perks.respecBeGone"),ID:"respecBeGone"},{name:()=>u.t("singularity.perkNames.forTheLoveOfTheAntGod"),levels:[10,15,25],description:(t,r)=>t>=r[2]?u.t("singularity.perks.forTheLoveOfTheAntGod.hasLevel2"):t>=r[1]?u.t("singularity.perks.forTheLoveOfTheAntGod.hasLevel1"):u.t("singularity.perks.forTheLoveOfTheAntGod.default"),ID:"forTheLoveOfTheAntGod"},{name:()=>u.t("singularity.perkNames.itAllAddsUp"),levels:[10,16,25,36,49,64,81,100,121,144,169,196,225,235,240],description:(t,r)=>{for(let n=r.length-1;n>=0;n--)if(t>=r[n])return u.t("singularity.perks.itAllAddsUp",{div:p(1+(n+1)/5,2,!0),div2:p(1+(n+1)/5,2,!0),cap:p(1+(n+1)/5,2,!0)});return u.t("singularity.perks.evenMoreQuarks.bug")},ID:"itAllAddsUp"},{name:()=>u.t("singularity.perkNames.automagicalRunes"),levels:[15,30,40,50],description:(t,r)=>t>=r[3]?u.t("singularity.perks.automagicalRunes.hasLevel3"):t>=r[2]?u.t("singularity.perks.automagicalRunes.hasLevel2"):t>=r[1]?u.t("singularity.perks.automagicalRunes.hasLevel1"):u.t("singularity.perks.automagicalRunes.default"),ID:"automagicalRunes"},{name:()=>u.t("singularity.perkNames.derpSmithsCornucopia"),levels:[18,38,58,78,88,98,118,148,178,188,198,208,218,228,238,248],description:(t,r)=>{for(let n=r.length-1;n>=0;n--)if(t>=r[n])return u.t("singularity.perks.derpSmithsCornucopia",{counter:n+1});return u.t("singularity.perks.evenMoreQuarks.bug")},ID:"derpSmithsCornucopia"},{name:()=>u.t("singularity.perkNames.exaltedAchievements"),levels:[25],description:()=>u.t("singularity.perks.exaltedAchievements"),ID:"exaltedAchievements"},{name:()=>u.t("singularity.perkNames.coolQOLCubes"),levels:[25,35],description:(t,r)=>t>=r[1]?u.t("singularity.perks.coolQOLCubes.hasLevel1"):u.t("singularity.perks.coolQOLCubes.default"),ID:"coolQOLCubes"},{name:()=>u.t("singularity.perkNames.irishAnt"),levels:[35,42,49,56,63,70,77],description:(t,r)=>{for(let n=r.length-1;n>=0;n--)if(t>=r[n])return u.t("singularity.perks.irishAnt",{i:5*(n+1)});return u.t("singularity.perks.evenMoreQuarks.bug")},ID:"irishAnt"},{name:()=>u.t("singularity.perkNames.overclocked"),levels:[50,60,75,100,125,150,175,200,225,250],description:(t,r)=>{for(let n=r.length-1;n>=0;n--)if(t>=r[n])return u.t("singularity.perks.overclocked",{i:n+1});return u.t("singularity.perks.evenMoreQuarks.bug")},ID:"overclocked"},{name:()=>u.t("singularity.perkNames.wowCubeAutomatedShipping"),levels:[50,150],description:(t,r)=>t>=r[1]?u.t("singularity.perks.wowCubeAutomatedShipping.hasLevel1"):u.t("singularity.perks.wowCubeAutomatedShipping.default"),ID:"wowCubeAutomatedShipping"},{name:()=>u.t("singularity.perkNames.congealedblueberries"),levels:[64,128,192,256,270],description(t,r){for(let n=r.length-1;n>=0;n--)if(t>=r[n])return u.t("singularity.perks.congealedblueberries",{i:n+1});return u.t("singularity.perks.evenMoreQuarks.bug")},ID:"congealedblueberries"},{name:()=>u.t("singularity.perkNames.goldenRevolution"),levels:[100],description:()=>u.t("singularity.perks.goldenRevolution",{current:p(Math.min(100,.4*e.singularityCount),1)}),ID:"goldenRevolution"},{name:()=>u.t("singularity.perkNames.goldenRevolutionII"),levels:[100],description:()=>u.t("singularity.perks.goldenRevolutionII",{current:p(Math.min(50,.2*e.singularityCount),1)}),ID:"goldenRevolution2"},{name:()=>u.t("singularity.perkNames.goldenRevolutionIII"),levels:[100],description:()=>u.t("singularity.perks.goldenRevolutionIII",{current:p(Math.min(500,2*e.singularityCount))}),ID:"goldenRevolution3"},{name:()=>u.t("singularity.perkNames.platonicClones"),levels:[100,200],description:(t,r)=>t>=r[1]?u.t("singularity.perks.platonicClones.hasLevel1"):u.t("singularity.perks.platonicClones.default"),ID:"platonicClones"},{name:()=>u.t("singularity.perkNames.dilatedFiveLeaf"),levels:[100,200,250,260,266],description:(t,r)=>{for(let n=r.length-1;n>=0;n--)if(t>=r[n])return u.t("singularity.perks.dilatedFiveLeaf.desc",{percent:n+1});return u.t("singularity.perks.evenMoreQuarks.bug")},ID:"dilatedFiveLeaf"},{name:()=>u.t("singularity.perkNames.platSigma"),levels:[125,200],description:(t,r)=>{let n=0;for(let s of r)t>=s&&(n+=.125);return u.t("singularity.perks.platSigma",{counter:n,current:p(Math.min(60,n*e.singularityCount),1)})},ID:"platSigma"},{name:()=>u.t("singularity.perkNames.oneHundredThirtyOne"),levels:[131],description:()=>u.t("singularity.perks.oneHundredThirtyOne"),ID:"oneHundredThirtyOne"},{name:()=>u.t("singularity.perkNames.irishAnt2"),levels:[135,142,149,156,163,170,177],description:(t,r)=>{for(let n=r.length-1;n>=0;n--)if(t>=r[n])return u.t("singularity.perks.irishAnt2",{i:6*(n+1)});return u.t("singularity.perks.evenMoreQuarks.bug")},ID:"irishAnt2"},{name:()=>u.t("singularity.perkNames.midasMilleniumAgedGold"),levels:[150],description:()=>u.t("singularity.perks.midasMilleniumAgedGold"),ID:"midasMilleniumAgedGold"},{name:()=>u.t("singularity.perkNames.goldenRevolution4"),levels:[160,173,185,194,204,210,219,229,240,249],description:(t,r)=>{let s=0;for(let a of r)t>=a&&(s+=1);return u.t("singularity.perks.goldenRevolution4",{gq:p(1e6/s,0,!0)})},ID:"goldenRevolution4"},{name:()=>u.t("singularity.perkNames.octeractMetagenesis"),levels:[200,205],description:(t,r)=>t>=r[1]?u.t("singularity.perks.octeractMetagenesis.hasLevel1"):u.t("singularity.perks.octeractMetagenesis.default"),ID:"octeractMetagenesis"},{name:()=>u.t("singularity.perkNames.immaculateAlchemy"),levels:[200,208,221],description:(t,r)=>t>=r[2]?u.t("singularity.perks.immaculateAlchemy.hasLevel2"):t>=r[1]?u.t("singularity.perks.immaculateAlchemy.hasLevel1"):u.t("singularity.perks.immaculateAlchemy.default"),ID:"immaculateAlchemy"},{name:()=>u.t("singularity.perkNames.skrauQ"),levels:[200],description:()=>{let t=p(Math.pow((e.singularityCount-179)/20,2),4);return u.t("singularity.perks.skrauQ",{amt:t})},ID:"skrauQ"},{name:()=>u.t("singularity.perkNames.twoHundredSixtyNine"),levels:[269],description:()=>u.t("singularity.perks.twoHundredSixtyNine"),ID:"twoHundredSixtyNine"}],Zi=()=>{let t=e.highestSingularityCount;i("singularityPerksHeader").innerHTML=u.t("singularity.perks.header",{ord:Ya(t)}),i("singularityPerksText").innerHTML=u.t("singularity.perks.levelInfo",{level:"#",singularity:"#"}),i("singularityPerksDesc").innerHTML=u.t("singularity.perks.description"),bf(t)},Ji=(t,r)=>{for(let n=t.levels.length-1;n>=0;n--)if(r>=t.levels[n])return{level:n+1,singularity:t.levels[n],next:n<t.levels.length-1?t.levels[n+1]:null};return{level:0,singularity:t.levels[0],next:t.levels[0]}},bf=t=>{let r=[],n=null,s=Number.POSITIVE_INFINITY;for(let c of Yi){let d=Ji(c,t);d.level>0?(r.push({name:c.name(),lastUpgraded:d.singularity,acquired:c.levels[0],htmlID:c.ID}),d.next&&(s=Math.min(s,d.next))):(n===null&&(n=d.singularity),i(c.ID).style.display="none")}r.sort((c,d)=>c.acquired===d.acquired&&c.lastUpgraded===d.lastUpgraded?0:c.lastUpgraded>d.lastUpgraded||c.lastUpgraded===d.lastUpgraded&&c.acquired>d.acquired?-1:1);for(let c of r){let d=Bn(),g=i(c.htmlID);g.style.display="",i("singularityPerksGrid").append(g),t-c.lastUpgraded<=d?g.classList.replace("oldPerk","newPerk"):g.classList.replace("newPerk","oldPerk")}let a=i("singualrityUnlockNext");n?(a.style.display="",a.innerHTML=u.t("singularity.perks.unlockedIn",{sing:n})):a.style.display="none";let l=i("singualrityImproveNext");s<Number.POSITIVE_INFINITY?(l.style.display="",l.innerHTML=u.t("singularity.perks.improvedIn",{sing:s})):l.style.display="none"},Bn=()=>{let t=0;return t+=+e.singularityUpgrades.singFastForward.getEffect().bonus,t+=+e.singularityUpgrades.singFastForward2.getEffect().bonus,t+=+e.octeractUpgrades.octeractFastForward.getEffect().bonus,t=Math.max(0,Math.min(t,200-e.singularityCount-1)),e.insideSingularityChallenge?0:e.highestSingularityCount!==e.singularityCount&&e.singularityCount+t+1>=e.highestSingularityCount?Math.max(0,Math.min(t,e.highestSingularityCount-e.singularityCount-1)):t},el=()=>{let r=1e4;r*=1-.1*Math.min(1,e.achievementPoints/1e4),r*=1-.3*e.cubeUpgrades[60]/1e4,r*=+e.singularityUpgrades.goldenQuarks2.getEffect().bonus,r*=+e.octeractUpgrades.octeractGQCostReduce.getEffect().bonus,r*=e.highestSingularityCount>=100?1-.5*e.highestSingularityCount/250:1;let n=1;return e.highestSingularityCount>=200&&(n=3),e.highestSingularityCount>=208&&(n=5),e.highestSingularityCount>=221&&(n=8),r/=n,r=1e4-r,{cost:1e4-r,costReduction:r}};async function fu(){let t=el(),r=Math.floor(+e.worlds/t.cost),n=null;if(r===0)return O(u.t("singularity.goldenQuarks.poor"));let s=await Ue(u.t("singularity.goldenQuarks.buyPrompt",{cost:p(t.cost,0,!0),discount:p(t.costReduction,0,!0),max:p(r,0,!0)}));if(s===null)return O(u.t("general.cancelled"));if(n=Number(s),Number.isNaN(n)||!Number.isFinite(n))return O(u.t("general.validation.finite"));if(n<=0&&n!==-1)return O(u.t("general.validation.zeroOrLess"));if(n>r)return O(u.t("general.validation.goldenQuarksTooMany"));if(!Number.isInteger(n))return O(u.t("general.validation.fraction"));let a;return n===-1?(a=r*t.cost,e.worlds.sub(a),e.goldenQuarks+=r):(a=n*t.cost,e.worlds.sub(a),e.goldenQuarks+=n),O(u.t("singularity.goldenQuarks.transaction",{spent:p(r,0,!0),cost:p(a,0,!0)}))}var es=(t=e.singularityCount)=>{let r=t;return r*=Math.min(4.75,.75*t/10+1),e.insideSingularityChallenge&&e.singularityChallenges.noOcteracts.enabled&&(r*=Math.pow(e.singularityChallenges.noOcteracts.completions+1,3)),t>10&&(r*=1.5,r*=Math.min(4,1.25*t/10-.25)),t>25&&(r*=2.5,r*=Math.min(6,1.5*t/25-.5)),t>36&&(r*=4,r*=Math.min(5,t/18-1),r*=Math.pow(1.1,Math.min(t-36,64))),t>50&&(r*=5,r*=Math.min(8,2*t/50-1),r*=Math.pow(1.1,Math.min(t-50,50))),t>100&&(r*=2,r*=t/25,r*=Math.pow(1.1,t-100)),t>150&&(r*=2,r*=Math.pow(1.05,t-150)),t>200&&(r*=1.5,r*=Math.pow(1.275,t-200)),t>215&&(r*=1.25,r*=Math.pow(1.2,t-215)),t>230&&(r*=2),t>269&&(r*=3,r*=Math.pow(3,t-269)),r},yf=(t=e.singularityCount)=>{let r=[11,26,37,51,101,151,201,216,230,270],n=0;n+=e.shopUpgrades.shopSingularityPenaltyDebuff;for(let s of r)if(s+n>t)return s+n;return-1},Ie=(t,r=e.singularityCount)=>{if(r===0||e.runelevels[6]>0)return 1;let n=r;if(n-=e.shopUpgrades.shopSingularityPenaltyDebuff,n<1)return 1;let s=es(n);if(t==="Offering")return Math.sqrt(Math.min(s,es(150))+1);if(t==="Global Speed")return 1+Math.sqrt(s)/4;if(t==="Obtainium")return Math.sqrt(Math.min(s,es(150))+1);if(t==="Researches")return 1+Math.sqrt(s)/2;if(t==="Ascension Speed")return r<150?1+Math.sqrt(s)/5:1+Math.pow(s,.75)/1e4;if(t==="Cubes"){let a=e.singularityCount>100?Math.pow(1.02,e.singularityCount-100):1;return e.singularityCount<150?1+Math.sqrt(s)*a/4:1+Math.pow(s,.75)*a/1e3}else return t==="Platonic Costs"?r>36?1+Math.pow(s,3/10)/12:1:t==="Hepteract Costs"?r>50?1+Math.pow(s,11/50)/25:1:Math.cbrt(s+1)};var pa=(t,r)=>{t===1&&e.prestigePoints.gte(1e12)&&!e.unlocks.generation&&(e.unlocks.generation=!0);let n=100+t,s="transcendPoints";n<=110&&n>=106?s="coins":n<=115&&(s="prestigePoints");let a=f.pow(10,o.upgradeCosts[n]),l=Math.max(e.upgrades[101],e.upgrades[102],e.upgrades[103],e.upgrades[104],e.upgrades[105]);e.upgrades[n]===0&&e[s].gte(a)&&(l===0&&n>=102&&n<=105&&F(n-31),e[s]=e[s].sub(a),e.upgrades[n]=1,Gt(n,r))},mu=(t,r)=>{let n=t+80,s="reincarnationPoints";n<=87?s="prestigePoints":n<=93&&(s="transcendPoints");let a=f.pow(10,o.upgradeCosts[n]);e.upgrades[n]===0&&e[s].gte(a)&&(e[s]=e[s].sub(a),e.upgrades[n]=1,Gt(n,r))},hu=()=>{if(e.upgrades[90]>.5&&e.shoptoggles.generators){for(let t=1;t<6;t++)e.upgrades[100+t]===0&&e.prestigePoints.gte(f.pow(10,o.upgradeCosts[100+t]))&&pa(t,!0);for(let t=6;t<11;t++)e.upgrades[100+t]===0&&e.coins.gte(f.pow(10,o.upgradeCosts[100+t]))&&pa(t,!0);for(let t=11;t<16;t++)e.upgrades[100+t]===0&&e.prestigePoints.gte(f.pow(10,o.upgradeCosts[100+t]))&&pa(t,!0);for(let t=16;t<21;t++)e.upgrades[100+t]===0&&e.transcendPoints.gte(f.pow(10,o.upgradeCosts[100+t]))&&pa(t,!0)}if(e.upgrades[91]>.5){for(let t=1;t<21;t++)e.upgrades[t]===0&&e.coins.gte(f.pow(10,o.upgradeCosts[t]))&&e.shoptoggles.coin&&Yt("coins",t,!0);for(let t=121;t<=125;t++)e.upgrades[t]===0&&e.coins.gte(f.pow(10,o.upgradeCosts[t]))&&e.shoptoggles.coin&&e.cubeUpgrades[19]>0&&Yt("coins",t,!0)}if(e.upgrades[92]>.5){for(let t=21;t<38;t++)e.upgrades[t]===0&&e.prestigePoints.gte(f.pow(10,o.upgradeCosts[t]))&&e.shoptoggles.prestige&&Yt("prestigePoints",t,!0);e.upgrades[38]===0&&e.prestigePoints.gte(f.pow(10,5e4))&&e.shoptoggles.prestige&&e.achievements[120]===1&&Yt("prestigePoints",38,!0),e.upgrades[39]===0&&e.prestigePoints.gte(f.pow(10,1e5))&&e.shoptoggles.prestige&&e.achievements[127]===1&&Yt("prestigePoints",39,!0),e.upgrades[40]===0&&e.prestigePoints.gte(f.pow(10,2e5))&&e.shoptoggles.prestige&&e.achievements[134]===1&&Yt("prestigePoints",40,!0)}if(e.upgrades[99]>.5)for(let t=41;t<61;t++)e.upgrades[t]===0&&e.transcendPoints.gte(f.pow(10,o.upgradeCosts[t]))&&e.shoptoggles.transcend&&Yt("transcendPoints",t,!0);if(e.cubeUpgrades[8]>0)for(let t=61;t<=80;t++)e.upgrades[t]===0&&e.reincarnationPoints.gte(f.pow(10,o.upgradeCosts[t]))&&e.shoptoggles.reincarnate&&Yt("reincarnationPoints",t,!0);if(e.highestSingularityCount>=25)for(let t=81;t<=100;t++)e.upgrades[t]===0&&Rn(t,!0)};var tl={3:()=>({max:p(100*(.12+.88*e.upgrades[122]+.001*e.researches[129]*Math.log(e.commonFragments+1)/Math.log(4)),2,!0)}),4:()=>({max:p(10+.05*e.researches[129]*Math.log(e.commonFragments+1)/Math.log(4)+20*gt()/400*o.effectiveRuneSpiritPower[3])})},rl={1:()=>({level:p(5+e.achievements[270]+.1*e.platonicUpgrades[18],1,!0)}),2:()=>({max:p(10+e.achievements[270]+e.shopUpgrades.constantEX+100*(o.challenge15Rewards.exponent-1)+.3*e.platonicUpgrades[18],2,!0)})},nl=[()=>p((o.totalCoinOwned+1)*Math.min(1e30,Math.pow(1.008,o.totalCoinOwned)),2),()=>p((o.totalCoinOwned+1)*Math.min(1e30,Math.pow(1.008,o.totalCoinOwned)),2),()=>p((o.totalCoinOwned+1)*Math.min(1e30,Math.pow(1.008,o.totalCoinOwned)),2),()=>p((o.totalCoinOwned+1)*Math.min(1e30,Math.pow(1.008,o.totalCoinOwned)),2),()=>p((o.totalCoinOwned+1)*Math.min(1e30,Math.pow(1.008,o.totalCoinOwned)),2),()=>p((o.totalCoinOwned+1)*Math.min(1e30,Math.pow(1.008,o.totalCoinOwned)),2),()=>Math.min(4,1+Math.floor(f.log(e.fifthOwnedCoin+1,10))),()=>Math.floor(e.multiplierBought/7),()=>Math.floor(e.acceleratorBought/10),()=>p(f.pow(2,Math.min(50,e.secondOwnedCoin/15)),2),()=>p(f.pow(1.02,o.freeAccelerator),2),()=>p(f.min(1e4,f.pow(1.01,e.prestigeCount)),2),()=>p(f.min(1e50,f.pow(e.firstGeneratedMythos.add(e.firstOwnedMythos).add(1),4/3).times(1e10)),2),()=>p(f.pow(1.15,o.freeAccelerator),2),()=>p(f.pow(1.15,o.freeAccelerator),2),()=>p(f.pow(o.acceleratorEffect,1/3),2),()=>null,()=>p(f.min(1e125,e.transcendShards.add(1))),()=>p(f.min(1e200,e.transcendPoints.times(1e30).add(1))),()=>p(f.pow((o.totalCoinOwned+1)*Math.min(1e30,Math.pow(1.008,o.totalCoinOwned)),10),2),()=>({x:p(Math.floor(1+1/101*o.freeMultiplier)),y:p(Math.floor(5+1/101*o.freeAccelerator))}),()=>({x:p(Math.floor(1+1/101*o.freeMultiplier)),y:p(Math.floor(4+1/101*o.freeAccelerator))}),()=>({x:p(Math.floor(1+1/101*o.freeMultiplier)),y:p(Math.floor(3+1/101*o.freeAccelerator))}),()=>({x:p(Math.floor(1+1/101*o.freeMultiplier)),y:p(Math.floor(2+1/101*o.freeAccelerator))}),()=>({x:p(Math.floor(1+1/101*o.freeMultiplier)),y:p(Math.floor(1+1/101*o.freeAccelerator))}),()=>null,()=>p(Math.min(250,Math.floor(f.log(e.coins.add(1),1e3)))+Math.max(0,Math.min(1750,Math.floor(f.log(e.coins.add(1),1e15))-50))),()=>p(Math.min(1e3,Math.floor((e.firstOwnedCoin+e.secondOwnedCoin+e.thirdOwnedCoin+e.fourthOwnedCoin+e.fifthOwnedCoin)/160))),()=>p(Math.floor(Math.min(2e3,(e.firstOwnedCoin+e.secondOwnedCoin+e.thirdOwnedCoin+e.fourthOwnedCoin+e.fifthOwnedCoin)/80))),()=>p(Math.min(75,Math.floor(f.log(e.coins.add(1),1e10)))+Math.min(925,Math.floor(f.log(e.coins.add(1),1e30)))),()=>p(Math.floor(o.totalCoinOwned/2e3)),()=>p(Math.min(500,Math.floor(f.log(e.prestigePoints.add(1),1e25)))),()=>p(o.totalAcceleratorBoost),()=>p(Math.floor(3/103*o.freeMultiplier)),()=>p(Math.floor(2/102*o.freeMultiplier)),()=>p(f.min("1e5000",f.pow(e.prestigePoints,1/500)),2),()=>p(f.pow(f.log(e.prestigePoints.add(10),10),2),2),()=>null,()=>null,()=>null,()=>p(f.min(1e30,f.pow(e.transcendPoints.add(1),1/2))),()=>p(f.min(1e50,f.pow(e.prestigePoints.add(1),1/50).dividedBy(2.5).add(1)),2),()=>p(f.min(1e30,f.pow(1.01,e.transcendCount)),2),()=>p(f.min(1e6,f.pow(1.01,e.transcendCount)),2),()=>p(Math.min(2500,Math.floor(f.log(e.transcendShards.add(1),10)))),()=>null,()=>p(Math.pow(1.05,e.achievementPoints)*(e.achievementPoints+1),2),()=>p(Math.pow(Math.min(1e25,o.totalMultiplier*o.totalAccelerator)/1e3+1,8)),()=>p(Math.min(50,Math.floor(f.log(e.transcendPoints.add(1),1e10)))),()=>null,()=>p(Math.pow(o.totalAcceleratorBoost,2),2),()=>p(f.pow(o.globalMythosMultiplier,.025),2),()=>p(f.min("1e1250",f.pow(o.acceleratorEffect,1/125)),2),()=>p(f.min("1e2000",f.pow(o.multiplierEffect,1/180)),2),()=>p(f.pow("1e1000",Math.min(1e3,o.buildingPower-1)),2),()=>null,()=>null,()=>null,()=>null,()=>null,()=>null,()=>Math.floor(1/5*fe(e.challengecompletions)),()=>p(f.min("1e6000",f.pow(e.reincarnationPoints.add(1),6))),()=>p(f.pow(e.reincarnationPoints.add(1),2)),()=>null,()=>null,()=>p(f.pow(1.03,e.firstOwnedParticles+e.secondOwnedParticles+e.thirdOwnedParticles+e.fourthOwnedParticles+e.fifthOwnedParticles),2),()=>p(Math.min(2500,Math.floor(1/1e3*f.log(o.taxdivisor,10)))),()=>{let t=f.pow(f.log(o.reincarnationPointGain.add(10),10),.5),r=f.pow(f.log(o.reincarnationPointGain.add(10),10),.5);return{x:p(Math.min(10,new f(t).toNumber()),2),y:p(Math.min(3,new f(r).toNumber()),2)}},()=>p(1/3*Math.log(e.maxobtainium+1)/Math.log(10),2,!0),()=>null,()=>Math.min(50,1+2*e.challengecompletions[6]+2*e.challengecompletions[7]+2*e.challengecompletions[8]+2*e.challengecompletions[9]+2*e.challengecompletions[10]),()=>null,()=>p(1+4*Math.min(1,Math.pow(e.maxofferings/1e5,.5)),2),()=>p(1+2*Math.min(1,Math.pow(e.maxobtainium/3e7,.5)),2),()=>null,()=>p(f.pow(1.004+4/1e5*e.researches[96],e.firstOwnedAnts+e.secondOwnedAnts+e.thirdOwnedAnts+e.fourthOwnedAnts+e.fifthOwnedAnts+e.sixthOwnedAnts+e.seventhOwnedAnts+e.eighthOwnedAnts),3),()=>p(1+.005*Math.pow(Math.log(e.maxofferings+1)/Math.log(10),2),2,!0),()=>null,()=>null,...Array.from({length:39},()=>()=>null),()=>null,()=>null,()=>null,()=>null,()=>p(.333*e.challengecompletions[10],0),()=>p(.333*e.challengecompletions[10],0)],vf=t=>{var a;let r=(a=nl[t-1])==null?void 0:a.call(nl),n=typeof r,s=i("upgradeeffect");t>=81&&t<=119?s.textContent=u.t("upgrades.effects.81"):r==null?s.textContent=u.t(`upgrades.effects.${t}`):n==="string"||n==="number"?s.textContent=u.t(`upgrades.effects.${t}`,{x:r}):s.textContent=u.t(`upgrades.effects.${t}`,r)},vu=t=>{let r=u.t(`upgrades.descriptions.${t}`),n=e.upgrades[t]>.5?" BOUGHT!":"",s=i("upgradedescription");s.textContent=r+n,s.style.color=e.upgrades[t]>.5?"gold":"white",e.toggles[9]&&Rn(t,!1);let a="",l="";(t<=20&&t>=1||t<=110&&t>=106||t<=125&&t>=121)&&(a="Coins",l="yellow"),(t<=40&&t>=21||t<=105&&t>=101||t<=115&&t>=111||t<=87&&t>=81)&&(a="Diamonds",l="cyan"),(t<=60&&t>=41||t<=120&&t>=116||t<=93&&t>=88)&&(a="Mythos",l="plum"),(t<=80&&t>=61||t<=100&&t>=94)&&(a="Particles",l="limegreen"),i("upgradecost").textContent=`Cost: ${p(f.pow(10,o.upgradeCosts[t]))} ${a}`,i("upgradecost").style.color=l,vf(t)},Rn=(t,r)=>{if(e.upgrades[t]!==0||t<=40&&t>=21&&!e.unlocks.prestige||t<=60&&t>=41&&!e.unlocks.transcend||t<=80&&t>=61&&!e.unlocks.reincarnate||t<=120&&t>=81&&!e.unlocks.prestige||i(`upg${t}`).style.display==="none")return;let n;t<=20&&t>=1&&(n="coins"),t<=40&&t>=21&&(n="prestigePoints"),t<=60&&t>=41&&(n="transcendPoints"),t<=80&&t>=61&&(n="reincarnationPoints"),t<=87&&t>=81&&(n="prestigePoints"),t<=93&&t>=88&&(n="transcendPoints"),t<=100&&t>=94&&(n="reincarnationPoints"),n&&t<=80&&t>=1&&Yt(n,t,r),n&&t<=100&&t>=81&&mu(t-80,r),t<=120&&t>=101&&pa(t-100,r),t<=125&&t>=121&&Yt("coins",t,r)},ts=(t,r)=>{let n=0,s=0;if(t===1){n=121,s=125;for(let a=1;a<=20;a++)Rn(a,r)}t===2&&(n=21,s=40),t===3&&(n=41,s=60),t===4&&(n=101,s=120),t===5&&(n=81,s=100),t===6&&(n=61,s=80);for(let a=n;a<=s;a++)Rn(a,r)},yu={1:()=>({x:p(f.min(f.pow(10,50+2*e.crystalUpgrades[0]),f.pow(1.05,e.achievementPoints*e.crystalUpgrades[0])),2,!0)}),2:()=>({x:p(f.min(f.pow(10,100+5*e.crystalUpgrades[1]),f.pow(f.log(e.coins.add(1),10),e.crystalUpgrades[1]/3)),2,!0)}),3:()=>({x:p(f.pow(1+Math.min(.12+.88*e.upgrades[122]+.001*e.researches[129]*Math.log(e.commonFragments+1)/Math.log(4),.001*e.crystalUpgrades[2]),e.firstOwnedDiamonds+e.secondOwnedDiamonds+e.thirdOwnedDiamonds+e.fourthOwnedDiamonds+e.fifthOwnedDiamonds),2,!0)}),4:()=>({x:p(Math.min(10+.05*e.researches[129]*Math.log(e.commonFragments+1)/Math.log(4)+20*gt()/400*o.effectiveRuneSpiritPower[3],.05*e.crystalUpgrades[3]),2,!0)}),5:()=>({x:p(f.pow(1.01,(e.challengecompletions[1]+e.challengecompletions[2]+e.challengecompletions[3]+e.challengecompletions[4]+e.challengecompletions[5])*e.crystalUpgrades[4]),2,!0)})},Cf=t=>{var r;return u.t(`upgrades.crystalUpgrades.${t}`,(r=tl[t])==null?void 0:r.call(tl))},wf=t=>u.t("buildings.crystalUpgrades.currentEffect",{effect:t in yu?u.t(`upgrades.crystalEffects.${t}`,yu[t]()):""}),ho=t=>{let r=e.crystalUpgrades[t-1],n=(e.upgrades[73]>.5&&e.currentChallenge.reincarnation!==0?10:0)+Math.floor(o.rune3level*o.effectiveLevelMult/16)*100/100,s=f.pow(10,o.crystalUpgradesCost[t-1]+o.crystalUpgradeCostIncrement[t-1]*Math.floor(Math.pow(e.crystalUpgrades[t-1]+.5-n,2)/2));i("crystalupgradedescription").textContent=Cf(t),i("crystalupgradeslevel1").innerHTML=u.t("buildings.crystalUpgrades.currentLevel",{amount:p(r,0,!0)}),i("crystalupgradescost1").innerHTML=u.t("buildings.crystalUpgrades.cost",{amount:p(s)}),i("crystalupgradeseffect1").innerHTML=wf(t)},Gt=(t,r)=>{let n=i(`upg${t}`);e.upgrades[t]>.5?n.style.backgroundColor="green":n.style.backgroundColor="";let s=u.t(`upgrades.descriptions.${t}`),a=e.upgrades[t]>.5?" BOUGHT!":"";e.upgrades[t]>.5&&(r||(i("upgradedescription").textContent=s+a,i("upgradedescription").style.color="gold")),r||Oe()},sl=()=>{let t=e.ascendBuilding1.owned+e.ascendBuilding2.owned+e.ascendBuilding3.owned+e.ascendBuilding4.owned+e.ascendBuilding5.owned;return t>1e5?Math.pow(1e5,.5)*Math.pow(t,.5):t},al={1:()=>({x:p(f.pow(1.05+.01*e.achievements[270]+.001*e.platonicUpgrades[18],e.constantUpgrades[1]),2,!0)}),2:()=>({x:p(f.pow(1+.001*Math.min(100+10*e.achievements[270]+10*e.shopUpgrades.constantEX+3*e.platonicUpgrades[18]+1e3*(o.challenge15Rewards.exponent-1),e.constantUpgrades[2]),sl()),2,!0)}),3:()=>({x:p(1+.02*e.constantUpgrades[3],2,!0)}),4:()=>({x:p(1+.04*e.constantUpgrades[4],2,!0)}),5:()=>({x:p(f.pow(1+.1*f.log(e.ascendShards.add(1),10),e.constantUpgrades[5]),2,!0)}),6:()=>({x:p(2*e.constantUpgrades[6])}),7:()=>({x:p(7*e.constantUpgrades[7]),y:p(3*e.constantUpgrades[7])}),8:()=>({x:p(1+1/10*e.constantUpgrades[8],2,!0)}),9:()=>({x:p(1+.01*Math.log(e.talismanShards+1)/Math.log(4)*Math.min(1,e.constantUpgrades[9]),4,!0)}),10:()=>({x:p(1+.01*f.log(e.ascendShards.add(1),4)*Math.min(1,e.constantUpgrades[10]),4,!0)})},xf=t=>{var r;return u.t(`upgrades.constantUpgrades.${t}`,(r=rl[t])==null?void 0:r.call(rl))},Mf=t=>{var r;return u.t(`upgrades.constantEffects.${t}`,(r=al[t])==null?void 0:r.call(al))},rs=t=>{let r,n;return t>=9?e.constantUpgrades[t]>=1?r=0:r=Math.min(1,Math.max(0,Math.floor(1+f.log(f.max(.01,e.ascendShards),10)-Math.log(o.constUpgradeCosts[t])/Math.log(10)))):r=Math.max(0,Math.floor(1+f.log(f.max(.01,e.ascendShards),10)-Math.log(o.constUpgradeCosts[t])/Math.log(10))),r>e.constantUpgrades[t]?n=f.pow(10,r-1).times(o.constUpgradeCosts[t]):n=t>=9&&e.constantUpgrades[t]>=1?new f("0"):f.pow(10,e.constantUpgrades[t]).times(o.constUpgradeCosts[t]),[Math.max(1,r-e.constantUpgrades[t]),n]},ol=t=>{let[r,n]=rs(t);i("constUpgradeDescription").textContent=xf(t),t>=9?i("constUpgradeLevel2").textContent=`${p(Math.min(1,e.constantUpgrades[t]))}/1`:i("constUpgradeLevel2").textContent=p(e.constantUpgrades[t]),i("constUpgradeCost2").textContent=`${p(n)} [+${p(r)} LVL]`,i("constUpgradeEffect2").textContent=Mf(t)},ns=(t,r=!1)=>{let[n,s]=rs(t);(t<=8||t>=9&&e.constantUpgrades[t]<1)&&e.ascendShards.gte(s)&&(e.constantUpgrades[t]+=n,e.researches[175]===0&&(e.ascendShards=e.ascendShards.sub(s)),r||ol(t)),Ot(),Fe()};var bo=()=>{let t=1;return t+=Math.min(1e15,o.rune4level*o.effectiveLevelMult/160),t+=(e.researches[56]+e.researches[57]+e.researches[58]+e.researches[59]+e.researches[60])/200,t+=K("transcend",e.challengecompletions[4])/200,t+=Math.min(99999.9,3*(e.antUpgrades[7-1]+o.bonusant7)/100),t},Hr=t=>{--t;let r=500,n=new f(r);if(n=n.times(f.pow(4/o.costDivisor,t)),t>125+5*K("transcend",e.challengecompletions[4])){let a=t-125-5*K("transcend",e.challengecompletions[4]),l=new f(a).factorial(),c=f.pow(4,a);n=n.times(c.times(l))}if(t>2e3+5*K("transcend",e.challengecompletions[4])){let a=t-2e3-5*K("transcend",e.challengecompletions[4]),l=a*(a+1)/2;n=n.times(f.pow(2,l))}if(e.currentChallenge.transcension===4){let a=t*(t+1)/2;n=n.times(f.pow(10,a))}if(e.currentChallenge.reincarnation===8){let a=t*(t+1)/2;n=n.times(f.pow(1e50,a))}let s=Math.pow(10,15);if(t>s){let c=Hr(s).pow(Math.pow(t/s,1/.125)),d=c.exponent-Math.floor(c.exponent);return c.exponent=Math.floor(c.exponent),c.mantissa*=Math.pow(10,d),c.normalize(),f.max(n,c)}return n},da=t=>{let r=e.acceleratorBought,n=Math.pow(10,15);if(r>=n){let h=f.log10(e.coins),b=f.log10(Hr(n)),y=Math.floor(n*Math.max(1,Math.pow(h/b,.125))),v=n;for(;y-v>.5;){let P=Math.floor(v+(y-v)/2);if(P===v||P===y)break;e.coins.gte(Hr(P))?v=P:y=P}let w=v,k=Hr(w);e.acceleratorBought=w,e.acceleratorCost=k;return}let s=r+ke(r),a=s,l=Hr(a);for(;e.coins.gte(l);)a=a*4,l=Hr(a);let c=Math.floor(a/8);for(;c>=ke(a);)Hr(a-c).lte(e.coins)?c=Math.floor(c/2):a=a-Math.max(ke(a),c);!t&&e.coinbuyamount!=="max"&&e.acceleratorBought+e.coinbuyamount<a&&(a=e.acceleratorBought+e.coinbuyamount);let d=Math.max(a-6-ke(a),s),g=Hr(d);for(;d<=a&&e.coins.gte(g);)if(d>=n&&(d=n),e.coins=e.coins.sub(g),e.acceleratorBought=d,d=d+ke(d),g=Hr(d),e.acceleratorCost=g,d>=n)return;e.prestigenoaccelerator=!1,e.transcendnoaccelerator=!1,e.reincarnatenoaccelerator=!1,cl(),e.acceleratorBought>=5&&e.achievements[148]===0&&F(148),e.acceleratorBought>=25&&e.achievements[149]===0&&F(149),e.acceleratorBought>=100&&e.achievements[150]===0&&F(150),e.acceleratorBought>=666&&e.achievements[151]===0&&F(151),e.acceleratorBought>=2e3&&e.achievements[152]===0&&F(152),e.acceleratorBought>=12500&&e.achievements[153]===0&&F(153),e.acceleratorBought>=1e5&&e.achievements[154]===0&&F(154)},Fr=t=>{--t;let r=1e4,n=new f(r);if(n=n.times(f.pow(10,t/o.costDivisor)),t>75+2*K("transcend",e.challengecompletions[4])){let a=t-75-2*K("transcend",e.challengecompletions[4]),l=new f(a).factorial(),c=f.pow(10,a);n=n.times(l.times(c))}if(t>2e3+2*K("transcend",e.challengecompletions[4])){let a=t-2e3-2*K("transcend",e.challengecompletions[4]),l=a*(a+1)/2;n=n.times(f.pow(2,l))}if(e.currentChallenge.transcension===4){let a=t*(t+1)/2;n=n.times(f.pow(10,a))}if(e.currentChallenge.reincarnation===8){let a=t*(t+1)/2;n=n.times(f.pow(1e50,a))}let s=Math.pow(10,15);if(t>s){let c=Fr(s).pow(Math.pow(t/s,1/.125)),d=c.exponent-Math.floor(c.exponent);return c.exponent=Math.floor(c.exponent),c.mantissa*=Math.pow(10,d),c.normalize(),f.max(n,c)}return n},ga=t=>{let r=e.multiplierBought,n=Math.pow(10,15);if(r>=n){let h=f.log10(e.coins),b=f.log10(Fr(n)),y=Math.floor(n*Math.max(1,Math.pow(h/b,.125))),v=n;for(;y-v>.5;){let P=Math.floor(v+(y-v)/2);if(P===v||P===y)break;e.coins.gte(Fr(P))?v=P:y=P}let w=v,k=Fr(w);e.multiplierBought=w,e.multiplierCost=k;return}let s=r+ke(r),a=s,l=Fr(a);for(;e.coins.gte(l);)a=a*4,l=Fr(a);let c=Math.floor(a/8);for(;c>=ke(a);)Fr(a-c).lte(e.coins)?c=Math.floor(c/2):a=a-Math.max(ke(a),c);!t&&e.coinbuyamount!=="max"&&e.multiplierBought+e.coinbuyamount<a&&(a=e.multiplierBought+e.coinbuyamount);let d=Math.max(a-6-ke(a),s),g=Fr(d);for(;d<=a&&e.coins.gte(g);)if(d>=n&&(d=n),e.coins=e.coins.sub(g),e.multiplierBought=d,d=d+ke(d),g=Fr(d),e.multiplierCost=g,d>=n)return;e.prestigenomultiplier=!1,e.transcendnomultiplier=!1,e.reincarnatenomultiplier=!1,ul(),e.multiplierBought>=2&&e.achievements[155]===0&&F(155),e.multiplierBought>=20&&e.achievements[156]===0&&F(156),e.multiplierBought>=100&&e.achievements[157]===0&&F(157),e.multiplierBought>=500&&e.achievements[158]===0&&F(158),e.multiplierBought>=2e3&&e.achievements[159]===0&&F(159),e.multiplierBought>=12500&&e.achievements[160]===0&&F(160),e.multiplierBought>=1e5&&e.achievements[161]===0&&F(161)},kf=Math.log10(2*Math.PI),Sf=Math.log10(Math.E),as=t=>++t===0?0:(Math.log10(t*Math.sqrt(t*Math.sinh(1/t)+1/(810*Math.pow(t,6))))-Sf)*t+(kf-Math.log10(t))/2,Tf=Math.log10(9332621544394e145),Lf=188.582,ss=(()=>{let t=[1.03,1.25],r=[1,2,3,4,5,6,10,15];for(let a of r)t.push(100+100*a),t.push(10+10*a);let n=1e3;for(let a=0;a<n;++a)t.push(1+a/2);let s={};for(let a of t)typeof s[a]>"u"&&(s[a]=Math.log10(a));return s})(),Pf=[100,1e3,2e4,4e5,8e6],Af=[100,1e5,1e15,1e40,1e100],Cu=[1,100,1e4,1e8,1e16],fr=(t,r,n,s,a)=>{--r;let l=Math.pow(10,15),c=new f(t),d=s*r;r<Lf/s&&(c.mantissa+=r/Math.pow(10,c.exponent));let g=0,m=Math.floor(a*1e3);r>=a*1e3&&(++g,c.exponent-=as(m),c.exponent+=(-3+Math.log10(1+s/2))*(r-m)),m=Math.floor(a*5e3),r>=a*5e3&&(++g,c.exponent-=as(m),c.exponent+=(ss[10+s*10]+1)*(r-m-1)+1),m=Math.floor(a*2e4),r>=a*2e4&&(g+=3,c.exponent-=as(m)*3,c.exponent+=(ss[100+100*s]+5)*(r-m)),m=Math.floor(a*25e4),r>=a*25e4&&(c.exponent+=Math.log10(1.03)*(r-m)*((r-m+1)/2)),c.exponent+=as(r)*g;let h=0;e.currentChallenge.transcension===4&&(n==="Coin"||n==="Diamonds")&&(++h,r>=1e3-10*e.challengecompletions[4]&&(d+=r*(r+1)/2)),e.currentChallenge.reincarnation===10&&(n==="Coin"||n==="Diamonds")&&(++h,r>=a*25e3&&(d+=r*(r+1)/2)),c.exponent+=h*((as(r+100)-Tf+2*r)*(1.25+e.challengecompletions[4]/4)),c.exponent+=ss[1.25]*d,m=Math.floor(a*1e3*e.challengecompletions[8]),e.currentChallenge.reincarnation===8&&(n==="Coin"||n==="Diamonds"||n==="Mythos")&&r>=1e3*e.challengecompletions[8]*a&&(c.exponent+=(ss[2]*((r-m+1)/2)-ss[1+e.challengecompletions[8]/2])*(r-m));let b=c.exponent-Math.floor(c.exponent);if(c.exponent=Math.floor(c.exponent),c.mantissa*=Math.pow(10,b),c.normalize(),r>l){let w=fr(t,l,n,s,a).pow(Math.pow(r/l,1/.125)),k=w.exponent-Math.floor(w.exponent);return w.exponent=Math.floor(w.exponent),w.mantissa*=Math.pow(10,k),w.normalize(),f.max(c,w)}return c},wu=(t,r)=>{let n=r==="Coin"?Pf:r==="Diamonds"?Af:Cu,s=r==="Coin"?t:t*(t+1)/2;return[n[t-1],s]},xu=(t,r,n,s)=>{let[a,l]=wu(t,r);return fr(a,n,r,l,s!=null?s:bo())},ft=(t,r)=>{let n=t-1,s=o.ordinals[n],[a,l]=wu(t,r),c=Math.pow(10,15),d=1e99,g=bo(),m=Mu[r][0],h=`${s}Owned${r}`,b=e[h];if(b>=c){let Q=f.log10(e[m]),$=f.log10(fr(a,c,r,l,g)),I=Math.floor(c*Math.max(1,Math.pow(Q/$,.125))),S=c;for(;I-S>.5;){let W=Math.floor(S+(I-S)/2);if(W===S||W===I)break;e[m].gte(fr(a,W,r,l,g))?S=W:I=W}let L=S,G=fr(a,L,r,l,g);e[h]=L,e[`${s}Cost${r}`]=G;return}let y=b+ke(b),v=1,w=fr(a,b+v,r,l,g);if(w.exponent>=d||!e[m].gte(w))return;for(;w.exponent<d&&e[m].gte(w);)v=v*4,w=fr(a,b+v,r,l,g);let k=Math.floor(v/8);for(;k>=ke(v);)fr(a,b+v-k,r,l,g).lte(e[m])?k=Math.floor(k/2):v=v-Math.max(ke(v),k);if(b+v>=c){e[h]=c,e[`${s}Cost${r}`]=fr(a,c,r,l,g);return}let P=Math.max(b+v-6-ke(v),y),A=fr(a,P,r,l,g);for(;P<=b+v&&e[m].gte(A);)e[m]=e[m].sub(A),e[h]=P,P=P+ke(P),A=fr(a,P,r,l,g),e[`${s}Cost${r}`]=A},Mu={Diamonds:["prestigePoints","crystal"],Mythos:["transcendPoints","mythos"],Particles:["reincarnationPoints","particle"],Coin:["coins","coin"]},ku=(t,r,n,s)=>{let[a,l]=Mu[r],c=s?500:e[`${l}buyamount`],d=1;d+=o.rune4level*o.effectiveLevelMult/160,d+=(e.researches[56]+e.researches[57]+e.researches[58]+e.researches[59]+e.researches[60])/200,d+=K("transcend",e.challengecompletions[4])/200,d+=3*(o.bonusant7+e.antUpgrades[7-1])/100;let g=`${t}Cost${r}`,m=`${t}Owned${r}`;for(;e[a].gte(e[g])&&o.ticker<c&&e[m]<Number.MAX_SAFE_INTEGER;)e[a]=e[a].sub(e[g]),e[m]+=1,e[g]=e[g].times(f.pow(1.25,n)),e[g]=e[g].add(1),e[m]>=1e3*d&&(e[g]=e[g].times(e[m]).dividedBy(1e3).times(1+n/2)),e[m]>=5e3*d&&(e[g]=e[g].times(e[m]).times(10).times(10+n*10)),e[m]>=2e4*d&&(e[g]=e[g].times(f.pow(e[m],3)).times(1e5).times(100+n*100)),e[m]>=25e4*d&&(e[g]=e[g].times(f.pow(1.03,e[m]-25e4*d))),e.currentChallenge.transcension===4&&(r==="Coin"||r==="Diamonds")&&(e[g]=e[g].times(Math.pow(100*e[m]+1e4,1.25+1/4*e.challengecompletions[4])),e[m]>=1e3-10*e.challengecompletions[4]&&(e[g]=e[g].times(f.pow(1.25,e[m])))),e.currentChallenge.reincarnation===8&&(r==="Coin"||r==="Diamonds"||r==="Mythos")&&e[m]>=1e3*e.challengecompletions[8]*d&&(e[g]=e[g].times(f.pow(2,(e[m]-1e3*e.challengecompletions[8]*d)/(1+e.challengecompletions[8]/2)))),o.ticker+=1;o.ticker=0},Yt=(t,r,n)=>{let s=t;e[s].gte(f.pow(10,o.upgradeCosts[r]))&&e.upgrades[r]===0&&(e[s]=e[s].sub(f.pow(10,o.upgradeCosts[r])),e.upgrades[r]=1,Gt(r,n)),t==="transcendPoints"&&(e.reincarnatenocoinprestigeortranscendupgrades=!1,e.reincarnatenocoinprestigetranscendorgeneratorupgrades=!1),t==="prestigePoints"&&(e.transcendnocoinorprestigeupgrades=!1,e.reincarnatenocoinorprestigeupgrades=!1,e.reincarnatenocoinprestigeortranscendupgrades=!1,e.reincarnatenocoinprestigetranscendorgeneratorupgrades=!1),t==="coins"&&(e.prestigenocoinupgrades=!1,e.transcendnocoinupgrades=!1,e.transcendnocoinorprestigeupgrades=!1,e.reincarnatenocoinupgrades=!1,e.reincarnatenocoinorprestigeupgrades=!1,e.reincarnatenocoinprestigeortranscendupgrades=!1,e.reincarnatenocoinprestigetranscendorgeneratorupgrades=!1)},Ef=t=>{let r=t-1,n=f.log(e.prestigeShards.add(1),10);return Math.floor(Math.pow(Math.max(0,2*(n-o.crystalUpgradesCost[r])/o.crystalUpgradeCostIncrement[r]+1/4),1/2)+1/2)},Ht=(t,r=!1)=>{let n=t-1,s=0;s+=Math.floor(o.rune3level/16*o.effectiveLevelMult)*100/100,e.upgrades[73]>.5&&e.currentChallenge.reincarnation!==0&&(s+=10);let a=Ef(t);a+s>e.crystalUpgrades[n]&&(e.crystalUpgrades[n]=100/100*(a+s),a>0&&(e.prestigeShards=e.prestigeShards.sub(f.pow(10,o.crystalUpgradesCost[n]+o.crystalUpgradeCostIncrement[n]*(1/2*Math.pow(a-1/2,2)-1/8))),r||ho(t)))},Nn=t=>{let r=1;if(e.upgrades[46]===1&&(r=t?9999:e.coinbuyamount),e.upgrades[46]<1){for(;e.prestigePoints.gte(e.acceleratorBoostCost)&&o.ticker<r;)if(e.prestigePoints.gte(e.acceleratorBoostCost)&&(e.acceleratorBoostBought+=1,e.acceleratorBoostCost=e.acceleratorBoostCost.times(1e10).times(f.pow(10,e.acceleratorBoostBought)),e.acceleratorBoostBought>1e3*(1+2*o.effectiveRuneBlessingPower[4])&&(e.acceleratorBoostCost=e.acceleratorBoostCost.times(f.pow(10,Math.pow(e.acceleratorBoostBought-1e3*(1+2*o.effectiveRuneBlessingPower[4]),2)/(1+2*o.effectiveRuneBlessingPower[4])))),e.transcendnoaccelerator=!1,e.reincarnatenoaccelerator=!1,e.upgrades[46]<.5)){for(let n=21;n<41;n++)e.upgrades[n]=0;Ae("prestige"),e.prestigePoints=new f(0)}}else{let n=e.acceleratorBoostBought,s=Math.pow(10,15);if(n>=s){let b=f.log10(e.prestigePoints),y=f.log10(Pr(s)),v=Math.floor(s*Math.max(1,Math.pow(b/y,.125))),w=s;for(;v-w>.5;){let A=Math.floor(w+(v-w)/2);if(A===w||A===v)break;e.prestigePoints.gte(Pr(A))?w=A:v=A}let k=w,P=Pr(k);e.acceleratorBoostBought=k,e.acceleratorBoostCost=P;return}let a=n+ke(n),l=1,c=Pr(n+l);for(;e.prestigePoints.gte(c);)l*=4,c=Pr(n+l);let d=Math.floor(l/8);for(;d>=ke(l);)Pr(n+l-d).lte(e.prestigePoints)?d=Math.floor(d/2):l=l-Math.max(ke(l),d);let g=Math.max(n+l-6-ke(l),a),m=Pr(e.acceleratorBoostBought);for(;g<=n+l&&e.prestigePoints.gte(Pr(g));)if(e.prestigePoints=e.prestigePoints.sub(m),g>=s&&(g=s),e.acceleratorBoostBought=g,g=g+ke(g),m=Pr(g),e.acceleratorBoostCost=m,e.transcendnoaccelerator=!1,e.reincarnatenoaccelerator=!1,g>=s)return}o.ticker=0,e.acceleratorBoostBought>=2&&e.achievements[162]===0&&F(162),e.acceleratorBoostBought>=10&&e.achievements[163]===0&&F(163),e.acceleratorBoostBought>=50&&e.achievements[164]===0&&F(164),e.acceleratorBoostBought>=200&&e.achievements[165]===0&&F(165),e.acceleratorBoostBought>=1e3&&e.achievements[166]===0&&F(166),e.acceleratorBoostBought>=5e3&&e.achievements[167]===0&&F(167),e.acceleratorBoostBought>=15e3&&e.achievements[168]===0&&F(168)},Pr=(t=1)=>{t--;let r=Math.pow(10,15),n=new f(1e3),s=1+2*o.effectiveRuneBlessingPower[4],a=d=>d*(d+1)/2,l=d=>d*(d+1)*(2*d+1)/6,c=n;if(t>1e3*s?c=n.times(f.pow(10,10*t+a(t)+l(t-1e3*s)/s)):c=n.times(f.pow(10,10*t+a(t))),t>r){let m=Pr(r).pow(Math.pow(t/r,1/.125)),h=m.exponent-Math.floor(m.exponent);return m.exponent=Math.floor(m.exponent),m.mantissa*=Math.pow(10,h),m.normalize(),f.max(c,m)}return c},Qr=(t,r)=>{--r,t=new f(t);let n=t.times(f.pow(2,r)),s=e.currentChallenge.ascension!==15?325e3:1e3;r>s&&(n=n.times(f.pow(1.001,(r-s)*((r-s+1)/2))));let a=Math.pow(10,15);if(r>a){let d=Qr(t,a).pow(Math.pow(r/a,1/.125)),g=d.exponent-Math.floor(d.exponent);return d.exponent=Math.floor(d.exponent),d.mantissa*=Math.pow(10,g),d.normalize(),f.max(n,d)}return n},_r=(t,r=!1)=>{let n=t-1,s=Cu[n],a=o.ordinals[n],l=`${a}OwnedParticles`,c=e[l],d=Math.pow(10,15);if(c>=d){let k=f.log10(e.reincarnationPoints),P=f.log10(Qr(s,d)),A=Math.floor(d*Math.max(1,Math.pow(k/P,.125))),R=d;for(;A-R>.5;){let I=Math.floor(R+(A-R)/2);if(I===R||I===A)break;e.reincarnationPoints.gte(Qr(s,I))?R=I:A=I}let Q=R,$=Qr(s,Q);e[l]=Q,e[`${a}CostParticles`]=$;return}let g=c+ke(c),m=g,h=Qr(s,m);for(;e.reincarnationPoints.gte(h);)m=m*4,h=Qr(s,m);let b=Math.floor(m/8);for(;b>=ke(m);)Qr(s,m-b).lte(e.reincarnationPoints)?b=Math.floor(b/2):m=m-Math.max(ke(m),b);r||e.particlebuyamount+c<m&&(m=c+e.particlebuyamount+ke(e[l]+e.particlebuyamount));let y=Math.max(m-6-ke(m),g),v=Qr(s,y);for(;y<=m&&e.reincarnationPoints.gte(v);)e.reincarnationPoints=e.reincarnationPoints.sub(v),e[l]=y,y=y+ke(y),v=Qr(s,y),e[`${a}CostParticles`]=v},In=[1,10,100,1e3,1e4],il=(t,r)=>{let n=t.map((a,l)=>{if(a===null)return null;let c=Math.ceil(Math.pow(r/In[l],1/3)-1);return Math.max(a,c)}),s=0;for(let a=0;a<t.length;a++){let l=t[a],c=n[a];l===null||c===null||(s+=In[a]*(Math.pow(c*(c+1)/2,2)-Math.pow(l*(l+1)/2,2)))}return[s,n]},yo=(t,r)=>{let n=null;for(let m=0;m<t.length;m++){let h=t[m];if(h===null)continue;let b=In[m]*Math.pow(h+1,3);(n===null||b<n)&&(n=b)}if(n===null||n>r)return t;let s=n,a=s*2;for(;il(t,a)[0]<=r;)s=a,a*=2;for(;a-s>.5;){let m=s+(a-s)/2;if(m===s||m===a)break;il(t,m)[0]<=r?s=m:a=m}let[l,c]=il(t,s),d=r-l,g=c.map((m,h)=>m===null?null:In[h]*Math.pow(m+1,3));for(let m=1;m<=5;m++){let h=null;for(let b=0;b<g.length;b++){let y=g[b];y!==null&&(h===null||y<=h.price)&&(h={price:y,index:b})}if(h!==null&&h.price<=d)d-=h.price,c[h.index]++,g[h.index]=In[h.index]*Math.pow(c[h.index]+1,3);else break}return c},Uf=(t,r,n=!0,s)=>{r!=null||(r=e.tesseractbuyamount),s!=null||(s=e[`ascendBuilding${t}`].owned);let a=In[t-1],l=a*Math.pow(s*(s+1)/2,2),c;if(n){let g=Math.floor(-.5+.5*Math.pow(1+8*Math.pow((Number(e.wowTesseracts)+l)/a,.5),.5));c=Math.min(g,s+r)}else c=s+r;let d=a*Math.pow(c*(c+1)/2,2)-l;return[c,d]},$n=(t,r=e.tesseractbuyamount)=>{let n=In[t-1],s=`ascendBuilding${t}`,[a,l]=Uf(t,r);e[s].owned=a,e.wowTesseracts.sub(l),e[s].cost=n*Math.pow(1+a,3)},fa=(t,r)=>{if((t==="Spirits"?e.challengecompletions[12]>0:e.achievements[134]===1)&&isFinite(e.runeshards)&&e.runeshards>0){let s,a,l;t==="Spirits"?(s=o.spiritBaseCost,a=e.runeSpiritLevels[r],l=e.runeSpiritBuyAmount):(s=o.blessingBaseCost,a=e.runeBlessingLevels[r],l=e.runeBlessingBuyAmount);let[c,d]=sn(a,s,e.runeshards,l);t==="Spirits"?e.runeSpiritLevels[r]=c:e.runeBlessingLevels[r]=c,e.runeshards-=d,e.runeshards<0&&(e.runeshards=0),Su(t,r)}},Su=(t,r)=>{if(r===1){let n=[0,1e5,1e8,1e11];for(let s=1;s<=3;s++)e.runeBlessingLevels[1]>=n[s]&&e.achievements[231+s]<1&&F(231+s),e.runeSpiritLevels[1]>=10*n[s]&&e.achievements[234+s]<1&&F(234+s);e.runeBlessingLevels[1]>=1e22&&e.achievements[245]<1&&F(245)}if(ll(),t==="Blessings"){let n=[0,8,10,6.66,2,1],s=r===5?1:0;i(`runeBlessingPower${r}Value1`).innerHTML=u.t("runes.blessings.blessingPower",{reward:u.t(`runes.blessings.rewards.${r-1}`),value:p(o.runeBlessings[r]),speed:p(1-s+n[r]*o.effectiveRuneBlessingPower[r],4,!0)})}else if(t==="Spirits"){let n=[0,1,1,20,1,100];n[r]*=gt()/400;let s=r===3?1:0;i(`runeSpiritPower${r}Value1`).innerHTML=u.t("runes.spirits.spiritPower",{reward:u.t(`runes.spirits.rewards.${r-1}`),value:p(o.runeSpirits[r]),speed:p(1-s+n[r]*o.effectiveRuneSpiritPower[r],4,!0)})}},ma=(t,r=100,n=!1)=>{if(t==="Spirits"?e.challengecompletions[12]>0:e.achievements[134]===1){let a=Math.floor(e.runeshards/100*r/5);for(let l=1;l<6;l++)if(isFinite(e.runeshards)&&e.runeshards>0){let c,d;t==="Spirits"?(c=o.spiritBaseCost,d=e.runeSpiritLevels[l]):(c=o.blessingBaseCost,d=e.runeBlessingLevels[l]);let[m,h]=sn(d,c,a,1e300);m>d&&(!n||(m-d)*1e4>d)&&(t==="Spirits"?e.runeSpiritLevels[l]=m:e.runeBlessingLevels[l]=m,e.runeshards-=h,e.runeshards<0&&(e.runeshards=0),Su(t,l))}}};var Dn=()=>{let t=Object.keys(e.hypercubeBlessings);for(let r of t){let n=e.hypercubeBlessings[r],s=t.indexOf(r)+1,a=1,l=1;n>=1e3&&(a=o.benedictionDRPower[s],l*=Math.pow(1e3,1-o.benedictionDRPower[s])),o.hypercubeBonusMultiplier[s]=1+l*o.benedictionbase[s]*Math.pow(n,a)*o.platonicBonusMultiplier[4]}};var vo=()=>{let t=Object.values(e.platonicBlessings),r=[4e6,4e6,4e6,8e4,1e4,1e4,1e4,1e4];for(let n=0;n<t.length;n++){let s=1,a=1,l=t[n];n===5&&(l=Math.min(l,1e20)),n===6&&l>=1e20&&(l=Math.pow(l,.5)*1e10),t[n]>=r[n]&&(s=o.platonicDRPower[n],a*=Math.pow(r[n],1-o.platonicDRPower[n])),o.platonicBonusMultiplier[n]=1+a*o.platonicCubeBase[n]*Math.pow(l,s)}};var Of=async()=>{if(!navigator.onLine||document.visibilityState==="hidden")return null;try{return(await(await fetch("https://synergism-quarks.khafra.workers.dev/")).json()).bonus}catch(t){console.log(`workers.dev: ${t.message}`)}try{let r=await(await fetch("https://api.github.com/gists/44be6ad2dcf0d44d6a29dffe1d66a84a",{headers:{Accept:"application/vnd.github.v3+json"}})).json();return Number(r.files["SynergismQuarkBoost.txt"].content)}catch(t){console.log(`GitHub Gist: ${t.message}`)}return null},Bt=()=>{let t=9e4;e.researches[195]>0&&(t+=18e3*e.researches[195]);let r=5,n=[99,100,125,180,195];for(let d of n)r+=e.researches[d];r*=+e.octeractUpgrades.octeractExportQuarks.getEffect().bonus;let s=r,a=Math.floor(s*t/3600),l=Math.floor(e.quarkstimer*s/3600),c=on();return{maxTime:t,perHour:s,capacity:a,gain:l,cubeMult:c}},Bf,Gn=class{constructor({bonus:r,quarks:n}){this.BONUS=0;this.QUARKS=0;this.interval=null;this[Bf]=r=>r==="number"?this.QUARKS:null;this.QUARKS=n,r?this.BONUS=r:this.getBonus(),this.interval&&clearInterval(this.interval),this.interval=setInterval(this.getBonus.bind(this),60*1e3*5)}applyBonus(r){let n=Co();return r*(1+this.BONUS/100)*n}add(r,n=!0){return this.QUARKS+=n?this.applyBonus(r):r,e.quarksThisSingularity+=n?this.applyBonus(r):r,this}sub(r){return this.QUARKS-=r,this.QUARKS<0&&(this.QUARKS=0),this}async getBonus(){let r=i("currentBonus");if(location.hostname==="synergism.cc")return;if(localStorage.getItem("quarkBonus")!==null){let{bonus:s,fetched:a}=JSON.parse(localStorage.getItem("quarkBonus"));if(Date.now()-a<60*1e3*15)return r.textContent=`Generous patrons give you a bonus of ${s}% more Quarks!`,this.BONUS=s}else if(navigator.onLine){if(document.hidden)return r.textContent="Current Bonus: N/A% (unfocused)!"}else return r.textContent="Current Bonus: N/A% (offline)!";let n=await Of();if(n!==null){{if(Number.isNaN(n)||typeof n!="number")return O("No bonus could be applied, a network error occurred! [Invalid Bonus] :(");if(Number.isFinite(n)){if(n<0)return O("No bonus could be applied, an error occurred. [Zero] :(")}else return O("No bonus could be applied, an error occurred. [Infinity] :(")}r.textContent=`Generous patrons give you a bonus of ${n}% more Quarks!`,localStorage.setItem("quarkBonus",JSON.stringify({bonus:n,fetched:Date.now()})),this.BONUS=n}}toString(r){return p(Math.floor(this.applyBonus(r)),0,!0)}reset(){this.QUARKS=0}};Bf=Symbol.toPrimitive;var Hn=()=>{let t=[e.tesseractBlessings.accelerator,e.tesseractBlessings.multiplier,e.tesseractBlessings.offering,e.tesseractBlessings.runeExp,e.tesseractBlessings.obtainium,e.tesseractBlessings.antSpeed,e.tesseractBlessings.antSacrifice,e.tesseractBlessings.antELO,e.tesseractBlessings.talismanBonus,e.tesseractBlessings.globalSpeed];for(let r=0;r<10;r++){let n=1,s=1;t[r]>=1e3&&r!==5&&(n=o.giftDRPower[r],s*=Math.pow(1e3,1-o.giftDRPower[r])),o.tesseractBonusMultiplier[r+1]=1+s*o.giftbase[r]*Math.pow(t[r],n)*o.hypercubeBonusMultiplier[r+1]}};var ha={accelerator:{weight:4,pdf:t=>0<=t&&t<=20},multiplier:{weight:4,pdf:t=>20<t&&t<=40},offering:{weight:2,pdf:t=>40<t&&t<=50},runeExp:{weight:2,pdf:t=>50<t&&t<=60},obtainium:{weight:2,pdf:t=>60<t&&t<=70},antSpeed:{weight:2,pdf:t=>70<t&&t<=80},antSacrifice:{weight:1,pdf:t=>80<t&&t<=85},antELO:{weight:1,pdf:t=>85<t&&t<=90},talismanBonus:{weight:1,pdf:t=>90<t&&t<=95},globalSpeed:{weight:1,pdf:t=>95<t&&t<=100}},pl={cubes:{weight:13200,pdf:t=>0<=t&&t<=33},tesseracts:{weight:13200,pdf:t=>33<t&&t<=66},hypercubes:{weight:13200,pdf:t=>66<t&&t<=99},platonics:{weight:396,pdf:t=>99<t&&t<=99.99},hypercubeBonus:{weight:1,pdf:t=>99.99<t&&t<=99.9925},taxes:{weight:1,pdf:t=>99.9925<t&&t<=99.995},scoreBonus:{weight:1,pdf:t=>99.995<t&&t<=99.9975},globalSpeed:{weight:1,pdf:t=>99.9975<t&&t<=100}},ln=class{constructor(r,n=0){this.key=r,this.value=n}async openCustom(){let r=e[this.key],n=await Ue(u.t("cubes.howManyCubesOpen",{x:p(r,0,!0)}));if(n===null)return O(u.t("cubes.noCubesOpened"));let s=n.endsWith("%"),a=n.startsWith("-")?s?100+Number(n.slice(0,-1)):r.value+Number(n):Number(s?n.slice(0,-1):n);return Number.isNaN(a)||!Number.isFinite(a)||!Number.isInteger(a)?O(u.t("general.validation.finiteInt")):r.value<a?O(u.t("cubes.validation.notEnough")):a<=0?O(u.t("cubes.validation.negative")):s&&a>100?O(u.t("cubes.validation.invalidPercent",{x:a})):s?this.open(Math.floor(r.value*(a/100)),a===100,!1):this.open(a,a===r.value,!1)}checkQuarkGain(r,n,s){if(s<1)return 0;let a=n*Bt().cubeMult;return Math.floor(e.worlds.applyBonus(Math.log10(s)*r*a))}checkCubesToNextQuark(r,n,s,a){let l=n*Bt().cubeMult;return Math.ceil(Math.pow(10,(s+1)/e.worlds.applyBonus(l*r))-a)}add(r){return this.value=Math.min(1e300,this.value+r),this}sub(r){return this.value=Math.max(0,this.value-r),this}[Symbol.toPrimitive](r){switch(r){case"string":return this.value.toString();case"number":return this.value;default:return null}}},Ft=class extends ln{constructor(r=Number(e.wowCubes)){super("wowCubes",r)}open(r,n=!1,s=!1){let a=n?Number(this):s?r:Math.min(Number(this),r);r===1&&e.cubeBlessings.accelerator>=2e11&&e.achievements[246]<1&&F(246),s||this.sub(a),e.cubeOpenedDaily+=a;let l=e.shopUpgrades.cubeToQuark?1.5:1,c=Number(this.checkQuarkGain(5,l,e.cubeOpenedDaily)),d=Math.max(0,c-e.cubeQuarkDaily);e.cubeQuarkDaily+=d,e.worlds.add(d,!1),a*=1+e.researches[138]/1e3,a*=1+.8*e.researches[168]/1e3,a*=1+.6*e.researches[198]/1e3,a=Math.floor(a);let g=a%20,m=Math.floor(a/20);m>0&&e.cubeUpgrades[13]===1&&(g+=m),m>0&&e.cubeUpgrades[23]===1&&(g+=m),m>0&&e.cubeUpgrades[33]===1&&(g+=m),m+=100/100*Math.floor(g/20),g=g%20;let h=Object.keys(e.cubeBlessings);for(let b of h)e.cubeBlessings[b]+=ha[b].weight*m*(1+Math.floor(K("ascension",e.challengecompletions[12])));for(let b=0;b<g;b++){let y=100*Math.random();for(let v of h)ha[v].pdf(y)&&(e.cubeBlessings[v]+=1+Math.floor(K("ascension",e.challengecompletions[12])))}Qt()}},cn=class extends ln{constructor(r=Number(e.wowTesseracts)){super("wowTesseracts",r)}open(r,n=!1,s=!1){let a=n?Number(this):s?r:Math.min(Number(this),r);s||e.wowTesseracts.sub(a),e.tesseractOpenedDaily+=a;let l=e.shopUpgrades.tesseractToQuark?1.5:1,c=Number(this.checkQuarkGain(7,l,e.tesseractOpenedDaily)),d=Math.max(0,c-e.tesseractQuarkDaily);e.tesseractQuarkDaily+=d,e.worlds.add(d,!1);let g=a%20,m=Math.floor(a/20);for(let b in e.tesseractBlessings)e.tesseractBlessings[b]+=ha[b].weight*m;for(let b=0;b<g;b++){let y=100*Math.random();for(let v in e.tesseractBlessings)ha[v].pdf(y)&&(e.tesseractBlessings[v]+=1)}Hn();let h=Math.floor(12*a*e.researches[153]);e.wowCubes.open(h,!1,!0)}},un=class extends ln{constructor(r=Number(e.wowHypercubes)){super("wowHypercubes",r)}open(r,n=!1,s=!1){let a=n?Number(this):s?r:Math.min(Number(this),r);s||e.wowHypercubes.sub(a),e.hypercubeOpenedDaily+=a;let l=e.shopUpgrades.hypercubeToQuark?1.5:1,c=this.checkQuarkGain(10,l,e.hypercubeOpenedDaily),d=Math.max(0,c-e.hypercubeQuarkDaily);e.hypercubeQuarkDaily+=d,e.worlds.add(d,!1);let g=a%20,m=Math.floor(a/20);for(let b in e.hypercubeBlessings)e.hypercubeBlessings[b]+=ha[b].weight*m;for(let b=0;b<g;b++){let y=100*Math.random();for(let v in e.hypercubeBlessings)ha[v].pdf(y)&&(e.hypercubeBlessings[v]+=1)}Dn();let h=Math.floor(100*a*e.researches[183]);e.wowTesseracts.open(h,!1,!0)}},pn=class extends ln{constructor(r=Number(e.wowPlatonicCubes)){super("wowPlatonicCubes",r)}open(r,n=!1,s=!1){let a=n?Number(this):s?r:Math.min(Number(this),r);s||e.wowPlatonicCubes.sub(a),e.platonicCubeOpenedDaily+=a;let l=1.5,c=this.checkQuarkGain(15,l,e.platonicCubeOpenedDaily),d=Math.max(0,c-e.platonicCubeQuarkDaily);e.platonicCubeQuarkDaily+=d,e.worlds.add(d,!1);let g=a%4e4,m=Math.floor(a/4e4);for(let v in e.platonicBlessings)e.platonicBlessings[v]+=pl[v].weight*m,pl[v].weight===1&&e.cubeUpgrades[64]>0&&(e.platonicBlessings[v]+=m);let h=["hypercubeBonus","taxes","scoreBonus","globalSpeed"];for(let v=0;v<h.length;v++){let w=Math.random();g/4e4>=w&&g!==0&&(e.platonicBlessings[h[v]]+=1,g-=1)}let b=[Math.floor(33*g/100),Math.floor(33*g/100),Math.floor(33*g/100),Math.floor(396*g/4e4)],y=["cubes","tesseracts","hypercubes","platonics"];for(let v=0;v<y.length;v++)e.platonicBlessings[y[v]]+=b[v],g-=b[v];for(let v=0;v<g;v++){let w=100*Math.random();for(let k in e.platonicBlessings)pl[k].pdf(w)&&(e.platonicBlessings[k]+=1)}if(vo(),e.achievements[271]>0){let v=Math.floor(a*Math.max(0,Math.min(1,(f.log(e.ascendShards.add(1),10)-1e5)/9e5)));e.wowHypercubes.open(v,!1,!0)}}};var Rf=[4,5,6,7,8,9,10,20,26,27,48,49],If=[41,42,43,44,45,46,47,48,49,50,61,71,72,73,74,75,124,130,135,145,150,175,190],dl=[200,200,200,500,500,500,500,500,2e3,4e4,5e3,1e3,1e4,2e4,4e4,1e4,4e3,1e4,5e4,12500,5e4,3e4,3e4,4e4,2e5,4e5,1e5,177777,1e5,1e6,5e5,3e5,2e6,4e6,2e6,4e6,1e6,2e7,5e7,1e7,5e6,1e7,1e8,4e7,2e7,4e7,5e7,1e8,5e8,1e8,1,1e4,1e8,1e12,1e16,10,1e5,1e9,1e13,1e17,100,1e6,1e10,1e14,1e18,1e20,1e30,1e40,1e50,1e60],Nf=[3,10,5,1,1,1,1,1,1,1,3,10,1,10,10,10,5,1,1,1,5,10,1,10,10,10,1,1,5,1,5,1,1,10,10,10,10,1,1,10,5,10,10,10,10,20,20,1,1,1e5,1,900,100,900,900,20,1,1,400,1e4,100,1,1,1,1,1,1,1e3,1,1e5],wo=(t,r)=>{let n=t===50?.01:0,s=t>50,a=Fn(t),l=r?1e5:1,c=e.cubeUpgrades[t];l=Math.min(a-c,l);let d=t<=50?Ie("Cube Upgrades"):1,g;return s?(l=r?a:Math.min(a,c+1),g=Lu(c,dl[t-1],Number(e.wowCubes),l)):g=Zt(c,dl[t-1]*d,Number(e.wowCubes),n,l),g},Fn=t=>{let r=Nf[t-1];return e.cubeUpgrades[57]>0&&t<50&&t%10===1&&(r+=1),r},gl=(t,r=e.cubeUpgradesBuyMaxToggle)=>{let n=wo(t,r),s=i("cubeUpgradeName"),a=i("cubeUpgradeDescription"),l=i("cubeUpgradeCost"),c=i("cubeUpgradeLevel"),d=Fn(t);s.textContent=u.t(`cubes.upgradeNames.${t}`),a.textContent=u.t(`cubes.upgradeDescriptions.${t}`),l.textContent=u.t("cubes.cubeMetadata.cost",{value1:p(n.cost,0,!0),value2:p(n.levelCanBuy-e.cubeUpgrades[t],0,!0)}),l.style.color="var(--green-text-color)",c.textContent=u.t("cubes.cubeMetadata.level",{value1:p(e.cubeUpgrades[t],0,!0),value2:p(d,0,!0)}),c.style.color="white",Number(e.wowCubes)<n.cost&&(l.style.color="var(--crimson-text-color)"),e.cubeUpgrades[t]===d&&(l.style.color="gold",l.textContent=u.t("cubes.cubeMetadata.maxLevel"),c.style.color="plum")},Qn=t=>{let r=i(`cubeUpg${t}`),n=Fn(t),s=e.cubeUpgrades[t];s>n&&(e.wowCubes.add((s-n)*dl[t-1]),e.cubeUpgrades[t]=n),e.cubeUpgrades[t]===0&&(r.style.backgroundColor=""),s>0&&s<n&&(r.style.backgroundColor="purple"),e.cubeUpgrades[t]===n&&(r.style.backgroundColor="green")},fl=()=>{for(let t of Rf){let r=Fn(t);e.cubeUpgrades[t]=r,Qn(t)}Qt();for(let t of If)e.researches[t]=o.researchMaxLevels[t],ba(t)},ml=(t,r=e.cubeUpgradesBuyMaxToggle,n=!1)=>{if(t>50&&t<=55&&!e.singularityUpgrades.cookies.getEffect().bonus||t>55&&t<=60&&!e.singularityUpgrades.cookies2.getEffect().bonus||t>60&&t<=65&&!e.singularityUpgrades.cookies3.getEffect().bonus||t>65&&t<=70&&!e.singularityUpgrades.cookies4.getEffect().bonus||t>70&&!e.singularityUpgrades.cookies5.getEffect().bonus)return;let s=wo(t,r),a=Fn(t);if(Number(e.wowCubes)>=s.cost&&e.cubeUpgrades[t]<a)e.wowCubes.sub(100/100*s.cost),e.cubeUpgrades[t]=s.levelCanBuy;else return;if(t===4&&e.cubeUpgrades[4]>0)for(let l=94;l<=98;l++)e.upgrades[l]=1,Gt(l,!0);if(t===5&&e.cubeUpgrades[5]>0&&(e.upgrades[99]=1,Gt(99,!0)),t===6&&e.cubeUpgrades[6]>0&&(e.upgrades[100]=1,Gt(100,!0)),t===51&&e.cubeUpgrades[51]>0&&fl(),t===57&&e.cubeUpgrades[57]>0)for(let l=1;l<e.cubeUpgrades.length;l++)Qn(l);n||(gl(t),Oe(),Qt()),Qn(t)},Tu=()=>{if(e.autoCubeUpgradesToggle&&(e.highestSingularityCount>=50&&e.insideSingularityChallenge||e.highestSingularityCount>=150)){let t=[];for(let r=1;r<e.cubeUpgrades.length;r++){let n=Fn(r);if(e.cubeUpgrades[r]<n){let s=wo(r,!0);t.push([r,s.cost,s.levelCanBuy])}}if(t.length>0){let r=!1;t.sort((n,s)=>n[1]-s[1]);for(let n of t){let s=Fn(n[0]),a=wo(n[0],!0);Number(e.wowCubes)>=a.cost&&e.cubeUpgrades[n[0]]<s&&(e.cubeUpgradesBuyMaxToggle||s===a.levelCanBuy)&&(ml(n[0],!0,!0),r=!0)}r&&(Oe(),Qt())}}};var Pu=["chronos","hyperrealism","quark","challenge","abyss","accelerator","acceleratorBoost","multiplier"],mr=class{constructor(r){this.UNLOCKED=!1;this.BAL=0;this.CAP=0;this.BASE_CAP=0;this.HEPTERACT_CONVERSION=0;this.AUTO=!1;this.DISCOUNT=0;this.unlock=r=>this.UNLOCKED?this:(this.UNLOCKED=!0,e.highestSingularityCount<5?O(u.t("hepteracts.unlockedCraft",{x:r})):this);this.computeActualCap=()=>{let r=1;return r*=e.singularityChallenges.limitedAscensions.rewards.hepteractCap?2:1,this.CAP*r};this.craft=async(r=!1)=>{var m;let n=null,s=this.computeActualCap(),a=Ie("Hepteract Costs");if(!this.UNLOCKED)return O(u.t("hepteracts.notUnlocked"));if(s-this.BAL<=0&&e.toggles[35])return O(u.t("hepteracts.reachedCapacity",{x:p(s,0,!0)}));(isNaN(e.wowAbyssals)||!isFinite(e.wowAbyssals)||e.wowAbyssals<0)&&(e.wowAbyssals=0);let l=Math.floor(e.wowAbyssals/(this.HEPTERACT_CONVERSION*a)*1/(1-this.DISCOUNT)),c=[];for(let h in this.OTHER_CONVERSIONS)h==="worlds"?c.push(Math.floor(e[h]/((m=this.OTHER_CONVERSIONS[h])!=null?m:1))*1/(1-this.DISCOUNT)):c.push(Math.floor(e[h]/(a*this.OTHER_CONVERSIONS[h]))*1/(1-this.DISCOUNT));let d=Math.min(...c),g=Math.min(d,l,s,s-this.BAL);if(isNaN(g)||!isFinite(g))return O(u.t("hepteracts.executionFailed"));if(r)n=s;else{let h=await Ue(u.t("hepteracts.craft",{x:p(g,0,!0),y:Math.floor(g/s*1e4)/100}));if(h===null)return e.toggles[35]?O(u.t("hepteracts.cancelled")):void 0;n=Number(h)}if(isNaN(n)||!isFinite(n)||!Number.isInteger(n))return O(u.t("general.validation.finite"));if(n<=0)return O(u.t("general.validation.zeroOrLess"));if(g=Math.min(d,l,n,s-this.BAL),r&&e.toggles[35]&&!await Se(u.t("hepteracts.craftMax",{x:p(g,0,!0),y:Math.floor(g/s*1e4)/100})))return O(u.t("hepteracts.cancelled"));this.BAL=Math.min(s,this.BAL+g),e.wowAbyssals-=g*this.HEPTERACT_CONVERSION*a,e.wowAbyssals<0&&(e.wowAbyssals=0);for(let h of Object.keys(this.OTHER_CONVERSIONS))typeof e[h]=="number"&&(e[h]-=g*a*this.OTHER_CONVERSIONS[h]),e[h]<0?e[h]=0:e[h]instanceof ln?e[h].sub(g*a*this.OTHER_CONVERSIONS[h]):h==="worlds"&&e.worlds.sub(g*this.OTHER_CONVERSIONS[h]);if(e.toggles[35])return r?O(u.t("hepteracts.craftedHepteractsMax",{x:p(g,0,!0)})):O(u.t("hepteracts.craftedHepteracts",{x:p(g,0,!0)}))};this.expand=async()=>{let n=this.BAL,s=this.computeActualCap(),a=this.CAP;if(!this.UNLOCKED)return O(u.t("hepteracts.notUnlocked"));if(this.BAL<this.CAP)return e.toggles[35]?O(u.t("hepteracts.notEnough")):void 0;if(!await Se(u.t("hepteracts.expandPrompt",{x:p(this.CAP),y:p(s),z:p(s*2),a:p(2,2,!0)})))return this;if(this.BAL!==n||this.CAP!==a)return e.toggles[35]?O(u.t("hepteracts.doubleSpent")):void 0;if(this.BAL-=this.CAP,this.BAL=Math.max(0,this.BAL),this.CAP=Math.min(1e300,this.CAP*2),e.toggles[35])return O(u.t("hepteracts.expandedInventory",{x:p(s*2,0,!0)}))};var n,s,a,l,c;this.BASE_CAP=r.BASE_CAP,this.HEPTERACT_CONVERSION=r.HEPTERACT_CONVERSION,this.OTHER_CONVERSIONS=r.OTHER_CONVERSIONS,this.HTML_STRING=r.HTML_STRING,this.UNLOCKED=(n=r.UNLOCKED)!=null?n:!1,this.BAL=(s=r.BAL)!=null?s:0,this.CAP=(a=r.CAP)!=null?a:this.BASE_CAP,this.DISCOUNT=(l=r.DISCOUNT)!=null?l:0,this.AUTO=(c=r.AUTO)!=null?c:!1,this.toggleAutomatic(this.AUTO)}spend(r){return this.UNLOCKED?(this.BAL-=r,this):this}addDiscount(r){return this.DISCOUNT+r>1-Number.EPSILON?(this.DISCOUNT=1-Number.EPSILON,this):(this.DISCOUNT+=r,this)}toggleAutomatic(r){let n=i(`${this.HTML_STRING}HepteractAuto`);return this.AUTO=r!=null?r:!this.AUTO,n.textContent=this.AUTO?u.t("general.autoOnColon"):u.t("general.autoOffColon"),n.style.border=`2px solid ${this.AUTO?"green":"red"}`,this}autoCraft(r){let s=Ie("Hepteract Costs"),a=this.computeActualCap(),l=Math.floor(r/(s*this.HEPTERACT_CONVERSION)*1/(1-this.DISCOUNT)),c=[];for(let b in this.OTHER_CONVERSIONS)b==="worlds"&&c.push(Math.floor(e[b]/this.OTHER_CONVERSIONS[b])*1/(1-this.DISCOUNT));let d=Math.min(...c),g=Math.min(d,l),m=0,h=Math.min(a-this.BAL,g);for(this.BAL+=h,m+=h,g-=h;this.BAL>=a&&g>=this.CAP;)this.BAL-=this.CAP,this.CAP*=2,a*=2,h=Math.min(a-this.BAL,g),this.BAL+=h,m+=h,g-=h;for(let b in this.OTHER_CONVERSIONS)b==="worlds"&&e.worlds.sub(m*this.OTHER_CONVERSIONS[b]);return e.wowAbyssals-=m*s*this.HEPTERACT_CONVERSION,e.wowAbyssals<0&&(e.wowAbyssals=0),this}get amount(){return this.BAL}get capacity(){return this.CAP}get discount(){return this.DISCOUNT}},xo={chronos:{LIMIT:1e3,DR:1/6},hyperrealism:{LIMIT:1e3,DR:.33},quark:{LIMIT:1e3,DR:.5},challenge:{LIMIT:1e3,DR:1/6},abyss:{LIMIT:1,DR:0},accelerator:{LIMIT:1e3,DR:.2},acceleratorBoost:{LIMIT:1e3,DR:.2},multiplier:{LIMIT:1e3,DR:.2}},Au=t=>new mr(t),je=t=>{let r=Math.min(e.hepteractCrafts[t].BAL,xo[t].LIMIT),n=0;if(t==="chronos"&&(n+=1/750*e.platonicUpgrades[19]),t==="quark"){n+=+e.singularityUpgrades.singQuarkHepteract.getEffect().bonus,n+=+e.singularityUpgrades.singQuarkHepteract2.getEffect().bonus,n+=+e.singularityUpgrades.singQuarkHepteract3.getEffect().bonus,n+=+e.octeractUpgrades.octeractImprovedQuarkHept.getEffect().bonus,n+=e.shopUpgrades.improveQuarkHept/100,n+=e.shopUpgrades.improveQuarkHept2/100,n+=e.shopUpgrades.improveQuarkHept3/100,n+=e.shopUpgrades.improveQuarkHept4/100,n+=e.shopUpgrades.improveQuarkHept5/5e3;let s=e.hepteractCrafts[t].BAL;if(1e3<s&&s<=1e3*Math.pow(2,10))return r*Math.pow(s/1e3,1/2+n);if(1e3*Math.pow(2,10)<s&&s<=1e3*Math.pow(2,18))return r*Math.pow(Math.pow(2,10),1/2+n)*Math.pow(s/(1e3*Math.pow(2,10)),1/4+n/2);if(1e3*Math.pow(2,18)<s&&s<=1e3*Math.pow(2,44))return r*Math.pow(Math.pow(2,10),1/2+n)*Math.pow(Math.pow(2,8),1/4+n/2)*Math.pow(s/(1e3*Math.pow(2,18)),1/6+n/3);if(1e3*Math.pow(2,44)<s)return r*Math.pow(Math.pow(2,10),1/2+n)*Math.pow(Math.pow(2,8),1/4+n/2)*Math.pow(Math.pow(2,26),1/6+n/3)*Math.pow(s/(1e3*Math.pow(2,44)),1/12+n/6)}return e.hepteractCrafts[t].BAL>xo[t].LIMIT&&(r*=Math.pow(e.hepteractCrafts[t].BAL/xo[t].LIMIT,xo[t].DR+n)),r},qr=t=>{i("hepteractUnlockedText").style.display="block",i("hepteractCurrentEffectText").style.display="block",i("hepteractBalanceText").style.display="block",i("powderDayWarpText").style.display="none",i("hepteractCostText").style.display="block";let r=i("hepteractUnlockedText"),n=i("hepteractEffectText"),s=i("hepteractCurrentEffectText"),a=i("hepteractBalanceText"),l=i("hepteractCostText"),c=i("hepteractBonusCapacity"),d=Ie("Hepteract Costs"),g=e.hepteractCrafts[t].computeActualCap()/e.hepteractCrafts[t].CAP;c.textContent=e.hepteractCrafts[t].computeActualCap()/e.hepteractCrafts[t].CAP>1?`Hepteract capacities are currently multiplied by ${g}. Expansions cost what they would if this multiplier were 1.`:"";let m,h;switch(t){case"chronos":m={x:p(je("chronos")*6/100,2,!0)},h=p(1e115*d,0,!1);break;case"hyperrealism":m={x:p(je("hyperrealism")*6/100,2,!0)},h=p(1e80*d,0,!0);break;case"quark":m={x:p(je("quark")*5/100,2,!0)},h="100";break;case"challenge":m={x:p(je("challenge")*5/100,2,!0)},h={y:p(1e11*d),z:p(1e22*d)};break;case"abyss":h=p(69*d);break;case"accelerator":m={x:p(2e3*je("accelerator"),2,!0),y:p(je("accelerator")*3/100,2,!0)},h=p(1e14*d);break;case"acceleratorBoost":m={x:p(je("acceleratorBoost")/10,2,!0)},h=p(1e10*d);break;case"multiplier":m={x:p(1e3*je("multiplier"),2,!0),y:p(je("multiplier")*3/100,2,!0)},h=p(1e130*d);break}n.textContent=u.t(`wowCubes.hepteractForge.descriptions.${t}.effect`),s.textContent=u.t(`wowCubes.hepteractForge.descriptions.${t}.currentEffect`,m),a.textContent=u.t("wowCubes.hepteractForge.inventory",{x:p(e.hepteractCrafts[t].BAL,0,!0),y:p(e.hepteractCrafts[t].computeActualCap(),0,!0)});let b=typeof h=="string"?{y:h}:h;l.textContent=u.t(`wowCubes.hepteractForge.descriptions.${t}.oneCost`,ze({x:p(e.hepteractCrafts[t].HEPTERACT_CONVERSION*d,0,!0)},b)),r.textContent=e.hepteractCrafts[t].UNLOCKED?u.t("wowCubes.hepteractForge.unlocked"):u.t("wowCubes.hepteractForge.locked")},Eu=()=>{i("hepteractUnlockedText").style.display="none",i("powderDayWarpText").style.display="none",i("hepteractCostText").style.display="block",i("hepteractCurrentEffectText").textContent=u.t("hepteracts.orbEffect",{x:p(100*(-1+on()),2,!0)}),i("hepteractBalanceText").textContent=u.t("hepteracts.orbsPurchasedToday",{x:p(e.overfluxOrbs,0,!0)}),i("hepteractEffectText").textContent=u.t("hepteracts.amalgamate"),i("hepteractCostText").textContent=u.t("hepteracts.cost250k")},hl=async t=>{let r=Math.floor(e.wowAbyssals/25e4),n;if(t){if(e.toggles[35]&&!await Se(u.t("hepteracts.craftMaxOrbs",{x:p(r,0,!0)})))return O(u.t("hepteracts.cancelled"));n=r}else{let g=await Ue(u.t("hepteracts.hepteractInput",{x:p(r,0,!0)}));if(g===null)return e.toggles[35]?O(u.t("hepteracts.cancelled")):void 0;if(n=Number(g),isNaN(n)||!isFinite(n)||!Number.isInteger(n)||n<=0)return O(u.t("general.validation.invalidNumber"))}let s=Math.min(r,Math.floor(n)),a=on();e.overfluxOrbs+=s,e.wowAbyssals-=25e4*s;let l=on();e.wowAbyssals<0&&(e.wowAbyssals=0);let c=e.shopUpgrades.powderAuto*hr().mult*s/100;e.overfluxPowder+=c;let d=c>0?u.t("hepteracts.gainedPowder",{x:p(c,2,!0)}):"";if(e.toggles[35])return O(u.t("hepteracts.purchasedOrbs",{x:p(s,0,!0),y:p(100*(l-a),2,!0),z:d}))},ko=(t,r=!1)=>{let n=i("hepteractToQuarkTradeAuto");r||(e.overfluxOrbsAutoBuy=t!=null?t:!e.overfluxOrbsAutoBuy),n.textContent=e.overfluxOrbsAutoBuy?u.t("general.autoOnColon"):u.t("general.autoOffColon"),n.style.border=`2px solid ${e.overfluxOrbsAutoBuy?"green":"red"}`},Uu=()=>{let t;e.platonicUpgrades[16]>0?t=u.t("hepteracts.allCubeGainExtended",{x:p(100*(Mo()-1),2,!0),y:p(100*(ya()-1),3,!0),z:p(2*e.platonicUpgrades[16]*Math.min(1,e.overfluxPowder/1e5),2,!0),a:p(f.pow(e.overfluxPowder+1,10*e.platonicUpgrades[16]))}):t=u.t("hepteracts.allCubeGain",{x:p(100*(Mo()-1),2,!0),y:p(100*(ya()-1),3,!0)}),i("hepteractUnlockedText").style.display="none",i("hepteractCurrentEffectText").textContent=u.t("hepteracts.powderEffect",{x:t}),i("hepteractBalanceText").textContent=u.t("hepteracts.powderLumps",{x:p(e.overfluxPowder,2,!0)}),i("hepteractEffectText").textContent=u.t("hepteracts.expiredOrbs",{x:p(1/hr().mult,1,!0)}),i("hepteractCostText").style.display="none",i("powderDayWarpText").style.display="block",i("powderDayWarpText").textContent=u.t("hepteracts.dayWarpsRemaining",{x:e.dailyPowderResetUses})},bl=async t=>{if(t)if(e.autoWarpCheck){if(await Se(u.t("hepteracts.useAllWarpsPrompt")))return i("warpAuto").textContent=u.t("general.autoOffColon"),i("warpAuto").style.border="2px solid red",e.autoWarpCheck=!1,e.dailyPowderResetUses=0,O(u.t("hepteracts.machineCooldown"));if(e.toggles[35])return O(u.t("hepteracts.machineDidNotConsume"))}else{if(await Se(u.t("hepteracts.boostQuarksPrompt")))return i("warpAuto").textContent=u.t("general.autoOnColon"),i("warpAuto").style.border="2px solid green",e.autoWarpCheck=!0,e.dailyPowderResetUses===0?O(u.t("hepteracts.machineOverdrive")):O(u.t("hepteracts.machineInOverdrive"));if(e.toggles[35])return O(u.t("hepteracts.machineUsualContinue"))}else{if(e.autoWarpCheck)return O(u.t("hepteracts.warpImpossible"));if(e.dailyPowderResetUses<=0)return O(u.t("hepteracts.machineCooldown"));if(e.overfluxPowder<25)return O(u.t("hepteracts.atleastPowder"));if(await Se(u.t("hepteracts.stumbleMachine"))){if(e.overfluxPowder-=25,e.dailyPowderResetUses-=1,os(),e.toggles[35])return O(u.t("hepteracts.useMachine"))}else if(e.toggles[35])return O(u.t("hepteracts.walkAwayMachine"))}},Ou=()=>{let t=[];for(let r of Object.keys(e.hepteractCrafts)){let n=r;e.hepteractCrafts[n].AUTO&&e.hepteractCrafts[n].UNLOCKED&&t.push(e.hepteractCrafts[n])}return t},So=new mr({BASE_CAP:1e3,HEPTERACT_CONVERSION:1e4,OTHER_CONVERSIONS:{researchPoints:1e115},HTML_STRING:"chronos",UNLOCKED:!0}),To=new mr({BASE_CAP:1e3,HEPTERACT_CONVERSION:1e4,OTHER_CONVERSIONS:{runeshards:1e80},HTML_STRING:"hyperrealism",UNLOCKED:!0}),Lo=new mr({BASE_CAP:1e3,HEPTERACT_CONVERSION:1e4,OTHER_CONVERSIONS:{worlds:100},HTML_STRING:"quark",UNLOCKED:!0}),Po=new mr({BASE_CAP:1e3,HEPTERACT_CONVERSION:5e4,OTHER_CONVERSIONS:{wowPlatonicCubes:1e11,wowCubes:1e22},HTML_STRING:"challenge"}),Ao=new mr({BASE_CAP:1,HEPTERACT_CONVERSION:1e8,OTHER_CONVERSIONS:{wowCubes:69},HTML_STRING:"abyss"}),Eo=new mr({BASE_CAP:1e3,HEPTERACT_CONVERSION:1e5,OTHER_CONVERSIONS:{wowTesseracts:1e14},HTML_STRING:"accelerator"}),Uo=new mr({BASE_CAP:1e3,HEPTERACT_CONVERSION:2e5,OTHER_CONVERSIONS:{wowHypercubes:1e10},HTML_STRING:"acceleratorBoost"}),Oo=new mr({BASE_CAP:1e3,HEPTERACT_CONVERSION:3e5,OTHER_CONVERSIONS:{researchPoints:1e130},HTML_STRING:"multiplier"});var op=Mr(vl());var $l=Mr(Bo()),ip=Mr(Hi());var Jt="3.0.0 pt 5.2: April 29: Progress Bar!!";var dn=new Date(Date.UTC(2024,4,8,14,57,47)),Ro=!0;var Rt=(t,r=!0)=>{let n=o.effectiveLevelMult,s=1+e.researches[84]/200*(1+1*o.effectiveRuneSpiritPower[5]*gt()/400),a=cs(t-1,!1,e.runelevels[t-1]),l;if(t===1?l={bonus:p(Math.floor(Math.pow(o.rune1level*n/4,1.25))),percent:p(o.rune1level/4*n,2,!0),boost:p(Math.floor(o.rune1level/20*n))}:t===2?l={mult1:p(Math.floor(o.rune2level*n/10)*Math.floor(1+o.rune2level*n/10)/2),mult2:p(n*o.rune2level/4,1,!0),tax:(99.9*(1-Math.pow(6,-(o.rune2level*n)/1e3))).toPrecision(4)}:t===3?l={mult:p(f.pow(o.rune3level*n/2,2).times(f.pow(2,o.rune3level*n/2-8)).add(1),3),gain:p(Math.floor(o.rune3level/16*n))}:t===4?l={delay:(o.rune4level/8*n).toPrecision(3),chance:Math.min(25,o.rune4level/16),tax:(99*(1-Math.pow(4,Math.min(0,(400-o.rune4level)/1100)))).toPrecision(4)}:t===5?l={gain:p(1+o.rune5level/200*n*s,2,!0),speed:p(1+Math.pow(o.rune5level*n*s,2)/2500),offerings:p(o.rune5level*n*s*.005,3,!0)}:t===6?l={percent1:p(10+15/75*_n(),1,!0),percent2:p(1*_n(),0,!0)}:t===7&&r&&(l={exp:p(1e256*(1+e.singularityCount))}),r&&(i("runeshowlevelup").textContent=u.t(`runes.levelup.${t}`,l)),i(`runeshowpower${t}`).textContent=u.t(`runes.power.${t}`,l),r){let c=Nu(t-1,e.runelevels[t-1],e.offeringbuyamount),d=0,g=0;for(;g<c.length&&(d+c[g]<=e.runeshards||g===0);)d+=c[g],g++;let m=g===1?"once":`${g} times`;i("runeDisplayInfo").textContent=u.t("runes.perOfferingText",{exp:p(a),x:p(d),y:m})}},Ru=t=>{e.runeshards=Math.min(1e300,e.runeshards+Ar(t))},ls=t=>[!1,!0,e.achievements[38]>.5,e.achievements[44]>.5,e.achievements[102]>.5,e.researches[82]>.5,e.shopUpgrades.infiniteAscent,e.platonicUpgrades[20]>0][t],Iu=t=>{let r=0;for(let n=0;n<t;n++)(!ls(n+1)||e.runelevels[n]>=Ye(n+1))&&r++;return r},qn=(t,r=!1,n=0)=>{let s=t-1,a=e.offeringbuyamount;r&&(a=Math.pow(2,e.shopUpgrades.offeringAuto)),r&&n>0&&(a=Math.min(1e4,Ye(s+1)));let l=0;if(e.runeshards>0&&e.runelevels[s]<Ye(s+1)&&ls(s+1)){let c=0,d=Ye(s+1),g=Nu(s,e.runelevels[s],a),m=Math.min(e.runeshards,g.reduce((w,k)=>w+k,0));n>0&&(m=Math.min(e.runeshards,n));let h=cs(s,!1,e.runelevels[s],!0),b=e.upgrades[71]/25,y=h[0]-b*e.runelevels[s],v=h.slice(1,h.length).reduce((w,k)=>w*k,1);for(;m>0&&l<a&&e.runelevels[s]<d;){let w=jr(s,e.runelevels[s])-e.runeexp[s],k=Math.min(1e300,(y+b*e.runelevels[s])*v),P=Math.min(m,Math.ceil(w/k));for(isNaN(P)&&(P=m),m-=P,e.runeshards-=P,e.runeexp[s]+=P*k,c+=P;e.runeexp[s]>=jr(s)&&e.runelevels[s]<d;)e.runelevels[s]+=1,l++}for(let w=0;w<5;++w)if(ls(w+1))for(w!==s&&(e.runeexp[w]+=c*cs(w,!0));e.runeexp[w]>=jr(w)&&e.runelevels[w]<Ye(w+1);)e.runelevels[w]+=1;r||Rt(t)}Fe(),(e.runeshards<0||!e.runeshards)&&(e.runeshards=0)},Nu=(t,r,n)=>{let s=jr(t,r)-e.runeexp[t],a=Ye(t+1),l=[],c=0,d=e.runeshards,g=0,m=cs(t,!1,r,!0),h=e.upgrades[71]/25,b=m[0]-h*r,y=m.slice(1,m.length).reduce((v,w)=>v*w,1);for(;g<n&&r+g<a&&c<d;){let v=(b+h*(r+g))*y,w=Math.ceil(s/v);c+=w,l.push(w),g+=1,s=jr(t,r+g)-jr(t,r+g-1)}return l};var ue={offeringPotion:{price:100,priceIncrease:0,maxLevel:999999999,type:"consume",refundable:!1,refundMinimumLevel:0,tier:"Reincarnation"},obtainiumPotion:{tier:"Reincarnation",price:100,priceIncrease:0,maxLevel:999999999,type:"consume",refundable:!1,refundMinimumLevel:0},offeringEX:{tier:"Reincarnation",price:150,priceIncrease:10,maxLevel:100,type:"upgrade",refundable:!0,refundMinimumLevel:0},offeringAuto:{tier:"Reincarnation",price:150,priceIncrease:10,maxLevel:100,type:"upgrade",refundable:!0,refundMinimumLevel:1},obtainiumEX:{tier:"Reincarnation",price:150,priceIncrease:10,maxLevel:100,type:"upgrade",refundable:!0,refundMinimumLevel:0},obtainiumAuto:{tier:"Reincarnation",price:150,priceIncrease:10,maxLevel:100,type:"upgrade",refundable:!0,refundMinimumLevel:1},instantChallenge:{tier:"Reincarnation",price:300,priceIncrease:99999,maxLevel:1,type:"upgrade",refundable:!1,refundMinimumLevel:0},antSpeed:{tier:"Reincarnation",price:200,priceIncrease:25,maxLevel:100,type:"upgrade",refundable:!0,refundMinimumLevel:0},cashGrab:{tier:"Reincarnation",price:100,priceIncrease:40,maxLevel:100,type:"upgrade",refundable:!0,refundMinimumLevel:0},shopTalisman:{tier:"Reincarnation",price:1500,priceIncrease:99999,maxLevel:1,type:"upgrade",refundable:!1,refundMinimumLevel:0},seasonPass:{tier:"Ascension",price:500,priceIncrease:75,maxLevel:100,type:"upgrade",refundable:!0,refundMinimumLevel:0},challengeExtension:{tier:"Ascension",price:500,priceIncrease:250,maxLevel:5,type:"upgrade",refundable:!1,refundMinimumLevel:0},challengeTome:{tier:"Ascension",price:500,priceIncrease:250,maxLevel:15,type:"upgrade",refundable:!1,refundMinimumLevel:0},cubeToQuark:{tier:"Ascension",price:2e3,priceIncrease:99999,maxLevel:1,type:"upgrade",refundable:!1,refundMinimumLevel:0},tesseractToQuark:{tier:"Ascension",price:3500,priceIncrease:99999,maxLevel:1,type:"upgrade",refundable:!1,refundMinimumLevel:0},hypercubeToQuark:{tier:"Ascension",price:5e3,priceIncrease:99999,maxLevel:1,type:"upgrade",refundable:!1,refundMinimumLevel:0},seasonPass2:{tier:"Ascension",price:2e3,priceIncrease:200,maxLevel:100,type:"upgrade",refundable:!0,refundMinimumLevel:0},seasonPass3:{tier:"Ascension",price:5e3,priceIncrease:500,maxLevel:100,type:"upgrade",refundable:!0,refundMinimumLevel:0},chronometer:{tier:"Ascension",price:1600,priceIncrease:400,maxLevel:100,type:"upgrade",refundable:!0,refundMinimumLevel:0},infiniteAscent:{tier:"Ascension",price:25e3,priceIncrease:9999999,maxLevel:1,type:"upgrade",refundable:!1,refundMinimumLevel:0},calculator:{tier:"Reincarnation",price:500,priceIncrease:300,maxLevel:5,type:"upgrade",refundable:!1,refundMinimumLevel:1},calculator2:{tier:"Ascension",price:2500,priceIncrease:800,maxLevel:12,type:"upgrade",refundable:!1,refundMinimumLevel:0},calculator3:{tier:"Ascension",price:7500,priceIncrease:1500,maxLevel:10,type:"upgrade",refundable:!1,refundMinimumLevel:0},calculator4:{tier:"Singularity",price:1e7,priceIncrease:1e6,maxLevel:10,type:"upgrade",refundable:!1,refundMinimumLevel:0},calculator5:{tier:"SingularityVol2",price:1e8,priceIncrease:1e8,maxLevel:100,type:"upgrade",refundable:!1,refundMinimumLevel:0},calculator6:{tier:"SingularityVol3",price:1e11,priceIncrease:2e10,maxLevel:100,type:"upgrade",refundable:!1,refundMinimumLevel:0},constantEX:{tier:"Ascension",price:1e5,priceIncrease:899999,maxLevel:2,type:"upgrade",refundable:!1,refundMinimumLevel:0},powderEX:{tier:"Ascension",price:1e3,priceIncrease:750,maxLevel:50,type:"upgrade",refundable:!1,refundMinimumLevel:0},chronometer2:{tier:"Ascension",price:5e3,priceIncrease:1500,maxLevel:100,type:"upgrade",refundable:!0,refundMinimumLevel:0},chronometer3:{tier:"Singularity",price:250,priceIncrease:250,maxLevel:1e3,type:"upgrade",refundable:!1,refundMinimumLevel:0},seasonPassY:{tier:"Ascension",price:1e4,priceIncrease:1500,maxLevel:100,type:"upgrade",refundable:!0,refundMinimumLevel:0},seasonPassZ:{tier:"Singularity",price:250,priceIncrease:250,maxLevel:1e3,type:"upgrade",refundable:!1,refundMinimumLevel:0},challengeTome2:{tier:"Singularity",price:1e6,priceIncrease:1e6,maxLevel:5,type:"upgrade",refundable:!1,refundMinimumLevel:0},instantChallenge2:{tier:"Singularity",price:2e7,priceIncrease:0,maxLevel:1,type:"upgrade",refundable:!1,refundMinimumLevel:0},cubeToQuarkAll:{tier:"SingularityVol2",price:2222222,priceIncrease:0,maxLevel:100,type:"upgrade",refundable:!1,refundMinimumLevel:0},cashGrab2:{tier:"SingularityVol2",price:5e3,priceIncrease:5e3,maxLevel:1e3,type:"upgrade",refundable:!1,refundMinimumLevel:0},chronometerZ:{tier:"SingularityVol2",price:12500,priceIncrease:12500,maxLevel:1e3,type:"upgrade",refundable:!1,refundMinimumLevel:0},offeringEX2:{tier:"SingularityVol2",price:1e4,priceIncrease:1e4,maxLevel:1e3,type:"upgrade",refundable:!1,refundMinimumLevel:0},obtainiumEX2:{tier:"SingularityVol2",price:1e4,priceIncrease:1e4,maxLevel:1e3,type:"upgrade",refundable:!1,refundMinimumLevel:0},powderAuto:{tier:"SingularityVol2",price:5e6,priceIncrease:0,maxLevel:100,type:"upgrade",refundable:!1,refundMinimumLevel:0},seasonPassLost:{tier:"SingularityVol2",price:1e6,priceIncrease:25e3,maxLevel:1e3,type:"upgrade",refundable:!1,refundMinimumLevel:0},challenge15Auto:{tier:"SingularityVol3",price:5e11,priceIncrease:0,maxLevel:1,type:"upgrade",refundable:!1,refundMinimumLevel:0},extraWarp:{tier:"SingularityVol3",price:125e9,priceIncrease:0,maxLevel:1,type:"upgrade",refundable:!1,refundMinimumLevel:0},autoWarp:{tier:"SingularityVol3",price:5e11,priceIncrease:0,maxLevel:1,type:"upgrade",refundable:!1,refundMinimumLevel:0},improveQuarkHept:{tier:"Ascension",price:2e5-1,priceIncrease:0,maxLevel:1,type:"upgrade",refundable:!1,refundMinimumLevel:0},improveQuarkHept2:{tier:"Singularity",price:2e7-1,priceIncrease:0,maxLevel:1,type:"upgrade",refundable:!1,refundMinimumLevel:0},improveQuarkHept3:{tier:"SingularityVol2",price:2e9-1,priceIncrease:0,maxLevel:1,type:"upgrade",refundable:!1,refundMinimumLevel:0},improveQuarkHept4:{tier:"SingularityVol3",price:2e11-1,priceIncrease:0,maxLevel:1,type:"upgrade",refundable:!1,refundMinimumLevel:0},shopImprovedDaily:{tier:"Ascension",price:5e3,priceIncrease:2500,maxLevel:20,type:"upgrade",refundable:!1,refundMinimumLevel:0},shopImprovedDaily2:{tier:"Singularity",price:5e5,priceIncrease:5e5,maxLevel:10,type:"upgrade",refundable:!1,refundMinimumLevel:0},shopImprovedDaily3:{tier:"SingularityVol2",price:5e6,priceIncrease:125e5,maxLevel:15,type:"upgrade",refundable:!1,refundMinimumLevel:0},shopImprovedDaily4:{tier:"SingularityVol3",price:5e9,priceIncrease:5e9,maxLevel:25,type:"upgrade",refundable:!1,refundMinimumLevel:0},offeringEX3:{tier:"SingularityVol3",price:1,priceIncrease:125e10,maxLevel:1e3,type:"upgrade",refundable:!1,refundMinimumLevel:0},obtainiumEX3:{tier:"SingularityVol3",price:1,priceIncrease:125e10,maxLevel:1e3,type:"upgrade",refundable:!1,refundMinimumLevel:0},improveQuarkHept5:{tier:"SingularityVol4",price:1,priceIncrease:25e12,maxLevel:100,type:"upgrade",refundable:!1,refundMinimumLevel:0},chronometerInfinity:{tier:"SingularityVol4",price:1,priceIncrease:25e11,maxLevel:1e3,type:"upgrade",refundable:!1,refundMinimumLevel:0},seasonPassInfinity:{tier:"SingularityVol4",price:1,priceIncrease:375e10,maxLevel:1e3,type:"upgrade",refundable:!1,refundMinimumLevel:0},shopSingularityPenaltyDebuff:{tier:"Exalt1",price:1e17,priceIncrease:999e17,maxLevel:4,type:"upgrade",refundable:!1,refundMinimumLevel:0},shopAmbrosiaLuckMultiplier4:{tier:"Exalt2",price:1e20,priceIncrease:3e20,maxLevel:4,type:"upgrade",refundable:!1,refundMinimumLevel:0},calculator7:{tier:"Exalt3",price:1e20,priceIncrease:1e19,maxLevel:50,type:"upgrade",refundable:!1,refundMinimumLevel:0},shopOcteractAmbrosiaLuck:{tier:"Exalt4",price:1e21,priceIncrease:9e21,maxLevel:2,type:"upgrade",refundable:!1,refundMinimumLevel:0},shopAmbrosiaGeneration1:{tier:"SingularityVol2",price:5e7,priceIncrease:5e7,maxLevel:25,type:"upgrade",refundable:!1,refundMinimumLevel:0},shopAmbrosiaGeneration2:{tier:"SingularityVol3",price:5e11,priceIncrease:5e11,maxLevel:30,type:"upgrade",refundable:!1,refundMinimumLevel:0},shopAmbrosiaGeneration3:{tier:"SingularityVol4",price:5e13,priceIncrease:5e13,maxLevel:35,type:"upgrade",refundable:!1,refundMinimumLevel:0},shopAmbrosiaGeneration4:{tier:"SingularityVol4",price:1e17,priceIncrease:4*1e16,maxLevel:1e3,type:"upgrade",refundable:!1,refundMinimumLevel:0},shopAmbrosiaLuck1:{tier:"SingularityVol2",price:2e7,priceIncrease:2e7,maxLevel:40,type:"upgrade",refundable:!1,refundMinimumLevel:0},shopAmbrosiaLuck2:{tier:"SingularityVol3",price:2e11,priceIncrease:2e11,maxLevel:50,type:"upgrade",refundable:!1,refundMinimumLevel:0},shopAmbrosiaLuck3:{tier:"SingularityVol4",price:2e13,priceIncrease:2e13,maxLevel:60,type:"upgrade",refundable:!1,refundMinimumLevel:0},shopAmbrosiaLuck4:{tier:"SingularityVol4",price:1e17,priceIncrease:4*1e16,maxLevel:1e3,type:"upgrade",refundable:!1,refundMinimumLevel:0},shopCashGrabUltra:{tier:"Exalt1x30",price:1,priceIncrease:2e22,maxLevel:5,type:"upgrade",refundable:!1,refundMinimumLevel:0},shopAmbrosiaAccelerator:{tier:"Exalt5",price:1e21,priceIncrease:2e21,maxLevel:5,type:"upgrade",refundable:!1,refundMinimumLevel:0},shopEXUltra:{tier:"Exalt5x20",price:1e22,priceIncrease:0,maxLevel:80,type:"upgrade",refundable:!1,refundMinimumLevel:0}},Vn=t=>{if(ue[t].type==="consume"||ue[t].maxLevel===1)return ue[t].price;{let r=e.shopUpgrades[t];return ue[t].price+ue[t].priceIncrease*r}},er=t=>{let r=i("quarkdescription"),n=i("quarkeffect"),s=i("quarkRefundable");switch(r.innerHTML=u.t(`shop.upgradeDescriptions.${t}`),ue[t].refundable?s.textContent=`This item is refundable! Will be set to level ${ue[t].refundMinimumLevel} when refunded.`:s.textContent=u.t("shop.cannotRefund"),t){case"offeringPotion":n.innerHTML=u.t("shop.upgradeEffects.offeringPotion",{amount:p(7200*e.offeringpersecond*Qe().mult*+e.singularityUpgrades.potionBuff.getEffect().bonus,0,!0)});break;case"obtainiumPotion":n.innerHTML=u.t("shop.upgradeEffects.obtainiumPotion",{amount:p(7200*e.maxobtainiumpersecond*Qe().mult*+e.singularityUpgrades.potionBuff.getEffect().bonus,0,!0)});break;case"offeringEX":n.innerHTML=u.t("shop.upgradeEffects.offeringEX",{amount:p(4*e.shopUpgrades.offeringEX,2,!0)});break;case"offeringAuto":n.innerHTML=u.t("shop.upgradeEffects.offeringAuto",{amount1:p(Math.pow(2,e.shopUpgrades.offeringAuto)),amount2:p(2*e.shopUpgrades.offeringAuto,2)});break;case"obtainiumEX":n.innerHTML=u.t("shop.upgradeEffects.obtainiumEX",{amount:p(4*e.shopUpgrades.obtainiumEX,2,!0)});break;case"obtainiumAuto":n.innerHTML=u.t("shop.upgradeEffects.obtainiumAuto",{amount:p(e.shopUpgrades.obtainiumAuto*2,2)});break;case"instantChallenge":n.innerHTML=u.t("shop.upgradeEffects.instantChallenge");break;case"antSpeed":n.innerHTML=u.t("shop.upgradeEffects.antSpeed",{amount:p(Math.pow(1.2,e.shopUpgrades.antSpeed),2)});break;case"cashGrab":n.innerHTML=u.t("shop.upgradeEffects.cashGrab",{amount:p(e.shopUpgrades.cashGrab,2)});break;case"shopTalisman":n.innerHTML=u.t("shop.upgradeEffects.shopTalisman");break;case"seasonPass":n.innerHTML=u.t("shop.upgradeEffects.seasonPass",{amount:p(2.25*e.shopUpgrades.seasonPass)});break;case"challengeExtension":n.innerHTML=u.t("shop.upgradeEffects.challengeExtension",{amount:p(2*e.shopUpgrades.challengeExtension)});break;case"challengeTome":n.innerHTML=u.t("shop.upgradeEffects.challengeTome",{amount1:p(20*e.shopUpgrades.challengeTome),amount2:p(1-(e.shopUpgrades.challengeTome+e.shopUpgrades.challengeTome2)/100,2,!0)});break;case"cubeToQuark":n.innerHTML=u.t("shop.upgradeEffects.cubeToQuark");break;case"tesseractToQuark":n.innerHTML=u.t("shop.upgradeEffects.tesseractToQuark");break;case"hypercubeToQuark":n.innerHTML=u.t("shop.upgradeEffects.hypercubeToQuark");break;case"seasonPass2":n.innerHTML=u.t("shop.upgradeEffects.seasonPass2",{amount:p(1.5*e.shopUpgrades.seasonPass2)});break;case"seasonPass3":n.innerHTML=u.t("shop.upgradeEffects.seasonPass3",{amount:p(1.5*e.shopUpgrades.seasonPass3)});break;case"chronometer":n.innerHTML=u.t("shop.upgradeEffects.chronometer",{amount:p(1.2*e.shopUpgrades.chronometer)});break;case"infiniteAscent":n.innerHTML=u.t("shop.upgradeEffects.infiniteAscent");break;case"calculator":n.innerHTML=u.t("shop.upgradeEffects.calculator",{amount1:p(14*e.shopUpgrades.calculator),bool1:e.shopUpgrades.calculator>0,bool2:e.shopUpgrades.calculator===ue.calculator.maxLevel});break;case"calculator2":n.innerHTML=u.t("shop.upgradeEffects.calculator2",{amount1:p(2*e.shopUpgrades.calculator2),amount2:p(e.shopUpgrades.calculator2===ue.calculator2.maxLevel?25:0)});break;case"calculator3":n.innerHTML=u.t("shop.upgradeEffects.calculator3",{amount1:p(10*e.shopUpgrades.calculator3),amount2:p(60*e.shopUpgrades.calculator3)});break;case"calculator4":n.innerHTML=u.t("shop.upgradeEffects.calculator4",{amount1:p(2*e.shopUpgrades.calculator4),amount2:e.shopUpgrades.calculator4===10?32:0});break;case"calculator5":n.innerHTML=u.t("shop.upgradeEffects.calculator5",{amount1:p(6*e.shopUpgrades.calculator5),amount2:Math.floor(e.shopUpgrades.calculator5/10)+(e.shopUpgrades.calculator4===ue.calculator5.maxLevel?6:0)});break;case"calculator6":n.innerHTML=u.t("shop.upgradeEffects.calculator6",{amount1:p(e.shopUpgrades.calculator6),amount2:e.shopUpgrades.calculator6===ue.calculator6.maxLevel?24:0});break;case"calculator7":n.innerHTML=u.t("shop.upgradeEffects.calculator7",{amount1:p(e.shopUpgrades.calculator7,0,!0),amount2:e.shopUpgrades.calculator7===ue.calculator7.maxLevel?48:0});break;case"constantEX":n.innerHTML=u.t("shop.upgradeEffects.constantEX",{amount:p(e.shopUpgrades.constantEX,0,!0)});break;case"powderEX":n.innerHTML=u.t("shop.upgradeEffects.powderEX",{amount:p(2*e.shopUpgrades.powderEX)});break;case"chronometer2":n.innerHTML=u.t("shop.upgradeEffects.chronometer2",{amount:p(.6*e.shopUpgrades.chronometer2,1)});break;case"chronometer3":n.innerHTML=u.t("shop.upgradeEffects.chronometer3",{amount:p(1.5*e.shopUpgrades.chronometer3,1)});break;case"seasonPassY":n.innerHTML=u.t("shop.upgradeEffects.seasonPassY",{amount:p(.75*e.shopUpgrades.seasonPassY,2)});break;case"seasonPassZ":n.innerHTML=u.t("shop.upgradeEffects.seasonPassZ",{amount:p(1*e.shopUpgrades.seasonPassZ*e.singularityCount,0,!0)});break;case"challengeTome2":n.innerHTML=u.t("shop.upgradeEffects.challengeTome2",{amount1:20*e.shopUpgrades.challengeTome2,amount2:p(1-(e.shopUpgrades.challengeTome+e.shopUpgrades.challengeTome2)/100,2,!0)});break;case"instantChallenge2":n.innerHTML=u.t("shop.upgradeEffects.instantChallenge2",{amount:p(e.shopUpgrades.instantChallenge2*e.singularityCount,0)});break;case"cashGrab2":n.innerHTML=u.t("shop.upgradeEffects.cashGrab2",{amount:p(.5*e.shopUpgrades.cashGrab2,1)});break;case"cubeToQuarkAll":n.innerHTML=u.t("shop.upgradeEffects.cubeToQuarkAll",{amount:p(.2*e.shopUpgrades.cubeToQuarkAll,2)});break;case"chronometerZ":n.innerHTML=u.t("shop.upgradeEffects.chronometerZ",{amount:p(.1*e.singularityCount*e.shopUpgrades.chronometerZ,2)});break;case"offeringEX2":n.innerHTML=u.t("shop.upgradeEffects.offeringEX2",{amount:p(1*e.singularityCount*e.shopUpgrades.offeringEX2,2)});break;case"obtainiumEX2":n.innerHTML=u.t("shop.upgradeEffects.obtainiumEX2",{amount:p(1*e.singularityCount*e.shopUpgrades.obtainiumEX2,2)});break;case"powderAuto":n.innerHTML=u.t("shop.upgradeEffects.powderAuto",{amount:p(100/(Math.max(1,e.shopUpgrades.powderAuto)*hr().mult),2,!0)});break;case"seasonPassLost":n.innerHTML=u.t("shop.upgradeEffects.seasonPassLost",{amount:p(.1*e.shopUpgrades.seasonPassLost,2)});break;case"challenge15Auto":n.innerHTML=u.t("shop.upgradeEffects.challenge15Auto");break;case"extraWarp":n.innerHTML=u.t("shop.upgradeEffects.extraWarp",{amount:e.shopUpgrades.extraWarp});break;case"autoWarp":n.innerHTML=u.t("shop.upgradeEffects.autoWarp");break;case"improveQuarkHept":n.innerHTML=u.t("shop.upgradeEffects.improveQuarkHept",{amount:2*e.shopUpgrades.improveQuarkHept});break;case"improveQuarkHept2":n.innerHTML=u.t("shop.upgradeEffects.improveQuarkHept2",{amount:2*e.shopUpgrades.improveQuarkHept2});break;case"improveQuarkHept3":n.innerHTML=u.t("shop.upgradeEffects.improveQuarkHept3",{amount:2*e.shopUpgrades.improveQuarkHept3});break;case"improveQuarkHept4":n.innerHTML=u.t("shop.upgradeEffects.improveQuarkHept4",{amount:2*e.shopUpgrades.improveQuarkHept4});break;case"shopImprovedDaily":n.innerHTML=u.t("shop.upgradeEffects.shopImprovedDaily",{amount:p(5*e.shopUpgrades.shopImprovedDaily)});break;case"shopImprovedDaily2":n.innerHTML=u.t("shop.upgradeEffects.shopImprovedDaily2",{amount1:e.shopUpgrades.shopImprovedDaily2,amount2:e.shopUpgrades.shopImprovedDaily2*20});break;case"shopImprovedDaily3":n.innerHTML=u.t("shop.upgradeEffects.shopImprovedDaily3",{amount1:e.shopUpgrades.shopImprovedDaily3,amount2:e.shopUpgrades.shopImprovedDaily3*15});break;case"shopImprovedDaily4":n.innerHTML=u.t("shop.upgradeEffects.shopImprovedDaily4",{amount1:e.shopUpgrades.shopImprovedDaily4,amount2:e.shopUpgrades.shopImprovedDaily4*100});break;case"offeringEX3":n.innerHTML=u.t("shop.upgradeEffects.offeringEX3",{amount:p(100*(Math.pow(1.02,e.shopUpgrades.offeringEX3)-1),2,!0)});break;case"obtainiumEX3":n.innerHTML=u.t("shop.upgradeEffects.obtainiumEX3",{amount:p(100*(Math.pow(1.02,e.shopUpgrades.obtainiumEX3)-1),2,!0)});break;case"improveQuarkHept5":n.innerHTML=u.t("shop.upgradeEffects.improveQuarkHept5",{amount:p(e.shopUpgrades.improveQuarkHept5/25,2,!0)});break;case"seasonPassInfinity":n.innerHTML=u.t("shop.upgradeEffects.seasonPassInfinity",{amount:p(100*(Math.pow(1.02,e.shopUpgrades.seasonPassInfinity)-1),2,!0)});break;case"chronometerInfinity":n.innerHTML=u.t("shop.upgradeEffects.chronometerInfinity",{amount:p(100*(Math.pow(1.01,e.shopUpgrades.chronometerInfinity)-1),2,!0)});break;case"shopSingularityPenaltyDebuff":n.innerHTML=u.t("shop.upgradeEffects.shopSingularityPenaltyDebuff",{amount1:p(e.singularityCount),amount2:p(e.singularityCount-e.shopUpgrades.shopSingularityPenaltyDebuff)});break;case"shopAmbrosiaLuckMultiplier4":n.innerHTML=u.t("shop.upgradeEffects.shopAmbrosiaLuckMultiplier4",{amount:p(e.shopUpgrades.shopAmbrosiaLuckMultiplier4)});break;case"shopOcteractAmbrosiaLuck":n.innerHTML=u.t("shop.upgradeEffects.shopOcteractAmbrosiaLuck",{amount:p(e.shopUpgrades.shopOcteractAmbrosiaLuck*(1+Math.floor(Math.log10(e.totalWowOcteracts+1))))});break;case"shopAmbrosiaGeneration1":n.innerHTML=u.t("shop.upgradeEffects.shopAmbrosiaGeneration1",{amount:p(e.shopUpgrades.shopAmbrosiaGeneration1)});break;case"shopAmbrosiaGeneration2":n.innerHTML=u.t("shop.upgradeEffects.shopAmbrosiaGeneration2",{amount:p(e.shopUpgrades.shopAmbrosiaGeneration2)});break;case"shopAmbrosiaGeneration3":n.innerHTML=u.t("shop.upgradeEffects.shopAmbrosiaGeneration3",{amount:p(e.shopUpgrades.shopAmbrosiaGeneration3)});break;case"shopAmbrosiaGeneration4":n.innerHTML=u.t("shop.upgradeEffects.shopAmbrosiaGeneration4",{amount:p(e.shopUpgrades.shopAmbrosiaGeneration4/10,1,!0)});break;case"shopAmbrosiaLuck1":n.innerHTML=u.t("shop.upgradeEffects.shopAmbrosiaLuck1",{amount:p(2*e.shopUpgrades.shopAmbrosiaLuck1)});break;case"shopAmbrosiaLuck2":n.innerHTML=u.t("shop.upgradeEffects.shopAmbrosiaLuck2",{amount:p(2*e.shopUpgrades.shopAmbrosiaLuck2)});break;case"shopAmbrosiaLuck3":n.innerHTML=u.t("shop.upgradeEffects.shopAmbrosiaLuck3",{amount:p(2*e.shopUpgrades.shopAmbrosiaLuck3)});break;case"shopAmbrosiaLuck4":n.innerHTML=u.t("shop.upgradeEffects.shopAmbrosiaLuck4",{amount:p(6*e.shopUpgrades.shopAmbrosiaLuck4/10,1,!0)});break;case"shopCashGrabUltra":n.innerHTML=u.t("shop.upgradeEffects.shopCashGrabUltra",{amount:p(100*($o()-1),2,!0),amount2:p(100*(Do()-1),2,!0),amount3:p(100*(us()-1),2,!0)});break;case"shopAmbrosiaAccelerator":n.innerHTML=u.t("shop.upgradeEffects.shopAmbrosiaAccelerator",{amount:p(.2*e.shopUpgrades.shopAmbrosiaAccelerator,1,!0),amount2:p(e.shopUpgrades.shopAmbrosiaAccelerator*.2*e.caches.ambrosiaGeneration.totalVal,0,!0)});break;case"shopEXUltra":{let a=125e3*e.shopUpgrades.shopEXUltra;n.innerHTML=u.t("shop.upgradeEffects.shopEXUltra",{amount:p(.1*Math.floor(Math.min(a,e.lifetimeAmbrosia)/1e3),1,!0)});break}}},jn=t=>({offeringPotion:"Offering Potion",obtainiumPotion:"Obtainium Potion",offeringEX:"Offering EX",offeringAuto:"Offering Auto",obtainiumEX:"Obtainium EX",obtainiumAuto:"Obtainium Auto",instantChallenge:"Instant Challenge Completions",antSpeed:"Ant Speed",cashGrab:"Cash Grab",shopTalisman:"the Plastic talisman",seasonPass:"Season Pass",challengeExtension:"Reincarnation Challenge EX",challengeTome:"Challenge 10 Requirement Reduce",cubeToQuark:"Cube Quarks +50%",tesseractToQuark:"Tesseract Quarks +50%",hypercubeToQuark:"Hypercube Quarks +50%",seasonPass2:"Season Pass 2",seasonPass3:"Season Pass 3",chronometer:"Chronometer 1",infiniteAscent:"Infinite Ascent",calculator:"PL-AT calculator",calculator2:"PL-AT X calculator",calculator3:"PL-AT \u03A9 calculator",calculator4:"PL-AT \u03B4 calculator",calculator5:"PL-AT \u0393 calculator",calculator6:"QUAAA-T calculator",calculator7:"PL-AT \u03A9\u03A9 calculator",constantEX:"Constant EX",powderEX:"Powder EX",chronometer2:"Chronometer 2",chronometer3:"Chronometer 3",seasonPassY:"Season Pass Y",seasonPassZ:"Season Pass Z",challengeTome2:"Challenge 10 Requirement Reduction 2",instantChallenge2:"Instant Challenge Completions 2",cubeToQuarkAll:"Quark Gain Cube Improvement 2",cashGrab2:"Cash Grab 2",chronometerZ:"Chronometer Z",obtainiumEX2:"Obtainium EX 2",offeringEX2:"Offering EX 2",powderAuto:"Automated Powder",seasonPassLost:"Season Pass LOST",challenge15Auto:"Challenge 15 Automation",extraWarp:"Extra Warp",autoWarp:"a quack powered Warps?",improveQuarkHept:"Quark Hepteract 1",improveQuarkHept2:"Quark Hepteract 2",improveQuarkHept3:"Quark Hepteract 3",improveQuarkHept4:"Quack Hepteract 4",shopImprovedDaily:"Improved Daily Code 1",shopImprovedDaily2:"Improved Daily Code 2",shopImprovedDaily3:"Improved Daily Code 3",shopImprovedDaily4:"Improved Daily Code 4",offeringEX3:"The final Offering Upgrade",obtainiumEX3:"The final Obtainium Upgrade",improveQuarkHept5:"The final Quark Hepteract Improver",chronometerInfinity:"The final Chronometer",seasonPassInfinity:"The final Season pass",shopSingularityPenaltyDebuff:"A Singularity Tenderizer",shopAmbrosiaLuckMultiplier4:"The Fourth Multiplicative Ambrosia Luck Multiplier",shopOcteractAmbrosiaLuck:"Octeract-Based Ambrosia Luck Amplifier",shopAmbrosiaGeneration1:"Ambrosia Generation Speedup",shopAmbrosiaGeneration2:"Another Ambrosia Generation Speedup",shopAmbrosiaGeneration3:"A better Ambrosia Generation Speedup",shopAmbrosiaGeneration4:"A FINAL Ambrosia Generation Speedup",shopAmbrosiaLuck1:"Ambrosia Luck Increaser",shopAmbrosiaLuck2:"Another Ambrosia Luck Increaser",shopAmbrosiaLuck3:"A better Ambrosia Generation Speedup",shopAmbrosiaLuck4:"A FINAL Ambrosia Generation Speedup",shopCashGrabUltra:"It's the FINAL CASHGRAB!",shopAmbrosiaAccelerator:"An Ambrosial Accelerator!",shopEXUltra:"It's the FINAL E X!"})[t],Io=async t=>{let r=ue[t];if(e.shopUpgrades[t]>=r.maxLevel)return e.shopConfirmationToggle?O(`You can't purchase ${jn(t)} because you are already at the maximum ${r.type==="upgrade"?"level":"capacity"}!`):null;if(Number(e.worlds)<Vn(t))return e.shopConfirmationToggle?O(`You can't purchase ${jn(t)} because you don't have enough Quarks!`):null;if(!va(t))return O(`You do not have the right to purchase ${jn(t)}!`);let n,s=r.maxLevel-e.shopUpgrades[t],a,l;switch(e.shopBuyMaxToggle){case!1:a=1,l=Vn(t);break;case"TEN":n=Zt(e.shopUpgrades[t],r.price,+e.worlds,r.priceIncrease/r.price,Math.min(10,s)),a=n.levelCanBuy-e.shopUpgrades[t],l=n.cost;break;default:n=Zt(e.shopUpgrades[t],r.price,+e.worlds,r.priceIncrease/r.price,s),a=n.levelCanBuy-e.shopUpgrades[t],l=n.cost}let c=r.maxLevel===1,d=a.toLocaleString()+(r.type==="upgrade"?" level":" vial")+(a===1?"":"s"),g=r.refundable?"":`

\u26A0\uFE0F !! No Refunds !! \u26A0\uFE0F`,m=r.type==="consume"?`

Type -1 in Buy: ANY to buy equal amounts of both Potions.`:"";if(e.shopBuyMaxToggle==="ANY"&&!c){let b=await Ue(`You can afford to purchase up to ${d} of ${jn(t)} for ${l.toLocaleString()} Quarks. How many would you like to buy?${m+g}`),y;if(Number(b)===-1&&r.type==="consume"){let w=t==="offeringPotion"?"obtainiumPotion":"offeringPotion",k=Math.max(+e.worlds/2,+e.worlds-l),P=Zt(e.shopUpgrades[w],ue[w].price,k,ue[w].priceIncrease/ue[w].price,ue[w].maxLevel-e.shopUpgrades[w]);e.worlds.sub(P.cost),e.shopUpgrades[w]=P.levelCanBuy,y=a}else{if(y=Math.floor(Number(b)),y===0)return;if(Number.isNaN(y)||!Number.isFinite(y)||y<0)return O("Amount must be a finite, positive integer.")}let v=Zt(e.shopUpgrades[t],r.price,+e.worlds,r.priceIncrease/r.price,Math.min(y,a));e.worlds.sub(v.cost),e.shopUpgrades[t]=v.levelCanBuy,Oe(),e.caches.ambrosiaGeneration.updateVal("ShopUpgrades"),e.caches.ambrosiaLuck.updateVal("ShopUpgrades");return}let h=!0;(e.shopConfirmationToggle||!r.refundable&&e.shopBuyMaxToggle!==!1)&&(h=await Se(`You are about to ${c?"unlock":`purchase ${d} of`} ${jn(t)} for ${l.toLocaleString()} Quarks. Press 'OK' to finalize purchase.${m+g}`)),h&&(e.worlds.sub(l),e.shopUpgrades[t]+=a,e.caches.ambrosiaGeneration.updateVal("ShopUpgrades"),e.caches.ambrosiaLuck.updateVal("ShopUpgrades"),Oe())};var Vr=async(t,r=!1,n=1,s=!0)=>{if(e.shopConfirmationToggle&&!r?await Se("Would you like to use some of this potion?"):!0){let l=+e.singularityUpgrades.potionBuff.getEffect().bonus*+e.singularityUpgrades.potionBuff2.getEffect().bonus*+e.singularityUpgrades.potionBuff3.getEffect().bonus*+e.octeractUpgrades.octeractAutoPotionEfficiency.getEffect().bonus*n;t==="offeringPotion"?(e.shopUpgrades.offeringPotion>=n||!s)&&(e.shopUpgrades.offeringPotion-=s?n:0,e.runeshards+=Math.floor(7200*e.offeringpersecond*Qe().mult*l),e.runeshards=Math.min(1e300,e.runeshards)):t==="obtainiumPotion"&&(e.shopUpgrades.obtainiumPotion>=n||!s)&&(e.shopUpgrades.obtainiumPotion-=s?n:0,e.researchPoints+=Math.floor(7200*e.maxobtainiumpersecond*Qe().mult*l),e.researchPoints=Math.min(1e300,e.researchPoints))}},No=async(t=!1)=>{let r=!1;if(t||(r=e.shopConfirmationToggle?await Se("This will fully refund most of your permanent upgrades for an upfront cost of 15 Quarks. Would you like to do this?"):!0),r||t){let n=e.quarksThisSingularity,s=!1;for(let a in ue){let l=a,c=ue[l];if(c.refundable&&e.shopUpgrades[l]>c.refundMinimumLevel){s=!0;let d=c.price*c.refundMinimumLevel+c.priceIncrease*c.refundMinimumLevel*(c.refundMinimumLevel-1)/2;e.worlds.add(c.price*e.shopUpgrades[l]+c.priceIncrease*e.shopUpgrades[l]*(e.shopUpgrades[l]-1)/2-d,!1),e.shopUpgrades[l]=c.refundMinimumLevel}}s?e.worlds.sub(15):!t&&e.shopConfirmationToggle&&O("Nothing to Refund!"),e.quarksThisSingularity=n}},$u=t=>!(t in ue)||!(t in e.shopUpgrades)?0:ue[t].price*e.shopUpgrades[t]+ue[t].priceIncrease*(e.shopUpgrades[t]-1)*e.shopUpgrades[t]/2,va=t=>{switch(t){case"offeringPotion":return!0;case"obtainiumPotion":return!0;case"offeringEX":return e.reincarnationCount>0||e.highestSingularityCount>0;case"offeringAuto":return e.reincarnationCount>0||e.highestSingularityCount>0;case"obtainiumEX":return e.reincarnationCount>0||e.highestSingularityCount>0;case"obtainiumAuto":return e.reincarnationCount>0||e.highestSingularityCount>0;case"instantChallenge":return e.reincarnationCount>0||e.highestSingularityCount>0;case"antSpeed":return e.highestchallengecompletions[8]>0||e.ascensionCount>0||e.highestSingularityCount>0;case"cashGrab":return e.highestchallengecompletions[8]>0||e.ascensionCount>0||e.highestSingularityCount>0;case"shopTalisman":return e.highestchallengecompletions[9]>0||e.ascensionCount>0||e.highestSingularityCount>0;case"seasonPass":return e.ascensionCount>0||e.highestSingularityCount>0;case"challengeExtension":return e.ascensionCount>0||e.highestSingularityCount>0;case"challengeTome":return e.ascensionCount>0||e.highestSingularityCount>0;case"cubeToQuark":return e.ascensionCount>0||e.highestSingularityCount>0;case"tesseractToQuark":return e.highestchallengecompletions[11]>0||e.highestSingularityCount>0;case"hypercubeToQuark":return e.highestchallengecompletions[13]>0||e.highestSingularityCount>0;case"seasonPass2":return e.highestchallengecompletions[14]>0||e.highestSingularityCount>0;case"seasonPass3":return e.highestchallengecompletions[14]>0||e.highestSingularityCount>0;case"chronometer":return e.highestchallengecompletions[12]>0||e.highestSingularityCount>0;case"infiniteAscent":return e.highestchallengecompletions[14]>0||e.highestSingularityCount>0;case"calculator":return e.ascensionCount>0||e.highestSingularityCount>0;case"calculator2":return e.highestchallengecompletions[11]>0||e.highestSingularityCount>0;case"calculator3":return e.highestchallengecompletions[13]>0||e.highestSingularityCount>0;case"calculator4":return!!e.singularityUpgrades.wowPass.getEffect().bonus;case"calculator5":return!!e.singularityUpgrades.wowPass2.getEffect().bonus;case"calculator6":return!!e.singularityUpgrades.wowPass3.getEffect().bonus;case"calculator7":return!!e.singularityChallenges.limitedAscensions.rewards.shopUpgrade;case"constantEX":return e.highestchallengecompletions[14]>0||e.highestSingularityCount>0;case"powderEX":return e.challenge15Exponent>=1e15||e.highestSingularityCount>0;case"chronometer2":return e.challenge15Exponent>=1e15||e.highestSingularityCount>0;case"chronometer3":return!!e.singularityUpgrades.wowPass.getEffect().bonus;case"seasonPassY":return e.challenge15Exponent>=1e15||e.highestSingularityCount>0;case"seasonPassZ":return!!e.singularityUpgrades.wowPass.getEffect().bonus;case"challengeTome2":return!!e.singularityUpgrades.wowPass.getEffect().bonus;case"instantChallenge2":return!!e.singularityUpgrades.wowPass.getEffect().bonus;case"cashGrab2":return!!e.singularityUpgrades.wowPass2.getEffect().bonus;case"cubeToQuarkAll":return!!e.singularityUpgrades.wowPass2.getEffect().bonus;case"chronometerZ":return!!e.singularityUpgrades.wowPass2.getEffect().bonus;case"offeringEX2":return!!e.singularityUpgrades.wowPass2.getEffect().bonus;case"obtainiumEX2":return!!e.singularityUpgrades.wowPass2.getEffect().bonus;case"powderAuto":return!!e.singularityUpgrades.wowPass2.getEffect().bonus;case"seasonPassLost":return!!e.singularityUpgrades.wowPass2.getEffect().bonus;case"challenge15Auto":return!!e.singularityUpgrades.wowPass3.getEffect().bonus;case"extraWarp":return!!e.singularityUpgrades.wowPass3.getEffect().bonus;case"autoWarp":return!!e.singularityUpgrades.wowPass3.getEffect().bonus;case"improveQuarkHept":return e.challenge15Exponent>=1e15||e.highestSingularityCount>0;case"improveQuarkHept2":return!!e.singularityUpgrades.wowPass.getEffect().bonus;case"improveQuarkHept3":return!!e.singularityUpgrades.wowPass2.getEffect().bonus;case"improveQuarkHept4":return!!e.singularityUpgrades.wowPass3.getEffect().bonus;case"shopImprovedDaily":return e.highestchallengecompletions[14]>0||e.highestSingularityCount>0;case"shopImprovedDaily2":return!!e.singularityUpgrades.wowPass.getEffect().bonus;case"shopImprovedDaily3":return!!e.singularityUpgrades.wowPass2.getEffect().bonus;case"shopImprovedDaily4":return!!e.singularityUpgrades.wowPass3.getEffect().bonus;case"offeringEX3":return!!e.singularityUpgrades.wowPass4.getEffect().bonus;case"obtainiumEX3":return!!e.singularityUpgrades.wowPass4.getEffect().bonus;case"improveQuarkHept5":return!!e.singularityUpgrades.wowPass4.getEffect().bonus;case"chronometerInfinity":return!!e.singularityUpgrades.wowPass4.getEffect().bonus;case"seasonPassInfinity":return!!e.singularityUpgrades.wowPass4.getEffect().bonus;case"shopSingularityPenaltyDebuff":return!!e.singularityChallenges.noSingularityUpgrades.rewards.shopUpgrade;case"shopAmbrosiaLuckMultiplier4":return!!e.singularityChallenges.oneChallengeCap.rewards.shopUpgrade;case"shopOcteractAmbrosiaLuck":return!!e.singularityChallenges.noOcteracts.rewards.shopUpgrade;case"shopAmbrosiaGeneration1":return!!e.singularityUpgrades.wowPass2.getEffect().bonus;case"shopAmbrosiaGeneration2":return!!e.singularityUpgrades.wowPass3.getEffect().bonus;case"shopAmbrosiaGeneration3":return!!e.singularityUpgrades.wowPass4.getEffect().bonus;case"shopAmbrosiaGeneration4":return!!e.singularityUpgrades.wowPass4.getEffect().bonus;case"shopAmbrosiaLuck1":return!!e.singularityUpgrades.wowPass2.getEffect().bonus;case"shopAmbrosiaLuck2":return!!e.singularityUpgrades.wowPass3.getEffect().bonus;case"shopAmbrosiaLuck3":return!!e.singularityUpgrades.wowPass4.getEffect().bonus;case"shopAmbrosiaLuck4":return!!e.singularityUpgrades.wowPass4.getEffect().bonus;case"shopCashGrabUltra":return!!e.singularityChallenges.noSingularityUpgrades.rewards.shopUpgrade2;case"shopAmbrosiaAccelerator":return!!e.singularityChallenges.noAmbrosiaUpgrades.rewards.shopUpgrade;case"shopEXUltra":return!!e.singularityChallenges.noAmbrosiaUpgrades.rewards.shopUpgrade2}};var Du={shard:{obtainium:1e13,offerings:100},commonFragment:{obtainium:1e14,offerings:1e4},uncommonFragment:{obtainium:1e16,offerings:1e5},rareFragment:{obtainium:1e18,offerings:1e6},epicFragment:{obtainium:1e20,offerings:1e7},legendaryFragment:{obtainium:1e22,offerings:1e8},mythicalFragment:{obtainium:1e24,offerings:1e9}},wl=["One","Two","Three","Four","Five","Six","Seven"],ps=t=>{let r=30*e.talismanRarity[t];return r+=6*K("ascension",e.challengecompletions[13]),r+=Math.floor(e.researches[200]/400),e.cubeUpgrades[67]>0&&t===3&&(r+=1337),r},Gu=(t,r=e.buyTalismanShardPercent)=>{let n=Du[t].obtainium,s=Du[t].offerings,a=Math.max(1,Math.floor(e.researchPoints/n)),l=Math.max(1,Math.floor(e.runeshards/s)),c=Math.max(1,Math.floor(r/100*Math.min(a,l)));return{canBuy:n<=e.researchPoints&&s<=e.runeshards,buyAmount:c,obtainiumCost:n*c,offeringCost:s*c}},Go=(t,r=e.buyTalismanShardPercent)=>{let n=i("talismanFragmentCost");if(t){let s=Gu(t,r),a=u.t(`runes.talismans.shards.${t}`);n.textContent=u.t("runes.talismans.costToBuy",{name:a,buyAmount:p(s.buyAmount),obtainium:p(s.obtainiumCost),offerings:p(s.offeringCost)})}else n.textContent=u.t("runes.talismans.clickBuyEveryType")},Ca=(t=e.buyTalismanShardPercent)=>{i("talismanTen").style.backgroundColor="",i("talismanTwentyFive").style.backgroundColor="",i("talismanFifty").style.backgroundColor="",i("talismanHundred").style.backgroundColor="",e.buyTalismanShardPercent=t;let r="Ten";t===25&&(r="TwentyFive"),t===50&&(r="Fifty"),t===100&&(r="Hundred"),i(`talisman${r}`).style.backgroundColor="green"},_t=()=>{i("talismanShardInventory").textContent=p(e.talismanShards),i("commonFragmentInventory").textContent=p(e.commonFragments),i("uncommonFragmentInventory").textContent=p(e.uncommonFragments),i("rareFragmentInventory").textContent=p(e.rareFragments),i("epicFragmentInventory").textContent=p(e.epicFragments),i("legendaryFragmentInventory").textContent=p(e.legendaryFragments),i("mythicalFragmentInventory").textContent=p(e.mythicalFragments)},Ho=()=>{let t=["shard","commonFragment","uncommonFragment","rareFragment","epicFragment","legendaryFragment","mythicalFragment"];for(let r=t.length-1;r>=0;r--)xl(t[r])},xl=(t,r=e.buyTalismanShardPercent)=>{let n=Gu(t,r);n.canBuy&&(t==="shard"?e.talismanShards+=n.buyAmount:e[`${t}s`]+=n.buyAmount,t==="mythicalFragment"&&e.mythicalFragments>=1e25&&e.achievements[239]<1&&F(239),e.researchPoints-=n.obtainiumCost,e.runeshards-=n.offeringCost,e.researchPoints<0&&(e.researchPoints=0),e.runeshards<0&&(e.runeshards=0)),Go(t,r),_t()},Fo=t=>{i("talismanlevelup").style.display="none",i("talismanEffect").style.display="block",i("talismanrespec").style.display="none";let r=i("talismanSummary"),n=i("talismanBonus"),s=i("talismanRune1Effect"),a=i("talismanRune2Effect"),l=i("talismanRune3Effect"),c=i("talismanRune4Effect"),d=i("talismanRune5Effect"),g=i("talismanMythicEffect"),m="",h="";switch(t){case 0:m="exemption",h=p(10*(e.talismanRarity[0]-1));break;case 1:m="chronos",h=p(10*(e.talismanRarity[1]-1));break;case 2:m="midas",h=p(10*(e.talismanRarity[2]-1));break;case 3:m="metaphysics",h=p(.02*(e.talismanRarity[3]-1),2);break;case 4:m="polymath",h=p(1*(e.talismanRarity[4]-1));break;case 5:m="mortuus",h=p(2*(e.talismanRarity[5]-1));break;case 6:m="plastic";break}let b=`talisman${t+1}Effect`;r.textContent=u.t(`runes.talismans.summaries.${m}`),n.textContent=u.t(`runes.talismans.effects.${m}`,{x:h}),s.textContent=u.t("runes.talismans.bonusRuneLevels.speed",{x:p(o[b][1],2,!0)}),a.textContent=u.t("runes.talismans.bonusRuneLevels.duplication",{x:p(o[b][2],2,!0)}),l.textContent=u.t("runes.talismans.bonusRuneLevels.prism",{x:p(o[b][3],2,!0)}),c.textContent=u.t("runes.talismans.bonusRuneLevels.thrift",{x:p(o[b][4],2,!0)}),d.textContent=u.t("runes.talismans.bonusRuneLevels.SI",{x:p(o[b][5],2,!0)}),g.textContent=u.t(`runes.talismans.mythicEffects.${m}`),e.talismanRarity[t]!==6&&(g.textContent=u.t("runes.talismans.maxEnhance"))},Ml=t=>{i("talismanEffect").style.display="none",i("talismanlevelup").style.display="block",i("talismanrespec").style.display="none";let r=i("talismanShardCost"),n=i("talismanCommonFragmentCost"),s=i("talismanUncommonFragmentCost"),a=i("talismanRareFragmentCost"),l=i("talismanEpicFragmentCost"),c=i("talismanLegendaryFragmentCost"),d=i("talismanMythicalFragmentCost");i("talismanLevelUpSummary").textContent=u.t("runes.resourcesToLevelup"),i("talismanLevelUpSummary").style.color="silver";let g=o.talismanLevelCostMultiplier[t];e.talismanLevels[t]>=120&&(g*=(e.talismanLevels[t]-90)/30),e.talismanLevels[t]>=150&&(g*=(e.talismanLevels[t]-120)/30),e.talismanLevels[t]>=180&&(g*=(e.talismanLevels[t]-170)/10),r.textContent=p(g*Math.max(0,Math.floor(1+1/8*Math.pow(e.talismanLevels[t],3)))),n.textContent=p(g*Math.max(0,Math.floor(1+1/32*Math.pow(e.talismanLevels[t]-30,3)))),s.textContent=p(g*Math.max(0,Math.floor(1+1/384*Math.pow(e.talismanLevels[t]-60,3)))),a.textContent=p(g*Math.max(0,Math.floor(1+1/500*Math.pow(e.talismanLevels[t]-90,3)))),l.textContent=p(g*Math.max(0,Math.floor(1+1/375*Math.pow(e.talismanLevels[t]-120,3)))),c.textContent=p(g*Math.max(0,Math.floor(1+1/192*Math.pow(e.talismanLevels[t]-150,3)))),d.textContent=p(g*Math.max(0,Math.floor(1+1/1280*Math.pow(e.talismanLevels[t]-150,3))))},kl=t=>{i("talismanEffect").style.display="none",i("talismanlevelup").style.display="block",i("talismanrespec").style.display="none";let r=i("talismanShardCost"),n=i("talismanCommonFragmentCost"),s=i("talismanUncommonFragmentCost"),a=i("talismanRareFragmentCost"),l=i("talismanEpicFragmentCost"),c=i("talismanLegendaryFragmentCost"),d=i("talismanMythicalFragmentCost");i("talismanLevelUpSummary").textContent=u.t("runes.resourcesToEnhance"),i("talismanLevelUpSummary").style.color="gold";let g=[o.commonTalismanEnhanceCost,o.uncommonTalismanEnchanceCost,o.rareTalismanEnchanceCost,o.epicTalismanEnhanceCost,o.legendaryTalismanEnchanceCost,o.mythicalTalismanEnchanceCost],m=e.talismanRarity[t],h=g[m-1],b=o.talismanLevelCostMultiplier[t];r.textContent=p(b*h[1]),n.textContent=p(b*h[2]),s.textContent=p(b*h[3]),a.textContent=p(b*h[4]),l.textContent=p(b*h[5]),c.textContent=p(b*h[6]),d.textContent=p(b*h[7])},Sl=t=>{o.talismanRespec=t,i("talismanEffect").style.display="none",i("talismanlevelup").style.display="none",i("talismanrespec").style.display="block";let r=["speed","duplication","prism","thrift","SI"],n=["positive","positive","positive","positive","positive"];if(t<=6){for(let s=1;s<=5;s++)o.mirrorTalismanStats[s]=e[`talisman${wl[t]}`][s];i("confirmTalismanRespec").textContent=u.t("runes.talismans.respecConfirm")}if(t===7){for(let s=1;s<=5;s++)o.mirrorTalismanStats[s]=1;i("confirmTalismanRespec").textContent=u.t("runes.talismans.respecConfirmAll")}for(let s=1;s<=5;s++){let a=i(`talismanRespecButton${s}`);o.mirrorTalismanStats[s]===1?(a.style.border="2px solid limegreen",n[s-1]="positive"):o.mirrorTalismanStats[s]===-1&&(a.style.border="2px solid crimson",n[s-1]="negative"),a.textContent=u.t(`runes.talismans.modifiers.${n[s-1]}`,{name:u.t(`runes.names.${r[s-1]}`)})}i("confirmTalismanRespec").style.display="none"},Hu=t=>{let r=[null,"speed","duplication","prism","thrift","SI"],n=i(`talismanRespecButton${t}`);o.mirrorTalismanStats[t]===1?(o.mirrorTalismanStats[t]=-1,n.textContent=u.t("runes.talismans.modifiers.negative",{name:u.t(`runes.names.${r[t]}`)}),n.style.border="2px solid crimson"):(o.mirrorTalismanStats[t]=1,n.textContent=u.t("runes.talismans.modifiers.positive",{name:u.t(`runes.names.${r[t]}`)}),n.style.border="2px solid limegreen"),o.mirrorTalismanStats.reduce((a,l)=>a+l,0)===1?i("confirmTalismanRespec").style.display="block":i("confirmTalismanRespec").style.display="none"},Fu=t=>{if(e.runeshards>=1e5&&t<7){for(let r=1;r<=5;r++)e[`talisman${wl[t]}`][r]=o.mirrorTalismanStats[r];e.runeshards-=1e5,i("confirmTalismanRespec").style.display="none",i("talismanrespec").style.display="none",i("talismanEffect").style.display="block",Fo(t)}else if(e.runeshards>=4e5&&t===7){e.runeshards-=4e5;for(let r=0;r<7;r++)for(let n=1;n<=5;n++)e[`talisman${wl[r]}`][n]=o.mirrorTalismanStats[n];i("confirmTalismanRespec").style.display="none"}Fe()},Qu=t=>{i("talismanrespec").style.display="none",t<7&&(i("talismanEffect").style.display="block",Fo(t))},mt=t=>{let r=i(`talisman${t+1}`),n=i(`talisman${t+1}level`),s=e.talismanRarity[t];s===1&&(r.style.border="4px solid white",n.style.color="white"),s===2&&(r.style.border="4px solid limegreen",n.style.color="limegreen"),s===3&&(r.style.border="4px solid lightblue",n.style.color="lightblue"),s===4&&(r.style.border="4px solid plum",n.style.color="plum"),s===5&&(r.style.border="4px solid orange",n.style.color="orange"),s===6&&(r.style.border="4px solid crimson",n.style.color="var(--crimson-text-color)")},Qo=(t,r=!1)=>{let n=1;e.ascensionCount>0&&(n=30),e.highestSingularityCount>0&&(n=180);let s=!1;for(let a=1;a<=n;a++){let l=0,c=o.talismanLevelCostMultiplier[t];if(e.talismanLevels[t]>=120&&(c*=(e.talismanLevels[t]-90)/30),e.talismanLevels[t]>=150&&(c*=(e.talismanLevels[t]-120)/30),e.talismanLevels[t]>=180&&(c*=(e.talismanLevels[t]-170)/10),e.talismanLevels[t]<ps(t)&&(e.talismanShards>=c*Math.max(0,Math.floor(1+1/8*Math.pow(e.talismanLevels[t],3)))&&l++,e.commonFragments>=c*Math.max(0,Math.floor(1+1/32*Math.pow(e.talismanLevels[t]-30,3)))&&l++,e.uncommonFragments>=c*Math.max(0,Math.floor(1+1/384*Math.pow(e.talismanLevels[t]-60,3)))&&l++,e.rareFragments>=c*Math.max(0,Math.floor(1+1/500*Math.pow(e.talismanLevels[t]-90,3)))&&l++,e.epicFragments>=c*Math.max(0,Math.floor(1+1/375*Math.pow(e.talismanLevels[t]-120,3)))&&l++,e.legendaryFragments>=c*Math.max(0,Math.floor(1+1/192*Math.pow(e.talismanLevels[t]-150,3)))&&l++,e.mythicalFragments>=c*Math.max(0,Math.floor(1+1/1280*Math.pow(e.talismanLevels[t]-150,3)))&&l++),l===7)e.talismanShards-=c*Math.max(0,Math.floor(1+1/8*Math.pow(e.talismanLevels[t],3))),e.commonFragments-=c*Math.max(0,Math.floor(1+1/32*Math.pow(e.talismanLevels[t]-30,3))),e.uncommonFragments-=c*Math.max(0,Math.floor(1+1/384*Math.pow(e.talismanLevels[t]-60,3))),e.rareFragments-=c*Math.max(0,Math.floor(1+1/500*Math.pow(e.talismanLevels[t]-90,3))),e.epicFragments-=c*Math.max(0,Math.floor(1+1/375*Math.pow(e.talismanLevels[t]-120,3))),e.legendaryFragments-=c*Math.max(0,Math.floor(1+1/192*Math.pow(e.talismanLevels[t]-150,3))),e.mythicalFragments-=c*Math.max(0,Math.floor(1+1/1280*Math.pow(e.talismanLevels[t]-150,3))),e.talismanLevels[t]+=1,s=!0;else break}return!r&&s&&(Ml(t),_t(),Fe()),s},_o=(t,r=!1)=>{let n=0;if(e.talismanRarity[t]<6){let s=o.talismanLevelCostMultiplier[t],a=[o.commonTalismanEnhanceCost,o.uncommonTalismanEnchanceCost,o.rareTalismanEnchanceCost,o.epicTalismanEnhanceCost,o.legendaryTalismanEnchanceCost,o.mythicalTalismanEnchanceCost],l=e.talismanRarity[t]-1,c=a[l];if(e.commonFragments>=s*c[2]&&n++,e.uncommonFragments>=s*c[3]&&n++,e.rareFragments>=s*c[4]&&n++,e.epicFragments>=s*c[5]&&n++,e.legendaryFragments>=s*c[6]&&n++,e.mythicalFragments>=s*c[7]&&n++,n===6)return e.commonFragments-=s*c[2],e.uncommonFragments-=s*c[3],e.rareFragments-=s*c[4],e.epicFragments-=s*c[5],e.legendaryFragments-=s*c[6],e.mythicalFragments-=s*c[7],e.talismanRarity[t]+=1,mt(t),r||(kl(t),_t(),Fe()),!0}return!1};var $f=60*1e3*60*24,ds=(w=>(w[w.Quark=0]="Quark",w[w.GoldenQuark=1]="GoldenQuark",w[w.Cubes=2]="Cubes",w[w.PowderConversion=3]="PowderConversion",w[w.AscensionSpeed=4]="AscensionSpeed",w[w.GlobalSpeed=5]="GlobalSpeed",w[w.AscensionScore=6]="AscensionScore",w[w.AntSacrifice=7]="AntSacrifice",w[w.Offering=8]="Offering",w[w.Obtainium=9]="Obtainium",w[w.Octeract=10]="Octeract",w[w.BlueberryTime=11]="BlueberryTime",w[w.AmbrosiaLuck=12]="AmbrosiaLuck",w[w.OneMind=13]="OneMind",w))(ds||{}),Wr=null,Df=()=>Wr,Tl=async()=>{if(!e.dayCheck)return;let t=await fetch("https://synergism.cc/api/v1/events/get");if(!t.ok)throw new Error("God fucking dammit");let n=(await t.json()).map(h=>{let A=h,{name:b,color:y,start:v,end:w,url:k}=A,P=Rc(A,["name","color","start","end","url"]);return{name:b,color:y,start:v,end:w,url:k,buffs:P}}),s=[];Wr=null;let a=new Date(jo()),l,c;for(let h of n)l=new Date(h.start),c=new Date(h.end),!(a.getTime()>=c.getTime()+$f)&&a.getTime()>=l.getTime()&&a.getTime()<=c.getTime()&&s.push(h);let d=i("happyHolidays"),g=i("eventBuffs"),m=o.isEvent;if(s.length){Wr=s.slice(1).reduce((b,y)=>{var v,w;b.name+=`, ${y.name}`;for(let k of Object.keys(y.buffs))(w=(v=b.buffs)[k])!=null||(v[k]=0),b.buffs[k]+=y.buffs[k];return new Date(b.start).getTime()>new Date(y.start).getTime()&&(b.start=y.start),new Date(b.end).getTime()<new Date(y.end).getTime()&&(b.end=y.end),b},Gf(s[0])),l=new Date(Wr.start),c=new Date(Wr.end),o.isEvent=s.length>0;let h=[];for(let b=0;b<qo.length;b++){let y=Ll(ds[qo[b]]);y!==0&&(qo[b]==="OneMind"&&e.singularityUpgrades.oneMind.level>0?h.push(`<span style="color: gold">${y>=0?"+":"-"}${p(100*y,3,!0)}% ${_u[b]}</span>`):(qo[b]!=="OneMind"||e.singularityUpgrades.oneMind.level===0)&&h.push(`${y>=0?"+":"-"}${p(100*y,2,!0)}% ${_u[b]}`))}i("eventCurrent").textContent=o.isEvent?u.t("settings.events.activeUntil",{x:c}):u.t("settings.events.starts",{x:l}),g.innerHTML=o.isEvent&&h.length?`Current Buffs: ${h.join(", ")}`:"",d.innerHTML=`(${s.length}) ${Wr.name}`,d.style.color=Wr.color,d.href=Wr.url.length>0?Wr.url:"#"}else o.isEvent=!1,i("eventCurrent").innerHTML=u.t("settings.events.inactive"),g.textContent="",g.style.color="var(--red-text-color)",d.innerHTML="",d.href="";o.isEvent!==m&&(Oe(),e.caches.ambrosiaGeneration.updateVal("Event"),e.caches.ambrosiaLuckAdditiveMult.updateVal("Event"))},qo=["Quark","GoldenQuark","Cubes","PowderConversion","AscensionSpeed","GlobalSpeed","AscensionScore","AntSacrifice","Offering","Obtainium","Octeract","BlueberryTime","AmbrosiaLuck","OneMind"],_u=["Quarks","Golden Quarks","Cubes from all type","Powder Conversion","Ascension Speed","Global Speed","Ascension Score","Ant Sacrifice rewards","Offering","Obtainium","Eight Dimensional Hypercubes","Blueberry Time Generation","Ambrosia Luck (Additive Mult)","One Mind Quark Bonus"],Ll=t=>{var n,s,a,l,c,d,g,m,h,b,y,v,w,k;let r=Df();if(r===null)return 0;switch(t){case 0:return(n=r.buffs.quark)!=null?n:0;case 1:return(s=r.buffs.goldenQuark)!=null?s:0;case 2:return(a=r.buffs.cubes)!=null?a:0;case 3:return(l=r.buffs.powderConversion)!=null?l:0;case 4:return(c=r.buffs.ascensionSpeed)!=null?c:0;case 5:return(d=r.buffs.globalSpeed)!=null?d:0;case 6:return(g=r.buffs.ascensionScore)!=null?g:0;case 7:return(m=r.buffs.antSacrifice)!=null?m:0;case 8:return(h=r.buffs.offering)!=null?h:0;case 9:return(b=r.buffs.obtainium)!=null?b:0;case 10:return(y=r.buffs.octeract)!=null?y:0;case 13:return e.singularityUpgrades.oneMind.level>0&&(v=r.buffs.oneMind)!=null?v:0;case 11:return(w=r.buffs.blueberryTime)!=null?w:0;case 12:return(k=r.buffs.ambrosiaLuck)!=null?k:0}},qu=()=>(o.eventClicked=!0,i("eventClicked").style.display="block",O(u.t("event.aprilFools.clicked"))),Gf=t=>en(ze({},t),{buffs:ze({},t.buffs)});var Hf=new Map([["kMisc","miscStats"],["kFreeAccel","acceleratorStats"],["kFreeMult","multiplierStats"],["kOfferingMult","offeringMultiplierStats"],["kGlobalCubeMult","globalCubeMultiplierStats"],["kQuarkMult","globalQuarkMultiplierStats"],["kGSpeedMult","globalSpeedMultiplierStats"],["kCubeMult","cubeMultiplierStats"],["kTessMult","tesseractMultiplierStats"],["kHypercubeMult","hypercubeMultiplierStats"],["kPlatMult","platonicMultiplierStats"],["kHeptMult","hepteractMultiplierStats"],["kOrbPowderMult","powderMultiplierStats"],["kOctMult","octeractMultiplierStats"],["kASCMult","ascensionSpeedMultiplierStats"],["kGQMult","goldenQuarkMultiplierStats"],["kAddStats","addCodeStats"],["kAmbrosiaLuck","ambrosiaLuckStats"],["kAmbrosiaGenMult","ambrosiaGenerationStats"]]),ju=t=>{for(let r of Array.from(t.parentElement.children)){let n=i(Hf.get(r.id));r.id!==t.id?(r.style.backgroundColor="",n.style.display="none",n.classList.remove("activeStats")):(r.style.backgroundColor="crimson",n.style.display="block",n.classList.add("activeStats"))}},Vu=()=>{let t=document.getElementsByClassName("activeStats");for(let r=0;r<t.length;r++)switch(t[r].id){case"miscStats":Ff();break;case"acceleratorStats":Qf();break;case"multiplierStats":_f();break;case"offeringMultiplierStats":Wf();break;case"globalQuarkMultiplierStats":qf();break;case"globalSpeedMultiplierStats":jf();break;case"powderMultiplierStats":Xf();break;case"ascensionSpeedMultiplierStats":Kf();break;case"goldenQuarkMultiplierStats":zf();break;case"addCodeStats":Yf();break;case"ambrosiaLuckStats":Zf();break;case"ambrosiaGenerationStats":Jf();break;default:Vf();break}},Ff=()=>{i("sMisc1").textContent=p(e.prestigeCount,0,!0),i("sMisc2").textContent=`${p(1e3*e.fastestprestige)}ms`,i("sMisc3").textContent=p(e.maxofferings),i("sMisc4").textContent=p(o.runeSum),i("sMisc5").textContent=p(e.transcendCount,0,!0),i("sMisc6").textContent=`${p(1e3*e.fastesttranscend)}ms`,i("sMisc7").textContent=p(e.reincarnationCount,0,!0),i("sMisc8").textContent=`${p(1e3*e.fastestreincarnate)}ms`,i("sMisc9").textContent=p(e.maxobtainium),i("sMisc10").textContent=p(e.maxobtainiumpersecond,2,!0),i("sMisc11").textContent=p(e.obtainiumpersecond,2,!0),i("sMisc12").textContent=p(e.ascensionCount,0,!0),i("sMisc13").textContent=p(e.quarksThisSingularity,0,!0),i("sMisc14").textContent=p(e.totalQuarksEver+e.quarksThisSingularity,0,!0),i("sMisc15").textContent=`${tr(e.quarkstimer)} / ${tr(9e4+18e3*e.researches[195])}`,i("sMisc16").textContent=Pl(0)},Qf=()=>{i("sA1").textContent=`+${p(o.freeUpgradeAccelerator,0,!1)}`,i("sA2").textContent=`+${p(o.totalAcceleratorBoost*(4+2*e.researches[18]+2*e.researches[19]+3*e.researches[20]+o.cubeBonusMultiplier[1]),0,!1)}`,i("sA3").textContent=`+${p(Math.floor(Math.pow(o.rune1level*o.effectiveLevelMult/10,1.1)),0,!0)}`,i("sA4").textContent=`x${p(1+o.rune1level*1/200*o.effectiveLevelMult,3,!0)}`,i("sA5").textContent=`x${p(Math.pow(1.01,e.upgrades[21]+e.upgrades[22]+e.upgrades[23]+e.upgrades[24]+e.upgrades[25]),3,!0)}`,i("sA6").textContent=`x${p(Math.pow(1.01,e.achievements[60]+e.achievements[61]+e.achievements[62]),3,!0)}`,i("sA7").textContent=`x${p(1+1/5*e.researches[1],3,!0)}`,i("sA8").textContent=`x${p(1+1/20*e.researches[6]+1/25*e.researches[7]+1/40*e.researches[8]+3/200*e.researches[9]+1/200*e.researches[10],3,!0)}`,i("sA9").textContent=`x${p(1+1/20*e.researches[86],3,!0)}`,i("sA10").textContent=`x${p((e.currentChallenge.transcension!==0||e.currentChallenge.reincarnation!==0)&&e.upgrades[50]>.5?1.25:1,3,!0)}`,i("sA11").textContent=`^${p(Math.min(1,(1+e.platonicUpgrades[6]/30)*o.viscosityPower[e.usedCorruptions[2]]),3,!0)}`,i("sA12").textContent=p(o.freeAccelerator,0,!0)},_f=()=>{i("sM1").textContent=`+${p(o.freeUpgradeMultiplier,0,!0)}`,i("sM2").textContent=`+${p(Math.floor(Math.floor(o.rune2level/10*o.effectiveLevelMult)*Math.floor(10+o.rune2level/10*o.effectiveLevelMult)/2)*100/100,0,!0)}`,i("sM3").textContent=`x${p(1+o.rune2level/200*o.effectiveLevelMult,3,!0)}`,i("sM4").textContent=`x${p(Math.pow(1.01,e.upgrades[21]+e.upgrades[22]+e.upgrades[23]+e.upgrades[24]+e.upgrades[25])*(1+e.upgrades[34]*3/100)*(1+e.upgrades[34]*(2/103)),3,!0)}`,i("sM5").textContent=`x${p(Math.pow(1.01,e.achievements[57]+e.achievements[58]+e.achievements[59]),3,!0)}`,i("sM6").textContent=`x${p(1+1/5*e.researches[2],3,!0)}`,i("sM7").textContent=`x${p(1+1/20*e.researches[11]+1/25*e.researches[12]+1/40*e.researches[13]+3/200*e.researches[14]+1/200*e.researches[15],3,!0)}`,i("sM8").textContent=`x${p(1+1/20*e.researches[87],3,!0)}`,i("sM9").textContent=`x${p(It(40,(e.antUpgrades[4]+o.bonusant5)/1e3*40/39),2,!0)}`,i("sM10").textContent=`x${p(o.cubeBonusMultiplier[2],3,!0)}`,i("sM11").textContent=`x${p((e.currentChallenge.transcension!==0||e.currentChallenge.reincarnation!==0)&&e.upgrades[50]>.5?1.25:1,3,!0)}`,i("sM12").textContent=`^${p(Math.min(1,(1+e.platonicUpgrades[6]/30)*o.viscosityPower[e.usedCorruptions[2]]),3,!0)}`,i("sM13").textContent=p(o.freeMultiplier,3,!0)},qf=()=>{i("sGQM1").textContent=`x${p(1,3,!0)}`,i("sGQM2").textContent=`+${p(e.achievementPoints/25e3,3,!0)}`,i("sGQM3").textContent=`+${p(e.achievements[250]>0?.1:0,3,!0)}`,i("sGQM4").textContent=`+${p(e.achievements[251]>0?.1:0,3,!0)}`,i("sGQM5").textContent=`+${p(e.platonicUpgrades[5]>0?.2:0,3,!0)}`,i("sGQM6").textContent=`+${p(e.platonicUpgrades[10]>0?.25:0,3,!0)}`,i("sGQM7").textContent=`+${p(e.platonicUpgrades[15]>0?.3:0,3,!0)}`,i("sGQM8").textContent=`+${p(o.challenge15Rewards.quarks-1,3,!0)}`,i("sGQM9").textContent=`x${p(e.worlds.applyBonus(1/Co()),3,!0)}`,i("sGQM10").textContent=`x${p(o.isEvent?1+ht(0)+ht(13):1,3,!0)}`,i("sGQM11").textContent=`x${p(1.1+.15/75*_n(),3,!0)}`,i("sGQM12").textContent=`x${p(e.challenge15Exponent>=1e15?1+5/1e4*je("quark"):1,3,!0)}`,i("sGQM13").textContent=`x${p(ya(),3,!0)}`,i("sGQM14").textContent=`x${p(1+e.achievements[266]*Math.min(.1,e.ascensionCount/1e16),3,!0)}`,i("sGQM15").textContent=`x${p(1+e.singularityCount/10,3,!0)}`,i("sGQM16").textContent=`x${p(Ul(),3,!0)}`,i("sGQM17").textContent=`x${p(1+.1*e.cubeUpgrades[53]/100,3,!0)}`,i("sGQM18").textContent=`x${p(1+1/1e4*e.cubeUpgrades[68]+.05*Math.floor(e.cubeUpgrades[68]/1e3),3,!0)}`,i("sGQM19").textContent=`x${p(1+.02*e.singularityUpgrades.intermediatePack.level+.04*e.singularityUpgrades.advancedPack.level+.06*e.singularityUpgrades.expertPack.level+.08*e.singularityUpgrades.masterPack.level+.1*e.singularityUpgrades.divinePack.level,3,!0)}`,i("sGQM20").textContent=`x${p(1+.25*+e.octeractUpgrades.octeractStarter.getEffect().bonus,3,!0)}`,i("sGQM21").textContent=`x${p(+e.octeractUpgrades.octeractQuarkGain.getEffect().bonus,3,!0)}`,i("sGQM22").textContent=`x${p(Xr(),3,!0)}`,i("sGQM23").textContent=`x${p(1+ +e.singularityUpgrades.singQuarkImprover1.getEffect().bonus,3,!0)}`,i("sGQM24").textContent=`x${p(1+1/1e4*Math.floor(e.octeractUpgrades.octeractQuarkGain.level/199)*e.octeractUpgrades.octeractQuarkGain2.level*Math.floor(1+Math.log10(Math.max(1,e.hepteractCrafts.quark.BAL))),3,!0)}`,i("sGQM25").textContent=`x${p(fs(),2,!0)}`,i("sGQM26").textContent=`x${p(+e.blueberryUpgrades.ambrosiaTutorial.bonus.quarks,2,!0)}`,i("sGQM27").textContent=`x${p(+e.blueberryUpgrades.ambrosiaQuarks1.bonus.quarks,2,!0)}`,i("sGQM28").textContent=`x${p(+e.blueberryUpgrades.ambrosiaCubeQuark1.bonus.quarks,2,!0)}`,i("sGQM29").textContent=`x${p(+e.blueberryUpgrades.ambrosiaLuckQuark1.bonus.quarks,2,!0)}`,i("sGQM30").textContent=`x${p(+e.blueberryUpgrades.ambrosiaQuarks2.bonus.quarks,2,!0)}`,i("sGQM31").textContent=`x${p(us(),3,!0)}`,i("sGQMT").textContent=`x${p(e.worlds.applyBonus(1),3,!0)}`},jf=()=>{let t=Qe(),r=t.preList;for(let a=0;a<r.length;a++)i(`sGSMa${a+1}`).textContent=`x${p(r[a],3,!0)}`;let n=t.drList;for(let a=0;a<n.length;a++)i(`sGSMb${a+1}`).textContent=`x${p(n[a],3,!0)}`;let s=t.postList;for(let a=0;a<s.length;a++)i(`sGSMc${a+1}`).textContent=`x${p(s[a],3,!0)}`;i("sGSMT").textContent=p(t.mult,3)},Vf=()=>{let t=gn().list,r={1:{acc:2,desc:"Ascension Time Multiplier:"},2:{acc:2,desc:"Sun and Moon Achievements:"},3:{acc:2,desc:"Speed Achievement:"},4:{acc:2,desc:"Challenge 15 All Cube Bonus:"},5:{acc:2,desc:"Rune 6 - Infinite Ascent:"},6:{acc:2,desc:"Platonic Beta:"},7:{acc:2,desc:"Platonic Omega:"},8:{acc:2,desc:"Overflux Powder:"},9:{acc:2,desc:"Event:"},10:{acc:2,desc:"Singularity Factor:"},11:{acc:2,desc:"Wow Pass Y"},12:{acc:2,desc:"Starter Pack:"},13:{acc:2,desc:"Cube Flame [GQ]:"},14:{acc:2,desc:"Cube Blaze [GQ]:"},15:{acc:2,desc:"Cube Inferno [GQ]:"},16:{acc:2,desc:"Wow Pass Z:"},17:{acc:2,desc:"Cookie Upgrade 16:"},18:{acc:2,desc:"Cookie Upgrade 8:"},19:{acc:2,desc:"Total Octeract Bonus:"},20:{acc:2,desc:"No Singularity Upgrades Challenge:"},21:{acc:2,desc:"Citadel [GQ]"},22:{acc:2,desc:"Citadel 2 [GQ]"},23:{acc:4,desc:"Platonic DELTA"},24:{acc:2,desc:"Wow Pass \u221E"},25:{acc:2,desc:"Unspent Ambrosia Bonus"},26:{acc:2,desc:"Module- Tutorial"},27:{acc:2,desc:"Module- Cubes 1"},28:{acc:2,desc:"Module- Luck-Cube 1"},29:{acc:2,desc:"Module- Quark-Cube 1"},30:{acc:2,desc:"Module- Cubes 2"},31:{acc:2,desc:"Module- Hyperflux"},32:{acc:2,desc:"20 Ascensions X20 Bonus [EXALT ONLY]"},33:{acc:2,desc:"Cash Grab ULTIMATE"},34:{acc:2,desc:"Shop EX ULTIMATE"}};for(let k=0;k<t.length;k++){let P=i(`statGCM${k+1}`);P.childNodes[0].textContent=r[k+1].desc,i(`sGCM${k+1}`).textContent=`x${p(t[k],r[k+1].acc,!0)}`}i("sGCMT").textContent=`x${p(gn().mult,3)}`;let n=Vo().list,s={1:{acc:2,desc:"Ascension Score Multiplier:"},2:{acc:2,desc:"Global Cube Multiplier:"},3:{acc:2,desc:"Season Pass 1:"},4:{acc:2,desc:"Researches (Except 8x25):"},5:{acc:2,desc:"Research 8x25:"},6:{acc:2,desc:"Cube Upgrades:"},7:{acc:2,desc:"Constant Upgrade 10:"},8:{acc:2,desc:"Achievement 189 Bonus:"},9:{acc:2,desc:"Achievement 193 Bonus:"},10:{acc:2,desc:"Achievement 195 Bonus:"},11:{acc:2,desc:"Achievement 198-201 Bonus:"},12:{acc:2,desc:"Achievement 254 Bonus:"},13:{acc:2,desc:"Spirit Power:"},14:{acc:2,desc:"Platonic Cubes:"},15:{acc:2,desc:"Platonic 1x1:"},16:{acc:2,desc:"Cookie Upgrade 13:"}};for(let k=0;k<n.length;k++){let P=i(`statCM${k+1}`);P.childNodes[0].textContent=s[k+1].desc,i(`sCM${k+1}`).textContent=`x${p(n[k],s[k+1].acc,!0)}`}i("sCMT").textContent=`x${p(Vo().mult,3)}`;let a=Wo().list,l={1:{acc:2,desc:"Ascension Score Multiplier:"},2:{acc:2,desc:"Global Cube Multiplier:"},3:{acc:2,desc:"Season Pass 1:"},4:{acc:2,desc:"Constant Upgrade 10:"},5:{acc:2,desc:"Cube Upgrade 3x10:"},6:{acc:2,desc:"Cube Upgrade 4x8:"},7:{acc:2,desc:"Achievement 195 Bonus:"},8:{acc:2,desc:"Achievement 202 Bonus:"},9:{acc:2,desc:"Achievement 205-208 Bonus:"},10:{acc:2,desc:"Achievement 255 Bonus:"},11:{acc:2,desc:"Platonic Cubes:"},12:{acc:2,desc:"Platonic 1x2:"}};for(let k=0;k<a.length;k++){let P=i(`statTeM${k+1}`);P.childNodes[0].textContent=l[k+1].desc,i(`sTeM${k+1}`).textContent=`x${p(a[k],l[k+1].acc,!0)}`}i("sTeMT").textContent=`x${p(Wo().mult,3)}`;let c=Xo().list,d={1:{acc:2,desc:"Ascension Score Multiplier:"},2:{acc:2,desc:"Global Cube Multiplier:"},3:{acc:2,desc:"Season Pass 2:"},4:{acc:2,desc:"Achievement 212-215 Bonus:"},5:{acc:2,desc:"Achievement 216 Bonus:"},6:{acc:2,desc:"Achievement 253 Bonus:"},7:{acc:2,desc:"Achievement 256 Bonus:"},8:{acc:2,desc:"Achievement 265 Bonus:"},9:{acc:2,desc:"Platonic Cubes:"},10:{acc:2,desc:"Platonic 1x3:"},11:{acc:2,desc:"Hyperreal Hepteract Bonus:"}};for(let k=0;k<c.length;k++){let P=i(`statHyM${k+1}`);P.childNodes[0].textContent=d[k+1].desc,i(`sHyM${k+1}`).textContent=`x${p(c[k],d[k+1].acc,!0)}`}i("sHyMT").textContent=`x${p(Xo().mult,3)}`;let g=Ko().list,m={1:{acc:2,desc:"Ascension Score Multiplier:"},2:{acc:2,desc:"Global Cube Multiplier:"},3:{acc:2,desc:"Season Pass 2:"},4:{acc:2,desc:"Achievement 196 Bonus:"},5:{acc:2,desc:"Achievement 219-222 Bonus:"},6:{acc:2,desc:"Achievement 223 Bonus:"},7:{acc:2,desc:"Achievement 257 Bonus:"},8:{acc:2,desc:"Platonic Cubes:"},9:{acc:2,desc:"Platonic 1x4:"}};for(let k=0;k<g.length;k++){let P=i(`statPlM${k+1}`);P.childNodes[0].textContent=m[k+1].desc,i(`sPlM${k+1}`).textContent=`x${p(g[k],m[k+1].acc,!0)}`}i("sPlMT").textContent=`x${p(Ko().mult,3)}`;let h=zo().list,b={1:{acc:2,desc:"Ascension Score Multiplier:"},2:{acc:2,desc:"Global Cube Multiplier:"},3:{acc:2,desc:"Season Pass 3:"},4:{acc:2,desc:"Achievement 258 Bonus:"},5:{acc:2,desc:"Achievement 264 Bonus:"},6:{acc:2,desc:"Achievement 265 Bonus:"},7:{acc:2,desc:"Achievement 270 Bonus:"}};for(let k=0;k<h.length;k++){let P=i(`statHeM${k+1}`);P.childNodes[0].textContent=b[k+1].desc,i(`sHeM${k+1}`).textContent=`x${p(h[k],b[k+1].acc,!0)}`}i("sHeMT").textContent=`x${p(zo().mult,3)}`;let y=Wu(),v=e.singularityUpgrades.oneMind.getEffect().bonus?"One Mind Multiplier":"Ascension Speed Multiplier",w={1:{acc:2,desc:"Ascension Score Multiplier:"},2:{acc:2,desc:"Season Pass 3:"},3:{acc:2,desc:"Season Pass Y:"},4:{acc:2,desc:"Season Pass Z:"},5:{acc:2,desc:"Season Pass Lost:"},6:{acc:2,desc:"Cookie Upgrade 20:"},7:{acc:2,desc:"Divine Pack:"},8:{acc:2,desc:"Cube Flame:"},9:{acc:2,desc:"Cube Blaze:"},10:{acc:2,desc:"Cube Inferno:"},11:{acc:2,desc:"Octeract Absinthe"},12:{acc:2,desc:"Pieces of Eight"},13:{acc:2,desc:"Obelisk Shaped Like an Octagon"},14:{acc:2,desc:"Octahedral Synthesis"},15:{acc:2,desc:"Eighth Wonder of the World"},16:{acc:2,desc:"Platonic is a fat sellout"},17:{acc:2,desc:"Octeracts for Dummies"},18:{acc:2,desc:"Octeract Cogenesis"},19:{acc:2,desc:"Octeract Trigenesis"},20:{acc:2,desc:"Singularity Factor"},21:{acc:2,desc:"Digital Octeract Accumulator"},22:{acc:2,desc:"Event Buff"},23:{acc:2,desc:"Platonic DELTA"},24:{acc:2,desc:"No Singularity Upgrades Challenge"},25:{acc:2,desc:"Wow Pass \u221E"},26:{acc:2,desc:"Unspent Ambrosia Bonus"},27:{acc:2,desc:"Module- Tutorial"},28:{acc:2,desc:"Module- Cubes 1"},29:{acc:2,desc:"Module- Luck-Cube 1"},30:{acc:2,desc:"Module- Quark-Cube 1"},31:{acc:2,desc:"Module- Cubes 2"},32:{acc:2,desc:"Cash Grab ULTIMATE"},33:{acc:2,desc:"Shop EX ULTIMATE"},34:{acc:2,desc:v}};for(let k=0;k<y.list.length;k++){let P=i(`statOcM${k+1}`);P.childNodes[0].textContent=w[k+1].desc,i(`sOcM${k+1}`).textContent=`x${p(y.list[k],w[k+1].acc,!0)}`}i("sOcMT").textContent=`x${p(y.mult,3)}`},Wf=()=>{let t=Ar("prestige",!1),r={1:{acc:3,desc:"Alchemy Achievement 5:"},2:{acc:3,desc:"Alchemy Achievement 6:"},3:{acc:3,desc:"Alchemy Achievement 7:"},4:{acc:3,desc:"Diamond Upgrade 4x3:"},5:{acc:3,desc:"Particle Upgrade 3x5:"},6:{acc:3,desc:"Auto Offering Shop Upgrade:"},7:{acc:3,desc:"Offering EX Shop Upgrade:"},8:{acc:3,desc:"Cash Grab Shop Upgrade:"},9:{acc:3,desc:"Research 4x10:"},10:{acc:3,desc:"Sacrificium Formicidae:"},11:{acc:3,desc:"Plutus Cube Tribute:"},12:{acc:3,desc:"Constant Upgrade 3:"},13:{acc:3,desc:"Research 6x24,8x4:"},14:{acc:3,desc:"Challenge 12:"},15:{acc:3,desc:"Research 8x25:"},16:{acc:3,desc:"Ascension Count Achievement:"},17:{acc:3,desc:"Sun and Moon Achievements:"},18:{acc:3,desc:"Cube Upgrade 5x6:"},19:{acc:3,desc:"Cube Upgrade 5x10:"},20:{acc:3,desc:"Platonic ALPHA:"},21:{acc:3,desc:"Platonic BETA:"},22:{acc:3,desc:"Platonic OMEGA:"},23:{acc:3,desc:"Challenge 15:"},24:{acc:3,desc:"Starter Pack:"},25:{acc:3,desc:"Offering Charge [GQ]:"},26:{acc:3,desc:"Offering Storm [GQ]:"},27:{acc:3,desc:"Offering Tempest [GQ]:"},28:{acc:3,desc:"Citadel [GQ]"},29:{acc:3,desc:"Citadel 2 [GQ]"},30:{acc:3,desc:"Cube Upgrade Cx4:"},31:{acc:3,desc:"Offering Electrolosis [OC]:"},32:{acc:3,desc:"RNG-based Offering Booster:"},33:{acc:3,desc:"20 Ascensions X20 [EXALT ONLY]"},34:{acc:3,desc:"Shop EX ULTIMATE"},35:{acc:3,desc:"Event:"}};for(let n=0;n<t.length;n++){let s=i(`statOff${n+1}`);s.childNodes[0].textContent=r[n+1].desc,i(`sOff${n+1}`).textContent=`x${p(t[n],r[n+1].acc,!0)}`}i("sOffT").textContent=`x${p(Ar("prestige",!0,!0),3)}`},Xf=()=>{let t=hr().list,r={1:{acc:2,desc:"Base:"},2:{acc:2,desc:"Challenge 15 Bonus:"},3:{acc:2,desc:"Powder EX:"},4:{acc:2,desc:"Achievement 256:"},5:{acc:2,desc:"Achievement 257:"},6:{acc:2,desc:"Platonic Upgrade 16 [4x1]:"},7:{acc:2,desc:"Event:"}};for(let n=0;n<t.length;n++){let s=i(`statPoM${n+1}`);s.childNodes[0].textContent=r[n+1].desc,i(`sPoM${n+1}`).textContent=`x${p(t[n],r[n+1].acc,!0)}`}i("sPoMT").textContent=`x${p(hr().mult,3)}`},Kf=()=>{let t=El(),r={1:{acc:2,desc:"Chronometer:"},2:{acc:2,desc:"Chronometer 2:"},3:{acc:2,desc:"Chronometer 3:"},4:{acc:2,desc:"Chronos Hepteract:"},5:{acc:2,desc:"Achievement 262 Bonus:"},6:{acc:2,desc:"Achievement 263 Bonus:"},7:{acc:2,desc:"Platonic Omega:"},8:{acc:2,desc:"Challenge 15 Reward:"},9:{acc:2,desc:"Cookie Upgrade 9:"},10:{acc:2,desc:"Intermediate Pack:"},11:{acc:2,desc:"Chronometer Z:"},12:{acc:2,desc:"Abstract Photokinetics:"},13:{acc:2,desc:"Abstract Exokinetics:"},14:{acc:2,desc:"Event:"},15:{acc:2,desc:"Ascension Speedup 2 [GQ]:"},16:{acc:2,desc:"Chronometer INF:"},17:{acc:2,desc:"Limited Ascensions Penalty:"},18:{acc:2,desc:"Limited Ascensions Reward:"},19:{acc:2,desc:"Ascension Speedup [GQ]:"},20:{acc:2,desc:"Singularity Penalty:"}};for(let n=0;n<t.list.length;n++){let s=i(`statASM${n+1}`);s.childNodes[0].textContent=r[n+1].desc,i(`sASM${n+1}`).textContent=`x${p(t.list[n],r[n+1].acc,!0)}`}i("sASMT").textContent=`x${p(t.mult,3)}`},zf=()=>{let t=Ol(),r={1:{acc:2,desc:"Challenge 15 Exponent:"},2:{acc:2,desc:"Patreon Bonus:"},3:{acc:2,desc:"Golden Quarks I:"},4:{acc:2,desc:"Cookie Upgrade 19:"},5:{acc:2,desc:"No Singularity Upgrades:"},6:{acc:2,desc:"Event:"},7:{acc:2,desc:"Singularity Fast Forwards:"},8:{acc:2,desc:"Golden Revolution II:"},9:{acc:2,desc:"Immaculate Alchemy:"},10:{acc:2,desc:"Total Quarks Coefficient:"}};for(let n=0;n<t.list.length;n++){let s=i(`statGQMS${n+1}`);s.childNodes[0].textContent=r[n+1].desc,i(`sGQMS${n+1}`).textContent=`x${p(t.list[n],r[n+1].acc,!0)}`}i("sGQMST").textContent=`x${p(t.mult,3)}`},Yf=()=>{let t=Wn(),r=gs(),n=mn(),s=Yo(),a={1:{acc:0,desc:"Base:"},2:{acc:2,desc:"PL-AT \u03B4 calculator:"},3:{acc:2,desc:"PL-AT \u03A3 sing perk:"},4:{acc:2,desc:"Ascension of Ant God:"},5:{acc:2,desc:"Singularity factor:"}};t.list[0]/=1e3;for(let g=0;g<t.list.length;g++){let m=i(`stat+time${g+1}`);m.childNodes[0].textContent=a[g+1].desc,g===0?i(`s+time${g+1}`).textContent=`${p(t.list[g],a[g+1].acc,!0)} sec`:i(`s+time${g+1}`).textContent=`x${p(t.list[g],a[g+1].acc,!0)}`}i("s+timeT").textContent=`${p(t.time/1e3,1)} sec`,n!==r.total?i("s+next").textContent=`+1 in ${p(s,1)} sec`:i("s+next").textContent="";let l={1:{acc:0,desc:"Base:"},2:{acc:0,desc:"PL-AT X:"},3:{acc:0,desc:"PL-AT \u03B4:"},4:{acc:0,desc:"PL-AT \u0393:"},5:{acc:0,desc:"PL-AT _:"},6:{acc:0,desc:"PL-AT \u03A9\u03A9"},7:{acc:3,desc:"Singularity factor:"}};for(let g=0;g<r.list.length;g++){let m=i(`stat+cap${g+1}`);m.childNodes[0].textContent=l[g+1].desc;let h=g===0?"":g===5?"x":"+";i(`s+cap${g+1}`).textContent=`${h}${p(r.list[g],l[g+1].acc,!0)}`}i("s+capT").textContent=`${p(n,0)} / ${p(r.total,0)}`;let c=Al(),d=e.worlds.applyBonus(1);i("stat+eff1").childNodes[0].textContent="Quarks: ",Math.abs(c.maxQuarks-c.minQuarks)>=.5?i("s+eff1").textContent=`+${p(d*c.minQuarks,3)} ~ ${p(d*c.maxQuarks,3)}`:i("s+eff1").textContent=`+${p(d*c.quarks,3)}`,i("stat+eff2").childNodes[0].textContent="PL-AT X - bonus ascension time: ",i("s+eff2").textContent=`+${p(c.ascensionTimer,2)} sec`,i("stat+eff3").childNodes[0].textContent="PL-AT \u0393 - bonus GQ export time: ",i("s+eff3").textContent=`+${p(c.gqTimer,2)} sec`,i("stat+eff4").childNodes[0].textContent="PL-AT _ - bonus octeract time: ",i("s+eff4").textContent=`+${p(c.octeractTime,2)} sec`},Zf=()=>{let t=e.caches.ambrosiaLuck.flatten(),r={1:{acc:0,desc:"Base Value"},2:{acc:0,desc:"Irish Ants Singularity Perk"},3:{acc:1,desc:"Shop Upgrade Bonus"},4:{acc:0,desc:"Singularity Ambrosia Luck Upgrades"},5:{acc:0,desc:"Octeract Ambrosia Luck Upgrades"},6:{acc:0,desc:"Ambrosia Luck Module I"},7:{acc:1,desc:"Ambrosia Luck Module II"},8:{acc:2,desc:"Ambrosia Cube-Luck Hybrid Module I"},9:{acc:2,desc:"Ambrosia Quark-Luck Hybrid Module I"},10:{acc:0,desc:"Perk: One Hundred Thirty One!"},11:{acc:0,desc:"Perk: Two Hundred Sixty Nine!"},12:{acc:0,desc:"Shop: Octeract-Based Ambrosia Luck"},13:{acc:0,desc:"No Ambrosia Upgrades EXALT"}};for(let s=0;s<t.length-1;s++){let a=i(`statALuckM${s+1}`);a.childNodes[0].textContent=r[s+1].desc,i(`sALuckM${s+1}`).textContent=`+${p(t[s],r[s+1].acc,!0)}`}i("sALuckMult").textContent=`x${p(e.caches.ambrosiaLuckAdditiveMult.totalVal,3,!0)}`;let n=Math.floor(t[t.length-1]*e.caches.ambrosiaLuckAdditiveMult.totalVal);i("sALuckMT").innerHTML=`&#9752 ${p(n,0)}`},Jf=()=>{let t=e.caches.ambrosiaGeneration.flatten(),r={1:{acc:4,desc:"Visited Ambrosia Subtab"},2:{acc:4,desc:"Number of Blueberries"},3:{acc:4,desc:"Shop Upgrade Bonus"},4:{acc:4,desc:"Singularity Ambrosia Generation Upgrades"},5:{acc:4,desc:"Octeract Ambrosia Generation Upgrades"},6:{acc:4,desc:"Patreon Bonus"},7:{acc:4,desc:"One Ascension Challenge EXALT"},8:{acc:4,desc:"No Ambrosia Upgrades EXALT"},9:{acc:4,desc:"Cash-Grab ULTIMATE"},10:{acc:4,desc:"Event Bonus"}};for(let s=0;s<t.length-1;s++){let a=i(`statAGenM${s+1}`);a.childNodes[0].textContent=r[s+1].desc,i(`sAGenM${s+1}`).textContent=`x${p(t[s],r[s+1].acc,!0)}`}let n=t[t.length-1];i("sAGenMT").textContent=`${p(n,3,!0)}`},fn=()=>{let t=[750,1500,3e3,5e3,7500,7500,1e4,1e4,2e4,4e4,6e4,1e5,1e5,2e5,5e5,1e6,3e6,1e7,3e7,1e8,5e8,2e9,1e10,1e11,1e15,2e15,4e15,7e15,1e16,2e16,333e14,333e14,333e14,2e17,15e17],r=Object.keys(o.challenge15Rewards),n=e.challenge15Exponent;for(let s in o.challenge15Rewards)o.challenge15Rewards[s]=1;o.challenge15Rewards.freeOrbs=0,n>=t[0]&&(o.challenge15Rewards[r[0]]=1+1/50*Math.log(n/175)/Math.log(2)),n>=t[1]&&(o.challenge15Rewards[r[1]]=1+1/20*Math.log(n/375)/Math.log(2)),n>=t[2]&&(o.challenge15Rewards[r[2]]=1+1/150*Math.log(n/750)/Math.log(2)),n>=t[3]&&(o.challenge15Rewards[r[3]]=Math.pow(.98,Math.log(n/1250)/Math.log(2))),n>=t[4]&&(o.challenge15Rewards[r[4]]=1+1/5*Math.pow(n/7500,.75)),n>=t[5]&&(o.challenge15Rewards[r[5]]=1+1/5*Math.pow(n/7500,.75)),n>=t[6]&&(o.challenge15Rewards[r[6]]=1+1/20*Math.log(n/2500)/Math.log(2)),n>=t[7]&&(o.challenge15Rewards[r[7]]=1+1/20*Math.log(n/2500)/Math.log(2)),n>=t[8]&&(o.challenge15Rewards[r[8]]=1+Math.pow(n/2e4,1.5)),n>=t[9]&&(o.challenge15Rewards[r[9]]=1+1/33*Math.log(n/1e4)/Math.log(2)),n>=t[10]&&(o.challenge15Rewards[r[10]]=1+1/100*Math.log(n/15e3)/Math.log(2)),n>=t[11]&&(o.challenge15Rewards[r[11]]=Math.pow(.98,Math.log(n/25e3)/Math.log(2))),n>=t[12]&&(o.challenge15Rewards[r[12]]=Math.pow(.98,Math.log(n/25e3)/Math.log(2))),n>=t[13]&&(o.challenge15Rewards[r[13]]=Math.pow(1+Math.log(n/2e5)/Math.log(2),4)),n>=t[14]&&(o.challenge15Rewards[r[14]]=1+1/20*Math.log(n/15e4)/Math.log(2)),n>=t[15]&&(o.challenge15Rewards[r[15]]=1+1/150*Math.log(n/25e4)/Math.log(2)),n>=t[16]&&(o.challenge15Rewards[r[16]]=1+1/20*Math.log(n/75e4)/Math.log(2)),n>=t[17]&&(o.challenge15Rewards[r[17]]=1+1/20*Math.log(n/25e5)/Math.log(2)),n>=t[18]&&(o.challenge15Rewards[r[18]]=1+1/5*Math.pow(n/3e7,1/4)),n>=t[19]&&(o.challenge15Rewards[r[19]]=1+1/5*Math.pow(n/1e8,2/3)),n>=t[20]&&(o.challenge15Rewards[r[20]]=1+1/200*Math.log(n/125e6)/Math.log(2)),n>=t[21]&&(o.challenge15Rewards[r[21]]=1+1/5*Math.pow(n/2e9,1/4)),n>=t[22]&&(o.challenge15Rewards[r[22]]=1+1/4*Math.pow(n/1e10,1/4),n>=1e20&&(o.challenge15Rewards[r[22]]=1+1/4*Math.pow(n/1e10,1/8)*Math.pow(1e10,1/8))),n>=t[23]&&(o.challenge15Rewards[r[23]]=1+1/100*Math.log(n*32/1e11)/Math.log(2)),n>=t[24]&&(o.challenge15Rewards[r[24]]=2),n>=t[25]&&e.hepteractCrafts.challenge.unlock("the Hepteract of Challenge"),n>=t[26]&&(o.challenge15Rewards[r[25]]=1+1/300*Math.log2(n/(4e15/1024))),n>=t[27]&&(o.challenge15Rewards[r[26]]=1+1/50*Math.log2(n/(7e15/32))),n>=t[28]&&e.hepteractCrafts.abyss.unlock("the Hepteract of the Abyss"),n>=t[29]&&(o.challenge15Rewards[r[27]]=bt(1.05,n,1e18)),n>=t[30]&&e.hepteractCrafts.accelerator.unlock("the Hepteract of Way Too Many Accelerators"),n>=t[31]&&e.hepteractCrafts.acceleratorBoost.unlock("the Hepteract of Way Too Many Accelerator Boosts"),n>=t[32]&&e.hepteractCrafts.multiplier.unlock("the Hepteract of Way Too Many Multipliers"),n>=t[33]&&(o.challenge15Rewards.freeOrbs=Math.floor(200*Math.pow(n/2e17,.5))),n>=t[34]&&(o.challenge15Rewards.ascensionSpeed=1+5/100+2*Math.log2(n/15e17)/100),em()},em=()=>{i("c15Reward0Num").textContent=p(e.challenge15Exponent,3,!0),i("c15RequiredExponentNum").textContent=p(f.pow(10,e.challenge15Exponent/ms()),0,!0);let t=[750,1500,3e3,5e3,7500,7500,1e4,1e4,2e4,4e4,6e4,1e5,1e5,2e5,5e5,1e6,3e6,1e7,3e7,1e8,5e8,2e9,1e10,1e11,1e15,2e15,4e15,7e15,1e16,2e16,333e14,333e14,333e14,2e17,15e17],r={0:!0,1:!0,2:!0,3:!0,4:!0,5:!0,6:!0,7:!0,8:!0,9:!0,10:!0,11:!0,12:!0,13:!0,14:!0,15:!0,16:!0,17:!0,18:!0,19:!0,20:!0,21:!0,22:!0,23:!0,24:!1,25:!1,26:!0,27:!0,28:!1,29:!0,30:!1,31:!1,32:!1,33:!0,34:!0},n=Object.values(o.challenge15Rewards),s="None",a=0;for(let l=0;l<t.length;l++)s==="None"&&e.challenge15Exponent<t[l]&&(s=t[l]),e.challenge15Exponent>=t[l]&&(i(`c15Reward${l+1}Num`).textContent=r[l]?p(100*n[l-a]-100,2,!0):"Unlocked!",!r[l]&&l!==24&&(a+=1),l===33&&(i("c15Reward34Num").textContent=p(n[l-a],0,!0))),i(`c15Reward${l+1}`).style.display=e.challenge15Exponent>=t[l]?"block":"none",i("c15RewardList").textContent=typeof s=="string"?"You have unlocked all reward types from Challenge 15!":`Next reward type requires ${p(s,0,!0)} exponent.`},tm=()=>[{stage:0,tier:1,name:"start",unlocked:!0,reset:!0},{stage:1,tier:1,name:"start-prestige",unlocked:e.unlocks.prestige,reset:e.unlocks.prestige},{stage:2,tier:2,name:"prestige-transcend",unlocked:e.unlocks.transcend,reset:e.unlocks.transcend},{stage:3,tier:3,name:"transcend-reincarnate",unlocked:e.unlocks.reincarnate,reset:e.unlocks.reincarnate},{stage:4,tier:4,name:"reincarnate-ant",unlocked:e.firstOwnedAnts!==0,reset:e.unlocks.reincarnate},{stage:5,tier:4,name:"ant-sacrifice",unlocked:e.achievements[173]===1,reset:e.unlocks.reincarnate},{stage:6,tier:4,name:"sacrifice-ascension",unlocked:e.achievements[183]===1,reset:e.unlocks.reincarnate},{stage:7,tier:5,name:"ascension-challenge10",unlocked:e.ascensionCount>1,reset:e.achievements[183]===1},{stage:8,tier:5,name:"challenge10-challenge11",unlocked:e.achievements[197]===1,reset:e.achievements[183]===1},{stage:9,tier:5,name:"challenge11-challenge12",unlocked:e.achievements[204]===1,reset:e.achievements[183]===1},{stage:10,tier:5,name:"challenge12-challenge13",unlocked:e.achievements[211]===1,reset:e.achievements[183]===1},{stage:11,tier:5,name:"challenge13-challenge14",unlocked:e.achievements[218]===1,reset:e.achievements[183]===1},{stage:12,tier:5,name:"challenge14-w5x10max",unlocked:e.cubeUpgrades[50]>=1e5,reset:e.achievements[183]===1},{stage:13,tier:5,name:"w5x10max-alpha",unlocked:e.platonicUpgrades[5]>0,reset:e.achievements[183]===1},{stage:14,tier:5,name:"alpha-p2x1x10",unlocked:e.platonicUpgrades[6]>=10,reset:e.achievements[183]===1},{stage:15,tier:5,name:"p2x1x10-p3x1",unlocked:e.platonicUpgrades[11]>0,reset:e.achievements[183]===1},{stage:16,tier:5,name:"p3x1-beta",unlocked:e.platonicUpgrades[10]>0,reset:e.achievements[183]===1},{stage:17,tier:5,name:"beta-1e15-expo",unlocked:e.challenge15Exponent>=1e15,reset:e.achievements[183]===1},{stage:18,tier:5,name:"1e15-expo-omega",unlocked:e.platonicUpgrades[15]>0,reset:e.achievements[183]===1},{stage:19,tier:5,name:"omega-singularity",unlocked:e.singularityCount>0&&e.runelevels[6]>0,reset:e.achievements[183]===1},{stage:20,tier:6,name:"singularity-exalt1x1",unlocked:e.singularityChallenges.noSingularityUpgrades.completions>0,reset:e.highestSingularityCount>0},{stage:21,tier:6,name:"exalt1x1-onemind",unlocked:e.singularityUpgrades.oneMind.level>0,reset:e.highestSingularityCount>0},{stage:22,tier:6,name:"onemind-end",unlocked:e.singularityUpgrades.offeringAutomatic.level>0,reset:e.highestSingularityCount>0},{stage:23,tier:6,name:"end-pen",unlocked:e.singularityUpgrades.ultimatePen.level>0,reset:e.highestSingularityCount>0},{stage:24,tier:6,name:"pen",unlocked:!1,reset:e.highestSingularityCount>0}],Pl=(t=e.singularityCount>0?5:0)=>{let r=tm();for(let s=0;s<r.length;s++){let a=r[s];if(t<a.tier&&(!a.reset||!a.unlocked))return a.name}return r[0].name};var Ku=()=>{if(o.currentTab===0){if(o.buildingSubTab==="coin"){let t=["produceFirst","produceSecond","produceThird","produceFourth","produceFifth"],r=[null,"workers","investments","printers","coinMints","alchemies"],n=new f(o.produceTotal);n.equals(0)&&(n=new f(1));for(let a=1;a<=5;a++){let l=o[t[a-1]],c=o.ordinals[a-1];i(`buildtext${2*a-1}`).textContent=u.t(`buildings.names.${r[a]}`,{amount:p(e[`${c}OwnedCoin`],0,!0),gain:p(e[`${c}GeneratedCoin`])}),i(`buycoin${a}`).textContent=u.t("buildings.costCoins",{coins:p(e[`${c}CostCoin`])});let d=f.fromMantissaExponent(l.mantissa/n.mantissa,l.exponent-n.exponent).times(100);i(`buildtext${2*a}`).textContent=u.t("buildings.coinsPerSecond",{coins:p(l.dividedBy(o.taxdivisor).times(40),2),percent:p(d,3)})}i("buildtext11").textContent=u.t("buildings.names.accelerators",{amount:p(e.acceleratorBought,0,!0),gain:p(o.freeAccelerator,0,!0)}),i("buildtext12").textContent=u.t("buildings.acceleratorPower",{power:p((o.acceleratorPower-1)*100,2),mult:p(o.acceleratorEffect,2)}),i("buildtext13").textContent=u.t("buildings.names.multipliers",{amount:p(e.multiplierBought,0,!0),gain:p(o.freeMultiplier,0,!0)}),i("buildtext14").textContent=u.t("buildings.multiplierPower",{power:p(o.multiplierPower,2),mult:p(o.multiplierEffect,2)}),i("buildtext15").textContent=u.t("buildings.names.acceleratorBoost",{amount:p(e.acceleratorBoostBought,0,!0),gain:p(o.freeAcceleratorBoost,0,!1)}),i("buildtext16").textContent=u.t("buildings.acceleratorBoost",{amount:p(o.tuSevenMulti*(1+e.researches[16]/50)*(1+K("transcend",e.challengecompletions[2])/100),2)}),i("buyaccelerator").textContent=u.t("buildings.costCoins",{coins:p(e.acceleratorCost)}),i("buymultiplier").textContent=u.t("buildings.costCoins",{coins:p(e.multiplierCost)}),i("buyacceleratorboost").textContent=u.t("buildings.costDiamonds",{diamonds:p(e.acceleratorBoostCost)});let s="";e.reincarnationCount>.5&&(s=u.t("buildings.taxWarning",{gain:p(f.pow(10,o.maxexponent-f.log(o.taxdivisorcheck,10)))})),i("taxinfo").textContent=u.t("buildings.excessiveWealth",{div:p(o.taxdivisor,2),warning:s})}else if(o.buildingSubTab==="diamond"){let t=["produceFirstDiamonds","produceSecondDiamonds","produceThirdDiamonds","produceFourthDiamonds","produceFifthDiamonds"],r=["refineries","coalPlants","coalRigs","pickaxes","pandorasBoxes"],n=["crystal","ref","plants","rigs","pickaxes"];i("prestigeshardinfo").textContent=u.t("buildings.crystalMult",{crystals:p(e.prestigeShards,2),gain:p(o.prestigeMultiplier,2)});for(let s=1;s<=5;s++){let a=o[t[s-1]],l=o.ordinals[s-1];i(`prestigetext${2*s-1}`).textContent=u.t(`buildings.names.${r[s-1]}`,{amount:p(e[`${l}OwnedDiamonds`],0,!0),gain:p(e[`${l}GeneratedDiamonds`],2)}),i(`prestigetext${2*s}`).textContent=u.t(`buildings.per.${n[s-1]}`,{amount:p(a.times(40),2)}),i(`buydiamond${s}`).textContent=u.t("buildings.costDiamonds",{diamonds:p(e[`${l}CostDiamonds`],2)})}if(e.resettoggle1===1||e.resettoggle1===0){let s=f.pow(10,f.log(o.prestigePointGain.add(1),10)-f.log(e.prestigePoints.sub(1),10));i("autoprestige").textContent=u.t("buildings.autoPrestige",{name:"Diamonds",action:"Prestige",factor:p(f.pow(10,e.prestigeamount)),mult:p(s)})}else e.resettoggle1===2&&(i("autoprestige").textContent=u.t("buildings.autoReincarnate",{name:"Prestige",amount:e.prestigeamount,timer:p(o.autoResetTimers.prestige,1)}))}else if(o.buildingSubTab==="mythos"){let t=["produceFirstMythos","produceSecondMythos","produceThirdMythos","produceFourthMythos","produceFifthMythos"],r=["augments","enchantments","wizards","oracles","grandmasters"],n=["shards","augments","enchantments","wizards","oracles"];i("transcendshardinfo").textContent=u.t("buildings.mythosYouHave",{shards:p(e.transcendShards,2),mult:p(o.totalMultiplierBoost,0,!0)});for(let s=1;s<=5;s++){let a=o[t[s-1]],l=o.ordinals[s-1];i(`transcendtext${2*s-1}`).textContent=u.t(`buildings.names.${r[s-1]}`,{amount:p(e[`${l}OwnedMythos`],0,!0),gain:p(e[`${l}GeneratedMythos`],2)}),i(`transcendtext${2*s}`).textContent=u.t(`buildings.per.${n[s-1]}`,{amount:p(a.times(40),2)}),i(`buymythos${s}`).textContent=u.t("buildings.costMythos",{mythos:p(e[`${l}CostMythos`],2)})}(e.resettoggle2===1||e.resettoggle2===0)&&(i("autotranscend").textContent=u.t("buildings.autoPrestige",{name:"Mythos",action:"Prestige",factor:p(f.pow(10,e.transcendamount)),mult:p(f.pow(10,f.log(o.transcendPointGain.add(1),10)-f.log(e.transcendPoints.add(1),10)),2)})),e.resettoggle2===2&&(i("autotranscend").textContent=`Transcend when the autotimer is at least ${e.transcendamount} real-life seconds. [Toggle number above]. Current timer: ${p(o.autoResetTimers.transcension,1)}s.`)}else if(o.buildingSubTab==="particle"){let t=["FirstParticles","SecondParticles","ThirdParticles","FourthParticles","FifthParticles"],r=["protons","elements","pulsars","quasars","galacticNuclei"],n=["atoms","protons","elements","pulsars","quasars"];for(let s=1;s<=5;s++){let a=o.ordinals[s-1],l=o[`produce${t[s-1]}`];i(`reincarnationtext${s}`).textContent=u.t(`buildings.names.${r[s-1]}`,{amount:p(e[`${a}OwnedParticles`],0,!0),gain:p(e[`${a}GeneratedParticles`],2)}),i(`reincarnationtext${s+5}`).textContent=u.t(`buildings.per.${n[s-1]}`,{amount:p(l.times(40),2)}),i(`buyparticles${s}`).textContent=u.t("buildings.costParticles",{particles:p(e[`${a}CostParticles`],2)})}i("reincarnationshardinfo").textContent=u.t("buildings.atomsYouHave",{atoms:p(e.reincarnationShards,2),power:p(o.buildingPower,4),mult:p(o.reincarnationMultiplier)}),i("reincarnationCrystalInfo").textContent=u.t("buildings.thanksR2x14",{mult:p(f.pow(o.reincarnationMultiplier,1/50),3,!1)}),i("reincarnationMythosInfo").textContent=u.t("buildings.thanksR2x15",{mult:p(f.pow(o.reincarnationMultiplier,1/250),3,!1)}),e.resettoggle3===1||e.resettoggle3===0?i("autoreincarnate").textContent=u.t("buildings.autoPrestige",{name:"Particles",action:"Reincarnate",factor:p(f.pow(10,e.reincarnationamount)),mult:p(f.pow(10,f.log(o.reincarnationPointGain.add(1),10)-f.log(e.reincarnationPoints.add(1),10)),2)}):e.resettoggle3===2&&(i("autoreincarnate").textContent=u.t("buildings.autoReincarnate",{name:"Reincarnate",amount:e.reincarnationamount,timer:p(o.autoResetTimers.reincarnation,1)}))}else if(o.buildingSubTab==="tesseract"){let t=["dot","vector","threeSpace","bentTime","hilbertSpace"],r=["constant","dot","vector","threeSpace","bentTime"];for(let n=1;n<=5;n++){let s=`ascendBuilding${n}`;i(`ascendText${n}`).textContent=u.t(`buildings.names.${t[n-1]}`,{amount:p(e[s].owned,0,!0),gain:p(e[s].generated,2)}),i(`ascendText${5+n}`).textContent=u.t(`buildings.per.${r[n-1]}`,{amount:p(o.ascendBuildingProduction[o.ordinals[n-1]],2)}),i(`buyTesseracts${n}`).textContent=u.t("buildings.costTesseracts",{tesseracts:p(e[s].cost,0)})}i("tesseractInfo").textContent=u.t("buildings.tesseractsYouHave",{tesseracts:p(e.wowTesseracts)}),i("ascendShardInfo").textContent=u.t("buildings.constantYouHave",{const:p(e.ascendShards,2),amount:p(Math.pow(f.log(e.ascendShards.add(1),10)+1,1+.2/60*e.challengecompletions[10]*e.upgrades[125]+.1*e.platonicUpgrades[5]+.2*e.platonicUpgrades[10]+(o.platonicBonusMultiplier[5]-1)),4,!0)}),e.resettoggle4===1||e.resettoggle4===0?i("autotessbuyeramount").textContent=u.t("buildings.autoTesseract",{tesseracts:p(e.tesseractAutoBuyerAmount)}):e.resettoggle4===2&&(i("autotessbuyeramount").textContent=u.t("buildings.autoAscensionTesseract",{percent:p(Math.min(100,e.tesseractAutoBuyerAmount))}))}}},zu=()=>{},Yu=()=>{},Zu=()=>{if(o.currentTab===3){if(o.runescreen==="runes"){let t=["rune1Talisman","rune2Talisman","rune3Talisman","rune4Talisman","rune5Talisman"];i("offeringCount").textContent=u.t("runes.offeringsYouHave",{offerings:p(e.runeshards,0,!0)});for(let s=1;s<=7;s++){let a=o[t[s-1]];s>5&&(a=0);let l=e.runelevels[s-1],c=Ye(s);i(`rune${s}level`).childNodes[0].textContent=u.t("cubes.cubeMetadata.level",{value1:p(l),value2:p(c)}),l<c?i(`rune${s}exp`).textContent=u.t("runes.TNL",{EXP:p(jr(s-1)-e.runeexp[s-1],2)}):i(`rune${s}exp`).textContent=u.t("runes.maxLevel"),s<=5?i(`bonusrune${s}`).textContent=u.t("runes.bonusAmount",{x:p(7*e.constantUpgrades[7]+Math.min(1e7,e.antUpgrades[8]+o.bonusant9)+a)}):i(`bonusrune${s}`).textContent=u.t("runes.bonusNope"),Rt(s,!1)}let r=Rl(),n=fe([1*r,Math.min(1,e.highestchallengecompletions[1]),.4/10*e.highestchallengecompletions[1],.6*e.researches[22],.3*e.researches[23],2*e.upgrades[61]]);i("offeringExperienceValue").textContent=u.t("runes.gainExp",{amount:p(n,2,!0)}),i("offeringRecycleInfo").textContent=u.t("runes.recycleChance",{percent:p((1-1/r)*100,2,!0),mult:p(r,2,!0)})}if(o.runescreen==="talismans")for(let t=0;t<7;t++){let r=ps(t);i(`talisman${t+1}level`).textContent=`${e.ascensionCount>0?"":"Level "} ${p(e.talismanLevels[t])}/${p(r)}`}if(o.runescreen==="blessings"){let t=[0,8,10,6.66,2,1],r=0;for(let n=1;n<=5;n++){i(`runeBlessingLevel${n}Value`).innerHTML=u.t("runes.blessings.blessingLevel",{amount:p(e.runeBlessingLevels[n])}),i(`runeBlessingPower${n}Value1`).innerHTML=u.t("runes.blessings.blessingPower",{reward:u.t(`runes.blessings.rewards.${n-1}`),value:p(o.runeBlessings[n]),speed:p(1-r+t[n]*o.effectiveRuneBlessingPower[n],4,!0)});let s=sn(e.runeBlessingLevels[n],o.blessingBaseCost,e.runeshards,e.runeBlessingBuyAmount)[0]-e.runeBlessingLevels[n];s>0?i(`runeBlessingPurchase${n}`).classList.add("runeButtonsAvailable"):i(`runeBlessingPurchase${n}`).classList.remove("runeButtonsAvailable"),i(`runeBlessingPurchase${n}`).innerHTML=u.t("runes.blessings.increaseLevel",{amount:p(Math.max(1,s)),offerings:p(Math.max(o.blessingBaseCost*(1+e.runeBlessingLevels[n]),sn(e.runeBlessingLevels[n],o.blessingBaseCost,e.runeshards,e.runeBlessingBuyAmount)[1]))}),n===5&&(r=1)}}if(o.runescreen==="spirits"){let t=[0,1,1,20,1,100],r=[0,0,0,1,0,0];for(let n=1;n<=5;n++){t[n]*=gt()/400,i(`runeSpiritLevel${n}Value`).innerHTML=u.t("runes.spirits.spiritLevel",{amount:p(e.runeSpiritLevels[n])}),i(`runeSpiritPower${n}Value1`).innerHTML=u.t("runes.spirits.spiritPower",{reward:u.t(`runes.spirits.rewards.${n-1}`),value:p(o.runeSpirits[n]),speed:p(1-r[n]+t[n]*o.effectiveRuneSpiritPower[n],4,!0)});let s=sn(e.runeSpiritLevels[n],o.spiritBaseCost,e.runeshards,e.runeSpiritBuyAmount)[0]-e.runeSpiritLevels[n];s>0?i(`runeSpiritPurchase${n}`).classList.add("runeButtonsAvailable"):i(`runeSpiritPurchase${n}`).classList.remove("runeButtonsAvailable"),i(`runeSpiritPurchase${n}`).innerHTML=u.t("runes.blessings.increaseLevel",{amount:p(Math.max(1,s)),offerings:p(Math.max(o.spiritBaseCost*(1+e.runeSpiritLevels[n]),sn(e.runeSpiritLevels[n],o.spiritBaseCost,e.runeshards,e.runeSpiritBuyAmount)[1]))})}}}},Ju=()=>{o.currentTab===4&&e.researches[150]>0&&(i("autoIncrementerAmount").innerHTML=u.t("challenges.autoTimer",{time:p(o.autoChallengeTimerIncrement,2)}))},Zo=()=>{o.currentTab===5&&e.researches[61]>0&&(i("automaticobtainium").textContent=u.t("researches.thanksToResearches",{x:p(ys()*Qe().mult,3,!0)}))},ep=()=>{if(o.currentTab!==6)return;i("crumbcount").textContent=u.t("ants.youHaveGalacticCrumbs",{x:p(e.antPoints,2),y:p(o.antOneProduce,2),z:p(f.pow(f.max(1,e.antPoints),1e5+It(499e5,(e.antUpgrades[1]+o.bonusant2)/5e3*500/499)))});let t=e.autoAntSacrificeMode===2?u.t("ants.modeRealTime"):u.t("ants.modeInGameTime"),r=e.autoAntSacrificeMode===2?e.antSacrificeTimerReal:e.antSacrificeTimer;i("autoAntSacrifice").textContent=u.t("ants.sacrificeWhenTimer",{x:e.autoAntSacTimer,y:t,z:p(r,2)}),e.achievements[173]===1&&(i("antSacrificeTimer").textContent=tr(e.antSacrificeTimer),sp())},Jo=()=>{if(o.currentTab!==7)return;let t=e.shopUpgrades.cubeToQuark?1.5:1,r=e.shopUpgrades.tesseractToQuark?1.5:1,n=e.shopUpgrades.hypercubeToQuark?1.5:1,s=1.5,a={cube:Number(e.wowCubes.checkCubesToNextQuark(5,t,e.cubeQuarkDaily,e.cubeOpenedDaily)),tesseract:Number(e.wowTesseracts.checkCubesToNextQuark(7,r,e.tesseractQuarkDaily,e.tesseractOpenedDaily)),hypercube:Number(e.wowHypercubes.checkCubesToNextQuark(10,n,e.hypercubeQuarkDaily,e.hypercubeOpenedDaily)),platonicCube:Number(e.wowPlatonicCubes.checkCubesToNextQuark(15,s,e.platonicCubeQuarkDaily,e.platonicCubeOpenedDaily))},l=Object.keys(a);for(let d of l)i(`${d}QuarksToday`).innerHTML=u.t(`wowCubes.quarks.${d}QuarksToday`,{amount:p(e[`${d}QuarkDaily`])}),i(`${d}QuarksOpenToday`).innerHTML=u.t(`wowCubes.quarks.${d}QuarksOpenToday`,{amount:p(e[`${d}OpenedDaily`])}),i(`${d}QuarksOpenRequirement`).innerHTML=u.t(`wowCubes.quarks.${d}QuarksOpenRequirement`,{amount:p(Math.max(1,a[d]))}),i(`${d}QuarksOpenRequirement`).style.color=Math.max(1,a[d])===1?"gold":"white";let c;switch(e.subtabNumber){case 0:{e.autoOpenCubes&&(i("openCubes").textContent=u.t("wowCubes.autoOn",{percent:p(e.openCubes,0)})),i("cubeQuantity").innerHTML=u.t("wowCubes.cubes.inventory",{amount:p(e.wowCubes,0,!0)});let d=[null,e.cubeBlessings.accelerator,e.cubeBlessings.multiplier,e.cubeBlessings.offering,e.cubeBlessings.runeExp,e.cubeBlessings.obtainium,e.cubeBlessings.antSpeed,e.cubeBlessings.antSacrifice,e.cubeBlessings.antELO,e.cubeBlessings.talismanBonus,e.cubeBlessings.globalSpeed];c=[null,2,2,2,2,2,2,2,1,4,3];for(let g=1;g<=10;g++){let m=0;d[g]>=1e3&&g!==6&&(m+=2);let h=g===1||g===8||g===9?1:100;i(`cube${g}Bonus`).innerHTML=u.t(`wowCubes.cubes.items.${g}`,{amount:p(d[g],0,!0),bonus:p(h*(o.cubeBonusMultiplier[g]-1),c[g]+m,!0)})}i("cubeBlessingsTotal").innerHTML=u.t("wowCubes.cubes.total",{amount:p(fe(d.slice(1)),0,!0)});break}case 1:{e.autoOpenTesseracts&&(i("openTesseracts").textContent=u.t("wowCubes.autoOn",{percent:p(e.openTesseracts,0)})),i("tesseractQuantity").innerHTML=u.t("wowCubes.tesseracts.inventory",{amount:p(e.wowTesseracts,0,!0)});let d=[null,e.tesseractBlessings.accelerator,e.tesseractBlessings.multiplier,e.tesseractBlessings.offering,e.tesseractBlessings.runeExp,e.tesseractBlessings.obtainium,e.tesseractBlessings.antSpeed,e.tesseractBlessings.antSacrifice,e.tesseractBlessings.antELO,e.tesseractBlessings.talismanBonus,e.tesseractBlessings.globalSpeed];c=[null,2,2,2,2,2,2,2,2,2,2];for(let g=1;g<=10;g++){let m=0;d[g]>=1e3&&g!==6&&(m+=2),i(`tesseract${g}Bonus`).innerHTML=u.t(`wowCubes.tesseracts.items.${g}`,{amount:p(d[g],0,!0),bonus:p(100*(o.tesseractBonusMultiplier[g]-1),c[g]+m,!0)})}i("tesseractBlessingsTotal").innerHTML=u.t("wowCubes.tesseracts.total",{amount:p(fe(d.slice(1)),0,!0)});break}case 2:{e.autoOpenHypercubes&&(i("openHypercubes").textContent=u.t("wowCubes.autoOn",{percent:p(e.openHypercubes,0)})),i("hypercubeQuantity").innerHTML=u.t("wowCubes.hypercubes.inventory",{amount:p(e.wowHypercubes,0,!0)});let d=[null,e.hypercubeBlessings.accelerator,e.hypercubeBlessings.multiplier,e.hypercubeBlessings.offering,e.hypercubeBlessings.runeExp,e.hypercubeBlessings.obtainium,e.hypercubeBlessings.antSpeed,e.hypercubeBlessings.antSacrifice,e.hypercubeBlessings.antELO,e.hypercubeBlessings.talismanBonus,e.hypercubeBlessings.globalSpeed];c=[null,2,2,2,2,2,2,2,2,2,2];for(let g=1;g<=10;g++){let m=0;d[g]>=1e3&&(m+=2),i(`hypercube${g}Bonus`).innerHTML=u.t(`wowCubes.hypercubes.items.${g}`,{amount:p(d[g],0,!0),bonus:p(100*(o.hypercubeBonusMultiplier[g]-1),c[g]+m,!0)})}i("hypercubeBlessingsTotal").innerHTML=u.t("wowCubes.hypercubes.total",{amount:p(fe(d.slice(1)),0,!0)});break}case 3:{e.autoOpenPlatonicsCubes&&(i("openPlatonicCube").textContent=u.t("wowCubes.autoOn",{percent:p(e.openPlatonicsCubes,0)})),i("platonicQuantity").innerHTML=u.t("wowCubes.platonics.inventory",{amount:p(e.wowPlatonicCubes,0,!0)});let d=[e.platonicBlessings.cubes,e.platonicBlessings.tesseracts,e.platonicBlessings.hypercubes,e.platonicBlessings.platonics,e.platonicBlessings.hypercubeBonus,e.platonicBlessings.taxes,e.platonicBlessings.scoreBonus,e.platonicBlessings.globalSpeed],g=[4e6,4e6,4e6,8e4,1e4,1e4,1e4,1e4];c=[5,5,5,5,2,3,3,2];for(let m=0;m<d.length;m++){let h=0;d[m]>=g[m]&&(h+=1),i(`platonicCube${m+1}Bonus`).innerHTML=u.t(`wowCubes.platonics.items.${m+1}`,{amount:p(d[m],0,!0),bonus:p(100*(o.platonicBonusMultiplier[m]-1),c[m]+h,!0)})}i("platonicBlessingsTotal").innerHTML=u.t("wowCubes.platonics.total",{amount:p(fe(d),0,!0)});break}case 4:i("cubeAmount2").textContent=`You have ${p(e.wowCubes,0,!0)} Wow! Cubes =)`;break;case 5:break;case 6:i("hepteractQuantity").innerHTML=u.t("wowCubes.hepteractForge.youPossessHepteracts",{x:p(e.wowAbyssals,0,!0)}),Pu.forEach(d=>{rm(d)}),i("heptGridOrbBalance").textContent=p(e.overfluxOrbs),i("heptGridOrbEffect").textContent=`${p(100*(-1+on()),2,!0)}%`,i("heptGridPowderBalance").textContent=p(e.overfluxPowder),i("heptGridPowderWarps").textContent=p(e.dailyPowderResetUses);break;default:break}},rm=t=>{let r=`${t}ProgressBarText`,n=`${t}ProgressBar`,s=i(r),a=i(n);if(!e.hepteractCrafts[t].UNLOCKED)s.textContent="LOCKED",a.style.width="100%",a.style.backgroundColor="var(--hepteract-bar-red)";else{let c=e.hepteractCrafts[t].BAL,d=e.hepteractCrafts[t].computeActualCap(),g=Math.round(c/d*100),m="";g<34?m="var(--hepteract-bar-red)":g>=34&&g<68?m="var(--hepteract-bar-yellow)":m="var(--hepteract-bar-green)",s.textContent=`${p(c)} / ${p(d)}`,a.style.width=`${g}%`,a.style.backgroundColor=m}},tp=()=>{if(o.currentTab!==8)return;let t=Or(),r=hs();i("autoAscend").innerHTML=e.autoAscendMode==="c10Completions"?u.t("corruptions.autoAscend.c10Completions",{input:p(e.autoAscendThreshold),completions:p(e.challengecompletions[10])}):u.t("corruptions.autoAscend.realTime",{input:p(e.autoAscendThreshold),time:p(e.ascensionCounterRealReal)}),i("corruptionBank").innerHTML=u.t("corruptions.corruptionBank",{number:p(t[0],0,!0)}),i("corruptionScore").innerHTML=u.t("corruptions.corruptionScore",{ascScore:p(t[1],1,!0),corrMult:p(t[2],1,!0),bonusMult:p(t[9],2,!0),totalScore:p(t[3],1,!0)}),i("corruptionCubes").innerHTML=u.t("corruptions.corruptionCubes",{cubeAmount:p(t[4],0,!0)}),i("corruptionTesseracts").innerHTML=u.t("corruptions.corruptionTesseracts",{tesseractAmount:p(t[5],0,!0)}),i("corruptionHypercubes").innerHTML=u.t("corruptions.corruptionHypercubes",{hypercubeAmount:p(t[6],0,!0)}),i("corruptionPlatonicCubes").innerHTML=u.t("corruptions.corruptionPlatonics",{platonicAmount:p(t[7],0,!0)}),i("corruptionHepteracts").innerHTML=u.t("corruptions.corruptionHepteracts",{hepteractAmount:p(t[8],0,!0)}),i("corruptionAntExponent").innerHTML=u.t("corruptions.antExponent",{exponent:p((1-.9/90*fe(e.usedCorruptions))*o.extinctionMultiplier[e.usedCorruptions[7]],3)}),i("corruptionSpiritBonus").innerHTML=u.t("corruptions.spiritBonus",{multiplier:p(gt()/400,2,!0)}),i("corruptionAscensionCount").style.display=r>1?"block":"none",r>1&&(i("corruptionAscensionCount").innerHTML=u.t("corruptions.ascensionCount",{ascCount:p(hs())}))},rp=()=>{if(o.currentTab===10){if(e.subtabNumber===0){i("saveString").textContent=u.t("settings.currently",{x:e.saveString.replace("$VERSION$",`v${Jt}`)});let t=Bt(),r=t.gain,n=t.capacity,s=1;s*=1+e.worlds.BONUS/100,s*=e.highestSingularityCount>=100?1+e.highestSingularityCount/50:1,i("quarktimerdisplay").textContent=u.t("settings.exportQuark",{x:p(3600/t.perHour-e.quarkstimer%(3600.00001/t.perHour),2),y:e.worlds.toString(1)}),i("quarktimeramount").textContent=u.t("settings.quarksOnExport",{x:e.worlds.toString(r),y:e.worlds.toString(n)}),i("goldenQuarkTimerDisplay").textContent=u.t("settings.exportGoldenQuark",{x:p(3600/Math.max(1,+e.singularityUpgrades.goldenQuarks3.getEffect().bonus)-e.goldenQuarksTimer%(3600.00001/Math.max(1,+e.singularityUpgrades.goldenQuarks3.getEffect().bonus))),y:p(s,2,!0)}),i("goldenQuarkTimerAmount").textContent=u.t("settings.goldenQuarksOnExport",{x:p(Math.floor(e.goldenQuarksTimer*+e.singularityUpgrades.goldenQuarks3.getEffect().bonus/3600)*s,2),y:p(Math.floor(168*+e.singularityUpgrades.goldenQuarks3.getEffect().bonus*s))})}e.subtabNumber===3&&Vu()}},np=()=>{if(o.currentTab===9){if(e.subtabNumber===0){i("goldenQuarkamount").textContent=u.t("singularity.goldenQuarkAmount",{goldenQuarks:p(e.goldenQuarks,0,!0)});let t=Object.keys(e.singularityUpgrades),r=o.shopEnhanceVision;for(let n of t){if(n==="offeringAutomatic")continue;let s=e.singularityUpgrades[n],a=i(`${String(n)}`);s.maxLevel!==-1&&s.level>=s.computeMaxLevel()?a.style.filter=r?"brightness(.9)":"none":s.getCostTNL()>e.goldenQuarks||e.singularityCount<s.minimumSingularity?a.style.filter=r?"grayscale(.9) brightness(.8)":"none":(s.maxLevel===-1||s.level<s.computeMaxLevel())&&(s.freeLevels>s.level?a.style.filter=r?"blur(1px) invert(.9) saturate(200)":"none":a.style.filter=r?"invert(.9) brightness(1.1)":"none")}}if(e.subtabNumber===2){let t=Object.keys(e.octeractUpgrades),r=o.shopEnhanceVision;for(let n of t){let s=e.octeractUpgrades[n],a=i(`${String(n)}`);s.maxLevel!==-1&&s.level>=s.maxLevel?a.style.filter=r?"brightness(.9)":"none":s.getCostTNL()>e.wowOcteracts?a.style.filter=r?"grayscale(.9) brightness(.8)":"none":(s.maxLevel===-1||s.level<s.maxLevel)&&(s.freeLevels>s.level?a.style.filter=r?"blur(2px) invert(.9) saturate(200)":"none":a.style.filter=r?"invert(.9) brightness(1.1)":"none")}}}},bs=t=>{o.shopEnhanceVision=t},ei=()=>{if(o.currentTab!==9)return;i("octeractAmount").innerHTML=u.t("octeract.amount",{octeracts:p(e.wowOcteracts,2,!0,!0,!0)});let t=Ur();i("secondsPerOcteract").style.display=t<1?"block":"none",i("secondsPerOcteract").innerHTML=u.t("octeract.secondsPerOcteract",{seconds:p(1/t,2,!0)}),i("octeractPerSeconds").style.display=t>=1?"block":"none",i("octeractPerSeconds").innerHTML=u.t("octeract.octeractsPerSecond",{octeracts:p(t,2,!0)});let r=(vs()-1)*100,n=(Xr()-1)*100,s=(Il()-1)*100,a=(Nl()-1)*100;i("totalOcteractAmount").innerHTML=u.t("octeract.totalGenerated",{octeracts:p(e.totalWowOcteracts,2,!0,!0,!0)}),i("totalOcteractCubeBonus").style.display=r>=.001?"block":"none",i("totalOcteractQuarkBonus").style.display=n>=.001?"block":"none",i("totalOcteractOfferingBonus").style.display=s>=.001?"block":"none",i("totalOcteractObtainiumBonus").style.display=a>=.001?"block":"none",i("totalOcteractCubeBonus").innerHTML=u.t("octeract.generatedCubeBonus",{cubeBonus:p(r,3,!0)}),i("totalOcteractQuarkBonus").innerHTML=u.t("octeract.generatedQuarkBonus",{quarkBonus:p(n,3,!0)}),i("totalOcteractOfferingBonus").innerHTML=u.t("octeract.generatedOfferingBonus",{offeringBonus:p(s,3,!0)}),i("totalOcteractObtainiumBonus").innerHTML=u.t("octeract.generatedObtainiumBonus",{obtainiumBonus:p(a,3,!0)})},wa=()=>{if(o.currentTab!==9)return;let t=e.caches.ambrosiaLuck.usedTotal,r=e.caches.ambrosiaLuck.totalVal,n=100*(e.caches.ambrosiaLuckAdditiveMult.totalVal-1),s=Math.floor(t/100),a=t-100*Math.floor(t/100),l=Cs(),c=100*(ti()-1),d=100*(fs()-1),g=e.caches.blueberryInventory.totalVal-e.spentBlueberries,m=e.caches.ambrosiaGeneration.totalVal,h=Math.min(m,Math.pow(1e3*m,1/2)),b=100*Math.min(1,e.blueberryTime/l),y=100*Math.min(1,e.ultimateProgress/1e6);i("ambrosiaProgress").style.width=`${b}%`,i("ambrosiaProgressText").textContent=`${p(e.blueberryTime,0,!0)} / ${p(l,0,!0)} [+${p(m,0,!0)}/s]`,i("pixelProgress").style.width=`${y}%`,i("pixelProgressText").textContent=`${p(e.ultimateProgress,0,!0)} / ${p(1e6,0,!0)} [+${p(h*.02,2,!0)}/s]`;let v=n>.01?`[<span style='color: var(--amber-text-color)'>\u2618${p(r,0,!0)} +${p(n,2,!0)}%</span>]`:"";i("ambrosiaAmount").innerHTML=u.t("ambrosia.amount",{ambrosia:p(e.ambrosia,0,!0),lifetimeAmbrosia:p(e.lifetimeAmbrosia,0,!0)}),i("ambrosiaAmountPerGeneration").innerHTML=u.t("ambrosia.perGen",{guaranteed:p(s,0,!0),extraChance:p(a,0,!0),ambrosiaLuck:p(t,0,!0),extra:v}),i("ambrosiaRewards").innerHTML=u.t("ambrosia.bonuses",{cube:p(c,0,!0),quark:p(d,0,!0)}),i("ambrosiaBlueberries").innerHTML=u.t("ambrosia.availableBlueberries",{availableBlueberries:g})},Bl=()=>{if(o.currentTab!==11)return;i("quarkamount").textContent=u.t("shop.youHaveQuarks",{x:p(e.worlds,0,!0)}),i("offeringpotionowned").textContent=p(e.shopUpgrades.offeringPotion,0,!0),i("obtainiumpotionowned").textContent=p(e.shopUpgrades.obtainiumPotion,0,!0);let t=Object.keys(e.shopUpgrades);for(let r of t){let n=ue[r];if(n.type==="consume"){let s=Math.min(Math.floor(Number(e.worlds)/Vn(r)),n.maxLevel-e.shopUpgrades[r]),a=i(`buy${r.toLowerCase()}`);switch(e.shopBuyMaxToggle){case!1:a.textContent="BUY: 100 Quarks Each";break;case"TEN":a.textContent=`+${Math.min(10,s)} for ${p(Vn(r)*Math.min(10,s),0,!0)} Quarks`;break;default:a.textContent=`+${s} for ${p(Vn(r)*s)} Quarks`}}if(n.type==="upgrade"){if(e.shopHideToggle&&e.shopUpgrades[r]>=n.maxLevel&&!n.refundable){i(`${r}Hide`).style.display="none";continue}else i(`${r}Hide`).style.display=va(r)?"block":"none";n.maxLevel===1?i(`${r}Level`).textContent=e.shopUpgrades[r]>=n.maxLevel?"Bought!":"Not Bought!":i(`${r}Level`).textContent=`${e.highestSingularityCount>0||e.ascensionCount>0?"":"Level "}${p(e.shopUpgrades[r])}/${p(n.maxLevel)}`;let s=n.maxLevel-e.shopUpgrades[r],a;switch(e.shopBuyMaxToggle){case!1:i(`${r}Button`).textContent=e.shopUpgrades[r]>=n.maxLevel?u.t("shop.maxed"):u.t("shop.upgradeFor",{x:p(Vn(r))});break;case"TEN":a=Zt(e.shopUpgrades[r],n.price,+e.worlds,n.priceIncrease/n.price,Math.min(10,s)),i(`${r}Button`).textContent=e.shopUpgrades[r]>=n.maxLevel?u.t("shop.maxed"):u.t("shop.plusForQuarks",{x:p(a.levelCanBuy-e.shopUpgrades[r],0,!0),y:p(a.cost)});break;default:a=Zt(e.shopUpgrades[r],n.price,+e.worlds,n.priceIncrease/n.price,s),i(`${r}Button`).textContent=e.shopUpgrades[r]>=n.maxLevel?u.t("shop.maxed"):u.t("shop.plusForQuarks",{x:p(a.levelCanBuy-e.shopUpgrades[r],0,!0),y:p(a.cost)})}}}i("buySingularityQuarksAmount").textContent=`${e.goldenQuarks<1e3?"Owned: ":""}${p(e.goldenQuarks)}`,i("buySingularityQuarksButton").textContent=`Buy! ${p(el().cost)} Quarks Each`},ap=()=>{};var Ne=(t,r=0)=>{let n=t==="ascension"||t==="quarks"||t==="goldenQuarks"||t==="singularity"||t==="octeracts"||t==="autoPotion"||t==="ambrosia"?1:Qe().mult;switch(t){case"prestige":{e.prestigecounter+=r*n;break}case"transcension":{e.transcendcounter+=r*n;break}case"reincarnation":{e.reincarnationcounter+=r*n;break}case"ascension":{let s=e.singularityUpgrades.oneMind.getEffect().bonus?10:vr();e.ascensionCounter+=r*n*s,e.ascensionCounterReal+=r*n;break}case"singularity":{e.ascensionCounterRealReal+=r,e.singularityCounter+=r*n;break}case"quarks":{let s=Bt().maxTime;e.quarkstimer+=r*n,e.quarkstimer=e.quarkstimer>s?s:e.quarkstimer;break}case"goldenQuarks":{if(+e.singularityUpgrades.goldenQuarks3.getEffect().bonus==0)return;e.goldenQuarksTimer+=r*n,e.goldenQuarksTimer=e.goldenQuarksTimer>3600*168?3600*168:e.goldenQuarksTimer;break}case"octeracts":{if(e.singularityUpgrades.octeractUnlock.getEffect().bonus)e.octeractTimer+=r*n;else return;if(e.octeractTimer>=1){let s=e.octeractTimer-e.octeractTimer%1;e.octeractTimer%=1;let a=Ur();if(e.wowOcteracts+=s*a,e.totalWowOcteracts+=s*a,e.highestSingularityCount>=160){let l=[160,173,185,194,204,210,219,229,240,249],c=1e-6,d=0;for(let g of l)e.highestSingularityCount>=g&&(d+=1);for(let g=0;g<s;g++){let m=e.quarksThisSingularity*c*d;e.goldenQuarks+=m*qt(!0),e.quarksThisSingularity-=m}}ei()}break}case"autoPotion":{if(e.highestSingularityCount<6)return;{let s=e.toggles[42]&&e.shopUpgrades.offeringPotion>0,a=e.toggles[43]&&e.shopUpgrades.obtainiumPotion>0;e.autoPotionTimer+=r*n,e.autoPotionTimerObtainium+=r*n;let l=180*Math.pow(1.03,-e.highestSingularityCount)/+e.octeractUpgrades.octeractAutoPotionSpeed.getEffect().bonus,c=s?Math.min(1,l)/20:l,d=a?Math.min(1,l)/20:l;if(e.autoPotionTimer>=c){let g=(e.autoPotionTimer-e.autoPotionTimer%c)/c;e.autoPotionTimer%=c,Vr("offeringPotion",!0,g,s)}if(e.autoPotionTimerObtainium>=d){let g=(e.autoPotionTimerObtainium-e.autoPotionTimerObtainium%d)/d;e.autoPotionTimerObtainium%=d,Vr("obtainiumPotion",!0,g,a)}}break}case"ambrosia":{if(e.caches.ambrosiaGeneration.totalVal===0||(o.ambrosiaTimer+=r*n,o.ambrosiaTimer<.125))break;let a=e.caches.ambrosiaLuck.usedTotal,l=e.caches.ambrosiaGeneration.totalVal;e.blueberryTime+=Math.floor(8*o.ambrosiaTimer)/8*l,e.ultimateProgress+=Math.floor(8*o.ambrosiaTimer)/8*Math.min(l,Math.pow(1e3*l,1/2))*.02,o.ambrosiaTimer%=.125;let c=Cs();for(;e.blueberryTime>=c;){let d=Math.random(),g=Math.floor(a/100),m=d<a/100-Math.floor(a/100)?1:0,h=e.singularityChallenges.noAmbrosiaUpgrades.rewards.bonusAmbrosia?1:0,b=g+m+h;e.ambrosia+=b,e.lifetimeAmbrosia+=b,e.blueberryTime-=c,o.ambrosiaTimer+=b*.2*e.shopUpgrades.shopAmbrosiaAccelerator,c=Cs()}e.ultimateProgress>1e6&&(e.ultimatePixels+=Math.floor(e.ultimateProgress/1e6),e.ultimateProgress-=1e6*Math.floor(e.ultimateProgress/1e6)),wa()}}},br=(t,r)=>{let n=t==="runeSacrifice"||t==="addOfferings"?1:Qe().mult;switch(t){case"addObtainium":{if(e.currentChallenge.ascension===14)break;yr();let s=ys();e.researchPoints=Math.min(1e300,e.researchPoints+s*r*n),o.currentTab===5&&Zo();break}case"addOfferings":o.autoOfferingCounter+=r,e.runeshards=Math.min(1e300,e.runeshards+Math.floor(o.autoOfferingCounter)),o.autoOfferingCounter%=1;break;case"runeSacrifice":if(e.sacrificeTimer+=r,e.sacrificeTimer>=1&&isFinite(e.runeshards)&&e.runeshards>0){if(e.highestSingularityCount>=15){let s=4;e.toggles[36]&&(ma("Blessings",100/s,!0),s--),e.toggles[37]&&(ma("Spirits",100/s,!0),s--)}if(e.autoBuyFragment&&e.highestSingularityCount>=40&&e.cubeUpgrades[51]>0&&Ho(),e.cubeUpgrades[20]===1){let s=e.highestSingularityCount>=50?7:e.highestSingularityCount>=30?6:5,a=s-Iu(s);if(a>0){let l=Math.floor(e.runeshards/a/2);for(let c=0;c<s;c++)!ls(c+1)||e.runelevels[c]>=Ye(c+1)||qn(c+1,!0,l)}}else{let s=e.autoSacrifice;qn(s,!0,0)}e.sacrificeTimer%=1}break;case"antSacrifice":{e.antSacrificeTimer+=r*n,e.antSacrificeTimerReal+=r,(e.autoAntSacrificeMode===2?e.antSacrificeTimerReal:e.antSacrificeTimer)>=e.autoAntSacTimer&&e.antSacrificeTimerReal>.1&&e.researches[124]===1&&e.autoAntSacrifice&&e.antPoints.gte("1e40")&&xa(!0);break}}};var nm=new Intl.DateTimeFormat("EN-GB",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",hour12:!1,minute:"2-digit",second:"2-digit"}),am=new Intl.DateTimeFormat("EN-GB",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",hour12:!0,minute:"2-digit",second:"2-digit"}),sm=36e5,Je=(t="default",r=!1)=>{let s=(r?am:nm).formatToParts(new Date).filter(d=>d.type!=="literal").map(d=>({[d.type]:d.value})),a=Object.assign({},...s),l=r?` ${a.dayPeriod.toUpperCase()}`:"",c=["sun","mon","tue","wed","thu","fri","sat"];switch(t){case"default":return`${a.year}-${a.month}-${a.day} ${a.hour}_${a.minute}_${a.second}${l}`;case"short":return`${a.year}${a.month}${a.day}${a.hour}${a.minute}${a.second}`;case"year":return`${a.year}`;case"month":return`${a.month}`;case"day":return`${a.day}`;case"hour":return`${a.hour}`;case"minute":return`${a.minute}`;case"second":return`${a.second}`;case"period":return`${a.dayPeriod.toUpperCase()}`;case"weekday":return`${c[new Date().getUTCDay()]}`;default:return t}},lp=t=>{let r=t.value.slice(0,100);e.saveString=r===""?ve.saveString:Za(r),i("saveStringInput").value=e.saveString},om=()=>{var t,r;return(r=(t=/[\d?=.]+/.exec(Jt))==null?void 0:t[0])!=null?r:Jt},xs=()=>{let r=e.saveString.replace(/\$(.*?)\$/g,(n,s)=>{switch(s){case"VERSION":return`v${Jt}`;case"TIME":return Je();case"TIME12":return Je(void 0,!0);case"SING":return`Singularity ${e.singularityCount}`;case"SINGS":return`${e.singularityCount}`;case"VER":return om();case"TIMES":return Je("short");case"YEAR":return Je("year");case"Y":return Je("year");case"MONTH":return Je("month");case"M":return Je("month");case"DAY":return Je("day");case"D":return Je("day");case"HOUR":return Je("hour");case"H":return Je("hour");case"H12":return Je("hour",!0);case"MINUTE":return Je("minute");case"MI":return Je("minute");case"SECOND":return Je("second");case"S":return Je("second");case"PERIOD":return Je("period",!0);case"P":return Je("period",!0);case"WEEKDAY":return Je("weekday");case"W":return Je("weekday");case"DATE":return`${Date.now()}`;case"DATES":return`${Math.floor(Date.now()/1e3)}`;case"QUARK":return`${Math.floor(Number(e.worlds))}`;case"QUARKS":return p(Number(e.worlds));case"GQ":return`${Math.floor(e.goldenQuarks)}`;case"GQS":return p(e.goldenQuarks);case"STAGE":return Pl(0);default:return`${s}`}});return Za(r)},Dl=async(t,r)=>{if(Gr("saveType").checked)try{await navigator.clipboard.writeText(t),i("exportinfo").textContent=u.t("importexport.copiedSave")}catch(s){let a=document.createElement("textarea");a.setAttribute("style","top: 0; left: 0; position: fixed;"),a.setAttribute("data-clipboard-text",t),document.body.appendChild(a),a.focus(),a.select();let l=new op.default(a),c=()=>{l.destroy(),document.body.removeChild(a)};l.on("success",()=>{i("exportinfo").textContent=u.t("importexport.copiedSave"),c()}),l.on("error",()=>{i("exportinfo").textContent=u.t("importexport.exportFailed"),O(u.t("importexport.unableCopySave")).finally(c)})}else{let s=document.createElement("a");s.setAttribute("href",`data:text/plain;charset=utf-8,${t}`),s.setAttribute("download",r),s.setAttribute("id","downloadSave"),document.body.appendChild(s),s.click(),document.body.removeChild(s),i("exportinfo").textContent=u.t("importexport.copiedFile")}setTimeout(()=>i("exportinfo").textContent="",15e3)},cp=async(t=!0)=>{var a;if(e.offlinetick=Date.now(),t){e.lastExportedSave=Date.now();let l=Bt(),c=1;c*=1+e.worlds.BONUS/100,c*=e.highestSingularityCount>=100?1+e.highestSingularityCount/50:1,+e.singularityUpgrades.goldenQuarks3.getEffect().bonus>0&&(e.goldenQuarks+=Math.floor(e.goldenQuarksTimer/(3600/+e.singularityUpgrades.goldenQuarks3.getEffect().bonus))*c,e.goldenQuarksTimer=e.goldenQuarksTimer%(3600/+e.singularityUpgrades.goldenQuarks3.getEffect().bonus)),l.gain>=1&&(e.worlds.add(l.gain),e.quarkstimer=e.quarkstimer%(3600/l.perHour))}if(!await rr())return;let n=(a=await $l.default.getItem("Synergysave2"))!=null?a:localStorage.getItem("Synergysave2"),s=typeof n=="string"?n:await(n==null?void 0:n.text());if(s===void 0)return O("How?");await Dl(s,xs()),setTimeout(()=>i("exportinfo").textContent="",15e3)},up=async()=>{await O(u.t("importexport.reloadDeletePrompt")),await Gl()},Gl=async()=>{let t=window.crypto.getRandomValues(new Uint16Array(1))[0]%16,r=window.crypto.getRandomValues(new Uint16Array(1))[0]%16,n=await Ue(u.t("importexport.resetPrompt",{a:t,b:r,sum:t+r}));if(n===null||Number(n)!==t+r)return O(u.t("importexport.wrongAnswer"));let s=Object.assign({},ve,{codes:Array.from(ve.codes)});Br(0),$e(0,{page:0}),$e(3,{page:0}),$e(7,{page:0}),$e(8,{page:0}),$e(9,{page:0}),$e(10,{page:0}),await Ms(ua(JSON.stringify(s)),!0)},Hl=async(t,r)=>{let n=t.target,s=n.files[0],a="";if(typeof Blob.prototype.text=="function")a=await s.text();else{let l=new FileReader;l.readAsText(s),a=await new Promise(d=>{l.addEventListener("load",()=>d(l.result.toString()))})}return n.value="",um(s.lastModified),r(a)},Ms=async(t,r=!1)=>{if(typeof t!="string")return O(u.t("importexport.unableImport"));let n=ip.default.decompressFromBase64(t),s=JSON.parse(n||atob(t));if(s.exporttest==="YES!"||s.exporttest===!0||s.exporttest===!1&&!1||s.exporttest==="NO!"&&!1){let a=ua(JSON.stringify(s));if(a===null)return O(u.t("importexport.unableImport"));ws.canSave=!1;let l=new Blob([a],{type:"text/plain"});localStorage.setItem("Synergysave2",a),await $l.default.setItem("Synergysave2",l),localStorage.setItem("saveScumIsCheating",Date.now().toString()),await Fl(r),ws.canSave=!0;return}else return O(u.t("importexport.loadTestInLive"))},ks=t=>{let r=i("promocodeinfo"),n=`'${t}': `,s=0;switch(t){case"daily":e.dailyCodeUsed?n+=u.t("importexport.daily0Uses"):n+=u.t("importexport.daily1Uses");break;case"add":s=mn(),s===0?n+=u.t("importexport.add0Uses",{x:0,y:p(Yo(),0)}):s!==1?n+=u.t("importexport.addUses",{x:s}):n+=u.t("importexport.add1Uses",{x:s});break;case"time":s=dp(),s===0?n+=u.t("importexport.add0Uses",{x:0,y:p(im(),0)}):n+=u.t("importexport.timeMultiplier",{x:s,y:p(gp(),2,!0)});break;default:n=""}r.textContent=n},pp=async()=>{let t=await Ue(u.t("importexport.promocodePrompt"));Kr(t)},Kr=async(t,r)=>{let n=i("promocodeinfo");if(t===null)return O(u.t("importexport.comeBackSoon"));if(t==="23andme"&&!e.codes.get(48)&&o.isEvent)return e.dailyCodeUsed?(e.codes.set(48,!0),e.quarkstimer=Bt().maxTime,e.goldenQuarksTimer=3600*24,Ne("ascension",8*3600),e.dailyCodeUsed=!1,(e.challenge15Exponent>=1e15||e.highestSingularityCount>0)&&(e.hepteractCrafts.quark.CAP*=2,e.hepteractCrafts.quark.BAL+=Math.min(1e13,e.hepteractCrafts.quark.CAP/2)),e.highestSingularityCount>0&&(e.singularityUpgrades.goldenQuarks1.freeLevels+=1+Math.floor(e.highestSingularityCount/10),e.singularityUpgrades.goldenQuarks2.freeLevels+=1+Math.floor(e.highestSingularityCount/10),e.singularityUpgrades.goldenQuarks3.freeLevels+=1+Math.floor(e.highestSingularityCount/10),e.singularityUpgrades.octeractUnlock.getEffect().bonus&&(e.octeractUpgrades.octeractImprovedQuarkHept.freeLevels+=.05)),O(`Not sponsored by the company! Your Quark timer(s) have been replenished and you have been given 8 real life hours of Ascension progress! Your daily code has also been reset for you.
                      ${e.challenge15Exponent>=1e15||e.highestSingularityCount>0?"Derpsmith also hacked your save to expand Quark Hepteract for free, and (to a limit) automatically filled the extra amount! What a generous, handsome gigachad.":""}
                      ${e.highestSingularityCount>0?"You were also given free levels of GQ1-3!":""} 
                      ${e.singularityUpgrades.octeractUnlock.getEffect().bonus?"Finally, you were given a tiny amount of free Octeract Quark Hepteract Improver upgrade!":""}`)):O("This event code gives you another usage of code 'daily'. Please use that code and try this event code again.");if(t==="synergism2021"&&!e.codes.get(1))e.codes.set(1,!0),e.runeshards+=25,e.worlds.add(50),n.textContent=u.t("importexport.promocodes.synergism2021");else if(t===":unsmith:"&&e.achievements[243]<1)F(243),n.textContent=u.t("importexport.promocodes.unsmith");else if(t===":antismith:"&&e.achievements[244]<1)F(244),n.textContent=u.t("importexport.promocodes.antismith");else if(t==="Khafra"&&!e.codes.get(26)){e.codes.set(26,!0);let a=Math.floor(Math.random()*(400-100+1)+100);e.worlds.add(a),n.textContent=u.t("importexport.promocodes.khafra",{x:e.worlds.applyBonus(a)})}else if(t==="alonso bribe"&&!e.codes.get(47)){let a=e.hepteractCrafts.quark;return a.UNLOCKED?a.computeActualCap()>=1e300?O(u.t("importexport.promocodes.bribe.overCapacity")):(e.codes.set(47,!0),a.CAP=Math.min(1e300,a.CAP*2),O(u.t("importexport.promocodes.bribe.thanks"))):O(u.t("importexport.promocodes.bribe.notUnlocked"))}else if(t.toLowerCase()==="daily"&&!e.dailyCodeUsed){e.dailyCodeUsed=!0;let a=u.t("importexport.promocodes.daily.message"),l=cm(),c=1+Math.min(49,e.highestSingularityCount),d=e.worlds.applyBonus(l.quarks*c);if(d>1e5&&(d=Math.pow(1e5,.75)*Math.pow(d,.25)),e.worlds.add(d,!1),e.goldenQuarks+=l.goldenQuarks,a+=`
${p(d,0,!0)} Quarks`,l.goldenQuarks>0&&(a+=`
${p(l.goldenQuarks,0,!0)} Golden Quarks`),await O(a),e.highestSingularityCount>0){let g={goldenQuarks3:{value:.2,pdf:y=>0<=y&&y<=1},goldenQuarks2:{value:.2,pdf:y=>1<=y&&y<=3},goldenQuarks1:{value:.2,pdf:y=>3<=y&&y<=10},singCubes3:{value:.25,pdf:y=>10<y&&y<=15},singObtainium3:{value:.25,pdf:y=>15<y&&y<=20},singOfferings3:{value:.25,pdf:y=>20<y&&y<=25},singCubes2:{value:.5,pdf:y=>25<y&&y<=80},singObtainium2:{value:.5,pdf:y=>80<y&&y<=140},singOfferings2:{value:.5,pdf:y=>140<y&&y<=200},singCubes1:{value:1,pdf:y=>200<y&&y<=400},singObtainium1:{value:1,pdf:y=>400<y&&y<=600},singOfferings1:{value:1,pdf:y=>600<y&&y<=800},ascensions:{value:1,pdf:y=>800<y&&y<=1e3}},m=3*Math.sqrt(e.highestSingularityCount);m+=+e.octeractUpgrades.octeractImprovedDaily.getEffect().bonus,m+=e.shopUpgrades.shopImprovedDaily2,m+=e.shopUpgrades.shopImprovedDaily3,m+=e.shopUpgrades.shopImprovedDaily4,m+=+e.singularityUpgrades.platonicPhi.getEffect().bonus*Math.min(50,5*e.singularityCounter/(3600*24)),m+=+e.octeractUpgrades.octeractImprovedDaily3.getEffect().bonus,m*=+e.octeractUpgrades.octeractImprovedDaily2.getEffect().bonus,m*=1+ +e.octeractUpgrades.octeractImprovedDaily3.getEffect().bonus/200,e.highestSingularityCount>=200&&(m*=2),m=Math.floor(m);let h=Object.keys(e.singularityUpgrades).filter(y=>y in g);a=u.t("importexport.promocodes.daily.message2");let b={};for(let y=0;y<m;y++){let v=1e3*Math.random();for(let w of h)g[w].pdf(v)&&(e.singularityUpgrades[w].freeLevels+=g[w].value,b[w]?b[w]+=g[w].value:b[w]=g[w].value)}e.highestSingularityCount>=20&&(e.singularityUpgrades.goldenQuarks1.freeLevels+=.2,b.goldenQuarks1?b.goldenQuarks1+=.2:b.goldenQuarks1=.2,e.singularityUpgrades.goldenQuarks2.freeLevels+=.2,b.goldenQuarks2?b.goldenQuarks2+=.2:b.goldenQuarks2=.2,e.singularityUpgrades.goldenQuarks3.freeLevels+=1,b.goldenQuarks3?b.goldenQuarks3+=1:b.goldenQuarks3=1),e.highestSingularityCount>=200&&(e.octeractUpgrades.octeractGain.freeLevels+=e.octeractUpgrades.octeractGain.level/100,b.octeractGain=e.octeractUpgrades.octeractGain.level/100),e.highestSingularityCount>=205&&(e.octeractUpgrades.octeractGain2.freeLevels+=e.octeractUpgrades.octeractGain2.level/100,b.octeractGain2=e.octeractUpgrades.octeractGain2.level/100);for(let y of Object.keys(b))a+=lm(y,b[y]);await O(a)}return}else if(t.toLowerCase()==="add"){let a=mn(),l=gs().total,c=p(Yo(),0),d=Wn().time;if(a<1){n.textContent=u.t("importexport.noAddCodes",{x:c});return}let g=null;if(r?g=r.toString():g=await Ue(u.t("importexport.useXAdds",{x:a}),a.toString()),g===null)return O(u.t("importexport.cancelAdd"));let m=Number(g);if(Number.isNaN(m)||!Number.isInteger(m)||m===0||m<0&&-m>=a)return O(u.t("general.validation.invalidNumber"));let h=Al(),b=m>0?Math.min(a,m):a+m,y=Math.floor(h.quarks*b),[v,w]=window.crypto.getRandomValues(new Uint8Array(2)),k=Math.max(Date.now()-(l-b)*d,e.rngCode+d*b),P=Math.floor((Date.now()-k)/d),A=Math.floor((d-(Date.now()-k-d*P))/1e3),R=b*h.ascensionTimer,Q=e.shopUpgrades.calculator3>0?u.t("importexport.promocodes.add.calculator3",{x:p(R)}):"",$=b*h.gqTimer,I=e.shopUpgrades.calculator5>0?u.t("importexport.promocodes.add.calculator5",{x:p($)}):"",S=b*h.octeractTime,L=e.shopUpgrades.calculator6>0?u.t("importexport.promocodes.add.calculator6",{x:p(S)}):"",G=b*h.blueberryTime,W=e.shopUpgrades.calculator7>0?u.t("importexport.promocodes.add.calculator7",{x:p(G,2,!0)}):"",x=e.highestSingularityCount>=150?u.t("importexport.promocodes.add.freeLevel",{x:p(.01*b,2),y:p(.05*b,2)}):"";if(e.shopUpgrades.calculator===ue.calculator.maxLevel)if(e.worlds.add(y),Ne("ascension",R),e.goldenQuarksTimer+=$,Ne("octeracts",S),Ne("ambrosia",G),e.highestSingularityCount>=150&&(e.singularityUpgrades.goldenQuarks1.freeLevels+=.01*b,e.singularityUpgrades.goldenQuarks3.freeLevels+=.05*b),e.rngCode=k,r){ks("add");return}else return O(u.t("importexport.promocodes.add.calculatorMaxed",{a:v,b:w,c:v+w,d:e.worlds.toString(y),e:Q,f:I,g:L,h:x,i:W,j:P,k:A.toLocaleString()}));let j={w:e.worlds.toString(y),x:v,y:w,z:v+w},se=e.shopUpgrades.calculator>0?u.t("importexport.promocodes.add.calculatorSolution",j):u.t("importexport.promocodes.add.calculatorPrompt",j),ce=await Ue(se);if(ce===null)return O(u.t("importexport.promocodes.add.cancelled"));e.rngCode=k,v+w===+ce?(e.worlds.add(y),Ne("ascension",R),e.goldenQuarksTimer+=$,Ne("octeracts",S),Ne("ambrosia",G),await O(u.t("importexport.promocodes.add.reward",{a:e.worlds.toString(y),b:Q,c:I,d:L,e:P,f:A.toLocaleString(navigator.language)}))):await O(u.t("importexport.promocodes.add.wrong",{w:ce,x:v+w,y:P,z:A.toLocaleString(navigator.language)}))}else if(t==="sub"){let a=1+window.crypto.getRandomValues(new Uint16Array(1))[0]%16,l=Number(e.worlds);await O(u.t("importexport.promocodes.sub.subbed",{x:a})),l<a&&await O(u.t("importexport.promocodes.sub.gave",{x:a-l,y:a})),e.worlds.sub(l<a?a-l:a)}else if(t==="gamble"){if((typeof e.skillCode=="number"||typeof localStorage.getItem("saveScumIsCheating")=="string")&&((Date.now()-e.skillCode)/1e3<3600||(Date.now()-Number(localStorage.getItem("saveScumIsCheating")))/1e3<3600))return n.textContent=u.t("importexport.promocodes.gamble.wait");if(!await Se(u.t("importexport.promocodes.gamble.confirm")))return n.textContent=u.t("importexport.promocodes.gamble.cancelled");let l=Number(await Ue(u.t("importexport.promocodes.gamble.betPrompt")));if(Number.isNaN(l)||l<=0)return n.textContent=u.t("general.validation.zeroOrLess");if(l>1e4)return n.textContent=u.t("importexport.promocodes.gamble.cheaters");if(Number(e.worlds)<l)return n.textContent=u.t("general.validation.moreThanPlayerHas");if(localStorage.setItem("saveScumIsCheating",Date.now().toString()),window.crypto.getRandomValues(new Uint8Array(1))[0]%6+1===1){let d=l*.25;return e.worlds.add(d,!1),e.skillCode=Date.now(),n.textContent=u.t("importexport.promocodes.gamble.won",{x:d})}e.worlds.sub(l),n.textContent=u.t("importexport.promocodes.gamble.lost",{x:l})}else if(t==="time"){if(dp()===0)return O(u.t("importexport.promocodes.time.wait"));let l=gp(),c=Math.random()*15e3,d=Date.now();if(await Se(u.t("importexport.promocodes.time.confirm",{x:p(2500+125*e.cubeUpgrades[61],0,!0),y:p(l,2,!0)}))){let m=Math.abs(Date.now()-(d+c));if(e.promoCodeTiming.time=Date.now(),m<=2500+125*e.cubeUpgrades[61]){let h=Math.floor(Math.min(1e3,125+25*e.highestSingularityCount)*(1+e.cubeUpgrades[61]/50)),b=e.worlds.applyBonus(h),y=0;b>66666&&(b=Math.pow(b,.35)*Math.pow(66666,.65)),e.visitedAmbrosiaSubtab&&(y=1800*l),e.worlds.add(b*l,!1),o.ambrosiaTimer+=y;let v=u.t("importexport.promocodes.time.won",{x:p(b*l,0,!0)}),w=y>0?u.t("importexport.promocodes.time.ambrosia",{blueberryTime:y}):"";return O(v+w)}else return O(u.t("importexport.promocodes.time.lost"))}}else if(t==="spoiler"){let a=Ur();return a>1?O(u.t("importexport.promocodes.spoiler.moreThan1",{x:p(a,2,!0)})):O(u.t("importexport.promocodes.spoiler.one",{x:p(1/a,2,!0)}))}else n.textContent=u.t("importexport.promocodes.invalid");await rr()&&(xt.emit("promocode",t),setTimeout(()=>n.textContent="",15e3))},ri=()=>{let t=[10,16,25,36,49,64,81,100,121,144,169,196,225,235,240],r=0;for(let n=0;n<t.length&&e.highestSingularityCount>=t[n];n++)r+=1;return 1+r/5},gs=()=>{let t=Math.floor(e.shopUpgrades.calculator5/10);e.shopUpgrades.calculator5===ue.calculator5.maxLevel&&(t+=6);let r=[24,2*e.shopUpgrades.calculator2,e.shopUpgrades.calculator4===ue.calculator4.maxLevel?32:0,t,e.shopUpgrades.calculator6===ue.calculator6.maxLevel?24:0,e.shopUpgrades.calculator7===ue.calculator7.maxLevel?48:0],n=fe(r);return r.push(ri()),n*=ri(),{list:r,total:Math.ceil(n)}},Wn=()=>{let t=[sm,1-.04*e.shopUpgrades.calculator4,1-Math.min(.6,(e.highestSingularityCount>=125?e.highestSingularityCount/800:0)+(e.highestSingularityCount>=200?e.highestSingularityCount/800:0)),e.runelevels[6]>0?.8:1,1/ri()];return{list:t,time:Ce(t)}},mn=()=>{let t=gs().total,r=Wn().time;return Math.floor(Math.min(t,(Date.now()-e.rngCode)/r))},Yo=()=>{let t=Math.floor(Wn().time+e.rngCode-Date.now())/1e3;if(t>0)return t;if(mn()===gs().total)return 0;{let n=Date.now()-e.rngCode-Wn().time*mn();return Math.floor(Wn().time-n)/1e3}},Al=()=>{let t=ri(),r=1+.14*e.shopUpgrades.calculator;r*=e.shopUpgrades.calculator2===ue.calculator2.maxLevel?1.25:1,r/=t;let n=Math.max(.4+.02*e.shopUpgrades.calculator3,2/5+window.crypto.getRandomValues(new Uint16Array(2))[0]%128/640),s=.4+.02*e.shopUpgrades.calculator3,a=.6,l=r*Bt().perHour,c=e.singularityUpgrades.expertPack.level>0?1.2:1,d=60*e.shopUpgrades.calculator3*c/t,g=6*e.shopUpgrades.calculator5/t,m=e.shopUpgrades.calculator6/t,h=e.shopUpgrades.calculator7/t;return{quarks:n*l,minQuarks:s*l,maxQuarks:a*l,ascensionTimer:d,gqTimer:g,octeractTime:m,blueberryTime:h}},dp=()=>(Date.now()-e.promoCodeTiming.time)/1e3<900?0:1,im=()=>900-(Date.now()-e.promoCodeTiming.time)/1e3,gp=()=>Math.min(24,(Date.now()-e.promoCodeTiming.time)/(1e3*3600)),lm=(t,r)=>{let n=t in D?u.t(`singularity.data.${t}.name`):u.t(`octeract.data.${t}.name`);return`
+${r} extra levels of '${n}'`},cm=()=>{let t=0,r=0,n=e.ascensionCount>0,s=e.highestSingularityCount>0;return(e.reincarnationCount>0||n||s)&&(t+=20),(e.challengecompletions[6]>0||n||s)&&(t+=20),(e.challengecompletions[7]>0||n||s)&&(t+=30),(e.challengecompletions[8]>0||n||s)&&(t+=30),(e.challengecompletions[9]>0||n||s)&&(t+=40),(e.challengecompletions[10]>0||n||s)&&(t+=60),(n||s)&&(t+=50),(e.challengecompletions[11]>0||s)&&(t+=50),(e.challengecompletions[12]>0||s)&&(t+=50),(e.challengecompletions[13]>0||s)&&(t+=50),(e.challengecompletions[14]>0||s)&&(t+=100),e.researches[200]===o.researchMaxLevels[200]&&(t+=250),e.cubeUpgrades[50]===1e5&&(t+=250),e.platonicUpgrades[5]>0&&(t+=250),e.platonicUpgrades[10]>0&&(t+=500),e.platonicUpgrades[15]>0&&(t+=750),e.challenge15Exponent>1e18&&(t+=Math.floor(1e3*(Math.log10(e.challenge15Exponent)-18))),e.platonicUpgrades[20]>0&&(t+=2500),t*=1+.05*e.shopUpgrades.shopImprovedDaily,t=Math.floor(t),s&&(r+=2+3*e.highestSingularityCount,r*=1+.2*e.shopUpgrades.shopImprovedDaily2,r*=1+.15*e.shopUpgrades.shopImprovedDaily3,r*=1+e.shopUpgrades.shopImprovedDaily4),{quarks:t,goldenQuarks:r}},um=t=>{let r=localStorage.getItem("firstPlayed"),n=new Date(t);if(r===null){localStorage.setItem("firstPlayed",n.toISOString());return}new Date(r).getTime()>n.getTime()&&(e.firstPlayed=n.toISOString(),localStorage.setItem("firstPlayed",e.firstPlayed))};var pm=["+0.0090% Cubes per Corruption level per level!","+0.018% Tesseracts per Corruption level per level!","+0.054% Hypercubes per Corruption level per level!","Gain +2.4% Platonic Cubes per level! It is that simple.","C10 Exponent: 1.035 --> 1.0375, Constant tax exponent +0.10, 2x faster Constant production, +20% Quarks, +10 Reincarnation Challenge Cap, +5 Ascension Challenge Cap, 2x Obtainium and Offerings, ^1.10 coin gain in C15, as well +1 Corruption Cap Level!","Multiplies Viscosity exponent by (1 + level/30), capacity of ^1 on Multipliers and Accelerators.","Raises speed below 1x to the power of ^(1 - level/30).","Divides Hyperchallenged by (1 + 0.4 * level), with a minimum 1x Challenge requirement multiplier!","Raise Obtainium to the power of (1+(0.09*log10(Obtainium owned))) and add another x2.5 multiplier (Uncorruptable), up until 1e100 Obtainium!","C10 Exponent: 1.0375 --> 1.04, Constant tax exponent +0.20, 10x faster Constant production, +25% Quarks, +10 Reincarnation Challenge Cap, +5 Ascension Challenge Cap, 3.5x Obtainium and Offerings, 2x All Cubes, ^1.25 ant exponent in C15, +1 Corruption Cap Level again!","With this upgrade, you will gain diamonds equal to particle gain on Reincarnation while using Market Deflation 11 or higher! Does not work with Cube upgrade [3x8]!","Gain (1 + lvl/100)x Ant multiplier per Challenge completion, ignoring corruptions to Ants.","Effect of Drought is raised to the power of 0.5.","Reduce the effect of Financial Recession in Challenge 15, multiplying the coin exponent by 1.55.","You begin to find the start of the abyss. Coin Exponent +0.10 in Challenge 15, Challenge 15 Score +25%, Ascension Speed +0.2% per Corruption Level (Max: 20%), +1% all Cube types per C9 Completion (Multiplicative), +30% Quarks, 1e250x Tesseract Building Multiplier, 2x Ascension Count, +30 Reincarnation Challenge Cap, +20 Ascension Challenge Cap, 6x Offerings and Obtainium (Uncorruptable)! Talk about a deep dive.","Increase powder conversion rate by 1% per level, gain +2% Ascension count per level and gain up to 2% more Ascension count per level based on powder, up to 100,000. This will also multiply Tesseract Building production by (Powder + 1)^(10 * level), uncapped.","If Viscosity Corruption is set to level 10 or higher, score multiplier is raised by an exponent. That exponent is 3 + 0.04 per level of this upgrade.","Raise the base percentage of Constant Upgrade 1 by 0.1% and increase the base percentage cap of Constant Upgrade 2 by 0.3% per level!","The diminishing return power on Chronos Hepteract changes from 0.166 to (0.166 + 0.00133 * level) [Max of 0.2333].","You know, maybe some things should be left unbought."],Le={1:{obtainium:1e70,offerings:1e45,cubes:1e13,tesseracts:1e6,hypercubes:1e5,platonics:1e4,abyssals:0,maxLevel:250,priceMult:2},2:{obtainium:3e70,offerings:2e45,cubes:1e11,tesseracts:1e8,hypercubes:1e5,platonics:1e4,abyssals:0,maxLevel:250,priceMult:2},3:{obtainium:1e71,offerings:4e45,cubes:1e11,tesseracts:1e6,hypercubes:1e7,platonics:1e4,abyssals:0,maxLevel:250,priceMult:2},4:{obtainium:4e71,offerings:1e46,cubes:1e12,tesseracts:1e7,hypercubes:1e6,platonics:1e6,abyssals:0,maxLevel:250,priceMult:2},5:{obtainium:1e80,offerings:1e60,cubes:1e14,tesseracts:1e9,hypercubes:1e8,platonics:1e7,abyssals:0,maxLevel:1},6:{obtainium:1e82,offerings:1e61,cubes:1e15,tesseracts:1e9,hypercubes:1e8,platonics:1e7,abyssals:0,maxLevel:10},7:{obtainium:1e84,offerings:3e62,cubes:2e15,tesseracts:2e9,hypercubes:2e8,platonics:15e6,abyssals:0,maxLevel:15},8:{obtainium:1e87,offerings:1e64,cubes:4e15,tesseracts:4e9,hypercubes:4e8,platonics:3e7,abyssals:0,maxLevel:5},9:{obtainium:1e90,offerings:1e66,cubes:1e16,tesseracts:1e10,hypercubes:1e9,platonics:5e7,abyssals:0,maxLevel:1},10:{obtainium:1e93,offerings:1e68,cubes:1e18,tesseracts:1e12,hypercubes:1e11,platonics:1e9,abyssals:0,maxLevel:1},11:{obtainium:2e96,offerings:1e70,cubes:2e17,tesseracts:2e11,hypercubes:2e10,platonics:2e8,abyssals:0,maxLevel:1},12:{obtainium:1e100,offerings:1e72,cubes:1e18,tesseracts:1e12,hypercubes:1e11,platonics:1e9,abyssals:0,maxLevel:10},13:{obtainium:2e104,offerings:1e74,cubes:2e19,tesseracts:4e12,hypercubes:4e11,platonics:4e9,abyssals:0,maxLevel:1},14:{obtainium:1e108,offerings:1e77,cubes:4e20,tesseracts:1e13,hypercubes:1e12,platonics:1e10,abyssals:0,maxLevel:1},15:{obtainium:1e115,offerings:1e80,cubes:1e23,tesseracts:1e15,hypercubes:1e14,platonics:1e12,abyssals:1,maxLevel:1},16:{obtainium:1e140,offerings:1e110,cubes:0,tesseracts:0,hypercubes:25e14,platonics:0,abyssals:0,maxLevel:100,priceMult:10},17:{obtainium:1e145,offerings:1e113,cubes:0,tesseracts:0,hypercubes:1e19,platonics:0,abyssals:2,maxLevel:20,priceMult:10},18:{obtainium:1e150,offerings:1e116,cubes:0,tesseracts:0,hypercubes:1e19,platonics:0,abyssals:4,maxLevel:40,priceMult:500},19:{obtainium:1e160,offerings:1e121,cubes:0,tesseracts:0,hypercubes:1e21,platonics:0,abyssals:64,maxLevel:50,priceMult:200},20:{obtainium:1e180,offerings:1e130,cubes:1e45,tesseracts:1e28,hypercubes:1e25,platonics:1e25,abyssals:Math.pow(2,30)-1,maxLevel:1}},Ql=(t,r=!1)=>{let n=0,s=["obtainium","offerings","cubes","tesseracts","hypercubes","platonics","abyssals"],a=["researchPoints","runeshards","wowCubes","wowTesseracts","wowHypercubes","wowPlatonicCubes","wowAbyssals"],l={obtainium:!1,offerings:!1,cubes:!1,tesseracts:!1,hypercubes:!1,platonics:!1,abyssals:!1,canBuy:!1},c=1;Le[t].priceMult&&(c=Math.pow(Le[t].priceMult,Math.pow(e.platonicUpgrades[t]/(Le[t].maxLevel-1),1.25))),c*=Ie("Platonic Costs");for(let d=0;d<s.length-1;d++)(r&&(s[d]==="obtainium"||s[d]==="offerings")||Math.floor(Le[t][s[d]]*c)<=e[a[d]])&&(n++,l[s[d]]=!0);return(e.hepteractCrafts.abyss.BAL>=Math.floor(Le[t].abyssals*c)||Le[t].abyssals===0)&&(n++,l.abyssals=!0),n===s.length&&e.platonicUpgrades[t]<Le[t].maxLevel&&(l.canBuy=!0),l},_l=t=>{let r="";e.platonicUpgrades[t]===Le[t].maxLevel&&(r=" [MAX]");let n=Ql(t),s=1;Le[t].priceMult&&(s=Math.pow(Le[t].priceMult,Math.pow(e.platonicUpgrades[t]/(Le[t].maxLevel-1),1.25))),s*=Ie("Platonic Costs"),i("platonicUpgradeDescription").textContent=pm[t-1],i("platonicUpgradeLevel").textContent=`Level: ${p(e.platonicUpgrades[t])}/${p(Le[t].maxLevel)}${r}`,i("platonicOfferingCost").textContent=`${p(e.runeshards)}/${p(Le[t].offerings*s)} Offerings`,i("platonicObtainiumCost").textContent=`${p(e.researchPoints)}/${p(Le[t].obtainium*s)} Obtainium`,i("platonicCubeCost").textContent=`${p(e.wowCubes)}/${p(Le[t].cubes*s)} Wow! Cubes`,i("platonicTesseractCost").textContent=`${p(e.wowTesseracts)}/${p(Le[t].tesseracts*s)} Wow! Tesseracts`,i("platonicHypercubeCost").textContent=`${p(e.wowHypercubes)}/${p(Le[t].hypercubes*s)} Wow! Hypercubes`,i("platonicPlatonicCost").textContent=`${p(e.wowPlatonicCubes)}/${p(Le[t].platonics*s)} Platonic! Cubes`,i("platonicHepteractCost").textContent=`${p(e.hepteractCrafts.abyss.BAL)}/${p(Math.floor(Le[t].abyssals*s),0,!0)} Hepteracts of the Abyss`,n.offerings?i("platonicOfferingCost").style.color="lime":i("platonicOfferingCost").style.color="var(--crimson-text-color)",n.obtainium?i("platonicObtainiumCost").style.color="lime":i("platonicObtainiumCost").style.color="var(--crimson-text-color)",n.cubes?i("platonicCubeCost").style.color="lime":i("platonicCubeCost").style.color="var(--crimson-text-color)",n.tesseracts?i("platonicTesseractCost").style.color="lime":i("platonicTesseractCost").style.color="var(--crimson-text-color)",n.hypercubes?i("platonicHypercubeCost").style.color="lime":i("platonicHypercubeCost").style.color="var(--crimson-text-color)",n.platonics?i("platonicPlatonicCost").style.color="lime":i("platonicPlatonicCost").style.color="var(--crimson-text-color)",n.abyssals?i("platonicHepteractCost").style.color="lime":i("platonicHepteractCost").style.color="var(--crimson-text-color)",e.platonicUpgrades[t]<Le[t].maxLevel&&(i("platonicUpgradeLevel").style.color="cyan",n.canBuy?(i("platonicCanBuy").style.color="gold",i("platonicCanBuy").textContent="===Affordable! Click to buy!==="):(i("platonicCanBuy").style.color="var(--crimson-text-color)",i("platonicCanBuy").textContent="===You cannot afford this!===")),e.platonicUpgrades[t]===Le[t].maxLevel&&(i("platonicUpgradeLevel").style.color="gold",i("platonicCanBuy").style.color="var(--orchid-text-color)",i("platonicCanBuy").textContent="===Maxed===")},Ss=t=>{let r=i(`platUpg${t}`),n=Le[t].maxLevel;e.platonicUpgrades[t]===0?r.style.backgroundColor="":e.platonicUpgrades[t]>0&&e.platonicUpgrades[t]<n?r.style.backgroundColor="purple":e.platonicUpgrades[t]===n&&(r.style.backgroundColor="green")},ql=(t,r=!1)=>{for(;t>0;){let n=Ql(t,r),s=1;if(Le[t].priceMult&&(s=Math.pow(Le[t].priceMult,Math.pow(e.platonicUpgrades[t]/(Le[t].maxLevel-1),1.25))),s*=Ie("Platonic Costs"),n.canBuy)e.platonicUpgrades[t]+=1,r||(e.researchPoints-=Math.floor(Le[t].obtainium*s),e.runeshards-=Math.floor(Le[t].offerings*s)),e.wowCubes.sub(Math.floor(Le[t].cubes*s)),e.wowTesseracts.sub(Math.floor(Le[t].tesseracts*s)),e.wowHypercubes.sub(Math.floor(Le[t].hypercubes*s)),e.wowPlatonicCubes.sub(Math.floor(Le[t].platonics*s)),e.hepteractCrafts.abyss.spend(Math.floor(Le[t].abyssals*s)),xt.emit("boughtPlatonicUpgrade",Le[t]),t===20&&!r&&e.singularityCount===0&&O("While I strongly recommended you not to buy this, you did it anyway. For that, you have unlocked the rune of Grandiloquence, for you are a richass.");else break;if(e.platonicUpgrades[t]===Le[t].maxLevel||e.singularityCount===0)break}_l(t),Ss(t),Oe()},fp=()=>{if(e.autoPlatonicUpgradesToggle&&(e.highestSingularityCount>=100&&e.insideSingularityChallenge||e.highestSingularityCount>=200))for(let t=1;t<e.platonicUpgrades.length;t++)e.platonicUpgrades[t]<Le[t].maxLevel&&Ql(t,!0).canBuy&&ql(t,!0)};var Ts=Mr(hp());var bp=t=>t.method!==void 0&&t.method==="call";var yp=t=>t.error===null&&typeof t.id=="number";var vp=t=>{let r=new Map([[0,()=>{}]]),n=new Map([[0,()=>{}]]),s=new Map,a=new Worker(t);return a.addEventListener("message",({data:m})=>{if(bp(m)){let{params:{timerId:h,timerType:b}}=m;if(b==="interval"){let y=r.get(h);if(typeof y=="number"){let v=s.get(y);if(v===void 0||v.timerId!==h||v.timerType!==b)throw new Error("The timer is in an undefined state.")}else if(typeof y<"u")y();else throw new Error("The timer is in an undefined state.")}else if(b==="timeout"){let y=n.get(h);if(typeof y=="number"){let v=s.get(y);if(v===void 0||v.timerId!==h||v.timerType!==b)throw new Error("The timer is in an undefined state.")}else if(typeof y<"u")y(),n.delete(h);else throw new Error("The timer is in an undefined state.")}}else if(yp(m)){let{id:h}=m,b=s.get(h);if(b===void 0)throw new Error("The timer is in an undefined state.");let{timerId:y,timerType:v}=b;s.delete(h),v==="interval"?r.delete(y):n.delete(y)}else{let{error:{message:h}}=m;throw new Error(h)}}),{clearInterval:m=>{let h=(0,Ts.generateUniqueNumber)(s);s.set(h,{timerId:m,timerType:"interval"}),r.set(m,h),a.postMessage({id:h,method:"clear",params:{timerId:m,timerType:"interval"}})},clearTimeout:m=>{let h=(0,Ts.generateUniqueNumber)(s);s.set(h,{timerId:m,timerType:"timeout"}),n.set(m,h),a.postMessage({id:h,method:"clear",params:{timerId:m,timerType:"timeout"}})},setInterval:(m,h=0)=>{let b=(0,Ts.generateUniqueNumber)(r);return r.set(b,()=>{m(),typeof r.get(b)=="function"&&a.postMessage({id:null,method:"set",params:{delay:h,now:performance.now(),timerId:b,timerType:"interval"}})}),a.postMessage({id:null,method:"set",params:{delay:h,now:performance.now(),timerId:b,timerType:"interval"}}),b},setTimeout:(m,h=0)=>{let b=(0,Ts.generateUniqueNumber)(n);return n.set(b,m),a.postMessage({id:null,method:"set",params:{delay:h,now:performance.now(),timerId:b,timerType:"timeout"}}),b}}};var Cp=(t,r)=>{let n=null;return()=>{if(n!==null)return n;let s=new Blob([r],{type:"application/javascript; charset=utf-8"}),a=URL.createObjectURL(s);return n=t(a),setTimeout(()=>URL.revokeObjectURL(a)),n}};var wp=`(()=>{"use strict";const e=new Map,t=new Map,r=(e,t)=>{let r,o;const i=performance.now();r=i,o=e-Math.max(0,i-t);return{expected:r+o,remainingDelay:o}},o=(e,t,r,i)=>{const s=performance.now();s>r?postMessage({id:null,method:"call",params:{timerId:t,timerType:i}}):e.set(t,setTimeout(o,r-s,e,t,r,i))};addEventListener("message",(i=>{let{data:s}=i;try{if("clear"===s.method){const{id:r,params:{timerId:o,timerType:i}}=s;if("interval"===i)(t=>{const r=e.get(t);if(void 0===r)throw new Error('There is no interval scheduled with the given id "'.concat(t,'".'));clearTimeout(r),e.delete(t)})(o),postMessage({error:null,id:r});else{if("timeout"!==i)throw new Error('The given type "'.concat(i,'" is not supported'));(e=>{const r=t.get(e);if(void 0===r)throw new Error('There is no timeout scheduled with the given id "'.concat(e,'".'));clearTimeout(r),t.delete(e)})(o),postMessage({error:null,id:r})}}else{if("set"!==s.method)throw new Error('The given method "'.concat(s.method,'" is not supported'));{const{params:{delay:i,now:n,timerId:a,timerType:d}}=s;if("interval"===d)((t,i,s)=>{const{expected:n,remainingDelay:a}=r(t,s);e.set(i,setTimeout(o,a,e,i,n,"interval"))})(i,a,n);else{if("timeout"!==d)throw new Error('The given type "'.concat(d,'" is not supported'));((e,i,s)=>{const{expected:n,remainingDelay:a}=r(e,s);t.set(i,setTimeout(o,a,t,i,n,"timeout"))})(i,a,n)}}}}catch(e){postMessage({error:{message:e.message},id:s.id,result:null})}}))})();`;var ai=Cp(vp,wp),xp=t=>ai().clearInterval(t),Mp=t=>ai().clearTimeout(t),kp=(...t)=>ai().setInterval(...t),Sp=(...t)=>ai().setTimeout(...t);var zr=[],$t=(t,r)=>{let n=kp(t,r);return zr.push({id:n,type:"interval"}),n},Xn=t=>{for(let r of zr)if(r.type==="interval"&&r.id===t){xp(t),zr.splice(zr.indexOf(r),1);return}},Ls=(t,r)=>{let n=Sp(t,r);return zr.push({id:n,type:"timeout"}),n},jl=t=>{for(let r of zr)if(r.type==="timeout"&&r.id===t){Mp(t),zr.splice(zr.indexOf(r),1);return}},Tp=()=>{for(let{id:t,type:r}of zr)r==="interval"?Xn(t):jl(t)};var Lp,ot=t=>{Xn(Lp),Lp=$t(()=>gm(t),50)},gm=t=>{i("resetofferings1").style.display="block";let r=e.currentChallenge.transcension,n=e.currentChallenge.reincarnation,s=Ar(t),a=Gr("resetofferings1"),l=i("resetofferings2"),c=Gr("resetcurrency1"),d=i("resetobtainium"),g=i("resetobtainium2"),m=i("resetinfo"),h=i("resetcurrency2");switch(t==="reincarnation"?(d.style.display="block",g.textContent=p(Math.floor(o.obtainiumGain))):(d.style.display="none",g.textContent=""),t==="ascensionChallenge"||t==="ascension"||t==="singularity"?a.style.display=l.style.display="none":a.style.display=l.style.display="block",t){case"prestige":c.src.endsWith(`Pictures/${Re[e.iconSet][0]}/Diamond.png`)||(c.src=`Pictures/${Re[e.iconSet][0]}/Diamond.png`),c.style.display="block",h.textContent=`+${p(o.prestigePointGain)}`,m.textContent=u.t("reset.details.prestige",{amount:p(e.coinsThisPrestige),timeSpent:p(e.prestigecounter)}),m.style.color="turquoise";break;case"transcension":c.src.endsWith(`Pictures/${Re[e.iconSet][0]}/Mythos.png`)||(c.src=`Pictures/${Re[e.iconSet][0]}/Mythos.png`),c.style.display="block",h.textContent=`+${p(o.transcendPointGain)}`,m.textContent=u.t("reset.details.transcension",{amount:p(e.coinsThisTranscension),timeSpent:p(e.transcendcounter)}),m.style.color="var(--orchid-text-color)";break;case"reincarnation":c.src.endsWith(`Pictures/${Re[e.iconSet][0]}/Particle.png`)||(c.src=`Pictures/${Re[e.iconSet][0]}/Particle.png`),c.style.display="block",h.textContent=`+${p(o.reincarnationPointGain)}`,m.textContent=u.t("reset.details.reincarnation",{amount:p(e.transcendShards),timeSpent:p(e.reincarnationcounter)}),m.style.color="limegreen";break;case"acceleratorBoost":c.src.endsWith(`Pictures/${Re[e.iconSet][0]}/Diamond.png`)||(c.src=`Pictures/${Re[e.iconSet][0]}/Diamond.png`),c.style.display="block",h.textContent=`-${p(e.acceleratorBoostCost)}`,m.textContent=u.t("reset.details.acceleratorBoost",{amount:p(e.prestigePoints),required:p(e.acceleratorBoostCost)}),m.style.color="cyan";break;case"transcensionChallenge":c.style.display="none",h.textContent="",r!==0?(m.style.color="aquamarine",m.textContent=u.t("reset.details.transcensionChallenge.in",{n:r,amount:p(e.coinsThisTranscension),required:p(Pt(r,e.challengecompletions[r])),timeSpent:p(e.transcendcounter)})):(m.style.color="var(--crimson-text-color)",m.textContent=u.t("reset.details.transcensionChallenge.out"));break;case"reincarnationChallenge":if(c.style.display="none",h.textContent="",n!==0){let b=n>=9?"coins":"transcendShards";m.style.color="silver",m.textContent=u.t(`reset.details.reincarnationChallenge.in.${b}`,{n,amount:p(e[b]),required:p(Pt(n,e.challengecompletions[n],n)),timeSpent:p(e.reincarnationcounter)})}else m.style.color="var(--crimson-text-color)",m.textContent=u.t("reset.details.reincarnationChallenge.out");break;case"ascensionChallenge":c.style.display="none",h.textContent="",m.textContent=u.t("reset.details.ascensionChallenge"),m.style.color="gold";break;case"ascension":c.style.display="none",h.textContent="",m.textContent=u.t("reset.details.ascension",{cubeAmount:p(Or()[4],0,!0),timeSpent:p(e.ascensionCounter,0,!1),realTimeSpent:p(e.ascensionCounterRealReal,0,!1)}),m.style.color="gold";break;case"singularity":c.style.display="none",h.textContent="",m.textContent=u.t("reset.details.singularity",{gqAmount:p(qt(),2,!0),timeSpent:p(e.singularityCounter,0,!1)}),m.style.color="lightgoldenrodyellow"}i("resetofferings2").textContent=`+${p(s)}`},nr=t=>{let r=null;t===1?(r=Number.parseFloat(i("prestigeamount").value)||0,e.prestigeamount=Math.max(r,0)):t===2?(r=Number.parseFloat(i("transcendamount").value)||0,e.transcendamount=Math.max(r,0)):t===3?(r=Number.parseFloat(i("reincarnationamount").value)||0,e.reincarnationamount=Math.max(r,0)):t===4?(r=Math.floor(Number.parseFloat(i("ascensionAmount").value))||1,e.autoAscendThreshold=Math.max(r,1)):t===5&&(r=Number.parseFloat(i("autoAntSacrificeAmount").value)||0,e.autoAntSacTimer=Math.max(r,0))},oi=()=>{let t=Math.floor(Number.parseFloat(i("tesseractAmount").value))||0;e.tesseractAutoBuyerAmount=Math.max(t,0)},Rr=t=>{let r=null;t===1?(r=Number(i("cubeOpensInput").value)||0,e.openCubes=Math.max(Math.min(r,100),0)):t===2?(r=Number(i("tesseractsOpensInput").value)||0,e.openTesseracts=Math.max(Math.min(r,100),0)):t===3?(r=Number(i("hypercubesOpensInput").value)||0,e.openHypercubes=Math.max(Math.min(r,100),0)):t===4&&(r=Number(i("platonicCubeOpensInput").value)||0,e.openPlatonicsCubes=Math.max(Math.min(r,100),0))},fm=(t,r="unknown")=>{let n=Ar(t),s=["enterChallenge","leaveChallenge"].includes(r);if(t==="prestige"){let a={seconds:e.prestigecounter,date:Date.now(),offerings:n,kind:"prestige",diamonds:o.prestigePointGain.toString()};xt.emit("historyAdd","reset",a)}else if(t==="transcension"||t==="transcensionChallenge"){let a={seconds:e.transcendcounter,date:Date.now(),offerings:n,kind:"transcend",mythos:o.transcendPointGain.toString()};xt.emit("historyAdd","reset",a)}else if(t==="reincarnation"||t==="reincarnationChallenge"){if(!s||o.reincarnationPointGain.gte(e.reincarnationPoints.div(10))){let a={seconds:e.reincarnationcounter,date:Date.now(),offerings:n,kind:"reincarnate",particles:o.reincarnationPointGain.toString(),obtainium:o.obtainiumGain};xt.emit("historyAdd","reset",a)}}else if((t==="ascension"||t==="ascensionChallenge")&&e.challengecompletions[10]>0){let a=Or(),l={seconds:e.ascensionCounter,date:Date.now(),c10Completions:e.challengecompletions[10],usedCorruptions:e.usedCorruptions.slice(0),corruptionScore:a[3],wowCubes:a[4],wowTesseracts:a[5],wowHypercubes:a[6],wowPlatonicCubes:a[7],wowHepteracts:a[8],kind:"ascend"};r!=="enterChallenge"&&e.currentChallenge.ascension!==0&&(l.currentChallenge=e.currentChallenge.ascension),xt.emit("historyAdd","ascend",l)}},Ae=(t,r=!1,n="unknown")=>{if(fm(t,n),Ru(t),si(1),e.coins=new f("102"),e.coinsThisPrestige=new f("100"),e.firstOwnedCoin=0,e.firstGeneratedCoin=new f("0"),e.firstCostCoin=new f("100"),e.secondOwnedCoin=0,e.secondGeneratedCoin=new f("0"),e.secondCostCoin=new f("1e3"),e.thirdOwnedCoin=0,e.thirdGeneratedCoin=new f("0"),e.thirdCostCoin=new f("2e4"),e.fourthOwnedCoin=0,e.fourthGeneratedCoin=new f("0"),e.fourthCostCoin=new f("4e5"),e.fifthOwnedCoin=0,e.fifthGeneratedCoin=new f("0"),e.fifthCostCoin=new f("8e6"),e.firstGeneratedDiamonds=new f("0"),e.secondGeneratedDiamonds=new f("0"),e.thirdGeneratedDiamonds=new f("0"),e.fourthGeneratedDiamonds=new f("0"),e.fifthGeneratedDiamonds=new f("0"),e.multiplierCost=new f("1e4"),e.multiplierBought=0,e.acceleratorCost=new f("500"),e.acceleratorBought=0,e.prestigeCount+=1,e.prestigePoints=e.prestigePoints.add(o.prestigePointGain),e.prestigeShards=new f("0"),e.prestigenoaccelerator=!0,e.prestigenomultiplier=!0,e.prestigenocoinupgrades=!0,e.highestSingularityCount===0&&(t==="prestige"&&!e.unlocks.prestige&&(i("prestigebtn").style.boxShadow=""),t==="transcension"&&!e.unlocks.transcend&&(i("transcendbtn").style.boxShadow=""),t==="reincarnation"&&!e.unlocks.reincarnate&&(i("reincarnatebtn").style.boxShadow=""),t==="ascension"&&e.ascensionCount===0&&(i("ascendbtn").style.boxShadow="")),e.unlocks.prestige=!0,e.prestigecounter<e.fastestprestige&&(e.fastestprestige=e.prestigecounter),o.prestigePointGain=new f("0"),e.prestigecounter=0,o.autoResetTimers.prestige=0,o.generatorPower=new f(1),["transcension","transcensionChallenge","reincarnation","reincarnationChallenge","ascension","ascensionChallenge"].includes(t)&&(si(2),e.coinsThisTranscension=new f("100"),e.firstOwnedDiamonds=0,e.firstCostDiamonds=new f("100"),e.secondOwnedDiamonds=0,e.secondCostDiamonds=new f("1e5"),e.thirdOwnedDiamonds=0,e.thirdCostDiamonds=new f("1e15"),e.fourthOwnedDiamonds=0,e.fourthCostDiamonds=new f("1e40"),e.fifthOwnedDiamonds=0,e.fifthCostDiamonds=new f("1e100"),e.firstGeneratedMythos=new f("0"),e.secondGeneratedMythos=new f("0"),e.thirdGeneratedMythos=new f("0"),e.fourthGeneratedMythos=new f("0"),e.fifthGeneratedMythos=new f("0"),e.acceleratorBoostBought=0,e.acceleratorBoostCost=new f("1e3"),e.transcendCount+=1,e.prestigePoints=new f("0"),e.transcendPoints=e.transcendPoints.add(o.transcendPointGain),e.transcendShards=new f("0"),e.transcendnocoinupgrades=!0,e.transcendnocoinorprestigeupgrades=!0,e.transcendnoaccelerator=!0,e.transcendnomultiplier=!0,o.transcendPointGain=new f("0"),e.achievements[78]>.5&&(e.firstOwnedDiamonds+=1),e.achievements[85]>.5&&(e.secondOwnedDiamonds+=1),e.achievements[92]>.5&&(e.thirdOwnedDiamonds+=1),e.achievements[99]>.5&&(e.fourthOwnedDiamonds+=1),e.achievements[106]>.5&&(e.fifthOwnedDiamonds+=1),e.achievements[4]>.5&&(e.upgrades[81]=1),e.achievements[11]>.5&&(e.upgrades[82]=1),e.achievements[18]>.5&&(e.upgrades[83]=1),e.achievements[25]>.5&&(e.upgrades[84]=1),e.achievements[32]>.5&&(e.upgrades[85]=1),e.achievements[80]>.5&&(e.upgrades[87]=1),e.transcendcounter<e.fastesttranscend&&e.currentChallenge.transcension===0&&(e.fastesttranscend=e.transcendcounter),e.transcendcounter=0,o.autoResetTimers.transcension=0),(t==="reincarnation"||t==="reincarnationChallenge")&&e.usedCorruptions[6]>10&&e.platonicUpgrades[11]>0&&(e.prestigePoints=e.prestigePoints.add(o.reincarnationPointGain)),t==="reincarnation"||t==="reincarnationChallenge"||t==="ascension"||t==="ascensionChallenge"||t==="singularity"){e.ascensionCount>0&&e.achievements[183]<1&&Ma(1),e.researchPoints=Math.min(1e300,e.researchPoints+Math.floor(o.obtainiumGain));let a=o.obtainiumGain/(1+e.reincarnationcounter);if(a>e.obtainiumpersecond&&(e.obtainiumpersecond=a),e.currentChallenge.transcension=0,si(3),e.coinsThisReincarnation=new f("100"),e.firstOwnedMythos=0,e.firstCostMythos=new f("1"),e.secondOwnedMythos=0,e.secondCostMythos=new f("1e2"),e.thirdOwnedMythos=0,e.thirdCostMythos=new f("1e4"),e.fourthOwnedMythos=0,e.fourthCostMythos=new f("1e8"),e.fifthOwnedMythos=0,e.fifthCostMythos=new f("1e16"),e.firstGeneratedParticles=new f("0"),e.secondGeneratedParticles=new f("0"),e.thirdGeneratedParticles=new f("0"),e.fourthGeneratedParticles=new f("0"),e.fifthGeneratedParticles=new f("0"),e.reincarnationCount+=1,e.transcendPoints=new f("0"),e.reincarnationPoints=e.reincarnationPoints.add(o.reincarnationPointGain),e.reincarnationShards=new f("0"),e.challengecompletions[1]=0,e.challengecompletions[2]=0,e.challengecompletions[3]=0,e.challengecompletions[4]=0,e.challengecompletions[5]=0,o.reincarnationPointGain=new f("0"),e.shopUpgrades.instantChallenge>0&&e.currentChallenge.reincarnation===0&&(e.challengecompletions[1]=e.highestchallengecompletions[1],e.challengecompletions[2]=e.highestchallengecompletions[2],e.challengecompletions[3]=e.highestchallengecompletions[3],e.challengecompletions[4]=e.highestchallengecompletions[4],e.challengecompletions[5]=e.highestchallengecompletions[5]),e.reincarnatenocoinupgrades=!0,e.reincarnatenocoinorprestigeupgrades=!0,e.reincarnatenocoinprestigeortranscendupgrades=!0,e.reincarnatenocoinprestigetranscendorgeneratorupgrades=!0,e.reincarnatenoaccelerator=!0,e.reincarnatenomultiplier=!0,e.reincarnationcounter<e.fastestreincarnate&&e.currentChallenge.reincarnation===0&&(e.fastestreincarnate=e.reincarnationcounter),Qt(),e.reincarnationcounter=0,o.autoResetTimers.reincarnation=0,e.autoResearchToggle&&e.autoResearch>.5){let l=e.autoResearch===200?.01:0;ar(e.autoResearch,!0,l)}Fe(),Ot()}if(t==="ascension"||t==="ascensionChallenge"||t==="singularity"){let a=Or();e.challengecompletions[10]>0&&Ma(3,a[3]),e.currentChallenge.transcension=0,e.currentChallenge.reincarnation=0,t==="ascensionChallenge"&&e.currentChallenge.ascension>10&&e.highestSingularityCount>=2&&e.autoChallengeToggles[10]?e.autoChallengeIndex=10:e.autoChallengeIndex=1,sr("START"),o.autoChallengeTimerIncrement=0,mm(),Wl(),hm(),e.reincarnationPoints=new f("0"),e.reincarnationShards=new f("0"),e.obtainiumpersecond=0,e.maxobtainiumpersecond=0,e.offeringpersecond=0,e.antSacrificePoints=0,e.antSacrificeTimer=0,e.antSacrificeTimerReal=0,e.antUpgrades[12-1]=0;for(let c=61;c<=80;c++)e.upgrades[c]=0;for(let c=94;c<=100;c++)e.upgrades[c]=0;e.firstOwnedParticles=0,e.secondOwnedParticles=0,e.thirdOwnedParticles=0,e.fourthOwnedParticles=0,e.fifthOwnedParticles=0,e.firstCostParticles=new f("1"),e.secondCostParticles=new f("100"),e.thirdCostParticles=new f("1e4"),e.fourthCostParticles=new f("1e8"),e.fifthCostParticles=new f("1e16"),e.runeexp=[0,0,0,0,0,e.runeexp[5],e.runeexp[6]],e.runelevels=[0,0,0,0,0,e.runelevels[5],e.runelevels[6]],e.runeshards=0,e.crystalUpgrades=[0,0,0,0,0,0,0,0],e.runelevels[0]=3*e.cubeUpgrades[26],e.runelevels[1]=3*e.cubeUpgrades[26],e.runelevels[2]=3*e.cubeUpgrades[26],e.runelevels[3]=3*e.cubeUpgrades[26],e.runelevels[4]=3*e.cubeUpgrades[26],e.cubeUpgrades[27]===1&&(e.firstOwnedParticles=1,e.secondOwnedParticles=1,e.thirdOwnedParticles=1,e.fourthOwnedParticles=1,e.fifthOwnedParticles=1),e.challengecompletions[10]>0&&e.ascensionCounter>0&&(e.ascensionCount+=hs(),isFinite(a[4])&&isFinite(a[5])&&isFinite(a[6])&&isFinite(a[7])&&isFinite(a[8])&&(e.wowCubes.add(a[4]),e.wowTesseracts.add(a[5]),e.wowHypercubes.add(a[6]),e.wowPlatonicCubes.add(a[7]),e.wowAbyssals=Math.min(1e300,e.wowAbyssals+a[8])));for(let c=1;c<=10;c++)e.challengecompletions[c]=0,e.highestchallengecompletions[c]=0;e.challengecompletions[6]=e.highestchallengecompletions[6]=e.cubeUpgrades[49],e.challengecompletions[7]=e.highestchallengecompletions[7]=e.cubeUpgrades[49],e.challengecompletions[8]=e.highestchallengecompletions[8]=e.cubeUpgrades[49],i(`res${e.autoResearch||1}`).classList.remove("researchRoomba"),e.roombaResearchIndex=0,e.autoResearch=1;for(let c=1;c<=200;c++){let d=`res${c}`;e.researches[c]>.5&&e.researches[c]<o.researchMaxLevels[c]?Lt(d,["researchPurchased"],["researchAvailable","researchMaxed","researchPurchasedAvailable","researchUnpurchased"]):e.researches[c]>.5&&e.researches[c]>=o.researchMaxLevels[c]?Lt(d,["researchMaxed"],["researchAvailable","researchPurchased","researchPurchasedAvailable","researchUnpurchased"]):Lt(d,["researchUnpurchased"],["researchAvailable","researchPurchased","researchPurchasedAvailable","researchMaxed"])}Ot(),Fe(),hn(),Xl(),yr(),Ma(1),e.ascensionCounter=0,e.ascensionCounterReal=0,e.ascensionCounterRealReal=0,_t(),mt(0),mt(1),mt(2),mt(3),mt(4),mt(5),mt(6),Qt(),Hn(),Dn(),e.cubeUpgrades[4]===1&&(e.upgrades[94]=1,e.upgrades[95]=1,e.upgrades[96]=1,e.upgrades[97]=1,e.upgrades[98]=1),e.cubeUpgrades[5]===1&&(e.upgrades[99]=1),e.cubeUpgrades[6]===1&&(e.upgrades[100]=1);for(let c=61;c<=80;c++)i(`upg${c}`).style.backgroundColor="";for(let c=94;c<=100;c++)e.upgrades[c]===0&&(i(`upg${c}`).style.backgroundColor="");let l=Kn();if(e.usedCorruptions=e.prototypeCorruptions.map((c,d)=>d>=2&&d<=9?Math.min(l*(e.challengecompletions[ii(d)]>0||e.singularityUpgrades.platonicTau.getEffect().bonus?1:0),c):c),e.usedCorruptions[1]=0,e.prototypeCorruptions[1]=0,e.currentChallenge.ascension===15&&(t==="ascension"||t==="ascensionChallenge")){e.usedCorruptions[0]=0,e.prototypeCorruptions[0]=0;for(let c=2;c<=9;c++)e.usedCorruptions[c]=11}Sa(),Ap(!1)}if(t==="ascension"||t==="ascensionChallenge"){let a=Ou(),l=a.length+(e.overfluxOrbsAutoBuy?1:0);if(e.highestSingularityCount>=1&&l>0){let c=Math.floor(e.wowAbyssals/l*(e.hepteractAutoCraftPercentage/100));for(let d of a)d.autoCraft(c);if(e.overfluxOrbsAutoBuy){let d=Math.floor(c/25e4);e.wowAbyssals-25e4*d>=0&&(e.overfluxOrbs+=d,e.overfluxPowder+=e.shopUpgrades.powderAuto*hr().mult*d/100,e.wowAbyssals-=25e4*d),e.wowAbyssals<0&&(e.wowAbyssals=0)}}if(e.researches[190]>0&&e.tesseractAutoBuyerToggle===1&&e.resettoggle4===2){let c=[null,null,null,null,null];for(let h=1;h<=5;h++)e.autoTesseracts[h]&&(c[h-1]=e[`ascendBuilding${h}`].owned);let d=100-Math.min(100,e.tesseractAutoBuyerAmount),g=Number(e.wowTesseracts)*d/100,m=yo(c,g);for(let h=5;h>=1;h--){let b=c[h-1],y=m[h-1];b!==null&&y!==null&&y!==b&&$n(h,y-b)}}fp(),Tu(),e.highestSingularityCount>=35&&(e.autoOpenCubes&&e.openCubes!==0&&e.cubeUpgrades[51]>0&&e.wowCubes.open(Math.floor(Number(e.wowCubes)*e.openCubes/100),!1),e.autoOpenTesseracts&&e.openTesseracts!==0&&e.challengecompletions[11]>0&&(e.tesseractAutoBuyerToggle!==1||e.resettoggle4===2)&&e.wowTesseracts.open(Math.floor(Number(e.wowTesseracts)*e.openTesseracts/100),!1),e.autoOpenHypercubes&&e.openHypercubes!==0&&e.challengecompletions[13]>0&&e.wowHypercubes.open(Math.floor(Number(e.wowHypercubes)*e.openHypercubes/100),!1),e.autoOpenPlatonicsCubes&&e.openPlatonicsCubes!==0&&e.challengecompletions[14]>0&&e.wowPlatonicCubes.open(Math.floor(Number(e.wowPlatonicCubes)*e.openPlatonicsCubes/100),!1))}if(e.unlocks.prestige=!0,(t==="transcension"||t==="transcensionChallenge")&&(e.unlocks.transcend=!0),(t==="reincarnation"||t==="reincarnationChallenge")&&(e.unlocks.reincarnate=!0),t==="singularity"){e.unlocks.coinone=!1,e.unlocks.cointwo=!1,e.unlocks.cointhree=!1,e.unlocks.coinfour=!1,e.unlocks.generation=!1,e.unlocks.prestige=!1,e.unlocks.transcend=!1,e.unlocks.reincarnate=!1,e.unlocks.rrow1=!1,e.unlocks.rrow2=!1,e.unlocks.rrow3=!1,e.unlocks.rrow4=!1,e.ascendBuilding1.owned=0,e.ascendBuilding1.generated=new f("0"),e.ascendBuilding2.owned=0,e.ascendBuilding2.generated=new f("0"),e.ascendBuilding3.owned=0,e.ascendBuilding3.generated=new f("0"),e.ascendBuilding4.owned=0,e.ascendBuilding4.generated=new f("0"),e.ascendBuilding5.owned=0,e.ascendBuilding5.generated=new f("0"),e.constantUpgrades=[null,0,0,0,0,0,0,0,0,0,0],e.wowCubes=new Ft(0),e.wowTesseracts=new Ft(0),e.wowHypercubes=new Ft(0),e.wowTesseracts=new Ft(0),e.wowAbyssals=0;for(let a=1;a<=50;a++)e.cubeUpgrades[a]=0}r||Oe(),(t==="transcensionChallenge"||t==="reincarnationChallenge"||t==="ascensionChallenge")&&Cr(),Ps()},Pp=()=>{e.highestSingularityCount>=1&&F(274),e.highestSingularityCount>=2&&F(275),e.highestSingularityCount>=3&&F(276),e.highestSingularityCount>=4&&F(277),e.highestSingularityCount>=5&&F(278),e.highestSingularityCount>=7&&F(279),e.highestSingularityCount>=10&&F(280)},Ap=(t=!0)=>{if(e.achievements[275]>0){t&&(e.prestigeCount=1,e.transcendCount=1),e.transcendPoints=new f("1001"),e.unlocks.coinone=!0,e.unlocks.cointwo=!0,e.unlocks.cointhree=!0,e.unlocks.coinfour=!0,e.unlocks.prestige=!0,e.unlocks.generation=!0,e.unlocks.transcend=!0;for(let a=0;a<5;a++)F(4+7*a);F(36),F(43)}if(e.achievements[276]>0){e.currentChallenge.ascension!==12&&(t&&(e.reincarnationCount=1),e.reincarnationPoints=new f("10")),e.unlocks.reincarnate=!0,e.unlocks.rrow1=!0,e.researches[47]=1;for(let a=0;a<2;a++)for(let l=0;l<5;l++)F(78+a+7*l);for(let a=0;a<7;a++)F(57+a),F(64+a),F(71+a);F(37),F(38),F(44),F(50),F(80),F(87)}e.achievements[277]>0&&(e.currentChallenge.ascension!==14&&(e.researchPoints=Math.floor(500*Ie("Offering")*Ie("Researches"))),e.currentChallenge.ascension!==12&&(e.reincarnationPoints=new f("1e16")),e.challengecompletions[6]=1,e.highestchallengecompletions[6]=1,F(113));let r=["offeringAuto","offeringEX","obtainiumAuto","obtainiumEX","antSpeed","cashGrab"];if(e.achievements[278]>0&&t){for(let a of r)e.shopUpgrades[a]=10;e.cubeUpgrades[7]=1}if(e.achievements[279]>0&&(e.challengecompletions[7]=1,e.highestchallengecompletions[7]=1,F(120),e.currentChallenge.ascension!==12&&(e.reincarnationPoints=new f("1e100"))),e.achievements[280]>0){F(124),F(127),e.challengecompletions[8]=1,e.highestchallengecompletions[8]=1,e.cubeUpgrades[8]=1,e.cubeUpgrades[4]=1,e.cubeUpgrades[5]=1,e.cubeUpgrades[6]=1,e.firstOwnedAnts=1;for(let a=0;a<7;a++)F(176+a)}if(e.highestSingularityCount>10&&(e.cubeUpgrades[9]=1),e.highestSingularityCount>=15&&(e.challengecompletions[8]=5,e.highestchallengecompletions[8]=5,e.currentChallenge.ascension!==12&&(e.reincarnationPoints=new f("2.22e2222")),e.fifthOwnedAnts=1,e.cubeUpgrades[20]=1),e.highestSingularityCount>=20){let a=["offeringAuto","offeringEX","obtainiumAuto","obtainiumEX","antSpeed","cashGrab"];e.challengecompletions[9]=1,e.highestchallengecompletions[9]=1,F(134),e.antPoints=new f("1e100"),e.antUpgrades[11]=1;for(let l of a)e.shopUpgrades[l]=ue[l].maxLevel}if(e.highestSingularityCount>=25&&(e.eighthOwnedAnts=1),e.highestSingularityCount>=30&&(e.researches[130]=1,e.researches[135]=1,e.researches[145]=1),e.highestSingularityCount>=100&&t&&(e.cubeUpgrades[51]=1,fl()),e.singularityUpgrades.platonicAlpha.getEffect().bonus&&e.platonicUpgrades[5]===0&&(e.platonicUpgrades[5]=1,Ss(5)),t)for(let a=1;a<=15;a++)or(a);if(si(3),t)for(let a=1;a<e.cubeUpgrades.length;a++)Qn(a);for(let a=1;a<e.researches.length;a++)e.researches[a]>0&&ba(a);Vl(),Oe()},Vl=()=>{let t=e.achievements[278]>0,r=["offeringAuto","offeringEX","obtainiumAuto","obtainiumEX","antSpeed","cashGrab"];for(let c of r)ue[c].refundMinimumLevel=t?10:c.endsWith("Auto")?1:0;let n=e.highestSingularityCount>=20,s=["offeringAuto","offeringEX","obtainiumAuto","obtainiumEX","antSpeed","cashGrab"];for(let c of s)ue[c].refundable=!n;let a=e.highestSingularityCount>=51,l=["seasonPass","seasonPass2","seasonPass3","seasonPassY","chronometer","chronometer2"];for(let c of l)ue[c].refundable=!a},ka=async(t=-1)=>{var m,h,b,y,v,w,k;if(e.runelevels[6]===0&&t===-1)return O("You nearly triggered a double singularity bug! Oh no! Luckily, our staff prevented this from happening.");if(t===-1){let P=Object.values(e.cubeBlessings),A=Object.values(e.tesseractBlessings),R=Object.values(e.hypercubeBlessings),Q=Object.values(e.platonicBlessings),$={seconds:e.singularityCounter,date:Date.now(),singularityCount:e.singularityCount,quarks:e.quarksThisSingularity,c15Score:e.challenge15Exponent,goldenQuarks:qt(),wowTribs:fe(P),tessTribs:fe(A),hyperTribs:fe(R),platTribs:fe(Q),octeracts:e.totalWowOcteracts,quarkHept:e.hepteractCrafts.quark.BAL,kind:"singularity"};xt.emit("historyAdd","singularity",$)}if(e.runelevels[6]=0,e.goldenQuarks+=qt(),t===-1){let P=1+Bn();e.singularityCount+=P,e.singularityCount>=e.highestSingularityCount&&(e.highestSingularityCount=e.singularityCount,e.highestSingularityCount===5&&(e.singularityUpgrades.goldenQuarks3.freeLevels+=1),e.highestSingularityCount===10&&(e.singularityUpgrades.goldenQuarks3.freeLevels+=2))}else e.singularityCount=t;e.totalQuarksEver+=e.quarksThisSingularity,await No(!0);let r=Object.assign({},ve,{codes:Array.from(ve.codes)});Br(0),$e(0,{page:0}),$e(3,{page:0}),$e(7,{page:0}),$e(8,{page:0}),$e(9,{page:0}),$e(10,{page:0}),r.history.singularity=e.history.singularity,r.totalQuarksEver=e.totalQuarksEver,r.singularityCount=e.singularityCount,r.highestSingularityCount=e.highestSingularityCount,r.goldenQuarks=e.goldenQuarks,r.shopUpgrades=e.shopUpgrades,r.worlds.reset(),r.singularityUpgrades=Object.fromEntries(Object.entries(e.singularityUpgrades).map(([P,A])=>[P,{level:A.level,goldenQuarksInvested:A.goldenQuarksInvested,toggleBuy:A.toggleBuy,freeLevels:A.freeLevels}])),r.octeractUpgrades=Object.fromEntries(Object.entries(e.octeractUpgrades).map(([P,A])=>[P,{level:A.level,octeractsInvested:A.octeractsInvested,toggleBuy:A.toggleBuy,freeLevels:A.freeLevels}])),r.blueberryUpgrades=Object.fromEntries(Object.entries(e.blueberryUpgrades).map(([P,A])=>[P,{level:A.level,ambrosiaInvested:A.ambrosiaInvested,blueberriesInvested:A.blueberriesInvested,toggleBuy:A.toggleBuy,freeLevels:A.freeLevels}])),r.spentBlueberries=e.spentBlueberries,r.autoChallengeToggles=e.autoChallengeToggles,r.autoChallengeTimer=e.autoChallengeTimer,r.saveString=e.saveString,r.corruptionLoadouts=e.corruptionLoadouts,r.corruptionLoadoutNames=e.corruptionLoadoutNames,r.corruptionShowStats=e.corruptionShowStats,r.toggles=e.toggles,r.retrychallenges=e.retrychallenges,r.resettoggle1=e.resettoggle1,r.resettoggle2=e.resettoggle2,r.resettoggle3=e.resettoggle3,r.resettoggle4=e.resettoggle4,r.coinbuyamount=e.coinbuyamount,r.crystalbuyamount=e.crystalbuyamount,r.mythosbuyamount=e.mythosbuyamount,r.particlebuyamount=e.particlebuyamount,r.offeringbuyamount=e.offeringbuyamount,r.tesseractbuyamount=e.tesseractbuyamount,r.shoptoggles=e.shoptoggles,r.autoSacrificeToggle=e.autoSacrificeToggle,r.autoBuyFragment=e.autoBuyFragment,r.autoFortifyToggle=e.autoFortifyToggle,r.autoEnhanceToggle=e.autoEnhanceToggle,r.autoResearchToggle=e.autoResearchToggle,r.autoResearchMode=e.autoResearchMode,r.dailyCodeUsed=e.dailyCodeUsed,r.runeBlessingBuyAmount=e.runeBlessingBuyAmount,r.runeSpiritBuyAmount=e.runeSpiritBuyAmount,r.prestigeamount=e.prestigeamount,r.transcendamount=e.transcendamount,r.reincarnationamount=e.reincarnationamount,r.talismanOne=e.talismanOne,r.talismanTwo=e.talismanTwo,r.talismanThree=e.talismanThree,r.talismanFour=e.talismanFour,r.talismanFive=e.talismanFive,r.talismanSix=e.talismanSix,r.talismanSeven=e.talismanSeven,r.buyTalismanShardPercent=e.buyTalismanShardPercent,r.antMax=e.antMax,r.autoAntSacrifice=e.autoAntSacrifice,r.autoAntSacrificeMode=e.autoAntSacrificeMode,r.autoAntSacTimer=e.autoAntSacTimer,r.autoAscend=e.autoAscend,r.autoAscendMode=e.autoAscendMode,r.autoAscendThreshold=e.autoAscendThreshold,r.autoResearch=0,r.autoTesseracts=e.autoTesseracts,r.tesseractAutoBuyerToggle=e.tesseractAutoBuyerToggle,r.tesseractAutoBuyerAmount=e.tesseractAutoBuyerAmount,r.autoOpenCubes=e.autoOpenCubes,r.openCubes=e.openCubes,r.autoOpenTesseracts=e.autoOpenTesseracts,r.openTesseracts=e.openTesseracts,r.autoOpenHypercubes=e.autoOpenHypercubes,r.openHypercubes=e.openHypercubes,r.autoOpenPlatonicsCubes=e.autoOpenPlatonicsCubes,r.openPlatonicsCubes=e.openPlatonicsCubes,r.historyShowPerSecond=e.historyShowPerSecond,r.exporttest=e.exporttest,r.dayTimer=e.dayTimer,r.dayCheck=e.dayCheck,r.ascStatToggles=e.ascStatToggles,r.hepteractAutoCraftPercentage=e.hepteractAutoCraftPercentage,r.autoWarpCheck=e.autoWarpCheck,r.shopBuyMaxToggle=e.shopBuyMaxToggle,r.shopHideToggle=e.shopHideToggle,r.shopConfirmationToggle=e.shopConfirmationToggle,r.researchBuyMaxToggle=e.researchBuyMaxToggle,r.cubeUpgradesBuyMaxToggle=e.cubeUpgradesBuyMaxToggle,r.wowOcteracts=e.wowOcteracts,r.totalWowOcteracts=e.totalWowOcteracts,r.overfluxOrbsAutoBuy=e.overfluxOrbsAutoBuy,r.hotkeys=e.hotkeys,r.theme=e.theme,r.notation=e.notation,r.firstPlayed=e.firstPlayed,r.autoCubeUpgradesToggle=e.autoCubeUpgradesToggle,r.autoPlatonicUpgradesToggle=e.autoPlatonicUpgradesToggle,r.insideSingularityChallenge=e.insideSingularityChallenge,r.ultimatePixels=e.ultimatePixels,r.ultimateProgress=e.ultimateProgress,r.singularityChallenges=Object.fromEntries(Object.entries(e.singularityChallenges).map(([P,A])=>[P,{completions:A.completions,highestSingularityCompleted:A.highestSingularityCompleted,enabled:A.enabled}])),r.iconSet=e.iconSet,r.hepteractCrafts.quark=e.hepteractCrafts.quark;for(let P of Object.keys(e.hepteractCrafts))if(P!=="quark"){let A=P;r.hepteractCrafts[A].AUTO=e.hepteractCrafts[A].AUTO}r.ambrosia=e.ambrosia,r.lifetimeAmbrosia=e.lifetimeAmbrosia,r.visitedAmbrosiaSubtab=e.visitedAmbrosiaSubtab,r.blueberryTime=e.blueberryTime,r.blueberryLoadouts=e.blueberryLoadouts,r.blueberryLoadoutMode=e.blueberryLoadoutMode;let n=(m=e.codes.get(42))!=null?m:!1,s=(h=e.codes.get(43))!=null?h:!1,a=(b=e.codes.get(44))!=null?b:!1,l=(y=e.codes.get(45))!=null?y:!1,c=(v=e.codes.get(46))!=null?v:!1,d=(w=e.codes.get(47))!=null?w:!1,g=(k=e.codes.get(48))!=null?k:!1;await Ms(btoa(JSON.stringify(r)),!0),e.codes.set(39,!0),e.codes.set(40,!0),e.codes.set(41,!0),e.codes.set(42,n),e.codes.set(43,s),e.codes.set(44,a),e.codes.set(45,l),e.codes.set(46,c),e.codes.set(47,d),e.codes.set(48,g),Ap(),e.rngCode=Date.now(),e.promoCodeTiming.time=Date.now(),rr()},si=t=>{if(t>2.5){for(let r=41;r<61;r++)r!==46&&(e.upgrades[r]=0);e.researches[41]===0&&(e.upgrades[46]=0),e.researches[41]<.5&&(e.upgrades[88]=0),e.achievements[50]===0&&(e.upgrades[89]=0),e.researches[42]<.5&&(e.upgrades[90]=0),e.researches[43]<.5&&(e.upgrades[91]=0),e.researches[44]<.5&&(e.upgrades[92]=0),e.researches[45]<.5&&(e.upgrades[93]=0),e.upgrades[116]=0,e.upgrades[117]=0,e.upgrades[118]=0,e.upgrades[119]=0,e.upgrades[120]=0}for(let r=1;r<=20;r++)e.upgrades[r]=0;for(let r=121,n=106;r<=125;r++,n++)e.upgrades[r]=0,e.upgrades[n]=0;if(t>1.5&&(e.achievements[4]<.5&&(e.upgrades[81]=0),e.achievements[11]<.5&&(e.upgrades[82]=0),e.achievements[18]<.5&&(e.upgrades[83]=0),e.achievements[25]<.5&&(e.upgrades[84]=0),e.achievements[32]<.5&&(e.upgrades[85]=0),e.achievements[87]<.5&&(e.upgrades[86]=0),e.achievements[80]<.5&&(e.upgrades[87]=0),e.upgrades[101]=0,e.upgrades[102]=0,e.upgrades[103]=0,e.upgrades[104]=0,e.upgrades[105]=0),t>1.5){for(let r=21;r<41;r++)e.upgrades[r]=0;e.upgrades[111]=0,e.upgrades[112]=0,e.upgrades[113]=0,e.upgrades[114]=0,e.upgrades[115]=0}if(t>1.5){e.crystalUpgrades=[0,0,0,0,0,0,0,0],e.crystalUpgradesCost=[7,15,20,40,100,200,500,1e3],Kl();let r=0;r+=Math.floor(o.rune3level*o.effectiveLevelMult/16)*100/100,e.upgrades[73]>.5&&e.currentChallenge.reincarnation!==0&&(r+=10),e.crystalUpgrades=[r,r,r,r,r,r,r,r]}e.achievements[87]>.5&&(e.upgrades[86]=1);for(let r=1;r<=125;r++)Gt(r,!0)},Wl=()=>{e.firstOwnedAnts=0,e.secondOwnedAnts=0,e.thirdOwnedAnts=0,e.fourthOwnedAnts=0,e.fifthOwnedAnts=0,e.sixthOwnedAnts=0,e.seventhOwnedAnts=0,e.eighthOwnedAnts=0,e.firstGeneratedAnts=new f("0"),e.secondGeneratedAnts=new f("0"),e.thirdGeneratedAnts=new f("0"),e.fourthGeneratedAnts=new f("0"),e.fifthGeneratedAnts=new f("0"),e.sixthGeneratedAnts=new f("0"),e.seventhGeneratedAnts=new f("0"),e.eighthGeneratedAnts=new f("0"),e.firstCostAnts=new f("1e700"),e.secondCostAnts=new f("3"),e.thirdCostAnts=new f("100"),e.fourthCostAnts=new f("1e4"),e.fifthCostAnts=new f("1e12"),e.sixthCostAnts=new f("1e36"),e.seventhCostAnts=new f("1e100"),e.eighthCostAnts=new f("1e300"),e.cubeUpgrades[48]>0&&(e.firstOwnedAnts=1,e.firstCostAnts=new f("1e741"));let t=e.antUpgrades[12-1];e.antUpgrades=[0,0,0,0,0,0,0,0,0,0,0,t],e.antPoints=new f("1"),e.currentChallenge.ascension===12&&(e.antPoints=new f("7")),Ot(),Fe()},mm=()=>{e.researchPoints=0;let t=[6,7,8,9,10,11,12,13,14,15,16,17,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,51,52,53,54,55,56,57,58,59,60,62,63,64,65,66,67,68,69,70,76,81,85,86,87,88,89,90,91,92,93,94,96,97,98,101,102,103,104,106,107,108,109,110,116,117,118,121,122,123,126,127,128,129,131,132,133,134,136,137,139,141,142,143,144,146,147,148,149,151,152,154,156,157,158,159,161,162,163,164,166,167,169,171,172,173,174,176,177,178,179,181,182,184,186,187,188,189,191,192,193,194,196,197,199];e.highestSingularityCount<25&&t.push(138,153,168,183,198);for(let r of t)e.researches[r]=0},hm=()=>{e.talismanLevels=[0,0,0,0,0,0,0],e.talismanRarity=[1,1,1,1,1,1,1],e.talismanShards=0,e.commonFragments=0,e.uncommonFragments=0,e.rareFragments=0,e.epicFragments=0,e.legendaryFragments=0,e.mythicalFragments=0};var bm={antspecies1:"Inceptus Formicidae",antspecies2:"Fortunae Formicidae",antspecies3:"Tributum Formicidae",antspecies4:"Celeritas Formicidae",antspecies5:"Multa Formicidae",antspecies6:"Sacrificium Formicidae",antspecies7:"Hic Formicidae",antspecies8:"Experientia Formicidae",antspecies9:"Praemoenio Formicidae",antspecies10:"Scientia Formicidae",antspecies11:"Phylacterium Formicidae",antspecies12:"Mortuus Est Formicidae"},zl=()=>e.currentChallenge.ascension!==15?1e5+It(499e5,(e.antUpgrades[1]+o.bonusant2)/5e3*500/499):1e-4*(1e5+It(499e5,(e.antUpgrades[1]+o.bonusant2)/5e3*500/499)),ym=[()=>p(f.pow(1.12+1/1e3*e.researches[101],e.antUpgrades[1-1]+o.bonusant1),2),()=>p(zl()),()=>p(.005+.995*Math.pow(.99,e.antUpgrades[3-1]+o.bonusant3),4),()=>p(100*(It(20,(e.antUpgrades[4-1]+o.bonusant4)/1e3*20/19)-1),3),()=>p(100*(It(40,(e.antUpgrades[5-1]+o.bonusant5)/1e3*40/39)-1),3),()=>p(1+Math.pow(e.antUpgrades[6-1]+o.bonusant6,.66),4),()=>p(Math.min(9999999,3*e.antUpgrades[7-1]+3*o.bonusant7),0,!0),()=>p(It(999,1/1e4*Math.pow(e.antUpgrades[8-1]+o.bonusant8,1.1)),3),()=>p(1*Math.min(1e7,e.antUpgrades[9-1]+o.bonusant9),0,!0),()=>p(1+2*Math.pow((e.antUpgrades[10-1]+o.bonusant10)/50,.75),4),()=>p(1+2*(1-Math.pow(2,-(e.antUpgrades[11-1]+o.bonusant11)/125)),4),()=>p(bt(2,e.antUpgrades[12-1]+o.bonusant12,69),4)],Ep,Up=t=>{Xn(Ep),Ep=$t(()=>Yl(t),50)},Yl=t=>{if(o.currentTab!==6)return;let r=i("anttierdescription"),n=i("antprice"),s=i("antquantity"),a=i("generateant"),l="ants.costGalacticCrumbs",c="first",d;switch(r.textContent=u.t(`ants.descriptions.${t}`),t){case 1:l="ants.costParticles",c="first",d=p(o.antOneProduce,5);break;case 2:c="second",d=p(o.antTwoProduce,5);break;case 3:c="third",d=p(o.antThreeProduce,5);break;case 4:c="fourth",d=p(o.antFourProduce,5);break;case 5:c="fifth",d=p(o.antFiveProduce,5);break;case 6:c="sixth",d=p(o.antSixProduce,5);break;case 7:c="seventh",d=p(o.antSevenProduce,5);break;case 8:c="eighth",d=p(o.antEightProduce,5);break}a.textContent=u.t(`ants.generates.${t}`,{x:d}),n.textContent=u.t(l,{x:p(e[`${c}CostAnts`])}),s.textContent=u.t("ants.owned",{x:p(e[`${c}OwnedAnts`]),y:p(e[`${c}GeneratedAnts`],2)})},As=(t,r,n)=>(--r,t.times(f.pow(o.antCostGrowth[n-1],r)).add(1*r)),Ta=(t,r,n)=>(--r,t.times(f.pow(o.antUpgradeCostIncreases[n-1],r))),Zl=(t,r,n)=>{let s=bn(e.antSacrificePoints);r=new f(r);let a=n===1?"reincarnationPoints":"antPoints",l=`${t}OwnedAnts`,c=e[l]+ke(e[l]),d=c,g=As(r,d,n);for(;e[a].gte(g);)d=d*4,g=As(r,d,n);let m=Math.floor(d/8);for(;m>=ke(d);)As(r,d-m,n).lte(e[a])?m=Math.floor(m/2):d=d-Math.max(ke(d),m);e.antMax||c<d&&(d=c);let h=Math.max(d-6-ke(d),c),b=As(r,h,n);for(;h<=d&&e[a].gte(b);)e[a]=e[a].sub(b),e[l]=h,h=h+ke(h),b=As(r,h,n),e[`${t}CostAnts`]=b;e.reincarnationPoints.lt(0)&&(e.reincarnationPoints=new f("0")),e.antPoints.lt(0)&&(e.antPoints=new f("0")),hn();let y=[2,6,20,100,500,6666,77777];for(let v=0;v<y.length;v++)e.achievements[176+v]===0&&s>y[v]&&e[`${o.ordinals[v+1]}OwnedAnts`]>0&&F(176+v);e.firstOwnedAnts>69e6&&(e.firstOwnedAnts=69e6)},Jl=(t,r,n)=>{if(e.currentChallenge.ascension!==11){t=new f(t);let s=e.antUpgrades[n-1]+ke(e.antUpgrades[n-1]),a=s,l=Ta(t,a,n);for(;e.antPoints.gte(l);)a=a*4,l=Ta(t,a,n);let c=Math.floor(a/8);for(;c>=ke(a);)Ta(t,a-c,n).lte(e.antPoints)?c=Math.floor(c/2):a=a-Math.max(ke(a),c);e.antMax||s<a&&(a=s);let d=Math.max(a-6-ke(a),s),g=Ta(t,d,n);for(;d<=a&&e.antPoints.gte(g);)e.antPoints=e.antPoints.sub(g),e.antUpgrades[n-1]=d,d=d+ke(d),g=Ta(t,d,n);Ot(),Fe(),hn(),r||ec(n),e.antUpgrades[12-1]===1&&n===12&&Oe()}},ec=t=>{let r=i("antspecies"),n=i("antlevelbonus"),s=i("antupgradedescription"),a=i("antupgradecost"),l=i("antupgradeeffect"),c=bm[`antspecies${t}`],d=u.t(`ants.upgrades.${t}`),g=o[`bonusant${t}`],m=e.currentChallenge.ascension===11?999:0;r.childNodes[0].textContent=`${c} Level ${p(e.antUpgrades[t-1])}`,n.textContent=` [+${p(Math.min(e.antUpgrades[t-1]+m,g))}]`,s.textContent=d,a.textContent=u.t("ants.costGalacticCrumbs",{x:p(f.pow(o.antUpgradeCostIncreases[t-1],e.antUpgrades[t-1]*o.extinctionMultiplier[e.usedCorruptions[10]]).times(o.antUpgradeBaseCost[t-1]))}),l.textContent=u.t(`ants.rewards.${t}`,{x:ym[t-1]()})},bn=t=>{let r=Math.pow(1+t/5e3,2);return r*=1+.2*Math.log(1+t)/Math.log(10),e.achievements[174]>0&&(r*=1+.4*Math.log(1+t)/Math.log(10)),Math.min(1e300,r)},sp=()=>{let t=tc();i("antSacrificeSummary").style.display="block",i("ELO").innerHTML=u.t("ants.yourAntELO",{x:p(o.antELO,2),y:p(o.effectiveELO,2,!1)}),i("SacrificeMultiplier").innerHTML=u.t("ants.antSacMultiplier",{y:p(bn(e.antSacrificePoints),3,!1),x:p(bn(e.antSacrificePoints+t.antSacrificePoints),3,!1)}),i("SacrificeUpgradeMultiplier").innerHTML=u.t("ants.upgradeMultiplier",{x:p(o.upgradeMultiplier,3,!0)}),i("SacrificeTimeMultiplier").innerHTML=u.t("ants.timeMultiplier",{x:p(o.timeMultiplier,3,!0)}),i("antSacrificeOffering").textContent=`+${p(t.offerings)}`,i("antSacrificeObtainium").textContent=`+${p(t.obtainium)}`,e.challengecompletions[9]>0&&(i("antSacrificeTalismanShard").textContent=u.t("ants.elo",{x:p(t.talismanShards),y:500}),i("antSacrificeCommonFragment").textContent=u.t("ants.elo",{x:p(t.commonFragments),y:750}),i("antSacrificeUncommonFragment").textContent=u.t("ants.elo",{x:p(t.uncommonFragments),y:1e3}),i("antSacrificeRareFragment").textContent=u.t("ants.elo",{x:p(t.rareFragments),y:1500}),i("antSacrificeEpicFragment").textContent=u.t("ants.elo",{x:p(t.epicFragments),y:2e3}),i("antSacrificeLegendaryFragment").textContent=u.t("ants.elo",{x:p(t.legendaryFragments),y:3e3}),i("antSacrificeMythicalFragment").textContent=u.t("ants.elo",{x:p(t.mythicalFragments),y:5e3}))},xa=async(t=!1)=>{let r=!0;if(e.antPoints.gte("1e40")&&(!t&&e.toggles[32]&&(r=await Se(u.t("ants.autoReset"))),r)){let n=e.antSacrificePoints,s=tc();e.antSacrificePoints+=s.antSacrificePoints,e.runeshards+=s.offerings,e.currentChallenge.ascension!==14&&(e.researchPoints+=s.obtainium);let a={date:Date.now(),seconds:e.antSacrificeTimer,kind:"antsacrifice",offerings:s.offerings,obtainium:s.obtainium,antSacrificePointsBefore:n,antSacrificePointsAfter:e.antSacrificePoints,baseELO:o.antELO,effectiveELO:o.effectiveELO,crumbs:e.antPoints.toString(),crumbsPerSecond:o.antOneProduce.toString()};if(e.challengecompletions[9]>0&&(e.talismanShards=Math.min(1e300,e.talismanShards+s.talismanShards),e.commonFragments=Math.min(1e300,e.commonFragments+s.commonFragments),e.uncommonFragments=Math.min(1e300,e.uncommonFragments+s.uncommonFragments),e.rareFragments=Math.min(1e300,e.rareFragments+s.rareFragments),e.epicFragments=Math.min(1e300,e.epicFragments+s.epicFragments),e.legendaryFragments=Math.min(1e300,e.legendaryFragments+s.legendaryFragments),e.mythicalFragments=Math.min(1e300,e.mythicalFragments+s.mythicalFragments)),Wl(),e.antSacrificeTimer=0,e.antSacrificeTimerReal=0,_t(),e.autoResearch>0&&e.autoResearchToggle){let l=e.autoResearch===200?.01:0;ar(e.autoResearch,!0,l)}hn(),xt.emit("historyAdd","ants",a)}e.mythicalFragments>=1e11&&e.currentChallenge.ascension===14&&e.achievements[248]<1&&F(248)},Op=()=>{let t=(l,c)=>e.antPoints.gte(Ta(new f(o.antUpgradeBaseCost[l-1]),e.antUpgrades[l-1]+1,l).times(c)),r=[176,176,177,178,178,179,180,180,181,182,182,145],n=["100","100","1000","1000","1e5","1e6","1e8","1e11","1e15","1e20","1e40","1e100"];if(e.currentChallenge.ascension!==11)for(let l=1;l<=r.length;l++)(l===12?e.researches[r[l-1]]:e.achievements[r[l-1]])&&t(l,2)&&Jl(n[l-1],!0,l);let s=[173,176,177,178,179,180,181,182],a=["1e700","3","100","10000","1e12","1e36","1e100","1e300"];for(let l=1;l<=s.length;l++){let c=l===1?e.reincarnationPoints:e.antPoints,d=l===1?1:2;e.achievements[s[l-1]]&&c.gte(e[`${o.ordinals[l-1]}CostAnts`].times(d))&&Zl(o.ordinals[l-1],a[l-1],l)}};var li=new Map([["A",["Buy Accelerators",()=>da(),!1]],["B",["Boost Accelerator",()=>Nn(),!1]],["C",["Auto Challenge",()=>{Bp()},!1]],["E",["Exit T / R Challenge",()=>{e.autoChallengeRunning?Bp():Rp()},!1]],["M",["Multipliers",()=>ga(),!1]],["N",["No (Cancel)",()=>rc(!1),!0]],["P",["Reset Prestige",()=>Te("prestige"),!1]],["R",["Reset Reincarnate",()=>Te("reincarnation"),!1]],["S",["Sacrifice Ants",()=>xa(),!1]],["T",["Reset Transcend",()=>Te("transcension"),!1]],["Y",["Yes (OK)",()=>rc(!0),!0]],["ARROWLEFT",["Back a tab",()=>Es(-1),!1]],["ARROWRIGHT",["Next tab",()=>Es(1),!1]],["ARROWUP",["Back a subtab",()=>Es(-1,!0),!1]],["ARROWDOWN",["Next subtab",()=>Es(1,!0),!1]],["SHIFT+A",["Reset Ascend",()=>Te("ascension"),!1]],["SHIFT+C",["Cleanse Corruptions",()=>Yr(10,999),!1]],["SHIFT+D",["Spec. Action Add x1",()=>Kr("add",1),!1]],["SHIFT+E",["Exit Asc. Challenge",()=>Te("ascensionChallenge"),!1]],["SHIFT+O",["Use Off. Potion",()=>Vr("offeringPotion"),!1]],["SHIFT+P",["Use Obt. Potion",()=>Vr("obtainiumPotion"),!1]],["SHIFT+S",["Reset Singularity",()=>Te("singularity"),!1]],["CTRL+B",["Un-hide Tabs",()=>et.reappend(),!1]]]),nc=!1,it=new Map(li),Bp=()=>{e.researches[150]>0&&(Bs(),e.autoChallengeRunning||Rp())},Rp=()=>{e.currentChallenge.reincarnation!==0&&Te("reincarnationChallenge",void 0,!0),e.currentChallenge.transcension!==0&&Te("transcensionChallenge",void 0,!0)},vm=t=>{var a;if(!nc||!e.toggles[39])return;if(((a=document.activeElement)==null?void 0:a.localName)==="input"){t.stopPropagation();return}Np(t,t.code.replace(/^(Digit|Numpad)/,"").toUpperCase());let r="";t.ctrlKey&&(r+="CTRL+"),t.shiftKey&&(r+="SHIFT+"),t.altKey&&(r+="ALT+");let n=r+t.key.toUpperCase();if(n==="TAB"&&t.preventDefault(),n!=="ENTER"&&i("transparentBG").style.display==="block"&&it.has(n)&&!it.get(n)[2])return;let s="";it.has(n)&&(s=`${it.get(n)[0]}`,it.get(n)[1](),t.preventDefault()),o.currentTab===10&&e.subtabNumber===6&&(i("lastHotkey").textContent=n,i("lastHotkeyName").textContent=s)},Cm=(t,r)=>{let n=document.createElement("div");n.classList.add("hotkeyItem");let s=document.createElement("span");s.id="actualHotkey",s.textContent=t,s.addEventListener("click",async l=>{var b,y,v;let c=l.target,d=c.textContent.toUpperCase(),g=(v=(b=it.get(d))==null?void 0:b[0])!=null?v:(y=c.nextSibling)==null?void 0:y.textContent,m=await Ue(`
        Enter the new key you want to activate ${g} with.

        MDN has a list of values for "special keys" if you would like to use one:
        https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/key/Key_Values

        You can also prefix your hotkey with [Ctrl,Shift,Alt]+<key>
        `);if(typeof m!="string")return;let h=m.toUpperCase();if(m.length===0)return void O("You didn't enter anything, canceled!");if(!isNaN(Number(m)))return void O("Number keys are currently unavailable!");if(it.has(h)||d===h)return void O("That key is already binded to an action, use another key instead!");if(it.has(d)){let w=it.get(d);it.set(h,w),it.delete(d);let k=Object.keys(e.hotkeys);e.hotkeys[k.length]=[d,h],c.textContent=h,Us()}else return void O(`No hotkey is triggered by ${d}!`)});let a=document.createElement("p");return a.id="hotKeyDesc",a.textContent=r,n.appendChild(s),n.appendChild(a),n},ci=()=>nc=!1,Us=()=>{wm();let t=document.querySelector(".hotkeys");for(let r of Array.from(t.children))t.removeChild(r);for(let[r,[n]]of[...it.entries()]){let s=Cm(r,n);t.appendChild(s)}nc=!0},wm=()=>{it=new Map(li);for(let t in e.hotkeys){let r=e.hotkeys[t][0],n=e.hotkeys[t][1];if(it.has(r)){let s=it.get(r);it.set(n,s),it.delete(r)}else Reflect.deleteProperty(e.hotkeys,t)}},Ip=async()=>{if(Us(),Object.keys(e.hotkeys).length===0)return await O("You haven't changed the hotkey");let r="",n=new Map(li);for(let a in e.hotkeys){let l=e.hotkeys[a][0],c=e.hotkeys[a][1];if(n.has(l)){let d=n.get(l);r+=`	${l}[${d[0]}] to ${c}, `,n.set(c,d),n.delete(l)}}await Se(`Are you sure you want to default all the changed hotkeys?
Below is a history of hotkeys you have changed

${r}`)&&(it=new Map(li),e.hotkeys={},Us())},Os=new Set;document.addEventListener("keydown",t=>{vm(t),Os.add(t.code)});document.addEventListener("keyup",t=>Os.delete(t.code));var $p={[10]:{tabSwitcher:()=>_p,subTabList:[{subTabID:"settingsubtab",unlocked:!0},{subTabID:"languagesubtab",unlocked:!0},{subTabID:"creditssubtab",unlocked:!0},{subTabID:"statisticsSubTab",unlocked:!0},{subTabID:"resetHistorySubTab",get unlocked(){return e.unlocks.prestige}},{subTabID:"ascendHistorySubTab",get unlocked(){return e.ascensionCount>0}},{subTabID:"singularityHistorySubTab",get unlocked(){return e.highestSingularityCount>0}},{subTabID:"hotkeys",unlocked:!0},{subTabID:"accountSubTab",unlocked:!0}]},[11]:{subTabList:[]},[0]:{tabSwitcher:()=>Hp,subTabList:[{subTabID:"coin",unlocked:!0,buttonID:"switchToCoinBuilding"},{subTabID:"diamond",get unlocked(){return e.unlocks.prestige},buttonID:"switchToDiamondBuilding"},{subTabID:"mythos",get unlocked(){return e.unlocks.transcend},buttonID:"switchToMythosBuilding"},{subTabID:"particle",get unlocked(){return e.unlocks.reincarnate},buttonID:"switchToParticleBuilding"},{subTabID:"tesseract",get unlocked(){return e.achievements[183]>0},buttonID:"switchToTesseractBuilding"}]},[1]:{subTabList:[]},[2]:{subTabList:[]},[3]:{tabSwitcher:()=>Fp,subTabList:[{subTabID:"1",get unlocked(){return e.unlocks.prestige},buttonID:"toggleRuneSubTab1"},{subTabID:"2",get unlocked(){return e.achievements[134]>0},buttonID:"toggleRuneSubTab2"},{subTabID:"3",get unlocked(){return e.achievements[134]>0},buttonID:"toggleRuneSubTab3"},{subTabID:"4",get unlocked(){return e.achievements[204]>0},buttonID:"toggleRuneSubTab4"}]},[4]:{subTabList:[]},[5]:{subTabList:[]},[6]:{subTabList:[]},[7]:{tabSwitcher:()=>qp,subTabList:[{subTabID:"1",get unlocked(){return e.achievements[141]>0},buttonID:"switchCubeSubTab1"},{subTabID:"2",get unlocked(){return e.achievements[197]>0},buttonID:"switchCubeSubTab2"},{subTabID:"3",get unlocked(){return e.achievements[211]>0},buttonID:"switchCubeSubTab3"},{subTabID:"4",get unlocked(){return e.achievements[218]>0},buttonID:"switchCubeSubTab4"},{subTabID:"5",get unlocked(){return e.achievements[141]>0},buttonID:"switchCubeSubTab5"},{subTabID:"6",get unlocked(){return e.achievements[218]>0},buttonID:"switchCubeSubTab6"},{subTabID:"7",get unlocked(){return e.challenge15Exponent>=1e15},buttonID:"switchCubeSubTab7"}]},[8]:{tabSwitcher:()=>jp,subTabList:[{subTabID:"true",get unlocked(){return e.achievements[141]>0},buttonID:"corrStatsBtn"},{subTabID:"false",get unlocked(){return e.achievements[141]>0},buttonID:"corrLoadoutsBtn"}]},[9]:{tabSwitcher:()=>Qp,subTabList:[{subTabID:"1",get unlocked(){return e.highestSingularityCount>0},buttonID:"toggleSingularitySubTab1"},{subTabID:"2",get unlocked(){return e.highestSingularityCount>0},buttonID:"toggleSingularitySubTab2"},{subTabID:"3",get unlocked(){return!!e.singularityUpgrades.octeractUnlock.getEffect().bonus},buttonID:"toggleSingularitySubTab3"},{subTabID:"4",get unlocked(){return e.highestSingularityCount>=25},buttonID:"toggleSingularitySubTab4"},{subTabID:"5",get unlocked(){return e.singularityChallenges.noSingularityUpgrades.completions>=1},buttonID:"toggleSingularitySubTab5"}]},[12]:{subTabList:[]}},De,jt,pi,Dp,ui=class extends HTMLDivElement{constructor(){var n;super();tn(this,pi);tn(this,De,[]);tn(this,jt,void 0);this.id="tabrow",this.style.cssText=`
      text-align: center;
      width: 100%;
      list-style: none;
      margin: 0;
      margin-inline: unset;
      margin-block: unset;
      padding-inline: unset;
      display: flex;
      justify-content: center;
      gap: 0 5px;
    `,(n=document.getElementsByClassName("navbar").item(0))==null||n.appendChild(this)}getSubs(){return ye(this,De)}appendButton(...n){for(let s of n)ye(this,De).push(s),this.appendChild(s);$r(this,jt,ye(this,De)[0]),Ic(this,pi,Dp).call(this)}getCurrentTab(){return ye(this,jt)}setNextTab(){var s;let n=ye(this,De).indexOf(ye(this,jt));return $r(this,jt,(s=ye(this,De)[n+1])!=null?s:ye(this,De)[0]),ye(this,jt)}setPreviousTab(){var s;let n=ye(this,De).indexOf(ye(this,jt));return $r(this,jt,(s=ye(this,De)[n-1])!=null?s:ye(this,De)[ye(this,De).length-1]),ye(this,jt)}getNextTab(n=ye(this,jt)){var a;let s=ye(this,De).indexOf(n);return(a=ye(this,De)[s+1])!=null?a:ye(this,De)[0]}getPreviousTab(n=ye(this,jt)){var a;let s=ye(this,De).indexOf(n);return(a=ye(this,De)[s-1])!=null?a:ye(this,De)[ye(this,De).length-1]}reappend(){this.replaceChildren();for(let n of ye(this,De))this.appendChild(n);ye(this,De).forEach(n=>n.resetHidden())}};De=new WeakMap,jt=new WeakMap,pi=new WeakSet,Dp=function(){let n=null,s=g=>{fo(g.target instanceof HTMLElement),g.target.style.opacity="0.4",n=g.target,g.dataTransfer.effectAllowed="move"},a=g=>{g.target instanceof HTMLElement&&g.target.classList.add("over")},l=g=>{g.target instanceof HTMLElement&&g.target.classList.remove("over")},c=g=>{if(g.stopPropagation(),n!==g.target&&n!==null){this.insertBefore(n,g.target);let m=ye(this,De).indexOf(n),h=ye(this,De).indexOf(g.target);ye(this,De).splice(h,0,ye(this,De)[m]),ye(this,De).splice(ye(this,De).indexOf(n,m),1)}return!1},d=g=>{fo(g.target instanceof HTMLElement),g.target.style.opacity="1",ye(this,De).forEach(m=>{m.classList.remove("over")})};ye(this,De).forEach(g=>{g.addEventListener("dragstart",s,!1),g.addEventListener("dragenter",a,!1),g.addEventListener("dragover",c,!1),g.addEventListener("dragleave",l,!1),g.addEventListener("drop",c,!1),g.addEventListener("dragend",d,!1)})};var Rs,yn,Is,La,Mt=class extends HTMLButtonElement{constructor(n){super();tn(this,Rs,()=>!0);tn(this,yn,void 0);tn(this,Is,!1);tn(this,La,!1);this.id=n.id,n.class&&this.classList.add(n.class),n.i18n&&this.setAttribute("i18n",n.i18n),n.borderColor&&(this.style.borderColor=n.borderColor),this.addEventListener("click",()=>{ye(this,Is)&&Os.has("ControlLeft")&&Os.has("KeyX")?o.currentTab!==ye(this,yn)&&(et.removeChild(this),$r(this,La,!0)):(Br(ye(this,yn)),di())})}setUnlockedState(n){return $r(this,Rs,n),this}isUnlocked(){return ye(this,Rs).call(this)&&!ye(this,La)}setType(n){return $r(this,yn,n),this}getType(){return ye(this,yn)}getSubTabs(){return $p[ye(this,yn)]}makeDraggable(){return this.setAttribute("draggable","true"),this}makeRemoveable(){return $r(this,Is,!0),this}resetHidden(){$r(this,La,!1)}};Rs=new WeakMap,yn=new WeakMap,Is=new WeakMap,La=new WeakMap;customElements.define("tab-row",ui,{extends:"div"});customElements.define("sub-tab",Mt,{extends:"button"});var et=new ui;et.appendButton(new Mt({id:"buildingstab",i18n:"tabs.main.buildings"}).setType(0).makeDraggable().makeRemoveable(),new Mt({id:"upgradestab",i18n:"tabs.main.upgrades"}).setType(1).makeDraggable().makeRemoveable(),new Mt({id:"achievementstab",i18n:"tabs.main.achievements",class:"coinunlock4"}).setUnlockedState(()=>e.unlocks.coinfour).setType(2).makeDraggable().makeRemoveable(),new Mt({class:"prestigeunlock",id:"runestab",i18n:"tabs.main.runes"}).setUnlockedState(()=>e.unlocks.prestige).setType(3).makeDraggable().makeRemoveable(),new Mt({class:"transcendunlock",id:"challengetab",i18n:"tabs.main.challenges"}).setUnlockedState(()=>e.unlocks.transcend).setType(4).makeDraggable().makeRemoveable(),new Mt({class:"reincarnationunlock",id:"researchtab",i18n:"tabs.main.research"}).setUnlockedState(()=>e.unlocks.reincarnate).setType(5).makeDraggable().makeRemoveable(),new Mt({class:"chal8",id:"anttab",i18n:"tabs.main.antHill"}).setUnlockedState(()=>e.achievements[127]>0).setType(6).makeDraggable().makeRemoveable(),new Mt({class:"chal10",id:"cubetab",i18n:"tabs.main.wowCubes"}).setUnlockedState(()=>e.achievements[141]>0).setType(7).makeDraggable().makeRemoveable(),new Mt({class:"chal11",id:"traitstab",i18n:"tabs.main.corruption"}).setUnlockedState(()=>e.challengecompletions[11]>0).setType(8).makeDraggable().makeRemoveable(),new Mt({class:"singularity",id:"singularitytab",i18n:"tabs.main.singularity"}).setUnlockedState(()=>e.highestSingularityCount>0).setType(9).makeDraggable().makeRemoveable(),new Mt({id:"settingstab",i18n:"tabs.main.settings"}).setType(10).makeDraggable(),new Mt({class:"reincarnationunlock",id:"shoptab",i18n:"tabs.main.shop"}).setUnlockedState(()=>e.unlocks.reincarnate||e.highestSingularityCount>0).setType(11).makeDraggable().makeRemoveable(),new Mt({class:"isEvent",id:"eventtab",i18n:"tabs.main.unsmith"}).setUnlockedState(()=>o.isEvent).setType(12).makeDraggable().makeRemoveable());var Es=(t=1,r=!1)=>{let n=t===1?et.getNextTab():et.getPreviousTab();for(;!(n!=null&&n.isUnlocked());)n=t===1?et.getNextTab(n):et.getPreviousTab(n);r?$e(n.getType(),{step:t}):Br(n.getType(),t)},Br=(t,r)=>{var s;if(r===1)et.setNextTab();else if(r===-1)et.setPreviousTab();else for(;et.getCurrentTab().getType()!==t;)et.setNextTab();for(;!et.getCurrentTab().isUnlocked();)r===1||r===void 0?et.setNextTab():et.setPreviousTab();o.currentTab=et.getCurrentTab().getType(),e.tabnumber=0,Oe(),Vp(),(s=document.activeElement)==null||s.blur();let n=$p[o.currentTab].subTabList;if(o.currentTab!==10)for(let a=0;a<n.length;a++){let l=n[a].buttonID;if(l){let c=i(l);if(c.style.backgroundColor==="crimson"){e.subtabNumber=a;break}if(e.tabnumber===9&&c.style.borderColor==="dodgerblue"){e.subtabNumber=a;break}}}else{let a=document.querySelectorAll('[id^="switchSettingSubTab"]');for(let l=0;l<a.length;l++)if(a[l].classList.contains("buttonActive")){e.subtabNumber=l;break}}},$e=(t,{page:r,step:n})=>{var c;let s=et.getCurrentTab();s.getType()!==t&&(Br(s.getType()),s=et.getCurrentTab());let a=s.getSubTabs();if(!s.isUnlocked()||a.subTabList.length===0)return;r!==void 0?e.subtabNumber=mo(r,0,a.subTabList.length-1):e.subtabNumber=mo(e.subtabNumber+n,0,a.subTabList.length-1);let l=a.subTabList[e.subtabNumber];for(;!l.unlocked;)fo(r===void 0),e.subtabNumber=mo(e.subtabNumber+n,0,a.subTabList.length-1),l=a.subTabList[e.subtabNumber];l.unlocked&&((c=a.tabSwitcher)==null||c.call(a)(l.subTabID),s.getType()===9&&r===4&&(e.visitedAmbrosiaSubtab=!0,e.caches.ambrosiaGeneration.updateVal("DefaultVal")))};function Gp(t){let r=et.getCurrentTab();for(;r.getType()!==t;)r=et.setNextTab();return r.getSubTabs().subTabList.length}var o={runediv:[1.5,2,3,5,8,1,1],runeexpbase:[1,4,9,16,1e3,1e75,1e256],runeMaxLvl:4e4,upgradeCosts:[0,6,7,8,10,12,20,25,30,35,45,55,75,110,150,200,250,500,750,1e3,1500,2,3,4,5,6,7,10,13,20,30,150,400,800,1600,3200,1e4,2e4,5e4,1e5,2e5,1,2,3,5,6,7,42,65,87,150,300,500,1e3,1500,2e3,3e3,6e3,12e3,25e3,75e3,0,1,2,2,3,5,6,10,15,22,30,37,45,52,60,1900,2500,3e3,7482,21397,3,6,9,12,15,20,30,6,8,8,10,13,60,1,2,4,8,16,25,40,12,16,20,30,50,500,1250,5e3,25e3,125e3,1500,7500,3e4,15e4,1e6,250,1e3,5e3,25e3,125e3,1e3,1e6,1e9,1e12,1e15],crystalUpgradesCost:[6,15,20,40,100,200,500,1e3],crystalUpgradeCostIncrement:[8,15,20,40,100,200,500,1e3],researchBaseCosts:[1e200,1,1,1,1,1,1,100,1e4,1e6,1e8,2,200,2e4,2e6,2e8,4e4,4e8,10,1e5,1e9,100,100,1e4,2e3,2e5,40,200,50,5e3,2e7,777,7777,5e4,5e5,5e6,2e3,2e6,2e9,1e5,1e9,1,1,5,25,125,2,5,320,1280,25e8,10,2e3,4e5,8e7,2e9,5,400,1e4,3e6,9e8,100,2500,100,2e3,2e5,1,20,3e3,4e5,5e7,10,40,160,1e3,1e4,4e9,7e9,1e10,12e9,15e9,1e12,1e13,3e12,2e13,2e13,2e14,6e14,2e15,6e15,2e16,1e16,2e16,2e17,4e17,1e18,1e13,1e14,1e15,7777e15,7777e17,1e16,3e16,1e17,3e17,1e20,1e18,3e18,1e19,3e19,1e20,1e20,2e20,4e20,8e20,1e21,2e21,4e21,8e21,2e22,4e22,32e20,2e23,4e23,1e21,7777e29,5e8,5e12,5e16,5e20,5e24,1e25,2e25,4e25,8e25,1e26,4e26,8e26,1e27,2e27,1e28,5e9,5e15,5e21,5e27,1e28,1e29,2e29,4e29,8e29,1e27,2e30,4e30,8e30,1e31,2e31,5e31,1e32,2e32,4e32,8e32,1e33,2e33,4e33,8e33,1e34,3e34,1e35,3e35,6e35,1e36,3e36,1e37,3e37,1e38,3e38,1e39,3e39,1e40,3e40,1e50,3e41,1e42,3e42,6e42,1e43,3e43,1e44,3e44,1e45,3e45,2e46,6e46,2e47,6e47,1e64,6e48,2e49,1e50,1e51,4e56],researchMaxLevels:[0,1,1,1,1,1,10,10,10,10,10,10,10,10,10,10,10,10,1,1,1,25,25,25,20,20,10,10,10,10,10,12,12,10,10,10,10,10,10,1,1,1,1,1,1,1,1,1,1,1,1,10,10,10,10,10,20,20,20,20,20,1,5,4,5,5,10,10,10,10,10,1,1,1,1,1,10,50,50,50,50,10,1,20,20,20,20,20,20,20,10,20,20,20,20,1,20,5,5,3,2,10,10,10,10,1,10,10,20,25,25,50,50,50,50,100,10,10,10,100,100,25,25,25,1,5,10,10,10,10,1,10,10,10,1,1,25,25,25,15,1,10,10,10,10,1,10,1,6,10,1,25,25,1,15,1,10,10,10,1,1,10,10,10,10,1,25,25,25,15,1,10,10,10,1,1,10,3,6,10,5,25,25,1,15,1,20,20,20,1,1,20,1,50,50,10,25,25,25,15,1e5],ticker:0,costDivisor:1,freeAccelerator:0,totalAccelerator:0,freeAcceleratorBoost:0,totalAcceleratorBoost:0,acceleratorPower:1.1,acceleratorEffect:new f(1),acceleratorEffectDisplay:new f(1),generatorPower:new f(1),freeMultiplier:0,totalMultiplier:0,multiplierPower:2,multiplierEffect:new f(1),challengeOneLog:3,freeMultiplierBoost:0,totalMultiplierBoost:0,globalCoinMultiplier:new f(1),totalCoinOwned:0,prestigeMultiplier:new f(1),buildingPower:1,reincarnationMultiplier:new f(1),coinOneMulti:new f(1),coinTwoMulti:new f(1),coinThreeMulti:new f(1),coinFourMulti:new f(1),coinFiveMulti:new f(1),globalCrystalMultiplier:new f(1),globalMythosMultiplier:new f(.01),grandmasterMultiplier:new f(1),atomsMultiplier:new f(1),mythosBuildingPower:1,challengeThreeMultiplier:new f(1),totalMythosOwned:0,prestigePointGain:new f(0),challengeFivePower:1/3,transcendPointGain:new f(0),reincarnationPointGain:new f(0),produceFirst:new f(0),produceSecond:new f(0),produceThird:new f(0),produceFourth:new f(0),produceFifth:new f(0),produceTotal:new f(0),produceFirstDiamonds:new f(0),produceSecondDiamonds:new f(0),produceThirdDiamonds:new f(0),produceFourthDiamonds:new f(0),produceFifthDiamonds:new f(0),produceDiamonds:new f(0),produceFirstMythos:new f(0),produceSecondMythos:new f(0),produceThirdMythos:new f(0),produceFourthMythos:new f(0),produceFifthMythos:new f(0),produceMythos:new f(0),produceFirstParticles:new f(0),produceSecondParticles:new f(0),produceThirdParticles:new f(0),produceFourthParticles:new f(0),produceFifthParticles:new f(0),produceParticles:new f(0),producePerSecond:new f(0),producePerSecondDiamonds:new f(0),producePerSecondMythos:new f(0),producePerSecondParticles:new f(0),uFourteenMulti:new f(1),uFifteenMulti:new f(1),tuSevenMulti:1,currentTab:0,researchfiller1:"Hover over the grid to get details about researches!",researchfiller2:"Level: ",ordinals:["first","second","third","fourth","fifth","sixth","seventh","eighth","ninth","tenth","eleventh","twelfth","thirteenth","fourteenth","fifteenth","sixteenth","seventeenth","eighteenth","nineteenth","twentieth"],cardinals:["one","two","three","four","five","six","seven","eight","nine","ten","eleven","twelve","thirteen","fourteen","fifteen","sixteen","seventeen","eighteen","nineteen","twenty","twentyone","twentytwo","twentythree","twentyfour","twentyfive","twentysix","twentyseven","twentyeight","twentynine","thirty","thirtyone","thirtytwo","thirtythree","thirtyfour"],challengeBaseRequirements:[10,20,60,100,200,125,500,7500,2e8,35e8],prestigeamount:1,taxdivisor:new f("1"),taxdivisorcheck:new f("1"),runemultiplierincrease:{one:1,two:1,three:1,four:1,five:1},mythosupgrade13:new f("1"),mythosupgrade14:new f("1"),mythosupgrade15:new f("1"),challengefocus:0,maxexponent:1e4,effectiveLevelMult:1,optimalOfferingTimer:600,optimalObtainiumTimer:3600,runeSum:0,globalAntMult:new f("1"),antMultiplier:new f("1"),antOneProduce:new f("1"),antTwoProduce:new f("1"),antThreeProduce:new f("1"),antFourProduce:new f("1"),antFiveProduce:new f("1"),antSixProduce:new f("1"),antSevenProduce:new f("1"),antEightProduce:new f("1"),antCostGrowth:[1e41,3,10,100,1e4,1e8,1e16,1e32],antUpgradeBaseCost:[100,100,1e3,1e3,1e5,1e6,1e8,1e11,1e15,1e20,1e40,1e100],antUpgradeCostIncreases:[10,10,10,10,100,100,100,100,1e3,1e3,1e3,1e100],bonusant1:0,bonusant2:0,bonusant3:0,bonusant4:0,bonusant5:0,bonusant6:0,bonusant7:0,bonusant8:0,bonusant9:0,bonusant10:0,bonusant11:0,bonusant12:0,rune1level:1,rune2level:1,rune3level:1,rune4level:1,rune5level:1,rune1Talisman:0,rune2Talisman:0,rune3Talisman:0,rune4Talisman:0,rune5Talisman:0,talisman1Effect:[null,0,0,0,0,0],talisman2Effect:[null,0,0,0,0,0],talisman3Effect:[null,0,0,0,0,0],talisman4Effect:[null,0,0,0,0,0],talisman5Effect:[null,0,0,0,0,0],talisman6Effect:[null,0,0,0,0,0],talisman7Effect:[null,0,0,0,0,0],talisman6Power:0,talisman7Quarks:0,runescreen:"runes",settingscreen:"settings",talismanResourceObtainiumCosts:[1e13,1e14,1e16,1e18,1e20,1e22,1e24],talismanResourceOfferingCosts:[100,1e4,1e5,1e6,1e7,1e8,1e9],talismanLevelCostMultiplier:[1,4,1e4,1e8,1e13,10,100],talismanPositiveModifier:[null,.75,1.5,2.25,3,3.75,4.5],talismanNegativeModifier:[null,0,0,0,0,0,0],commonTalismanEnhanceCost:[null,0,3e3,1e3,0,0,0,0],uncommonTalismanEnchanceCost:[null,0,1e4,3e3,1e3,0,0,0],rareTalismanEnchanceCost:[null,0,1e5,2e4,2e3,500,0,0],epicTalismanEnhanceCost:[null,0,2e6,2e5,2e4,2e3,1e3,0],legendaryTalismanEnchanceCost:[null,0,4e7,2e6,1e5,2e4,2500,200],mythicalTalismanEnchanceCost:[null,0,0,0,0,0,0,0],talismanRespec:1,obtainiumGain:0,mirrorTalismanStats:[null,1,1,1,1,1],antELO:0,effectiveELO:0,timeWarp:!1,blessingMultiplier:1,spiritMultiplier:1,runeBlessings:[0,0,0,0,0,0],runeSpirits:[0,0,0,0,0,0],effectiveRuneBlessingPower:[0,0,0,0,0,0],effectiveRuneSpiritPower:[0,0,0,0,0,0],blessingBaseCost:1e6,spiritBaseCost:1e20,triggerChallenge:0,prevReductionValue:-1,buildingSubTab:"coin",blessingbase:[null,1/500,1/5e3,1/2e3,1/750,1/200,1/1e4,1/5e3,1/10,1/1e4,1/1e3],blessingDRPower:[null,1/3,1/3,2/3,1/2,2/3,2,1/3,1/3,1/16,1/16],giftbase:[1/1e3,1/1e3,1/1e3,1/1e3,1/1e3,1/1e3,1/1e3,1/1e3,1/1e3,1/1e3],giftDRPower:[1/6,1/6,1/3,1/4,1/3,1,1/6,1/6,1/32,1/32],benedictionbase:[null,1/1e3,1/1e3,1/1e3,1/1e3,1/1e3,1/1e3,1/1e3,1/1e3,1/1e3,1/1e3],benedictionDRPower:[null,1/12,1/12,1/6,1/8,1/6,1/2,1/12,1/12,1/64,1/64],platonicCubeBase:[2/4e6,1.5/4e6,1/4e6,1/8e4,1/1e4,1/1e5,1/1e4,1/1e4],platonicDRPower:[1/5,1/5,1/5,1/5,1/16,1/16,1/4,1/8],cubeBonusMultiplier:[null,1,1,1,1,1,1,1,1,1,1],tesseractBonusMultiplier:[null,1,1,1,1,1,1,1,1,1,1],hypercubeBonusMultiplier:[null,1,1,1,1,1,1,1,1,1,1],platonicBonusMultiplier:[1,1,1,1,1,1,1,1],autoOfferingCounter:0,researchOrderByCost:[],viscosityPower:[1,.87,.8,.75,.7,.6,.54,.45,.39,.33,.3,.2,.1,.05,0,0,0],lazinessMultiplier:[1,1/3,1/10,1/40,1/200,1/1e5,1/1e7,1/1e10,1/1e13,1/1e16,1/1e20,1/1e25,1/1e35,1/1e50,1/1e65,1/1e80,1/1e100],hyperchallengedMultiplier:[1,1.2,1.5,1.7,3,5,8,13,21,34,55,100,400,1600,7777,18888,88888],illiteracyPower:[1,.8,.7,.6,.5,.3,.2,.15,.1,.06,.04,.02,.01,.005,0,0,0],deflationMultiplier:[1,.3,.1,.03,.01,1/1e6,1/1e8,1/1e10,1/1e12,1/1e15,1/1e18,1/1e25,1/1e35,1/1e50,1/1e77,0,0],extinctionMultiplier:[1,.92,.86,.8,.74,.65,.55,.5,.45,.4,.35,.3,.1,0,0,0,0],droughtMultiplier:[1,5,25,200,1e4,1e7,1e11,1e16,1e22,1e30,1e40,1e55,1e80,1e120,1e177,1e200,1e250],financialcollapsePower:[1,.9,.7,.6,.5,.37,.3,.23,.18,.15,.12,.09,.03,.01,.007,7e-4,7e-5],corruptionPointMultipliers:[1,3,4,5,6,7,7.75,8.5,9.25,10,10.75,11.5,12.25,13,16,20,25,33,35],ascendBuildingProduction:{first:new f("0"),second:new f("0"),third:new f("0"),fourth:new f("0"),fifth:new f("0")},freeUpgradeAccelerator:0,freeUpgradeMultiplier:0,acceleratorMultiplier:1,multiplierMultiplier:1,constUpgradeCosts:[null,1,13,17,237,316,4216,5623,74989,1e10,1e24],globalConstantMult:new f("1"),autoTalismanTimer:0,autoChallengeTimerIncrement:0,corruptionTrigger:1,challenge15Rewards:{cube1:1,ascensions:1,coinExponent:1,taxes:1,obtainium:1,offering:1,accelerator:1,multiplier:1,runeExp:1,runeBonus:1,cube2:1,transcendChallengeReduction:1,reincarnationChallengeReduction:1,antSpeed:1,bonusAntLevel:1,cube3:1,talismanBonus:1,globalSpeed:1,blessingBonus:1,constantBonus:1,cube4:1,spiritBonus:1,score:1,quarks:1,hepteractUnlocked:0,cube5:1,powder:1,exponent:1,freeOrbs:0,ascensionSpeed:1},autoResetTimers:{prestige:0,transcension:0,reincarnation:0,ascension:0},timeMultiplier:1,upgradeMultiplier:1,historyCountMax:20,isEvent:!1,shopEnhanceVision:!1,eventClicked:!1,ambrosiaTimer:0,TIME_PER_AMBROSIA:600,currentSingChallenge:void 0},Wp=ze({},o);var Xp=(t,r=1,n=0)=>(r=Math.min(o.researchMaxLevels[t]-e.researches[t],r),Zt(e.researches[t],o.researchBaseCosts[t]*Ie("Researches"),e.researchPoints,n,r)),xm=(t,r)=>{if(Vt()&&r&&e.autoResearchMode==="cheapest"){for(e.autoResearch=o.researchOrderByCost[e.roombaResearchIndex],sc(e.autoResearch)&&(i(`res${e.autoResearch||1}`).classList.remove("researchRoomba"),e.roombaResearchIndex=Math.min(o.researchOrderByCost.length-1,e.roombaResearchIndex+1));!ac(e.autoResearch)&&e.autoResearch<200&&e.autoResearch>=76;)e.roombaResearchIndex+=1,e.autoResearch=o.researchOrderByCost[e.roombaResearchIndex];if(ac(e.autoResearch)){let n=Math.max(o.researchOrderByCost[e.roombaResearchIndex],1),s=i(`res${n}`);e.researches[e.autoResearch]<o.researchMaxLevels[e.autoResearch]&&s.classList.add("researchRoomba")}return}else if(!r&&(!Vt()||e.autoResearchMode==="manual")){i(`res${e.autoResearch||1}`).classList.remove("researchRoomba"),i(`res${t}`).classList.add("researchRoomba"),e.autoResearch=t,e.researches[t]>=o.researchMaxLevels[t]?Lt(`res${e.autoResearch}`,["researchMaxed"],["researchPurchased","researchUnpurchased"]):e.researches[t]>=1?Lt(`res${e.autoResearch}`,["researchPurchased"],["researchUnpurchased","researchMaxed"]):Lt(`res${e.autoResearch}`,["researchUnpurchased"],["researchPurchased","researchMaxed"]);return}else return},Vt=()=>e.cubeUpgrades[9]===1||e.highestSingularityCount>10,ar=(t,r=!1,n=0,s=!1)=>{var d,g,m,h;let a=e.researchBuyMaxToggle||r||s?1e5:1,l=Xp(t,a,n),c=e.researchPoints>=l.cost;return c&&ac(t)&&!sc(t)&&(e.researches[t]=l.levelCanBuy,e.researchPoints-=l.cost,sc(t)&&i(`res${e.autoResearch||1}`).classList.remove("researchRoomba"),o.researchfiller2=`Level: ${e.researches[t]}/${o.researchMaxLevels[t]}`,gi(t,r,n),(d=e.unlocks).rrow1||(d.rrow1=!0),(g=e.unlocks).rrow2||(g.rrow2=!0),(m=e.unlocks).rrow3||(m.rrow3=!0),(h=e.unlocks).rrow4||(h.rrow4=!0),t>=47&&t<=50&&Oe(),(t>=66&&t<=70||t===105)&&Cr(),Fe(),Ot()),e.autoResearchToggle&&xm(t,r),c},Kp=(t=e)=>{let r=t.ascensionCount>0?140:125,n=t.challengecompletions[11]>0?15:0,s=t.challengecompletions[12]>0?15:0,a=t.challengecompletions[13]>0?15:0,l=t.challengecompletions[14]>0?15:0;return r+n+s+a+l},ac=t=>{let r=(a=>l=>a+=l)(0),n=[3*25,5,20,10,15,15,15,15,15,15].map(r),s=[50,124,127,134,141,183,197,204,211,218];for(let a=0;a<n.length;a++){if(a===3&&(t===121||t===124||t===150))return e.achievements[s[a]]>0;if(t<=n[a])return e.achievements[s[a]]>0}return!1},sc=t=>o.researchMaxLevels[t]<=e.researches[t],gi=(t,r=!1,n=0)=>{let s=e.researchBuyMaxToggle||r?1e5:1,a=u.t(`researches.descriptions.${t}`),l=`res${t}`;e.toggles[38]&&e.singularityCount>0&&ar(t,!1,t===200?.01:0,!0);let c=Xp(t,s,n),d=u.t("researches.cost",{x:p(c.cost,0,!1),y:p(c.levelCanBuy-e.researches[t],0,!0)});e.researches[t]===o.researchMaxLevels[t]?(i("researchcost").style.color="Gold",i("researchinfo3").style.color="plum",Lt(l,["researchMaxed"],["researchAvailable","researchPurchased","researchPurchasedAvailable"]),d+=u.t("researches.maxed")):(i("researchcost").style.color="limegreen",i("researchinfo3").style.color="white",e.researches[t]>0?Lt(l,["researchPurchased","researchPurchasedAvailable"],["researchAvailable","researchMaxed","researchUnpurchased"]):Lt(l,["researchAvailable"],["researchPurchased","researchMaxed","researchUnpurchased"])),e.researchPoints<c.cost&&e.researches[t]<o.researchMaxLevels[t]&&(i("researchcost").style.color="var(--crimson-text-color)",Lt(l,[],["researchMaxed","researchAvailable","researchPurchasedAvailable"])),i("researchinfo2").textContent=a,i("researchcost").textContent=d,i("researchinfo3").textContent=u.t("researches.level",{x:e.researches[t],y:o.researchMaxLevels[t]})},ba=t=>{e.researches[t]>o.researchMaxLevels[t]&&(e.researchPoints+=(e.researches[t]-o.researchMaxLevels[t])*o.researchBaseCosts[t],e.researches[t]=o.researchMaxLevels[t]);let r=`res${t}`;e.researches[t]>.5&&e.researches[t]<o.researchMaxLevels[t]?Lt(r,["researchPurchased"],["researchUnpurchased","researchMaxed"]):e.researches[t]>.5&&e.researches[t]>=o.researchMaxLevels[t]?Lt(r,["researchMaxed"],["researchUnpurchased","researchPurchased"]):Lt(r,["researchUnpurchased"],["researchPurchased","researchMaxed"])};var zp=t=>{var s;let r=(s=t.getAttribute("toggleId"))!=null?s:1;e.toggles[+r]?e.toggles[+r]=!1:e.toggles[+r]=!0;let n=t.getAttribute("format");if(n==="$"||n==="[$]"){let a=e.toggles[+r]?u.t("general.on"):u.t("general.off");t.textContent=n==="[$]"?`[${a}]`:a}else if(n==="Auto Catalyze: $"){let a=e.toggles[+r]?u.t("shop.autoCatalyzeOn"):u.t("shop.autoCatalyzeOff");t.textContent=a}else if(n==="Hover-to-Buy [$]"){let a=e.toggles[+r]?u.t("researches.hoverToBuyOn"):u.t("researches.hoverToBuyOff");t.textContent=a}else if(n==="Auto: $"){let a=e.toggles[+r]?u.t("general.autoOnColon"):u.t("general.autoOffColon");t.textContent=a}else if(n){let a=n.replace("$",e.toggles[+r]?"ON":"OFF");t.textContent=a}else t.textContent=e.toggles[+r]?u.t("general.autoOnBracket"):u.t("general.autoOffBracket");t.style.border=`2px solid ${e.toggles[+r]?"green":"red"}`},ir=(t,r=!1)=>{t<=5&&((e.currentChallenge.ascension!==15||e.ascensionCounter>=2)&&(e.currentChallenge.transcension=t,Ae("transcensionChallenge",!1,"enterChallenge"),e.transcendCount-=1),!e.currentChallenge.reincarnation&&!document.querySelector(".resetbtn.hover")&&ot("transcensionChallenge")),t>=6&&t<11&&((e.currentChallenge.ascension!==15||e.ascensionCounter>=2)&&(e.currentChallenge.reincarnation=t,Ae("reincarnationChallenge",!1,"enterChallenge"),e.reincarnationCount-=1),document.querySelector(".resetbtn.hover")||ot("reincarnationChallenge")),t>=11&&(!r&&!e.toggles[31]||e.challengecompletions[10]>0||e.currentChallenge.transcension===0&&e.currentChallenge.reincarnation===0&&e.currentChallenge.ascension===0)&&(e.currentChallenge.ascension===15&&Te("ascensionChallenge",!1,!0),e.currentChallenge.ascension=t,Ae("ascensionChallenge",!1,"enterChallenge")),Cr(),yi(t),t<=10&&!r&&e.autoChallengeRunning&&Bs(),e.currentChallenge.transcension!==0&&e.currentChallenge.reincarnation!==0&&e.currentChallenge.ascension!==0&&e.achievements[238]<1&&F(238)},Yp=(t,r)=>{e[`${r}buyamount`]=t;let n=["one","ten","hundred","thousand","10k","100k"][t.toString().length-1];i(`${r}${n}`).style.backgroundColor="Green",t!==1&&(i(`${r}one`).style.backgroundColor=""),t!==10&&(i(`${r}ten`).style.backgroundColor=""),t!==100&&(i(`${r}hundred`).style.backgroundColor=""),t!==1e3&&(i(`${r}thousand`).style.backgroundColor=""),t!==1e4&&(i(`${r}10k`).style.backgroundColor=""),t!==1e5&&(i(`${r}100k`).style.backgroundColor="")},vn=t=>{if(t)e.shoptoggles[t]=!e.shoptoggles[t],i(`${t}AutoUpgrade`).style.borderColor=e.shoptoggles[t]?"green":"red",e.shoptoggles[t]?i(`${t}AutoUpgrade`).textContent=u.t("general.autoOnColon"):i(`${t}AutoUpgrade`).textContent=u.t("general.autoOffColon");else{let r=Object.keys(e.shoptoggles);for(let n of r){let s=e.shoptoggles[n]?"green":"red";e.shoptoggles[n]?i(`${n}AutoUpgrade`).textContent=u.t("general.autoOnColon"):i(`${n}AutoUpgrade`).textContent=u.t("general.autoOffColon"),i(`${n}AutoUpgrade`).style.borderColor=s}}},Ns=t=>{t===1?e.resettoggle1===1||e.resettoggle1===0?(e.resettoggle1=2,i("prestigeautotoggle").textContent=u.t("toggles.modeTime")):(e.resettoggle1=1,i("prestigeautotoggle").textContent=u.t("toggles.modeAmount")):t===2?e.resettoggle2===1||e.resettoggle2===0?(e.resettoggle2=2,i("transcendautotoggle").textContent=u.t("toggles.modeTime")):(e.resettoggle2=1,i("transcendautotoggle").textContent=u.t("toggles.modeAmount")):t===3?e.resettoggle3===1||e.resettoggle3===0?(e.resettoggle3=2,i("reincarnateautotoggle").textContent=u.t("toggles.modeTime")):(e.resettoggle3=1,i("reincarnateautotoggle").textContent=u.t("toggles.modeAmount")):t===4&&(e.resettoggle4===1||e.resettoggle4===0?(e.resettoggle4=2,i("tesseractautobuymode").textContent=u.t("toggles.modePercentage")):(e.resettoggle4=1,i("tesseractautobuymode").textContent=u.t("toggles.modeAmount")))},Zp=()=>{e.tesseractAutoBuyerToggle===1||e.tesseractAutoBuyerToggle===0?(e.tesseractAutoBuyerToggle=2,i("tesseractautobuytoggle").textContent=u.t("runes.talismans.autoBuyOff"),i("tesseractautobuytoggle").style.border="2px solid red"):(e.tesseractAutoBuyerToggle=1,i("tesseractautobuytoggle").textContent=u.t("runes.talismans.autoBuyOn"),i("tesseractautobuytoggle").style.border="2px solid green")},oc=()=>{var n;let t=Array.from(document.querySelectorAll(".auto[toggleid]"));for(let s of t){let a=s.getAttribute("format"),l=(n=s.getAttribute("toggleId"))!=null?n:1;if(a==="$"){let c=e.toggles[+l]?u.t("general.on"):u.t("general.off");s.textContent=c}else if(a==="Auto Catalyze: $"){let c=e.toggles[+l]?u.t("shop.autoCatalyzeOn"):u.t("shop.autoCatalyzeOff");s.textContent=c}else if(a==="Hover-to-Buy [$]"){let c=e.toggles[+l]?u.t("researches.hoverToBuyOn"):u.t("researches.hoverToBuyOff");s.textContent=c}else if(a==="Auto: $"){let c=e.toggles[+l]?u.t("general.autoOnColon"):u.t("general.autoOffColon");s.textContent=c}else if(a){let c=a.replace("$",e.toggles[+l]?"ON":"OFF");s.textContent=c}else s.textContent=e.toggles[+l]?u.t("general.autoOnBracket"):u.t("general.autoOffBracket");s.style.border=`2px solid ${e.toggles[+l]?"green":"red"}`}let r=Array.from(document.querySelectorAll('*[id^="tesseractAutoToggle"]'));for(let s=0;s<r.length;s++){let a=r[s];e.autoTesseracts[s+1]?(a.textContent=u.t("general.autoOnBracket"),a.style.border="2px solid green"):(a.textContent=u.t("general.autoOffBracket"),a.style.border="2px solid red")}},Jp=()=>{e.researchBuyMaxToggle?(e.researchBuyMaxToggle=!1,i("toggleresearchbuy").textContent=u.t("researches.upgradeOne")):(e.researchBuyMaxToggle=!0,i("toggleresearchbuy").textContent=u.t("researches.upgradeMax"))},ed=()=>{let t=i("toggleautoresearch");e.autoResearchToggle||e.shopUpgrades.obtainiumAuto<1?(e.autoResearchToggle=!1,t.textContent=u.t("researches.automaticOff"),i(`res${e.autoResearch||1}`).classList.remove("researchRoomba"),e.autoResearch=0):(e.autoResearchToggle=!0,t.textContent=u.t("researches.automaticOn")),e.autoResearchToggle&&Vt()&&e.autoResearchMode==="cheapest"&&(e.autoResearch=o.researchOrderByCost[e.roombaResearchIndex])},td=()=>{let t=i("toggleautoresearchmode");e.autoResearchMode==="cheapest"||!Vt()?(e.autoResearchMode="manual",t.textContent=u.t("researches.autoModeManual")):(e.autoResearchMode="cheapest",t.textContent=u.t("researches.autoModeCheapest")),i(`res${e.autoResearch||1}`).classList.remove("researchRoomba"),e.autoResearchToggle&&Vt()&&e.autoResearchMode==="cheapest"&&(e.autoResearch=o.researchOrderByCost[e.roombaResearchIndex])},ic=t=>{let r=i("toggleautosacrifice");t===0?e.autoSacrificeToggle?(e.autoSacrificeToggle=!1,r.textContent=u.t("runes.blessings.autoRuneOff"),r.style.border="2px solid red",e.autoSacrifice=0):(e.autoSacrificeToggle=!0,e.saveOfferingToggle=!1,r.textContent=u.t("runes.blessings.autoRuneOn"),r.style.border="2px solid green",i("saveOffToggle").textContent=u.t("toggles.saveOfferingsOff"),i("saveOffToggle").style.color="white"):e.autoSacrificeToggle&&e.shopUpgrades.offeringAuto>.5&&(e.autoSacrifice===t?e.autoSacrifice=0:e.autoSacrifice=t);for(let n=1;n<=5;n++)i(`rune${n}`).style.backgroundColor=e.autoSacrifice===n?"orange":"";Fe()},rd=()=>{let t=i("toggleautoBuyFragments");e.autoBuyFragment?(t.textContent=u.t("runes.talismans.autoBuyOff"),t.style.border="2px solid orange",t.style.color="white"):(t.textContent=u.t("runes.talismans.autoBuyOn"),t.style.border="2px solid white",t.style.color="orange"),e.autoBuyFragment=!e.autoBuyFragment},Hp=t=>{o.buildingSubTab=t;let r={coin:{screen:"coinBuildings",button:"switchToCoinBuilding",subtabNumber:0},diamond:{screen:"prestige",button:"switchToDiamondBuilding",subtabNumber:1},mythos:{screen:"transcension",button:"switchToMythosBuilding",subtabNumber:2},particle:{screen:"reincarnation",button:"switchToParticleBuilding",subtabNumber:3},tesseract:{screen:"ascension",button:"switchToTesseractBuilding",subtabNumber:4}};for(let n in r)i(r[n].screen).style.display="none",i(r[n].button).style.backgroundColor="";i(r[o.buildingSubTab].screen).style.display="flex",i(r[o.buildingSubTab].button).style.backgroundColor="crimson",e.subtabNumber=r[o.buildingSubTab].subtabNumber},Fp=t=>{let r=Number(t),n=["runes","talismans","blessings","spirits"];o.runescreen=n[r-1];for(let s=1;s<=4;s++){let a=i(`toggleRuneSubTab${s}`),l=i(`runeContainer${s}`);s===r?(a.style.border="2px solid gold",a.style.backgroundColor="crimson",l.style.display="flex"):(a.style.border="2px solid silver",a.style.backgroundColor="",l.style.display="none")}e.subtabNumber=r-1},nd=()=>{let t=i("toggleautofortify");e.autoFortifyToggle?(t.textContent=u.t("runes.autoFortifyOff"),t.style.border="2px solid red"):(t.textContent=u.t("runes.autoFortifyOn"),t.style.border="2px solid green"),e.autoFortifyToggle=!e.autoFortifyToggle},ad=()=>{let t=i("toggleautoenhance");e.autoEnhanceToggle?(t.textContent=u.t("runes.autoEnhanceOff"),t.style.border="2px solid red"):(t.textContent=u.t("runes.autoEnhanceOn"),t.style.border="2px solid green"),e.autoEnhanceToggle=!e.autoEnhanceToggle},sd=()=>{let t=i("saveOffToggle"),r=i("toggleautosacrifice");e.saveOfferingToggle?(e.autoSacrificeToggle=!0,t.textContent=u.t("toggles.saveOfferingsOff"),t.style.color="white",r.textContent="Auto Runes: ON",r.style.border="2px solid green"):(e.autoSacrificeToggle=!1,t.textContent=u.t("toggles.saveOfferingsOn"),t.style.color="yellow",r.textContent="Auto Runes: OFF",r.style.border="2px solid red"),e.saveOfferingToggle=!e.saveOfferingToggle},Qp=t=>{let r=Number(t);for(let n=1;n<=5;n++){let s=i(`toggleSingularitySubTab${n}`),a=i(`singularityContainer${n}`);n===r?(s.style.backgroundColor="crimson",a.style.display="block"):(s.style.backgroundColor="",a.style.display="none")}e.subtabNumber=r-1,e.subtabNumber===2&&ei(),e.subtabNumber===4&&wa()},_p=async t=>{let r=i("settings").getElementsByClassName("subtabSwitcher")[0].children[e.subtabNumber],n=i(t);if(n.classList.contains("subtabActive"))return;if(r.parentNode.querySelectorAll(".buttonActive").forEach(a=>a.classList.remove("buttonActive")),r.classList.add("buttonActive"),n.parentNode.querySelectorAll(".subtabActive").forEach(a=>a.classList.remove("subtabActive")),n.classList.add("subtabActive"),t==="creditssubtab"){let a=i("creditList"),l=i("artistList");if(a.childElementCount>0||l.childElementCount>0)return;if(!navigator.onLine||document.hidden)return;try{let d=await(await fetch("https://api.github.com/repos/pseudo-corp/SynergismOfficial/contributors",{headers:{Accept:"application/vnd.github.v3+json"}})).json();for(let g of d){let m=document.createElement("div");m.classList.add("credit");let h=new Image(32,32);h.src=g.avatar_url,h.alt=g.login;let b=document.createElement("a");b.href=`https://github.com/Pseudo-Corp/SynergismOfficial/commits?author=${g.login}`,b.textContent=g.login,b.target="_blank",b.rel="noopener noreferrer nofollow",m.appendChild(h),m.appendChild(b),a.appendChild(m)}}catch(c){let d=c;a.appendChild(document.createTextNode(d.toString()))}try{let d=await(await fetch("https://api.github.com/gists/01917ff476d25a141c5bad38340cd756",{headers:{Accept:"application/vnd.github.v3+json"}})).json(),g=JSON.parse(d.files["synergism_artists.json"].content);for(let m of g){let h=document.createElement("p");h.textContent=m,l.appendChild(h)}}catch(c){let d=c;a.appendChild(document.createTextNode(d.toString()))}}},od=()=>{let t=i("toggleConfirmShop");t.textContent=e.shopConfirmationToggle?u.t("shop.shopConfirmationOff"):u.t("shop.shopConfirmationOn"),e.shopConfirmationToggle=!e.shopConfirmationToggle},id=t=>{let r=i("toggleBuyMaxShopText");if(t.shiftKey){r.textContent=u.t("shop.buyAny"),e.shopBuyMaxToggle="ANY";return}switch(e.shopBuyMaxToggle){case!1:r.innerHTML=u.t("shop.buy10"),e.shopBuyMaxToggle="TEN";break;case"TEN":r.innerHTML=u.t("shop.buyMax"),e.shopBuyMaxToggle=!0;break;default:r.innerHTML=u.t("shop.buy1"),e.shopBuyMaxToggle=!1}},ld=()=>{let t=i("toggleHideShop");t.textContent=e.shopHideToggle?u.t("shop.hideMaxedOff"):u.t("shop.hideMaxedOn"),e.shopHideToggle=!e.shopHideToggle},fi=()=>{let t=i("toggleAntMax");t.textContent=e.antMax?u.t("general.buyMaxOff"):u.t("general.buyMaxOn"),e.antMax=!e.antMax},Pa=(t=0)=>{if(t===0){let r=i("toggleAutoSacrificeAnt");e.autoAntSacrifice?(e.autoAntSacrifice=!1,r.textContent=u.t("ants.autoSacrificeOff")):(e.autoAntSacrifice=!0,r.textContent=u.t("ants.autoSacrificeOn"))}else if(t===1){let r=i("autoSacrificeAntMode");e.autoAntSacrificeMode===1||e.autoAntSacrificeMode===0?(e.autoAntSacrificeMode=2,r.textContent=u.t("ants.modeRealTime")):(e.autoAntSacrificeMode=1,r.textContent=u.t("ants.modeInGameTime"))}},cd=()=>{let t=i("toggleCubeBuy");e.cubeUpgradesBuyMaxToggle?(e.cubeUpgradesBuyMaxToggle=!1,t.textContent=u.t("toggles.upgradeOneLevelWow")):(e.cubeUpgradesBuyMaxToggle=!0,t.textContent=u.t("toggles.upgradeMaxIfPossible"))},mi=(t=!0)=>{t&&(e.autoCubeUpgradesToggle=!e.autoCubeUpgradesToggle);let r=i("toggleAutoCubeUpgrades");e.autoCubeUpgradesToggle?(r.textContent=u.t("toggles.autoUpgradeOn"),r.style.border="2px solid green"):(r.textContent=u.t("toggles.autoUpgradeOff"),r.style.border="2px solid red")},hi=(t=!0)=>{t&&(e.autoPlatonicUpgradesToggle=!e.autoPlatonicUpgradesToggle);let r=i("toggleAutoPlatonicUpgrades");e.autoPlatonicUpgradesToggle?(r.textContent=u.t("toggles.autoUpgradeOn"),r.style.border="2px solid green"):(r.textContent=u.t("toggles.autoUpgradeOff"),r.style.border="2px solid red")},qp=t=>{let r=Number(t),n=Gp(7);for(let s=1;s<=n;s++){let a=i(`cubeTab${s}`);a.style.display==="flex"&&s!==r&&(a.style.display="none"),a.style.display==="none"&&s===r&&(a.style.display="flex",e.subtabNumber=s-1),i(`switchCubeSubTab${s}`).style.backgroundColor=r===s?"crimson":""}Jo()},Cn=t=>{switch(t){case 1:{let r=Number.parseFloat(i("startAutoChallengeTimerInput").value)||0;e.autoChallengeTimer.start=Math.max(r,0),i("startTimerValue").innerHTML=u.t("challenges.timeStartSweep",{time:p(e.autoChallengeTimer.start,2,!0)});return}case 2:{let r=Number.parseFloat(i("exitAutoChallengeTimerInput").value)||0;e.autoChallengeTimer.exit=Math.max(r,0),i("exitTimerValue").innerHTML=u.t("challenges.timeExitChallenge",{time:p(e.autoChallengeTimer.exit,2,!0)});return}case 3:{let r=Number.parseFloat(i("enterAutoChallengeTimerInput").value)||0;e.autoChallengeTimer.enter=Math.max(r,0),i("enterTimerValue").innerHTML=u.t("challenges.timeEnterChallenge",{time:p(e.autoChallengeTimer.enter,2,!0)});return}}},ud=t=>{if(t<=15){e.autoChallengeToggles[t]=!e.autoChallengeToggles[t];let r=i("toggleAutoChallengeIgnore");r.style.border=e.autoChallengeToggles[t]?"2px solid green":"2px solid red",t>=11&&t<=15?e.autoChallengeToggles[t]?r.textContent=u.t("challenges.autoAscRunChalOn",{x:t}):r.textContent=u.t("challenges.autoAscRunChalOff",{x:t}):e.autoChallengeToggles[t]?r.textContent=u.t("challenges.autoRunChalOn",{x:t}):r.textContent=u.t("challenges.autoRunChalOff",{x:t})}},Bs=()=>{let t=i("toggleAutoChallengeStart");e.autoChallengeRunning?(t.style.border="2px solid red",t.textContent=u.t("challenges.autoChallengeSweepOff"),o.autoChallengeTimerIncrement=0,sr("OFF")):(t.style.border="2px solid gold",t.textContent=u.t("challenges.autoChallengeSweepOn"),sr("START"),o.autoChallengeTimerIncrement=0),e.autoChallengeRunning=!e.autoChallengeRunning},sr=t=>{let r=i("autoChallengeType");r.textContent=u.t(`challenges.mode${t[0]+t.slice(1).toLowerCase()}`)},Aa=(t=0)=>{if(t===0){let r=i("ascensionAutoEnable");e.autoAscend?(r.style.border="2px solid red",r.textContent=u.t("corruptions.autoAscend.off")):(r.style.border="2px solid green",r.textContent=u.t("corruptions.autoAscend.on")),e.autoAscend=!e.autoAscend}else if(t===1&&e.highestSingularityCount>=25){let r=i("ascensionAutoToggle");e.autoAscendMode==="c10Completions"?(e.autoAscendMode="realAscensionTime",r.textContent=u.t("corruptions.autoAscend.modeRealTime")):(e.autoAscendMode="c10Completions",r.textContent=u.t("corruptions.autoAscend.modeCompletions"))}},$s=t=>{if(e.highestSingularityCount>=35){if(t===1){let r=i("openCubes"),n=i("cubeOpensInput");e.autoOpenCubes?(r.textContent=u.t("wowCubes.autoOff"),r.style.border="1px solid red",n.style.border="1px solid red"):(r.textContent=u.t("wowCubes.autoOn",{percent:p(e.openCubes,0)}),r.style.border="1px solid green",n.style.border="1px solid green"),e.autoOpenCubes=!e.autoOpenCubes}else if(t===2){let r=i("openTesseracts"),n=i("tesseractsOpensInput");e.autoOpenTesseracts?(r.textContent=u.t("wowCubes.autoOff"),r.style.border="1px solid red",n.style.border="1px solid red"):(r.textContent=u.t("wowCubes.autoOn",{percent:p(e.openTesseracts,0)}),r.style.border="1px solid green",n.style.border="1px solid green"),e.autoOpenTesseracts=!e.autoOpenTesseracts}else if(t===3){let r=i("openHypercubes"),n=i("hypercubesOpensInput");e.autoOpenHypercubes?(r.textContent=u.t("wowCubes.autoOff"),r.style.border="1px solid red",n.style.border="1px solid red"):(r.textContent=u.t("wowCubes.autoOn",{percent:p(e.openHypercubes,0)}),r.style.border="1px solid green",n.style.border="1px solid green"),e.autoOpenHypercubes=!e.autoOpenHypercubes}else if(t===4){let r=i("openPlatonicCube"),n=i("platonicCubeOpensInput");e.autoOpenPlatonicsCubes?(r.textContent=u.t("wowCubes.autoOff"),r.style.border="1px solid red",n.style.border="1px solid red"):(r.textContent=u.t("wowCubes.autoOn",{percent:p(e.openPlatonicsCubes,0)}),r.style.border="1px solid green",n.style.border="1px solid green"),e.autoOpenPlatonicsCubes=!e.autoOpenPlatonicsCubes}}},Ea=t=>{switch(t){case 1:{let r=Math.floor(Number.parseFloat(i("buyRuneBlessingInput").value))||1;e.runeBlessingBuyAmount=Math.max(r,1),i("buyRuneBlessingToggle").innerHTML=u.t("runes.blessings.buyUpTo",{amount:p(e.runeBlessingBuyAmount)});return}case 2:{let r=Math.floor(Number.parseFloat(i("buyRuneSpiritInput").value))||1;e.runeSpiritBuyAmount=Math.max(r,1),i("buyRuneSpiritToggleValue").innerHTML=u.t("runes.spirits.buyUpTo",{amount:p(e.runeSpiritBuyAmount)});return}}},pd=t=>{let r=i(`tesseractAutoToggle${t}`);e.autoTesseracts[t]?(r.textContent=u.t("general.autoOffBracket"),r.style.border="2px solid red"):(r.textContent=u.t("general.autoOnBracket"),r.style.border="2px solid green"),e.autoTesseracts[t]=!e.autoTesseracts[t]},Yr=(t,r)=>{let n=e.prototypeCorruptions[t],s=Kn();if(r>0&&n<s&&0<t&&t<=9&&(e.prototypeCorruptions[t]+=Math.min(s-n,r)),r<0&&n>0&&0<t&&t<=9&&(e.prototypeCorruptions[t]-=Math.min(n,-r)),e.prototypeCorruptions[t]=Math.min(s,Math.max(0,e.prototypeCorruptions[t])),r===999&&e.currentChallenge.ascension!==15){for(let a=0;a<=9;a++)e.usedCorruptions[a]=0,e.prototypeCorruptions[a]=0,a>1&&zn(a);zn(o.corruptionTrigger),i("corruptionCleanseConfirm").style.visibility="hidden",e.currentChallenge.ascension===15&&Te("ascensionChallenge",!1,!0)}zn(t),Yn()},jp=t=>{let r=t==="true";e.corruptionShowStats=r,bi()},Ir=t=>{let r=i(`unit${t}`);if(r===null){console.log(t,"platonic needs to fix");return}r.textContent=e.ascStatToggles[t]?"/s":"",t===6&&(r.textContent=""),e.ascStatToggles[t]=!e.ascStatToggles[t]},dd=async()=>{let t=await Ue(u.t("wowCubes.hepteractForge.autoCraftPercentagePrompt"));if(t===null)return e.toggles[35]?O(u.t("toggles.percentKeptAt",{x:e.hepteractAutoCraftPercentage})):void 0;let r=t.endsWith("%"),n=Number(r?t.slice(0,-1):t);if(Number.isNaN(n)||!Number.isFinite(n)||!Number.isInteger(n))return O(u.t("general.validation.finiteInt"));if(n<0||n>100)return O(u.t("toggles.percentBetweenInclusive",{x:0,y:100}));if(n===e.hepteractAutoCraftPercentage&&e.toggles[35])return O(u.t("toggles.percentKeptAt",{x:e.hepteractAutoCraftPercentage}));if(e.hepteractAutoCraftPercentage=n,i("autoHepteractPercentage").textContent=u.t("wowCubes.hepteractForge.autoSetting",{x:`${e.hepteractAutoCraftPercentage}`}),e.toggles[35])return O(u.t("toggles.onAscensionHepteractsCraft",{x:e.hepteractAutoCraftPercentage}))},gd=()=>{e.blueberryLoadoutMode==="saveTree"?(e.blueberryLoadoutMode="loadTree",i("blueberryToggleMode").innerHTML=u.t("ambrosia.loadouts.load")):(e.blueberryLoadoutMode="saveTree",i("blueberryToggleMode").innerHTML=u.t("ambrosia.loadouts.save"))},rc=(t=!0)=>{i("alertWrapper").style.display==="block"&&i("ok_alert").click(),(i("confirmWrapper").style.display==="block"||i("promptWrapper").style.display==="block")&&(t?i("ok_confirm").click():i("cancel_confirm").click())};var Kn=()=>{let t=0;return e.challengecompletions[11]>0&&(t+=5),e.challengecompletions[12]>0&&(t+=2),e.challengecompletions[13]>0&&(t+=2),e.challengecompletions[14]>0&&(t+=2),e.platonicUpgrades[5]>0&&(t+=1),e.platonicUpgrades[10]>0&&(t+=1),e.singularityUpgrades.platonicTau.getEffect().bonus&&(t=Math.max(13,t)),e.singularityUpgrades.corruptionFourteen.getEffect().bonus&&(t+=1),t+=+e.octeractUpgrades.octeractCorruption.getEffect().bonus,t},zn=t=>{i("corruptionDetails").style.visibility!=="visible"&&(i("corruptionDetails").style.visibility="visible"),i("corruptionSelectedPic").style.visibility!=="visible"&&(i("corruptionSelectedPic").style.visibility="visible"),o.corruptionTrigger=t;let r=t===2&&e.usedCorruptions[t]>=10?1+.04*e.platonicUpgrades[17]+2*Math.min(1,e.platonicUpgrades[17]):1,n=t===2&&e.prototypeCorruptions[t]>=10?1+.04*e.platonicUpgrades[17]+2*Math.min(1,e.platonicUpgrades[17]):1,s=e.singularityUpgrades.corruptionFifteen.level>0?1:0;s+=+e.singularityChallenges.oneChallengeCap.rewards.freeCorruptionLevel;let a=s>0?`[+${s}]`:"",l=[o.viscosityPower,o.lazinessMultiplier,o.hyperchallengedMultiplier,o.illiteracyPower,o.deflationMultiplier,o.extinctionMultiplier,o.droughtMultiplier,o.financialcollapsePower,[0]],c=["/CorruptViscocity.png","/CorruptSpatialDilation.png","/CorruptHyperchallenged.png","/CorruptScientificIlliteracy.png","/CorruptDeflation.png","/CorruptExtinction.png","/CorruptDrought.png","/CorruptFinancialCollapse.png"],d={name:u.t("corruptions.exitCorruption.name"),description:u.t("corruptions.exitCorruption.description"),current:u.t("corruptions.exitCorruption.current"),planned:u.t("corruptions.exitCorruption.planned"),multiplier:u.t("corruptions.exitCorruption.multiplier"),spiritContribution:"",image:`Pictures/${Re[e.iconSet][0]}/CorruptExit.png`};t<10&&(d={name:u.t(`corruptions.names.${t-1}`),description:u.t(`corruptions.descriptions.${t-1}`),current:u.t(`corruptions.currentLevel.${t-1}`,{level:p(e.usedCorruptions[t])+a,effect:p(l[t-2][e.usedCorruptions[t]],3)}),planned:u.t(`corruptions.prototypeLevel.${t-1}`,{level:p(e.prototypeCorruptions[t])+a,effect:p(l[t-2][e.prototypeCorruptions[t]],3)}),multiplier:u.t("corruptions.scoreMultiplier",{curr:p(Math.pow(o.corruptionPointMultipliers[e.usedCorruptions[t]+s],r),1),next:p(Math.pow(o.corruptionPointMultipliers[e.prototypeCorruptions[t]+s],n),1)}),spiritContribution:u.t("corruptions.spiritEffect",{curr:p(4*Math.pow(e.usedCorruptions[t]+s,2),1),next:p(4*Math.pow(e.prototypeCorruptions[t]+s,2),1)}),image:`Pictures/${Re[e.iconSet][0]}${c[t-2]}`}),i("corruptionName").textContent=d.name,i("corruptionDescription").textContent=d.description,i("corruptionLevelCurrent").textContent=d.current,i("corruptionLevelPlanned").textContent=d.planned,i("corruptionMultiplierContribution").textContent=d.multiplier,i("corruptionSpiritContribution").textContent=d.spiritContribution,i("corruptionSelectedPic").setAttribute("src",d.image),t<10&&(i(`corrCurrent${t}`).textContent=p(e.usedCorruptions[t]),i(`corrNext${t}`).textContent=p(e.prototypeCorruptions[t]))},Sa=()=>{for(let t=2;t<=9;t++){let r=i(`corrCurrent${t}`),n=i(`corrNext${t}`);r.textContent=p(e.usedCorruptions[t]),n.textContent=p(e.prototypeCorruptions[t])}},fd=()=>{let t=document.getElementsByClassName("corruptionStatRow");for(let r=0;r<t.length;r++){let n=t[r];for(let d=n.children.length-1;d>=1;d--)n.children[d].remove();let s=document.createElement("p");s.className="corrDesc";let a=document.createTextNode(u.t("corruptions.current"));s.appendChild(a);let l=document.createElement("span");l.id=`corrCurrent${r+2}`,l.textContent=`${e.usedCorruptions[r+2]}`,s.appendChild(l),a=document.createTextNode(u.t("corruptions.next")),s.appendChild(a),l=document.createElement("span"),l.id=`corrNext${r+2}`,l.textContent=`${e.prototypeCorruptions[r+2]}`,s.appendChild(l),n.appendChild(s);let c;c=document.createElement("button"),c.className="corrBtn corruptionMax",c.textContent=`+${u.t("corruptions.max")}`,c.addEventListener("click",()=>Yr(r+2,99)),n.appendChild(c),c=document.createElement("button"),c.className="corrBtn corruptionUp",c.textContent="+1",c.addEventListener("click",()=>Yr(r+2,1)),n.appendChild(c),c=document.createElement("button"),c.className="corrBtn corruptionDown",c.textContent="-1",c.addEventListener("click",()=>Yr(r+2,-1)),n.appendChild(c),c=document.createElement("button"),c.className="corrBtn corruptionReset",c.textContent=`-${u.t("corruptions.max")}`,c.addEventListener("click",()=>Yr(r+2,-99)),n.appendChild(c),n.addEventListener("click",()=>zn(r+2))}},md=()=>{let r=Gr("corruptionLoadoutTable");for(let n=r.rows.length-1;n>=1;n--)r.deleteRow(n);for(let n=0;n<Object.keys(e.corruptionLoadouts).length+1;n++){let s=r.insertRow();for(let a=0;a<=8;a++){let l=s.insertCell();l.className=`test${a}`,a===0?n===0?(l.textContent=u.t("corruptions.loadoutTable.next"),l.addEventListener("click",()=>void Sm()),l.classList.add("corrLoadoutName"),l.title=u.t("corruptions.loadoutTable.firstRowTitle")):l.title=u.t("corruptions.loadoutTable.otherRowTitle",{value:n}):a<=8&&(n===0?l.textContent=e.prototypeCorruptions[a+1].toString():l.textContent=e.corruptionLoadouts[n][a+1].toString())}if(n===0){let a=s.insertCell(),l=document.createElement("button");l.className="corrImport",l.textContent=u.t("corruptions.loadoutTable.import"),l.addEventListener("click",()=>void Mm()),a.appendChild(l),a.title=u.t("corruptions.importLoadoutInTextFormat"),a=s.insertCell(),l=document.createElement("button"),l.className="corrLoad",l.textContent=u.t("corruptions.loadoutTable.zero"),l.addEventListener("click",()=>Ua(!1,n)),a.appendChild(l),a.title=u.t("corruptions.loadoutTable.zeroTitle")}else{let a=s.insertCell(),l=document.createElement("button");l.className="corrSave",l.textContent=u.t("corruptions.loadoutTable.save"),l.addEventListener("click",()=>Ua(!0,n)),a.appendChild(l),a.title=u.t("corruptions.loadoutTable.saveTitle"),a=s.insertCell(),l=document.createElement("button"),l.className="corrLoad",l.textContent=u.t("corruptions.loadoutTable.load"),l.addEventListener("click",()=>Ua(!1,n)),a.appendChild(l)}}},Yn=(t=0)=>{let r=Gr("corruptionLoadoutTable").rows[t+1].cells;for(let n=1;n<r.length&&!(n>8);n++)r[n].textContent=(t===0?e.prototypeCorruptions[n+1]:e.corruptionLoadouts[t][n+1]).toString()},Ua=(t=!0,r=1)=>{t?(e.corruptionLoadouts[r]=Array.from(e.prototypeCorruptions),Yn(r)):(r===0?e.prototypeCorruptions=[0,0,0,0,0,0,0,0,0,0,0,0,0]:e.prototypeCorruptions=Array.from(e.corruptionLoadouts[r]),Yn(),Sa())},lc=t=>{if(t.includes("/")&&t.split("/").length===13){let r=t.split("/").map(n=>Number(n));for(let n of r)if(!Number.isInteger(n)||Number.isNaN(n)||n<0||n>Kn())return!1;return e.prototypeCorruptions=r,Yn(),Sa(),!0}return!1};async function Mm(){let t=await Ue(u.t("corruptions.importCorruptionsPrompt.import"));lc(`0/0/${t}/0/0/0`)||O(u.t("corruptions.importCorruptionsPrompt.importError"))}async function km(t=0){let n=/^[\x00-\xFF]*$/,s=await Ue(u.t("corruptions.corruptionLoadoutName.loadoutPrompt",{loadNum:t+1,maxChars:9}));if(s){if(s.length>9)return O(u.t("corruptions.corruptionLoadoutName.errors.exceedsCharacterLimit"));if(n.test(s)){if(e.corruptionLoadoutNames[t]=s,cc(),s==="crazy")return O(u.t("corruptions.loadoutPrompt.errors.crazyJoke"))}else return O(u.t("corruptions.corruptionLoadoutName.errors.regexError"))}else return O(u.t("corruptions.corruptionLoadoutName.errors.noName"))}var cc=()=>{let t=Gr("corruptionLoadoutTable").rows;for(let r=0;r<Object.keys(e.corruptionLoadouts).length;r++){let n=t[r+2].cells;n[0].textContent.length===0&&(n[0].addEventListener("click",()=>void km(r)),n[0].classList.add("corrLoadoutName")),n[0].textContent=`${e.corruptionLoadoutNames[r]}:`}},Sm=async()=>{let t=e.prototypeCorruptions.slice(2,10).join("/");"clipboard"in navigator?await navigator.clipboard.writeText(t).catch(r=>O(u.t("corruptions.loadoutExport.saveErrorNavigator",{message:r.message}))):O(u.t("corruptions.loadoutExport.saveErrorNavigator",{message:t}))},hd=()=>{let t=i("corruptionCleanseConfirm");t.style.visibility="visible",setTimeout(()=>t.style.visibility="hidden",1e4)},bd=()=>{let t=document.getElementsByClassName("corruptionStatRow");for(let l=0;l<t.length;l++)t[l].style.display="none";let r=document.getElementsByClassName("chal11Corruption"),n=document.getElementsByClassName("chal12Corruption"),s=document.getElementsByClassName("chal13Corruption"),a=document.getElementsByClassName("chal14Corruption");if(e.challengecompletions[11]>0||e.singularityUpgrades.platonicTau.getEffect().bonus)for(let l=0;l<r.length;l++)r[l].style.display="flex";if(e.challengecompletions[12]>0||e.singularityUpgrades.platonicTau.getEffect().bonus)for(let l=0;l<n.length;l++)n[l].style.display="flex";if(e.challengecompletions[13]>0||e.singularityUpgrades.platonicTau.getEffect().bonus)for(let l=0;l<s.length;l++)s[l].style.display="flex";if(e.challengecompletions[14]>0||e.singularityUpgrades.platonicTau.getEffect().bonus)for(let l=0;l<a.length;l++)a[l].style.display="flex"};function ii(t){switch(t){case 2:return 11;case 3:return 14;case 4:return 14;case 5:return 13;case 6:return 12;case 7:return 12;case 8:return 11;case 9:return 13;default:return 0}}var Oe=()=>{let t=document.getElementsByClassName("coinunlock1");for(let E=0;E<t.length;E++)t[E].style.display=e.unlocks.coinone?"block":"none";let r=document.getElementsByClassName("coinunlock2");for(let E=0;E<r.length;E++)r[E].style.display=e.unlocks.cointwo?"block":"none";let n=document.getElementsByClassName("coinunlock3");for(let E=0;E<n.length;E++)n[E].style.display=e.unlocks.cointhree?"block":"none";let s=document.getElementsByClassName("coinunlock4");for(let E=0;E<s.length;E++)s[E].style.display=e.unlocks.coinfour?"block":"none";let a=document.getElementsByClassName("prestigeunlock");for(let E=0;E<a.length;E++)a[E].parentElement.classList.contains("offlineStats")?a[E].style.display=e.unlocks.prestige?"flex":"none":a[E].style.display=e.unlocks.prestige?"block":"none";let l=document.getElementsByClassName("generationunlock");for(let E=0;E<l.length;E++)l[E].style.display=e.unlocks.generation?"block":"none";let c=document.getElementsByClassName("transcendunlock");for(let E=0;E<c.length;E++)c[E].parentElement.classList.contains("offlineStats")?c[E].style.display=e.unlocks.transcend?"flex":"none":c[E].style.display=e.unlocks.transcend?"block":"none";let d=document.getElementsByClassName("reincarnationunlock");for(let E=0;E<d.length;E++)d[E].parentElement.classList.contains("offlineStats")?d[E].style.display=e.unlocks.reincarnate?"flex":"none":d[E].style.display=e.unlocks.reincarnate?"block":"none";let g=document.getElementsByClassName("auto");for(let E=0;E<g.length;E++)g[E].style.display="none";let m=document.getElementsByClassName("reinrow1");for(let E=0;E<m.length;E++)e.researches[47]===1?m[E].style.display="block":m[E].style.display="none";let h=document.getElementsByClassName("reinrow2");for(let E=0;E<h.length;E++)e.researches[48]===1?h[E].style.display="block":h[E].style.display="none";let b=document.getElementsByClassName("reinrow3");for(let E=0;E<b.length;E++)e.researches[49]===1?b[E].style.display="block":b[E].style.display="none";let y=document.getElementsByClassName("reinrow4");for(let E=0;E<y.length;E++)e.researches[50]===1?y[E].style.display="block":y[E].style.display="none";let v=document.getElementsByClassName("chal6");for(let E=0;E<v.length;E++)e.achievements[113]===1?v[E].style.display="block":v[E].style.display="none";let w=document.getElementsByClassName("chal7");for(let E=0;E<w.length;E++)e.achievements[120]===1?w[E].style.display="block":w[E].style.display="none";let k=document.getElementsByClassName("chal7x10");for(let E=0;E<k.length;E++)e.achievements[124]===1?k[E].style.display="block":k[E].style.display="none";let P=document.getElementsByClassName("chal8");for(let E=0;E<P.length;E++)P[E].parentElement.classList.contains("offlineStats")?P[E].style.display=e.achievements[127]===1?"flex":"none":P[E].style.display=e.achievements[127]===1?"block":"none";let A=document.getElementsByClassName("chal9");for(let E=0;E<A.length;E++)e.achievements[134]===1?A[E].style.display="block":A[E].style.display="none";let R=document.getElementsByClassName("chal9x1");for(let E=0;E<R.length;E++)e.highestchallengecompletions[9]>0?R[E].style.display="block":R[E].style.display="none";let Q=document.getElementsByClassName("chal10");for(let E=0;E<Q.length;E++)e.achievements[141]===1?Q[E].style.display="block":Q[E].style.display="none";let $=document.getElementsByClassName("ascendunlock");for(let E=0;E<$.length;E++)$[E].parentElement.classList.contains("offlineStats")?$[E].style.display=e.ascensionCount>0?"flex":"none":$[E].style.display=e.ascensionCount>0?"block":"none";let I=document.getElementsByClassName("chal11");for(let E=0;E<I.length;E++)e.challengecompletions[11]>0?I[E].style.display="block":I[E].style.display="none";let S=document.getElementsByClassName("chal12");for(let E=0;E<S.length;E++)e.challengecompletions[12]>0?S[E].style.display="block":S[E].style.display="none";let L=document.getElementsByClassName("chal13");for(let E=0;E<L.length;E++)e.challengecompletions[13]>0?L[E].style.display="block":L[E].style.display="none";let G=document.getElementsByClassName("chal14");for(let E=0;E<G.length;E++)e.challengecompletions[14]>0?G[E].style.display="block":G[E].style.display="none";let W=document.getElementsByClassName("ascendunlockib");for(let E=0;E<W.length;E++)W[E].style.display=e.ascensionCount>0?"inline-block":"none";let x=document.getElementsByClassName("prestigeunlockib");for(let E=0;E<x.length;E++)x[E].style.display=e.unlocks.prestige?"inline-block":"none";let j=document.getElementsByClassName("research150");for(let E=0;E<j.length;E++)j[E].style.display=e.researches[150]>0?"block":"none";let se=document.getElementsByClassName("cubeUpgrade10");for(let E=0;E<se.length;E++)se[E].style.display=e.cubeUpgrades[10]>0?"flex":"none";let ce=document.getElementsByClassName("cubeUpgrade19");for(let E=0;E<ce.length;E++)ce[E].style.display=e.cubeUpgrades[19]>0?"block":"none";let Ve=document.getElementsByClassName("sacrificeAnts");for(let E of Array.from(Ve))E.style.display=e.achievements[173]===1?"block":"none";let ut=document.getElementsByClassName("hepteracts");for(let E of Array.from(ut))E.style.display=e.challenge15Exponent>=1e15?"block":"none";let nt=document.getElementsByClassName("singularity");for(let E of Array.from(nt)){let at=Number(E.getAttribute("count"))||1;E.style.display=e.highestSingularityCount>=at?"block":"none"}let pt=document.getElementsByClassName("isEvent");for(let E of Array.from(pt))E.style.display=o.isEvent?"block":"none";Bl();let rt=i("corruptionHepteracts");rt.style.display=e.achievements[255]>0?"block":"none";let yt=document.getElementsByClassName("assortedCookies1"),pe=document.getElementsByClassName("assortedCookies2"),ae=document.getElementsByClassName("assortedCookies3"),ne=document.getElementsByClassName("assortedCookies4");for(let E of Array.from(yt))E.style.display=e.singularityUpgrades.cookies.getEffect().bonus?"block":"none";for(let E of Array.from(pe))E.style.display=e.singularityUpgrades.cookies2.getEffect().bonus?"block":"none";for(let E of Array.from(ae))E.style.display=e.singularityUpgrades.cookies3.getEffect().bonus?"block":"none";for(let E of Array.from(ne))E.style.display=e.singularityUpgrades.cookies4.getEffect().bonus?"block":"none";let le=document.getElementsByClassName("goldenQuark3Upg");for(let E of Array.from(le))E.style.display=e.singularityUpgrades.goldenQuarks3.getEffect().bonus>0?"block":"none";e.upgrades[89]===1?(i("transcendautotoggle").style.display="block",i("transcendamount").style.display="block",i("autotranscend").style.display="block"):(i("transcendautotoggle").style.display="none",i("transcendamount").style.display="none",i("autotranscend").style.display="none"),e.achievements[38]===1?(i("rune2area").style.display="flex",i("runeshowpower2").style.display="block"):(i("rune2area").style.display="none",i("runeshowpower2").style.display="none"),e.achievements[43]===1?(i("prestigeautotoggle").style.display="block",i("prestigeamount").style.display="block",i("autoprestige").style.display="block"):(i("prestigeautotoggle").style.display="none",i("prestigeamount").style.display="none",i("autoprestige").style.display="none"),e.achievements[44]===1?(i("rune3area").style.display="flex",i("runeshowpower3").style.display="block"):(i("rune3area").style.display="none",i("runeshowpower3").style.display="none"),e.achievements[102]===1?(i("rune4area").style.display="flex",i("runeshowpower4").style.display="block"):(i("rune4area").style.display="none",i("runeshowpower4").style.display="none"),e.achievements[119]===1?i("talisman1area").style.display="flex":i("talisman1area").style.display="none",e.achievements[126]===1?i("talisman2area").style.display="flex":i("talisman2area").style.display="none",e.achievements[133]===1?i("talisman3area").style.display="flex":i("talisman3area").style.display="none",e.achievements[134]===1?(i("toggleRuneSubTab2").style.display="block",i("toggleRuneSubTab3").style.display="block"):(i("toggleRuneSubTab2").style.display="none",i("toggleRuneSubTab3").style.display="none"),e.achievements[140]===1?i("talisman4area").style.display="flex":i("talisman4area").style.display="none",e.achievements[147]===1?i("talisman5area").style.display="flex":i("talisman5area").style.display="none",e.achievements[173]===1?i("sacrificeAnts").style.display="block":i("sacrificeAnts").style.display="none",e.researches[39]>0?i("reincarnationCrystalInfo").style.display="block":i("reincarnationCrystalInfo").style.display="none",e.researches[40]>0?i("reincarnationMythosInfo").style.display="block":i("reincarnationMythosInfo").style.display="none",e.researches[46]>0?i("reincarnateautomation").style.display="block":i("reincarnateautomation").style.display="none",e.researches[82]>0?(i("rune5area").style.display="flex",i("runeshowpower5").style.display="block"):(i("rune5area").style.display="none",i("runeshowpower5").style.display="none"),e.researches[124]>0?(i("antSacrificeButtons").style.display="flex",i("autoAntSacrifice").style.display="block"):(i("antSacrificeButtons").style.display="none",i("autoAntSacrifice").style.display="none"),e.researches[124]>0||e.highestSingularityCount>0?i("toggleAutoSacrificeAnt").style.display="block":i("toggleAutoSacrificeAnt").style.display="none",e.researches[130]>0?i("toggleautofortify").style.display="block":i("toggleautofortify").style.display="none",e.researches[135]>0?i("toggleautoenhance").style.display="block":i("toggleautoenhance").style.display="none";for(let E=1;E<=5;E++)e.researches[190]>0?i(`tesseractAutoToggle${E}`).style.display="block":i(`tesseractAutoToggle${E}`).style.display="none";e.researches[190]>0?i("tesseractautobuytoggle").style.display="block":i("tesseractautobuytoggle").style.display="none",e.researches[190]>0?i("tesseractautobuymode").style.display="block":i("tesseractautobuymode").style.display="none",e.researches[190]>0?i("tesseractAmount").style.display="block":i("tesseractAmount").style.display="none",e.researches[190]>0?i("autotessbuyeramount").style.display="block":i("autotessbuyeramount").style.display="none",e.antUpgrades[11]>0||e.ascensionCount>0?i("talisman6area").style.display="flex":i("talisman6area").style.display="none",e.shopUpgrades.offeringAuto>0?i("toggleautosacrifice").style.display="block":i("toggleautosacrifice").style.display="none",e.cubeUpgrades[51]>0&&e.highestSingularityCount>=40?i("toggleautoBuyFragments").style.display="block":i("toggleautoBuyFragments").style.display="none",e.shopUpgrades.obtainiumAuto>0?i("toggleautoresearch").style.display="block":i("toggleautoresearch").style.display="none",i("toggleautoresearchmode").style.display=e.shopUpgrades.obtainiumAuto>0&&Vt()?"block":"none",e.shopUpgrades.shopTalisman>0?i("talisman7area").style.display="flex":i("talisman7area").style.display="none",e.cubeUpgrades[8]>0?i("reincarnateAutoUpgrade").style.display="block":i("reincarnateAutoUpgrade").style.display="none",e.shopUpgrades.infiniteAscent?(i("rune6area").style.display="flex",i("runeshowpower6").style.display="block"):(i("rune6area").style.display="none",i("runeshowpower6").style.display="none"),e.platonicUpgrades[20]>0?(i("rune7area").style.display="flex",i("runeshowpower7").style.display="block"):(i("rune7area").style.display="none",i("runeshowpower7").style.display="none"),e.highestSingularityCount>0?i("saveOffToggle").style.display="block":i("saveOffToggle").style.display="none",e.highestSingularityCount>=35?(i("openCubes").style.display="block",i("cubeOpensInput").style.display="block",i("openTesseracts").style.display="block",i("tesseractsOpensInput").style.display="block",i("openHypercubes").style.display="block",i("hypercubesOpensInput").style.display="block",i("openPlatonicCube").style.display="block",i("platonicCubeOpensInput").style.display="block"):(i("openCubes").style.display="none",i("cubeOpensInput").style.display="none",i("openTesseracts").style.display="none",i("tesseractsOpensInput").style.display="none",i("openHypercubes").style.display="none",i("hypercubesOpensInput").style.display="none",i("openPlatonicCube").style.display="none",i("platonicCubeOpensInput").style.display="none"),e.highestSingularityCount>=50&&e.singularityCount<e.highestSingularityCount||e.highestSingularityCount>=150?i("toggleAutoCubeUpgrades").style.display="block":i("toggleAutoCubeUpgrades").style.display="none",e.highestSingularityCount>=100&&e.singularityCount<e.highestSingularityCount||e.highestSingularityCount>=200?i("toggleAutoPlatonicUpgrades").style.display="block":i("toggleAutoPlatonicUpgrades").style.display="none",e.highestSingularityCount>0&&e.ascensionCount>0?i("settingpic6").style.display="block":i("settingpic6").style.display="none",e.highestSingularityCount>0&&e.challenge15Exponent>=1e15?i("heptnotificationpic").style.display="block":i("heptnotificationpic").style.display="none",i("warpAuto").style.display=e.shopUpgrades.autoWarp>0?"":"none";let ie=document.getElementsByClassName("octeracts");for(let E of Array.from(ie))E.style.display=e.singularityUpgrades.octeractUnlock.getEffect().bonus?"block":"none";let he=document.getElementsByClassName("singChallenges");for(let E of Array.from(he))E.style.display=e.highestSingularityCount>=25?"block":"none";i("toggleSingularitySubTab5").style.display=e.singularityChallenges.noSingularityUpgrades.completions>=1?"block":"none",e.runelevels[6]>0||e.highestSingularityCount>0?i("singularitybtn").style.display="block":i("singularitybtn").style.display="none",e.highestSingularityCount>0&&e.ascensionCount>=1?i("totalQuarkCountStatisticSing").style.display="block":i("totalQuarkCountStatisticSing").style.display="none",i("ascensionStats").style.visibility=e.achievements[197]>0||e.highestSingularityCount>0?"visible":"hidden",i("ascHyperStats").style.display=e.challengecompletions[13]>0?"":"none",i("ascPlatonicStats").style.display=e.challengecompletions[14]>0?"":"none",i("ascHepteractStats").style.display=e.achievements[255]>0?"":"none";let He={toggle1:e.upgrades[81]===1,toggle2:e.upgrades[82]===1,toggle3:e.upgrades[83]===1,toggle4:e.upgrades[84]===1,toggle5:e.upgrades[85]===1,toggle6:e.upgrades[86]===1,toggle7:e.upgrades[87]===1,toggle8:e.upgrades[88]===1,toggle10:e.achievements[78]===1,toggle11:e.achievements[85]===1,toggle12:e.achievements[92]===1,toggle13:e.achievements[99]===1,toggle14:e.achievements[106]===1,toggle15:e.achievements[43]===1,toggle16:e.upgrades[94]===1,toggle17:e.upgrades[95]===1,toggle18:e.upgrades[96]===1,toggle19:e.upgrades[97]===1,toggle20:e.upgrades[98]===1,toggle21:e.upgrades[89]===1,toggle22:e.cubeUpgrades[7]===1,toggle23:e.cubeUpgrades[7]===1,toggle24:e.cubeUpgrades[7]===1,toggle25:e.cubeUpgrades[7]===1,toggle26:e.cubeUpgrades[7]===1,toggle27:e.researches[46]===1,coinAutoUpgrade:e.upgrades[91]===1,prestigeAutoUpgrade:e.upgrades[92]===1,transcendAutoUpgrade:e.upgrades[99]===1,generatorsAutoUpgrade:e.upgrades[90]===1,toggle9:e.unlocks.prestige,toggle28:e.prestigeCount>.5||e.reincarnationCount>.5,toggle29:e.transcendCount>.5||e.reincarnationCount>.5,toggle30:e.reincarnationCount>.5,toggle31:e.ascensionCount>0,toggle32:e.achievements[173]>0,toggle33:e.highestSingularityCount>0&&e.ascensionCount>0,toggle34:e.unlocks.coinfour,toggle35:e.challenge15Exponent>=1e15&&e.highestSingularityCount>0,toggle36:e.highestSingularityCount>=15,toggle37:e.highestSingularityCount>=15,toggle38:e.highestSingularityCount>0,toggle39:e.unlocks.prestige,toggle40:e.unlocks.prestige,toggle41:e.challengecompletions[11]>0,toggle42:e.highestSingularityCount>=6,toggle43:e.highestSingularityCount>=6};Object.keys(He).forEach(E=>{let at=i(E);if(at===null){console.error(`Automation unlock failed to find element with ID '${E}'.`);return}at.style.display=He[E]?"block":"none"}),bd()},Vp=()=>{i("buildings").style.display="none",i("buildingstab").style.backgroundColor="",i("upgrades").style.display="none",i("upgradestab").style.backgroundColor="",i("settings").style.display="none",i("statistics").style.display="none",i("achievementstab").style.backgroundColor="",i("achievementstab").style.color="white",i("runes").style.display="none",i("runestab").style.backgroundColor="",i("challenges").style.display="none",i("challengetab").style.backgroundColor="",i("research").style.display="none",i("researchtab").style.backgroundColor="",i("shop").style.display="none",i("shoptab").style.backgroundColor="",i("ants").style.display="none",i("anttab").style.backgroundColor="",i("cubetab").style.backgroundColor="",i("traitstab").style.backgroundColor="",i("cubes").style.display="none",i("traits").style.display="none",i("singularity").style.display="none",i("singularitytab").style.backgroundColor="",i("event").style.display="none",i("eventtab").style.backgroundColor="";let t=i("settingstab");if(t.style.backgroundColor="",t.style.borderColor="white",o.currentTab===0&&(i("buildingstab").style.backgroundColor="orange",i("buildings").style.display="block"),o.currentTab===1&&(i("upgrades").style.display="block",i("upgradestab").style.backgroundColor="orange",i("upgradedescription").textContent=u.t("upgrades.hoverOverUpgrade")),o.currentTab===10){i("settings").style.display="block";let r=i("settingstab");r.style.backgroundColor="orange",r.style.borderColor="gold"}o.currentTab===2?(i("statistics").style.display="block",i("achievementstab").style.backgroundColor="white",i("achievementstab").style.color="black",i("achievementprogress").textContent=u.t("achievements.totalPoints",{x:p(e.achievementPoints),y:p(wn),z:(100*e.achievementPoints/wn).toPrecision(4)})):o.currentTab===3&&(i("runes").style.display="block",i("runestab").style.backgroundColor="blue",i("runeshowlevelup").textContent=u.t("runes.hover"),i("researchrunebonus").textContent=u.t("runes.thanksResearches",{percent:p(100*o.effectiveLevelMult-100,4,!0)}),Rt(1,!1),Rt(2,!1),Rt(3,!1),Rt(4,!1),Rt(5,!1),Rt(6,!1),Rt(7,!1)),o.currentTab===4&&(i("challenges").style.display="block",i("challengetab").style.backgroundColor="purple"),o.currentTab===5&&(i("research").style.display="block",i("researchtab").style.backgroundColor="green"),o.currentTab===11&&(i("shop").style.display="block",i("shoptab").style.backgroundColor="limegreen"),o.currentTab===6&&(i("ants").style.display="block",i("anttab").style.backgroundColor="brown"),o.currentTab===7&&(i("cubes").style.display="flex",i("cubetab").style.backgroundColor="white"),o.currentTab===8&&(i("traits").style.display="flex",i("traitstab").style.backgroundColor="white"),o.currentTab===9&&(i("singularity").style.display="block",i("singularitytab").style.backgroundColor="lightgoldenrodyellow",zi(),Zi()),o.currentTab===12&&(i("event").style.display="block",i("eventtab").style.backgroundColor="gold")},Tm={[0]:Ku,[1]:zu,[2]:Yu,[3]:Zu,[4]:Ju,[5]:Zo,[10]:rp,[11]:Bl,[6]:ep,[7]:Jo,[8]:tp,[9]:np,[12]:ap},dc=()=>{let t=["coins","runeshards","prestigePoints","transcendPoints","transcendShards","reincarnationPoints","worlds","researchPoints"],r=["coinDisplay","offeringDisplay","diamondDisplay","mythosDisplay","mythosshardDisplay","particlesDisplay","quarkDisplay","obtainiumDisplay"];for(let n=0;n<t.length;n++){let s=p(e[`${t[n]}`]),a=i(`${r[n]}`);a.textContent!==s&&(a.textContent=s)}Lm(),Tm[o.currentTab]()},yd=()=>{if(i("prestigebtn").style.backgroundColor=e.toggles[15]&&e.achievements[43]===1?"green":"",i("transcendbtn").style.backgroundColor=e.toggles[21]&&e.upgrades[89]>.5&&e.currentChallenge.transcension===0?"green":"",i("reincarnatebtn").style.backgroundColor=e.toggles[27]&&e.researches[46]>.5&&e.currentChallenge.transcension===0&&e.currentChallenge.reincarnation===0?"green":"",i("acceleratorboostbtn").style.backgroundColor=e.toggles[8]&&e.upgrades[88]>.5?"green":"",i("challengebtn").style.backgroundColor=e.currentChallenge.transcension===0?"":"purple",i("reincarnatechallengebtn").style.backgroundColor=e.currentChallenge.reincarnation===0?"":"purple",i("ascendChallengeBtn").style.backgroundColor=e.currentChallenge.ascension===0?"":"purple",i("ascendbtn").style.backgroundColor=e.autoAscend&&e.challengecompletions[11]>0&&e.cubeUpgrades[10]>0?"green":"",i("singularitybtn").style.filter=e.runelevels[6]>0?"":"contrast(1.25) sepia(1) grayscale(0.25)",e.toggles[33]&&e.highestSingularityCount===0&&(e.toggles[28]&&!e.unlocks.prestige&&(i("prestigebtn").style.boxShadow=e.coinsThisPrestige.gte(1e16)?"cyan 0px 0px 10px 2px":""),e.toggles[29]&&!e.unlocks.transcend&&(i("transcendbtn").style.boxShadow=e.coinsThisTranscension.gte(1e100)?"plum 0px 0px 10px 2px":""),e.toggles[30]&&!e.unlocks.reincarnate&&(i("reincarnatebtn").style.boxShadow=e.transcendShards.gte(1e300)?"greenyellow 0px 0px 10px 2px":""),e.toggles[31]&&e.ascensionCount===0&&(i("ascendbtn").style.boxShadow=e.challengecompletions[10]>0?"orange 0px 0px 10px 2px":"")),o.currentTab===0&&o.buildingSubTab==="coin"){let t=i("buycoin1"),r=i("buycoin2"),n=i("buycoin3"),s=i("buycoin4"),a=i("buycoin5"),l=i("buyaccelerator"),c=i("buymultiplier"),d=i("buyacceleratorboost");(!e.toggles[1]||e.upgrades[81]===0)&&e.coins.gte(e.firstCostCoin)?t.classList.add("buildingPurchaseBtnAvailable"):t.classList.remove("buildingPurchaseBtnAvailable"),(!e.toggles[2]||e.upgrades[82]===0)&&e.coins.gte(e.secondCostCoin)?r.classList.add("buildingPurchaseBtnAvailable"):r.classList.remove("buildingPurchaseBtnAvailable"),(!e.toggles[3]||e.upgrades[83]===0)&&e.coins.gte(e.thirdCostCoin)?n.classList.add("buildingPurchaseBtnAvailable"):n.classList.remove("buildingPurchaseBtnAvailable"),(!e.toggles[4]||e.upgrades[84]===0)&&e.coins.gte(e.fourthCostCoin)?s.classList.add("buildingPurchaseBtnAvailable"):s.classList.remove("buildingPurchaseBtnAvailable"),(!e.toggles[5]||e.upgrades[85]===0)&&e.coins.gte(e.fifthCostCoin)?a.classList.add("buildingPurchaseBtnAvailable"):a.classList.remove("buildingPurchaseBtnAvailable"),(!e.toggles[6]||e.upgrades[86]===0)&&e.coins.gte(e.acceleratorCost)?l.classList.add("buildingPurchaseBtnAvailable"):l.classList.remove("buildingPurchaseBtnAvailable"),(!e.toggles[7]||e.upgrades[87]===0)&&e.coins.gte(e.multiplierCost)?c.classList.add("buildingPurchaseBtnAvailable"):c.classList.remove("buildingPurchaseBtnAvailable"),(!e.toggles[8]||e.upgrades[88]===0)&&e.prestigePoints.gte(e.acceleratorBoostCost)?d.classList.add("buildingPurchaseBtnAvailable"):d.classList.remove("buildingPurchaseBtnAvailable")}if(o.currentTab===0&&o.buildingSubTab==="diamond"){let t=i("buydiamond1"),r=i("buydiamond2"),n=i("buydiamond3"),s=i("buydiamond4"),a=i("buydiamond5"),l=i("buycrystalupgrade1"),c=i("buycrystalupgrade2"),d=i("buycrystalupgrade3"),g=i("buycrystalupgrade4"),m=i("buycrystalupgrade5");(!e.toggles[10]||e.achievements[78]===0)&&e.prestigePoints.gte(e.firstCostDiamonds)?t.classList.add("buildingPurchaseBtnAvailable"):t.classList.remove("buildingPurchaseBtnAvailable"),(!e.toggles[11]||e.achievements[85]===0)&&e.prestigePoints.gte(e.secondCostDiamonds)?r.classList.add("buildingPurchaseBtnAvailable"):r.classList.remove("buildingPurchaseBtnAvailable"),(!e.toggles[12]||e.achievements[92]===0)&&e.prestigePoints.gte(e.thirdCostDiamonds)?n.classList.add("buildingPurchaseBtnAvailable"):n.classList.remove("buildingPurchaseBtnAvailable"),(!e.toggles[13]||e.achievements[99]===0)&&e.prestigePoints.gte(e.fourthCostDiamonds)?s.classList.add("buildingPurchaseBtnAvailable"):s.classList.remove("buildingPurchaseBtnAvailable"),(!e.toggles[14]||e.achievements[106]===0)&&e.prestigePoints.gte(e.fifthCostDiamonds)?a.classList.add("buildingPurchaseBtnAvailable"):a.classList.remove("buildingPurchaseBtnAvailable");let h=0;h+=Math.floor(o.rune3level/16*o.effectiveLevelMult)*100/100,e.upgrades[73]===1&&e.currentChallenge.reincarnation!==0&&(h+=10),e.achievements[79]<1?e.prestigeShards.gte(f.pow(10,o.crystalUpgradesCost[0]+o.crystalUpgradeCostIncrement[0]*Math.floor(Math.pow(e.crystalUpgrades[0]+.5-h,2)/2)))?l.style.backgroundColor="purple":l.style.backgroundColor="":l.style.backgroundColor="green",e.achievements[86]<1?e.prestigeShards.gte(f.pow(10,o.crystalUpgradesCost[1]+o.crystalUpgradeCostIncrement[1]*Math.floor(Math.pow(e.crystalUpgrades[1]+.5-h,2)/2)))?c.style.backgroundColor="purple":c.style.backgroundColor="":c.style.backgroundColor="green",e.achievements[93]<1?e.prestigeShards.gte(f.pow(10,o.crystalUpgradesCost[2]+o.crystalUpgradeCostIncrement[2]*Math.floor(Math.pow(e.crystalUpgrades[2]+.5-h,2)/2)))?d.style.backgroundColor="purple":d.style.backgroundColor="":d.style.backgroundColor="green",e.achievements[100]<1?e.prestigeShards.gte(f.pow(10,o.crystalUpgradesCost[3]+o.crystalUpgradeCostIncrement[3]*Math.floor(Math.pow(e.crystalUpgrades[3]+.5-h,2)/2)))?g.style.backgroundColor="purple":g.style.backgroundColor="":g.style.backgroundColor="green",e.achievements[107]<1?e.prestigeShards.gte(f.pow(10,o.crystalUpgradesCost[4]+o.crystalUpgradeCostIncrement[4]*Math.floor(Math.pow(e.crystalUpgrades[4]+.5-h,2)/2)))?m.style.backgroundColor="purple":m.style.backgroundColor="":m.style.backgroundColor="green"}if(o.currentTab===3){if(o.runescreen==="runes")for(let t=1;t<=7;t++)e.runeshards>.5?i(`activaterune${t}`).classList.add("runeButtonAvailable"):i(`activaterune${t}`).classList.remove("runeButtonAvailable");if(o.runescreen==="talismans"){let t=i("buyTalismanItem1"),r=i("buyTalismanItem2"),n=i("buyTalismanItem3"),s=i("buyTalismanItem4"),a=i("buyTalismanItem5"),l=i("buyTalismanItem6"),c=i("buyTalismanItem7"),d=[t,r,n,s,a,l,c];for(let g=0;g<d.length;g++)e.researchPoints>o.talismanResourceObtainiumCosts[g]&&e.runeshards>o.talismanResourceOfferingCosts[g]?d[g].classList.add("talisminBtnAvailable"):d[g].classList.remove("talisminBtnAvailable")}}if(o.currentTab===0&&o.buildingSubTab==="mythos")for(let t=1;t<=5;t++){let r=e.toggles[t+15],n=e[`${o.ordinals[t-1]}CostMythos`];(!r||!e.upgrades[93+t])&&e.transcendPoints.gte(n)?i(`buymythos${t}`).classList.add("buildingPurchaseBtnAvailable"):i(`buymythos${t}`).classList.remove("buildingPurchaseBtnAvailable")}if(o.currentTab===0&&o.buildingSubTab==="particle")for(let t=1;t<=5;t++){let r=e[`${o.ordinals[t-1]}CostParticles`];e.reincarnationPoints.gte(r)?i(`buyparticles${t}`).classList.add("buildingPurchaseBtnAvailable"):i(`buyparticles${t}`).classList.remove("buildingPurchaseBtnAvailable")}if(o.currentTab===0&&o.buildingSubTab==="tesseract"){for(let t=1;t<=5;t++){let r=e[`ascendBuilding${t}`].cost;Number(e.wowTesseracts)>=r?i(`buyTesseracts${t}`).classList.add("buildingPurchaseBtnAvailable"):i(`buyTesseracts${t}`).classList.remove("buildingPurchaseBtnAvailable")}for(let t=1;t<=8;t++)e.researches[175]>=1?(i(`buyConstantUpgrade${t}`).classList.remove("constUpgradeAvailable"),i(`buyConstantUpgrade${t}`).classList.add("constUpgradeAuto")):(i(`buyConstantUpgrade${t}`).classList.remove("constUpgradeAuto"),e.ascendShards.gte(f.pow(10,e.constantUpgrades[t]).times(o.constUpgradeCosts[t]))?i(`buyConstantUpgrade${t}`).classList.add("constUpgradeAvailable"):i(`buyConstantUpgrade${t}`).classList.remove("constUpgradeAvailable"));for(let t=9;t<=10;t++)e.researches[175]>=1||e.constantUpgrades[t]>=1?(i(`buyConstantUpgrade${t}`).classList.remove("constUpgradeAvailable"),i(`buyConstantUpgrade${t}`).classList.add("constUpgradeAuto")):(i(`buyConstantUpgrade${t}`).classList.remove("constUpgradeAuto"),e.ascendShards.gte(f.pow(10,e.constantUpgrades[t]).times(o.constUpgradeCosts[t]))?i(`buyConstantUpgrade${t}`).classList.add("constUpgradeAvailable"):i(`buyConstantUpgrade${t}`).classList.remove("constUpgradeAvailable"))}if(o.currentTab===6){e.reincarnationPoints.gte(e.firstCostAnts)?i("anttier1").classList.add("antTierBtnAvailable"):i("anttier1").classList.remove("antTierBtnAvailable");for(let t=2;t<=8;t++){let r=e[`${o.ordinals[t-1]}CostAnts`];e.antPoints.gte(r)?i(`anttier${t}`).classList.add("antTierBtnAvailable"):i(`anttier${t}`).classList.remove("antTierBtnAvailable")}for(let t=1;t<=12;t++)e.antPoints.gte(f.pow(o.antUpgradeCostIncreases[t-1],e.antUpgrades[t-1]*o.extinctionMultiplier[e.usedCorruptions[10]]).times(o.antUpgradeBaseCost[t-1]))?i(`antUpgrade${t}`).classList.add("antUpgradeBtnAvailable"):i(`antUpgrade${t}`).classList.remove("antUpgradeBtnAvailable")}},Cr=()=>{for(let t=1;t<=15;t++){let r=i(`challenge${t}`);r.classList.remove("challengeActive"),e.currentChallenge.transcension===t&&r.classList.add("challengeActive"),e.currentChallenge.reincarnation===t&&r.classList.add("challengeActive"),e.currentChallenge.ascension===t&&r.classList.add("challengeActive")}e.retrychallenges?i("retryChallenge").textContent=u.t("challenges.retryChallengesOn"):i("retryChallenge").textContent=u.t("challenges.retryChallengesOff");for(let t=1;t<=15;t++)wr(t)},wr=t=>{let r=i(`challenge${t}level`),n=qe(t);t===15?r.textContent=p(e.challenge15Exponent,0,!0):r.textContent=`${e.challengecompletions[t]}/${n}`},vd=()=>{for(let n=1;n<=280;n++)i(`ach${n}`).style.backgroundColor="";let t=document.getElementsByClassName("purpleach"),r=document.getElementsByClassName("redach");for(let n=0;n<t.length;n++)t[n].style.backgroundColor="purple";for(let n=0;n<r.length;n++)r[n].style.backgroundColor="maroon";for(let n=1;n<e.achievements.length;n++)e.achievements[n]>.5&&F(n)},bi=()=>{e.corruptionShowStats?(i("corruptionStats").style.display="flex",i("corruptionLoadouts").style.display="none",i("corrStatsBtn").style.borderColor="dodgerblue",i("corrLoadoutsBtn").style.borderColor="white"):(i("corruptionStats").style.display="none",i("corruptionLoadouts").style.display="flex",i("corrStatsBtn").style.borderColor="white",i("corrLoadoutsBtn").style.borderColor="dodgerblue")},Lm=()=>{let t=e.ascensionCounter;t===0&&(t=1);let[r,n,s,a,l]=Or().slice(4),c=e.singularityUpgrades.oneMind.getEffect().bonus,d={ascLen:tr(e.ascStatToggles[6]?e.ascensionCounter:e.ascensionCounterReal,0),ascCubes:p(r*(e.ascStatToggles[1]?1:1/t),2),ascTess:p(n*(e.ascStatToggles[2]?1:1/t),3),ascHyper:p(s*(e.ascStatToggles[3]?1:1/t),4),ascPlatonic:p(a*(e.ascStatToggles[4]?1:1/t),5),ascHepteract:p(l*(e.ascStatToggles[5]?1:1/t),3),ascC10:`${p(e.challengecompletions[10])}`,ascTimeAccel:`${p(Qe().mult,3)}x`,ascAscensionTimeAccel:`${p(vr(),3)}x${c?"*":""}`,ascSingularityCount:p(e.singularityCount),ascSingLen:tr(e.singularityCounter)};for(let g in d){let m=i(g);m.textContent!==d[g]&&(m.textContent=d[g])}},Pm={[0]:"yellow",[1]:"yellow",[2]:"white",[3]:"cyan",[4]:"plum",[5]:"green",[6]:"brown",[7]:"purple",[8]:"orange",[10]:"white",[11]:"limegreen"},di=()=>{var n;let t=i("tabBorder"),r=(n=Pm[o.currentTab])!=null?n:"yellow";t.style.backgroundColor=r},Se=t=>{let r=i("confirmationBox"),n=i("confirmWrapper"),s=i("confirm"),a=i("transparentBG"),l=i("ok_confirm"),c=i("cancel_confirm");i("alertWrapper").style.display="none",i("promptWrapper").style.display="none",r.style.display="block",n.style.display="block",a.style.display="block",s.querySelector("p").textContent=t,s.focus();let d=Ja(),g=({target:h})=>{let b=h;l.removeEventListener("click",g),c.removeEventListener("click",g),s.removeEventListener("keyup",m),r.style.display="none",n.style.display="none",a.style.display="none",d.resolve(b===l)},m=h=>h.key==="Enter"||h.key===" "?g({target:l}):h.key==="Escape"?g({target:c}):h.preventDefault();return l.addEventListener("click",g,{once:!0}),c.addEventListener("click",g,{once:!0}),s.addEventListener("keyup",m),d.promise},O=t=>{let r=i("confirmationBox"),n=i("alertWrapper"),s=i("transparentBG"),a=i("alert"),l=i("ok_alert");i("confirmWrapper").style.display="none",i("promptWrapper").style.display="none",r.style.display="block",n.style.display="block",s.style.display="block",a.querySelector("p").textContent=t,a.focus();let c=Ja(),d=()=>{l.removeEventListener("click",d),a.removeEventListener("keyup",g),r.style.display="none",n.style.display="none",s.style.display="none",c.resolve()},g=m=>(m.key==="Enter"||m.key===" ")&&d();return l.addEventListener("click",d,{once:!0}),a.addEventListener("keyup",g),c.promise},Ue=(t,r)=>{let n=i("confirmationBox"),s=i("promptWrapper"),a=i("transparentBG"),l=i("prompt"),c=i("ok_prompt"),d=i("cancel_prompt");i("alertWrapper").style.display="none",i("confirmWrapper").style.display="none",n.style.display="block",s.style.display="block",a.style.display="block",l.querySelector("label").textContent=t,r&&(l.querySelector("input").placeholder=r),l.querySelector("input").focus();let g=Ja(),m=({target:b})=>{let y=b,v=y.parentNode.querySelector("input");c.removeEventListener("click",m),d.removeEventListener("click",m),l.querySelector("input").removeEventListener("keyup",h),n.style.display="none",s.style.display="none",a.style.display="none",g.resolve(y.id===c.id?v.value||v.placeholder:null),v.value=v.textContent=v.placeholder="",l.querySelector("input").blur()},h=b=>b.key==="Enter"?m({target:c}):b.key==="Escape"?m({target:d}):b.preventDefault();return c.addEventListener("click",m,{once:!0}),d.addEventListener("click",m,{once:!0}),l.querySelector("input").addEventListener("keyup",h),g.promise},uc,pc,Zn=(t,r=3e4)=>{let n=i("notification"),s=document.querySelector("#notification > p"),a=i("notifx");s.textContent=t,n.style.display="block",n.classList.remove("slide-out"),n.classList.add("slide-in");let l=Ja(),c=()=>{n.style.display="none",s.textContent="",pc=0},d=()=>{n.classList.add("slide-out"),n.classList.remove("slide-in"),uc=0,a.removeEventListener("click",d),pc=setTimeout(c,1e3),l.resolve()};return a.addEventListener("click",d),clearTimeout(uc),clearTimeout(pc),uc=setTimeout(d,r),l.promise};var Oa=[0,1,2,4,6,8,9,10,1,2,4,6,8,9,10,1,2,4,6,8,9,10,1,2,4,6,8,9,10,1,2,4,6,8,9,10,1,2,4,6,8,9,10,1,2,4,6,8,9,10,1,2,4,6,8,9,10,2,8,10,2,8,10,10,2,8,10,10,10,10,10,2,4,6,8,10,10,10,1,2,4,6,8,9,10,1,2,4,6,8,9,10,1,2,4,6,8,9,10,1,2,4,6,8,9,10,1,2,4,6,8,9,10,1,2,4,6,8,9,10,1,2,4,6,8,9,10,1,2,4,6,8,9,10,1,2,4,6,8,9,10,1,2,4,6,8,9,10,1,2,4,6,8,9,10,1,2,4,6,8,9,10,1,2,4,6,8,9,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,20,20,20,40,60,60,100,20,20,40,40,60,60,100,20,20,40,40,60,60,100,20,40,40,40,60,60,100,40,40,40,60,60,100,100,40,40,60,60,100,100,100,20,40,40,60,60,100,100,40,60,100,60,100,100,40,40,40,40,40,40,40,40,40,40,40,40,100,100,0,50,75,75,75,100,100,150,50,75,75,75,100,100,150,50,75,75,75,100,100,150,10,10,20,20,30,40,50],wn=Oa.reduce((t,r)=>t+r,0),Am=t=>{let r=Or(),n={118:p(Math.pow(.9925,e.challengecompletions[6]+e.challengecompletions[7]+e.challengecompletions[8]+e.challengecompletions[9]+e.challengecompletions[10]),4),169:p(f.log(e.antPoints.add(10),10),2),174:p(.4*f.log(e.antPoints.add(1),10),2),187:{x:p(Math.max(1,Math.log10(r[3]+1)-7),2),y:p(Math.min(100,e.ascensionCount/1e4),2)},188:p(Math.min(100,e.ascensionCount/5e4),2),189:p(Math.min(200,e.ascensionCount/25e5),2),193:p(f.log(e.ascendShards.add(1),10)/4,2),195:p(Math.min(25e3,f.log(e.ascendShards.add(1),10)/4),2),196:p(Math.min(2e3,f.log(e.ascendShards.add(1),10)/50),2),202:p(Math.min(200,e.ascensionCount/5e6),2),216:p(Math.min(200,e.ascensionCount/1e7),2),223:p(Math.min(200,e.ascensionCount/1337e4),2),240:p(Math.min(1.5,1+Math.max(2,Math.log10(Qe().mult))/20),2),254:p(Math.min(15,Math.log10(r[3]+1)*.6),2,!0),255:p(Math.min(15,Math.log10(r[3]+1)*.6),2,!0),256:p(Math.min(15,Math.log10(r[3]+1)*.6),2,!0),257:p(Math.min(15,Math.log10(r[3]+1)*.6),2,!0),258:p(Math.min(15,Math.log10(r[3]+1)*.6),2,!0),262:p(Math.min(10,Math.log10(e.ascensionCount+1)),2),263:p(Math.min(10,Math.log10(e.ascensionCount+1)),2),264:p(Math.min(40,e.ascensionCount/2e11),2),265:p(Math.min(20,e.ascensionCount/8e12),2),266:p(Math.min(10,e.ascensionCount/1e14),2),267:p(Math.min(100,f.log(e.ascendShards.add(1),10)/1e3),2),270:p(Math.min(100,f.log(e.ascendShards.add(1),10)/1e4),2),271:p(Math.max(0,Math.min(1,(f.log(e.ascendShards.add(1),10)-1e5)/9e5)),2,!0)};if([3,4,5,6,7,10,11,12,13,14,17,18,19,20,21,24,25,26,27,28,31,32,33,34,35,36,37,38,43,44,45,46,47,50,51,52,53,57,58,59,60,61,62,71,72,73,74,75,76,77,78,79,80,82,84,85,86,87,89,91,92,93,94,96,98,99,100,101,102,103,105,106,107,108,110,112,115,117,119,122,124,126,127,128,129,131,132,133,134,135,136,137,140,141,147,171,172,173,176,177,178,179,180,181,182,197,198,199,200,201,204,205,206,207,208,209,211,212,213,214,215,218,219,220,221,222,250,251,253,259,260,261].includes(t)||t in n){let a=n[t],l=typeof a=="object"?a:{x:a};return u.t(`achievements.rewards.${t}`,l)}return""},Em=async t=>{if(e.highestSingularityCount===0&&(t===36||t===38||t===255))return O(u.t(`achievements.alerts.${t}`))},kt=t=>{t===1&&(e.prestigenoaccelerator&&F(60),e.prestigenomultiplier&&F(57),e.prestigenocoinupgrades&&F(64),o.prestigePointGain.gte(1)&&F(36),o.prestigePointGain.gte(1e6)&&F(37),o.prestigePointGain.gte(1e100)&&F(38),o.prestigePointGain.gte("1e1000")&&F(39),o.prestigePointGain.gte("1e10000")&&F(40),o.prestigePointGain.gte("1e77777")&&F(41),o.prestigePointGain.gte("1e250000")&&F(42)),t===2&&(e.transcendnoaccelerator&&F(61),e.transcendnomultiplier&&F(58),e.transcendnocoinupgrades&&F(65),e.transcendnocoinorprestigeupgrades&&F(66),o.transcendPointGain.gte(1)&&F(43),o.transcendPointGain.gte(1e6)&&F(44),o.transcendPointGain.gte(1e50)&&F(45),o.transcendPointGain.gte(1e308)&&F(46),o.transcendPointGain.gte("1e1500")&&F(47),o.transcendPointGain.gte("1e25000")&&F(48),o.transcendPointGain.gte("1e100000")&&F(49)),t===3&&(e.reincarnatenoaccelerator&&F(62),e.reincarnatenomultiplier&&F(59),e.reincarnatenocoinupgrades&&F(67),e.reincarnatenocoinorprestigeupgrades&&F(68),e.reincarnatenocoinprestigeortranscendupgrades&&F(69),e.reincarnatenocoinprestigetranscendorgeneratorupgrades&&F(70),o.reincarnationPointGain.gte(1)&&F(50),o.reincarnationPointGain.gte(1e5)&&F(51),o.reincarnationPointGain.gte(1e30)&&F(52),o.reincarnationPointGain.gte(1e200)&&F(53),o.reincarnationPointGain.gte("1e1500")&&F(54),o.reincarnationPointGain.gte("1e5000")&&F(55),o.reincarnationPointGain.gte("1e7777")&&F(56))},Um=[[1,.5,78],[1,2.5,79],[1,4.5,80],[1,9.5,81],[1,19.5,82],[1,49.5,83],[1,74.5,84],[2,.5,85],[2,2.5,86],[2,4.5,87],[2,9.5,88],[2,19.5,89],[2,49.5,90],[2,74.5,91],[3,.5,92],[3,2.5,93],[3,4.5,94],[3,9.5,95],[3,19.5,96],[3,49.5,97],[3,74.5,98],[4,.5,99],[4,2.5,100],[4,4.5,101],[4,9.5,102],[4,19.5,103],[4,49.5,104],[4,74.5,105],[5,.5,106],[5,2.5,107],[5,4.5,108],[5,9.5,109],[5,19.5,110],[5,49.5,111],[5,74.5,112],[6,.5,113],[6,1.5,114],[6,2.5,115],[6,4.5,116],[6,9.5,117],[6,14.5,118],[6,24.5,119],[7,.5,120],[7,1.5,121],[7,2.5,122],[7,4.5,123],[7,9.5,124],[7,14.5,125],[7,24.5,126],[8,.5,127],[8,1.5,128],[8,2.5,129],[8,4.5,130],[8,9.5,131],[8,19.5,132],[8,24.5,133],[9,.5,134],[9,1.5,135],[9,2.5,136],[9,4.5,137],[9,9.5,138],[9,19.5,139],[9,24.5,140],[10,.5,141],[10,1.5,142],[10,2.5,143],[10,4.5,144],[10,9.5,145],[10,19.5,146],[10,24.5,147],[15,.5,252]],Om={1:["1e1000",75],2:["1e1000",76],3:["1e99999",77],5:["1e120000",63]},or=(t,r)=>{let n=fe(e.upgrades.slice(101,106));for(let[,s,a]of Um.filter(([l])=>l===t))e.challengecompletions[t]>s&&e.achievements[a]<1&&F(a);if([1,2,3,5].includes(t)&&!r){let[s,a]=Om[t];t===5?e.coinsThisTranscension.gte(s)&&e.acceleratorBought===0&&e.acceleratorBoostBought===0&&F(a):e.coinsThisTranscension.gte(s)&&n===0&&F(a)}if(t>=11&&t<=14){let s=[0,1,2,3,5,10,20,30];for(let a=1;a<=7;a++)e.challengecompletions[t]>=s[a]&&e.achievements[119+7*t+a]<1&&F(119+7*t+a)}e.challengecompletions[10]>=50&&t===11&&e.usedCorruptions[7]>=5&&e.achievements[247]<1&&F(247)},Cd=[()=>e.firstOwnedCoin>=1&&e.achievements[1]<.5,()=>e.firstOwnedCoin>=10&&e.achievements[2]<.5,()=>e.firstOwnedCoin>=100&&e.achievements[3]<.5,()=>e.firstOwnedCoin>=1e3&&e.achievements[4]<.5,()=>e.firstOwnedCoin>=5e3&&e.achievements[5]<.5,()=>e.firstOwnedCoin>=1e4&&e.achievements[6]<.5,()=>e.firstOwnedCoin>=2e4&&e.achievements[7]<.5,()=>e.secondOwnedCoin>=1&&e.achievements[8]<.5,()=>e.secondOwnedCoin>=10&&e.achievements[9]<.5,()=>e.secondOwnedCoin>=100&&e.achievements[10]<.5,()=>e.secondOwnedCoin>=1e3&&e.achievements[11]<.5,()=>e.secondOwnedCoin>=5e3&&e.achievements[12]<.5,()=>e.secondOwnedCoin>=1e4&&e.achievements[13]<.5,()=>e.secondOwnedCoin>=2e4&&e.achievements[14]<.5,()=>e.thirdOwnedCoin>=1&&e.achievements[15]<.5,()=>e.thirdOwnedCoin>=10&&e.achievements[16]<.5,()=>e.thirdOwnedCoin>=100&&e.achievements[17]<.5,()=>e.thirdOwnedCoin>=1e3&&e.achievements[18]<.5,()=>e.thirdOwnedCoin>=5e3&&e.achievements[19]<.5,()=>e.thirdOwnedCoin>=1e4&&e.achievements[20]<.5,()=>e.thirdOwnedCoin>=2e4&&e.achievements[21]<.5,()=>e.fourthOwnedCoin>=1&&e.achievements[22]<.5,()=>e.fourthOwnedCoin>=10&&e.achievements[23]<.5,()=>e.fourthOwnedCoin>=100&&e.achievements[24]<.5,()=>e.fourthOwnedCoin>=1e3&&e.achievements[25]<.5,()=>e.fourthOwnedCoin>=5e3&&e.achievements[26]<.5,()=>e.fourthOwnedCoin>=1e4&&e.achievements[27]<.5,()=>e.fourthOwnedCoin>=2e4&&e.achievements[28]<.5,()=>e.fifthOwnedCoin>=1&&e.achievements[29]<.5,()=>e.fifthOwnedCoin>=10&&e.achievements[30]<.5,()=>e.fifthOwnedCoin>=66&&e.achievements[31]<.5,()=>e.fifthOwnedCoin>=666&&e.achievements[32]<.5,()=>e.fifthOwnedCoin>=6666&&e.achievements[33]<.5,()=>e.fifthOwnedCoin>=17777&&e.achievements[34]<.5,()=>e.fifthOwnedCoin>=42777&&e.achievements[35]<.5],wd=()=>{for(let t of Cd)if(t()){let r=Cd.indexOf(t)+1;F(r)}},Ma=(t,r=0)=>{if(t===1){let n=[0,1,2,10,100,1e3,14142,141421,1414213,1e7,1e8,2e9,4e10,8e11,16e12,1e14];for(let s=1;s<=7;s++)e.ascensionCount>=n[s]&&e.achievements[182+s]<1&&F(182+s),e.ascensionCount>=n[s+8]&&e.achievements[259+s]<1&&F(259+s);e.ascensionCount>=n[8]&&e.achievements[240]<1&&F(240)}if(t===2){let n=[0,3.14,1e6,432e8,69e20,1509e30,1e66,"1.8e308","1e1000","1e5000","1e15000","1e50000","1e100000","1e300000","1e1000000"];for(let s=1;s<=7;s++)e.ascendShards.gte(n[s])&&e.achievements[189+s]<1&&F(189+s),e.ascendShards.gte(n[s+7])&&e.achievements[266+s]<1&&F(266+s)}if(t===3){let n=[0,1e5,1e6,1e7,1e8,1e9,5e9,25e9,1e12,1e14,1e17,2e18,4e19,1e21,1e23];for(let s=1;s<=7;s++)r>=n[s]&&e.achievements[224+s]<1&&F(224+s),r>=n[7+s]&&e.achievements[252+s]<1&&F(252+s)}},xd=t=>{let r=1;t>=183&&(r=5),t>=253&&(r=40);let n=e.worlds.applyBonus(1),s=r*n;return s>100&&(s=Math.pow(100,.6)*Math.pow(s,.4)),Math.floor(Oa[t]*s)},Md=t=>{let r=u.t(`achievements.descriptions.${t}`,{number:`${t}`}),n=e.achievements[t]>.5?u.t("achievements.completed"):"",s=Am(t);i("achievementdescription").textContent=r+n,i("achievementreward").textContent=u.t("achievements.rewardGainMessage",{x:Oa[t],y:p(xd(t),0,!0),z:s}),e.achievements[t]>.5?i("achievementdescription").style.color="gold":i("achievementdescription").style.color="white"},F=t=>{if(e.achievements[t]<1){if(e.toggles[34]){let r=u.t(`achievements.descriptions.${t}`,{number:`${t}`});Zn(u.t("achievements.notification",{m:r}))}Em(t),e.achievementPoints+=Oa[t],e.worlds.add(xd(t),!1),i("achievementprogress").textContent=u.t("achievements.totalPoints",{x:p(e.achievementPoints),y:p(wn),z:(100*e.achievementPoints/wn).toPrecision(4)}),e.achievements[t]=1,Oe()}i(`ach${t}`).style.backgroundColor="Green",xt.emit("achievement",t)};var Bm=.08,Rm=1.2,Im=.15,Nm=.125,$m=.125,Dm=.125,Sd=()=>{o.totalCoinOwned=e.firstOwnedCoin+e.secondOwnedCoin+e.thirdOwnedCoin+e.fourthOwnedCoin+e.fifthOwnedCoin},Td=()=>{let t=0;e.upgrades[26]>.5&&(t+=1),e.upgrades[31]>.5&&(t+=Math.floor(o.totalCoinOwned/2e3)*100/100),e.achievements[7]>.5&&(t+=Math.floor(e.firstOwnedCoin/2e3)),e.achievements[14]>.5&&(t+=Math.floor(e.secondOwnedCoin/2e3)),e.achievements[21]>.5&&(t+=Math.floor(e.thirdOwnedCoin/2e3)),e.achievements[28]>.5&&(t+=Math.floor(e.fourthOwnedCoin/2e3)),e.achievements[35]>.5&&(t+=Math.floor(e.fifthOwnedCoin/2e3)),t+=e.researches[93]*Math.floor(1/20*(o.rune1level+o.rune2level+o.rune3level+o.rune4level+o.rune5level)),t+=Math.floor((.01+o.rune1level)*o.effectiveLevelMult/20),t*=1+1/5*e.researches[3]*(1+1/2*K("ascension",e.challengecompletions[14])),t*=1+1/20*e.researches[16]+1/20*e.researches[17],t*=1+1/20*e.researches[88],t*=It(20,(e.antUpgrades[4-1]+o.bonusant4)/1e3*20/19),t*=1+1/100*e.researches[127],t*=1+.8/100*e.researches[142],t*=1+.6/100*e.researches[157],t*=1+.4/100*e.researches[172],t*=1+.2/100*e.researches[187],t*=1+.01/100*e.researches[200],t*=1+.01/100*e.cubeUpgrades[50],t*=1+1/1e3*je("acceleratorBoost"),e.upgrades[73]>.5&&e.currentChallenge.reincarnation!==0&&(t*=2),t=Math.min(1e100,Math.floor(t)),o.freeAcceleratorBoost=t,o.totalAcceleratorBoost=Math.floor(e.acceleratorBoostBought+o.freeAcceleratorBoost)*100/100},Ld=()=>{o.acceleratorMultiplier=1,o.acceleratorMultiplier*=1+e.achievements[60]/100,o.acceleratorMultiplier*=1+e.achievements[61]/100,o.acceleratorMultiplier*=1+e.achievements[62]/100,o.acceleratorMultiplier*=1+1/5*e.researches[1]*(1+1/2*K("ascension",e.challengecompletions[14])),o.acceleratorMultiplier*=1+1/20*e.researches[6]+1/25*e.researches[7]+1/40*e.researches[8]+3/200*e.researches[9]+1/200*e.researches[10],o.acceleratorMultiplier*=1+1/20*e.researches[86],o.acceleratorMultiplier*=1+1/100*e.researches[126],o.acceleratorMultiplier*=1+.8/100*e.researches[141],o.acceleratorMultiplier*=1+.6/100*e.researches[156],o.acceleratorMultiplier*=1+.4/100*e.researches[171],o.acceleratorMultiplier*=1+.2/100*e.researches[186],o.acceleratorMultiplier*=1+.01/100*e.researches[200],o.acceleratorMultiplier*=1+.01/100*e.cubeUpgrades[50],o.acceleratorMultiplier*=Math.pow(1.01,e.upgrades[21]+e.upgrades[22]+e.upgrades[23]+e.upgrades[24]+e.upgrades[25]),(e.currentChallenge.transcension!==0||e.currentChallenge.reincarnation!==0)&&e.upgrades[50]>.5&&(o.acceleratorMultiplier*=1.25)},Rl=()=>1/(1-fe([.05*e.achievements[80],.05*e.achievements[87],.05*e.achievements[94],.05*e.achievements[101],.05*e.achievements[108],.05*e.achievements[115],.075*e.achievements[122],.075*e.achievements[129],.05*e.upgrades[61],.25*Math.min(1,o.rune4level/400),.005*e.cubeUpgrades[2]]));function cs(t,r=!1,n=e.runelevels[t],s=!1){let a=Rl(),l=null;r?l=fe([1/100*e.highestchallengecompletions[3],1*e.upgrades[66]]):l=fe([1,Math.min(1,e.highestchallengecompletions[1]),.4/10*e.highestchallengecompletions[1],.6*e.researches[22],.3*e.researches[23],2*e.upgrades[61],e.upgrades[71]*n/25]);let c=Ce([1+e.researches[91]/20,1+e.researches[92]/20,It(999,1/1e4*Math.pow(e.antUpgrades[8-1]+o.bonusant8,1.1)),o.cubeBonusMultiplier[4],1+e.ascensionCounter/1e3*e.cubeUpgrades[32],1+1/10*e.constantUpgrades[8],o.challenge15Rewards.runeExp]),d=1/Math.pow(o.droughtMultiplier[e.usedCorruptions[8]],1-1/2*e.platonicUpgrades[13]),g=[Ce([1+e.researches[78]/50,1+e.researches[111]/100,1+K("reincarnation",e.challengecompletions[7])/10,d]),Ce([1+e.researches[80]/50,1+e.researches[112]/100,1+K("reincarnation",e.challengecompletions[7])/10,d]),Ce([1+e.researches[79]/50,1+e.researches[113]/100,1+K("reincarnation",e.challengecompletions[8])/5,d]),Ce([1+e.researches[77]/50,1+e.researches[114]/100,1+K("reincarnation",e.challengecompletions[6])/10,d]),Ce([1+e.researches[83]/20,1+e.researches[115]/100,1+K("reincarnation",e.challengecompletions[9])/5,d]),Ce([1]),Ce([1])],m=[l,c,a,g[t]];return s?m:Math.min(1e200,Ce(m))}var Gm=t=>Ce([Math.pow((t+1)/2,3),(3.5*t+100)/500,Math.max(1,(t-200)/9),Math.max(1,(t-400)/12),Math.max(1,(t-600)/15),Math.max(1,Math.pow(1.03,(t-800)/4))]),vi=null,jr=(t,r=e.runelevels[t])=>{vi!=null||(vi=Array.from({length:4e4+1},(s,a)=>Gm(a)));let n=vi[r];return t===5&&(n=Math.pow(100,r)),t===6&&(n=Math.pow(1e25,r)*(e.highestSingularityCount+1)),n*o.runeexpbase[t]},Ye=t=>{let r=1e3,n=20*(e.cubeUpgrades[16]+e.cubeUpgrades[37])+3*e.constantUpgrades[7]+80*K("ascension",e.challengecompletions[11])+200*K("ascension",e.challengecompletions[14])+Math.floor(.04*e.researches[200]+.04*e.cubeUpgrades[50]),s=[null,10*(e.researches[78]+e.researches[111])+n,10*(e.researches[80]+e.researches[112])+n,10*(e.researches[79]+e.researches[113])+n,10*(e.researches[77]+e.researches[114])+n,10*e.researches[115]+n,-901,-999];return r=s[t]>o.runeMaxLvl?o.runeMaxLvl:r+s[t],r},_n=()=>e.runelevels[5]+Math.max(0,e.runelevels[5]-74)+Math.max(0,e.runelevels[5]-98);function Ar(t,r=!0,n=!1){if(t==="acceleratorBoost"||t==="ascension"||t==="ascensionChallenge")return 0;let s=0,a=0,l=0,c=0;(t==="reincarnation"||t==="reincarnationChallenge")&&(a+=3,e.achievements[52]>.5&&(a+=25*Math.min(e.reincarnationcounter/1800,1)),e.upgrades[62]>.5&&(a+=1/50*fe(e.challengecompletions)),a+=.6*e.researches[25],e.researches[95]===1&&(a+=4),a+=1/200*o.rune5level*o.effectiveLevelMult*(1+e.researches[85]/200),a*=1+Math.pow(f.log(e.reincarnationShards.add(1),10),2/3)/4,a*=Math.min(Math.pow(e.reincarnationcounter/10+1,2),1),e.reincarnationcounter>=5&&(a*=Math.max(1,e.reincarnationcounter/10))),(t==="transcension"||t==="transcensionChallenge"||t==="reincarnation"||t==="reincarnationChallenge")&&(l+=2,e.reincarnationCount>0&&(l+=2),e.achievements[44]>.5&&(l+=15*Math.min(e.transcendcounter/1800,1)),e.challengecompletions[2]>0&&(l+=1),l+=.2*e.researches[24],l+=1/200*o.rune5level*o.effectiveLevelMult*(1+e.researches[85]/200),l*=1+Math.pow(f.log(e.transcendShards.add(1),10),1/2)/5,l*=1+K("reincarnation",e.challengecompletions[8])/25,l*=Math.min(Math.pow(e.transcendcounter/10,2),1),e.transcendCount>=5&&(l*=Math.max(1,e.transcendcounter/10))),c+=1,(e.transcendCount>0||e.reincarnationCount>0)&&(c+=1),e.reincarnationCount>0&&(c+=2),e.achievements[37]>.5&&(c+=15*Math.min(e.prestigecounter/1800,1)),e.challengecompletions[2]>0&&(c+=1),c+=.2*e.researches[24],c+=1/200*o.rune5level*o.effectiveLevelMult*(1+e.researches[85]/200),c*=1+Math.pow(f.log(e.prestigeShards.add(1),10),1/2)/5,c*=1+K("reincarnation",e.challengecompletions[6])/50,c*=Math.min(Math.pow(e.prestigecounter/10,2),1),e.prestigeCount>=5&&(c*=Math.max(1,e.prestigecounter/10)),s=a+l+c;let d=[1+10*e.achievements[33]/100,1+15*e.achievements[34]/100,1+25*e.achievements[35]/100,1+20*e.upgrades[38]/100,1+e.upgrades[75]*2*Math.min(1,Math.pow(e.maxobtainium/3e7,.5)),1+1/50*e.shopUpgrades.offeringAuto,1+1/25*e.shopUpgrades.offeringEX,1+1/100*e.shopUpgrades.cashGrab,1+1/1e4*fe(e.challengecompletions)*e.researches[85],1+Math.pow(e.antUpgrades[6-1]+o.bonusant6,.66),o.cubeBonusMultiplier[3],1+.02*e.constantUpgrades[3],1+3e-4*e.talismanLevels[3-1]*e.researches[149]+4e-4*e.talismanLevels[3-1]*e.researches[179],1+.12*K("ascension",e.challengecompletions[12]),1+.01/100*e.researches[200],1+Math.min(1,e.ascensionCount/1e6)*e.achievements[187],1+.6*e.achievements[250]+1*e.achievements[251],1+.05*e.cubeUpgrades[46],1+.02/100*e.cubeUpgrades[50],1+e.platonicUpgrades[5],1+2.5*e.platonicUpgrades[10],1+5*e.platonicUpgrades[15],o.challenge15Rewards.offering,1+5*(e.singularityUpgrades.starterPack.getEffect().bonus?1:0),+e.singularityUpgrades.singOfferings1.getEffect().bonus,+e.singularityUpgrades.singOfferings2.getEffect().bonus,+e.singularityUpgrades.singOfferings3.getEffect().bonus,+e.singularityUpgrades.singCitadel.getEffect().bonus,+e.singularityUpgrades.singCitadel2.getEffect().bonus,1+e.cubeUpgrades[54]/100,+e.octeractUpgrades.octeractOfferings1.getEffect().bonus,1+.001*+e.blueberryUpgrades.ambrosiaOffering1.bonus.offeringMult,hc(),qm(),1+ht(8)];if(r)s*=Ce(d);else return d;if(n)return Ce(d);o.eventClicked&&o.isEvent&&(s*=1.05),s/=Ie("Offering"),s=Math.floor(s)*100/100,e.currentChallenge.ascension===15&&(s*=1+7*e.cubeUpgrades[62]),s*=1+1/200*e.shopUpgrades.cashGrab2,s*=1+1/100*e.shopUpgrades.offeringEX2*e.singularityCount,s*=Math.pow(1.02,e.shopUpgrades.offeringEX3),s*=Il(),s=Math.min(1e300,s);let g=0;return t==="prestige"&&(g=s/(1+e.prestigecounter)),(t==="transcension"||t==="transcensionChallenge")&&(g=s/(1+e.transcendcounter)),(t==="reincarnation"||t==="reincarnationChallenge")&&(g=s/(1+e.reincarnationcounter)),g>e.offeringpersecond&&(e.offeringpersecond=g),s}var yr=()=>{o.obtainiumGain=1,e.upgrades[69]>0&&(o.obtainiumGain*=Math.min(10,new f(f.pow(f.log(o.reincarnationPointGain.add(10),10),.5)).toNumber())),e.upgrades[72]>0&&(o.obtainiumGain*=Math.min(50,1+2*e.challengecompletions[6]+2*e.challengecompletions[7]+2*e.challengecompletions[8]+2*e.challengecompletions[9]+2*e.challengecompletions[10])),e.upgrades[74]>0&&(o.obtainiumGain*=1+4*Math.min(1,Math.pow(e.maxofferings/1e5,.5))),o.obtainiumGain*=1+e.researches[65]/5,o.obtainiumGain*=1+e.researches[76]/10,o.obtainiumGain*=1+e.researches[81]/10,o.obtainiumGain*=1+e.shopUpgrades.obtainiumAuto/50,o.obtainiumGain*=1+e.shopUpgrades.cashGrab/100,o.obtainiumGain*=1+o.rune5level/200*o.effectiveLevelMult*(1+e.researches[84]/200*(1+1*o.effectiveRuneSpiritPower[5]*gt()/400)),o.obtainiumGain*=1+.01*e.achievements[84]+.03*e.achievements[91]+.05*e.achievements[98]+.07*e.achievements[105]+.09*e.achievements[112]+.11*e.achievements[119]+.13*e.achievements[126]+.15*e.achievements[133]+.17*e.achievements[140]+.19*e.achievements[147],o.obtainiumGain*=1+2*Math.pow((e.antUpgrades[10-1]+o.bonusant10)/50,2/3),o.obtainiumGain*=1+e.achievements[188]*Math.min(2,e.ascensionCount/5e6),o.obtainiumGain*=1+.6*e.achievements[250]+1*e.achievements[251],o.obtainiumGain*=o.cubeBonusMultiplier[5],o.obtainiumGain*=1+.04*e.constantUpgrades[4],o.obtainiumGain*=1+.1*e.cubeUpgrades[47],o.obtainiumGain*=1+.1*e.cubeUpgrades[3],o.obtainiumGain*=1+.5*K("ascension",e.challengecompletions[12]),o.obtainiumGain*=1+gt()/400*o.effectiveRuneSpiritPower[4],o.obtainiumGain*=1+.03*Math.log(e.uncommonFragments+1)/Math.log(4)*e.researches[144],o.obtainiumGain*=1+.02/100*e.cubeUpgrades[50],e.achievements[53]>0&&(o.obtainiumGain*=1+1/800*o.runeSum),e.achievements[128]&&(o.obtainiumGain*=1.5),e.achievements[129]&&(o.obtainiumGain*=1.25),e.achievements[51]>0&&(o.obtainiumGain+=4),e.reincarnationcounter>=2&&(o.obtainiumGain+=1*e.researches[63]),e.reincarnationcounter>=5&&(o.obtainiumGain+=2*e.researches[64]),o.obtainiumGain*=Math.min(1,Math.pow(e.reincarnationcounter/10,2)),o.obtainiumGain*=1+1/25*e.shopUpgrades.obtainiumEX,e.reincarnationCount>=5&&(o.obtainiumGain*=Math.max(1,e.reincarnationcounter/10)),o.obtainiumGain*=Math.pow(f.log(e.transcendShards.add(1),10)/300,2),o.obtainiumGain=Math.pow(o.obtainiumGain,Math.min(1,o.illiteracyPower[e.usedCorruptions[5]]*(1+9/100*e.platonicUpgrades[9]*Math.min(100,Math.log10(e.researchPoints+10))))),o.obtainiumGain*=1+4/100*e.cubeUpgrades[42],o.obtainiumGain*=1+3/100*e.cubeUpgrades[43],o.obtainiumGain*=1+e.platonicUpgrades[5],o.obtainiumGain*=1+1.5*e.platonicUpgrades[9],o.obtainiumGain*=1+2.5*e.platonicUpgrades[10],o.obtainiumGain*=1+5*e.platonicUpgrades[15],o.obtainiumGain*=o.challenge15Rewards.obtainium,o.obtainiumGain*=1+5*(e.singularityUpgrades.starterPack.getEffect().bonus?1:0),o.obtainiumGain*=+e.singularityUpgrades.singObtainium1.getEffect().bonus,o.obtainiumGain*=+e.singularityUpgrades.singObtainium2.getEffect().bonus,o.obtainiumGain*=+e.singularityUpgrades.singObtainium3.getEffect().bonus,o.obtainiumGain*=1+e.cubeUpgrades[55]/100,o.obtainiumGain*=1+1/200*e.shopUpgrades.cashGrab2,o.obtainiumGain*=1+1/100*e.shopUpgrades.obtainiumEX2*e.singularityCount,o.obtainiumGain*=1+ht(9),o.obtainiumGain*=+e.singularityUpgrades.singCitadel.getEffect().bonus,o.obtainiumGain*=+e.singularityUpgrades.singCitadel2.getEffect().bonus,o.obtainiumGain*=+e.octeractUpgrades.octeractObtainium1.getEffect().bonus,o.obtainiumGain*=Math.pow(1.02,e.shopUpgrades.obtainiumEX3),o.obtainiumGain*=Nl(),o.eventClicked&&o.isEvent&&(o.obtainiumGain*=1.05),e.currentChallenge.ascension===15&&(o.obtainiumGain+=1,o.obtainiumGain*=1+7*e.cubeUpgrades[62]),o.obtainiumGain*=1+.001*+e.blueberryUpgrades.ambrosiaObtainium1.bonus.obtainiumMult,o.obtainiumGain*=jm(),o.obtainiumGain*=hc(),isFinite(o.obtainiumGain)||(o.obtainiumGain=1e300),o.obtainiumGain=Math.min(1e300,o.obtainiumGain),o.obtainiumGain/=Ie("Obtainium"),e.usedCorruptions[5]>=15&&(o.obtainiumGain=Math.pow(o.obtainiumGain,1/4)),e.usedCorruptions[5]>=16&&(o.obtainiumGain=Math.pow(o.obtainiumGain,1/3)),o.obtainiumGain=Math.max(1+e.singularityCount,o.obtainiumGain),e.currentChallenge.ascension===14&&(o.obtainiumGain=0),e.obtainiumpersecond=Math.min(1e300,o.obtainiumGain)/(.1+e.reincarnationcounter),e.maxobtainiumpersecond=Math.max(e.maxobtainiumpersecond,e.obtainiumpersecond)},ys=()=>.05*(10*e.researches[61]+2*e.researches[62])*e.maxobtainiumpersecond*(1+4*e.cubeUpgrades[3]/5),Xl=()=>{let t=0,r=0;if(e.achievements[135]===1&&(t+=.02),e.achievements[136]===1&&(t+=.02),t+=.02*(e.talismanRarity[4-1]-1),t+=3*e.researches[106]/100,t+=3*e.researches[107]/100,t+=3*e.researches[116]/200,t+=3*e.researches[117]/200,t+=o.cubeBonusMultiplier[9]-1,t+=4e-4*e.cubeUpgrades[50],r+=.06*e.researches[118],r+=4e-4*e.cubeUpgrades[50],e.highestSingularityCount>=7&&(t+=r,r=t),e.highestSingularityCount<7)for(let a=1;a<=5;a++)e.talismanOne[a]===1?o.talisman1Effect[a]=(o.talismanPositiveModifier[e.talismanRarity[1-1]]+t)*e.talismanLevels[1-1]*o.challenge15Rewards.talismanBonus:o.talisman1Effect[a]=(o.talismanNegativeModifier[e.talismanRarity[1-1]]-r)*e.talismanLevels[1-1]*-1*o.challenge15Rewards.talismanBonus,e.talismanTwo[a]===1?o.talisman2Effect[a]=(o.talismanPositiveModifier[e.talismanRarity[2-1]]+t)*e.talismanLevels[2-1]*o.challenge15Rewards.talismanBonus:o.talisman2Effect[a]=(o.talismanNegativeModifier[e.talismanRarity[2-1]]-r)*e.talismanLevels[2-1]*-1*o.challenge15Rewards.talismanBonus,e.talismanThree[a]===1?o.talisman3Effect[a]=(o.talismanPositiveModifier[e.talismanRarity[3-1]]+t)*e.talismanLevels[3-1]*o.challenge15Rewards.talismanBonus:o.talisman3Effect[a]=(o.talismanNegativeModifier[e.talismanRarity[3-1]]-r)*e.talismanLevels[3-1]*-1*o.challenge15Rewards.talismanBonus,e.talismanFour[a]===1?o.talisman4Effect[a]=(o.talismanPositiveModifier[e.talismanRarity[4-1]]+t)*e.talismanLevels[4-1]*o.challenge15Rewards.talismanBonus:o.talisman4Effect[a]=(o.talismanNegativeModifier[e.talismanRarity[4-1]]-r)*e.talismanLevels[4-1]*-1*o.challenge15Rewards.talismanBonus,e.talismanFive[a]===1?o.talisman5Effect[a]=(o.talismanPositiveModifier[e.talismanRarity[5-1]]+t)*e.talismanLevels[5-1]*o.challenge15Rewards.talismanBonus:o.talisman5Effect[a]=(o.talismanNegativeModifier[e.talismanRarity[5-1]]-r)*e.talismanLevels[5-1]*-1*o.challenge15Rewards.talismanBonus,e.talismanSix[a]===1?o.talisman6Effect[a]=(o.talismanPositiveModifier[e.talismanRarity[6-1]]+t)*e.talismanLevels[6-1]*o.challenge15Rewards.talismanBonus:o.talisman6Effect[a]=(o.talismanNegativeModifier[e.talismanRarity[6-1]]-r)*e.talismanLevels[6-1]*-1*o.challenge15Rewards.talismanBonus,e.talismanSeven[a]===1?o.talisman7Effect[a]=(o.talismanPositiveModifier[e.talismanRarity[7-1]]+t)*e.talismanLevels[7-1]*o.challenge15Rewards.talismanBonus:o.talisman7Effect[a]=(o.talismanNegativeModifier[e.talismanRarity[7-1]]-r)*e.talismanLevels[7-1]*-1*o.challenge15Rewards.talismanBonus;else for(let a=1;a<=5;a++)o.talisman1Effect[a]=(o.talismanPositiveModifier[e.talismanRarity[1-1]]+t)*e.talismanLevels[1-1]*o.challenge15Rewards.talismanBonus,o.talisman2Effect[a]=(o.talismanPositiveModifier[e.talismanRarity[2-1]]+t)*e.talismanLevels[2-1]*o.challenge15Rewards.talismanBonus,o.talisman3Effect[a]=(o.talismanPositiveModifier[e.talismanRarity[3-1]]+t)*e.talismanLevels[3-1]*o.challenge15Rewards.talismanBonus,o.talisman4Effect[a]=(o.talismanPositiveModifier[e.talismanRarity[4-1]]+t)*e.talismanLevels[4-1]*o.challenge15Rewards.talismanBonus,o.talisman5Effect[a]=(o.talismanPositiveModifier[e.talismanRarity[5-1]]+t)*e.talismanLevels[5-1]*o.challenge15Rewards.talismanBonus,o.talisman6Effect[a]=(o.talismanPositiveModifier[e.talismanRarity[6-1]]+t)*e.talismanLevels[6-1]*o.challenge15Rewards.talismanBonus,o.talisman7Effect[a]=(o.talismanPositiveModifier[e.talismanRarity[7-1]]+t)*e.talismanLevels[7-1]*o.challenge15Rewards.talismanBonus;let n=[o.talisman1Effect,o.talisman2Effect,o.talisman3Effect,o.talisman4Effect,o.talisman5Effect,o.talisman6Effect,o.talisman7Effect],s=[0,0,0,0,0,0];n.forEach(a=>{a.forEach((l,c)=>{s[c]+=l})}),[,o.rune1Talisman,o.rune2Talisman,o.rune3Talisman,o.rune4Talisman,o.rune5Talisman]=s,o.talisman6Power=0,o.talisman7Quarks=0,e.talismanRarity[1-1]===6&&(o.rune2Talisman+=400),e.talismanRarity[2-1]===6&&(o.rune1Talisman+=400),e.talismanRarity[3-1]===6&&(o.rune4Talisman+=400),e.talismanRarity[4-1]===6&&(o.rune3Talisman+=400),e.talismanRarity[5-1]===6&&(o.rune5Talisman+=400),e.talismanRarity[6-1]===6&&(o.talisman6Power=2.5),e.talismanRarity[7-1]===6&&(o.talisman7Quarks=2)},Fe=()=>{var t;if(Xl(),e.currentChallenge.reincarnation!==9){let r=(t=e.antUpgrades[8])!=null?t:0;o.rune1level=Math.max(1,e.runelevels[0]+Math.min(1e7,r+o.bonusant9)*1+o.rune1Talisman+7*e.constantUpgrades[7]),o.rune2level=Math.max(1,e.runelevels[1]+Math.min(1e7,r+o.bonusant9)*1+o.rune2Talisman+7*e.constantUpgrades[7]),o.rune3level=Math.max(1,e.runelevels[2]+Math.min(1e7,r+o.bonusant9)*1+o.rune3Talisman+7*e.constantUpgrades[7]),o.rune4level=Math.max(1,e.runelevels[3]+Math.min(1e7,r+o.bonusant9)*1+o.rune4Talisman+7*e.constantUpgrades[7]),o.rune5level=Math.max(1,e.runelevels[4]+Math.min(1e7,r+o.bonusant9)*1+o.rune5Talisman+7*e.constantUpgrades[7])}o.runeSum=fe([o.rune1level,o.rune2level,o.rune3level,o.rune4level,o.rune5level]),ll()},ll=()=>{o.blessingMultiplier=1,o.spiritMultiplier=1,o.blessingMultiplier*=1+6.9*e.researches[134]/100,o.blessingMultiplier*=1+(e.talismanRarity[3-1]-1)/10,o.blessingMultiplier*=1+.1*Math.log10(e.epicFragments+1)*e.researches[174],o.blessingMultiplier*=1+2*e.researches[194]/100,e.researches[160]>0&&(o.blessingMultiplier*=Math.pow(1.25,8)),o.spiritMultiplier*=1+8*e.researches[164]/100,e.researches[165]>0&&e.currentChallenge.ascension!==0&&(o.spiritMultiplier*=Math.pow(2,8)),o.spiritMultiplier*=1+.15*Math.log10(e.legendaryFragments+1)*e.researches[189],o.spiritMultiplier*=1+2*e.researches[194]/100,o.spiritMultiplier*=1+(e.talismanRarity[5-1]-1)/100;for(let t=1;t<=5;t++)o.runeBlessings[t]=o.blessingMultiplier*e.runelevels[t-1]*e.runeBlessingLevels[t],o.runeSpirits[t]=o.spiritMultiplier*e.runelevels[t-1]*e.runeSpiritLevels[t];for(let t=1;t<=5;t++)o.runeBlessings[t]<=1e30?o.effectiveRuneBlessingPower[t]=Math.pow(o.runeBlessings[t],1/8)/75*o.challenge15Rewards.blessingBonus:o.runeBlessings[t]>1e30&&(o.effectiveRuneBlessingPower[t]=Math.pow(10,5/2)*Math.pow(o.runeBlessings[t],1/24)/75*o.challenge15Rewards.blessingBonus),o.runeSpirits[t]<=1e25?o.effectiveRuneSpiritPower[t]=Math.pow(o.runeSpirits[t],1/8)/75*o.challenge15Rewards.spiritBonus:o.runeSpirits[t]>1e25&&(o.effectiveRuneSpiritPower[t]=Math.pow(10,25/12)*Math.pow(o.runeSpirits[t],1/24)/75*o.challenge15Rewards.spiritBonus)},Ot=()=>{let t=0;t+=2*(e.talismanRarity[6-1]-1),t+=K("reincarnation",e.challengecompletions[9]),t+=2*e.constantUpgrades[6],t+=12*K("ascension",e.challengecompletions[11]),t+=Math.floor(1/200*e.researches[200]),t*=o.challenge15Rewards.bonusAntLevel;let r=0,n=0;e.currentChallenge.ascension===11&&(r=999),e.currentChallenge.ascension===11&&(n=Math.floor((4*e.challengecompletions[8]+23*e.challengecompletions[9])*Math.max(0,1-e.challengecompletions[11]/10))),o.bonusant1=Math.min(e.antUpgrades[1-1]+r,4*e.researches[97]+t+e.researches[102]+2*e.researches[132]+n),o.bonusant2=Math.min(e.antUpgrades[2-1]+r,4*e.researches[97]+t+e.researches[102]+2*e.researches[132]+n),o.bonusant3=Math.min(e.antUpgrades[3-1]+r,4*e.researches[97]+t+e.researches[102]+2*e.researches[132]+n),o.bonusant4=Math.min(e.antUpgrades[4-1]+r,4*e.researches[97]+t+e.researches[102]+2*e.researches[132]+n),o.bonusant5=Math.min(e.antUpgrades[5-1]+r,4*e.researches[97]+t+e.researches[102]+2*e.researches[132]+n),o.bonusant6=Math.min(e.antUpgrades[6-1]+r,4*e.researches[97]+t+e.researches[102]+2*e.researches[132]+n),o.bonusant7=Math.min(e.antUpgrades[7-1]+r,4*e.researches[98]+t+e.researches[102]+2*e.researches[132]+n),o.bonusant8=Math.min(e.antUpgrades[8-1]+r,4*e.researches[98]+t+e.researches[102]+2*e.researches[132]+n),o.bonusant9=Math.min(e.antUpgrades[9-1]+r,4*e.researches[98]+t+e.researches[102]+2*e.researches[132]+n),o.bonusant10=Math.min(e.antUpgrades[10-1]+r,4*e.researches[98]+t+e.researches[102]+2*e.researches[132]+n),o.bonusant11=Math.min(e.antUpgrades[11-1]+r,4*e.researches[98]+t+e.researches[102]+2*e.researches[132]+n),o.bonusant12=Math.min(e.antUpgrades[12-1]+r,4*e.researches[98]+t+e.researches[102]+2*e.researches[132]+n)},hn=()=>{o.antELO=0,o.effectiveELO=0;let t=fe(e.antUpgrades);e.antPoints.gte("1e40")&&(o.antELO+=f.log(e.antPoints,10),o.antELO+=1/2*t,o.antELO+=1/10*e.firstOwnedAnts,o.antELO+=1/5*e.secondOwnedAnts,o.antELO+=1/3*e.thirdOwnedAnts,o.antELO+=1/2*e.fourthOwnedAnts,o.antELO+=e.fifthOwnedAnts,o.antELO+=2*e.sixthOwnedAnts,o.antELO+=4*e.seventhOwnedAnts,o.antELO+=8*e.eighthOwnedAnts,o.antELO+=666*e.researches[178],o.antELO*=1+.01*e.achievements[180]+.02*e.achievements[181]+.03*e.achievements[182],o.antELO*=1+e.researches[110]/100,o.antELO*=1+2.5*e.researches[148]/100,e.achievements[176]===1&&(o.antELO+=25),e.achievements[177]===1&&(o.antELO+=50),e.achievements[178]===1&&(o.antELO+=75),e.achievements[179]===1&&(o.antELO+=100),o.antELO+=25*e.researches[108],o.antELO+=25*e.researches[109],o.antELO+=40*e.researches[123],o.antELO+=100*K("reincarnation",e.challengecompletions[10]),o.antELO+=75*e.upgrades[80],o.antELO=1/10*Math.floor(10*o.antELO),o.effectiveELO+=.5*Math.min(3500,o.antELO),o.effectiveELO+=.1*Math.min(4e3,o.antELO),o.effectiveELO+=.1*Math.min(6e3,o.antELO),o.effectiveELO+=.1*Math.min(1e4,o.antELO),o.effectiveELO+=.2*o.antELO,o.effectiveELO+=o.cubeBonusMultiplier[8]-1,o.effectiveELO+=1*e.cubeUpgrades[50],o.effectiveELO*=1+.03*e.upgrades[124])},Hm=()=>{o.timeMultiplier=Math.min(1,Math.pow(e.antSacrificeTimer/10,2)),e.achievements[177]===0&&(o.timeMultiplier*=Math.min(1e3,Math.max(1,e.antSacrificeTimer/10))),e.achievements[177]>0&&(o.timeMultiplier*=Math.max(1,e.antSacrificeTimer/10)),o.upgradeMultiplier=1,o.upgradeMultiplier*=1+2*(1-Math.pow(2,-(e.antUpgrades[11-1]+o.bonusant11)/125)),o.upgradeMultiplier*=1+e.researches[103]/20,o.upgradeMultiplier*=1+e.researches[104]/20,e.achievements[132]===1&&(o.upgradeMultiplier*=1.25),e.achievements[137]===1&&(o.upgradeMultiplier*=1.25),o.upgradeMultiplier*=1+20/3*o.effectiveRuneBlessingPower[3],o.upgradeMultiplier*=1+1/50*K("reincarnation",e.challengecompletions[10]),o.upgradeMultiplier*=1+1/50*e.researches[122],o.upgradeMultiplier*=1+3/100*e.researches[133],o.upgradeMultiplier*=1+2/100*e.researches[163],o.upgradeMultiplier*=1+1/100*e.researches[193],o.upgradeMultiplier*=1+1/10*e.upgrades[79],o.upgradeMultiplier*=1+1/4*e.upgrades[40],o.upgradeMultiplier*=o.cubeBonusMultiplier[7],o.upgradeMultiplier*=1+ht(7),o.upgradeMultiplier=Math.min(1e300,o.upgradeMultiplier)},tc=()=>{hn(),Hm();let t=1e300,r=Math.min(t,o.timeMultiplier*o.upgradeMultiplier);return{antSacrificePoints:o.effectiveELO*r/85,offerings:Math.min(t,e.offeringpersecond*.15*o.effectiveELO*r/180),obtainium:Math.min(t,e.maxobtainiumpersecond*.24*o.effectiveELO*r/180),talismanShards:o.antELO>500?Math.min(t,Math.max(1,Math.floor(r/210*Math.pow(1/4*Math.max(0,o.effectiveELO-500),2)))):0,commonFragments:o.antELO>750?Math.min(t,Math.max(1,Math.floor(r/110*Math.pow(1/9*Math.max(0,o.effectiveELO-750),1.83)))):0,uncommonFragments:o.antELO>1e3?Math.min(t,Math.max(1,Math.floor(r/170*Math.pow(1/16*Math.max(0,o.effectiveELO-1e3),1.66)))):0,rareFragments:o.antELO>1500?Math.min(t,Math.max(1,Math.floor(r/200*Math.pow(1/25*Math.max(0,o.effectiveELO-1500),1.5)))):0,epicFragments:o.antELO>2e3?Math.min(t,Math.max(1,Math.floor(r/200*Math.pow(1/36*Math.max(0,o.effectiveELO-2e3),1.33)))):0,legendaryFragments:o.antELO>3e3?Math.min(t,Math.max(1,Math.floor(r/230*Math.pow(1/49*Math.max(0,o.effectiveELO-3e3),1.16)))):0,mythicalFragments:o.antELO>5e3?Math.min(t,Math.max(1,Math.floor(r/220*Math.pow(1/64*Math.max(0,o.effectiveELO-4150),1)))):0}},Pd=async()=>{let t=await Ue(u.t("calculate.timePrompt")),r=Number(t);if(Number.isNaN(r)||r<=0)return O(u.t("calculate.timePromptError"));i("offlineContainer").style.display="flex",i("offlineBlur").style.display="",await gc(r)},gc=async(t=0)=>{ci(),o.timeWarp=!0;let r=86400*3+7200*2*e.researches[31]+7200*2*e.researches[32],n=Date.now(),s=Math.min(r,Math.max(t,(n-e.offlinetick)/1e3)),a=s/200,l=200;i("offlineTimer").textContent=u.t("calculate.offlineTimer",{value:p(s,0)}),Ca(e.buyTalismanShardPercent),_t();let c=e.offlinetick>0;e.offlinetick=e.offlinetick<15e11?Date.now():e.offlinetick,o.timeMultiplier=Qe().mult,yr();let d=ys(),g={prestige:s/Math.max(.01,e.fastestprestige),offering:Math.floor(s),transcension:s/Math.max(.01,e.fastesttranscend),reincarnation:s/Math.max(.01,e.fastestreincarnate),obtainium:s*d*o.timeMultiplier},m={prestige:s*o.timeMultiplier,transcension:s*o.timeMultiplier,reincarnation:s*o.timeMultiplier,ants:s*o.timeMultiplier,antsReal:s,ascension:e.ascensionCounter,quarks:Bt().gain};Ne("ascension",s),Ne("quarks",s),Ne("goldenQuarks",s),Ne("singularity",s),Ne("octeracts",a),Ne("ambrosia",s),e.prestigeCount+=g.prestige,e.transcendCount+=g.transcension,e.reincarnationCount+=g.reincarnation,m.ascension=e.ascensionCounter-m.ascension,m.quarks=Bt().gain-m.quarks;let h=$t(()=>{o.timeMultiplier=Qe().mult,yr(),Ne("prestige",a),Ne("transcension",a),Ne("reincarnation",a),Ne("octeracts",a),yc(a*o.timeMultiplier),e.researches[61]>0&&e.currentChallenge.ascension!==14&&br("addObtainium",a),e.achievements[173]>0&&br("antSacrifice",a),br("addOfferings",a),e.shopUpgrades.offeringAuto>0&&e.autoSacrificeToggle&&br("runeSacrifice",a),l%5===1&&Ps(),l-=1,l<1&&(Xn(h),o.timeWarp=!1)},0);if(i("offlinePrestigeCountNumber").textContent=p(g.prestige,0,!0),i("offlinePrestigeTimer").innerHTML=u.t("offlineProgress.currentPrestigeTimer",{value:p(m.prestige,2,!1)}),i("offlineOfferingCount").innerHTML=u.t("offlineProgress.offeringsGenerated",{value:p(g.offering,0,!0)}),i("offlineTranscensionCount").innerHTML=u.t("offlineProgress.transcensionCount",{value:p(g.transcension,0,!0)}),i("offlineTranscensionTimer").innerHTML=u.t("offlineProgress.currentTranscensionCounter",{value:p(m.transcension,2,!1)}),i("offlineReincarnationCount").innerHTML=u.t("offlineProgress.reincarnationCount",{value:p(g.reincarnation,0,!0)}),i("offlineReincarnationTimer").innerHTML=u.t("offlineProgress.currentReincarnationTimer",{value:p(m.reincarnation,2,!1)}),i("offlineObtainiumCount").innerHTML=u.t("offlineProgress.obtainiumGenerated",{value:p(g.obtainium,0,!0)}),i("offlineAntTimer").innerHTML=u.t("offlineProgress.ingameAntSacTimer",{value:p(m.ants,2,!1)}),i("offlineRealAntTimer").innerHTML=u.t("offlineProgress.realAntSacTimer",{value:p(m.antsReal,2,!0)}),i("offlineAscensionTimer").innerHTML=u.t("offlineProgress.currentAscensionTimer",{value:p(m.ascension,2,!0)}),i("offlineQuarkCount").innerHTML=u.t("offlineProgress.exportQuarks",{value:p(m.quarks,0,!0)}),i("progressbardescription").textContent=u.t("calculate.offlineEarnings"),e.offlinetick=n,!e.loadedNov13Vers){if(e.challengecompletions[14]>0||e.highestchallengecompletions[14]>0){let b=e.ascensionCount;Ae("ascensionChallenge"),e.ascensionCount=b+1}e.loadedNov13Vers=!0}if(await rr(),_t(),yr(),Ot(),Fe(),c){let b=i("notification");b.classList.add("slide-out"),b.classList.remove("slide-in"),document.body.classList.remove("scrollbar"),document.body.classList.add("loading"),i("exitOffline").style.visibility="hidden",i("offlineContainer").style.display="flex",i("transparentBG").style.display="block"}else Ba()},Ba=()=>{document.body.classList.remove("loading"),document.body.classList.add("scrollbar"),i("transparentBG").style.display="none",i("offlineContainer").style.display="none",i("offlineBlur").style.display="none",Us()},bt=(t,r,n)=>1+(t-1)*(1-Math.pow(2,-r/n)),It=(t,r)=>1+(t-1)*(1-Math.exp(-r)),Qt=()=>{let t=[e.cubeBlessings.accelerator,e.cubeBlessings.multiplier,e.cubeBlessings.offering,e.cubeBlessings.runeExp,e.cubeBlessings.obtainium,e.cubeBlessings.antSpeed,e.cubeBlessings.antSacrifice,e.cubeBlessings.antELO,e.cubeBlessings.talismanBonus,e.cubeBlessings.globalSpeed],r=[e.cubeUpgrades[45]/100,e.cubeUpgrades[35]/100,e.cubeUpgrades[24]/100,e.cubeUpgrades[14]/100,e.cubeUpgrades[40]/100,e.cubeUpgrades[22]/40,e.cubeUpgrades[15]/100,e.cubeUpgrades[25]/100,e.cubeUpgrades[44]/100,e.cubeUpgrades[34]/100];for(let n=1;n<=10;n++){let s=1,a=1;t[n-1]>=1e3&&(s=o.blessingDRPower[n],a*=Math.pow(1e3,(1-o.blessingDRPower[n])*(1+r[n-1]))),n===6&&(s=2.25,a=1),o.cubeBonusMultiplier[n]=Math.min(1e300,1+a*o.blessingbase[n]*Math.pow(t[n-1],s*(1+r[n-1]))*o.tesseractBonusMultiplier[n])}Fe(),hn(),yr()},vs=()=>{if(e.singularityChallenges.noOcteracts.enabled)return 1;if(e.totalWowOcteracts<1e3){let t=1+.002*e.totalWowOcteracts;return t>1.00001?t:1}else{let t=2+ +e.singularityChallenges.noOcteracts.rewards.octeractPow;return 3*Math.pow(Math.log10(e.totalWowOcteracts)-2,t)}},Xr=()=>{if(e.singularityChallenges.noOcteracts.enabled)return 1;if(e.totalWowOcteracts<1e3){let t=1+2e-4*e.totalWowOcteracts;return t>1.00001?t:1}else return 1.1+.1*(Math.log10(e.totalWowOcteracts)-2)},Il=()=>e.singularityChallenges.noOcteracts.rewards.offeringBonus?Math.pow(Xr(),1.5):1,Nl=()=>e.singularityChallenges.noOcteracts.rewards.obtainiumBonus?Math.pow(Xr(),1.4):1,gn=()=>{let t=[Math.pow(Math.min(1,e.ascensionCounter/10),2)*(1+(.25*e.achievements[204]+.25*e.achievements[211]+.5*e.achievements[218])*Math.max(0,e.ascensionCounter/10-1)),1+.06*e.achievements[250]+.1*e.achievements[251],1+e.achievements[240]*Math.min(.5,Math.max(.1,.05*Math.log10(Qe().mult+.01))),o.challenge15Rewards.cube1*o.challenge15Rewards.cube2*o.challenge15Rewards.cube3*o.challenge15Rewards.cube4*o.challenge15Rewards.cube5,1+.01*_n(),1+e.platonicUpgrades[10],Math.pow(1.01,e.platonicUpgrades[15]*e.challengecompletions[9]),Mo(),1+ht(2),1/Ie("Cubes"),1+.75*e.shopUpgrades.seasonPassY/100,1+4*(e.singularityUpgrades.starterPack.getEffect().bonus?1:0),+e.singularityUpgrades.singCubes1.getEffect().bonus,+e.singularityUpgrades.singCubes2.getEffect().bonus,+e.singularityUpgrades.singCubes3.getEffect().bonus,1+e.shopUpgrades.seasonPassZ*e.singularityCount/100,1+1*e.cubeUpgrades[66]*(1-e.platonicUpgrades[15]),1+.25*+o.isEvent*e.cubeUpgrades[58],vs(),+e.singularityChallenges.noSingularityUpgrades.rewards.cubes,+e.singularityUpgrades.singCitadel.getEffect().bonus,+e.singularityUpgrades.singCitadel2.getEffect().bonus,1+ +e.singularityUpgrades.platonicDelta.getEffect().bonus*Math.min(9,e.singularityCounter/86400),Math.pow(1.02,e.shopUpgrades.seasonPassInfinity),ti(),+e.blueberryUpgrades.ambrosiaTutorial.bonus.cubes,+e.blueberryUpgrades.ambrosiaCubes1.bonus.cubes,+e.blueberryUpgrades.ambrosiaLuckCube1.bonus.cubes,+e.blueberryUpgrades.ambrosiaQuarkCube1.bonus.cubes,+e.blueberryUpgrades.ambrosiaCubes2.bonus.cubes,+e.blueberryUpgrades.ambrosiaHyperflux.bonus.hyperFlux,+hc(),+Do(),+Dd()],r=o.isEvent&&o.eventClicked?1.05:1;return{mult:Ce(t)*r,list:t}},Vo=(t=-1)=>{t<0&&(t=Zr().effectiveScore);let r=[Math.pow(t/3e3,1/4.1),gn().mult,1+2.25*e.shopUpgrades.seasonPass/100,(1+e.researches[119]/400)*(1+e.researches[120]/400)*(1+e.researches[137]/100)*(1+.9*e.researches[152]/100)*(1+.8*e.researches[167]/100)*(1+.7*e.researches[182]/100)*(1+.03/100*e.researches[192]*e.antUpgrades[12-1])*(1+.6*e.researches[197]/100),1+.004/100*e.researches[200],(1+e.cubeUpgrades[1]/6)*(1+e.cubeUpgrades[11]/11)*(1+.4*e.cubeUpgrades[30]),1+.01*f.log(e.ascendShards.add(1),4)*Math.min(1,e.constantUpgrades[10]),1+e.achievements[189]*Math.min(2,e.ascensionCount/25e7),1+e.achievements[193]*f.log(e.ascendShards.add(1),10)/400,1+Math.min(250,e.achievements[195]*f.log(e.ascendShards.add(1),10)/400),1+4/100*(e.achievements[198]+e.achievements[199]+e.achievements[200])+3/100*e.achievements[201],1+Math.min(.15,.6/100*Math.log10(t+1))*e.achievements[254],1+gt()/400*o.effectiveRuneSpiritPower[2],o.platonicBonusMultiplier[0],1+9e-5*fe(e.usedCorruptions)*e.platonicUpgrades[1],1+Math.pow(1.03,Math.log10(Math.max(1,e.wowAbyssals)))*e.cubeUpgrades[63]-e.cubeUpgrades[63]];return{list:r,mult:Ce(r)}},Wo=(t=-1)=>{t<0&&(t=Zr().effectiveScore);let r=fe(e.usedCorruptions.slice(2,10)),n=[Math.pow(1+Math.max(0,t-1e5)/1e4,.35),gn().mult,1+2.25*e.shopUpgrades.seasonPass/100,1+.01*f.log(e.ascendShards.add(1),4)*Math.min(1,e.constantUpgrades[10]),1+.4*e.cubeUpgrades[30],1+1/200*e.cubeUpgrades[38]*r,1+Math.min(250,e.achievements[195]*f.log(e.ascendShards.add(1),10)/400),1+e.achievements[202]*Math.min(2,e.ascensionCount/5e8),1+4/100*(e.achievements[205]+e.achievements[206]+e.achievements[207])+3/100*e.achievements[208],1+Math.min(.15,.6/100*Math.log10(t+1))*e.achievements[255],o.platonicBonusMultiplier[1],1+18e-5*r*e.platonicUpgrades[2]];return{list:n,mult:Ce(n)}},Xo=(t=-1)=>{t<0&&(t=Zr().effectiveScore);let r=[Math.pow(1+Math.max(0,t-1e9)/1e8,.5),gn().mult,1+1.5*e.shopUpgrades.seasonPass2/100,1+4/100*(e.achievements[212]+e.achievements[213]+e.achievements[214])+3/100*e.achievements[215],1+e.achievements[216]*Math.min(2,e.ascensionCount/1e9),1+1/10*e.achievements[253],1+Math.min(.15,.6/100*Math.log10(t+1))*e.achievements[256],1+Math.min(2,e.ascensionCount/25e9)*e.achievements[265],o.platonicBonusMultiplier[2],1+54e-5*fe(e.usedCorruptions)*e.platonicUpgrades[3],1+.6/1e3*je("hyperrealism")];return{list:r,mult:Ce(r)}},Ko=(t=-1)=>{t<0&&(t=Zr().effectiveScore);let r=[Math.pow(1+Math.max(0,t-2666e9)/2666e8,.75),gn().mult,1+1.5*e.shopUpgrades.seasonPass2/100,1+Math.min(20,e.achievements[196]*1/5e3*f.log(e.ascendShards.add(1),10)),1+4/100*(e.achievements[219]+e.achievements[220]+e.achievements[221])+3/100*e.achievements[222],1+e.achievements[223]*Math.min(2,e.ascensionCount/1337e6),1+Math.min(.15,.6/100*Math.log10(t+1))*e.achievements[257],o.platonicBonusMultiplier[3],1+1.2*e.platonicUpgrades[4]/50];return{list:r,mult:Ce(r)}},zo=(t=-1)=>{t<0&&(t=Zr().effectiveScore);let r=[Math.pow(1+Math.max(0,t-1666e13)/333e14,.85),gn().mult,1+1.5*e.shopUpgrades.seasonPass3/100,1+Math.min(.15,.6/100*Math.log10(t+1))*e.achievements[258],1+Math.min(.4,e.ascensionCount/2e13)*e.achievements[264],1+Math.min(.2,e.ascensionCount/8e14)*e.achievements[265],Math.min(2,1+1/1e6*f.log(e.ascendShards.add(1),10)*e.achievements[270])];return{list:r,mult:Ce(r)}},Ad=()=>{let t=fe(e.usedCorruptions.slice(2,10));return[1+1.5*e.shopUpgrades.seasonPass3/100,1+.75*e.shopUpgrades.seasonPassY/100,1+e.shopUpgrades.seasonPassZ*e.singularityCount/100,1+e.shopUpgrades.seasonPassLost/1e3,1+ +(t>=14*8)*e.cubeUpgrades[70]/1e4,1+ +(t>=14*8)*+e.singularityUpgrades.divinePack.getEffect().bonus,+e.singularityUpgrades.singCubes1.getEffect().bonus,+e.singularityUpgrades.singCubes2.getEffect().bonus,+e.singularityUpgrades.singCubes3.getEffect().bonus,+e.singularityUpgrades.singOcteractGain.getEffect().bonus,+e.singularityUpgrades.singOcteractGain2.getEffect().bonus,+e.singularityUpgrades.singOcteractGain3.getEffect().bonus,+e.singularityUpgrades.singOcteractGain4.getEffect().bonus,+e.singularityUpgrades.singOcteractGain5.getEffect().bonus,1+e.worlds.BONUS/100*+e.singularityUpgrades.singOcteractPatreonBonus.getEffect().bonus,1+.2*+e.octeractUpgrades.octeractStarter.getEffect().bonus,+e.octeractUpgrades.octeractGain.getEffect().bonus,+e.octeractUpgrades.octeractGain2.getEffect().bonus,Vm(),Math.pow(1+ +e.octeractUpgrades.octeractAscensionsOcteractGain.getEffect().bonus,1+Math.floor(Math.log10(1+e.ascensionCount))),1+ht(10),1+ +e.singularityUpgrades.platonicDelta.getEffect().bonus*Math.min(9,e.singularityCounter/(3600*24)),+e.singularityChallenges.noSingularityUpgrades.rewards.cubes,Math.pow(1.02,e.shopUpgrades.seasonPassInfinity),ti(),+e.blueberryUpgrades.ambrosiaTutorial.bonus.cubes,+e.blueberryUpgrades.ambrosiaCubes1.bonus.cubes,+e.blueberryUpgrades.ambrosiaLuckCube1.bonus.cubes,+e.blueberryUpgrades.ambrosiaQuarkCube1.bonus.cubes,+e.blueberryUpgrades.ambrosiaCubes2.bonus.cubes,+Do(),+Dd()]},Ur=()=>{let r=Zr().effectiveScore,n=r>=1e23?r/1e23:0,s=Ad(),a=e.singularityUpgrades.oneMind.getEffect().bonus?Math.pow(10,1/2):Math.pow(vr(),1/2),l=e.singularityUpgrades.oneMind.getEffect().bonus?Math.pow(vr()/10,+e.octeractUpgrades.octeractOneMindImprover.getEffect().bonus):1,c=o.isEvent&&o.eventClicked?1.05:1;return 1/(24*3600*365*1e15)*n*Ce(s)*a*l*c},Wu=(t=-1)=>{t<0&&(t=Zr().effectiveScore);let n=Ad();n.unshift(t>=1e23?t/1e23:0);let s=vr(),a=e.singularityUpgrades.oneMind.getEffect().bonus?Math.pow(10,1/2)*Math.pow(s/10,+e.octeractUpgrades.octeractOneMindImprover.getEffect().bonus):Math.pow(s,1/2);return n.push(a),{list:n,mult:Ce(n)}},Qe=()=>{let t=[1+.0033333333333333335*Math.log10(e.maxobtainium+1)*e.upgrades[70],1+e.researches[121]/50,1+.015*e.researches[136],1+.012*e.researches[151],1+.009*e.researches[166],1+.006*e.researches[181],1+.003*e.researches[196],1+8*o.effectiveRuneBlessingPower[1],1+gt()/400*o.effectiveRuneSpiritPower[1],o.cubeBonusMultiplier[10],1+e.cubeUpgrades[18]/5,bt(2,e.antUpgrades[11]+o.bonusant12,69),1+.1*(e.talismanRarity[1]-1),o.challenge15Rewards.globalSpeed,1+.01*e.cubeUpgrades[52]],r=[o.lazinessMultiplier[e.usedCorruptions[3]]],n=Ce(t)*r[0];if(n>100){let c=10*Math.sqrt(n)/n;r.push(c)}else r.push(1);if(n<1){let c=Math.pow(n,1-e.platonicUpgrades[7]/30)/n;r.push(c)}else r.push(1);r.push(1/Ie("Global Speed"));let s=[o.platonicBonusMultiplier[7],1+(e.singularityUpgrades.intermediatePack.getEffect().bonus?1:0),1+ +e.octeractUpgrades.octeractImprovedGlobalSpeed.getEffect().bonus*e.singularityCount],a=Ce(t)*Ce(r)*Ce(s);return e.usedCorruptions[3]>=6&&e.achievements[241]<1&&F(241),a>3600&&e.achievements[242]<1&&F(242),{preList:t,drList:r,postList:s,mult:a}},Fm=()=>{if(e.singularityChallenges.limitedAscensions.enabled){let t=e.ascensionCount-Math.max(0,20-e.singularityChallenges.limitedAscensions.completions);return t=Math.max(0,t),Math.pow(2,t)}else return 1},El=()=>{let t=[1+.012*e.shopUpgrades.chronometer,1+.006*e.shopUpgrades.chronometer2,1+.015*e.shopUpgrades.chronometer3,1+6e-4*je("chronos"),1+Math.min(.1,.01*Math.log10(e.ascensionCount+1))*e.achievements[262],1+Math.min(.1,.01*Math.log10(e.ascensionCount+1))*e.achievements[263],1+.002*fe(e.usedCorruptions)*e.platonicUpgrades[15],o.challenge15Rewards.ascensionSpeed,1+.0025*e.cubeUpgrades[59],1+.5*(e.singularityUpgrades.intermediatePack.getEffect().bonus?1:0),1+.001*e.singularityCount*e.shopUpgrades.chronometerZ,1+ +e.octeractUpgrades.octeractImprovedAscensionSpeed.getEffect().bonus*e.singularityCount,1+ +e.octeractUpgrades.octeractImprovedAscensionSpeed2.getEffect().bonus*e.singularityCount,1+ht(4),e.singularityUpgrades.singAscensionSpeed2.level>0&&e.runelevels[6]<1?6:1,Math.pow(1.01,e.shopUpgrades.chronometerInfinity),1/Fm(),Math.pow(1+ +e.singularityChallenges.limitedAscensions.rewards.ascensionSpeedMult,1+Math.max(0,Math.floor(Math.log10(e.ascensionCount))))],r=Ce(t),n=e.singularityUpgrades.singAscensionSpeed.level>0?r>=1?1.03:.97:1;t.push(Math.pow(r,n)/r),t.push(1/Ie("Ascension Speed"));let s=Ce(t);return isFinite(s)||(s=0),{list:t,mult:s}},vr=()=>El().mult,Ul=()=>{let t=1,r=[5,7,10,20,35,50,65,80,90,100,121,144,150,160,166,169,170,175,180,190,196,200,201,202,203,204,205,210,212,214,216,218,220,225,250,255,260,261,262];for(let n of r)e.highestSingularityCount>=n&&(t*=1.05);return e.highestSingularityCount>=200&&(t*=Math.pow((e.highestSingularityCount-179)/20,2)),t},Co=()=>{let t=1;return e.achievementPoints>0&&(t+=e.achievementPoints/25e3),e.achievements[250]>0&&(t+=.1),e.achievements[251]>0&&(t+=.1),e.platonicUpgrades[5]>0&&(t+=.2),e.platonicUpgrades[10]>0&&(t+=.25),e.platonicUpgrades[15]>0&&(t+=.3),e.challenge15Exponent>=1e11&&(t+=o.challenge15Rewards.quarks-1),e.shopUpgrades.infiniteAscent&&(t*=1.1+.15/75*_n()),e.challenge15Exponent>=1e15&&(t*=1+5/1e4*je("quark")),e.overfluxPowder>0&&(t*=ya()),e.achievements[266]>0&&(t*=1+Math.min(.1,e.ascensionCount/1e16)),e.singularityCount>0&&(t*=1+e.singularityCount/10),o.isEvent&&(t*=1+ht(0)+ht(13)),e.cubeUpgrades[53]>0&&(t*=1+.1*e.cubeUpgrades[53]/100),e.cubeUpgrades[68]>0&&(t*=1+1/1e4*e.cubeUpgrades[68]+.05*Math.floor(e.cubeUpgrades[68]/1e3)),t*=Ul(),t*=+e.octeractUpgrades.octeractQuarkGain.getEffect().bonus,t*=1+.3*+e.octeractUpgrades.octeractStarter.getEffect().bonus,t*=1+1/1e4*Math.floor(e.octeractUpgrades.octeractQuarkGain.level/111)*e.octeractUpgrades.octeractQuarkGain2.level*Math.floor(1+Math.log10(Math.max(1,e.hepteractCrafts.quark.BAL))),t*=1+.02*e.singularityUpgrades.intermediatePack.level+.04*e.singularityUpgrades.advancedPack.level+.06*e.singularityUpgrades.expertPack.level+.08*e.singularityUpgrades.masterPack.level+.1*e.singularityUpgrades.divinePack.level,t*=1+ +e.singularityUpgrades.singQuarkImprover1.getEffect().bonus,t*=Xr(),t*=fs(),t*=+e.blueberryUpgrades.ambrosiaTutorial.bonus.quarks,t*=+e.blueberryUpgrades.ambrosiaQuarks1.bonus.quarks,t*=+e.blueberryUpgrades.ambrosiaCubeQuark1.bonus.quarks,t*=+e.blueberryUpgrades.ambrosiaLuckQuark1.bonus.quarks,t*=+e.blueberryUpgrades.ambrosiaQuarks2.bonus.quarks,t*=us(),e.highestSingularityCount===0&&(t*=1.25),t},Ol=(t=!1)=>{let r=2*e.singularityCount+10,n=e.singularityCount<10?200-10*e.singularityCount:0;e.singularityCount===0&&(n+=200);let s=1;e.highestSingularityCount>=200&&(s=3),e.highestSingularityCount>=208&&(s=5),e.highestSingularityCount>=221&&(s=8);let a=[1+Math.max(0,Math.log10(e.challenge15Exponent+1)-20)/2,1+e.worlds.BONUS/100,+e.singularityUpgrades.goldenQuarks1.getEffect().bonus,1+.12*e.cubeUpgrades[69],+e.singularityChallenges.noSingularityUpgrades.rewards.goldenQuarks,1+ht(1),1+Bn(),e.highestSingularityCount>=100?1+Math.min(1,e.highestSingularityCount/250):1,s];return a.push(t?1/1e5:((r+e.quarksThisSingularity/1e5)*Ce(a)+n)/Ce(a)),{list:a,mult:Ce(a)}},qt=(t=!1)=>Ol(t).mult,gt=()=>{let t=400,r=e.singularityUpgrades.corruptionFifteen.getEffect().bonus?1:0;for(let n=1;n<=9;n++)t+=16*Math.pow(e.usedCorruptions[n]+r,2);return t},sn=(t,r,n,s=1e9)=>{let a=r*t*(1+t)/2,l=Math.min(t+s,Math.floor(-1/2+Math.sqrt(1/4+2*(n+a)/r))),c=r*l*(1+l)/2-a;return[l,c]},Zt=(t,r,n,s,a)=>{let l=s/2;n=n||0;let c=r*(l*Math.pow(t,2)+t*(1-l));n+=c;let d=n/r,g=l>0?Math.max(0,Math.floor((l-1)/(2*l)+Math.pow(Math.pow(1-l,2)+4*l*d,1/2)/(2*l))):Math.floor(d);g=Math.min(g,a+t),g=Math.max(g,t);let m=r*(l*Math.pow(g,2)+g*(1-l))-c;return g===t&&(m=r*(1+2*l*t)),{levelCanBuy:g,cost:m}},kd=t=>t<0||!Number.isInteger(t)?-1:Math.pow(t*(t+1)/2,2),Qm=(t,r,n,s)=>{if(t<0)throw new Error(String(u.t("calculate.quadraticImproperError")));let a=Math.pow(r,2)-4*t*n;if(a<0)throw new Error(String(u.t("calculate.quadraticDeterminantError")));if(a===0)return-r/(2*t);let l=-r+Math.sqrt(Math.pow(r,2)-4*t*n),c=-r-Math.sqrt(Math.pow(r,2)-4*t*n);return s?l/(2*t):c/(2*t)},Lu=(t,r,n,s)=>{if(t>=s)return{levelCanBuy:s,cost:0};let a=r*kd(t),l=a+n;if(l<0)throw new Error(String(u.t("calculate.cubicSumNegativeError")));let c=Math.pow(l/r,.5),d=Qm(1,1,-2*c,!0),g=Math.max(Math.min(s,Math.floor(d)),t),m=g===t?r*Math.pow(t+1,3):r*kd(g)-a;return{levelCanBuy:g,cost:m}},_m=()=>{let t=1;return t*=o.challenge15Rewards.score,t*=o.platonicBonusMultiplier[6],e.cubeUpgrades[21]>0&&(t*=1+.05*e.cubeUpgrades[21]),e.cubeUpgrades[31]>0&&(t*=1+.05*e.cubeUpgrades[31]),e.cubeUpgrades[41]>0&&(t*=1+.05*e.cubeUpgrades[41]),e.achievements[267]>0&&(t*=1+Math.min(1,1/1e5*f.log(e.ascendShards.add(1),10))),e.achievements[259]>0&&(t*=Math.max(1,Math.pow(1.01,Math.log2(e.hepteractCrafts.abyss.CAP)))),o.isEvent&&(t*=1+ht(6)),t},Zr=()=>{let t=0,r=1,n=0,s=e.singularityUpgrades.corruptionFifteen.getEffect().bonus?1:0;s+=+e.singularityChallenges.oneChallengeCap.rewards.freeCorruptionLevel;let a=[0,8,10,12,15,20,60,80,120,180,300],l=[0,10,12,15,20,30,80,120,180,300,450],c=[0,20,30,50,100,200,250,300,400,500,750],d=[0,1e4,1e4,1e4,1e4,1e4,2e3,3e3,4e3,5e3,7500];a[1]+=e.cubeUpgrades[56],a[2]+=e.cubeUpgrades[56],a[3]+=e.cubeUpgrades[56];for(let h=1;h<=10;h++)t+=a[h]*e.highestchallengecompletions[h],h<=5&&e.highestchallengecompletions[h]>=75&&(t+=l[h]*(e.highestchallengecompletions[h]-75),e.highestchallengecompletions[h]>=750&&(t+=c[h]*(e.highestchallengecompletions[h]-750)),e.highestchallengecompletions[h]>=9e3&&(t+=d[h]*(e.highestchallengecompletions[h]-9e3))),h<=10&&h>5&&e.highestchallengecompletions[h]>=25&&(t+=l[h]*(e.highestchallengecompletions[h]-25),e.highestchallengecompletions[h]>=60&&(t+=c[h]*(e.highestchallengecompletions[h]-60)));t*=Math.pow(1.03+.005*e.cubeUpgrades[39]+.0025*(e.platonicUpgrades[5]+e.platonicUpgrades[10]),e.highestchallengecompletions[10]);let g=e.singularityUpgrades.advancedPack.getEffect().bonus?.33:0;g+=+e.singularityChallenges.oneChallengeCap.rewards.corrScoreIncrease;for(let h=2;h<10;h++){let b=h===2&&e.usedCorruptions[h]>=10?1+2*Math.min(1,e.platonicUpgrades[17])+.04*e.platonicUpgrades[17]:1;r*=Math.pow(o.corruptionPointMultipliers[e.usedCorruptions[h]+s],b)+g,e.usedCorruptions[h]>=14&&e.singularityUpgrades.masterPack.getEffect().bonus&&(r*=1.1)}let m=_m();return n=t*r*m,n>1e23&&(n=Math.pow(n,.5)*Math.pow(1e23,.5)),e.singularityUpgrades.expertPack.getEffect().bonus?n*=1.5:n*=1,{baseScore:t,corruptionMultiplier:r,bonusMultiplier:m,effectiveScore:n}},Or=()=>{let t=0,r=1,n=Zr(),s=n.baseScore,a=n.corruptionMultiplier,l=n.bonusMultiplier,c=n.effectiveScore;for(let w=1;w<=10;w++)r=w>=6?2:1,t+=r*e.highestchallengecompletions[w];let d=e.singularityUpgrades.oneMind.getEffect().bonus?vr()/10:1,g=t;g*=Vo(c).mult,g*=d;let m=e.singularityUpgrades.platonicTau.getEffect().bonus?1.01:1;g=Math.pow(g,m);let h=1;c>=1e5&&(h+=.5),h*=Wo(c).mult,h*=d;let b=c>=1e9?1:0;b*=Xo(c).mult,b*=d;let y=c>=2666e9?1:0;y*=Ko(c).mult,y*=d;let v=o.challenge15Rewards.hepteractUnlocked&&c>=1666e14&&e.achievements[255]>0?1:0;return v*=zo(c).mult,v*=d,[t,Math.floor(s),a,Math.floor(c),Math.min(1e300,Math.floor(g)),Math.min(1e300,Math.max(e.singularityCount,Math.floor(h))),Math.min(1e300,Math.floor(b)),Math.min(1e300,Math.floor(y)),Math.min(1e300,Math.floor(v)),l]},hs=()=>{let t=1;if(e.singularityChallenges.limitedAscensions.enabled)return t;if(e.challengecompletions[10]>0&&e.achievements[197]===1){let{effectiveScore:r}=Zr();e.ascensionCounter>=10&&(e.achievements[188]>0&&(t+=99),t*=1+(e.ascensionCounter/10-1)*.2*(e.achievements[189]+e.achievements[202]+e.achievements[209]+e.achievements[216]+e.achievements[223])),t*=e.achievements[187]&&Math.floor(r)>1e8?Math.log10(Math.floor(r)+1)-1:1,t*=o.challenge15Rewards.ascensions,t*=e.achievements[260]>0?1.1:1,t*=e.achievements[261]>0?1.1:1,t*=e.platonicUpgrades[15]>0?2:1,t*=1+.02*e.platonicUpgrades[16],t*=1+.02*e.platonicUpgrades[16]*Math.min(1,e.overfluxPowder/1e5),t*=1+e.singularityCount/10,t*=+e.singularityUpgrades.ascensions.getEffect().bonus,t*=+e.octeractUpgrades.octeractAscensions.getEffect().bonus,t*=+e.octeractUpgrades.octeractAscensions2.getEffect().bonus,t*=e.singularityUpgrades.oneMind.getEffect().bonus?vr()/10:1}return Math.floor(t)},hr=()=>{let t=[.01,o.challenge15Rewards.powder,1+e.shopUpgrades.powderEX/50,1+e.achievements[256]/20,1+e.achievements[257]/20,1+.01*e.platonicUpgrades[16],1+ht(3)];return{list:t,mult:Ce(t)}},on=()=>(bt(2,Math.pow(e.overfluxOrbs,.5),40)+bt(1.5,Math.pow(e.overfluxOrbs,.5),160)+bt(1.5,Math.pow(e.overfluxOrbs,.5),640)+bt(1.15,+(e.highestSingularityCount>=1)*Math.pow(e.overfluxOrbs,.45),2560)+bt(1.15,+(e.highestSingularityCount>=2)*Math.pow(e.overfluxOrbs,.4),1e4)+bt(1.25,+(e.highestSingularityCount>=5)*Math.pow(e.overfluxOrbs,.35),4e4)+bt(1.25,+(e.highestSingularityCount>=10)*Math.pow(e.overfluxOrbs,.32),16e4)+bt(1.35,+(e.highestSingularityCount>=15)*Math.pow(e.overfluxOrbs,.27),64e4)+bt(1.45,+(e.highestSingularityCount>=20)*Math.pow(e.overfluxOrbs,.24),2e6)+bt(1.55,+(e.highestSingularityCount>=25)*Math.pow(e.overfluxOrbs,.21),1e7)+bt(1.85,+(e.highestSingularityCount>=30)*Math.pow(e.overfluxOrbs,.18),4e7)+bt(3,+(e.highestSingularityCount>=35)*Math.pow(e.overfluxOrbs,.15),1e8)-11)*(1+1/500*e.shopUpgrades.cubeToQuarkAll)*(e.autoWarpCheck?1+e.dailyPowderResetUses:1),Mo=()=>e.overfluxPowder>1e4?1+1/16*Math.pow(Math.log10(e.overfluxPowder),2):1+1/1e4*e.overfluxPowder,ya=()=>e.overfluxPowder>1e4?1+1/40*Math.log10(e.overfluxPowder):1+1/1e5*e.overfluxPowder,Ed=()=>{let t=0,r=[35,42,49,56,63,70,77],n=[135,142,149,156,163,170,177];for(let s of r)e.highestSingularityCount>=s&&(t+=5);for(let s of n)e.highestSingularityCount>=s&&(t+=6);return t},Ud=()=>{let t=[1+e.shopUpgrades.shopAmbrosiaGeneration1/100,1+e.shopUpgrades.shopAmbrosiaGeneration2/100,1+e.shopUpgrades.shopAmbrosiaGeneration3/100,1+e.shopUpgrades.shopAmbrosiaGeneration4/1e3];return Ce(t)},Od=()=>{let t=[2*e.shopUpgrades.shopAmbrosiaLuck1,2*e.shopUpgrades.shopAmbrosiaLuck2,2*e.shopUpgrades.shopAmbrosiaLuck3,.6*e.shopUpgrades.shopAmbrosiaLuck4];return fe(t)},Bd=()=>{let t=[+e.singularityUpgrades.singAmbrosiaGeneration.getEffect().bonus,+e.singularityUpgrades.singAmbrosiaGeneration2.getEffect().bonus,+e.singularityUpgrades.singAmbrosiaGeneration3.getEffect().bonus,+e.singularityUpgrades.singAmbrosiaGeneration4.getEffect().bonus];return Ce(t)},Rd=()=>{let t=[+e.singularityUpgrades.singAmbrosiaLuck.getEffect().bonus,+e.singularityUpgrades.singAmbrosiaLuck2.getEffect().bonus,+e.singularityUpgrades.singAmbrosiaLuck3.getEffect().bonus,+e.singularityUpgrades.singAmbrosiaLuck4.getEffect().bonus];return fe(t)},Id=()=>{let t=[+e.octeractUpgrades.octeractAmbrosiaGeneration.getEffect().bonus,+e.octeractUpgrades.octeractAmbrosiaGeneration2.getEffect().bonus,+e.octeractUpgrades.octeractAmbrosiaGeneration3.getEffect().bonus,+e.octeractUpgrades.octeractAmbrosiaGeneration4.getEffect().bonus];return Ce(t)},Nd=()=>{let t=[+e.octeractUpgrades.octeractAmbrosiaLuck.getEffect().bonus,+e.octeractUpgrades.octeractAmbrosiaLuck2.getEffect().bonus,+e.octeractUpgrades.octeractAmbrosiaLuck3.getEffect().bonus,+e.octeractUpgrades.octeractAmbrosiaLuck4.getEffect().bonus];return fe(t)},Cs=()=>{let t=o.TIME_PER_AMBROSIA;t+=Math.floor(e.lifetimeAmbrosia/30);let r=t,n=[5e3,25e3,75e3,25e4,5e5,1e6,2e6,4e6,1e7,2e7,4e7,1e8];for(let s of n)r>=s&&(t*=2);return t},$d=()=>{let t=0;return e.highestSingularityCount>=270?t=5:e.highestSingularityCount>=256?t=4:e.highestSingularityCount>=192?t=3:e.highestSingularityCount>=128?t=2:e.highestSingularityCount>=64&&(t=1),t},ti=()=>{let t=e.singularityChallenges.noAmbrosiaUpgrades.enabled?0:e.lifetimeAmbrosia,r=1;return r+=Math.min(1.5,Math.floor(t/66)/100),t>=1e4&&(r+=Math.min(1.5,Math.floor(t/666)/100)),t>=1e5&&(r+=Math.floor(t/6666)/100),r},fs=()=>{let t=e.singularityChallenges.noAmbrosiaUpgrades.enabled?0:e.lifetimeAmbrosia,r=1;return r+=Math.min(.3,Math.floor(t/1666)/100),t>=5e4&&(r+=Math.min(.3,Math.floor(t/16666)/100)),t>=5e5&&(r+=Math.floor(t/166666)/100),r},fc=t=>1+e.shopUpgrades.shopCashGrabUltra*t*Math.min(1,Math.pow(e.lifetimeAmbrosia/1e7,1/3)),$o=()=>fc(Im),Do=()=>fc(Rm),us=()=>fc(Bm),mc=t=>1+t*Math.min(e.shopUpgrades.shopEXUltra,Math.floor(e.lifetimeAmbrosia/1e3)/125),qm=()=>mc(Nm),jm=()=>mc($m),Dd=()=>mc(Dm),hc=()=>e.singularityChallenges.limitedAscensions.rewards.exaltBonus&&o.currentSingChallenge!==void 0?Math.pow(1.04,e.singularityChallenges[o.currentSingChallenge].completions):1,Gd=()=>{let t=[100,200,250,260,266];for(let r=0;r<t.length;r++)if(e.highestSingularityCount<=t[r])return r/100;return t.length/100},bc=()=>{if(!e.dayCheck)return;let t=new Date(jo()),r=new Date(t.getFullYear(),t.getMonth(),t.getDate()),n=t.getHours(),s=t.getMinutes(),a=t.getSeconds();e.dayTimer=60*60*24-60*60*n-60*s-a,r.getTime()-36e5>e.dayCheck.getTime()&&(e.dayCheck=r,os(!0),e.dailyPowderResetUses=1+e.shopUpgrades.extraWarp,e.dailyCodeUsed=!1,i("cubeQuarksOpenRequirement").style.display="block",e.challengecompletions[11]>0&&(i("tesseractQuarksOpenRequirement").style.display="block"),e.challengecompletions[13]>0&&(i("hypercubeQuarksOpenRequirement").style.display="block"),e.challengecompletions[14]>0&&(i("platonicCubeQuarksOpenRequirement").style.display="block"))},os=(t=!1)=>{e.cubeQuarkDaily=0,e.tesseractQuarkDaily=0,e.hypercubeQuarkDaily=0,e.platonicCubeQuarkDaily=0,e.cubeOpenedDaily=0,e.tesseractOpenedDaily=0,e.hypercubeOpenedDaily=0,e.platonicCubeOpenedDaily=0,t&&(e.overfluxPowder+=e.overfluxOrbs*hr().mult,e.overfluxOrbs=o.challenge15Rewards.freeOrbs)},ht=t=>o.isEvent?Ll(t):0,Vm=()=>{let t=0,r=[18,38,58,78,88,98,118,148,178,188,198,208,218,228,238,248];for(let n of r)e.highestSingularityCount>=n&&(t+=1);return 1+t*e.highestSingularityCount/100};var qe=t=>{let r=0;return t<=5?e.singularityChallenges.oneChallengeCap.enabled?1:(r=25,e.researches[105]>0?9001:(r+=5*e.researches[65+t],r)):t<=10&&t>5?e.singularityChallenges.oneChallengeCap.enabled?1:(r=40,r+=4*e.cubeUpgrades[29],r+=2*e.shopUpgrades.challengeExtension,e.platonicUpgrades[5]>0&&(r+=10),e.platonicUpgrades[10]>0&&(r+=10),e.platonicUpgrades[15]>0&&(r+=30),r+=2*+e.singularityUpgrades.singChallengeExtension.getEffect().bonus,r+=2*+e.singularityUpgrades.singChallengeExtension2.getEffect().bonus,r+=2*+e.singularityUpgrades.singChallengeExtension3.getEffect().bonus,r+=+e.singularityChallenges.oneChallengeCap.rewards.capIncrease,r):t<=15&&t>10?t===15?0:e.singularityChallenges.oneChallengeCap.enabled?1:(r=30,e.platonicUpgrades[5]>0&&(r+=5),e.platonicUpgrades[10]>0&&(r+=5),e.platonicUpgrades[15]>0&&(r+=20),r+=+e.singularityUpgrades.singChallengeExtension.getEffect().bonus,r+=+e.singularityUpgrades.singChallengeExtension2.getEffect().bonus,r+=+e.singularityUpgrades.singChallengeExtension3.getEffect().bonus,r):r},lt=(t,r=!0)=>{let n=1;r&&(o.challengefocus=t,i("oneChallengeDetails").style.display="flex",i("startChallenge").style.display="block",i("retryChallenge").style.display="block",o.triggerChallenge=t);let s=qe(t);t<=5&&r&&(e.challengecompletions[t]>=100?i("completionSoftcap").innerHTML=u.t("challenges.perCompletionBonus",{x:100,y:p(K("transcend",e.challengecompletions[t]),2,!0)}):i("completionSoftcap").textContent=u.t("challenges.perCompletionBonusEmpty")),t>5&&t<=10&&(n=10,e.challengecompletions[t]>=25&&r?i("completionSoftcap").innerHTML=u.t("challenges.perCompletionBonus",{x:25,y:p(K("reincarnation",e.challengecompletions[t]),2,!0)}):i("completionSoftcap").textContent=u.t("challenges.perCompletionBonusEmpty")),t>10&&(e.challengecompletions[t]>=10?i("completionSoftcap").innerHTML=u.t("challenges.perCompletionBonus",{x:10,y:p(K("ascension",e.challengecompletions[t]),2,!0)}):i("completionSoftcap").textContent=u.t("challenges.perCompletionBonusEmpty"));let a="",l=i("challengeName"),c=i("challengeFlavor"),d=i("challengeRestrictions"),g=i("challengeGoal"),m=i("challengePer1").childNodes[0],h=i("challengePer2").childNodes[0],b=i("challengePer3").childNodes[0],y=i("challengeFirst1"),v=i("challengeQuarkBonus"),w=i("startChallenge"),k=i("challengeCurrent1"),P=i("challengeCurrent2"),A=i("challengeCurrent3");if(t===o.challengefocus){let G=`${e.challengecompletions[t]}/${p(s)}`,W=t>=6&&t<=10||t===15,x=p(Pt(t,e.challengecompletions[t],W?t:0)),j="",se="",ce="";switch(t){case 1:{j=se=p(10*K("transcend",e.challengecompletions[1])),ce=p(.04*K("transcend",e.challengecompletions[1]),2,!0);break}case 2:{j=se=p(5*K("transcend",e.challengecompletions[2]));break}case 3:{j=p(.04*e.challengecompletions[3],2,!0),se=p(.5*K("transcend",e.challengecompletions[3]),2,!0),ce=p(.01*K("transcend",e.challengecompletions[3]),2,!0);break}case 4:{j=p(5*K("transcend",e.challengecompletions[4])),se=p(2*K("transcend",e.challengecompletions[4])),ce=p(.5*K("transcend",e.challengecompletions[4]),2,!0);break}case 5:{j=p(.5+K("transcend",e.challengecompletions[5])/100,2,!0),se=p(Math.pow(10,K("transcend",e.challengecompletions[5])));break}case 6:{j=p(Math.pow(.965,K("reincarnation",e.challengecompletions[6])),3,!0),se=p(10*K("reincarnation",e.challengecompletions[6])),ce=p(2*K("reincarnation",e.challengecompletions[6]));break}case 7:{j=p(1+.04*K("reincarnation",e.challengecompletions[7]),2,!0),se=ce=p(10*K("reincarnation",e.challengecompletions[7]));break}case 8:{j=p(.25*K("reincarnation",e.challengecompletions[8]),2,!0),se=p(20*K("reincarnation",e.challengecompletions[8]),2,!0),ce=p(4*K("reincarnation",e.challengecompletions[8]),2,!0);break}case 9:{j=p(K("reincarnation",e.challengecompletions[9])),se=p(Math.pow(1.1,K("reincarnation",e.challengecompletions[9])),2,!0),ce=p(20*K("reincarnation",e.challengecompletions[9]),2,!0);break}case 10:{j=p(100*K("reincarnation",e.challengecompletions[10])),se=p(2*K("reincarnation",e.challengecompletions[10])),ce=p(10*K("reincarnation",e.challengecompletions[10]),2,!0);break}case 11:{j=p(12*K("ascension",e.challengecompletions[11])),se=p(f.pow(1e5,K("ascension",e.challengecompletions[11]))),ce=p(80*K("ascension",e.challengecompletions[11]));break}case 12:{j=p(50*K("ascension",e.challengecompletions[12])),se=p(12*K("ascension",e.challengecompletions[12])),ce=p(K("ascension",e.challengecompletions[12]));break}case 13:{j=p(100-100*Math.pow(.966,K("ascension",e.challengecompletions[13])),3,!0),se=p(6*K("ascension",e.challengecompletions[13])),ce=p(3*K("ascension",e.challengecompletions[13]));break}case 14:{j=p(50*K("ascension",e.challengecompletions[14])),se=p(1*e.challengecompletions[14]),ce=p(200*K("ascension",e.challengecompletions[14]));break}}l.textContent=u.t(`challenges.${t}.name`,{value:G,completions:e.challengecompletions[t],max:s}),c.textContent=u.t(`challenges.${t}.flavor`),d.textContent=u.t(`challenges.${t}.restrictions`),g.textContent=u.t(`challenges.${t}.goal`,{value:x}),m.textContent=u.t(`challenges.${t}.per.1`),h.textContent=u.t(`challenges.${t}.per.2`),b.textContent=u.t(`challenges.${t}.per.3`),y.textContent=u.t(`challenges.${t}.first`),w.textContent=u.t(`challenges.${t}.start`),k.textContent=u.t(`challenges.${t}.current.1`,{value:j}),P.textContent=u.t(`challenges.${t}.current.2`,{value:se}),A.textContent=u.t(`challenges.${t}.current.3`,{value:ce})}t===15&&o.challengefocus===15&&s===0&&(g.textContent=u.t("challenges.15.noGoal"));let R=[0,8,10,12,15,20,60,80,120,180,300],Q=[0,10,12,15,20,30,80,120,180,300,450],$=[0,20,30,50,100,200,250,300,400,500,750],I=[0,1e4,1e4,1e4,1e4,1e4,2e3,3e3,4e3,5e3,7500],S=0;if(t<=5&&(e.highestchallengecompletions[t]>=9e3?S=I[t]:e.highestchallengecompletions[t]>=750?S=$[t]:e.highestchallengecompletions[t]>=75?S=Q[t]:S=R[t]),t>5&&t<=10&&(e.highestchallengecompletions[t]>=60?S=$[t]:e.highestchallengecompletions[t]>=25?S=Q[t]:S=R[t]),r&&(v.textContent=""),e.ascensionCount===0&&(a="Quarks",v.style.color="cyan"),e.challengecompletions[t]>=e.highestchallengecompletions[t]&&e.highestchallengecompletions[t]<s&&r&&e.ascensionCount<1&&(v.textContent=u.t(a?"challenges.firstTimeBonusQuarks":"challenges.firstTimeBonus",{x:Math.floor(n*e.highestchallengecompletions[t]/10+1+e.cubeUpgrades[1]+e.cubeUpgrades[11]+e.cubeUpgrades[21]+e.cubeUpgrades[31]+e.cubeUpgrades[41])})),e.challengecompletions[t]>=e.highestchallengecompletions[t]&&e.highestchallengecompletions[t]<s&&r&&e.ascensionCount>=1&&(v.textContent=u.t("challenges.ascensionBankAdd",{x:t>5?2:1,y:S})),e.challengecompletions[t]>=e.highestchallengecompletions[t]&&e.highestchallengecompletions[t]<10&&t>10&&(v.textContent=u.t("challenges.hypercubeOneTimeBonus")),r){let G=i("toggleAutoChallengeIgnore");G.style.display=t<=(Gs()?15:10)&&e.researches[150]>0?"block":"none",G.style.border=e.autoChallengeToggles[t]?"2px solid green":"2px solid red",t>=11&&t<=15?e.autoChallengeToggles[t]?G.textContent=u.t("challenges.autoAscRunChalOn",{x:t}):G.textContent=u.t("challenges.autoAscRunChalOff",{x:t}):e.autoChallengeToggles[t]?G.textContent=u.t("challenges.autoRunChalOn",{x:t}):G.textContent=u.t("challenges.autoRunChalOff",{x:t})}let L=i("toggleAutoChallengeStart");e.autoChallengeRunning?(L.textContent=u.t("challenges.autoChallengeSweepOn"),L.style.border="2px solid gold"):(L.textContent=u.t("challenges.autoChallengeSweepOff"),L.style.border="2px solid red")},yi=t=>{e.currentChallenge.reincarnation===9&&(o.rune1level=1,o.rune2level=1,o.rune3level=1,o.rune4level=1,o.rune5level=1,e.crystalUpgrades=[0,0,0,0,0,0,0,0]),o.prestigePointGain=new f("0"),typeof t=="number"&&(t>=6&&(o.transcendPointGain=new f("0")),t>=11&&(o.reincarnationPointGain=new f("0"))),Fe()},Hd=()=>{i("retryChallenge").textContent=e.retrychallenges?u.t("challenges.retryChallengesOff"):u.t("challenges.retryChallengesOn"),e.retrychallenges=!e.retrychallenges},vc=(t,r)=>{let n=.1;t>=6&&(n=1),e.ascensionCount===0&&e.worlds.add(1+Math.floor(r*n)*100/100),Vt()&&e.ascensionCount===0&&t>=6&&t<=10&&(e.roombaResearchIndex=0,e.autoResearch=o.researchOrderByCost[e.roombaResearchIndex])},Ci=(t,r,n=0)=>{let s=Math.max(1,o.hyperchallengedMultiplier[e.usedCorruptions[4]]/(1+e.platonicUpgrades[8]/2.5));switch(t==="ascension"&&(s=1),t){case"transcend":return s*=o.challenge15Rewards.transcendChallengeReduction,r>=75?s*=Math.pow(1+r,12)/Math.pow(75,8):s*=Math.pow(1+r,2),r>=1e3&&(s*=10*Math.pow(r/1e3,3)),r>=9e3&&(s*=1337),r>=9001&&(s*=r-8999),s;case"reincarnation":return r>=100&&(n===9||n===10)&&(s*=Math.pow(1.05,(r-100)*(1+(r-100)/20))),r>=90&&(n===6?s*=100:n===7?s*=50:n===8?s*=10:s*=4),r>=80&&(n===6?s*=50:n===7?s*=20:n===8?s*=4:s*=2),r>=70&&(n===6?s*=20:n===7?s*=10:n===8?s*=2:s*=1),r>=60&&(n===9||n===10)&&(s*=Math.pow(1e3,(r-60)*(1-.01*e.shopUpgrades.challengeTome-.01*e.shopUpgrades.challengeTome2)/10)),r>=25&&(s*=Math.pow(1+r,5)/625),r<25&&(s*=Math.min(Math.pow(1+r,2),Math.pow(1.3797,r))),s*=o.challenge15Rewards.reincarnationChallengeReduction,s;case"ascension":return n!==15?r>=10?s*=2*(1+r)-10:s*=1+r:s*=Math.pow(1e3,r),s}},K=(t,r)=>{let n=0;switch(t){case"transcend":return n+=Math.min(100,r),n+=1/20*(Math.min(1e3,Math.max(100,r))-100),n+=1/100*(Math.max(1e3,r)-1e3),n;case"reincarnation":return n+=Math.min(25,r),n+=1/2*(Math.min(75,Math.max(25,r))-25),n+=1/10*(Math.max(75,r)-75),n;case"ascension":return n+=Math.min(10,r),n+=1/2*(Math.max(10,r)-10),n}},Pt=(t,r,n=0)=>{let s=o.challengeBaseRequirements[t-1];if(t<=5)return f.pow(10,s*Ci("transcend",r,n));if(t<=10){let a=0;return t===10&&(a=1e8*(e.researches[140]+e.researches[155]+e.researches[170]+e.researches[185])+2e7*(e.shopUpgrades.challengeTome+e.shopUpgrades.challengeTome2)),f.pow(10,(s-a)*Ci("reincarnation",r,n))}else return t<=14?Ci("ascension",r,n):t===15?f.pow(10,1*Math.pow(10,30)*Ci("ascension",r,n)):0},Fd=t=>{if(e.researches[150]===0||!e.autoChallengeRunning)return;o.autoChallengeTimerIncrement+=t;let r="none";if(e.currentChallenge.reincarnation!==0||e.currentChallenge.transcension!==0?r="exit":e.autoChallengeIndex===1?r="start":r="enter",Gs()&&e.currentChallenge.ascension===15&&e.shopUpgrades.challenge15Auto===0&&(r==="start"||r==="enter")&&e.autoAscend&&e.challengecompletions[11]>0&&e.cubeUpgrades[10]>0&&e.autoAscendMode==="realAscensionTime"&&e.ascensionCounterRealReal>=Math.max(.1,e.autoAscendThreshold-5)){r="wait",sr("WAIT");return}if(o.autoChallengeTimerIncrement>=e.autoChallengeTimer.exit&&r==="exit"){let n=e.currentChallenge.reincarnation!==0?"reincarnation":"transcension";o.autoChallengeTimerIncrement=0;let s=e.autoChallengeIndex,a=Ds(s+1);n==="transcension"&&Te("transcensionChallenge",void 0,!0),n==="reincarnation"&&Te("reincarnationChallenge",void 0,!0),a<=10&&(a<s?(e.autoChallengeIndex=1,sr("START")):(e.autoChallengeIndex=a,sr("ENTER")));return}if(o.autoChallengeTimerIncrement>=e.autoChallengeTimer.start&&r==="start"||o.autoChallengeTimerIncrement>=e.autoChallengeTimer.enter&&r==="enter"){o.autoChallengeTimerIncrement=0;let n=e.autoChallengeIndex,s=Ds(n);if(s===11)return;e.autoChallengeIndex=s,ir(e.autoChallengeIndex,!0),sr("EXIT");return}},Ds=(t,r=!1,n=1,s=10)=>{let a=t;for(let l=a;l<=s&&(!e.autoChallengeToggles[l]||!r&&l!==15&&e.highestchallengecompletions[l]>=qe(l));l++)a+=1;if(a>s){a=n;for(let l=a;l<=s&&(!e.autoChallengeToggles[l]||!r&&l!==15&&e.highestchallengecompletions[l]>=qe(l));l++)a+=1}return a},Gs=()=>e.highestSingularityCount>=101&&e.shopUpgrades.instantChallenge2>0,ms=()=>{let t=[1+5e-4*je("challenge"),1+.25*e.platonicUpgrades[15]];return Ce(t)};var xe=class extends an{constructor(n,s){var c,d,g,m;let a=u.t(`ambrosia.data.${s}.name`),l=u.t(`ambrosia.data.${s}.description`);super(en(ze({},n),{name:a,description:l}));this.ambrosiaInvested=0;this.blueberriesInvested=0;this.blueberryCost=n.blueberryCost,this.costFormula=n.costFormula,this.rewards=n.rewards,this.ambrosiaInvested=(c=n.ambrosiaInvested)!=null?c:0,this.blueberriesInvested=(d=n.blueberriesInvested)!=null?d:0,this.preRequisites=(g=n.prerequisites)!=null?g:void 0,this.cacheUpdates=(m=n.cacheUpdates)!=null?m:void 0}getCostTNL(){return this.level===this.maxLevel?0:this.costFormula(this.level,this.costPerLevel)}async buyLevel(n){let s=0,a=1,l=e.ambrosia;if(!this.checkPrerequisites())return O(u.t("ambrosia.prereqNotMetAlert"));if(n.shiftKey){a=1e6;let c=Number(await Ue(u.t("ambrosia.ambrosiaBuyPrompt",{amount:p(e.ambrosia,0,!0)})));if(isNaN(c)||!isFinite(c)||!Number.isInteger(c))return O(u.t("general.validation.finite"));if(c===-1)l=e.ambrosia;else{if(c<=0)return O(u.t("octeract.buyLevel.cancelPurchase"));l=c}l=Math.min(e.ambrosia,l)}if(this.maxLevel>0&&(a=Math.min(a,this.maxLevel-this.level)),a===0)return O(u.t("octeract.buyLevel.alreadyMax"));for(;a>0;){let c=this.getCostTNL();if(e.ambrosia<c||l<c)break;if(this.level===0){if(e.caches.blueberryInventory.totalVal-e.spentBlueberries<this.blueberryCost)return O(u.t("ambrosia.notEnoughBlueberries"));e.spentBlueberries+=this.blueberryCost,this.blueberriesInvested=this.blueberryCost}e.ambrosia-=c,l-=c,this.ambrosiaInvested+=c,this.level+=1,s+=1,a-=1}if(s===0)return O(u.t("octeract.buyLevel.cannotAfford"));if(s>1)return O(`${u.t("octeract.buyLevel.multiBuy",{n:p(s)})}`);this.updateUpgradeHTML(),this.updateCaches()}toString(){let n=this.getCostTNL(),s=this.maxLevel===-1?"":`/${p(this.maxLevel,0,!0)}`,a=this.maxLevel===this.level,l=a?"plum":"white",c=this.freeLevels>0?`<span style="color: orange"> [+${p(this.freeLevels,1,!0)}]</span>`:"";this.freeLevels>this.level&&(c=`${c}<span style="color: var(--maroon-text-color)">${u.t("general.softCapped")}</span>`);let d=n<=e.ambrosia,g=a?`<span style="color: plum"> ${u.t("general.maxed")}</span>`:d?`<span style="color: var(--green-text-color)"> ${u.t("general.affordable")}</span>`:`<span style="color: yellow"> ${u.t("octeract.buyLevel.cannotAfford")}</span>`,m=u.t("ambrosia.prerequisite");if(this.preRequisites!==void 0){for(let[h,b]of Object.entries(this.preRequisites)){let y=h,v=e.blueberryUpgrades[y].level>=b?"green":"red",w=e.blueberryUpgrades[y].level>=b?"":u.t("ambrosia.prereqNotMet");m=`${m}<span style="color:${v}"> ${e.blueberryUpgrades[y].name} lv.${b} ${w}</span> |`}m=m.slice(0,-1)}return`<span style="color: gold">${this.name}</span>
                ${m}
                <span style="color: lightblue">${this.description}</span>
                <span style="color: ${l}"> ${u.t("general.level")} ${p(this.level,0,!0)}${s}${c}</span>
                <span style="color: gold">${this.rewardDesc}</span>
                ${u.t("octeract.toString.costNextLevel")}: <span style="color:orange">${p(n,2,!0,!0,!0)}</span> ${u.t("ambrosia.ambrosia")} ${g}
                ${u.t("ambrosia.blueberryCost")} <span style="color:blue">${this.blueberryCost}</span>
                ${u.t("general.spent")} ${u.t("ambrosia.ambrosia")}: <span style="color:orange">${p(this.ambrosiaInvested,2,!0,!0,!0)}</span>`}updateUpgradeHTML(){i("singularityAmbrosiaMultiline").innerHTML=this.toString(),wa()}checkPrerequisites(){if(this.preRequisites!==void 0)for(let[n,s]of Object.entries(this.preRequisites)){let a=n;if(e.blueberryUpgrades[a].level<s)return!1}return!0}updateCaches(){if(this.cacheUpdates!==void 0)for(let n of this.cacheUpdates)n()}refund(){e.ambrosia+=this.ambrosiaInvested,this.ambrosiaInvested=0,this.level=0,e.spentBlueberries-=this.blueberriesInvested,this.blueberriesInvested=0}get rewardDesc(){let n=e.singularityChallenges.noAmbrosiaUpgrades.enabled?0:this.level;return"desc"in this.rewards(0)?String(this.rewards(n).desc):"Contact Platonic or Khafra if you see this (should never occur!)"}get bonus(){let n=e.singularityChallenges.noAmbrosiaUpgrades.enabled?0:this.level;return this.rewards(n)}},me={ambrosiaTutorial:{maxLevel:10,costPerLevel:1,blueberryCost:0,costFormula:(t,r)=>r*(Math.pow(t+1,2)-Math.pow(t,2)),rewards:t=>{let r=1+.05*t,n=1+.01*t;return{quarks:n,cubes:r,desc:String(u.t("ambrosia.data.ambrosiaTutorial.effect",{cubeAmount:p(100*(r-1),0,!0),quarkAmount:p(100*(n-1),0,!0)}))}}},ambrosiaQuarks1:{maxLevel:100,costPerLevel:1,blueberryCost:0,costFormula:(t,r)=>r*(Math.pow(t+1,3)-Math.pow(t,3)),rewards:t=>{let r=1+.01*t;return{quarks:r,desc:String(u.t("ambrosia.data.ambrosiaQuarks1.effect",{amount:p(100*(r-1),0,!0)}))}},prerequisites:{ambrosiaTutorial:10}},ambrosiaCubes1:{maxLevel:100,costPerLevel:1,blueberryCost:0,costFormula:(t,r)=>r*(Math.pow(t+1,3)-Math.pow(t,3)),rewards:t=>{let r=(1+.05*t)*Math.pow(1.1,Math.floor(t/10));return{cubes:r,desc:String(u.t("ambrosia.data.ambrosiaCubes1.effect",{amount:p(100*(r-1),2,!0)}))}},prerequisites:{ambrosiaTutorial:10}},ambrosiaLuck1:{maxLevel:100,costPerLevel:1,blueberryCost:0,costFormula:(t,r)=>r*(Math.pow(t+1,3)-Math.pow(t,3)),rewards:t=>{let r=2*t+12*Math.floor(t/10);return{ambrosiaLuck:r,desc:String(u.t("ambrosia.data.ambrosiaLuck1.effect",{amount:p(r)}))}},prerequisites:{ambrosiaTutorial:10},cacheUpdates:[()=>e.caches.ambrosiaLuck.updateVal("BlueberryUpgrade1"),()=>e.caches.ambrosiaLuck.updateVal("BlueberryUpgrade2")]},ambrosiaQuarkCube1:{maxLevel:25,costPerLevel:250,blueberryCost:1,costFormula:(t,r)=>r*(Math.pow(t+1,3)-Math.pow(t,3)),rewards:t=>{let n=1+5e-4*t*Math.floor(Math.pow(Math.log10(Number(e.worlds)+1)+1,2));return{cubes:n,desc:String(u.t("ambrosia.data.ambrosiaQuarkCube1.effect",{amount:p(100*(n-1),2,!0)}))}},prerequisites:{ambrosiaCubes1:30,ambrosiaQuarks1:20}},ambrosiaLuckCube1:{maxLevel:25,costPerLevel:250,blueberryCost:1,costFormula:(t,r)=>r*(Math.pow(t+1,3)-Math.pow(t,3)),rewards:t=>{let n=1+2e-4*t*e.caches.ambrosiaLuck.usedTotal;return{cubes:n,desc:String(u.t("ambrosia.data.ambrosiaLuckCube1.effect",{amount:p(100*(n-1),2,!0)}))}},prerequisites:{ambrosiaCubes1:30,ambrosiaLuck1:20}},ambrosiaCubeQuark1:{maxLevel:25,costPerLevel:500,blueberryCost:1,costFormula:(t,r)=>r*(Math.pow(t+1,3)-Math.pow(t,3)),rewards:t=>{let n=1+1e-4*t*(Math.floor(Math.log10(Number(e.wowCubes)+1))+Math.floor(Math.log10(Number(e.wowTesseracts)+1))+Math.floor(Math.log10(Number(e.wowHypercubes)+1))+Math.floor(Math.log10(Number(e.wowPlatonicCubes)+1))+Math.floor(Math.log10(e.wowAbyssals+1))+Math.floor(Math.log10(e.wowOcteracts+1))+6);return{quarks:n,desc:String(u.t("ambrosia.data.ambrosiaCubeQuark1.effect",{amount:p(100*(n-1),2,!0)}))}},prerequisites:{ambrosiaQuarks1:30,ambrosiaCubes1:20}},ambrosiaLuckQuark1:{maxLevel:25,costPerLevel:500,blueberryCost:1,costFormula:(t,r)=>r*(Math.pow(t+1,3)-Math.pow(t,3)),rewards:t=>{let r=1e-4*t,n=Math.min(e.caches.ambrosiaLuck.usedTotal,Math.pow(1e3,.5)*Math.pow(e.caches.ambrosiaLuck.usedTotal,.5)),s=1+r*n;return{quarks:s,desc:String(u.t("ambrosia.data.ambrosiaLuckQuark1.effect",{amount:p(100*(s-1),2,!0)}))}},prerequisites:{ambrosiaQuarks1:30,ambrosiaLuck1:20}},ambrosiaCubeLuck1:{maxLevel:25,costPerLevel:100,blueberryCost:1,costFormula:(t,r)=>r*(Math.pow(t+1,3)-Math.pow(t,3)),rewards:t=>{let n=.02*t*(Math.floor(Math.log10(Number(e.wowCubes)+1))+Math.floor(Math.log10(Number(e.wowTesseracts)+1))+Math.floor(Math.log10(Number(e.wowHypercubes)+1))+Math.floor(Math.log10(Number(e.wowPlatonicCubes)+1))+Math.floor(Math.log10(e.wowAbyssals+1))+Math.floor(Math.log10(e.wowOcteracts+1))+6);return{ambrosiaLuck:n,desc:String(u.t("ambrosia.data.ambrosiaCubeLuck1.effect",{amount:p(n,2,!0)}))}},prerequisites:{ambrosiaLuck1:30,ambrosiaCubes1:20},cacheUpdates:[()=>e.caches.ambrosiaLuck.updateVal("BlueberryCubeLuck1")]},ambrosiaQuarkLuck1:{maxLevel:25,costPerLevel:100,blueberryCost:1,costFormula:(t,r)=>r*(Math.pow(t+1,3)-Math.pow(t,3)),rewards:t=>{let n=.02*t*Math.floor(Math.pow(Math.log10(Number(e.worlds)+1)+1,2));return{ambrosiaLuck:n,desc:String(u.t("ambrosia.data.ambrosiaQuarkLuck1.effect",{amount:p(n,2,!0)}))}},prerequisites:{ambrosiaLuck1:30,ambrosiaQuarks1:20},cacheUpdates:[()=>e.caches.ambrosiaLuck.updateVal("BlueberryQuarkLuck1")]},ambrosiaQuarks2:{maxLevel:100,costPerLevel:500,blueberryCost:1,costFormula:(t,r)=>r*(Math.pow(t+1,2)-Math.pow(t,2)),rewards:t=>{let r=1+(.01+Math.floor(e.blueberryUpgrades.ambrosiaQuarks1.level/10)/1e3)*t;return{quarks:r,desc:String(u.t("ambrosia.data.ambrosiaQuarks2.effect",{amount:p(100*(r-1),0,!0)}))}},prerequisites:{ambrosiaQuarks1:40}},ambrosiaCubes2:{maxLevel:100,costPerLevel:500,blueberryCost:1,costFormula:(t,r)=>r*(Math.pow(t+1,2)-Math.pow(t,2)),rewards:t=>{let r=(1+(.06+6*(Math.floor(e.blueberryUpgrades.ambrosiaCubes1.level/10)/1e3))*t)*Math.pow(1.13,Math.floor(t/10));return{cubes:r,desc:String(u.t("ambrosia.data.ambrosiaCubes2.effect",{amount:p(100*(r-1),2,!0)}))}},prerequisites:{ambrosiaCubes1:40}},ambrosiaLuck2:{maxLevel:100,costPerLevel:250,blueberryCost:1,costFormula:(t,r)=>r*(Math.pow(t+1,2)-Math.pow(t,2)),rewards:t=>{let r=(3+.3*Math.floor(e.blueberryUpgrades.ambrosiaLuck1.level/10))*t+40*Math.floor(t/10);return{ambrosiaLuck:r,desc:String(u.t("ambrosia.data.ambrosiaLuck2.effect",{amount:p(r,1,!0)}))}},prerequisites:{ambrosiaLuck1:40},cacheUpdates:[()=>e.caches.ambrosiaLuck.updateVal("BlueberryUpgrade2")]},ambrosiaPatreon:{maxLevel:1,costPerLevel:1,blueberryCost:0,costFormula:(t,r)=>r*(Math.pow(t+1,2)-Math.pow(t,2)),rewards:t=>{let r=1+t*e.worlds.BONUS/100;return{blueberryGeneration:r,desc:String(u.t("ambrosia.data.ambrosiaPatreon.effect",{amount:p(100*(r-1),0,!0)}))}},cacheUpdates:[()=>e.caches.ambrosiaGeneration.updateVal("BlueberryPatreon")]},ambrosiaObtainium1:{maxLevel:2,costPerLevel:5e4,blueberryCost:1,costFormula:(t,r)=>r*Math.pow(25,t),rewards:t=>{let r=e.caches.ambrosiaLuck.usedTotal;return{luckMult:t,obtainiumMult:t*r,desc:String(u.t("ambrosia.data.ambrosiaObtainium1.effect",{amount:p(t*r/10,1,!0)}))}}},ambrosiaOffering1:{maxLevel:2,costPerLevel:5e4,blueberryCost:1,costFormula:(t,r)=>r*Math.pow(25,t),rewards:t=>{let r=e.caches.ambrosiaLuck.usedTotal;return{luckMult:t,offeringMult:t*r,desc:String(u.t("ambrosia.data.ambrosiaOffering1.effect",{amount:p(t*r/10,1,!0)}))}}},ambrosiaHyperflux:{maxLevel:7,costPerLevel:33333,blueberryCost:3,costFormula:(t,r)=>(r+33333*Math.min(4,t))*Math.max(1,Math.pow(3,t-4)),rewards:t=>{let r=t;return{hyperFlux:Math.pow(1+1/100*r,e.platonicUpgrades[19]),desc:String(u.t("ambrosia.data.ambrosiaHyperflux.effect",{amount:p(100*(Math.pow(1+r/100,e.platonicUpgrades[19])-1))}))}}}},Cc=async(t=!0)=>{for(let r of Object.keys(e.blueberryUpgrades)){let n=r;e.blueberryUpgrades[n].refund(),e.blueberryUpgrades[n].updateCaches()}if(t)return O(u.t("ambrosia.refund"))},Wm=t=>{var g;if(Object.keys(t).length===0)return!1;let r=e.lifetimeAmbrosia,n=e.caches.blueberryInventory.totalVal,s=0,a=0,l=!0,c=!0,d=!0;for(let[m,h]of Object.entries(t)){let b=m;if(h<0||!Number.isFinite(h)||!Number.isInteger(h)||Number.isNaN(h)||e.blueberryUpgrades[b]===void 0)return!1;let y=Math.min(e.blueberryUpgrades[b].maxLevel,h),v=e.blueberryUpgrades[b].preRequisites;if(v!==void 0&&h>0)for(let[w,k]of Object.entries(v))((g=t[w])!=null?g:-1)<k&&(l=!1);if(y>0&&(a+=e.blueberryUpgrades[b].blueberryCost),y>0){let w=e.blueberryUpgrades[b].costFormula,k=e.blueberryUpgrades[b].costPerLevel,P=0;for(let A=0;A<h;A++)P+=w(A,k);s+=P}}return c=r>=s,d=n>=a,l&&c&&d},Qd=()=>Object.fromEntries(Object.entries(e.blueberryUpgrades).map(([t,r])=>[t,r.level])),Xm=t=>Object.fromEntries(Object.entries(t).map(([r,n])=>[r,Math.min(n,e.blueberryUpgrades[r].maxLevel)])),_d=()=>{let t=Qd(),r=JSON.stringify(t),n=`BBTree-${xs()}`;Dl(r,n)},qd=async t=>{if(!Wm(t)){O(u.t("ambrosia.importTree.failure"));return}await Cc(!1);let n=Xm(t);for(let[s,a]of Object.entries(n)){let l=s,{costFormula:c,costPerLevel:d,blueberryCost:g}=e.blueberryUpgrades[l];if(a>0){e.blueberryUpgrades[l].blueberriesInvested=g,e.spentBlueberries+=g;let m=0;for(let h=0;h<a;h++)m+=c(h,d);e.ambrosia-=m,e.blueberryUpgrades[l].ambrosiaInvested=m,e.blueberryUpgrades[l].level=a,e.blueberryUpgrades[l].updateCaches()}}O(u.t("ambrosia.importTree.success"))},jd=async t=>{if(typeof t!="string")return O(u.t("importexport.unableImport"));try{let r=JSON.parse(t);await qd(r),wi(0,r)}catch(r){return O(u.t("ambrosia.importTree.error"))}},Vd=async(t,r)=>{e.blueberryLoadoutMode==="saveTree"&&await Km(t,r),e.blueberryLoadoutMode==="loadTree"&&await qd(r)},wc=()=>{var r,n;let t=Object.keys(me);for(let s of Object.keys(e.blueberryLoadouts)){let a=Number.parseInt(s,10),l=e.blueberryLoadouts[a],c=`bbPurchasedLoadout${a}`;for(let d of t)l[d]?(r=i(d).parentElement)==null||r.classList.add(c):(n=i(d).parentElement)==null||n.classList.remove(c)}},Km=async(t,r)=>{Object.keys(r).length>0&&!await Se(u.t("ambrosia.loadouts.confirmation"))||(e.blueberryLoadouts[t]=Qd(),wi(t,e.blueberryLoadouts[t]),wc())},wi=(t,r)=>{let n="";for(let[a,l]of Object.entries(r)){if(!l)continue;let c=a,d=e.blueberryUpgrades[c].name;n=`${n}<span style="color:orange">${d}</span> <span style="color:yellow">lv${l}</span> | `}Object.keys(r).length===0&&(n=u.t("ambrosia.loadouts.none"));let s=`${u.t("ambrosia.loadouts.loadout")} ${t}`;t===0&&(s=u.t("ambrosia.loadouts.imported")),i("singularityAmbrosiaMultiline").innerHTML=` ${s}
  ${n}`};var ct=t=>p(typeof t=="string"?new f(t):t),Hs=(t,r)=>typeof t=="string"?ct(t):typeof t=="number"&&e.historyShowPerSecond&&r.seconds!==0?t===0?"0.000/s":`${p(t/r.seconds,3,t<1e3)}/s`:p(t),zm={offerings:{img:"Offering.png",formatter:ct,imgTitle:"Offerings"},obtainium:{img:"Obtainium.png",formatter:ct,imgTitle:"Obtainium"},particles:{img:"Particle.png",formatter:ct,imgTitle:"Particles"},diamonds:{img:"Diamond.png",formatter:ct,imgTitle:"Diamonds"},mythos:{img:"Mythos.png",formatter:ct,imgTitle:"Mythos"},wowTesseracts:{img:"TinyWow4.png",formatter:Hs,imgTitle:"Wow! Tesseracts"},wowHypercubes:{img:"TinyWow5.png",formatter:Hs,imgTitle:"Wow! Hypercubes",onlyif:()=>e.challengecompletions[13]>0},wowCubes:{img:"TinyWow3.png",formatter:Hs,imgTitle:"Wow! Cubes"},wowPlatonicCubes:{img:"TinyWow6.png",formatter:Hs,imgTitle:"Platonic Cubes",onlyif:()=>e.challengecompletions[14]>0},wowHepteracts:{img:"TinyWow7.png",formatter:Hs,imgTitle:"Hepteracts",onlyif:()=>e.achievements[255]>0},singularityCount:{img:"TinyS.png",formatter:ct,imgTitle:"Singularity Count",onlyif:()=>e.highestSingularityCount>0},quarks:{img:"Quark.png",formatter:ct,imgTitle:"Quarks",onlyif:()=>e.highestSingularityCount>0},goldenQuarks:{img:"GoldenQuark.png",formatter:ct,imgTitle:"Golden Quarks",onlyif:()=>e.highestSingularityCount>0},wowTribs:{img:"TinyWow3.png",formatter:ct,imgTitle:"Cube Tributes",onlyif:()=>e.highestSingularityCount>0},tessTribs:{img:"TinyWow4.png",formatter:ct,imgTitle:"Tesseract Gifts",onlyif:()=>e.highestSingularityCount>0},hyperTribs:{img:"TinyWow5.png",formatter:ct,imgTitle:"Hypercube Bendictions",onlyif:()=>e.highestSingularityCount>0},platTribs:{img:"TinyWow6.png",formatter:ct,imgTitle:"Platonics Opened",onlyif:()=>e.highestSingularityCount>0},octeracts:{img:"TinyWow8.png",formatter:ct,imgTitle:"Octeracts",onlyif:()=>e.singularityUpgrades.octeractUnlock.getEffect().bonus>0},c15Score:{img:"TinyChallenge15.png",formatter:ct,imgTitle:"C15 score",onlyif:()=>e.singularityCount>0},quarkHept:{img:"TinyQuarkHept.png",formatter:ct,imgTitle:"Quark Hept",onlyif:()=>e.singularityCount>0}},Ym=["offerings","obtainium","particles","diamonds","mythos","wowCubes","wowTesseracts","wowHypercubes","wowPlatonicCubes","wowHepteracts","singularityCount","quarks","goldenQuarks","wowTribs","tessTribs","hyperTribs","platTribs","octeracts","c15Score","quarkHept"],Zm={antsacrifice:{img:"SacrificeNoBorder.png"},prestige:{img:"TinyP.png"},transcend:{img:"TinyT.png"},reincarnate:{img:"TinyR.png"},ascend:{img:"TinyA.png"},singularity:{img:"TinyS.png"}},xc={ants:"historyAntsTable",reset:"historyResetTable",ascend:"historyAscendTable",singularity:"historySingularityTable"},Wd=["CorruptViscocity.png","CorruptSpatialDilation.png","CorruptHyperchallenged.png","CorruptScientificIlliteracy.png","CorruptDeflation.png","CorruptExtinction.png","CorruptDrought.png","CorruptFinancialCollapse.png"],Jm=["Viscosity [Accelerators and Multipliers]","Spacial Dilation [Time]","Hyperchallenged [Challenge Requirements]","Scientific Illiteracy [Obtainium]","Market Deflation [Diamonds]","Extinction [Ants]","Drought [Offering EXP]","Financial Recession [Coins]"],e0=t=>{let r;return(r=/e\+?(.+)/.exec(t))!==null?`e${r[1]}`:t},t0=(t,r)=>{for(;e.history[t].length>o.historyCountMax-1;)e.history[t].shift();e.history[t].push(r),r0(t,r)};xt.on("historyAdd",t0);var r0=(t,r)=>{let n=Xd(t,r),a=i(xc[t]).querySelector("tbody");for(a.insertBefore(n,a.childNodes[0]);a.childNodes.length>o.historyCountMax;)a.removeChild(a.lastChild);if(t==="ascend"){let l=Array.from(n.getElementsByClassName("ascendHistoryLoadCorruptions"));for(let c of l)c.addEventListener("click",d=>Kd(d.target))}},Xd=(t,r)=>{let n=1,s=document.createElement("tr"),a="",l=Zm[r.kind],c=new Date(r.date).toLocaleString();a+=`<td class="history-seconds" title="${c}"><img alt="${r.kind}" src="Pictures/${Re[e.iconSet][0]}/${l.img}">${tr(r.seconds,60)}</td>`;let d=[],g=r;Ym.forEach(h=>{var b;if(Object.prototype.hasOwnProperty.call(r,h)){let y=zm[h];if(y.onlyif&&!y.onlyif(r))return;let v=(b=y.formatter)!=null?b:()=>{},w=`<img alt="${y.imgTitle}" src="Pictures/${Re[e.iconSet][0]}/${y.img}" title="${y.imgTitle}">${v(g[h],r)}`;d.push(w)}});let m=[];if(r.kind==="antsacrifice"){let h=bn(r.antSacrificePointsBefore),b=bn(r.antSacrificePointsAfter),y=b-h;m.push(`<span title="Ant Multiplier: ${p(h,3,!1)}--&gt;${p(b,3,!1)}"><img src="Pictures/${Re[e.iconSet][0]}/Multiplier.png" alt="Ant Multiplier">+${p(y,3,!1)}</span>`,`<span title="+${ct(r.crumbsPerSecond)} crumbs/s"><img src="Pictures/${Re[e.iconSet][0]}/TinyCrumbs.png" alt="Crumbs">${e0(ct(r.crumbs))}</span>`,`<span title="${p(r.baseELO)} base"><img src="Pictures/${Re[e.iconSet][0]}/TinyELO.png" alt="ELO">${p(r.effectiveELO)}</span>`)}else if(r.kind==="ascend"){m.push(`<img alt="C10" src="Pictures/${Re[e.iconSet][0]}/TinyChallenge10.png" title="Challenge 10 completions">${r.c10Completions}`);let h=a0(r);m.push(h[0]),m.push(h[1]),m.push(h[2])}return n+=d.length,a+=d.reduce((h,b)=>`${h}<td class="history-gain">${b}</td>`,""),a+=`<td class="history-filler" colspan="${7-n}"></td>`,a+=m.reduce((h,b)=>`${h}<td class="history-extra">${b}</td>`,""),a+=`<td class="history-filler" colspan="${4-m.length}"></td>`,s.innerHTML=a,s},n0=(t,r)=>{let n=r.querySelector("tbody");if(n.innerHTML="",e.history[t].length>0)for(let s=e.history[t].length-1;s>=0;--s){let a=Xd(t,e.history[t][s]);n.appendChild(a)}if(t==="ascend"){let s=Array.from(document.getElementsByClassName("ascendHistoryLoadCorruptions"));for(let a of s)a.addEventListener("click",l=>Kd(l.target))}};function Kd(t){let r=t.getAttribute("data-corr");r&&(lc(r),Zn(u.t("corruptions.loadoutApplied"),5e3))}var Mc=()=>{Object.keys(xc).forEach(t=>n0(t,i(xc[t])))},zd=()=>{e.historyShowPerSecond=!e.historyShowPerSecond,Mc();let t=i("historyTogglePerSecondButton");e.historyShowPerSecond?t.textContent=u.t("history.perSecondOn"):t.textContent=u.t("history.perSecondOff"),t.style.borderColor=e.historyShowPerSecond?"green":"red"},a0=t=>{let r=`Score: ${p(t.corruptionScore,0,!1)}`,n="",s="",a=0;for(let l=0;l<Wd.length;++l){let c=l+2;c in t.usedCorruptions&&t.usedCorruptions[c]!==0?n+=`<img alt="${a>0?"/":""}" src="Pictures/${Re[e.iconSet][0]}/${Wd[l]}" title="${Jm[l]}">${t.usedCorruptions[c]}`:n+=`<span>${a>0?"/0":"0"}</span>`,a++}return n&&(s+=`<button class="corrLoad ascendHistoryLoadCorruptions" data-corr="${t.usedCorruptions.join("/")}">Load</button>`),t.currentChallenge!==void 0&&(r+=` / C${t.currentChallenge}`),[r,n,s]};var Yd=Mr(vl());var Zd=async()=>{let t="===== SUMMARY STATS =====",r=`Time Generated: ${new Date().toString()}`,n=`Version: ${Jt}`,s=`-----+-----
`,a=`First Played: ${e.firstPlayed}
`,l=`===== RESOURCES =====
`;if(l=l+(e.reincarnationCount>0||e.highestSingularityCount>0?`Quarks: ${p(Number(e.worlds),0,!0)}
`:""),l=l+(e.highestSingularityCount>0?`Golden Quarks: ${p(e.goldenQuarks,2,!0)}
`:""),l=l+s,l=`${l}Coins: ${p(e.coins,2,!0)}
`,(e.prestigeCount>0||e.highestSingularityCount>0)&&(l=`${l}Diamonds: ${p(e.prestigePoints,2,!0)}
`,l=`${l}Crystals: ${p(e.prestigeShards,2,!0)}
`,l=`${l}Offerings: ${p(e.runeshards,0,!0)}
`),(e.transcendCount>0||e.highestSingularityCount>0)&&(l=`${l}Mythos: ${p(e.transcendPoints,2,!0)}
`,l=`${l}Mythos Shards: ${p(e.transcendShards,2,!0)}
`),(e.reincarnationCount>0||e.highestSingularityCount>0)&&(l=`${l}Particles: ${p(e.reincarnationPoints,2,!0)}
`,l=`${l}Atoms: ${p(e.reincarnationShards,2,!0)}
`,l=`${l}Obtainium: ${p(e.researchPoints,0,!0)}
`),e.ascensionCount>0||e.highestSingularityCount>0){let A=[null,e.cubeBlessings.accelerator,e.cubeBlessings.multiplier,e.cubeBlessings.offering,e.cubeBlessings.runeExp,e.cubeBlessings.obtainium,e.cubeBlessings.antSpeed,e.cubeBlessings.antSacrifice,e.cubeBlessings.antELO,e.cubeBlessings.talismanBonus,e.cubeBlessings.globalSpeed],R=[null,e.tesseractBlessings.accelerator,e.tesseractBlessings.multiplier,e.tesseractBlessings.offering,e.tesseractBlessings.runeExp,e.tesseractBlessings.obtainium,e.tesseractBlessings.antSpeed,e.tesseractBlessings.antSacrifice,e.tesseractBlessings.antELO,e.tesseractBlessings.talismanBonus,e.tesseractBlessings.globalSpeed],Q=[null,e.hypercubeBlessings.accelerator,e.hypercubeBlessings.multiplier,e.hypercubeBlessings.offering,e.hypercubeBlessings.runeExp,e.hypercubeBlessings.obtainium,e.hypercubeBlessings.antSpeed,e.hypercubeBlessings.antSacrifice,e.hypercubeBlessings.antELO,e.hypercubeBlessings.talismanBonus,e.hypercubeBlessings.globalSpeed],$=[e.platonicBlessings.cubes,e.platonicBlessings.tesseracts,e.platonicBlessings.hypercubes,e.platonicBlessings.platonics,e.platonicBlessings.hypercubeBonus,e.platonicBlessings.taxes,e.platonicBlessings.scoreBonus,e.platonicBlessings.globalSpeed],I=p(fe(A.slice(1)),0,!0),S=p(fe(R.slice(1)),0,!0),L=p(fe(Q.slice(1)),0,!0),G=p(fe($),0,!0);l=l+s,l=`${l}Wow! Cubes: ${p(Number(e.wowCubes),0,!0)} -+- Total Tributes: ${I}
`,l=`${l}Wow! Tesseracts: ${p(Number(e.wowTesseracts),0,!0)} -+- Total Gifts: ${S}
`,l=`${l}Wow! Hypercubes: ${p(Number(e.wowHypercubes),0,!0)} -+- Total Benedictions: ${L}
`,l=`${l}Wow! Platonic Cubes: ${p(Number(e.wowPlatonicCubes),0,!0)} -+- Total Plats Opened: ${G}
`,l=`${l}Wow! Hepteracts: ${p(e.wowAbyssals,0,!0)}
`,e.singularityUpgrades.octeractUnlock.getEffect().bonus&&(l=`${l}Wow! Octeracts: ${p(e.wowOcteracts,0,!0)}
`)}let c="";e.singularityUpgrades.octeractUnlock.getEffect().bonus&&(c=`===== OCTERACTS =====
`,c=`${c}Current Octeracts: ${p(e.wowOcteracts,2,!0)}
`,c=`${c}Current Per Second: ${p(Ur(),2,!0)}
`,c=`${c}Total Generated Octeracts: ${p(e.totalWowOcteracts,2,!0)}
`,c=`${c}Octeract Cube Bonus: ${p(100*(vs()-1),2,!0)}%
`,c=`${c}Octeract Quark Bonus: ${p(100*(Xr()-1),2,!0)}%
`);let d="";e.highestSingularityCount>0&&(d=`===== SINGULARITY =====
`,d=`${d}Current Singularity: ${e.singularityCount}
`,d=`${d}Highest Singularity Reached: ${e.highestSingularityCount}
`,d=`${d}Golden Quarks: ${p(e.goldenQuarks,2,!0)}
`,d=`${d}+Golden Quarks on Singularity: ${p(qt(),2,!0)}
`,d=`${d}Time in Singularity: ${gr(e.singularityCounter)}
`,d=`${d}Effective Singularity [for penalties]: ${p(es(),2,!0)}
`,d=`${d}Antiquity of Ant God Upgraded: ${e.runelevels[6]>0?"\u2714":"\u2716"}
`);let g="";(e.ascensionCount>0||e.highestSingularityCount>0)&&(g=`===== ASCENSION ===== 
`,g=`${g}Ascension Count: ${p(e.ascensionCount,0,!0)}
`,g=`${g}Ascension Timer: ${gr(e.ascensionCounter)}
`,g=`${g}Real Life Ascension Timer: ${gr(e.ascensionCounterReal)}
`,g=`${g}Truly Real Life Ascension Timer: ${gr(e.ascensionCounterRealReal)}
`,g=`${g}Ascension Speed Multiplier: ${p(vr(),2,!0)}
`,g=`${g}Challenge 11 Completions: ${e.challengecompletions[11]}/${qe(11)}
`,g=`${g}Challenge 12 Completions: ${e.challengecompletions[12]}/${qe(12)}
`,g=`${g}Challenge 13 Completions: ${e.challengecompletions[13]}/${qe(13)}
`,g=`${g}Challenge 14 Completions: ${e.challengecompletions[14]}/${qe(14)}
`,(e.highestchallengecompletions[14]>0||e.highestSingularityCount>0)&&(g=`${g}Challenge 15 Exponent: ${p(e.challenge15Exponent,2,!0)}
`,g=`${g}Research [8x25] MAXED: ${e.researches[200]===1e5?"\u2714":"\u2716"}
`,g=`${g}Cube [w5x10] MAXED: ${e.cubeUpgrades[50]===1e5?"\u2714":"\u2716"}
`,g=`${g}Platonic \u03B1: ${e.platonicUpgrades[5]>0?"\u2714":"\u2716"}
`,g=`${g}Platonic \u03B2: ${e.platonicUpgrades[10]>0?"\u2714":"\u2716"}
`,g=`${g}Platonic \u03A9: ${e.platonicUpgrades[15]>0?"\u2714":"\u2716"}
`),(e.challenge15Exponent>=1e15||e.highestSingularityCount>0)&&(g=`${g}----- HEPTERACTS -----
`,g=`${g}Chronos Hepteract: ${p(e.hepteractCrafts.chronos.BAL,0,!0)}/${p(e.hepteractCrafts.chronos.CAP,0,!0)}
`,g=`${g}Hyperreal Hepteract: ${p(e.hepteractCrafts.hyperrealism.BAL,0,!0)}/${p(e.hepteractCrafts.hyperrealism.CAP,0,!0)}
`,g=`${g}Quark Hepteract: ${p(e.hepteractCrafts.quark.BAL,0,!0)}/${p(e.hepteractCrafts.quark.CAP,0,!0)}
`,g=`${g}Challenge Hepteract: ${p(e.hepteractCrafts.challenge.BAL,0,!0)}/${p(e.hepteractCrafts.challenge.CAP,0,!0)}
`,g=`${g}Abyss Hepteract: ${p(e.hepteractCrafts.abyss.BAL,0,!0)}/${p(e.hepteractCrafts.abyss.CAP,0,!0)}
`,g=`${g}Accelerators Hepteract: ${p(e.hepteractCrafts.accelerator.BAL,0,!0)}/${p(e.hepteractCrafts.accelerator.CAP,0,!0)}
`,g=`${g}Accelerator Boosts Hepteract: ${p(e.hepteractCrafts.acceleratorBoost.BAL,0,!0)}/${p(e.hepteractCrafts.acceleratorBoost.CAP,0,!0)}
`,g=`${g}Multipliers Hepteract: ${p(e.hepteractCrafts.multiplier.BAL,0,!0)}/${p(e.hepteractCrafts.multiplier.CAP,0,!0)}
`,g=`${g}----- POWDER & ORBS -----
`,g=`${g}Orbs: ${p(e.overfluxOrbs,0,!0)}
`,g=`${g}Powder: ${p(e.overfluxPowder,2,!0)}
`));let m="";(e.reincarnationCount>0||e.highestSingularityCount>0)&&(m=`===== REINCARNATION =====
`,m=`${m}Reincarnation Count: ${p(e.reincarnationCount,0,!0)}
`,m=`${m}Reincarnation Timer: ${gr(e.reincarnationcounter)}
`,m=`${m}Fastest Reincarnation: ${gr(e.fastestreincarnate)}
`,m=`${m}Global Speed Multiplier: ${p(Qe().mult,2,!0)}
`,m=`${m}Challenge 6 Completions: ${e.highestchallengecompletions[6]}/${qe(6)}
`,m=`${m}Challenge 7 Completions: ${e.highestchallengecompletions[7]}/${qe(7)}
`,m=`${m}Challenge 8 Completions: ${e.highestchallengecompletions[8]}/${qe(8)}
`,m=`${m}Challenge 9 Completions: ${e.highestchallengecompletions[9]}/${qe(9)}
`,m=`${m}Challenge 10 Completions: ${e.highestchallengecompletions[10]}/${qe(10)}
`);let h="";(e.transcendCount>0||e.highestSingularityCount>0)&&(h=`===== TRANSCENSION =====
`,h=`${h}Transcension Count: ${p(e.transcendCount,0,!0)}
`,h=`${h}Transcension Timer: ${gr(e.transcendcounter)}
`,h=`${h}Fastest Transcension: ${gr(e.fastesttranscend)}
`,h=`${h}Challenge 1 Completions: ${e.highestchallengecompletions[1]}/${qe(1)}
`,h=`${h}Challenge 2 Completions: ${e.highestchallengecompletions[2]}/${qe(2)}
`,h=`${h}Challenge 3 Completions: ${e.highestchallengecompletions[3]}/${qe(3)}
`,h=`${h}Challenge 4 Completions: ${e.highestchallengecompletions[4]}/${qe(4)}
`,h=`${h}Challenge 5 Completions: ${e.highestchallengecompletions[5]}/${qe(5)}
`);let b="";(e.prestigeCount>0||e.highestSingularityCount>0)&&(b=`===== PRESTIGE & RUNES =====
`,b=`${b}Prestige Count: ${p(e.prestigeCount,0,!0)}
`,b=`${b}Prestige Timer: ${gr(e.prestigecounter)}
`,b=`${b}Fastest Prestige: ${gr(e.fastestprestige)}
`,b=`${b+u.t("achievements.totalPoints",{x:p(e.achievementPoints),y:p(wn),z:(100*e.achievementPoints/wn).toPrecision(4)})}
`,b=`${b}Speed Rune: Level ${p(e.runelevels[0],0,!0)}/${p(Ye(1))} [Bonus: ${p(o.rune1level-e.runelevels[0],0,!0)}]
`,(e.achievements[38]>0||e.highestSingularityCount>0)&&(b=`${b}Duplication Rune: Level ${p(e.runelevels[1],0,!0)}/${p(Ye(2))} [Bonus: ${p(o.rune2level-e.runelevels[1],0,!0)}]
`),(e.achievements[44]>0||e.highestSingularityCount>0)&&(b=`${b}Prism Rune: Level ${p(e.runelevels[2],0,!0)}/${p(Ye(3))} [Bonus: ${p(o.rune3level-e.runelevels[2],0,!0)}]
`),(e.achievements[102]>0||e.highestSingularityCount>0)&&(b=`${b}Thrift Rune: Level ${p(e.runelevels[3],0,!0)}/${p(Ye(4))} [Bonus: ${p(o.rune4level-e.runelevels[3],0,!0)}]
`),(e.researches[82]>0||e.highestSingularityCount>0)&&(b=`${b}Superior Intellect: Level ${p(e.runelevels[4],0,!0)}/${p(Ye(5))} [Bonus: ${p(o.rune5level-e.runelevels[4],0,!0)}]
`),(e.shopUpgrades.infiniteAscent>0||e.highestSingularityCount>0)&&(b=`${b}Infinite Ascent: Level ${p(e.runelevels[5],0,!0)}/${p(Ye(6))}
`),(e.platonicUpgrades[20]>0||e.highestSingularityCount>0)&&(b=`${b}Antiquities: Level ${p(e.runelevels[6],0,!0)}/${p(Ye(7))}
`));let y=`
`;if(e.reincarnationCount>0||e.highestSingularityCount>0){y=`===== SHOP UPGRADES =====
 - [\u2605]: Upgrade is MAXED - 
 - [\u2714]: Upgrade is unlocked - 
 - [\u2716]: Upgrade is locked - 
`;let A=Object.keys(e.shopUpgrades),R=0,Q=0,$=0,I=0;for(let S of A){let L=e.shopUpgrades[S],G="";ue[S].type!=="consume"&&(R+=1,va(S)&&(Q+=1),L===ue[S].maxLevel&&($+=1)),I+=ue[S].price*L+ue[S].priceIncrease*L*(L-1)/2,G=G+(va(S)?L===ue[S].maxLevel?"[\u2605]":"[\u2714]":"[\u2716]"),G=`${G} ${jn(S)}:`,G=`${G} ${ue[S].type!=="consume"?`Level ${L}/${ue[S].maxLevel}`:`${L}/${ue[S].maxLevel}`}`,G=`${G}
`,y=y+G}y=y+s,y=`${y}Upgrades Unlocked: ${Q}/${R}
`,y=`${y}Upgrades MAXED ${$}/${R}
`,y=`${y}Quarks Spent in Shop: ${p(I,0,!0)}
`,y=y+s}let v=`
`;if(e.highestSingularityCount>0){v=`===== SINGULARITY UPGRADES =====
 - [\u2605]: Upgrade is MAXED - 
 - [\u221E]: Upgrade is infinite - 
 - [\u2714]: Upgrade is unlocked - 
 - [\u2716]: Upgrade is locked - 
`;let A=Object.keys(e.singularityUpgrades),R=-1,Q=0,$=0,I=0,S=0;for(let L of A){let G="",W=e.singularityUpgrades[L];R+=1,W.maxLevel===-1&&(Q+=1),W.level===W.maxLevel&&(I+=1),e.singularityCount>=W.minimumSingularity&&($+=1),S+=W.goldenQuarksInvested;let x="[\u2716]";e.singularityCount>=W.minimumSingularity&&(W.maxLevel===-1?x="[\u221E]":W.level===W.maxLevel?x="[\u2605]":x="[\u2714]"),G=G+x,G=`${G} ${W.name}:`,G=G+(W.maxLevel===-1?` Level ${W.level}`:` Level ${W.level}/${W.maxLevel}`),G=G+(W.freeLevels>0?` [+${p(W.computeFreeLevelSoftcap(),2,!0)}]`:""),G=G+(W.freeLevels>0?` =+= Effective Level: ${p(W.actualTotalLevels(),2,!0)}`:""),G=`${G}
`,v=v+G}v=v+s,v=`${v}Upgrades Unlocked: ${$}/${R}
`,v=`${v}Upgrades MAXED: ${I}/${R-Q}
`,v=`${v}Golden Quarks Spent on Upgrades: ${p(S,0,!0)}
`,v=v+s}let w=`
`;if(e.singularityUpgrades.octeractUnlock.getEffect().bonus){w=`===== OCTERACT UPGRADES =====
 - [\u2605]: Upgrade is MAXED - 
 - [\u221E]: Upgrade is infinite - 
 - [ ]: Upgrade INCOMPLETE - 
`;let A=Object.keys(e.octeractUpgrades),R=0,Q=0,$=0;for(let I of A){let S="",L=e.octeractUpgrades[I];L.maxLevel!==-1&&(R+=1),L.level===L.maxLevel&&(Q+=1),$+=L.octeractsInvested;let G="[ ]";L.maxLevel===-1?G="[\u221E]":L.level===L.maxLevel&&(G="[\u2605]"),S=S+G,S=`${S+L.name}:`,S=S+(L.maxLevel===-1?` Level ${L.level}`:` Level ${L.level}/${L.maxLevel}`),S=S+(L.freeLevels>0?` [+${p(L.computeFreeLevelSoftcap(),2,!0)}]`:""),S=S+(L.freeLevels>0?` =+= Effective Level: ${p(L.actualTotalLevels(),2,!0)}`:""),S=`${S}
`,w=w+S}w=w+s,w=`${w}Upgrades MAXED: ${Q}/${R}
`,w=`${w}Octeracts Spent on Upgrades: ${p($,0,!0)}
`,w=w+s}let k=`${t}
${r}
${n}
${a}${l}${c}${d}${g}${m}${h}${b}${y}${v}${w}`;try{await navigator.clipboard.writeText(k)}catch(A){let R=document.createElement("textarea");R.setAttribute("style","top: 0; left: 0; position: fixed;"),R.setAttribute("data-clipboard-text",k),document.body.appendChild(R),R.focus(),R.select();let Q=new Yd.default(R),$=()=>{Q.destroy(),document.body.removeChild(R)};Q.on("success",()=>{document.getElementById("exportinfo").textContent="Copied save to clipboard!",$()}),Q.on("error",()=>{O("Unable to write the save to clipboard.").finally($)})}let P=document.createElement("a");return P.setAttribute("href",`data:text/plain;charset=utf-8,${encodeURIComponent(k)}`),P.setAttribute("download",`Statistics-${xs()}`),P.setAttribute("id","downloadSave"),document.body.appendChild(P),P.click(),document.body.removeChild(P),O("Summary Stats saved to clipboard! We also gave you a file, for easy sharing, if that is available on your browser.")};var Jd=()=>{let t=["null","first","second","third","fourth","fifth","sixth","seventh","eighth"];if(!1){let x=document.createElement("button"),j=document.createElement("button");x.textContent="Click here to warp time! [TESTING ONLY]",x.setAttribute("style","width: auto; height: 30px; border: 6px solid gold;"),x.addEventListener("click",()=>Pd()),j.textContent="Click to force a new day! [TESTING ONLY]",j.setAttribute("style","width: auto; height: 30px; border: 6px solid orange;"),j.addEventListener("click",()=>os());let se=i("actualConsumables");se.appendChild(x),se.appendChild(j)}i("exitOffline").addEventListener("click",()=>Ba()),i("offlineContainer").addEventListener("dblclick",()=>Ba()),i("ascCubeStats").addEventListener("click",()=>Ir(1)),i("ascTessStats").addEventListener("click",()=>Ir(2)),i("ascHyperStats").addEventListener("click",()=>Ir(3)),i("ascPlatonicStats").addEventListener("click",()=>Ir(4)),i("ascHepteractStats").addEventListener("click",()=>Ir(5)),i("ascTimeTakenStats").addEventListener("click",()=>Ir(6)),i("prestigebtn").addEventListener("mouseover",()=>ot("prestige")),i("transcendbtn").addEventListener("mouseover",()=>ot("transcension")),i("reincarnatebtn").addEventListener("mouseover",()=>ot("reincarnation")),i("acceleratorboostbtn").addEventListener("mouseover",()=>ot("acceleratorBoost")),i("challengebtn").addEventListener("mouseover",()=>ot("transcensionChallenge")),i("reincarnatechallengebtn").addEventListener("mouseover",()=>ot("reincarnationChallenge")),i("ascendChallengeBtn").addEventListener("mouseover",()=>ot("ascensionChallenge")),i("ascendbtn").addEventListener("mouseover",()=>ot("ascension")),i("singularitybtn").addEventListener("mouseover",()=>ot("singularity"));for(let x of Array.from(document.getElementsByClassName("resetbtn")))x.addEventListener("mouseover",()=>{x.classList.add("hover")}),x.addEventListener("mouseout",()=>{x.classList.remove("hover"),e.currentChallenge.reincarnation?ot("reincarnationChallenge"):e.currentChallenge.transcension&&ot("transcensionChallenge")});i("prestigebtn").addEventListener("click",()=>Te("prestige")),i("transcendbtn").addEventListener("click",()=>Te("transcension")),i("reincarnatebtn").addEventListener("click",()=>Te("reincarnation")),i("acceleratorboostbtn").addEventListener("click",()=>Nn()),i("challengebtn").addEventListener("click",()=>Te("transcensionChallenge",void 0,!0)),i("reincarnatechallengebtn").addEventListener("click",()=>Te("reincarnationChallenge",void 0,!0)),i("ascendChallengeBtn").addEventListener("click",()=>Te("ascensionChallenge")),i("ascendbtn").addEventListener("click",()=>Te("ascension")),i("singularitybtn").addEventListener("click",()=>Te("singularity"));let r=["Coin","Diamond","Mythos","Particle","Tesseract"];for(let x=0;x<r.length;x++)i(`switchTo${r[x]}Building`).addEventListener("click",()=>$e(0,{page:x}));let n=["coin","crystal","mythos","particle","tesseract","offering"],s=["one","ten","hundred","thousand","10k","100k"],a=[1,10,100,1e3,1e4,1e5];for(let x=0;x<s.length;x++)for(let j=0;j<n.length;j++)i(n[j]+s[x]).addEventListener("click",()=>Yp(a[x],n[j]));i("buyaccelerator").addEventListener("click",()=>da()),i("buymultiplier").addEventListener("click",()=>ga()),i("buyacceleratorboost").addEventListener("click",()=>Nn());let l=["coin","diamond","mythos"],c=["Coin","Diamonds","Mythos"];for(let x=0;x<3;x++)for(let j=1;j<=5;j++)i(`buy${l[x]}${j}`).addEventListener("click",()=>ku(t[j],c[x],x===0?j:j*(j+1)/2));for(let x=1;x<=5;x++)i(`buycrystalupgrade${x}`).addEventListener("mouseover",()=>ho(x)),i(`buycrystalupgrade${x}`).addEventListener("click",()=>Ht(x));for(let x=0;x<5;x++)i(`buyparticles${x+1}`).addEventListener("click",()=>_r(x+1));for(let x=0;x<5;x++)i(`buyTesseracts${x+1}`).addEventListener("click",()=>$n(x+1)),i(`tesseractAutoToggle${x+1}`).addEventListener("click",()=>pd(x+1));for(let x=0;x<10;x++)i(`buyConstantUpgrade${x+1}`).addEventListener("mouseover",()=>ol(x+1)),i(`buyConstantUpgrade${x+1}`).addEventListener("click",()=>ns(x+1));document.querySelectorAll(".auto[toggleid]").forEach(x=>x.addEventListener("click",()=>zp(x))),i("prestigeautotoggle").addEventListener("click",()=>Ns(1)),i("transcendautotoggle").addEventListener("click",()=>Ns(2)),i("reincarnateautotoggle").addEventListener("click",()=>Ns(3)),i("tesseractautobuymode").addEventListener("click",()=>Ns(4)),i("prestigeamount").addEventListener("blur",()=>nr(1)),i("transcendamount").addEventListener("blur",()=>nr(2)),i("reincarnationamount").addEventListener("blur",()=>nr(3)),i("ascensionAmount").addEventListener("blur",()=>nr(4)),i("autoAntSacrificeAmount").addEventListener("blur",()=>nr(5)),i("tesseractautobuytoggle").addEventListener("click",()=>Zp()),i("tesseractAmount").addEventListener("blur",()=>oi()),i("cubeOpensInput").addEventListener("blur",()=>Rr(1)),i("tesseractsOpensInput").addEventListener("blur",()=>Rr(2)),i("hypercubesOpensInput").addEventListener("blur",()=>Rr(3)),i("platonicCubeOpensInput").addEventListener("blur",()=>Rr(4)),i("openCubes").addEventListener("click",()=>$s(1)),i("openTesseracts").addEventListener("click",()=>$s(2)),i("openHypercubes").addEventListener("click",()=>$s(3)),i("openPlatonicCube").addEventListener("click",()=>$s(4));for(let x=1;x<=125;x++)i(`upg${x}`).addEventListener("mouseover",()=>vu(x));for(let x=1;x<=125;x++)i(`upg${x}`).addEventListener("click",()=>Rn(x,!1));for(let x=1;x<=6;x++)i(`upgrades${x}`).addEventListener("click",()=>ts(x,!1));i("coinAutoUpgrade").addEventListener("click",()=>vn("coin")),i("prestigeAutoUpgrade").addEventListener("click",()=>vn("prestige")),i("transcendAutoUpgrade").addEventListener("click",()=>vn("transcend")),i("generatorsAutoUpgrade").addEventListener("click",()=>vn("generators")),i("reincarnateAutoUpgrade").addEventListener("click",()=>vn("reincarnate"));for(let x=1;x<=Oa.length-1;x++)i(`ach${x}`).addEventListener("mouseover",()=>Md(x));i("toggleautosacrifice").addEventListener("click",()=>ic(0));for(let x=0;x<4;x++)i(`toggleRuneSubTab${x+1}`).addEventListener("click",()=>$e(3,{page:x}));for(let x=0;x<7;x++)i(`rune${x+1}`).addEventListener("mouseover",()=>Rt(x+1)),i(`rune${x+1}`).addEventListener("click",()=>ic(x+1)),i(`activaterune${x+1}`).addEventListener("mouseover",()=>Rt(x+1)),i(`activaterune${x+1}`).addEventListener("click",()=>qn(x+1));let g=[10,25,50,100],m=["Ten","TwentyFive","Fifty","Hundred"];for(let x=0;x<g.length;x++)i(`talisman${m[x]}`).addEventListener("click",()=>Ca(g[x]));i("toggleautoBuyFragments").addEventListener("click",()=>rd()),i("toggleautoenhance").addEventListener("click",()=>ad()),i("toggleautofortify").addEventListener("click",()=>nd());let h=["shard","commonFragment","uncommonFragment","rareFragment","epicFragment","legendaryFragment","mythicalFragment"];for(let x=0;x<h.length;x++)i(`buyTalismanItem${x+1}`).addEventListener("mouseover",()=>Go(h[x])),i(`buyTalismanItem${x+1}`).addEventListener("click",()=>xl(h[x]));i("buyTalismanAll").addEventListener("mouseover",()=>Go(null)),i("buyTalismanAll").addEventListener("click",()=>Ho());for(let x=0;x<7;x++)i(`talisman${x+1}`).addEventListener("click",()=>Fo(x)),i(`leveluptalisman${x+1}`).addEventListener("mouseover",()=>Ml(x)),i(`leveluptalisman${x+1}`).addEventListener("click",()=>Qo(x)),i(`enhancetalisman${x+1}`).addEventListener("mouseover",()=>kl(x)),i(`enhancetalisman${x+1}`).addEventListener("click",()=>_o(x)),i(`respectalisman${x+1}`).addEventListener("click",()=>Sl(x));i("respecAllTalismans").addEventListener("click",()=>Sl(7)),i("confirmTalismanRespec").addEventListener("click",()=>Fu(o.talismanRespec)),i("cancelTalismanRespec").addEventListener("click",()=>Qu(o.talismanRespec));for(let x=0;x<5;x++)i(`talismanRespecButton${x+1}`).addEventListener("click",()=>Hu(x+1));for(let x=0;x<5;x++)i(`runeBlessingPurchase${x+1}`).addEventListener("click",()=>fa("Blessings",x+1)),i(`runeSpiritPurchase${x+1}`).addEventListener("click",()=>fa("Spirits",x+1));i("buyRuneBlessingInput").addEventListener("blur",()=>Ea(1)),i("buyRuneSpiritInput").addEventListener("blur",()=>Ea(2)),i("buyAllBlessings").addEventListener("click",()=>ma("Blessings")),i("buyAllSpirits").addEventListener("click",()=>ma("Spirits"));for(let x=0;x<15;x++)i(`challenge${x+1}`).addEventListener("click",()=>lt(x+1)),i(`challenge${x+1}`).addEventListener("dblclick",()=>{lt(x+1),ir(o.triggerChallenge,!1)});i("startChallenge").addEventListener("click",()=>ir(o.triggerChallenge,!1)),i("retryChallenge").addEventListener("click",()=>Hd()),i("toggleAutoChallengeIgnore").addEventListener("click",()=>ud(o.triggerChallenge)),i("toggleAutoChallengeStart").addEventListener("click",()=>Bs()),i("startAutoChallengeTimerInput").addEventListener("input",()=>Cn(1)),i("exitAutoChallengeTimerInput").addEventListener("input",()=>Cn(2)),i("enterAutoChallengeTimerInput").addEventListener("input",()=>Cn(3));for(let x=1;x<200;x++)i(`res${x}`).addEventListener("click",()=>ar(x)),i(`res${x}`).addEventListener("mouseover",()=>gi(x));i("res200").addEventListener("click",()=>ar(200,!1,.01)),i("res200").addEventListener("mouseover",()=>gi(200,!1,.01)),i("toggleresearchbuy").addEventListener("click",()=>Jp()),i("toggleautoresearch").addEventListener("click",()=>ed()),i("toggleautoresearchmode").addEventListener("click",()=>td());let b=["null","1e700","3","100","10000","1e12","1e36","1e100","1e300"];for(let x=1;x<=8;x++)i(`anttier${x}`).addEventListener("mouseover",()=>Yl(x)),i(`anttier${x}`).addEventListener("mouseover",()=>Up(x)),i(`anttier${x}`).addEventListener("click",()=>Zl(t[x],b[x],x));let y=["null","100","100","1000","1000","1e5","1e6","1e8","1e11","1e15","1e20","1e40","1e100"];for(let x=1;x<=12;x++)i(`antUpgrade${x}`).addEventListener("mouseover",()=>ec(x)),i(`antUpgrade${x}`).addEventListener("click",()=>Jl(y[x],!1,x));i("antSacrifice").addEventListener("click",()=>xa()),i("toggleAntMax").addEventListener("click",()=>fi()),i("toggleAutoSacrificeAnt").addEventListener("click",()=>Pa(0)),i("autoSacrificeAntMode").addEventListener("click",()=>Pa(1));for(let x=0;x<7;x++)i(`switchCubeSubTab${x+1}`).addEventListener("click",()=>$e(7,{page:x}));for(let x=1;x<e.cubeUpgrades.length;x++)i(`cubeUpg${x}`).addEventListener("mouseover",()=>gl(x)),i(`cubeUpg${x}`).addEventListener("click",()=>ml(x));i("toggleCubeBuy").addEventListener("click",()=>cd()),i("toggleAutoCubeUpgrades").addEventListener("click",()=>mi()),i("open1Cube").addEventListener("click",()=>e.wowCubes.open(1,!1)),i("open20Cube").addEventListener("click",()=>e.wowCubes.open(Math.floor(Number(e.wowCubes)/10),!1)),i("open1000Cube").addEventListener("click",()=>e.wowCubes.open(Math.floor(Number(e.wowCubes)/2),!1)),i("openCustomCube").addEventListener("click",()=>e.wowCubes.openCustom()),i("openMostCube").addEventListener("click",()=>e.wowCubes.open(0,!0)),i("open1Tesseract").addEventListener("click",()=>e.wowTesseracts.open(1,!1)),i("open20Tesseract").addEventListener("click",()=>e.wowTesseracts.open(Math.floor(Number(e.wowTesseracts)/10),!1)),i("open1000Tesseract").addEventListener("click",()=>e.wowTesseracts.open(Math.floor(Number(e.wowTesseracts)/2),!1)),i("openCustomTesseract").addEventListener("click",()=>e.wowTesseracts.openCustom()),i("openMostTesseract").addEventListener("click",()=>e.wowTesseracts.open(1,!0)),i("open1Hypercube").addEventListener("click",()=>e.wowHypercubes.open(1,!1)),i("open20Hypercube").addEventListener("click",()=>e.wowHypercubes.open(Math.floor(Number(e.wowHypercubes)/10),!1)),i("open1000Hypercube").addEventListener("click",()=>e.wowHypercubes.open(Math.floor(Number(e.wowHypercubes)/2),!1)),i("openCustomHypercube").addEventListener("click",()=>e.wowHypercubes.openCustom()),i("openMostHypercube").addEventListener("click",()=>e.wowHypercubes.open(1,!0)),i("open1PlatonicCube").addEventListener("click",()=>e.wowPlatonicCubes.open(1,!1)),i("open40kPlatonicCube").addEventListener("click",()=>e.wowPlatonicCubes.open(Math.floor(Number(e.wowPlatonicCubes)/10),!1)),i("open1mPlatonicCube").addEventListener("click",()=>e.wowPlatonicCubes.open(Math.floor(Number(e.wowPlatonicCubes)/2),!1)),i("openCustomPlatonicCube").addEventListener("click",()=>e.wowPlatonicCubes.openCustom()),i("openMostPlatonicCube").addEventListener("click",()=>e.wowPlatonicCubes.open(1,!0)),i("saveOffToggle").addEventListener("click",()=>sd());let v=document.getElementsByClassName("platonicUpgradeImage");for(let x=0;x<v.length;x++)v[x].addEventListener("mouseover",()=>_l(x+1)),v[x].addEventListener("click",()=>ql(x+1));i("toggleAutoPlatonicUpgrades").addEventListener("click",()=>hi()),i("chronosHepteract").addEventListener("mouseover",()=>qr("chronos")),i("hyperrealismHepteract").addEventListener("mouseover",()=>qr("hyperrealism")),i("quarkHepteract").addEventListener("mouseover",()=>qr("quark")),i("challengeHepteract").addEventListener("mouseover",()=>qr("challenge")),i("abyssHepteract").addEventListener("mouseover",()=>qr("abyss")),i("acceleratorHepteract").addEventListener("mouseover",()=>qr("accelerator")),i("acceleratorBoostHepteract").addEventListener("mouseover",()=>qr("acceleratorBoost")),i("multiplierHepteract").addEventListener("mouseover",()=>qr("multiplier")),i("chronosHepteractCraft").addEventListener("click",()=>e.hepteractCrafts.chronos.craft()),i("hyperrealismHepteractCraft").addEventListener("click",()=>e.hepteractCrafts.hyperrealism.craft()),i("quarkHepteractCraft").addEventListener("click",()=>e.hepteractCrafts.quark.craft()),i("challengeHepteractCraft").addEventListener("click",()=>e.hepteractCrafts.challenge.craft()),i("abyssHepteractCraft").addEventListener("click",()=>e.hepteractCrafts.abyss.craft()),i("acceleratorHepteractCraft").addEventListener("click",()=>e.hepteractCrafts.accelerator.craft()),i("acceleratorBoostHepteractCraft").addEventListener("click",()=>e.hepteractCrafts.acceleratorBoost.craft()),i("multiplierHepteractCraft").addEventListener("click",()=>e.hepteractCrafts.multiplier.craft()),i("chronosHepteractCraftMax").addEventListener("click",()=>e.hepteractCrafts.chronos.craft(!0)),i("hyperrealismHepteractCraftMax").addEventListener("click",()=>e.hepteractCrafts.hyperrealism.craft(!0)),i("quarkHepteractCraftMax").addEventListener("click",()=>e.hepteractCrafts.quark.craft(!0)),i("challengeHepteractCraftMax").addEventListener("click",()=>e.hepteractCrafts.challenge.craft(!0)),i("abyssHepteractCraftMax").addEventListener("click",()=>e.hepteractCrafts.abyss.craft(!0)),i("acceleratorHepteractCraftMax").addEventListener("click",()=>e.hepteractCrafts.accelerator.craft(!0)),i("acceleratorBoostHepteractCraftMax").addEventListener("click",()=>e.hepteractCrafts.acceleratorBoost.craft(!0)),i("multiplierHepteractCraftMax").addEventListener("click",()=>e.hepteractCrafts.multiplier.craft(!0)),i("chronosHepteractCap").addEventListener("click",()=>e.hepteractCrafts.chronos.expand()),i("hyperrealismHepteractCap").addEventListener("click",()=>e.hepteractCrafts.hyperrealism.expand()),i("quarkHepteractCap").addEventListener("click",()=>e.hepteractCrafts.quark.expand()),i("challengeHepteractCap").addEventListener("click",()=>e.hepteractCrafts.challenge.expand()),i("abyssHepteractCap").addEventListener("click",()=>e.hepteractCrafts.abyss.expand()),i("acceleratorHepteractCap").addEventListener("click",()=>e.hepteractCrafts.accelerator.expand()),i("acceleratorBoostHepteractCap").addEventListener("click",()=>e.hepteractCrafts.acceleratorBoost.expand()),i("multiplierHepteractCap").addEventListener("click",()=>e.hepteractCrafts.multiplier.expand()),i("chronosHepteractAuto").addEventListener("click",()=>e.hepteractCrafts.chronos.toggleAutomatic()),i("hyperrealismHepteractAuto").addEventListener("click",()=>e.hepteractCrafts.hyperrealism.toggleAutomatic()),i("quarkHepteractAuto").addEventListener("click",()=>e.hepteractCrafts.quark.toggleAutomatic()),i("challengeHepteractAuto").addEventListener("click",()=>e.hepteractCrafts.challenge.toggleAutomatic()),i("abyssHepteractAuto").addEventListener("click",()=>e.hepteractCrafts.abyss.toggleAutomatic()),i("acceleratorHepteractAuto").addEventListener("click",()=>e.hepteractCrafts.accelerator.toggleAutomatic()),i("acceleratorBoostHepteractAuto").addEventListener("click",()=>e.hepteractCrafts.acceleratorBoost.toggleAutomatic()),i("multiplierHepteractAuto").addEventListener("click",()=>e.hepteractCrafts.multiplier.toggleAutomatic()),i("hepteractToQuark").addEventListener("mouseover",()=>Eu()),i("hepteractToQuarkTrade").addEventListener("click",()=>hl()),i("hepteractToQuarkTradeMax").addEventListener("click",()=>hl(!0)),i("hepteractToQuarkTradeAuto").addEventListener("click",()=>ko()),i("overfluxPowder").addEventListener("mouseover",()=>Uu()),i("powderDayWarp").addEventListener("click",()=>bl(!1)),i("warpAuto").addEventListener("click",()=>bl(!0)),i("hepteractAutoPercentageButton").addEventListener("click",()=>dd()),i("corrStatsBtn").addEventListener("click",()=>$e(8,{page:0})),i("corrLoadoutsBtn").addEventListener("click",()=>$e(8,{page:1})),i("corruptionDisplays").addEventListener("click",()=>zn(10)),i("corruptionCleanse").addEventListener("click",()=>hd()),i("corruptionCleanseConfirm").addEventListener("click",()=>Yr(10,999)),i("ascensionAutoEnable").addEventListener("click",()=>Aa(0)),i("ascensionAutoToggle").addEventListener("click",()=>Aa(1));let w=Array.from(document.querySelectorAll('[id^="switchSettingSubTab"]'));for(let x of w)x.addEventListener("click",()=>$e(10,{page:w.indexOf(x)}));let k=Array.from(document.querySelectorAll("button.statsNerds"));for(let x of k)x.addEventListener("click",j=>ju(j.target));i("summaryGeneration").addEventListener("click",()=>Zd()),i("exportgame").addEventListener("click",()=>cp()),i("saveStringInput").addEventListener("blur",x=>lp(x.target)),i("savegame").addEventListener("click",()=>rr(!0)),i("deleteGame").addEventListener("click",()=>Gl()),i("preloadDeleteGame").addEventListener("click",()=>up()),i("promocodes").addEventListener("click",()=>pp()),i("addCodeBox").addEventListener("mouseover",()=>ks("add")),i("addCode").addEventListener("click",()=>Kr("add")),i("addCodeAll").addEventListener("click",()=>Kr("add",mn())),i("addCodeOne").addEventListener("click",()=>Kr("add",1)),i("dailyCode").addEventListener("click",()=>Kr("daily")),i("dailyCode").addEventListener("mouseover",()=>ks("daily")),i("timeCode").addEventListener("click",()=>Kr("time")),i("timeCode").addEventListener("mouseover",()=>ks("time")),i("historyTogglePerSecondButton").addEventListener("click",()=>zd()),i("resetHotkeys").addEventListener("click",()=>Ip()),i("notation").addEventListener("click",()=>cu()),i("iconSet").addEventListener("click",()=>po(e.iconSet+1)),i("resetShopUpgrades").addEventListener("click",()=>No()),i("toggleConfirmShop").addEventListener("click",()=>od()),i("toggleBuyMaxShop").addEventListener("click",x=>id(x)),i("toggleHideShop").addEventListener("click",()=>ld()),i("offeringPotions").addEventListener("mouseover",()=>er("offeringPotion")),i("offeringpotionowned").addEventListener("mouseover",()=>er("offeringPotion")),i("buyofferingpotion").addEventListener("mouseover",()=>er("offeringPotion")),i("useofferingpotion").addEventListener("mouseover",()=>er("offeringPotion")),i("buyofferingpotion").addEventListener("click",()=>Io("offeringPotion")),i("useofferingpotion").addEventListener("click",()=>Vr("offeringPotion")),i("toggle42").addEventListener("click",()=>{e.autoPotionTimer=0}),i("obtainiumPotions").addEventListener("mouseover",()=>er("obtainiumPotion")),i("obtainiumpotionowned").addEventListener("mouseover",()=>er("obtainiumPotion")),i("buyobtainiumpotion").addEventListener("mouseover",()=>er("obtainiumPotion")),i("useobtainiumpotion").addEventListener("mouseover",()=>er("obtainiumPotion")),i("buyobtainiumpotion").addEventListener("click",()=>Io("obtainiumPotion")),i("useobtainiumpotion").addEventListener("click",()=>Vr("obtainiumPotion")),i("toggle43").addEventListener("click",()=>{e.autoPotionTimerObtainium=0});let P=Object.keys(e.shopUpgrades);for(let x of P)ue[x].type==="upgrade"&&(i(`${x}`).addEventListener("mouseover",()=>er(x)),i(`${x}Level`).addEventListener("mouseover",()=>er(x)),i(`${x}Button`).addEventListener("mouseover",()=>er(x)),i(`${x}Button`).addEventListener("click",()=>Io(x)));i("buySingularityQuarksButton").addEventListener("click",()=>fu());let A=Object.keys(e.singularityUpgrades);for(let x of A)x!=="offeringAutomatic"&&(i(`${String(x)}`).addEventListener("mouseover",()=>e.singularityUpgrades[`${String(x)}`].updateUpgradeHTML()),i(`${String(x)}`).addEventListener("click",j=>e.singularityUpgrades[`${String(x)}`].buyLevel(j)));i("actualSingularityUpgradeContainer").addEventListener("mouseover",()=>bs(!0)),i("actualSingularityUpgradeContainer").addEventListener("mouseout",()=>bs(!1));let R=i("singularityPerksIcon"),Q=i("singularityPerksText"),$=i("singularityPerksDesc");for(let x of Yi){let j=document.createElement("span");j.innerHTML=`<img src="Pictures/${Re[e.iconSet][0]}/perk${x.ID}.png">${x.name()}`,j.id=x.ID,j.classList.add("oldPerk"),j.style.display="none",i("singularityPerksGrid").append(j),i(x.ID).addEventListener("mouseover",()=>{let se=Ji(x,e.highestSingularityCount),ce=u.t("singularity.perks.levelInfo",{level:se.level,singularity:se.singularity});R.src=`Pictures/${Re[e.iconSet][0]}/perk${x.ID}.png`,Q.innerHTML=ce,$.innerHTML=x.description(e.highestSingularityCount,x.levels)})}let I=Object.keys(e.octeractUpgrades);for(let x of I)i(`${String(x)}`).addEventListener("mouseover",()=>e.octeractUpgrades[`${String(x)}`].updateUpgradeHTML()),i(`${String(x)}`).addEventListener("click",j=>e.octeractUpgrades[`${String(x)}`].buyLevel(j));i("octeractUpgradeContainer").addEventListener("mouseover",()=>bs(!0)),i("octeractUpgradeContainer").addEventListener("mouseout",()=>bs(!1));let S=Object.keys(e.singularityChallenges);for(let x of S)i(`${String(x)}`).addEventListener("mouseover",()=>e.singularityChallenges[`${String(x)}`].updateChallengeHTML()),i(`${String(x)}`).addEventListener("click",()=>e.singularityChallenges[`${String(x)}`].challengeEntryHandler());let L=Object.keys(e.blueberryUpgrades);for(let x of L)i(`${String(x)}`).addEventListener("mouseover",()=>e.blueberryUpgrades[`${String(x)}`].updateUpgradeHTML()),i(`${String(x)}`).addEventListener("click",j=>e.blueberryUpgrades[`${String(x)}`].buyLevel(j));let G=Array.from(document.querySelectorAll('[id^="blueberryLoadout"]')),W=i("blueberryUpgradeContainer");for(let x=0;x<G.length;x++){let j=x+1,se=G[x];se.addEventListener("mouseover",()=>{var ce;wi(j,(ce=e.blueberryLoadouts[j])!=null?ce:{ambrosiaTutorial:0}),W.classList.add(`hoveredBlueberryLoadout${j}`)}),se.addEventListener("mouseout",()=>{W.classList.remove(`hoveredBlueberryLoadout${j}`)}),se.addEventListener("click",()=>{var ce;return Vd(j,(ce=e.blueberryLoadouts[j])!=null?ce:{ambrosiaTutorial:0})})}i("blueberryToggleMode").addEventListener("click",()=>gd()),i("getBlueberries").addEventListener("click",()=>_d()),i("refundBlueberries").addEventListener("click",()=>Cc()),i("importBlueberries").addEventListener("change",async x=>Hl(x,jd));for(let x=0;x<5;x++)i(`toggleSingularitySubTab${x+1}`).addEventListener("click",()=>$e(9,{page:x}));i("unsmith").addEventListener("click",()=>qu()),i("importfile").addEventListener("change",async x=>Hl(x,Ms));for(let x=1;x<=5;x++)i(`switchTheme${x}`).addEventListener("click",()=>uo(!1,x,!0));i("saveType").addEventListener("click",async x=>{let j=x.target;if(!j.checked){localStorage.removeItem("copyToClipboard"),x.stopPropagation();return}x.preventDefault(),await Se(u.t("save.saveToClipboard"))?(j.checked=!j.checked,localStorage.setItem("copyToClipboard","")):localStorage.removeItem("copyToClipboard")}),window.addEventListener("error",pu,{capture:!0})};var eg=()=>{let t=1,r=new f(0),n=new f(0);o.produceFirst=e.firstGeneratedCoin.add(e.firstOwnedCoin).times(o.globalCoinMultiplier).times(o.coinOneMulti).times(e.firstProduceCoin),o.produceSecond=e.secondGeneratedCoin.add(e.secondOwnedCoin).times(o.globalCoinMultiplier).times(o.coinTwoMulti).times(e.secondProduceCoin),o.produceThird=e.thirdGeneratedCoin.add(e.thirdOwnedCoin).times(o.globalCoinMultiplier).times(o.coinThreeMulti).times(e.thirdProduceCoin),o.produceFourth=e.fourthGeneratedCoin.add(e.fourthOwnedCoin).times(o.globalCoinMultiplier).times(o.coinFourMulti).times(e.fourthProduceCoin),o.produceFifth=e.fifthGeneratedCoin.add(e.fifthOwnedCoin).times(o.globalCoinMultiplier).times(o.coinFiveMulti).times(e.fifthProduceCoin),o.produceTotal=o.produceFirst.add(o.produceSecond).add(o.produceThird).add(o.produceFourth).add(o.produceFifth),o.produceFirst.lte(1e-4)&&(o.produceFirst=new f(0)),o.produceSecond.lte(1e-4)&&(o.produceSecond=new f(0)),o.produceThird.lte(1e-4)&&(o.produceThird=new f(0)),o.produceFourth.lte(1e-4)&&(o.produceFourth=new f(0)),o.produceFifth.lte(1e-4)&&(o.produceFifth=new f(0)),o.producePerSecond=o.produceTotal.times(40),e.currentChallenge.reincarnation===6&&(t=3*Math.pow(1+e.challengecompletions[6]/25,2)),e.currentChallenge.reincarnation===9&&(t=.005),e.currentChallenge.ascension===15&&(t=5e-6);let s=Math.max(0,fe(e.challengecompletions)-e.challengecompletions[11]-e.challengecompletions[12]-e.challengecompletions[13]-e.challengecompletions[14]-e.challengecompletions[15]-3*e.cubeUpgrades[49]-(e.singularityCount>=15?4:0)-(e.singularityCount>=20?1:0));e.currentChallenge.ascension===13&&(t*=700*(1+1/6*e.challengecompletions[13]),t*=Math.pow(1.05,s)),e.challengecompletions[6]>0&&(t/=1.075);let a=1;a*=t,a*=1-1/20*e.researches[51]-1/40*e.researches[52]-1/80*e.researches[53]-1/160*e.researches[54]-1/320*e.researches[55],a*=1-.05/1800*(e.achievements[45]+e.achievements[46]+2*e.achievements[47])*Math.min(e.prestigecounter,1800),a*=Math.pow(.965,K("reincarnation",e.challengecompletions[6])),a*=.001+.999*Math.pow(6,-(o.rune2level*o.effectiveLevelMult)/1e3),a*=.01+.99*Math.pow(4,Math.min(0,(400-o.rune4level)/1100)),a*=1-.04*e.achievements[82]-.04*e.achievements[89]-.04*e.achievements[96]-.04*e.achievements[103]-.04*e.achievements[110]-.0566*e.achievements[117]-.0566*e.achievements[124]-.0566*e.achievements[131],a*=Math.pow(.9925,e.achievements[118]*(e.challengecompletions[6]+e.challengecompletions[7]+e.challengecompletions[8]+e.challengecompletions[9]+e.challengecompletions[10])),a*=.005+.995*Math.pow(.99,e.antUpgrades[2]+o.bonusant3),a*=1/Math.pow(1+f.log(e.ascendShards.add(1),10),1+.2/60*e.challengecompletions[10]*e.upgrades[125]+.1*e.platonicUpgrades[5]+.2*e.platonicUpgrades[10]+(o.platonicBonusMultiplier[5]-1)),a*=1-.1*(e.talismanRarity[1-1]-1),a*=Math.pow(.98,3/5*Math.log(1+e.rareFragments)/Math.log(10)*e.researches[159]),a*=Math.pow(.966,K("ascension",e.challengecompletions[13])),a*=1-.666*e.researches[200]/1e5,a*=1-.666*e.cubeUpgrades[50]/1e5,a*=o.challenge15Rewards.taxes,e.upgrades[121]>0&&(a*=.5),a<1e-300&&(a=1e-300),o.maxexponent=Math.floor(275/(f.log(1.01,10)*a))-1;let l=Math.min(o.maxexponent,Math.floor(f.log(o.produceTotal.add(1),10)));e.currentChallenge.ascension===13&&o.maxexponent<=99999&&e.achievements[249]<1&&s>=1&&F(249),l>=1&&(r=f.pow(l,2).div(550)),n=f.pow(o.maxexponent,2).div(550),o.taxdivisor=f.pow(1.01,f.mul(r,a)),o.taxdivisorcheck=f.pow(1.01,f.mul(n,a))};var Qs=Mr(Bo());var re=class extends an{constructor(n,s){var c,d,g;let a=u.t(`octeract.data.${s}.name`),l=u.t(`octeract.data.${s}.description`);super(en(ze({},n),{name:a,description:l}));this.octeractsInvested=0;this.costFormula=n.costFormula,this.octeractsInvested=(c=n.octeractsInvested)!=null?c:0,this.qualityOfLife=(d=n.qualityOfLife)!=null?d:!1,this.cacheUpdates=(g=n.cacheUpdates)!=null?g:void 0}getCostTNL(){return this.level===this.maxLevel?0:this.costFormula(this.level,this.costPerLevel)}async buyLevel(n){let s=0,a=1,l=e.wowOcteracts;if(n.shiftKey){a=1e6;let c=Number(await Ue(`${u.t("octeract.buyLevel.buyPrompt",{n:p(e.wowOcteracts,0,!0)})}`));if(isNaN(c)||!isFinite(c)||!Number.isInteger(c))return O(u.t("general.validation.finite"));if(c===-1)l=e.wowOcteracts;else{if(c<=0)return O(u.t("octeract.buyLevel.cancelPurchase"));l=c}l=Math.min(e.wowOcteracts,l)}if(this.maxLevel>0&&(a=Math.min(a,this.maxLevel-this.level)),a===0)return O(u.t("octeract.buyLevel.alreadyMax"));for(;a>0;){let c=this.getCostTNL();if(e.wowOcteracts<c||l<c)break;e.wowOcteracts-=c,l-=c,this.octeractsInvested+=c,this.level+=1,s+=1,a-=1}if(s===0)return O(u.t("octeract.buyLevel.cannotAfford"));if(s>1)return O(`${u.t("octeract.buyLevel.multiBuy",{n:p(s)})}`);this.name===e.octeractUpgrades.octeractAmbrosiaLuck.name&&e.caches.ambrosiaLuck.updateVal("OcteractBerries"),this.updateCaches(),this.updateUpgradeHTML()}toString(){let n=this.getCostTNL(),s=this.maxLevel===-1?"":`/${p(this.maxLevel,0,!0)}`,a=this.maxLevel===this.level,l=a?"plum":"white",c=this.freeLevels>0?`<span style="color: orange"> [+${p(this.freeLevels,1,!0)}]</span>`:"";this.freeLevels>this.level&&(c=`${c}<span style="color: var(--maroon-text-color)">${u.t("general.softCapped")}</span>`);let d=n<=e.wowOcteracts,g="";if(!a&&!d){let h=Ur();g=h>0?tr((n-e.wowOcteracts)/h):`${u.t("general.infinity")}`}let m=a?`<span style="color: plum"> ${u.t("general.maxed")}</span>`:d?`<span style="color: var(--green-text-color)"> ${u.t("general.affordable")}</span>`:`<span style="color: yellow"> ${u.t("octeract.toString.becomeAffordable",{n:g})}</span>`;return`<span style="color: gold">${this.name}</span>
                <span style="color: lightblue">${this.description}</span>
                <span style="color: ${l}"> ${u.t("general.level")} ${p(this.level,0,!0)}${s}${c}</span>
                <span style="color: gold">${this.getEffect().desc}</span>
                ${u.t("octeract.toString.costNextLevel")} ${p(n,2,!0,!0,!0)} Octeracts${m}
                ${u.t("general.spent")} Octeracts: ${p(this.octeractsInvested,2,!0,!0,!0)}`}updateUpgradeHTML(){i("singularityOcteractsMultiline").innerHTML=this.toString(),i("octeractAmount").innerHTML=u.t("octeract.amount",{octeracts:p(e.wowOcteracts,2,!0,!0,!0)})}computeFreeLevelSoftcap(){return Math.min(this.level,this.freeLevels)+Math.sqrt(Math.max(0,this.freeLevels-this.level))}actualTotalLevels(){if(e.singularityChallenges.noOcteracts.enabled&&!this.qualityOfLife)return 0;let n=this.computeFreeLevelSoftcap();return this.level+n}getEffect(){return this.effect(this.actualTotalLevels())}refund(){e.wowOcteracts+=this.octeractsInvested,this.level=0,this.octeractsInvested=0}updateCaches(){if(this.cacheUpdates!==void 0)for(let n of this.cacheUpdates)n()}},J={octeractStarter:{costFormula:(t,r)=>r*(t+1),maxLevel:1,costPerLevel:1e-15,effect:t=>({bonus:t>0,get desc(){return u.t("octeract.data.octeractStarter.effect",{n:t>0?"":"not"})}})},octeractGain:{costFormula:(t,r)=>r*(Math.pow(t+1,6)-Math.pow(t,6)),maxLevel:1e8,costPerLevel:1e-8,effect:t=>({bonus:1+.011*t,get desc(){return u.t("octeract.data.octeractGain.effect",{n:p(t,0,!0)})}})},octeractGain2:{costFormula:(t,r)=>r*Math.pow(10,Math.pow(t,.5)/3),maxLevel:-1,costPerLevel:1e10,effect:t=>({bonus:1+.01*t,get desc(){return u.t("octeract.data.octeractGain2.effect",{n:p(t,0,!0)})}})},octeractQuarkGain:{costFormula:(t,r)=>{if(t<1e3)return r*(Math.pow(t+1,7)-Math.pow(t,7));{let n=t>=1e4?Math.pow(10,(t-1e4)/250):1,s=t>=15e3?Math.pow(10,(t-15e3)/250):1;return r*(Math.pow(1001,7)-Math.pow(1e3,7))*Math.pow(10,t/1e3)*n*s}},maxLevel:2e4,costPerLevel:1e-7,effect:t=>({bonus:1+.011*t,get desc(){return u.t("octeract.data.octeractQuarkGain.effect",{n:p(1.1*t,0,!0)})}})},octeractQuarkGain2:{costFormula:(t,r)=>r*Math.pow(1e20,t),maxLevel:5,costPerLevel:1e22,effect:t=>({bonus:t>0,get desc(){return u.t("octeract.data.octeractQuarkGain2.effect",{n:t>0?"":"NOT"})}})},octeractCorruption:{costFormula:(t,r)=>r*Math.pow(10,t*10),maxLevel:2,costPerLevel:10,effect:t=>({bonus:t,get desc(){return u.t("octeract.data.octeractCorruption.effect",{n:t})}})},octeractGQCostReduce:{costFormula:(t,r)=>r*Math.pow(2,t),maxLevel:50,costPerLevel:1e-9,effect:t=>({bonus:1-t/100,get desc(){return u.t("octeract.data.octeractGQCostReduce.effect",{n:t})}})},octeractExportQuarks:{costFormula:(t,r)=>r*Math.pow(t+1,3),maxLevel:100,costPerLevel:1,effect:t=>({bonus:4*t/10+1,get desc(){return u.t("octeract.data.octeractExportQuarks.effect",{n:p(40*t,0,!0)})}})},octeractImprovedDaily:{costFormula:(t,r)=>r*Math.pow(1.6,t),maxLevel:50,costPerLevel:.001,effect:t=>({bonus:t,get desc(){return u.t("octeract.data.octeractImprovedDaily.effect",{n:t})}}),qualityOfLife:!0},octeractImprovedDaily2:{costFormula:(t,r)=>r*Math.pow(2,t),maxLevel:50,costPerLevel:.01,effect:t=>({bonus:1+.01*t,get desc(){return u.t("octeract.data.octeractImprovedDaily2.effect",{n:t})}}),qualityOfLife:!0},octeractImprovedDaily3:{costFormula:(t,r)=>r*Math.pow(20,t),maxLevel:-1,costPerLevel:1e20,effect:t=>({bonus:t,get desc(){return u.t("octeract.data.octeractImprovedDaily3.effect",{n:`${t} +${.5*t}%`})}}),qualityOfLife:!0},octeractImprovedQuarkHept:{costFormula:(t,r)=>r*Math.pow(1e6,t),maxLevel:3,costPerLevel:1/10,effect:t=>({bonus:t/100,get desc(){return u.t("octeract.data.octeractImprovedQuarkHept.effect",{n:p(t/100,2,!0)})}})},octeractImprovedGlobalSpeed:{costFormula:(t,r)=>r*Math.pow(t+1,3),maxLevel:1e3,costPerLevel:1e-5,effect:t=>({bonus:t/100,get desc(){return u.t("octeract.data.octeractImprovedGlobalSpeed.effect",{n:p(t,0,!0)})}})},octeractImprovedAscensionSpeed:{costFormula:(t,r)=>r*Math.pow(1e9,t/100),maxLevel:100,costPerLevel:100,effect:t=>({bonus:t/2e3,get desc(){return u.t("octeract.data.octeractImprovedAscensionSpeed.effect",{n:p(t/20,2,!0)})}})},octeractImprovedAscensionSpeed2:{costFormula:(t,r)=>r*Math.pow(1e12,t/250),maxLevel:250,costPerLevel:1e5,effect:t=>({bonus:t/2e3,get desc(){return u.t("octeract.data.octeractImprovedAscensionSpeed2.effect",{n:p(t/50,2,!0)})}})},octeractImprovedFree:{costFormula:(t,r)=>r*Math.pow(t+1,3),maxLevel:1,costPerLevel:100,effect:t=>({bonus:t>0,get desc(){return u.t("octeract.data.octeractImprovedFree.effect",{n:t>0?"":"NOT"})}})},octeractImprovedFree2:{costFormula:(t,r)=>r*Math.pow(t+1,3),maxLevel:1,costPerLevel:1e7,effect:t=>({bonus:.05*t,get desc(){return u.t("octeract.data.octeractImprovedFree2.effect",{n:p(t/20,2,!0)})}})},octeractImprovedFree3:{costFormula:(t,r)=>r*Math.pow(t+1,3),maxLevel:1,costPerLevel:1e17,effect:t=>({bonus:.05*t,get desc(){return u.t("octeract.data.octeractImprovedFree3.effect",{n:p(t/20,2,!0)})}})},octeractImprovedFree4:{costFormula:(t,r)=>r*Math.pow(1e20,t/40),maxLevel:40,costPerLevel:1e20,effect:t=>({bonus:.001*t+(t>0?.01:0),get desc(){return u.t("octeract.data.octeractImprovedFree4.effect",{n:p(.001*t+(t>0?.01:0),3,!0)})}})},octeractSingUpgradeCap:{costFormula:(t,r)=>r*Math.pow(1e3,t),maxLevel:10,costPerLevel:1e10,effect:t=>({bonus:t,get desc(){return u.t("octeract.data.octeractSingUpgradeCap.effect",{n:t})}}),qualityOfLife:!0},octeractOfferings1:{costFormula:(t,r)=>t<25?r*Math.pow(t+1,5):r*1e15*Math.pow(10,t/25-1),maxLevel:-1,costPerLevel:1e-15,effect:t=>({bonus:1+.01*t,get desc(){return u.t("octeract.data.octeractOfferings1.effect",{n:p(t)})}})},octeractObtainium1:{costFormula:(t,r)=>t<25?r*Math.pow(t+1,5):r*1e15*Math.pow(10,t/25-1),maxLevel:-1,costPerLevel:1e-15,effect:t=>({bonus:1+.01*t,get desc(){return u.t("octeract.data.octeractObtainium1.effect",{n:p(t)})}})},octeractAscensions:{costFormula:(t,r)=>r*Math.pow(t+1,3),maxLevel:1e6,costPerLevel:1,effect:t=>({bonus:(1+t/100)*(1+2*Math.floor(t/10)/100),get desc(){return u.t("octeract.data.octeractAscensions.effect",{n:p((100+t)*(1+2*Math.floor(t/10)/100)-100,1,!0)})}})},octeractAscensions2:{costFormula:(t,r)=>r*Math.pow(10,Math.pow(t,.5)/3),maxLevel:-1,costPerLevel:1e12,effect:t=>({bonus:(1+t/100)*(1+2*Math.floor(t/10)/100),get desc(){return u.t("octeract.data.octeractAscensions2.effect",{n:p((100+t)*(1+2*Math.floor(t/10)/100)-100,1,!0)})}})},octeractAscensionsOcteractGain:{costFormula:(t,r)=>r*Math.pow(40,t),maxLevel:-1,costPerLevel:1e3,effect:t=>({bonus:t/100,get desc(){return u.t("octeract.data.octeractAscensionsOcteractGain.effect",{n:p(t,1,!0)})}})},octeractFastForward:{costFormula:(t,r)=>r*Math.pow(1e8,t),maxLevel:2,costPerLevel:1e8,effect:t=>({bonus:t,get desc(){return u.t("octeract.data.octeractFastForward.effect",{n100:100*t,n:t})}})},octeractAutoPotionSpeed:{costFormula:(t,r)=>r*Math.pow(10,t),maxLevel:-1,costPerLevel:1e-10,effect:t=>({bonus:1+4*t/100,get desc(){return u.t("octeract.data.octeractAutoPotionSpeed.effect",{n:4*t})}})},octeractAutoPotionEfficiency:{costFormula:(t,r)=>r*Math.pow(10,t),maxLevel:100,costPerLevel:1e-10*Math.pow(10,.5),effect:t=>({bonus:1+2*t/100,get desc(){return u.t("octeract.data.octeractAutoPotionEfficiency.effect",{n:2*t})}})},octeractOneMindImprover:{costFormula:(t,r)=>{let n=t>=10?Math.pow(1e3,t-10):1;return r*Math.pow(1e5,t)*n},maxLevel:16,costPerLevel:1e25,effect:t=>({bonus:.55+t/150,get desc(){return u.t("octeract.data.octeractOneMindImprover.effect",{n:p(.55+t/150,3,!0)})}}),qualityOfLife:!0},octeractAmbrosiaLuck:{costFormula:(t,r)=>{let n=t+1;return r*(Math.pow(10,n)-Math.pow(10,n-1))},maxLevel:-1,costPerLevel:1e60/9,effect:t=>({bonus:4*t,get desc(){return u.t("octeract.data.octeractAmbrosiaLuck.effect",{n:p(4*t)})}}),qualityOfLife:!0,cacheUpdates:[()=>e.caches.ambrosiaLuck.updateVal("OcteractBerries")]},octeractAmbrosiaLuck2:{costFormula:(t,r)=>r*(Math.pow(t+1,6)-Math.pow(t,6)),maxLevel:30,costPerLevel:1,effect:t=>({bonus:2*t,get desc(){return u.t("octeract.data.octeractAmbrosiaLuck2.effect",{n:p(2*t)})}}),qualityOfLife:!0,cacheUpdates:[()=>e.caches.ambrosiaLuck.updateVal("OcteractBerries")]},octeractAmbrosiaLuck3:{costFormula:(t,r)=>r*(Math.pow(t+1,8)-Math.pow(t,8)),maxLevel:30,costPerLevel:1e30,effect:t=>({bonus:3*t,get desc(){return u.t("octeract.data.octeractAmbrosiaLuck3.effect",{n:p(3*t)})}}),qualityOfLife:!0,cacheUpdates:[()=>e.caches.ambrosiaLuck.updateVal("OcteractBerries")]},octeractAmbrosiaLuck4:{costFormula:(t,r)=>{let n=t+1;return r*(Math.pow(3,n)-Math.pow(3,n-1))},maxLevel:50,costPerLevel:1e70/2,effect:t=>({bonus:5*t,get desc(){return u.t("octeract.data.octeractAmbrosiaLuck4.effect",{n:p(5*t)})}}),qualityOfLife:!0,cacheUpdates:[()=>e.caches.ambrosiaLuck.updateVal("OcteractBerries")]},octeractAmbrosiaGeneration:{costFormula:(t,r)=>{let n=t+1;return r*(Math.pow(10,n)-Math.pow(10,n-1))},maxLevel:-1,costPerLevel:1e60/9,effect:t=>({bonus:1+t/100,get desc(){return u.t("octeract.data.octeractAmbrosiaGeneration.effect",{n:p(t)})}}),qualityOfLife:!0,cacheUpdates:[()=>e.caches.ambrosiaGeneration.updateVal("OcteractBerries")]},octeractAmbrosiaGeneration2:{costFormula:(t,r)=>r*(Math.pow(t+1,6)-Math.pow(t,6)),maxLevel:20,costPerLevel:1,effect:t=>({bonus:1+t/100,get desc(){return u.t("octeract.data.octeractAmbrosiaGeneration2.effect",{n:p(t)})}}),qualityOfLife:!0,cacheUpdates:[()=>e.caches.ambrosiaGeneration.updateVal("OcteractBerries")]},octeractAmbrosiaGeneration3:{costFormula:(t,r)=>r*(Math.pow(t+1,8)-Math.pow(t,8)),maxLevel:35,costPerLevel:1e30,effect:t=>({bonus:1+t/100,get desc(){return u.t("octeract.data.octeractAmbrosiaGeneration3.effect",{n:p(t)})}}),qualityOfLife:!0,cacheUpdates:[()=>e.caches.ambrosiaGeneration.updateVal("OcteractBerries")]},octeractAmbrosiaGeneration4:{costFormula:(t,r)=>{let n=t+1;return r*(Math.pow(3,n)-Math.pow(3,n-1))},maxLevel:50,costPerLevel:1e70/2,effect:t=>({bonus:1+2*t/100,get desc(){return u.t("octeract.data.octeractAmbrosiaGeneration4.effect",{n:p(2*t)})}}),qualityOfLife:!0,cacheUpdates:[()=>e.caches.ambrosiaGeneration.updateVal("OcteractBerries")]}};var At=class{constructor(r,n){var c,d,g,m;let s=u.t(`singularityChallenge.data.${n}.name`),a=u.t(`singularityChallenge.data.${n}.description`),l=u.t(`singularityChallenge.data.${n}.rewardDescription`);this.name=s,this.description=a,this.rewardDescription=l,this.baseReq=r.baseReq,this.completions=(c=r.completions)!=null?c:0,this.maxCompletions=r.maxCompletions,this.unlockSingularity=r.unlockSingularity,this.HTMLTag=r.HTMLTag,this.highestSingularityCompleted=(d=r.highestSingularityCompleted)!=null?d:0,this.enabled=(g=r.enabled)!=null?g:!1,this.singularityRequirement=r.singularityRequirement,this.effect=r.effect,this.updateIconHTML(),this.updateChallengeCompletions(),this.cacheUpdates=(m=r.cacheUpdates)!=null?m:void 0}computeSingularityRquirement(){return this.singularityRequirement(this.baseReq,this.completions)}updateChallengeCompletions(){let r=0;for(;this.singularityRequirement(this.baseReq,r)<=this.highestSingularityCompleted;)r+=1;this.completions=Math.min(this.maxCompletions,r)}challengeEntryHandler(){return this.enabled?this.exitChallenge(e.runelevels[6]>0):this.enableChallenge()}async enableChallenge(){if(e.highestSingularityCount<this.unlockSingularity)return O(u.t("singularityChallenge.enterChallenge.lowSingularity"));if(!await Se(u.t("singularityChallenge.enterChallenge.confirmation",{name:this.name})))return O(u.t("singularityChallenge.enterChallenge.decline"));if(e.insideSingularityChallenge)return O(u.t("singularityChallenge.exitChallenge.acceptFailure"));{let n=this.computeSingularityRquirement(),s=e.singularityCounter,a=e.quarkstimer,l=e.goldenQuarksTimer,c=qt(),d=e.goldenQuarks;return this.enabled=!0,o.currentSingChallenge=this.HTMLTag,e.insideSingularityChallenge=!0,await ka(n),e.singularityCounter=s,e.goldenQuarks=d+c,e.quarkstimer=a,e.goldenQuarksTimer=l,this.updateChallengeHTML(),O(u.t("singularityChallenge.enterChallenge.acceptSuccess",{name:this.name,tier:this.completions+1,singReq:this.computeSingularityRquirement()}))}}async exitChallenge(r){if(!r){let c=e.runelevels[6]===0?u.t("singularityChallenge.exitChallenge.incompleteWarning"):"";if(!await Se(u.t("singularityChallenge.exitChallenge.confirmation",{name:this.name,tier:this.completions+1,warning:c})))return O(u.t("singularityChallenge.exitChallenge.decline"))}this.enabled=!1,o.currentSingChallenge=void 0,e.insideSingularityChallenge=!1;let n=e.highestSingularityCount,s=e.singularityCounter,a=e.quarkstimer,l=e.goldenQuarksTimer;return this.updateIconHTML(),r?(this.highestSingularityCompleted=e.singularityCount,this.updateChallengeCompletions(),await ka(n),e.singularityCounter=s,this.updateCaches(),O(u.t("singularityChallenge.exitChallenge.acceptSuccess",{tier:Ya(this.completions),name:this.name}))):(await ka(n),e.singularityCounter=s,e.quarkstimer=a,e.goldenQuarksTimer=l,O(u.t("singularityChallenge.exitChallenge.acceptFailure")))}updateCaches(){if(this.cacheUpdates!==void 0)for(let r of this.cacheUpdates)r()}toString(){let r=this.completions===this.maxCompletions?"var(--orchid-text-color)":"white",n=this.enabled?`<span style="color: var(--red-text-color)">${u.t("general.enabled")}</span>`:"";return`<span style="color: gold">${this.name}</span> ${n}
                <span style="color: lightblue">${this.description}</span>
                <span style="color: pink">${u.t("singularityChallenge.toString.canEnter",{unlockSing:this.unlockSingularity,highestSing:e.highestSingularityCount})}</span>
                ${u.t("singularityChallenge.toString.tiersCompleted")}: <span style="color: ${r}">${this.completions}/${this.maxCompletions}</span>
                <span style="color: gold">${u.t("singularityChallenge.toString.currentTierSingularity")} <span style="color: var(--orchid-text-color)">${this.singularityRequirement(this.baseReq,this.completions)}</span></span>
                <span>${this.rewardDescription}</span>`}updateChallengeHTML(){i("singularityChallengesMultiline").innerHTML=this.toString()}updateIconHTML(){let r=this.enabled?"orchid":"";i(`${String(this.HTMLTag)}`).style.backgroundColor=r}get rewards(){return this.effect(this.completions)}},tt={noSingularityUpgrades:{baseReq:1,maxCompletions:30,unlockSingularity:25,HTMLTag:"noSingularityUpgrades",singularityRequirement:(t,r)=>t+8*r,effect:t=>({cubes:1+.5*t,goldenQuarks:1+.12*+(t>0),blueberries:+(t>0),shopUpgrade:t>=20,luckBonus:t>=30?.04:0,shopUpgrade2:t>=30}),cacheUpdates:[()=>e.caches.blueberryInventory.updateVal("Exalt1"),()=>e.caches.ambrosiaLuckAdditiveMult.updateVal("Exalt1")]},oneChallengeCap:{baseReq:10,maxCompletions:25,unlockSingularity:40,HTMLTag:"oneChallengeCap",singularityRequirement:(t,r)=>t+11*r,effect:t=>({corrScoreIncrease:.03*t,blueberrySpeedMult:1+t/100,capIncrease:3*+(t>0),freeCorruptionLevel:t>=20,shopUpgrade:t>=20})},noOcteracts:{baseReq:75,maxCompletions:10,unlockSingularity:100,HTMLTag:"noOcteracts",singularityRequirement:(t,r)=>t+13*r,effect:t=>({octeractPow:.02*t,offeringBonus:t>0,obtainiumBonus:t>=10,shopUpgrade:t>=10})},limitedAscensions:{baseReq:10,maxCompletions:25,unlockSingularity:50,HTMLTag:"limitedAscensions",singularityRequirement:(t,r)=>t+10*r,effect:t=>({ultimateProgressBarUnlock:t>0,ascensionSpeedMult:.1*t/100,hepteractCap:t>0,exaltBonus:t>=20,shopUpgrade:t>=25})},noAmbrosiaUpgrades:{baseReq:150,maxCompletions:20,unlockSingularity:166,HTMLTag:"noAmbrosiaUpgrades",singularityRequirement:(t,r)=>t+6*r,effect:t=>({bonusAmbrosia:+(t>0),blueberries:Math.floor(t/10)+ +(t>0),luckBonus:t/200,additiveLuck:15*t,blueberrySpeedMult:1+t/50,shopUpgrade:t>=15,shopUpgrade2:t>=20})}};var Fs=class{constructor(){this.totalVal=0}initialize(){this.totalVal=0;for(let r of Object.keys(this.vals))this.updateVal(r,!0)}updateTotal(r,n,s=!1){s?this.totalVal+=n:this.totalVal+=n-r}flatten(){let r=Object.values(this.vals);return r.push(this.totalVal),r}},kc=class{constructor(){this.totalVal=1}initialize(){this.totalVal=1;for(let r of Object.keys(this.vals))this.updateVal(r,!0)}updateTotal(r,n,s=!1){if(s)this.totalVal*=n;else if(this.totalVal!==0&&n!==0)this.totalVal*=n/r;else if(n===0)this.totalVal=0;else{let a=this.flatten();a.pop(),this.totalVal=Ce(a)}}flatten(){let r=Object.values(this.vals);return r.push(this.totalVal),r}},Ra=class extends Fs{constructor(){super();this.vals={Base:1,Exalt1:0,SingularityPerk:0,ShopUpgrades:0,Exalt5:0,Event:0},this.totalVal=1}updateVal(n,s=!1){let a=this.vals[n];switch(n){case"Base":{this.vals[n]=1;break}case"Exalt1":{this.vals[n]=+e.singularityChallenges.noSingularityUpgrades.rewards.luckBonus;break}case"SingularityPerk":{this.vals[n]=Gd();break}case"ShopUpgrades":{this.vals[n]=e.shopUpgrades.shopAmbrosiaLuckMultiplier4/100;break}case"Exalt5":{this.vals[n]=+e.singularityChallenges.noAmbrosiaUpgrades.rewards.luckBonus;break}case"Event":{this.vals[n]=o.isEvent?ht(12):0;break}}let l=this.vals[n];this.updateTotal(a,l,s),e.caches.ambrosiaLuck.updateVal("Base")}},Ia=class extends Fs{constructor(){super();this.vals={Base:100,SingPerks:0,ShopUpgrades:0,SingularityBerries:0,OcteractBerries:0,BlueberryUpgrade1:0,BlueberryUpgrade2:0,BlueberryCubeLuck1:0,BlueberryQuarkLuck1:0,OneHundredThirtyOne:0,TwoHundredSixtyNine:0,ShopOcteractAmbrosiaLuck:0,Exalt5:0},this.totalVal=0,this.usedTotal=0}updateVal(n,s=!1){let a=this.vals[n];switch(n){case"Base":{this.vals[n]=100;break}case"SingPerks":{this.vals[n]=Ed();break}case"ShopUpgrades":{this.vals[n]=Od();break}case"SingularityBerries":{this.vals[n]=Rd();break}case"OcteractBerries":{this.vals[n]=Nd();break}case"BlueberryUpgrade1":{this.vals[n]=+e.blueberryUpgrades.ambrosiaLuck1.bonus.ambrosiaLuck;break}case"BlueberryUpgrade2":{this.vals[n]=+e.blueberryUpgrades.ambrosiaLuck2.bonus.ambrosiaLuck;break}case"BlueberryCubeLuck1":{this.vals[n]=+e.blueberryUpgrades.ambrosiaCubeLuck1.bonus.ambrosiaLuck;break}case"BlueberryQuarkLuck1":{this.vals[n]=+e.blueberryUpgrades.ambrosiaQuarkLuck1.bonus.ambrosiaLuck;break}case"OneHundredThirtyOne":{this.vals[n]=e.highestSingularityCount>=131?131:0;break}case"TwoHundredSixtyNine":{this.vals[n]=e.highestSingularityCount>=269?269:0;break}case"ShopOcteractAmbrosiaLuck":{this.vals[n]=e.shopUpgrades.shopOcteractAmbrosiaLuck*(1+Math.floor(Math.log10(e.totalWowOcteracts+1)));break}case"Exalt5":{this.vals[n]=+e.singularityChallenges.noAmbrosiaUpgrades.rewards.additiveLuck;break}}let l=this.vals[n];this.updateTotal(a,l,s),this.usedTotal=Math.floor(this.totalVal*e.caches.ambrosiaLuckAdditiveMult.totalVal)}},Na=class extends kc{constructor(){super();this.vals={DefaultVal:1,Blueberries:1,ShopUpgrades:1,SingularityBerries:1,OcteractBerries:1,BlueberryPatreon:1,Exalt2:1,Exalt5:1,CashGrabUltra:1,Event:1},this.totalVal=0}updateVal(n,s=!1){let a=this.vals[n];switch(n){case"DefaultVal":{this.vals[n]=1*+e.visitedAmbrosiaSubtab;break}case"Blueberries":{this.vals[n]=e.caches.blueberryInventory.totalVal;break}case"ShopUpgrades":{this.vals[n]=Ud();break}case"SingularityBerries":{this.vals[n]=Bd();break}case"OcteractBerries":{this.vals[n]=Id();break}case"BlueberryPatreon":{this.vals[n]=+e.blueberryUpgrades.ambrosiaPatreon.bonus.blueberryGeneration;break}case"Exalt2":{this.vals[n]=+e.singularityChallenges.oneChallengeCap.rewards.blueberrySpeedMult;break}case"Exalt5":{this.vals[n]=+e.singularityChallenges.noAmbrosiaUpgrades.rewards.blueberrySpeedMult;break}case"Event":{this.vals[n]=o.isEvent?1+ht(11):1;break}case"CashGrabUltra":{this.vals[n]=$o();break}}let l=this.vals[n];this.updateTotal(a,l,s)}},$a=class extends Fs{constructor(){super();this.vals={Exalt1:0,SingularityUpgrade:0,SingularityPerk:0,Exalt5:0},this.totalVal=0}updateVal(n,s=!1){let a=this.vals[n];switch(n){case"Exalt1":{this.vals[n]=+(e.singularityChallenges.noSingularityUpgrades.completions>0);break}case"SingularityUpgrade":{this.vals[n]=+e.singularityUpgrades.blueberries.getEffect().bonus;break}case"SingularityPerk":{this.vals[n]=$d();break}case"Exalt5":this.vals[n]=+e.singularityChallenges.noAmbrosiaUpgrades.rewards.blueberries}let l=this.vals[n];this.updateTotal(a,l,s),e.caches.ambrosiaGeneration.updateVal("Blueberries")}},xi=()=>{e.caches.ambrosiaLuckAdditiveMult.initialize(),e.caches.blueberryInventory.initialize(),e.caches.ambrosiaGeneration.initialize(),e.caches.ambrosiaLuck.initialize()};var tg=t=>{var l,c,d,g,m,h;if(((l=t.currentChallenge)==null?void 0:l.transcension)===void 0&&(e.currentChallenge={transcension:0,reincarnation:0,ascension:0}),(c=t.shopUpgrades)!=null||(t.shopUpgrades=ze({},ve.shopUpgrades)),(d=t.ascStatToggles)!=null||(t.ascStatToggles=ze({},ve.ascStatToggles)),typeof t.promoCodeTiming=="object"&&t.promoCodeTiming!=null)for(let b of Object.keys(t.promoCodeTiming)){let y=b;e.promoCodeTiming[y]=t.promoCodeTiming[y]}else e.promoCodeTiming.time=Date.now()-60*1e3*15;!Array.isArray(t.challengecompletions)&&t.challengecompletions!=null&&(e.challengecompletions=Object.values(t.challengecompletions),gu(e.challengecompletions,0,ve.challengecompletions.length)),Array.isArray(t.highestchallengecompletions)||(e.highestchallengecompletions=Object.values(t.highestchallengecompletions)),t.wowCubes===void 0&&(e.wowCubes=new Ft,e.wowTesseracts=new cn(0),e.wowHypercubes=new un(0),e.cubeUpgrades=[null,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),((g=t.shoptoggles)==null?void 0:g.reincarnate)===void 0&&(e.shoptoggles.reincarnate=!0),t.ascendBuilding1===void 0&&(e.ascendBuilding1={cost:1,owned:0,generated:new f("0"),multiplier:.01},e.ascendBuilding2={cost:10,owned:0,generated:new f("0"),multiplier:.01},e.ascendBuilding3={cost:100,owned:0,generated:new f("0"),multiplier:.01},e.ascendBuilding4={cost:1e3,owned:0,generated:new f("0"),multiplier:.01},e.ascendBuilding5={cost:1e4,owned:0,generated:new f("0"),multiplier:.01}),t.tesseractbuyamount===void 0&&(e.tesseractbuyamount=1),t.tesseractBlessings===void 0&&(e.tesseractBlessings={accelerator:0,multiplier:0,offering:0,runeExp:0,obtainium:0,antSpeed:0,antSacrifice:0,antELO:0,talismanBonus:0,globalSpeed:0},e.hypercubeBlessings={accelerator:0,multiplier:0,offering:0,runeExp:0,obtainium:0,antSpeed:0,antSacrifice:0,antELO:0,talismanBonus:0,globalSpeed:0}),t.prototypeCorruptions===void 0&&(e.prototypeCorruptions=[0,0,0,0,0,0,0,0,0,0,0,0,0],e.usedCorruptions=[0,0,0,0,0,0,0,0,0,0,0,0,0]),t.constantUpgrades===void 0&&(e.ascendShards=new f("0"),e.constantUpgrades=[null,0,0,0,0,0,0,0,0,0,0]),t.roombaResearchIndex===void 0&&(e.roombaResearchIndex=0),t.history===void 0&&(e.history={ants:[],ascend:[],reset:[],singularity:[]}),t.autoChallengeRunning===void 0&&(e.autoChallengeRunning=!1,e.autoChallengeIndex=1,e.autoChallengeToggles=[!1,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!1,!1,!1,!1,!1],e.autoChallengeStartExponent=10,e.autoChallengeTimer={start:10,exit:2,enter:2}),t.autoAscend===void 0&&(e.autoAscend=!1,e.autoAscendMode="c10Completions",e.autoAscendThreshold=1),t.runeBlessingLevels===void 0&&(e.runeBlessingLevels=[0,0,0,0,0,0],e.runeSpiritLevels=[0,0,0,0,0,0],e.runeBlessingBuyAmount=0,e.runeSpiritBuyAmount=0),t.autoBuyFragment===void 0&&(e.autoBuyFragment=!1,e.saveOfferingToggle=!1),t.autoTesseracts===void 0&&(e.autoTesseracts=[!1,!1,!1,!1,!1,!1]),t.autoOpenCubes===void 0&&(e.autoOpenCubes=!1,e.openCubes=0),t.autoOpenTesseracts===void 0&&(e.autoOpenTesseracts=!1,e.openTesseracts=0),t.autoOpenHypercubes===void 0&&(e.autoOpenHypercubes=!1,e.openHypercubes=0),t.autoOpenPlatonicsCubes===void 0&&(e.autoOpenPlatonicsCubes=!1,e.openPlatonicsCubes=0),(e.prototypeCorruptions[0]===null||e.prototypeCorruptions[0]===void 0)&&(e.usedCorruptions=[0,0,0,0,0,0,0,0,0,0,0,0,0],e.prototypeCorruptions=[0,0,0,0,0,0,0,0,0,0,0,0,0]),e.corruptionLoadouts===void 0&&(e.corruptionLoadouts=ze({},ve.corruptionLoadouts),e.corruptionShowStats=!0);let r=Object.keys(ve.corruptionLoadouts);for(let b of r.map(y=>Number(y)))e.corruptionLoadouts[b]===void 0&&(e.corruptionLoadouts[b]=ve.corruptionLoadouts[b]);if(e.corruptionLoadoutNames.length<ve.corruptionLoadoutNames.length){let b=ve.corruptionLoadoutNames.slice(e.corruptionLoadoutNames.length);e.corruptionLoadoutNames.push(...b)}for(let b=0;b<=4;b++)e.runelevels[b]>Ye(b+1)&&(e.runelevels[b]=0);if(t.shopUpgrades.challengeExtension===void 0&&(e.shopUpgrades.challengeExtension=0,e.shopUpgrades.challengeTome=0,e.shopUpgrades.seasonPass=0,e.shopUpgrades.cubeToQuark=0,e.shopUpgrades.tesseractToQuark=0,e.shopUpgrades.hypercubeToQuark=0),t.cubeUpgrades==null||t.cubeUpgrades[19]===0||e.cubeUpgrades[19]===0)for(let b=121;b<=125;b++)e.upgrades[b]=0;Object.assign(e.toggles,t.toggles);for(let b in ve.toggles)e.toggles[b]===void 0&&(e.toggles[b]=ve.toggles[b]);if(t.dayCheck===void 0&&(e.dayCheck=null,e.dayTimer=0,e.cubeQuarkDaily=0,e.tesseractQuarkDaily=0,e.hypercubeQuarkDaily=0,e.cubeOpenedDaily=0,e.tesseractOpenedDaily=0,e.hypercubeOpenedDaily=0),e.singularityUpgrades={goldenQuarks1:new H(D.goldenQuarks1,"goldenQuarks1"),goldenQuarks2:new H(D.goldenQuarks2,"goldenQuarks2"),goldenQuarks3:new H(D.goldenQuarks3,"goldenQuarks3"),starterPack:new H(D.starterPack,"starterPack"),wowPass:new H(D.wowPass,"wowPass"),cookies:new H(D.cookies,"cookies"),cookies2:new H(D.cookies2,"cookies2"),cookies3:new H(D.cookies3,"cookies3"),cookies4:new H(D.cookies4,"cookies4"),cookies5:new H(D.cookies5,"cookies5"),ascensions:new H(D.ascensions,"ascensions"),corruptionFourteen:new H(D.corruptionFourteen,"corruptionFourteen"),corruptionFifteen:new H(D.corruptionFifteen,"corruptionFifteen"),singOfferings1:new H(D.singOfferings1,"singOfferings1"),singOfferings2:new H(D.singOfferings2,"singOfferings2"),singOfferings3:new H(D.singOfferings3,"singOfferings3"),singObtainium1:new H(D.singObtainium1,"singObtainium1"),singObtainium2:new H(D.singObtainium2,"singObtainium2"),singObtainium3:new H(D.singObtainium3,"singObtainium3"),singCubes1:new H(D.singCubes1,"singCubes1"),singCubes2:new H(D.singCubes2,"singCubes2"),singCubes3:new H(D.singCubes3,"singCubes3"),singCitadel:new H(D.singCitadel,"singCitadel"),singCitadel2:new H(D.singCitadel2,"singCitadel2"),octeractUnlock:new H(D.octeractUnlock,"octeractUnlock"),singOcteractPatreonBonus:new H(D.singOcteractPatreonBonus,"singOcteractPatreonBonus"),intermediatePack:new H(D.intermediatePack,"intermediatePack"),advancedPack:new H(D.advancedPack,"advancedPack"),expertPack:new H(D.expertPack,"expertPack"),masterPack:new H(D.masterPack,"masterPack"),divinePack:new H(D.divinePack,"divinePack"),wowPass2:new H(D.wowPass2,"wowPass2"),potionBuff:new H(D.potionBuff,"potionBuff"),potionBuff2:new H(D.potionBuff2,"potionBuff2"),potionBuff3:new H(D.potionBuff3,"potionBuff3"),singChallengeExtension:new H(D.singChallengeExtension,"singChallengeExtension"),singChallengeExtension2:new H(D.singChallengeExtension2,"singChallengeExtension2"),singChallengeExtension3:new H(D.singChallengeExtension3,"singChallengeExtension3"),singQuarkImprover1:new H(D.singQuarkImprover1,"singQuarkImprover1"),singQuarkHepteract:new H(D.singQuarkHepteract,"singQuarkHepteract"),singQuarkHepteract2:new H(D.singQuarkHepteract2,"singQuarkHepteract2"),singQuarkHepteract3:new H(D.singQuarkHepteract3,"singQuarkHepteract3"),singOcteractGain:new H(D.singOcteractGain,"singOcteractGain"),singOcteractGain2:new H(D.singOcteractGain2,"singOcteractGain2"),singOcteractGain3:new H(D.singOcteractGain3,"singOcteractGain3"),singOcteractGain4:new H(D.singOcteractGain4,"singOcteractGain4"),singOcteractGain5:new H(D.singOcteractGain5,"singOcteractGain5"),wowPass3:new H(D.wowPass3,"wowPass3"),ultimatePen:new H(D.ultimatePen,"ultimatePen"),platonicTau:new H(D.platonicTau,"platonicTau"),platonicAlpha:new H(D.platonicAlpha,"platonicAlpha"),platonicDelta:new H(D.platonicDelta,"platonicDelta"),platonicPhi:new H(D.platonicPhi,"platonicPhi"),singFastForward:new H(D.singFastForward,"singFastForward"),singFastForward2:new H(D.singFastForward2,"singFastForward2"),singAscensionSpeed:new H(D.singAscensionSpeed,"singAscensionSpeed"),singAscensionSpeed2:new H(D.singAscensionSpeed2,"singAscensionSpeed2"),oneMind:new H(D.oneMind,"oneMind"),wowPass4:new H(D.wowPass4,"wowPass4"),offeringAutomatic:new H(D.offeringAutomatic,"offeringAutomatic"),blueberries:new H(D.blueberries,"blueberries"),singAmbrosiaLuck:new H(D.singAmbrosiaLuck,"singAmbrosiaLuck"),singAmbrosiaLuck2:new H(D.singAmbrosiaLuck2,"singAmbrosiaLuck2"),singAmbrosiaLuck3:new H(D.singAmbrosiaLuck3,"singAmbrosiaLuck3"),singAmbrosiaLuck4:new H(D.singAmbrosiaLuck4,"singAmbrosiaLuck4"),singAmbrosiaGeneration:new H(D.singAmbrosiaGeneration,"singAmbrosiaGeneration"),singAmbrosiaGeneration2:new H(D.singAmbrosiaGeneration2,"singAmbrosiaGeneration2"),singAmbrosiaGeneration3:new H(D.singAmbrosiaGeneration3,"singAmbrosiaGeneration3"),singAmbrosiaGeneration4:new H(D.singAmbrosiaGeneration4,"singAmbrosiaGeneration4")},e.octeractUpgrades={octeractStarter:new re(J.octeractStarter,"octeractStarter"),octeractGain:new re(J.octeractGain,"octeractGain"),octeractGain2:new re(J.octeractGain2,"octeractGain2"),octeractQuarkGain:new re(J.octeractQuarkGain,"octeractQuarkGain"),octeractQuarkGain2:new re(J.octeractQuarkGain2,"octeractQuarkGain2"),octeractCorruption:new re(J.octeractCorruption,"octeractCorruption"),octeractGQCostReduce:new re(J.octeractGQCostReduce,"octeractGQCostReduce"),octeractExportQuarks:new re(J.octeractExportQuarks,"octeractExportQuarks"),octeractImprovedDaily:new re(J.octeractImprovedDaily,"octeractImprovedDaily"),octeractImprovedDaily2:new re(J.octeractImprovedDaily2,"octeractImprovedDaily2"),octeractImprovedDaily3:new re(J.octeractImprovedDaily3,"octeractImprovedDaily3"),octeractImprovedQuarkHept:new re(J.octeractImprovedQuarkHept,"octeractImprovedQuarkHept"),octeractImprovedGlobalSpeed:new re(J.octeractImprovedGlobalSpeed,"octeractImprovedGlobalSpeed"),octeractImprovedAscensionSpeed:new re(J.octeractImprovedAscensionSpeed,"octeractImprovedAscensionSpeed"),octeractImprovedAscensionSpeed2:new re(J.octeractImprovedAscensionSpeed2,"octeractImprovedAscensionSpeed2"),octeractImprovedFree:new re(J.octeractImprovedFree,"octeractImprovedFree"),octeractImprovedFree2:new re(J.octeractImprovedFree2,"octeractImprovedFree2"),octeractImprovedFree3:new re(J.octeractImprovedFree3,"octeractImprovedFree3"),octeractImprovedFree4:new re(J.octeractImprovedFree4,"octeractImprovedFree4"),octeractSingUpgradeCap:new re(J.octeractSingUpgradeCap,"octeractSingUpgradeCap"),octeractOfferings1:new re(J.octeractOfferings1,"octeractOfferings1"),octeractObtainium1:new re(J.octeractObtainium1,"octeractObtainium1"),octeractAscensions:new re(J.octeractAscensions,"octeractAscensions"),octeractAscensions2:new re(J.octeractAscensions2,"octeractAscensions2"),octeractAscensionsOcteractGain:new re(J.octeractAscensionsOcteractGain,"octeractAscensionsOcteractGain"),octeractFastForward:new re(J.octeractFastForward,"octeractFastForward"),octeractAutoPotionSpeed:new re(J.octeractAutoPotionSpeed,"octeractAutoPotionSpeed"),octeractAutoPotionEfficiency:new re(J.octeractAutoPotionEfficiency,"octeractAutoPotionEfficiency"),octeractOneMindImprover:new re(J.octeractOneMindImprover,"octeractOneMindImprover"),octeractAmbrosiaLuck:new re(J.octeractAmbrosiaLuck,"octeractAmbrosiaLuck"),octeractAmbrosiaLuck2:new re(J.octeractAmbrosiaLuck2,"octeractAmbrosiaLuck2"),octeractAmbrosiaLuck3:new re(J.octeractAmbrosiaLuck3,"octeractAmbrosiaLuck3"),octeractAmbrosiaLuck4:new re(J.octeractAmbrosiaLuck4,"octeractAmbrosiaLuck4"),octeractAmbrosiaGeneration:new re(J.octeractAmbrosiaGeneration,"octeractAmbrosiaGeneration"),octeractAmbrosiaGeneration2:new re(J.octeractAmbrosiaGeneration2,"octeractAmbrosiaGeneration2"),octeractAmbrosiaGeneration3:new re(J.octeractAmbrosiaGeneration3,"octeractAmbrosiaGeneration3"),octeractAmbrosiaGeneration4:new re(J.octeractAmbrosiaGeneration4,"octeractAmbrosiaGeneration4")},e.singularityChallenges={noSingularityUpgrades:new At(tt.noSingularityUpgrades,"noSingularityUpgrades"),oneChallengeCap:new At(tt.oneChallengeCap,"oneChallengeCap"),noOcteracts:new At(tt.noOcteracts,"noOcteracts"),limitedAscensions:new At(tt.limitedAscensions,"limitedAscensions"),noAmbrosiaUpgrades:new At(tt.noAmbrosiaUpgrades,"noAmbrosiaUpgrades")},e.blueberryUpgrades={ambrosiaTutorial:new xe(me.ambrosiaTutorial,"ambrosiaTutorial"),ambrosiaQuarks1:new xe(me.ambrosiaQuarks1,"ambrosiaQuarks1"),ambrosiaCubes1:new xe(me.ambrosiaCubes1,"ambrosiaQuarks1"),ambrosiaLuck1:new xe(me.ambrosiaLuck1,"ambrosiaLuck1"),ambrosiaCubeQuark1:new xe(me.ambrosiaCubeQuark1,"ambrosiaCubeQuark1"),ambrosiaLuckQuark1:new xe(me.ambrosiaLuckQuark1,"ambrosiaLuckQuark1"),ambrosiaLuckCube1:new xe(me.ambrosiaLuckCube1,"ambrosiaLuckCube1"),ambrosiaQuarkCube1:new xe(me.ambrosiaQuarkCube1,"ambrosiaQuarkCube1"),ambrosiaCubeLuck1:new xe(me.ambrosiaCubeLuck1,"ambrosiaCubeLuck1"),ambrosiaQuarkLuck1:new xe(me.ambrosiaQuarkLuck1,"ambrosiaQuarkLuck1"),ambrosiaQuarks2:new xe(me.ambrosiaQuarks2,"ambrosiaQuarks2"),ambrosiaCubes2:new xe(me.ambrosiaCubes2,"ambrosiaQuarks2"),ambrosiaLuck2:new xe(me.ambrosiaLuck2,"ambrosiaLuck2"),ambrosiaPatreon:new xe(me.ambrosiaPatreon,"ambrosiaPatreon"),ambrosiaObtainium1:new xe(me.ambrosiaObtainium1,"ambrosiaObtainium1"),ambrosiaOffering1:new xe(me.ambrosiaOffering1,"ambrosiaOffering1"),ambrosiaHyperflux:new xe(me.ambrosiaHyperflux,"ambrosiaHyperflux")},(t.loadedOct4Hotfix===void 0||!e.loadedOct4Hotfix)&&(e.loadedOct4Hotfix=!0,e.researches.length>200&&(e.researchPoints+=e.researches[200]*1e56,e.researches[200]=0,ar(200,!0,.01),e.researchPoints+=e.researches[195]*1e60,e.worlds.add(250*e.researches[195]),e.researches[195]=0,e.wowCubes.add(e.cubeUpgrades[50]*5e10),e.cubeUpgrades[50]=0)),(e.ascStatToggles===void 0||t.ascStatToggles===void 0)&&(e.ascStatToggles={1:!1,2:!1,3:!1,4:!1}),(e.ascStatToggles[4]===void 0||!("ascStatToggles"in t)||t.ascStatToggles[4]===void 0)&&(e.ascStatToggles[4]=!1),(e.usedCorruptions[0]>0||Array.isArray(t.usedCorruptions)&&t.usedCorruptions[0]>0)&&(e.prototypeCorruptions[0]=0,e.usedCorruptions[0]=0),e.antSacrificeTimerReal===void 0&&(e.antSacrificeTimerReal=e.antSacrificeTimer/Qe().mult),(e.subtabNumber===void 0||t.subtabNumber===void 0)&&(e.subtabNumber=0),t.wowPlatonicCubes===void 0&&(e.wowPlatonicCubes=new pn(0),e.wowAbyssals=0),t.platonicBlessings===void 0){let b=e.ascensionCount;e.currentChallenge.ascension!==0&&e.currentChallenge.ascension!==15&&Te("ascensionChallenge",!1,!0),e.currentChallenge.ascension===15&&(Te("ascensionChallenge",!1,!0),e.challenge15Exponent=0,fn()),e.ascensionCount=b,e.challengecompletions[15]=0,e.highestchallengecompletions[15]=0,e.platonicBlessings={cubes:0,tesseracts:0,hypercubes:0,platonics:0,hypercubeBonus:0,taxes:0,scoreBonus:0,globalSpeed:0},e.platonicUpgrades=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e.challenge15Exponent=0,e.loadedNov13Vers=!1}if(e.researches.some(b=>typeof b!="number"))for(let b=0;b<200;b++)e.researches[b+1]=e.researches[b+1]||0;(t.loadedDec16Vers===!1||t.loadedDec16Vers===void 0)&&(e.currentChallenge.ascension===15&&(Te("ascensionChallenge",!1,!0),e.challenge15Exponent=0,fn()),e.challenge15Exponent=0,fn(),e.loadedDec16Vers=!0),typeof t.exporttest=="string"?e.exporttest=!!1:e.exporttest=!!t.exporttest;let n=t.shopUpgrades;if(n&&"offeringTimerLevel"in n){e.shopUpgrades={offeringPotion:n.offeringPotion,obtainiumPotion:n.obtainiumPotion,offeringEX:0,offeringAuto:Math.min(1,Number(n.offeringAutoLevel)),obtainiumEX:0,obtainiumAuto:Math.min(1,Number(n.obtainiumAutoLevel)),instantChallenge:Number(n.instantChallengeBought),antSpeed:0,cashGrab:0,shopTalisman:Number(n.talismanBought),seasonPass:0,challengeExtension:n.challengeExtension,challengeTome:0,cubeToQuark:Number(n.cubeToQuarkBought),tesseractToQuark:Number(n.tesseractToQuarkBought),hypercubeToQuark:Number(n.hypercubeToQuarkBought),seasonPass2:0,seasonPass3:0,chronometer:0,infiniteAscent:0,calculator:0,calculator2:0,calculator3:0,calculator4:0,calculator5:0,calculator6:0,calculator7:0,constantEX:0,powderEX:0,chronometer2:0,chronometer3:0,seasonPassY:0,seasonPassZ:0,challengeTome2:0,instantChallenge2:0,cashGrab2:0,cubeToQuarkAll:0,obtainiumEX2:0,offeringEX2:0,powderAuto:0,chronometerZ:0,seasonPassLost:0,challenge15Auto:0,extraWarp:0,autoWarp:0,improveQuarkHept:0,improveQuarkHept2:0,improveQuarkHept3:0,improveQuarkHept4:0,shopImprovedDaily:0,shopImprovedDaily2:0,shopImprovedDaily3:0,shopImprovedDaily4:0,offeringEX3:0,obtainiumEX3:0,improveQuarkHept5:0,seasonPassInfinity:0,chronometerInfinity:0,shopSingularityPenaltyDebuff:0,shopAmbrosiaLuckMultiplier4:0,shopOcteractAmbrosiaLuck:0,shopAmbrosiaGeneration1:0,shopAmbrosiaGeneration2:0,shopAmbrosiaGeneration3:0,shopAmbrosiaGeneration4:0,shopAmbrosiaLuck1:0,shopAmbrosiaLuck2:0,shopAmbrosiaLuck3:0,shopAmbrosiaLuck4:0,shopCashGrabUltra:0,shopAmbrosiaAccelerator:0,shopEXUltra:0},e.worlds.add(150*n.offeringTimerLevel+25/2*(n.offeringTimerLevel-1)*n.offeringTimerLevel,!1),e.worlds.add(150*n.obtainiumTimerLevel+25/2*(n.obtainiumTimerLevel-1)*n.obtainiumTimerLevel,!1),e.worlds.add(150*n.offeringAutoLevel+25/2*(n.offeringAutoLevel-1)*n.offeringAutoLevel-150*Math.min(1,n.offeringAutoLevel),!1),e.worlds.add(150*n.obtainiumAutoLevel+25/2*(n.obtainiumAutoLevel-1)*n.obtainiumAutoLevel-150*Math.min(1,n.obtainiumAutoLevel),!1),e.worlds.add(100*n.cashGrabLevel+100/2*(n.cashGrabLevel-1)*n.cashGrabLevel,!1),e.worlds.add(200*n.antSpeedLevel+80/2*(n.antSpeedLevel-1)*n.antSpeedLevel,!1);let b=(m=n.challenge10Tomes)!=null?m:n.challengeTome;e.worlds.add(500*b+250/2*(b-1)*b,!1),e.worlds.add(typeof n.seasonPass=="number"?500*n.seasonPass+250/2*(n.seasonPass-1)*n.seasonPass:500*n.seasonPassLevel+250/2*(n.seasonPassLevel-1)*n.seasonPassLevel,!1)}if(e.shopUpgrades.seasonPass2===void 0&&(e.shopUpgrades.seasonPass2=0,e.shopUpgrades.seasonPass3=0,e.shopUpgrades.chronometer=0,e.shopUpgrades.infiniteAscent=0),e.runeexp[5]===void 0&&(e.runeexp[5]=e.runeexp[6]=0,e.runelevels[5]=e.runelevels[6]=0),e.hepteractCrafts={chronos:So,hyperrealism:To,quark:Lo,challenge:Po,abyss:Ao,accelerator:Eo,acceleratorBoost:Uo,multiplier:Oo},t.hepteractCrafts!=null)for(let b in ve.hepteractCrafts){let y=b;t.hepteractCrafts[y]&&(e.hepteractCrafts[y]=Au(ze(ze({},e.hepteractCrafts[y]),t.hepteractCrafts[y])))}for(t.platonicCubeOpenedDaily===void 0&&(e.platonicCubeOpenedDaily=0,e.platonicCubeQuarkDaily=0),t.shopUpgrades.calculator===void 0&&(e.shopUpgrades.calculator=0,e.shopUpgrades.calculator2=0,e.shopUpgrades.calculator3=0,e.shopUpgrades.constantEX=0);e.achievements[280]===void 0;)e.achievements.push(0);for(t.overfluxOrbs===void 0&&(e.overfluxOrbs=0),t.overfluxOrbsAutoBuy===void 0&&(e.overfluxOrbsAutoBuy=!1),t.overfluxPowder===void 0&&(e.overfluxPowder=0,e.shopUpgrades.powderEX=0,e.dailyPowderResetUses=1),t.ascStatToggles[5]===void 0&&(e.ascStatToggles[5]=!1);e.platonicUpgrades[20]===void 0;)e.platonicUpgrades.push(0);if(t.loadedV253===void 0&&(e.loadedV253=!0,e.worlds.add(1e4*e.shopUpgrades.calculator+1e4/2*(e.shopUpgrades.calculator-1)*e.shopUpgrades.calculator,!1),e.worlds.add(1e4*e.shopUpgrades.calculator2+5e3/2*(e.shopUpgrades.calculator2-1)*e.shopUpgrades.calculator2,!1),e.worlds.add(25e3*e.shopUpgrades.calculator3+25e3/2*(e.shopUpgrades.calculator3-1)*e.shopUpgrades.calculator3,!1),e.shopUpgrades.calculator=0,e.shopUpgrades.calculator2=0,e.shopUpgrades.calculator3=0,e.wowAbyssals+=1e8*e.platonicUpgrades[16],O(u.t("general.updateAlerts.june282021"))),t.loadedV255===void 0&&(e.loadedV255=!0,e.worlds.add(1e3*e.shopUpgrades.powderEX+1e3/2*(e.shopUpgrades.powderEX-1)*e.shopUpgrades.powderEX,!1),e.shopUpgrades.powderEX=0,O(u.t("general.updateAlerts.july22021")),e.firstCostAnts=new f("1e700"),e.firstOwnedAnts=0),t.autoResearchMode===void 0&&(e.autoResearchMode="manual"),t.singularityCount===void 0){e.singularityCount=0,e.goldenQuarks=0,e.quarksThisSingularity=0,e.quarksThisSingularity+=+e.worlds;let b=Object.keys(e.shopUpgrades);for(let y of b)e.quarksThisSingularity+=$u(y)}t.totalQuarksEver===void 0&&(e.totalQuarksEver=0),t.hotkeys===void 0&&(e.hotkeys={},e.theme="Dark Mode",e.notation="Default");let s=Object.keys(ve.shopUpgrades);for(let b of s)e.shopUpgrades[b]===void 0&&(e.shopUpgrades[b]=0),e.shopUpgrades[b]>ue[b].maxLevel&&(e.shopUpgrades[b]=ue[b].maxLevel);if(t.singularityUpgrades!=null)for(let b in ve.singularityUpgrades){let y=b,v;if(t.singularityUpgrades[y]){let{level:w,goldenQuarksInvested:k,toggleBuy:P,freeLevels:A}=t.singularityUpgrades[y];v={maxLevel:D[y].maxLevel,costPerLevel:D[y].costPerLevel,level:w,goldenQuarksInvested:k,toggleBuy:P,freeLevels:A,minimumSingularity:D[y].minimumSingularity,effect:D[y].effect,canExceedCap:D[y].canExceedCap,specialCostForm:D[y].specialCostForm,qualityOfLife:D[y].qualityOfLife,cacheUpdates:D[y].cacheUpdates},e.singularityUpgrades[y]=new H(v,y.toString()),e.singularityUpgrades[y].minimumSingularity>e.highestSingularityCount&&e.singularityUpgrades[y].refund();let R=e.singularityUpgrades[y].level*(e.singularityUpgrades[y].level+1)*e.singularityUpgrades[y].costPerLevel/2;e.singularityUpgrades[y].maxLevel!==-1&&e.singularityUpgrades[y].level<=e.singularityUpgrades[y].maxLevel&&e.singularityUpgrades[y].goldenQuarksInvested.toExponential(10)!==R.toExponential(10)&&e.singularityUpgrades[y].specialCostForm==="Default"&&e.singularityUpgrades[y].refund()}else e.singularityUpgrades[y].name=`[NEW!] ${e.singularityUpgrades[y].name}`}if(t.octeractUpgrades!=null)for(let b in ve.octeractUpgrades){let y=b,v;if(t.octeractUpgrades[y]){let{level:w,octeractsInvested:k,toggleBuy:P,freeLevels:A}=t.octeractUpgrades[y];v={maxLevel:J[y].maxLevel,costPerLevel:J[y].costPerLevel,level:w,octeractsInvested:k,toggleBuy:P,effect:J[y].effect,costFormula:J[y].costFormula,freeLevels:A,qualityOfLife:J[y].qualityOfLife,cacheUpdates:J[y].cacheUpdates},e.octeractUpgrades[y]=new re(v,y.toString()),e.octeractUpgrades[y].maxLevel!==-1&&e.octeractUpgrades[y].level>e.octeractUpgrades[y].maxLevel&&e.octeractUpgrades[y].refund()}else e.octeractUpgrades[y].name=`[NEW!] ${e.octeractUpgrades[y].name}`}if(t.blueberryUpgrades!=null){for(let b of Object.keys(ve.blueberryUpgrades)){let y=b,v;if(t.blueberryUpgrades[y]){let{level:w,ambrosiaInvested:k,blueberriesInvested:P,toggleBuy:A,freeLevels:R}=t.blueberryUpgrades[y];v={maxLevel:me[y].maxLevel,costPerLevel:me[y].costPerLevel,level:w,ambrosiaInvested:k,blueberriesInvested:P,toggleBuy:A,blueberryCost:me[y].blueberryCost,rewards:me[y].rewards,costFormula:me[y].costFormula,freeLevels:R,prerequisites:me[y].prerequisites,cacheUpdates:me[y].cacheUpdates},e.blueberryUpgrades[y]=new xe(v,y.toString()),e.blueberryUpgrades[y].maxLevel!==-1&&e.blueberryUpgrades[y].level>e.blueberryUpgrades[y].maxLevel&&e.blueberryUpgrades[y].refund()}else e.blueberryUpgrades[y].name=`[NEW!] ${e.blueberryUpgrades[y].name}`}wc()}if(t.singularityChallenges!=null)for(let b in ve.singularityChallenges){let y=b,v;if(t.singularityChallenges[y]){if(t.loadedV2927Hotfix1===void 0&&y==="noSingularityUpgrades"){let A=t.singularityChallenges[y].completions;A>0&&(t.singularityChallenges[y].highestSingularityCompleted=4*A-3)}let{completions:w,highestSingularityCompleted:k,enabled:P}=t.singularityChallenges[y];v={baseReq:tt[y].baseReq,completions:w,maxCompletions:tt[y].maxCompletions,unlockSingularity:tt[y].unlockSingularity,HTMLTag:tt[y].HTMLTag,highestSingularityCompleted:k,enabled:P,singularityRequirement:tt[y].singularityRequirement,effect:tt[y].effect,cacheUpdates:tt[y].cacheUpdates},P&&(o.currentSingChallenge=tt[y].HTMLTag),e.singularityChallenges[y]=new At(v,y.toString())}}for(;e.cubeUpgrades.length<71;)e.cubeUpgrades.push(0);if(t.dailyCodeUsed===void 0&&(e.dailyCodeUsed=!1),(e.usedCorruptions[1]>0||e.prototypeCorruptions[1]>0)&&(e.usedCorruptions[1]=0,e.prototypeCorruptions[1]=0),(t.goldenQuarksTimer===void 0||e.goldenQuarksTimer===void 0)&&(e.goldenQuarksTimer=9e4),t.hepteractAutoCraftPercentage===void 0&&(e.hepteractAutoCraftPercentage=50),(t.autoWarpCheck===void 0||e.shopUpgrades.autoWarp===0)&&(e.autoWarpCheck=!1),t.loadedV297Hotfix1===void 0&&(e.loadedV297Hotfix1=!0,e.singularityUpgrades.singCubes1.refund(),e.singularityUpgrades.singObtainium1.refund(),e.singularityUpgrades.singOfferings1.refund(),e.singularityUpgrades.ascensions.refund(),e.codes.get(40)&&e.singularityCount>0&&(e.singularityUpgrades.singCubes1.freeLevels+=5,e.singularityUpgrades.singOfferings1.freeLevels+=5,e.singularityUpgrades.singObtainium1.freeLevels+=5,e.singularityUpgrades.ascensions.freeLevels+=5),e.singularityCount>0?O(u.t("general.updateAlerts.v297hotfix1Sing")):O(u.t("general.updateAlerts.v297hotfix1NoSing"))),t.shopBuyMaxToggle===void 0&&(e.shopBuyMaxToggle=!1,e.shopConfirmationToggle=!0),t.wowOcteracts===void 0&&(e.wowOcteracts=0,e.octeractTimer=0),t.shopHideToggle===void 0&&(e.shopHideToggle=!1),t.researchBuyMaxToggle===void 0&&(e.researchBuyMaxToggle=!1),t.cubeUpgradesBuyMaxToggle===void 0&&(e.cubeUpgradesBuyMaxToggle=!1),t.ascensionCounterRealReal===void 0&&(e.ascensionCounterRealReal=0),t.totalWowOcteracts===void 0&&(e.totalWowOcteracts=0),t.highestSingularityCount===void 0&&(e.highestSingularityCount=e.singularityCount,e.singularityCount>0&&(e.goldenQuarks+=200,e.goldenQuarks+=100*Math.min(10,e.singularityCount),e.singularityCount>=5&&(e.singularityUpgrades.goldenQuarks3.freeLevels+=1),e.singularityCount>=10&&(e.singularityUpgrades.goldenQuarks3.freeLevels+=2))),t.autoPotionTimer===void 0&&(e.autoPotionTimer=0),t.autoPotionTimerObtainium===void 0&&(e.autoPotionTimerObtainium=0),t.insideSingularityChallenge===void 0&&(e.insideSingularityChallenge=!1),t.loadedV2930Hotfix1===void 0&&(e.singularityCount>230&&(e.singularityCount=230),e.highestSingularityCount>230&&(e.highestSingularityCount=230,O(u.t("general.updateAlerts.sing230Balancing"))),e.loadedV2930Hotfix1=!0),t.loadedV2931Hotfix1===void 0&&(e.loadedV2931Hotfix1=!0,e.shopUpgrades.obtainiumEX3=Math.min(1e3,e.shopUpgrades.obtainiumEX3*2),e.shopUpgrades.offeringEX3=Math.min(1e3,e.shopUpgrades.offeringEX3*2),e.shopUpgrades.seasonPassInfinity=Math.min(1e3,e.shopUpgrades.seasonPassInfinity*2),e.shopUpgrades.chronometerInfinity=Math.min(1e3,e.shopUpgrades.chronometerInfinity*2),e.shopUpgrades.improveQuarkHept5=Math.min(100,e.shopUpgrades.improveQuarkHept5*2),e.singularityUpgrades.offeringAutomatic.refund(),O(u.t("general.updateAlerts.december22xxxx"))),t.loadedV21003Hotfix1===void 0&&(e.loadedV21003Hotfix1=!0,e.singularityUpgrades.blueberries.refund(),O(u.t("general.updateAlerts.january42023"))),t.loadedV21007Hotfix1===void 0&&(e.loadedV21007Hotfix1=!0,e.octeractUpgrades.octeractQuarkGain.level>=1e4&&e.octeractUpgrades.octeractQuarkGain.refund()),t.ambrosia===void 0&&(e.ambrosia=0,e.lifetimeAmbrosia=0,e.ambrosiaRNG=0,e.visitedAmbrosiaSubtab=!1),t.blueberryTime===void 0&&(e.blueberryTime=e.ambrosiaRNG),t.spentBlueberries===void 0&&(e.spentBlueberries=0,e.singularityUpgrades.blueberries.level>10&&e.singularityUpgrades.blueberries.refund(),e.highestSingularityCount>=100)){let b=Math.min(6,Math.ceil(.05*(e.highestSingularityCount-100)));e.highestSingularityCount-=b,e.insideSingularityChallenge||(e.singularityCount-=b),O(`Due to recent balance changes your highest singularity count was reduced by ${b}. This is for your own good!`)}e.caches={ambrosiaLuckAdditiveMult:new Ra,ambrosiaLuck:new Ia,ambrosiaGeneration:new Na,blueberryInventory:new $a},xi();let a=localStorage.getItem("firstPlayed");t.firstPlayed==null?e.firstPlayed=a!=null?a:new Date().toISOString():(h=t.firstPlayed)!=null&&h.includes("Before")?e.firstPlayed=a!=null?a:new Date().toISOString():e.firstPlayed=a!=null?a:t.firstPlayed,t.autoCubeUpgradesToggle===void 0&&(e.autoCubeUpgradesToggle=!1,e.autoPlatonicUpgradesToggle=!1),e.shopUpgrades.calculator7===void 0&&(e.shopUpgrades.calculator7=0,e.shopUpgrades.shopAmbrosiaLuckMultiplier4=0,e.shopUpgrades.shopOcteractAmbrosiaLuck=0),e.ultimatePixels===void 0&&(e.ultimatePixels=0,e.ultimateProgress=0),e.shopUpgrades.shopAmbrosiaAccelerator===void 0&&(e.shopUpgrades.shopCashGrabUltra=0,e.shopUpgrades.shopAmbrosiaAccelerator=0,e.shopUpgrades.shopEXUltra=0)};var rg={type:"postProcessor",name:"ColorText",process:t=>t.includes("<<")?t.replace(/<<(.*?)\|(.*?)>>/g,'<span style="color:$1">$2</span>'):t};var Sc={en:{name:"English",flag:"\u{1F1FA}\u{1F1F8}"},zh:{name:"Chinese",flag:"\u{1F1E8}\u{1F1F3}"},fr:{name:"French",flag:"\u{1F3F3}\uFE0F"},de:{name:"German",flag:"\u{1F1E9}\u{1F1EA}"},pl:{name:"Polish",flag:"\u{1F1F5}\u{1F1F1}"},es:{name:"Spanish",flag:"\u{1F1EA}\u{1F1F8}"},ru:{name:"Russian",flag:"\u{1F1F7}\u{1F1FA}"}},Mi=new Map,ng=async()=>{var a;let t={},r=(a=localStorage.getItem("language"))!=null?a:"en",s=await(await fetch(`./translations/${r}.json`)).json();if(Mi.set(r,{translation:s}),t[r]={translation:s},r!=="en"){let c=await(await fetch("./translations/en.json")).json();Mi.set("en",{translation:c}),t.en={translation:c}}await u.use(rg).init({lng:r,fallbackLng:"en",debug:!Ro,resources:t,postProcess:["ColorText"],returnEmptyString:!1,interpolation:{escapeValue:!1}}),o0(),i0()};function s0(t,r,n){let s=document.createElement("button");s.id=`language_${t}`,s.className="language-select",s.addEventListener("click",async()=>{if(!Mi.has(t)){let g=await(await fetch(`./translations/${t}.json`)).json();Mi.set(t,{translation:g}),u.addResourceBundle(t,"translation",g)}await u.changeLanguage(t),localStorage.setItem("language",t),await Se(u.t("general.languageChange"))&&location.reload()});let a=document.createElement("span");a.className="lang-flag",a.textContent=n,s.appendChild(a);let l=document.createElement("span");return l.className="lang-name",l.textContent=r,s.appendChild(l),s}function o0(){let t=i("languageOptions");for(let r in Sc){let n=s0(r,Sc[r].name,Sc[r].flag);t.appendChild(n)}}function i0(){let t=document.querySelectorAll("*[i18n]");for(let r of Array.from(t)){let n=r.getAttribute("i18n"),s=u.t(n);s.includes("<span")?r.innerHTML=s:r.textContent=s}}var ag=Mr(Bo());var l0="756419583941804072",c0="758859750070026241",u0="758861068188647444",p0="832099983389097995";async function sg(){var c,d,g,m,h,b,y,v,w;let t=document.querySelector("#accountSubTab > div.scrollbarX"),r=i("currentBonus"),n=await fetch("https://synergism.cc/api/v1/users/me");if(!n.ok){r.textContent=`Oh no! I couldn't fetch the bonus... Please send this to Khafra in the Discord: ${await n.text()}.`;return}let{globalBonus:s,member:a,personalBonus:l}=await n.json();if(e.worlds=new Gn({quarks:Number(e.worlds),bonus:100*(1+s/100)*(1+l/100)-100}),r.textContent=`Generous patrons give you a bonus of ${s}% more Quarks!`,location.hostname!=="synergism.cc")t.textContent="Login is not available here, go to https://synergism.cc instead!";else if(document.cookie.length){a||console.log(n,s,a,l,document.cookie),r.textContent+=` You also receive an extra ${l}% bonus for being a Patreon member and/or boosting the Discord server! Multiplicative with global bonus!`;let k=(m=(d=a==null?void 0:a.nick)!=null?d:(c=a==null?void 0:a.user)==null?void 0:c.username)!=null?m:(g=a==null?void 0:a.user)==null?void 0:g.global_name,P=!!(a!=null&&a.premium_since),A=(h=a==null?void 0:a.roles.includes(l0))!=null?h:!1,R=(b=a==null?void 0:a.roles.includes(c0))!=null?b:!1,Q=(y=a==null?void 0:a.roles.includes(u0))!=null?y:!1,$=(v=a==null?void 0:a.roles.includes(p0))!=null?v:!1,I=j=>`<span style="color: lime">[\u2714] {+${j}%}</span>`,S='<span style="color: crimson">[\u2716] {+0%}</span>';t.innerHTML=`
      ${k?`Hello, ${k}`:"Hello"}!

      Your personal Quark bonus is ${l}%, computed by the following:
      <span style="color: orchid">Transcended Baller</span> [+2%] - ${A?I(2):S}
      <span style="color: green">Reincarnated Baller</span> [+3%] - ${R?I(3):S}
      <span style="color: orange">ASCENDED Baller</span> [+4%] - ${Q?I(4):S}
      <span style="color: lightgoldenrodyellow">OMEGA Baller</span> [+5%] - ${$?I(5):S}
      <span style="color: #f47fff">Discord Server Booster</span> [+1%] - ${P?I(1):S}
      And Finally...
      <span style="color: lime"> Being <span style="color: lightgoldenrodyellow"> YOURSELF! </span></span> [+1%] - ${I(1)}

      The current maximum is 16%, by being a Discord server booster and an OMEGA Baller on Patreon!

      More will be incorporated both for general accounts and supporters of the game shortly.
      Become a supporter of development via the link below, and get special bonuses,
      while also improving the Global Bonus for all to enjoy!
      <a href="https://www.patreon.com/synergism" target="_blank" rel="noopener noreferrer nofollow">
      <span style="color: lightgoldenrodyellow">--> PATREON <--</span>
      </a>
    `.trim();let L=document.createElement("button"),G=document.createElement("button"),W=document.createElement("button");L.addEventListener("click",d0,{once:!0}),L.style.cssText="border: 2px solid #5865F2; height: 25px; width: 150px;",L.textContent="Log Out",l>1&&(G.addEventListener("click",g0),G.style.cssText="border: 2px solid #5865F2; height: 25px; width: 150px;",G.textContent="Save to Cloud \u2601"),W.style.cssText="border: 2px solid #5865F2; height: 25px; width: 150px;",W.textContent="Load from Cloud \u263D [WIP]";let x=document.createElement("div");x.style.cssText="display: flex; flex-direction: row; justify-content: space-evenly; padding: 5px; width: 45%; margin: 0 auto;",x.appendChild(G),x.appendChild(W),t.appendChild(L),t.appendChild(x)}else t.innerHTML=`
      <img id="discord-logo" alt="Discord Logo" src="Pictures/discord-mark-blue.png" loading="lazy" />
      <button value="Login" style="border: 2px solid #5865F2; height: 20px; width: 250px;">Login with Discord</button>
    `,(w=t.querySelector('button[value="Login"]'))==null||w.addEventListener("click",()=>{location.assign("https://discord.com/oauth2/authorize?response_type=code&client_id=1124509674536972329&scope=guilds+guilds.members.read+identify&redirect_uri=https%3A%2F%2Fsynergism.cc%2Fdiscord%2Foauth%2F&prompt=consent")})}async function d0(){"cookieStore"in window?await window.cookieStore.delete("id"):document.cookie="id=; Max-Age=0",await O(u.t("account.logout")),location.reload()}async function g0(){var s;let t=(s=await ag.default.getItem("Synergysave2").then(a=>a==null?void 0:a.text()).catch(()=>null))!=null?s:localStorage.getItem("Synergysave2");if(typeof t!="string"){console.log("Yeah, no save here.");return}let r=new FormData;r.set("savefile",new File([t],"file.txt"),"file.txt");let n=await fetch("https://synergism.cc/api/v1/saves/upload",{method:"POST",body:r});if(!n.ok){await O(`Received an error: ${await n.text()}`);return}}var e={firstPlayed:new Date().toISOString(),worlds:new Gn({quarks:0,bonus:0}),coins:new f("1e2"),coinsThisPrestige:new f("1e2"),coinsThisTranscension:new f("1e2"),coinsThisReincarnation:new f("1e2"),coinsTotal:new f("100"),firstOwnedCoin:0,firstGeneratedCoin:new f("0"),firstCostCoin:new f("100"),firstProduceCoin:.25,secondOwnedCoin:0,secondGeneratedCoin:new f("0"),secondCostCoin:new f("1e3"),secondProduceCoin:2.5,thirdOwnedCoin:0,thirdGeneratedCoin:new f("0"),thirdCostCoin:new f("2e4"),thirdProduceCoin:25,fourthOwnedCoin:0,fourthGeneratedCoin:new f("0"),fourthCostCoin:new f("4e5"),fourthProduceCoin:250,fifthOwnedCoin:0,fifthGeneratedCoin:new f("0"),fifthCostCoin:new f("8e6"),fifthProduceCoin:2500,firstOwnedDiamonds:0,firstGeneratedDiamonds:new f("0"),firstCostDiamonds:new f("100"),firstProduceDiamonds:.05,secondOwnedDiamonds:0,secondGeneratedDiamonds:new f("0"),secondCostDiamonds:new f("1e5"),secondProduceDiamonds:5e-4,thirdOwnedDiamonds:0,thirdGeneratedDiamonds:new f("0"),thirdCostDiamonds:new f("1e15"),thirdProduceDiamonds:5e-5,fourthOwnedDiamonds:0,fourthGeneratedDiamonds:new f("0"),fourthCostDiamonds:new f("1e40"),fourthProduceDiamonds:5e-6,fifthOwnedDiamonds:0,fifthGeneratedDiamonds:new f("0"),fifthCostDiamonds:new f("1e100"),fifthProduceDiamonds:5e-6,firstOwnedMythos:0,firstGeneratedMythos:new f("0"),firstCostMythos:new f("1"),firstProduceMythos:1,secondOwnedMythos:0,secondGeneratedMythos:new f("0"),secondCostMythos:new f("100"),secondProduceMythos:.01,thirdOwnedMythos:0,thirdGeneratedMythos:new f("0"),thirdCostMythos:new f("1e4"),thirdProduceMythos:.001,fourthOwnedMythos:0,fourthGeneratedMythos:new f("0"),fourthCostMythos:new f("1e8"),fourthProduceMythos:2e-4,fifthOwnedMythos:0,fifthGeneratedMythos:new f("0"),fifthCostMythos:new f("1e16"),fifthProduceMythos:4e-5,firstOwnedParticles:0,firstGeneratedParticles:new f("0"),firstCostParticles:new f("1"),firstProduceParticles:.25,secondOwnedParticles:0,secondGeneratedParticles:new f("0"),secondCostParticles:new f("100"),secondProduceParticles:.2,thirdOwnedParticles:0,thirdGeneratedParticles:new f("0"),thirdCostParticles:new f("1e4"),thirdProduceParticles:.15,fourthOwnedParticles:0,fourthGeneratedParticles:new f("0"),fourthCostParticles:new f("1e8"),fourthProduceParticles:.1,fifthOwnedParticles:0,fifthGeneratedParticles:new f("0"),fifthCostParticles:new f("1e16"),fifthProduceParticles:.5,firstOwnedAnts:0,firstGeneratedAnts:new f("0"),firstCostAnts:new f("1e700"),firstProduceAnts:1e-4,secondOwnedAnts:0,secondGeneratedAnts:new f("0"),secondCostAnts:new f("3"),secondProduceAnts:5e-5,thirdOwnedAnts:0,thirdGeneratedAnts:new f("0"),thirdCostAnts:new f("100"),thirdProduceAnts:2e-5,fourthOwnedAnts:0,fourthGeneratedAnts:new f("0"),fourthCostAnts:new f("1e4"),fourthProduceAnts:1e-5,fifthOwnedAnts:0,fifthGeneratedAnts:new f("0"),fifthCostAnts:new f("1e12"),fifthProduceAnts:5e-6,sixthOwnedAnts:0,sixthGeneratedAnts:new f("0"),sixthCostAnts:new f("1e36"),sixthProduceAnts:2e-6,seventhOwnedAnts:0,seventhGeneratedAnts:new f("0"),seventhCostAnts:new f("1e100"),seventhProduceAnts:1e-6,eighthOwnedAnts:0,eighthGeneratedAnts:new f("0"),eighthCostAnts:new f("1e300"),eighthProduceAnts:1e-8,ascendBuilding1:{cost:1,owned:0,generated:new f("0"),multiplier:.01},ascendBuilding2:{cost:10,owned:0,generated:new f("0"),multiplier:.01},ascendBuilding3:{cost:100,owned:0,generated:new f("0"),multiplier:.01},ascendBuilding4:{cost:1e3,owned:0,generated:new f("0"),multiplier:.01},ascendBuilding5:{cost:1e4,owned:0,generated:new f("0"),multiplier:.01},multiplierCost:new f("1e4"),multiplierBought:0,acceleratorCost:new f("500"),acceleratorBought:0,acceleratorBoostBought:0,acceleratorBoostCost:new f("1e3"),upgrades:Array(141).fill(0),prestigeCount:0,transcendCount:0,reincarnationCount:0,prestigePoints:new f("0"),transcendPoints:new f("0"),reincarnationPoints:new f("0"),prestigeShards:new f("0"),transcendShards:new f("0"),reincarnationShards:new f("0"),toggles:{1:!1,2:!1,3:!1,4:!1,5:!1,6:!1,7:!1,8:!1,9:!1,10:!1,11:!1,12:!1,13:!1,14:!1,15:!1,16:!1,17:!1,18:!1,19:!1,20:!1,21:!1,22:!1,23:!1,24:!1,25:!1,26:!1,27:!1,28:!0,29:!0,30:!0,31:!0,32:!0,33:!0,34:!0,35:!0,36:!1,37:!1,38:!1,39:!0,40:!0,41:!0,42:!1,43:!1},challengecompletions:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],highestchallengecompletions:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],challenge15Exponent:0,highestChallenge15Exponent:0,retrychallenges:!1,currentChallenge:{transcension:0,reincarnation:0,ascension:0},researchPoints:0,obtainiumtimer:0,obtainiumpersecond:0,maxobtainiumpersecond:0,maxobtainium:0,researches:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],unlocks:{coinone:!1,cointwo:!1,cointhree:!1,coinfour:!1,prestige:!1,generation:!1,transcend:!1,reincarnate:!1,rrow1:!1,rrow2:!1,rrow3:!1,rrow4:!1},achievements:Array(281).fill(0),achievementPoints:0,prestigenomultiplier:!0,prestigenoaccelerator:!0,transcendnomultiplier:!0,transcendnoaccelerator:!0,reincarnatenomultiplier:!0,reincarnatenoaccelerator:!0,prestigenocoinupgrades:!0,transcendnocoinupgrades:!0,transcendnocoinorprestigeupgrades:!0,reincarnatenocoinupgrades:!0,reincarnatenocoinorprestigeupgrades:!0,reincarnatenocoinprestigeortranscendupgrades:!0,reincarnatenocoinprestigetranscendorgeneratorupgrades:!0,crystalUpgrades:[0,0,0,0,0,0,0,0],crystalUpgradesCost:[7,15,20,40,100,200,500,1e3],runelevels:[1,1,1,1,1,0,0],runeexp:[0,0,0,0,0,0,0],runeshards:0,maxofferings:0,offeringpersecond:0,prestigecounter:0,transcendcounter:0,reincarnationcounter:0,offlinetick:0,prestigeamount:0,transcendamount:0,reincarnationamount:0,fastestprestige:9999999999,fastesttranscend:99999999999,fastestreincarnate:999999999999,resettoggle1:1,resettoggle2:1,resettoggle3:1,resettoggle4:1,tesseractAutoBuyerToggle:0,tesseractAutoBuyerAmount:0,coinbuyamount:1,crystalbuyamount:1,mythosbuyamount:1,particlebuyamount:1,offeringbuyamount:1,tesseractbuyamount:1,shoptoggles:{coin:!0,prestige:!0,transcend:!0,generators:!0,reincarnate:!0},tabnumber:1,subtabNumber:0,codes:new Map(Array.from({length:48},(t,r)=>[r+1,!1])),loaded1009:!0,loaded1009hotfix1:!0,loaded10091:!0,loaded1010:!0,loaded10101:!0,shopUpgrades:{offeringPotion:1,obtainiumPotion:1,offeringEX:0,offeringAuto:0,obtainiumEX:0,obtainiumAuto:0,instantChallenge:0,antSpeed:0,cashGrab:0,shopTalisman:0,seasonPass:0,challengeExtension:0,challengeTome:0,cubeToQuark:0,tesseractToQuark:0,hypercubeToQuark:0,seasonPass2:0,seasonPass3:0,chronometer:0,infiniteAscent:0,calculator:0,calculator2:0,calculator3:0,calculator4:0,calculator5:0,calculator6:0,calculator7:0,constantEX:0,powderEX:0,chronometer2:0,chronometer3:0,seasonPassY:0,seasonPassZ:0,challengeTome2:0,instantChallenge2:0,cashGrab2:0,chronometerZ:0,cubeToQuarkAll:0,offeringEX2:0,obtainiumEX2:0,seasonPassLost:0,powderAuto:0,challenge15Auto:0,extraWarp:0,autoWarp:0,improveQuarkHept:0,improveQuarkHept2:0,improveQuarkHept3:0,improveQuarkHept4:0,shopImprovedDaily:0,shopImprovedDaily2:0,shopImprovedDaily3:0,shopImprovedDaily4:0,offeringEX3:0,obtainiumEX3:0,improveQuarkHept5:0,seasonPassInfinity:0,chronometerInfinity:0,shopSingularityPenaltyDebuff:0,shopAmbrosiaLuckMultiplier4:0,shopOcteractAmbrosiaLuck:0,shopAmbrosiaGeneration1:0,shopAmbrosiaGeneration2:0,shopAmbrosiaGeneration3:0,shopAmbrosiaGeneration4:0,shopAmbrosiaLuck1:0,shopAmbrosiaLuck2:0,shopAmbrosiaLuck3:0,shopAmbrosiaLuck4:0,shopCashGrabUltra:0,shopAmbrosiaAccelerator:0,shopEXUltra:0},shopBuyMaxToggle:!1,shopHideToggle:!1,shopConfirmationToggle:!0,autoPotionTimer:0,autoPotionTimerObtainium:0,autoSacrificeToggle:!1,autoBuyFragment:!1,autoFortifyToggle:!1,autoEnhanceToggle:!1,autoResearchToggle:!1,researchBuyMaxToggle:!1,autoResearchMode:"manual",autoResearch:0,autoSacrifice:0,sacrificeTimer:0,quarkstimer:9e4,goldenQuarksTimer:9e4,antPoints:new f("1"),antUpgrades:[0,0,0,0,0,0,0,0,0,0,0,0],antSacrificePoints:0,antSacrificeTimer:900,antSacrificeTimerReal:900,talismanLevels:[0,0,0,0,0,0,0],talismanRarity:[1,1,1,1,1,1,1],talismanOne:[null,-1,1,1,1,-1],talismanTwo:[null,1,1,-1,-1,1],talismanThree:[null,1,-1,1,1,-1],talismanFour:[null,-1,-1,1,1,1],talismanFive:[null,1,1,-1,-1,1],talismanSix:[null,1,1,1,-1,-1],talismanSeven:[null,-1,1,-1,1,1],talismanShards:0,commonFragments:0,uncommonFragments:0,rareFragments:0,epicFragments:0,legendaryFragments:0,mythicalFragments:0,buyTalismanShardPercent:10,autoAntSacrifice:!1,autoAntSacTimer:900,autoAntSacrificeMode:0,antMax:!1,ascensionCount:0,ascensionCounter:0,ascensionCounterReal:0,ascensionCounterRealReal:0,cubeUpgrades:[null,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],cubeUpgradesBuyMaxToggle:!1,autoCubeUpgradesToggle:!1,autoPlatonicUpgradesToggle:!1,platonicUpgrades:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],wowCubes:new Ft(0),wowTesseracts:new cn(0),wowHypercubes:new un(0),wowPlatonicCubes:new pn(0),saveOfferingToggle:!1,wowAbyssals:0,wowOcteracts:0,totalWowOcteracts:0,cubeBlessings:{accelerator:0,multiplier:0,offering:0,runeExp:0,obtainium:0,antSpeed:0,antSacrifice:0,antELO:0,talismanBonus:0,globalSpeed:0},tesseractBlessings:{accelerator:0,multiplier:0,offering:0,runeExp:0,obtainium:0,antSpeed:0,antSacrifice:0,antELO:0,talismanBonus:0,globalSpeed:0},hypercubeBlessings:{accelerator:0,multiplier:0,offering:0,runeExp:0,obtainium:0,antSpeed:0,antSacrifice:0,antELO:0,talismanBonus:0,globalSpeed:0},platonicBlessings:{cubes:0,tesseracts:0,hypercubes:0,platonics:0,hypercubeBonus:0,taxes:0,scoreBonus:0,globalSpeed:0},hepteractCrafts:{chronos:So,hyperrealism:To,quark:Lo,challenge:Po,abyss:Ao,accelerator:Eo,acceleratorBoost:Uo,multiplier:Oo},ascendShards:new f("0"),autoAscend:!1,autoAscendMode:"c10Completions",autoAscendThreshold:1,autoOpenCubes:!1,openCubes:0,autoOpenTesseracts:!1,openTesseracts:0,autoOpenHypercubes:!1,openHypercubes:0,autoOpenPlatonicsCubes:!1,openPlatonicsCubes:0,roombaResearchIndex:0,ascStatToggles:{1:!1,2:!1,3:!1,4:!1,5:!1,6:!1},prototypeCorruptions:[0,0,0,0,0,0,0,0,0,0,0,0,0],usedCorruptions:[0,0,0,0,0,0,0,0,0,0,0,0,0],corruptionLoadouts:{1:[0,0,0,0,0,0,0,0,0,0,0,0,0],2:[0,0,0,0,0,0,0,0,0,0,0,0,0],3:[0,0,0,0,0,0,0,0,0,0,0,0,0],4:[0,0,0,0,0,0,0,0,0,0,0,0,0],5:[0,0,0,0,0,0,0,0,0,0,0,0,0],6:[0,0,0,0,0,0,0,0,0,0,0,0,0],7:[0,0,0,0,0,0,0,0,0,0,0,0,0],8:[0,0,0,0,0,0,0,0,0,0,0,0,0]},corruptionLoadoutNames:["Loadout 1","Loadout 2","Loadout 3","Loadout 4","Loadout 5","Loadout 6","Loadout 7","Loadout 8"],corruptionShowStats:!0,constantUpgrades:[null,0,0,0,0,0,0,0,0,0,0],history:{ants:[],ascend:[],reset:[],singularity:[]},historyShowPerSecond:!1,autoChallengeRunning:!1,autoChallengeIndex:1,autoChallengeToggles:[!1,!0,!0,!0,!0,!0,!0,!0,!0,!0,!0,!1,!1,!1,!1,!1],autoChallengeStartExponent:10,autoChallengeTimer:{start:10,exit:2,enter:2},runeBlessingLevels:[0,0,0,0,0,0],runeSpiritLevels:[0,0,0,0,0,0],runeBlessingBuyAmount:0,runeSpiritBuyAmount:0,autoTesseracts:[!1,!1,!1,!1,!1,!1],saveString:"Synergism-$VERSION$-$TIME$.txt",exporttest:!!1,dayCheck:null,dayTimer:0,cubeOpenedDaily:0,cubeQuarkDaily:0,tesseractOpenedDaily:0,tesseractQuarkDaily:0,hypercubeOpenedDaily:0,hypercubeQuarkDaily:0,platonicCubeOpenedDaily:0,platonicCubeQuarkDaily:0,overfluxOrbs:0,overfluxOrbsAutoBuy:!1,overfluxPowder:0,dailyPowderResetUses:1,autoWarpCheck:!1,loadedOct4Hotfix:!1,loadedNov13Vers:!0,loadedDec16Vers:!0,loadedV253:!0,loadedV255:!0,loadedV297Hotfix1:!0,loadedV2927Hotfix1:!0,loadedV2930Hotfix1:!0,loadedV2931Hotfix1:!0,loadedV21003Hotfix1:!0,loadedV21007Hotfix1:!0,version:Jt,rngCode:0,promoCodeTiming:{time:0},singularityCount:0,highestSingularityCount:0,singularityCounter:0,goldenQuarks:0,quarksThisSingularity:0,totalQuarksEver:0,hotkeys:{},theme:"Dark Mode",iconSet:0,notation:"Default",singularityUpgrades:{goldenQuarks1:new H(D.goldenQuarks1,"goldenQuarks1"),goldenQuarks2:new H(D.goldenQuarks2,"goldenQuarks2"),goldenQuarks3:new H(D.goldenQuarks3,"goldenQuarks3"),starterPack:new H(D.starterPack,"starterPack"),wowPass:new H(D.wowPass,"wowPass"),cookies:new H(D.cookies,"cookies"),cookies2:new H(D.cookies2,"cookies2"),cookies3:new H(D.cookies3,"cookies3"),cookies4:new H(D.cookies4,"cookies4"),cookies5:new H(D.cookies5,"cookies5"),ascensions:new H(D.ascensions,"ascensions"),corruptionFourteen:new H(D.corruptionFourteen,"corruptionFourteen"),corruptionFifteen:new H(D.corruptionFifteen,"corruptionFifteen"),singOfferings1:new H(D.singOfferings1,"singOfferings1"),singOfferings2:new H(D.singOfferings2,"singOfferings2"),singOfferings3:new H(D.singOfferings3,"singOfferings3"),singObtainium1:new H(D.singObtainium1,"singObtainium1"),singObtainium2:new H(D.singObtainium2,"singObtainium2"),singObtainium3:new H(D.singObtainium3,"singObtainium3"),singCubes1:new H(D.singCubes1,"singCubes1"),singCubes2:new H(D.singCubes2,"singCubes2"),singCubes3:new H(D.singCubes3,"singCubes3"),singCitadel:new H(D.singCitadel,"singCitadel"),singCitadel2:new H(D.singCitadel2,"singCitadel2"),octeractUnlock:new H(D.octeractUnlock,"octeractUnlock"),singOcteractPatreonBonus:new H(D.singOcteractPatreonBonus,"singOcteractPatreonBonus"),intermediatePack:new H(D.intermediatePack,"intermediatePack"),advancedPack:new H(D.advancedPack,"advancedPack"),expertPack:new H(D.expertPack,"expertPack"),masterPack:new H(D.masterPack,"masterPack"),divinePack:new H(D.divinePack,"divinePack"),wowPass2:new H(D.wowPass2,"wowPass2"),potionBuff:new H(D.potionBuff,"potionBuff"),potionBuff2:new H(D.potionBuff2,"potionBuff2"),potionBuff3:new H(D.potionBuff3,"potionBuff3"),singChallengeExtension:new H(D.singChallengeExtension,"singChallengeExtension"),singChallengeExtension2:new H(D.singChallengeExtension2,"singChallengeExtension2"),singChallengeExtension3:new H(D.singChallengeExtension3,"singChallengeExtension3"),singQuarkImprover1:new H(D.singQuarkImprover1,"singQuarkImprover1"),singQuarkHepteract:new H(D.singQuarkHepteract,"singQuarkHepteract"),singQuarkHepteract2:new H(D.singQuarkHepteract2,"singQuarkHepteract2"),singQuarkHepteract3:new H(D.singQuarkHepteract3,"singQuarkHepteract3"),singOcteractGain:new H(D.singOcteractGain,"singOcteractGain"),singOcteractGain2:new H(D.singOcteractGain2,"singOcteractGain2"),singOcteractGain3:new H(D.singOcteractGain3,"singOcteractGain3"),singOcteractGain4:new H(D.singOcteractGain4,"singOcteractGain4"),singOcteractGain5:new H(D.singOcteractGain5,"singOcteractGain5"),wowPass3:new H(D.wowPass3,"wowPass3"),ultimatePen:new H(D.ultimatePen,"ultimatePen"),platonicTau:new H(D.platonicTau,"platonicTau"),platonicAlpha:new H(D.platonicAlpha,"platonicAlpha"),platonicDelta:new H(D.platonicDelta,"platonicDelta"),platonicPhi:new H(D.platonicPhi,"platonicPhi"),singFastForward:new H(D.singFastForward,"singFastForward"),singFastForward2:new H(D.singFastForward2,"singFastForward2"),singAscensionSpeed:new H(D.singAscensionSpeed,"singAscensionSpeed"),singAscensionSpeed2:new H(D.singAscensionSpeed2,"singAscensionSpeed2"),oneMind:new H(D.oneMind,"oneMind"),wowPass4:new H(D.wowPass4,"wowPass4"),offeringAutomatic:new H(D.offeringAutomatic,"offeringAutomatic"),blueberries:new H(D.blueberries,"blueberries"),singAmbrosiaLuck:new H(D.singAmbrosiaLuck,"singAmbrosiaLuck"),singAmbrosiaLuck2:new H(D.singAmbrosiaLuck2,"singAmbrosiaLuck2"),singAmbrosiaLuck3:new H(D.singAmbrosiaLuck3,"singAmbrosiaLuck3"),singAmbrosiaLuck4:new H(D.singAmbrosiaLuck4,"singAmbrosiaLuck4"),singAmbrosiaGeneration:new H(D.singAmbrosiaGeneration,"singAmbrosiaGeneration"),singAmbrosiaGeneration2:new H(D.singAmbrosiaGeneration2,"singAmbrosiaGeneration2"),singAmbrosiaGeneration3:new H(D.singAmbrosiaGeneration3,"singAmbrosiaGeneration3"),singAmbrosiaGeneration4:new H(D.singAmbrosiaGeneration4,"singAmbrosiaGeneration4")},octeractUpgrades:{octeractStarter:new re(J.octeractStarter,"octeractStarter"),octeractGain:new re(J.octeractGain,"octeractGain"),octeractGain2:new re(J.octeractGain2,"octeractGain2"),octeractQuarkGain:new re(J.octeractQuarkGain,"octeractQuarkGain"),octeractQuarkGain2:new re(J.octeractQuarkGain2,"octeractQuarkGain2"),octeractCorruption:new re(J.octeractCorruption,"octeractCorruption"),octeractGQCostReduce:new re(J.octeractGQCostReduce,"octeractGQCostReduce"),octeractExportQuarks:new re(J.octeractExportQuarks,"octeractExportQuarks"),octeractImprovedDaily:new re(J.octeractImprovedDaily,"octeractImprovedDaily"),octeractImprovedDaily2:new re(J.octeractImprovedDaily2,"octeractImprovedDaily2"),octeractImprovedDaily3:new re(J.octeractImprovedDaily3,"octeractImprovedDaily3"),octeractImprovedQuarkHept:new re(J.octeractImprovedQuarkHept,"octeractImprovedQuarkHept"),octeractImprovedGlobalSpeed:new re(J.octeractImprovedGlobalSpeed,"octeractImprovedGlobalSpeed"),octeractImprovedAscensionSpeed:new re(J.octeractImprovedAscensionSpeed,"octeractImprovedAscensionSpeed"),octeractImprovedAscensionSpeed2:new re(J.octeractImprovedAscensionSpeed2,"octeractImprovedAscensionSpeed2"),octeractImprovedFree:new re(J.octeractImprovedFree,"octeractImprovedFree"),octeractImprovedFree2:new re(J.octeractImprovedFree2,"octeractImprovedFree2"),octeractImprovedFree3:new re(J.octeractImprovedFree3,"octeractImprovedFree3"),octeractImprovedFree4:new re(J.octeractImprovedFree4,"octeractImprovedFree4"),octeractSingUpgradeCap:new re(J.octeractSingUpgradeCap,"octeractSingUpgradeCap"),octeractOfferings1:new re(J.octeractOfferings1,"octeractOfferings1"),octeractObtainium1:new re(J.octeractObtainium1,"octeractObtainium1"),octeractAscensions:new re(J.octeractAscensions,"octeractAscensions"),octeractAscensions2:new re(J.octeractAscensions2,"octeractAscensions2"),octeractAscensionsOcteractGain:new re(J.octeractAscensionsOcteractGain,"octeractAscensionsOcteractGain"),octeractFastForward:new re(J.octeractFastForward,"octeractFastForward"),octeractAutoPotionSpeed:new re(J.octeractAutoPotionSpeed,"octeractAutoPotionSpeed"),octeractAutoPotionEfficiency:new re(J.octeractAutoPotionEfficiency,"octeractAutoPotionEfficiency"),octeractOneMindImprover:new re(J.octeractOneMindImprover,"octeractOneMindImprover"),octeractAmbrosiaLuck:new re(J.octeractAmbrosiaLuck,"octeractAmbrosiaLuck"),octeractAmbrosiaLuck2:new re(J.octeractAmbrosiaLuck2,"octeractAmbrosiaLuck2"),octeractAmbrosiaLuck3:new re(J.octeractAmbrosiaLuck3,"octeractAmbrosiaLuck3"),octeractAmbrosiaLuck4:new re(J.octeractAmbrosiaLuck4,"octeractAmbrosiaLuck4"),octeractAmbrosiaGeneration:new re(J.octeractAmbrosiaGeneration,"octeractAmbrosiaGeneration"),octeractAmbrosiaGeneration2:new re(J.octeractAmbrosiaGeneration2,"octeractAmbrosiaGeneration2"),octeractAmbrosiaGeneration3:new re(J.octeractAmbrosiaGeneration3,"octeractAmbrosiaGeneration3"),octeractAmbrosiaGeneration4:new re(J.octeractAmbrosiaGeneration4,"octeractAmbrosiaGeneration4")},dailyCodeUsed:!1,hepteractAutoCraftPercentage:50,octeractTimer:0,insideSingularityChallenge:!1,singularityChallenges:{noSingularityUpgrades:new At(tt.noSingularityUpgrades,"noSingularityUpgrades"),oneChallengeCap:new At(tt.oneChallengeCap,"oneChallengeCap"),noOcteracts:new At(tt.noOcteracts,"noOcteracts"),limitedAscensions:new At(tt.limitedAscensions,"limitedAscensions"),noAmbrosiaUpgrades:new At(tt.noAmbrosiaUpgrades,"noAmbrosiaUpgrades")},ambrosia:0,lifetimeAmbrosia:0,ambrosiaRNG:0,blueberryTime:0,visitedAmbrosiaSubtab:!1,spentBlueberries:0,blueberryUpgrades:{ambrosiaTutorial:new xe(me.ambrosiaTutorial,"ambrosiaTutorial"),ambrosiaQuarks1:new xe(me.ambrosiaQuarks1,"ambrosiaQuarks1"),ambrosiaCubes1:new xe(me.ambrosiaCubes1,"ambrosiaQuarks1"),ambrosiaLuck1:new xe(me.ambrosiaLuck1,"ambrosiaLuck1"),ambrosiaCubeQuark1:new xe(me.ambrosiaCubeQuark1,"ambrosiaCubeQuark1"),ambrosiaLuckQuark1:new xe(me.ambrosiaLuckQuark1,"ambrosiaLuckQuark1"),ambrosiaLuckCube1:new xe(me.ambrosiaLuckCube1,"ambrosiaLuckCube1"),ambrosiaQuarkCube1:new xe(me.ambrosiaQuarkCube1,"ambrosiaQuarkCube1"),ambrosiaCubeLuck1:new xe(me.ambrosiaCubeLuck1,"ambrosiaCubeLuck1"),ambrosiaQuarkLuck1:new xe(me.ambrosiaQuarkLuck1,"ambrosiaQuarkLuck1"),ambrosiaQuarks2:new xe(me.ambrosiaQuarks2,"ambrosiaQuarks2"),ambrosiaCubes2:new xe(me.ambrosiaCubes2,"ambrosiaQuarks2"),ambrosiaLuck2:new xe(me.ambrosiaLuck2,"ambrosiaLuck2"),ambrosiaPatreon:new xe(me.ambrosiaPatreon,"ambrosiaPatreon"),ambrosiaObtainium1:new xe(me.ambrosiaObtainium1,"ambrosiaObtainium1"),ambrosiaOffering1:new xe(me.ambrosiaOffering1,"ambrosiaOffering1"),ambrosiaHyperflux:new xe(me.ambrosiaHyperflux,"ambrosiaHyperflux")},blueberryLoadouts:{1:{},2:{},3:{},4:{},5:{},6:{},7:{},8:{}},blueberryLoadoutMode:"saveTree",ultimateProgress:0,ultimatePixels:0,caches:{ambrosiaLuckAdditiveMult:new Ra,ambrosiaLuck:new Ia,ambrosiaGeneration:new Na,blueberryInventory:new $a},lastExportedSave:0},ve=Object.assign({},e,{codes:new Map(Array.from({length:48},(t,r)=>[r+1,!1]))}),ws={canSave:!0},rr=async t=>{e.offlinetick=Date.now(),e.loaded1009=!0,e.loaded1009hotfix1=!0;let r=Object.assign({},e,{codes:Array.from(e.codes),worlds:Number(e.worlds),wowCubes:Number(e.wowCubes),wowTesseracts:Number(e.wowTesseracts),wowHypercubes:Number(e.wowHypercubes),wowPlatonicCubes:Number(e.wowPlatonicCubes),singularityUpgrades:Object.fromEntries(Object.entries(e.singularityUpgrades).map(([s,a])=>[s,{level:a.level,goldenQuarksInvested:a.goldenQuarksInvested,toggleBuy:a.toggleBuy,freeLevels:a.freeLevels}])),octeractUpgrades:Object.fromEntries(Object.entries(e.octeractUpgrades).map(([s,a])=>[s,{level:a.level,octeractsInvested:a.octeractsInvested,toggleBuy:a.toggleBuy,freeLevels:a.freeLevels}])),singularityChallenges:Object.fromEntries(Object.entries(e.singularityChallenges).map(([s,a])=>[s,{completions:a.completions,highestSingularityCompleted:a.highestSingularityCompleted,enabled:a.enabled}])),blueberryUpgrades:Object.fromEntries(Object.entries(e.blueberryUpgrades).map(([s,a])=>[s,{level:a.level,ambrosiaInvested:a.ambrosiaInvested,blueberriesInvested:a.blueberriesInvested,toggleBuy:a.toggleBuy,freeLevels:a.freeLevels}]))}),n=ua(JSON.stringify(r));if(n!==null){let s=new Blob([n],{type:"text/plain"});if(!ws.canSave)return!1;localStorage.setItem("Synergysave2",n),await Qs.default.setItem("Synergysave2",s)}else return await O(u.t("testing.errorSaving")),!1;if(t){let s=i("saveinfo");s.textContent=u.t("testing.gameSaved"),Ls(()=>s.textContent="",4e3)}return!0},og=new Map([["worlds",t=>new Gn({quarks:Number(t.worlds)||0,bonus:e.worlds.BONUS})],["wowCubes",t=>new Ft(Number(t.wowCubes)||0)],["wowTesseracts",t=>new cn(Number(t.wowTesseracts)||0)],["wowHypercubes",t=>new un(Number(t.wowHypercubes)||0)],["wowPlatonicCubes",t=>new pn(Number(t.wowPlatonicCubes)||0)]]),f0=async()=>{var d,g,m,h;let t=(d=await Qs.default.getItem("Synergysave2"))!=null?d:localStorage.getItem("Synergysave2"),r=typeof t=="string"?t:await(t==null?void 0:t.text()),n=r?JSON.parse(atob(r)):null;if((!1||!Ro)&&(Object.defineProperties(window,{player:{value:e},G:{value:o},Decimal:{value:f},i18n:{value:u}}),n&&!1&&(n.exporttest=!1)),Object.assign(o,ze({},Wp)),n){if((n.exporttest===!1||n.exporttest==="NO!")&&!!1)return O(u.t("testing.saveInLive2"));let b=Array.from({length:24},(L,G)=>`offerpromo${G+1}used`),y=e.codes.size,v=Object.keys(n).filter(L=>L.includes("offerpromo"));if(v.length>0&&v.forEach(L=>{let G=n[L],W=+L.replace(/[^\d]/g,"");e.codes.set(W,!!G)}),Object.keys(n).forEach(L=>{let G=L;if(G in e){if(og.has(G))return e[G]=og.get(G)(n);if(go(e[G]))return e[G]=new f(n[G]);if(G==="codes"){let W=n[G];if(W!=null)return e.codes=new Map(W)}else{if(b.includes(G))return;if(Array.isArray(n[G])){let W=n[G];if(e[G].length<W.length)return e[G]=W.slice(W.length-e[G].length)}}}else return;return e[G]=n[G]}),e.lastExportedSave=(g=n.lastExportedSave)!=null?g:0,n.offerpromo24used!==void 0&&e.codes.set(25,!1),e.codes.size<y)for(let L=e.codes.size+1;L<=y;L++)e.codes.has(L)||e.codes.set(L,!1);if(e.codes.size<y)for(let L=e.codes.size+1;L<=y;L++)e.codes.has(L)||e.codes.set(L,!1);if("rngCode"in n||(e.rngCode=0),(n.loaded1009===void 0||!n.loaded1009)&&(e.loaded1009=!1),(n.loaded1009hotfix1===void 0||!n.loaded1009hotfix1)&&(e.loaded1009hotfix1=!1),n.loaded10091===void 0&&(e.loaded10091=!1),n.loaded1010===void 0&&(e.loaded1010=!1),n.loaded10101===void 0&&(e.loaded10101=!1),n.shopUpgrades===void 0&&(e.shopUpgrades=Object.assign({},ve.shopUpgrades)),typeof e.researches[76]>"u"&&(e.codes.set(13,!1),e.researches.push(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0),e.achievements.push(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0),e.maxofferings=e.runeshards,e.maxobtainium=e.researchPoints,e.researchPoints+=51200*e.researches[50],e.researches[50]=0),e.maxofferings=e.maxofferings||0,e.maxobtainium=e.maxobtainium||0,e.runeshards=e.runeshards||0,e.researchPoints=e.researchPoints||0,(!n.loaded1009||n.loaded1009hotfix1===null||((m=n.shopUpgrades)==null?void 0:m.offeringPotion)===void 0)&&(e.firstOwnedParticles=0,e.secondOwnedParticles=0,e.thirdOwnedParticles=0,e.fourthOwnedParticles=0,e.fifthOwnedParticles=0,e.firstCostParticles=new f("1"),e.secondCostParticles=new f("1e2"),e.thirdCostParticles=new f("1e4"),e.fourthCostParticles=new f("1e8"),e.fifthCostParticles=new f("1e16"),e.autoSacrificeToggle=!1,e.autoResearchToggle=!1,e.autoResearchMode="manual",e.autoResearch=0,e.autoSacrifice=0,e.sacrificeTimer=0,e.loaded1009=!0,e.codes.set(18,!1)),n.loaded1009hotfix1||(e.loaded1009hotfix1=!0,e.codes.set(19,!0),e.firstOwnedParticles=0,e.secondOwnedParticles=0,e.thirdOwnedParticles=0,e.fourthOwnedParticles=0,e.fifthOwnedParticles=0,e.firstCostParticles=new f("1"),e.secondCostParticles=new f("1e2"),e.thirdCostParticles=new f("1e4"),e.fourthCostParticles=new f("1e8"),e.fifthCostParticles=new f("1e16")),(n.loaded10091===void 0||!n.loaded10091||e.researches[86]>100||e.researches[87]>100||e.researches[88]>100||e.researches[89]>100||e.researches[90]>10)&&(e.loaded10091=!0,e.researchPoints+=75e7*e.researches[82],e.researchPoints+=2e8*e.researches[83],e.researchPoints+=45e8*e.researches[84],e.researchPoints+=25e6*e.researches[86],e.researchPoints+=75e6*e.researches[87],e.researchPoints+=3e8*e.researches[88],e.researchPoints+=1e9*e.researches[89],e.researchPoints+=25e6*e.researches[90],e.researchPoints+=1e8*e.researches[91],e.researchPoints+=2e9*e.researches[92],e.researchPoints+=9e9*e.researches[93],e.researchPoints+=725e8*e.researches[94],e.researches[86]=0,e.researches[87]=0,e.researches[88]=0,e.researches[89]=0,e.researches[90]=0,e.researches[91]=0,e.researches[92]=0),(((h=n.achievements)==null?void 0:h[169])===void 0||typeof e.achievements[169]>"u"||n.loaded1010===void 0||n.loaded1010===!1)&&(e.loaded1010=!0,e.codes.set(21,!1),e.firstOwnedAnts=0,e.firstGeneratedAnts=new f("0"),e.firstCostAnts=new f("1e700"),e.firstProduceAnts=1e-4,e.secondOwnedAnts=0,e.secondGeneratedAnts=new f("0"),e.secondCostAnts=new f("3"),e.secondProduceAnts=5e-5,e.thirdOwnedAnts=0,e.thirdGeneratedAnts=new f("0"),e.thirdCostAnts=new f("100"),e.thirdProduceAnts=2e-5,e.fourthOwnedAnts=0,e.fourthGeneratedAnts=new f("0"),e.fourthCostAnts=new f("1e4"),e.fourthProduceAnts=1e-5,e.fifthOwnedAnts=0,e.fifthGeneratedAnts=new f("0"),e.fifthCostAnts=new f("1e12"),e.fifthProduceAnts=5e-6,e.sixthOwnedAnts=0,e.sixthGeneratedAnts=new f("0"),e.sixthCostAnts=new f("1e36"),e.sixthProduceAnts=2e-6,e.seventhOwnedAnts=0,e.seventhGeneratedAnts=new f("0"),e.seventhCostAnts=new f("1e100"),e.seventhProduceAnts=1e-6,e.eighthOwnedAnts=0,e.eighthGeneratedAnts=new f("0"),e.eighthCostAnts=new f("1e300"),e.eighthProduceAnts=1e-8,e.achievements.push(0,0,0,0,0,0,0,0,0,0,0,0,0,0),e.antPoints=new f("1"),e.upgrades[38]=0,e.upgrades[39]=0,e.upgrades[40]=0,e.upgrades[76]=0,e.upgrades[77]=0,e.upgrades[78]=0,e.upgrades[79]=0,e.upgrades[80]=0,e.antUpgrades=[0,0,0,0,0,0,0,0,0,0,0,0],e.unlocks.rrow4=!1,e.researchPoints+=3e7*e.researches[50],e.researchPoints+=2e9*e.researches[96],e.researchPoints+=5e9*e.researches[97],e.researchPoints+=3e10*e.researches[98],e.researches[50]=0,e.researches[96]=0,e.researches[97]=0,e.researches[98]=0,e.researches.push(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0),e.talismanLevels=[0,0,0,0,0,0,0],e.talismanRarity=[1,1,1,1,1,1,1],e.talismanShards=0,e.commonFragments=0,e.uncommonFragments=0,e.rareFragments=0,e.epicFragments=0,e.legendaryFragments=0,e.mythicalFragments=0,e.buyTalismanShardPercent=10,e.talismanOne=[null,-1,1,1,1,-1],e.talismanTwo=[null,1,1,-1,-1,1],e.talismanThree=[null,1,-1,1,1,-1],e.talismanFour=[null,-1,-1,1,1,1],e.talismanFive=[null,1,1,-1,-1,1],e.talismanSix=[null,1,1,1,-1,-1],e.talismanSeven=[null,-1,1,-1,1,1],e.antSacrificePoints=0,e.antSacrificeTimer=0,e.obtainiumpersecond=0,e.maxobtainiumpersecond=0),n.loaded10101===void 0||n.loaded10101===!1){e.loaded10101=!0;let L=[0,31,32,61,62,63,64,76,77,78,79,80,81,98,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,125],G=[0,2,20,5,10,80,5e3,1e7,1e7,2e7,3e7,4e7,2e8,3e10,1e11,1e12,2e11,1e12,2e10,2e11,1e12,2e13,5e13,1e14,2e14,5e14,1e15,2e15,1e16,1e15,1e16,1e14,1e15,1e15,1e20];for(let W=1;W<L.length;W++)e.researchPoints+=e.researches[L[W]]*G[W],e.researches[L[W]]=0;e.autoAntSacrifice=!1,e.antMax=!1}if(e.firstOwnedAnts<1&&e.firstCostAnts.gte("1e1200")&&(e.firstCostAnts=new f("1e700"),e.firstOwnedAnts=0),tg(n),(n.ascensionCount===void 0||e.ascensionCount===0)&&(e.ascensionCount=0,e.ascensionCounter===0&&e.prestigeCount>0&&(e.ascensionCounter=86400*90),e.singularityCount===0&&(e.cubeUpgrades=[...ve.cubeUpgrades]),e.wowCubes=new Ft(0),e.wowTesseracts=new cn(0),e.wowHypercubes=new un(0),e.wowPlatonicCubes=new pn(0),e.cubeBlessings={accelerator:0,multiplier:0,offering:0,runeExp:0,obtainium:0,antSpeed:0,antSacrifice:0,antELO:0,talismanBonus:0,globalSpeed:0}),n.autoAntSacTimer==null&&(e.autoAntSacTimer=900),n.autoAntSacrificeMode===void 0&&(e.autoAntSacrificeMode=0),e.transcendCount<0&&(e.transcendCount=0),e.reincarnationCount<0&&(e.reincarnationCount=0),e.runeshards<0&&(e.runeshards=0),e.researchPoints<0&&(e.researchPoints=0),e.resettoggle1===0&&(e.resettoggle1=1,e.resettoggle2=1,e.resettoggle3=1,e.resettoggle4=1),e.tesseractAutoBuyerToggle===0&&(e.tesseractAutoBuyerToggle=1),e.reincarnationCount<.5&&e.unlocks.rrow4&&(e.unlocks={coinone:!1,cointwo:!1,cointhree:!1,coinfour:!1,prestige:!1,generation:!1,transcend:!1,reincarnate:!1,rrow1:!1,rrow2:!1,rrow3:!1,rrow4:!1}),n.history===void 0)e.history={ants:[],ascend:[],reset:[],singularity:[]};else{let L=Object.keys(ve.history);for(let G of L)G in e.history||(e.history[G]=[])}n.historyShowPerSecond===void 0&&(e.historyShowPerSecond=!1),Number.isInteger(e.ascendBuilding1.cost)||(e.ascendBuilding1.cost=1,e.ascendBuilding1.owned=0,e.ascendBuilding2.cost=10,e.ascendBuilding2.owned=0,e.ascendBuilding3.cost=100,e.ascendBuilding3.owned=0,e.ascendBuilding4.cost=1e3,e.ascendBuilding4.owned=0,e.ascendBuilding5.cost=1e4,e.ascendBuilding5.owned=0),e.dayCheck||(e.dayCheck=new Date),typeof e.dayCheck=="string"&&(e.dayCheck=new Date(e.dayCheck),isNaN(e.dayCheck.getTime())&&(e.dayCheck=new Date));let w=dn;isNaN(w.getTime())?e.dayCheck.getTime()<16540092e5&&(e.dayCheck=new Date("06/01/2022 00:00:00")):(w=new Date(w.getFullYear(),w.getMonth(),w.getDate()-1),e.dayCheck.getTime()<w.getTime()&&(e.dayCheck=w)),e.dayCheck=new Date(e.dayCheck.getFullYear(),e.dayCheck.getMonth(),e.dayCheck.getDate());let k=Kn();e.usedCorruptions=e.usedCorruptions.map((L,G)=>G>=2&&G<=9?Math.min(k*(e.challengecompletions[ii(G)]>0?1:0),L):L);for(let L=1;L<=5;L++){let G=`ascendBuilding${L}`;e[G].generated=new f(e[G].generated)}for(;typeof e.achievements[252]>"u";)e.achievements.push(0);for(;typeof e.researches[200]>"u";)e.researches.push(0);for(;typeof e.upgrades[140]>"u";)e.upgrades.push(0);(e.saveString===""||e.saveString==="Synergism-v1011Test.txt")&&(e.saveString=e.singularityCount===0?"Synergism-$VERSION$-$TIME$.txt":"Synergism-$VERSION$-$TIME$-$SING$.txt"),i("saveStringInput").value=Za(e.saveString);for(let L=1;L<126;L++)Gt(L,!0);for(let L=1;L<=200;L++)ba(L);for(let L=1;L<e.cubeUpgrades.length;L++)Qn(L);let P=document.querySelectorAll('img[id^="platUpg"]');for(let L=1;L<=P.length;L++)Ss(L);let A=["coin","crystal","mythos","particle","offering","tesseract"];e.coinbuyamount!==1&&e.coinbuyamount!==10&&e.coinbuyamount!==100&&e.coinbuyamount!==1e3&&(e.coinbuyamount=1),e.crystalbuyamount!==1&&e.crystalbuyamount!==10&&e.crystalbuyamount!==100&&e.crystalbuyamount!==1e3&&(e.crystalbuyamount=1),e.mythosbuyamount!==1&&e.mythosbuyamount!==10&&e.mythosbuyamount!==100&&e.mythosbuyamount!==1e3&&(e.mythosbuyamount=1),e.particlebuyamount!==1&&e.particlebuyamount!==10&&e.particlebuyamount!==100&&e.particlebuyamount!==1e3&&(e.particlebuyamount=1),e.offeringbuyamount!==1&&e.offeringbuyamount!==10&&e.offeringbuyamount!==100&&e.offeringbuyamount!==1e3&&(e.offeringbuyamount=1),e.tesseractbuyamount!==1&&e.tesseractbuyamount!==10&&e.tesseractbuyamount!==100&&e.tesseractbuyamount!==1e3&&(e.tesseractbuyamount=1);for(let L=0;L<=5;L++){for(let j=0;j<4;j++){let se="";j===0&&(se="one"),j===1&&(se="ten"),j===2&&(se="hundred"),j===3&&(se="thousand");let ce=`${A[L]}${se}`;i(ce).style.backgroundColor=""}let G="",W=e[`${A[L]}buyamount`];W===1&&(G="one"),W===10&&(G="ten"),W===100&&(G="hundred"),W===1e3&&(G="thousand");let x=`${A[L]}${G}`;i(x).style.backgroundColor="green"}let R=[];for(let L=0;L<o.researchBaseCosts.length;L++)R.push(o.researchBaseCosts[L]);o.researchOrderByCost=du(R),e.roombaResearchIndex=0,vn(),yi(),Cr(),Oe(),oc(),e.currentChallenge.transcension>0?lt(e.currentChallenge.transcension):e.currentChallenge.reincarnation>0?lt(e.currentChallenge.reincarnation):e.currentChallenge.ascension>0?lt(e.currentChallenge.ascension):lt(1),Sa();let Q=Math.min(8,Object.keys(e.corruptionLoadouts).length)+1;for(let L=0;L<Q;L++)Yn(L);bi(),cc(),i("researchrunebonus").textContent=u.t("runes.thanksResearches",{percent:p(100*o.effectiveLevelMult-100,4,!0)}),i("talismanlevelup").style.display="none",i("talismanrespec").style.display="none",i("antSacrificeSummary").style.display="none",fn(),vo(),Dn(),Hn(),Qt(),mt(0),mt(1),mt(2),mt(3),mt(4),mt(5),mt(6);for(let L in e.ascStatToggles)Ir(+L),Ir(+L);let $=/e\+/,I=e.autoChallengeTimer.start,S=Number(i("startAutoChallengeTimerInput").value);switch((S!==I||isNaN(S+I))&&(i("startAutoChallengeTimerInput").value=`${e.autoChallengeTimer.start||ve.autoChallengeTimer.start}`.replace($,"e"),Cn(1)),i("startTimerValue").innerHTML=u.t("challenges.timeStartSweep",{time:p(e.autoChallengeTimer.start,2,!0)}),I=e.autoChallengeTimer.exit,S=Number(i("exitAutoChallengeTimerInput").value),(S!==I||isNaN(S+I))&&(i("exitAutoChallengeTimerInput").value=`${e.autoChallengeTimer.exit||ve.autoChallengeTimer.exit}`.replace($,"e"),Cn(2)),i("exitTimerValue").innerHTML=u.t("challenges.timeExitChallenge",{time:p(e.autoChallengeTimer.exit,2,!0)}),I=e.autoChallengeTimer.enter,S=Number(i("enterAutoChallengeTimerInput").value),(S!==I||isNaN(S+I))&&(i("enterAutoChallengeTimerInput").value=`${e.autoChallengeTimer.enter||ve.autoChallengeTimer.enter}`.replace($,"e"),Cn(3)),i("enterTimerValue").innerHTML=u.t("challenges.timeEnterChallenge",{time:p(e.autoChallengeTimer.enter,2,!0)}),I=e.prestigeamount,S=Number(i("prestigeamount").value),(S!==I||isNaN(S+I))&&(i("prestigeamount").value=`${e.prestigeamount||ve.prestigeamount}`.replace($,"e"),nr(1)),I=e.transcendamount,S=Number(i("transcendamount").value),(S!==I||isNaN(S+I))&&(i("transcendamount").value=`${e.transcendamount||ve.transcendamount}`.replace($,"e"),nr(2)),I=e.reincarnationamount,S=Number(i("reincarnationamount").value),(S!==I||isNaN(S+I))&&(i("reincarnationamount").value=`${e.reincarnationamount||ve.reincarnationamount}`.replace($,"e"),nr(3)),I=e.autoAscendThreshold,S=Number(i("ascensionAmount").value),(S!==I||isNaN(S+I))&&(i("ascensionAmount").value=`${e.autoAscendThreshold||ve.autoAscendThreshold}`.replace($,"e"),nr(4)),I=e.autoAntSacTimer,S=Number(i("autoAntSacrificeAmount").value),(S!==I||isNaN(S+I))&&(i("autoAntSacrificeAmount").value=`${e.autoAntSacTimer||ve.autoAntSacTimer}`.replace($,"e"),nr(5)),I=e.tesseractAutoBuyerAmount,S=Number(i("tesseractAmount").value),(S!==I||isNaN(S+I))&&(i("tesseractAmount").value=`${e.tesseractAutoBuyerAmount||ve.tesseractAutoBuyerAmount}`.replace($,"e"),oi()),I=e.openCubes,S=Number(i("cubeOpensInput").value),(S!==I||isNaN(S+I))&&(i("cubeOpensInput").value=`${e.openCubes||ve.openCubes}`.replace($,"e"),Rr(1)),I=e.openTesseracts,S=Number(i("tesseractsOpensInput").value),(S!==I||isNaN(S+I))&&(i("tesseractsOpensInput").value=`${e.openTesseracts||ve.openTesseracts}`.replace($,"e"),Rr(2)),I=e.openHypercubes,S=Number(i("hypercubesOpensInput").value),(S!==I||isNaN(S+I))&&(i("hypercubesOpensInput").value=`${e.openHypercubes||ve.openHypercubes}`.replace($,"e"),Rr(3)),I=e.openPlatonicsCubes,S=Number(i("platonicCubeOpensInput").value),(S!==I||isNaN(S+I))&&(i("platonicCubeOpensInput").value=`${e.openPlatonicsCubes||ve.openPlatonicsCubes}`.replace($,"e"),Rr(4)),I=e.runeBlessingBuyAmount,S=Number(i("buyRuneBlessingInput").value),(S!==I||isNaN(S+I))&&(i("buyRuneBlessingInput").value=`${e.runeBlessingBuyAmount||ve.runeBlessingBuyAmount}`.replace($,"e"),Ea(1)),i("buyRuneBlessingToggle").innerHTML=u.t("runes.blessings.buyUpTo",{amount:p(e.runeBlessingBuyAmount)}),I=e.runeSpiritBuyAmount,S=Number(i("buyRuneSpiritInput").value),(S!==I||isNaN(S+I))&&(i("buyRuneSpiritInput").value=`${e.runeSpiritBuyAmount||ve.runeSpiritBuyAmount}`.replace($,"e"),Ea(2)),i("buyRuneSpiritToggleValue").innerHTML=u.t("runes.spirits.buyUpTo",{amount:p(e.runeSpiritBuyAmount,0,!0)}),e.resettoggle1===1&&(i("prestigeautotoggle").textContent=u.t("toggles.modeAmount")),e.resettoggle2===1&&(i("transcendautotoggle").textContent=u.t("toggles.modeAmount")),e.resettoggle3===1&&(i("reincarnateautotoggle").textContent=u.t("toggles.modeAmount")),e.resettoggle4===1&&(i("tesseractautobuymode").textContent=u.t("toggles.modeAmount")),e.resettoggle1===2&&(i("prestigeautotoggle").textContent=u.t("toggles.modeTime")),e.resettoggle2===2&&(i("transcendautotoggle").textContent=u.t("toggles.modeTime")),e.resettoggle3===2&&(i("reincarnateautotoggle").textContent=u.t("toggles.modeTime")),e.resettoggle4===2&&(i("tesseractautobuymode").textContent=u.t("toggles.modePercentage")),e.tesseractAutoBuyerToggle===1&&(i("tesseractautobuytoggle").textContent=u.t("runes.talismans.autoBuyOn"),i("tesseractautobuytoggle").style.border="2px solid green"),e.tesseractAutoBuyerToggle===2&&(i("tesseractautobuytoggle").textContent=u.t("runes.talismans.autoBuyOff"),i("tesseractautobuytoggle").style.border="2px solid red"),e.autoOpenCubes?(i("openCubes").textContent=u.t("wowCubes.autoOn",{percent:p(e.openCubes,0)}),i("openCubes").style.border="1px solid green",i("cubeOpensInput").style.border="1px solid green"):(i("openCubes").textContent=u.t("wowCubes.autoOff"),i("openCubes").style.border="1px solid red",i("cubeOpensInput").style.border="1px solid red"),e.autoOpenTesseracts?(i("openTesseracts").textContent=u.t("wowCubes.autoOn",{percent:p(e.openTesseracts,0)}),i("openTesseracts").style.border="1px solid green",i("tesseractsOpensInput").style.border="1px solid green"):(i("openTesseracts").textContent=u.t("wowCubes.autoOff"),i("openTesseracts").style.border="1px solid red",i("tesseractsOpensInput").style.border="1px solid red"),e.autoOpenHypercubes?(i("openHypercubes").textContent=u.t("wowCubes.autoOn",{percent:p(e.openHypercubes,0)}),i("openHypercubes").style.border="1px solid green",i("hypercubesOpensInput").style.border="1px solid green"):(i("openHypercubes").textContent=u.t("wowCubes.autoOff"),i("openHypercubes").style.border="1px solid red",i("hypercubesOpensInput").style.border="1px solid red"),e.autoOpenPlatonicsCubes?(i("openPlatonicCube").textContent=u.t("wowCubes.autoOn",{percent:p(e.openPlatonicsCubes,0)}),i("openPlatonicCube").style.border="1px solid green",i("platonicCubeOpensInput").style.border="1px solid green"):(i("openPlatonicCube").textContent=u.t("wowCubes.autoOff"),i("openPlatonicCube").style.border="1px solid red",i("platonicCubeOpensInput").style.border="1px solid red"),e.autoResearchToggle?i("toggleautoresearch").textContent=u.t("researches.automaticOn"):i("toggleautoresearch").textContent=u.t("researches.automaticOff"),e.autoResearchMode==="cheapest"?i("toggleautoresearchmode").textContent=u.t("researches.autoModeCheapest"):i("toggleautoresearchmode").textContent=u.t("researches.autoModeManual"),e.autoSacrificeToggle?(i("toggleautosacrifice").textContent=u.t("runes.blessings.autoRuneOn"),i("toggleautosacrifice").style.border="2px solid green"):(i("toggleautosacrifice").textContent=u.t("runes.blessings.autoRuneOff"),i("toggleautosacrifice").style.border="2px solid red"),e.autoBuyFragment?(i("toggleautoBuyFragments").textContent=u.t("runes.talismans.autoBuyOn"),i("toggleautoBuyFragments").style.border="2px solid white",i("toggleautoBuyFragments").style.color="orange"):(i("toggleautoBuyFragments").textContent=u.t("runes.talismans.autoBuyOff"),i("toggleautoBuyFragments").style.border="2px solid orange",i("toggleautoBuyFragments").style.color="white"),e.autoFortifyToggle?(i("toggleautofortify").textContent=u.t("runes.autoFortifyOn"),i("toggleautofortify").style.border="2px solid green"):(i("toggleautofortify").textContent=u.t("runes.autoFortifyOff"),i("toggleautofortify").style.border="2px solid red"),e.autoEnhanceToggle?(i("toggleautoenhance").textContent=u.t("runes.autoEnhanceOn"),i("toggleautoenhance").style.border="2px solid green"):(i("toggleautoenhance").textContent=u.t("runes.autoEnhanceOff"),i("toggleautoenhance").style.border="2px solid red"),e.saveOfferingToggle=!1,i("saveOffToggle").textContent=u.t("toggles.saveOfferingsOff"),i("saveOffToggle").style.color="white",e.autoAscend?(i("ascensionAutoEnable").textContent=u.t("corruptions.autoAscend.on"),i("ascensionAutoEnable").style.border="2px solid green"):(i("ascensionAutoEnable").textContent=u.t("corruptions.autoAscend.off"),i("ascensionAutoEnable").style.border="2px solid red"),e.shopConfirmationToggle?i("toggleConfirmShop").textContent=u.t("shop.shopConfirmationOn"):i("toggleConfirmShop").textContent=u.t("shop.shopConfirmationOff"),e.shopBuyMaxToggle){case!1:i("toggleBuyMaxShopText").textContent=u.t("shop.buy1");break;case"TEN":i("toggleBuyMaxShopText").textContent=u.t("shop.buy10");break;case!0:i("toggleBuyMaxShopText").textContent=u.t("shop.buyMax");break;case"ANY":i("toggleBuyMaxShopText").textContent=u.t("shop.buyAny")}e.shopHideToggle?i("toggleHideShop").textContent=u.t("shop.hideMaxedOn"):i("toggleHideShop").textContent=u.t("shop.hideMaxedOff"),e.researchBuyMaxToggle?i("toggleresearchbuy").textContent=u.t("researches.upgradeMax"):i("toggleresearchbuy").textContent=u.t("researches.upgradeOne"),e.cubeUpgradesBuyMaxToggle?i("toggleCubeBuy").textContent=u.t("toggles.upgradeMaxIfPossible"):i("toggleCubeBuy").textContent=u.t("toggles.upgradeOneLevelWow"),mi(!1),hi(!1);for(let L=1;L<=2;L++)fi(),Pa(0),Pa(1);for(let L=1;L<=2;L++)Aa(0),Aa(1);i("historyTogglePerSecondButton").textContent=`Per second: ${e.historyShowPerSecond?"ON":"OFF"}`,i("historyTogglePerSecondButton").style.borderColor=e.historyShowPerSecond?"green":"red",e.autoResearchToggle&&Vt()&&e.autoResearchMode==="cheapest"&&(e.autoResearch=o.researchOrderByCost[e.roombaResearchIndex]),e.autoResearch=Math.min(200,e.autoResearch),e.autoSacrifice=Math.min(5,e.autoSacrifice),e.researches[61]===0&&(i("automaticobtainium").textContent=u.t("main.buyResearch3x11")),e.autoSacrificeToggle&&e.autoSacrifice>.5&&(i(`rune${e.autoSacrifice}`).style.backgroundColor="orange"),e.autoWarpCheck?(i("warpAuto").textContent=u.t("general.autoOnColon"),i("warpAuto").style.border="2px solid green"):(i("warpAuto").textContent=u.t("general.autoOffColon"),i("warpAuto").style.border="2px solid red"),i("autoHepteractPercentage").textContent=u.t("wowCubes.hepteractForge.autoSetting",{x:`${e.hepteractAutoCraftPercentage}`}),i("hepteractToQuarkTradeAuto").textContent=e.overfluxOrbsAutoBuy?u.t("general.autoOnColon"):u.t("general.autoOffColon"),i("hepteractToQuarkTradeAuto").style.border=`2px solid ${e.overfluxOrbsAutoBuy?"green":"red"}`,ko(!0,!0),i("blueberryToggleMode").innerHTML=e.blueberryLoadoutMode==="saveTree"?u.t("ambrosia.loadouts.save"):u.t("ambrosia.loadouts.load"),Ca(e.buyTalismanShardPercent),_t(),yr(),Ot(),Fe(),Mc(),Pp(),Vl()}vd(),e.currentChallenge.reincarnation?ot("reincarnationChallenge"):e.currentChallenge.transcension&&ot("transcensionChallenge");let s=new Date,a=s.getHours(),l=s.getMinutes(),c=s.getSeconds();e.dayTimer=60*60*24-(c+60*l+60*60*a)},ig=["","K","M","B","T","Qa","Qt","Sx","Sp","Oc","No","Dc","UDc","DDc","TDc","QaDc","QtDc","SxDc","SpDc","OcDc","NoDc","Vg","UVg","DVg","TVg","QaVg","QtVg","SxVg","SpVg","OcVg","NoVg","Tg","UTg","DTg","TTg","QaTg","QtTg","SxTg","SpTg","OTg","NTg","Qd","UQd","DQd","TQd","QaQd","QtQd","SxQd","SpQd","OcQd","NoQd","Qi","UQi","DQi","TQi","QaQi","QtQi","SxQi","SpQi","OQi","NQi","Se","USe","DSe","TSe","QaSe","QtSe","SxSe","SpSe","OcSe","NoSe","St","USt","DSt","TSt","QaSt","QtSt","SxSt","SpSt","OcSt","NoSt","Ocg","UOcg","DOcg","TOcg","QaOcg","QtOcg","SxOcg","SpOcg","OcOcg","NoOcg","Nono","UNono","DNono","TNono","QaNono","QtNono","SxNono","SpNono","OcNono","NoNono","Ce"],m0=typeof Intl.NumberFormat.prototype.formatToParts=="function",ki=m0?Intl.NumberFormat().formatToParts(1000.1).filter(t=>t.type==="decimal"||t.type==="group"):null,[{value:h0},{value:b0}]=(ki==null?void 0:ki.length)!==2?[{value:","},{value:"."}]:ki,Tc={minimumFractionDigits:2,maximumFractionDigits:2},Lc=(t,r=3)=>{let n=1,s="",a=t.split(".");for(let l=a[0].length-1;l>=0;l--)n++===r&&l!==0?(n=1,s=h0+t[l]+s):s=t[l]+s;return typeof a[1]<"u"&&(s+=b0+a[1]),s|0,s},p=(t,r=0,n=!1,s=!0,a=!1)=>{if(t==null)return"0 [null]";if(typeof t=="object"&&Symbol.toPrimitive in t&&(t=Number(t)),!(t instanceof f)&&typeof t!="number"||isNaN(t))return isNaN(t)?"0 [NaN]":"0 [und.]";if(typeof t=="number"&&e.notation==="Default"&&t<(a?1e-15:.001)&&t>0)return t.toExponential(r);let l,c;if(go(t))l=t.e,c=t.mantissa;else if(typeof t=="number"){if(t===0)return"0";l=Math.floor(Math.log10(Math.abs(t))),c=t/Math.pow(10,l)}if(c>9.9999999&&(c=1,++l),c<1&&c>.9999999&&(c=1),l<-15)return"0";if(e.notation==="Pure Engineering"){let d=l%3<0?3+l%3:l%3;l=l-d,c=c*Math.pow(10,d)}if(e.notation==="Pure Scientific"||e.notation==="Pure Engineering"){if(l>=1e6)return Number.isFinite(l)?`E${p(l,3)}`:"Infinity";if(r=l===2&&r>2?2:r,l>=6||l<0){r=r<2?2:r;let g=(Math.floor(c*Math.pow(10,r))/Math.pow(10,r)).toLocaleString(void 0,Tc),m=Lc(l.toString());return`${g}e${m}`}return c=c*Math.pow(10,l),c-Math.floor(c)>.9999999&&(c=Math.ceil(c)),`${(Math.floor(c*Math.pow(10,r))/Math.pow(10,r)).toLocaleString(void 0,{minimumFractionDigits:r,maximumFractionDigits:r})}`}if(l<0&&!go(t)&&a)return l<=-15?`${p(c,r,n)} / ${Math.pow(10,-l-15)}Qa`:l<=-12?`${p(c,r,n)} / ${Math.pow(10,-l-12)}T`:l<=-9?`${p(c,r,n)} / ${Math.pow(10,-l-9)}B`:l<=-6?`${p(c,r,n)} / ${Math.pow(10,-l-6)}M`:l<=-3?`${p(c,r,n)} / ${Math.pow(10,-l-3)}K`:`${p(c,r,n)} / ${Math.pow(10,-l)}`;if(l<6||n&&l<7){let d=c*Math.pow(10,l),g;return d-Math.floor(d)>.9999999&&(d=Math.ceil(d)),(l<2||n&&l<3)&&r>0?g=d.toFixed(l===2&&r>2?2:r):(d=Math.floor(d),g=d.toString()),Lc(g)}else if(l<1e6){let d=(Math.floor(c*100)/100).toLocaleString(void 0,Tc),g=Lc(l.toString());return`${d}e${g}`}else if(l>=1e6){if(!Number.isFinite(l))return"Infinity";let d=!1&&s?"":(Math.floor(c*100)/100).toLocaleString(void 0,Tc),g=Math.ceil(Math.log10(l)),m=(g-1)%3+1,h=l/Math.pow(10,g-m);h===1e3&&(h=1,m=1);let b=h.toLocaleString(void 0,{minimumFractionDigits:4-m,maximumFractionDigits:4-m}),y=Math.floor(Math.log10(l)/3);return typeof ig[y]=="string"?`${d}e${b}${ig[y]}`:`e${l.toExponential(2)}`}else return"0 [und.]"},tr=(t,r)=>(t>=86400?`${p(Math.floor(t/86400))}d`:"")+(t>=3600?`${p(Math.floor(t/3600)%24)}h`:"")+(t>=60?`${p(Math.floor(t/60)%60)}m`:"")+(t>=864e4?"":`${p(Math.floor(t)%60)+(r&&t<r?`.${Math.floor(t%1*1e3).toString().padStart(3,"0")}`:"")}s`),cl=()=>{let t=0;o.totalAccelerator=e.acceleratorBought,o.costDivisor=1,e.upgrades[8]!==0&&(t+=Math.floor(e.multiplierBought/7)),e.upgrades[21]!==0&&(t+=5),e.upgrades[22]!==0&&(t+=4),e.upgrades[23]!==0&&(t+=3),e.upgrades[24]!==0&&(t+=2),e.upgrades[25]!==0&&(t+=1),e.upgrades[27]!==0&&(t+=Math.min(250,Math.floor(f.log(e.coins.add(1),1e3)))+Math.min(1750,Math.max(0,Math.floor(f.log(e.coins.add(1),1e15))-50))),e.upgrades[29]!==0&&(t+=Math.floor(Math.min(2e3,(e.firstOwnedCoin+e.secondOwnedCoin+e.thirdOwnedCoin+e.fourthOwnedCoin+e.fifthOwnedCoin)/80))),e.upgrades[32]!==0&&(t+=Math.min(500,Math.floor(f.log(e.prestigePoints.add(1),1e25)))),e.upgrades[45]!==0&&(t+=Math.min(2500,Math.floor(f.log(e.transcendShards.add(1),10)))),e.achievements[5]!==0&&(t+=Math.floor(e.firstOwnedCoin/500)),e.achievements[12]!==0&&(t+=Math.floor(e.secondOwnedCoin/500)),e.achievements[19]!==0&&(t+=Math.floor(e.thirdOwnedCoin/500)),e.achievements[26]!==0&&(t+=Math.floor(e.fourthOwnedCoin/500)),e.achievements[33]!==0&&(t+=Math.floor(e.fifthOwnedCoin/500)),e.achievements[60]!==0&&(t+=2),e.achievements[61]!==0&&(t+=2),e.achievements[62]!==0&&(t+=2),t+=5*K("transcend",e.challengecompletions[2]),o.freeUpgradeAccelerator=t,t+=o.totalAcceleratorBoost*(4+2*e.researches[18]+2*e.researches[19]+3*e.researches[20]+o.cubeBonusMultiplier[1]),e.unlocks.prestige&&(t+=Math.floor(Math.pow(o.rune1level*o.effectiveLevelMult/4,1.25)),t*=1+o.rune1level*1/400*o.effectiveLevelMult),Ld(),t*=o.acceleratorMultiplier,t=Math.pow(t,Math.min(1,(1+e.platonicUpgrades[6]/30)*o.viscosityPower[e.usedCorruptions[2]])),t+=2e3*je("accelerator"),t*=o.challenge15Rewards.accelerator,t*=1+3/1e4*je("accelerator"),t=Math.floor(Math.min(1e100,t)),e.usedCorruptions[2]>=15&&(t=Math.pow(t,.2)),e.usedCorruptions[2]>=16&&(t=1),o.freeAccelerator=t,o.totalAccelerator+=o.freeAccelerator,o.tuSevenMulti=1,e.upgrades[46]>.5&&(o.tuSevenMulti=1.05),o.acceleratorPower=Math.pow(1.1+o.tuSevenMulti*(o.totalAcceleratorBoost/100)*(1+K("transcend",e.challengecompletions[2])/20),1+.04*K("reincarnation",e.challengecompletions[7])),o.acceleratorPower+=1/200*Math.floor(K("transcend",e.challengecompletions[2])/2)*100/100;for(let r=1;r<=5;r++)e.achievements[7*r-4]>0&&(o.acceleratorPower+=5e-4*r);e.currentChallenge.reincarnation!==7&&e.currentChallenge.reincarnation!==10&&(e.currentChallenge.transcension===1&&(o.acceleratorPower*=25/(50+e.challengecompletions[1]),o.acceleratorPower+=.55,o.acceleratorPower=Math.max(1,o.acceleratorPower)),e.currentChallenge.transcension===2&&(o.acceleratorPower=1),e.currentChallenge.transcension===3&&(o.acceleratorPower=1.05+2*o.tuSevenMulti*(o.totalAcceleratorBoost/300)*(1+K("transcend",e.challengecompletions[2])/20))),o.acceleratorPower=Math.min(1e300,o.acceleratorPower),e.currentChallenge.reincarnation===7&&(o.acceleratorPower=1),e.currentChallenge.reincarnation===10&&(o.acceleratorPower=1),e.currentChallenge.transcension!==1&&(o.acceleratorEffect=f.pow(o.acceleratorPower,o.totalAccelerator)),e.currentChallenge.transcension===1&&(o.acceleratorEffect=f.pow(o.acceleratorPower,o.totalAccelerator+o.totalMultiplier)),o.acceleratorEffectDisplay=new f(o.acceleratorPower*100-100),e.currentChallenge.reincarnation===10&&(o.acceleratorEffect=new f(1)),o.generatorPower=new f(1),e.upgrades[11]>.5&&e.currentChallenge.reincarnation!==7&&(o.generatorPower=f.pow(1.02,o.totalAccelerator))},ul=()=>{let t=0;e.upgrades[7]>0&&(t+=Math.min(4,1+Math.floor(f.log(e.fifthOwnedCoin+1,10)))),e.upgrades[9]>0&&(t+=Math.floor(e.acceleratorBought/10)),e.upgrades[21]>0&&(t+=1),e.upgrades[22]>0&&(t+=1),e.upgrades[23]>0&&(t+=1),e.upgrades[24]>0&&(t+=1),e.upgrades[25]>0&&(t+=1),e.upgrades[28]>0&&(t+=Math.min(1e3,Math.floor((e.firstOwnedCoin+e.secondOwnedCoin+e.thirdOwnedCoin+e.fourthOwnedCoin+e.fifthOwnedCoin)/160))),e.upgrades[30]>0&&(t+=Math.min(75,Math.floor(f.log(e.coins.add(1),1e10)))+Math.min(925,Math.floor(f.log(e.coins.add(1),1e30)))),e.upgrades[33]>0&&(t+=o.totalAcceleratorBoost),e.upgrades[49]>0&&(t+=Math.min(50,Math.floor(f.log(e.transcendPoints.add(1),1e10)))),e.upgrades[68]>0&&(t+=Math.min(2500,Math.floor(f.log(o.taxdivisor,10)*1/1e3))),e.challengecompletions[1]>0&&(t+=1),e.achievements[6]>.5&&(t+=Math.floor(e.firstOwnedCoin/1e3)),e.achievements[13]>.5&&(t+=Math.floor(e.secondOwnedCoin/1e3)),e.achievements[20]>.5&&(t+=Math.floor(e.thirdOwnedCoin/1e3)),e.achievements[27]>.5&&(t+=Math.floor(e.fourthOwnedCoin/1e3)),e.achievements[34]>.5&&(t+=Math.floor(e.fifthOwnedCoin/1e3)),e.achievements[57]>.5&&(t+=1),e.achievements[58]>.5&&(t+=1),e.achievements[59]>.5&&(t+=1),t+=20*e.researches[94]*Math.floor((o.rune1level+o.rune2level+o.rune3level+o.rune4level+o.rune5level)/8),o.freeUpgradeMultiplier=Math.min(1e100,t),e.achievements[38]>.5&&(t+=Math.floor(Math.floor(o.rune2level/10*o.effectiveLevelMult)*Math.floor(1+o.rune2level/10*o.effectiveLevelMult)/2)*100/100),t*=1+e.achievements[57]/100,t*=1+e.achievements[58]/100,t*=1+e.achievements[59]/100,t*=Math.pow(1.01,e.upgrades[21]+e.upgrades[22]+e.upgrades[23]+e.upgrades[24]+e.upgrades[25]),t*=1+.03*e.upgrades[34]+.02*e.upgrades[35],t*=1+1/5*e.researches[2]*(1+1/2*K("ascension",e.challengecompletions[14])),t*=1+1/20*e.researches[11]+1/25*e.researches[12]+1/40*e.researches[13]+3/200*e.researches[14]+1/200*e.researches[15],t*=1+o.rune2level/400*o.effectiveLevelMult,t*=1+1/20*e.researches[87],t*=1+1/100*e.researches[128],t*=1+.8/100*e.researches[143],t*=1+.6/100*e.researches[158],t*=1+.4/100*e.researches[173],t*=1+.2/100*e.researches[188],t*=1+.01/100*e.researches[200],t*=1+.01/100*e.cubeUpgrades[50],t*=It(40,(e.antUpgrades[4]+o.bonusant5)/1e3*40/39),t*=o.cubeBonusMultiplier[2],(e.currentChallenge.transcension!==0||e.currentChallenge.reincarnation!==0)&&e.upgrades[50]>.5&&(t*=1.25),t=Math.pow(t,Math.min(1,(1+e.platonicUpgrades[6]/30)*o.viscosityPower[e.usedCorruptions[2]])),t+=1e3*je("multiplier"),t*=o.challenge15Rewards.multiplier,t*=1+3/1e4*je("multiplier"),t=Math.floor(Math.min(1e100,t)),e.usedCorruptions[2]>=15&&(t=Math.pow(t,.2)),e.usedCorruptions[2]>=16&&(t=1),o.freeMultiplier=t,o.totalMultiplier=o.freeMultiplier+e.multiplierBought,o.challengeOneLog=3;let r=0,n=0;r+=f.log(e.transcendShards.add(1),3),r*=1+11*e.researches[33]/100,r*=1+11*e.researches[34]/100,r*=1+11*e.researches[35]/100,r*=1+e.researches[89]/5,r*=1+10*o.effectiveRuneBlessingPower[2],n+=Math.floor(.1*r*K("transcend",e.challengecompletions[1])),n+=K("transcend",e.challengecompletions[1])*10,o.freeMultiplierBoost=n,o.totalMultiplierBoost=Math.pow(Math.floor(r)+n,1+K("reincarnation",e.challengecompletions[7])*.04);let s=1;e.challengecompletions[7]>.5&&(s=1.25),o.multiplierPower=2+.005*o.totalMultiplierBoost*s,e.currentChallenge.reincarnation!==7&&e.currentChallenge.reincarnation!==10&&(e.currentChallenge.transcension===1&&(o.multiplierPower=1),e.currentChallenge.transcension===2&&(o.multiplierPower=1.25+.0012*(r+n)*s)),o.multiplierPower=Math.min(1e300,o.multiplierPower),e.currentChallenge.reincarnation===7&&(o.multiplierPower=1),e.currentChallenge.reincarnation===10&&(o.multiplierPower=1),o.multiplierEffect=f.pow(o.multiplierPower,o.totalMultiplier)},y0=()=>{let t=new f(1),r=new f(1),n=1/3;n+=Math.min(10+.05*e.researches[129]*Math.log(e.commonFragments+1)/Math.log(4)+20*gt()/400*o.effectiveRuneSpiritPower[3],.05*e.crystalUpgrades[3]),n+=.04*K("transcend",e.challengecompletions[3]),n+=.08*e.researches[28],n+=.08*e.researches[29],n+=.04*e.researches[30],n+=8*e.cubeUpgrades[17],o.prestigeMultiplier=f.pow(e.prestigeShards,n).add(1);let s=1;e.currentChallenge.reincarnation===7&&(s=.05),e.currentChallenge.reincarnation===8&&(s=0),o.buildingPower=1+(1-Math.pow(2,-1/160))*s*f.log(e.reincarnationShards.add(1),10)*(1+1/20*e.researches[36]+1/40*e.researches[37]+1/40*e.researches[38])+(s+.2)*.25/1.2*K("reincarnation",e.challengecompletions[8]),o.buildingPower=Math.pow(o.buildingPower,1+e.cubeUpgrades[12]*.09),o.buildingPower=Math.pow(o.buildingPower,1+e.cubeUpgrades[36]*.05),o.reincarnationMultiplier=f.pow(o.buildingPower,o.totalCoinOwned),o.antMultiplier=f.pow(f.max(1,e.antPoints),zl()),t=t.times(o.multiplierEffect),t=t.times(o.acceleratorEffect),t=t.times(o.prestigeMultiplier),t=t.times(o.reincarnationMultiplier),t=t.times(o.antMultiplier);let a=new f(o.totalCoinOwned+1).times(f.min(1e30,f.pow(1.008,o.totalCoinOwned)));e.highestSingularityCount>0&&(t=t.times(Math.pow(e.goldenQuarks+1,1.5)*Math.pow(e.highestSingularityCount+1,2))),e.upgrades[6]>.5&&(t=t.times(a)),e.upgrades[12]>.5&&(t=t.times(f.min(1e4,f.pow(1.01,e.prestigeCount)))),e.upgrades[20]>.5&&(t=t.times(f.pow(o.totalCoinOwned/4+1,10))),e.upgrades[41]>.5&&(t=t.times(f.min(1e30,f.pow(e.transcendPoints.add(1),1/2)))),e.upgrades[43]>.5&&(t=t.times(f.min(1e30,f.pow(1.01,e.transcendCount)))),e.upgrades[48]>.5&&(t=t.times(f.pow(o.totalMultiplier*o.totalAccelerator/1e3+1,8))),e.currentChallenge.reincarnation===6&&(t=t.dividedBy(1e250)),e.currentChallenge.reincarnation===7&&(t=t.dividedBy("1e1250")),e.currentChallenge.reincarnation===9&&(t=t.dividedBy("1e2000000")),e.currentChallenge.reincarnation===10&&(t=t.dividedBy("1e12500000")),r=f.pow(t,1+.001*e.researches[17]);let l=f.pow(r,1+.025*e.upgrades[123]);e.currentChallenge.ascension===15&&e.platonicUpgrades[5]>0&&(l=f.pow(l,1.1)),e.currentChallenge.ascension===15&&e.platonicUpgrades[14]>0&&(l=f.pow(l,1+1/20*e.usedCorruptions[9]*f.log(e.coins.add(1),10)/(1e7+f.log(e.coins.add(1),10)))),e.currentChallenge.ascension===15&&e.platonicUpgrades[15]>0&&(l=f.pow(l,1.1)),l=f.pow(l,o.challenge15Rewards.coinExponent),o.globalCoinMultiplier=l,o.globalCoinMultiplier=f.pow(o.globalCoinMultiplier,o.financialcollapsePower[e.usedCorruptions[9]]),o.coinOneMulti=new f(1),e.upgrades[1]>.5&&(o.coinOneMulti=o.coinOneMulti.times(a)),e.upgrades[10]>.5&&(o.coinOneMulti=o.coinOneMulti.times(f.pow(2,Math.min(50,e.secondOwnedCoin/15)))),e.upgrades[56]>.5&&(o.coinOneMulti=o.coinOneMulti.times("1e5000")),o.coinTwoMulti=new f(1),e.upgrades[2]>.5&&(o.coinTwoMulti=o.coinTwoMulti.times(a)),e.upgrades[13]>.5&&(o.coinTwoMulti=o.coinTwoMulti.times(f.min(1e50,f.pow(e.firstGeneratedMythos.add(e.firstOwnedMythos).add(1),4/3).times(1e10)))),e.upgrades[19]>.5&&(o.coinTwoMulti=o.coinTwoMulti.times(f.min(1e200,e.transcendPoints.times(1e30).add(1)))),e.upgrades[57]>.5&&(o.coinTwoMulti=o.coinTwoMulti.times("1e7500")),o.coinThreeMulti=new f(1),e.upgrades[3]>.5&&(o.coinThreeMulti=o.coinThreeMulti.times(a)),e.upgrades[18]>.5&&(o.coinThreeMulti=o.coinThreeMulti.times(f.min(1e125,e.transcendShards.add(1)))),e.upgrades[58]>.5&&(o.coinThreeMulti=o.coinThreeMulti.times("1e15000")),o.coinFourMulti=new f(1),e.upgrades[4]>.5&&(o.coinFourMulti=o.coinFourMulti.times(a)),e.upgrades[17]>.5&&(o.coinFourMulti=o.coinFourMulti.times(1e100)),e.upgrades[59]>.5&&(o.coinFourMulti=o.coinFourMulti.times("1e25000")),o.coinFiveMulti=new f(1),e.upgrades[5]>.5&&(o.coinFiveMulti=o.coinFiveMulti.times(a)),e.upgrades[60]>.5&&(o.coinFiveMulti=o.coinFiveMulti.times("1e35000")),o.globalCrystalMultiplier=new f(1),e.achievements[36]>.5&&(o.globalCrystalMultiplier=o.globalCrystalMultiplier.times(2)),e.achievements[37]>.5&&e.prestigePoints.gte(10)&&(o.globalCrystalMultiplier=o.globalCrystalMultiplier.times(f.log(e.prestigePoints.add(1),10))),e.achievements[44]>.5&&(o.globalCrystalMultiplier=o.globalCrystalMultiplier.times(f.pow(o.rune3level/2*o.effectiveLevelMult,2).times(f.pow(2,o.rune3level*o.effectiveLevelMult/2-8)).add(1))),e.upgrades[36]>.5&&(o.globalCrystalMultiplier=o.globalCrystalMultiplier.times(f.min("1e5000",f.pow(e.prestigePoints,1/500)))),e.upgrades[63]>.5&&(o.globalCrystalMultiplier=o.globalCrystalMultiplier.times(f.min("1e6000",f.pow(e.reincarnationPoints.add(1),6)))),e.researches[39]>.5&&(o.globalCrystalMultiplier=o.globalCrystalMultiplier.times(f.pow(o.reincarnationMultiplier,1/50))),o.globalCrystalMultiplier=o.globalCrystalMultiplier.times(f.min(f.pow(10,50+2*e.crystalUpgrades[0]),f.pow(1.05,e.achievementPoints*e.crystalUpgrades[0]))),o.globalCrystalMultiplier=o.globalCrystalMultiplier.times(f.min(f.pow(10,100+5*e.crystalUpgrades[1]),f.pow(f.log(e.coins.add(1),10),e.crystalUpgrades[1]/3))),o.globalCrystalMultiplier=o.globalCrystalMultiplier.times(f.pow(1+Math.min(.12+.88*e.upgrades[122]+.001*e.researches[129]*Math.log(e.commonFragments+1)/Math.log(4),.001*e.crystalUpgrades[2]),e.firstOwnedDiamonds+e.secondOwnedDiamonds+e.thirdOwnedDiamonds+e.fourthOwnedDiamonds+e.fifthOwnedDiamonds)),o.globalCrystalMultiplier=o.globalCrystalMultiplier.times(f.pow(1.01,(e.challengecompletions[1]+e.challengecompletions[2]+e.challengecompletions[3]+e.challengecompletions[4]+e.challengecompletions[5])*e.crystalUpgrades[4])),o.globalCrystalMultiplier=o.globalCrystalMultiplier.times(f.pow(10,K("transcend",e.challengecompletions[5]))),o.globalCrystalMultiplier=o.globalCrystalMultiplier.times(f.pow(1e4,e.researches[5]*(1+1/2*K("ascension",e.challengecompletions[14])))),o.globalCrystalMultiplier=o.globalCrystalMultiplier.times(f.pow(2.5,e.researches[26])),o.globalCrystalMultiplier=o.globalCrystalMultiplier.times(f.pow(2.5,e.researches[27])),o.globalMythosMultiplier=new f(1),e.upgrades[37]>.5&&(o.globalMythosMultiplier=o.globalMythosMultiplier.times(f.pow(f.log(e.prestigePoints.add(10),10),2))),e.upgrades[42]>.5&&(o.globalMythosMultiplier=o.globalMythosMultiplier.times(f.min(1e50,f.pow(e.prestigePoints.add(1),1/50).dividedBy(2.5).add(1)))),e.upgrades[47]>.5&&(o.globalMythosMultiplier=o.globalMythosMultiplier.times(f.pow(1.05,e.achievementPoints)).times(e.achievementPoints+1)),e.upgrades[51]>.5&&(o.globalMythosMultiplier=o.globalMythosMultiplier.times(f.pow(o.totalAcceleratorBoost,2))),e.upgrades[52]>.5&&(o.globalMythosMultiplier=o.globalMythosMultiplier.times(f.pow(o.globalMythosMultiplier,.025))),e.upgrades[64]>.5&&(o.globalMythosMultiplier=o.globalMythosMultiplier.times(f.pow(e.reincarnationPoints.add(1),2))),e.researches[40]>.5&&(o.globalMythosMultiplier=o.globalMythosMultiplier.times(f.pow(o.reincarnationMultiplier,1/250))),o.grandmasterMultiplier=new f(1),o.totalMythosOwned=e.firstOwnedMythos+e.secondOwnedMythos+e.thirdOwnedMythos+e.fourthOwnedMythos+e.fifthOwnedMythos,o.mythosBuildingPower=1+K("transcend",e.challengecompletions[3])/200,o.challengeThreeMultiplier=f.pow(o.mythosBuildingPower,o.totalMythosOwned),o.grandmasterMultiplier=o.grandmasterMultiplier.times(o.challengeThreeMultiplier),o.mythosupgrade13=new f(1),o.mythosupgrade14=new f(1),o.mythosupgrade15=new f(1),e.upgrades[53]===1&&(o.mythosupgrade13=o.mythosupgrade13.times(f.min("1e1250",f.pow(o.acceleratorEffect,1/125)))),e.upgrades[54]===1&&(o.mythosupgrade14=o.mythosupgrade14.times(f.min("1e2000",f.pow(o.multiplierEffect,1/180)))),e.upgrades[55]===1&&(o.mythosupgrade15=o.mythosupgrade15.times(f.pow("1e1000",Math.min(1e3,o.buildingPower-1)))),o.globalConstantMult=new f("1"),o.globalConstantMult=o.globalConstantMult.times(f.pow(1.05+.01*e.achievements[270]+.001*e.platonicUpgrades[18],e.constantUpgrades[1])),o.globalConstantMult=o.globalConstantMult.times(f.pow(1+.001*Math.min(100+10*e.achievements[270]+10*e.shopUpgrades.constantEX+1e3*(o.challenge15Rewards.exponent-1)+3*e.platonicUpgrades[18],e.constantUpgrades[2]),sl())),o.globalConstantMult=o.globalConstantMult.times(1+2/100*e.researches[139]),o.globalConstantMult=o.globalConstantMult.times(1+3/100*e.researches[154]),o.globalConstantMult=o.globalConstantMult.times(1+4/100*e.researches[169]),o.globalConstantMult=o.globalConstantMult.times(1+5/100*e.researches[184]),o.globalConstantMult=o.globalConstantMult.times(1+10/100*e.researches[199]),o.globalConstantMult=o.globalConstantMult.times(o.challenge15Rewards.constantBonus),e.platonicUpgrades[5]>0&&(o.globalConstantMult=o.globalConstantMult.times(2)),e.platonicUpgrades[10]>0&&(o.globalConstantMult=o.globalConstantMult.times(10)),e.platonicUpgrades[15]>0&&(o.globalConstantMult=o.globalConstantMult.times(1e250)),o.globalConstantMult=o.globalConstantMult.times(f.pow(e.overfluxPowder+1,10*e.platonicUpgrades[16]))},yc=t=>{if(Sd(),Td(),cl(),ul(),y0(),eg(),o.produceTotal.gte(.001)){let l=f.min(o.produceTotal.dividedBy(o.taxdivisor),f.pow(10,o.maxexponent-f.log(o.taxdivisorcheck,10))).times(t/.025);e.coins=e.coins.add(l),e.coinsThisPrestige=e.coinsThisPrestige.add(l),e.coinsThisTranscension=e.coinsThisTranscension.add(l),e.coinsThisReincarnation=e.coinsThisReincarnation.add(l),e.coinsTotal=e.coinsTotal.add(l)}w0(),e.upgrades[93]===1&&e.coinsThisPrestige.gte(1e16)&&(e.prestigePoints=e.prestigePoints.add(f.floor(o.prestigePointGain.dividedBy(4e3).times(t/.025)))),e.upgrades[100]===1&&e.coinsThisTranscension.gte(1e100)&&(e.transcendPoints=e.transcendPoints.add(f.floor(o.transcendPointGain.dividedBy(4e3).times(t/.025)))),e.cubeUpgrades[28]>0&&e.transcendShards.gte(1e300)&&(e.reincarnationPoints=e.reincarnationPoints.add(f.floor(o.reincarnationPointGain.dividedBy(4e3).times(t/.025)))),o.produceFirstDiamonds=e.firstGeneratedDiamonds.add(e.firstOwnedDiamonds).times(e.firstProduceDiamonds).times(o.globalCrystalMultiplier),o.produceSecondDiamonds=e.secondGeneratedDiamonds.add(e.secondOwnedDiamonds).times(e.secondProduceDiamonds).times(o.globalCrystalMultiplier),o.produceThirdDiamonds=e.thirdGeneratedDiamonds.add(e.thirdOwnedDiamonds).times(e.thirdProduceDiamonds).times(o.globalCrystalMultiplier),o.produceFourthDiamonds=e.fourthGeneratedDiamonds.add(e.fourthOwnedDiamonds).times(e.fourthProduceDiamonds).times(o.globalCrystalMultiplier),o.produceFifthDiamonds=e.fifthGeneratedDiamonds.add(e.fifthOwnedDiamonds).times(e.fifthProduceDiamonds).times(o.globalCrystalMultiplier),e.fourthGeneratedDiamonds=e.fourthGeneratedDiamonds.add(o.produceFifthDiamonds.times(t/.025)),e.thirdGeneratedDiamonds=e.thirdGeneratedDiamonds.add(o.produceFourthDiamonds.times(t/.025)),e.secondGeneratedDiamonds=e.secondGeneratedDiamonds.add(o.produceThirdDiamonds.times(t/.025)),e.firstGeneratedDiamonds=e.firstGeneratedDiamonds.add(o.produceSecondDiamonds.times(t/.025)),o.produceDiamonds=o.produceFirstDiamonds,e.currentChallenge.transcension!==3&&e.currentChallenge.reincarnation!==10&&(e.prestigeShards=e.prestigeShards.add(o.produceDiamonds.times(t/.025))),o.produceFifthMythos=e.fifthGeneratedMythos.add(e.fifthOwnedMythos).times(e.fifthProduceMythos).times(o.globalMythosMultiplier).times(o.grandmasterMultiplier).times(o.mythosupgrade15),o.produceFourthMythos=e.fourthGeneratedMythos.add(e.fourthOwnedMythos).times(e.fourthProduceMythos).times(o.globalMythosMultiplier),o.produceThirdMythos=e.thirdGeneratedMythos.add(e.thirdOwnedMythos).times(e.thirdProduceMythos).times(o.globalMythosMultiplier).times(o.mythosupgrade14),o.produceSecondMythos=e.secondGeneratedMythos.add(e.secondOwnedMythos).times(e.secondProduceMythos).times(o.globalMythosMultiplier),o.produceFirstMythos=e.firstGeneratedMythos.add(e.firstOwnedMythos).times(e.firstProduceMythos).times(o.globalMythosMultiplier).times(o.mythosupgrade13),e.fourthGeneratedMythos=e.fourthGeneratedMythos.add(o.produceFifthMythos.times(t/.025)),e.thirdGeneratedMythos=e.thirdGeneratedMythos.add(o.produceFourthMythos.times(t/.025)),e.secondGeneratedMythos=e.secondGeneratedMythos.add(o.produceThirdMythos.times(t/.025)),e.firstGeneratedMythos=e.firstGeneratedMythos.add(o.produceSecondMythos.times(t/.025)),o.produceMythos=new f("0"),o.produceMythos=e.firstGeneratedMythos.add(e.firstOwnedMythos).times(e.firstProduceMythos).times(o.globalMythosMultiplier).times(o.mythosupgrade13),o.producePerSecondMythos=o.produceMythos.times(40);let r=new f("1");e.upgrades[67]>.5&&(r=r.times(f.pow(1.03,e.firstOwnedParticles+e.secondOwnedParticles+e.thirdOwnedParticles+e.fourthOwnedParticles+e.fifthOwnedParticles))),o.produceFifthParticles=e.fifthGeneratedParticles.add(e.fifthOwnedParticles).times(e.fifthProduceParticles),o.produceFourthParticles=e.fourthGeneratedParticles.add(e.fourthOwnedParticles).times(e.fourthProduceParticles),o.produceThirdParticles=e.thirdGeneratedParticles.add(e.thirdOwnedParticles).times(e.thirdProduceParticles),o.produceSecondParticles=e.secondGeneratedParticles.add(e.secondOwnedParticles).times(e.secondProduceParticles),o.produceFirstParticles=e.firstGeneratedParticles.add(e.firstOwnedParticles).times(e.firstProduceParticles).times(r),e.fourthGeneratedParticles=e.fourthGeneratedParticles.add(o.produceFifthParticles.times(t/.025)),e.thirdGeneratedParticles=e.thirdGeneratedParticles.add(o.produceFourthParticles.times(t/.025)),e.secondGeneratedParticles=e.secondGeneratedParticles.add(o.produceThirdParticles.times(t/.025)),e.firstGeneratedParticles=e.firstGeneratedParticles.add(o.produceSecondParticles.times(t/.025)),o.produceParticles=new f("0"),o.produceParticles=e.firstGeneratedParticles.add(e.firstOwnedParticles).times(e.firstProduceParticles).times(r),o.producePerSecondParticles=o.produceParticles.times(40),e.currentChallenge.transcension!==3&&e.currentChallenge.reincarnation!==10&&(e.transcendShards=e.transcendShards.add(o.produceMythos.times(t/.025))),e.currentChallenge.reincarnation!==10&&(e.reincarnationShards=e.reincarnationShards.add(o.produceParticles.times(t/.025))),C0(t);for(let l=1;l<=5;l++)if(o.ascendBuildingProduction[o.ordinals[5-l]]=e[`ascendBuilding${6-l}`].generated.add(e[`ascendBuilding${6-l}`].owned).times(e[`ascendBuilding${l}`].multiplier).times(o.globalConstantMult),l!==5){let c=5-l;e[`ascendBuilding${c}`].generated=e[`ascendBuilding${c}`].generated.add(o.ascendBuildingProduction[o.ordinals[c]].times(t))}e.ascendShards=e.ascendShards.add(o.ascendBuildingProduction.first.times(t)),e.ascensionCount>0&&Ma(2),e.researches[71]>.5&&e.challengecompletions[1]<Math.min(e.highestchallengecompletions[1],25+5*e.researches[66]+925*e.researches[105])&&e.coins.gte(f.pow(10,1.25*o.challengeBaseRequirements[0]*Math.pow(1+e.challengecompletions[1],2)))&&(e.challengecompletions[1]+=1,or(1,!0),wr(1)),e.researches[72]>.5&&e.challengecompletions[2]<Math.min(e.highestchallengecompletions[2],25+5*e.researches[67]+925*e.researches[105])&&e.coins.gte(f.pow(10,1.6*o.challengeBaseRequirements[1]*Math.pow(1+e.challengecompletions[2],2)))&&(e.challengecompletions[2]+=1,or(2,!0),wr(2)),e.researches[73]>.5&&e.challengecompletions[3]<Math.min(e.highestchallengecompletions[3],25+5*e.researches[68]+925*e.researches[105])&&e.coins.gte(f.pow(10,1.7*o.challengeBaseRequirements[2]*Math.pow(1+e.challengecompletions[3],2)))&&(e.challengecompletions[3]+=1,or(3,!0),wr(3)),e.researches[74]>.5&&e.challengecompletions[4]<Math.min(e.highestchallengecompletions[4],25+5*e.researches[69]+925*e.researches[105])&&e.coins.gte(f.pow(10,1.45*o.challengeBaseRequirements[3]*Math.pow(1+e.challengecompletions[4],2)))&&(e.challengecompletions[4]+=1,or(4,!0),wr(4)),e.researches[75]>.5&&e.challengecompletions[5]<Math.min(e.highestchallengecompletions[5],25+5*e.researches[70]+925*e.researches[105])&&e.coins.gte(f.pow(10,2*o.challengeBaseRequirements[4]*Math.pow(1+e.challengecompletions[5],2)))&&(e.challengecompletions[5]+=1,or(5,!0),wr(5));let n=e.currentChallenge.transcension,s=e.currentChallenge.reincarnation,a=e.currentChallenge.ascension;n!==0&&e.coinsThisTranscension.gte(Pt(n,e.challengecompletions[n],n))&&(Te("transcensionChallenge",!1),o.autoChallengeTimerIncrement=0),s<9&&s!==0&&e.transcendShards.gte(Pt(s,e.challengecompletions[s],s))&&(Te("reincarnationChallenge",!1),o.autoChallengeTimerIncrement=0),s>=9&&e.coins.gte(Pt(s,e.challengecompletions[s],s))&&(Te("reincarnationChallenge",!1),o.autoChallengeTimerIncrement=0),a!==0&&a<15&&e.challengecompletions[10]>=Pt(a,e.challengecompletions[a],a)&&(Te("ascensionChallenge",!1),or(a,!0)),a===15&&e.coins.gte(Pt(a,e.challengecompletions[a],a))&&Te("ascensionChallenge",!1)},v0=()=>{o.globalAntMult=new f(10),o.globalAntMult=o.globalAntMult.times(5),o.globalAntMult=o.globalAntMult.times(1+1/2500*Math.pow(o.rune5level*o.effectiveLevelMult*(1+e.researches[84]/200*(1+1*o.effectiveRuneSpiritPower[5]*gt()/400)),2)),e.upgrades[76]===1&&(o.globalAntMult=o.globalAntMult.times(5)),o.globalAntMult=o.globalAntMult.times(f.pow(1+e.upgrades[77]/250+e.researches[96]/5e3+e.cubeUpgrades[65]/250,e.firstOwnedAnts+e.secondOwnedAnts+e.thirdOwnedAnts+e.fourthOwnedAnts+e.fifthOwnedAnts+e.sixthOwnedAnts+e.seventhOwnedAnts+e.eighthOwnedAnts)),o.globalAntMult=o.globalAntMult.times(1+e.upgrades[78]*.005*Math.pow(Math.log10(e.maxofferings+1),2)),o.globalAntMult=o.globalAntMult.times(f.pow(1.11+e.researches[101]/1e3+e.researches[162]/1e4,e.antUpgrades[0]+o.bonusant1)),o.globalAntMult=o.globalAntMult.times(bn(e.antSacrificePoints)),o.globalAntMult=o.globalAntMult.times(f.pow(Math.max(1,e.researchPoints),o.effectiveRuneBlessingPower[5])),o.globalAntMult=o.globalAntMult.times(f.pow(1+o.runeSum/100,o.talisman6Power)),o.globalAntMult=o.globalAntMult.times(f.pow(1.1,K("reincarnation",e.challengecompletions[9]))),o.globalAntMult=o.globalAntMult.times(o.cubeBonusMultiplier[6]),e.achievements[169]===1&&(o.globalAntMult=o.globalAntMult.times(f.log(e.antPoints.add(10),10))),e.achievements[171]===1&&(o.globalAntMult=o.globalAntMult.times(1.16666)),e.achievements[172]===1&&(o.globalAntMult=o.globalAntMult.times(1+2*(1-Math.pow(2,-Math.min(1,e.reincarnationcounter/7200))))),e.upgrades[39]===1&&(o.globalAntMult=o.globalAntMult.times(1.6)),o.globalAntMult=o.globalAntMult.times(f.pow(1+.1*f.log(e.ascendShards.add(1),10),e.constantUpgrades[5])),o.globalAntMult=o.globalAntMult.times(f.pow(1e5,K("ascension",e.challengecompletions[11]))),e.researches[147]>0&&(o.globalAntMult=o.globalAntMult.times(f.log(e.antPoints.add(10),10))),e.researches[177]>0&&(o.globalAntMult=o.globalAntMult.times(f.pow(f.log(e.antPoints.add(10),10),e.researches[177]))),e.currentChallenge.ascension===12&&(o.globalAntMult=f.pow(o.globalAntMult,.5)),e.currentChallenge.ascension===13&&(o.globalAntMult=f.pow(o.globalAntMult,.23)),e.currentChallenge.ascension===14&&(o.globalAntMult=f.pow(o.globalAntMult,.2)),e.currentChallenge.ascension!==15?o.globalAntMult=f.pow(o.globalAntMult,1-.9/90*Math.min(99,fe(e.usedCorruptions))):o.globalAntMult=f.pow(o.globalAntMult,.01),o.globalAntMult=f.pow(o.globalAntMult,o.extinctionMultiplier[e.usedCorruptions[7]]),o.globalAntMult=o.globalAntMult.times(o.challenge15Rewards.antSpeed),o.globalAntMult=o.globalAntMult.times(f.pow(1.2,e.shopUpgrades.antSpeed)),e.platonicUpgrades[12]>0&&(o.globalAntMult=o.globalAntMult.times(f.pow(1+1/100*e.platonicUpgrades[12],fe(e.highestchallengecompletions)))),e.currentChallenge.ascension===15&&e.platonicUpgrades[10]>0&&(o.globalAntMult=f.pow(o.globalAntMult,1.25)),e.achievements[274]>0&&(o.globalAntMult=o.globalAntMult.times(4.44)),e.usedCorruptions[7]>=14&&(o.globalAntMult=f.pow(o.globalAntMult,.02)),e.usedCorruptions[7]>=15&&(o.globalAntMult=f.pow(o.globalAntMult,.02)),e.usedCorruptions[7]>=16&&(o.globalAntMult=f.pow(o.globalAntMult,.02)),e.octeractUpgrades.octeractStarter.getEffect().bonus&&(o.globalAntMult=o.globalAntMult.times(1e5)),e.highestSingularityCount>=30&&(o.globalAntMult=o.globalAntMult.times(1e3)),e.highestSingularityCount>=70&&(o.globalAntMult=o.globalAntMult.times(1e3)),e.highestSingularityCount>=100&&(o.globalAntMult=o.globalAntMult.times(1e6))},C0=t=>{v0(),o.antEightProduce=e.eighthGeneratedAnts.add(e.eighthOwnedAnts).times(e.eighthProduceAnts).times(o.globalAntMult),o.antSevenProduce=e.seventhGeneratedAnts.add(e.seventhOwnedAnts).times(e.seventhProduceAnts).times(o.globalAntMult),o.antSixProduce=e.sixthGeneratedAnts.add(e.sixthOwnedAnts).times(e.sixthProduceAnts).times(o.globalAntMult),o.antFiveProduce=e.fifthGeneratedAnts.add(e.fifthOwnedAnts).times(e.fifthProduceAnts).times(o.globalAntMult),o.antFourProduce=e.fourthGeneratedAnts.add(e.fourthOwnedAnts).times(e.fourthProduceAnts).times(o.globalAntMult),o.antThreeProduce=e.thirdGeneratedAnts.add(e.thirdOwnedAnts).times(e.thirdProduceAnts).times(o.globalAntMult),o.antTwoProduce=e.secondGeneratedAnts.add(e.secondOwnedAnts).times(e.secondProduceAnts).times(o.globalAntMult),o.antOneProduce=e.firstGeneratedAnts.add(e.firstOwnedAnts).times(e.firstProduceAnts).times(o.globalAntMult),e.seventhGeneratedAnts=e.seventhGeneratedAnts.add(o.antEightProduce.times(t/1)),e.sixthGeneratedAnts=e.sixthGeneratedAnts.add(o.antSevenProduce.times(t/1)),e.fifthGeneratedAnts=e.fifthGeneratedAnts.add(o.antSixProduce.times(t/1)),e.fourthGeneratedAnts=e.fourthGeneratedAnts.add(o.antFiveProduce.times(t/1)),e.thirdGeneratedAnts=e.thirdGeneratedAnts.add(o.antFourProduce.times(t/1)),e.secondGeneratedAnts=e.secondGeneratedAnts.add(o.antThreeProduce.times(t/1)),e.firstGeneratedAnts=e.firstGeneratedAnts.add(o.antTwoProduce.times(t/1)),e.antPoints=e.antPoints.add(o.antOneProduce.times(t/1))},w0=()=>{let t=.5+K("transcend",e.challengecompletions[5])/100,r=.03;e.currentChallenge.transcension===5&&(t=.01/(1+e.challengecompletions[5]),r=.001),e.currentChallenge.reincarnation===10&&(t=1e-4/(1+e.challengecompletions[10]),r=.001),t*=o.deflationMultiplier[e.usedCorruptions[6]],o.prestigePointGain=f.floor(f.pow(e.coinsThisPrestige.dividedBy(1e12),t)),e.upgrades[16]>.5&&e.currentChallenge.transcension!==5&&e.currentChallenge.reincarnation!==10&&(o.prestigePointGain=o.prestigePointGain.times(f.min(f.pow(10,1e33),f.pow(o.acceleratorEffect,1/3*o.deflationMultiplier[e.usedCorruptions[6]])))),o.transcendPointGain=f.floor(f.pow(e.coinsThisTranscension.dividedBy(1e100),r)),e.upgrades[44]>.5&&e.currentChallenge.transcension!==5&&e.currentChallenge.reincarnation!==10&&(o.transcendPointGain=o.transcendPointGain.times(f.min(1e6,f.pow(1.01,e.transcendCount)))),o.reincarnationPointGain=f.floor(f.pow(e.transcendShards.dividedBy(1e300),.01)),e.currentChallenge.reincarnation!==0&&(o.reincarnationPointGain=f.pow(o.reincarnationPointGain,.01)),e.achievements[50]===1&&(o.reincarnationPointGain=o.reincarnationPointGain.times(2)),e.upgrades[65]>.5&&(o.reincarnationPointGain=o.reincarnationPointGain.times(5)),e.currentChallenge.ascension===12&&(o.reincarnationPointGain=new f("0"))},Te=async(t,r=!0,n=!1)=>{if(t==="prestige"&&(e.coinsThisPrestige.gte(1e16)||o.prestigePointGain.gte(100))&&(r?Si("prestige"):(kt(1),Ae("prestige"))),t==="transcension"&&(e.coinsThisTranscension.gte(1e100)||o.transcendPointGain.gte(.5))&&e.currentChallenge.transcension===0&&(r&&Si("transcend"),r||(kt(2),Ae("transcension"))),t==="transcensionChallenge"&&e.currentChallenge.transcension!==0){let s=e.currentChallenge.transcension,a=qe(s),l=c=>e.coinsThisTranscension.gte(Pt(s,c,s));if(l(e.challengecompletions[s])&&e.challengecompletions[s]<a){let c=1;e.shopUpgrades.instantChallenge>0&&(c=10),e.shopUpgrades.instantChallenge2>0&&(c+=e.highestSingularityCount),e.currentChallenge.ascension===13&&(c=1);let d=0,g=e.challengecompletions[s];for(;d<c;)l(g)&&g<a&&g++,d++;e.challengecompletions[s]=g,lt(s,!1),wr(s)}if(e.challengecompletions[s]>e.highestchallengecompletions[s]){for(;e.challengecompletions[s]>e.highestchallengecompletions[s];)e.highestchallengecompletions[s]+=1,vc(s,e.highestchallengecompletions[s]);Qt()}or(s),(!e.retrychallenges||r||e.autoChallengeRunning&&e.challengecompletions[s]>=a)&&(sr("ENTER"),e.currentChallenge.transcension=0,Cr()),(e.shopUpgrades.instantChallenge===0||n)&&(Ae("transcensionChallenge",!1,"leaveChallenge"),e.transcendCount-=1)}if(t==="reincarnation"&&o.reincarnationPointGain.gt(.5)&&e.currentChallenge.transcension===0&&e.currentChallenge.reincarnation===0&&(r&&Si("reincarnate"),r||(kt(3),Ae("reincarnation"))),t==="reincarnationChallenge"&&e.currentChallenge.reincarnation!==0){let s=e.currentChallenge.reincarnation,a=qe(s),l=c=>s<=8?e.transcendShards.gte(Pt(s,c,s)):e.coins.gte(Pt(s,c,s));if(l(e.challengecompletions[s])&&e.challengecompletions[s]<a){let c=1;e.shopUpgrades.instantChallenge>0&&(c=10),e.shopUpgrades.instantChallenge2>0&&(c+=e.highestSingularityCount),e.currentChallenge.ascension===13&&(c=1);let d=0,g=e.challengecompletions[s];for(;d<c;)l(g)&&g<a&&g++,d++;e.challengecompletions[s]=g,lt(s,!1),wr(s)}if(e.challengecompletions[s]>e.highestchallengecompletions[s]){for(;e.challengecompletions[s]>e.highestchallengecompletions[s];)e.highestchallengecompletions[s]+=1,vc(s,e.highestchallengecompletions[s]);Dn(),Hn(),Qt()}if(or(s),!e.retrychallenges||r||e.autoChallengeRunning&&e.challengecompletions[s]>=a){if(sr("ENTER"),e.currentChallenge.reincarnation=0,e.shopUpgrades.instantChallenge>0)for(let c=1;c<=5;c++)e.challengecompletions[c]=e.highestchallengecompletions[c];Cr(),Fe(),Ot()}(e.shopUpgrades.instantChallenge===0||n)&&(Ae("reincarnationChallenge",!1,"leaveChallenge"),e.reincarnationCount-=1)}if(t==="ascension"&&e.achievements[141]>0&&(!e.toggles[31]||e.challengecompletions[10]>0)&&r&&Si("ascend"),t==="ascensionChallenge"&&e.currentChallenge.ascension!==0){let s=!0;if(r&&(e.challengecompletions[11]===0||e.toggles[31])&&(s=await Se(u.t("main.exitAscensionChallenge"))),!s)return;let a=e.currentChallenge.ascension,l=qe(a);if(a!==0&&a<15&&(e.challengecompletions[10]>=Pt(a,e.challengecompletions[a],a)&&e.challengecompletions[a]<l&&(e.challengecompletions[a]+=1,wr(a),lt(a,!1)),or(a,!0)),a===15){let c=ms();e.coins.gte(Pt(a,e.challengecompletions[a],a))&&e.challengecompletions[a]<l&&(e.challengecompletions[a]+=1,wr(a),lt(a,!1)),(r||n||e.shopUpgrades.challenge15Auto>0)&&e.usedCorruptions.slice(2,10).every(d=>d===11)&&e.coins.gte(f.pow(10,e.challenge15Exponent/c))&&(e.challenge15Exponent=f.log(e.coins.add(1),10)*c,fn())}e.challengecompletions[a]>e.highestchallengecompletions[a]&&(e.highestchallengecompletions[a]+=1,e.wowHypercubes.add(1),e.highestchallengecompletions[a]>=l&&(n=!0)),(!e.retrychallenges||r||n)&&(!r&&(Gs()||!e.autoChallengeRunning)&&e.autoAscend&&e.challengecompletions[11]>0&&e.cubeUpgrades[10]>0||(e.currentChallenge.ascension=0,Cr())),(e.shopUpgrades.instantChallenge2===0&&a!==15||r)&&Ae("ascensionChallenge",!1)}if(t==="singularity"){if(e.runelevels[6]===0)return O(u.t("main.noAntiquity"));let s=300;if(e.insideSingularityChallenge)return O(u.t("main.insideSingularityChallenge"));if(e.singularityCount>=s)return O(u.t("main.gameBeat"));let a=!1,l=e.singularityCount+1+Bn();return!e.toggles[33]&&e.singularityCount>0?a=await Se(u.t("main.singularityConfirm0",{x:p(l),y:p(qt(),2,!0)})):(await O(u.t("main.singularityMessage1",{x:p(e.singularityCount)})),await O(u.t("main.singularityMessage2")),await O(u.t("main.singularityMessage3")),await O(u.t("main.singularityMessage4",{x:p(l),y:p(qt(),2,!0),z:p(e.worlds.BONUS)})),await O(u.t("main.singularityMessage5")),a=await Se(u.t("main.singularityConfirm1")),a&&(a=await Se(u.t("main.singularityConfirm2"))),a&&(a=await Se(u.t("main.singularityConfirm3")))),a?(await ka(),await rr(),O(u.t("main.welcomeToSingularity",{x:p(e.singularityCount)}))):O(u.t("main.singularityCancelled"))}},Si=async t=>{t==="prestige"&&(e.toggles[28]?await Se(u.t("main.prestigePrompt"))&&(kt(1),Ae("prestige")):(kt(1),Ae("prestige"))),t==="transcend"&&(e.toggles[29]?await Se(u.t("main.transcendPrompt"))&&(kt(2),Ae("transcension")):(kt(2),Ae("transcension"))),t==="reincarnate"&&e.currentChallenge.ascension!==12&&(e.toggles[30]?await Se(u.t("main.reincarnatePrompt"))&&(kt(3),Ae("reincarnation")):(kt(3),Ae("reincarnation"))),t==="ascend"&&(!e.toggles[31]||await Se(u.t("main.ascendPrompt")))&&Ae("ascension")},Kl=()=>{o.effectiveLevelMult=1,o.effectiveLevelMult*=1+e.researches[4]/10*(1+1/2*K("ascension",e.challengecompletions[14])),o.effectiveLevelMult*=1+e.researches[21]/100,o.effectiveLevelMult*=1+e.researches[90]/100,o.effectiveLevelMult*=1+e.researches[131]/200,o.effectiveLevelMult*=1+e.researches[161]/200*3/5,o.effectiveLevelMult*=1+e.researches[176]/200*2/5,o.effectiveLevelMult*=1+e.researches[191]/200*1/5,o.effectiveLevelMult*=1+e.researches[146]/200*4/5,o.effectiveLevelMult*=1+.01*Math.log(e.talismanShards+1)/Math.log(4)*Math.min(1,e.constantUpgrades[9]),o.effectiveLevelMult*=o.challenge15Rewards.runeBonus},Ps=()=>{o.uFourteenMulti=new f(1),o.uFifteenMulti=new f(1),e.upgrades[14]>.5&&(o.uFourteenMulti=f.pow(1.15,o.freeAccelerator)),e.upgrades[15]>.5&&(o.uFifteenMulti=f.pow(1.15,o.freeAccelerator)),!e.unlocks.coinone&&e.coins.gte(500)&&(e.unlocks.coinone=!0,Oe()),!e.unlocks.cointwo&&e.coins.gte(1e4)&&(e.unlocks.cointwo=!0,Oe()),!e.unlocks.cointhree&&e.coins.gte(1e5)&&(e.unlocks.cointhree=!0,Oe()),!e.unlocks.coinfour&&e.coins.gte(4e6)&&(e.unlocks.coinfour=!0,Oe()),e.achievements[169]===0&&e.antPoints.gte(3)&&F(169),e.achievements[170]===0&&e.antPoints.gte(1e5)&&F(170),e.achievements[171]===0&&e.antPoints.gte(666666666)&&F(171),e.achievements[172]===0&&e.antPoints.gte(1e20)&&F(172),e.achievements[173]===0&&e.antPoints.gte(1e40)&&F(173),e.achievements[174]===0&&e.antPoints.gte("1e500")&&F(174),e.achievements[175]===0&&e.antPoints.gte("1e2500")&&F(175),e.researches[200]>=1e5&&e.achievements[250]<1&&F(250),e.cubeUpgrades[50]>=1e5&&e.achievements[251]<1&&F(251),hu(),e.toggles[1]&&e.upgrades[81]===1&&e.coins.gte(e.firstCostCoin)&&ft(1,"Coin"),e.toggles[2]&&e.upgrades[82]===1&&e.coins.gte(e.secondCostCoin)&&ft(2,"Coin"),e.toggles[3]&&e.upgrades[83]===1&&e.coins.gte(e.thirdCostCoin)&&ft(3,"Coin"),e.toggles[4]&&e.upgrades[84]===1&&e.coins.gte(e.fourthCostCoin)&&ft(4,"Coin"),e.toggles[5]&&e.upgrades[85]===1&&e.coins.gte(e.fifthCostCoin)&&ft(5,"Coin"),e.toggles[6]&&e.upgrades[86]===1&&e.coins.gte(e.acceleratorCost)&&da(!0),e.toggles[7]&&e.upgrades[87]===1&&e.coins.gte(e.multiplierCost)&&ga(!0),e.toggles[8]&&e.upgrades[88]===1&&e.prestigePoints.gte(e.acceleratorBoostCost)&&Nn(!0),e.toggles[10]&&e.achievements[78]===1&&e.prestigePoints.gte(e.firstCostDiamonds)&&ft(1,"Diamonds"),e.toggles[11]&&e.achievements[85]===1&&e.prestigePoints.gte(e.secondCostDiamonds)&&ft(2,"Diamonds"),e.toggles[12]&&e.achievements[92]===1&&e.prestigePoints.gte(e.thirdCostDiamonds)&&ft(3,"Diamonds"),e.toggles[13]&&e.achievements[99]===1&&e.prestigePoints.gte(e.fourthCostDiamonds)&&ft(4,"Diamonds"),e.toggles[14]&&e.achievements[106]===1&&e.prestigePoints.gte(e.fifthCostDiamonds)&&ft(5,"Diamonds"),Kl();let t=0;if(t+=Math.floor(o.rune3level/16*o.effectiveLevelMult)*100/100,e.upgrades[73]>.5&&e.currentChallenge.reincarnation!==0&&(t+=10),e.achievements[79]>.5&&e.prestigeShards.gte(f.pow(10,o.crystalUpgradesCost[0]+o.crystalUpgradeCostIncrement[0]*Math.floor(Math.pow(e.crystalUpgrades[0]-.5-t,2)/2)))&&Ht(1,!0),e.achievements[86]>.5&&e.prestigeShards.gte(f.pow(10,o.crystalUpgradesCost[1]+o.crystalUpgradeCostIncrement[1]*Math.floor(Math.pow(e.crystalUpgrades[1]-.5-t,2)/2)))&&Ht(2,!0),e.achievements[93]>.5&&e.prestigeShards.gte(f.pow(10,o.crystalUpgradesCost[2]+o.crystalUpgradeCostIncrement[2]*Math.floor(Math.pow(e.crystalUpgrades[2]-.5-t,2)/2)))&&Ht(3,!0),e.achievements[100]>.5&&e.prestigeShards.gte(f.pow(10,o.crystalUpgradesCost[3]+o.crystalUpgradeCostIncrement[3]*Math.floor(Math.pow(e.crystalUpgrades[3]-.5-t,2)/2)))&&Ht(4,!0),e.achievements[107]>.5&&e.prestigeShards.gte(f.pow(10,o.crystalUpgradesCost[4]+o.crystalUpgradeCostIncrement[4]*Math.floor(Math.pow(e.crystalUpgrades[4]-.5-t,2)/2)))&&Ht(5,!0),e.toggles[16]&&e.upgrades[94]===1&&e.transcendPoints.gte(e.firstCostMythos)&&ft(1,"Mythos"),e.toggles[17]&&e.upgrades[95]===1&&e.transcendPoints.gte(e.secondCostMythos)&&ft(2,"Mythos"),e.toggles[18]&&e.upgrades[96]===1&&e.transcendPoints.gte(e.thirdCostMythos)&&ft(3,"Mythos"),e.toggles[19]&&e.upgrades[97]===1&&e.transcendPoints.gte(e.fourthCostMythos)&&ft(4,"Mythos"),e.toggles[20]&&e.upgrades[98]===1&&e.transcendPoints.gte(e.fifthCostMythos)&&ft(5,"Mythos"),e.toggles[22]&&e.cubeUpgrades[7]===1&&e.reincarnationPoints.gte(e.firstCostParticles)&&_r(1,!0),e.toggles[23]&&e.cubeUpgrades[7]===1&&e.reincarnationPoints.gte(e.secondCostParticles)&&_r(2,!0),e.toggles[24]&&e.cubeUpgrades[7]===1&&e.reincarnationPoints.gte(e.thirdCostParticles)&&_r(3,!0),e.toggles[25]&&e.cubeUpgrades[7]===1&&e.reincarnationPoints.gte(e.fourthCostParticles)&&_r(4,!0),e.toggles[26]&&e.cubeUpgrades[7]===1&&e.reincarnationPoints.gte(e.fifthCostParticles)&&_r(5,!0),e.researches[175]>0)for(let c=1;c<=10;c++)e.ascendShards.gte(rs(c).pop())&&ns(c,!0);if(e.researches[190]>0&&e.tesseractAutoBuyerToggle===1&&e.resettoggle4<2){let c=[null,null,null,null,null];for(let m=1;m<=5;m++)e.autoTesseracts[m]&&(c[m-1]=e[`ascendBuilding${m}`].owned);let d=Number(e.wowTesseracts)-e.tesseractAutoBuyerAmount,g=yo(c,d);for(let m=5;m>=1;m--){let h=c[m-1],b=g[m-1];h!==null&&b!==null&&b!==h&&$n(m,b-h)}}if(e.researches[130]>0||e.researches[135]>0){let c=[e.achievements[119]>0,e.achievements[126]>0,e.achievements[133]>0,e.achievements[140]>0,e.achievements[147]>0,e.antUpgrades[11]>0||e.ascensionCount>0,e.shopUpgrades.shopTalisman>0],d=!1;if(e.autoEnhanceToggle&&e.researches[135]>0)for(let g=0;g<c.length;++g)c[g]&&e.talismanRarity[g]<6&&(d=_o(g,!0)||d);if(e.autoFortifyToggle&&e.researches[130]>0)for(let g=0;g<c.length;++g){let m=ps(g);c[g]&&e.talismanLevels[g]<m&&(d=Qo(g,!0)||d)}d&&(_t(),Fe())}e.upgrades[101]>.5&&(e.fourthGeneratedCoin=e.fourthGeneratedCoin.add(e.fifthGeneratedCoin.add(e.fifthOwnedCoin).times(o.uFifteenMulti).times(o.generatorPower))),e.upgrades[102]>.5&&(e.thirdGeneratedCoin=e.thirdGeneratedCoin.add(e.fourthGeneratedCoin.add(e.fourthOwnedCoin).times(o.uFourteenMulti).times(o.generatorPower))),e.upgrades[103]>.5&&(e.secondGeneratedCoin=e.secondGeneratedCoin.add(e.thirdGeneratedCoin.add(e.thirdOwnedCoin).times(o.generatorPower))),e.upgrades[104]>.5&&(e.firstGeneratedCoin=e.firstGeneratedCoin.add(e.secondGeneratedCoin.add(e.secondOwnedCoin).times(o.generatorPower))),e.upgrades[105]>.5&&(e.fifthGeneratedCoin=e.fifthGeneratedCoin.add(e.firstOwnedCoin));let r=1;r+=1/100*(e.achievements[71]+e.achievements[72]+e.achievements[73]+e.achievements[74]+e.achievements[75]+e.achievements[76]+e.achievements[77]);let n=0;e.upgrades[106]>.5&&(n+=.1),e.upgrades[107]>.5&&(n+=.15),e.upgrades[108]>.5&&(n+=.25),e.upgrades[109]>.5&&(n+=.25),e.upgrades[110]>.5&&(n+=.25),n*=r;let s=0;if(e.upgrades[111]>.5&&(s+=.08),e.upgrades[112]>.5&&(s+=.08),e.upgrades[113]>.5&&(s+=.08),e.upgrades[114]>.5&&(s+=.08),e.upgrades[115]>.5&&(s+=.08),s*=r,t=0,e.upgrades[116]>.5&&(t+=.05),e.upgrades[117]>.5&&(t+=.05),e.upgrades[118]>.5&&(t+=.05),e.upgrades[119]>.5&&(t+=.05),e.upgrades[120]>.5&&(t+=.05),t*=r,n!==0&&(e.fifthGeneratedCoin=e.fifthGeneratedCoin.add(f.pow(e.firstGeneratedDiamonds.add(e.firstOwnedDiamonds).add(1),n))),s!==0&&(e.fifthGeneratedDiamonds=e.fifthGeneratedDiamonds.add(f.pow(e.firstGeneratedMythos.add(e.firstOwnedMythos).add(1),s))),t!==0&&(e.fifthGeneratedMythos=e.fifthGeneratedMythos.add(f.pow(e.firstGeneratedParticles.add(e.firstOwnedParticles).add(1),t))),e.runeshards>e.maxofferings&&(e.maxofferings=e.runeshards),e.researchPoints>e.maxobtainium&&(e.maxobtainium=e.researchPoints),isNaN(e.runeshards)&&(e.runeshards=0),e.runeshards>1e300&&(e.runeshards=1e300),isNaN(e.researchPoints)&&(e.researchPoints=0),e.researchPoints>1e300&&(e.researchPoints=1e300),o.optimalOfferingTimer=600+30*e.researches[85]+.4*o.rune5level+120*e.shopUpgrades.offeringEX,o.optimalObtainiumTimer=3600+120*e.shopUpgrades.obtainiumEX,Op(),e.autoAscend&&e.challengecompletions[11]>0&&e.cubeUpgrades[10]>0&&e.currentChallenge.reincarnation!==10){let c=!1;if(e.autoAscendMode==="c10Completions"&&e.challengecompletions[10]>=Math.max(1,e.autoAscendThreshold)&&(c=!0),e.autoAscendMode==="realAscensionTime"&&e.ascensionCounterRealReal>=Math.max(.1,e.autoAscendThreshold)&&(c=!0),c&&e.challengecompletions[10]>0)if(Gs()&&e.currentChallenge.ascension!==0&&e.retrychallenges&&e.researches[150]===1&&e.autoChallengeRunning){let d=Ds(e.currentChallenge.ascension+1,!1,11,15);d<=15&&e.currentChallenge.ascension!==d?(Te("ascensionChallenge",!1,!0),e.currentChallenge.ascension=d,Ae("ascensionChallenge",!1)):(d=Ds(e.currentChallenge.ascension+1,!0,11,15),Te("ascensionChallenge",!1,!0),e.currentChallenge.ascension=d<=15?d:0,Ae("ascensionChallenge",!1))}else e.currentChallenge.ascension!==0?(Te("ascensionChallenge",!1,!0),Ae("ascensionChallenge",!1)):Ae("ascension",!1)}let a=null;if(e.researches[175]>0)for(let c=1;c<=10;c++)a=rs(c),e.ascendShards.gte(a[1])&&ns(c,!0);let l=bo();if(l!==o.prevReductionValue){o.prevReductionValue=l;let c=["Coin","Diamonds","Mythos"];for(let d=0;d<c.length;++d){let g=c[d];for(let m=0;m<5;++m){let h=o.ordinals[m];e[`${h}Cost${g}`]=xu(m+1,g,e[`${h}Owned${g}`]+1,l)}}for(let d=0;d<=4;d++){let g=[1,100,1e4,1e8,1e16],m=o.ordinals[d],h=e[`${m}OwnedParticles`]+1;e[`${m}CostParticles`]=new f(f.pow(2,h-1).times(f.pow(1.001,Math.max(0,h-325e3)*Math.max(0,h-325e3+1)/2))).times(g[d])}}if(e.shopUpgrades.challenge15Auto>0&&e.currentChallenge.ascension===15&&e.usedCorruptions.slice(2,10).every(c=>c===11)){let c=ms();e.coins.gte(f.pow(10,e.challenge15Exponent/c))&&(e.challenge15Exponent=f.log(e.coins.add(1),10)*c,fn())}},x0=()=>{Ps(),dc()},M0=()=>{yd(),wd()},k0=()=>{$t(rr,5e3),$t(M0,200),$t(x0,50),o.timeWarp||Ba()},Pc=0,S0=()=>{Pc=performance.now(),$t(A0,5)},lg=5,T0=20,Ti=0,L0=new Date,P0=performance.now(),jo=()=>L0.getTime()+(performance.now()-P0),A0=()=>{let r=performance.now()-Pc;Ti+=(r-Ti)/T0;let n;for(;r>5;)n=lg,n+=Ti>16?Math.min(3600*1e3,Ti-lg):0,n=Math.min(r,n),E0(n/1e3),Pc+=n,r-=n},E0=t=>{if(!o.timeWarp){let r=Qe().mult;if(yc(t*r),Ne("prestige",t),Ne("transcension",t),Ne("reincarnation",t),Ne("ascension",t),Ne("quarks",t),Ne("goldenQuarks",t),Ne("octeracts",t),Ne("singularity",t),Ne("autoPotion",t),Ne("ambrosia",t),e.shopUpgrades.offeringAuto>0&&e.autoSacrificeToggle&&br("runeSacrifice",t),e.achievements[173]===1&&br("antSacrifice",t),e.researches[61]===1?br("addObtainium",t):yr(),e.autoResearchToggle&&e.autoResearch>0&&e.autoResearch<=Kp(e)&&(Vt()||e.autoResearchMode==="manual")){let n=0,s=1+e.challengecompletions[14];for(;n<s&&e.autoResearch>0;){{let a=e.autoResearch===200?.01:0;if(!ar(e.autoResearch,!0,a))break}n++}}}if(e.highestchallengecompletions[3]>0&&br("addOfferings",t/2),e.cubeUpgrades[2]>0&&br("addOfferings",t*e.cubeUpgrades[2]),Fd(t),(e.resettoggle1===1||e.resettoggle1===0)&&e.toggles[15]&&e.achievements[43]===1&&o.prestigePointGain.gte(e.prestigePoints.times(f.pow(10,e.prestigeamount)))&&e.coinsThisPrestige.gte(1e16)&&(kt(1),Ae("prestige",!0)),e.resettoggle1===2){o.autoResetTimers.prestige+=t;let r=Math.max(.01,e.prestigeamount);e.toggles[15]&&e.achievements[43]===1&&o.autoResetTimers.prestige>=r&&e.coinsThisPrestige.gte(1e16)&&(kt(1),Ae("prestige",!0))}if((e.resettoggle2===1||e.resettoggle2===0)&&e.toggles[21]&&e.upgrades[89]===1&&o.transcendPointGain.gte(e.transcendPoints.times(f.pow(10,e.transcendamount)))&&e.coinsThisTranscension.gte(1e100)&&e.currentChallenge.transcension===0&&(kt(2),Ae("transcension",!0)),e.resettoggle2===2){o.autoResetTimers.transcension+=t;let r=Math.max(.01,e.transcendamount);e.toggles[21]&&e.upgrades[89]===1&&o.autoResetTimers.transcension>=r&&e.coinsThisTranscension.gte(1e100)&&e.currentChallenge.transcension===0&&(kt(2),Ae("transcension",!0))}if(e.currentChallenge.ascension!==12){if(o.autoResetTimers.reincarnation+=t,e.resettoggle3===2){let r=Math.max(.01,e.reincarnationamount);e.toggles[27]&&e.researches[46]>.5&&e.transcendShards.gte("1e300")&&o.autoResetTimers.reincarnation>=r&&e.currentChallenge.transcension===0&&e.currentChallenge.reincarnation===0&&(kt(3),Ae("reincarnation",!0))}(e.resettoggle3===1||e.resettoggle3===0)&&e.toggles[27]&&e.researches[46]>.5&&o.reincarnationPointGain.gte(e.reincarnationPoints.add(1).times(f.pow(10,e.reincarnationamount)))&&e.transcendShards.gte(1e300)&&e.currentChallenge.transcension===0&&e.currentChallenge.reincarnation===0&&(kt(3),Ae("reincarnation",!0))}Ar("reincarnation")},Np=(t,r)=>{if(!e.toggles[40])return;let s={coin:"Coin",diamond:"Diamonds",mythos:"Mythos",particle:"Particles",tesseract:"Tesseracts"}[o.buildingSubTab];if(t.shiftKey){let a=Number(r)-1;r==="BACKQUOTE"&&(a=-1),e.challengecompletions[11]>0&&!isNaN(a)&&(a>=0&&a<e.corruptionLoadoutNames.length?(e.toggles[41]&&Zn(u.t("main.corruptionLoadoutApplied",{x:a+1,y:e.corruptionLoadoutNames[a]}),5e3),Ua(!1,a+1)):(e.toggles[41]&&Zn(u.t("main.allCorruptionsZero"),5e3),Ua(!1,0)),t.preventDefault());return}switch(r){case"1":case"2":case"3":case"4":case"5":{let a=Number(r);o.currentTab===0&&(s==="Particles"?_r(a):s==="Tesseracts"?$n(a):ft(a,s)),o.currentTab===1&&ts(a,!1),o.currentTab===3&&(o.runescreen==="runes"&&qn(a),o.runescreen==="blessings"&&fa("Blessings",a),o.runescreen==="spirits"&&fa("Spirits",a)),o.currentTab===4&&(ir(a),lt(a));break}case"6":o.currentTab===1&&ts(6,!1),o.currentTab===0&&o.buildingSubTab==="diamond"&&Ht(1),o.currentTab===4&&e.reincarnationCount>0&&(ir(6),lt(6));break;case"7":o.currentTab===0&&o.buildingSubTab==="diamond"&&Ht(2),o.currentTab===4&&e.achievements[113]===1&&(ir(7),lt(7));break;case"8":o.currentTab===0&&o.buildingSubTab==="diamond"&&Ht(3),o.currentTab===4&&e.achievements[120]===1&&(ir(8),lt(8));break;case"9":o.currentTab===0&&o.buildingSubTab==="diamond"&&Ht(4),o.currentTab===4&&e.achievements[127]===1&&(ir(9),lt(9));break;case"0":o.currentTab===0&&o.buildingSubTab==="diamond"&&Ht(5),o.currentTab===4&&e.achievements[134]===1&&(ir(10),lt(10));break}},U0=()=>{let t=i("exitOffline");t.style.visibility="visible",Ls(()=>t.focus(),100)},Fl=async(t=!1)=>{var l,c,d;Tp();let r=Ls(()=>i("preloadDeleteGame").style.display="block",1e4);ci(),await new Promise(g=>{Ls(g,0)});let n=(l=await Qs.default.getItem("Synergysave2"))!=null?l:localStorage.getItem("Synergysave2"),s=typeof n=="string"?n:await(n==null?void 0:n.text());if(s){let g=cg.default.decompressFromBase64(s);if(g!==""){if(!g)return O(u.t("save.loadFailed"));let h=ua(g);if(h===null)return O(u.t("save.loadFailed"));localStorage.clear();let b=new Blob([h],{type:"text/plain"});localStorage.setItem("Synergysave2",h),await Qs.default.setItem("Synergysave2",b),await O(u.t("main.transferredFromLZ"))}await f0()}if(!t)await gc();else if(e.worlds.reset(),ws.canSave&&!await rr())return;if(uo(!0),uu(),po(),oc(),dc(),S0(),O0()?(Br(10),O(u.t("general.exportYourGame"))):Br(0),$e(0,{page:0}),$e(3,{page:0}),$e(7,{page:0}),$e(8,{page:0}),$e(9,{page:0}),$e(10,{page:0}),bc(),$t(bc,3e4),k0(),di(),Tl().catch(()=>{}).finally(()=>{$t(()=>Tl().catch(g=>{console.error(g)}),15e3)}),U0(),jl(r),$t(xi,15e3),localStorage.getItem("pleaseStar")===null&&(O(u.t("main.starRepo")),localStorage.setItem("pleaseStar","")),typeof((c=navigator.storage)==null?void 0:c.persist)=="function"&&typeof((d=navigator.storage)==null?void 0:d.persisted)=="function"){let g=await navigator.storage.persisted();g?console.log(`Storage is persistent! (persistent = ${g})`):await navigator.storage.persist()&&O(u.t("main.dataPersistent"))}let a=i("saveType");a.checked=localStorage.getItem("copyToClipboard")!==null};function O0(){return Date.now()-e.lastExportedSave>864e5*3}window.addEventListener("load",async()=>{await ng();let t=i("versionnumber"),r=n=>`${n}`.padStart(2,"0");if(t instanceof HTMLElement){let n=isNaN(dn.getTime())?"":` [Last Update: ${r(dn.getHours())}:${r(dn.getMinutes())} UTC ${r(dn.getDate())}-${dn.toLocaleString("en-us",{month:"short"})}-${dn.getFullYear()}].`;t.textContent=`You're ${!1?"testing":"playing"} v${Jt} - The Alternate Reality${n} ${!1?u.t("testing.saveInLive"):""}`}document.title=`Synergism v${Jt}`,Jd(),Fl(),fd(),md(),sg().catch(console.error)});window.addEventListener("unload",()=>{window.scrollTo(0,0)});})();
/*! Bundled license information:

clipboard/dist/clipboard.js:
  (*!
   * clipboard.js v2.0.11
   * https://clipboardjs.com/
   *
   * Licensed MIT © Zeno Rocha
   *)

localforage/dist/localforage.js:
  (*!
      localForage -- Offline Storage, Improved
      Version 1.10.0
      https://localforage.github.io/localForage
      (c) 2013-2017 Mozilla, Apache License 2.0
  *)

@ungap/custom-elements/index.js:
  (*! (c) Andrea Giammarchi @webreflection ISC *)
  (*! (c) Andrea Giammarchi - ISC *)
*/
//# sourceMappingURL=out.js.map
